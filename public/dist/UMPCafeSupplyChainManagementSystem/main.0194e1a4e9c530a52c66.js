(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:Rt=>{function it(ge){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+ge+"'");throw c.code="MODULE_NOT_FOUND",c})}it.keys=()=>[],it.resolve=it,it.id=8255,Rt.exports=it},7716:(Rt,it,ge)=>{"use strict";ge.d(it,{deG:()=>Lt,tb:()=>nw,AFp:()=>Kx,ip1:()=>n_,CZH:()=>Ph,hGG:()=>YO,z2F:()=>r_,sBO:()=>Bc,Sil:()=>tu,_Vd:()=>Lc,EJc:()=>iw,SBq:()=>ra,qLn:()=>Na,vpe:()=>fs,gxx:()=>Qu,tBr:()=>ml,XFs:()=>wt,OlP:()=>Ci,zs3:()=>On,ZZ4:()=>by,aQg:()=>xy,soG:()=>ca,YKP:()=>LE,v3s:()=>CO,h0i:()=>Hc,PXZ:()=>vO,R0b:()=>ps,FiY:()=>lo,Lbi:()=>tw,g9A:()=>ew,n_E:()=>Xg,Qsj:()=>CE,FYo:()=>Pg,JOm:()=>As,Tiy:()=>To,q3G:()=>kt,tp0:()=>co,EAV:()=>DO,Rgc:()=>uf,dDg:()=>iM,DyG:()=>rd,q4F:()=>lf,GfV:()=>hx,s_b:()=>Sy,ifc:()=>Ct,eFA:()=>lM,G48:()=>hO,Gpc:()=>Te,f3M:()=>qm,X6Q:()=>ow,_c5:()=>VO,VLi:()=>uO,c2e:()=>UA,zSh:()=>$p,wAp:()=>Yt,vHH:()=>Ke,EiD:()=>cc,mCW:()=>Es,qzn:()=>Oa,JVY:()=>ab,pB0:()=>tv,eBb:()=>ev,L6k:()=>lb,LAX:()=>cb,cg1:()=>Z0,Tjo:()=>FO,kL8:()=>XS,yhl:()=>Jm,dqk:()=>In,sIi:()=>wc,CqO:()=>Qs,QGY:()=>Ze,F4k:()=>lt,RDi:()=>Xh,AaK:()=>Se,z3N:()=>ho,qOj:()=>eh,TTD:()=>Ni,_Bn:()=>lx,xp6:()=>Eb,uIk:()=>Gv,Tol:()=>sy,Gre:()=>Sg,ekj:()=>xg,Suo:()=>$g,Xpm:()=>xi,lG2:()=>Gl,Yz7:()=>mn,cJS:()=>Rn,oAB:()=>uu,Yjl:()=>hu,Y36:()=>Yd,_UZ:()=>ny,GkF:()=>fD,BQk:()=>MS,ynx:()=>iy,qZA:()=>ty,TgZ:()=>ey,EpF:()=>Ds,n5z:()=>Bm,Ikx:()=>cy,LFG:()=>zn,$8M:()=>up,NdJ:()=>mg,CRH:()=>qy,kcU:()=>Jh,O4$:()=>Kh,oxw:()=>Kt,ALo:()=>Vx,lcZ:()=>wf,Hsn:()=>M0,F$t:()=>kS,Q6J:()=>Qv,DdM:()=>uA,VKq:()=>Wg,WLB:()=>Ox,iGM:()=>vA,MAs:()=>xS,pYS:()=>Ed,CHM:()=>yu,oJD:()=>Wo,LSH:()=>mo,kYT:()=>Yh,Udp:()=>bg,WFA:()=>ft,d8E:()=>uy,YNc:()=>g0,W1O:()=>Xy,_uU:()=>LS,Oqu:()=>V0,hij:()=>Ic,Gf:()=>Xc});var c=ge(9765),Be=ge(5319),K=ge(7574),Ie=ge(6682),Ee=ge(8819);function ke(a){for(let l in a)if(a[l]===ke)return l;throw Error("Could not find renamed property on target object.")}function Ve(a,l){for(const f in l)l.hasOwnProperty(f)&&!a.hasOwnProperty(f)&&(a[f]=l[f])}function Se(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Se).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const f=l.indexOf("\n");return-1===f?l:l.substring(0,f)}function Ae(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const me=ke({__forward_ref__:ke});function Te(a){return a.__forward_ref__=Te,a.toString=function(){return Se(this())},a}function he(a){return Ce(a)?a():a}function Ce(a){return"function"==typeof a&&a.hasOwnProperty(me)&&a.__forward_ref__===Te}class Ke extends Error{constructor(l,f){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,f)),this.code=l}}function tt(a){return"string"==typeof a?a:null==a?"":String(a)}function Pe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():tt(a)}function Dn(a,l){const f=l?` in ${l}`:"";throw new Ke("201",`No provider for ${Pe(a)} found${f}`)}function Ft(a,l){null==a&&function(a,l,f,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${f} ${p} ${l} <=Actual]`))}(l,a,null,"!=")}function mn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Rn(a){return{providers:a.providers||[],imports:a.imports||[]}}function fi(a){return er(a,dn)||er(a,Ri)}function er(a,l){return a.hasOwnProperty(l)?a[l]:null}function Oo(a){return a&&(a.hasOwnProperty(an)||a.hasOwnProperty(Oi))?a[an]:null}const dn=ke({\u0275prov:ke}),an=ke({\u0275inj:ke}),Ri=ke({ngInjectableDef:ke}),Oi=ke({ngInjectorDef:ke});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Bn;function si(a){const l=Bn;return Bn=a,l}function vs(a,l,f){const p=fi(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:f&wt.Optional?null:void 0!==l?l:void Dn(Se(a),"Injector")}function Ir(a){return{toString:a}.toString()}var bi=(()=>((bi=bi||{})[bi.OnPush=0]="OnPush",bi[bi.Default=1]="Default",bi))(),Ct=(()=>((Ct=Ct||{})[Ct.Emulated=0]="Emulated",Ct[Ct.None=2]="None",Ct[Ct.ShadowDom=3]="ShadowDom",Ct))();const Qt="undefined"!=typeof globalThis&&globalThis,cu="undefined"!=typeof window&&window,Vs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mr="undefined"!=typeof global&&global,In=Qt||Mr||cu||Vs,we={},be=[],Me=ke({\u0275cmp:ke}),$e=ke({\u0275dir:ke}),Le=ke({\u0275pipe:ke}),gt=ke({\u0275mod:ke}),jt=ke({\u0275loc:ke}),ln=ke({\u0275fac:ke}),En=ke({__NG_ELEMENT_ID__:ke});let An=0;function xi(a){return Ir(()=>{const f={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===bi.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||be,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ct.Emulated,id:"c",styles:a.styles||be,_:null,setInput:null,schemas:a.schemas||null,tView:null},b=a.directives,E=a.features,M=a.pipes;return p.id+=An++,p.inputs=jl(a.inputs,f),p.outputs=jl(a.outputs),E&&E.forEach(O=>O(p)),p.directiveDefs=b?()=>("function"==typeof b?b():b).map(zi):null,p.pipeDefs=M?()=>("function"==typeof M?M():M).map(ys):null,p})}function zi(a){return ji(a)||function(a){return a[$e]||null}(a)}function ys(a){return function(a){return a[Le]||null}(a)}const zl={};function uu(a){return Ir(()=>{const l={type:a.type,bootstrap:a.bootstrap||be,declarations:a.declarations||be,imports:a.imports||be,exports:a.exports||be,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(zl[a.id]=a.type),l})}function Yh(a,l){return Ir(()=>{const f=h(a,!0);f.declarations=l.declarations||be,f.imports=l.imports||be,f.exports=l.exports||be})}function jl(a,l){if(null==a)return we;const f={};for(const p in a)if(a.hasOwnProperty(p)){let b=a[p],E=b;Array.isArray(b)&&(E=b[1],b=b[0]),f[b]=p,l&&(l[b]=E)}return f}const Gl=xi;function hu(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ji(a){return a[Me]||null}function h(a,l){const f=a[gt]||null;if(!f&&!0===l)throw new Error(`Type ${Se(a)} does not have '\u0275mod' property.`);return f}const Y=11,k=16,Z=18;function fn(a){return Array.isArray(a)&&"object"==typeof a[1]}function wi(a){return Array.isArray(a)&&!0===a[1]}function _s(a){return 0!=(8&a.flags)}function oi(a){return 2==(2&a.flags)}function tl(a){return 1==(1&a.flags)}function Rr(a){return null!==a.template}function mr(a){return 0!=(512&a[2])}function Po(a,l){return a.hasOwnProperty(ln)?a[ln]:null}class Kf{constructor(l,f,p){this.previousValue=l,this.currentValue=f,this.firstChange=p}isFirstChange(){return this.firstChange}}function Ni(){return Wh}function Wh(a){return a.type.prototype.ngOnChanges&&(a.setInput=wm),xm}function xm(){const a=Jf(this),l=null==a?void 0:a.current;if(l){const f=a.previous;if(f===we)a.previous=l;else for(let p in l)f[p]=l[p];a.current=null,this.ngOnChanges(l)}}function wm(a,l,f,p){const b=Jf(a)||function(a,l){return a[il]=l}(a,{previous:we,current:null}),E=b.current||(b.current={}),M=b.previous,O=this.declaredInputs[f],B=M[O];E[O]=new Kf(B&&B.currentValue,l,M===we),a[p]=l}Ni.ngInherit=!0;const il="__ngSimpleChanges__";function Jf(a){return a[il]||null}const Hn="http://www.w3.org/2000/svg";let qh;function Xh(a){qh=a}function $h(){return void 0!==qh?qh:"undefined"!=typeof document?document:void 0}function Zn(a){return!!a.listen}const $t={createRenderer:(a,l)=>$h()};function Wn(a){for(;Array.isArray(a);)a=a[0];return a}function Xl(a,l){return Wn(l[a])}function bs(a,l){return Wn(l[a.index])}function ma(a,l){return a.data[l]}function va(a,l){return a[l]}function Or(a,l){const f=l[a];return fn(f)?f:f[0]}function Em(a){return 4==(4&a[2])}function Am(a){return 128==(128&a[2])}function ya(a,l){return null==l?null:a[l]}function tp(a){a[Z]=0}function _a(a,l){a[5]+=l;let f=a,p=a[3];for(;null!==p&&(1===l&&1===f[5]||-1===l&&0===f[5]);)p[5]+=l,f=p,p=p[3]}const Wt={lFrame:ba(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function B_(){return Wt.bindingsEnabled}function st(){return Wt.lFrame.lView}function bn(){return Wt.lFrame.tView}function yu(a){return Wt.lFrame.contextLView=a,a[8]}function li(){let a=_u();for(;null!==a&&64===a.type;)a=a.parent;return a}function _u(){return Wt.lFrame.currentTNode}function vr(a,l){const f=Wt.lFrame;f.currentTNode=a,f.isParent=l}function bu(){return Wt.lFrame.isParent}function xu(){Wt.lFrame.isParent=!1}function sl(){return Wt.isInCheckNoChangesMode}function No(a){Wt.isInCheckNoChangesMode=a}function Di(){const a=Wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function oo(){return Wt.lFrame.bindingIndex++}function xs(a){const l=Wt.lFrame,f=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,f}function Mm(a,l){const f=Wt.lFrame;f.bindingIndex=f.bindingRootIndex=a,Pr(l)}function Pr(a){Wt.lFrame.currentDirectiveIndex=a}function wu(a){const l=Wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Zh(){return Wt.lFrame.currentQueryIndex}function ol(a){Wt.lFrame.currentQueryIndex=a}function km(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ip(a,l,f){if(f&wt.SkipSelf){let b=l,E=a;for(;!(b=b.parent,null!==b||f&wt.Host||(b=km(E),null===b||(E=E[15],10&b.type))););if(null===b)return!1;l=b,a=E}const p=Wt.lFrame=Qh();return p.currentTNode=l,p.lView=a,!0}function al(a){const l=Qh(),f=a[1];Wt.lFrame=l,l.currentTNode=f.firstChild,l.lView=a,l.tView=f,l.contextLView=a,l.bindingIndex=f.bindingStartIndex,l.inI18n=!1}function Qh(){const a=Wt.lFrame,l=null===a?null:a.child;return null===l?ba(a):l}function ba(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Rm(){const a=Wt.lFrame;return Wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const j_=Rm;function Fo(){const a=Rm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Fi(){return Wt.lFrame.selectedIndex}function Hs(a){Wt.lFrame.selectedIndex=a}function mi(){const a=Wt.lFrame;return ma(a.tView,a.selectedIndex)}function Kh(){Wt.lFrame.currentNamespace=Hn}function Jh(){Wt.lFrame.currentNamespace=null}function xa(a,l){for(let f=l.directiveStart,p=l.directiveEnd;f<p;f++){const E=a.data[f].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:O,ngAfterViewInit:B,ngAfterViewChecked:G,ngOnDestroy:Q}=E;M&&(a.contentHooks||(a.contentHooks=[])).push(-f,M),O&&((a.contentHooks||(a.contentHooks=[])).push(f,O),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(f,O)),B&&(a.viewHooks||(a.viewHooks=[])).push(-f,B),G&&((a.viewHooks||(a.viewHooks=[])).push(f,G),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(f,G)),null!=Q&&(a.destroyHooks||(a.destroyHooks=[])).push(f,Q)}}function wa(a,l,f){Ca(a,l,3,f)}function Cu(a,l,f,p){(3&a[2])===f&&Ca(a,l,f,p)}function Su(a,l){let f=a[2];(3&f)===l&&(f&=2047,f+=1,a[2]=f)}function Ca(a,l,f,p){const E=null!=p?p:-1,M=l.length-1;let O=0;for(let B=void 0!==p?65535&a[Z]:0;B<M;B++)if("number"==typeof l[B+1]){if(O=l[B],null!=p&&O>=p)break}else l[B]<0&&(a[Z]+=65536),(O<E||-1==E)&&(Om(a,f,l,B),a[Z]=(4294901760&a[Z])+B+2),B++}function Om(a,l,f,p){const b=f[p]<0,E=f[p+1],O=a[b?-f[p]:f[p]];if(b){if(a[2]>>11<a[Z]>>16&&(3&a[2])===l){a[2]+=2048;try{E.call(O)}finally{}}}else try{E.call(O)}finally{}}class Zl{constructor(l,f,p){this.factory=l,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=p}}function op(a,l,f){const p=Zn(a);let b=0;for(;b<f.length;){const E=f[b];if("number"==typeof E){if(0!==E)break;b++;const M=f[b++],O=f[b++],B=f[b++];p?a.setAttribute(l,O,B,M):l.setAttributeNS(M,O,B)}else{const M=E,O=f[++b];Us(M)?p&&a.setProperty(l,M,O):p?a.setAttribute(l,M,O):l.setAttribute(M,O),b++}}return b}function Nm(a){return 3===a||4===a||6===a}function Us(a){return 64===a.charCodeAt(0)}function Au(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let f=-1;for(let p=0;p<l.length;p++){const b=l[p];"number"==typeof b?f=b:0===f||Fm(a,f,b,null,-1===f||2===f?l[++p]:null)}}return a}function Fm(a,l,f,p,b){let E=0,M=a.length;if(-1===l)M=-1;else for(;E<a.length;){const O=a[E++];if("number"==typeof O){if(O===l){M=-1;break}if(O>l){M=E-1;break}}}for(;E<a.length;){const O=a[E];if("number"==typeof O)break;if(O===f){if(null===p)return void(null!==b&&(a[E+1]=b));if(p===a[E+1])return void(a[E+2]=b)}E++,null!==p&&E++,null!==b&&E++}-1!==M&&(a.splice(M,0,l),E=M+1),a.splice(E++,0,f),null!==p&&a.splice(E++,0,p),null!==b&&a.splice(E++,0,b)}function ed(a){return-1!==a}function ll(a){return 32767&a}function Tu(a,l){let f=function(a){return a>>16}(a),p=l;for(;f>0;)p=p[15],f--;return p}let Lm=!0;function cl(a){const l=Lm;return Lm=a,l}let hC=0;function Ql(a,l){const f=nd(a,l);if(-1!==f)return f;const p=l[1];p.firstCreatePass&&(a.injectorIndex=l.length,lp(p.data,a),lp(l,null),lp(p.blueprint,null));const b=Tn(a,l),E=a.injectorIndex;if(ed(b)){const M=ll(b),O=Tu(b,l),B=O[1].data;for(let G=0;G<8;G++)l[E+G]=O[M+G]|B[M+G]}return l[E+8]=b,E}function lp(a,l){a.push(0,0,0,0,0,0,0,0,l)}function nd(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Tn(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let f=0,p=null,b=l;for(;null!==b;){const E=b[1],M=E.type;if(p=2===M?E.declTNode:1===M?b[6]:null,null===p)return-1;if(f++,b=b[15],-1!==p.injectorIndex)return p.injectorIndex|f<<16}return-1}function Lo(a,l,f){!function(a,l,f){let p;"string"==typeof f?p=f.charCodeAt(0)||0:f.hasOwnProperty(En)&&(p=f[En]),null==p&&(p=f[En]=hC++);const b=255&p;l.data[a+(b>>5)]|=1<<b}(a,l,f)}function Mt(a,l,f){if(f&wt.Optional)return a;Dn(l,"NodeInjector")}function ws(a,l,f,p){if(f&wt.Optional&&void 0===p&&(p=null),0==(f&(wt.Self|wt.Host))){const b=a[9],E=si(void 0);try{return b?b.get(l,p,f&wt.Optional):vs(l,p,f&wt.Optional)}finally{si(E)}}return Mt(p,l,f)}function Pt(a,l,f,p=wt.Default,b){if(null!==a){const E=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(En)?a[En]:void 0;return"number"==typeof l?l>=0?255&l:ei:l}(f);if("function"==typeof E){if(!ip(l,a,p))return p&wt.Host?Mt(b,f,p):ws(l,f,p,b);try{const M=E(p);if(null!=M||p&wt.Optional)return M;Dn(f)}finally{j_()}}else if("number"==typeof E){let M=null,O=nd(a,l),B=-1,G=p&wt.Host?l[k][6]:null;for((-1===O||p&wt.SkipSelf)&&(B=-1===O?Tn(a,l):l[O+8],-1!==B&&ao(p,!1)?(M=l[1],O=ll(B),l=Tu(B,l)):O=-1);-1!==O;){const Q=l[1];if(tr(E,O,Q.data)){const re=_r(O,l,f,M,p,G);if(re!==cp)return re}B=l[O+8],-1!==B&&ao(p,l[1].data[O+8]===G)&&tr(E,O,l)?(M=Q,O=ll(B),l=Tu(B,l)):O=-1}}}return ws(l,f,p,b)}const cp={};function ei(){return new Jl(li(),st())}function _r(a,l,f,p,b,E){const M=l[1],O=M.data[a+8],Q=Qn(O,M,f,null==p?oi(O)&&Lm:p!=M&&0!=(3&O.type),b&wt.Host&&E===O);return null!==Q?Kl(l,M,Q,O):cp}function Qn(a,l,f,p,b){const E=a.providerIndexes,M=l.data,O=1048575&E,B=a.directiveStart,Q=E>>20,le=b?O+Q:a.directiveEnd;for(let _e=p?O:O+Q;_e<le;_e++){const De=M[_e];if(_e<B&&f===De||_e>=B&&De.type===f)return _e}if(b){const _e=M[B];if(_e&&Rr(_e)&&_e.type===f)return B}return null}function Kl(a,l,f,p){let b=a[f];const E=l.data;if(function(a){return a instanceof Zl}(b)){const M=b;M.resolving&&function(a,l){throw new Ke("200",`Circular dependency in DI detected for ${a}`)}(Pe(E[f]));const O=cl(M.canSeeViewProviders);M.resolving=!0;const B=M.injectImpl?si(M.injectImpl):null;ip(a,p,wt.Default);try{b=a[f]=M.factory(void 0,E,a,p),l.firstCreatePass&&f>=p.directiveStart&&function(a,l,f){const{ngOnChanges:p,ngOnInit:b,ngDoCheck:E}=l.type.prototype;if(p){const M=Wh(l);(f.preOrderHooks||(f.preOrderHooks=[])).push(a,M),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(a,M)}b&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-a,b),E&&((f.preOrderHooks||(f.preOrderHooks=[])).push(a,E),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(a,E))}(f,E[f],l)}finally{null!==B&&si(B),cl(O),M.resolving=!1,j_()}}return b}function tr(a,l,f){return!!(f[l+(a>>5)]&1<<a)}function ao(a,l){return!(a&wt.Self||a&wt.Host&&l)}class Jl{constructor(l,f){this._tNode=l,this._lView=f}get(l,f){return Pt(this._tNode,this._lView,l,void 0,f)}}function Bm(a){return Ir(()=>{const l=a.prototype.constructor,f=l[ln]||ec(l),p=Object.prototype;let b=Object.getPrototypeOf(a.prototype).constructor;for(;b&&b!==p;){const E=b[ln]||ec(b);if(E&&E!==f)return E;b=Object.getPrototypeOf(b)}return E=>new E})}function ec(a){return Ce(a)?()=>{const l=ec(he(a));return l&&l()}:Po(a)}function up(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const f=a.attrs;if(f){const p=f.length;let b=0;for(;b<p;){const E=f[b];if(Nm(E))break;if(0===E)b+=2;else if("number"==typeof E)for(b++;b<p&&"string"==typeof f[b];)b++;else{if(E===l)return f[b+1];b+=2}}}return null}(li(),a)}const ul="__parameters__";function Ea(a,l,f){return Ir(()=>{const p=function(a){return function(...f){if(a){const p=a(...f);for(const b in p)this[b]=p[b]}}}(l);function b(...E){if(this instanceof b)return p.apply(this,E),this;const M=new b(...E);return O.annotation=M,O;function O(B,G,Q){const re=B.hasOwnProperty(ul)?B[ul]:Object.defineProperty(B,ul,{value:[]})[ul];for(;re.length<=Q;)re.push(null);return(re[Q]=re[Q]||[]).push(M),B}}return f&&(b.prototype=Object.create(f.prototype)),b.prototype.ngMetadataName=a,b.annotationCls=b,b})}class Ci{constructor(l,f){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=mn({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lt=new Ci("AnalyzeForEntryComponents"),rd=Function;function Un(a,l){void 0===l&&(l=a);for(let f=0;f<a.length;f++){let p=a[f];Array.isArray(p)?(l===a&&(l=a.slice(0,f)),Un(p,l)):l!==a&&l.push(p)}return l}function nr(a,l){a.forEach(f=>Array.isArray(f)?nr(f,l):l(f))}function Aa(a,l,f){l>=a.length?a.push(f):a.splice(l,0,f)}function Ta(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Da(a,l){const f=[];for(let p=0;p<a;p++)f.push(l);return f}function Vi(a,l,f){let p=Ho(a,l);return p>=0?a[1|p]=f:(p=~p,function(a,l,f,p){let b=a.length;if(b==l)a.push(f,p);else if(1===b)a.push(p,a[0]),a[0]=f;else{for(b--,a.push(a[b-1],a[b]);b>l;)a[b]=a[b-2],b--;a[l]=f,a[l+1]=p}}(a,p,l,f)),p}function Bo(a,l){const f=Ho(a,l);if(f>=0)return a[1|f]}function Ho(a,l){return function(a,l,f){let p=0,b=a.length>>f;for(;b!==p;){const E=p+(b-p>>1),M=a[E<<f];if(l===M)return E<<f;M>l?b=E:p=E+1}return~(b<<f)}(a,l,1)}const ku={},cd="__NG_DI_FLAG__",dl="ngTempTokenPath",pp=/\n/gm,gp="__source",Ou=ke({provide:String,useValue:ke});let fl;function Uo(a){const l=fl;return fl=a,l}function Pu(a,l=wt.Default){if(void 0===fl)throw new Error("inject() must be called from an injection context");return null===fl?vs(a,void 0,l):fl.get(a,l&wt.Optional?null:void 0,l)}function zn(a,l=wt.Default){return(Bn||Pu)(he(a),l)}const qm=zn;function pl(a){const l=[];for(let f=0;f<a.length;f++){const p=he(a[f]);if(Array.isArray(p)){if(0===p.length)throw new Error("Arguments array must have arguments.");let b,E=wt.Default;for(let M=0;M<p.length;M++){const O=p[M],B=Xm(O);"number"==typeof B?-1===B?b=O.token:E|=B:b=O}l.push(zn(b,E))}else l.push(zn(p))}return l}function zo(a,l){return a[cd]=l,a.prototype[cd]=l,a}function Xm(a){return a[cd]}function $m(a,l,f,p){const b=a[dl];throw l[gp]&&b.unshift(l[gp]),a.message=function(a,l,f,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let b=Se(l);if(Array.isArray(l))b=l.map(Se).join(" -> ");else if("object"==typeof l){let E=[];for(let M in l)if(l.hasOwnProperty(M)){let O=l[M];E.push(M+":"+("string"==typeof O?JSON.stringify(O):Se(O)))}b=`{${E.join(", ")}}`}return`${f}${p?"("+p+")":""}[${b}]: ${a.replace(pp,"\n  ")}`}("\n"+a.message,b,f,p),a.ngTokenPath=b,a[dl]=null,a}const ml=zo(Ea("Inject",a=>({token:a})),-1),lo=zo(Ea("Optional"),8),co=zo(Ea("SkipSelf"),4);let Vr,gd;function ir(a){var l;return(null===(l=function(){if(void 0===Vr&&(Vr=null,In.trustedTypes))try{Vr=In.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Vr}())||void 0===l?void 0:l.createHTML(a))||a}function Qm(a){var l;return(null===(l=function(){if(void 0===gd&&(gd=null,In.trustedTypes))try{gd=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return gd}())||void 0===l?void 0:l.createHTML(a))||a}class uo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ob extends uo{getTypeName(){return"HTML"}}class Km extends uo{getTypeName(){return"Style"}}class Go extends uo{getTypeName(){return"Script"}}class Lu extends uo{getTypeName(){return"URL"}}class Ra extends uo{getTypeName(){return"ResourceURL"}}function ho(a){return a instanceof uo?a.changingThisBreaksApplicationSecurity:a}function Oa(a,l){const f=Jm(a);if(null!=f&&f!==l){if("ResourceURL"===f&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===l}function Jm(a){return a instanceof uo&&a.getTypeName()||null}function ab(a){return new ob(a)}function lb(a){return new Km(a)}function ev(a){return new Go(a)}function cb(a){return new Lu(a)}function tv(a){return new Ra(a)}class _p{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const f=(new window.DOMParser).parseFromString(ir(l),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(l):(f.removeChild(f.firstChild),f)}catch(f){return null}}}class nv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);const p=this.inertDocument.createElement("body");f.appendChild(p)}}getInertBodyElement(l){const f=this.inertDocument.createElement("template");if("content"in f)return f.innerHTML=ir(l),f;const p=this.inertDocument.createElement("body");return p.innerHTML=ir(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(l){const f=l.attributes;for(let b=f.length-1;0<b;b--){const M=f.item(b).name;("xmlns:ns1"===M||0===M.indexOf("ns1:"))&&l.removeAttribute(M)}let p=l.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const hb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,on=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Es(a){return(a=String(a)).match(hb)||a.match(on)?a:"unsafe:"+a}function ns(a){const l={};for(const f of a.split(","))l[f]=!0;return l}function fo(...a){const l={};for(const f of a)for(const p in f)f.hasOwnProperty(p)&&(l[p]=!0);return l}const iv=ns("area,br,col,hr,img,wbr"),yl=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rv=ns("rp,rt"),_l=fo(iv,fo(yl,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fo(rv,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fo(rv,yl)),md=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ei=ns("srcset"),vd=fo(md,Ei,ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),av=ns("script,style,template");class bp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let f=l.firstChild,p=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?p=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,p&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let b=this.checkClobberedElement(f,f.nextSibling);if(b){f=b;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(l){const f=l.nodeName.toLowerCase();if(!_l.hasOwnProperty(f))return this.sanitizedSomething=!0,!av.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const p=l.attributes;for(let b=0;b<p.length;b++){const E=p.item(b),M=E.name,O=M.toLowerCase();if(!vd.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let B=E.value;md[O]&&(B=Es(B)),Ei[O]&&(a=B,B=(a=String(a)).split(",").map(l=>Es(l.trim())).join(", ")),this.buf.push(" ",M,'="',cv(B),'"')}var a;return this.buf.push(">"),!0}endElement(l){const f=l.nodeName.toLowerCase();_l.hasOwnProperty(f)&&!iv.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(l){this.buf.push(cv(l))}checkClobberedElement(l,f){if(f&&(l.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return f}}const lv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xp=/([^\#-~ |!])/g;function cv(a){return a.replace(/&/g,"&amp;").replace(lv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(xp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function cc(a,l){let f=null;try{cr=cr||function(a){const l=new nv(a);return function(){try{return!!(new window.DOMParser).parseFromString(ir(""),"text/html")}catch(a){return!1}}()?new _p(l):l}(a);let p=l?String(l):"";f=cr.getInertBodyElement(p);let b=5,E=p;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,p=E,E=f.innerHTML,f=cr.getInertBodyElement(p)}while(p!==E);return ir((new bp).sanitizeChildren(is(f)||f))}finally{if(f){const p=is(f)||f;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function is(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var kt=(()=>((kt=kt||{})[kt.NONE=0]="NONE",kt[kt.HTML=1]="HTML",kt[kt.STYLE=2]="STYLE",kt[kt.SCRIPT=3]="SCRIPT",kt[kt.URL=4]="URL",kt[kt.RESOURCE_URL=5]="RESOURCE_URL",kt))();function Wo(a){const l=uc();return l?Qm(l.sanitize(kt.HTML,a)||""):Oa(a,"HTML")?Qm(ho(a)):cc($h(),tt(a))}function mo(a){const l=uc();return l?l.sanitize(kt.URL,a)||"":Oa(a,"URL")?ho(a):Es(tt(a))}function uc(){const a=st();return a&&a[12]}const _d="__ngContext__";function rr(a,l){a[_d]=l}function bd(a){const l=function(a){return a[_d]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Cd(a){return a.ngOriginalError}function fv(a,...l){a.error(...l)}class Na{constructor(){this._console=console}handleError(l){const f=this._findOriginalError(l),p=this._findContext(l),b=(a=l)&&a.ngErrorLogger||fv;var a;b(this._console,"ERROR",l),f&&b(this._console,"ORIGINAL ERROR",f),p&&b(this._console,"ERROR CONTEXT",p)}_findContext(l){return l?l.ngDebugContext||this._findContext(Cd(l)):null}_findOriginalError(l){let f=l&&Cd(l);for(;f&&Cd(f);)f=Cd(f);return f||null}}const Op=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(In))();function Ed(a){return a.ownerDocument.body}function yo(a){return a instanceof Function?a():a}var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();function Fa(a,l){return undefined(a,l)}function Va(a){const l=a[3];return wi(l)?l[3]:l}function Gu(a){return yv(a[13])}function _o(a){return yv(a[4])}function yv(a){for(;null!==a&&!wi(a);)a=a[4];return a}function vc(a,l,f,p,b){if(null!=p){let E,M=!1;wi(p)?E=p:fn(p)&&(M=!0,p=p[0]);const O=Wn(p);0===a&&null!==f?null==b?ie(l,f,O):W(l,f,O,b||null,!0):1===a&&null!==f?W(l,f,O,b||null,!0):2===a?function(a,l,f){const p=ye(a,l);p&&function(a,l,f,p){Zn(a)?a.removeChild(l,f,p):l.removeChild(f)}(a,p,l,f)}(l,O,M):3===a&&l.destroyNode(O),null!=E&&function(a,l,f,p,b){const E=f[7];E!==Wn(f)&&vc(l,a,p,E,b);for(let O=10;O<f.length;O++){const B=f[O];qu(B[1],B,a,l,p,E)}}(l,a,E,f,b)}}function bl(a,l,f){return Zn(a)?a.createElement(l,f):null===f?a.createElement(l):a.createElementNS(f,l)}function rs(a,l){const f=a[9],p=f.indexOf(l),b=l[3];1024&l[2]&&(l[2]&=-1025,_a(b,-1)),f.splice(p,1)}function Ad(a,l){if(a.length<=10)return;const f=10+l,p=a[f];if(p){const b=p[17];null!==b&&b!==a&&rs(b,p),l>0&&(a[f-1][4]=p[4]);const E=Ta(a,10+l);!function(a,l){qu(a,l,l[Y],2,null,null),l[0]=null,l[6]=null}(p[1],p);const M=E[19];null!==M&&M.detachView(E[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}function y(a,l){if(!(256&l[2])){const f=l[Y];Zn(f)&&f.destroyNode&&qu(a,l,f,3,null,null),function(a){let l=a[13];if(!l)return v(a[1],a);for(;l;){let f=null;if(fn(l))f=l[13];else{const p=l[10];p&&(f=p)}if(!f){for(;l&&!l[4]&&l!==a;)fn(l)&&v(l[1],l),l=l[3];null===l&&(l=a),fn(l)&&v(l[1],l),f=l&&l[4]}l=f}}(l)}}function v(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let f;if(null!=a&&null!=(f=a.destroyHooks))for(let p=0;p<f.length;p+=2){const b=l[f[p]];if(!(b instanceof Zl)){const E=f[p+1];if(Array.isArray(E))for(let M=0;M<E.length;M+=2){const O=b[E[M]],B=E[M+1];try{B.call(O)}finally{}}else try{E.call(b)}finally{}}}}(a,l),function(a,l){const f=a.cleanup,p=l[7];let b=-1;if(null!==f)for(let E=0;E<f.length-1;E+=2)if("string"==typeof f[E]){const M=f[E+1],O="function"==typeof M?M(l):Wn(l[M]),B=p[b=f[E+2]],G=f[E+3];"boolean"==typeof G?O.removeEventListener(f[E],B,G):G>=0?p[b=G]():p[b=-G].unsubscribe(),E+=2}else{const M=p[b=f[E+1]];f[E].call(M)}if(null!==p){for(let E=b+1;E<p.length;E++)p[E]();l[7]=null}}(a,l),1===l[1].type&&Zn(l[Y])&&l[Y].destroy();const f=l[17];if(null!==f&&wi(l[3])){f!==l[3]&&rs(f,l);const p=l[19];null!==p&&p.detachView(a)}}}function P(a,l,f){return function(a,l,f){let p=l;for(;null!==p&&40&p.type;)p=(l=p).parent;if(null===p)return f[0];if(2&p.flags){const b=a.data[p.directiveStart].encapsulation;if(b===Ct.None||b===Ct.Emulated)return null}return bs(p,f)}(a,l.parent,f)}function W(a,l,f,p,b){Zn(a)?a.insertBefore(l,f,p,b):l.insertBefore(f,p,b)}function ie(a,l,f){Zn(a)?a.appendChild(l,f):l.appendChild(f)}function ae(a,l,f,p,b){null!==p?W(a,l,f,p,b):ie(a,l,f)}function ye(a,l){return Zn(a)?a.parentNode(l):l.parentNode}function Je(a,l,f){return mt(a,l,f)}let mt=function(a,l,f){return 40&a.type?bs(a,f):null};function nn(a,l,f,p){const b=P(a,p,l),E=l[Y],O=Je(p.parent||l[6],p,l);if(null!=b)if(Array.isArray(f))for(let B=0;B<f.length;B++)ae(E,b,f[B],O,!1);else ae(E,b,f,O,!1)}function vi(a,l){if(null!==l){const f=l.type;if(3&f)return bs(l,a);if(4&f)return yc(-1,a[l.index]);if(8&f){const p=l.child;if(null!==p)return vi(a,p);{const b=a[l.index];return wi(b)?yc(-1,b):Wn(b)}}if(32&f)return Fa(l,a)()||Wn(a[l.index]);{const p=ss(a,l);return null!==p?Array.isArray(p)?p[0]:vi(Va(a[k]),p):vi(a,l.next)}}return null}function ss(a,l){return null!==l?a[k][6].projection[l.projection]:null}function yc(a,l){const f=10+a+1;if(f<l.length){const p=l[f],b=p[1].firstChild;if(null!==b)return vi(p,b)}return l[7]}function Ba(a,l,f,p,b,E,M){for(;null!=f;){const O=p[f.index],B=f.type;if(M&&0===l&&(O&&rr(Wn(O),p),f.flags|=4),64!=(64&f.flags))if(8&B)Ba(a,l,f.child,p,b,E,!1),vc(l,a,b,O,E);else if(32&B){const G=Fa(f,p);let Q;for(;Q=G();)vc(l,a,b,Q,E);vc(l,a,b,O,E)}else 16&B?Bp(a,l,p,f,b,E):vc(l,a,b,O,E);f=M?f.projectionNext:f.next}}function qu(a,l,f,p,b,E){Ba(f,p,a.firstChild,l,b,E,!1)}function Bp(a,l,f,p,b,E){const M=f[k],B=M[6].projection[p.projection];if(Array.isArray(B))for(let G=0;G<B.length;G++)vc(l,a,b,B[G],E);else Ba(a,l,B,M[3],b,E,!0)}function _C(a,l,f){Zn(a)?a.setAttribute(l,"style",f):l.style.cssText=f}function Sb(a,l,f){Zn(a)?""===f?a.removeAttribute(l,"class"):a.setAttribute(l,"class",f):l.className=f}function Td(a,l,f){let p=a.length;for(;;){const b=a.indexOf(l,f);if(-1===b)return b;if(0===b||a.charCodeAt(b-1)<=32){const E=l.length;if(b+E===p||a.charCodeAt(b+E)<=32)return b}f=b+1}}const bC="ng-template";function CT(a,l,f){let p=0;for(;p<a.length;){let b=a[p++];if(f&&"class"===b){if(b=a[p],-1!==Td(b.toLowerCase(),l,0))return!0}else if(1===b){for(;p<a.length&&"string"==typeof(b=a[p++]);)if(b.toLowerCase()===l)return!0;return!1}}return!1}function xC(a){return 4===a.type&&a.value!==bC}function ST(a,l,f){return l===(4!==a.type||f?a.value:bC)}function ET(a,l,f){let p=4;const b=a.attrs||[],E=function(a){for(let l=0;l<a.length;l++)if(Nm(a[l]))return l;return a.length}(b);let M=!1;for(let O=0;O<l.length;O++){const B=l[O];if("number"!=typeof B){if(!M)if(4&p){if(p=2|1&p,""!==B&&!ST(a,B,f)||""===B&&1===l.length){if(Xo(p))return!1;M=!0}}else{const G=8&p?B:l[++O];if(8&p&&null!==a.attrs){if(!CT(a.attrs,G,f)){if(Xo(p))return!1;M=!0}continue}const re=AT(8&p?"class":B,b,xC(a),f);if(-1===re){if(Xo(p))return!1;M=!0;continue}if(""!==G){let le;le=re>E?"":b[re+1].toLowerCase();const _e=8&p?le:null;if(_e&&-1!==Td(_e,G,0)||2&p&&G!==le){if(Xo(p))return!1;M=!0}}}}else{if(!M&&!Xo(p)&&!Xo(B))return!1;if(M&&Xo(B))continue;M=!1,p=B|1&p}}return Xo(p)||M}function Xo(a){return 0==(1&a)}function AT(a,l,f,p){if(null===l)return-1;let b=0;if(p||!f){let E=!1;for(;b<l.length;){const M=l[b];if(M===a)return b;if(3===M||6===M)E=!0;else{if(1===M||2===M){let O=l[++b];for(;"string"==typeof O;)O=l[++b];continue}if(4===M)break;if(0===M){b+=4;continue}}b+=E?1:2}return-1}return function(a,l){let f=a.indexOf(4);if(f>-1)for(f++;f<a.length;){const p=a[f];if("number"==typeof p)return-1;if(p===l)return f;f++}return-1}(l,a)}function wC(a,l,f=!1){for(let p=0;p<l.length;p++)if(ET(a,l[p],f))return!0;return!1}function IT(a,l){e:for(let f=0;f<l.length;f++){const p=l[f];if(a.length===p.length){for(let b=0;b<a.length;b++)if(a[b]!==p[b])continue e;return!0}}return!1}function SC(a,l){return a?":not("+l.trim()+")":l}function MT(a){let l=a[0],f=1,p=2,b="",E=!1;for(;f<a.length;){let M=a[f];if("string"==typeof M)if(2&p){const O=a[++f];b+="["+M+(O.length>0?'="'+O+'"':"")+"]"}else 8&p?b+="."+M:4&p&&(b+=" "+M);else""!==b&&!Xo(M)&&(l+=SC(E,b),b=""),p=M,E=E||!Xo(p);f++}return""!==b&&(l+=SC(E,b)),l}const rn={};function Eb(a){Ab(bn(),st(),Fi()+a,sl())}function Ab(a,l,f,p){if(!p)if(3==(3&l[2])){const E=a.preOrderCheckHooks;null!==E&&wa(l,E,f)}else{const E=a.preOrderHooks;null!==E&&Cu(l,E,0,f)}Hs(f)}function Up(a,l){return a<<17|l<<2}function $o(a){return a>>17&32767}function Tb(a){return 2|a}function xl(a){return(131068&a)>>2}function zp(a,l){return-131069&a|l<<2}function Db(a){return 1|a}function PC(a,l){const f=a.contentQueries;if(null!==f)for(let p=0;p<f.length;p+=2){const b=f[p],E=f[p+1];if(-1!==E){const M=a.data[E];ol(b),M.contentQueries(2,l[E],E)}}}function Ev(a,l,f,p,b,E,M,O,B,G){const Q=l.blueprint.slice();return Q[0]=b,Q[2]=140|p,tp(Q),Q[3]=Q[15]=a,Q[8]=f,Q[10]=M||a&&a[10],Q[Y]=O||a&&a[Y],Q[12]=B||a&&a[12]||null,Q[9]=G||a&&a[9]||null,Q[6]=E,Q[k]=2==l.type?a[k]:Q,Q}function Al(a,l,f,p,b){let E=a.data[l];if(null===E)E=function(a,l,f,p,b){const E=_u(),M=bu(),B=a.data[l]=function(a,l,f,p,b,E){return{type:f,index:p,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?E:E&&E.parent,f,l,p,b);return null===a.firstChild&&(a.firstChild=B),null!==E&&(M?null==E.child&&null!==B.parent&&(E.child=B):null===E.next&&(E.next=B)),B}(a,l,f,p,b),Wt.lFrame.inI18n&&(E.flags|=64);else if(64&E.type){E.type=f,E.value=p,E.attrs=b;const M=function(){const a=Wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();E.injectorIndex=null===M?-1:M.injectorIndex}return vr(E,!0),E}function Id(a,l,f,p){if(0===f)return-1;const b=l.length;for(let E=0;E<f;E++)l.push(p),a.blueprint.push(p),a.data.push(null);return b}function Yp(a,l,f){al(l);try{const p=a.viewQuery;null!==p&&Wb(1,p,f);const b=a.template;null!==b&&bc(a,l,b,1,f),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&PC(a,l),a.staticViewQueries&&Wb(2,a.viewQuery,f);const E=a.components;null!==E&&function(a,l){for(let f=0;f<l.length;f++)YC(a,l[f])}(l,E)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{l[2]&=-5,Fo()}}function ce(a,l,f,p){const b=l[2];if(256==(256&b))return;al(l);const E=sl();try{tp(l),function(a){Wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==f&&bc(a,l,f,2,p);const M=3==(3&b);if(!E)if(M){const G=a.preOrderCheckHooks;null!==G&&wa(l,G,null)}else{const G=a.preOrderHooks;null!==G&&Cu(l,G,0,null),Su(l,0)}if(function(a){for(let l=Gu(a);null!==l;l=_o(l)){if(!l[2])continue;const f=l[9];for(let p=0;p<f.length;p++){const b=f[p],E=b[3];0==(1024&b[2])&&_a(E,1),b[2]|=1024}}}(l),function(a){for(let l=Gu(a);null!==l;l=_o(l))for(let f=10;f<l.length;f++){const p=l[f],b=p[1];Am(p)&&ce(b,p,b.template,p[8])}}(l),null!==a.contentQueries&&PC(a,l),!E)if(M){const G=a.contentCheckHooks;null!==G&&wa(l,G)}else{const G=a.contentHooks;null!==G&&Cu(l,G,1),Su(l,1)}!function(a,l){const f=a.hostBindingOpCodes;if(null!==f)try{for(let p=0;p<f.length;p++){const b=f[p];if(b<0)Hs(~b);else{const E=b,M=f[++p],O=f[++p];Mm(M,E),O(2,l[E])}}}finally{Hs(-1)}}(a,l);const O=a.components;null!==O&&function(a,l){for(let f=0;f<l.length;f++)GC(a,l[f])}(l,O);const B=a.viewQuery;if(null!==B&&Wb(2,B,p),!E)if(M){const G=a.viewCheckHooks;null!==G&&wa(l,G)}else{const G=a.viewHooks;null!==G&&Cu(l,G,2),Su(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),E||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,_a(l[3],-1))}finally{Fo()}}function Fn(a,l,f,p){const b=l[10],E=!sl(),M=Em(l);try{E&&!M&&b.begin&&b.begin(),M&&Yp(a,l,p),ce(a,l,f,p)}finally{E&&!M&&b.end&&b.end()}}function bc(a,l,f,p,b){const E=Fi(),M=2&p;try{Hs(-1),M&&l.length>20&&Ab(a,l,20,sl()),f(p,b)}finally{Hs(E)}}function Av(a,l,f){if(_s(l)){const b=l.directiveEnd;for(let E=l.directiveStart;E<b;E++){const M=a.data[E];M.contentQueries&&M.contentQueries(1,f[E],E)}}}function Pb(a,l,f){!B_()||(function(a,l,f,p){const b=f.directiveStart,E=f.directiveEnd;a.firstCreatePass||Ql(f,l),rr(p,l);const M=f.initialInputs;for(let O=b;O<E;O++){const B=a.data[O],G=Rr(B);G&&zC(l,f,B);const Q=Kl(l,a,O,f);rr(Q,l),null!==M&&Hb(0,O-b,Q,B,0,M),G&&(Or(f.index,l)[8]=Q)}}(a,l,f,bs(f,l)),128==(128&f.flags)&&function(a,l,f){const p=f.directiveStart,b=f.directiveEnd,M=f.index,O=Wt.lFrame.currentDirectiveIndex;try{Hs(M);for(let B=p;B<b;B++){const G=a.data[B],Q=l[B];Pr(B),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Vb(G,Q)}}finally{Hs(-1),Pr(O)}}(a,l,f))}function Tv(a,l,f=bs){const p=l.localNames;if(null!==p){let b=l.index+1;for(let E=0;E<p.length;E+=2){const M=p[E+1],O=-1===M?f(l,a):a[M];a[b++]=O}}}function FC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Tt(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Tt(a,l,f,p,b,E,M,O,B,G){const Q=20+p,re=Q+b,le=function(a,l){const f=[];for(let p=0;p<l;p++)f.push(p<a?null:rn);return f}(Q,re),_e="function"==typeof G?G():G;return le[1]={type:a,blueprint:le,template:f,queries:null,viewQuery:O,declTNode:l,data:le.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:B,consts:_e,incompleteFirstPass:!1}}function Md(a,l,f,p){const b=qC(l);null===f?b.push(p):(b.push(f),a.firstCreatePass&&Rd(a).push(p,b.length-1))}function Iv(a,l,f){for(let p in a)if(a.hasOwnProperty(p)){const b=a[p];(f=null===f?{}:f).hasOwnProperty(p)?f[p].push(l,b):f[p]=[l,b]}return f}function Ws(a,l,f,p,b,E,M,O){const B=bs(l,f);let Q,G=l.inputs;!O&&null!=G&&(Q=G[p])?(Xp(a,f,Q,p,b),oi(l)&&function(a,l){const f=Or(l,a);16&f[2]||(f[2]|=64)}(f,l.index)):3&l.type&&(p=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),b=null!=M?M(b,l.value||"",p):b,Zn(E)?E.setProperty(B,p,b):Us(p)||(B.setProperty?B.setProperty(p,b):B[p]=b))}function kv(a,l,f,p){let b=!1;if(B_()){const E=function(a,l,f){const p=a.directiveRegistry;let b=null;if(p)for(let E=0;E<p.length;E++){const M=p[E];wC(f,M.selectors,!1)&&(b||(b=[]),Lo(Ql(f,l),a,M.type),Rr(M)?(Ov(a,f),b.unshift(M)):b.push(M))}return b}(a,l,f),M=null===p?null:{"":-1};if(null!==E){b=!0,Bb(f,a.data.length,E.length);for(let Q=0;Q<E.length;Q++){const re=E[Q];re.providersResolver&&re.providersResolver(re)}let O=!1,B=!1,G=Id(a,l,E.length,null);for(let Q=0;Q<E.length;Q++){const re=E[Q];f.mergedAttrs=Au(f.mergedAttrs,re.hostAttrs),Pv(a,f,l,G,re),UC(G,re,M),null!==re.contentQueries&&(f.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(f.flags|=128);const le=re.type.prototype;!O&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(f.index),O=!0),!B&&(le.ngOnChanges||le.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(f.index),B=!0),G++}!function(a,l){const p=l.directiveEnd,b=a.data,E=l.attrs,M=[];let O=null,B=null;for(let G=l.directiveStart;G<p;G++){const Q=b[G],re=Q.inputs,le=null===E||xC(l)?null:qT(re,E);M.push(le),O=Iv(re,G,O),B=Iv(Q.outputs,G,B)}null!==O&&(O.hasOwnProperty("class")&&(l.flags|=16),O.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=M,l.inputs=O,l.outputs=B}(a,f)}M&&function(a,l,f){if(l){const p=a.localNames=[];for(let b=0;b<l.length;b+=2){const E=f[l[b+1]];if(null==E)throw new Ke("301",`Export of name '${l[b+1]}' not found!`);p.push(l[b],E)}}}(f,p,M)}return f.mergedAttrs=Au(f.mergedAttrs,f.attrs),b}function BC(a,l,f,p,b,E){const M=E.hostBindings;if(M){let O=a.hostBindingOpCodes;null===O&&(O=a.hostBindingOpCodes=[]);const B=~l.index;(function(a){let l=a.length;for(;l>0;){const f=a[--l];if("number"==typeof f&&f<0)return f}return 0})(O)!=B&&O.push(B),O.push(p,b,M)}}function Vb(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Ov(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function UC(a,l,f){if(f){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)f[l.exportAs[p]]=a;Rr(l)&&(f[""]=a)}}function Bb(a,l,f){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+f,a.providerIndexes=l}function Pv(a,l,f,p,b){a.data[p]=b;const E=b.factory||(b.factory=Po(b.type)),M=new Zl(E,Rr(b),null);a.blueprint[p]=M,f[p]=M,BC(a,l,0,p,Id(a,f,b.hostVars,rn),b)}function zC(a,l,f){const p=bs(l,a),b=FC(f),E=a[10],M=kd(a,Ev(a,b,null,f.onPush?64:16,p,l,E,E.createRenderer(p,f),null,null));a[l.index]=M}function Zo(a,l,f,p,b,E){const M=bs(a,l);!function(a,l,f,p,b,E,M){if(null==E)Zn(a)?a.removeAttribute(l,b,f):l.removeAttribute(b);else{const O=null==M?tt(E):M(E,p||"",b);Zn(a)?a.setAttribute(l,b,O,f):f?l.setAttributeNS(f,b,O):l.setAttribute(b,O)}}(l[Y],M,E,a.value,f,p,b)}function Hb(a,l,f,p,b,E){const M=E[l];if(null!==M){const O=p.setInput;for(let B=0;B<M.length;){const G=M[B++],Q=M[B++],re=M[B++];null!==O?p.setInput(f,re,G,Q):f[Q]=re}}}function qT(a,l){let f=null,p=0;for(;p<l.length;){const b=l[p];if(0!==b)if(5!==b){if("number"==typeof b)break;a.hasOwnProperty(b)&&(null===f&&(f=[]),f.push(b,a[b],l[p+1])),p+=2}else p+=2;else p+=4}return f}function Zu(a,l,f,p){return new Array(a,!0,!1,l,null,0,p,f,null,null)}function GC(a,l){const f=Or(l,a);if(Am(f)){const p=f[1];80&f[2]?ce(p,f,p.template,f[8]):f[5]>0&&zb(f)}}function zb(a){for(let p=Gu(a);null!==p;p=_o(p))for(let b=10;b<p.length;b++){const E=p[b];if(1024&E[2]){const M=E[1];ce(M,E,M.template,E[8])}else E[5]>0&&zb(E)}const f=a[1].components;if(null!==f)for(let p=0;p<f.length;p++){const b=Or(f[p],a);Am(b)&&b[5]>0&&zb(b)}}function YC(a,l){const f=Or(l,a),p=f[1];(function(a,l){for(let f=l.length;f<a.blueprint.length;f++)l.push(a.blueprint[f])})(p,f),Yp(p,f,f[8])}function kd(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Wp(a){for(;a;){a[2]|=64;const l=Va(a);if(mr(a)&&!l)return a;a=l}return null}function Yb(a,l,f){const p=l[10];p.begin&&p.begin();try{ce(a,l,a.template,f)}catch(b){throw $C(l,b),b}finally{p.end&&p.end()}}function Lv(a){!function(a){for(let l=0;l<a.components.length;l++){const f=a.components[l],p=bd(f),b=p[1];Fn(b,p,b.template,f)}}(a[8])}function Wb(a,l,f){ol(0),l(a,f)}const qp=(()=>Promise.resolve(null))();function qC(a){return a[7]||(a[7]=[])}function Rd(a){return a.cleanup||(a.cleanup=[])}function XC(a,l,f){return(null===a||Rr(a))&&(f=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(f[l.index])),f[Y]}function $C(a,l){const f=a[9],p=f?f.get(Na,null):null;p&&p.handleError(l)}function Xp(a,l,f,p,b){for(let E=0;E<f.length;){const M=f[E++],O=f[E++],B=l[M],G=a.data[M];null!==G.setInput?G.setInput(B,b,p,O):B[O]=b}}function bo(a,l,f){const p=Xl(l,a);!function(a,l,f){Zn(a)?a.setValue(l,f):l.textContent=f}(a[Y],p,f)}function Od(a,l,f){let p=f?a.styles:null,b=f?a.classes:null,E=0;if(null!==l)for(let M=0;M<l.length;M++){const O=l[M];"number"==typeof O?E=O:1==E?b=Ae(b,O):2==E&&(p=Ae(p,O+": "+l[++M]+";"))}f?a.styles=p:a.stylesWithoutHost=p,f?a.classes=b:a.classesWithoutHost=b}const Qu=new Ci("INJECTOR",-1);class $b{get(l,f=ku){if(f===ku){const p=new Error(`NullInjectorError: No provider for ${Se(l)}!`);throw p.name="NullInjectorError",p}return f}}const $p=new Ci("Set Injector scope."),Pd={},QC={};let Zp;function Zb(){return void 0===Zp&&(Zp=new $b),Zp}function Vv(a,l=null,f=null,p){return new Qb(a,f,l||Zb(),p)}class Qb{constructor(l,f,p,b=null){this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];f&&nr(f,O=>this.processProvider(O,l,f)),nr([l],O=>this.processInjectorType(O,[],E)),this.records.set(Qu,xc(void 0,this));const M=this.records.get($p);this.scope=null!=M?M.value:null,this.source=b||("object"==typeof l?null:Se(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,f=ku,p=wt.Default){this.assertNotDestroyed();const b=Uo(this),E=si(void 0);try{if(!(p&wt.SkipSelf)){let O=this.records.get(l);if(void 0===O){const B=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Ci)&&fi(l);O=B&&this.injectableDefInScope(B)?xc(Qp(l),Pd):null,this.records.set(l,O)}if(null!=O)return this.hydrate(l,O)}return(p&wt.Self?Zb():this.parent).get(l,f=p&wt.Optional&&f===ku?null:f)}catch(M){if("NullInjectorError"===M.name){if((M[dl]=M[dl]||[]).unshift(Se(l)),b)throw M;return $m(M,l,"R3InjectorError",this.source)}throw M}finally{si(E),Uo(b)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((p,b)=>l.push(Se(b))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,f,p){if(!(l=he(l)))return!1;let b=Oo(l);const E=null==b&&l.ngModule||void 0,M=void 0===E?l:E,O=-1!==p.indexOf(M);if(void 0!==E&&(b=Oo(E)),null==b)return!1;if(null!=b.imports&&!O){let Q;p.push(M);try{nr(b.imports,re=>{this.processInjectorType(re,f,p)&&(void 0===Q&&(Q=[]),Q.push(re))})}finally{}if(void 0!==Q)for(let re=0;re<Q.length;re++){const{ngModule:le,providers:_e}=Q[re];nr(_e,De=>this.processProvider(De,le,_e||be))}}this.injectorDefTypes.add(M);const B=Po(M)||(()=>new M);this.records.set(M,xc(B,Pd));const G=b.providers;if(null!=G&&!O){const Q=l;nr(G,re=>this.processProvider(re,Q,G))}return void 0!==E&&void 0!==l.providers}processProvider(l,f,p){let b=Nd(l=he(l))?l:he(l&&l.provide);const E=KC(a=l)?xc(void 0,a.useValue):xc(Kp(a),Pd);var a;if(Nd(l)||!0!==l.multi)this.records.get(b);else{let M=this.records.get(b);M||(M=xc(void 0,Pd,!0),M.factory=()=>pl(M.multi),this.records.set(b,M)),b=l,M.multi.push(l)}this.records.set(b,E)}hydrate(l,f){return f.value===Pd&&(f.value=QC,f.value=f.factory()),"object"==typeof f.value&&f.value&&null!==(a=f.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(f.value),f.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const f=he(l.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function Qp(a){const l=fi(a),f=null!==l?l.factory:Po(a);if(null!==f)return f;if(a instanceof Ci)throw new Error(`Token ${Se(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const p=Da(l,"?");throw new Error(`Can't resolve all parameters for ${Se(a)}: (${p.join(", ")}).`)}const f=function(a){const l=a&&(a[dn]||a[Ri]);if(l){const f=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),l}return null}(a);return null!==f?()=>f.factory(a):()=>new a}(a);throw new Error("unreachable")}function Kp(a,l,f){let p;if(Nd(a)){const b=he(a);return Po(b)||Qp(b)}if(KC(a))p=()=>he(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...pl(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))p=()=>zn(he(a.useExisting));else{const b=he(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Po(b)||Qp(b);p=()=>new b(...pl(a.deps))}return p}function xc(a,l,f=!1){return{factory:a,value:l,multi:f?[]:void 0}}function KC(a){return null!==a&&"object"==typeof a&&Ou in a}function Nd(a){return"function"==typeof a}const nS=function(a,l,f){return function(a,l=null,f=null,p){const b=Vv(a,l,f,p);return b._resolveInjectorDefTypes(),b}({name:f},l,a,f)};class On{static create(l,f){return Array.isArray(l)?nS(l,f,""):nS(l.providers,l.parent,l.name||"")}}function sg(a,l){xa(bd(a)[1],li())}function eh(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),f=!0;const p=[a];for(;l;){let b;if(Rr(a))b=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");b=l.\u0275dir}if(b){if(f){p.push(b);const M=a;M.inputs=ag(a.inputs),M.declaredInputs=ag(a.declaredInputs),M.outputs=ag(a.outputs);const O=b.hostBindings;O&&Vd(a,O);const B=b.viewQuery,G=b.contentQueries;if(B&&rD(a,B),G&&u0(a,G),Ve(a.inputs,b.inputs),Ve(a.declaredInputs,b.declaredInputs),Ve(a.outputs,b.outputs),Rr(b)&&b.data.animation){const Q=a.data;Q.animation=(Q.animation||[]).concat(b.data.animation)}}const E=b.features;if(E)for(let M=0;M<E.length;M++){const O=E[M];O&&O.ngInherit&&O(a),O===eh&&(f=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,f=null;for(let p=a.length-1;p>=0;p--){const b=a[p];b.hostVars=l+=b.hostVars,b.hostAttrs=Au(b.hostAttrs,f=Au(f,b.hostAttrs))}}(p)}function ag(a){return a===we?{}:a===be?[]:a}function rD(a,l){const f=a.viewQuery;a.viewQuery=f?(p,b)=>{l(p,b),f(p,b)}:l}function u0(a,l){const f=a.contentQueries;a.contentQueries=f?(p,b,E)=>{l(p,b,E),f(p,b,E)}:l}function Vd(a,l){const f=a.hostBindings;a.hostBindings=f?(p,b)=>{l(p,b),f(p,b)}:l}On.THROW_IF_NOT_FOUND=ku,On.NULL=new $b,On.\u0275prov=mn({token:On,providedIn:"any",factory:()=>zn(Qu)}),On.__NG_ELEMENT_ID__=-1;let zv=null;function xo(){if(!zv){const a=In.Symbol;if(a&&a.iterator)zv=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<l.length;++f){const p=l[f];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(zv=p)}}}return zv}class Ts{constructor(l){this.wrapped=l}static wrap(l){return new Ts(l)}static unwrap(l){return Ts.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof Ts}}function wc(a){return!!ti(a)&&(Array.isArray(a)||!(a instanceof Map)&&xo()in a)}function ti(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Xs(a,l,f){return a[l]=f}function zr(a,l,f){return!Object.is(a[l],f)&&(a[l]=f,!0)}function Gv(a,l,f,p){const b=st();return zr(b,oo(),l)&&(bn(),Zo(mi(),b,a,l,f,p)),Gv}function Hd(a,l,f,p){return zr(a,oo(),f)?l+tt(f)+p:rn}function g0(a,l,f,p,b,E,M,O){const B=st(),G=bn(),Q=a+20,re=G.firstCreatePass?function(a,l,f,p,b,E,M,O,B){const G=l.consts,Q=Al(l,a,4,M||null,ya(G,O));kv(l,f,Q,ya(G,B)),xa(l,Q);const re=Q.tViews=Tt(2,Q,p,b,E,l.directiveRegistry,l.pipeRegistry,null,l.schemas,G);return null!==l.queries&&(l.queries.template(l,Q),re.queries=l.queries.embeddedTView(Q)),Q}(Q,G,B,l,f,p,b,E,M):G.data[Q];vr(re,!1);const le=B[Y].createComment("");nn(G,B,le,re),rr(le,B),kd(B,B[Q]=Zu(le,B,le,re)),tl(re)&&Pb(G,B,re),null!=M&&Tv(B,re,O)}function xS(a){return va(Wt.lFrame.contextLView,20+a)}function Yd(a,l=wt.Default){const f=st();return null===f?zn(a,l):Pt(li(),f,he(a),l)}function Qv(a,l,f){const p=st();return zr(p,oo(),l)&&Ws(bn(),mi(),p,a,l,p[Y],f,!1),Qv}function Kv(a,l,f,p,b){const M=b?"class":"style";Xp(a,f,l.inputs[M],M,p)}function ey(a,l,f,p){const b=st(),E=bn(),M=20+a,O=b[Y],B=b[M]=bl(O,l,Wt.lFrame.currentNamespace),G=E.firstCreatePass?function(a,l,f,p,b,E,M){const O=l.consts,G=Al(l,a,2,b,ya(O,E));return kv(l,f,G,ya(O,M)),null!==G.attrs&&Od(G,G.attrs,!1),null!==G.mergedAttrs&&Od(G,G.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,G),G}(M,E,b,0,l,f,p):E.data[M];vr(G,!0);const Q=G.mergedAttrs;null!==Q&&op(O,B,Q);const re=G.classes;null!==re&&Sb(O,B,re);const le=G.styles;null!==le&&_C(O,B,le),64!=(64&G.flags)&&nn(E,b,B,G),0===Wt.lFrame.elementDepthCount&&rr(B,b),Wt.lFrame.elementDepthCount++,tl(G)&&(Pb(E,b,G),Av(E,G,b)),null!==p&&Tv(b,G)}function ty(){let a=li();bu()?xu():(a=a.parent,vr(a,!1));const l=a;Wt.lFrame.elementDepthCount--;const f=bn();f.firstCreatePass&&(xa(f,a),_s(a)&&f.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Kv(f,l,st(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Kv(f,l,st(),l.stylesWithoutHost,!1)}function ny(a,l,f,p){ey(a,l,f,p),ty()}function iy(a,l,f){const p=st(),b=bn(),E=a+20,M=b.firstCreatePass?function(a,l,f,p,b){const E=l.consts,M=ya(E,p),O=Al(l,a,8,"ng-container",M);return null!==M&&Od(O,M,!0),kv(l,f,O,ya(E,b)),null!==l.queries&&l.queries.elementStart(l,O),O}(E,b,p,l,f):b.data[E];vr(M,!0);const O=p[E]=p[Y].createComment("");nn(b,p,O,M),rr(O,p),tl(M)&&(Pb(b,p,M),Av(b,M,p)),null!=f&&Tv(p,M)}function MS(){let a=li();const l=bn();bu()?xu():(a=a.parent,vr(a,!1)),l.firstCreatePass&&(xa(l,a),_s(a)&&l.queries.elementEnd(a))}function fD(a,l,f){iy(a,l,f),MS()}function Ds(){return st()}function Ze(a){return!!a&&"function"==typeof a.then}function lt(a){return!!a&&"function"==typeof a.subscribe}const Qs=lt;function mg(a,l,f,p){const b=st(),E=bn(),M=li();return qd(E,b,b[Y],M,a,l,!!f,p),mg}function ft(a,l){const f=li(),p=st(),b=bn();return qd(b,p,XC(wu(b.data),f,p),f,a,l,!1),ft}function qd(a,l,f,p,b,E,M,O){const B=tl(p),Q=a.firstCreatePass&&Rd(a),re=l[8],le=qC(l);let _e=!0;if(3&p.type||O){const He=bs(p,l),ut=O?O(He):He,et=le.length,Nt=O?Zt=>O(Wn(Zt[p.index])):p.index;if(Zn(f)){let Zt=null;if(!O&&B&&(Zt=function(a,l,f,p){const b=a.cleanup;if(null!=b)for(let E=0;E<b.length-1;E+=2){const M=b[E];if(M===f&&b[E+1]===p){const O=l[7],B=b[E+2];return O.length>B?O[B]:null}"string"==typeof M&&(E+=2)}return null}(a,l,b,p.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=E,Zt.__ngLastListenerFn__=E,_e=!1;else{E=Bt(p,l,re,E,!1);const vn=f.listen(ut,b,E);le.push(E,vn),Q&&Q.push(b,Nt,et,et+1)}}else E=Bt(p,l,re,E,!0),ut.addEventListener(b,E,M),le.push(E),Q&&Q.push(b,Nt,et,M)}else E=Bt(p,l,re,E,!1);const De=p.outputs;let Xe;if(_e&&null!==De&&(Xe=De[b])){const He=Xe.length;if(He)for(let ut=0;ut<He;ut+=2){const or=l[Xe[ut]][Xe[ut+1]].subscribe(E),Ns=le.length;le.push(E,or),Q&&Q.push(b,p.index,Ns,-(Ns+1))}}}function ry(a,l,f,p){try{return!1!==f(p)}catch(b){return $C(a,b),!1}}function Bt(a,l,f,p,b){return function E(M){if(M===Function)return p;const O=2&a.flags?Or(a.index,l):l;0==(32&l[2])&&Wp(O);let B=ry(l,0,p,M),G=E.__ngNextListenerFn__;for(;G;)B=ry(l,0,G,M)&&B,G=G.__ngNextListenerFn__;return b&&!1===B&&(M.preventDefault(),M.returnValue=!1),B}}function Kt(a=1){return function(a){return(Wt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Wt.lFrame.contextLView))[8]}(a)}function _t(a,l){let f=null;const p=function(a){const l=a.attrs;if(null!=l){const f=l.indexOf(5);if(0==(1&f))return l[f+1]}return null}(a);for(let b=0;b<l.length;b++){const E=l[b];if("*"!==E){if(null===p?wC(a,E,!0):IT(p,E))return b}else f=b}return f}function kS(a){const l=st()[k][6];if(!l.projection){const p=l.projection=Da(a?a.length:1,null),b=p.slice();let E=l.child;for(;null!==E;){const M=a?_t(E,a):0;null!==M&&(b[M]?b[M].projectionNext=E:p[M]=E,b[M]=E),E=E.next}}}function M0(a,l=0,f){const p=st(),b=bn(),E=Al(b,20+a,16,null,f||null);null===E.projection&&(E.projection=l),xu(),64!=(64&E.flags)&&function(a,l,f){Bp(l[Y],0,l,f,P(a,f,l),Je(f.parent||l[6],f,l))}(b,p,E)}function jr(a,l,f,p,b){const E=a[f+1],M=null===l;let O=p?$o(E):xl(E),B=!1;for(;0!==O&&(!1===B||M);){const Q=a[O+1];pD(a[O],l)&&(B=!0,a[O+1]=p?Db(Q):Tb(Q)),O=p?$o(Q):xl(Q)}B&&(a[f+1]=p?Tb(E):Db(E))}function pD(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ho(a,l)>=0}const ni={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hi(a){return a.substring(ni.key,ni.keyEnd)}function F0(a,l){const f=ni.textEnd;return f===l?-1:(l=ni.keyEnd=function(a,l,f){for(;l<f&&a.charCodeAt(l)>32;)l++;return l}(a,ni.key=l,f),ch(a,l,f))}function ch(a,l,f){for(;l<f&&a.charCodeAt(l)<=32;)l++;return l}function bg(a,l,f){return Co(a,l,f,!1),bg}function xg(a,l){return Co(a,l,null,!0),xg}function sy(a){Is(Vi,ta,a,!0)}function ta(a,l){for(let f=function(a){return function(a){ni.key=0,ni.keyEnd=0,ni.value=0,ni.valueEnd=0,ni.textEnd=a.length}(a),F0(a,ch(a,0,ni.textEnd))}(l);f>=0;f=F0(l,f))Vi(a,Hi(l),!0)}function Co(a,l,f,p){const b=st(),E=bn(),M=xs(2);E.firstUpdatePass&&Ms(E,a,M,p),l!==rn&&zr(b,M,l)&&PS(E,E.data[Fi()],b,b[Y],a,b[M+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Se(ho(a)))),a}(l,f),p,M)}function Is(a,l,f,p){const b=bn(),E=xs(2);b.firstUpdatePass&&Ms(b,null,E,p);const M=st();if(f!==rn&&zr(M,E,f)){const O=b.data[Fi()];if(FS(O,p)&&!Zd(b,E)){let B=p?O.classesWithoutHost:O.stylesWithoutHost;null!==B&&(f=Ae(B,f||"")),Kv(b,O,M,f,p)}else!function(a,l,f,p,b,E,M,O){b===rn&&(b=be);let B=0,G=0,Q=0<b.length?b[0]:null,re=0<E.length?E[0]:null;for(;null!==Q||null!==re;){const le=B<b.length?b[B+1]:void 0,_e=G<E.length?E[G+1]:void 0;let Xe,De=null;Q===re?(B+=2,G+=2,le!==_e&&(De=re,Xe=_e)):null===re||null!==Q&&Q<re?(B+=2,De=Q):(G+=2,De=re,Xe=_e),null!==De&&PS(a,l,f,p,De,Xe,M,O),Q=B<b.length?b[B]:null,re=G<E.length?E[G]:null}}(b,O,M,M[Y],M[E+1],M[E+1]=function(a,l,f){if(null==f||""===f)return be;const p=[],b=ho(f);if(Array.isArray(b))for(let E=0;E<b.length;E++)a(p,b[E],!0);else if("object"==typeof b)for(const E in b)b.hasOwnProperty(E)&&a(p,E,b[E]);else"string"==typeof b&&l(p,b);return p}(a,l,f),p,E)}}function Zd(a,l){return l>=a.expandoStartIndex}function Ms(a,l,f,p){const b=a.data;if(null===b[f+1]){const E=b[Fi()],M=Zd(a,f);FS(E,p)&&null===l&&!M&&(l=!1),l=function(a,l,f,p){const b=wu(a);let E=p?l.residualClasses:l.residualStyles;if(null===b)0===(p?l.classBindings:l.styleBindings)&&(f=Dc(f=dh(null,a,l,f,p),l.attrs,p),E=null);else{const M=l.directiveStylingLast;if(-1===M||a[M]!==b)if(f=dh(b,a,l,f,p),null===E){let B=function(a,l,f){const p=f?l.classBindings:l.styleBindings;if(0!==xl(p))return a[$o(p)]}(a,l,p);void 0!==B&&Array.isArray(B)&&(B=dh(null,a,l,B[1],p),B=Dc(B,l.attrs,p),function(a,l,f,p){a[$o(f?l.classBindings:l.styleBindings)]=p}(a,l,p,B))}else E=function(a,l,f){let p;const b=l.directiveEnd;for(let E=1+l.directiveStylingLast;E<b;E++)p=Dc(p,a[E].hostAttrs,f);return Dc(p,l.attrs,f)}(a,l,p)}return void 0!==E&&(p?l.residualClasses=E:l.residualStyles=E),f}(b,E,l,p),function(a,l,f,p,b,E){let M=E?l.classBindings:l.styleBindings,O=$o(M),B=xl(M);a[p]=f;let Q,G=!1;if(Array.isArray(f)){const re=f;Q=re[1],(null===Q||Ho(re,Q)>0)&&(G=!0)}else Q=f;if(b)if(0!==B){const le=$o(a[O+1]);a[p+1]=Up(le,O),0!==le&&(a[le+1]=zp(a[le+1],p)),a[O+1]=function(a,l){return 131071&a|l<<17}(a[O+1],p)}else a[p+1]=Up(O,0),0!==O&&(a[O+1]=zp(a[O+1],p)),O=p;else a[p+1]=Up(B,0),0===O?O=p:a[B+1]=zp(a[B+1],p),B=p;G&&(a[p+1]=Tb(a[p+1])),jr(a,Q,p,!0),jr(a,Q,p,!1),function(a,l,f,p,b){const E=b?a.residualClasses:a.residualStyles;null!=E&&"string"==typeof l&&Ho(E,l)>=0&&(f[p+1]=Db(f[p+1]))}(l,Q,a,p,E),M=Up(O,B),E?l.classBindings=M:l.styleBindings=M}(b,E,l,f,M,p)}}function dh(a,l,f,p,b){let E=null;const M=f.directiveEnd;let O=f.directiveStylingLast;for(-1===O?O=f.directiveStart:O++;O<M&&(E=l[O],p=Dc(p,E.hostAttrs,b),E!==a);)O++;return null!==a&&(f.directiveStylingLast=O),p}function Dc(a,l,f){const p=f?1:2;let b=-1;if(null!==l)for(let E=0;E<l.length;E++){const M=l[E];"number"==typeof M?b=M:b===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Vi(a,M,!!f||l[++E]))}return void 0===a?null:a}function PS(a,l,f,p,b,E,M,O){if(!(3&l.type))return;const B=a.data,G=B[O+1];wg(function(a){return 1==(1&a)}(G)?NS(B,l,f,b,xl(G),M):void 0)||(wg(E)||function(a){return 2==(2&a)}(G)&&(E=NS(B,null,f,b,O,M)),function(a,l,f,p,b){const E=Zn(a);if(l)b?E?a.addClass(f,p):f.classList.add(p):E?a.removeClass(f,p):f.classList.remove(p);else{let M=-1===p.indexOf("-")?void 0:As.DashCase;if(null==b)E?a.removeStyle(f,p,M):f.style.removeProperty(p);else{const O="string"==typeof b&&b.endsWith("!important");O&&(b=b.slice(0,-10),M|=As.Important),E?a.setStyle(f,p,b,M):f.style.setProperty(p,b,O?"important":"")}}}(p,M,Xl(Fi(),f),b,E))}function NS(a,l,f,p,b,E){const M=null===l;let O;for(;b>0;){const B=a[b],G=Array.isArray(B),Q=G?B[1]:B,re=null===Q;let le=f[b+1];le===rn&&(le=re?be:void 0);let _e=re?Bo(le,p):Q===p?le:void 0;if(G&&!wg(_e)&&(_e=Bo(B,p)),wg(_e)&&(O=_e,M))return O;const De=a[b+1];b=M?$o(De):xl(De)}if(null!==l){let B=E?l.residualClasses:l.residualStyles;null!=B&&(O=Bo(B,p))}return O}function wg(a){return void 0!==a}function FS(a,l){return 0!=(a.flags&(l?16:32))}function LS(a,l=""){const f=st(),p=bn(),b=a+20,E=p.firstCreatePass?Al(p,b,1,l,null):p.data[b],M=f[b]=function(a,l){return Zn(a)?a.createText(l):a.createTextNode(l)}(f[Y],l);nn(p,f,M,E),vr(E,!1)}function V0(a){return Ic("",a,""),V0}function Ic(a,l,f){const p=st(),b=Hd(p,a,l,f);return b!==rn&&bo(p,Fi(),b),Ic}function Sg(a,l,f){Is(Vi,ta,Hd(st(),a,l,f),!0)}function cy(a,l,f){const p=st();return zr(p,oo(),l)&&Ws(bn(),mi(),p,a,l,p[Y],f,!0),cy}function uy(a,l,f){const p=st();if(zr(p,oo(),l)){const E=bn(),M=mi();Ws(E,M,p,a,l,XC(wu(E.data),M,p),f,!0)}return uy}const na=void 0;var Gr=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let Dl={};function Z0(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let f=Q0(l);if(f)return f;const p=l.split("-")[0];if(f=Q0(p),f)return f;if("en"===p)return Gr;throw new Error(`Missing locale data for the locale "${a}".`)}function XS(a){return Z0(a)[Yt.PluralCase]}function Q0(a){return a in Dl||(Dl[a]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[a]),Dl[a]}var Yt=(()=>((Yt=Yt||{})[Yt.LocaleId=0]="LocaleId",Yt[Yt.DayPeriodsFormat=1]="DayPeriodsFormat",Yt[Yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yt[Yt.DaysFormat=3]="DaysFormat",Yt[Yt.DaysStandalone=4]="DaysStandalone",Yt[Yt.MonthsFormat=5]="MonthsFormat",Yt[Yt.MonthsStandalone=6]="MonthsStandalone",Yt[Yt.Eras=7]="Eras",Yt[Yt.FirstDayOfWeek=8]="FirstDayOfWeek",Yt[Yt.WeekendRange=9]="WeekendRange",Yt[Yt.DateFormat=10]="DateFormat",Yt[Yt.TimeFormat=11]="TimeFormat",Yt[Yt.DateTimeFormat=12]="DateTimeFormat",Yt[Yt.NumberSymbols=13]="NumberSymbols",Yt[Yt.NumberFormats=14]="NumberFormats",Yt[Yt.CurrencyCode=15]="CurrencyCode",Yt[Yt.CurrencySymbol=16]="CurrencySymbol",Yt[Yt.CurrencyName=17]="CurrencyName",Yt[Yt.Currencies=18]="Currencies",Yt[Yt.Directionality=19]="Directionality",Yt[Yt.PluralCase=20]="PluralCase",Yt[Yt.ExtraData=21]="ExtraData",Yt))();const Tg="en-US";let K0=Tg;function hy(a){Ft(a,"Expected localeId to be defined"),"string"==typeof a&&(K0=a.toLowerCase().replace(/_/g,"-"))}function ht(a,l,f,p,b){if(a=he(a),Array.isArray(a))for(let E=0;E<a.length;E++)ht(a[E],l,f,p,b);else{const E=bn(),M=st();let O=Nd(a)?a:he(a.provide),B=Kp(a);const G=li(),Q=1048575&G.providerIndexes,re=G.directiveStart,le=G.providerIndexes>>20;if(Nd(a)||!a.multi){const _e=new Zl(B,b,Yd),De=ox(O,l,b?Q:Q+le,re);-1===De?(Lo(Ql(G,M),E,O),py(E,a,l.length),l.push(O),G.directiveStart++,G.directiveEnd++,b&&(G.providerIndexes+=1048576),f.push(_e),M.push(_e)):(f[De]=_e,M[De]=_e)}else{const _e=ox(O,l,Q+le,re),De=ox(O,l,Q,Q+le),Xe=_e>=0&&f[_e],He=De>=0&&f[De];if(b&&!He||!b&&!Xe){Lo(Ql(G,M),E,O);const ut=function(a,l,f,p,b){const E=new Zl(a,f,Yd);return E.multi=[],E.index=l,E.componentProviders=0,bh(E,b,p&&!f),E}(b?xh:kg,f.length,b,p,B);!b&&He&&(f[De].providerFactory=ut),py(E,a,l.length,0),l.push(O),G.directiveStart++,G.directiveEnd++,b&&(G.providerIndexes+=1048576),f.push(ut),M.push(ut)}else py(E,a,_e>-1?_e:De,bh(f[b?De:_e],B,!b&&p));!b&&p&&He&&f[De].componentProviders++}}}function py(a,l,f,p){const b=Nd(l);if(b||function(a){return!!a.useClass}(l)){const M=(l.useClass||l).prototype.ngOnDestroy;if(M){const O=a.destroyHooks||(a.destroyHooks=[]);if(!b&&l.multi){const B=O.indexOf(f);-1===B?O.push(f,[p,M]):O[B+1].push(p,M)}else O.push(f,M)}}}function bh(a,l,f){return f&&a.componentProviders++,a.multi.push(l)-1}function ox(a,l,f,p){for(let b=f;b<p;b++)if(l[b]===a)return b;return-1}function kg(a,l,f,p){return ax(this.multi,[])}function xh(a,l,f,p){const b=this.multi;let E;if(this.providerFactory){const M=this.providerFactory.componentProviders,O=Kl(f,f[1],this.providerFactory.index,p);E=O.slice(0,M),ax(b,E);for(let B=M;B<O.length;B++)E.push(O[B])}else E=[],ax(b,E);return E}function ax(a,l){for(let f=0;f<a.length;f++)l.push((0,a[f])());return l}function lx(a,l=[]){return f=>{f.providersResolver=(p,b)=>function(a,l,f){const p=bn();if(p.firstCreatePass){const b=Rr(a);ht(f,p.data,p.blueprint,b,!0),ht(l,p.data,p.blueprint,b,!1)}}(p,b?b(a):a,l)}}class ux{}const gy="ngComponent";class my{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${Se(a)}. Did you add it to @NgModule.entryComponents?`);return l[gy]=a,l}(l)}}class Lc{}function of(...a){}function ia(a,l){return new ra(bs(a,l))}Lc.NULL=new my;const Og=function(){return ia(li(),st())};let ra=(()=>{class a{constructor(f){this.nativeElement=f}}return a.__NG_ELEMENT_ID__=Og,a})();function yy(a){return a instanceof ra?a.nativeElement:a}class Pg{}let CE=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>ND(),a})();const ND=function(){const a=st(),f=Or(li().index,a);return function(a){return a[Y]}(fn(f)?f:a)};let To=(()=>{class a{}return a.\u0275prov=mn({token:a,providedIn:"root",factory:()=>null}),a})();class hx{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const lf=new hx("12.2.1");class TE{constructor(){}supports(l){return wc(l)}create(l){return new cf(l)}}const DE=(a,l)=>l;class cf{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||DE}forEachItem(l){let f;for(f=this._itHead;null!==f;f=f._next)l(f)}forEachOperation(l){let f=this._itHead,p=this._removalsHead,b=0,E=null;for(;f||p;){const M=!p||f&&f.currentIndex<Sh(p,b,E)?f:p,O=Sh(M,b,E),B=M.currentIndex;if(M===p)b--,p=p._nextRemoved;else if(f=f._next,null==M.previousIndex)b++;else{E||(E=[]);const G=O-b,Q=B-b;if(G!=Q){for(let le=0;le<G;le++){const _e=le<E.length?E[le]:E[le]=0,De=_e+le;Q<=De&&De<G&&(E[le]=_e+1)}E[M.previousIndex]=Q-G}}O!==B&&l(M,O,B)}}forEachPreviousItem(l){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)l(f)}forEachAddedItem(l){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)l(f)}forEachMovedItem(l){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)l(f)}forEachRemovedItem(l){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)l(f)}forEachIdentityChange(l){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)l(f)}diff(l){if(null==l&&(l=[]),!wc(l))throw new Error(`Error trying to diff '${Se(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let b,E,M,f=this._itHead,p=!1;if(Array.isArray(l)){this.length=l.length;for(let O=0;O<this.length;O++)E=l[O],M=this._trackByFn(O,E),null!==f&&Object.is(f.trackById,M)?(p&&(f=this._verifyReinsertion(f,E,M,O)),Object.is(f.item,E)||this._addIdentityChange(f,E)):(f=this._mismatch(f,E,M,O),p=!0),f=f._next}else b=0,function(a,l){if(Array.isArray(a))for(let f=0;f<a.length;f++)l(a[f]);else{const f=a[xo()]();let p;for(;!(p=f.next()).done;)l(p.value)}}(l,O=>{M=this._trackByFn(b,O),null!==f&&Object.is(f.trackById,M)?(p&&(f=this._verifyReinsertion(f,O,M,b)),Object.is(f.item,O)||this._addIdentityChange(f,O)):(f=this._mismatch(f,O,M,b),p=!0),f=f._next,b++}),this.length=b;return this._truncate(f),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,f,p,b){let E;return null===l?E=this._itTail:(E=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(l.item,f)||this._addIdentityChange(l,f),this._reinsertAfter(l,E,b)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(p,b))?(Object.is(l.item,f)||this._addIdentityChange(l,f),this._moveAfter(l,E,b)):l=this._addAfter(new IE(f,p),E,b),l}_verifyReinsertion(l,f,p,b){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==E?l=this._reinsertAfter(E,l._prev,b):l.currentIndex!=b&&(l.currentIndex=b,this._addToMoves(l,b)),l}_truncate(l){for(;null!==l;){const f=l._next;this._addToRemovals(this._unlink(l)),l=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,f,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const b=l._prevRemoved,E=l._nextRemoved;return null===b?this._removalsHead=E:b._nextRemoved=E,null===E?this._removalsTail=b:E._prevRemoved=b,this._insertAfter(l,f,p),this._addToMoves(l,p),l}_moveAfter(l,f,p){return this._unlink(l),this._insertAfter(l,f,p),this._addToMoves(l,p),l}_addAfter(l,f,p){return this._insertAfter(l,f,p),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,f,p){const b=null===f?this._itHead:f._next;return l._next=b,l._prev=f,null===b?this._itTail=l:b._prev=l,null===f?this._itHead=l:f._next=l,null===this._linkedRecords&&(this._linkedRecords=new ME),this._linkedRecords.put(l),l.currentIndex=p,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const f=l._prev,p=l._next;return null===f?this._itHead=p:f._next=p,null===p?this._itTail=f:p._prev=f,l}_addToMoves(l,f){return l.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ME),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,f){return l.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class IE{constructor(l,f){this.item=l,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _y{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,f){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===f||f<=p.currentIndex)&&Object.is(p.trackById,l))return p;return null}remove(l){const f=l._prevDup,p=l._nextDup;return null===f?this._head=p:f._nextDup=p,null===p?this._tail=f:p._prevDup=f,null===this._head}}class ME{constructor(){this.map=new Map}put(l){const f=l.trackById;let p=this.map.get(f);p||(p=new _y,this.map.set(f,p)),p.add(l)}get(l,f){const b=this.map.get(l);return b?b.get(l,f):null}remove(l){const f=l.trackById;return this.map.get(f).remove(l)&&this.map.delete(f),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sh(a,l,f){const p=a.previousIndex;if(null===p)return p;let b=0;return f&&p<f.length&&(b=f[p]),p+l+b}class dx{constructor(){}supports(l){return l instanceof Map||ti(l)}create(){return new Vc}}class Vc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let f;for(f=this._mapHead;null!==f;f=f._next)l(f)}forEachPreviousItem(l){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)l(f)}forEachChangedItem(l){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)l(f)}forEachAddedItem(l){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)l(f)}forEachRemovedItem(l){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)l(f)}diff(l){if(l){if(!(l instanceof Map||ti(l)))throw new Error(`Error trying to diff '${Se(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(l,(p,b)=>{if(f&&f.key===b)this._maybeAddToChanges(f,p),this._appendAfter=f,f=f._next;else{const E=this._getOrCreateRecordForKey(b,p);f=this._insertBeforeOrAppend(f,E)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let p=f;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,f){if(l){const p=l._prev;return f._next=l,f._prev=p,l._prev=f,p&&(p._next=f),l===this._mapHead&&(this._mapHead=f),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(l,f){if(this._records.has(l)){const b=this._records.get(l);this._maybeAddToChanges(b,f);const E=b._prev,M=b._next;return E&&(E._next=M),M&&(M._prev=E),b._next=null,b._prev=null,b}const p=new Eh(l);return this._records.set(l,p),p.currentValue=f,this._addToAdditions(p),p}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,f){Object.is(f,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=f,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,f){l instanceof Map?l.forEach(f):Object.keys(l).forEach(p=>f(l[p],p))}}class Eh{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fx(){return new by([new TE])}let by=(()=>{class a{constructor(f){this.factories=f}static create(f,p){if(null!=p){const b=p.factories.slice();f=f.concat(b)}return new a(f)}static extend(f){return{provide:a,useFactory:p=>a.create(f,p||fx()),deps:[[a,new co,new lo]]}}find(f){const p=this.factories.find(b=>b.supports(f));if(null!=p)return p;throw new Error(`Cannot find a differ supporting object '${f}' of type '${function(a){return a.name||typeof a}(f)}'`)}}return a.\u0275prov=mn({token:a,providedIn:"root",factory:fx}),a})();function kE(){return new xy([new dx])}let xy=(()=>{class a{constructor(f){this.factories=f}static create(f,p){if(p){const b=p.factories.slice();f=f.concat(b)}return new a(f)}static extend(f){return{provide:a,useFactory:p=>a.create(f,p||kE()),deps:[[a,new co,new lo]]}}find(f){const p=this.factories.find(b=>b.supports(f));if(p)return p;throw new Error(`Cannot find a differ supporting object '${f}'`)}}return a.\u0275prov=mn({token:a,providedIn:"root",factory:kE}),a})();function Ah(a,l,f,p,b=!1){for(;null!==f;){const E=l[f.index];if(null!==E&&p.push(Wn(E)),wi(E))for(let O=10;O<E.length;O++){const B=E[O],G=B[1].firstChild;null!==G&&Ah(B[1],B,G,p)}const M=f.type;if(8&M)Ah(a,l,f.child,p);else if(32&M){const O=Fa(f,l);let B;for(;B=O();)p.push(B)}else if(16&M){const O=ss(l,f);if(Array.isArray(O))p.push(...O);else{const B=Va(l[k]);Ah(B[1],B,O,p,!0)}}f=b?f.projectionNext:f.next}return p}class Wa{constructor(l,f){this._lView=l,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,f=l[1];return Ah(f,l,f.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(wi(l)){const f=l[8],p=f?f.indexOf(this):-1;p>-1&&(Ad(l,p),Ta(f,p))}this._attachedToViewContainer=!1}y(this._lView[1],this._lView)}onDestroy(l){Md(this._lView[1],this._lView,null,l)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,f){No(!0);try{Yb(a,l,f)}finally{No(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,qu(this._lView[1],l=this._lView,l[Y],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class RE extends Wa{constructor(l){super(l),this._view=l}detectChanges(){Lv(this._view)}checkNoChanges(){!function(a){No(!0);try{Lv(a)}finally{No(!1)}}(this._view)}get context(){return null}}const OE=function(a){return function(a,l,f){if(oi(a)&&!f){const p=Or(a.index,l);return new Wa(p,p)}return 47&a.type?new Wa(l[k],l):null}(li(),st(),16==(16&a))};let Bc=(()=>{class a{}return a.__NG_ELEMENT_ID__=OE,a})();const PE=[new dx],BD=new by([new TE]),Ng=new xy(PE),HD=function(){return Fg(li(),st())};let uf=(()=>{class a{}return a.__NG_ELEMENT_ID__=HD,a})();const UD=uf,FE=class extends UD{constructor(l,f,p){super(),this._declarationLView=l,this._declarationTContainer=f,this.elementRef=p}createEmbeddedView(l){const f=this._declarationTContainer.tViews,p=Ev(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null);p[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(p[19]=E.createEmbeddedView(f)),Yp(f,p,l),new Wa(p)}};function Fg(a,l){return 4&a.type?new FE(l,a,ia(a,l)):null}class Hc{}class LE{}const BE=function(){return HE(li(),st())};let Sy=(()=>{class a{}return a.__NG_ELEMENT_ID__=BE,a})();const df=Sy,Lg=class extends df{constructor(l,f,p){super(),this._lContainer=l,this._hostTNode=f,this._hostLView=p}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new Jl(this._hostTNode,this._hostLView)}get parentInjector(){const l=Tn(this._hostTNode,this._hostLView);if(ed(l)){const f=Tu(l,this._hostLView),p=ll(l);return new Jl(f[1].data[p+8],f)}return new Jl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const f=gx(this._lContainer);return null!==f&&f[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,f,p){const b=l.createEmbeddedView(f||{});return this.insert(b,p),b}createComponent(l,f,p,b,E){const M=p||this.parentInjector;if(!E&&null==l.ngModule&&M){const B=M.get(Hc,null);B&&(E=B)}const O=l.create(M,b,void 0,E);return this.insert(O.hostView,f),O}insert(l,f){const p=l._lView,b=p[1];if(wi(p[3])){const Q=this.indexOf(l);if(-1!==Q)this.detach(Q);else{const re=p[3],le=new Lg(re,re[6],re[3]);le.detach(le.indexOf(l))}}const E=this._adjustIndex(f),M=this._lContainer;!function(a,l,f,p){const b=10+p,E=f.length;p>0&&(f[b-1][4]=l),p<E-10?(l[4]=f[b],Aa(f,10+p,l)):(f.push(l),l[4]=null),l[3]=f;const M=l[17];null!==M&&f!==M&&function(a,l){const f=a[9];l[k]!==l[3][3][k]&&(a[2]=!0),null===f?a[9]=[l]:f.push(l)}(M,l);const O=l[19];null!==O&&O.insertView(a),l[2]|=128}(b,p,M,E);const O=yc(E,M),B=p[Y],G=ye(B,M[7]);return null!==G&&function(a,l,f,p,b,E){p[0]=b,p[6]=l,qu(a,p,f,1,b,E)}(b,M[6],B,p,G,O),l.attachToViewContainerRef(),Aa(Ey(M),E,l),l}move(l,f){return this.insert(l,f)}indexOf(l){const f=gx(this._lContainer);return null!==f?f.indexOf(l):-1}remove(l){const f=this._adjustIndex(l,-1),p=Ad(this._lContainer,f);p&&(Ta(Ey(this._lContainer),f),y(p[1],p))}detach(l){const f=this._adjustIndex(l,-1),p=Ad(this._lContainer,f);return p&&null!=Ta(Ey(this._lContainer),f)?new Wa(p):null}_adjustIndex(l,f=0){return null==l?this.length+f:l}};function gx(a){return a[8]}function Ey(a){return a[8]||(a[8]=[])}function HE(a,l){let f;const p=l[a.index];if(wi(p))f=p;else{let b;if(8&a.type)b=Wn(p);else{const E=l[Y];b=E.createComment("");const M=bs(a,l);W(E,ye(E,M),b,function(a,l){return Zn(a)?a.nextSibling(l):l.nextSibling}(E,M),!1)}l[a.index]=f=Zu(p,l,b,a),kd(l,f)}return new Lg(f,a,l)}const xf={};class By extends Lc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const f=ji(l);return new sA(f,this.ngModule)}}function kx(a){const l=[];for(let f in a)a.hasOwnProperty(f)&&l.push({propName:a[f],templateName:f});return l}const xI=new Ci("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Op});class sA extends ux{constructor(l,f){super(),this.componentDef=l,this.ngModule=f,this.componentType=l.type,this.selector=l.selectors.map(MT).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return kx(this.componentDef.inputs)}get outputs(){return kx(this.componentDef.outputs)}create(l,f,p,b){const E=(b=b||this.ngModule)?function(a,l){return{get:(f,p,b)=>{const E=a.get(f,xf,b);return E!==xf||p===xf?E:l.get(f,p,b)}}}(l,b.injector):l,M=E.get(Pg,$t),O=E.get(To,null),B=M.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",Q=p?function(a,l,f){if(Zn(a))return a.selectRootElement(l,f===Ct.ShadowDom);let p="string"==typeof l?a.querySelector(l):l;return p.textContent="",p}(B,p,this.componentDef.encapsulation):bl(M.createRenderer(null,this.componentDef),G,function(a){const l=a.toLowerCase();return"svg"===l?Hn:"math"===l?"http://www.w3.org/1998/MathML/":null}(G)),re=this.componentDef.onPush?576:528,le=function(a,l){return{components:[],scheduler:a||Op,clean:qp,playerHandler:l||null,flags:0}}(),_e=Tt(0,null,null,1,0,null,null,null,null,null),De=Ev(null,_e,le,re,null,null,M,B,O,E);let Xe,He;al(De);try{const ut=function(a,l,f,p,b,E){const M=f[1];f[20]=a;const B=Al(M,20,2,"#host",null),G=B.mergedAttrs=l.hostAttrs;null!==G&&(Od(B,G,!0),null!==a&&(op(b,a,G),null!==B.classes&&Sb(b,a,B.classes),null!==B.styles&&_C(b,a,B.styles)));const Q=p.createRenderer(a,l),re=Ev(f,FC(l),null,l.onPush?64:16,f[20],B,p,Q,E||null,null);return M.firstCreatePass&&(Lo(Ql(B,f),M,l.type),Ov(M,B),Bb(B,f.length,1)),kd(f,re),f[20]=re}(Q,this.componentDef,De,M,B);if(Q)if(p)op(B,Q,["ng-version",lf.full]);else{const{attrs:et,classes:Nt}=function(a){const l=[],f=[];let p=1,b=2;for(;p<a.length;){let E=a[p];if("string"==typeof E)2===b?""!==E&&l.push(E,a[++p]):8===b&&f.push(E);else{if(!Xo(b))break;b=E}p++}return{attrs:l,classes:f}}(this.componentDef.selectors[0]);et&&op(B,Q,et),Nt&&Nt.length>0&&Sb(B,Q,Nt.join(" "))}if(He=ma(_e,20),void 0!==f){const et=He.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const Zt=f[Nt];et.push(null!=Zt?Array.from(Zt):null)}}Xe=function(a,l,f,p,b){const E=f[1],M=function(a,l,f){const p=li();a.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),Pv(a,p,l,Id(a,l,1,null),f));const b=Kl(l,a,p.directiveStart,p);rr(b,l);const E=bs(p,l);return E&&rr(E,l),b}(E,f,l);if(p.components.push(M),a[8]=M,b&&b.forEach(B=>B(M,l)),l.contentQueries){const B=li();l.contentQueries(1,M,B.directiveStart)}const O=li();return!E.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Hs(O.index),BC(f[1],O,0,O.directiveStart,O.directiveEnd,l),Vb(l,M)),M}(ut,this.componentDef,De,le,[sg]),Yp(_e,De,null)}finally{Fo()}return new oA(this.componentType,Xe,ia(He,De),De,He)}}class oA extends class{}{constructor(l,f,p,b,E){super(),this.location=p,this._rootLView=b,this._tNode=E,this.instance=f,this.hostView=this.changeDetectorRef=new RE(b),this.componentType=l}get injector(){return new Jl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Rl=new Map;class cA extends Hc{constructor(l,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new By(this);const p=h(l),b=l[jt]||null;b&&hy(b),this._bootstrapComponents=yo(p.bootstrap),this._r3Injector=Vv(l,f,[{provide:Hc,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],Se(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,f=On.THROW_IF_NOT_FOUND,p=wt.Default){return l===On||l===Hc||l===Qu?this:this._r3Injector.get(l,f,p)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class zy extends LE{constructor(l){super(),this.moduleType=l,null!==h(l)&&function(a){const l=new Set;!function f(p){const b=h(p,!0),E=b.id;null!==E&&(function(a,l,f){if(l&&l!==f)throw new Error(`Duplicate module registered for ${a} - ${Se(l)} vs ${Se(l.name)}`)}(E,Rl.get(E),p),Rl.set(E,p));const M=yo(b.imports);for(const O of M)l.has(O)||(l.add(O),f(O))}(a)}(l)}create(l){return new cA(this.moduleType,l)}}function uA(a,l,f){const p=Di()+a,b=st();return b[p]===rn?Xs(b,p,f?l.call(f):l()):function(a,l){return a[l]}(b,p)}function Wg(a,l,f,p){return Nx(st(),Di(),a,l,f,p)}function Ox(a,l,f,p,b){return function(a,l,f,p,b,E,M){const O=l+f;return function(a,l,f,p){const b=zr(a,l,f);return zr(a,l+1,p)||b}(a,O,b,E)?Xs(a,O+2,M?p.call(M,b,E):p(b,E)):Rh(a,O+2)}(st(),Di(),a,l,f,p,b)}function Rh(a,l){const f=a[l];return f===rn?void 0:f}function Nx(a,l,f,p,b,E){const M=l+f;return zr(a,M,b)?Xs(a,M+1,E?p.call(E,b):p(b)):Rh(a,M+1)}function Vx(a,l){const f=bn();let p;const b=a+20;f.firstCreatePass?(p=function(a,l){if(l)for(let f=l.length-1;f>=0;f--){const p=l[f];if(a===p.name)return p}throw new Ke("302",`The pipe '${a}' could not be found!`)}(l,f.pipeRegistry),f.data[b]=p,p.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(b,p.onDestroy)):p=f.data[b];const E=p.factory||(p.factory=Po(p.type)),M=si(Yd);try{const O=cl(!1),B=E();return cl(O),function(a,l,f,p){f>=a.data.length&&(a.data[f]=null,a.blueprint[f]=null),l[f]=p}(f,st(),b,B),B}finally{si(M)}}function wf(a,l,f){const p=a+20,b=st(),E=va(b,p);return function(a,l){Ts.isWrapped(l)&&(l=Ts.unwrap(l),a[Wt.lFrame.bindingIndex]=rn);return l}(b,function(a,l){return a[1].data[l].pure}(b,p)?Nx(b,Di(),l,E.transform,f,E):E.transform(f))}function Bx(a){return l=>{setTimeout(a,void 0,l)}}const fs=class extends c.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,f,p){var b,E,M;let O=l,B=f||(()=>null),G=p;if(l&&"object"==typeof l){const re=l;O=null===(b=re.next)||void 0===b?void 0:b.bind(re),B=null===(E=re.error)||void 0===E?void 0:E.bind(re),G=null===(M=re.complete)||void 0===M?void 0:M.bind(re)}this.__isAsync&&(B=Bx(B),O&&(O=Bx(O)),G&&(G=Bx(G)));const Q=super.subscribe({next:O,error:B,complete:G});return l instanceof Be.w&&l.add(Q),Q}};function MI(){return this._results[xo()]()}class Xg{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=xo(),p=Xg.prototype;p[f]||(p[f]=MI)}get changes(){return this._changes||(this._changes=new fs)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,f){return this._results.reduce(l,f)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,f){const p=this;p.dirty=!1;const b=Un(l);(this._changesDetected=!function(a,l,f){if(a.length!==l.length)return!1;for(let p=0;p<a.length;p++){let b=a[p],E=l[p];if(f&&(b=f(b),E=f(E)),E!==b)return!1}return!0}(p._results,b,f))&&(p._results=b,p.length=b.length,p.last=b[this.length-1],p.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class jy{constructor(l){this.queryList=l,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gy{constructor(l=[]){this.queries=l}createEmbeddedView(l){const f=l.queries;if(null!==f){const p=null!==l.contentQueries?l.contentQueries[0]:f.length,b=[];for(let E=0;E<p;E++){const M=f.getByIndex(E);b.push(this.queries[M.indexInDeclarationView].clone())}return new Gy(b)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let f=0;f<this.queries.length;f++)null!==xA(l,f).matches&&this.queries[f].setDirty()}}class aa{constructor(l,f,p=null){this.predicate=l,this.flags=f,this.read=p}}class Ol{constructor(l=[]){this.queries=l}elementStart(l,f){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,f)}elementEnd(l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(l)}embeddedTView(l){let f=null;for(let p=0;p<this.length;p++){const b=null!==f?f.length:0,E=this.getByIndex(p).embeddedTView(l,b);E&&(E.indexInDeclarationView=p,null!==f?f.push(E):f=[E])}return null!==f?new Ol(f):null}template(l,f){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,f)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Pl{constructor(l,f=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(l,f){this.isApplyingToNode(f)&&this.matchTNode(l,f)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,f){this.elementStart(l,f)}embeddedTView(l,f){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,f),new Pl(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==f;)p=p.parent;return f===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,f){const p=this.metadata.predicate;if(Array.isArray(p))for(let b=0;b<p.length;b++){const E=p[b];this.matchTNodeWithReadOption(l,f,Yy(f,E)),this.matchTNodeWithReadOption(l,f,Qn(f,l,E,!1,!1))}else p===uf?4&f.type&&this.matchTNodeWithReadOption(l,f,-1):this.matchTNodeWithReadOption(l,f,Qn(f,l,p,!1,!1))}matchTNodeWithReadOption(l,f,p){if(null!==p){const b=this.metadata.read;if(null!==b)if(b===ra||b===Sy||b===uf&&4&f.type)this.addMatch(f.index,-2);else{const E=Qn(f,l,b,!1,!1);null!==E&&this.addMatch(f.index,E)}else this.addMatch(f.index,p)}}addMatch(l,f){null===this.matches?this.matches=[l,f]:this.matches.push(l,f)}}function Yy(a,l){const f=a.localNames;if(null!==f)for(let p=0;p<f.length;p+=2)if(f[p]===l)return f[p+1];return null}function OI(a,l,f,p){return-1===f?function(a,l){return 11&a.type?ia(a,l):4&a.type?Fg(a,l):null}(l,a):-2===f?function(a,l,f){return f===ra?ia(l,a):f===uf?Fg(l,a):f===Sy?HE(l,a):void 0}(a,l,p):Kl(a,a[1],f,l)}function Hx(a,l,f,p){const b=l[19].queries[p];if(null===b.matches){const E=a.data,M=f.matches,O=[];for(let B=0;B<M.length;B+=2){const G=M[B];O.push(G<0?null:OI(l,E[G],M[B+1],f.metadata.read))}b.matches=O}return b.matches}function Wy(a,l,f,p){const b=a.queries.getByIndex(f),E=b.matches;if(null!==E){const M=Hx(a,l,b,f);for(let O=0;O<E.length;O+=2){const B=E[O];if(B>0)p.push(M[O/2]);else{const G=E[O+1],Q=l[-B];for(let re=10;re<Q.length;re++){const le=Q[re];le[17]===le[3]&&Wy(le[1],le,G,p)}if(null!==Q[9]){const re=Q[9];for(let le=0;le<re.length;le++){const _e=re[le];Wy(_e[1],_e,G,p)}}}}}return p}function vA(a){const l=st(),f=bn(),p=Zh();ol(p+1);const b=xA(f,p);if(a.dirty&&Em(l)===(2==(2&b.metadata.flags))){if(null===b.matches)a.reset([]);else{const E=b.crossesNgTemplate?Wy(f,l,p,[]):Hx(f,l,b,p);a.reset(E,yy),a.notifyOnChanges()}return!0}return!1}function Xc(a,l,f){const p=bn();p.firstCreatePass&&(bA(p,new aa(a,l,f),-1),2==(2&l)&&(p.staticViewQueries=!0)),_A(p,st(),l)}function $g(a,l,f,p){const b=bn();if(b.firstCreatePass){const E=li();bA(b,new aa(l,f,p),E.index),function(a,l){const f=a.contentQueries||(a.contentQueries=[]);l!==(f.length?f[f.length-1]:-1)&&f.push(a.queries.length-1,l)}(b,a),2==(2&f)&&(b.staticContentQueries=!0)}_A(b,st(),f)}function qy(){return a=st(),l=Zh(),a[19].queries[l].queryList;var a,l}function _A(a,l,f){const p=new Xg(4==(4&f));Md(a,l,p,p.destroy),null===l[19]&&(l[19]=new Gy),l[19].queries.push(new jy(p))}function bA(a,l,f){null===a.queries&&(a.queries=new Ol),a.queries.track(new Pl(l,f))}function xA(a,l){return a.queries.getByIndex(l)}function Xy(a,l){return Fg(a,l)}const n_=new Ci("Application Initializer");let Ph=(()=>{class a{constructor(f){this.appInits=f,this.resolve=of,this.reject=of,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,b)=>{this.resolve=p,this.reject=b})}runInitializers(){if(this.initialized)return;const f=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const E=this.appInits[b]();if(Ze(E))f.push(E);else if(Qs(E)){const M=new Promise((O,B)=>{E.subscribe({complete:O,error:B})});f.push(M)}}Promise.all(f).then(()=>{p()}).catch(b=>{this.reject(b)}),0===f.length&&p(),this.initialized=!0}}return a.\u0275fac=function(f){return new(f||a)(zn(n_,8))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const Kx=new Ci("AppId"),Jx={provide:Kx,useFactory:function(){return`${Jg()}${Jg()}${Jg()}`},deps:[]};function Jg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ew=new Ci("Platform Initializer"),tw=new Ci("Platform ID"),nw=new Ci("appBootstrapListener");let UA=(()=>{class a{log(f){console.log(f)}warn(f){console.warn(f)}}return a.\u0275fac=function(f){return new(f||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const ca=new Ci("LocaleId"),iw=new Ci("DefaultCurrencyCode");class Zi{constructor(l,f){this.ngModuleFactory=l,this.componentFactories=f}}const zA=function(a){return new zy(a)},tO=zA,i_=function(a){return Promise.resolve(zA(a))},eM=function(a){const l=zA(a),p=yo(h(a).declarations).reduce((b,E)=>{const M=ji(E);return M&&b.push(new sA(M)),b},[]);return new Zi(l,p)},iO=eM,rw=function(a){return Promise.resolve(eM(a))};let tu=(()=>{class a{constructor(){this.compileModuleSync=tO,this.compileModuleAsync=i_,this.compileModuleAndAllComponentsSync=iO,this.compileModuleAndAllComponentsAsync=rw}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return a.\u0275fac=function(f){return new(f||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const tM=(()=>Promise.resolve(0))();function sw(a){"undefined"==typeof Zone?tM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ps{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fs(!1),this.onMicrotaskEmpty=new fs(!1),this.onStable=new fs(!1),this.onError=new fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!p&&f,b.shouldCoalesceRunChangeDetection=p,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function(){let a=In.requestAnimationFrame,l=In.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(In,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,YA(a),a.isCheckStableRunning=!0,em(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),YA(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,p,b,E,M,O)=>{try{return nM(a),f.invokeTask(b,E,M,O)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||a.shouldCoalesceRunChangeDetection)&&l(),WA(a)}},onInvoke:(f,p,b,E,M,O,B)=>{try{return nM(a),f.invoke(b,E,M,O,B)}finally{a.shouldCoalesceRunChangeDetection&&l(),WA(a)}},onHasTask:(f,p,b,E)=>{f.hasTask(b,E),p===b&&("microTask"==E.change?(a._hasPendingMicrotasks=E.microTask,YA(a),em(a)):"macroTask"==E.change&&(a.hasPendingMacrotasks=E.macroTask))},onHandleError:(f,p,b,E)=>(f.handleError(b,E),a.runOutsideAngular(()=>a.onError.emit(E)),!1)})}(b)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,f,p){return this._inner.run(l,f,p)}runTask(l,f,p,b){const E=this._inner,M=E.scheduleEventTask("NgZoneEvent: "+b,l,GA,of,of);try{return E.runTask(M,f,p)}finally{E.cancelTask(M)}}runGuarded(l,f,p){return this._inner.runGuarded(l,f,p)}runOutsideAngular(l){return this._outer.run(l)}}const GA={};function em(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function YA(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function nM(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function WA(a){a._nesting--,em(a)}class lO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fs,this.onMicrotaskEmpty=new fs,this.onStable=new fs,this.onError=new fs}run(l,f,p){return l.apply(f,p)}runGuarded(l,f,p){return l.apply(f,p)}runOutsideAngular(l){return l()}runTask(l,f,p,b){return l.apply(f,p)}}let iM=(()=>{class a{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),sw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sw(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(f)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,p,b){let E=-1;p&&p>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==E),f(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:f,timeoutId:E,updateCb:b})}whenStable(f,p,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,p,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,p,b){return[]}}return a.\u0275fac=function(f){return new(f||a)(zn(ps))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})(),rM=(()=>{class a{constructor(){this._applications=new Map,qA.addToWindow(this)}registerApplication(f,p){this._applications.set(f,p)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,p=!0){return qA.findTestabilityInTree(this,f,p)}}return a.\u0275fac=function(f){return new(f||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();class cO{addToWindow(l){}findTestabilityInTree(l,f,p){return null}}function uO(a){qA=a}let qA=new cO,sM=!0,oM=!1;function ow(){return oM=!0,sM}function hO(){if(oM)throw new Error("Cannot enable prod mode after platform setup.");sM=!1}let Za;const aM=new Ci("AllowMultipleToken");class vO{constructor(l,f){this.name=l,this.token=f}}function lM(a,l,f=[]){const p=`Platform: ${l}`,b=new Ci(p);return(E=[])=>{let M=cM();if(!M||M.injector.get(aM,!1))if(a)a(f.concat(E).concat({provide:b,useValue:!0}));else{const O=f.concat(E).concat({provide:b,useValue:!0},{provide:$p,useValue:"platform"});!function(a){if(Za&&!Za.destroyed&&!Za.injector.get(aM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Za=a.get(uM);const l=a.get(ew,null);l&&l.forEach(f=>f())}(On.create({providers:O,name:p}))}return function(a){const l=cM();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(b)}}function cM(){return Za&&!Za.destroyed?Za:null}let uM=(()=>{class a{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,p){const O=function(a,l){let f;return f="noop"===a?new lO:("zone.js"===a?void 0:a)||new ps({enableLongStackTrace:ow(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),f}(p?p.ngZone:void 0,{ngZoneEventCoalescing:p&&p.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:p&&p.ngZoneRunCoalescing||!1}),B=[{provide:ps,useValue:O}];return O.run(()=>{const G=On.create({providers:B,parent:this.injector,name:f.moduleType.name}),Q=f.create(G),re=Q.injector.get(Na,null);if(!re)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return O.runOutsideAngular(()=>{const le=O.onError.subscribe({next:_e=>{re.handleError(_e)}});Q.onDestroy(()=>{$A(this._modules,Q),le.unsubscribe()})}),function(a,l,f){try{const p=f();return Ze(p)?p.catch(b=>{throw l.runOutsideAngular(()=>a.handleError(b)),b}):p}catch(p){throw l.runOutsideAngular(()=>a.handleError(p)),p}}(re,O,()=>{const le=Q.injector.get(Ph);return le.runInitializers(),le.donePromise.then(()=>(hy(Q.injector.get(ca,Tg)||Tg),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(f,p=[]){const b=hM({},p);return function(a,l,f){const p=new zy(f);return Promise.resolve(p)}(0,0,f).then(E=>this.bootstrapModuleFactory(E,b))}_moduleDoBootstrap(f){const p=f.injector.get(r_);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(b=>p.bootstrap(b));else{if(!f.instance.ngDoBootstrap)throw new Error(`The module ${Se(f.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);f.instance.ngDoBootstrap(p)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(f){return new(f||a)(zn(On))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function hM(a,l){return Array.isArray(l)?l.reduce(hM,a):Object.assign(Object.assign({},a),l)}let r_=(()=>{class a{constructor(f,p,b,E,M){this._zone=f,this._injector=p,this._exceptionHandler=b,this._componentFactoryResolver=E,this._initStatus=M,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new K.y(G=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{G.next(this._stable),G.complete()})}),B=new K.y(G=>{let Q;this._zone.runOutsideAngular(()=>{Q=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),sw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,G.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{G.next(!1)}))});return()=>{Q.unsubscribe(),re.unsubscribe()}});this.isStable=(0,Ie.T)(O,B.pipe((0,Ee.B)()))}bootstrap(f,p){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let b;b=f instanceof ux?f:this._componentFactoryResolver.resolveComponentFactory(f),this.componentTypes.push(b.componentType);const E=function(a){return a.isBoundToModule}(b)?void 0:this._injector.get(Hc),O=b.create(On.NULL,[],p||b.selector,E),B=O.location.nativeElement,G=O.injector.get(iM,null),Q=G&&O.injector.get(rM);return G&&Q&&Q.registerApplication(B,G),O.onDestroy(()=>{this.detachView(O.hostView),$A(this.components,O),Q&&Q.unregisterApplication(B)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const p=f;this._views.push(p),p.attachToAppRef(this)}detachView(f){const p=f;$A(this._views,p),p.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(nw,[]).concat(this._bootstrapListeners).forEach(b=>b(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(f){return new(f||a)(zn(ps),zn(On),zn(Na),zn(Lc),zn(Ph))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function $A(a,l){const f=a.indexOf(l);f>-1&&a.splice(f,1)}class CO{}class AO{}const TO={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let DO=(()=>{class a{constructor(f,p){this._compiler=f,this._config=p||TO}load(f){return this.loadAndCompile(f)}loadAndCompile(f){let[p,b]=f.split("#");return void 0===b&&(b="default"),ge(8255)(p).then(E=>E[b]).then(E=>gM(E,p,b)).then(E=>this._compiler.compileModuleAsync(E))}loadFactory(f){let[p,b]=f.split("#"),E="NgFactory";return void 0===b&&(b="default",E=""),ge(8255)(this._config.factoryPathPrefix+p+this._config.factoryPathSuffix).then(M=>M[b+E]).then(M=>gM(M,p,b))}}return a.\u0275fac=function(f){return new(f||a)(zn(tu),zn(AO,8))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function gM(a,l,f){if(!a)throw new Error(`Cannot find '${f}' in '${l}'`);return a}const FO=function(a){return null},VO=lM(null,"core",[{provide:tw,useValue:"unknown"},{provide:uM,deps:[On]},{provide:rM,deps:[]},{provide:UA,deps:[]}]),jO=[{provide:r_,useClass:r_,deps:[ps,On,Na,Lc,Ph]},{provide:xI,deps:[ps],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(f){l.push(f)}}},{provide:Ph,useClass:Ph,deps:[[new lo,n_]]},{provide:tu,useClass:tu,deps:[]},Jx,{provide:by,useFactory:function(){return BD},deps:[]},{provide:xy,useFactory:function(){return Ng},deps:[]},{provide:ca,useFactory:function(a){return hy(a=a||"undefined"!=typeof $localize&&$localize.locale||Tg),a},deps:[[new ml(ca),new lo,new co]]},{provide:iw,useValue:"USD"}];let YO=(()=>{class a{constructor(f){}}return a.\u0275fac=function(f){return new(f||a)(zn(r_))},a.\u0275mod=uu({type:a}),a.\u0275inj=Rn({providers:jO}),a})()},57:(Rt,it,ge)=>{"use strict";ge.d(it,{hO:()=>_n,xv:()=>pt,Dh:()=>de,HU:()=>Te,GT:()=>Ke,sI:()=>Xn,on:()=>yn,ss:()=>he,pX:()=>Ne,yq:()=>Kn});var c=ge(7771),Be=ge(3637),K=ge(3342),Ie=ge(9673),Ee=ge(6136),ke=ge(7716),Ve=ge(2329);function Se(){}Rt=ge.hmd(Rt);class Ae{constructor(Ue,We=c.N){this.zone=Ue,this.delegate=We}now(){return this.delegate.now()}schedule(Ue,We,ze){const nt=this.zone;return this.delegate.schedule(function(Dt){nt.runGuarded(()=>{Ue.apply(this,[Dt])})},We,ze)}}class me{constructor(Ue){this.zone=Ue,this.task=null}call(Ue,We){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),We.pipe((0,K.b)({next:ze,complete:ze,error:ze})).subscribe(Ue).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Te{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Ue.run(()=>new Ae(Zone.current,Be.z))}}function he(Ge){return function(We){return(We=We.lift(new me(Ge.ngZone))).pipe((0,Ie.R)(Ge.outsideAngular),(0,Ee.QV)(Ge.insideAngular))}}const Ce=["ngOnDestroy"],Ne=(Ge,Ue,We,ze={})=>new Proxy(Ge,{get:(nt,Ye)=>We.runOutsideAngular(()=>{var Dt;if(Ge[Ye])return(null===(Dt=null==ze?void 0:ze.spy)||void 0===Dt?void 0:Dt.get)&&ze.spy.get(Ye,Ge[Ye]),Ge[Ye];if(Ce.indexOf(Ye)>-1)return()=>{};const zt=Ue.toPromise().then(Sn=>{const bt=Sn&&Sn[Ye];return"function"==typeof bt?bt.bind(Sn):bt&&bt.then?bt.then(Ft=>We.run(()=>Ft)):We.run(()=>bt)});return new Proxy(()=>{},{get:(Sn,bt)=>zt[bt],apply:(Sn,bt,Ft)=>zt.then(yt=>{var xt;const Jt=yt&&yt(...Ft);return(null===(xt=null==ze?void 0:ze.spy)||void 0===xt?void 0:xt.apply)&&ze.spy.apply(Ye,Ft,Jt),Jt})})})}),Ke=(Ge,Ue)=>{Ue.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(ze=>{Object.defineProperty(Ge.prototype,ze,Object.getOwnPropertyDescriptor(We.prototype||We,ze))})})},de=new ke.OlP("angularfire2.app.options"),pt=new ke.OlP("angularfire2.app.nameOrConfig"),Pe=new ke.GfV("6.1.5");function yn(Ge,Ue,We){const nt="object"==typeof We&&We||{};nt.name=nt.name||"string"==typeof We&&We||"[DEFAULT]";const Dt=Ve.Z.apps.filter(zt=>zt&&zt.name===nt.name)[0]||Ue.runOutsideAngular(()=>Ve.Z.initializeApp(Ge,nt));try{JSON.stringify(Ge)!==JSON.stringify(Dt.options)&&vt("error",`${Dt.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(zt){}return Dt}const Kn=()=>{vt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},vt=(Ge,...Ue)=>{(0,ke.X6Q)()&&"undefined"!=typeof console&&console[Ge](...Ue)};function Xn(Ge,Ue,We,ze,nt){const[Ye,...Dt]=globalThis.\u0275AngularfireInstanceCache.get(Ge)||[];if(Ye){try{nt.some((zt,Sn)=>{const bt=Dt[Sn];return zt&&"object"==typeof zt?JSON.stringify(zt)!==JSON.stringify(bt):zt!==bt})&&vt("error",`${Ue} was already initialized on the ${We.name} Firebase App instance with different settings.${Rt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(zt){}return Ye}{const zt=ze();return globalThis.\u0275AngularfireInstanceCache.set(Ge,[zt,...nt]),zt}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const gn={provide:class{},useFactory:yn,deps:[de,ke.R0b,[new ke.FiY,pt]]};let _n=(()=>{class Ge{constructor(We){Ve.Z.registerVersion("angularfire",Pe.full,We.toString()),Ve.Z.registerVersion("angular",ke.q4F.full)}static initializeApp(We,ze){return{ngModule:Ge,providers:[{provide:de,useValue:We},{provide:pt,useValue:ze}]}}}return Ge.\u0275fac=function(We){return new(We||Ge)(ke.LFG(ke.Lbi))},Ge.\u0275mod=ke.oAB({type:Ge}),Ge.\u0275inj=ke.cJS({providers:[gn]}),Ge})()},9759:(Rt,it,ge)=>{"use strict";ge.d(it,{Z:()=>Ft});var Ee,vt,c=ge(4762),Be=ge(4685),K=ge(6034),Ie=ge(300),ke=((Ee={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ee["bad-app-name"]="Illegal App name: '{$appName}",Ee["duplicate-app"]="Firebase App named '{$appName}' already exists",Ee["app-deleted"]="Firebase App named '{$appName}' already deleted",Ee["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ee["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ee),Ve=new Be.LL("app","Firebase",ke),Se="@firebase/app",Dn="[DEFAULT]",Xn=((vt={})[Se]="fire-core",vt["@firebase/analytics"]="fire-analytics",vt["@firebase/app-check"]="fire-app-check",vt["@firebase/auth"]="fire-auth",vt["@firebase/database"]="fire-rtdb",vt["@firebase/functions"]="fire-fn",vt["@firebase/installations"]="fire-iid",vt["@firebase/messaging"]="fire-fcm",vt["@firebase/performance"]="fire-perf",vt["@firebase/remote-config"]="fire-rc",vt["@firebase/storage"]="fire-gcs",vt["@firebase/firestore"]="fire-fst",vt["fire-js"]="fire-js",vt["firebase-wrapper"]="fire-js-all",vt),gn=new Ie.Yd("@firebase/app"),_n=function(){function yt(xt,Jt,Nn){var mn=this;this.firebase_=Nn,this.isDeleted_=!1,this.name_=Jt.name,this.automaticDataCollectionEnabled_=Jt.automaticDataCollectionEnabled||!1,this.options_=(0,Be.p$)(xt),this.container=new K.H0(Jt.name),this._addComponent(new K.wA("app",function(){return mn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Ji){return mn._addComponent(Ji)})}return Object.defineProperty(yt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xt},enumerable:!1,configurable:!0}),Object.defineProperty(yt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(yt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),yt.prototype.delete=function(){var xt=this;return new Promise(function(Jt){xt.checkDestroyed_(),Jt()}).then(function(){return xt.firebase_.INTERNAL.removeApp(xt.name_),Promise.all(xt.container.getProviders().map(function(Jt){return Jt.delete()}))}).then(function(){xt.isDeleted_=!0})},yt.prototype._getService=function(xt,Jt){var Nn;void 0===Jt&&(Jt=Dn),this.checkDestroyed_();var mn=this.container.getProvider(xt);return!mn.isInitialized()&&"EXPLICIT"===(null===(Nn=mn.getComponent())||void 0===Nn?void 0:Nn.instantiationMode)&&mn.initialize(),mn.getImmediate({identifier:Jt})},yt.prototype._removeServiceInstance=function(xt,Jt){void 0===Jt&&(Jt=Dn),this.container.getProvider(xt).clearInstance(Jt)},yt.prototype._addComponent=function(xt){try{this.container.addComponent(xt)}catch(Jt){gn.debug("Component "+xt.name+" failed to register with FirebaseApp "+this.name,Jt)}},yt.prototype._addOrOverwriteComponent=function(xt){this.container.addOrOverwriteComponent(xt)},yt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},yt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ve.create("app-deleted",{appName:this.name_})},yt}();_n.prototype.name&&_n.prototype.options||_n.prototype.delete||console.log("dc");var ze=function We(){var yt=function(yt){var xt={},Jt=new Map,Nn={__esModule:!0,initializeApp:function(dn,an){void 0===an&&(an={}),("object"!=typeof an||null===an)&&(an={name:an});var Oi=an;void 0===Oi.name&&(Oi.name=Dn);var wt=Oi.name;if("string"!=typeof wt||!wt)throw Ve.create("bad-app-name",{appName:String(wt)});if((0,Be.r3)(xt,wt))throw Ve.create("duplicate-app",{appName:wt});var Bn=new yt(dn,Oi,Nn);return xt[wt]=Bn,Bn},app:Ji,registerVersion:function(dn,an,Ri){var Oi,wt=null!==(Oi=Xn[dn])&&void 0!==Oi?Oi:dn;Ri&&(wt+="-"+Ri);var Bn=wt.match(/\s|\//),pi=an.match(/\s|\//);if(Bn||pi){var si=['Unable to register library "'+wt+'" with version "'+an+'":'];return Bn&&si.push('library name "'+wt+'" contains illegal characters (whitespace or "/")'),Bn&&pi&&si.push("and"),pi&&si.push('version name "'+an+'" contains illegal characters (whitespace or "/")'),void gn.warn(si.join(" "))}er(new K.wA(wt+"-version",function(){return{library:wt,version:an}},"VERSION"))},setLogLevel:Ie.Ub,onLog:function(dn,an){if(null!==dn&&"function"!=typeof dn)throw Ve.create("invalid-log-argument");(0,Ie.Am)(dn,an)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:er,removeApp:function(dn){delete xt[dn]},components:Jt,useAsService:function(dn,an){return"serverAuth"===an?null:an}}};function Ji(dn){if(!(0,Be.r3)(xt,dn=dn||Dn))throw Ve.create("no-app",{appName:dn});return xt[dn]}function er(dn){var an=dn.name;if(Jt.has(an))return gn.debug("There were multiple attempts to register component "+an+"."),"PUBLIC"===dn.type?Nn[an]:null;if(Jt.set(an,dn),"PUBLIC"===dn.type){var Ri=function(pi){if(void 0===pi&&(pi=Ji()),"function"!=typeof pi[an])throw Ve.create("invalid-app-argument",{appName:an});return pi[an]()};void 0!==dn.serviceProps&&(0,Be.ZB)(Ri,dn.serviceProps),Nn[an]=Ri,yt.prototype[an]=function(){for(var pi=[],si=0;si<arguments.length;si++)pi[si]=arguments[si];return this._getService.bind(this,an).apply(this,dn.multipleInstances?pi:[])}}for(var Oi=0,wt=Object.keys(xt);Oi<wt.length;Oi++)xt[wt[Oi]]._addComponent(dn);return"PUBLIC"===dn.type?Nn[an]:null}return Nn.default=Nn,Object.defineProperty(Nn,"apps",{get:function(){return Object.keys(xt).map(function(dn){return xt[dn]})}}),Ji.App=yt,Nn}(_n);return yt.INTERNAL=(0,c.pi)((0,c.pi)({},yt.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function(Jt){(0,Be.ZB)(yt,Jt)},createSubscribe:Be.ne,ErrorFactory:Be.LL,deepExtend:Be.ZB}),yt}(),nt=function(){function yt(xt){this.container=xt}return yt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Jt){if(function(yt){var xt=yt.getComponent();return"VERSION"===(null==xt?void 0:xt.type)}(Jt)){var Nn=Jt.getImmediate();return Nn.library+"/"+Nn.version}return null}).filter(function(Jt){return Jt}).join(" ")},yt}();if((0,Be.jU)()&&void 0!==self.firebase){gn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zt=self.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&gn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Sn=ze.initializeApp;ze.initializeApp=function(){for(var yt=[],xt=0;xt<arguments.length;xt++)yt[xt]=arguments[xt];return(0,Be.UG)()&&gn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Sn.apply(void 0,yt)};var yt,bt=ze;(yt=bt).INTERNAL.registerComponent(new K.wA("platform-logger",function(Jt){return new nt(Jt)},"PRIVATE")),yt.registerVersion(Se,"0.6.29",undefined),yt.registerVersion("fire-js","");const Ft=bt},6034:(Rt,it,ge)=>{"use strict";ge.d(it,{wA:()=>K,H0:()=>Se,zt:()=>Ee});var c=ge(4762),Be=ge(4685),K=function(){function Ae(me,Te,he){this.name=me,this.instanceFactory=Te,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ae.prototype.setInstantiationMode=function(me){return this.instantiationMode=me,this},Ae.prototype.setMultipleInstances=function(me){return this.multipleInstances=me,this},Ae.prototype.setServiceProps=function(me){return this.serviceProps=me,this},Ae.prototype.setInstanceCreatedCallback=function(me){return this.onInstanceCreated=me,this},Ae}(),Ie="[DEFAULT]",Ee=function(){function Ae(me,Te){this.name=me,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Ae.prototype.get=function(me){var Te=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(Te)){var he=new Be.BH;if(this.instancesDeferred.set(Te,he),this.isInitialized(Te)||this.shouldAutoInitialize())try{var Ce=this.getOrInitializeService({instanceIdentifier:Te});Ce&&he.resolve(Ce)}catch(Ne){}}return this.instancesDeferred.get(Te).promise},Ae.prototype.getImmediate=function(me){var Te,he=this.normalizeInstanceIdentifier(null==me?void 0:me.identifier),Ce=null!==(Te=null==me?void 0:me.optional)&&void 0!==Te&&Te;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Ne){if(Ce)return null;throw Ne}},Ae.prototype.getComponent=function(){return this.component},Ae.prototype.setComponent=function(me){var Te,he;if(me.name!==this.name)throw Error("Mismatching Component "+me.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=me,this.shouldAutoInitialize()){if(function(Ae){return"EAGER"===Ae.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(yn){}try{for(var Ce=(0,c.XA)(this.instancesDeferred.entries()),Ne=Ce.next();!Ne.done;Ne=Ce.next()){var Ke=(0,c.CR)(Ne.value,2),pt=Ke[1],tt=this.normalizeInstanceIdentifier(Ke[0]);try{var Pe=this.getOrInitializeService({instanceIdentifier:tt});pt.resolve(Pe)}catch(yn){}}}catch(yn){Te={error:yn}}finally{try{Ne&&!Ne.done&&(he=Ce.return)&&he.call(Ce)}finally{if(Te)throw Te.error}}}},Ae.prototype.clearInstance=function(me){void 0===me&&(me=Ie),this.instancesDeferred.delete(me),this.instances.delete(me)},Ae.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var me;return(0,c.Jh)(this,function(Te){switch(Te.label){case 0:return me=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(me.filter(function(he){return"INTERNAL"in he}).map(function(he){return he.INTERNAL.delete()}))),(0,c.CR)(me.filter(function(he){return"_delete"in he}).map(function(he){return he._delete()}))))];case 1:return Te.sent(),[2]}})})},Ae.prototype.isComponentSet=function(){return null!=this.component},Ae.prototype.isInitialized=function(me){return void 0===me&&(me=Ie),this.instances.has(me)},Ae.prototype.initialize=function(me){var Te,he;void 0===me&&(me={});var Ce=me.options,Ne=void 0===Ce?{}:Ce,Ke=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Ke))throw Error(this.name+"("+Ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:Ke,options:Ne});try{for(var pt=(0,c.XA)(this.instancesDeferred.entries()),tt=pt.next();!tt.done;tt=pt.next()){var Pe=(0,c.CR)(tt.value,2),Kn=Pe[1];Ke===this.normalizeInstanceIdentifier(Pe[0])&&Kn.resolve(de)}}catch(Dn){Te={error:Dn}}finally{try{tt&&!tt.done&&(he=pt.return)&&he.call(pt)}finally{if(Te)throw Te.error}}return de},Ae.prototype.onInit=function(me,Te){var he,Ce=this.normalizeInstanceIdentifier(Te),Ne=null!==(he=this.onInitCallbacks.get(Ce))&&void 0!==he?he:new Set;Ne.add(me),this.onInitCallbacks.set(Ce,Ne);var Ke=this.instances.get(Ce);return Ke&&me(Ke,Ce),function(){Ne.delete(me)}},Ae.prototype.invokeOnInitCallbacks=function(me,Te){var he,Ce,Ne=this.onInitCallbacks.get(Te);if(Ne)try{for(var Ke=(0,c.XA)(Ne),de=Ke.next();!de.done;de=Ke.next()){var pt=de.value;try{pt(me,Te)}catch(tt){}}}catch(tt){he={error:tt}}finally{try{de&&!de.done&&(Ce=Ke.return)&&Ce.call(Ke)}finally{if(he)throw he.error}}},Ae.prototype.getOrInitializeService=function(me){var Te=me.instanceIdentifier,he=me.options,Ce=void 0===he?{}:he,Ne=this.instances.get(Te);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:ke(Te),options:Ce}),this.instances.set(Te,Ne),this.invokeOnInitCallbacks(Ne,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Ne)}catch(Ke){}return Ne||null},Ae.prototype.normalizeInstanceIdentifier=function(me){return void 0===me&&(me=Ie),this.component?this.component.multipleInstances?me:Ie:me},Ae.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Ae}();function ke(Ae){return Ae===Ie?void 0:Ae}var Se=function(){function Ae(me){this.name=me,this.providers=new Map}return Ae.prototype.addComponent=function(me){var Te=this.getProvider(me.name);if(Te.isComponentSet())throw new Error("Component "+me.name+" has already been registered with "+this.name);Te.setComponent(me)},Ae.prototype.addOrOverwriteComponent=function(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)},Ae.prototype.getProvider=function(me){if(this.providers.has(me))return this.providers.get(me);var Te=new Ee(me,this);return this.providers.set(me,Te),Te},Ae.prototype.getProviders=function(){return Array.from(this.providers.values())},Ae}()},9192:(Rt,it,ge)=>{"use strict";var c=ge(9759),Be=ge(6034),K=ge(4685),Ie=ge(4762),Ee=ge(300);Rt=ge.hmd(Rt);var Se="";function Ae(y){Se=y}var y,me=function(){function y(v){this.domStorage_=v,this.prefix_="firebase:"}return y.prototype.set=function(v,w){null==w?this.domStorage_.removeItem(this.prefixedName_(v)):this.domStorage_.setItem(this.prefixedName_(v),(0,K.Pz)(w))},y.prototype.get=function(v){var w=this.domStorage_.getItem(this.prefixedName_(v));return null==w?null:(0,K.cI)(w)},y.prototype.remove=function(v){this.domStorage_.removeItem(this.prefixedName_(v))},y.prototype.prefixedName_=function(v){return this.prefix_+v},y.prototype.toString=function(){return this.domStorage_.toString()},y}(),Te=function(){function y(){this.cache_={},this.isInMemoryStorage=!0}return y.prototype.set=function(v,w){null==w?delete this.cache_[v]:this.cache_[v]=w},y.prototype.get=function(v){return(0,K.r3)(this.cache_,v)?this.cache_[v]:null},y.prototype.remove=function(v){delete this.cache_[v]},y}(),he=function(y){try{if("undefined"!=typeof window&&void 0!==window[y]){var v=window[y];return v.setItem("firebase:sentinel","cache"),v.removeItem("firebase:sentinel"),new me(v)}}catch(w){}return new Te},Ce=he("localStorage"),Ne=he("sessionStorage"),Ke=new Ee.Yd("@firebase/database"),de=(y=1,function(){return y++}),pt=function(y){var v=(0,K.dS)(y),w=new K.gQ;w.update(v);var T=w.digest();return K.US.encodeByteArray(T)},tt=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];for(var w="",T=0;T<y.length;T++){var P=y[T];Array.isArray(P)||P&&"object"==typeof P&&"number"==typeof P.length?w+=tt.apply(null,P):w+="object"==typeof P?(0,K.Pz)(P):P,w+=" "}return w},Pe=null,yn=!0,Kn=function(y,v){(0,K.hu)(!v||!0===y||!1===y,"Can't turn on custom loggers persistently."),!0===y?(Ke.logLevel=Ee.in.VERBOSE,Pe=Ke.log.bind(Ke),v&&Ne.set("logging_enabled",!0)):"function"==typeof y?Pe=y:(Pe=null,Ne.remove("logging_enabled"))},vt=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(!0===yn&&(yn=!1,null===Pe&&!0===Ne.get("logging_enabled")&&Kn(!0)),Pe){var w=tt.apply(null,y);Pe(w)}},Dn=function(y){return function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];vt.apply(void 0,(0,Ie.ev)([y],(0,Ie.CR)(v)))}},Xn=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];var w="FIREBASE INTERNAL ERROR: "+tt.apply(void 0,(0,Ie.ev)([],(0,Ie.CR)(y)));Ke.error(w)},gn=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];var w="FIREBASE FATAL ERROR: "+tt.apply(void 0,(0,Ie.ev)([],(0,Ie.CR)(y)));throw Ke.error(w),new Error(w)},_n=function(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];var w="FIREBASE WARNING: "+tt.apply(void 0,(0,Ie.ev)([],(0,Ie.CR)(y)));Ke.warn(w)},Ue=function(y){return"number"==typeof y&&(y!=y||y===Number.POSITIVE_INFINITY||y===Number.NEGATIVE_INFINITY)},ze="[MIN_NAME]",nt="[MAX_NAME]",Ye=function(y,v){if(y===v)return 0;if(y===ze||v===nt)return-1;if(v===ze||y===nt)return 1;var w=fi(y),T=fi(v);return null!==w?null!==T?w-T==0?y.length-v.length:w-T:-1:null!==T?1:y<v?-1:1},Dt=function(y,v){return y===v?0:y<v?-1:1},zt=function(y,v){if(v&&y in v)return v[y];throw new Error("Missing required key ("+y+") in object: "+(0,K.Pz)(v))},Sn=function(y){if("object"!=typeof y||null===y)return(0,K.Pz)(y);var v=[];for(var w in y)v.push(w);v.sort();for(var T="{",P=0;P<v.length;P++)0!==P&&(T+=","),T+=(0,K.Pz)(v[P]),T+=":",T+=Sn(y[v[P]]);return T+"}"},bt=function(y,v){var w=y.length;if(w<=v)return[y];for(var T=[],P=0;P<w;P+=v)T.push(y.substring(P,P+v>w?w:P+v));return T};function Ft(y,v){for(var w in y)y.hasOwnProperty(w)&&v(w,y[w])}var yt=function(y){(0,K.hu)(!Ue(y),"Invalid JSON number");var P,U,W,ie,ae,T=1023;0===y?(U=0,W=0,P=1/y==-1/0?1:0):(P=y<0,(y=Math.abs(y))>=Math.pow(2,1-T)?(U=(ie=Math.min(Math.floor(Math.log(y)/Math.LN2),T))+T,W=Math.round(y*Math.pow(2,52-ie)-Math.pow(2,52))):(U=0,W=Math.round(y/Math.pow(2,-1074))));var ve=[];for(ae=52;ae;ae-=1)ve.push(W%2?1:0),W=Math.floor(W/2);for(ae=11;ae;ae-=1)ve.push(U%2?1:0),U=Math.floor(U/2);ve.push(P?1:0),ve.reverse();var ye=ve.join(""),je="";for(ae=0;ae<64;ae+=8){var Je=parseInt(ye.substr(ae,8),2).toString(16);1===Je.length&&(Je="0"+Je),je+=Je}return je.toLowerCase()},mn=new RegExp("^-?(0*)\\d{1,10}$"),Ji=-2147483648,Rn=2147483647,fi=function(y){if(mn.test(y)){var v=Number(y);if(v>=Ji&&v<=Rn)return v}return null},er=function(y){try{y()}catch(v){setTimeout(function(){throw _n("Exception was thrown by user callback.",v.stack||""),v},Math.floor(0))}},gr=function(y,v){var w=setTimeout(y,v);return"object"==typeof w&&w.unref&&w.unref(),w},Oo=function(){function y(v,w){var T=this;this.appName_=v,this.appCheckProvider=w,this.appCheck=null==w?void 0:w.getImmediate({optional:!0}),this.appCheck||null==w||w.get().then(function(P){return T.appCheck=P})}return y.prototype.getToken=function(v){var w=this;return this.appCheck?this.appCheck.getToken(v):new Promise(function(T,P){setTimeout(function(){w.appCheck?w.getToken(v).then(T,P):T(null)},0)})},y.prototype.addTokenChangeListener=function(v){var w;null===(w=this.appCheckProvider)||void 0===w||w.get().then(function(T){return T.addTokenListener(v)})},y.prototype.notifyForInvalidToken=function(){_n('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},y}(),dn=function(){function y(v,w,T){var P=this;this.appName_=v,this.firebaseOptions_=w,this.authProvider_=T,this.auth_=null,this.auth_=T.getImmediate({optional:!0}),this.auth_||T.onInit(function(U){return P.auth_=U})}return y.prototype.getToken=function(v){var w=this;return this.auth_?this.auth_.getToken(v).catch(function(T){return T&&"auth/token-not-initialized"===T.code?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(T)}):new Promise(function(T,P){setTimeout(function(){w.auth_?w.getToken(v).then(T,P):T(null)},0)})},y.prototype.addTokenChangeListener=function(v){this.auth_?this.auth_.addAuthTokenListener(v):this.authProvider_.get().then(function(w){return w.addAuthTokenListener(v)})},y.prototype.removeTokenChangeListener=function(v){this.authProvider_.get().then(function(w){return w.removeAuthTokenListener(v)})},y.prototype.notifyForInvalidToken=function(){var v='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';_n(v+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},y}(),an=function(){function y(v){this.accessToken=v}return y.prototype.getToken=function(v){return Promise.resolve({accessToken:this.accessToken})},y.prototype.addTokenChangeListener=function(v){v(this.accessToken)},y.prototype.removeTokenChangeListener=function(v){},y.prototype.notifyForInvalidToken=function(){},y.OWNER="owner",y}(),si=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bi="websocket",ga="long_polling",Jn=function(){function y(v,w,T,P,U,W,ie){void 0===U&&(U=!1),void 0===W&&(W=""),void 0===ie&&(ie=!1),this.secure=w,this.namespace=T,this.webSocketOnly=P,this.nodeAdmin=U,this.persistenceKey=W,this.includeNamespaceInQueryParams=ie,this._host=v.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ce.get("host:"+v)||this._host}return y.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},y.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(y.prototype,"host",{get:function(){return this._host},set:function(v){v!==this.internalHost&&(this.internalHost=v,this.isCacheableHost()&&Ce.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),y.prototype.toString=function(){var v=this.toURLString();return this.persistenceKey&&(v+="<"+this.persistenceKey+">"),v},y.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},y}();function Qt(y,v,w){var T;if((0,K.hu)("string"==typeof v,"typeof type must == string"),(0,K.hu)("object"==typeof w,"typeof params must == object"),v===bi)T=(y.secure?"wss://":"ws://")+y.internalHost+"/.ws?";else{if(v!==ga)throw new Error("Unknown connection type: "+v);T=(y.secure?"https://":"http://")+y.internalHost+"/.lp?"}(function(y){return y.host!==y.internalHost||y.isCustomHost()||y.includeNamespaceInQueryParams})(y)&&(w.ns=y.namespace);var P=[];return Ft(w,function(U,W){P.push(U+"="+W)}),T+P.join("&")}var cu=function(){function y(){this.counters_={}}return y.prototype.incrementCounter=function(v,w){void 0===w&&(w=1),(0,K.r3)(this.counters_,v)||(this.counters_[v]=0),this.counters_[v]+=w},y.prototype.get=function(){return(0,K.p$)(this.counters_)},y}(),Vs={},Mr={};function In(y){var v=y.toString();return Vs[v]||(Vs[v]=new cu),Vs[v]}var Gh=function(){function y(v){this.onMessage_=v,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return y.prototype.closeAfter=function(v,w){this.closeAfterResponse=v,this.onClose=w,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},y.prototype.handleResponse=function(v,w){var T=this;this.pendingResponses[v]=w;for(var P=function(){var ie=U.pendingResponses[U.currentResponseNum];delete U.pendingResponses[U.currentResponseNum];for(var ae=function(ye){ie[ye]&&er(function(){T.onMessage_(ie[ye])})},ve=0;ve<ie.length;++ve)ae(ve);if(U.currentResponseNum===U.closeAfterResponse)return U.onClose&&(U.onClose(),U.onClose=null),"break";U.currentResponseNum++},U=this;this.pendingResponses[this.currentResponseNum]&&"break"!==P(););},y}(),jl=function(){function y(v,w,T,P,U,W,ie){var ae=this;this.connId=v,this.repoInfo=w,this.applicationId=T,this.appCheckToken=P,this.authToken=U,this.transportSessionId=W,this.lastSessionId=ie,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dn(v),this.stats_=In(w),this.urlFn=function(ve){return ae.appCheckToken&&(ve.ac=ae.appCheckToken),Qt(w,ga,ve)}}return y.prototype.open=function(v,w){var T=this;this.curSegmentNum=0,this.onDisconnect_=w,this.myPacketOrderer=new Gh(v),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){T.log_("Timed out trying to connect."),T.onClosed_(),T.connectTimeoutTimer_=null},Math.floor(3e4)),function(y){if((0,K.Yr)()||"complete"===document.readyState)y();else{var v=!1,w=function(){document.body?v||(v=!0,y()):setTimeout(w,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",w,!1),window.addEventListener("load",w,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&w()}),window.attachEvent("onload",w))}}(function(){if(!T.isClosed_){T.scriptTagHolder=new Gl(function(){for(var W=[],ie=0;ie<arguments.length;ie++)W[ie]=arguments[ie];var ae=(0,Ie.CR)(W,5),ve=ae[0],ye=ae[1],je=ae[2];if(T.incrementIncomingBytes_(W),T.scriptTagHolder)if(T.connectTimeoutTimer_&&(clearTimeout(T.connectTimeoutTimer_),T.connectTimeoutTimer_=null),T.everConnected_=!0,"start"===ve)T.id=ye,T.password=je;else{if("close"!==ve)throw new Error("Unrecognized command received: "+ve);ye?(T.scriptTagHolder.sendNewPolls=!1,T.myPacketOrderer.closeAfter(ye,function(){T.onClosed_()})):T.onClosed_()}},function(){for(var W=[],ie=0;ie<arguments.length;ie++)W[ie]=arguments[ie];var ae=(0,Ie.CR)(W,2),ve=ae[0],ye=ae[1];T.incrementIncomingBytes_(W),T.myPacketOrderer.handleResponse(ve,ye)},function(){T.onClosed_()},T.urlFn);var P={start:"t"};P.ser=Math.floor(1e8*Math.random()),T.scriptTagHolder.uniqueCallbackIdentifier&&(P.cb=T.scriptTagHolder.uniqueCallbackIdentifier),P.v="5",T.transportSessionId&&(P.s=T.transportSessionId),T.lastSessionId&&(P.ls=T.lastSessionId),T.applicationId&&(P.p=T.applicationId),T.appCheckToken&&(P.ac=T.appCheckToken),"undefined"!=typeof location&&location.hostname&&si.test(location.hostname)&&(P.r="f");var U=T.urlFn(P);T.log_("Connecting via long-poll to "+U),T.scriptTagHolder.addTag(U,function(){})}})},y.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},y.forceAllow=function(){y.forceAllow_=!0},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){return!((0,K.Yr)()||!y.forceAllow_&&(y.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},y.prototype.markConnectionHealthy=function(){},y.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},y.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},y.prototype.send=function(v){var w=(0,K.Pz)(v);this.bytesSent+=w.length,this.stats_.incrementCounter("bytes_sent",w.length);for(var T=(0,K.h$)(w),P=bt(T,1840),U=0;U<P.length;U++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[U]),this.curSegmentNum++},y.prototype.addDisconnectPingFrame=function(v,w){if(!(0,K.Yr)()){this.myDisconnFrame=document.createElement("iframe");var T={dframe:"t"};T.id=v,T.pw=w,this.myDisconnFrame.src=this.urlFn(T),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},y.prototype.incrementIncomingBytes_=function(v){var w=(0,K.Pz)(v).length;this.bytesReceived+=w,this.stats_.incrementCounter("bytes_received",w)},y}(),Gl=function(){function y(v,w,T,P){if(this.onDisconnect=T,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=v,this.onMessageCB=w;else{this.uniqueCallbackIdentifier=de(),window["pLPCommand"+this.uniqueCallbackIdentifier]=v,window["pRTLPCB"+this.uniqueCallbackIdentifier]=w,this.myIFrame=y.createIFrame_();var U="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(U='<script>document.domain="'+document.domain+'";<\/script>');var ie="<html><body>"+U+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ie),this.myIFrame.doc.close()}catch(ae){vt("frame writing exception"),ae.stack&&vt(ae.stack),vt(ae)}}}return y.createIFrame_=function(){var v=document.createElement("iframe");if(v.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(v);try{v.contentWindow.document||vt("No IE domain setting required")}catch(P){var T=document.domain;v.src="javascript:void((function(){document.open();document.domain='"+T+"';document.close();})())"}return v.contentDocument?v.doc=v.contentDocument:v.contentWindow?v.doc=v.contentWindow.document:v.document&&(v.doc=v.document),v},y.prototype.close=function(){var v=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==v.myIFrame&&(document.body.removeChild(v.myIFrame),v.myIFrame=null)},Math.floor(0)));var w=this.onDisconnect;w&&(this.onDisconnect=null,w())},y.prototype.startLongPoll=function(v,w){for(this.myID=v,this.myPW=w,this.alive=!0;this.newRequest_(););},y.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var v={};v.id=this.myID,v.pw=this.myPW,v.ser=this.currentSerial;for(var w=this.urlFn(v),T="",P=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+T.length<=1870;){var W=this.pendingSegs.shift();T=T+"&seg"+P+"="+W.seg+"&ts"+P+"="+W.ts+"&d"+P+"="+W.d,P++}return this.addLongPollTag_(w+=T,this.currentSerial),!0}return!1},y.prototype.enqueueSegment=function(v,w,T){this.pendingSegs.push({seg:v,ts:w,d:T}),this.alive&&this.newRequest_()},y.prototype.addLongPollTag_=function(v,w){var T=this;this.outstandingRequests.add(w);var P=function(){T.outstandingRequests.delete(w),T.newRequest_()},U=setTimeout(P,Math.floor(25e3));this.addTag(v,function(){clearTimeout(U),P()})},y.prototype.addTag=function(v,w){var T=this;(0,K.Yr)()?this.doNodeLongPoll(v,w):setTimeout(function(){try{if(!T.sendNewPolls)return;var P=T.myIFrame.doc.createElement("script");P.type="text/javascript",P.async=!0,P.src=v,P.onload=P.onreadystatechange=function(){var U=P.readyState;(!U||"loaded"===U||"complete"===U)&&(P.onload=P.onreadystatechange=null,P.parentNode&&P.parentNode.removeChild(P),w())},P.onerror=function(){vt("Long-poll script failed to load: "+v),T.sendNewPolls=!1,T.close()},T.myIFrame.doc.body.appendChild(P)}catch(U){}},Math.floor(1))},y}(),J=null;"undefined"!=typeof MozWebSocket?J=MozWebSocket:"undefined"!=typeof WebSocket&&(J=WebSocket);var u=function(){function y(v,w,T,P,U,W,ie){this.connId=v,this.applicationId=T,this.appCheckToken=P,this.authToken=U,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dn(this.connId),this.stats_=In(w),this.connURL=y.connectionURL_(w,W,ie,P),this.nodeAdmin=w.nodeAdmin}return y.connectionURL_=function(v,w,T,P){var U={v:"5"};return!(0,K.Yr)()&&"undefined"!=typeof location&&location.hostname&&si.test(location.hostname)&&(U.r="f"),w&&(U.s=w),T&&(U.ls=T),P&&(U.ac=P),Qt(v,bi,U)},y.prototype.open=function(v,w){var T=this;this.onDisconnect=w,this.onMessage=v,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ce.set("previous_websocket_failure",!0);try{if((0,K.Yr)()){var U={headers:{"User-Agent":"Firebase/5/"+Se+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(U.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(U.headers["X-Firebase-AppCheck"]=this.appCheckToken);var W=process.env,ie=0===this.connURL.indexOf("wss://")?W.HTTPS_PROXY||W.https_proxy:W.HTTP_PROXY||W.http_proxy;ie&&(U.proxy={origin:ie}),this.mySock=new J(this.connURL,[],U)}else this.mySock=new J(this.connURL,[],U={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(ve){this.log_("Error instantiating WebSocket.");var ae=ve.message||ve.data;return ae&&this.log_(ae),void this.onClosed_()}this.mySock.onopen=function(){T.log_("Websocket connected."),T.everConnected_=!0},this.mySock.onclose=function(){T.log_("Websocket connection was disconnected."),T.mySock=null,T.onClosed_()},this.mySock.onmessage=function(ve){T.handleIncomingFrame(ve)},this.mySock.onerror=function(ve){T.log_("WebSocket error.  Closing connection.");var ye=ve.message||ve.data;ye&&T.log_(ye),T.onClosed_()}},y.prototype.start=function(){},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){var v=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(v=!0)}return!v&&null!==J&&!y.forceDisallow_},y.previouslyFailed=function(){return Ce.isInMemoryStorage||!0===Ce.get("previous_websocket_failure")},y.prototype.markConnectionHealthy=function(){Ce.remove("previous_websocket_failure")},y.prototype.appendFrame_=function(v){if(this.frames.push(v),this.frames.length===this.totalFrames){var w=this.frames.join("");this.frames=null;var T=(0,K.cI)(w);this.onMessage(T)}},y.prototype.handleNewFrameCount_=function(v){this.totalFrames=v,this.frames=[]},y.prototype.extractFrameCount_=function(v){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),v.length<=6){var w=Number(v);if(!isNaN(w))return this.handleNewFrameCount_(w),null}return this.handleNewFrameCount_(1),v},y.prototype.handleIncomingFrame=function(v){if(null!==this.mySock){var w=v.data;if(this.bytesReceived+=w.length,this.stats_.incrementCounter("bytes_received",w.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(w);else{var T=this.extractFrameCount_(w);null!==T&&this.appendFrame_(T)}}},y.prototype.send=function(v){this.resetKeepAlive();var w=(0,K.Pz)(v);this.bytesSent+=w.length,this.stats_.incrementCounter("bytes_sent",w.length);var T=bt(w,16384);T.length>1&&this.sendString_(String(T.length));for(var P=0;P<T.length;P++)this.sendString_(T[P])},y.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},y.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},y.prototype.resetKeepAlive=function(){var v=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){v.mySock&&v.sendString_("0"),v.resetKeepAlive()},Math.floor(45e3))},y.prototype.sendString_=function(v){try{this.mySock.send(v)}catch(w){this.log_("Exception thrown from WebSocket.send():",w.message||w.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},y.responsesRequiredToBeHealthy=2,y.healthyTimeout=3e4,y}(),h=function(){function y(v){this.initTransports_(v)}return Object.defineProperty(y,"ALL_TRANSPORTS",{get:function(){return[jl,u]},enumerable:!1,configurable:!0}),y.prototype.initTransports_=function(v){var w,T,P=u&&u.isAvailable(),U=P&&!u.previouslyFailed();if(v.webSocketOnly&&(P||_n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),U=!0),U)this.transports_=[u];else{var W=this.transports_=[];try{for(var ie=(0,Ie.XA)(y.ALL_TRANSPORTS),ae=ie.next();!ae.done;ae=ie.next()){var ve=ae.value;ve&&ve.isAvailable()&&W.push(ve)}}catch(ye){w={error:ye}}finally{try{ae&&!ae.done&&(T=ie.return)&&T.call(ie)}finally{if(w)throw w.error}}}},y.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},y.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},y}(),ne=function(){function y(v,w,T,P,U,W,ie,ae,ve,ye){this.id=v,this.repoInfo_=w,this.applicationId_=T,this.appCheckToken_=P,this.authToken_=U,this.onMessage_=W,this.onReady_=ie,this.onDisconnect_=ae,this.onKill_=ve,this.lastSessionId=ye,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dn("c:"+this.id+":"),this.transportManager_=new h(w),this.log_("Connection created"),this.start_()}return y.prototype.start_=function(){var v=this,w=this.transportManager_.initialTransport();this.conn_=new w(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=w.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.conn_),P=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){v.conn_&&v.conn_.open(T,P)},Math.floor(0));var U=w.healthyTimeout||0;U>0&&(this.healthyTimeout_=gr(function(){v.healthyTimeout_=null,v.isHealthy_||(v.conn_&&v.conn_.bytesReceived>102400?(v.log_("Connection exceeded healthy timeout but has received "+v.conn_.bytesReceived+" bytes.  Marking connection healthy."),v.isHealthy_=!0,v.conn_.markConnectionHealthy()):v.conn_&&v.conn_.bytesSent>10240?v.log_("Connection exceeded healthy timeout but has sent "+v.conn_.bytesSent+" bytes.  Leaving connection alive."):(v.log_("Closing unhealthy connection after timeout."),v.close()))},Math.floor(U)))},y.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},y.prototype.disconnReceiver_=function(v){var w=this;return function(T){v===w.conn_?w.onConnectionLost_(T):v===w.secondaryConn_?(w.log_("Secondary connection lost."),w.onSecondaryConnectionLost_()):w.log_("closing an old connection")}},y.prototype.connReceiver_=function(v){var w=this;return function(T){2!==w.state_&&(v===w.rx_?w.onPrimaryMessageReceived_(T):v===w.secondaryConn_?w.onSecondaryMessageReceived_(T):w.log_("message on old connection"))}},y.prototype.sendRequest=function(v){this.sendData_({t:"d",d:v})},y.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},y.prototype.onSecondaryControl_=function(v){if("t"in v){var w=v.t;"a"===w?this.upgradeIfSecondaryHealthy_():"r"===w?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===w&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},y.prototype.onSecondaryMessageReceived_=function(v){var w=zt("t",v),T=zt("d",v);if("c"===w)this.onSecondaryControl_(T);else{if("d"!==w)throw new Error("Unknown protocol layer: "+w);this.pendingDataMessages.push(T)}},y.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},y.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},y.prototype.onPrimaryMessageReceived_=function(v){var w=zt("t",v),T=zt("d",v);"c"===w?this.onControl_(T):"d"===w&&this.onDataMessage_(T)},y.prototype.onDataMessage_=function(v){this.onPrimaryResponse_(),this.onMessage_(v)},y.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},y.prototype.onControl_=function(v){var w=zt("t",v);if("d"in v){var T=v.d;if("h"===w)this.onHandshake_(T);else if("n"===w){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===w?this.onConnectionShutdown_(T):"r"===w?this.onReset_(T):"e"===w?Xn("Server Error: "+T):"o"===w?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xn("Unknown control packet command: "+w)}},y.prototype.onHandshake_=function(v){var w=v.ts,T=v.v,P=v.h;this.sessionId=v.s,this.repoInfo_.host=P,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,w),"5"!==T&&_n("Protocol version mismatch detected"),this.tryStartUpgrade_())},y.prototype.tryStartUpgrade_=function(){var v=this.transportManager_.upgradeTransport();v&&this.startUpgrade_(v)},y.prototype.startUpgrade_=function(v){var w=this;this.secondaryConn_=new v(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=v.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.secondaryConn_),P=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(T,P),gr(function(){w.secondaryConn_&&(w.log_("Timed out trying to upgrade."),w.secondaryConn_.close())},Math.floor(6e4))},y.prototype.onReset_=function(v){this.log_("Reset packet received.  New host: "+v),this.repoInfo_.host=v,1===this.state_?this.close():(this.closeConnections_(),this.start_())},y.prototype.onConnectionEstablished_=function(v,w){var T=this;this.log_("Realtime connection established."),this.conn_=v,this.state_=1,this.onReady_&&(this.onReady_(w,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(function(){T.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},y.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},y.prototype.onSecondaryConnectionLost_=function(){var v=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===v||this.rx_===v)&&this.close()},y.prototype.onConnectionLost_=function(v){this.conn_=null,v||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ce.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},y.prototype.onConnectionShutdown_=function(v){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(v),this.onKill_=null),this.onDisconnect_=null,this.close()},y.prototype.sendData_=function(v){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(v)},y.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},y.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},y}(),se=function(){function y(){}return y.prototype.put=function(v,w,T,P){},y.prototype.merge=function(v,w,T,P){},y.prototype.refreshAuthToken=function(v){},y.prototype.refreshAppCheckToken=function(v){},y.prototype.onDisconnectPut=function(v,w,T){},y.prototype.onDisconnectMerge=function(v,w,T){},y.prototype.onDisconnectCancel=function(v,w){},y.prototype.reportStats=function(v){},y}(),fe=function(){function y(v){this.allowedEvents_=v,this.listeners_={},(0,K.hu)(Array.isArray(v)&&v.length>0,"Requires a non-empty array")}return y.prototype.trigger=function(v){for(var w=[],T=1;T<arguments.length;T++)w[T-1]=arguments[T];if(Array.isArray(this.listeners_[v]))for(var P=(0,Ie.ev)([],(0,Ie.CR)(this.listeners_[v])),U=0;U<P.length;U++)P[U].callback.apply(P[U].context,w)},y.prototype.on=function(v,w,T){this.validateEventType_(v),this.listeners_[v]=this.listeners_[v]||[],this.listeners_[v].push({callback:w,context:T});var P=this.getInitialEvent(v);P&&w.apply(T,P)},y.prototype.off=function(v,w,T){this.validateEventType_(v);for(var P=this.listeners_[v]||[],U=0;U<P.length;U++)if(P[U].callback===w&&(!T||T===P[U].context))return void P.splice(U,1)},y.prototype.validateEventType_=function(v){(0,K.hu)(this.allowedEvents_.find(function(w){return w===v}),"Unknown event: "+v)},y}(),k=function(y){function v(){var w=y.call(this,["online"])||this;return w.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,K.uI)()&&(window.addEventListener("online",function(){w.online_||(w.online_=!0,w.trigger("online",!0))},!1),window.addEventListener("offline",function(){w.online_&&(w.online_=!1,w.trigger("online",!1))},!1)),w}return(0,Ie.ZT)(v,y),v.getInstance=function(){return new v},v.prototype.getInitialEvent=function(w){return(0,K.hu)("online"===w,"Unknown event type: "+w),[this.online_]},v.prototype.currentlyOnline=function(){return this.online_},v}(fe),ee=function(){function y(v,w){if(void 0===w){this.pieces_=v.split("/");for(var T=0,P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[T]=this.pieces_[P],T++);this.pieces_.length=T,this.pieceNum_=0}else this.pieces_=v,this.pieceNum_=w}return y.prototype.toString=function(){for(var v="",w=this.pieceNum_;w<this.pieces_.length;w++)""!==this.pieces_[w]&&(v+="/"+this.pieces_[w]);return v||"/"},y}();function pe(){return new ee("")}function Fe(y){return y.pieceNum_>=y.pieces_.length?null:y.pieces_[y.pieceNum_]}function Re(y){return y.pieces_.length-y.pieceNum_}function Qe(y){var v=y.pieceNum_;return v<y.pieces_.length&&v++,new ee(y.pieces_,v)}function rt(y){return y.pieceNum_<y.pieces_.length?y.pieces_[y.pieces_.length-1]:null}function It(y,v){return void 0===v&&(v=0),y.pieces_.slice(y.pieceNum_+v)}function un(y){if(y.pieceNum_>=y.pieces_.length)return null;for(var v=[],w=y.pieceNum_;w<y.pieces_.length-1;w++)v.push(y.pieces_[w]);return new ee(v,0)}function St(y,v){for(var w=[],T=y.pieceNum_;T<y.pieces_.length;T++)w.push(y.pieces_[T]);if(v instanceof ee)for(T=v.pieceNum_;T<v.pieces_.length;T++)w.push(v.pieces_[T]);else{var P=v.split("/");for(T=0;T<P.length;T++)P[T].length>0&&w.push(P[T])}return new ee(w,0)}function Ht(y){return y.pieceNum_>=y.pieces_.length}function fn(y,v){var w=Fe(y),T=Fe(v);if(null===w)return v;if(w===T)return fn(Qe(y),Qe(v));throw new Error("INTERNAL ERROR: innerPath ("+v+") is not within outerPath ("+y+")")}function wi(y,v){for(var w=It(y,0),T=It(v,0),P=0;P<w.length&&P<T.length;P++){var U=Ye(w[P],T[P]);if(0!==U)return U}return w.length===T.length?0:w.length<T.length?-1:1}function _s(y,v){if(Re(y)!==Re(v))return!1;for(var w=y.pieceNum_,T=v.pieceNum_;w<=y.pieces_.length;w++,T++)if(y.pieces_[w]!==v.pieces_[T])return!1;return!0}function oi(y,v){var w=y.pieceNum_,T=v.pieceNum_;if(Re(y)>Re(v))return!1;for(;w<y.pieces_.length;){if(y.pieces_[w]!==v.pieces_[T])return!1;++w,++T}return!0}var tl=function(v,w){this.errorPrefix_=w,this.parts_=It(v,0),this.byteLength_=Math.max(1,this.parts_.length);for(var T=0;T<this.parts_.length;T++)this.byteLength_+=(0,K.ug)(this.parts_[T]);du(this)};function du(y){if(y.byteLength_>768)throw new Error(y.errorPrefix_+"has a key path longer than 768 bytes ("+y.byteLength_+").");if(y.parts_.length>32)throw new Error(y.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gi(y))}function gi(y){return 0===y.parts_.length?"":"in property '"+y.parts_.join(".")+"'"}var Qf,Kf,Gi=function(y){function v(){var T,P,w=y.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(P="visibilitychange",T="hidden"):void 0!==document.mozHidden?(P="mozvisibilitychange",T="mozHidden"):void 0!==document.msHidden?(P="msvisibilitychange",T="msHidden"):void 0!==document.webkitHidden&&(P="webkitvisibilitychange",T="webkitHidden")),w.visible_=!0,P&&document.addEventListener(P,function(){var U=!document[T];U!==w.visible_&&(w.visible_=U,w.trigger("visible",U))},!1),w}return(0,Ie.ZT)(v,y),v.getInstance=function(){return new v},v.prototype.getInitialEvent=function(w){return(0,K.hu)("visible"===w,"Unknown event type: "+w),[this.visible_]},v}(fe),nl=1e3,Yl=function(y){function v(w,T,P,U,W,ie,ae,ve){var ye=y.call(this)||this;if(ye.repoInfo_=w,ye.applicationId_=T,ye.onDataUpdate_=P,ye.onConnectStatus_=U,ye.onServerInfoUpdate_=W,ye.authTokenProvider_=ie,ye.appCheckTokenProvider_=ae,ye.authOverride_=ve,ye.id=v.nextPersistentConnectionId_++,ye.log_=Dn("p:"+ye.id+":"),ye.interruptReasons_={},ye.listens=new Map,ye.outstandingPuts_=[],ye.outstandingGets_=[],ye.outstandingPutCount_=0,ye.outstandingGetCount_=0,ye.onDisconnectRequestQueue_=[],ye.connected_=!1,ye.reconnectDelay_=nl,ye.maxReconnectDelay_=3e5,ye.securityDebugCallback_=null,ye.lastSessionId=null,ye.establishConnectionTimer_=null,ye.visible_=!1,ye.requestCBHash_={},ye.requestNumber_=0,ye.realtime_=null,ye.authToken_=null,ye.appCheckToken_=null,ye.forceTokenRefresh_=!1,ye.invalidAuthTokenCount_=0,ye.invalidAppCheckTokenCount_=0,ye.firstConnection_=!0,ye.lastConnectionAttemptTime_=null,ye.lastConnectionEstablishedTime_=null,ve&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Gi.getInstance().on("visible",ye.onVisible_,ye),-1===w.host.indexOf("fblocal")&&k.getInstance().on("online",ye.onOnline_,ye),ye}return(0,Ie.ZT)(v,y),v.prototype.sendRequest=function(w,T,P){var U=++this.requestNumber_,W={r:U,a:w,b:T};this.log_((0,K.Pz)(W)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(W),P&&(this.requestCBHash_[U]=P)},v.prototype.get=function(w){var T=this;this.initConnection_();var P=new K.BH,U={p:w._path.toString(),q:w._queryObject},W={action:"g",request:U,onComplete:function(ae){var ve=ae.d;"ok"===ae.s?(T.onDataUpdate_(U.p,ve,!1,null),P.resolve(ve)):P.reject(ve)}};this.outstandingGets_.push(W),this.outstandingGetCount_++;var ie=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var ae=T.outstandingGets_[ie];void 0===ae||W!==ae||(delete T.outstandingGets_[ie],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),T.log_("get "+ie+" timed out on connection"),P.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(ie),P.promise},v.prototype.listen=function(w,T,P,U){this.initConnection_();var W=w._queryIdentifier,ie=w._path.toString();this.log_("Listen called for "+ie+" "+W),this.listens.has(ie)||this.listens.set(ie,new Map),(0,K.hu)(w._queryParams.isDefault()||!w._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(ie).has(W),"listen() called twice for same path/queryId.");var ae={onComplete:U,hashFn:T,query:w,tag:P};this.listens.get(ie).set(W,ae),this.connected_&&this.sendListen_(ae)},v.prototype.sendGet_=function(w){var T=this,P=this.outstandingGets_[w];this.sendRequest("g",P.request,function(U){delete T.outstandingGets_[w],T.outstandingGetCount_--,0===T.outstandingGetCount_&&(T.outstandingGets_=[]),P.onComplete&&P.onComplete(U)})},v.prototype.sendListen_=function(w){var T=this,P=w.query,U=P._path.toString(),W=P._queryIdentifier;this.log_("Listen on "+U+" for "+W);var ie={p:U};w.tag&&(ie.q=P._queryObject,ie.t=w.tag),ie.h=w.hashFn(),this.sendRequest("q",ie,function(ve){var ye=ve.d,je=ve.s;v.warnOnListenWarnings_(ye,P),(T.listens.get(U)&&T.listens.get(U).get(W))===w&&(T.log_("listen response",ve),"ok"!==je&&T.removeListen_(U,W),w.onComplete&&w.onComplete(je,ye))})},v.warnOnListenWarnings_=function(w,T){if(w&&"object"==typeof w&&(0,K.r3)(w,"w")){var P=(0,K.DV)(w,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){var U='".indexOn": "'+T._queryParams.getIndex().toString()+'"',W=T._path.toString();_n("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+U+" at "+W+" to your security rules for better performance.")}}},v.prototype.refreshAuthToken=function(w){this.authToken_=w,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(w)},v.prototype.reduceReconnectDelayIfAdminCredential_=function(w){(w&&40===w.length||(0,K.GJ)(w))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},v.prototype.refreshAppCheckToken=function(w){this.appCheckToken_=w,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},v.prototype.tryAuth=function(){var w=this;if(this.connected_&&this.authToken_){var T=this.authToken_,P=(0,K.w9)(T)?"auth":"gauth",U={cred:T};null===this.authOverride_?U.noauth=!0:"object"==typeof this.authOverride_&&(U.authvar=this.authOverride_),this.sendRequest(P,U,function(W){var ie=W.s,ae=W.d||"error";w.authToken_===T&&("ok"===ie?w.invalidAuthTokenCount_=0:w.onAuthRevoked_(ie,ae))})}},v.prototype.tryAppCheck=function(){var w=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(T){var P=T.s,U=T.d||"error";"ok"===P?w.invalidAppCheckTokenCount_=0:w.onAppCheckRevoked_(P,U)})},v.prototype.unlisten=function(w,T){var P=w._path.toString(),U=w._queryIdentifier;this.log_("Unlisten called for "+P+" "+U),(0,K.hu)(w._queryParams.isDefault()||!w._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,U)&&this.connected_&&this.sendUnlisten_(P,U,w._queryObject,T)},v.prototype.sendUnlisten_=function(w,T,P,U){this.log_("Unlisten on "+w+" for "+T);var W={p:w};U&&(W.q=P,W.t=U),this.sendRequest("n",W)},v.prototype.onDisconnectPut=function(w,T,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",w,T,P):this.onDisconnectRequestQueue_.push({pathString:w,action:"o",data:T,onComplete:P})},v.prototype.onDisconnectMerge=function(w,T,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",w,T,P):this.onDisconnectRequestQueue_.push({pathString:w,action:"om",data:T,onComplete:P})},v.prototype.onDisconnectCancel=function(w,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",w,null,T):this.onDisconnectRequestQueue_.push({pathString:w,action:"oc",data:null,onComplete:T})},v.prototype.sendOnDisconnect_=function(w,T,P,U){var W={p:T,d:P};this.log_("onDisconnect "+w,W),this.sendRequest(w,W,function(ie){U&&setTimeout(function(){U(ie.s,ie.d)},Math.floor(0))})},v.prototype.put=function(w,T,P,U){this.putInternal("p",w,T,P,U)},v.prototype.merge=function(w,T,P,U){this.putInternal("m",w,T,P,U)},v.prototype.putInternal=function(w,T,P,U,W){this.initConnection_();var ie={p:T,d:P};void 0!==W&&(ie.h=W),this.outstandingPuts_.push({action:w,request:ie,onComplete:U}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+T)},v.prototype.sendPut_=function(w){var T=this,P=this.outstandingPuts_[w].action,U=this.outstandingPuts_[w].request,W=this.outstandingPuts_[w].onComplete;this.outstandingPuts_[w].queued=this.connected_,this.sendRequest(P,U,function(ie){T.log_(P+" response",ie),delete T.outstandingPuts_[w],T.outstandingPutCount_--,0===T.outstandingPutCount_&&(T.outstandingPuts_=[]),W&&W(ie.s,ie.d)})},v.prototype.reportStats=function(w){var T=this;if(this.connected_){var P={c:w};this.log_("reportStats",P),this.sendRequest("s",P,function(U){"ok"!==U.s&&T.log_("reportStats","Error sending stats: "+U.d)})}},v.prototype.onDataMessage_=function(w){if("r"in w){this.log_("from server: "+(0,K.Pz)(w));var T=w.r,P=this.requestCBHash_[T];P&&(delete this.requestCBHash_[T],P(w.b))}else{if("error"in w)throw"A server-side error has occurred: "+w.error;"a"in w&&this.onDataPush_(w.a,w.b)}},v.prototype.onDataPush_=function(w,T){this.log_("handleServerMessage",w,T),"d"===w?this.onDataUpdate_(T.p,T.d,!1,T.t):"m"===w?this.onDataUpdate_(T.p,T.d,!0,T.t):"c"===w?this.onListenRevoked_(T.p,T.q):"ac"===w?this.onAuthRevoked_(T.s,T.d):"apc"===w?this.onAppCheckRevoked_(T.s,T.d):"sd"===w?this.onSecurityDebugPacket_(T):Xn("Unrecognized action received from server: "+(0,K.Pz)(w)+"\nAre you using the latest client?")},v.prototype.onReady_=function(w,T){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(w),this.lastSessionId=T,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},v.prototype.scheduleConnect_=function(w){var T=this;(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){T.establishConnectionTimer_=null,T.establishConnection_()},Math.floor(w))},v.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},v.prototype.onVisible_=function(w){w&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=w},v.prototype.onOnline_=function(w){w?(this.log_("Browser went online."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},v.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var T=(new Date).getTime()-this.lastConnectionAttemptTime_,P=Math.max(0,this.reconnectDelay_-T);P=Math.random()*P,this.log_("Trying to reconnect in "+P+"ms"),this.scheduleConnect_(P),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},v.prototype.establishConnection_=function(){return(0,Ie.mG)(this,void 0,void 0,function(){var w,T,P,U,W,ie,ae,ve,je,Je,ct,mt,qt,Ut=this;return(0,Ie.Jh)(this,function(nn){switch(nn.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,w=this.onDataMessage_.bind(this),T=this.onReady_.bind(this),P=this.onRealtimeDisconnect_.bind(this),U=this.id+":"+v.nextConnectionId_++,W=this.lastSessionId,ie=!1,ae=null,this.realtime_={close:ve=function(){ae?ae.close():(ie=!0,P())},sendRequest:function(vi){(0,K.hu)(ae,"sendRequest call when we're not connected not allowed."),ae.sendRequest(vi)}},je=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,nn.label=1;case 1:return nn.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(je),this.appCheckTokenProvider_.getToken(je)])];case 2:return Je=Ie.CR.apply(void 0,[nn.sent(),2]),ct=Je[0],mt=Je[1],ie?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=ct&&ct.accessToken,this.appCheckToken_=mt&&mt.token,ae=new ne(U,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,w,T,P,function(vi){_n(vi+" ("+Ut.repoInfo_.toString()+")"),Ut.interrupt("server_kill")},W)),[3,4];case 3:return qt=nn.sent(),this.log_("Failed to get token: "+qt),ie||(this.repoInfo_.nodeAdmin&&_n(qt),ve()),[3,4];case 4:return[2]}})})},v.prototype.interrupt=function(w){vt("Interrupting connection for reason: "+w),this.interruptReasons_[w]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},v.prototype.resume=function(w){vt("Resuming connection for reason: "+w),delete this.interruptReasons_[w],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0))},v.prototype.handleTimestamp_=function(w){var T=w-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:T})},v.prototype.cancelSentTransactions_=function(){for(var w=0;w<this.outstandingPuts_.length;w++){var T=this.outstandingPuts_[w];T&&"h"in T.request&&T.queued&&(T.onComplete&&T.onComplete("disconnect"),delete this.outstandingPuts_[w],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},v.prototype.onListenRevoked_=function(w,T){var P;P=T?T.map(function(W){return Sn(W)}).join("$"):"default";var U=this.removeListen_(w,P);U&&U.onComplete&&U.onComplete("permission_denied")},v.prototype.removeListen_=function(w,T){var U,P=new ee(w).toString();if(this.listens.has(P)){var W=this.listens.get(P);U=W.get(T),W.delete(T),0===W.size&&this.listens.delete(P)}else U=void 0;return U},v.prototype.onAuthRevoked_=function(w,T){vt("Auth token revoked: "+w+"/"+T),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===w||"permission_denied"===w)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},v.prototype.onAppCheckRevoked_=function(w,T){vt("App check token revoked: "+w+"/"+T),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===w||"permission_denied"===w)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},v.prototype.onSecurityDebugPacket_=function(w){this.securityDebugCallback_?this.securityDebugCallback_(w):"msg"in w&&console.log("FIREBASE: "+w.msg.replace("\n","\nFIREBASE: "))},v.prototype.restoreState_=function(){var w,T,P,U;this.tryAuth(),this.tryAppCheck();try{for(var W=(0,Ie.XA)(this.listens.values()),ie=W.next();!ie.done;ie=W.next()){var ae=ie.value;try{for(var ve=(P=void 0,(0,Ie.XA)(ae.values())),ye=ve.next();!ye.done;ye=ve.next())this.sendListen_(ye.value)}catch(mt){P={error:mt}}finally{try{ye&&!ye.done&&(U=ve.return)&&U.call(ve)}finally{if(P)throw P.error}}}}catch(mt){w={error:mt}}finally{try{ie&&!ie.done&&(T=W.return)&&T.call(W)}finally{if(w)throw w.error}}for(var Je=0;Je<this.outstandingPuts_.length;Je++)this.outstandingPuts_[Je]&&this.sendPut_(Je);for(;this.onDisconnectRequestQueue_.length;){var ct=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ct.action,ct.pathString,ct.data,ct.onComplete)}for(Je=0;Je<this.outstandingGets_.length;Je++)this.outstandingGets_[Je]&&this.sendGet_(Je)},v.prototype.sendConnectStats_=function(){var w={},T="js";(0,K.Yr)()&&(T=this.repoInfo_.nodeAdmin?"admin_node":"node"),w["sdk."+T+"."+Se.replace(/\./g,"-")]=1,(0,K.uI)()?w["framework.cordova"]=1:(0,K.b$)()&&(w["framework.reactnative"]=1),this.reportStats(w)},v.prototype.shouldReconnect_=function(){var w=k.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&w},v.nextPersistentConnectionId_=0,v.nextConnectionId_=0,v}(se),xn=function(){function y(v,w){this.name=v,this.node=w}return y.Wrap=function(v,w){return new y(v,w)},y}(),Zf=function(){function y(){}return y.prototype.getCompare=function(){return this.compare.bind(this)},y.prototype.indexedValueChanged=function(v,w){var T=new xn(ze,v),P=new xn(ze,w);return 0!==this.compare(T,P)},y.prototype.minPost=function(){return xn.MIN},y}(),N_=function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),Object.defineProperty(v,"__EMPTY_NODE",{get:function(){return Qf},set:function(w){Qf=w},enumerable:!1,configurable:!0}),v.prototype.compare=function(w,T){return Ye(w.name,T.name)},v.prototype.isDefinedOn=function(w){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")},v.prototype.indexedValueChanged=function(w,T){return!1},v.prototype.minPost=function(){return xn.MIN},v.prototype.maxPost=function(){return new xn(nt,Qf)},v.prototype.makePost=function(w,T){return(0,K.hu)("string"==typeof w,"KeyIndex indexValue must always be a string."),new xn(w,Qf)},v.prototype.toString=function(){return".key"},v}(Zf),ro=new N_,fu=function(){function y(v,w,T,P,U){void 0===U&&(U=null),this.isReverse_=P,this.resultGenerator_=U,this.nodeStack_=[];for(var W=1;!v.isEmpty();)if(v=v,W=w?T(v.key,w):1,P&&(W*=-1),W<0)v=this.isReverse_?v.left:v.right;else{if(0===W){this.nodeStack_.push(v);break}this.nodeStack_.push(v),v=this.isReverse_?v.right:v.left}}return y.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var w,v=this.nodeStack_.pop();if(w=this.resultGenerator_?this.resultGenerator_(v.key,v.value):{key:v.key,value:v.value},this.isReverse_)for(v=v.left;!v.isEmpty();)this.nodeStack_.push(v),v=v.right;else for(v=v.right;!v.isEmpty();)this.nodeStack_.push(v),v=v.left;return w},y.prototype.hasNext=function(){return this.nodeStack_.length>0},y.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var v=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(v.key,v.value):{key:v.key,value:v.value}},y}(),Kr=function(){function y(v,w,T,P,U){this.key=v,this.value=w,this.color=null!=T?T:y.RED,this.left=null!=P?P:so.EMPTY_NODE,this.right=null!=U?U:so.EMPTY_NODE}return y.prototype.copy=function(v,w,T,P,U){return new y(null!=v?v:this.key,null!=w?w:this.value,null!=T?T:this.color,null!=P?P:this.left,null!=U?U:this.right)},y.prototype.count=function(){return this.left.count()+1+this.right.count()},y.prototype.isEmpty=function(){return!1},y.prototype.inorderTraversal=function(v){return this.left.inorderTraversal(v)||!!v(this.key,this.value)||this.right.inorderTraversal(v)},y.prototype.reverseTraversal=function(v){return this.right.reverseTraversal(v)||v(this.key,this.value)||this.left.reverseTraversal(v)},y.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},y.prototype.minKey=function(){return this.min_().key},y.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},y.prototype.insert=function(v,w,T){var P=this,U=T(v,P.key);return(P=U<0?P.copy(null,null,null,P.left.insert(v,w,T),null):0===U?P.copy(null,w,null,null,null):P.copy(null,null,null,null,P.right.insert(v,w,T))).fixUp_()},y.prototype.removeMin_=function(){if(this.left.isEmpty())return so.EMPTY_NODE;var v=this;return!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),(v=v.copy(null,null,null,v.left.removeMin_(),null)).fixUp_()},y.prototype.remove=function(v,w){var T,P;if(w(v,(T=this).key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(v,w),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===w(v,T.key)){if(T.right.isEmpty())return so.EMPTY_NODE;P=T.right.min_(),T=T.copy(P.key,P.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(v,w))}return T.fixUp_()},y.prototype.isRed_=function(){return this.color},y.prototype.fixUp_=function(){var v=this;return v.right.isRed_()&&!v.left.isRed_()&&(v=v.rotateLeft_()),v.left.isRed_()&&v.left.left.isRed_()&&(v=v.rotateRight_()),v.left.isRed_()&&v.right.isRed_()&&(v=v.colorFlip_()),v},y.prototype.moveRedLeft_=function(){var v=this.colorFlip_();return v.right.left.isRed_()&&(v=(v=(v=v.copy(null,null,null,null,v.right.rotateRight_())).rotateLeft_()).colorFlip_()),v},y.prototype.moveRedRight_=function(){var v=this.colorFlip_();return v.left.left.isRed_()&&(v=(v=v.rotateRight_()).colorFlip_()),v},y.prototype.rotateLeft_=function(){var v=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,v,null)},y.prototype.rotateRight_=function(){var v=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,v)},y.prototype.colorFlip_=function(){var v=this.left.copy(null,null,!this.left.color,null,null),w=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,v,w)},y.prototype.checkMaxDepth_=function(){var v=this.check_();return Math.pow(2,v)<=this.count()+1},y.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var v=this.left.check_();if(v!==this.right.check_())throw new Error("Black depths differ");return v+(this.isRed_()?0:1)},y.RED=!0,y.BLACK=!1,y}(),rC=function(){function y(){}return y.prototype.copy=function(v,w,T,P,U){return this},y.prototype.insert=function(v,w,T){return new Kr(v,w,null)},y.prototype.remove=function(v,w){return this},y.prototype.count=function(){return 0},y.prototype.isEmpty=function(){return!0},y.prototype.inorderTraversal=function(v){return!1},y.prototype.reverseTraversal=function(v){return!1},y.prototype.minKey=function(){return null},y.prototype.maxKey=function(){return null},y.prototype.check_=function(){return 0},y.prototype.isRed_=function(){return!1},y}(),so=function(){function y(v,w){void 0===w&&(w=y.EMPTY_NODE),this.comparator_=v,this.root_=w}return y.prototype.insert=function(v,w){return new y(this.comparator_,this.root_.insert(v,w,this.comparator_).copy(null,null,Kr.BLACK,null,null))},y.prototype.remove=function(v){return new y(this.comparator_,this.root_.remove(v,this.comparator_).copy(null,null,Kr.BLACK,null,null))},y.prototype.get=function(v){for(var w,T=this.root_;!T.isEmpty();){if(0===(w=this.comparator_(v,T.key)))return T.value;w<0?T=T.left:w>0&&(T=T.right)}return null},y.prototype.getPredecessorKey=function(v){for(var w,T=this.root_,P=null;!T.isEmpty();){if(0===(w=this.comparator_(v,T.key))){if(T.left.isEmpty())return P?P.key:null;for(T=T.left;!T.right.isEmpty();)T=T.right;return T.key}w<0?T=T.left:w>0&&(P=T,T=T.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},y.prototype.isEmpty=function(){return this.root_.isEmpty()},y.prototype.count=function(){return this.root_.count()},y.prototype.minKey=function(){return this.root_.minKey()},y.prototype.maxKey=function(){return this.root_.maxKey()},y.prototype.inorderTraversal=function(v){return this.root_.inorderTraversal(v)},y.prototype.reverseTraversal=function(v){return this.root_.reverseTraversal(v)},y.prototype.getIterator=function(v){return new fu(this.root_,null,this.comparator_,!1,v)},y.prototype.getIteratorFrom=function(v,w){return new fu(this.root_,v,this.comparator_,!1,w)},y.prototype.getReverseIteratorFrom=function(v,w){return new fu(this.root_,v,this.comparator_,!0,w)},y.prototype.getReverseIterator=function(v){return new fu(this.root_,null,this.comparator_,!0,v)},y.EMPTY_NODE=new rC,y}();function bm(y,v){return Ye(y.name,v.name)}function Po(y,v){return Ye(y,v)}var wm,Jf,ep,$h,ql,Wh=function(y){return"number"==typeof y?"number:"+yt(y):"string:"+y},xm=function(y){if(y.isLeafNode()){var v=y.val();(0,K.hu)("string"==typeof v||"number"==typeof v||"object"==typeof v&&(0,K.r3)(v,".sv"),"Priority must be a string or number.")}else(0,K.hu)(y===Kf||y.isEmpty(),"priority of unexpected type.");(0,K.hu)(y===Kf||y.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},il=function(){function y(v,w){void 0===w&&(w=y.__childrenNodeConstructor.EMPTY_NODE),this.value_=v,this.priorityNode_=w,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xm(this.priorityNode_)}return Object.defineProperty(y,"__childrenNodeConstructor",{get:function(){return wm},set:function(v){wm=v},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!0},y.prototype.getPriority=function(){return this.priorityNode_},y.prototype.updatePriority=function(v){return new y(this.value_,v)},y.prototype.getImmediateChild=function(v){return".priority"===v?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.getChild=function(v){return Ht(v)?this:".priority"===Fe(v)?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.hasChild=function(){return!1},y.prototype.getPredecessorChildName=function(v,w){return null},y.prototype.updateImmediateChild=function(v,w){return".priority"===v?this.updatePriority(w):w.isEmpty()&&".priority"!==v?this:y.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(v,w).updatePriority(this.priorityNode_)},y.prototype.updateChild=function(v,w){var T=Fe(v);return null===T?w:w.isEmpty()&&".priority"!==T?this:((0,K.hu)(".priority"!==T||1===Re(v),".priority must be the last token in a path"),this.updateImmediateChild(T,y.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(v),w)))},y.prototype.isEmpty=function(){return!1},y.prototype.numChildren=function(){return 0},y.prototype.forEachChild=function(v,w){return!1},y.prototype.val=function(v){return v&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},y.prototype.hash=function(){if(null===this.lazyHash_){var v="";this.priorityNode_.isEmpty()||(v+="priority:"+Wh(this.priorityNode_.val())+":");var w=typeof this.value_;v+=w+":",v+="number"===w?yt(this.value_):this.value_,this.lazyHash_=pt(v)}return this.lazyHash_},y.prototype.getValue=function(){return this.value_},y.prototype.compareTo=function(v){return v===y.__childrenNodeConstructor.EMPTY_NODE?1:v instanceof y.__childrenNodeConstructor?-1:((0,K.hu)(v.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(v))},y.prototype.compareToLeafNode_=function(v){var w=typeof v.value_,T=typeof this.value_,P=y.VALUE_TYPE_ORDER.indexOf(w),U=y.VALUE_TYPE_ORDER.indexOf(T);return(0,K.hu)(P>=0,"Unknown leaf type: "+w),(0,K.hu)(U>=0,"Unknown leaf type: "+T),P===U?"object"===T?0:this.value_<v.value_?-1:this.value_===v.value_?0:1:U-P},y.prototype.withIndex=function(){return this},y.prototype.isIndexed=function(){return!0},y.prototype.equals=function(v){return v===this||!!v.isLeafNode()&&(this.value_===v.value_&&this.priorityNode_.equals(v.priorityNode_))},y.VALUE_TYPE_ORDER=["object","boolean","number","string"],y}(),Hn=new(function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),v.prototype.compare=function(w,T){var P=w.node.getPriority(),U=T.node.getPriority(),W=P.compareTo(U);return 0===W?Ye(w.name,T.name):W},v.prototype.isDefinedOn=function(w){return!w.getPriority().isEmpty()},v.prototype.indexedValueChanged=function(w,T){return!w.getPriority().equals(T.getPriority())},v.prototype.minPost=function(){return xn.MIN},v.prototype.maxPost=function(){return new xn(nt,new il("[PRIORITY-POST]",ep))},v.prototype.makePost=function(w,T){var P=Jf(w);return new xn(T,new il("[PRIORITY-POST]",P))},v.prototype.toString=function(){return".priority"},v}(Zf)),Sm=Math.log(2),qh=function(){function y(v){this.count=parseInt(Math.log(v+1)/Sm,10),this.current_=this.count-1;var P=parseInt(Array(this.count+1).join("1"),2);this.bits_=v+1&P}return y.prototype.nextBitIsOne=function(){var v=!(this.bits_&1<<this.current_);return this.current_--,v},y}(),Xh=function(y,v,w,T){y.sort(v);var P=function(ae,ve){var je,Je,ye=ve-ae;if(0===ye)return null;if(1===ye)return je=y[ae],Je=w?w(je):je,new Kr(Je,je.node,Kr.BLACK,null,null);var ct=parseInt(ye/2,10)+ae,mt=P(ae,ct),qt=P(ct+1,ve);return je=y[ct],Je=w?w(je):je,new Kr(Je,je.node,Kr.BLACK,mt,qt)},ie=function(ae){for(var ve=null,ye=null,je=y.length,Je=function(nn,vi){var ss=je-nn,yc=je;je-=nn;var Wu=P(ss+1,yc),Ba=y[ss],qu=w?w(Ba):Ba;ct(new Kr(qu,Ba.node,vi,null,Wu))},ct=function(nn){ve?(ve.left=nn,ve=nn):(ye=nn,ve=nn)},mt=0;mt<ae.count;++mt){var qt=ae.nextBitIsOne(),Ut=Math.pow(2,ae.count-(mt+1));qt?Je(Ut,Kr.BLACK):(Je(Ut,Kr.BLACK),Je(Ut,Kr.RED))}return ye}(new qh(y.length));return new so(T||v,ie)},Wl={},Zn=function(){function y(v,w){this.indexes_=v,this.indexSet_=w}return Object.defineProperty(y,"Default",{get:function(){return(0,K.hu)(Wl&&Hn,"ChildrenNode.ts has not been loaded"),$h=$h||new y({".priority":Wl},{".priority":Hn})},enumerable:!1,configurable:!0}),y.prototype.get=function(v){var w=(0,K.DV)(this.indexes_,v);if(!w)throw new Error("No index defined for "+v);return w instanceof so?w:null},y.prototype.hasIndex=function(v){return(0,K.r3)(this.indexSet_,v.toString())},y.prototype.addIndex=function(v,w){(0,K.hu)(v!==ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var T=[],P=!1,U=w.getIterator(xn.Wrap),W=U.getNext();W;)P=P||v.isDefinedOn(W.node),T.push(W),W=U.getNext();var ie;ie=P?Xh(T,v.getCompare()):Wl;var ae=v.toString(),ve=(0,Ie.pi)({},this.indexSet_);ve[ae]=v;var ye=(0,Ie.pi)({},this.indexes_);return ye[ae]=ie,new y(ye,ve)},y.prototype.addToIndexes=function(v,w){var T=this;return new y((0,K.UI)(this.indexes_,function(U,W){var ie=(0,K.DV)(T.indexSet_,W);if((0,K.hu)(ie,"Missing index implementation for "+W),U===Wl){if(ie.isDefinedOn(v.node)){for(var ae=[],ve=w.getIterator(xn.Wrap),ye=ve.getNext();ye;)ye.name!==v.name&&ae.push(ye),ye=ve.getNext();return ae.push(v),Xh(ae,ie.getCompare())}return Wl}var je=w.get(v.name),Je=U;return je&&(Je=Je.remove(new xn(v.name,je))),Je.insert(v,v.node)}),this.indexSet_)},y.prototype.removeFromIndexes=function(v,w){return new y((0,K.UI)(this.indexes_,function(P){if(P===Wl)return P;var U=w.get(v.name);return U?P.remove(new xn(v.name,U)):P}),this.indexSet_)},y}(),$t=function(){function y(v,w,T){this.children_=v,this.priorityNode_=w,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&xm(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(y,"EMPTY_NODE",{get:function(){return ql||(ql=new y(new so(Po),null,Zn.Default))},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!1},y.prototype.getPriority=function(){return this.priorityNode_||ql},y.prototype.updatePriority=function(v){return this.children_.isEmpty()?this:new y(this.children_,v,this.indexMap_)},y.prototype.getImmediateChild=function(v){if(".priority"===v)return this.getPriority();var w=this.children_.get(v);return null===w?ql:w},y.prototype.getChild=function(v){var w=Fe(v);return null===w?this:this.getImmediateChild(w).getChild(Qe(v))},y.prototype.hasChild=function(v){return null!==this.children_.get(v)},y.prototype.updateImmediateChild=function(v,w){if((0,K.hu)(w,"We should always be passing snapshot nodes"),".priority"===v)return this.updatePriority(w);var T=new xn(v,w),P=void 0,U=void 0;w.isEmpty()?(P=this.children_.remove(v),U=this.indexMap_.removeFromIndexes(T,this.children_)):(P=this.children_.insert(v,w),U=this.indexMap_.addToIndexes(T,this.children_));var W=P.isEmpty()?ql:this.priorityNode_;return new y(P,W,U)},y.prototype.updateChild=function(v,w){var T=Fe(v);if(null===T)return w;(0,K.hu)(".priority"!==Fe(v)||1===Re(v),".priority must be the last token in a path");var P=this.getImmediateChild(T).updateChild(Qe(v),w);return this.updateImmediateChild(T,P)},y.prototype.isEmpty=function(){return this.children_.isEmpty()},y.prototype.numChildren=function(){return this.children_.count()},y.prototype.val=function(v){if(this.isEmpty())return null;var w={},T=0,P=0,U=!0;if(this.forEachChild(Hn,function(ae,ve){w[ae]=ve.val(v),T++,U&&y.INTEGER_REGEXP_.test(ae)?P=Math.max(P,Number(ae)):U=!1}),!v&&U&&P<2*T){var W=[];for(var ie in w)W[ie]=w[ie];return W}return v&&!this.getPriority().isEmpty()&&(w[".priority"]=this.getPriority().val()),w},y.prototype.hash=function(){if(null===this.lazyHash_){var v="";this.getPriority().isEmpty()||(v+="priority:"+Wh(this.getPriority().val())+":"),this.forEachChild(Hn,function(w,T){var P=T.hash();""!==P&&(v+=":"+w+":"+P)}),this.lazyHash_=""===v?"":pt(v)}return this.lazyHash_},y.prototype.getPredecessorChildName=function(v,w,T){var P=this.resolveIndex_(T);if(P){var U=P.getPredecessorKey(new xn(v,w));return U?U.name:null}return this.children_.getPredecessorKey(v)},y.prototype.getFirstChildName=function(v){var w=this.resolveIndex_(v);if(w){var T=w.minKey();return T&&T.name}return this.children_.minKey()},y.prototype.getFirstChild=function(v){var w=this.getFirstChildName(v);return w?new xn(w,this.children_.get(w)):null},y.prototype.getLastChildName=function(v){var w=this.resolveIndex_(v);if(w){var T=w.maxKey();return T&&T.name}return this.children_.maxKey()},y.prototype.getLastChild=function(v){var w=this.getLastChildName(v);return w?new xn(w,this.children_.get(w)):null},y.prototype.forEachChild=function(v,w){var T=this.resolveIndex_(v);return T?T.inorderTraversal(function(P){return w(P.name,P.node)}):this.children_.inorderTraversal(w)},y.prototype.getIterator=function(v){return this.getIteratorFrom(v.minPost(),v)},y.prototype.getIteratorFrom=function(v,w){var T=this.resolveIndex_(w);if(T)return T.getIteratorFrom(v,function(W){return W});for(var P=this.children_.getIteratorFrom(v.name,xn.Wrap),U=P.peek();null!=U&&w.compare(U,v)<0;)P.getNext(),U=P.peek();return P},y.prototype.getReverseIterator=function(v){return this.getReverseIteratorFrom(v.maxPost(),v)},y.prototype.getReverseIteratorFrom=function(v,w){var T=this.resolveIndex_(w);if(T)return T.getReverseIteratorFrom(v,function(W){return W});for(var P=this.children_.getReverseIteratorFrom(v.name,xn.Wrap),U=P.peek();null!=U&&w.compare(U,v)>0;)P.getNext(),U=P.peek();return P},y.prototype.compareTo=function(v){return this.isEmpty()?v.isEmpty()?0:-1:v.isLeafNode()||v.isEmpty()?1:v===Wn?-1:0},y.prototype.withIndex=function(v){if(v===ro||this.indexMap_.hasIndex(v))return this;var w=this.indexMap_.addIndex(v,this.children_);return new y(this.children_,this.priorityNode_,w)},y.prototype.isIndexed=function(v){return v===ro||this.indexMap_.hasIndex(v)},y.prototype.equals=function(v){if(v===this)return!0;if(v.isLeafNode())return!1;var w=v;if(this.getPriority().equals(w.getPriority())){if(this.children_.count()===w.children_.count()){for(var T=this.getIterator(Hn),P=w.getIterator(Hn),U=T.getNext(),W=P.getNext();U&&W;){if(U.name!==W.name||!U.node.equals(W.node))return!1;U=T.getNext(),W=P.getNext()}return null===U&&null===W}return!1}return!1},y.prototype.resolveIndex_=function(v){return v===ro?null:this.indexMap_.get(v.toString())},y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,y}(),Wn=new(function(y){function v(){return y.call(this,new so(Po),$t.EMPTY_NODE,Zn.Default)||this}return(0,Ie.ZT)(v,y),v.prototype.compareTo=function(w){return w===this?0:1},v.prototype.equals=function(w){return w===this},v.prototype.getPriority=function(){return this},v.prototype.getImmediateChild=function(w){return $t.EMPTY_NODE},v.prototype.isEmpty=function(){return!1},v}($t));function ai(y,v){if(void 0===v&&(v=null),null===y)return $t.EMPTY_NODE;if("object"==typeof y&&".priority"in y&&(v=y[".priority"]),(0,K.hu)(null===v||"string"==typeof v||"number"==typeof v||"object"==typeof v&&".sv"in v,"Invalid priority type found: "+typeof v),"object"==typeof y&&".value"in y&&null!==y[".value"]&&(y=y[".value"]),"object"!=typeof y||".sv"in y)return new il(y,ai(v));if(y instanceof Array){var ae=$t.EMPTY_NODE;return Ft(y,function(ve,ye){if((0,K.r3)(y,ve)&&"."!==ve.substring(0,1)){var je=ai(ye);(je.isLeafNode()||!je.isEmpty())&&(ae=ae.updateImmediateChild(ve,je))}}),ae.updatePriority(ai(v))}var T=[],P=!1;if(Ft(y,function(ve,ye){if("."!==ve.substring(0,1)){var je=ai(ye);je.isEmpty()||(P=P||!je.getPriority().isEmpty(),T.push(new xn(ve,je)))}}),0===T.length)return $t.EMPTY_NODE;var W=Xh(T,bm,function(ve){return ve.name},Po);if(P){var ie=Xh(T,Hn.getCompare());return new $t(W,ai(v),new Zn({".priority":ie},{".priority":Hn}))}return new $t(W,ai(v),Zn.Default)}Object.defineProperties(xn,{MIN:{value:new xn(ze,$t.EMPTY_NODE)},MAX:{value:new xn(nt,Wn)}}),N_.__EMPTY_NODE=$t.EMPTY_NODE,il.__childrenNodeConstructor=$t,function(y){Kf=y}(Wn),function(y){ep=y}(Wn),function(y){Jf=y}(ai);var Xl=function(y){function v(w){var T=y.call(this)||this;return T.indexPath_=w,(0,K.hu)(!Ht(w)&&".priority"!==Fe(w),"Can't create PathIndex with empty path or .priority key"),T}return(0,Ie.ZT)(v,y),v.prototype.extractChild=function(w){return w.getChild(this.indexPath_)},v.prototype.isDefinedOn=function(w){return!w.getChild(this.indexPath_).isEmpty()},v.prototype.compare=function(w,T){var P=this.extractChild(w.node),U=this.extractChild(T.node),W=P.compareTo(U);return 0===W?Ye(w.name,T.name):W},v.prototype.makePost=function(w,T){var P=ai(w),U=$t.EMPTY_NODE.updateChild(this.indexPath_,P);return new xn(T,U)},v.prototype.maxPost=function(){var w=$t.EMPTY_NODE.updateChild(this.indexPath_,Wn);return new xn(nt,w)},v.prototype.toString=function(){return It(this.indexPath_,0).join("/")},v}(Zf),pu=new(function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),v.prototype.compare=function(w,T){var P=w.node.compareTo(T.node);return 0===P?Ye(w.name,T.name):P},v.prototype.isDefinedOn=function(w){return!0},v.prototype.indexedValueChanged=function(w,T){return!w.equals(T)},v.prototype.minPost=function(){return xn.MIN},v.prototype.maxPost=function(){return xn.MAX},v.prototype.makePost=function(w,T){var P=ai(w);return new xn(T,P)},v.prototype.toString=function(){return".value"},v}(Zf)),ma="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Am=function(){var y=0,v=[];return function(w){var T=w===y;y=w;var P,U=new Array(8);for(P=7;P>=0;P--)U[P]=ma.charAt(w%64),w=Math.floor(w/64);(0,K.hu)(0===w,"Cannot push at time == 0");var W=U.join("");if(T){for(P=11;P>=0&&63===v[P];P--)v[P]=0;v[P]++}else for(P=0;P<12;P++)v[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)W+=ma.charAt(v[P]);return(0,K.hu)(20===W.length,"nextPushId: Length should be 20."),W}}(),gu=function(y){if(y===""+Rn)return"-";var v=fi(y);if(null!=v)return""+(v+1);for(var w=new Array(y.length),T=0;T<w.length;T++)w[T]=y.charAt(T);if(w.length<786)return w.push("-"),w.join("");for(var P=w.length-1;P>=0&&"z"===w[P];)P--;if(-1===P)return nt;var W=ma.charAt(ma.indexOf(w[P])+1);return w[P]=W,w.slice(0,P+1).join("")},ya=function(y){if(y===""+Ji)return ze;var v=fi(y);if(null!=v)return""+(v-1);for(var w=new Array(y.length),T=0;T<w.length;T++)w[T]=y.charAt(T);return"-"===w[w.length-1]?1===w.length?""+Rn:(delete w[w.length-1],w.join("")):(w[w.length-1]=ma.charAt(ma.indexOf(w[w.length-1])-1),w.join("")+"z".repeat(786-w.length))};function tp(y){return{type:"value",snapshotNode:y}}function _a(y,v){return{type:"child_added",snapshotNode:v,childName:y}}function Wt(y,v){return{type:"child_removed",snapshotNode:v,childName:y}}function mu(y,v,w){return{type:"child_changed",snapshotNode:v,childName:y,oldSnap:w}}var np=function(){function y(v){this.index_=v}return y.prototype.updateChild=function(v,w,T,P,U,W){(0,K.hu)(v.isIndexed(this.index_),"A node must be indexed if only a child is updated");var ie=v.getImmediateChild(w);return ie.getChild(P).equals(T.getChild(P))&&ie.isEmpty()===T.isEmpty()||(null!=W&&(T.isEmpty()?v.hasChild(w)?W.trackChildChange(Wt(w,ie)):(0,K.hu)(v.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ie.isEmpty()?W.trackChildChange(_a(w,T)):W.trackChildChange(mu(w,T,ie))),v.isLeafNode()&&T.isEmpty())?v:v.updateImmediateChild(w,T).withIndex(this.index_)},y.prototype.updateFullNode=function(v,w,T){return null!=T&&(v.isLeafNode()||v.forEachChild(Hn,function(P,U){w.hasChild(P)||T.trackChildChange(Wt(P,U))}),w.isLeafNode()||w.forEachChild(Hn,function(P,U){if(v.hasChild(P)){var W=v.getImmediateChild(P);W.equals(U)||T.trackChildChange(mu(P,U,W))}else T.trackChildChange(_a(P,U))})),w.withIndex(this.index_)},y.prototype.updatePriority=function(v,w){return v.isEmpty()?$t.EMPTY_NODE:v.updatePriority(w)},y.prototype.filtersNodes=function(){return!1},y.prototype.getIndexedFilter=function(){return this},y.prototype.getIndex=function(){return this.index_},y}(),Tm=function(){function y(v){this.indexedFilter_=new np(v.getIndex()),this.index_=v.getIndex(),this.startPost_=y.getStartPost_(v),this.endPost_=y.getEndPost_(v)}return y.prototype.getStartPost=function(){return this.startPost_},y.prototype.getEndPost=function(){return this.endPost_},y.prototype.matches=function(v){return this.index_.compare(this.getStartPost(),v)<=0&&this.index_.compare(v,this.getEndPost())<=0},y.prototype.updateChild=function(v,w,T,P,U,W){return this.matches(new xn(w,T))||(T=$t.EMPTY_NODE),this.indexedFilter_.updateChild(v,w,T,P,U,W)},y.prototype.updateFullNode=function(v,w,T){w.isLeafNode()&&(w=$t.EMPTY_NODE);var P=w.withIndex(this.index_);P=P.updatePriority($t.EMPTY_NODE);var U=this;return w.forEachChild(Hn,function(W,ie){U.matches(new xn(W,ie))||(P=P.updateImmediateChild(W,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(v,P,T)},y.prototype.updatePriority=function(v,w){return v},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.indexedFilter_},y.prototype.getIndex=function(){return this.index_},y.getStartPost_=function(v){if(v.hasStart()){var w=v.getIndexStartName();return v.getIndex().makePost(v.getIndexStartValue(),w)}return v.getIndex().minPost()},y.getEndPost_=function(v){if(v.hasEnd()){var w=v.getIndexEndName();return v.getIndex().makePost(v.getIndexEndValue(),w)}return v.getIndex().maxPost()},y}(),B_=function(){function y(v){this.rangedFilter_=new Tm(v),this.index_=v.getIndex(),this.limit_=v.getLimit(),this.reverse_=!v.isViewFromLeft()}return y.prototype.updateChild=function(v,w,T,P,U,W){return this.rangedFilter_.matches(new xn(w,T))||(T=$t.EMPTY_NODE),v.getImmediateChild(w).equals(T)?v:v.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(v,w,T,P,U,W):this.fullLimitUpdateChild_(v,w,T,U,W)},y.prototype.updateFullNode=function(v,w,T){var P;if(w.isLeafNode()||w.isEmpty())P=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<w.numChildren()&&w.isIndexed(this.index_)){P=$t.EMPTY_NODE.withIndex(this.index_);var U=void 0;U=this.reverse_?w.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):w.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var W=0;U.hasNext()&&W<this.limit_;){var ie=U.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ie)<=0:this.index_.compare(ie,this.rangedFilter_.getEndPost())<=0))break;P=P.updateImmediateChild(ie.name,ie.node),W++}}else{P=(P=w.withIndex(this.index_)).updatePriority($t.EMPTY_NODE);var ve=void 0,ye=void 0,je=void 0;if(U=void 0,this.reverse_){U=P.getReverseIterator(this.index_),ve=this.rangedFilter_.getEndPost(),ye=this.rangedFilter_.getStartPost();var Je=this.index_.getCompare();je=function(Ut,nn){return Je(nn,Ut)}}else U=P.getIterator(this.index_),ve=this.rangedFilter_.getStartPost(),ye=this.rangedFilter_.getEndPost(),je=this.index_.getCompare();W=0;for(var ct=!1;U.hasNext();)ie=U.getNext(),!ct&&je(ve,ie)<=0&&(ct=!0),ct&&W<this.limit_&&je(ie,ye)<=0?W++:P=P.updateImmediateChild(ie.name,$t.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(v,P,T)},y.prototype.updatePriority=function(v,w){return v},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},y.prototype.getIndex=function(){return this.index_},y.prototype.fullLimitUpdateChild_=function(v,w,T,P,U){var W;if(this.reverse_){var ie=this.index_.getCompare();W=function(vi,ss){return ie(ss,vi)}}else W=this.index_.getCompare();var ae=v;(0,K.hu)(ae.numChildren()===this.limit_,"");var ve=new xn(w,T),ye=this.reverse_?ae.getFirstChild(this.index_):ae.getLastChild(this.index_),je=this.rangedFilter_.matches(ve);if(ae.hasChild(w)){for(var Je=ae.getImmediateChild(w),ct=P.getChildAfterChild(this.index_,ye,this.reverse_);null!=ct&&(ct.name===w||ae.hasChild(ct.name));)ct=P.getChildAfterChild(this.index_,ct,this.reverse_);var mt=null==ct?1:W(ct,ve);if(je&&!T.isEmpty()&&mt>=0)return null!=U&&U.trackChildChange(mu(w,T,Je)),ae.updateImmediateChild(w,T);null!=U&&U.trackChildChange(Wt(w,Je));var Ut=ae.updateImmediateChild(w,$t.EMPTY_NODE);return null!=ct&&this.rangedFilter_.matches(ct)?(null!=U&&U.trackChildChange(_a(ct.name,ct.node)),Ut.updateImmediateChild(ct.name,ct.node)):Ut}return T.isEmpty()?v:je&&W(ye,ve)>=0?(null!=U&&(U.trackChildChange(Wt(ye.name,ye.node)),U.trackChildChange(_a(w,T))),ae.updateImmediateChild(w,T).updateImmediateChild(ye.name,$t.EMPTY_NODE)):v},y}(),Dm=function(){function y(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hn}return y.prototype.hasStart=function(){return this.startSet_},y.prototype.hasStartAfter=function(){return this.startAfterSet_},y.prototype.hasEndBefore=function(){return this.endBeforeSet_},y.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},y.prototype.getIndexStartValue=function(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},y.prototype.getIndexStartName=function(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ze},y.prototype.hasEnd=function(){return this.endSet_},y.prototype.getIndexEndValue=function(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},y.prototype.getIndexEndName=function(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nt},y.prototype.hasLimit=function(){return this.limitSet_},y.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},y.prototype.getLimit=function(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},y.prototype.getIndex=function(){return this.index_},y.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},y.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Hn},y.prototype.copy=function(){var v=new y;return v.limitSet_=this.limitSet_,v.limit_=this.limit_,v.startSet_=this.startSet_,v.indexStartValue_=this.indexStartValue_,v.startNameSet_=this.startNameSet_,v.indexStartName_=this.indexStartName_,v.endSet_=this.endSet_,v.indexEndValue_=this.indexEndValue_,v.endNameSet_=this.endNameSet_,v.indexEndName_=this.indexEndName_,v.index_=this.index_,v.viewFrom_=this.viewFrom_,v},y}();function yu(y,v,w){var T=y.copy();return T.startSet_=!0,void 0===v&&(v=null),T.indexStartValue_=v,null!=w?(T.startNameSet_=!0,T.indexStartName_=w):(T.startNameSet_=!1,T.indexStartName_=""),T}function _u(y,v,w){var T=y.copy();return T.endSet_=!0,void 0===v&&(v=null),T.indexEndValue_=v,void 0!==w?(T.endNameSet_=!0,T.indexEndName_=w):(T.endNameSet_=!1,T.indexEndName_=""),T}function vr(y,v){var w=y.copy();return w.index_=v,w}function bu(y){var w,v={};return y.isDefault()||(y.index_===Hn?w="$priority":y.index_===pu?w="$value":y.index_===ro?w="$key":((0,K.hu)(y.index_ instanceof Xl,"Unrecognized index type!"),w=y.index_.toString()),v.orderBy=(0,K.Pz)(w),y.startSet_&&(v.startAt=(0,K.Pz)(y.indexStartValue_),y.startNameSet_&&(v.startAt+=","+(0,K.Pz)(y.indexStartName_))),y.endSet_&&(v.endAt=(0,K.Pz)(y.indexEndValue_),y.endNameSet_&&(v.endAt+=","+(0,K.Pz)(y.indexEndName_))),y.limitSet_&&(y.isViewFromLeft()?v.limitToFirst=y.limit_:v.limitToLast=y.limit_)),v}function xu(y){var v={};if(y.startSet_&&(v.sp=y.indexStartValue_,y.startNameSet_&&(v.sn=y.indexStartName_)),y.endSet_&&(v.ep=y.indexEndValue_,y.endNameSet_&&(v.en=y.indexEndName_)),y.limitSet_){v.l=y.limit_;var w=y.viewFrom_;""===w&&(w=y.isViewFromLeft()?"l":"r"),v.vf=w}return y.index_!==Hn&&(v.i=y.index_.toString()),v}var oC=function(y){function v(w,T,P,U){var W=y.call(this)||this;return W.repoInfo_=w,W.onDataUpdate_=T,W.authTokenProvider_=P,W.appCheckTokenProvider_=U,W.log_=Dn("p:rest:"),W.listens_={},W}return(0,Ie.ZT)(v,y),v.prototype.reportStats=function(w){throw new Error("Method not implemented.")},v.getListenId_=function(w,T){return void 0!==T?"tag$"+T:((0,K.hu)(w._queryParams.isDefault(),"should have a tag if it's not a default query."),w._path.toString())},v.prototype.listen=function(w,T,P,U){var W=this,ie=w._path.toString();this.log_("Listen called for "+ie+" "+w._queryIdentifier);var ae=v.getListenId_(w,P),ve={};this.listens_[ae]=ve;var ye=bu(w._queryParams);this.restRequest_(ie+".json",ye,function(je,Je){var ct=Je;404===je&&(ct=null,je=null),null===je&&W.onDataUpdate_(ie,ct,!1,P),(0,K.DV)(W.listens_,ae)===ve&&U(je?401===je?"permission_denied":"rest_error:"+je:"ok",null)})},v.prototype.unlisten=function(w,T){var P=v.getListenId_(w,T);delete this.listens_[P]},v.prototype.get=function(w){var T=this,P=bu(w._queryParams),U=w._path.toString(),W=new K.BH;return this.restRequest_(U+".json",P,function(ie,ae){var ve=ae;404===ie&&(ve=null,ie=null),null===ie?(T.onDataUpdate_(U,ve,!1,null),W.resolve(ve)):W.reject(new Error(ve))}),W.promise},v.prototype.refreshAuthToken=function(w){},v.prototype.restRequest_=function(w,T,P){var U=this;return void 0===T&&(T={}),T.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(W){var ie=(0,Ie.CR)(W,2),ae=ie[0],ve=ie[1];ae&&ae.accessToken&&(T.auth=ae.accessToken),ve&&ve.token&&(T.ac=ve.token);var ye=(U.repoInfo_.secure?"https://":"http://")+U.repoInfo_.host+w+"?ns="+U.repoInfo_.namespace+(0,K.xO)(T);U.log_("Sending REST request for "+ye);var je=new XMLHttpRequest;je.onreadystatechange=function(){if(P&&4===je.readyState){U.log_("REST Response for "+ye+" received. status:",je.status,"response:",je.responseText);var Je=null;if(je.status>=200&&je.status<300){try{Je=(0,K.cI)(je.responseText)}catch(ct){_n("Failed to parse JSON response for "+ye+": "+je.responseText)}P(null,Je)}else 401!==je.status&&404!==je.status&&_n("Got unsuccessful REST response for "+ye+" Status: "+je.status),P(je.status);P=null}},je.open("GET",ye,!0),je.send()})},v}(se),H_=function(){function y(){this.rootNode_=$t.EMPTY_NODE}return y.prototype.getNode=function(v){return this.rootNode_.getChild(v)},y.prototype.updateSnapshot=function(v,w){this.rootNode_=this.rootNode_.updateChild(v,w)},y}();function sl(){return{value:null,children:new Map}}function No(y,v,w){if(Ht(v))y.value=w,y.children.clear();else if(null!==y.value)y.value=y.value.updateChild(v,w);else{var T=Fe(v);y.children.has(T)||y.children.set(T,sl()),No(y.children.get(T),v=Qe(v),w)}}function Di(y,v){if(Ht(v))return y.value=null,y.children.clear(),!0;if(null!==y.value){if(y.value.isLeafNode())return!1;var w=y.value;return y.value=null,w.forEachChild(Hn,function(U,W){No(y,new ee(U),W)}),Di(y,v)}if(y.children.size>0){var T=Fe(v);return v=Qe(v),y.children.has(T)&&Di(y.children.get(T),v)&&y.children.delete(T),0===y.children.size}return!0}function Jr(y,v,w){null!==y.value?w(v,y.value):function(y,v){y.children.forEach(function(w,T){v(T,w)})}(y,function(T,P){Jr(P,new ee(v.toString()+"/"+T),w)})}var oo=function(){function y(v){this.collection_=v,this.last_=null}return y.prototype.get=function(){var v=this.collection_.get(),w=(0,Ie.pi)({},v);return this.last_&&Ft(this.last_,function(T,P){w[T]=w[T]-P}),this.last_=v,w},y}(),Mm=function(){function y(v,w){this.server_=w,this.statsToReport_={},this.statsListener_=new oo(v);var T=1e4+2e4*Math.random();gr(this.reportStats_.bind(this),Math.floor(T))}return y.prototype.reportStats_=function(){var v=this,w=this.statsListener_.get(),T={},P=!1;Ft(w,function(U,W){W>0&&(0,K.r3)(v.statsToReport_,U)&&(T[U]=W,P=!0)}),P&&this.server_.reportStats(T),gr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},y}(),Pr=(()=>(function(y){y[y.OVERWRITE=0]="OVERWRITE",y[y.MERGE=1]="MERGE",y[y.ACK_USER_WRITE=2]="ACK_USER_WRITE",y[y.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Pr||(Pr={})),Pr))();function ol(y){return{fromUser:!1,fromServer:!0,queryId:y,tagged:!0}}var km=function(){function y(v,w,T){this.path=v,this.affectedTree=w,this.revert=T,this.type=Pr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return y.prototype.operationForChild=function(v){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var w=this.affectedTree.subtree(new ee(v));return new y(pe(),w,this.revert)}return(0,K.hu)(Fe(this.path)===v,"operationForChild called for unrelated child."),new y(Qe(this.path),this.affectedTree,this.revert)},y}(),ip=function(){function y(v,w){this.source=v,this.path=w,this.type=Pr.LISTEN_COMPLETE}return y.prototype.operationForChild=function(v){return Ht(this.path)?new y(this.source,pe()):new y(this.source,Qe(this.path))},y}(),al=function(){function y(v,w,T){this.source=v,this.path=w,this.snap=T,this.type=Pr.OVERWRITE}return y.prototype.operationForChild=function(v){return Ht(this.path)?new y(this.source,pe(),this.snap.getImmediateChild(v)):new y(this.source,Qe(this.path),this.snap)},y}(),Qh=function(){function y(v,w,T){this.source=v,this.path=w,this.children=T,this.type=Pr.MERGE}return y.prototype.operationForChild=function(v){if(Ht(this.path)){var w=this.children.subtree(new ee(v));return w.isEmpty()?null:w.value?new al(this.source,pe(),w.value):new y(this.source,pe(),w)}return(0,K.hu)(Fe(this.path)===v,"Can't get a merge for a child not on the path of the operation"),new y(this.source,Qe(this.path),this.children)},y.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},y}(),ba=function(){function y(v,w,T){this.node_=v,this.fullyInitialized_=w,this.filtered_=T}return y.prototype.isFullyInitialized=function(){return this.fullyInitialized_},y.prototype.isFiltered=function(){return this.filtered_},y.prototype.isCompleteForPath=function(v){if(Ht(v))return this.isFullyInitialized()&&!this.filtered_;var w=Fe(v);return this.isCompleteForChild(w)},y.prototype.isCompleteForChild=function(v){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(v)},y.prototype.getNode=function(){return this.node_},y}(),Rm=function(v){this.query_=v,this.index_=this.query_._queryParams.getIndex()};function Fo(y,v,w,T,P,U){var W=T.filter(function(ie){return ie.type===w});W.sort(function(ie,ae){return function(y,v,w){if(null==v.childName||null==w.childName)throw(0,K.g5)("Should only compare child_ events.");var T=new xn(v.childName,v.snapshotNode),P=new xn(w.childName,w.snapshotNode);return y.index_.compare(T,P)}(y,ie,ae)}),W.forEach(function(ie){var ae=function(y,v,w){return"value"===v.type||"child_removed"===v.type||(v.prevName=w.getPredecessorChildName(v.childName,v.snapshotNode,y.index_)),v}(y,ie,U);P.forEach(function(ve){ve.respondsTo(ie.type)&&v.push(ve.createEvent(ae,y.query_))})})}function Fi(y,v){return{eventCache:y,serverCache:v}}function Hs(y,v,w,T){return Fi(new ba(v,w,T),y.serverCache)}function mi(y,v,w,T){return Fi(y.eventCache,new ba(v,w,T))}function Kh(y){return y.eventCache.isFullyInitialized()?y.eventCache.getNode():null}function $l(y){return y.serverCache.isFullyInitialized()?y.serverCache.getNode():null}var Jh,es=function(){function y(v,w){void 0===w&&(Jh||(Jh=new so(Dt)),w=Jh),this.value=v,this.children=w}return y.fromObject=function(v){var w=new y(null);return Ft(v,function(T,P){w=w.set(new ee(T),P)}),w},y.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},y.prototype.findRootMostMatchingPathAndValue=function(v,w){if(null!=this.value&&w(this.value))return{path:pe(),value:this.value};if(Ht(v))return null;var T=Fe(v),P=this.children.get(T);if(null!==P){var U=P.findRootMostMatchingPathAndValue(Qe(v),w);return null!=U?{path:St(new ee(T),U.path),value:U.value}:null}return null},y.prototype.findRootMostValueAndPath=function(v){return this.findRootMostMatchingPathAndValue(v,function(){return!0})},y.prototype.subtree=function(v){if(Ht(v))return this;var w=Fe(v),T=this.children.get(w);return null!==T?T.subtree(Qe(v)):new y(null)},y.prototype.set=function(v,w){if(Ht(v))return new y(w,this.children);var T=Fe(v),U=(this.children.get(T)||new y(null)).set(Qe(v),w),W=this.children.insert(T,U);return new y(this.value,W)},y.prototype.remove=function(v){if(Ht(v))return this.children.isEmpty()?new y(null):new y(null,this.children);var w=Fe(v),T=this.children.get(w);if(T){var P=T.remove(Qe(v)),U=void 0;return U=P.isEmpty()?this.children.remove(w):this.children.insert(w,P),null===this.value&&U.isEmpty()?new y(null):new y(this.value,U)}return this},y.prototype.get=function(v){if(Ht(v))return this.value;var w=Fe(v),T=this.children.get(w);return T?T.get(Qe(v)):null},y.prototype.setTree=function(v,w){if(Ht(v))return w;var W,T=Fe(v),U=(this.children.get(T)||new y(null)).setTree(Qe(v),w);return W=U.isEmpty()?this.children.remove(T):this.children.insert(T,U),new y(this.value,W)},y.prototype.fold=function(v){return this.fold_(pe(),v)},y.prototype.fold_=function(v,w){var T={};return this.children.inorderTraversal(function(P,U){T[P]=U.fold_(St(v,P),w)}),w(v,this.value,T)},y.prototype.findOnPath=function(v,w){return this.findOnPath_(v,pe(),w)},y.prototype.findOnPath_=function(v,w,T){var P=!!this.value&&T(w,this.value);if(P)return P;if(Ht(v))return null;var U=Fe(v),W=this.children.get(U);return W?W.findOnPath_(Qe(v),St(w,U),T):null},y.prototype.foreachOnPath=function(v,w){return this.foreachOnPath_(v,pe(),w)},y.prototype.foreachOnPath_=function(v,w,T){if(Ht(v))return this;this.value&&T(w,this.value);var P=Fe(v),U=this.children.get(P);return U?U.foreachOnPath_(Qe(v),St(w,P),T):new y(null)},y.prototype.foreach=function(v){this.foreach_(pe(),v)},y.prototype.foreach_=function(v,w){this.children.inorderTraversal(function(T,P){P.foreach_(St(v,T),w)}),this.value&&w(v,this.value)},y.prototype.foreachChild=function(v){this.children.inorderTraversal(function(w,T){T.value&&v(w,T.value)})},y}(),Nr=function(){function y(v){this.writeTree_=v}return y.empty=function(){return new y(new es(null))},y}();function xa(y,v,w){if(Ht(v))return new Nr(new es(w));var T=y.writeTree_.findRootMostValueAndPath(v);if(null!=T){var P=T.path,U=T.value,W=fn(P,v);return U=U.updateChild(W,w),new Nr(y.writeTree_.set(P,U))}var ie=new es(w),ae=y.writeTree_.setTree(v,ie);return new Nr(ae)}function wa(y,v,w){var T=y;return Ft(w,function(P,U){T=xa(T,St(v,P),U)}),T}function Cu(y,v){if(Ht(v))return Nr.empty();var w=y.writeTree_.setTree(v,new es(null));return new Nr(w)}function Su(y,v){return null!=Ca(y,v)}function Ca(y,v){var w=y.writeTree_.findRootMostValueAndPath(v);return null!=w?y.writeTree_.get(w.path).getChild(fn(w.path,v)):null}function Om(y){var v=[],w=y.writeTree_.value;return null!=w?w.isLeafNode()||w.forEachChild(Hn,function(T,P){v.push(new xn(T,P))}):y.writeTree_.children.inorderTraversal(function(T,P){null!=P.value&&v.push(new xn(T,P.value))}),v}function yr(y,v){if(Ht(v))return y;var w=Ca(y,v);return new Nr(null!=w?new es(w):y.writeTree_.subtree(v))}function Zl(y){return y.writeTree_.isEmpty()}function Eu(y,v){return Pm(pe(),y.writeTree_,v)}function Pm(y,v,w){if(null!=v.value)return w.updateChild(y,v.value);var T=null;return v.children.inorderTraversal(function(P,U){".priority"===P?((0,K.hu)(null!==U.value,"Priority writes must always be leaf nodes"),T=U.value):w=Pm(St(y,P),U,w)}),!w.getChild(y).isEmpty()&&null!==T&&(w=w.updateChild(St(y,".priority"),T)),w}function Sa(y,v){return lp(v,y)}function bT(y,v){if(y.snap)return oi(y.path,v);for(var w in y.children)if(y.children.hasOwnProperty(w)&&oi(St(y.path,w),v))return!0;return!1}function Nm(y){return y.visible}function Us(y,v,w){for(var T=Nr.empty(),P=0;P<y.length;++P){var U=y[P];if(v(U)){var W=U.path,ie=void 0;if(U.snap)oi(w,W)?T=xa(T,ie=fn(w,W),U.snap):oi(W,w)&&(ie=fn(W,w),T=xa(T,pe(),U.snap.getChild(ie)));else{if(!U.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(oi(w,W))T=wa(T,ie=fn(w,W),U.children);else if(oi(W,w))if(Ht(ie=fn(W,w)))T=wa(T,pe(),U.children);else{var ae=(0,K.DV)(U.children,Fe(ie));if(ae){var ve=ae.getChild(Qe(ie));T=xa(T,pe(),ve)}}}}}return T}function Au(y,v,w,T,P){if(T||P){var ae=yr(y.visibleWrites,v);return!P&&Zl(ae)?w:P||null!=w||Su(ae,pe())?Eu(Us(y.allWrites,function(Je){return(Je.visible||P)&&(!T||!~T.indexOf(Je.writeId))&&(oi(Je.path,v)||oi(v,Je.path))},v),w||$t.EMPTY_NODE):null}var U=Ca(y.visibleWrites,v);if(null!=U)return U;var W=yr(y.visibleWrites,v);return Zl(W)?w:null!=w||Su(W,pe())?Eu(W,w||$t.EMPTY_NODE):null}function cl(y,v,w,T){return Au(y.writeTree,y.treePath,v,w,T)}function q_(y,v){return function(y,v,w){var T=$t.EMPTY_NODE,P=Ca(y.visibleWrites,v);if(P)return P.isLeafNode()||P.forEachChild(Hn,function(ie,ae){T=T.updateImmediateChild(ie,ae)}),T;if(w){var U=yr(y.visibleWrites,v);return w.forEachChild(Hn,function(ie,ae){var ve=Eu(yr(U,new ee(ie)),ae);T=T.updateImmediateChild(ie,ve)}),Om(U).forEach(function(ie){T=T.updateImmediateChild(ie.name,ie.node)}),T}return Om(yr(y.visibleWrites,v)).forEach(function(ie){T=T.updateImmediateChild(ie.name,ie.node)}),T}(y.writeTree,y.treePath,v)}function ap(y,v,w,T){return function(y,v,w,T,P){(0,K.hu)(T||P,"Either existingEventSnap or existingServerSnap must exist");var U=St(v,w);if(Su(y.visibleWrites,U))return null;var W=yr(y.visibleWrites,U);return Zl(W)?P.getChild(w):Eu(W,P.getChild(w))}(y.writeTree,y.treePath,v,w,T)}function td(y,v){return function(y,v){return Ca(y.visibleWrites,v)}(y.writeTree,St(y.treePath,v))}function Vm(y,v,w){return function(y,v,w,T){var P=St(v,w),U=Ca(y.visibleWrites,P);return null!=U?U:T.isCompleteForChild(w)?Eu(yr(y.visibleWrites,P),T.getNode().getImmediateChild(w)):null}(y.writeTree,y.treePath,v,w)}function Ql(y,v){return lp(St(y.treePath,v),y.writeTree)}function lp(y,v){return{treePath:y,writeTree:v}}var nd=function(){function y(){this.changeMap=new Map}return y.prototype.trackChildChange=function(v){var w=v.type,T=v.childName;(0,K.hu)("child_added"===w||"child_changed"===w||"child_removed"===w,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==T,"Only non-priority child changes can be tracked.");var P=this.changeMap.get(T);if(P){var U=P.type;if("child_added"===w&&"child_removed"===U)this.changeMap.set(T,mu(T,v.snapshotNode,P.snapshotNode));else if("child_removed"===w&&"child_added"===U)this.changeMap.delete(T);else if("child_removed"===w&&"child_changed"===U)this.changeMap.set(T,Wt(T,P.oldSnap));else if("child_changed"===w&&"child_added"===U)this.changeMap.set(T,_a(T,v.snapshotNode));else{if("child_changed"!==w||"child_changed"!==U)throw(0,K.g5)("Illegal combination of changes: "+v+" occurred after "+P);this.changeMap.set(T,mu(T,v.snapshotNode,P.oldSnap))}}else this.changeMap.set(T,v)},y.prototype.getChanges=function(){return Array.from(this.changeMap.values())},y}(),Lo=new(function(){function y(){}return y.prototype.getCompleteChild=function(v){return null},y.prototype.getChildAfterChild=function(v,w,T){return null},y}()),ci=function(){function y(v,w,T){void 0===T&&(T=null),this.writes_=v,this.viewCache_=w,this.optCompleteServerCache_=T}return y.prototype.getCompleteChild=function(v){var w=this.viewCache_.eventCache;if(w.isCompleteForChild(v))return w.getNode().getImmediateChild(v);var T=null!=this.optCompleteServerCache_?new ba(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vm(this.writes_,v,T)},y.prototype.getChildAfterChild=function(v,w,T){var P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$l(this.viewCache_),U=function(y,v,w,T,P,U){return function(y,v,w,T,P,U,W){var ie,ae=yr(y.visibleWrites,v),ve=Ca(ae,pe());if(null!=ve)ie=ve;else{if(null==w)return[];ie=Eu(ae,w)}if((ie=ie.withIndex(W)).isEmpty()||ie.isLeafNode())return[];for(var ye=[],je=W.getCompare(),Je=U?ie.getReverseIteratorFrom(T,W):ie.getIteratorFrom(T,W),ct=Je.getNext();ct&&ye.length<P;)0!==je(ct,T)&&ye.push(ct),ct=Je.getNext();return ye}(y.writeTree,y.treePath,v,w,T,P,U)}(this.writes_,P,w,1,T,v);return 0===U.length?null:U[0]},y}();function ei(y,v,w,T,P,U){var W=v.eventCache;if(null!=td(T,w))return v;var ie=void 0,ae=void 0;if(Ht(w))if((0,K.hu)(v.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),v.serverCache.isFiltered()){var ve=$l(v),je=q_(T,ve instanceof $t?ve:$t.EMPTY_NODE);ie=y.filter.updateFullNode(v.eventCache.getNode(),je,U)}else{var Je=cl(T,$l(v));ie=y.filter.updateFullNode(v.eventCache.getNode(),Je,U)}else{var ct=Fe(w);if(".priority"===ct){(0,K.hu)(1===Re(w),"Can't have a priority with additional path components");var mt=W.getNode(),qt=ap(T,w,mt,ae=v.serverCache.getNode());ie=null!=qt?y.filter.updatePriority(mt,qt):W.getNode()}else{var Ut=Qe(w),nn=void 0;if(W.isCompleteForChild(ct)){ae=v.serverCache.getNode();var vi=ap(T,w,W.getNode(),ae);nn=null!=vi?W.getNode().getImmediateChild(ct).updateChild(Ut,vi):W.getNode().getImmediateChild(ct)}else nn=Vm(T,ct,v.serverCache);ie=null!=nn?y.filter.updateChild(W.getNode(),ct,nn,Ut,P,U):W.getNode()}}return Hs(v,ie,W.isFullyInitialized()||Ht(w),y.filter.filtersNodes())}function _r(y,v,w,T,P,U,W,ie){var ve,ae=v.serverCache,ye=W?y.filter:y.filter.getIndexedFilter();if(Ht(w))ve=ye.updateFullNode(ae.getNode(),T,null);else if(ye.filtersNodes()&&!ae.isFiltered()){var je=ae.getNode().updateChild(w,T);ve=ye.updateFullNode(ae.getNode(),je,null)}else{var Je=Fe(w);if(!ae.isCompleteForPath(w)&&Re(w)>1)return v;var ct=Qe(w),qt=ae.getNode().getImmediateChild(Je).updateChild(ct,T);ve=".priority"===Je?ye.updatePriority(ae.getNode(),qt):ye.updateChild(ae.getNode(),Je,qt,ct,Lo,null)}var Ut=mi(v,ve,ae.isFullyInitialized()||Ht(w),ye.filtersNodes());return ei(y,Ut,w,P,new ci(P,Ut,U),ie)}function Qn(y,v,w,T,P,U,W){var ae,ve,ie=v.eventCache,ye=new ci(P,v,U);if(Ht(w))ve=y.filter.updateFullNode(v.eventCache.getNode(),T,W),ae=Hs(v,ve,!0,y.filter.filtersNodes());else{var je=Fe(w);if(".priority"===je)ve=y.filter.updatePriority(v.eventCache.getNode(),T),ae=Hs(v,ve,ie.isFullyInitialized(),ie.isFiltered());else{var Je=Qe(w),ct=ie.getNode().getImmediateChild(je),mt=void 0;if(Ht(Je))mt=T;else{var qt=ye.getCompleteChild(je);mt=null!=qt?".priority"===rt(Je)&&qt.getChild(un(Je)).isEmpty()?qt:qt.updateChild(Je,T):$t.EMPTY_NODE}ae=ct.equals(mt)?v:Hs(v,y.filter.updateChild(ie.getNode(),je,mt,Je,ye,W),ie.isFullyInitialized(),y.filter.filtersNodes())}}return ae}function Kl(y,v){return y.eventCache.isCompleteForChild(v)}function tr(y,v,w){return w.foreach(function(T,P){v=v.updateChild(T,P)}),v}function ao(y,v,w,T,P,U,W,ie){if(v.serverCache.getNode().isEmpty()&&!v.serverCache.isFullyInitialized())return v;var ve,ae=v;ve=Ht(w)?T:new es(null).setTree(w,T);var ye=v.serverCache.getNode();return ve.children.inorderTraversal(function(je,Je){if(ye.hasChild(je)){var mt=tr(0,v.serverCache.getNode().getImmediateChild(je),Je);ae=_r(y,ae,new ee(je),mt,P,U,W,ie)}}),ve.children.inorderTraversal(function(je,Je){var ct=!v.serverCache.isCompleteForChild(je)&&void 0===Je.value;if(!ye.hasChild(je)&&!ct){var qt=tr(0,v.serverCache.getNode().getImmediateChild(je),Je);ae=_r(y,ae,new ee(je),qt,P,U,W,ie)}}),ae}var up=function(){function y(v,w){this.query_=v,this.eventRegistrations_=[];var T=this.query_._queryParams,P=new np(T.getIndex()),U=function(y){return y.loadsAllData()?new np(y.getIndex()):y.hasLimit()?new B_(y):new Tm(y)}(T);this.processor_=function(y){return{filter:y}}(U);var W=w.serverCache,ie=w.eventCache,ae=P.updateFullNode($t.EMPTY_NODE,W.getNode(),null),ve=U.updateFullNode($t.EMPTY_NODE,ie.getNode(),null),ye=new ba(ae,W.isFullyInitialized(),P.filtersNodes()),je=new ba(ve,ie.isFullyInitialized(),U.filtersNodes());this.viewCache_=Fi(je,ye),this.eventGenerator_=new Rm(this.query_)}return Object.defineProperty(y.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),y}();function nc(y,v){var w=$l(y.viewCache_);return w&&(y.query._queryParams.loadsAllData()||!Ht(v)&&!w.getImmediateChild(Fe(v)).isEmpty())?w.getChild(v):null}function ic(y){return 0===y.eventRegistrations_.length}function Ea(y,v,w){var T=[];if(w){(0,K.hu)(null==v,"A cancel should cancel all event registrations.");var P=y.query._path;y.eventRegistrations_.forEach(function(ae){var ve=ae.createCancelEvent(w,P);ve&&T.push(ve)})}if(v){for(var U=[],W=0;W<y.eventRegistrations_.length;++W){var ie=y.eventRegistrations_[W];if(ie.matches(v)){if(v.hasAnyCallback()){U=U.concat(y.eventRegistrations_.slice(W+1));break}}else U.push(ie)}y.eventRegistrations_=U}else y.eventRegistrations_=[];return T}function $_(y,v,w,T){v.type===Pr.MERGE&&null!==v.source.queryId&&((0,K.hu)($l(y.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(Kh(y.viewCache_),"Missing event cache, even though we have a server cache"));var P=y.viewCache_,U=function(y,v,w,T,P){var W,ie,U=new nd;if(w.type===Pr.OVERWRITE){var ae=w;ae.source.fromUser?W=Qn(y,v,ae.path,ae.snap,T,P,U):((0,K.hu)(ae.source.fromServer,"Unknown source."),ie=ae.source.tagged||v.serverCache.isFiltered()&&!Ht(ae.path),W=_r(y,v,ae.path,ae.snap,T,P,ie,U))}else if(w.type===Pr.MERGE){var ve=w;ve.source.fromUser?W=function(y,v,w,T,P,U,W){var ie=v;return T.foreach(function(ae,ve){var ye=St(w,ae);Kl(v,Fe(ye))&&(ie=Qn(y,ie,ye,ve,P,U,W))}),T.foreach(function(ae,ve){var ye=St(w,ae);Kl(v,Fe(ye))||(ie=Qn(y,ie,ye,ve,P,U,W))}),ie}(y,v,ve.path,ve.children,T,P,U):((0,K.hu)(ve.source.fromServer,"Unknown source."),ie=ve.source.tagged||v.serverCache.isFiltered(),W=ao(y,v,ve.path,ve.children,T,P,ie,U))}else if(w.type===Pr.ACK_USER_WRITE){var ye=w;W=ye.revert?function(y,v,w,T,P,U){var W;if(null!=td(T,w))return v;var ie=new ci(T,v,P),ae=v.eventCache.getNode(),ve=void 0;if(Ht(w)||".priority"===Fe(w)){var ye=void 0;if(v.serverCache.isFullyInitialized())ye=cl(T,$l(v));else{var je=v.serverCache.getNode();(0,K.hu)(je instanceof $t,"serverChildren would be complete if leaf node"),ye=q_(T,je)}ve=y.filter.updateFullNode(ae,ye=ye,U)}else{var Je=Fe(w),ct=Vm(T,Je,v.serverCache);null==ct&&v.serverCache.isCompleteForChild(Je)&&(ct=ae.getImmediateChild(Je)),(ve=null!=ct?y.filter.updateChild(ae,Je,ct,Qe(w),ie,U):v.eventCache.getNode().hasChild(Je)?y.filter.updateChild(ae,Je,$t.EMPTY_NODE,Qe(w),ie,U):ae).isEmpty()&&v.serverCache.isFullyInitialized()&&(W=cl(T,$l(v))).isLeafNode()&&(ve=y.filter.updateFullNode(ve,W,U))}return W=v.serverCache.isFullyInitialized()||null!=td(T,pe()),Hs(v,ve,W,y.filter.filtersNodes())}(y,v,ye.path,T,P,U):function(y,v,w,T,P,U,W){if(null!=td(P,w))return v;var ie=v.serverCache.isFiltered(),ae=v.serverCache;if(null!=T.value){if(Ht(w)&&ae.isFullyInitialized()||ae.isCompleteForPath(w))return _r(y,v,w,ae.getNode().getChild(w),P,U,ie,W);if(Ht(w)){var ve=new es(null);return ae.getNode().forEachChild(ro,function(je,Je){ve=ve.set(new ee(je),Je)}),ao(y,v,w,ve,P,U,ie,W)}return v}var ye=new es(null);return T.foreach(function(je,Je){var ct=St(w,je);ae.isCompleteForPath(ct)&&(ye=ye.set(je,ae.getNode().getChild(ct)))}),ao(y,v,w,ye,P,U,ie,W)}(y,v,ye.path,ye.affectedTree,T,P,U)}else{if(w.type!==Pr.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+w.type);W=function(y,v,w,T,P){var U=v.serverCache;return ei(y,mi(v,U.getNode(),U.isFullyInitialized()||Ht(w),U.isFiltered()),w,T,Lo,P)}(y,v,w.path,T,U)}var je=U.getChanges();return function(y,v,w){var T=v.eventCache;if(T.isFullyInitialized()){var P=T.getNode().isLeafNode()||T.getNode().isEmpty(),U=Kh(y);(w.length>0||!y.eventCache.isFullyInitialized()||P&&!T.getNode().equals(U)||!T.getNode().getPriority().equals(U.getPriority()))&&w.push(tp(Kh(v)))}}(v,W,je),{viewCache:W,changes:je}}(y.processor_,P,v,w,T);return function(y,v){(0,K.hu)(v.eventCache.getNode().isIndexed(y.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(v.serverCache.getNode().isIndexed(y.filter.getIndex()),"Server snap not indexed")}(y.processor_,U.viewCache),(0,K.hu)(U.viewCache.serverCache.isFullyInitialized()||!P.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),y.viewCache_=U.viewCache,Hm(y,U.changes,U.viewCache.eventCache.getNode(),null)}function Hm(y,v,w,T){return function(y,v,w,T){var P=[],U=[];return v.forEach(function(W){"child_changed"===W.type&&y.index_.indexedValueChanged(W.oldSnap,W.snapshotNode)&&U.push(function(y,v){return{type:"child_moved",snapshotNode:v,childName:y}}(W.childName,W.snapshotNode))}),Fo(y,P,"child_removed",v,T,w),Fo(y,P,"child_added",v,T,w),Fo(y,P,"child_moved",U,T,w),Fo(y,P,"child_changed",v,T,w),Fo(y,P,"value",v,T,w),P}(y.eventGenerator_,v,w,T?[T]:y.eventRegistrations_)}var hp,Si,Um=function(){this.views=new Map};function zm(y,v,w,T){var P,U,W=v.source.queryId;if(null!==W){var ie=y.views.get(W);return(0,K.hu)(null!=ie,"SyncTree gave us an op for an invalid query."),$_(ie,v,w,T)}var ae=[];try{for(var ve=(0,Ie.XA)(y.views.values()),ye=ve.next();!ye.done;ye=ve.next())ae=ae.concat($_(ie=ye.value,v,w,T))}catch(je){P={error:je}}finally{try{ye&&!ye.done&&(U=ve.return)&&U.call(ve)}finally{if(P)throw P.error}}return ae}function Cs(y,v,w,T,P){var W=y.views.get(v._queryIdentifier);if(!W){var ie=cl(w,P?T:null),ae=!1;ie?ae=!0:T instanceof $t?(ie=q_(w,T),ae=!1):(ie=$t.EMPTY_NODE,ae=!1);var ve=Fi(new ba(ie,ae,!1),new ba(T,P,!1));return new up(v,ve)}return W}function Q_(y){var v,w,T=[];try{for(var P=(0,Ie.XA)(y.views.values()),U=P.next();!U.done;U=P.next()){var W=U.value;W.query._queryParams.loadsAllData()||T.push(W)}}catch(ie){v={error:ie}}finally{try{U&&!U.done&&(w=P.return)&&w.call(P)}finally{if(v)throw v.error}}return T}function hl(y,v){var w,T,P=null;try{for(var U=(0,Ie.XA)(y.views.values()),W=U.next();!W.done;W=U.next())P=P||nc(W.value,v)}catch(ae){w={error:ae}}finally{try{W&&!W.done&&(T=U.return)&&T.call(U)}finally{if(w)throw w.error}}return P}function dp(y,v){return v._queryParams.loadsAllData()?zs(y):y.views.get(v._queryIdentifier)}function K_(y,v){return null!=dp(y,v)}function rc(y){return null!=zs(y)}function zs(y){var v,w;try{for(var T=(0,Ie.XA)(y.views.values()),P=T.next();!P.done;P=T.next()){var U=P.value;if(U.query._queryParams.loadsAllData())return U}}catch(W){v={error:W}}finally{try{P&&!P.done&&(w=T.return)&&w.call(T)}finally{if(v)throw v.error}}return null}var fp=1,jm=function(v){this.listenProvider_=v,this.syncPointTree_=new es(null),this.pendingWriteTree_={visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function js(y,v,w,T,P){return function(y,v,w,T,P){(0,K.hu)(T>y.lastWriteId,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),y.allWrites.push({path:v,snap:w,writeId:T,visible:P}),P&&(y.visibleWrites=xa(y.visibleWrites,v,w)),y.lastWriteId=T}(y.pendingWriteTree_,v,w,T,P),P?Bo(y,new al({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},v,w)):[]}function nr(y,v,w){void 0===w&&(w=!1);var T=function(y,v){for(var w=0;w<y.allWrites.length;w++){var T=y.allWrites[w];if(T.writeId===v)return T}return null}(y.pendingWriteTree_,v);if(function(y,v){var w=y.allWrites.findIndex(function(ve){return ve.writeId===v});(0,K.hu)(w>=0,"removeWrite called with nonexistent writeId.");var T=y.allWrites[w];y.allWrites.splice(w,1);for(var P=T.visible,U=!1,W=y.allWrites.length-1;P&&W>=0;){var ie=y.allWrites[W];ie.visible&&(W>=w&&bT(ie,T.path)?P=!1:oi(T.path,ie.path)&&(U=!0)),W--}return!!P&&(U?(function(y){y.visibleWrites=Us(y.allWrites,Nm,pe()),y.lastWriteId=y.allWrites.length>0?y.allWrites[y.allWrites.length-1].writeId:-1}(y),!0):(T.snap?y.visibleWrites=Cu(y.visibleWrites,T.path):Ft(T.children,function(ve){y.visibleWrites=Cu(y.visibleWrites,St(T.path,ve))}),!0))}(y.pendingWriteTree_,v)){var U=new es(null);return null!=T.snap?U=U.set(pe(),!0):Ft(T.children,function(W){U=U.set(new ee(W),!0)}),Bo(y,new km(T.path,U,w))}return[]}function Aa(y,v,w){return Bo(y,new al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},v,w))}function sd(y,v,w,T){var P=v._path,U=y.syncPointTree_.get(P),W=[];if(U&&("default"===v._queryIdentifier||K_(U,v))){var ie=function(y,v,w,T){var P,U,W=v._queryIdentifier,ie=[],ae=[],ve=rc(y);if("default"===W)try{for(var ye=(0,Ie.XA)(y.views.entries()),je=ye.next();!je.done;je=ye.next()){var mt,Je=(0,Ie.CR)(je.value,2),ct=Je[0];ae=ae.concat(Ea(mt=Je[1],w,T)),ic(mt)&&(y.views.delete(ct),mt.query._queryParams.loadsAllData()||ie.push(mt.query))}}catch(qt){P={error:qt}}finally{try{je&&!je.done&&(U=ye.return)&&U.call(ye)}finally{if(P)throw P.error}}else(mt=y.views.get(W))&&(ae=ae.concat(Ea(mt,w,T)),ic(mt)&&(y.views.delete(W),mt.query._queryParams.loadsAllData()||ie.push(mt.query)));return ve&&!rc(y)&&ie.push(new((0,K.hu)(hp,"Reference.ts has not been loaded"),hp)(v._repo,v._path)),{removed:ie,events:ae}}(U,v,w,T);(function(y){return 0===y.views.size})(U)&&(y.syncPointTree_=y.syncPointTree_.remove(P));var ae=ie.removed;W=ie.events;var ve=-1!==ae.findIndex(function(vi){return vi._queryParams.loadsAllData()}),ye=y.syncPointTree_.findOnPath(P,function(vi,ss){return rc(ss)});if(ve&&!ye){var je=y.syncPointTree_.subtree(P);if(!je.isEmpty())for(var Je=function(y){return y.fold(function(v,w,T){if(w&&rc(w))return[zs(w)];var U=[];return w&&(U=Q_(w)),Ft(T,function(W,ie){U=U.concat(ie)}),U})}(je),ct=0;ct<Je.length;++ct){var mt=Je[ct],qt=mt.query,Ut=Ia(y,mt);y.listenProvider_.startListening(oc(qt),Du(y,qt),Ut.hashFn,Ut.onComplete)}}!ye&&ae.length>0&&!T&&(ve?y.listenProvider_.stopListening(oc(v),null):ae.forEach(function(vi){var ss=y.queryToTagMap.get(Iu(vi));y.listenProvider_.stopListening(oc(vi),ss)})),function(y,v){for(var w=0;w<v.length;++w){var T=v[w];if(!T._queryParams.loadsAllData()){var P=Iu(T),U=y.queryToTagMap.get(P);y.queryToTagMap.delete(P),y.tagToQueryMap.delete(U)}}}(y,ae)}return W}function eb(y,v,w){var T=v._path,P=null,U=!1;y.syncPointTree_.foreachOnPath(T,function(qt,Ut){var nn=fn(qt,T);P=P||hl(Ut,nn),U=U||rc(Ut)});var ie,W=y.syncPointTree_.get(T);W?(U=U||rc(W),P=P||hl(W,pe())):(W=new Um,y.syncPointTree_=y.syncPointTree_.set(T,W)),null!=P?ie=!0:(ie=!1,P=$t.EMPTY_NODE,y.syncPointTree_.subtree(T).foreachChild(function(qt,Ut){var nn=hl(Ut,pe());nn&&(P=P.updateImmediateChild(qt,nn))}));var ve=K_(W,v);if(!ve&&!v._queryParams.loadsAllData()){var ye=Iu(v);(0,K.hu)(!y.queryToTagMap.has(ye),"View does not exist, but we have a tag");var je=fp++;y.queryToTagMap.set(ye,je),y.tagToQueryMap.set(je,ye)}var ct=function(y,v,w,T,P,U){var W=Cs(y,v,T,P,U);return y.views.has(v._queryIdentifier)||y.views.set(v._queryIdentifier,W),function(y,v){y.eventRegistrations_.push(v)}(W,w),function(y,v){var w=y.viewCache_.eventCache,T=[];return w.getNode().isLeafNode()||w.getNode().forEachChild(Hn,function(U,W){T.push(_a(U,W))}),w.isFullyInitialized()&&T.push(tp(w.getNode())),Hm(y,T,w.getNode(),v)}(W,w)}(W,v,w,Sa(y.pendingWriteTree_,T),P,ie);if(!ve&&!U){var mt=dp(W,v);ct=ct.concat(function(y,v,w){var T=v._path,P=Du(y,v),U=Ia(y,w),W=y.listenProvider_.startListening(oc(v),P,U.hashFn,U.onComplete),ie=y.syncPointTree_.subtree(T);if(P)(0,K.hu)(!rc(ie.value),"If we're adding a query, it shouldn't be shadowed");else for(var ae=ie.fold(function(je,Je,ct){if(!Ht(je)&&Je&&rc(Je))return[zs(Je).query];var mt=[];return Je&&(mt=mt.concat(Q_(Je).map(function(qt){return qt.query}))),Ft(ct,function(qt,Ut){mt=mt.concat(Ut)}),mt}),ve=0;ve<ae.length;++ve){var ye=ae[ve];y.listenProvider_.stopListening(oc(ye),Du(y,ye))}return W}(y,v,mt))}return ct}function sc(y,v,w){var P=y.pendingWriteTree_,U=y.syncPointTree_.findOnPath(v,function(W,ie){var ve=hl(ie,fn(W,v));if(ve)return ve});return Au(P,v,U,w,!0)}function Bo(y,v){return Ho(v,y.syncPointTree_,null,Sa(y.pendingWriteTree_,pe()))}function Ho(y,v,w,T){if(Ht(y.path))return tb(y,v,w,T);var P=v.get(pe());null==w&&null!=P&&(w=hl(P,pe()));var U=[],W=Fe(y.path),ie=y.operationForChild(W),ae=v.children.get(W);if(ae&&ie){var ve=w?w.getImmediateChild(W):null,ye=Ql(T,W);U=U.concat(Ho(ie,ae,ve,ye))}return P&&(U=U.concat(zm(P,y,T,w))),U}function tb(y,v,w,T){var P=v.get(pe());null==w&&null!=P&&(w=hl(P,pe()));var U=[];return v.children.inorderTraversal(function(W,ie){var ae=w?w.getImmediateChild(W):null,ve=Ql(T,W),ye=y.operationForChild(W);ye&&(U=U.concat(tb(ye,ie,ae,ve)))}),P&&(U=U.concat(zm(P,y,T,w))),U}function Ia(y,v){var w=v.query,T=Du(y,w);return{hashFn:function(){return(function(y){return y.viewCache_.serverCache.getNode()}(v)||$t.EMPTY_NODE).hash()},onComplete:function(P){if("ok"===P)return T?function(y,v,w){var T=od(y,w);if(T){var P=ad(T),U=P.path,W=P.queryId,ie=fn(U,v);return ld(y,U,new ip(ol(W),ie))}return[]}(y,w._path,T):function(y,v){return Bo(y,new ip({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},v))}(y,w._path);var U=function(y,v){var w="Unknown Error";"too_big"===y?w="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===y?w="Client doesn't have permission to access the desired data.":"unavailable"===y&&(w="The service is unavailable");var T=new Error(y+" at "+v._path.toString()+": "+w);return T.code=y.toUpperCase(),T}(P,w);return sd(y,w,null,U)}}}function Du(y,v){var w=Iu(v);return y.queryToTagMap.get(w)}function Iu(y){return y._path.toString()+"$"+y._queryIdentifier}function od(y,v){return y.tagToQueryMap.get(v)}function ad(y){var v=y.indexOf("$");return(0,K.hu)(-1!==v&&v<y.length-1,"Bad queryKey."),{queryId:y.substr(v+1),path:new ee(y.substr(0,v))}}function ld(y,v,w){var T=y.syncPointTree_.get(v);return(0,K.hu)(T,"Missing sync point for query tag that we're tracking"),zm(T,w,Sa(y.pendingWriteTree_,v),null)}function oc(y){return y._queryParams.loadsAllData()&&!y._queryParams.isDefault()?new((0,K.hu)(Si,"Reference.ts has not been loaded"),Si)(y._repo,y._path):y}var cd=function(){function y(v){this.node_=v}return y.prototype.getImmediateChild=function(v){return new y(this.node_.getImmediateChild(v))},y.prototype.node=function(){return this.node_},y}(),dl=function(){function y(v,w){this.syncTree_=v,this.path_=w}return y.prototype.getImmediateChild=function(v){var w=St(this.path_,v);return new y(this.syncTree_,w)},y.prototype.node=function(){return sc(this.syncTree_,this.path_)},y}(),pp=function(y,v,w){return y&&"object"==typeof y?((0,K.hu)(".sv"in y,"Unexpected leaf node or priority contents"),"string"==typeof y[".sv"]?Ru(y[".sv"],v,w):"object"==typeof y[".sv"]?gp(y[".sv"],v):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2))):y},Ru=function(y,v,w){switch(y){case"timestamp":return w.timestamp;default:(0,K.hu)(!1,"Unexpected server value: "+y)}},gp=function(y,v,w){y.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2));var T=y.increment;"number"!=typeof T&&(0,K.hu)(!1,"Unexpected increment value: "+T);var P=v.node();if((0,K.hu)(null!=P,"Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return T;var W=P.getValue();return"number"!=typeof W?T:W+T},Wm=function(y,v,w,T){return fl(v,new dl(w,y),T)},Ou=function(y,v,w){return fl(y,new cd(v),w)};function fl(y,v,w){var U,T=y.getPriority().val(),P=pp(T,v.getImmediateChild(".priority"),w);if(y.isLeafNode()){var W=y,ie=pp(W.getValue(),v,w);return ie!==W.getValue()||P!==W.getPriority().val()?new il(ie,ai(P)):y}var ae=y;return U=ae,P!==ae.getPriority().val()&&(U=U.updatePriority(new il(P))),ae.forEachChild(Hn,function(ve,ye){var je=fl(ye,v.getImmediateChild(ve),w);je!==ye&&(U=U.updateImmediateChild(ve,je))}),U}var Uo=function(v,w,T){void 0===v&&(v=""),void 0===w&&(w=null),void 0===T&&(T={children:{},childCount:0}),this.name=v,this.parent=w,this.node=T};function Pu(y,v){for(var w=v instanceof ee?v:new ee(v),T=y,P=Fe(w);null!==P;){var U=(0,K.DV)(T.node.children,P)||{children:{},childCount:0};T=new Uo(P,T,U),P=Fe(w=Qe(w))}return T}function zn(y){return y.node.value}function ud(y,v){y.node.value=v,Zm(y)}function qm(y){return y.node.childCount>0}function zo(y,v){Ft(y.node.children,function(w,T){v(new Uo(w,y,T))})}function Xm(y,v,w,T){w&&!T&&v(y),zo(y,function(P){Xm(P,v,!0,T)}),w&&T&&v(y)}function gl(y){return new ee(null===y.parent?y.name:gl(y.parent)+"/"+y.name)}function Zm(y){null!==y.parent&&function(y,v,w){var T=function(y){return void 0===zn(y)&&!qm(y)}(w),P=(0,K.r3)(y.node.children,v);T&&P?(delete y.node.children[v],y.node.childCount--,Zm(y)):!T&&!P&&(y.node.children[v]=w.node,y.node.childCount++,Zm(y))}(y.parent,y.name,y)}var lo=/[\[\].#$\/\u0000-\u001F\u007F]/,hd=/[\[\].#$\u0000-\u001F\u007F]/,co=10485760,dd=function(y){return"string"==typeof y&&0!==y.length&&!lo.test(y)},fd=function(y){return"string"==typeof y&&0!==y.length&&!hd.test(y)},ui=function(y){return null===y||"string"==typeof y||"number"==typeof y&&!Ue(y)||y&&"object"==typeof y&&(0,K.r3)(y,".sv")},Fr=function(y,v,w,T){T&&void 0===v||Ma((0,K.gK)(y,"value"),v,w)},Ma=function(y,v,w){var T=w instanceof ee?new tl(w,y):w;if(void 0===v)throw new Error(y+"contains undefined "+gi(T));if("function"==typeof v)throw new Error(y+"contains a function "+gi(T)+" with contents = "+v.toString());if(Ue(v))throw new Error(y+"contains "+v.toString()+" "+gi(T));if("string"==typeof v&&v.length>co/3&&(0,K.ug)(v)>co)throw new Error(y+"contains a string greater than "+co+" utf8 bytes "+gi(T)+" ('"+v.substring(0,50)+"...')");if(v&&"object"==typeof v){var P=!1,U=!1;if(Ft(v,function(W,ie){if(".value"===W)P=!0;else if(".priority"!==W&&".sv"!==W&&(U=!0,!dd(W)))throw new Error(y+" contains an invalid key ("+W+") "+gi(T)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(y,v){y.parts_.length>0&&(y.byteLength_+=1),y.parts_.push(v),y.byteLength_+=(0,K.ug)(v),du(y)})(T,W),Ma(y,ie,T),function(y){var v=y.parts_.pop();y.byteLength_-=(0,K.ug)(v),y.parts_.length>0&&(y.byteLength_-=1)}(T)}),P&&U)throw new Error(y+' contains ".value" child '+gi(T)+" in addition to actual children.")}},ka=function(y,v,w,T){if(!T||void 0!==v){var P=(0,K.gK)(y,"values");if(!v||"object"!=typeof v||Array.isArray(v))throw new Error(P+" must be an object containing the children to replace.");var U=[];Ft(v,function(W,ie){var ae=new ee(W);if(Ma(P,ie,St(w,ae)),".priority"===rt(ae)&&!ui(ie))throw new Error(P+"contains an invalid value for '"+ae.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");U.push(ae)}),function(y,v){var w,T;for(w=0;w<v.length;w++)for(var P=It(T=v[w]),U=0;U<P.length;U++)if((".priority"!==P[U]||U!==P.length-1)&&!dd(P[U]))throw new Error(y+"contains an invalid key ("+P[U]+") in path "+T.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');v.sort(wi);var W=null;for(w=0;w<v.length;w++){if(T=v[w],null!==W&&oi(W,T))throw new Error(y+"contains a path "+W.toString()+" that is ancestor of another path "+T.toString());W=T}}(P,U)}},Gs=function(y,v,w){if(!w||void 0!==v){if(Ue(v))throw new Error((0,K.gK)(y,"priority")+"is "+v.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ui(v))throw new Error((0,K.gK)(y,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ib=function(y,v,w){if(!w||void 0!==v)switch(v){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,K.gK)(y,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pd=function(y,v,w,T){if(!(T&&void 0===w||dd(w)))throw new Error((0,K.gK)(y,v)+'was an invalid key = "'+w+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},jo=function(y,v,w,T){if(!(T&&void 0===w||fd(w)))throw new Error((0,K.gK)(y,v)+'was an invalid path = "'+w+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lr=function(y,v){if(".info"===Fe(v))throw new Error(y+" failed = Can't modify data under /.info/")},Nu=function(y,v){var w=v.path.toString();if("string"!=typeof v.repoInfo.host||0===v.repoInfo.host.length||!dd(v.repoInfo.namespace)&&"localhost"!==v.repoInfo.host.split(":")[0]||0!==w.length&&!function(y){return y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),fd(y)}(w))throw new Error((0,K.gK)(y,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},sb=function(y,v,w,T){if((!T||void 0!==w)&&"boolean"!=typeof w)throw new Error((0,K.gK)(y,v)+"must be a boolean.")},ts=function(){this.eventLists_=[],this.recursionDepth_=0};function Vr(y,v){for(var w=null,T=0;T<v.length;T++){var P=v[T],U=P.getPath();null!==w&&!_s(U,w.path)&&(y.eventLists_.push(w),w=null),null===w&&(w={events:[],path:U}),w.events.push(P)}w&&y.eventLists_.push(w)}function Fu(y,v,w){Vr(y,w),lr(y,function(T){return _s(T,v)})}function ir(y,v,w){Vr(y,w),lr(y,function(T){return oi(T,v)||oi(v,T)})}function lr(y,v){y.recursionDepth_++;for(var w=!0,T=0;T<y.eventLists_.length;T++){var P=y.eventLists_[T];P&&(v(P.path)?(ac(y.eventLists_[T]),y.eventLists_[T]=null):w=!1)}w&&(y.eventLists_=[]),y.recursionDepth_--}function ac(y){for(var v=0;v<y.events.length;v++){var w=y.events[v];if(null!==w){y.events[v]=null;var T=w.getEventRunner();Pe&&vt("event: "+w.toString()),er(T)}}}var mp="repo_interrupt",vp=function(){function y(v,w,T,P){this.repoInfo_=v,this.forceRestClient_=w,this.authTokenProvider_=T,this.appCheckProvider_=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ts,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sl(),this.transactionQueueTree_=new Uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return y.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},y}();function Bi(y){var w=y.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+w}function lc(y){return function(y){return(y=y||{}).timestamp=y.timestamp||(new Date).getTime(),y}({timestamp:Bi(y)})}function uo(y,v,w,T,P){y.dataUpdateCount++;var U=new ee(v);w=y.interceptServerDataCallback_?y.interceptServerDataCallback_(v,w):w;var W=[];if(P)if(T){var ie=(0,K.UI)(w,function(Je){return ai(Je)});W=function(y,v,w,T){var P=od(y,T);if(P){var U=ad(P),W=U.path,ie=U.queryId,ae=fn(W,v),ve=es.fromObject(w);return ld(y,W,new Qh(ol(ie),ae,ve))}return[]}(y.serverSyncTree_,U,ie,P)}else{var ae=ai(w);W=function(y,v,w,T){var P=od(y,T);if(null!=P){var U=ad(P),W=U.path,ie=U.queryId,ae=fn(W,v);return ld(y,W,new al(ol(ie),ae,w))}return[]}(y.serverSyncTree_,U,ae,P)}else if(T){var ve=(0,K.UI)(w,function(Je){return ai(Je)});W=function(y,v,w){var T=es.fromObject(w);return Bo(y,new Qh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},v,T))}(y.serverSyncTree_,U,ve)}else{var ye=ai(w);W=Aa(y.serverSyncTree_,U,ye)}var je=U;W.length>0&&(je=yl(y,U)),ir(y.eventQueue_,je,W)}function Km(y,v){Lu(y,"connected",v),!1===v&&function(y){on(y,"onDisconnectEvents");var v=lc(y),w=sl();Jr(y.onDisconnect_,pe(),function(P,U){var W=Wm(P,U,y.serverSyncTree_,v);No(w,P,W)});var T=[];Jr(w,pe(),function(P,U){T=T.concat(Aa(y.serverSyncTree_,P,U));var W=md(y,P);yl(y,W)}),y.onDisconnect_=sl(),ir(y.eventQueue_,pe(),T)}(y)}function Lu(y,v,w){var T=new ee("/.info/"+v),P=ai(w);y.infoData_.updateSnapshot(T,P);var U=Aa(y.infoSyncTree_,T,P);ir(y.eventQueue_,T,U)}function Ra(y){return y.nextWriteId_++}function Oa(y,v,w,T,P){on(y,"set",{path:v.toString(),value:w,priority:T});var U=lc(y),W=ai(w,T),ie=sc(y.serverSyncTree_,v),ae=Ou(W,ie,U),ve=Ra(y),ye=js(y.serverSyncTree_,v,ae,ve,!0);Vr(y.eventQueue_,ye),y.server_.put(v.toString(),W.val(!0),function(Je,ct){var mt="ok"===Je;mt||_n("set at "+v+" failed: "+Je);var qt=nr(y.serverSyncTree_,ve,!mt);ir(y.eventQueue_,v,qt),Es(0,P,Je,ct)});var je=md(y,v);yl(y,je),ir(y.eventQueue_,je,[])}function lb(y,v,w){y.server_.onDisconnectCancel(v.toString(),function(T,P){"ok"===T&&Di(y.onDisconnect_,v),Es(0,w,T,P)})}function ev(y,v,w,T){var P=ai(w);y.server_.onDisconnectPut(v.toString(),P.val(!0),function(U,W){"ok"===U&&No(y.onDisconnect_,v,P),Es(0,T,U,W)})}function _p(y,v,w){var T;T=".info"===Fe(v._path)?sd(y.infoSyncTree_,v,w):sd(y.serverSyncTree_,v,w),Fu(y.eventQueue_,v._path,T)}function nv(y){y.persistentConnection_&&y.persistentConnection_.interrupt(mp)}function on(y){for(var v=[],w=1;w<arguments.length;w++)v[w-1]=arguments[w];var T="";y.persistentConnection_&&(T=y.persistentConnection_.id+":"),vt.apply(void 0,(0,Ie.ev)([T],(0,Ie.CR)(v)))}function Es(y,v,w,T){v&&er(function(){if("ok"===w)v(null);else{var P=(w||"error").toUpperCase(),U=P;T&&(U+=": "+T);var W=new Error(U);W.code=P,v(W)}})}function ns(y,v,w){return sc(y.serverSyncTree_,v,w)||$t.EMPTY_NODE}function fo(y,v){if(void 0===v&&(v=y.transactionQueueTree_),v||_l(y,v),zn(v)){var w=sv(y,v);(0,K.hu)(w.length>0,"Sending zero length transaction queue"),w.every(function(P){return 0===P.status})&&function(y,v,w){for(var T=w.map(function(Je){return Je.currentWriteId}),P=ns(y,v,T),U=P,W=P.hash(),ie=0;ie<w.length;ie++){var ae=w[ie];(0,K.hu)(0===ae.status,"tryToSendTransactionQueue_: items in queue should all be run."),ae.status=1,ae.retryCount++;var ve=fn(v,ae.path);U=U.updateChild(ve,ae.currentOutputSnapshotRaw)}var ye=U.val(!0),je=v;y.server_.put(je.toString(),ye,function(Je){on(y,"transaction put response",{path:je.toString(),status:Je});var ct=[];if("ok"===Je){for(var mt=[],qt=function(nn){w[nn].status=2,ct=ct.concat(nr(y.serverSyncTree_,w[nn].currentWriteId)),w[nn].onComplete&&mt.push(function(){return w[nn].onComplete(null,!0,w[nn].currentOutputSnapshotResolved)}),w[nn].unwatcher()},Ut=0;Ut<w.length;Ut++)qt(Ut);for(_l(y,Pu(y.transactionQueueTree_,v)),fo(y,y.transactionQueueTree_),ir(y.eventQueue_,v,ct),Ut=0;Ut<mt.length;Ut++)er(mt[Ut])}else{if("datastale"===Je)for(Ut=0;Ut<w.length;Ut++)w[Ut].status=3===w[Ut].status?4:0;else for(_n("transaction at "+je.toString()+" failed: "+Je),Ut=0;Ut<w.length;Ut++)w[Ut].status=4,w[Ut].abortReason=Je;yl(y,v)}},W)}(y,gl(v),w)}else qm(v)&&zo(v,function(P){fo(y,P)})}function yl(y,v){var w=po(y,v),T=gl(w);return function(y,v,w){if(0!==v.length){for(var T=[],P=[],W=v.filter(function(ve){return 0===ve.status}).map(function(ve){return ve.currentWriteId}),ie=function(ve){var ct,ye=v[ve],je=fn(w,ye.path),Je=!1;if((0,K.hu)(null!==je,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ye.status)Je=!0,ct=ye.abortReason,P=P.concat(nr(y.serverSyncTree_,ye.currentWriteId,!0));else if(0===ye.status)if(ye.retryCount>=25)Je=!0,ct="maxretry",P=P.concat(nr(y.serverSyncTree_,ye.currentWriteId,!0));else{var mt=ns(y,ye.path,W);ye.currentInputSnapshot=mt;var qt=v[ve].update(mt.val());if(void 0!==qt){Ma("transaction failed: Data returned ",qt,ye.path);var Ut=ai(qt);"object"==typeof qt&&null!=qt&&(0,K.r3)(qt,".priority")||(Ut=Ut.updatePriority(mt.getPriority()));var vi=ye.currentWriteId,ss=lc(y),yc=Ou(Ut,mt,ss);ye.currentOutputSnapshotRaw=Ut,ye.currentOutputSnapshotResolved=yc,ye.currentWriteId=Ra(y),W.splice(W.indexOf(vi),1),P=(P=P.concat(js(y.serverSyncTree_,ye.path,yc,ye.currentWriteId,ye.applyLocally))).concat(nr(y.serverSyncTree_,vi,!0))}else Je=!0,ct="nodata",P=P.concat(nr(y.serverSyncTree_,ye.currentWriteId,!0))}ir(y.eventQueue_,w,P),P=[],Je&&(v[ve].status=2,setTimeout(v[ve].unwatcher,Math.floor(0)),v[ve].onComplete&&T.push("nodata"===ct?function(){return v[ve].onComplete(null,!1,v[ve].currentInputSnapshot)}:function(){return v[ve].onComplete(new Error(ct),!1,null)}))},ae=0;ae<v.length;ae++)ie(ae);for(_l(y,y.transactionQueueTree_),ae=0;ae<T.length;ae++)er(T[ae]);fo(y,y.transactionQueueTree_)}}(y,sv(y,w),T),T}function po(y,v){var w,T=y.transactionQueueTree_;for(w=Fe(v);null!==w&&void 0===zn(T);)T=Pu(T,w),w=Fe(v=Qe(v));return T}function sv(y,v){var w=[];return ov(y,v,w),w.sort(function(T,P){return T.order-P.order}),w}function ov(y,v,w){var T=zn(v);if(T)for(var P=0;P<T.length;P++)w.push(T[P]);zo(v,function(U){ov(y,U,w)})}function _l(y,v){var w=zn(v);if(w){for(var T=0,P=0;P<w.length;P++)2!==w[P].status&&(w[T]=w[P],T++);w.length=T,ud(v,w.length>0?w:void 0)}zo(v,function(U){_l(y,U)})}function md(y,v){var w=gl(po(y,v)),T=Pu(y.transactionQueueTree_,v);return function(y,v,w){for(var T=y.parent;null!==T;){if(v(T))return!0;T=T.parent}}(T,function(P){Ei(y,P)}),Ei(y,T),Xm(T,function(P){Ei(y,P)}),w}function Ei(y,v){var w=zn(v);if(w){for(var T=[],P=[],U=-1,W=0;W<w.length;W++)3===w[W].status||(1===w[W].status?((0,K.hu)(U===W-1,"All SENT items should be at beginning of queue."),U=W,w[W].status=3,w[W].abortReason="set"):((0,K.hu)(0===w[W].status,"Unexpected transaction status in abort"),w[W].unwatcher(),P=P.concat(nr(y.serverSyncTree_,w[W].currentWriteId,!0)),w[W].onComplete&&T.push(w[W].onComplete.bind(null,new Error("set"),!1,null))));for(-1===U?ud(v,void 0):w.length=U+1,ir(y.eventQueue_,gl(v),P),W=0;W<T.length;W++)er(T[W])}}var vd=function(y,v){var w=av(y),T=w.namespace;return"firebase.com"===w.domain&&gn(w.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!T||"undefined"===T)&&"localhost"!==w.domain&&gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),w.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jn(w.host,w.secure,T,v,"ws"===w.scheme||"wss"===w.scheme,"",T!==w.subdomain),path:new ee(w.pathString)}},av=function(y){var v="",w="",T="",P="",U="",W=!0,ie="https",ae=443;if("string"==typeof y){var ve=y.indexOf("//");ve>=0&&(ie=y.substring(0,ve-1),y=y.substring(ve+2));var ye=y.indexOf("/");-1===ye&&(ye=y.length);var je=y.indexOf("?");-1===je&&(je=y.length),v=y.substring(0,Math.min(ye,je)),ye<je&&(P=function(y){for(var v="",w=y.split("/"),T=0;T<w.length;T++)if(w[T].length>0){var P=w[T];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch(U){}v+="/"+P}return v}(y.substring(ye,je)));var Je=function(y){var v,w,T={};"?"===y.charAt(0)&&(y=y.substring(1));try{for(var P=(0,Ie.XA)(y.split("&")),U=P.next();!U.done;U=P.next()){var W=U.value;if(0!==W.length){var ie=W.split("=");2===ie.length?T[decodeURIComponent(ie[0])]=decodeURIComponent(ie[1]):_n("Invalid query segment '"+W+"' in query '"+y+"'")}}}catch(ae){v={error:ae}}finally{try{U&&!U.done&&(w=P.return)&&w.call(P)}finally{if(v)throw v.error}}return T}(y.substring(Math.min(y.length,je)));(ve=v.indexOf(":"))>=0?(W="https"===ie||"wss"===ie,ae=parseInt(v.substring(ve+1),10)):ve=v.length;var ct=v.slice(0,ve);if("localhost"===ct.toLowerCase())w="localhost";else if(ct.split(".").length<=2)w=ct;else{var mt=v.indexOf(".");T=v.substring(0,mt).toLowerCase(),w=v.substring(mt+1),U=T}"ns"in Je&&(U=Je.ns)}return{host:v,port:ae,domain:w,subdomain:T,secure:W,scheme:ie,pathString:P,namespace:U}},bp=function(){function y(v,w,T,P){this.eventType=v,this.eventRegistration=w,this.snapshot=T,this.prevName=P}return y.prototype.getPath=function(){var v=this.snapshot.ref;return"value"===this.eventType?v._path:v.parent._path},y.prototype.getEventType=function(){return this.eventType},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Pz)(this.snapshot.exportVal())},y}(),lv=function(){function y(v,w,T){this.eventRegistration=v,this.error=w,this.path=T}return y.prototype.getPath=function(){return this.path},y.prototype.getEventType=function(){return"cancel"},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.path.toString()+":cancel"},y}(),xp=function(){function y(v,w){this.snapshotCallback=v,this.cancelCallback=w}return y.prototype.onValue=function(v,w){this.snapshotCallback.call(null,v,w)},y.prototype.onCancel=function(v){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,v)},Object.defineProperty(y.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),y.prototype.matches=function(v){return this.snapshotCallback===v.snapshotCallback||this.snapshotCallback.userCallback===v.snapshotCallback.userCallback&&this.snapshotCallback.context===v.snapshotCallback.context},y}(),cv=function(){function y(v,w){this._repo=v,this._path=w}return y.prototype.cancel=function(){var v=new K.BH;return lb(this._repo,this._path,v.wrapCallback(function(){})),v.promise},y.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var v=new K.BH;return ev(this._repo,this._path,null,v.wrapCallback(function(){})),v.promise},y.prototype.set=function(v){Lr("OnDisconnect.set",this._path),Fr("OnDisconnect.set",v,this._path,!1);var w=new K.BH;return ev(this._repo,this._path,v,w.wrapCallback(function(){})),w.promise},y.prototype.setWithPriority=function(v,w){Lr("OnDisconnect.setWithPriority",this._path),Fr("OnDisconnect.setWithPriority",v,this._path,!1),Gs("OnDisconnect.setWithPriority",w,!1);var T=new K.BH;return function(y,v,w,T,P){var U=ai(w,T);y.server_.onDisconnectPut(v.toString(),U.val(!0),function(W,ie){"ok"===W&&No(y.onDisconnect_,v,U),Es(0,P,W,ie)})}(this._repo,this._path,v,w,T.wrapCallback(function(){})),T.promise},y.prototype.update=function(v){Lr("OnDisconnect.update",this._path),ka("OnDisconnect.update",v,this._path,!1);var w=new K.BH;return function(y,v,w,T){if((0,K.xb)(w))return vt("onDisconnect().update() called with empty data.  Don't do anything."),void Es(0,T,"ok",void 0);y.server_.onDisconnectMerge(v.toString(),w,function(P,U){"ok"===P&&Ft(w,function(W,ie){var ae=ai(ie);No(y.onDisconnect_,St(v,W),ae)}),Es(0,T,P,U)})}(this._repo,this._path,v,w.wrapCallback(function(){})),w.promise},y}(),cr=function(){function y(v,w,T,P){this._repo=v,this._path=w,this._queryParams=T,this._orderByCalled=P}return Object.defineProperty(y.prototype,"key",{get:function(){return Ht(this._path)?null:rt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ref",{get:function(){return new kt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"_queryIdentifier",{get:function(){var v=xu(this._queryParams),w=Sn(v);return"{}"===w?"default":w},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"_queryObject",{get:function(){return xu(this._queryParams)},enumerable:!1,configurable:!0}),y.prototype.isEqual=function(v){if(!((v=(0,K.m9)(v))instanceof y))return!1;var w=this._repo===v._repo,T=_s(this._path,v._path);return w&&T&&this._queryIdentifier===v._queryIdentifier},y.prototype.toJSON=function(){return this.toString()},y.prototype.toString=function(){return this._repo.toString()+function(y){for(var v="",w=y.pieceNum_;w<y.pieces_.length;w++)""!==y.pieces_[w]&&(v+="/"+encodeURIComponent(String(y.pieces_[w])));return v||"/"}(this._path)},y}();function cc(y,v){if(!0===y._orderByCalled)throw new Error(v+": You can't combine multiple orderBy calls.")}function is(y){var v=null,w=null;if(y.hasStart()&&(v=y.getIndexStartValue()),y.hasEnd()&&(w=y.getIndexEndValue()),y.getIndex()===ro){var T="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",P="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(y.hasStart()){if(y.getIndexStartName()!==ze)throw new Error(T);if("string"!=typeof v)throw new Error(P)}if(y.hasEnd()){if(y.getIndexEndName()!==nt)throw new Error(T);if("string"!=typeof w)throw new Error(P)}}else if(y.getIndex()===Hn){if(null!=v&&!ui(v)||null!=w&&!ui(w))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,K.hu)(y.getIndex()instanceof Xl||y.getIndex()===pu,"unknown index type."),null!=v&&"object"==typeof v||null!=w&&"object"==typeof w)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function go(y){if(y.hasStart()&&y.hasEnd()&&y.hasLimit()&&!y.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var kt=function(y){function v(w,T){return y.call(this,w,T,new Dm,!1)||this}return(0,Ie.ZT)(v,y),Object.defineProperty(v.prototype,"parent",{get:function(){var w=un(this._path);return null===w?null:new v(this._repo,w)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"root",{get:function(){for(var w=this;null!==w.parent;)w=w.parent;return w},enumerable:!1,configurable:!0}),v}(cr),Wo=function(){function y(v,w,T){this._node=v,this.ref=w,this._index=T}return Object.defineProperty(y.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),y.prototype.child=function(v){var w=new ee(v),T=Pa(this.ref,v);return new y(this._node.getChild(w),T,Hn)},y.prototype.exists=function(){return!this._node.isEmpty()},y.prototype.exportVal=function(){return this._node.val(!0)},y.prototype.forEach=function(v){var w=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(P,U){return v(new y(U,Pa(w.ref,P),Hn))})},y.prototype.hasChild=function(v){var w=new ee(v);return!this._node.getChild(w).isEmpty()},y.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},y.prototype.toJSON=function(){return this.exportVal()},y.prototype.val=function(){return this._node.val()},y}();function uv(y,v){return(y=(0,K.m9)(y))._checkNotDeleted("ref"),void 0!==v?Pa(y._root,v):y._root}function mo(y,v){(y=(0,K.m9)(y))._checkNotDeleted("refFromURL");var w=vd(v,y._repo.repoInfo_.nodeAdmin);Nu("refFromURL",w);var T=w.repoInfo;return!y._repo.repoInfo_.isCustomHost()&&T.host!==y._repo.repoInfo_.host&&gn("refFromURL: Host name does not match the current database: (found "+T.host+" but expected "+y._repo.repoInfo_.host+")"),uv(y,w.path.toString())}function Pa(y,v){return null===Fe((y=(0,K.m9)(y))._path)?((w=v)&&(w=w.replace(/^\/*\.info(\/|$)/,"/")),jo("child","path",w,!1)):jo("child","path",v,!1),new kt(y._repo,St(y._path,v));var w}function wp(y,v){y=(0,K.m9)(y),Lr("push",y._path),Fr("push",v,y._path,!0);var W,w=Bi(y._repo),T=Am(w),P=Pa(y,T),U=Pa(y,T);return W=null!=v?Cp(U,v).then(function(){return U}):Promise.resolve(U),P.then=W.then.bind(W),P.catch=W.then.bind(W,void 0),P}function hv(y){return Lr("remove",y._path),Cp(y,null)}function Cp(y,v){y=(0,K.m9)(y),Lr("set",y._path),Fr("set",v,y._path,!1);var w=new K.BH;return Oa(y._repo,y._path,v,null,w.wrapCallback(function(){})),w.promise}function yd(y,v){y=(0,K.m9)(y),Lr("setPriority",y._path),Gs("setPriority",v,!1);var w=new K.BH;return Oa(y._repo,St(y._path,".priority"),v,null,w.wrapCallback(function(){})),w.promise}function Vu(y,v,w){if(Lr("setWithPriority",y._path),Fr("setWithPriority",v,y._path,!1),Gs("setWithPriority",w,!1),".length"===y.key||".keys"===y.key)throw"setWithPriority failed: "+y.key+" is a read-only object.";var T=new K.BH;return Oa(y._repo,y._path,v,w,T.wrapCallback(function(){})),T.promise}function fb(y,v){ka("update",v,y._path,!1);var w=new K.BH;return function(y,v,w,T){on(y,"update",{path:v.toString(),value:w});var P=!0,U=lc(y),W={};if(Ft(w,function(ve,ye){P=!1,W[ve]=Wm(St(v,ve),ai(ye),y.serverSyncTree_,U)}),P)vt("update() called with empty data.  Don't do anything."),Es(0,T,"ok",void 0);else{var ie=Ra(y),ae=function(y,v,w,T){!function(y,v,w,T){(0,K.hu)(T>y.lastWriteId,"Stacking an older merge on top of newer ones"),y.allWrites.push({path:v,children:w,writeId:T,visible:!0}),y.visibleWrites=wa(y.visibleWrites,v,w),y.lastWriteId=T}(y.pendingWriteTree_,v,w,T);var P=es.fromObject(w);return Bo(y,new Qh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},v,P))}(y.serverSyncTree_,v,W,ie);Vr(y.eventQueue_,ae),y.server_.merge(v.toString(),w,function(ve,ye){var je="ok"===ve;je||_n("update at "+v+" failed: "+ve);var Je=nr(y.serverSyncTree_,ie,!je),ct=Je.length>0?yl(y,v):v;ir(y.eventQueue_,ct,Je),Es(0,T,ve,ye)}),Ft(w,function(ve){var ye=md(y,St(v,ve));yl(y,ye)}),ir(y.eventQueue_,v,[])}}(y._repo,y._path,v,w.wrapCallback(function(){})),w.promise}function Sp(y){return function(y,v){var w=function(y,v){var w=v._path,T=null;y.syncPointTree_.foreachOnPath(w,function(ve,ye){var je=fn(ve,w);T=T||hl(ye,je)});var P=y.syncPointTree_.get(w);P?T=T||hl(P,pe()):(P=new Um,y.syncPointTree_=y.syncPointTree_.set(w,P));var U=null!=T,W=U?new ba(T,!0,!1):null;return function(y){return Kh(y.viewCache_)}(Cs(P,v,Sa(y.pendingWriteTree_,v._path),U?W.getNode():$t.EMPTY_NODE,U))}(y.serverSyncTree_,v);return null!=w?Promise.resolve(w):y.server_.get(v).then(function(T){var P=ai(T).withIndex(v._queryParams.getIndex()),U=Aa(y.serverSyncTree_,v._path,P);return Fu(y.eventQueue_,v._path,U),Promise.resolve(P)},function(T){return on(y,"get for query "+(0,K.Pz)(v)+" failed: "+T),Promise.reject(new Error(T))})}((y=(0,K.m9)(y))._repo,y).then(function(v){return new Wo(v,new kt(y._repo,y._path),y._queryParams.getIndex())})}var uc=function(){function y(v){this.callbackContext=v}return y.prototype.respondsTo=function(v){return"value"===v},y.prototype.createEvent=function(v,w){var T=w._queryParams.getIndex();return new bp("value",this,new Wo(v.snapshotNode,new kt(w._repo,w._path),T))},y.prototype.getEventRunner=function(v){var w=this;return"cancel"===v.getEventType()?function(){return w.callbackContext.onCancel(v.error)}:function(){return w.callbackContext.onValue(v.snapshot,null)}},y.prototype.createCancelEvent=function(v,w){return this.callbackContext.hasCancelCallback?new lv(this,v,w):null},y.prototype.matches=function(v){return v instanceof y&&(!v.callbackContext||!this.callbackContext||v.callbackContext.matches(this.callbackContext))},y.prototype.hasAnyCallback=function(){return null!==this.callbackContext},y}(),Yi=function(){function y(v,w){this.eventType=v,this.callbackContext=w}return y.prototype.respondsTo=function(v){var w="children_added"===v?"child_added":v;return this.eventType===("children_removed"===w?"child_removed":w)},y.prototype.createCancelEvent=function(v,w){return this.callbackContext.hasCancelCallback?new lv(this,v,w):null},y.prototype.createEvent=function(v,w){(0,K.hu)(null!=v.childName,"Child events should have a childName.");var T=Pa(new kt(w._repo,w._path),v.childName),P=w._queryParams.getIndex();return new bp(v.type,this,new Wo(v.snapshotNode,T,P),v.prevName)},y.prototype.getEventRunner=function(v){var w=this;return"cancel"===v.getEventType()?function(){return w.callbackContext.onCancel(v.error)}:function(){return w.callbackContext.onValue(v.snapshot,v.prevName)}},y.prototype.matches=function(v){return v instanceof y&&this.eventType===v.eventType&&(!this.callbackContext||!v.callbackContext||this.callbackContext.matches(v.callbackContext))},y.prototype.hasAnyCallback=function(){return!!this.callbackContext},y}();function vo(y,v,w,T,P){var U;if("object"==typeof T&&(U=void 0,P=T),"function"==typeof T&&(U=T),P&&P.onlyOnce){var W=w,ie=function(ye,je){_p(y._repo,y,ve),W(ye,je)};ie.userCallback=w.userCallback,ie.context=w.context,w=ie}var ae=new xp(w,U||void 0),ve="value"===v?new uc(ae):new Yi(v,ae);return function(y,v,w){var T;T=".info"===Fe(v._path)?eb(y.infoSyncTree_,v,w):eb(y.serverSyncTree_,v,w),Fu(y.eventQueue_,v._path,T)}(y._repo,y,ve),function(){return _p(y._repo,y,ve)}}function Bu(y,v,w,T){return vo(y,"value",v,w,T)}function _d(y,v,w,T){return vo(y,"child_added",v,w,T)}function rr(y,v,w,T){return vo(y,"child_changed",v,w,T)}function hc(y,v,w,T){return vo(y,"child_moved",v,w,T)}function bd(y,v,w,T){return vo(y,"child_removed",v,w,T)}function Hu(y,v,w){var T=null,P=w?new xp(w):null;"value"===v?T=new uc(P):v&&(T=new Yi(v,P)),_p(y._repo,y,T)}var Ys=function(){},Ep=function(y){function v(w,T){var P=y.call(this)||this;return P._value=w,P._key=T,P}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){Fr("endAt",this._value,w._path,!0);var T=_u(w._queryParams,this._value,this._key);if(go(T),is(T),w._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new cr(w._repo,w._path,T,w._orderByCalled)},v}(Ys);function pb(y,v){return pd("endAt","key",v,!0),new Ep(y,v)}var dv=function(y){function v(w,T){var P=y.call(this)||this;return P._value=w,P._key=T,P}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){Fr("endBefore",this._value,w._path,!1);var T=function(y,v,w){var P;return y.index_===ro?("string"==typeof v&&(v=ya(v)),P=_u(y,v,w)):P=_u(y,v,null==w?ze:ya(w)),P.endBeforeSet_=!0,P}(w._queryParams,this._value,this._key);if(go(T),is(T),w._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new cr(w._repo,w._path,T,w._orderByCalled)},v}(Ys);function gb(y,v){return pd("endBefore","key",v,!0),new dv(y,v)}var xd=function(y){function v(w,T){var P=y.call(this)||this;return P._value=w,P._key=T,P}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){Fr("startAt",this._value,w._path,!0);var T=yu(w._queryParams,this._value,this._key);if(go(T),is(T),w._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new cr(w._repo,w._path,T,w._orderByCalled)},v}(Ys);function Ap(y,v){return void 0===y&&(y=null),pd("startAt","key",v,!0),new xd(y,v)}var Tp=function(y){function v(w,T){var P=y.call(this)||this;return P._value=w,P._key=T,P}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){Fr("startAfter",this._value,w._path,!1);var T=function(y,v,w){var T;return y.index_===ro?("string"==typeof v&&(v=gu(v)),T=yu(y,v,w)):T=yu(y,v,null==w?nt:gu(w)),T.startAfterSet_=!0,T}(w._queryParams,this._value,this._key);if(go(T),is(T),w._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new cr(w._repo,w._path,T,w._orderByCalled)},v}(Ys);function qo(y,v){return pd("startAfter","key",v,!0),new Tp(y,v)}var dc=function(y){function v(w){var T=y.call(this)||this;return T._limit=w,T}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){if(w._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new cr(w._repo,w._path,function(y,v){var w=y.copy();return w.limitSet_=!0,w.limit_=v,w.viewFrom_="l",w}(w._queryParams,this._limit),w._orderByCalled)},v}(Ys);function wd(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dc(y)}var Dp=function(y){function v(w){var T=y.call(this)||this;return T._limit=w,T}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){if(w._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new cr(w._repo,w._path,function(y,v){var w=y.copy();return w.limitSet_=!0,w.limit_=v,w.viewFrom_="r",w}(w._queryParams,this._limit),w._orderByCalled)},v}(Ys);function mb(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Dp(y)}var fc=function(y){function v(w){var T=y.call(this)||this;return T._path=w,T}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){cc(w,"orderByChild");var T=new ee(this._path);if(Ht(T))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var P=new Xl(T),U=vr(w._queryParams,P);return is(U),new cr(w._repo,w._path,U,!0)},v}(Ys);function Ip(y){if("$key"===y)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===y)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===y)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jo("orderByChild","path",y,!1),new fc(y)}var Cd=function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){cc(w,"orderByKey");var T=vr(w._queryParams,ro);return is(T),new cr(w._repo,w._path,T,!0)},v}(Ys);function Sd(){return new Cd}var fv=function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){cc(w,"orderByPriority");var T=vr(w._queryParams,Hn);return is(T),new cr(w._repo,w._path,T,!0)},v}(Ys);function Na(){return new fv}var pv=function(y){function v(){return null!==y&&y.apply(this,arguments)||this}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){cc(w,"orderByValue");var T=vr(w._queryParams,pu);return is(T),new cr(w._repo,w._path,T,!0)},v}(Ys);function Mp(){return new pv}var kp=function(y){function v(w,T){var P=y.call(this)||this;return P._value=w,P._key=T,P}return(0,Ie.ZT)(v,y),v.prototype._apply=function(w){if(Fr("equalTo",this._value,w._path,!1),w._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(w._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ep(this._value,this._key)._apply(new xd(this._value,this._key)._apply(w))},v}(Ys);function vb(y,v){return pd("equalTo","key",v,!0),new kp(y,v)}function Br(y){for(var v,w,T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];var U=(0,K.m9)(y);try{for(var W=(0,Ie.XA)(T),ie=W.next();!ie.done;ie=W.next()){var ae=ie.value;U=ae._apply(U)}}catch(ve){v={error:ve}}finally{try{ie&&!ie.done&&(w=W.return)&&w.call(W)}finally{if(v)throw v.error}}return U}(function(y){(0,K.hu)(!hp,"__referenceConstructor has already been defined"),hp=y})(kt),function(y){(0,K.hu)(!Si,"__referenceConstructor has already been defined"),Si=y}(kt);var Hr={},Rp=!1;function zu(y,v,w,T,P){var U=T||y.options.databaseURL;void 0===U&&(y.options.projectId||gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",y.options.projectId),U=y.options.projectId+"-default-rtdb.firebaseio.com");var ae,W=vd(U,P),ie=W.repoInfo,ve=void 0;"undefined"!=typeof process&&(ve=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ve?(ae=!0,ie=(W=vd(U="http://"+ve+"?ns="+ie.namespace,P)).repoInfo):ae=!W.repoInfo.secure;var ye=P&&ae?new an(an.OWNER):new dn(y.name,y.options,v);Nu("Invalid Firebase Database URL",W),Ht(W.path)||gn("Database URL must point to the root of a Firebase Database (not including a child path).");var je=function(y,v,w,T){var P=Hr[v.name];P||(Hr[v.name]=P={});var U=P[y.toURLString()];return U&&gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),U=new vp(y,Rp,w,T),P[y.toURLString()]=U,U}(ie,y,ye,new Oo(y.name,w));return new mv(je,y)}var mv=function(){function y(v,w){this._repoInternal=v,this.app=w,this.type="database",this._instanceStarted=!1}return Object.defineProperty(y.prototype,"_repo",{get:function(){return this._instanceStarted||(function(y,v,w){if(y.stats_=In(y.repoInfo_),y.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)y.server_=new oC(y.repoInfo_,function(T,P,U,W){uo(y,T,P,U,W)},y.authTokenProvider_,y.appCheckProvider_),setTimeout(function(){return Km(y,!0)},0);else{if(null!=w){if("object"!=typeof w)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Pz)(w)}catch(T){throw new Error("Invalid authOverride provided: "+T)}}y.persistentConnection_=new Yl(y.repoInfo_,v,function(T,P,U,W){uo(y,T,P,U,W)},function(T){Km(y,T)},function(T){!function(y,v){Ft(v,function(w,T){Lu(y,w,T)})}(y,T)},y.authTokenProvider_,y.appCheckProvider_,w),y.server_=y.persistentConnection_}y.authTokenProvider_.addTokenChangeListener(function(T){y.server_.refreshAuthToken(T)}),y.appCheckProvider_.addTokenChangeListener(function(T){y.server_.refreshAppCheckToken(T.token)}),y.statsReporter_=function(y,v){var w=y.toString();return Mr[w]||(Mr[w]=v()),Mr[w]}(y.repoInfo_,function(){return new Mm(y.stats_,y.server_)}),y.infoData_=new H_,y.infoSyncTree_=new jm({startListening:function(T,P,U,W){var ie=[],ae=y.infoData_.getNode(T._path);return ae.isEmpty()||(ie=Aa(y.infoSyncTree_,T._path,ae),setTimeout(function(){W("ok")},0)),ie},stopListening:function(){}}),Lu(y,"connected",!1),y.serverSyncTree_=new jm({startListening:function(T,P,U,W){return y.server_.listen(T,U,P,function(ie,ae){var ve=W(ie,ae);ir(y.eventQueue_,T._path,ve)}),[]},stopListening:function(T,P){y.server_.unlisten(T,P)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new kt(this._repo,pe())),this._rootInternal},enumerable:!1,configurable:!0}),y.prototype._delete=function(){return null!==this._rootInternal&&(function(y,v){var w=Hr[v];(!w||w[y.key]!==y)&&gn("Database "+v+"("+y.repoInfo_+") has already been deleted."),nv(y),delete w[y.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},y.prototype._checkNotDeleted=function(v){null===this._rootInternal&&gn("Cannot call "+v+" on a deleted database.")},y}();function Ed(y){(y=(0,K.m9)(y))._checkNotDeleted("goOffline"),nv(y._repo)}function gc(y){(y=(0,K.m9)(y))._checkNotDeleted("goOnline"),function(y){y.persistentConnection_&&y.persistentConnection_.resume(mp)}(y._repo)}var yo={".sv":"timestamp"},ju=function(){function y(v,w){this.committed=v,this.snapshot=w}return y.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},y}();function yC(y,v,w){var T;if(y=(0,K.m9)(y),Lr("Reference.transaction",y._path),".length"===y.key||".keys"===y.key)throw"Reference.transaction failed: "+y.key+" is a read-only object.";var P=null===(T=null==w?void 0:w.applyLocally)||void 0===T||T,U=new K.BH,ie=Bu(y,function(){});return function(y,v,w,T,P,U){on(y,"transaction on "+v);var W={path:v,update:w,onComplete:T,status:null,order:de(),applyLocally:U,retryCount:0,unwatcher:P,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ie=ns(y,v,void 0);W.currentInputSnapshot=ie;var ae=W.update(ie.val());if(void 0===ae)W.unwatcher(),W.currentOutputSnapshotRaw=null,W.currentOutputSnapshotResolved=null,W.onComplete&&W.onComplete(null,!1,W.currentInputSnapshot);else{Ma("transaction failed: Data returned ",ae,W.path),W.status=0;var ve=Pu(y.transactionQueueTree_,v),ye=zn(ve)||[];ye.push(W),ud(ve,ye);var je=void 0;"object"==typeof ae&&null!==ae&&(0,K.r3)(ae,".priority")?(je=(0,K.DV)(ae,".priority"),(0,K.hu)(ui(je),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):je=(sc(y.serverSyncTree_,v)||$t.EMPTY_NODE).getPriority().val();var ct=lc(y),mt=ai(ae,je),qt=Ou(mt,ie,ct);W.currentOutputSnapshotRaw=mt,W.currentOutputSnapshotResolved=qt,W.currentWriteId=Ra(y);var Ut=js(y.serverSyncTree_,v,qt,W.currentWriteId,W.applyLocally);ir(y.eventQueue_,v,Ut),fo(y,y.transactionQueueTree_)}}(y._repo,y._path,v,function(ae,ve,ye){var je=null;ae?U.reject(ae):(je=new Wo(ye,new kt(y._repo,y._path),Hn),U.resolve(new ju(ve,je)))},ie,P),U.promise}var As=function(){function y(v){this._delegate=v}return y.prototype.cancel=function(v){(0,K.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,K.Wj)("OnDisconnect.cancel","onComplete",v,!0);var w=this._delegate.cancel();return v&&w.then(function(){return v(null)},function(T){return v(T)}),w},y.prototype.remove=function(v){(0,K.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,K.Wj)("OnDisconnect.remove","onComplete",v,!0);var w=this._delegate.remove();return v&&w.then(function(){return v(null)},function(T){return v(T)}),w},y.prototype.set=function(v,w){(0,K.Dv)("OnDisconnect.set",1,2,arguments.length),(0,K.Wj)("OnDisconnect.set","onComplete",w,!0);var T=this._delegate.set(v);return w&&T.then(function(){return w(null)},function(P){return w(P)}),T},y.prototype.setWithPriority=function(v,w,T){(0,K.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,K.Wj)("OnDisconnect.setWithPriority","onComplete",T,!0);var P=this._delegate.setWithPriority(v,w);return T&&P.then(function(){return T(null)},function(U){return T(U)}),P},y.prototype.update=function(v,w){if((0,K.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(v)){for(var T={},P=0;P<v.length;++P)T[""+P]=v[P];v=T,_n("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,K.Wj)("OnDisconnect.update","onComplete",w,!0);var U=this._delegate.update(v);return w&&U.then(function(){return w(null)},function(W){return w(W)}),U},y}(),Pp=function(){function y(v,w){this.committed=v,this.snapshot=w}return y.prototype.toJSON=function(){return(0,K.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},y}(),Fa=function(){function y(v,w){this._database=v,this._delegate=w}return y.prototype.val=function(){return(0,K.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},y.prototype.exportVal=function(){return(0,K.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},y.prototype.toJSON=function(){return(0,K.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},y.prototype.exists=function(){return(0,K.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},y.prototype.child=function(v){return(0,K.Dv)("DataSnapshot.child",0,1,arguments.length),v=String(v),jo("DataSnapshot.child","path",v,!1),new y(this._database,this._delegate.child(v))},y.prototype.hasChild=function(v){return(0,K.Dv)("DataSnapshot.hasChild",1,1,arguments.length),jo("DataSnapshot.hasChild","path",v,!1),this._delegate.hasChild(v)},y.prototype.getPriority=function(){return(0,K.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},y.prototype.forEach=function(v){var w=this;return(0,K.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,K.Wj)("DataSnapshot.forEach","action",v,!1),this._delegate.forEach(function(T){return v(new y(w._database,T))})},y.prototype.hasChildren=function(){return(0,K.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(y.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),y.prototype.numChildren=function(){return(0,K.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},y.prototype.getRef=function(){return(0,K.Dv)("DataSnapshot.ref",0,0,arguments.length),new La(this._database,this._delegate.ref)},Object.defineProperty(y.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),y}(),Np=function(){function y(v,w){this.database=v,this._delegate=w}return y.prototype.on=function(v,w,T,P){var W,U=this;(0,K.Dv)("Query.on",2,4,arguments.length),(0,K.Wj)("Query.on","callback",w,!1);var ie=y.getCancelAndContextArgs_("Query.on",T,P),ae=function(ye,je){w.call(ie.context,new Fa(U.database,ye),je)};ae.userCallback=w,ae.context=ie.context;var ve=null===(W=ie.cancel)||void 0===W?void 0:W.bind(ie.context);switch(v){case"value":return Bu(this._delegate,ae,ve),w;case"child_added":return _d(this._delegate,ae,ve),w;case"child_removed":return bd(this._delegate,ae,ve),w;case"child_changed":return rr(this._delegate,ae,ve),w;case"child_moved":return hc(this._delegate,ae,ve),w;default:throw new Error((0,K.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},y.prototype.off=function(v,w,T){if((0,K.Dv)("Query.off",0,3,arguments.length),ib("Query.off",v,!0),(0,K.Wj)("Query.off","callback",w,!0),(0,K.lb)("Query.off","context",T,!0),w){var P=function(){};P.userCallback=w,P.context=T,Hu(this._delegate,v,P)}else Hu(this._delegate,v)},y.prototype.get=function(){var v=this;return Sp(this._delegate).then(function(w){return new Fa(v.database,w)})},y.prototype.once=function(v,w,T,P){var U=this;(0,K.Dv)("Query.once",1,4,arguments.length),(0,K.Wj)("Query.once","callback",w,!0);var W=y.getCancelAndContextArgs_("Query.once",T,P),ie=new K.BH,ae=function(ye,je){var Je=new Fa(U.database,ye);w&&w.call(W.context,Je,je),ie.resolve(Je)};ae.userCallback=w,ae.context=W.context;var ve=function(ye){W.cancel&&W.cancel.call(W.context,ye),ie.reject(ye)};switch(v){case"value":Bu(this._delegate,ae,ve,{onlyOnce:!0});break;case"child_added":_d(this._delegate,ae,ve,{onlyOnce:!0});break;case"child_removed":bd(this._delegate,ae,ve,{onlyOnce:!0});break;case"child_changed":rr(this._delegate,ae,ve,{onlyOnce:!0});break;case"child_moved":hc(this._delegate,ae,ve,{onlyOnce:!0});break;default:throw new Error((0,K.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ie.promise},y.prototype.limitToFirst=function(v){return(0,K.Dv)("Query.limitToFirst",1,1,arguments.length),new y(this.database,Br(this._delegate,wd(v)))},y.prototype.limitToLast=function(v){return(0,K.Dv)("Query.limitToLast",1,1,arguments.length),new y(this.database,Br(this._delegate,mb(v)))},y.prototype.orderByChild=function(v){return(0,K.Dv)("Query.orderByChild",1,1,arguments.length),new y(this.database,Br(this._delegate,Ip(v)))},y.prototype.orderByKey=function(){return(0,K.Dv)("Query.orderByKey",0,0,arguments.length),new y(this.database,Br(this._delegate,Sd()))},y.prototype.orderByPriority=function(){return(0,K.Dv)("Query.orderByPriority",0,0,arguments.length),new y(this.database,Br(this._delegate,Na()))},y.prototype.orderByValue=function(){return(0,K.Dv)("Query.orderByValue",0,0,arguments.length),new y(this.database,Br(this._delegate,Mp()))},y.prototype.startAt=function(v,w){return void 0===v&&(v=null),(0,K.Dv)("Query.startAt",0,2,arguments.length),new y(this.database,Br(this._delegate,Ap(v,w)))},y.prototype.startAfter=function(v,w){return void 0===v&&(v=null),(0,K.Dv)("Query.startAfter",0,2,arguments.length),new y(this.database,Br(this._delegate,qo(v,w)))},y.prototype.endAt=function(v,w){return void 0===v&&(v=null),(0,K.Dv)("Query.endAt",0,2,arguments.length),new y(this.database,Br(this._delegate,pb(v,w)))},y.prototype.endBefore=function(v,w){return void 0===v&&(v=null),(0,K.Dv)("Query.endBefore",0,2,arguments.length),new y(this.database,Br(this._delegate,gb(v,w)))},y.prototype.equalTo=function(v,w){return(0,K.Dv)("Query.equalTo",1,2,arguments.length),new y(this.database,Br(this._delegate,vb(v,w)))},y.prototype.toString=function(){return(0,K.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},y.prototype.toJSON=function(){return(0,K.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},y.prototype.isEqual=function(v){if((0,K.Dv)("Query.isEqual",1,1,arguments.length),!(v instanceof y)){var w="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(w)}return this._delegate.isEqual(v._delegate)},y.getCancelAndContextArgs_=function(v,w,T){var P={cancel:void 0,context:void 0};if(w&&T)P.cancel=w,(0,K.Wj)(v,"cancel",P.cancel,!0),P.context=T,(0,K.lb)(v,"context",P.context,!0);else if(w)if("object"==typeof w&&null!==w)P.context=w;else{if("function"!=typeof w)throw new Error((0,K.gK)(v,"cancelOrContext")+" must either be a cancel callback or a context object.");P.cancel=w}return P},Object.defineProperty(y.prototype,"ref",{get:function(){return new La(this.database,new kt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),y}(),La=function(y){function v(w,T){var P=y.call(this,w,new cr(T._repo,T._path,new Dm,!1))||this;return P.database=w,P._delegate=T,P}return(0,Ie.ZT)(v,y),v.prototype.getKey=function(){return(0,K.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},v.prototype.child=function(w){return(0,K.Dv)("Reference.child",1,1,arguments.length),"number"==typeof w&&(w=String(w)),new v(this.database,Pa(this._delegate,w))},v.prototype.getParent=function(){(0,K.Dv)("Reference.parent",0,0,arguments.length);var w=this._delegate.parent;return w?new v(this.database,w):null},v.prototype.getRoot=function(){return(0,K.Dv)("Reference.root",0,0,arguments.length),new v(this.database,this._delegate.root)},v.prototype.set=function(w,T){(0,K.Dv)("Reference.set",1,2,arguments.length),(0,K.Wj)("Reference.set","onComplete",T,!0);var P=Cp(this._delegate,w);return T&&P.then(function(){return T(null)},function(U){return T(U)}),P},v.prototype.update=function(w,T){if((0,K.Dv)("Reference.update",1,2,arguments.length),Array.isArray(w)){for(var P={},U=0;U<w.length;++U)P[""+U]=w[U];w=P,_n("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),(0,K.Wj)("Reference.update","onComplete",T,!0);var W=fb(this._delegate,w);return T&&W.then(function(){return T(null)},function(ie){return T(ie)}),W},v.prototype.setWithPriority=function(w,T,P){(0,K.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,K.Wj)("Reference.setWithPriority","onComplete",P,!0);var U=Vu(this._delegate,w,T);return P&&U.then(function(){return P(null)},function(W){return P(W)}),U},v.prototype.remove=function(w){(0,K.Dv)("Reference.remove",0,1,arguments.length),(0,K.Wj)("Reference.remove","onComplete",w,!0);var T=hv(this._delegate);return w&&T.then(function(){return w(null)},function(P){return w(P)}),T},v.prototype.transaction=function(w,T,P){var U=this;(0,K.Dv)("Reference.transaction",1,3,arguments.length),(0,K.Wj)("Reference.transaction","transactionUpdate",w,!1),(0,K.Wj)("Reference.transaction","onComplete",T,!0),sb("Reference.transaction","applyLocally",P,!0);var W=yC(this._delegate,w,{applyLocally:P}).then(function(ie){return new Pp(ie.committed,new Fa(U.database,ie.snapshot))});return T&&W.then(function(ie){return T(null,ie.committed,ie.snapshot)},function(ie){return T(ie,!1,null)}),W},v.prototype.setPriority=function(w,T){(0,K.Dv)("Reference.setPriority",1,2,arguments.length),(0,K.Wj)("Reference.setPriority","onComplete",T,!0);var P=yd(this._delegate,w);return T&&P.then(function(){return T(null)},function(U){return T(U)}),P},v.prototype.push=function(w,T){var P=this;(0,K.Dv)("Reference.push",0,2,arguments.length),(0,K.Wj)("Reference.push","onComplete",T,!0);var U=wp(this._delegate,w),W=U.then(function(ae){return new v(P.database,ae)});T&&W.then(function(){return T(null)},function(ae){return T(ae)});var ie=new v(this.database,U);return ie.then=W.then.bind(W),ie.catch=W.catch.bind(W,void 0),ie},v.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new As(new cv(this._delegate._repo,this._delegate._path))},Object.defineProperty(v.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),v}(Np),Va=function(){function y(v,w){var T=this;this._delegate=v,this.app=w,this.INTERNAL={delete:function(){return T._delegate._delete()}}}return y.prototype.useEmulator=function(v,w,T){void 0===T&&(T={}),function(y,v,w,T){void 0===T&&(T={}),(y=(0,K.m9)(y))._checkNotDeleted("useEmulator"),y._instanceStarted&&gn("Cannot call useEmulator() after instance has already been initialized.");var P=y._repoInternal,U=void 0;if(P.repoInfo_.nodeAdmin)T.mockUserToken&&gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),U=new an(an.OWNER);else if(T.mockUserToken){var W=(0,K.Sg)(T.mockUserToken,y.app.options.projectId);U=new an(W)}!function(y,v,w,T){y.repoInfo_=new Jn(v+":"+w,!1,y.repoInfo_.namespace,y.repoInfo_.webSocketOnly,y.repoInfo_.nodeAdmin,y.repoInfo_.persistenceKey,y.repoInfo_.includeNamespaceInQueryParams),T&&(y.authTokenProvider_=T)}(P,v,w,U)}(this._delegate,v,w,T)},y.prototype.ref=function(v){if((0,K.Dv)("database.ref",0,1,arguments.length),v instanceof La){var w=mo(this._delegate,v.toString());return new La(this,w)}return w=uv(this._delegate,v),new La(this,w)},y.prototype.refFromURL=function(v){var w="database.refFromURL";(0,K.Dv)(w,1,1,arguments.length);var T=mo(this._delegate,v);return new La(this,T)},y.prototype.goOffline=function(){return(0,K.Dv)("database.goOffline",0,0,arguments.length),Ed(this._delegate)},y.prototype.goOnline=function(){return(0,K.Dv)("database.goOnline",0,0,arguments.length),gc(this._delegate)},y.ServerValue={TIMESTAMP:yo,increment:function(v){return function(y){return{".sv":{increment:y}}}(v)}},y}(),xb=Object.freeze({__proto__:null,forceLongPolling:function(){u.forceDisallow(),jl.forceAllow()},forceWebSockets:function(){jl.forceDisallow()},isWebSocketsAvailable:function(){return u.isAvailable()},setSecurityDebugCallback:function(y,v){y._delegate._repo.persistentConnection_.securityDebugCallback_=v},stats:function(y,v){!function(y,v){if(void 0===v&&(v=!1),"undefined"!=typeof console){var w;v?(y.statsListener_||(y.statsListener_=new oo(y.stats_)),w=y.statsListener_.get()):w=y.stats_.get();var T=Object.keys(w).reduce(function(P,U){return Math.max(U.length,P)},0);Ft(w,function(P,U){for(var W=P,ie=P.length;ie<T+2;ie++)W+=" ";console.log(W+U)})}}(y._delegate._repo,v)},statsIncrementCounter:function(y,v){!function(y,v){y.stats_.incrementCounter(v),function(y,v){y.statsToReport_[v]=!0}(y.statsReporter_,v)}(y._delegate._repo,v)},dataUpdateCount:function(y){return y._delegate._repo.dataUpdateCount},interceptServerData:function(y,v){return function(y,v){y.interceptServerDataCallback_=v}(y._delegate._repo,v)},initStandalone:function(y){var v=y.app,w=y.url,P=y.customAuthImpl,U=y.namespace,W=y.nodeAdmin,ie=void 0!==W&&W;Ae(y.version);var ae=new Be.zt("auth-internal",new Be.H0("database-standalone"));return ae.setComponent(new Be.wA("auth-internal",function(){return P},"PRIVATE")),{instance:new Va(zu(v,ae,void 0,w,ie),v),namespace:U}}}),bl=Yl;Yl.prototype.simpleListen=function(y,v){this.sendRequest("q",{p:y},v)},Yl.prototype.echo=function(y,v){this.sendRequest("echo",{d:y},v)};var Vp=Object.freeze({__proto__:null,DataConnection:bl,RealTimeConnection:ne,hijackHash:function(y){var v=Yl.prototype.put;return Yl.prototype.put=function(w,T,P,U){void 0!==U&&(U=y()),v.call(this,w,T,P,U)},function(){Yl.prototype.put=v}},ConnectionTarget:Jn,queryIdentifier:function(y){return y._delegate._queryIdentifier},forceRestClient:function(y){!function(y){Rp=y}(y)}}),rs=Va.ServerValue;!function(y){Ae(y.SDK_VERSION);var v=y.INTERNAL.registerComponent(new Be.wA("database",function(w,T){var P=T.instanceIdentifier,U=w.getProvider("app").getImmediate(),W=w.getProvider("auth-internal"),ie=w.getProvider("app-check-internal");return new Va(zu(U,W,ie,P),U)},"PUBLIC").setServiceProps({Reference:La,Query:Np,Database:Va,DataSnapshot:Fa,enableLogging:Kn,INTERNAL:xb,ServerValue:rs,TEST_ACCESS:Vp}).setMultipleInstances(!0));y.registerVersion("@firebase/database","0.10.9"),(0,K.Yr)()&&(Rt.exports=v)}(c.Z)},300:(Rt,it,ge)=>{"use strict";function c(){for(var he=0,Ce=0,Ne=arguments.length;Ce<Ne;Ce++)he+=arguments[Ce].length;var Ke=Array(he),de=0;for(Ce=0;Ce<Ne;Ce++)for(var pt=arguments[Ce],tt=0,Pe=pt.length;tt<Pe;tt++,de++)Ke[de]=pt[tt];return Ke}ge.d(it,{in:()=>Ie,Yd:()=>Ae,Ub:()=>me,Am:()=>Te});var Be,K=[],Ie=(()=>{return(he=Ie||(Ie={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",Ie;var he})(),Ee={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},ke=Ie.INFO,Ve=((Be={})[Ie.DEBUG]="log",Be[Ie.VERBOSE]="log",Be[Ie.INFO]="info",Be[Ie.WARN]="warn",Be[Ie.ERROR]="error",Be),Se=function(he,Ce){for(var Ne=[],Ke=2;Ke<arguments.length;Ke++)Ne[Ke-2]=arguments[Ke];if(!(Ce<he.logLevel)){var de=(new Date).toISOString(),pt=Ve[Ce];if(!pt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ce+")");console[pt].apply(console,c(["["+de+"]  "+he.name+":"],Ne))}},Ae=function(){function he(Ce){this.name=Ce,this._logLevel=ke,this._logHandler=Se,this._userLogHandler=null,K.push(this)}return Object.defineProperty(he.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ce){if(!(Ce in Ie))throw new TypeError('Invalid value "'+Ce+'" assigned to `logLevel`');this._logLevel=Ce},enumerable:!1,configurable:!0}),he.prototype.setLogLevel=function(Ce){this._logLevel="string"==typeof Ce?Ee[Ce]:Ce},Object.defineProperty(he.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(he.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ce){this._userLogHandler=Ce},enumerable:!1,configurable:!0}),he.prototype.debug=function(){for(var Ce=[],Ne=0;Ne<arguments.length;Ne++)Ce[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Ie.DEBUG],Ce)),this._logHandler.apply(this,c([this,Ie.DEBUG],Ce))},he.prototype.log=function(){for(var Ce=[],Ne=0;Ne<arguments.length;Ne++)Ce[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Ie.VERBOSE],Ce)),this._logHandler.apply(this,c([this,Ie.VERBOSE],Ce))},he.prototype.info=function(){for(var Ce=[],Ne=0;Ne<arguments.length;Ne++)Ce[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Ie.INFO],Ce)),this._logHandler.apply(this,c([this,Ie.INFO],Ce))},he.prototype.warn=function(){for(var Ce=[],Ne=0;Ne<arguments.length;Ne++)Ce[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Ie.WARN],Ce)),this._logHandler.apply(this,c([this,Ie.WARN],Ce))},he.prototype.error=function(){for(var Ce=[],Ne=0;Ne<arguments.length;Ne++)Ce[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Ie.ERROR],Ce)),this._logHandler.apply(this,c([this,Ie.ERROR],Ce))},he}();function me(he){K.forEach(function(Ce){Ce.setLogLevel(he)})}function Te(he,Ce){for(var Ne=function(tt){var Pe=null;Ce&&Ce.level&&(Pe=Ee[Ce.level]),tt.userLogHandler=null===he?null:function(yn,Kn){for(var vt=[],Dn=2;Dn<arguments.length;Dn++)vt[Dn-2]=arguments[Dn];var Xn=vt.map(function(gn){if(null==gn)return null;if("string"==typeof gn)return gn;if("number"==typeof gn||"boolean"==typeof gn)return gn.toString();if(gn instanceof Error)return gn.message;try{return JSON.stringify(gn)}catch(_n){return null}}).filter(function(gn){return gn}).join(" ");Kn>=(null!=Pe?Pe:yn.logLevel)&&he({level:Ie[Kn].toLowerCase(),message:Xn,args:vt,type:yn.name})}},Ke=0,de=K;Ke<de.length;Ke++)Ne(de[Ke])}},4685:(Rt,it,ge)=>{"use strict";ge.d(it,{BH:()=>Ce,LL:()=>Ye,gQ:()=>an,hu:()=>K,g5:()=>Ie,US:()=>Ve,h$:()=>Se,r3:()=>mn,Sg:()=>Ne,ne:()=>Ri,p$:()=>me,ZB:()=>Te,gK:()=>vs,m9:()=>Gh,z$:()=>Ke,GJ:()=>Nn,jU:()=>tt,ru:()=>Pe,d:()=>Kn,xb:()=>Rn,w1:()=>vt,uI:()=>de,UG:()=>pt,Yr:()=>Xn,b$:()=>yn,G6:()=>gn,Mn:()=>Dn,w9:()=>Jt,cI:()=>Sn,UI:()=>fi,xO:()=>gr,DV:()=>Ji,ug:()=>Jn,dS:()=>ga,Pz:()=>bt,Dv:()=>si,Wj:()=>Ir,lb:()=>bi});var c=ge(4762),K=function(we,be){if(!we)throw Ie(be)},Ie=function(we){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+we)},Ee=function(we){for(var be=[],Me=0,$e=0;$e<we.length;$e++){var Le=we.charCodeAt($e);Le<128?be[Me++]=Le:Le<2048?(be[Me++]=Le>>6|192,be[Me++]=63&Le|128):55296==(64512&Le)&&$e+1<we.length&&56320==(64512&we.charCodeAt($e+1))?(Le=65536+((1023&Le)<<10)+(1023&we.charCodeAt(++$e)),be[Me++]=Le>>18|240,be[Me++]=Le>>12&63|128,be[Me++]=Le>>6&63|128,be[Me++]=63&Le|128):(be[Me++]=Le>>12|224,be[Me++]=Le>>6&63|128,be[Me++]=63&Le|128)}return be},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(we,be){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Me=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[],Le=0;Le<we.length;Le+=3){var gt=we[Le],jt=Le+1<we.length,ln=jt?we[Le+1]:0,En=Le+2<we.length,An=En?we[Le+2]:0,zi=(15&ln)<<2|An>>6,ys=63&An;En||(ys=64,jt||(zi=64)),$e.push(Me[gt>>2],Me[(3&gt)<<4|ln>>4],Me[zi],Me[ys])}return $e.join("")},encodeString:function(we,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(we):this.encodeByteArray(Ee(we),be)},decodeString:function(we,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(we):function(we){for(var be=[],Me=0,$e=0;Me<we.length;){var Le=we[Me++];if(Le<128)be[$e++]=String.fromCharCode(Le);else if(Le>191&&Le<224){var gt=we[Me++];be[$e++]=String.fromCharCode((31&Le)<<6|63&gt)}else if(Le>239&&Le<365){var En=((7&Le)<<18|(63&(gt=we[Me++]))<<12|(63&(jt=we[Me++]))<<6|63&we[Me++])-65536;be[$e++]=String.fromCharCode(55296+(En>>10)),be[$e++]=String.fromCharCode(56320+(1023&En))}else{gt=we[Me++];var jt=we[Me++];be[$e++]=String.fromCharCode((15&Le)<<12|(63&gt)<<6|63&jt)}}return be.join("")}(this.decodeStringToByteArray(we,be))},decodeStringToByteArray:function(we,be){this.init_();for(var Me=be?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[],Le=0;Le<we.length;){var gt=Me[we.charAt(Le++)],ln=Le<we.length?Me[we.charAt(Le)]:0,An=++Le<we.length?Me[we.charAt(Le)]:64,Pi=++Le<we.length?Me[we.charAt(Le)]:64;if(++Le,null==gt||null==ln||null==An||null==Pi)throw Error();$e.push(gt<<2|ln>>4),64!==An&&($e.push(ln<<4&240|An>>2),64!==Pi&&$e.push(An<<6&192|Pi))}return $e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},Se=function(we){var be=Ee(we);return Ve.encodeByteArray(be,!0)},Ae=function(we){try{return Ve.decodeString(we,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function me(we){return Te(void 0,we)}function Te(we,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return be}for(var $e in be)!be.hasOwnProperty($e)||!he($e)||(we[$e]=Te(we[$e],be[$e]));return we}function he(we){return"__proto__"!==we}var Ce=function(){function we(){var be=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Me,$e){be.resolve=Me,be.reject=$e})}return we.prototype.wrapCallback=function(be){var Me=this;return function($e,Le){$e?Me.reject($e):Me.resolve(Le),"function"==typeof be&&(Me.promise.catch(function(){}),1===be.length?be($e):be($e,Le))}},we}();function Ne(we,be){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var $e=be||"demo-project",Le=we.iat||0,gt=we.sub||we.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var jt=(0,c.pi)({iss:"https://securetoken.google.com/"+$e,aud:$e,iat:Le,exp:Le+3600,auth_time:Le,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Ve.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Ve.encodeString(JSON.stringify(jt),!1),""].join(".")}function Ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function pt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(we){return!1}}function tt(){return"object"==typeof self&&self.self===self}function Pe(){var we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function yn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kn(){return Ke().indexOf("Electron/")>=0}function vt(){var we=Ke();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function Dn(){return Ke().indexOf("MSAppHost/")>=0}function Xn(){return!1}function gn(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var nt=function(we){function be(Me,$e,Le){var gt=we.call(this,$e)||this;return gt.code=Me,gt.customData=Le,gt.name="FirebaseError",Object.setPrototypeOf(gt,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(gt,Ye.prototype.create),gt}return(0,c.ZT)(be,we),be}(Error),Ye=function(){function we(be,Me,$e){this.service=be,this.serviceName=Me,this.errors=$e}return we.prototype.create=function(be){for(var Me=[],$e=1;$e<arguments.length;$e++)Me[$e-1]=arguments[$e];var Le=Me[0]||{},gt=this.service+"/"+be,jt=this.errors[be],ln=jt?Dt(jt,Le):"Error",En=this.serviceName+": "+ln+" ("+gt+").",An=new nt(gt,En,Le);return An},we}();function Dt(we,be){return we.replace(zt,function(Me,$e){var Le=be[$e];return null!=Le?String(Le):"<"+$e+"?>"})}var zt=/\{\$([^}]+)}/g;function Sn(we){return JSON.parse(we)}function bt(we){return JSON.stringify(we)}var Ft=function(we){var be={},Me={},$e={},Le="";try{var gt=we.split(".");be=Sn(Ae(gt[0])||""),Me=Sn(Ae(gt[1])||""),Le=gt[2],$e=Me.d||{},delete Me.d}catch(jt){}return{header:be,claims:Me,data:$e,signature:Le}},Jt=function(we){var Me=Ft(we).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},Nn=function(we){var be=Ft(we).claims;return"object"==typeof be&&!0===be.admin};function mn(we,be){return Object.prototype.hasOwnProperty.call(we,be)}function Ji(we,be){if(Object.prototype.hasOwnProperty.call(we,be))return we[be]}function Rn(we){for(var be in we)if(Object.prototype.hasOwnProperty.call(we,be))return!1;return!0}function fi(we,be,Me){var $e={};for(var Le in we)Object.prototype.hasOwnProperty.call(we,Le)&&($e[Le]=be.call(Me,we[Le],Le,we));return $e}function gr(we){for(var be=[],Me=function(En,An){Array.isArray(An)?An.forEach(function(xi){be.push(encodeURIComponent(En)+"="+encodeURIComponent(xi))}):be.push(encodeURIComponent(En)+"="+encodeURIComponent(An))},$e=0,Le=Object.entries(we);$e<Le.length;$e++){var gt=Le[$e];Me(gt[0],gt[1])}return be.length?"&"+be.join("&"):""}var an=function(){function we(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}return we.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},we.prototype.compress_=function(be,Me){Me||(Me=0);var $e=this.W_;if("string"==typeof be)for(var Le=0;Le<16;Le++)$e[Le]=be.charCodeAt(Me)<<24|be.charCodeAt(Me+1)<<16|be.charCodeAt(Me+2)<<8|be.charCodeAt(Me+3),Me+=4;else for(Le=0;Le<16;Le++)$e[Le]=be[Me]<<24|be[Me+1]<<16|be[Me+2]<<8|be[Me+3],Me+=4;for(Le=16;Le<80;Le++)$e[Le]=4294967295&((gt=$e[Le-3]^$e[Le-8]^$e[Le-14]^$e[Le-16])<<1|gt>>>31);var Pi,zi,jt=this.chain_[0],ln=this.chain_[1],En=this.chain_[2],An=this.chain_[3],xi=this.chain_[4];for(Le=0;Le<80;Le++){Le<40?Le<20?(Pi=An^ln&(En^An),zi=1518500249):(Pi=ln^En^An,zi=1859775393):Le<60?(Pi=ln&En|An&(ln|En),zi=2400959708):(Pi=ln^En^An,zi=3395469782);var gt=(jt<<5|jt>>>27)+Pi+xi+zi+$e[Le]&4294967295;xi=An,An=En,En=4294967295&(ln<<30|ln>>>2),ln=jt,jt=gt}this.chain_[0]=this.chain_[0]+jt&4294967295,this.chain_[1]=this.chain_[1]+ln&4294967295,this.chain_[2]=this.chain_[2]+En&4294967295,this.chain_[3]=this.chain_[3]+An&4294967295,this.chain_[4]=this.chain_[4]+xi&4294967295},we.prototype.update=function(be,Me){if(null!=be){void 0===Me&&(Me=be.length);for(var $e=Me-this.blockSize,Le=0,gt=this.buf_,jt=this.inbuf_;Le<Me;){if(0===jt)for(;Le<=$e;)this.compress_(be,Le),Le+=this.blockSize;if("string"==typeof be){for(;Le<Me;)if(gt[jt]=be.charCodeAt(Le),++Le,++jt===this.blockSize){this.compress_(gt),jt=0;break}}else for(;Le<Me;)if(gt[jt]=be[Le],++Le,++jt===this.blockSize){this.compress_(gt),jt=0;break}}this.inbuf_=jt,this.total_+=Me}},we.prototype.digest=function(){var be=[],Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&Me,Me/=256;this.compress_(this.buf_);var Le=0;for($e=0;$e<5;$e++)for(var gt=24;gt>=0;gt-=8)be[Le]=this.chain_[$e]>>gt&255,++Le;return be},we}();function Ri(we,be){var Me=new Oi(we,be);return Me.subscribe.bind(Me)}var Oi=function(){function we(be,Me){var $e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(function(){be($e)}).catch(function(Le){$e.error(Le)})}return we.prototype.next=function(be){this.forEachObserver(function(Me){Me.next(be)})},we.prototype.error=function(be){this.forEachObserver(function(Me){Me.error(be)}),this.close(be)},we.prototype.complete=function(){this.forEachObserver(function(be){be.complete()}),this.close()},we.prototype.subscribe=function(be,Me,$e){var gt,Le=this;if(void 0===be&&void 0===Me&&void 0===$e)throw new Error("Missing Observer.");void 0===(gt=function(we,be){if("object"!=typeof we||null===we)return!1;for(var Me=0,$e=["next","error","complete"];Me<$e.length;Me++){var Le=$e[Me];if(Le in we&&"function"==typeof we[Le])return!0}return!1}(be)?be:{next:be,error:Me,complete:$e}).next&&(gt.next=pi),void 0===gt.error&&(gt.error=pi),void 0===gt.complete&&(gt.complete=pi);var jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Le.finalError?gt.error(Le.finalError):gt.complete()}catch(ln){}}),this.observers.push(gt),jt},we.prototype.unsubscribeOne=function(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},we.prototype.forEachObserver=function(be){if(!this.finalized)for(var Me=0;Me<this.observers.length;Me++)this.sendOne(Me,be)},we.prototype.sendOne=function(be,Me){var $e=this;this.task.then(function(){if(void 0!==$e.observers&&void 0!==$e.observers[be])try{Me($e.observers[be])}catch(Le){"undefined"!=typeof console&&console.error&&console.error(Le)}})},we.prototype.close=function(be){var Me=this;this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(function(){Me.observers=void 0,Me.onNoObservers=void 0}))},we}();function pi(){}var si=function(we,be,Me,$e){var Le;if($e<be?Le="at least "+be:$e>Me&&(Le=0===Me?"none":"no more than "+Me),Le)throw new Error(we+" failed: Was called with "+$e+(1===$e?" argument.":" arguments.")+" Expects "+Le+".")};function vs(we,be){return we+" failed: "+be+" argument "}function Ir(we,be,Me,$e){if((!$e||Me)&&"function"!=typeof Me)throw new Error(vs(we,be)+"must be a valid function.")}function bi(we,be,Me,$e){if((!$e||Me)&&("object"!=typeof Me||null===Me))throw new Error(vs(we,be)+"must be a valid context object.")}var ga=function(we){for(var be=[],Me=0,$e=0;$e<we.length;$e++){var Le=we.charCodeAt($e);if(Le>=55296&&Le<=56319){var gt=Le-55296;$e++,K($e<we.length,"Surrogate pair missing trail surrogate."),Le=65536+(gt<<10)+(we.charCodeAt($e)-56320)}Le<128?be[Me++]=Le:Le<2048?(be[Me++]=Le>>6|192,be[Me++]=63&Le|128):Le<65536?(be[Me++]=Le>>12|224,be[Me++]=Le>>6&63|128,be[Me++]=63&Le|128):(be[Me++]=Le>>18|240,be[Me++]=Le>>12&63|128,be[Me++]=Le>>6&63|128,be[Me++]=63&Le|128)}return be},Jn=function(we){for(var be=0,Me=0;Me<we.length;Me++){var $e=we.charCodeAt(Me);$e<128?be++:$e<2048?be+=2:$e>=55296&&$e<=56319?(be+=4,Me++):be+=3}return be};function Gh(we){return we&&we._delegate?we._delegate:we}},3300:(Rt,it,ge)=>{"use strict";var c;function Be(J){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(J)}function K(J,u){if(!(J instanceof u))throw new TypeError("Cannot call a class as a function")}function Ie(J,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(J,g.key,g)}}function Ee(J,u,h){return u&&Ie(J.prototype,u),h&&Ie(J,h),J}function ke(J,u,h){return u in J?Object.defineProperty(J,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):J[u]=h,J}function Ve(J,u){var h=Object.keys(J);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(J);u&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(J,_).enumerable})),h.push.apply(h,g)}return h}function Se(J){for(var u=1;u<arguments.length;u++){var h=null!=arguments[u]?arguments[u]:{};u%2?Ve(Object(h),!0).forEach(function(g){ke(J,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(h)):Ve(Object(h)).forEach(function(g){Object.defineProperty(J,g,Object.getOwnPropertyDescriptor(h,g))})}return J}function Ae(J,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(u&&u.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),u&&Te(J,u)}function me(J){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(J)}function Te(J,u){return(Te=Object.setPrototypeOf||function(h,g){return h.__proto__=g,h})(J,u)}function he(J,u){return!u||"object"!=typeof u&&"function"!=typeof u?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(J):u}function Ce(J){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}();return function(){var h,g=me(J);if(u){var _=me(this).constructor;h=Reflect.construct(g,arguments,_)}else h=g.apply(this,arguments);return he(this,h)}}function Ne(J){return function(u){if(Array.isArray(u))return Ke(u)}(J)||function(u){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(u))return Array.from(u)}(J)||function(u,h){if(u){if("string"==typeof u)return Ke(u,h);var g=Object.prototype.toString.call(u).slice(8,-1);if("Object"===g&&u.constructor&&(g=u.constructor.name),"Map"===g||"Set"===g)return Array.from(u);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Ke(u,h)}}(J)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(J,u){(null==u||u>J.length)&&(u=J.length);for(var h=0,g=new Array(u);h<u;h++)g[h]=J[h];return g}var de=function(){function J(){K(this,J)}return Ee(J,[{key:"shadeRGBColor",value:function(u,h){var g=h.split(","),_=u<0?0:255,x=u<0?-1*u:u,A=parseInt(g[0].slice(4),10),S=parseInt(g[1],10),D=parseInt(g[2],10);return"rgb("+(Math.round((_-A)*x)+A)+","+(Math.round((_-S)*x)+S)+","+(Math.round((_-D)*x)+D)+")"}},{key:"shadeHexColor",value:function(u,h){var g=parseInt(h.slice(1),16),_=u<0?0:255,x=u<0?-1*u:u,A=g>>16,S=g>>8&255,D=255&g;return"#"+(16777216+65536*(Math.round((_-A)*x)+A)+256*(Math.round((_-S)*x)+S)+(Math.round((_-D)*x)+D)).toString(16).slice(1)}},{key:"shadeColor",value:function(u,h){return J.isColorHex(h)?this.shadeHexColor(u,h):this.shadeRGBColor(u,h)}}],[{key:"bind",value:function(u,h){return function(){return u.apply(h,arguments)}}},{key:"isObject",value:function(u){return u&&"object"===Be(u)&&!Array.isArray(u)&&null!=u}},{key:"listToArray",value:function(u){var h,g=[];for(h=0;h<u.length;h++)g[h]=u[h];return g}},{key:"extend",value:function(u,h){var g=this;"function"!=typeof Object.assign&&(Object.assign=function(x){if(null==x)throw new TypeError("Cannot convert undefined or null to object");for(var A=Object(x),S=1;S<arguments.length;S++){var D=arguments[S];if(null!=D)for(var R in D)D.hasOwnProperty(R)&&(A[R]=D[R])}return A});var _=Object.assign({},u);return this.isObject(u)&&this.isObject(h)&&Object.keys(h).forEach(function(x){g.isObject(h[x])&&x in u?_[x]=g.extend(u[x],h[x]):Object.assign(_,ke({},x,h[x]))}),_}},{key:"extendArray",value:function(u,h){var g=[];return u.map(function(_){g.push(J.extend(h,_))}),g}},{key:"monthMod",value:function(u){return u%12}},{key:"clone",value:function(u){if("[object Array]"===Object.prototype.toString.call(u)){for(var h=[],g=0;g<u.length;g++)h[g]=this.clone(u[g]);return h}if("[object Null]"===Object.prototype.toString.call(u))return null;if("[object Date]"===Object.prototype.toString.call(u))return u;if("object"===Be(u)){var _={};for(var x in u)u.hasOwnProperty(x)&&(_[x]=this.clone(u[x]));return _}return u}},{key:"log10",value:function(u){return Math.log(u)/Math.LN10}},{key:"roundToBase10",value:function(u){return Math.pow(10,Math.floor(Math.log10(u)))}},{key:"roundToBase",value:function(u,h){return Math.pow(h,Math.floor(Math.log(u)/Math.log(h)))}},{key:"parseNumber",value:function(u){return null===u?u:parseFloat(u)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(u){var h=String(u).split(/[eE]/);if(1===h.length)return h[0];var g="",_=u<0?"-":"",x=h[0].replace(".",""),A=Number(h[1])+1;if(A<0){for(g=_+"0.";A++;)g+="0";return g+x.replace(/^-/,"")}for(A-=x.length;A--;)g+="0";return x+g}},{key:"getDimensions",value:function(u){var h=getComputedStyle(u,null),g=u.clientHeight,_=u.clientWidth;return g-=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),[_-=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight),g]}},{key:"getBoundingClientRect",value:function(u){var h=u.getBoundingClientRect();return{top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:u.clientWidth,height:u.clientHeight,x:h.left,y:h.top}}},{key:"getLargestStringFromArr",value:function(u){return u.reduce(function(h,g){return Array.isArray(g)&&(g=g.reduce(function(_,x){return _.length>x.length?_:x})),h.length>g.length?h:g},0)}},{key:"hexToRgba",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==u.substring(0,1)&&(u="#999999");var g=u.replace("#","");g=g.match(new RegExp("(.{"+g.length/3+"})","g"));for(var _=0;_<g.length;_++)g[_]=parseInt(1===g[_].length?g[_]+g[_]:g[_],16);return void 0!==h&&g.push(h),"rgba("+g.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(u){return parseFloat(u.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(u){return(u=u.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===u.length?"#"+("0"+parseInt(u[1],10).toString(16)).slice(-2)+("0"+parseInt(u[2],10).toString(16)).slice(-2)+("0"+parseInt(u[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(u){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(u)}},{key:"getPolygonPos",value:function(u,h){for(var g=[],_=2*Math.PI/h,x=0;x<h;x++){var A={};A.x=u*Math.sin(x*_),A.y=-u*Math.cos(x*_),g.push(A)}return g}},{key:"polarToCartesian",value:function(u,h,g,_){var x=(_-90)*Math.PI/180;return{x:u+g*Math.cos(x),y:h+g*Math.sin(x)}}},{key:"escapeString",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",g=u.toString().slice();return g.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,h)}},{key:"negToZero",value:function(u){return u<0?0:u}},{key:"moveIndexInArray",value:function(u,h,g){if(g>=u.length)for(var _=g-u.length+1;_--;)u.push(void 0);return u.splice(g,0,u.splice(h,1)[0]),u}},{key:"extractNumber",value:function(u){return parseFloat(u.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(u,h){for(;(u=u.parentElement)&&!u.classList.contains(h););return u}},{key:"setELstyles",value:function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u.style.key=h[g])}},{key:"isNumber",value:function(u){return!isNaN(u)&&parseFloat(Number(u))===u&&!isNaN(parseInt(u,10))}},{key:"isFloat",value:function(u){return Number(u)===u&&u%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var u=window.navigator.userAgent,h=u.indexOf("MSIE ");if(h>0)return parseInt(u.substring(h+5,u.indexOf(".",h)),10);if(u.indexOf("Trident/")>0){var g=u.indexOf("rv:");return parseInt(u.substring(g+3,u.indexOf(".",g)),10)}var _=u.indexOf("Edge/");return _>0&&parseInt(u.substring(_+5,u.indexOf(".",_)),10)}},{key:"sanitizeDom",value:function(u){return String(u).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}]),J}(),pt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.setEasingFunctions()}return Ee(J,[{key:"setEasingFunctions",value:function(){var u;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":u="-";break;case"easein":u="<";break;case"easeout":u=">";break;case"easeinout":u="<>";break;case"swing":u=function(h){var g=1.70158;return(h-=1)*h*((g+1)*h+g)+1};break;case"bounce":u=function(h){return h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+.9375:7.5625*(h-=2.625/2.75)*h+.984375};break;case"elastic":u=function(h){return h===!!h?h:Math.pow(2,-10*h)*Math.sin((h-.075)*(2*Math.PI)/.3)+1};break;default:u="<>"}this.w.globals.easing=u}}},{key:"animateLine",value:function(u,h,g,_){u.attr(h).animate(_).attr(g)}},{key:"animateMarker",value:function(u,h,g,_,x,A){h||(h=0),u.attr({r:h,width:h,height:h}).animate(_,x).attr({r:g,width:g.width,height:g.height}).afterAll(function(){A()})}},{key:"animateCircle",value:function(u,h,g,_,x){u.attr({r:h.r,cx:h.cx,cy:h.cy}).animate(_,x).attr({r:g.r,cx:g.cx,cy:g.cy})}},{key:"animateRect",value:function(u,h,g,_,x){u.attr(h).animate(_).attr(g).afterAll(function(){return x()})}},{key:"animatePathsGradually",value:function(u){var N=this.w,L=0;N.config.chart.animations.animateGradually.enabled&&(L=N.config.chart.animations.animateGradually.delay),N.config.chart.animations.dynamicAnimation.enabled&&N.globals.dataChanged&&"bar"!==N.config.chart.type&&(L=0),this.morphSVG(u.el,u.realIndex,u.j,"line"!==N.config.chart.type||N.globals.comboCharts?u.fill:"stroke",u.pathFrom,u.pathTo,u.speed,u.delay*L)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(u){u.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(u){var h=this.w;h.globals.animationEnded||(h.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof h.config.chart.events.animationEnd&&h.config.chart.events.animationEnd(this.ctx,{el:u,w:h}))}},{key:"morphSVG",value:function(u,h,g,_,x,A,S,D){var R=this,N=this.w;x||(x=u.attr("pathFrom")),A||(A=u.attr("pathTo"));var L=function(V){return"radar"===N.config.chart.type&&(S=1),"M 0 ".concat(N.globals.gridHeight)};(!x||x.indexOf("undefined")>-1||x.indexOf("NaN")>-1)&&(x=L()),(!A||A.indexOf("undefined")>-1||A.indexOf("NaN")>-1)&&(A=L()),N.globals.shouldAnimate||(S=1),u.plot(x).animate(1,N.globals.easing,D).plot(x).animate(S,N.globals.easing,D).plot(A).afterAll(function(){de.isNumber(g)?g===N.globals.series[N.globals.maxValsInArrayIndex].length-2&&N.globals.shouldAnimate&&R.animationCompleted(u):"none"!==_&&N.globals.shouldAnimate&&(!N.globals.comboCharts&&h===N.globals.series.length-1||N.globals.comboCharts)&&R.animationCompleted(u),R.showDelayedElements()})}}]),J}(),tt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"getDefaultFilter",value:function(u,h){var g=this.w;u.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==g.config.states.normal.filter?this.applyFilter(u,h,g.config.states.normal.filter.type,g.config.states.normal.filter.value):g.config.chart.dropShadow.enabled&&this.dropShadow(u,g.config.chart.dropShadow,h)}},{key:"addNormalFilter",value:function(u,h){var g=this.w;g.config.chart.dropShadow.enabled&&!u.node.classList.contains("apexcharts-marker")&&this.dropShadow(u,g.config.chart.dropShadow,h)}},{key:"addLightenFilter",value:function(u,h,g){var _=this,x=this.w,A=g.intensity;u.unfilter(!0),new window.SVG.Filter,u.filter(function(S){var D=x.config.chart.dropShadow;(D.enabled?_.addShadow(S,h,D):S).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:A}})}),u.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(u.filterer.node)}},{key:"addDarkenFilter",value:function(u,h,g){var _=this,x=this.w,A=g.intensity;u.unfilter(!0),new window.SVG.Filter,u.filter(function(S){var D=x.config.chart.dropShadow;(D.enabled?_.addShadow(S,h,D):S).componentTransfer({rgb:{type:"linear",slope:A}})}),u.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(u.filterer.node)}},{key:"applyFilter",value:function(u,h,g){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(g){case"none":this.addNormalFilter(u,h);break;case"lighten":this.addLightenFilter(u,h,{intensity:_});break;case"darken":this.addDarkenFilter(u,h,{intensity:_})}}},{key:"addShadow",value:function(u,h,g){var _=g.blur,x=g.top,A=g.left,S=g.color,D=g.opacity,R=u.flood(Array.isArray(S)?S[h]:S,D).composite(u.sourceAlpha,"in").offset(A,x).gaussianBlur(_).merge(u.source);return u.blend(u.source,R)}},{key:"dropShadow",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=h.top,x=h.left,A=h.blur,S=h.color,D=h.opacity,R=h.noUserSpaceOnUse,N=this.w;return u.unfilter(!0),de.isIE()&&"radialBar"===N.config.chart.type||(S=Array.isArray(S)?S[g]:S,u.filter(function(L){var V;V=de.isSafari()||de.isFirefox()||de.isIE()?L.flood(S,D).composite(L.sourceAlpha,"in").offset(x,_).gaussianBlur(A):L.flood(S,D).composite(L.sourceAlpha,"in").offset(x,_).gaussianBlur(A).merge(L.source),L.blend(L.source,V)}),R||u.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(u.filterer.node)),u}},{key:"setSelectionFilter",value:function(u,h,g){var _=this.w;if(void 0!==_.globals.selectedDataPoints[h]&&_.globals.selectedDataPoints[h].indexOf(g)>-1){u.node.setAttribute("selected",!0);var x=_.config.states.active.filter;"none"!==x&&this.applyFilter(u,h,x.type,x.value)}}},{key:"_scaleFilterSize",value:function(u){!function(h){for(var g in h)h.hasOwnProperty(g)&&u.setAttribute(g,h[g])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),J}(),Pe=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"drawLine",value:function(u,h,g,_){var x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=this.w,R=D.globals.dom.Paper.line().attr({x1:u,y1:h,x2:g,y2:_,stroke:x,"stroke-dasharray":A,"stroke-width":S});return R}},{key:"drawRect",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,R=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,N=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,L=this.w,V=L.globals.dom.Paper.rect();return V.attr({x:u,y:h,width:g>0?g:0,height:_>0?_:0,rx:x,ry:x,opacity:S,"stroke-width":null!==D?D:0,stroke:null!==R?R:"none","stroke-dasharray":N}),V.node.setAttribute("fill",A),V}},{key:"drawPolygon",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",x=this.w,A=x.globals.dom.Paper.polygon(u).attr({fill:_,stroke:h,"stroke-width":g});return A}},{key:"drawCircle",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=this.w;u<0&&(u=0);var _=g.globals.dom.Paper.circle(2*u);return null!==h&&_.attr(h),_}},{key:"drawPath",value:function(u){var h=u.d,g=void 0===h?"":h,_=u.stroke,x=void 0===_?"#a8a8a8":_,A=u.strokeWidth,S=void 0===A?1:A,D=u.fill,R=u.fillOpacity,N=void 0===R?1:R,L=u.strokeOpacity,V=void 0===L?1:L,j=u.classes,q=u.strokeLinecap,Y=void 0===q?null:q,$=u.strokeDashArray,ne=void 0===$?0:$,se=this.w;return null===Y&&(Y=se.config.stroke.lineCap),(g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g="M 0 ".concat(se.globals.gridHeight)),se.globals.dom.Paper.path(g).attr({fill:D,"fill-opacity":N,stroke:x,"stroke-opacity":V,"stroke-linecap":Y,"stroke-width":S,"stroke-dasharray":ne,class:j})}},{key:"group",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=this.w,g=h.globals.dom.Paper.group();return null!==u&&g.attr(u),g}},{key:"move",value:function(u,h){return["M",u,h].join(" ")}},{key:"line",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=null;return null===g?_=["L",u,h].join(" "):"H"===g?_=["H",u].join(" "):"V"===g&&(_=["V",h].join(" ")),_}},{key:"curve",value:function(u,h,g,_,x,A){return["C",u,h,g,_,x,A].join(" ")}},{key:"quadraticCurve",value:function(u,h,g,_){return["Q",u,h,g,_].join(" ")}},{key:"arc",value:function(u,h,g,_,x,A,S){var D=arguments.length>7&&void 0!==arguments[7]&&arguments[7],R="A";D&&(R="a");var N=[R,u,h,g,_,x,A,S].join(" ");return N}},{key:"renderPaths",value:function(u){var h,g=u.j,_=u.realIndex,x=u.pathFrom,A=u.pathTo,S=u.stroke,D=u.strokeWidth,R=u.strokeLinecap,N=u.fill,L=u.animationDelay,V=u.initialSpeed,j=u.dataChangeSpeed,q=u.className,Y=u.shouldClipToGrid,$=void 0===Y||Y,ne=u.bindEventsOnPaths,se=void 0===ne||ne,fe=u.drawShadow,k=void 0===fe||fe,H=this.w,Z=new tt(this.ctx),ee=new pt(this.ctx),pe=this.w.config.chart.animations.enabled,Fe=pe&&this.w.config.chart.animations.dynamicAnimation.enabled,Re=!!(pe&&!H.globals.resized||Fe&&H.globals.dataChanged&&H.globals.shouldAnimate);Re?h=x:(h=A,H.globals.animationEnded=!0);var rt,Qe=H.config.stroke.dashArray;rt=Array.isArray(Qe)?Qe[_]:H.config.stroke.dashArray;var dt=this.drawPath({d:h,stroke:S,strokeWidth:D,fill:N,fillOpacity:1,classes:q,strokeLinecap:R,strokeDashArray:rt});dt.attr("index",_),$&&dt.attr({"clip-path":"url(#gridRectMask".concat(H.globals.cuid,")")}),"none"!==H.config.states.normal.filter.type?Z.getDefaultFilter(dt,_):H.config.chart.dropShadow.enabled&&k&&(!H.config.chart.dropShadow.enabledOnSeries||H.config.chart.dropShadow.enabledOnSeries&&-1!==H.config.chart.dropShadow.enabledOnSeries.indexOf(_))&&Z.dropShadow(dt,H.config.chart.dropShadow,_),se&&(dt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,dt)),dt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,dt)),dt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,dt))),dt.attr({pathTo:A,pathFrom:x});var un={el:dt,j:g,realIndex:_,pathFrom:x,pathTo:A,fill:N,strokeWidth:D,delay:L};return!pe||H.globals.resized||H.globals.dataChanged?!H.globals.resized&&H.globals.dataChanged||ee.showDelayedElements():ee.animatePathsGradually(Se(Se({},un),{},{speed:V})),H.globals.dataChanged&&Fe&&Re&&ee.animatePathsGradually(Se(Se({},un),{},{speed:j})),dt}},{key:"drawPattern",value:function(u,h,g){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,A=this.w,S=A.globals.dom.Paper.pattern(h,g,function(D){"horizontalLines"===u?D.line(0,0,g,0).stroke({color:_,width:x+1}):"verticalLines"===u?D.line(0,0,0,h).stroke({color:_,width:x+1}):"slantedLines"===u?D.line(0,0,h,g).stroke({color:_,width:x}):"squares"===u?D.rect(h,g).fill("none").stroke({color:_,width:x}):"circles"===u&&D.circle(h).fill("none").stroke({color:_,width:x})});return S}},{key:"drawGradient",value:function(u,h,g,_,x){var A,S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,R=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,N=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,L=this.w;h.length<9&&0===h.indexOf("#")&&(h=de.hexToRgba(h,_)),g.length<9&&0===g.indexOf("#")&&(g=de.hexToRgba(g,x));var V=0,j=1,q=1,Y=null;null!==D&&(V=void 0!==D[0]?D[0]/100:0,j=void 0!==D[1]?D[1]/100:1,q=void 0!==D[2]?D[2]/100:1,Y=void 0!==D[3]?D[3]/100:null);var $=!("donut"!==L.config.chart.type&&"pie"!==L.config.chart.type&&"polarArea"!==L.config.chart.type&&"bubble"!==L.config.chart.type);if(A=L.globals.dom.Paper.gradient($?"radial":"linear",null===R||0===R.length?function(fe){fe.at(V,h,_),fe.at(j,g,x),fe.at(q,g,x),null!==Y&&fe.at(Y,h,_)}:function(fe){(Array.isArray(R[N])?R[N]:R).forEach(function(k){fe.at(k.offset/100,k.color,k.opacity)})}),$){var ne=L.globals.gridWidth/2,se=L.globals.gridHeight/2;A.attr("bubble"!==L.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:ne,cy:se,r:S}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===u?A.from(0,0).to(0,1):"diagonal"===u?A.from(0,0).to(1,1):"horizontal"===u?A.from(0,1).to(1,1):"diagonal2"===u&&A.from(1,0).to(0,1);return A}},{key:"drawText",value:function(u){var h,g=u.x,_=u.y,x=u.text,A=u.textAnchor,S=u.fontSize,D=u.fontFamily,R=u.fontWeight,N=u.foreColor,L=u.opacity,V=u.cssClass,j=void 0===V?"":V,q=u.isPlainText,Y=void 0===q||q,$=this.w;return void 0===x&&(x=""),A||(A="start"),N&&N.length||(N=$.config.chart.foreColor),D=D||$.config.chart.fontFamily,R=R||"regular",(h=Array.isArray(x)?$.globals.dom.Paper.text(function(ne){for(var se=0;se<x.length;se++)0===se?ne.tspan(x[se]):ne.tspan(x[se]).newLine()}):Y?$.globals.dom.Paper.plain(x):$.globals.dom.Paper.text(function(ne){return ne.tspan(x)})).attr({x:g,y:_,"text-anchor":A,"dominant-baseline":"auto","font-size":S,"font-family":D,"font-weight":R,fill:N,class:"apexcharts-text "+j}),h.node.style.fontFamily=D,h.node.style.opacity=L,h}},{key:"drawMarker",value:function(u,h,g){u=u||0;var _=g.pSize||0,x=null;if("square"===g.shape||"rect"===g.shape){var A=void 0===g.pRadius?_/2:g.pRadius;null!==h&&_||(_=0,A=0);var S=1.2*_+A,D=this.drawRect(S,S,S,S,A);D.attr({x:u-S/2,y:h-S/2,cx:u,cy:h,class:g.class?g.class:"",fill:g.pointFillColor,"fill-opacity":g.pointFillOpacity?g.pointFillOpacity:1,stroke:g.pointStrokeColor,"stroke-width":g.pointStrokeWidth?g.pointStrokeWidth:0,"stroke-opacity":g.pointStrokeOpacity?g.pointStrokeOpacity:1}),x=D}else"circle"!==g.shape&&g.shape||(de.isNumber(h)||(_=0,h=0),x=this.drawCircle(_,{cx:u,cy:h,class:g.class?g.class:"",stroke:g.pointStrokeColor,fill:g.pointFillColor,"fill-opacity":g.pointFillOpacity?g.pointFillOpacity:1,"stroke-width":g.pointStrokeWidth?g.pointStrokeWidth:0,"stroke-opacity":g.pointStrokeOpacity?g.pointStrokeOpacity:1}));return x}},{key:"pathMouseEnter",value:function(u,h){var g=this.w,_=new tt(this.ctx),x=parseInt(u.node.getAttribute("index"),10),A=parseInt(u.node.getAttribute("j"),10);if("function"==typeof g.config.chart.events.dataPointMouseEnter&&g.config.chart.events.dataPointMouseEnter(h,this.ctx,{seriesIndex:x,dataPointIndex:A,w:g}),this.ctx.events.fireEvent("dataPointMouseEnter",[h,this.ctx,{seriesIndex:x,dataPointIndex:A,w:g}]),("none"===g.config.states.active.filter.type||"true"!==u.node.getAttribute("selected"))&&"none"!==g.config.states.hover.filter.type&&"none"!==g.config.states.active.filter.type&&!g.globals.isTouchDevice){var S=g.config.states.hover.filter;_.applyFilter(u,x,S.type,S.value)}}},{key:"pathMouseLeave",value:function(u,h){var g=this.w,_=new tt(this.ctx),x=parseInt(u.node.getAttribute("index"),10),A=parseInt(u.node.getAttribute("j"),10);"function"==typeof g.config.chart.events.dataPointMouseLeave&&g.config.chart.events.dataPointMouseLeave(h,this.ctx,{seriesIndex:x,dataPointIndex:A,w:g}),this.ctx.events.fireEvent("dataPointMouseLeave",[h,this.ctx,{seriesIndex:x,dataPointIndex:A,w:g}]),"none"!==g.config.states.active.filter.type&&"true"===u.node.getAttribute("selected")||"none"!==g.config.states.hover.filter.type&&_.getDefaultFilter(u,x)}},{key:"pathMouseDown",value:function(u,h){var g=this.w,_=new tt(this.ctx),x=parseInt(u.node.getAttribute("index"),10),A=parseInt(u.node.getAttribute("j"),10),S="false";if("true"===u.node.getAttribute("selected")){if(u.node.setAttribute("selected","false"),g.globals.selectedDataPoints[x].indexOf(A)>-1){var D=g.globals.selectedDataPoints[x].indexOf(A);g.globals.selectedDataPoints[x].splice(D,1)}}else{if(!g.config.states.active.allowMultipleDataPointsSelection&&g.globals.selectedDataPoints.length>0){g.globals.selectedDataPoints=[];var R=g.globals.dom.Paper.select(".apexcharts-series path").members,N=g.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,L=function(j){Array.prototype.forEach.call(j,function(q){q.node.setAttribute("selected","false"),_.getDefaultFilter(q,x)})};L(R),L(N)}u.node.setAttribute("selected","true"),S="true",void 0===g.globals.selectedDataPoints[x]&&(g.globals.selectedDataPoints[x]=[]),g.globals.selectedDataPoints[x].push(A)}if("true"===S){var V=g.config.states.active.filter;"none"!==V&&_.applyFilter(u,x,V.type,V.value)}else"none"!==g.config.states.active.filter.type&&_.getDefaultFilter(u,x);"function"==typeof g.config.chart.events.dataPointSelection&&g.config.chart.events.dataPointSelection(h,this.ctx,{selectedDataPoints:g.globals.selectedDataPoints,seriesIndex:x,dataPointIndex:A,w:g}),h&&this.ctx.events.fireEvent("dataPointSelection",[h,this.ctx,{selectedDataPoints:g.globals.selectedDataPoints,seriesIndex:x,dataPointIndex:A,w:g}])}},{key:"rotateAroundCenter",value:function(u){var h=u.getBBox();return{x:h.x+h.width/2,y:h.y+h.height/2}}},{key:"getTextRects",value:function(u,h,g,_){var x=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],A=this.w,S=this.drawText({x:-200,y:-200,text:u,textAnchor:"start",fontSize:h,fontFamily:g,foreColor:"#fff",opacity:0});_&&S.attr("transform",_),A.globals.dom.Paper.add(S);var D=S.bbox();return x||(D=S.node.getBoundingClientRect()),S.remove(),{width:D.width,height:D.height}}},{key:"placeTextWithEllipsis",value:function(u,h,g){if("function"==typeof u.getComputedTextLength&&(u.textContent=h,h.length>0&&u.getComputedTextLength()>=g/1.1)){for(var _=h.length-3;_>0;_-=3)if(u.getSubStringLength(0,_)<=g/1.1)return void(u.textContent=h.substring(0,_)+"...");u.textContent="."}}}],[{key:"setAttrs",value:function(u,h){for(var g in h)h.hasOwnProperty(g)&&u.setAttribute(g,h[g])}}]),J}(),yn=function(){function J(u){K(this,J),this.w=u.w,this.annoCtx=u}return Ee(J,[{key:"setOrientations",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=this.w;if("vertical"===u.label.orientation){var _=null!==h?h:0,x=g.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(_,"']"));if(null!==x){var A=x.getBoundingClientRect();x.setAttribute("x",parseFloat(x.getAttribute("x"))-A.height+4),x.setAttribute("y","top"===u.label.position?parseFloat(x.getAttribute("y"))+A.width:parseFloat(x.getAttribute("y"))-A.width);var S=this.annoCtx.graphics.rotateAroundCenter(x),D=S.x,R=S.y;x.setAttribute("transform","rotate(-90 ".concat(D," ").concat(R,")"))}}}},{key:"addBackgroundToAnno",value:function(u,h){var g=this.w;if(!u||!h.label.text||h.label.text&&!h.label.text.trim())return null;var _=g.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),x=u.getBoundingClientRect(),A=h.label.style.padding.left,S=h.label.style.padding.right,D=h.label.style.padding.top,R=h.label.style.padding.bottom;"vertical"===h.label.orientation&&(D=h.label.style.padding.left,R=h.label.style.padding.right,A=h.label.style.padding.top,S=h.label.style.padding.bottom);var V=this.annoCtx.graphics.drawRect(x.left-_.left-A-g.globals.barPadForNumericAxis,x.top-_.top-D,x.width+A+S,x.height+D+R,h.label.borderRadius,h.label.style.background,1,h.label.borderWidth,h.label.borderColor,0);return h.id&&V.node.classList.add(h.id),V}},{key:"annotationsBackground",value:function(){var u=this,h=this.w,g=function(_,x,A){var S=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(A,"-annotations .apexcharts-").concat(A,"-annotation-label[rel='").concat(x,"']"));if(S){var D=S.parentNode,R=u.addBackgroundToAnno(S,_);R&&D.insertBefore(R.node,S)}};h.config.annotations.xaxis.map(function(_,x){g(_,x,"xaxis")}),h.config.annotations.yaxis.map(function(_,x){g(_,x,"yaxis")}),h.config.annotations.points.map(function(_,x){g(_,x,"point")})}},{key:"getStringX",value:function(u){var h=this.w,g=u;h.config.xaxis.convertedCatToNumeric&&h.globals.categoryLabels.length&&(u=h.globals.categoryLabels.indexOf(u)+1);var _=h.globals.labels.indexOf(u),x=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(_+1)+")");return x&&(g=parseFloat(x.getAttribute("x"))),g}}]),J}(),Kn=function(){function J(u){K(this,J),this.w=u.w,this.annoCtx=u,this.invertAxis=this.annoCtx.invertAxis}return Ee(J,[{key:"addXaxisAnnotation",value:function(u,h,g){var _=this.w,x=this.invertAxis?_.globals.minY:_.globals.minX,A=this.invertAxis?_.globals.maxY:_.globals.maxX,S=this.invertAxis?_.globals.yRange[0]:_.globals.xRange,D=(u.x-x)/(S/_.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(D=(A-u.x)/(S/_.globals.gridWidth));var R=u.label.text;"category"!==_.config.xaxis.type&&!_.config.xaxis.convertedCatToNumeric||this.invertAxis||_.globals.dataFormatXNumeric||(D=this.annoCtx.helpers.getStringX(u.x));var N=u.strokeDashArray;if(de.isNumber(D)){if(null==u.x2){var L=this.annoCtx.graphics.drawLine(D+u.offsetX,0+u.offsetY,D+u.offsetX,_.globals.gridHeight+u.offsetY,u.borderColor,N,u.borderWidth);h.appendChild(L.node),u.id&&L.node.classList.add(u.id)}else{var V=(u.x2-x)/(S/_.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(V=(A-u.x2)/(S/_.globals.gridWidth)),"category"!==_.config.xaxis.type&&!_.config.xaxis.convertedCatToNumeric||this.invertAxis||_.globals.dataFormatXNumeric||(V=this.annoCtx.helpers.getStringX(u.x2)),V<D){var j=D;D=V,V=j}var q=this.annoCtx.graphics.drawRect(D+u.offsetX,0+u.offsetY,V-D,_.globals.gridHeight+u.offsetY,0,u.fillColor,u.opacity,1,u.borderColor,N);q.node.classList.add("apexcharts-annotation-rect"),q.attr("clip-path","url(#gridRectMask".concat(_.globals.cuid,")")),h.appendChild(q.node),u.id&&q.node.classList.add(u.id)}var Y="top"===u.label.position?4:_.globals.gridHeight,$=this.annoCtx.graphics.getTextRects(R,parseFloat(u.label.style.fontSize)),ne=this.annoCtx.graphics.drawText({x:D+u.label.offsetX,y:Y+u.label.offsetY-("vertical"===u.label.orientation?"top"===u.label.position?$.width/2-12:-$.width/2:0),text:R,textAnchor:u.label.textAnchor,fontSize:u.label.style.fontSize,fontFamily:u.label.style.fontFamily,fontWeight:u.label.style.fontWeight,foreColor:u.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(u.label.style.cssClass," ").concat(u.id?u.id:"")});ne.attr({rel:g}),h.appendChild(ne.node),this.annoCtx.helpers.setOrientations(u,g)}}},{key:"drawXAxisAnnotations",value:function(){var u=this,h=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return h.config.annotations.xaxis.map(function(_,x){u.addXaxisAnnotation(_,g.node,x)}),g}}]),J}(),vt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"getStackedSeriesTotals",value:function(){var u=this.w,h=[];if(0===u.globals.series.length)return h;for(var g=0;g<u.globals.series[u.globals.maxValsInArrayIndex].length;g++){for(var _=0,x=0;x<u.globals.series.length;x++)void 0!==u.globals.series[x][g]&&(_+=u.globals.series[x][g]);h.push(_)}return u.globals.stackedSeriesTotals=h,h}},{key:"getSeriesTotalByIndex",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===u?this.w.config.series.reduce(function(h,g){return h+g},0):this.w.globals.series[u].reduce(function(h,g){return h+g},0)}},{key:"isSeriesNull",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===u?this.w.config.series.filter(function(h){return null!==h}):this.w.config.series[u].data.filter(function(h){return null!==h})).length}},{key:"seriesHaveSameValues",value:function(u){return this.w.globals.series[u].every(function(h,g,_){return h===_[0]})}},{key:"getCategoryLabels",value:function(u){var h=this.w,g=u.slice();return h.config.xaxis.convertedCatToNumeric&&(g=u.map(function(_,x){return h.config.xaxis.labels.formatter(_-h.globals.minX+1)})),g}},{key:"getLargestSeries",value:function(){var u=this.w;u.globals.maxValsInArrayIndex=u.globals.series.map(function(h){return h.length}).indexOf(Math.max.apply(Math,u.globals.series.map(function(h){return h.length})))}},{key:"getLargestMarkerSize",value:function(){var u=this.w,h=0;return u.globals.markers.size.forEach(function(g){h=Math.max(h,g)}),u.globals.markers.largestSize=h,h}},{key:"getSeriesTotals",value:function(){var u=this.w;u.globals.seriesTotals=u.globals.series.map(function(h,g){var _=0;if(Array.isArray(h))for(var x=0;x<h.length;x++)_+=h[x];else _+=h;return _})}},{key:"getSeriesTotalsXRange",value:function(u,h){var g=this.w;return g.globals.series.map(function(_,x){for(var A=0,S=0;S<_.length;S++)g.globals.seriesX[x][S]>u&&g.globals.seriesX[x][S]<h&&(A+=_[S]);return A})}},{key:"getPercentSeries",value:function(){var u=this.w;u.globals.seriesPercent=u.globals.series.map(function(h,g){var _=[];if(Array.isArray(h))for(var x=0;x<h.length;x++){var A=u.globals.stackedSeriesTotals[x],S=0;A&&(S=100*h[x]/A),_.push(S)}else{var D=100*h/u.globals.seriesTotals.reduce(function(R,N){return R+N},0);_.push(D)}return _})}},{key:"getCalculatedRatios",value:function(){var u,h,g,_,x=this.w.globals,A=[],S=0,D=[],R=.1,N=0;if(x.yRange=[],x.isMultipleYAxis)for(var L=0;L<x.minYArr.length;L++)x.yRange.push(Math.abs(x.minYArr[L]-x.maxYArr[L])),D.push(0);else x.yRange.push(Math.abs(x.minY-x.maxY));x.xRange=Math.abs(x.maxX-x.minX),x.zRange=Math.abs(x.maxZ-x.minZ);for(var V=0;V<x.yRange.length;V++)A.push(x.yRange[V]/x.gridHeight);if(h=x.xRange/x.gridWidth,g=Math.abs(x.initialMaxX-x.initialMinX)/x.gridWidth,u=x.yRange/x.gridWidth,_=x.xRange/x.gridHeight,(S=x.zRange/x.gridHeight*16)||(S=1),x.minY!==Number.MIN_VALUE&&0!==Math.abs(x.minY)&&(x.hasNegs=!0),x.isMultipleYAxis){D=[];for(var j=0;j<A.length;j++)D.push(-x.minYArr[j]/A[j])}else D.push(-x.minY/A[0]),x.minY!==Number.MIN_VALUE&&0!==Math.abs(x.minY)&&(R=-x.minY/u,N=x.minX/h);return{yRatio:A,invertedYRatio:u,zRatio:S,xRatio:h,initialXRatio:g,invertedXRatio:_,baseLineInvertedY:R,baseLineY:D,baseLineX:N}}},{key:"getLogSeries",value:function(u){var h=this,g=this.w;return g.globals.seriesLog=u.map(function(_,x){return g.config.yaxis[x]&&g.config.yaxis[x].logarithmic?_.map(function(A){return null===A?null:h.getLogVal(A,x)}):_}),g.globals.invalidLogScale?u:g.globals.seriesLog}},{key:"getLogVal",value:function(u,h){var g=this.w;return(Math.log(u)-Math.log(g.globals.minYArr[h]))/(Math.log(g.globals.maxYArr[h])-Math.log(g.globals.minYArr[h]))}},{key:"getLogYRatios",value:function(u){var h=this,g=this.w,_=this.w.globals;return _.yLogRatio=u.slice(),_.logYRange=_.yRange.map(function(x,A){if(g.config.yaxis[A]&&h.w.config.yaxis[A].logarithmic){var S,D=-Number.MAX_VALUE,R=Number.MIN_VALUE;return _.seriesLog.forEach(function(N,L){N.forEach(function(V){g.config.yaxis[L]&&g.config.yaxis[L].logarithmic&&(D=Math.max(V,D),R=Math.min(V,R))})}),S=Math.pow(_.yRange[A],Math.abs(R-D)/_.yRange[A]),_.yLogRatio[A]=S/_.gridHeight,S}}),_.invalidLogScale?u.slice():_.yLogRatio}}],[{key:"checkComboSeries",value:function(u){var h=!1,g=0,_=0;return u.length&&void 0!==u[0].type&&u.forEach(function(x){"bar"!==x.type&&"column"!==x.type&&"candlestick"!==x.type&&"boxPlot"!==x.type||g++,void 0!==x.type&&_++}),_>1&&(h=!0),{comboBarCount:g,comboCharts:h}}},{key:"extendArrayProps",value:function(u,h,g){return h.yaxis&&(h=u.extendYAxis(h,g)),h.annotations&&(h.annotations.yaxis&&(h=u.extendYAxisAnnotations(h)),h.annotations.xaxis&&(h=u.extendXAxisAnnotations(h)),h.annotations.points&&(h=u.extendPointAnnotations(h))),h}}]),J}(),Dn=function(){function J(u){K(this,J),this.w=u.w,this.annoCtx=u}return Ee(J,[{key:"addYaxisAnnotation",value:function(u,h,g){var _,x=this.w,A=u.strokeDashArray,S=this._getY1Y2("y1",u),D=u.label.text;if(null==u.y2){var R=this.annoCtx.graphics.drawLine(0+u.offsetX,S+u.offsetY,this._getYAxisAnnotationWidth(u),S+u.offsetY,u.borderColor,A,u.borderWidth);h.appendChild(R.node),u.id&&R.node.classList.add(u.id)}else{if((_=this._getY1Y2("y2",u))>S){var N=S;S=_,_=N}var L=this.annoCtx.graphics.drawRect(0+u.offsetX,_+u.offsetY,this._getYAxisAnnotationWidth(u),S-_,0,u.fillColor,u.opacity,1,u.borderColor,A);L.node.classList.add("apexcharts-annotation-rect"),L.attr("clip-path","url(#gridRectMask".concat(x.globals.cuid,")")),h.appendChild(L.node),u.id&&L.node.classList.add(u.id)}var j=this.annoCtx.graphics.drawText({x:("right"===u.label.position?x.globals.gridWidth:0)+u.label.offsetX,y:(_||S)+u.label.offsetY-3,text:D,textAnchor:u.label.textAnchor,fontSize:u.label.style.fontSize,fontFamily:u.label.style.fontFamily,fontWeight:u.label.style.fontWeight,foreColor:u.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(u.label.style.cssClass," ").concat(u.id?u.id:"")});j.attr({rel:g}),h.appendChild(j.node)}},{key:"_getY1Y2",value:function(u,h){var g,_="y1"===u?h.y:h.y2,x=this.w;if(this.annoCtx.invertAxis){var A=x.globals.labels.indexOf(_);x.config.xaxis.convertedCatToNumeric&&(A=x.globals.categoryLabels.indexOf(_));var S=x.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(A+1)+")");S&&(g=parseFloat(S.getAttribute("y")))}else{var D;D=x.config.yaxis[h.yAxisIndex].logarithmic?(_=new vt(this.annoCtx.ctx).getLogVal(_,h.yAxisIndex))/x.globals.yLogRatio[h.yAxisIndex]:(_-x.globals.minYArr[h.yAxisIndex])/(x.globals.yRange[h.yAxisIndex]/x.globals.gridHeight),g=x.globals.gridHeight-D,x.config.yaxis[h.yAxisIndex]&&x.config.yaxis[h.yAxisIndex].reversed&&(g=D)}return g}},{key:"_getYAxisAnnotationWidth",value:function(u){var h=this.w;return(u.width.indexOf("%")>-1?h.globals.gridWidth*parseInt(u.width,10)/100:parseInt(u.width,10))+u.offsetX}},{key:"drawYAxisAnnotations",value:function(){var u=this,h=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return h.config.annotations.yaxis.map(function(_,x){u.addYaxisAnnotation(_,g.node,x)}),g}}]),J}(),Xn=function(){function J(u){K(this,J),this.w=u.w,this.annoCtx=u}return Ee(J,[{key:"addPointAnnotation",value:function(u,h,g){var _=this.w,x=0,A=0,S=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var D=parseFloat(u.y);if("string"==typeof u.x){var R=_.globals.labels.indexOf(u.x);_.config.xaxis.convertedCatToNumeric&&(R=_.globals.categoryLabels.indexOf(u.x)),x=this.annoCtx.helpers.getStringX(u.x),null===u.y&&(D=_.globals.series[u.seriesIndex][R])}else x=(u.x-_.globals.minX)/(_.globals.xRange/_.globals.gridWidth);for(var N,L=[],V=0,j=0;j<=u.seriesIndex;j++){var q=_.config.yaxis[j].seriesName;if(q)for(var Y=j+1;Y<=u.seriesIndex;Y++)_.config.yaxis[Y].seriesName===q&&-1===L.indexOf(q)&&(V++,L.push(q))}if(_.config.yaxis[u.yAxisIndex].logarithmic)N=(D=new vt(this.annoCtx.ctx).getLogVal(D,u.yAxisIndex))/_.globals.yLogRatio[u.yAxisIndex];else{var $=u.yAxisIndex+V;N=(D-_.globals.minYArr[$])/(_.globals.yRange[$]/_.globals.gridHeight)}if(A=_.globals.gridHeight-N-parseFloat(u.label.style.fontSize)-u.marker.size,S=_.globals.gridHeight-N,_.config.yaxis[u.yAxisIndex]&&_.config.yaxis[u.yAxisIndex].reversed&&(A=N+parseFloat(u.label.style.fontSize)+u.marker.size,S=N),de.isNumber(x)){var ne={pSize:u.marker.size,pointStrokeWidth:u.marker.strokeWidth,pointFillColor:u.marker.fillColor,pointStrokeColor:u.marker.strokeColor,shape:u.marker.shape,pRadius:u.marker.radius,class:"apexcharts-point-annotation-marker ".concat(u.marker.cssClass," ").concat(u.id?u.id:"")},se=this.annoCtx.graphics.drawMarker(x+u.marker.offsetX,S+u.marker.offsetY,ne);h.appendChild(se.node);var k=this.annoCtx.graphics.drawText({x:x+u.label.offsetX,y:A+u.label.offsetY,text:u.label.text?u.label.text:"",textAnchor:u.label.textAnchor,fontSize:u.label.style.fontSize,fontFamily:u.label.style.fontFamily,fontWeight:u.label.style.fontWeight,foreColor:u.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(u.label.style.cssClass," ").concat(u.id?u.id:"")});if(k.attr({rel:g}),h.appendChild(k.node),u.customSVG.SVG){var H=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+u.customSVG.cssClass});H.attr({transform:"translate(".concat(x+u.customSVG.offsetX,", ").concat(A+u.customSVG.offsetY,")")}),H.node.innerHTML=u.customSVG.SVG,h.appendChild(H.node)}if(u.image.path){var Z=u.image.width?u.image.width:20,ee=u.image.height?u.image.height:20;this.annoCtx.addImage({x:x+u.image.offsetX-Z/2,y:A+u.image.offsetY-ee/2,width:Z,height:ee,path:u.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var u=this,h=this.w,g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return h.config.annotations.points.map(function(_,x){u.addPointAnnotation(_,g.node,x)}),g}}]),J}(),gn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},_n=function(){function J(){K(this,J),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Ee(J,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[gn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(u){return new Date(u).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(u){return u}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(u){return u+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(u){return u.globals.seriesTotals.reduce(function(h,g){return h+g},0)/u.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(u){return u}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(u){return u}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(u){return u.globals.seriesTotals.reduce(function(h,g){return h+g},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(u){return null!==u?u:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(u){return u?u+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),J}(),Ge=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.graphics=new Pe(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new yn(this),this.xAxisAnnotations=new Kn(this),this.yAxisAnnotations=new Dn(this),this.pointsAnnotations=new Xn(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Ee(J,[{key:"drawAxesAnnotations",value:function(){var u=this.w;if(u.globals.axisCharts){for(var h=this.yAxisAnnotations.drawYAxisAnnotations(),g=this.xAxisAnnotations.drawXAxisAnnotations(),_=this.pointsAnnotations.drawPointAnnotations(),x=u.config.chart.animations.enabled,A=[h,g,_],S=[g.node,h.node,_.node],D=0;D<3;D++)u.globals.dom.elGraphical.add(A[D]),!x||u.globals.resized||u.globals.dataChanged||"scatter"!==u.config.chart.type&&"bubble"!==u.config.chart.type&&u.globals.dataPoints>1&&S[D].classList.add("apexcharts-element-hidden"),u.globals.delayedElements.push({el:S[D],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var u=this;this.w.config.annotations.images.map(function(h,g){u.addImage(h,g)})}},{key:"drawTextAnnos",value:function(){var u=this;this.w.config.annotations.texts.map(function(h,g){u.addText(h,g)})}},{key:"addXaxisAnnotation",value:function(u,h,g){this.xAxisAnnotations.addXaxisAnnotation(u,h,g)}},{key:"addYaxisAnnotation",value:function(u,h,g){this.yAxisAnnotations.addYaxisAnnotation(u,h,g)}},{key:"addPointAnnotation",value:function(u,h,g){this.pointsAnnotations.addPointAnnotation(u,h,g)}},{key:"addText",value:function(u,h){var x=u.text,V=u.backgroundColor,j=u.borderWidth,q=u.strokeDashArray,Y=u.borderRadius,$=u.borderColor,ne=u.appendTo,se=void 0===ne?".apexcharts-annotations":ne,fe=u.paddingLeft,k=void 0===fe?4:fe,H=u.paddingRight,Z=void 0===H?4:H,ee=u.paddingBottom,pe=void 0===ee?2:ee,Fe=u.paddingTop,Re=void 0===Fe?2:Fe,Qe=this.w,rt=this.graphics.drawText({x:u.x,y:u.y,text:x,textAnchor:u.textAnchor||"start",fontSize:u.fontSize||"12px",fontWeight:u.fontWeight||"regular",fontFamily:u.fontFamily||Qe.config.chart.fontFamily,foreColor:u.foreColor||Qe.config.chart.foreColor,cssClass:u.cssClass}),dt=Qe.globals.dom.baseEl.querySelector(se);dt&&dt.appendChild(rt.node);var It=rt.bbox();if(x){var un=this.graphics.drawRect(It.x-k,It.y-Re,It.width+k+Z,It.height+pe+Re,Y,V||"transparent",1,j,$,q);dt.insertBefore(un.node,rt.node)}}},{key:"addImage",value:function(u,h){var g=this.w,x=u.x,A=void 0===x?0:x,S=u.y,D=void 0===S?0:S,R=u.width,N=void 0===R?20:R,L=u.height,V=void 0===L?20:L,j=u.appendTo,q=void 0===j?".apexcharts-annotations":j,Y=g.globals.dom.Paper.image(u.path);Y.size(N,V).move(A,D);var $=g.globals.dom.baseEl.querySelector(q);$&&$.appendChild(Y.node)}},{key:"addXaxisAnnotationExternal",value:function(u,h,g){return this.addAnnotationExternal({params:u,pushToMemory:h,context:g,type:"xaxis",contextMethod:g.addXaxisAnnotation}),g}},{key:"addYaxisAnnotationExternal",value:function(u,h,g){return this.addAnnotationExternal({params:u,pushToMemory:h,context:g,type:"yaxis",contextMethod:g.addYaxisAnnotation}),g}},{key:"addPointAnnotationExternal",value:function(u,h,g){return void 0===this.invertAxis&&(this.invertAxis=g.w.globals.isBarHorizontal),this.addAnnotationExternal({params:u,pushToMemory:h,context:g,type:"point",contextMethod:g.addPointAnnotation}),g}},{key:"addAnnotationExternal",value:function(u){var h=u.params,g=u.pushToMemory,_=u.context,x=u.type,A=u.contextMethod,S=_,D=S.w,R=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(x,"-annotations")),N=R.childNodes.length+1,L=new _n,V=Object.assign({},"xaxis"===x?L.xAxisAnnotation:"yaxis"===x?L.yAxisAnnotation:L.pointAnnotation),j=de.extend(V,h);switch(x){case"xaxis":this.addXaxisAnnotation(j,R,N);break;case"yaxis":this.addYaxisAnnotation(j,R,N);break;case"point":this.addPointAnnotation(j,R,N)}var q=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(x,"-annotations .apexcharts-").concat(x,"-annotation-label[rel='").concat(N,"']")),Y=this.helpers.addBackgroundToAnno(q,j);return Y&&R.insertBefore(Y.node,q),g&&D.globals.memory.methodsToExec.push({context:S,id:j.id?j.id:de.randomId(),method:A,label:"addAnnotation",params:h}),_}},{key:"clearAnnotations",value:function(u){var h=u.w,g=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");h.globals.memory.methodsToExec.map(function(_,x){"addText"!==_.label&&"addAnnotation"!==_.label||h.globals.memory.methodsToExec.splice(x,1)}),g=de.listToArray(g),Array.prototype.forEach.call(g,function(_){for(;_.firstChild;)_.removeChild(_.firstChild)})}},{key:"removeAnnotation",value:function(u,h){var g=u.w,_=g.globals.dom.baseEl.querySelectorAll(".".concat(h));_&&(g.globals.memory.methodsToExec.map(function(x,A){x.id===h&&g.globals.memory.methodsToExec.splice(A,1)}),Array.prototype.forEach.call(_,function(x){x.parentElement.removeChild(x)}))}}]),J}(),Ue=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.opts=null,this.seriesIndex=0}return Ee(J,[{key:"clippedImgArea",value:function(u){var h=this.w,g=h.config,_=parseInt(h.globals.gridWidth,10),x=parseInt(h.globals.gridHeight,10),A=_>x?_:x,S=u.image,D=0,R=0;void 0===u.width&&void 0===u.height?void 0!==g.fill.image.width&&void 0!==g.fill.image.height?(D=g.fill.image.width+1,R=g.fill.image.height):(D=A+1,R=A):(D=u.width,R=u.height);var N=document.createElementNS(h.globals.SVGNS,"pattern");Pe.setAttrs(N,{id:u.patternID,patternUnits:u.patternUnits?u.patternUnits:"userSpaceOnUse",width:D+"px",height:R+"px"});var L=document.createElementNS(h.globals.SVGNS,"image");N.appendChild(L),L.setAttributeNS(window.SVG.xlink,"href",S),Pe.setAttrs(L,{x:0,y:0,preserveAspectRatio:"none",width:D+"px",height:R+"px"}),L.style.opacity=u.opacity,h.globals.dom.elDefs.node.appendChild(N)}},{key:"getSeriesIndex",value:function(u){var h=this.w;return this.seriesIndex=("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)&&h.config.plotOptions.bar.distributed||"heatmap"===h.config.chart.type||"treemap"===h.config.chart.type?u.seriesNumber:u.seriesNumber%h.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(u){var h=this.w;this.opts=u;var g,_,x,A=this.w.config;this.seriesIndex=this.getSeriesIndex(u);var S=this.getFillColors()[this.seriesIndex];void 0!==h.globals.seriesColors[this.seriesIndex]&&(S=h.globals.seriesColors[this.seriesIndex]),"function"==typeof S&&(S=S({seriesIndex:this.seriesIndex,dataPointIndex:u.dataPointIndex,value:u.value,w:h}));var D=this.getFillType(this.seriesIndex),R=Array.isArray(A.fill.opacity)?A.fill.opacity[this.seriesIndex]:A.fill.opacity;u.color&&(S=u.color);var N=S;if(-1===S.indexOf("rgb")?S.length<9&&(N=de.hexToRgba(S,R)):S.indexOf("rgba")>-1&&(R=de.getOpacityFromRGBA(S)),u.opacity&&(R=u.opacity),"pattern"===D&&(_=this.handlePatternFill(_,S,R,N)),"gradient"===D&&(x=this.handleGradientFill(S,R,this.seriesIndex)),"image"===D){var L=A.fill.image.src,V=u.patternID?u.patternID:"";this.clippedImgArea({opacity:R,image:Array.isArray(L)?u.seriesNumber<L.length?L[u.seriesNumber]:L[0]:L,width:u.width?u.width:void 0,height:u.height?u.height:void 0,patternUnits:u.patternUnits,patternID:"pattern".concat(h.globals.cuid).concat(u.seriesNumber+1).concat(V)}),g="url(#pattern".concat(h.globals.cuid).concat(u.seriesNumber+1).concat(V,")")}else g="gradient"===D?x:"pattern"===D?_:N;return u.solid&&(g=N),g}},{key:"getFillType",value:function(u){var h=this.w;return Array.isArray(h.config.fill.type)?h.config.fill.type[u]:h.config.fill.type}},{key:"getFillColors",value:function(){var u=this.w,h=u.config,g=this.opts,_=[];return u.globals.comboCharts?"line"===u.config.series[this.seriesIndex].type?Array.isArray(u.globals.stroke.colors)?_=u.globals.stroke.colors:_.push(u.globals.stroke.colors):Array.isArray(u.globals.fill.colors)?_=u.globals.fill.colors:_.push(u.globals.fill.colors):"line"===h.chart.type?Array.isArray(u.globals.stroke.colors)?_=u.globals.stroke.colors:_.push(u.globals.stroke.colors):Array.isArray(u.globals.fill.colors)?_=u.globals.fill.colors:_.push(u.globals.fill.colors),void 0!==g.fillColors&&(_=[],Array.isArray(g.fillColors)?_=g.fillColors.slice():_.push(g.fillColors)),_}},{key:"handlePatternFill",value:function(u,h,g,_){var x=this.w.config,A=this.opts,S=new Pe(this.ctx),D=void 0===x.fill.pattern.strokeWidth?Array.isArray(x.stroke.width)?x.stroke.width[this.seriesIndex]:x.stroke.width:Array.isArray(x.fill.pattern.strokeWidth)?x.fill.pattern.strokeWidth[this.seriesIndex]:x.fill.pattern.strokeWidth,R=h;return Array.isArray(x.fill.pattern.style)?void 0!==x.fill.pattern.style[A.seriesNumber]?S.drawPattern(x.fill.pattern.style[A.seriesNumber],x.fill.pattern.width,x.fill.pattern.height,R,D,g):_:S.drawPattern(x.fill.pattern.style,x.fill.pattern.width,x.fill.pattern.height,R,D,g)}},{key:"handleGradientFill",value:function(u,h,g){var _,x=this.w.config,A=this.opts,S=new Pe(this.ctx),D=new de,R=x.fill.gradient.type,N=u,L=void 0===x.fill.gradient.opacityFrom?h:Array.isArray(x.fill.gradient.opacityFrom)?x.fill.gradient.opacityFrom[g]:x.fill.gradient.opacityFrom;N.indexOf("rgba")>-1&&(L=de.getOpacityFromRGBA(N));var V=void 0===x.fill.gradient.opacityTo?h:Array.isArray(x.fill.gradient.opacityTo)?x.fill.gradient.opacityTo[g]:x.fill.gradient.opacityTo;if(void 0===x.fill.gradient.gradientToColors||0===x.fill.gradient.gradientToColors.length)_=D.shadeColor("dark"===x.fill.gradient.shade?-1*parseFloat(x.fill.gradient.shadeIntensity):parseFloat(x.fill.gradient.shadeIntensity),u.indexOf("rgb")>-1?de.rgb2hex(u):u);else if(x.fill.gradient.gradientToColors[A.seriesNumber]){var j=x.fill.gradient.gradientToColors[A.seriesNumber];_=j,j.indexOf("rgba")>-1&&(V=de.getOpacityFromRGBA(j))}else _=u;if(x.fill.gradient.inverseColors){var q=N;N=_,_=q}return N.indexOf("rgb")>-1&&(N=de.rgb2hex(N)),_.indexOf("rgb")>-1&&(_=de.rgb2hex(_)),S.drawGradient(R,N,_,L,V,A.size,x.fill.gradient.stops,x.fill.gradient.colorStops,g)}}]),J}(),We=function(){function J(u,h){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"setGlobalMarkerSize",value:function(){var u=this.w;if(u.globals.markers.size=Array.isArray(u.config.markers.size)?u.config.markers.size:[u.config.markers.size],u.globals.markers.size.length>0){if(u.globals.markers.size.length<u.globals.series.length+1)for(var h=0;h<=u.globals.series.length;h++)void 0===u.globals.markers.size[h]&&u.globals.markers.size.push(u.globals.markers.size[0])}else u.globals.markers.size=u.config.series.map(function(g){return u.config.markers.size})}},{key:"plotChartMarkers",value:function(u,h,g,_){var x,A=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=this.w,D=h,R=u,N=null,L=new Pe(this.ctx);if((S.globals.markers.size[h]>0||A)&&(N=L.group({class:A?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(S.globals.cuid,")")),Array.isArray(R.x))for(var V=0;V<R.x.length;V++){var j=g;1===g&&0===V&&(j=0),1===g&&1===V&&(j=1);var q="apexcharts-marker";"line"!==S.config.chart.type&&"area"!==S.config.chart.type||S.globals.comboCharts||S.config.tooltip.intersect||(q+=" no-pointer-events");var Y=Array.isArray(S.config.markers.size)?S.globals.markers.size[h]>0:S.config.markers.size>0;if(Y||A){de.isNumber(R.y[V])?q+=" w".concat(de.randomId()):q="apexcharts-nullpoint";var $=this.getMarkerConfig(q,h,j);S.config.series[D].data[j]&&(S.config.series[D].data[j].fillColor&&($.pointFillColor=S.config.series[D].data[j].fillColor),S.config.series[D].data[j].strokeColor&&($.pointStrokeColor=S.config.series[D].data[j].strokeColor)),_&&($.pSize=_),(x=L.drawMarker(R.x[V],R.y[V],$)).attr("rel",j),x.attr("j",j),x.attr("index",h),x.node.setAttribute("default-marker-size",$.pSize);var ne=new tt(this.ctx);ne.setSelectionFilter(x,h,j),this.addEvents(x),N&&N.add(x)}else void 0===S.globals.pointsArray[h]&&(S.globals.pointsArray[h]=[]),S.globals.pointsArray[h].push([R.x[V],R.y[V]])}return N}},{key:"getMarkerConfig",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=this.w,x=this.getMarkerStyle(h),A=_.globals.markers.size[h],S=_.config.markers;return null!==g&&S.discrete.length&&S.discrete.map(function(D){D.seriesIndex===h&&D.dataPointIndex===g&&(x.pointStrokeColor=D.strokeColor,x.pointFillColor=D.fillColor,A=D.size,x.pointShape=D.shape)}),{pSize:A,pRadius:S.radius,width:Array.isArray(S.width)?S.width[h]:S.width,height:Array.isArray(S.height)?S.height[h]:S.height,pointStrokeWidth:Array.isArray(S.strokeWidth)?S.strokeWidth[h]:S.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(S.shape)?S.shape[h]:S.shape),class:u,pointStrokeOpacity:Array.isArray(S.strokeOpacity)?S.strokeOpacity[h]:S.strokeOpacity,pointStrokeDashArray:Array.isArray(S.strokeDashArray)?S.strokeDashArray[h]:S.strokeDashArray,pointFillOpacity:Array.isArray(S.fillOpacity)?S.fillOpacity[h]:S.fillOpacity,seriesIndex:h}}},{key:"addEvents",value:function(u){var h=this.w,g=new Pe(this.ctx);u.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this.ctx,u)),u.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this.ctx,u)),u.node.addEventListener("mousedown",g.pathMouseDown.bind(this.ctx,u)),u.node.addEventListener("click",h.config.markers.onClick),u.node.addEventListener("dblclick",h.config.markers.onDblClick),u.node.addEventListener("touchstart",g.pathMouseDown.bind(this.ctx,u),{passive:!0})}},{key:"getMarkerStyle",value:function(u){var h=this.w,g=h.globals.markers.colors,_=h.config.markers.strokeColor||h.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(_)?_[u]:_,pointFillColor:Array.isArray(g)?g[u]:g}}}]),J}(),ze=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return Ee(J,[{key:"draw",value:function(u,h,g){var _=this.w,x=new Pe(this.ctx),A=g.realIndex,S=g.pointsPos,D=g.zRatio,R=g.elParent,N=x.group({class:"apexcharts-series-markers apexcharts-series-".concat(_.config.chart.type)});if(N.attr("clip-path","url(#gridRectMarkerMask".concat(_.globals.cuid,")")),Array.isArray(S.x))for(var L=0;L<S.x.length;L++){var V=h+1,j=!0;0===h&&0===L&&(V=0),0===h&&1===L&&(V=1);var q=0,Y=_.globals.markers.size[A];if(D!==1/0){Y=_.globals.seriesZ[A][V]/D;var $=_.config.plotOptions.bubble;$.minBubbleRadius&&Y<$.minBubbleRadius&&(Y=$.minBubbleRadius),$.maxBubbleRadius&&Y>$.maxBubbleRadius&&(Y=$.maxBubbleRadius)}_.config.chart.animations.enabled||(q=Y);var se=S.y[L];if(q=q||0,null!==se&&void 0!==_.globals.series[A][V]||(j=!1),j){var fe=this.drawPoint(S.x[L],se,q,Y,A,V,h);N.add(fe)}R.add(N)}}},{key:"drawPoint",value:function(u,h,g,_,x,A,S){var D,R=this.w,N=x,L=new pt(this.ctx),V=new tt(this.ctx),j=new Ue(this.ctx),q=new We(this.ctx),Y=new Pe(this.ctx),$=q.getMarkerConfig("apexcharts-marker",N),ne=j.fillPath({seriesNumber:x,dataPointIndex:A,patternUnits:"objectBoundingBox",value:R.globals.series[x][S]});if("circle"===$.shape?D=Y.drawCircle(g):"square"!==$.shape&&"rect"!==$.shape||(D=Y.drawRect(0,0,$.width-$.pointStrokeWidth/2,$.height-$.pointStrokeWidth/2,$.pRadius)),R.config.series[N].data[A]&&R.config.series[N].data[A].fillColor&&(ne=R.config.series[N].data[A].fillColor),D.attr({x:u-$.width/2-$.pointStrokeWidth/2,y:h-$.height/2-$.pointStrokeWidth/2,cx:u,cy:h,fill:ne,"fill-opacity":$.pointFillOpacity,stroke:$.pointStrokeColor,r:_,"stroke-width":$.pointStrokeWidth,"stroke-dasharray":$.pointStrokeDashArray,"stroke-opacity":$.pointStrokeOpacity}),R.config.chart.dropShadow.enabled&&V.dropShadow(D,R.config.chart.dropShadow,x),!this.initialAnim||R.globals.dataChanged||R.globals.resized?R.globals.animationEnded=!0:L.animateMarker(D,0,"circle"===$.shape?_:{width:$.width,height:$.height},R.config.chart.animations.speed,R.globals.easing,function(){window.setTimeout(function(){L.animationCompleted(D)},100)}),R.globals.dataChanged&&"circle"===$.shape)if(this.dynamicAnim){var k,H,Z,ee,pe=R.config.chart.animations.dynamicAnimation.speed;null!=(ee=R.globals.previousPaths[x]&&R.globals.previousPaths[x][S])&&(k=ee.x,H=ee.y,Z=void 0!==ee.r?ee.r:_);for(var Fe=0;Fe<R.globals.collapsedSeries.length;Fe++)R.globals.collapsedSeries[Fe].index===x&&(pe=1,_=0);0===u&&0===h&&(_=0),L.animateCircle(D,{cx:k,cy:H,r:Z},{cx:u,cy:h,r:_},pe,R.globals.easing)}else D.attr({r:_});return D.attr({rel:A,j:A,index:x,"default-marker-size":_}),V.setSelectionFilter(D,x,A),q.addEvents(D),D.node.classList.add("apexcharts-marker"),D}},{key:"centerTextInBubble",value:function(u){return{y:u+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),J}(),nt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"dataLabelsCorrection",value:function(u,h,g,_,x,A,S){var D=this.w,R=!1,N=new Pe(this.ctx).getTextRects(g,S),L=N.width,V=N.height;if(h<0&&(h=0),h>D.globals.gridHeight+V&&(h=D.globals.gridHeight+V/2),void 0===D.globals.dataLabelsRects[_]&&(D.globals.dataLabelsRects[_]=[]),D.globals.dataLabelsRects[_].push({x:u,y:h,width:L,height:V}),void 0!==D.globals.dataLabelsRects[_][D.globals.dataLabelsRects[_].length-2]){var Y=D.globals.dataLabelsRects[_][void 0!==D.globals.lastDrawnDataLabelsIndexes[_]?D.globals.lastDrawnDataLabelsIndexes[_][D.globals.lastDrawnDataLabelsIndexes[_].length-1]:0];(u>Y.x+Y.width+2||h>Y.y+Y.height+2||u+L<Y.x)&&(R=!0)}return(0===x||A)&&(R=!0),{x:u,y:h,textRects:N,drawnextLabel:R}}},{key:"drawDataLabel",value:function(u,h,g){var _=this,x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,A=this.w,S=new Pe(this.ctx),D=A.config.dataLabels,R=0,N=0,L=g,V=null;if(!D.enabled||!Array.isArray(u.x))return V;V=S.group({class:"apexcharts-data-labels"});for(var j=0;j<u.x.length;j++)if(R=u.x[j]+D.offsetX,N=u.y[j]+D.offsetY+x,!isNaN(R)){1===g&&0===j&&(L=0),1===g&&1===j&&(L=1);var q=A.globals.series[h][L],Y="",$=function(fe){return A.config.dataLabels.formatter(fe,{ctx:_.ctx,seriesIndex:h,dataPointIndex:L,w:A})};if("bubble"===A.config.chart.type){Y=$(q=A.globals.seriesZ[h][L]),N=u.y[j];var ne=new ze(this.ctx),se=ne.centerTextInBubble(N,h,L);N=se.y}else void 0!==q&&(Y=$(q));this.plotDataLabelsText({x:R,y:N,text:Y,i:h,j:L,parent:V,offsetCorrection:!0,dataLabelsConfig:A.config.dataLabels})}return V}},{key:"plotDataLabelsText",value:function(u){var h=this.w,g=new Pe(this.ctx),_=u.x,x=u.y,A=u.i,S=u.j,D=u.text,R=u.textAnchor,N=u.fontSize,L=u.parent,V=u.dataLabelsConfig,j=u.color,q=u.alwaysDrawDataLabel,Y=u.offsetCorrection;if(!(Array.isArray(h.config.dataLabels.enabledOnSeries)&&h.config.dataLabels.enabledOnSeries.indexOf(A)<0)){var $={x:_,y:x,drawnextLabel:!0};Y&&($=this.dataLabelsCorrection(_,x,D,A,S,q,parseInt(V.style.fontSize,10))),h.globals.zoomed||(_=$.x,x=$.y),$.textRects&&(_<-10-$.textRects.width||_>h.globals.gridWidth+$.textRects.width+10)&&(D="");var ne=h.globals.dataLabels.style.colors[A];(("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)&&h.config.plotOptions.bar.distributed||h.config.dataLabels.distributed)&&(ne=h.globals.dataLabels.style.colors[S]),"function"==typeof ne&&(ne=ne({series:h.globals.series,seriesIndex:A,dataPointIndex:S,w:h})),j&&(ne=j);var se=V.offsetX,fe=V.offsetY;if("bar"!==h.config.chart.type&&"rangeBar"!==h.config.chart.type||(se=0,fe=0),$.drawnextLabel){var k=g.drawText({width:100,height:parseInt(V.style.fontSize,10),x:_+se,y:x+fe,foreColor:ne,textAnchor:R||V.textAnchor,text:D,fontSize:N||V.style.fontSize,fontFamily:V.style.fontFamily,fontWeight:V.style.fontWeight||"normal"});if(k.attr({class:"apexcharts-datalabel",cx:_,cy:x}),V.dropShadow.enabled){var H=V.dropShadow;new tt(this.ctx).dropShadow(k,H)}L.add(k),void 0===h.globals.lastDrawnDataLabelsIndexes[A]&&(h.globals.lastDrawnDataLabelsIndexes[A]=[]),h.globals.lastDrawnDataLabelsIndexes[A].push(S)}}}},{key:"addBackgroundToDataLabel",value:function(u,h){var g=this.w,_=g.config.dataLabels.background,x=_.padding,A=_.padding/2,S=h.width,D=h.height,R=new Pe(this.ctx).drawRect(h.x-x,h.y-A/2,S+2*x,D+A,_.borderRadius,"transparent"===g.config.chart.background?"#fff":g.config.chart.background,_.opacity,_.borderWidth,_.borderColor);return _.dropShadow.enabled&&new tt(this.ctx).dropShadow(R,_.dropShadow),R}},{key:"dataLabelsBackground",value:function(){var u=this.w;if("bubble"!==u.config.chart.type)for(var h=u.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),g=0;g<h.length;g++){var _=h[g],x=_.getBBox(),A=null;if(x.width&&x.height&&(A=this.addBackgroundToDataLabel(_,x)),A){_.parentNode.insertBefore(A.node,_);var S=_.getAttribute("fill");!u.config.chart.animations.enabled||u.globals.resized||u.globals.dataChanged?A.attr({fill:S}):A.animate().attr({fill:S}),_.setAttribute("fill",u.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var u=this.w,h=u.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),g=u.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),_=0;_<h.length;_++)g&&g.insertBefore(h[_],g.nextSibling)}}]),J}(),Ye=function(){function J(u){K(this,J),this.w=u.w,this.barCtx=u}return Ee(J,[{key:"handleBarDataLabels",value:function(u){var h=u.x,g=u.y,_=u.y1,x=u.y2,A=u.i,S=u.j,D=u.realIndex,R=u.series,N=u.barHeight,L=u.barWidth,V=u.barYPosition,j=u.visibleSeries,q=u.renderedPath,Y=this.w,$=new Pe(this.barCtx.ctx),ne=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[D]:this.barCtx.strokeWidth,se=h+parseFloat(L*j),fe=g+parseFloat(N*j);Y.globals.isXNumeric&&!Y.globals.isBarHorizontal&&(se=h+parseFloat(L*(j+1)),fe=g+parseFloat(N*(j+1))-ne);var Z,k=h,H=g,ee=Y.config.dataLabels,pe=this.barCtx.barOptions.dataLabels;void 0!==V&&this.barCtx.isTimelineBar&&(fe=V,H=V);var Fe=ee.offsetX,Re=ee.offsetY,Qe={width:0,height:0};Y.config.dataLabels.enabled&&(Qe=$.getTextRects(Y.globals.yLabelFormatters[0](this.barCtx.series[A][S]),parseFloat(ee.style.fontSize)));var dt={x:h,y:g,i:A,j:S,renderedPath:q,bcx:se,bcy:fe,barHeight:N,barWidth:L,textRects:Qe,strokeWidth:ne,dataLabelsX:k,dataLabelsY:H,barDataLabelsConfig:pe,offX:Fe,offY:Re};return Z=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(dt):this.calculateColumnsDataLabelsPosition(dt),q.attr({cy:Z.bcy,cx:Z.bcx,j:S,val:R[A][S],barHeight:N,barWidth:L}),this.drawCalculatedDataLabels({x:Z.dataLabelsX,y:Z.dataLabelsY,val:this.barCtx.isTimelineBar?[_,x]:R[A][S],i:D,j:S,barWidth:L,barHeight:N,textRects:Qe,dataLabelsConfig:ee})}},{key:"calculateColumnsDataLabelsPosition",value:function(u){var h,g=this.w,_=u.i,x=u.j,A=u.y,S=u.bcx,D=u.barWidth,R=u.barHeight,N=u.textRects,L=u.dataLabelsY,V=u.barDataLabelsConfig,j=u.strokeWidth,q=u.offX,Y=u.offY;R=Math.abs(R);var $="vertical"===g.config.plotOptions.bar.dataLabels.orientation;S-=j/2,h=g.globals.isXNumeric?S-D/2+q:S-g.globals.gridWidth/g.globals.dataPoints+D/2+q,$&&(h=h+N.height/2-j/2-2);var se=this.barCtx.series[_][x]<0,fe=A;switch(this.barCtx.isReversed&&(fe=A-R+(se?2*R:0),A-=R),V.position){case"center":L=$?se?fe+R/2+Y:fe+R/2-Y:se?fe-R/2+N.height/2+Y:fe+R/2+N.height/2-Y;break;case"bottom":L=$?se?fe+R+Y:fe+R-Y:se?fe-R+N.height+j+Y:fe+R-N.height/2+j-Y;break;case"top":L=$?se?fe+Y:fe-Y:se?fe-N.height/2-Y:fe+N.height+Y}return g.config.chart.stacked||(L<0?L=0+j:L+N.height/3>g.globals.gridHeight&&(L=g.globals.gridHeight-j)),{bcx:S,bcy:A,dataLabelsX:h,dataLabelsY:L}}},{key:"calculateBarsDataLabelsPosition",value:function(u){var h=this.w,g=u.x,_=u.i,x=u.j,A=u.bcy,S=u.barHeight,D=u.barWidth,R=u.textRects,N=u.dataLabelsX,L=u.strokeWidth,V=u.barDataLabelsConfig,j=u.offX,q=u.offY,Y=h.globals.gridHeight/h.globals.dataPoints;D=Math.abs(D);var $=A-(this.barCtx.isTimelineBar?0:Y)+S/2+R.height/2+q-3,ne=this.barCtx.series[_][x]<0,se=g;switch(this.barCtx.isReversed&&(se=g+D-(ne?2*D:0),g=h.globals.gridWidth-D),V.position){case"center":N=ne?se+D/2-j:Math.max(R.width/2,se-D/2)+j;break;case"bottom":N=ne?se+D-L-Math.round(R.width/2)-j:se-D+L+Math.round(R.width/2)+j;break;case"top":N=ne?se-L+Math.round(R.width/2)-j:se-L-Math.round(R.width/2)+j}return h.config.chart.stacked||(N<0?N=N+R.width+L:N+R.width/2>h.globals.gridWidth&&(N=h.globals.gridWidth-R.width-L)),{bcx:g,bcy:A,dataLabelsX:N,dataLabelsY:$}}},{key:"drawCalculatedDataLabels",value:function(u){var h=u.x,g=u.y,_=u.val,x=u.i,A=u.j,S=u.textRects,D=u.barHeight,R=u.barWidth,N=u.dataLabelsConfig,L=this.w,V="rotate(0)";"vertical"===L.config.plotOptions.bar.dataLabels.orientation&&(V="rotate(-90, ".concat(h,", ").concat(g,")"));var j=new nt(this.barCtx.ctx),q=new Pe(this.barCtx.ctx),Y=N.formatter,$=null,ne=L.globals.collapsedSeriesIndices.indexOf(x)>-1;if(N.enabled&&!ne){$=q.group({class:"apexcharts-data-labels",transform:V});var se="";void 0!==_&&(se=Y(_,{seriesIndex:x,dataPointIndex:A,w:L}));var fe=L.globals.series[x][A]<0,k=L.config.plotOptions.bar.dataLabels.position;"vertical"===L.config.plotOptions.bar.dataLabels.orientation&&("top"===k&&(N.textAnchor=fe?"end":"start"),"center"===k&&(N.textAnchor="middle"),"bottom"===k&&(N.textAnchor=fe?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&R<q.getTextRects(se,parseFloat(N.style.fontSize)).width&&(se=""),L.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(R>0&&S.width/1.6>R||R<0&&S.width/1.6<R)&&(se=""):S.height/1.6>D&&(se=""));var H=Se({},N);this.barCtx.isHorizontal&&_<0&&("start"===N.textAnchor?H.textAnchor="end":"end"===N.textAnchor&&(H.textAnchor="start")),j.plotDataLabelsText({x:h,y:g,text:se,i:x,j:A,parent:$,dataLabelsConfig:H,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return $}}]),J}(),Dt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.legendInactiveClass="legend-mouseover-inactive"}return Ee(J,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(u){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(de.escapeString(u),"']"))}},{key:"isSeriesHidden",value:function(u){var h=this.getSeriesByName(u),g=parseInt(h.getAttribute("data:realIndex"),10);return{isHidden:h.classList.contains("apexcharts-series-collapsed"),realIndex:g}}},{key:"addCollapsedClassToSeries",value:function(u,h){var g=this.w;function _(x){for(var A=0;A<x.length;A++)x[A].index===h&&u.node.classList.add("apexcharts-series-collapsed")}_(g.globals.collapsedSeries),_(g.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(u){var h=this.isSeriesHidden(u);return this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,h.isHidden),h.isHidden}},{key:"showSeries",value:function(u){var h=this.isSeriesHidden(u);h.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,!0)}},{key:"hideSeries",value:function(u){var h=this.isSeriesHidden(u);h.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,!1)}},{key:"resetSeries",value:function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=this.w,x=de.clone(_.globals.initialSeries);_.globals.previousPaths=[],g?(_.globals.collapsedSeries=[],_.globals.ancillaryCollapsedSeries=[],_.globals.collapsedSeriesIndices=[],_.globals.ancillaryCollapsedSeriesIndices=[]):x=this.emptyCollapsedSeries(x),_.config.series=x,u&&(h&&(_.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(x,_.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(u){for(var h=this.w,g=0;g<u.length;g++)h.globals.collapsedSeriesIndices.indexOf(g)>-1&&(u[g].data=[]);return u}},{key:"toggleSeriesOnHover",value:function(u,h){var g=this.w,_=g.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===u.type){var x=parseInt(h.getAttribute("rel"),10)-1,A=null,S=null;g.globals.axisCharts||"radialBar"===g.config.chart.type?g.globals.axisCharts?(A=g.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(x,"']")),S=g.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(x,"']"))):A=g.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(x+1,"']")):A=g.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(x+1,"'] path"));for(var D=0;D<_.length;D++)_[D].classList.add(this.legendInactiveClass);null!==A&&(g.globals.axisCharts||A.parentNode.classList.remove(this.legendInactiveClass),A.classList.remove(this.legendInactiveClass),null!==S&&S.classList.remove(this.legendInactiveClass))}else if("mouseout"===u.type)for(var R=0;R<_.length;R++)_[R].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(u,h){var g=this,_=this.w,x=_.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),A=function(D){for(var R=0;R<x.length;R++)x[R].classList[D](g.legendInactiveClass)};if("mousemove"===u.type){var S=parseInt(h.getAttribute("rel"),10)-1;A("add"),function(D){for(var R=0;R<x.length;R++){var N=parseInt(x[R].getAttribute("val"),10);N>=D.from&&N<=D.to&&x[R].classList.remove(g.legendInactiveClass)}}(_.config.plotOptions.heatmap.colorScale.ranges[S])}else"mouseout"===u.type&&A("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",g=this.w,_=0;if(g.config.series.length>1)for(var x=g.config.series.map(function(S,D){var R=!1;return u&&(R="bar"===g.config.series[D].type||"column"===g.config.series[D].type),S.data&&S.data.length>0&&!R?D:-1}),A="asc"===h?0:x.length-1;"asc"===h?A<x.length:A>=0;"asc"===h?A++:A--)if(-1!==x[A]){_=x[A];break}return _}},{key:"getPreviousPaths",value:function(){var u=this.w;function h(A,S,D){for(var R=A[S].childNodes,N={type:D,paths:[],realIndex:A[S].getAttribute("data:realIndex")},L=0;L<R.length;L++)if(R[L].hasAttribute("pathTo")){var V=R[L].getAttribute("pathTo");N.paths.push({d:V})}u.globals.previousPaths.push(N)}u.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(A){for(var D=u.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(A,"-series .apexcharts-series")),R=0;R<D.length;R++)h(D,R,A)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var g=u.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(u.config.chart.type," .apexcharts-series"));if(g.length>0)for(var _=function(A){for(var S=u.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(u.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(A,"'] rect")),D=[],R=function(L){var V=function(q){return S[L].getAttribute(q)},j={x:parseFloat(V("x")),y:parseFloat(V("y")),width:parseFloat(V("width")),height:parseFloat(V("height"))};D.push({rect:j,color:S[L].getAttribute("color")})},N=0;N<S.length;N++)R(N);u.globals.previousPaths.push(D)},x=0;x<g.length;x++)_(x);u.globals.axisCharts||(u.globals.previousPaths=u.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(u){var h=this.w,g=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(u,"-series .apexcharts-series"));if(g.length>0)for(var _=0;_<g.length;_++){for(var x=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(u,"-series .apexcharts-series[data\\:realIndex='").concat(_,"'] circle")),A=[],S=0;S<x.length;S++)A.push({x:x[S].getAttribute("cx"),y:x[S].getAttribute("cy"),r:x[S].getAttribute("r")});h.globals.previousPaths.push(A)}}},{key:"clearPreviousPaths",value:function(){var u=this.w;u.globals.previousPaths=[],u.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var u=this.w,h=u.config.noData,g=new Pe(this.ctx),_=u.globals.svgWidth/2,x=u.globals.svgHeight/2,A="middle";if(u.globals.noData=!0,u.globals.animationEnded=!0,"left"===h.align?(_=10,A="start"):"right"===h.align&&(_=u.globals.svgWidth-10,A="end"),"top"===h.verticalAlign?x=50:"bottom"===h.verticalAlign&&(x=u.globals.svgHeight-50),_+=h.offsetX,x=x+parseInt(h.style.fontSize,10)+2+h.offsetY,void 0!==h.text&&""!==h.text){var S=g.drawText({x:_,y:x,text:h.text,textAnchor:A,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,foreColor:h.style.color,opacity:1,class:"apexcharts-text-nodata"});u.globals.dom.Paper.add(S)}}},{key:"setNullSeriesToZeroValues",value:function(u){for(var h=this.w,g=0;g<u.length;g++)if(0===u[g].length)for(var _=0;_<u[h.globals.maxValsInArrayIndex].length;_++)u[g].push(0);return u}},{key:"hasAllSeriesEqualX",value:function(){for(var u=!0,h=this.w,g=this.filteredSeriesX(),_=0;_<g.length-1;_++)if(g[_][0]!==g[_+1][0]){u=!1;break}return h.globals.allSeriesHasEqualX=u,u}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(h){return h.length>0?h:[]})}}]),J}(),zt=function(){function J(u){K(this,J),this.w=u.w,this.barCtx=u}return Ee(J,[{key:"initVariables",value:function(u){var h=this.w;this.barCtx.series=u,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var g=0;g<u.length;g++)if(u[g].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=u[g].length),h.globals.isXNumeric)for(var _=0;_<u[g].length;_++)h.globals.seriesX[g][_]>h.globals.minX&&h.globals.seriesX[g][_]<h.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=h.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=u.length-1,h.globals.comboCharts||this.checkZeroSeries({series:u})}},{key:"initialPositions",value:function(){var u,h,g,_,x,A,S,D,R=this.w,N=R.globals.dataPoints;this.barCtx.isTimelineBar&&(N=R.globals.labels.length);var L=this.barCtx.seriesLen;if(R.config.plotOptions.bar.rangeBarGroupRows&&(L=1),this.barCtx.isHorizontal)x=(g=R.globals.gridHeight/N)/L,R.globals.isXNumeric&&(x=(g=R.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),x=x*parseInt(this.barCtx.barOptions.barHeight,10)/100,D=this.barCtx.baseLineInvertedY+R.globals.padHorizontal+(this.barCtx.isReversed?R.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),h=(g-x*this.barCtx.seriesLen)/2;else{if(_=R.globals.gridWidth/this.barCtx.visibleItems,R.config.xaxis.convertedCatToNumeric&&(_=R.globals.gridWidth/R.globals.dataPoints),A=_/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,R.globals.isXNumeric){var V=this.barCtx.xRatio;R.config.xaxis.convertedCatToNumeric&&(V=this.barCtx.initialXRatio),R.globals.minXDiff&&.5!==R.globals.minXDiff&&R.globals.minXDiff/V>0&&(_=R.globals.minXDiff/V),(A=_/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(A=1)}S=R.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?R.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),u=R.globals.padHorizontal+(_-A*this.barCtx.seriesLen)/2}return{x:u,y:h,yDivision:g,xDivision:_,barHeight:x,barWidth:A,zeroH:S,zeroW:D}}},{key:"getPathFillColor",value:function(u,h,g,_){var x=this.w,A=new Ue(this.barCtx.ctx),S=null,D=this.barCtx.barOptions.distributed?g:h;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(R){u[h][g]>=R.from&&u[h][g]<=R.to&&(S=R.color)}),x.config.series[h].data[g]&&x.config.series[h].data[g].fillColor&&(S=x.config.series[h].data[g].fillColor),A.fillPath({seriesNumber:this.barCtx.barOptions.distributed?D:_,dataPointIndex:g,color:S,value:u[h][g]})}},{key:"getStrokeWidth",value:function(u,h,g){var _=0,x=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[u][h],x.config.stroke.show&&(this.barCtx.isNullValue||(_=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth)),_}},{key:"barBackground",value:function(u){var h=u.j,g=u.i,_=u.x1,x=u.x2,A=u.y1,S=u.y2,D=u.elSeries,R=this.w,N=new Pe(this.barCtx.ctx),L=new Dt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&L===g){h>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(h-=this.barCtx.barOptions.colors.backgroundBarColors.length);var j=N.drawRect(void 0!==_?_:0,void 0!==A?A:0,void 0!==x?x:R.globals.gridWidth,void 0!==S?S:R.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[h],this.barCtx.barOptions.colors.backgroundBarOpacity);D.add(j),j.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(u){var h=u.barWidth,g=u.barXPosition,_=u.yRatio,x=u.y1,A=u.y2,S=u.strokeWidth,D=u.series,R=u.realIndex,N=u.i,L=u.j,V=u.w,j=new Pe(this.barCtx.ctx);(S=Array.isArray(S)?S[R]:S)||(S=0);var Y=this.getRoundedBars(V,{barWidth:h,strokeWidth:S,yRatio:_,barXPosition:g,y1:x,y2:A},D,N,L),$=g,ne=g+h,se=j.move($,x),fe=j.move($,x),k=j.line(ne-S,x);return V.globals.previousPaths.length>0&&(fe=this.barCtx.getPreviousPath(R,L,!1)),se=se+j.line($,Y.y2)+Y.pathWithRadius+j.line(ne-S,Y.y2)+k+k+"z",fe=fe+j.line($,x)+k+k+k+k+k+j.line($,x),V.config.chart.stacked&&(this.barCtx.yArrj.push(Y.y2),this.barCtx.yArrjF.push(Math.abs(x-Y.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[N][L])),{pathTo:se,pathFrom:fe}}},{key:"getBarpaths",value:function(u){var h=u.barYPosition,g=u.barHeight,_=u.x1,x=u.x2,A=u.strokeWidth,S=u.series,D=u.realIndex,R=u.i,N=u.j,L=u.w,V=new Pe(this.barCtx.ctx);(A=Array.isArray(A)?A[D]:A)||(A=0);var q=this.getRoundedBars(L,{barHeight:g,strokeWidth:A,barYPosition:h,x2:x,x1:_},S,R,N),Y=V.move(_,h),$=V.move(_,h);L.globals.previousPaths.length>0&&($=this.barCtx.getPreviousPath(D,N,!1));var ne=h,se=h+g,fe=V.line(_,se-A);return Y=Y+V.line(q.x2,ne)+q.pathWithRadius+V.line(q.x2,se-A)+fe+fe+"z",$=$+V.line(_,ne)+fe+fe+fe+fe+fe+V.line(_,ne),L.config.chart.stacked&&(this.barCtx.xArrj.push(q.x2),this.barCtx.xArrjF.push(Math.abs(_-q.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[R][N])),{pathTo:Y,pathFrom:$}}},{key:"getRoundedBars",value:function(u,h,g,_,x){var A=new Pe(this.barCtx.ctx),S=u.config.plotOptions.bar.borderRadius;if(u.config.chart.stacked&&g.length>1&&_!==this.barCtx.radiusOnSeriesNumber&&(S=0),this.barCtx.isHorizontal){var D="",R=h.x2;if(Math.abs(h.x1-h.x2)<S&&(S=Math.abs(h.x1-h.x2)),void 0!==g[_][x]||null!==g[_][x]){var N=this.barCtx.isReversed?g[_][x]>0:g[_][x]<0;N&&(S*=-1),D=A.quadraticCurve((R-=S)+S,h.barYPosition,R+S,h.barYPosition+(N?-1*S:S))+A.line(R+S,h.barYPosition+h.barHeight-h.strokeWidth-(N?-1*S:S))+A.quadraticCurve(R+S,h.barYPosition+h.barHeight-h.strokeWidth,R,h.barYPosition+h.barHeight-h.strokeWidth)}return{pathWithRadius:D,x2:R}}var L="",V=h.y2;if(Math.abs(h.y1-h.y2)<S&&(S=Math.abs(h.y1-h.y2)),void 0!==g[_][x]||null!==g[_][x]){var j=g[_][x]<0;j&&(S*=-1),L=A.quadraticCurve(h.barXPosition,(V+=S)-S,h.barXPosition+(j?-1*S:S),V-S)+A.line(h.barXPosition+h.barWidth-h.strokeWidth-(j?-1*S:S),V-S)+A.quadraticCurve(h.barXPosition+h.barWidth-h.strokeWidth,V-S,h.barXPosition+h.barWidth-h.strokeWidth,V)}return{pathWithRadius:L,y2:V}}},{key:"checkZeroSeries",value:function(u){for(var h=u.series,g=this.w,_=0;_<h.length;_++){for(var x=0,A=0;A<h[g.globals.maxValsInArrayIndex].length;A++)x+=h[_][A];0===x&&this.barCtx.zeroSerieses.push(_)}for(var S=h.length-1;S>=0;S--)this.barCtx.zeroSerieses.indexOf(S)>-1&&S===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var D=h.length-1;D>=0;D--)g.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(u,h){var g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=g?h:null;return null!=u&&(_=h+u/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?u/this.barCtx.invertedYRatio:0)),_}},{key:"getYForValue",value:function(u,h){var g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=g?h:null;return null!=u&&(_=h-u/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?u/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),_}},{key:"getGoalValues",value:function(u,h,g,_,x){var A=this,S=this.w,D=[];return S.globals.seriesGoals[_]&&S.globals.seriesGoals[_][x]&&Array.isArray(S.globals.seriesGoals[_][x])&&S.globals.seriesGoals[_][x].forEach(function(R){var N;D.push((ke(N={},u,"x"===u?A.getXForValue(R.value,h,!1):A.getYForValue(R.value,g,!1)),ke(N,"attrs",R),N))}),D}},{key:"drawGoalLine",value:function(u){var h=u.barXPosition,g=u.barYPosition,_=u.goalX,x=u.goalY,A=u.barWidth,S=u.barHeight,D=new Pe(this.barCtx.ctx),R=D.group({className:"apexcharts-bar-goals-groups"}),N=null;return this.barCtx.isHorizontal?Array.isArray(_)&&_.forEach(function(L){N=D.drawLine(L.x,g,L.x,g+S,L.attrs.strokeColor?L.attrs.strokeColor:void 0,0,L.attrs.strokeWidth?L.attrs.strokeWidth:2),R.add(N)}):Array.isArray(x)&&x.forEach(function(L){N=D.drawLine(h,L.y,h+A,L.y,L.attrs.strokeColor?L.attrs.strokeColor:void 0,0,L.attrs.strokeWidth?L.attrs.strokeWidth:2),R.add(N)}),R}}]),J}(),Sn=function(){function J(u,h){K(this,J),this.ctx=u,this.w=u.w;var g=this.w;this.barOptions=g.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=g.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===g.config.xaxis.type&&g.globals.seriesRangeBarTimeline.length,this.xyRatios=h,null!==this.xyRatios&&(this.xRatio=h.xRatio,this.initialXRatio=h.initialXRatio,this.yRatio=h.yRatio,this.invertedXRatio=h.invertedXRatio,this.invertedYRatio=h.invertedYRatio,this.baseLineY=h.baseLineY,this.baseLineInvertedY=h.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new zt(this)}return Ee(J,[{key:"draw",value:function(u,h){var g=this.w,_=new Pe(this.ctx),x=new vt(this.ctx,g);u=x.getLogSeries(u),this.series=u,this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u);var A=_.group({class:"apexcharts-bar-series apexcharts-plot-series"});g.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var S=0,D=0;S<u.length;S++,D++){var R,N,L,V,j=void 0,q=void 0,Y=[],$=[],ne=g.globals.comboCharts?h[S]:S,se=_.group({class:"apexcharts-series",rel:S+1,seriesName:de.escapeString(g.globals.seriesNames[ne]),"data:realIndex":ne});this.ctx.series.addCollapsedClassToSeries(se,ne),u[S].length>0&&(this.visibleI=this.visibleI+1);var fe=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=ne),this.isReversed=g.config.yaxis[this.yaxisIndex]&&g.config.yaxis[this.yaxisIndex].reversed;var H=this.barHelpers.initialPositions();q=H.y,fe=H.barHeight,N=H.yDivision,V=H.zeroW,j=H.x,k=H.barWidth,R=H.xDivision,L=H.zeroH,this.horizontal||$.push(j+k/2);for(var Z=_.group({class:"apexcharts-datalabels","data:realIndex":ne}),ee=_.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),pe=0;pe<g.globals.dataPoints;pe++){var Fe=this.barHelpers.getStrokeWidth(S,pe,ne),Re=null,Qe={indexes:{i:S,j:pe,realIndex:ne,bc:D},x:j,y:q,strokeWidth:Fe,elSeries:se};this.isHorizontal?(Re=this.drawBarPaths(Se(Se({},Qe),{},{barHeight:fe,zeroW:V,yDivision:N})),k=this.series[S][pe]/this.invertedYRatio):(Re=this.drawColumnPaths(Se(Se({},Qe),{},{xDivision:R,barWidth:k,zeroH:L})),fe=this.series[S][pe]/this.yRatio[this.yaxisIndex]);var rt=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Re.barYPosition,goalX:Re.goalX,goalY:Re.goalY,barHeight:fe,barWidth:k});rt&&ee.add(rt),q=Re.y,j=Re.x,pe>0&&$.push(j+k/2),Y.push(q);var dt=this.barHelpers.getPathFillColor(u,S,pe,ne);this.renderSeries({realIndex:ne,pathFill:dt,j:pe,i:S,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:Fe,elSeries:se,x:j,y:q,series:u,barHeight:fe,barWidth:k,elDataLabelsWrap:Z,elGoalsMarkers:ee,visibleSeries:this.visibleI,type:"bar"})}g.globals.seriesXvalues[ne]=$,g.globals.seriesYvalues[ne]=Y,A.add(se)}return A}},{key:"renderSeries",value:function(u){var h=u.realIndex,g=u.pathFill,_=u.lineFill,x=u.j,A=u.i,S=u.pathFrom,D=u.pathTo,R=u.strokeWidth,N=u.elSeries,L=u.x,V=u.y,j=u.y1,q=u.y2,Y=u.series,$=u.barHeight,ne=u.barWidth,se=u.barYPosition,fe=u.elDataLabelsWrap,k=u.elGoalsMarkers,H=u.visibleSeries,Z=u.type,ee=this.w,pe=new Pe(this.ctx);_||(_=this.barOptions.distributed?ee.globals.stroke.colors[x]:ee.globals.stroke.colors[h]),ee.config.series[A].data[x]&&ee.config.series[A].data[x].strokeColor&&(_=ee.config.series[A].data[x].strokeColor),this.isNullValue&&(g="none");var Re=pe.renderPaths({i:A,j:x,realIndex:h,pathFrom:S,pathTo:D,stroke:_,strokeWidth:R,strokeLineCap:ee.config.stroke.lineCap,fill:g,animationDelay:x/ee.config.chart.animations.animateGradually.delay*(ee.config.chart.animations.speed/ee.globals.dataPoints)/2.4,initialSpeed:ee.config.chart.animations.speed,dataChangeSpeed:ee.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Z,"-area")});Re.attr("clip-path","url(#gridRectMask".concat(ee.globals.cuid,")"));var Qe=ee.config.forecastDataPoints;Qe.count>0&&x>=ee.globals.dataPoints-Qe.count&&(Re.node.setAttribute("stroke-dasharray",Qe.dashArray),Re.node.setAttribute("stroke-width",Qe.strokeWidth),Re.node.setAttribute("fill-opacity",Qe.fillOpacity)),void 0!==j&&void 0!==q&&(Re.attr("data-range-y1",j),Re.attr("data-range-y2",q)),new tt(this.ctx).setSelectionFilter(Re,h,x),N.add(Re);var rt=new Ye(this).handleBarDataLabels({x:L,y:V,y1:j,y2:q,i:A,j:x,series:Y,realIndex:h,barHeight:$,barWidth:ne,barYPosition:se,renderedPath:Re,visibleSeries:H});return null!==rt&&fe.add(rt),N.add(fe),k&&N.add(k),N}},{key:"drawBarPaths",value:function(u){var A,h=u.indexes,g=u.barHeight,_=u.strokeWidth,x=u.zeroW,S=u.y,D=u.yDivision,R=u.elSeries,N=this.w,L=h.i,V=h.j;N.globals.isXNumeric&&(S=(N.globals.seriesX[L][V]-N.globals.minX)/this.invertedXRatio-g);var j=S+g*this.visibleI;A=this.barHelpers.getXForValue(this.series[L][V],x);var q=this.barHelpers.getBarpaths({barYPosition:j,barHeight:g,x1:x,x2:A,strokeWidth:_,series:this.series,realIndex:h.realIndex,i:L,j:V,w:N});return N.globals.isXNumeric||(S+=D),this.barHelpers.barBackground({j:V,i:L,y1:j-g*this.visibleI,y2:g*this.seriesLen,elSeries:R}),{pathTo:q.pathTo,pathFrom:q.pathFrom,x:A,y:S,goalX:this.barHelpers.getGoalValues("x",x,null,L,V),barYPosition:j}}},{key:"drawColumnPaths",value:function(u){var _,h=u.indexes,g=u.x,x=u.xDivision,A=u.barWidth,S=u.zeroH,D=u.strokeWidth,R=u.elSeries,N=this.w,L=h.realIndex,V=h.i,j=h.j,q=h.bc;if(N.globals.isXNumeric){var Y=L;N.globals.seriesX[L].length||(Y=N.globals.maxValsInArrayIndex),g=(N.globals.seriesX[Y][j]-N.globals.minX)/this.xRatio-A*this.seriesLen/2}var $=g+A*this.visibleI;_=this.barHelpers.getYForValue(this.series[V][j],S);var ne=this.barHelpers.getColumnPaths({barXPosition:$,barWidth:A,y1:S,y2:_,strokeWidth:D,series:this.series,realIndex:h.realIndex,i:V,j,w:N});return N.globals.isXNumeric||(g+=x),this.barHelpers.barBackground({bc:q,j,i:V,x1:$-D/2-A*this.visibleI,x2:A*this.seriesLen+D/2,elSeries:R}),{pathTo:ne.pathTo,pathFrom:ne.pathFrom,x:g,y:_,goalY:this.barHelpers.getGoalValues("y",null,S,V,j),barXPosition:$}}},{key:"getPreviousPath",value:function(u,h){for(var g,_=this.w,x=0;x<_.globals.previousPaths.length;x++){var A=_.globals.previousPaths[x];A.paths&&A.paths.length>0&&parseInt(A.realIndex,10)===parseInt(u,10)&&void 0!==_.globals.previousPaths[x].paths[h]&&(g=_.globals.previousPaths[x].paths[h].d)}return g}}]),J}(),bt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Ee(J,[{key:"isValidDate",value:function(u){return!isNaN(this.parseDate(u))}},{key:"getTimeStamp",value:function(u){return Date.parse(u)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(u).toISOString().substr(0,25)).getTime():new Date(u).getTime():u}},{key:"getDate",value:function(u){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(u).toUTCString()):new Date(u)}},{key:"parseDate",value:function(u){var h=Date.parse(u);if(!isNaN(h))return this.getTimeStamp(u);var g=Date.parse(u.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(g)}},{key:"parseDateWithTimezone",value:function(u){return Date.parse(u.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(u,h){var g=this.w.globals.locale,_=this.w.config.xaxis.labels.datetimeUTC,x=["\0"].concat(Ne(g.months)),A=["\x01"].concat(Ne(g.shortMonths)),S=["\x02"].concat(Ne(g.days)),D=["\x03"].concat(Ne(g.shortDays));function R(pe,Fe){var Re=pe+"";for(Fe=Fe||2;Re.length<Fe;)Re="0"+Re;return Re}var N=_?u.getUTCFullYear():u.getFullYear();h=(h=(h=h.replace(/(^|[^\\])yyyy+/g,"$1"+N)).replace(/(^|[^\\])yy/g,"$1"+N.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+N);var L=(_?u.getUTCMonth():u.getMonth())+1;h=(h=(h=(h=h.replace(/(^|[^\\])MMMM+/g,"$1"+x[0])).replace(/(^|[^\\])MMM/g,"$1"+A[0])).replace(/(^|[^\\])MM/g,"$1"+R(L))).replace(/(^|[^\\])M/g,"$1"+L);var V=_?u.getUTCDate():u.getDate();h=(h=(h=(h=h.replace(/(^|[^\\])dddd+/g,"$1"+S[0])).replace(/(^|[^\\])ddd/g,"$1"+D[0])).replace(/(^|[^\\])dd/g,"$1"+R(V))).replace(/(^|[^\\])d/g,"$1"+V);var j=_?u.getUTCHours():u.getHours(),q=j>12?j-12:0===j?12:j;h=(h=(h=(h=h.replace(/(^|[^\\])HH+/g,"$1"+R(j))).replace(/(^|[^\\])H/g,"$1"+j)).replace(/(^|[^\\])hh+/g,"$1"+R(q))).replace(/(^|[^\\])h/g,"$1"+q);var Y=_?u.getUTCMinutes():u.getMinutes();h=(h=h.replace(/(^|[^\\])mm+/g,"$1"+R(Y))).replace(/(^|[^\\])m/g,"$1"+Y);var $=_?u.getUTCSeconds():u.getSeconds();h=(h=h.replace(/(^|[^\\])ss+/g,"$1"+R($))).replace(/(^|[^\\])s/g,"$1"+$);var ne=_?u.getUTCMilliseconds():u.getMilliseconds();h=h.replace(/(^|[^\\])fff+/g,"$1"+R(ne,3)),ne=Math.round(ne/10),h=h.replace(/(^|[^\\])ff/g,"$1"+R(ne)),ne=Math.round(ne/10);var se=j<12?"AM":"PM";h=(h=(h=h.replace(/(^|[^\\])f/g,"$1"+ne)).replace(/(^|[^\\])TT+/g,"$1"+se)).replace(/(^|[^\\])T/g,"$1"+se.charAt(0));var fe=se.toLowerCase();h=(h=h.replace(/(^|[^\\])tt+/g,"$1"+fe)).replace(/(^|[^\\])t/g,"$1"+fe.charAt(0));var k=-u.getTimezoneOffset(),H=_||!k?"Z":k>0?"+":"-";if(!_){var Z=(k=Math.abs(k))%60;H+=R(Math.floor(k/60))+":"+R(Z)}h=h.replace(/(^|[^\\])K/g,"$1"+H);var ee=(_?u.getUTCDay():u.getDay())+1;return(h=(h=(h=(h=h.replace(new RegExp(S[0],"g"),S[ee])).replace(new RegExp(D[0],"g"),D[ee])).replace(new RegExp(x[0],"g"),x[L])).replace(new RegExp(A[0],"g"),A[L])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(u,h,g){var _=this.w;void 0!==_.config.xaxis.min&&(u=_.config.xaxis.min),void 0!==_.config.xaxis.max&&(h=_.config.xaxis.max);var x=this.getDate(u),A=this.getDate(h),S=this.formatDate(x,"yyyy MM dd HH mm ss fff").split(" "),D=this.formatDate(A,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(S[6],10),maxMillisecond:parseInt(D[6],10),minSecond:parseInt(S[5],10),maxSecond:parseInt(D[5],10),minMinute:parseInt(S[4],10),maxMinute:parseInt(D[4],10),minHour:parseInt(S[3],10),maxHour:parseInt(D[3],10),minDate:parseInt(S[2],10),maxDate:parseInt(D[2],10),minMonth:parseInt(S[1],10)-1,maxMonth:parseInt(D[1],10)-1,minYear:parseInt(S[0],10),maxYear:parseInt(D[0],10)}}},{key:"isLeapYear",value:function(u){return u%4==0&&u%100!=0||u%400==0}},{key:"calculcateLastDaysOfMonth",value:function(u,h,g){return this.determineDaysOfMonths(u,h)-g}},{key:"determineDaysOfYear",value:function(u){var h=365;return this.isLeapYear(u)&&(h=366),h}},{key:"determineRemainingDaysOfYear",value:function(u,h,g){var _=this.daysCntOfYear[h]+g;return h>1&&this.isLeapYear()&&_++,_}},{key:"determineDaysOfMonths",value:function(u,h){var g=30;switch(u=de.monthMod(u),!0){case this.months30.indexOf(u)>-1:2===u&&(g=this.isLeapYear(h)?29:28);break;case this.months31.indexOf(u)>-1:default:g=31}return g}}]),J}(),Ft=function(J){Ae(h,Sn);var u=Ce(h);function h(){return K(this,h),u.apply(this,arguments)}return Ee(h,[{key:"draw",value:function(g,_){var x=this.w,A=new Pe(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=g,this.seriesRangeStart=x.globals.seriesRangeStart,this.seriesRangeEnd=x.globals.seriesRangeEnd,this.barHelpers.initVariables(g);for(var S=A.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),D=0;D<g.length;D++){var R,N,L,V=void 0,j=void 0,q=void 0,Y=x.globals.comboCharts?_[D]:D,$=A.group({class:"apexcharts-series",seriesName:de.escapeString(x.globals.seriesNames[Y]),rel:D+1,"data:realIndex":Y});g[D].length>0&&(this.visibleI=this.visibleI+1);var ne=0,se=0;this.yRatio.length>1&&(this.yaxisIndex=Y);var fe=this.barHelpers.initialPositions();j=fe.y,L=fe.zeroW,V=fe.x,se=fe.barWidth,R=fe.xDivision,N=fe.zeroH;for(var k=A.group({class:"apexcharts-datalabels","data:realIndex":Y}),H=A.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),Z=0;Z<x.globals.dataPoints;Z++){var ee=this.barHelpers.getStrokeWidth(D,Z,Y),pe=this.seriesRangeStart[D][Z],Fe=this.seriesRangeEnd[D][Z],Re=null,Qe=null,rt={x:V,y:j,strokeWidth:ee,elSeries:$};if(q=fe.yDivision,ne=fe.barHeight,this.isHorizontal){Qe=j+ne*this.visibleI;var dt=this.seriesLen;x.config.plotOptions.bar.rangeBarGroupRows&&(dt=1);var It=(q-ne*dt)/2;if(void 0===x.config.series[D].data[Z])break;if(this.isTimelineBar&&x.config.series[D].data[Z].x){var un=this.detectOverlappingBars({i:D,j:Z,barYPosition:Qe,srty:It,barHeight:ne,yDivision:q,initPositions:fe});ne=un.barHeight,Qe=un.barYPosition}se=(Re=this.drawRangeBarPaths(Se({indexes:{i:D,j:Z,realIndex:Y},barHeight:ne,barYPosition:Qe,zeroW:L,yDivision:q,y1:pe,y2:Fe},rt))).barWidth}else ne=(Re=this.drawRangeColumnPaths(Se({indexes:{i:D,j:Z,realIndex:Y},zeroH:N,barWidth:se,xDivision:R},rt))).barHeight;var St=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Qe,goalX:Re.goalX,goalY:Re.goalY,barHeight:ne,barWidth:se});St&&H.add(St),j=Re.y,V=Re.x;var Ht=this.barHelpers.getPathFillColor(g,D,Z,Y);this.renderSeries({realIndex:Y,pathFill:Ht,lineFill:x.globals.stroke.colors[Y],j:Z,i:D,x:V,y:j,y1:pe,y2:Fe,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:ee,elSeries:$,series:g,barHeight:ne,barYPosition:Qe,barWidth:se,elDataLabelsWrap:k,elGoalsMarkers:H,visibleSeries:this.visibleI,type:"rangebar"})}S.add($)}return S}},{key:"detectOverlappingBars",value:function(g){var _=g.i,x=g.j,A=g.barYPosition,S=g.srty,D=g.barHeight,R=g.yDivision,N=g.initPositions,L=this.w,V=[],j=L.config.series[_].data[x].rangeName,q=L.config.series[_].data[x].x,Y=L.globals.labels.indexOf(q),$=L.globals.seriesRangeBarTimeline[_].findIndex(function(ne){return ne.x===q&&ne.overlaps.length>0});return A=L.config.plotOptions.bar.rangeBarGroupRows?S+R*Y:S+D*this.visibleI+R*Y,$>-1&&!L.config.plotOptions.bar.rangeBarOverlap&&(V=L.globals.seriesRangeBarTimeline[_][$].overlaps).indexOf(j)>-1&&(A=(D=N.barHeight/V.length)*this.visibleI+R*(100-parseInt(this.barOptions.barHeight,10))/100/2+D*(this.visibleI+V.indexOf(j))+R*Y),{barYPosition:A,barHeight:D}}},{key:"drawRangeColumnPaths",value:function(g){var _=g.indexes,x=g.x,A=g.xDivision,S=g.barWidth,D=g.zeroH,R=this.w,N=_.i,L=_.j,V=this.yRatio[this.yaxisIndex],j=_.realIndex,q=this.getRangeValue(j,L),Y=Math.min(q.start,q.end),$=Math.max(q.start,q.end);R.globals.isXNumeric&&(x=(R.globals.seriesX[N][L]-R.globals.minX)/this.xRatio-S/2);var ne=x+S*this.visibleI;null==this.series[N][L]?Y=D:(Y=D-Y/V,$=D-$/V);var se=Math.abs($-Y),fe=this.barHelpers.getColumnPaths({barXPosition:ne,barWidth:S,y1:Y,y2:$,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:_.realIndex,i:j,j:L,w:R});return R.globals.isXNumeric||(x+=A),{pathTo:fe.pathTo,pathFrom:fe.pathFrom,barHeight:se,x,y:$,goalY:this.barHelpers.getGoalValues("y",null,D,N,L),barXPosition:ne}}},{key:"drawRangeBarPaths",value:function(g){var _=g.indexes,x=g.y,D=g.yDivision,R=g.barHeight,N=g.barYPosition,L=g.zeroW,V=this.w,j=L+g.y1/this.invertedYRatio,q=L+g.y2/this.invertedYRatio,Y=Math.abs(q-j),$=this.barHelpers.getBarpaths({barYPosition:N,barHeight:R,x1:j,x2:q,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:_.realIndex,realIndex:_.realIndex,j:_.j,w:V});return V.globals.isXNumeric||(x+=D),{pathTo:$.pathTo,pathFrom:$.pathFrom,barWidth:Y,x:q,goalX:this.barHelpers.getGoalValues("x",L,null,_.realIndex,_.j),y:x}}},{key:"getRangeValue",value:function(g,_){var x=this.w;return{start:x.globals.seriesRangeStart[g][_],end:x.globals.seriesRangeEnd[g][_]}}},{key:"getTooltipValues",value:function(g){var _=g.ctx,x=g.seriesIndex,A=g.dataPointIndex,S=g.y1,D=g.y2,R=g.w,N=R.globals.seriesRangeStart[x][A],L=R.globals.seriesRangeEnd[x][A],V=R.globals.labels[A],j=R.config.series[x].name?R.config.series[x].name:"",q=R.config.tooltip.y.formatter,Y=R.config.tooltip.y.title.formatter,$={w:R,seriesIndex:x,dataPointIndex:A,start:N,end:L};"function"==typeof Y&&(j=Y(j,$)),Number.isFinite(S)&&Number.isFinite(D)&&(N=S,L=D,R.config.series[x].data[A].x&&(V=R.config.series[x].data[A].x+":"),"function"==typeof q&&(V=q(V,$)));var ne="",se="",fe=R.globals.colors[x];if(void 0===R.config.tooltip.x.formatter)if("datetime"===R.config.xaxis.type){var k=new bt(_);ne=k.formatDate(k.getDate(N),R.config.tooltip.x.format),se=k.formatDate(k.getDate(L),R.config.tooltip.x.format)}else ne=N,se=L;else ne=R.config.tooltip.x.formatter(N),se=R.config.tooltip.x.formatter(L);return{start:N,end:L,startVal:ne,endVal:se,ylabel:V,color:fe,seriesName:j}}},{key:"buildCustomTooltipHTML",value:function(g){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+g.color+'">'+(g.seriesName||"")+'</span></div><div> <span class="category">'+g.ylabel+' </span> <span class="value start-value">'+g.start+'</span> <span class="separator">-</span> <span class="value end-value">'+g.end+"</span></div></div>"}}]),h}(),yt=function(){function J(u){K(this,J),this.opts=u}return Ee(J,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(u){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,de.extend(u,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var u=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(h){return u._getBoxTooltip(h.w,h.seriesIndex,h.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var u=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(h){return u._getBoxTooltip(h.w,h.seriesIndex,h.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(u,h){var g=h.seriesIndex,_=h.dataPointIndex,x=h.w;return x.globals.seriesRangeEnd[g][_]-x.globals.seriesRangeStart[g][_]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(u){return u.w.config.plotOptions&&u.w.config.plotOptions.bar&&u.w.config.plotOptions.bar.horizontal?(_=(g=new Ft((h=u).ctx,null)).getTooltipValues(h),g.buildCustomTooltipHTML({color:_.color,seriesName:_.seriesName,ylabel:_.ylabel,start:_.startVal,end:_.endVal})):function(h){var g=new Ft(h.ctx,null),_=g.getTooltipValues(h);return g.buildCustomTooltipHTML({color:_.color,seriesName:_.seriesName,ylabel:_.ylabel,start:_.start,end:_.end})}(u);var h,g,_}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(u){return de.extend(u,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(u){u.dataLabels=u.dataLabels||{},u.dataLabels.formatter=u.dataLabels.formatter||void 0;var h=u.dataLabels.formatter;return u.yaxis.forEach(function(g,_){u.yaxis[_].min=0,u.yaxis[_].max=100}),"bar"===u.chart.type&&(u.dataLabels.formatter=h||function(g){return"number"==typeof g&&g?g.toFixed(0)+"%":g}),u}},{key:"convertCatToNumeric",value:function(u){return u.xaxis.convertedCatToNumeric=!0,u}},{key:"convertCatToNumericXaxis",value:function(u,h,g){u.xaxis.type="numeric",u.xaxis.labels=u.xaxis.labels||{},u.xaxis.labels.formatter=u.xaxis.labels.formatter||function(A){return de.isNumber(A)?Math.floor(A):A};var _=u.xaxis.labels.formatter,x=u.xaxis.categories&&u.xaxis.categories.length?u.xaxis.categories:u.labels;return g&&g.length&&(x=g.map(function(A){return Array.isArray(A)?A:String(A)})),x&&x.length&&(u.xaxis.labels.formatter=function(A){return de.isNumber(A)?_(x[Math.floor(A)-1]):_(A)}),u.xaxis.categories=[],u.labels=[],u.xaxis.tickAmount=u.xaxis.tickAmount||"dataPoints",u}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(u){return u.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(u){return u.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(u){return u.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(u){return u},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(u,h,g,_,x){var A=u.globals.seriesCandleO[h][g],S=u.globals.seriesCandleH[h][g],D=u.globals.seriesCandleM[h][g],R=u.globals.seriesCandleL[h][g],N=u.globals.seriesCandleC[h][g];return u.config.series[h].type&&u.config.series[h].type!==x?'<div class="apexcharts-custom-tooltip">\n          '.concat(u.config.series[h].name?u.config.series[h].name:"series-"+(h+1),": <strong>").concat(u.globals.series[h][g],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(u.config.chart.type,'">')+"<div>".concat(_[0],': <span class="value">')+A+"</span></div>"+"<div>".concat(_[1],': <span class="value">')+S+"</span></div>"+(D?"<div>".concat(_[2],': <span class="value">')+D+"</span></div>":"")+"<div>".concat(_[3],': <span class="value">')+R+"</span></div>"+"<div>".concat(_[4],': <span class="value">')+N+"</span></div></div>"}}]),J}(),xt=function(){function J(u){K(this,J),this.opts=u}return Ee(J,[{key:"init",value:function(u){var h=u.responsiveOverride,g=this.opts,_=new _n,x=new yt(g);this.chartType=g.chart.type,"histogram"===this.chartType&&(g.chart.type="bar",g=de.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},g)),g=this.extendYAxis(g),g=this.extendAnnotations(g);var A=_.init(),S={};if(g&&"object"===Be(g)){var D={};D=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(g.chart.type)?x[g.chart.type]():x.line(),g.chart.brush&&g.chart.brush.enabled&&(D=x.brush(D)),g.chart.stacked&&"100%"===g.chart.stackType&&(g=x.stacked100(g)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(g),g.xaxis=g.xaxis||window.Apex.xaxis||{},h||(g.xaxis.convertedCatToNumeric=!1),((g=this.checkForCatToNumericXAxis(this.chartType,D,g)).chart.sparkline&&g.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(D=x.sparkline(D)),S=de.extend(A,D)}var R=de.extend(S,window.Apex);return A=de.extend(R,g),this.handleUserInputErrors(A)}},{key:"checkForCatToNumericXAxis",value:function(u,h,g){var _=new yt(g);return"bar"===u&&g.plotOptions&&g.plotOptions.bar&&g.plotOptions.bar.horizontal||"pie"===u||"polarArea"===u||"donut"===u||"radar"===u||"radialBar"===u||"heatmap"===u||!("datetime"!==g.xaxis.type&&"numeric"!==g.xaxis.type)||"between"===(g.xaxis.tickPlacement?g.xaxis.tickPlacement:h.xaxis&&h.xaxis.tickPlacement)||(g=_.convertCatToNumeric(g)),g}},{key:"extendYAxis",value:function(u,h){var g=new _n;(void 0===u.yaxis||!u.yaxis||Array.isArray(u.yaxis)&&0===u.yaxis.length)&&(u.yaxis={}),u.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(u.yaxis=de.extend(u.yaxis,window.Apex.yaxis)),u.yaxis=u.yaxis.constructor!==Array?[de.extend(g.yAxis,u.yaxis)]:de.extendArray(u.yaxis,g.yAxis);var _=!1;u.yaxis.forEach(function(A){A.logarithmic&&(_=!0)});var x=u.series;return h&&!x&&(x=h.config.series),_&&x.length!==u.yaxis.length&&x.length&&(u.yaxis=x.map(function(A,S){if(A.name||(x[S].name="series-".concat(S+1)),u.yaxis[S])return u.yaxis[S].seriesName=x[S].name,u.yaxis[S];var D=de.extend(g.yAxis,u.yaxis[0]);return D.show=!1,D})),_&&x.length>1&&x.length!==u.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),u}},{key:"extendAnnotations",value:function(u){return void 0===u.annotations&&(u.annotations={},u.annotations.yaxis=[],u.annotations.xaxis=[],u.annotations.points=[]),u=this.extendYAxisAnnotations(u),u=this.extendXAxisAnnotations(u),this.extendPointAnnotations(u)}},{key:"extendYAxisAnnotations",value:function(u){var h=new _n;return u.annotations.yaxis=de.extendArray(void 0!==u.annotations.yaxis?u.annotations.yaxis:[],h.yAxisAnnotation),u}},{key:"extendXAxisAnnotations",value:function(u){var h=new _n;return u.annotations.xaxis=de.extendArray(void 0!==u.annotations.xaxis?u.annotations.xaxis:[],h.xAxisAnnotation),u}},{key:"extendPointAnnotations",value:function(u){var h=new _n;return u.annotations.points=de.extendArray(void 0!==u.annotations.points?u.annotations.points:[],h.pointAnnotation),u}},{key:"checkForDarkTheme",value:function(u){u.theme&&"dark"===u.theme.mode&&(u.tooltip||(u.tooltip={}),"light"!==u.tooltip.theme&&(u.tooltip.theme="dark"),u.chart.foreColor||(u.chart.foreColor="#f6f7f8"),u.chart.background||(u.chart.background="#424242"),u.theme.palette||(u.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(u){var h=u;if(h.tooltip.shared&&h.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===h.chart.type&&h.plotOptions.bar.horizontal){if(h.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");h.yaxis[0].reversed&&(h.yaxis[0].opposite=!0),h.xaxis.tooltip.enabled=!1,h.yaxis[0].tooltip.enabled=!1,h.chart.zoom.enabled=!1}return"bar"!==h.chart.type&&"rangeBar"!==h.chart.type||h.tooltip.shared&&"barWidth"===h.xaxis.crosshairs.width&&h.series.length>1&&(h.xaxis.crosshairs.width="tickWidth"),"candlestick"!==h.chart.type&&"boxPlot"!==h.chart.type||h.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(h.chart.type," chart is not supported.")),h.yaxis[0].reversed=!1),h.chart.group&&0===h.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(h.stroke.width)&&"line"!==h.chart.type&&"area"!==h.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),h.stroke.width=h.stroke.width[0]),h}}]),J}(),Jt=function(){function J(){K(this,J)}return Ee(J,[{key:"initGlobalVars",value:function(u){u.series=[],u.seriesCandleO=[],u.seriesCandleH=[],u.seriesCandleM=[],u.seriesCandleL=[],u.seriesCandleC=[],u.seriesRangeStart=[],u.seriesRangeEnd=[],u.seriesRangeBarTimeline=[],u.seriesPercent=[],u.seriesGoals=[],u.seriesX=[],u.seriesZ=[],u.seriesNames=[],u.seriesTotals=[],u.seriesLog=[],u.seriesColors=[],u.stackedSeriesTotals=[],u.seriesXvalues=[],u.seriesYvalues=[],u.labels=[],u.categoryLabels=[],u.timescaleLabels=[],u.noLabelsProvided=!1,u.resizeTimer=null,u.selectionResizeTimer=null,u.delayedElements=[],u.pointsArray=[],u.dataLabelsRects=[],u.isXNumeric=!1,u.xaxisLabelsCount=0,u.skipLastTimelinelabel=!1,u.skipFirstTimelinelabel=!1,u.isDataXYZ=!1,u.isMultiLineX=!1,u.isMultipleYAxis=!1,u.maxY=-Number.MAX_VALUE,u.minY=Number.MIN_VALUE,u.minYArr=[],u.maxYArr=[],u.maxX=-Number.MAX_VALUE,u.minX=Number.MAX_VALUE,u.initialMaxX=-Number.MAX_VALUE,u.initialMinX=Number.MAX_VALUE,u.maxDate=0,u.minDate=Number.MAX_VALUE,u.minZ=Number.MAX_VALUE,u.maxZ=-Number.MAX_VALUE,u.minXDiff=Number.MAX_VALUE,u.yAxisScale=[],u.xAxisScale=null,u.xAxisTicksPositions=[],u.yLabelsCoords=[],u.yTitleCoords=[],u.barPadForNumericAxis=0,u.padHorizontal=0,u.xRange=0,u.yRange=[],u.zRange=0,u.dataPoints=0,u.xTickAmount=0}},{key:"globalVars",value:function(u){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:u.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===u.chart.toolbar.autoSelected&&u.chart.toolbar.tools.zoom&&u.chart.zoom.enabled,panEnabled:"pan"===u.chart.toolbar.autoSelected&&u.chart.toolbar.tools.pan,selectionEnabled:"selection"===u.chart.toolbar.autoSelected&&u.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(u){var h=this.globalVars(u);return this.initGlobalVars(h),h.initialConfig=de.extend({},u),h.initialSeries=de.clone(u.series),h.lastXAxis=de.clone(h.initialConfig.xaxis),h.lastYAxis=de.clone(h.initialConfig.yaxis),h}}]),J}(),Nn=function(){function J(u){K(this,J),this.opts=u}return Ee(J,[{key:"init",value:function(){var u=new xt(this.opts).init({responsiveOverride:!1});return{config:u,globals:(new Jt).init(u)}}}]),J}(),mn=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new vt(this.ctx)}return Ee(J,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var u=this.w.config.series.slice(),h=new Dt(this.ctx);if(this.activeSeriesIndex=h.getActiveConfigSeriesIndex(),void 0!==u[this.activeSeriesIndex].data&&u[this.activeSeriesIndex].data.length>0&&null!==u[this.activeSeriesIndex].data[0]&&void 0!==u[this.activeSeriesIndex].data[0].x&&null!==u[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var u=this.w.config.series.slice(),h=new Dt(this.ctx);if(this.activeSeriesIndex=h.getActiveConfigSeriesIndex(),void 0!==u[this.activeSeriesIndex].data&&u[this.activeSeriesIndex].data.length>0&&null!=u[this.activeSeriesIndex].data[0]&&u[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(u,h){for(var g=this.w.config,_=this.w.globals,x="boxPlot"===g.chart.type||"boxPlot"===g.series[h].type,A=0;A<u[h].data.length;A++)if(void 0!==u[h].data[A][1]&&(Array.isArray(u[h].data[A][1])&&4===u[h].data[A][1].length&&!x?this.twoDSeries.push(de.parseNumber(u[h].data[A][1][3])):this.twoDSeries.push(de.parseNumber(u[h].data[A].length>=5?u[h].data[A][4]:u[h].data[A][1])),_.dataFormatXNumeric=!0),"datetime"===g.xaxis.type){var S=new Date(u[h].data[A][0]);S=new Date(S).getTime(),this.twoDSeriesX.push(S)}else this.twoDSeriesX.push(u[h].data[A][0]);for(var D=0;D<u[h].data.length;D++)void 0!==u[h].data[D][2]&&(this.threeDSeries.push(u[h].data[D][2]),_.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(u,h){var g=this.w.config,_=this.w.globals,x=new bt(this.ctx),A=h;_.collapsedSeriesIndices.indexOf(h)>-1&&(A=this.activeSeriesIndex);for(var S=0;S<u[h].data.length;S++)void 0!==u[h].data[S].y&&(Array.isArray(u[h].data[S].y)?this.twoDSeries.push(de.parseNumber(u[h].data[S].y[u[h].data[S].y.length-1])):this.twoDSeries.push(de.parseNumber(u[h].data[S].y))),void 0!==u[h].data[S].goals&&Array.isArray(u[h].data[S].goals)?(void 0===this.seriesGoals[h]&&(this.seriesGoals[h]=[]),this.seriesGoals[h].push(u[h].data[S].goals)):(void 0===this.seriesGoals[h]&&(this.seriesGoals[h]=[]),this.seriesGoals[h].push(null));for(var D=0;D<u[A].data.length;D++){var R="string"==typeof u[A].data[D].x,N=Array.isArray(u[A].data[D].x),L=!N&&!!x.isValidDate(u[A].data[D].x.toString());R||L?R||g.xaxis.convertedCatToNumeric?"datetime"!==g.xaxis.type||_.isBarHorizontal&&_.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(u[A].data[D].x)):this.twoDSeriesX.push(x.parseDate(u[A].data[D].x)):"datetime"===g.xaxis.type?this.twoDSeriesX.push(x.parseDate(u[A].data[D].x.toString())):(_.dataFormatXNumeric=!0,_.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(u[A].data[D].x))):N?(this.fallbackToCategory=!0,this.twoDSeriesX.push(u[A].data[D].x)):(_.isXNumeric=!0,_.dataFormatXNumeric=!0,this.twoDSeriesX.push(u[A].data[D].x))}if(u[h].data[0]&&void 0!==u[h].data[0].z){for(var j=0;j<u[h].data.length;j++)this.threeDSeries.push(u[h].data[j].z);_.isDataXYZ=!0}}},{key:"handleRangeData",value:function(u,h){var g=this.w.config,_=this.w.globals,x={};return this.isFormat2DArray()?x=this.handleRangeDataFormat("array",u,h):this.isFormatXY()&&(x=this.handleRangeDataFormat("xy",u,h)),_.seriesRangeStart.push(x.start),_.seriesRangeEnd.push(x.end),"datetime"===g.xaxis.type&&_.seriesRangeBarTimeline.push(x.rangeUniques),_.seriesRangeBarTimeline.forEach(function(A,S){A&&A.forEach(function(D,R){D.y.forEach(function(N,L){for(var V=0;V<D.y.length;V++)L!==V&&N.y1<=D.y[V].y2&&D.y[V].y1<=N.y2&&(D.overlaps.indexOf(N.rangeName)<0&&D.overlaps.push(N.rangeName),D.overlaps.indexOf(D.y[V].rangeName)<0&&D.overlaps.push(D.y[V].rangeName))})})}),x}},{key:"handleCandleStickBoxData",value:function(u,h){var g=this.w.globals,_={};return this.isFormat2DArray()?_=this.handleCandleStickBoxDataFormat("array",u,h):this.isFormatXY()&&(_=this.handleCandleStickBoxDataFormat("xy",u,h)),g.seriesCandleO[h]=_.o,g.seriesCandleH[h]=_.h,g.seriesCandleM[h]=_.m,g.seriesCandleL[h]=_.l,g.seriesCandleC[h]=_.c,_}},{key:"handleRangeDataFormat",value:function(u,h,g){var _=[],x=[],A=h[g].data.filter(function(V,j,q){return j===q.findIndex(function(Y){return Y.x===V.x})}).map(function(V,j){return{x:V.x,overlaps:[],y:[]}}),S="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",D=new Dt(this.ctx).getActiveConfigSeriesIndex();if("array"===u){if(2!==h[D].data[0][1].length)throw new Error(S);for(var R=0;R<h[g].data.length;R++)_.push(h[g].data[R][1][0]),x.push(h[g].data[R][1][1])}else if("xy"===u){if(2!==h[D].data[0].y.length)throw new Error(S);for(var N=function(V){var j=de.randomId(),q=h[g].data[V].x,Y={y1:h[g].data[V].y[0],y2:h[g].data[V].y[1],rangeName:j};h[g].data[V].rangeName=j;var $=A.findIndex(function(ne){return ne.x===q});A[$].y.push(Y),_.push(Y.y1),x.push(Y.y2)},L=0;L<h[g].data.length;L++)N(L)}return{start:_,end:x,rangeUniques:A}}},{key:"handleCandleStickBoxDataFormat",value:function(u,h,g){var _=this.w,x="boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[g].type,A=[],S=[],D=[],R=[],N=[];if("array"===u)if(x&&6===h[g].data[0].length||!x&&5===h[g].data[0].length)for(var L=0;L<h[g].data.length;L++)A.push(h[g].data[L][1]),S.push(h[g].data[L][2]),x?(D.push(h[g].data[L][3]),R.push(h[g].data[L][4]),N.push(h[g].data[L][5])):(R.push(h[g].data[L][3]),N.push(h[g].data[L][4]));else for(var V=0;V<h[g].data.length;V++)Array.isArray(h[g].data[V][1])&&(A.push(h[g].data[V][1][0]),S.push(h[g].data[V][1][1]),x?(D.push(h[g].data[V][1][2]),R.push(h[g].data[V][1][3]),N.push(h[g].data[V][1][4])):(R.push(h[g].data[V][1][2]),N.push(h[g].data[V][1][3])));else if("xy"===u)for(var j=0;j<h[g].data.length;j++)Array.isArray(h[g].data[j].y)&&(A.push(h[g].data[j].y[0]),S.push(h[g].data[j].y[1]),x?(D.push(h[g].data[j].y[2]),R.push(h[g].data[j].y[3]),N.push(h[g].data[j].y[4])):(R.push(h[g].data[j].y[2]),N.push(h[g].data[j].y[3])));return{o:A,h:S,m:D,l:R,c:N}}},{key:"parseDataAxisCharts",value:function(u){var h=this,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,_=this.w.config,x=this.w.globals,A=new bt(g),S=_.labels.length>0?_.labels.slice():_.xaxis.categories.slice();x.isTimelineBar="rangeBar"===_.chart.type&&"datetime"===_.xaxis.type;for(var D=function(){for(var L=0;L<S.length;L++)if("string"==typeof S[L]){if(!A.isValidDate(S[L]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");h.twoDSeriesX.push(A.parseDate(S[L]))}else h.twoDSeriesX.push(S[L])},R=0;R<u.length;R++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===u[R].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==_.chart.type&&"rangeArea"!==_.chart.type&&"rangeBar"!==u[R].type&&"rangeArea"!==u[R].type||(x.isRangeData=!0,this.handleRangeData(u,R)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(u,R):this.isFormatXY()&&this.handleFormatXY(u,R),"candlestick"!==_.chart.type&&"candlestick"!==u[R].type&&"boxPlot"!==_.chart.type&&"boxPlot"!==u[R].type||this.handleCandleStickBoxData(u,R),x.series.push(this.twoDSeries),x.labels.push(this.twoDSeriesX),x.seriesX.push(this.twoDSeriesX),x.seriesGoals=this.seriesGoals,R!==this.activeSeriesIndex||this.fallbackToCategory||(x.isXNumeric=!0);else{"datetime"===_.xaxis.type?(x.isXNumeric=!0,D(),x.seriesX.push(this.twoDSeriesX)):"numeric"===_.xaxis.type&&(x.isXNumeric=!0,S.length>0&&(this.twoDSeriesX=S,x.seriesX.push(this.twoDSeriesX))),x.labels.push(this.twoDSeriesX);var N=u[R].data.map(function(L){return de.parseNumber(L)});x.series.push(N)}x.seriesZ.push(this.threeDSeries),x.seriesNames.push(void 0!==u[R].name?u[R].name:"series-"+parseInt(R+1,10)),x.seriesColors.push(void 0!==u[R].color?u[R].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(u){var h=this.w.globals,g=this.w.config;h.series=u.slice(),h.seriesNames=g.labels.slice();for(var _=0;_<h.series.length;_++)void 0===h.seriesNames[_]&&h.seriesNames.push("series-"+(_+1));return this.w}},{key:"handleExternalLabelsData",value:function(u){var h=this.w.config,g=this.w.globals;h.xaxis.categories.length>0?g.labels=h.xaxis.categories:h.labels.length>0?g.labels=h.labels.slice():this.fallbackToCategory?(g.labels=g.labels[0],g.seriesRangeBarTimeline.length&&(g.seriesRangeBarTimeline.map(function(_){_.forEach(function(x){g.labels.indexOf(x.x)<0&&x.x&&g.labels.push(x.x)})}),g.labels=g.labels.filter(function(_,x,A){return A.indexOf(_)===x})),h.xaxis.convertedCatToNumeric&&(new yt(h).convertCatToNumericXaxis(h,this.ctx,g.seriesX[0]),this._generateExternalLabels(u))):this._generateExternalLabels(u)}},{key:"_generateExternalLabels",value:function(u){var h=this.w.globals,g=this.w.config,_=[];if(h.axisCharts){if(h.series.length>0)for(var x=0;x<h.series[h.maxValsInArrayIndex].length;x++)_.push(x+1);h.seriesX=[];for(var A=0;A<u.length;A++)h.seriesX.push(_);h.isXNumeric=!0}if(0===_.length){_=h.axisCharts?[]:h.series.map(function(D,R){return R+1});for(var S=0;S<u.length;S++)h.seriesX.push(_)}h.labels=_,g.xaxis.convertedCatToNumeric&&(h.categoryLabels=_.map(function(D){return g.xaxis.labels.formatter(D)})),h.noLabelsProvided=!0}},{key:"parseData",value:function(u){var h=this.w,g=h.config,_=h.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),_.axisCharts?this.parseDataAxisCharts(u):this.parseDataNonAxisCharts(u),this.coreUtils.getLargestSeries(),"bar"===g.chart.type&&g.chart.stacked){var x=new Dt(this.ctx);_.series=x.setNullSeriesToZeroValues(_.series)}this.coreUtils.getSeriesTotals(),_.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),_.dataFormatXNumeric||_.isXNumeric&&("numeric"!==g.xaxis.type||0!==g.labels.length||0!==g.xaxis.categories.length)||this.handleExternalLabelsData(u);for(var A=this.coreUtils.getCategoryLabels(_.labels),S=0;S<A.length;S++)if(Array.isArray(A[S])){_.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var u=this,h=this.w;h.globals.ignoreYAxisIndexes=h.globals.collapsedSeries.map(function(g,_){if(u.w.globals.isMultipleYAxis&&!h.config.chart.stacked)return g.index})}}]),J}(),Ji=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.tooltipKeyFormat="dd MMM"}return Ee(J,[{key:"xLabelFormat",value:function(u,h,g,_){var x=this.w;if("datetime"===x.config.xaxis.type&&void 0===x.config.xaxis.labels.formatter&&void 0===x.config.tooltip.x.formatter){var A=new bt(this.ctx);return A.formatDate(A.getDate(h),x.config.tooltip.x.format)}return u(h,g,_)}},{key:"defaultGeneralFormatter",value:function(u){return Array.isArray(u)?u.map(function(h){return h}):u}},{key:"defaultYFormatter",value:function(u,h,g){var _=this.w;return de.isNumber(u)&&(u=u.toFixed(0!==_.globals.yValueDecimal?void 0!==h.decimalsInFloat?h.decimalsInFloat:_.globals.yValueDecimal:_.globals.maxYArr[g]-_.globals.minYArr[g]<5?1:0)),u}},{key:"setLabelFormatters",value:function(){var u=this,h=this.w;return h.globals.xaxisTooltipFormatter=function(g){return u.defaultGeneralFormatter(g)},h.globals.ttKeyFormatter=function(g){return u.defaultGeneralFormatter(g)},h.globals.ttZFormatter=function(g){return g},h.globals.legendFormatter=function(g){return u.defaultGeneralFormatter(g)},h.globals.xLabelFormatter=void 0!==h.config.xaxis.labels.formatter?h.config.xaxis.labels.formatter:function(g){if(de.isNumber(g)){if(!h.config.xaxis.convertedCatToNumeric&&"numeric"===h.config.xaxis.type){if(de.isNumber(h.config.xaxis.decimalsInFloat))return g.toFixed(h.config.xaxis.decimalsInFloat);var _=h.globals.maxX-h.globals.minX;return g.toFixed(_>0&&_<100?1:0)}return g.toFixed(h.globals.isBarHorizontal&&h.globals.maxY-h.globals.minYArr<4?1:0)}return g},h.globals.ttKeyFormatter="function"==typeof h.config.tooltip.x.formatter?h.config.tooltip.x.formatter:h.globals.xLabelFormatter,"function"==typeof h.config.xaxis.tooltip.formatter&&(h.globals.xaxisTooltipFormatter=h.config.xaxis.tooltip.formatter),(Array.isArray(h.config.tooltip.y)||void 0!==h.config.tooltip.y.formatter)&&(h.globals.ttVal=h.config.tooltip.y),void 0!==h.config.tooltip.z.formatter&&(h.globals.ttZFormatter=h.config.tooltip.z.formatter),void 0!==h.config.legend.formatter&&(h.globals.legendFormatter=h.config.legend.formatter),h.config.yaxis.forEach(function(g,_){h.globals.yLabelFormatters[_]=void 0!==g.labels.formatter?g.labels.formatter:function(x){return h.globals.xyCharts?Array.isArray(x)?x.map(function(A){return u.defaultYFormatter(A,g,_)}):u.defaultYFormatter(x,g,_):x}}),h.globals}},{key:"heatmapLabelFormatters",value:function(){var u=this.w;if("heatmap"===u.config.chart.type){u.globals.yAxisScale[0].result=u.globals.seriesNames.slice();var h=u.globals.seriesNames.reduce(function(g,_){return g.length>_.length?g:_},0);u.globals.yAxisScale[0].niceMax=h,u.globals.yAxisScale[0].niceMin=h}}}]),J}(),Rn=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"getLabel",value:function(u,h,g,_){var x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",S=this.w,D=void 0===u[_]?"":u[_],R=D,N=S.globals.xLabelFormatter,L=S.config.xaxis.labels.formatter,V=!1,j=new Ji(this.ctx),q=D;R=j.xLabelFormat(N,D,q,{i:_,dateFormatter:new bt(this.ctx).formatDate,w:S}),void 0!==L&&(R=L(D,u[_],{i:_,dateFormatter:new bt(this.ctx).formatDate,w:S}));var Y=function(fe){var k=null;return h.forEach(function(H){"month"===H.unit?k="year":"day"===H.unit?k="month":"hour"===H.unit?k="day":"minute"===H.unit&&(k="hour")}),k===fe};h.length>0?(V=Y(h[_].unit),g=h[_].position,R=h[_].value):"datetime"===S.config.xaxis.type&&void 0===L&&(R=""),void 0===R&&(R=""),R=Array.isArray(R)?R:R.toString();var $=new Pe(this.ctx),ne={};ne=S.globals.rotateXLabels?$.getTextRects(R,parseInt(A,10),null,"rotate(".concat(S.config.xaxis.labels.rotate," 0 0)"),!1):$.getTextRects(R,parseInt(A,10));var se=!S.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(R)&&(0===R.indexOf("NaN")||0===R.toLowerCase().indexOf("invalid")||R.toLowerCase().indexOf("infinity")>=0||x.indexOf(R)>=0&&se)&&(R=""),{x:g,text:R,textRect:ne,isBold:V}}},{key:"checkLabelBasedOnTickamount",value:function(u,h,g){var _=this.w,x=_.config.xaxis.tickAmount;return"dataPoints"===x&&(x=Math.round(_.globals.gridWidth/120)),x>g||u%Math.round(g/(x+1))==0||(h.text=""),h}},{key:"checkForOverflowingLabels",value:function(u,h,g,_,x){var A=this.w;if(0===u&&A.globals.skipFirstTimelinelabel&&(h.text=""),u===g-1&&A.globals.skipLastTimelinelabel&&(h.text=""),A.config.xaxis.labels.hideOverlappingLabels&&_.length>0){var S=x[x.length-1];h.x<S.textRect.width/(A.globals.rotateXLabels?Math.abs(A.config.xaxis.labels.rotate)/12:1.01)+S.x&&(h.text="")}return h}},{key:"checkForReversedLabels",value:function(u,h){var g=this.w;return g.config.yaxis[u]&&g.config.yaxis[u].reversed&&h.reverse(),h}},{key:"isYAxisHidden",value:function(u){var h=this.w,g=new vt(this.ctx);return!h.config.yaxis[u].show||!h.config.yaxis[u].showForNullSeries&&g.isSeriesNull(u)&&-1===h.globals.collapsedSeriesIndices.indexOf(u)}},{key:"getYAxisForeColor",value:function(u,h){var g=this.w;return Array.isArray(u)&&g.globals.yAxisScale[h]&&this.ctx.theme.pushExtraColors(u,g.globals.yAxisScale[h].result.length,!1),u}},{key:"drawYAxisTicks",value:function(u,h,g,_,x,A,S){var D=this.w,R=new Pe(this.ctx),N=D.globals.translateY;if(_.show&&h>0){!0===D.config.yaxis[x].opposite&&(u+=_.width);for(var L=h;L>=0;L--){var V=N+h/10+D.config.yaxis[x].labels.offsetY-1;D.globals.isBarHorizontal&&(V=A*L),"heatmap"===D.config.chart.type&&(V+=A/2);var j=R.drawLine(u+g.offsetX-_.width+_.offsetX,V+_.offsetY,u+g.offsetX+_.offsetX,V+_.offsetY,_.color);S.add(j),N+=A}}}}]),J}(),fi=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"scaleSvgNode",value:function(u,h){var g=parseFloat(u.getAttributeNS(null,"width")),_=parseFloat(u.getAttributeNS(null,"height"));u.setAttributeNS(null,"width",g*h),u.setAttributeNS(null,"height",_*h),u.setAttributeNS(null,"viewBox","0 0 "+g+" "+_)}},{key:"fixSvgStringForIe11",value:function(u){if(!de.isIE11())return u;var h=0,g=u.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(_){return 2==++h?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':_});return(g=g.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(u){var h=this.w.globals.dom.Paper.svg();if(1!==u){var g=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(g,u),h=(new XMLSerializer).serializeToString(g)}return this.fixSvgStringForIe11(h)}},{key:"cleanup",value:function(){var u=this.w,h=u.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),g=u.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),_=u.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(_,function(x){x.setAttribute("width",0)}),h&&h[0]&&(h[0].setAttribute("x",-500),h[0].setAttribute("x1",-500),h[0].setAttribute("x2",-500)),g&&g[0]&&(g[0].setAttribute("y",-100),g[0].setAttribute("y1",-100),g[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var u=this.getSvgString(),h=new Blob([u],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(h)}},{key:"dataURI",value:function(u){var h=this;return new Promise(function(g){var _=h.w,x=u?u.scale||u.width/_.globals.svgWidth:1;h.cleanup();var A=document.createElement("canvas");A.width=_.globals.svgWidth*x,A.height=parseInt(_.globals.dom.elWrap.style.height,10)*x;var S="transparent"===_.config.chart.background?"#fff":_.config.chart.background,D=A.getContext("2d");D.fillStyle=S,D.fillRect(0,0,A.width*x,A.height*x);var R=h.getSvgString(x);if(window.canvg&&de.isIE11()){var N=window.canvg.Canvg.fromString(D,R,{ignoreClear:!0,ignoreDimensions:!0});N.start();var L=A.msToBlob();N.stop(),g({blob:L})}else{var V="data:image/svg+xml,"+encodeURIComponent(R),j=new Image;j.crossOrigin="anonymous",j.onload=function(){if(D.drawImage(j,0,0),A.msToBlob){var q=A.msToBlob();g({blob:q})}else{var Y=A.toDataURL("image/png");g({imgURI:Y})}},j.src=V}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var u=this;this.dataURI().then(function(h){var g=h.imgURI,_=h.blob;_?navigator.msSaveOrOpenBlob(_,u.w.globals.chartID+".png"):u.triggerDownload(g,u.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(u){var h=this,g=u.series,_=u.columnDelimiter,x=u.lineDelimiter,A=void 0===x?"\n":x,S=this.w,D=[],R=[],N="data:text/csv;charset=utf-8,\ufeff",L=new mn(this.ctx),V=new Rn(this.ctx),j=function(q){var Y="";if(S.globals.axisCharts){if("category"===S.config.xaxis.type||S.config.xaxis.convertedCatToNumeric)if(S.globals.isBarHorizontal){var $=S.globals.yLabelFormatters[0],ne=new Dt(h.ctx).getActiveConfigSeriesIndex();Y=$(S.globals.labels[q],{seriesIndex:ne,dataPointIndex:q,w:S})}else Y=V.getLabel(S.globals.labels,S.globals.timescaleLabels,0,q).text;"datetime"===S.config.xaxis.type&&(S.config.xaxis.categories.length?Y=S.config.xaxis.categories[q]:S.config.labels.length&&(Y=S.config.labels[q]))}else Y=S.config.labels[q];return Array.isArray(Y)&&(Y=Y.join(" ")),de.isNumber(Y)?Y:Y.split(_).join("")};D.push(S.config.chart.toolbar.export.csv.headerCategory),g.map(function(q,Y){var $=q.name?q.name:"series-".concat(Y);S.globals.axisCharts&&D.push($.split(_).join("")?$.split(_).join(""):"series-".concat(Y))}),S.globals.axisCharts||(D.push(S.config.chart.toolbar.export.csv.headerValue),R.push(D.join(_))),g.map(function(q,Y){S.globals.axisCharts?function($,ne){if(D.length&&0===ne&&R.push(D.join(_)),$.data&&$.data.length)for(var se=0;se<$.data.length;se++){D=[];var fe=j(se);if(fe||(L.isFormatXY()?fe=g[ne].data[se].x:L.isFormat2DArray()&&(fe=g[ne].data[se]?g[ne].data[se][0]:"")),0===ne){D.push("datetime"===S.config.xaxis.type&&String(fe).length>=10?S.config.chart.toolbar.export.csv.dateFormatter(fe):de.isNumber(fe)?fe:fe.split(_).join(""));for(var k=0;k<S.globals.series.length;k++)D.push(S.globals.series[k][se])}("candlestick"===S.config.chart.type||$.type&&"candlestick"===$.type)&&(D.pop(),D.push(S.globals.seriesCandleO[ne][se]),D.push(S.globals.seriesCandleH[ne][se]),D.push(S.globals.seriesCandleL[ne][se]),D.push(S.globals.seriesCandleC[ne][se])),("boxPlot"===S.config.chart.type||$.type&&"boxPlot"===$.type)&&(D.pop(),D.push(S.globals.seriesCandleO[ne][se]),D.push(S.globals.seriesCandleH[ne][se]),D.push(S.globals.seriesCandleM[ne][se]),D.push(S.globals.seriesCandleL[ne][se]),D.push(S.globals.seriesCandleC[ne][se])),"rangeBar"===S.config.chart.type&&(D.pop(),D.push(S.globals.seriesRangeStart[ne][se]),D.push(S.globals.seriesRangeEnd[ne][se])),D.length&&R.push(D.join(_))}}(q,Y):((D=[]).push(S.globals.labels[Y].split(_).join("")),D.push(S.globals.series[Y]),R.push(D.join(_)))}),N+=R.join(A),this.triggerDownload(encodeURI(N),S.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(u,h,g){var _=document.createElement("a");_.href=u,_.download=(h||this.w.globals.chartID)+g,document.body.appendChild(_),_.click(),document.body.removeChild(_)}}]),J}(),er=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.axesUtils=new Rn(u),this.xaxisLabels=h.globals.labels.slice(),h.globals.timescaleLabels.length>0&&!h.globals.isBarHorizontal&&(this.xaxisLabels=h.globals.timescaleLabels.slice()),h.config.xaxis.overwriteCategories&&(this.xaxisLabels=h.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===h.config.xaxis.position?0:h.globals.gridHeight+1,this.offY=this.offY+h.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===h.config.chart.type&&h.config.plotOptions.bar.horizontal,this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.xaxisBorderWidth=h.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=h.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?h.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=h.config.xaxis.axisBorder.height,this.yaxis=h.config.yaxis[0]}return Ee(J,[{key:"drawXaxis",value:function(){var u,h=this,g=this.w,_=new Pe(this.ctx),x=_.group({class:"apexcharts-xaxis",transform:"translate(".concat(g.config.xaxis.offsetX,", ").concat(g.config.xaxis.offsetY,")")}),A=_.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(g.globals.translateXAxisX,", ").concat(g.globals.translateXAxisY,")")});x.add(A);for(var S=g.globals.padHorizontal,D=[],R=0;R<this.xaxisLabels.length;R++)D.push(this.xaxisLabels[R]);var N=D.length;S=g.globals.isXNumeric?S+(u=g.globals.gridWidth/(N>1?N-1:N))/2+g.config.xaxis.labels.offsetX:S+(u=g.globals.gridWidth/D.length)+g.config.xaxis.labels.offsetX;for(var V=function(se){var fe=S-u/2+g.config.xaxis.labels.offsetX;0===se&&1===N&&u/2===S&&1===g.globals.dataPoints&&(fe=g.globals.gridWidth/2);var k=h.axesUtils.getLabel(D,g.globals.timescaleLabels,fe,se,h.drawnLabels,h.xaxisFontSize),H=28;if(g.globals.rotateXLabels&&(H=22),(k=void 0!==g.config.xaxis.tickAmount&&"dataPoints"!==g.config.xaxis.tickAmount&&"datetime"!==g.config.xaxis.type?h.axesUtils.checkLabelBasedOnTickamount(se,k,N):h.axesUtils.checkForOverflowingLabels(se,k,N,h.drawnLabels,h.drawnLabelsRects)).text&&g.globals.xaxisLabelsCount++,g.config.xaxis.labels.show){var Z=_.drawText({x:k.x,y:h.offY+g.config.xaxis.labels.offsetY+H-("top"===g.config.xaxis.position?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:k.text,textAnchor:"middle",fontWeight:k.isBold?600:g.config.xaxis.labels.style.fontWeight,fontSize:h.xaxisFontSize,fontFamily:h.xaxisFontFamily,foreColor:Array.isArray(h.xaxisForeColors)?g.config.xaxis.convertedCatToNumeric?h.xaxisForeColors[g.globals.minX+se-1]:h.xaxisForeColors[se]:h.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+g.config.xaxis.labels.style.cssClass});A.add(Z);var ee=document.createElementNS(g.globals.SVGNS,"title");ee.textContent=Array.isArray(k.text)?k.text.join(" "):k.text,Z.node.appendChild(ee),""!==k.text&&(h.drawnLabels.push(k.text),h.drawnLabelsRects.push(k))}S+=u},j=0;j<=N-1;j++)V(j);if(void 0!==g.config.xaxis.title.text){var q=_.group({class:"apexcharts-xaxis-title"}),Y=_.drawText({x:g.globals.gridWidth/2+g.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+g.globals.xAxisLabelsHeight+g.config.xaxis.title.offsetY,text:g.config.xaxis.title.text,textAnchor:"middle",fontSize:g.config.xaxis.title.style.fontSize,fontFamily:g.config.xaxis.title.style.fontFamily,fontWeight:g.config.xaxis.title.style.fontWeight,foreColor:g.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+g.config.xaxis.title.style.cssClass});q.add(Y),x.add(q)}if(g.config.xaxis.axisBorder.show){var $=g.globals.barPadForNumericAxis,ne=_.drawLine(g.globals.padHorizontal+g.config.xaxis.axisBorder.offsetX-$,this.offY,this.xaxisBorderWidth+$,this.offY,g.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);x.add(ne)}return x}},{key:"drawXaxisInversed",value:function(u){var h,g,_=this,x=this.w,A=new Pe(this.ctx),S=x.config.yaxis[0].opposite?x.globals.translateYAxisX[u]:0,D=A.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:u}),R=A.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+S+", 0)"});D.add(R);var N=[];if(x.config.yaxis[u].show)for(var L=0;L<this.xaxisLabels.length;L++)N.push(this.xaxisLabels[L]);g=-(h=x.globals.gridHeight/N.length)/2.2;var V=x.globals.yLabelFormatters[0],j=x.config.yaxis[0].labels;if(j.show)for(var q=function(H){var Z=void 0===N[H]?"":N[H];Z=V(Z,{seriesIndex:u,dataPointIndex:H,w:x});var ee=_.axesUtils.getYAxisForeColor(j.style.colors,u),pe=0;Array.isArray(Z)&&(pe=Z.length/2*parseInt(j.style.fontSize,10));var Fe=A.drawText({x:j.offsetX-15,y:g+h+j.offsetY-pe,text:Z,textAnchor:_.yaxis.opposite?"start":"end",foreColor:Array.isArray(ee)?ee[H]:ee,fontSize:j.style.fontSize,fontFamily:j.style.fontFamily,fontWeight:j.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+j.style.cssClass});R.add(Fe);var Re=document.createElementNS(x.globals.SVGNS,"title");if(Re.textContent=Array.isArray(Z)?Z.join(" "):Z,Fe.node.appendChild(Re),0!==x.config.yaxis[u].labels.rotate){var Qe=A.rotateAroundCenter(Fe.node);Fe.node.setAttribute("transform","rotate(".concat(x.config.yaxis[u].labels.rotate," 0 ").concat(Qe.y,")"))}g+=h},Y=0;Y<=N.length-1;Y++)q(Y);if(void 0!==x.config.yaxis[0].title.text){var $=A.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+S+", 0)"}),ne=A.drawText({x:0,y:x.globals.gridHeight/2,text:x.config.yaxis[0].title.text,textAnchor:"middle",foreColor:x.config.yaxis[0].title.style.color,fontSize:x.config.yaxis[0].title.style.fontSize,fontWeight:x.config.yaxis[0].title.style.fontWeight,fontFamily:x.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+x.config.yaxis[0].title.style.cssClass});$.add(ne),D.add($)}var se=0;this.isCategoryBarHorizontal&&x.config.yaxis[0].opposite&&(se=x.globals.gridWidth);var fe=x.config.xaxis.axisBorder;if(fe.show){var k=A.drawLine(x.globals.padHorizontal+fe.offsetX+se,1+fe.offsetY,x.globals.padHorizontal+fe.offsetX+se,x.globals.gridHeight+fe.offsetY,fe.color,0);D.add(k)}return x.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(se,N.length,x.config.yaxis[0].axisBorder,x.config.yaxis[0].axisTicks,0,h,D),D}},{key:"drawXaxisTicks",value:function(u,h){var g=this.w,_=u;if(!(u<0||u-2>g.globals.gridWidth)){var x=this.offY+g.config.xaxis.axisTicks.offsetY,A=x+g.config.xaxis.axisTicks.height;if("top"===g.config.xaxis.position&&(A=x-g.config.xaxis.axisTicks.height),g.config.xaxis.axisTicks.show){var S=new Pe(this.ctx).drawLine(u+g.config.xaxis.axisTicks.offsetX,x+g.config.xaxis.offsetY,_+g.config.xaxis.axisTicks.offsetX,A+g.config.xaxis.offsetY,g.config.xaxis.axisTicks.color);h.add(S),S.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var u=this.w,h=[],g=this.xaxisLabels.length,_=u.globals.padHorizontal;if(u.globals.timescaleLabels.length>0)for(var x=0;x<g;x++)h.push(_=this.xaxisLabels[x].position);else for(var A=g,S=0;S<A;S++){var D=A;u.globals.isXNumeric&&"bar"!==u.config.chart.type&&(D-=1),h.push(_+=u.globals.gridWidth/D)}return h}},{key:"xAxisLabelCorrections",value:function(){var u=this.w,h=new Pe(this.ctx),g=u.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),_=u.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),x=u.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),A=u.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(u.globals.rotateXLabels||u.config.xaxis.labels.rotateAlways)for(var S=0;S<_.length;S++){var D=h.rotateAroundCenter(_[S]);D.y=D.y-1,D.x=D.x+1,_[S].setAttribute("transform","rotate(".concat(u.config.xaxis.labels.rotate," ").concat(D.x," ").concat(D.y,")")),_[S].setAttribute("text-anchor","end"),g.setAttribute("transform","translate(0, ".concat(-10,")")),u.config.xaxis.labels.trim&&Array.prototype.forEach.call(_[S].childNodes,function(j){h.placeTextWithEllipsis(j,j.textContent,u.globals.xAxisLabelsHeight-("bottom"===u.config.legend.position?20:10))})}else!function(){for(var j=u.globals.gridWidth/(u.globals.labels.length+1),q=0;q<_.length;q++)u.config.xaxis.labels.trim&&"datetime"!==u.config.xaxis.type&&Array.prototype.forEach.call(_[q].childNodes,function($){h.placeTextWithEllipsis($,$.textContent,j)})}();if(x.length>0){var N=x[x.length-1].getBBox(),L=x[0].getBBox();N.x<-20&&x[x.length-1].parentNode.removeChild(x[x.length-1]),L.x+L.width>u.globals.gridWidth&&!u.globals.isBarHorizontal&&x[0].parentNode.removeChild(x[0]);for(var V=0;V<A.length;V++)h.placeTextWithEllipsis(A[V],A[V].textContent,u.config.yaxis[0].labels.maxWidth-2*parseFloat(u.config.yaxis[0].title.style.fontSize)-20)}}}]),J}(),pa=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.xaxisLabels=h.globals.labels.slice(),this.axesUtils=new Rn(u),this.isTimelineBar="datetime"===h.config.xaxis.type&&h.globals.seriesRangeBarTimeline.length,h.globals.timescaleLabels.length>0&&(this.xaxisLabels=h.globals.timescaleLabels.slice())}return Ee(J,[{key:"drawGridArea",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=this.w,g=new Pe(this.ctx);null===u&&(u=g.group({class:"apexcharts-grid"}));var _=g.drawLine(h.globals.padHorizontal,1,h.globals.padHorizontal,h.globals.gridHeight,"transparent"),x=g.drawLine(h.globals.padHorizontal,h.globals.gridHeight,h.globals.gridWidth,h.globals.gridHeight,"transparent");return u.add(x),u.add(_),u}},{key:"drawGrid",value:function(){var u=null;return this.w.globals.axisCharts&&(u=this.renderGrid(),this.drawGridArea(u.el)),u}},{key:"createGridMask",value:function(){var u=this.w,h=u.globals,g=new Pe(this.ctx),_=Array.isArray(u.config.stroke.width)?0:u.config.stroke.width;if(Array.isArray(u.config.stroke.width)){var x=0;u.config.stroke.width.forEach(function(L){x=Math.max(x,L)}),_=x}h.dom.elGridRectMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(h.cuid)),h.dom.elGridRectMarkerMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(h.cuid)),h.dom.elForecastMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elForecastMask.setAttribute("id","forecastMask".concat(h.cuid)),h.dom.elNonForecastMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(h.cuid));var A=u.config.chart.type,S=0,D=0;("bar"===A||"rangeBar"===A||"candlestick"===A||"boxPlot"===A||u.globals.comboBarCount>0)&&u.globals.isXNumeric&&!u.globals.isBarHorizontal&&(D=u.config.grid.padding.right,h.barPadForNumericAxis>(S=u.config.grid.padding.left)&&(S=h.barPadForNumericAxis,D=h.barPadForNumericAxis)),h.dom.elGridRect=g.drawRect(-_/2-S-2,-_/2,h.gridWidth+_+D+S+4,h.gridHeight+_,0,"#fff"),new vt(this).getLargestMarkerSize();var R=u.globals.markers.largestSize+1;h.dom.elGridRectMarker=g.drawRect(2*-R,2*-R,h.gridWidth+4*R,h.gridHeight+4*R,0,"#fff"),h.dom.elGridRectMask.appendChild(h.dom.elGridRect.node),h.dom.elGridRectMarkerMask.appendChild(h.dom.elGridRectMarker.node);var N=h.dom.baseEl.querySelector("defs");N.appendChild(h.dom.elGridRectMask),N.appendChild(h.dom.elForecastMask),N.appendChild(h.dom.elNonForecastMask),N.appendChild(h.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(u){var h=u.i,g=u.x1,R=this.w;0===h&&R.globals.skipFirstTimelinelabel||h===u.xCount-1&&R.globals.skipLastTimelinelabel&&!R.config.xaxis.labels.formatter||"radar"===R.config.chart.type||(R.config.grid.xaxis.lines.show&&this._drawGridLine({x1:g,y1:u.y1,x2:u.x2,y2:u.y2,parent:u.parent}),new er(this.ctx).drawXaxisTicks(g,this.elg))}},{key:"_drawGridLine",value:function(u){var h=u.x1,g=u.y1,_=u.x2,x=u.y2,A=u.parent,S=this.w,D=A.node.classList.contains("apexcharts-gridlines-horizontal"),R=S.config.grid.strokeDashArray,N=S.globals.barPadForNumericAxis,L=new Pe(this).drawLine(h-(D?N:0),g,_+(D?N:0),x,S.config.grid.borderColor,R);L.node.classList.add("apexcharts-gridline"),A.add(L)}},{key:"_drawGridBandRect",value:function(u){var h=u.c,g=u.x1,_=u.y1,x=u.x2,A=u.y2,S=u.type,D=this.w,R=new Pe(this.ctx),N=D.globals.barPadForNumericAxis;if("column"!==S||"datetime"!==D.config.xaxis.type){var V=R.drawRect(g-("row"===S?N:0),_,x+("row"===S?2*N:0),A,0,D.config.grid[S].colors[h],D.config.grid[S].opacity);this.elg.add(V),V.attr("clip-path","url(#gridRectMask".concat(D.globals.cuid,")")),V.node.classList.add("apexcharts-grid-".concat(S))}}},{key:"_drawXYLines",value:function(u){var h=this,g=u.xCount,_=u.tickAmount,x=this.w;if(x.config.grid.xaxis.lines.show||x.config.xaxis.axisTicks.show){var A,S=x.globals.padHorizontal,D=x.globals.gridHeight;x.globals.timescaleLabels.length?function(q){for(var Y=q.xC,ne=q.y1,fe=q.y2,k=0;k<Y;k++)h._drawGridLines({i:k,x1:h.xaxisLabels[k].position,y1:ne,x2:h.xaxisLabels[k].position,y2:fe,xCount:g,parent:h.elgridLinesV})}({xC:g,x1:S,y1:0,x2:A,y2:D}):(x.globals.isXNumeric&&(g=x.globals.xAxisScale.result.length),x.config.xaxis.convertedCatToNumeric&&(g=x.globals.xaxisLabelsCount),function(q){var Y=q.xC,$=q.x1,ne=q.y1,se=q.x2,fe=q.y2;if(void 0!==x.config.xaxis.tickAmount&&"dataPoints"!==x.config.xaxis.tickAmount)x.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(H,Z){var ee=H.getBBox();h._drawGridLines({i:Z,x1:ee.x+ee.width/2,y1:ne,x2:ee.x+ee.width/2,y2:fe,xCount:g,parent:h.elgridLinesV})});else for(var k=0;k<Y+(x.globals.isXNumeric?0:1);k++)0===k&&1===Y&&1===x.globals.dataPoints&&(se=$=x.globals.gridWidth/2),h._drawGridLines({i:k,x1:$,y1:ne,x2:se,y2:fe,xCount:g,parent:h.elgridLinesV}),se=$+=x.globals.gridWidth/(x.globals.isXNumeric?Y-1:Y)}({xC:g,x1:S,y1:0,x2:A,y2:D}))}if(x.config.grid.yaxis.lines.show){var R=0,N=0,L=x.globals.gridWidth,V=_+1;this.isTimelineBar&&(V=x.globals.labels.length);for(var j=0;j<V+(this.isTimelineBar?1:0);j++)this._drawGridLine({x1:0,y1:R,x2:L,y2:N,parent:this.elgridLinesH}),N=R+=x.globals.gridHeight/(this.isTimelineBar?V:_)}}},{key:"_drawInvertedXYLines",value:function(u){var h=u.xCount,g=this.w;if(g.config.grid.xaxis.lines.show||g.config.xaxis.axisTicks.show)for(var _,x=g.globals.padHorizontal,A=g.globals.gridHeight,S=0;S<h+1;S++)g.config.grid.xaxis.lines.show&&this._drawGridLine({x1:x,y1:0,x2:_,y2:A,parent:this.elgridLinesV}),new er(this.ctx).drawXaxisTicks(x,this.elg),_=x=x+g.globals.gridWidth/h+.3;if(g.config.grid.yaxis.lines.show)for(var D=0,R=0,N=g.globals.gridWidth,L=0;L<g.globals.dataPoints+1;L++)this._drawGridLine({x1:0,y1:D,x2:N,y2:R,parent:this.elgridLinesH}),R=D+=g.globals.gridHeight/g.globals.dataPoints}},{key:"renderGrid",value:function(){var u=this.w,h=new Pe(this.ctx);this.elg=h.group({class:"apexcharts-grid"}),this.elgridLinesH=h.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=h.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),u.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var g,_=u.globals.yAxisScale.length?u.globals.yAxisScale[0].result.length-1:5,x=0;x<u.globals.series.length&&(void 0!==u.globals.yAxisScale[x]&&(_=u.globals.yAxisScale[x].result.length-1),!(_>2));x++);return!u.globals.isBarHorizontal||this.isTimelineBar?(g=this.xaxisLabels.length,this.isTimelineBar&&(_=u.globals.labels.length,u.config.xaxis.tickAmount&&u.config.xaxis.labels.formatter&&(g=u.config.xaxis.tickAmount)),this._drawXYLines({xCount:g,tickAmount:_})):this._drawInvertedXYLines({xCount:g=_,tickAmount:_=u.globals.xTickAmount}),this.drawGridBands(g,_),{el:this.elg,xAxisTickWidth:u.globals.gridWidth/g}}},{key:"drawGridBands",value:function(u,h){var g=this.w;if(void 0!==g.config.grid.row.colors&&g.config.grid.row.colors.length>0)for(var _=0,x=g.globals.gridHeight/h,A=g.globals.gridWidth,S=0,D=0;S<h;S++,D++)D>=g.config.grid.row.colors.length&&(D=0),this._drawGridBandRect({c:D,x1:0,y1:_,x2:A,y2:x,type:"row"}),_+=g.globals.gridHeight/h;if(void 0!==g.config.grid.column.colors&&g.config.grid.column.colors.length>0)for(var R=g.globals.isBarHorizontal||"category"!==g.config.xaxis.type&&!g.config.xaxis.convertedCatToNumeric?u:u-1,N=g.globals.padHorizontal,L=g.globals.padHorizontal+g.globals.gridWidth/R,V=g.globals.gridHeight,j=0,q=0;j<u;j++,q++)q>=g.config.grid.column.colors.length&&(q=0),this._drawGridBandRect({c:q,x1:N,y1:0,x2:L,y2:V,type:"column"}),N+=g.globals.gridWidth/R}}]),J}(),gr=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"niceScale",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,x=arguments.length>4?arguments[4]:void 0,A=this.w,S=Math.abs(h-u);if("dataPoints"===(g=this._adjustTicksForSmallRange(g,_,S))&&(g=A.globals.dataPoints-1),u===Number.MIN_VALUE&&0===h||!de.isNumber(u)&&!de.isNumber(h)||u===Number.MIN_VALUE&&h===-Number.MAX_VALUE){var D=this.linearScale(u=0,h=g,g);return D}u>h?(console.warn("axis.min cannot be greater than axis.max"),h=u+.1):u===h&&(u=0===u?0:u-.5,h=0===h?2:h+.5);var R=[];S<1&&x&&("candlestick"===A.config.chart.type||"candlestick"===A.config.series[_].type||"boxPlot"===A.config.chart.type||"boxPlot"===A.config.series[_].type||A.globals.isRangeData)&&(h*=1.01);var N=g+1;N<2?N=2:N>2&&(N-=2);var L=S/N,V=Math.floor(de.log10(L)),j=Math.pow(10,V),q=Math.round(L/j);q<1&&(q=1);var Y=q*j,$=Y*Math.floor(u/Y),ne=Y*Math.ceil(h/Y),se=$;if(x&&S>2){for(;R.push(se),!((se+=Y)>ne););return{result:R,niceMin:R[0],niceMax:R[R.length-1]}}var fe=u;(R=[]).push(fe);for(var k=Math.abs(h-u)/g,H=0;H<=g;H++)R.push(fe+=k);return R[R.length-2]>=h&&R.pop(),{result:R,niceMin:R[0],niceMax:R[R.length-1]}}},{key:"linearScale",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,_=arguments.length>3?arguments[3]:void 0,x=Math.abs(h-u);"dataPoints"===(g=this._adjustTicksForSmallRange(g,_,x))&&(g=this.w.globals.dataPoints-1);var A=x/g;g===Number.MAX_VALUE&&(g=10,A=1);for(var S=[],D=u;g>=0;)S.push(D),D+=A,g-=1;return{result:S,niceMin:S[0],niceMax:S[S.length-1]}}},{key:"logarithmicScale",value:function(u){for(var h=[],g=Math.ceil(Math.log10(u))+1,_=0;_<g;_++)h.push(Math.pow(10,_));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(u,h,g){var _=u;if(void 0!==h&&this.w.config.yaxis[h].labels.formatter&&void 0===this.w.config.yaxis[h].tickAmount){var x=this.w.config.yaxis[h].labels.formatter(1);de.isNumber(Number(x))&&!de.isFloat(x)&&(_=Math.ceil(g))}return _<u?_:u}},{key:"setYScaleForIndex",value:function(u,h,g){var _=this.w.globals,x=this.w.config,A=_.isBarHorizontal?x.xaxis:x.yaxis[u];void 0===_.yAxisScale[u]&&(_.yAxisScale[u]=[]);var S=Math.abs(g-h);A.logarithmic&&S<=5&&(_.invalidLogScale=!0),A.logarithmic&&S>5?(_.allSeriesCollapsed=!1,_.yAxisScale[u]=this.logarithmicScale(g)):g!==-Number.MAX_VALUE&&de.isNumber(g)?(_.allSeriesCollapsed=!1,_.yAxisScale[u]=void 0===A.min&&void 0===A.max||A.forceNiceScale?this.niceScale(h,g,A.tickAmount?A.tickAmount:S<5&&S>1?S+1:5,u,void 0===x.yaxis[u].max&&void 0===x.yaxis[u].min||x.yaxis[u].forceNiceScale):this.linearScale(h,g,A.tickAmount,u)):_.yAxisScale[u]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(u,h){var g=this.w,_=g.globals,x=g.config.xaxis,A=Math.abs(h-u);return _.xAxisScale=h!==-Number.MAX_VALUE&&de.isNumber(h)?this.linearScale(u,h,x.tickAmount?x.tickAmount:A<5&&A>1?A+1:5,0):this.linearScale(0,5,5),_.xAxisScale}},{key:"setMultipleYScales",value:function(){var u=this,h=this.w.globals,g=this.w.config,_=h.minYArr.concat([]),x=h.maxYArr.concat([]),A=[];g.yaxis.forEach(function(S,D){var R=D;g.series.forEach(function(V,j){V.name===S.seriesName&&(R=j,A.push(D!==j?{index:j,similarIndex:D,alreadyExists:!0}:{index:j}))}),u.setYScaleForIndex(D,_[R],x[R])}),this.sameScaleInMultipleAxes(_,x,A)}},{key:"sameScaleInMultipleAxes",value:function(u,h,g){var _=this,x=this.w.config,A=this.w.globals,S=[];g.forEach(function(Y){Y.alreadyExists&&(void 0===S[Y.index]&&(S[Y.index]=[]),S[Y.index].push(Y.index),S[Y.index].push(Y.similarIndex))}),A.yAxisSameScaleIndices=S,S.forEach(function(Y,$){S.forEach(function(ne,se){var fe,k;$!==se&&(fe=Y,k=ne,fe.filter(function(H){return-1!==k.indexOf(H)})).length>0&&(S[$]=S[$].concat(S[se]))})});var D=S.map(function(Y){return Y.filter(function($,ne){return Y.indexOf($)===ne})}).map(function(Y){return Y.sort()});S=S.filter(function(Y){return!!Y});var R=D.slice(),N=R.map(function(Y){return JSON.stringify(Y)});R=R.filter(function(Y,$){return N.indexOf(JSON.stringify(Y))===$});var L=[],V=[];u.forEach(function(Y,$){R.forEach(function(ne,se){ne.indexOf($)>-1&&(void 0===L[se]&&(L[se]=[],V[se]=[]),L[se].push({key:$,value:Y}),V[se].push({key:$,value:h[$]}))})});var j=Array.apply(null,Array(R.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),q=Array.apply(null,Array(R.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);L.forEach(function(Y,$){Y.forEach(function(ne,se){j[$]=Math.min(ne.value,j[$])})}),V.forEach(function(Y,$){Y.forEach(function(ne,se){q[$]=Math.max(ne.value,q[$])})}),u.forEach(function(Y,$){V.forEach(function(ne,se){var fe=j[se],k=q[se];x.chart.stacked&&(k=0,ne.forEach(function(H,Z){H.value!==-Number.MAX_VALUE&&(k+=H.value),fe!==Number.MIN_VALUE&&(fe+=L[se][Z].value)})),ne.forEach(function(H,Z){ne[Z].key===$&&(void 0!==x.yaxis[$].min&&(fe="function"==typeof x.yaxis[$].min?x.yaxis[$].min(A.minY):x.yaxis[$].min),void 0!==x.yaxis[$].max&&(k="function"==typeof x.yaxis[$].max?x.yaxis[$].max(A.maxY):x.yaxis[$].max),_.setYScaleForIndex($,fe,k))})})})}},{key:"autoScaleY",value:function(u,h,g){u||(u=this);var _=u.w;if(_.globals.isMultipleYAxis||_.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),h;var x=_.globals.seriesX[0],A=_.config.chart.stacked;return h.forEach(function(S,D){for(var R=0,N=0;N<x.length;N++)if(x[N]>=g.xaxis.min){R=N;break}var L,V,j=_.globals.minYArr[D],q=_.globals.maxYArr[D],Y=_.globals.stackedSeriesTotals;_.globals.series.forEach(function($,ne){var se=$[R];A?(L=V=se=Y[R],Y.forEach(function(fe,k){x[k]<=g.xaxis.max&&x[k]>=g.xaxis.min&&(fe>V&&null!==fe&&(V=fe),$[k]<L&&null!==$[k]&&(L=$[k]))})):(L=V=se,$.forEach(function(fe,k){if(x[k]<=g.xaxis.max&&x[k]>=g.xaxis.min){var H=fe,Z=fe;_.globals.series.forEach(function(ee,pe){null!==fe&&(H=Math.min(ee[k],H),Z=Math.max(ee[k],Z))}),Z>V&&null!==Z&&(V=Z),H<L&&null!==H&&(L=H)}})),void 0===L&&void 0===V&&(L=j,V=q),(V*=V<0?.9:1.1)<0&&V<q&&(V=q),(L*=L<0?1.1:.9)<0&&L>j&&(L=j),h.length>1?(h[ne].min=void 0===S.min?L:S.min,h[ne].max=void 0===S.max?V:S.max):(h[0].min=void 0===S.min?L:S.min,h[0].max=void 0===S.max?V:S.max)})}),h}}]),J}(),Oo=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.scales=new gr(u)}return Ee(J,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,x=this.w.config,A=this.w.globals,S=-Number.MAX_VALUE,D=Number.MIN_VALUE;null===_&&(_=u+1);var R=A.series,N=R,L=R;"candlestick"===x.chart.type?(N=A.seriesCandleL,L=A.seriesCandleH):"boxPlot"===x.chart.type?(N=A.seriesCandleO,L=A.seriesCandleC):A.isRangeData&&(N=A.seriesRangeStart,L=A.seriesRangeEnd);for(var V=u;V<_;V++){A.dataPoints=Math.max(A.dataPoints,R[V].length);for(var j=0;j<A.series[V].length;j++){var q=R[V][j];null!==q&&de.isNumber(q)?(void 0!==L[V][j]&&(S=Math.max(S,L[V][j])),void 0!==N[V][j]&&(h=Math.min(h,N[V][j]),g=Math.max(g,N[V][j])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==A.seriesCandleC[V][j]&&(S=Math.max(S,A.seriesCandleO[V][j]),S=Math.max(S,A.seriesCandleH[V][j]),S=Math.max(S,A.seriesCandleL[V][j]),S=Math.max(S,A.seriesCandleC[V][j]),"boxPlot"===this.w.config.chart.type&&(S=Math.max(S,A.seriesCandleM[V][j]))),!x.series[V].type||"candlestick"===x.series[V].type&&"boxPlot"===x.series[V].type||(S=Math.max(S,A.series[V][j]),h=Math.min(h,A.series[V][j])),g=S),A.seriesGoals[V]&&A.seriesGoals[V][j]&&Array.isArray(A.seriesGoals[V][j])&&A.seriesGoals[V][j].forEach(function(Y){D!==Number.MIN_VALUE&&(D=Math.min(D,Y.value),h=D),S=Math.max(S,Y.value),g=S}),de.isFloat(q)&&(q=de.noExponents(q),A.yValueDecimal=Math.max(A.yValueDecimal,q.toString().split(".")[1].length)),D>N[V][j]&&N[V][j]<0&&(D=N[V][j])):A.hasNullValues=!0}}return"rangeBar"===x.chart.type&&A.seriesRangeStart.length&&A.isBarHorizontal&&"datetime"===x.xaxis.type&&(D=h),"bar"===x.chart.type&&(D<0&&S<0&&(S=0),D===Number.MIN_VALUE&&(D=0)),{minY:D,maxY:S,lowestY:h,highestY:g}}},{key:"setYRange",value:function(){var u=this.w.globals,h=this.w.config;u.maxY=-Number.MAX_VALUE,u.minY=Number.MIN_VALUE;var g=Number.MAX_VALUE;if(u.isMultipleYAxis)for(var _=0;_<u.series.length;_++){var x=this.getMinYMaxY(_,g,null,_+1);u.minYArr.push(x.minY),u.maxYArr.push(x.maxY),g=x.lowestY}var A=this.getMinYMaxY(0,g,null,u.series.length);if(u.minY=A.minY,u.maxY=A.maxY,g=A.lowestY,h.chart.stacked&&this._setStackedMinMax(),("line"===h.chart.type||"area"===h.chart.type||"candlestick"===h.chart.type||"boxPlot"===h.chart.type||"rangeBar"===h.chart.type&&!u.isBarHorizontal)&&u.minY===Number.MIN_VALUE&&g!==-Number.MAX_VALUE&&g!==u.maxY){var S=u.maxY-g;(g>=0&&g<=10||void 0!==h.yaxis[0].min||void 0!==h.yaxis[0].max)&&(S=0),u.minY=g-5*S/100,g>0&&u.minY<0&&(u.minY=0),u.maxY=u.maxY+5*S/100}return h.yaxis.forEach(function(D,R){void 0!==D.max&&("number"==typeof D.max?u.maxYArr[R]=D.max:"function"==typeof D.max&&(u.maxYArr[R]=D.max(u.isMultipleYAxis?u.maxYArr[R]:u.maxY)),u.maxY=u.maxYArr[R]),void 0!==D.min&&("number"==typeof D.min?u.minYArr[R]=D.min:"function"==typeof D.min&&(u.minYArr[R]=D.min(u.isMultipleYAxis?u.minYArr[R]===Number.MIN_VALUE?0:u.minYArr[R]:u.minY)),u.minY=u.minYArr[R])}),u.isBarHorizontal&&["min","max"].forEach(function(D){void 0!==h.xaxis[D]&&"number"==typeof h.xaxis[D]&&("min"===D?u.minY=h.xaxis[D]:u.maxY=h.xaxis[D])}),u.isMultipleYAxis?(this.scales.setMultipleYScales(),u.minY=g,u.yAxisScale.forEach(function(D,R){u.minYArr[R]=D.niceMin,u.maxYArr[R]=D.niceMax})):(this.scales.setYScaleForIndex(0,u.minY,u.maxY),u.minY=u.yAxisScale[0].niceMin,u.maxY=u.yAxisScale[0].niceMax,u.minYArr[0]=u.yAxisScale[0].niceMin,u.maxYArr[0]=u.yAxisScale[0].niceMax),{minY:u.minY,maxY:u.maxY,minYArr:u.minYArr,maxYArr:u.maxYArr,yAxisScale:u.yAxisScale}}},{key:"setXRange",value:function(){var u=this.w.globals,h=this.w.config,g="numeric"===h.xaxis.type||"datetime"===h.xaxis.type||"category"===h.xaxis.type&&!u.noLabelsProvided||u.noLabelsProvided||u.isXNumeric;if(u.isXNumeric&&function(){for(var S=0;S<u.series.length;S++)if(u.labels[S])for(var D=0;D<u.labels[S].length;D++)null!==u.labels[S][D]&&de.isNumber(u.labels[S][D])&&(u.maxX=Math.max(u.maxX,u.labels[S][D]),u.initialMaxX=Math.max(u.maxX,u.labels[S][D]),u.minX=Math.min(u.minX,u.labels[S][D]),u.initialMinX=Math.min(u.minX,u.labels[S][D]))}(),u.noLabelsProvided&&0===h.xaxis.categories.length&&(u.maxX=u.labels[u.labels.length-1],u.initialMaxX=u.labels[u.labels.length-1],u.minX=1,u.initialMinX=1),u.isXNumeric||u.noLabelsProvided||u.dataFormatXNumeric){var _;if(void 0===h.xaxis.tickAmount?(_=Math.round(u.svgWidth/150),"numeric"===h.xaxis.type&&u.dataPoints<30&&(_=u.dataPoints-1),_>u.dataPoints&&0!==u.dataPoints&&(_=u.dataPoints-1)):"dataPoints"===h.xaxis.tickAmount?(u.series.length>1&&(_=u.series[u.maxValsInArrayIndex].length-1),u.isXNumeric&&(_=u.maxX-u.minX-1)):_=h.xaxis.tickAmount,u.xTickAmount=_,void 0!==h.xaxis.max&&"number"==typeof h.xaxis.max&&(u.maxX=h.xaxis.max),void 0!==h.xaxis.min&&"number"==typeof h.xaxis.min&&(u.minX=h.xaxis.min),void 0!==h.xaxis.range&&(u.minX=u.maxX-h.xaxis.range),u.minX!==Number.MAX_VALUE&&u.maxX!==-Number.MAX_VALUE)if(h.xaxis.convertedCatToNumeric&&!u.dataFormatXNumeric){for(var x=[],A=u.minX-1;A<u.maxX;A++)x.push(A+1);u.xAxisScale={result:x,niceMin:x[0],niceMax:x[x.length-1]}}else u.xAxisScale=this.scales.setXScale(u.minX,u.maxX);else u.xAxisScale=this.scales.linearScale(1,_,_),u.noLabelsProvided&&u.labels.length>0&&(u.xAxisScale=this.scales.linearScale(1,u.labels.length,_-1),u.seriesX=u.labels.slice());g&&(u.labels=u.xAxisScale.result.slice())}return u.isBarHorizontal&&u.labels.length&&(u.xTickAmount=u.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:u.minX,maxX:u.maxX}}},{key:"setZRange",value:function(){var u=this.w.globals;if(u.isDataXYZ)for(var h=0;h<u.series.length;h++)if(void 0!==u.seriesZ[h])for(var g=0;g<u.seriesZ[h].length;g++)null!==u.seriesZ[h][g]&&de.isNumber(u.seriesZ[h][g])&&(u.maxZ=Math.max(u.maxZ,u.seriesZ[h][g]),u.minZ=Math.min(u.minZ,u.seriesZ[h][g]))}},{key:"_handleSingleDataPoint",value:function(){var u=this.w.globals,h=this.w.config;if(u.minX===u.maxX){var g=new bt(this.ctx);if("datetime"===h.xaxis.type){var _=g.getDate(u.minX);_.setUTCDate(_.getDate()-2),u.minX=new Date(_).getTime();var x=g.getDate(u.maxX);x.setUTCDate(x.getDate()+2),u.maxX=new Date(x).getTime()}else("numeric"===h.xaxis.type||"category"===h.xaxis.type&&!u.noLabelsProvided)&&(u.minX=u.minX-2,u.initialMinX=u.minX,u.maxX=u.maxX+2,u.initialMaxX=u.maxX)}}},{key:"_getMinXDiff",value:function(){var u=this.w.globals;u.isXNumeric&&u.seriesX.forEach(function(h,g){1===h.length&&h.push(u.seriesX[u.maxValsInArrayIndex][u.seriesX[u.maxValsInArrayIndex].length-1]);var _=h.slice();_.sort(function(x,A){return x-A}),_.forEach(function(x,A){if(A>0){var S=x-_[A-1];S>0&&(u.minXDiff=Math.min(S,u.minXDiff))}}),1===u.dataPoints&&u.minXDiff===Number.MAX_VALUE&&(u.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var u=this.w.globals,h=[],g=[];if(u.series.length)for(var _=0;_<u.series[u.maxValsInArrayIndex].length;_++)for(var x=0,A=0,S=0;S<u.series.length;S++)null!==u.series[S][_]&&de.isNumber(u.series[S][_])&&(u.series[S][_]>0?x=x+parseFloat(u.series[S][_])+1e-4:A+=parseFloat(u.series[S][_])),S===u.series.length-1&&(h.push(x),g.push(A));for(var D=0;D<h.length;D++)u.maxY=Math.max(u.maxY,h[D]),u.minY=Math.min(u.minY,g[D])}}]),J}(),dn=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.axisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===h.config.chart.type&&h.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===h.config.xaxis.position&&(this.xAxisoffX=h.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Rn(u)}return Ee(J,[{key:"drawYaxis",value:function(u){var h=this,g=this.w,_=new Pe(this.ctx),x=g.config.yaxis[u].labels.style,A=x.fontSize,S=x.fontFamily,D=x.fontWeight,R=_.group({class:"apexcharts-yaxis",rel:u,transform:"translate("+g.globals.translateYAxisX[u]+", 0)"});if(this.axesUtils.isYAxisHidden(u))return R;var N=_.group({class:"apexcharts-yaxis-texts-g"});R.add(N);var L=g.globals.yAxisScale[u].result.length-1,V=g.globals.gridHeight/L,j=g.globals.translateY,q=g.globals.yLabelFormatters[u],Y=g.globals.yAxisScale[u].result.slice();Y=this.axesUtils.checkForReversedLabels(u,Y);var $="";if(g.config.yaxis[u].labels.show)for(var ne=function(Fe){var Re=Y[Fe];Re=q(Re,Fe,g);var Qe=g.config.yaxis[u].labels.padding;g.config.yaxis[u].opposite&&0!==g.config.yaxis.length&&(Qe*=-1);var rt=h.axesUtils.getYAxisForeColor(x.colors,u),dt=_.drawText({x:Qe,y:j+L/10+g.config.yaxis[u].labels.offsetY+1,text:Re,textAnchor:g.config.yaxis[u].opposite?"start":"end",fontSize:A,fontFamily:S,fontWeight:D,foreColor:Array.isArray(rt)?rt[Fe]:rt,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+x.cssClass});Fe===L&&($=dt),N.add(dt);var It=document.createElementNS(g.globals.SVGNS,"title");if(It.textContent=Array.isArray(Re)?Re.join(" "):Re,dt.node.appendChild(It),0!==g.config.yaxis[u].labels.rotate){var un=_.rotateAroundCenter($.node),St=_.rotateAroundCenter(dt.node);dt.node.setAttribute("transform","rotate(".concat(g.config.yaxis[u].labels.rotate," ").concat(un.x," ").concat(St.y,")"))}j+=V},se=L;se>=0;se--)ne(se);if(void 0!==g.config.yaxis[u].title.text){var fe=_.group({class:"apexcharts-yaxis-title"}),k=0;g.config.yaxis[u].opposite&&(k=g.globals.translateYAxisX[u]);var H=_.drawText({x:k,y:g.globals.gridHeight/2+g.globals.translateY+g.config.yaxis[u].title.offsetY,text:g.config.yaxis[u].title.text,textAnchor:"end",foreColor:g.config.yaxis[u].title.style.color,fontSize:g.config.yaxis[u].title.style.fontSize,fontWeight:g.config.yaxis[u].title.style.fontWeight,fontFamily:g.config.yaxis[u].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+g.config.yaxis[u].title.style.cssClass});fe.add(H),R.add(fe)}var Z=g.config.yaxis[u].axisBorder,ee=31+Z.offsetX;if(g.config.yaxis[u].opposite&&(ee=-31-Z.offsetX),Z.show){var pe=_.drawLine(ee,g.globals.translateY+Z.offsetY-2,ee,g.globals.gridHeight+g.globals.translateY+Z.offsetY+2,Z.color,0,Z.width);R.add(pe)}return g.config.yaxis[u].axisTicks.show&&this.axesUtils.drawYAxisTicks(ee,L,Z,g.config.yaxis[u].axisTicks,u,V,R),R}},{key:"drawYaxisInversed",value:function(u){var h=this.w,g=new Pe(this.ctx),_=g.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),x=g.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(h.globals.translateXAxisX,", ").concat(h.globals.translateXAxisY,")")});_.add(x);var A=h.globals.yAxisScale[u].result.length-1,S=h.globals.gridWidth/A+.1,D=S+h.config.xaxis.labels.offsetX,R=h.globals.xLabelFormatter,N=h.globals.yAxisScale[u].result.slice(),L=h.globals.timescaleLabels;L.length>0&&(this.xaxisLabels=L.slice(),A=(N=L.slice()).length),N=this.axesUtils.checkForReversedLabels(u,N);var V=L.length;if(h.config.xaxis.labels.show)for(var j=V?0:A;V?j<V:j>=0;V?j++:j--){var q=N[j];q=R(q,j,h);var Y=h.globals.gridWidth+h.globals.padHorizontal-(D-S+h.config.xaxis.labels.offsetX);if(L.length){var $=this.axesUtils.getLabel(N,L,Y,j,this.drawnLabels,this.xaxisFontSize);Y=$.x,q=$.text,this.drawnLabels.push($.text),0===j&&h.globals.skipFirstTimelinelabel&&(q=""),j===N.length-1&&h.globals.skipLastTimelinelabel&&(q="")}var ne=g.drawText({x:Y,y:this.xAxisoffX+h.config.xaxis.labels.offsetY+30-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:q,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[u]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:h.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+h.config.xaxis.labels.style.cssClass});x.add(ne),ne.tspan(q);var se=document.createElementNS(h.globals.SVGNS,"title");se.textContent=q,ne.node.appendChild(se),D+=S}return this.inversedYAxisTitleText(_),this.inversedYAxisBorder(_),_}},{key:"inversedYAxisBorder",value:function(u){var h=this.w,g=new Pe(this.ctx),_=h.config.xaxis.axisBorder;if(_.show){var x=0;"bar"===h.config.chart.type&&h.globals.isXNumeric&&(x-=15);var A=g.drawLine(h.globals.padHorizontal+x+_.offsetX,this.xAxisoffX,h.globals.gridWidth,this.xAxisoffX,_.color,0,_.height);u.add(A)}}},{key:"inversedYAxisTitleText",value:function(u){var h=this.w,g=new Pe(this.ctx);if(void 0!==h.config.xaxis.title.text){var _=g.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),x=g.drawText({x:h.globals.gridWidth/2+h.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(h.config.xaxis.title.style.fontSize)+h.config.xaxis.title.offsetY+20,text:h.config.xaxis.title.text,textAnchor:"middle",fontSize:h.config.xaxis.title.style.fontSize,fontFamily:h.config.xaxis.title.style.fontFamily,fontWeight:h.config.xaxis.title.style.fontWeight,foreColor:h.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+h.config.xaxis.title.style.cssClass});_.add(x),u.add(_)}}},{key:"yAxisTitleRotate",value:function(u,h){var g=this.w,_=new Pe(this.ctx),x={width:0,height:0},A={width:0,height:0},S=g.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(u,"'] .apexcharts-yaxis-texts-g"));null!==S&&(x=S.getBoundingClientRect());var D=g.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(u,"'] .apexcharts-yaxis-title text"));if(null!==D&&(A=D.getBoundingClientRect()),null!==D){var R=this.xPaddingForYAxisTitle(u,x,A,h);D.setAttribute("x",R.xPos-(h?10:0))}if(null!==D){var N=_.rotateAroundCenter(D);D.setAttribute("transform","rotate(".concat(h?-1*g.config.yaxis[u].title.rotate:g.config.yaxis[u].title.rotate," ").concat(N.x," ").concat(N.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(u,h,g,_){var x=this.w,A=0,S=0,D=10;return void 0===x.config.yaxis[u].title.text||u<0?{xPos:S,padd:0}:(_?(S=h.width+x.config.yaxis[u].title.offsetX+g.width/2+D/2,0===(A+=1)&&(S-=D/2)):(S=-1*h.width+x.config.yaxis[u].title.offsetX+D/2+g.width/2,x.globals.isBarHorizontal&&(S=-1*h.width-x.config.yaxis[u].title.offsetX-(D=25))),{xPos:S,padd:D})}},{key:"setYAxisXPosition",value:function(u,h){var g=this.w,_=0,x=0,A=18,S=1;g.config.yaxis.length>1&&(this.multipleYs=!0),g.config.yaxis.map(function(D,R){var N=g.globals.ignoreYAxisIndexes.indexOf(R)>-1||!D.show||D.floating||0===u[R].width,L=u[R].width+h[R].width;D.opposite?g.globals.isBarHorizontal?g.globals.translateYAxisX[R]=(x=g.globals.gridWidth+g.globals.translateX-1)-D.labels.offsetX:(x=g.globals.gridWidth+g.globals.translateX+S,N||(S=S+L+20),g.globals.translateYAxisX[R]=x-D.labels.offsetX+20):(_=g.globals.translateX-A,N||(A=A+L+20),g.globals.translateYAxisX[R]=_+D.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var u=this.w,h=u.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(h=de.listToArray(h)).forEach(function(g,_){var x=u.config.yaxis[_];if(x&&void 0!==x.labels.align){var A=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(_,"'] .apexcharts-yaxis-texts-g")),S=u.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(_,"'] .apexcharts-yaxis-label"));S=de.listToArray(S);var D=A.getBoundingClientRect();"left"===x.labels.align?(S.forEach(function(R,N){R.setAttribute("text-anchor","start")}),x.opposite||A.setAttribute("transform","translate(-".concat(D.width,", 0)"))):"center"===x.labels.align?(S.forEach(function(R,N){R.setAttribute("text-anchor","middle")}),A.setAttribute("transform","translate(".concat(D.width/2*(x.opposite?1:-1),", 0)"))):"right"===x.labels.align&&(S.forEach(function(R,N){R.setAttribute("text-anchor","end")}),x.opposite&&A.setAttribute("transform","translate(".concat(D.width,", 0)")))}})}}]),J}(),an=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.documentEvent=de.bind(this.documentEvent,this)}return Ee(J,[{key:"addEventListener",value:function(u,h){var g=this.w;g.globals.events.hasOwnProperty(u)?g.globals.events[u].push(h):g.globals.events[u]=[h]}},{key:"removeEventListener",value:function(u,h){var g=this.w;if(g.globals.events.hasOwnProperty(u)){var _=g.globals.events[u].indexOf(h);-1!==_&&g.globals.events[u].splice(_,1)}}},{key:"fireEvent",value:function(u,h){var g=this.w;if(g.globals.events.hasOwnProperty(u)){h&&h.length||(h=[]);for(var _=g.globals.events[u],x=_.length,A=0;A<x;A++)_[A].apply(null,h)}}},{key:"setupEventHandlers",value:function(){var u=this,h=this.w,g=this.ctx,_=h.globals.dom.baseEl.querySelector(h.globals.chartClass);this.ctx.eventList.forEach(function(x){_.addEventListener(x,function(A){var S=Object.assign({},h,{seriesIndex:h.globals.capturedSeriesIndex,dataPointIndex:h.globals.capturedDataPointIndex});"mousemove"===A.type||"touchmove"===A.type?"function"==typeof h.config.chart.events.mouseMove&&h.config.chart.events.mouseMove(A,g,S):"mouseleave"===A.type||"touchleave"===A.type?"function"==typeof h.config.chart.events.mouseLeave&&h.config.chart.events.mouseLeave(A,g,S):("mouseup"===A.type&&1===A.which||"touchend"===A.type)&&("function"==typeof h.config.chart.events.click&&h.config.chart.events.click(A,g,S),g.ctx.events.fireEvent("click",[A,g,S]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(x){h.globals.dom.baseEl.addEventListener(x,u.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(u){var h=this.w,g=u.target.className;if("click"===u.type){var _=h.globals.dom.baseEl.querySelector(".apexcharts-menu");_&&_.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==g&&_.classList.remove("apexcharts-menu-open")}h.globals.clientX="touchmove"===u.type?u.touches[0].clientX:u.clientX,h.globals.clientY="touchmove"===u.type?u.touches[0].clientY:u.clientY}}]),J}(),Ri=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"setCurrentLocaleValues",value:function(u){var h=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(h=this.w.config.chart.locales.concat(window.Apex.chart.locales));var g=h.filter(function(x){return x.name===u})[0];if(!g)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var _=de.extend(gn,g);this.w.globals.locale=_.options}}]),J}(),Oi=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"drawAxis",value:function(u,h){var g,_,x=this.w.globals,A=this.w.config,S=new er(this.ctx),D=new dn(this.ctx);x.axisCharts&&"radar"!==u&&(x.isBarHorizontal?(_=D.drawYaxisInversed(0),g=S.drawXaxisInversed(0),x.dom.elGraphical.add(g),x.dom.elGraphical.add(_)):(g=S.drawXaxis(),x.dom.elGraphical.add(g),A.yaxis.map(function(R,N){-1===x.ignoreYAxisIndexes.indexOf(N)&&(_=D.drawYaxis(N),x.dom.Paper.add(_))})))}}]),J}(),wt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"drawXCrosshairs",value:function(){var u=this.w,h=new Pe(this.ctx),g=new tt(this.ctx),_=u.config.xaxis.crosshairs.fill.gradient,x=u.config.xaxis.crosshairs.dropShadow,V=x.enabled,j=x.left,q=x.top,Y=x.blur,$=x.color,ne=x.opacity,se=u.config.xaxis.crosshairs.fill.color;if(u.config.xaxis.crosshairs.show){"gradient"===u.config.xaxis.crosshairs.fill.type&&(se=h.drawGradient("vertical",_.colorFrom,_.colorTo,_.opacityFrom,_.opacityTo,null,_.stops,null));var fe=h.drawRect();1===u.config.xaxis.crosshairs.width&&(fe=h.drawLine());var k=u.globals.gridHeight;(!de.isNumber(k)||k<0)&&(k=0);var H=u.config.xaxis.crosshairs.width;(!de.isNumber(H)||H<0)&&(H=0),fe.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:k,width:H,height:k,fill:se,filter:"none","fill-opacity":u.config.xaxis.crosshairs.opacity,stroke:u.config.xaxis.crosshairs.stroke.color,"stroke-width":u.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":u.config.xaxis.crosshairs.stroke.dashArray}),V&&(fe=g.dropShadow(fe,{left:j,top:q,blur:Y,color:$,opacity:ne})),u.globals.dom.elGraphical.add(fe)}}},{key:"drawYCrosshairs",value:function(){var u=this.w,h=new Pe(this.ctx),g=u.config.yaxis[0].crosshairs,_=u.globals.barPadForNumericAxis;if(u.config.yaxis[0].crosshairs.show){var x=h.drawLine(-_,0,u.globals.gridWidth+_,0,g.stroke.color,g.stroke.dashArray,g.stroke.width);x.attr({class:"apexcharts-ycrosshairs"}),u.globals.dom.elGraphical.add(x)}var A=h.drawLine(-_,0,u.globals.gridWidth+_,0,g.stroke.color,0,0);A.attr({class:"apexcharts-ycrosshairs-hidden"}),u.globals.dom.elGraphical.add(A)}}]),J}(),Bn=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"checkResponsiveConfig",value:function(u){var h=this,g=this.w,_=g.config;if(0!==_.responsive.length){var x=_.responsive.slice();x.sort(function(R,N){return R.breakpoint>N.breakpoint?1:N.breakpoint>R.breakpoint?-1:0}).reverse();var A=new xt({}),S=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=x[0].breakpoint,L=window.innerWidth>0?window.innerWidth:screen.width;if(L>N){var V=vt.extendArrayProps(A,g.globals.initialConfig,g);R=de.extend(V,R),R=de.extend(g.config,R),h.overrideResponsiveOptions(R)}else for(var j=0;j<x.length;j++)L<x[j].breakpoint&&(R=vt.extendArrayProps(A,x[j].options,g),R=de.extend(g.config,R),h.overrideResponsiveOptions(R))};if(u){var D=vt.extendArrayProps(A,u,g);D=de.extend(g.config,D),S(D=de.extend(D,u))}else S({})}}},{key:"overrideResponsiveOptions",value:function(u){var h=new xt(u).init({responsiveOverride:!0});this.w.config=h}}]),J}(),pi=function(){function J(u){K(this,J),this.ctx=u,this.colors=[],this.w=u.w;var h=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===h.config.chart.type&&h.config.plotOptions.treemap.distributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.distributed,this.isBarDistributed=h.config.plotOptions.bar.distributed&&("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)}return Ee(J,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var u=this,h=this.w,g=new de;if(h.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(h.config.theme.mode)),void 0===h.config.colors?h.globals.colors=this.predefined():(h.globals.colors=h.config.colors,Array.isArray(h.config.colors)&&h.config.colors.length>0&&"function"==typeof h.config.colors[0]&&(h.globals.colors=h.config.series.map(function(j,q){var Y=h.config.colors[q];return Y||(Y=h.config.colors[0]),"function"==typeof Y?(u.isColorFn=!0,Y({value:h.globals.axisCharts?h.globals.series[q][0]?h.globals.series[q][0]:0:h.globals.series[q],seriesIndex:q,dataPointIndex:q,w:h})):Y}))),h.globals.seriesColors.map(function(j,q){j&&(h.globals.colors[q]=j)}),h.config.theme.monochrome.enabled){var _=[],x=h.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(x=h.globals.series[0].length*h.globals.series.length);for(var A=h.config.theme.monochrome.color,S=1/(x/h.config.theme.monochrome.shadeIntensity),D=h.config.theme.monochrome.shadeTo,R=0,N=0;N<x;N++){var L=void 0;"dark"===D?(L=g.shadeColor(-1*R,A),R+=S):(L=g.shadeColor(R,A),R+=S),_.push(L)}h.globals.colors=_.slice()}var V=h.globals.colors.slice();this.pushExtraColors(h.globals.colors),["fill","stroke"].forEach(function(j){h.globals[j].colors=void 0===h.config[j].colors?u.isColorFn?h.config.colors:V:h.config[j].colors.slice(),u.pushExtraColors(h.globals[j].colors)}),h.globals.dataLabels.style.colors=void 0===h.config.dataLabels.style.colors?V:h.config.dataLabels.style.colors.slice(),this.pushExtraColors(h.globals.dataLabels.style.colors,50),h.globals.radarPolygons.fill.colors=void 0===h.config.plotOptions.radar.polygons.fill.colors?["dark"===h.config.theme.mode?"#424242":"none"]:h.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(h.globals.radarPolygons.fill.colors,20),h.globals.markers.colors=void 0===h.config.markers.colors?V:h.config.markers.colors.slice(),this.pushExtraColors(h.globals.markers.colors)}},{key:"pushExtraColors",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=this.w,x=h||_.globals.series.length;if(null===g&&(g=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===_.config.chart.type&&_.config.plotOptions.heatmap.colorScale.inverse),g&&_.globals.series.length&&(x=_.globals.series[_.globals.maxValsInArrayIndex].length*_.globals.series.length),u.length<x)for(var A=x-u.length,S=0;S<A;S++)u.push(u[S])}},{key:"updateThemeOptions",value:function(u){u.chart=u.chart||{},u.tooltip=u.tooltip||{};var h=u.theme.mode||"light",g=u.theme.palette?u.theme.palette:"dark"===h?"palette4":"palette1",_=u.chart.foreColor?u.chart.foreColor:"dark"===h?"#f6f7f8":"#373d3f";return u.tooltip.theme=h,u.chart.foreColor=_,u.theme.palette=g,u}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),J}(),si=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(u){var h=this.w,g="title"===u?h.config.title:h.config.subtitle,_=h.globals.svgWidth/2,x=g.offsetY,A="middle";if("left"===g.align?(_=10,A="start"):"right"===g.align&&(_=h.globals.svgWidth-10,A="end"),_+=g.offsetX,x=x+parseInt(g.style.fontSize,10)+g.margin/2,void 0!==g.text){var S=new Pe(this.ctx).drawText({x:_,y:x,text:g.text,textAnchor:A,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight,foreColor:g.style.color,opacity:1});S.node.setAttribute("class","apexcharts-".concat(u,"-text")),h.globals.dom.Paper.add(S)}}}]),J}(),vs=function(){function J(u){K(this,J),this.w=u.w,this.dCtx=u}return Ee(J,[{key:"getTitleSubtitleCoords",value:function(u){var h=this.w,g=0,_=0,x="title"===u?h.config.title.floating:h.config.subtitle.floating,A=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-text"));if(null!==A&&!x){var S=A.getBoundingClientRect();g=S.width,_=h.globals.axisCharts?S.height+5:S.height}return{width:g,height:_}}},{key:"getLegendsRect",value:function(){var u=this.w,h=u.globals.dom.baseEl.querySelector(".apexcharts-legend");u.config.legend.height||"top"!==u.config.legend.position&&"bottom"!==u.config.legend.position||(h.style.maxHeight=u.globals.svgHeight/2+"px");var g=Object.assign({},de.getBoundingClientRect(h));return this.dCtx.lgRect=null!==h&&!u.config.legend.floating&&u.config.legend.show?{x:g.x,y:g.y,height:g.height,width:0===g.height?0:g.width}:{x:0,y:0,height:0,width:0},"left"!==u.config.legend.position&&"right"!==u.config.legend.position||1.5*this.dCtx.lgRect.width>u.globals.svgWidth&&(this.dCtx.lgRect.width=u.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(u,h){var g=u;if(this.w.globals.isMultiLineX){var _=h.map(function(A,S){return Array.isArray(A)?A.length:1}),x=Math.max.apply(Math,Ne(_));g=h[_.indexOf(x)]}return g}}]),J}(),Xf=function(){function J(u){K(this,J),this.w=u.w,this.dCtx=u}return Ee(J,[{key:"getxAxisLabelsCoords",value:function(){var u,h=this.w,g=h.globals.labels.slice();if(h.config.xaxis.convertedCatToNumeric&&0===g.length&&(g=h.globals.categoryLabels),h.globals.timescaleLabels.length>0){var _=this.getxAxisTimeScaleLabelsCoords();u={width:_.width,height:_.height},h.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==h.config.legend.position&&"right"!==h.config.legend.position||h.config.legend.floating?0:this.dCtx.lgRect.width;var x=h.globals.xLabelFormatter,A=de.getLargestStringFromArr(g),S=this.dCtx.dimHelpers.getLargestStringFromMultiArr(A,g);h.globals.isBarHorizontal&&(S=A=h.globals.yAxisScale[0].result.reduce(function(q,Y){return q.length>Y.length?q:Y},0));var D=new Ji(this.dCtx.ctx),R=A;A=D.xLabelFormat(x,A,R,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:h}),S=D.xLabelFormat(x,S,R,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:h}),(h.config.xaxis.convertedCatToNumeric&&void 0===A||""===String(A).trim())&&(S=A="1");var N=new Pe(this.dCtx.ctx),L=N.getTextRects(A,h.config.xaxis.labels.style.fontSize),V=L;if(A!==S&&(V=N.getTextRects(S,h.config.xaxis.labels.style.fontSize)),(u={width:L.width>=V.width?L.width:V.width,height:L.height>=V.height?L.height:V.height}).width*g.length>h.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==h.config.xaxis.labels.rotate||h.config.xaxis.labels.rotateAlways){if(!h.globals.isBarHorizontal){h.globals.rotateXLabels=!0;var j=function(q){return N.getTextRects(q,h.config.xaxis.labels.style.fontSize,h.config.xaxis.labels.style.fontFamily,"rotate(".concat(h.config.xaxis.labels.rotate," 0 0)"),!1)};L=j(A),A!==S&&(V=j(S)),u.height=(L.height>V.height?L.height:V.height)/1.5,u.width=L.width>V.width?L.width:V.width}}else h.globals.rotateXLabels=!1}return h.config.xaxis.labels.show||(u={width:0,height:0}),{width:u.width,height:u.height}}},{key:"getxAxisTitleCoords",value:function(){var u=this.w,h=0,g=0;if(void 0!==u.config.xaxis.title.text){var _=new Pe(this.dCtx.ctx).getTextRects(u.config.xaxis.title.text,u.config.xaxis.title.style.fontSize);h=_.width,g=_.height}return{width:h,height:g}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var u,h=this.w;this.dCtx.timescaleLabels=h.globals.timescaleLabels.slice();var g=this.dCtx.timescaleLabels.map(function(x){return x.value}),_=g.reduce(function(x,A){return void 0===x?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):x.length>A.length?x:A},0);return 1.05*(u=new Pe(this.dCtx.ctx).getTextRects(_,h.config.xaxis.labels.style.fontSize)).width*g.length>h.globals.gridWidth&&0!==h.config.xaxis.labels.rotate&&(h.globals.overlappingXLabels=!0),u}},{key:"additionalPaddingXLabels",value:function(u){var h=this,g=this.w,_=g.globals,x=g.config,A=x.xaxis.type,S=u.width;_.skipLastTimelinelabel=!1,_.skipFirstTimelinelabel=!1;var D=g.config.yaxis[0].opposite&&g.globals.isBarHorizontal;x.yaxis.forEach(function(N,L){D?(h.dCtx.gridPad.left<S&&(h.dCtx.xPadLeft=S/2+1),h.dCtx.xPadRight=S/2+1):function(N,L){-1!==_.collapsedSeriesIndices.indexOf(L)||function(V){if(h.dCtx.timescaleLabels&&h.dCtx.timescaleLabels.length){var Y=h.dCtx.timescaleLabels[0].position-S/1.75+h.dCtx.yAxisWidthLeft;h.dCtx.timescaleLabels[h.dCtx.timescaleLabels.length-1].position+S/1.75-h.dCtx.yAxisWidthRight>_.svgWidth-_.translateX-("right"===g.config.legend.position&&h.dCtx.lgRect.width>0?h.dCtx.lgRect.width:0)&&(_.skipLastTimelinelabel=!0),Y<-(V.show&&!V.floating||"bar"!==x.chart.type&&"candlestick"!==x.chart.type&&"rangeBar"!==x.chart.type&&"boxPlot"!==x.chart.type?10:S/1.75)&&(_.skipFirstTimelinelabel=!0)}else"datetime"===A?h.dCtx.gridPad.right<S&&!_.rotateXLabels&&(_.skipLastTimelinelabel=!0):"datetime"!==A&&h.dCtx.gridPad.right<S/2-h.dCtx.yAxisWidthRight&&!_.rotateXLabels&&!g.config.xaxis.labels.trim&&("between"!==g.config.xaxis.tickPlacement||g.globals.isBarHorizontal)&&(h.dCtx.xPadRight=S/2+1)}(N)}(N,L)})}}]),J}(),Ir=function(){function J(u){K(this,J),this.w=u.w,this.dCtx=u}return Ee(J,[{key:"getyAxisLabelsCoords",value:function(){var u=this,h=this.w,g=[],_=10,x=new Rn(this.dCtx.ctx);return h.config.yaxis.map(function(A,S){var D=h.globals.yAxisScale[S],R=0;if(!x.isYAxisHidden(S)&&A.labels.show&&void 0!==A.labels.minWidth&&(R=A.labels.minWidth),!x.isYAxisHidden(S)&&A.labels.show&&D.result.length){var N=h.globals.yLabelFormatters[S],L=D.niceMin===Number.MIN_VALUE?0:D.niceMin,V=String(L).length>String(D.niceMax).length?L:D.niceMax,j=N(V,{seriesIndex:S,dataPointIndex:-1,w:h}),q=j;if(void 0!==j&&0!==j.length||(j=V),h.globals.isBarHorizontal){_=0;var Y=h.globals.labels.slice();j=N(j=de.getLargestStringFromArr(Y),{seriesIndex:S,dataPointIndex:-1,w:h}),q=u.dCtx.dimHelpers.getLargestStringFromMultiArr(j,Y)}var $=new Pe(u.dCtx.ctx),ne="rotate(".concat(A.labels.rotate," 0 0)"),se=$.getTextRects(j,A.labels.style.fontSize,A.labels.style.fontFamily,ne,!1),fe=se;j!==q&&(fe=$.getTextRects(q,A.labels.style.fontSize,A.labels.style.fontFamily,ne,!1)),g.push({width:(R>fe.width||R>se.width?R:fe.width>se.width?fe.width:se.width)+_,height:fe.height>se.height?fe.height:se.height})}else g.push({width:0,height:0})}),g}},{key:"getyAxisTitleCoords",value:function(){var u=this,g=[];return this.w.config.yaxis.map(function(_,x){if(_.show&&void 0!==_.title.text){var A=new Pe(u.dCtx.ctx),S="rotate(".concat(_.title.rotate," 0 0)"),D=A.getTextRects(_.title.text,_.title.style.fontSize,_.title.style.fontFamily,S,!1);g.push({width:D.width,height:D.height})}else g.push({width:0,height:0})}),g}},{key:"getTotalYAxisWidth",value:function(){var u=this.w,h=0,g=0,_=0,x=u.globals.yAxisScale.length>1?10:0,A=new Rn(this.dCtx.ctx),S=function(D,R){var N=u.config.yaxis[R].floating,L=0;D.width>0&&!N?(L=D.width+x,u.globals.ignoreYAxisIndexes.indexOf(R)>-1&&(L=L-D.width-x)):L=N||A.isYAxisHidden(R)?0:5,u.config.yaxis[R].opposite?_+=L:g+=L,h+=L};return u.globals.yLabelsCoords.map(function(D,R){S(D,R)}),u.globals.yTitleCoords.map(function(D,R){S(D,R)}),u.globals.isBarHorizontal&&!u.config.yaxis[0].floating&&(h=u.globals.yLabelsCoords[0].width+u.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=g,this.dCtx.yAxisWidthRight=_,h}}]),J}(),bi=function(){function J(u){K(this,J),this.w=u.w,this.dCtx=u}return Ee(J,[{key:"gridPadForColumnsInNumericAxis",value:function(u){var h=this.w;if(h.globals.noData||h.globals.allSeriesCollapsed)return 0;var g=function(N){return"bar"===N||"rangeBar"===N||"candlestick"===N||"boxPlot"===N},_=h.config.chart.type,x=0,A=g(_)?h.config.series.length:1;if(h.globals.comboBarCount>0&&(A=h.globals.comboBarCount),h.globals.collapsedSeries.forEach(function(N){g(N.type)&&(A-=1)}),h.config.chart.stacked&&(A=1),(g(_)||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&A>0){var S,D,R=Math.abs(h.globals.initialMaxX-h.globals.initialMinX);R<=3&&(R=h.globals.dataPoints),S=R/u,h.globals.minXDiff&&h.globals.minXDiff/S>0&&(D=h.globals.minXDiff/S),D>u/2&&(D/=2),(x=D/A*parseInt(h.config.plotOptions.bar.columnWidth,10)/100)<1&&(x=1),h.globals.barPadForNumericAxis=x=x/(A>1?1:1.5)+5}return x}},{key:"gridPadFortitleSubtitle",value:function(){var u=this,h=this.w,g=h.globals,_=this.dCtx.isSparkline||!h.globals.axisCharts?0:10;["title","subtitle"].forEach(function(S){_+=void 0!==h.config[S].text?h.config[S].margin:u.dCtx.isSparkline||!h.globals.axisCharts?0:5}),!h.config.legend.show||"bottom"!==h.config.legend.position||h.config.legend.floating||h.globals.axisCharts||(_+=10);var x=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),A=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");g.gridHeight=g.gridHeight-x.height-A.height-_,g.translateY=g.translateY+x.height+A.height+_}},{key:"setGridXPosForDualYAxis",value:function(u,h){var g=this.w,_=new Rn(this.dCtx.ctx);g.config.yaxis.map(function(x,A){-1!==g.globals.ignoreYAxisIndexes.indexOf(A)||x.floating||_.isYAxisHidden(A)||(x.opposite&&(g.globals.translateX=g.globals.translateX-(h[A].width+u[A].width)-parseInt(g.config.yaxis[A].labels.style.fontSize,10)/1.2-12),g.globals.translateX<2&&(g.globals.translateX=2))})}}]),J}(),ga=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new vs(this),this.dimYAxis=new Ir(this),this.dimXAxis=new Xf(this),this.dimGrid=new bi(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Ee(J,[{key:"plotCoords",value:function(){var u=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),u.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),u.gridHeight=u.gridHeight-this.gridPad.top-this.gridPad.bottom,u.gridWidth=u.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(u.gridWidth);u.gridWidth=u.gridWidth-2*h,u.translateX=u.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),u.translateY=u.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var u=this,h=this.w,g=h.globals,_=this.dimYAxis.getyAxisLabelsCoords(),x=this.dimYAxis.getyAxisTitleCoords();h.globals.yLabelsCoords=[],h.globals.yTitleCoords=[],h.config.yaxis.map(function(V,j){h.globals.yLabelsCoords.push({width:_[j].width,index:j}),h.globals.yTitleCoords.push({width:x[j].width,index:j})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var A=this.dimXAxis.getxAxisLabelsCoords(),S=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(A,S),g.translateXAxisY=h.globals.rotateXLabels?this.xAxisHeight/8:-4,g.translateXAxisX=h.globals.rotateXLabels&&h.globals.isXNumeric&&h.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,h.globals.isBarHorizontal&&(g.rotateXLabels=!1,g.translateXAxisY=parseInt(h.config.xaxis.labels.style.fontSize,10)/1.5*-1),g.translateXAxisY=g.translateXAxisY+h.config.xaxis.labels.offsetY,g.translateXAxisX=g.translateXAxisX+h.config.xaxis.labels.offsetX;var D=this.yAxisWidth,R=this.xAxisHeight;g.xAxisLabelsHeight=this.xAxisHeight-S.height,g.xAxisLabelsWidth=this.xAxisWidth,g.xAxisHeight=this.xAxisHeight;var N=10;("radar"===h.config.chart.type||this.isSparkline)&&(D=0,R=g.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===h.config.chart.type)&&(D=0,R=0,N=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(A);var L=function(){g.translateX=D,g.gridHeight=g.svgHeight-u.lgRect.height-R-(u.isSparkline||"treemap"===h.config.chart.type?0:h.globals.rotateXLabels?10:15),g.gridWidth=g.svgWidth-D};switch("top"===h.config.xaxis.position&&(N=g.xAxisHeight-h.config.xaxis.axisTicks.height-5),h.config.legend.position){case"bottom":g.translateY=N,L();break;case"top":g.translateY=this.lgRect.height+N,L();break;case"left":g.translateY=N,g.translateX=this.lgRect.width+D,g.gridHeight=g.svgHeight-R-12,g.gridWidth=g.svgWidth-this.lgRect.width-D;break;case"right":g.translateY=N,g.translateX=D,g.gridHeight=g.svgHeight-R-12,g.gridWidth=g.svgWidth-this.lgRect.width-D-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(x,_),new dn(this.ctx).setYAxisXPosition(_,x)}},{key:"setDimensionsForNonAxisCharts",value:function(){var u=this.w,h=u.globals,g=u.config,_=0;u.config.legend.show&&!u.config.legend.floating&&(_=20);var x="pie"===g.chart.type||"polarArea"===g.chart.type||"donut"===g.chart.type?"pie":"radialBar",A=g.plotOptions[x].offsetY,S=g.plotOptions[x].offsetX;if(!g.legend.show||g.legend.floating)return h.gridHeight=h.svgHeight-g.grid.padding.left+g.grid.padding.right,h.gridWidth=h.gridHeight,h.translateY=A,void(h.translateX=S+(h.svgWidth-h.gridWidth)/2);switch(g.legend.position){case"bottom":h.gridHeight=h.svgHeight-this.lgRect.height-h.goldenPadding,h.gridWidth=h.svgWidth,h.translateY=A-10,h.translateX=S+(h.svgWidth-h.gridWidth)/2;break;case"top":h.gridHeight=h.svgHeight-this.lgRect.height-h.goldenPadding,h.gridWidth=h.svgWidth,h.translateY=this.lgRect.height+A+10,h.translateX=S+(h.svgWidth-h.gridWidth)/2;break;case"left":h.gridWidth=h.svgWidth-this.lgRect.width-_,h.gridHeight="auto"!==g.chart.height?h.svgHeight:h.gridWidth,h.translateY=A,h.translateX=S+this.lgRect.width+_;break;case"right":h.gridWidth=h.svgWidth-this.lgRect.width-_-5,h.gridHeight="auto"!==g.chart.height?h.svgHeight:h.gridWidth,h.translateY=A,h.translateX=S+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(u,h){var g=this.w;this.xAxisHeight=(u.height+h.height)*(g.globals.isMultiLineX?1.2:g.globals.LINE_HEIGHT_RATIO)+(g.globals.rotateXLabels?22:10),this.xAxisWidth=u.width,this.xAxisHeight-h.height>g.config.xaxis.labels.maxHeight&&(this.xAxisHeight=g.config.xaxis.labels.maxHeight),g.config.xaxis.labels.minHeight&&this.xAxisHeight<g.config.xaxis.labels.minHeight&&(this.xAxisHeight=g.config.xaxis.labels.minHeight),g.config.xaxis.floating&&(this.xAxisHeight=0);var _=0,x=0;g.config.yaxis.forEach(function(A){_+=A.labels.minWidth,x+=A.labels.maxWidth}),this.yAxisWidth<_&&(this.yAxisWidth=_),this.yAxisWidth>x&&(this.yAxisWidth=x)}}]),J}(),Jn=function(){function J(u){K(this,J),this.w=u.w,this.lgCtx=u}return Ee(J,[{key:"getLegendStyles",value:function(){var u=document.createElement("style");u.setAttribute("type","text/css");var h=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return u.appendChild(h),u}},{key:"getLegendBBox",value:function(){var u=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:u.height,clww:u.width}}},{key:"appendToForeignObject",value:function(){var u=this.w.globals;u.dom.elLegendForeign=document.createElementNS(u.SVGNS,"foreignObject");var h=u.dom.elLegendForeign;h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("width",u.svgWidth),h.setAttribute("height",u.svgHeight),u.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),h.appendChild(u.dom.elLegendWrap),h.appendChild(this.getLegendStyles()),u.dom.Paper.node.insertBefore(h,u.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(u,h){var g=this,_=this.w;if(_.globals.axisCharts||"radialBar"===_.config.chart.type){_.globals.resized=!0;var x=null,A=null;_.globals.risingSeries=[],_.globals.axisCharts?(x=_.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(u,"']")),A=parseInt(x.getAttribute("data:realIndex"),10)):(x=_.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(u+1,"']")),A=parseInt(x.getAttribute("rel"),10)-1),h?[{cs:_.globals.collapsedSeries,csi:_.globals.collapsedSeriesIndices},{cs:_.globals.ancillaryCollapsedSeries,csi:_.globals.ancillaryCollapsedSeriesIndices}].forEach(function(N){g.riseCollapsedSeries(N.cs,N.csi,A)}):this.hideSeries({seriesEl:x,realIndex:A})}else{var S=_.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(u+1,"'] path")),D=_.config.chart.type;if("pie"===D||"polarArea"===D||"donut"===D){var R=_.config.plotOptions.pie.donut.labels;new Pe(this.lgCtx.ctx).pathMouseDown(S.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(S.members[0].node,R)}S.fire("click")}}},{key:"hideSeries",value:function(u){var h=u.seriesEl,g=u.realIndex,_=this.w,x=de.clone(_.config.series);if(_.globals.axisCharts){var A=!1;if(_.config.yaxis[g]&&_.config.yaxis[g].show&&_.config.yaxis[g].showAlways&&(A=!0,_.globals.ancillaryCollapsedSeriesIndices.indexOf(g)<0&&(_.globals.ancillaryCollapsedSeries.push({index:g,data:x[g].data.slice(),type:h.parentNode.className.baseVal.split("-")[1]}),_.globals.ancillaryCollapsedSeriesIndices.push(g))),!A){_.globals.collapsedSeries.push({index:g,data:x[g].data.slice(),type:h.parentNode.className.baseVal.split("-")[1]}),_.globals.collapsedSeriesIndices.push(g);var S=_.globals.risingSeries.indexOf(g);_.globals.risingSeries.splice(S,1)}}else _.globals.collapsedSeries.push({index:g,data:x[g]}),_.globals.collapsedSeriesIndices.push(g);for(var D=h.childNodes,R=0;R<D.length;R++)D[R].classList.contains("apexcharts-series-markers-wrap")&&(D[R].classList.contains("apexcharts-hide")?D[R].classList.remove("apexcharts-hide"):D[R].classList.add("apexcharts-hide"));_.globals.allSeriesCollapsed=_.globals.collapsedSeries.length===_.config.series.length,x=this._getSeriesBasedOnCollapsedState(x),this.lgCtx.ctx.updateHelpers._updateSeries(x,_.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(u,h,g){var _=this.w,x=de.clone(_.config.series);if(u.length>0){for(var A=0;A<u.length;A++)u[A].index===g&&(_.globals.axisCharts?(x[g].data=u[A].data.slice(),u.splice(A,1),h.splice(A,1),_.globals.risingSeries.push(g)):(x[g]=u[A].data,u.splice(A,1),h.splice(A,1),_.globals.risingSeries.push(g)));x=this._getSeriesBasedOnCollapsedState(x),this.lgCtx.ctx.updateHelpers._updateSeries(x,_.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(u){var h=this.w;return u.forEach(h.globals.axisCharts?function(g,_){h.globals.collapsedSeriesIndices.indexOf(_)>-1&&(u[_].data=[])}:function(g,_){h.globals.collapsedSeriesIndices.indexOf(_)>-1&&(u[_]=0)}),u}}]),J}(),Ct=function(){function J(u,h){K(this,J),this.ctx=u,this.w=u.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Jn(this)}return Ee(J,[{key:"init",value:function(){var u=this.w,h=u.globals,g=u.config;if((g.legend.showForSingleSeries&&1===h.series.length||this.isBarsDistributed||h.series.length>1||!h.axisCharts)&&g.legend.show){for(;h.dom.elLegendWrap.firstChild;)h.dom.elLegendWrap.removeChild(h.dom.elLegendWrap.firstChild);this.drawLegends(),de.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===g.legend.position||"top"===g.legend.position?this.legendAlignHorizontal():"right"!==g.legend.position&&"left"!==g.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var u=this,h=this.w,g=h.config.legend.fontFamily,_=h.globals.seriesNames,x=h.globals.colors.slice();if("heatmap"===h.config.chart.type){var A=h.config.plotOptions.heatmap.colorScale.ranges;_=A.map(function(rt){return rt.name?rt.name:rt.from+" - "+rt.to}),x=A.map(function(rt){return rt.color})}else this.isBarsDistributed&&(_=h.globals.labels.slice());h.config.legend.customLegendItems.length&&(_=h.config.legend.customLegendItems);for(var S=h.globals.legendFormatter,D=h.config.legend.inverseOrder,R=D?_.length-1:0;D?R>=0:R<=_.length-1;D?R--:R++){var N=S(_[R],{seriesIndex:R,w:h}),L=!1,V=!1;if(h.globals.collapsedSeries.length>0)for(var j=0;j<h.globals.collapsedSeries.length;j++)h.globals.collapsedSeries[j].index===R&&(L=!0);if(h.globals.ancillaryCollapsedSeriesIndices.length>0)for(var q=0;q<h.globals.ancillaryCollapsedSeriesIndices.length;q++)h.globals.ancillaryCollapsedSeriesIndices[q]===R&&(V=!0);var Y=document.createElement("span");Y.classList.add("apexcharts-legend-marker");var $=h.config.legend.markers.offsetX,ne=h.config.legend.markers.offsetY,se=h.config.legend.markers.height,fe=h.config.legend.markers.width,k=h.config.legend.markers.strokeWidth,H=h.config.legend.markers.strokeColor,Z=h.config.legend.markers.radius,ee=Y.style;ee.background=x[R],ee.color=x[R],ee.setProperty("background",x[R],"important"),h.config.legend.markers.fillColors&&h.config.legend.markers.fillColors[R]&&(ee.background=h.config.legend.markers.fillColors[R]),void 0!==h.globals.seriesColors[R]&&(ee.background=h.globals.seriesColors[R],ee.color=h.globals.seriesColors[R]),ee.height=Array.isArray(se)?parseFloat(se[R])+"px":parseFloat(se)+"px",ee.width=Array.isArray(fe)?parseFloat(fe[R])+"px":parseFloat(fe)+"px",ee.left=(Array.isArray($)?parseFloat($[R]):parseFloat($))+"px",ee.top=(Array.isArray(ne)?parseFloat(ne[R]):parseFloat(ne))+"px",ee.borderWidth=Array.isArray(k)?k[R]:k,ee.borderColor=Array.isArray(H)?H[R]:H,ee.borderRadius=Array.isArray(Z)?parseFloat(Z[R])+"px":parseFloat(Z)+"px",h.config.legend.markers.customHTML&&(Array.isArray(h.config.legend.markers.customHTML)?h.config.legend.markers.customHTML[R]&&(Y.innerHTML=h.config.legend.markers.customHTML[R]()):Y.innerHTML=h.config.legend.markers.customHTML()),Pe.setAttrs(Y,{rel:R+1,"data:collapsed":L||V}),(L||V)&&Y.classList.add("apexcharts-inactive-legend");var pe=document.createElement("div"),Fe=document.createElement("span");Fe.classList.add("apexcharts-legend-text"),Fe.innerHTML=Array.isArray(N)?de.sanitizeDom(N.join(" ")):de.sanitizeDom(N);var Re=h.config.legend.labels.useSeriesColors?h.globals.colors[R]:h.config.legend.labels.colors;Re||(Re=h.config.chart.foreColor),Fe.style.color=Re,Fe.style.fontSize=parseFloat(h.config.legend.fontSize)+"px",Fe.style.fontWeight=h.config.legend.fontWeight,Fe.style.fontFamily=g||h.config.chart.fontFamily,Pe.setAttrs(Fe,{rel:R+1,i:R,"data:default-text":encodeURIComponent(N),"data:collapsed":L||V}),pe.appendChild(Y),pe.appendChild(Fe);var Qe=new vt(this.ctx);h.config.legend.showForZeroSeries||0===Qe.getSeriesTotalByIndex(R)&&Qe.seriesHaveSameValues(R)&&!Qe.isSeriesNull(R)&&-1===h.globals.collapsedSeriesIndices.indexOf(R)&&-1===h.globals.ancillaryCollapsedSeriesIndices.indexOf(R)&&pe.classList.add("apexcharts-hidden-zero-series"),h.config.legend.showForNullSeries||Qe.isSeriesNull(R)&&-1===h.globals.collapsedSeriesIndices.indexOf(R)&&-1===h.globals.ancillaryCollapsedSeriesIndices.indexOf(R)&&pe.classList.add("apexcharts-hidden-null-series"),h.globals.dom.elLegendWrap.appendChild(pe),h.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(h.config.legend.horizontalAlign)),h.globals.dom.elLegendWrap.classList.add("position-"+h.config.legend.position),pe.classList.add("apexcharts-legend-series"),pe.style.margin="".concat(h.config.legend.itemMargin.vertical,"px ").concat(h.config.legend.itemMargin.horizontal,"px"),h.globals.dom.elLegendWrap.style.width=h.config.legend.width?h.config.legend.width+"px":"",h.globals.dom.elLegendWrap.style.height=h.config.legend.height?h.config.legend.height+"px":"",Pe.setAttrs(pe,{rel:R+1,seriesName:de.escapeString(_[R]),"data:collapsed":L||V}),(L||V)&&pe.classList.add("apexcharts-inactive-legend"),h.config.legend.onItemClick.toggleDataSeries||pe.classList.add("apexcharts-no-click")}h.globals.dom.elWrap.addEventListener("click",u.onLegendClick,!0),h.config.legend.onItemHover.highlightDataSeries&&0===h.config.legend.customLegendItems.length&&(h.globals.dom.elWrap.addEventListener("mousemove",u.onLegendHovered,!0),h.globals.dom.elWrap.addEventListener("mouseout",u.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(u,h){var g=this.w,_=g.globals.dom.baseEl.querySelector(".apexcharts-legend"),x=_.getBoundingClientRect(),A=0,S=0;if("bottom"===g.config.legend.position)S+=g.globals.svgHeight-x.height/2;else if("top"===g.config.legend.position){var D=new ga(this.ctx),R=D.dimHelpers.getTitleSubtitleCoords("title").height,N=D.dimHelpers.getTitleSubtitleCoords("subtitle").height;S=S+(R>0?R-10:0)+(N>0?N-10:0)}_.style.position="absolute",S=S+h+g.config.legend.offsetY,_.style.left=(A=A+u+g.config.legend.offsetX)+"px",_.style.top=S+"px","bottom"===g.config.legend.position?(_.style.top="auto",_.style.bottom=5-g.config.legend.offsetY+"px"):"right"===g.config.legend.position&&(_.style.left="auto",_.style.right=25+g.config.legend.offsetX+"px"),["width","height"].forEach(function(L){_.style[L]&&(_.style[L]=parseInt(g.config.legend[L],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var u=this.w;u.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var h=this.legendHelpers.getLegendBBox(),g=new ga(this.ctx),_=g.dimHelpers.getTitleSubtitleCoords("title"),x=g.dimHelpers.getTitleSubtitleCoords("subtitle"),A=0;"bottom"===u.config.legend.position?A=-h.clwh/1.8:"top"===u.config.legend.position&&(A=_.height+x.height+u.config.title.margin+u.config.subtitle.margin-10),this.setLegendWrapXY(20,A)}},{key:"legendAlignVertical",value:function(){var u=this.w,h=this.legendHelpers.getLegendBBox(),g=0;"left"===u.config.legend.position&&(g=20),"right"===u.config.legend.position&&(g=u.globals.svgWidth-h.clww-10),this.setLegendWrapXY(g,20)}},{key:"onLegendHovered",value:function(u){var h=this.w,g=u.target.classList.contains("apexcharts-legend-text")||u.target.classList.contains("apexcharts-legend-marker");if("heatmap"===h.config.chart.type||this.isBarsDistributed){if(g){var _=parseInt(u.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,_,this.w]),new Dt(this.ctx).highlightRangeInSeries(u,u.target)}}else!u.target.classList.contains("apexcharts-inactive-legend")&&g&&new Dt(this.ctx).toggleSeriesOnHover(u,u.target)}},{key:"onLegendClick",value:function(u){var h=this.w;if(!h.config.legend.customLegendItems.length&&(u.target.classList.contains("apexcharts-legend-text")||u.target.classList.contains("apexcharts-legend-marker"))){var g=parseInt(u.target.getAttribute("rel"),10)-1,_="true"===u.target.getAttribute("data:collapsed"),x=this.w.config.chart.events.legendClick;"function"==typeof x&&x(this.ctx,g,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,g,this.w]);var A=this.w.config.legend.markers.onClick;"function"==typeof A&&u.target.classList.contains("apexcharts-legend-marker")&&(A(this.ctx,g,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,g,this.w])),"treemap"!==h.config.chart.type&&"heatmap"!==h.config.chart.type&&!this.isBarsDistributed&&h.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(g,_)}}}]),J}(),Qt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=h.globals.minX,this.maxX=h.globals.maxX}return Ee(J,[{key:"createToolbar",value:function(){var u=this,h=this.w,g=function(){return document.createElement("div")},_=g();if(_.setAttribute("class","apexcharts-toolbar"),_.style.top=h.config.chart.toolbar.offsetY+"px",_.style.right=3-h.config.chart.toolbar.offsetX+"px",h.globals.dom.elWrap.appendChild(_),this.elZoom=g(),this.elZoomIn=g(),this.elZoomOut=g(),this.elPan=g(),this.elSelection=g(),this.elZoomReset=g(),this.elMenuIcon=g(),this.elMenu=g(),this.elCustomIcons=[],this.t=h.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var x=0;x<this.t.customIcons.length;x++)this.elCustomIcons.push(g());var A=[],S=function(L,V,j){var q=L.toLowerCase();u.t[q]&&h.config.chart.zoom.enabled&&A.push({el:V,icon:"string"==typeof u.t[q]?u.t[q]:j,title:u.localeValues[L],class:"apexcharts-".concat(q,"-icon")})};S("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),S("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var D=function(L){u.t[L]&&h.config.chart[L].enabled&&A.push({el:"zoom"===L?u.elZoom:u.elSelection,icon:"string"==typeof u.t[L]?u.t[L]:"zoom"===L?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:u.localeValues["zoom"===L?"selectionZoom":"selection"],class:h.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(L,"-icon")})};D("zoom"),D("selection"),this.t.pan&&h.config.chart.zoom.enabled&&A.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:h.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),S("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&A.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var R=0;R<this.elCustomIcons.length;R++)A.push({el:this.elCustomIcons[R],icon:this.t.customIcons[R].icon,title:this.t.customIcons[R].title,index:this.t.customIcons[R].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[R].class});A.forEach(function(L,V){L.index&&de.moveIndexInArray(A,V,L.index)});for(var N=0;N<A.length;N++)Pe.setAttrs(A[N].el,{class:A[N].class,title:A[N].title}),A[N].el.innerHTML=A[N].icon,_.appendChild(A[N].el);this._createHamburgerMenu(_),h.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):h.globals.panEnabled?this.elPan.classList.add(this.selectedClass):h.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(u){this.elMenuItems=[],u.appendChild(this.elMenu),Pe.setAttrs(this.elMenu,{class:"apexcharts-menu"});var h=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||h.splice(2,1);for(var g=0;g<h.length;g++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[g].innerHTML=h[g].title,Pe.setAttrs(this.elMenuItems[g],{class:"apexcharts-menu-item ".concat(h[g].name),title:h[g].title}),this.elMenu.appendChild(this.elMenuItems[g])}},{key:"addToolbarEventListeners",value:function(){var u=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(g){g.classList.contains("exportSVG")?g.addEventListener("click",u.handleDownload.bind(u,"svg")):g.classList.contains("exportPNG")?g.addEventListener("click",u.handleDownload.bind(u,"png")):g.classList.contains("exportCSV")&&g.addEventListener("click",u.handleDownload.bind(u,"csv"))});for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons[h].addEventListener("click",this.t.customIcons[h].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(u){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls();var g="selection"===u?h.ctx.toolbar.elSelection:h.ctx.toolbar.elZoom,_="selection"===u?"selectionEnabled":"zoomEnabled";h.w.globals[_]=!h.w.globals[_],g.classList.contains(h.ctx.toolbar.selectedClass)?g.classList.remove(h.ctx.toolbar.selectedClass):g.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var u=this.w;this.elZoom||(this.elZoom=u.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=u.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=u.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(u){this.toggleOtherControls(),"pan"===u?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var h="pan"===u?this.elPan:this.elZoom,g="pan"===u?this.elZoom:this.elPan;h&&h.classList.add(this.selectedClass),g&&g.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(u){u.ctx.toolbar.toggleOtherControls(),u.w.globals.panEnabled=!u.w.globals.panEnabled,u.ctx.toolbar.elPan.classList.contains(u.ctx.toolbar.selectedClass)?u.ctx.toolbar.elPan.classList.remove(u.ctx.toolbar.selectedClass):u.ctx.toolbar.elPan.classList.add(u.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var u=this,h=this.w;h.globals.panEnabled=!1,h.globals.zoomEnabled=!1,h.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(g){g&&g.classList.remove(u.selectedClass)})}},{key:"handleZoomIn",value:function(){var u=this.w;u.globals.isTimelineBar&&(this.minX=u.globals.minY,this.maxX=u.globals.maxY);var h=(this.minX+this.maxX)/2,x=this._getNewMinXMaxX((this.minX+h)/2,(this.maxX+h)/2);u.globals.disableZoomIn||this.zoomUpdateOptions(x.minX,x.maxX)}},{key:"handleZoomOut",value:function(){var u=this.w;if(u.globals.isTimelineBar&&(this.minX=u.globals.minY,this.maxX=u.globals.maxY),!("datetime"===u.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var h=(this.minX+this.maxX)/2,x=this._getNewMinXMaxX(this.minX-(h-this.minX),this.maxX-(h-this.maxX));u.globals.disableZoomOut||this.zoomUpdateOptions(x.minX,x.maxX)}}},{key:"_getNewMinXMaxX",value:function(u,h){var g=this.w.config.xaxis.convertedCatToNumeric;return{minX:g?Math.floor(u):u,maxX:g?Math.floor(h):h}}},{key:"zoomUpdateOptions",value:function(u,h){var g=this.w;if(void 0!==u||void 0!==h){if(!(g.config.xaxis.convertedCatToNumeric&&(u<1&&(u=1,h=g.globals.dataPoints),h-u<2))){var _={min:u,max:h},x=this.getBeforeZoomRange(_);x&&(_=x.xaxis);var A={xaxis:_},S=de.clone(g.globals.initialConfig.yaxis);g.config.chart.zoom.autoScaleYaxis&&(S=new gr(this.ctx).autoScaleY(this.ctx,S,{xaxis:_})),g.config.chart.group||(A.yaxis=S),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(A,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(_,S)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(u,h){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:u,yaxis:h})}},{key:"getBeforeZoomRange",value:function(u,h){var g=null;return"function"==typeof this.ev.beforeZoom&&(g=this.ev.beforeZoom(this,{xaxis:u,yaxis:h})),g}},{key:"toggleMenu",value:function(){var u=this;window.setTimeout(function(){u.elMenu.classList.contains("apexcharts-menu-open")?u.elMenu.classList.remove("apexcharts-menu-open"):u.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(u){var h=this.w,g=new fi(this.ctx);switch(u){case"svg":g.exportToSVG(this.ctx);break;case"png":g.exportToPng(this.ctx);break;case"csv":g.exportToCSV({series:h.config.series,columnDelimiter:h.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(u){this.ctx.getSyncedCharts().forEach(function(h){var g=h.w;if(g.globals.lastXAxis.min=void 0,g.globals.lastXAxis.max=void 0,h.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof g.config.chart.events.beforeResetZoom){var _=g.config.chart.events.beforeResetZoom(h,g);_&&h.updateHelpers.revertDefaultAxisMinMax(_)}"function"==typeof g.config.chart.events.zoomed&&h.ctx.toolbar.zoomCallback({min:g.config.xaxis.min,max:g.config.xaxis.max}),g.globals.zoomed=!1;var x=h.ctx.series.emptyCollapsedSeries(de.clone(g.globals.initialSeries));h.updateHelpers._updateSeries(x,g.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),J}(),cu=function(J){Ae(h,Qt);var u=Ce(h);function h(g){var _;return K(this,h),(_=u.call(this,g)).ctx=g,_.w=g.w,_.dragged=!1,_.graphics=new Pe(_.ctx),_.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],_.clientX=0,_.clientY=0,_.startX=0,_.endX=0,_.dragX=0,_.startY=0,_.endY=0,_.dragY=0,_.moveDirection="none",_}return Ee(h,[{key:"init",value:function(g){var _=this,x=g.xyRatios,A=this.w,S=this;this.xyRatios=x,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=A.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),A.globals.dom.elGraphical.add(this.zoomRect),A.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===A.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:A.globals.gridWidth,maxY:A.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===A.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:A.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=A.globals.dom.baseEl.querySelector("".concat(A.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(D){_.hoverArea.addEventListener(D,S.svgMouseEvents.bind(S,x),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(g,_){var x=this.w,A=this,S=this.ctx.toolbar,D=x.globals.zoomEnabled?x.config.chart.zoom.type:x.config.chart.selection.type,R=x.config.chart.toolbar.autoSelected;_.shiftKey?(this.shiftWasPressed=!0,S.enableZoomPanFromToolbar("pan"===R?"zoom":"pan")):this.shiftWasPressed&&(S.enableZoomPanFromToolbar(R),this.shiftWasPressed=!1);var N=_.target.classList;if(!(N.contains("apexcharts-selection-rect")||N.contains("apexcharts-legend-marker")||N.contains("apexcharts-legend-text")||_.target.parentNode.classList.contains("apexcharts-toolbar"))){if(A.clientX="touchmove"===_.type||"touchstart"===_.type?_.touches[0].clientX:"touchend"===_.type?_.changedTouches[0].clientX:_.clientX,A.clientY="touchmove"===_.type||"touchstart"===_.type?_.touches[0].clientY:"touchend"===_.type?_.changedTouches[0].clientY:_.clientY,"mousedown"===_.type&&1===_.which){var L=A.gridRect.getBoundingClientRect();A.startX=A.clientX-L.left,A.startY=A.clientY-L.top,A.dragged=!1,A.w.globals.mousedown=!0}if(("mousemove"===_.type&&1===_.which||"touchmove"===_.type)&&(A.dragged=!0,x.globals.panEnabled?(x.globals.selection=null,A.w.globals.mousedown&&A.panDragging({context:A,zoomtype:D,xyRatios:g})):(A.w.globals.mousedown&&x.globals.zoomEnabled||A.w.globals.mousedown&&x.globals.selectionEnabled)&&(A.selection=A.selectionDrawing({context:A,zoomtype:D}))),"mouseup"===_.type||"touchend"===_.type||"mouseleave"===_.type){var V=A.gridRect.getBoundingClientRect();A.w.globals.mousedown&&(A.endX=A.clientX-V.left,A.endY=A.clientY-V.top,A.dragX=Math.abs(A.endX-A.startX),A.dragY=Math.abs(A.endY-A.startY),(x.globals.zoomEnabled||x.globals.selectionEnabled)&&A.selectionDrawn({context:A,zoomtype:D}),x.globals.panEnabled&&x.config.xaxis.convertedCatToNumeric&&A.delayedPanScrolled()),x.globals.zoomEnabled&&A.hideSelectionRect(this.selectionRect),A.dragged=!1,A.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var g=this.w;if(this.selectionRect){var _=this.selectionRect.node.getBoundingClientRect();_.width>0&&_.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var g=this.w,_=this.xyRatios;if(!g.globals.zoomEnabled)if(null!=g.globals.selection)this.drawSelectionRect(g.globals.selection);else if(void 0!==g.config.chart.selection.xaxis.min&&void 0!==g.config.chart.selection.xaxis.max){var x=(g.config.chart.selection.xaxis.min-g.globals.minX)/_.xRatio;this.drawSelectionRect({x,y:0,width:g.globals.gridWidth-(g.globals.maxX-g.config.chart.selection.xaxis.max)/_.xRatio-x,height:g.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof g.config.chart.events.selection&&g.config.chart.events.selection(this.ctx,{xaxis:{min:g.config.chart.selection.xaxis.min,max:g.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(g){var _=g.x,x=g.y,A=g.width,S=g.height,D=g.translateX,N=g.translateY,V=this.w,j=this.zoomRect,q=this.selectionRect;if(this.dragged||null!==V.globals.selection){var Y={transform:"translate("+(void 0===D?0:D)+", "+(void 0===N?0:N)+")"};V.globals.zoomEnabled&&this.dragged&&(A<0&&(A=1),j.attr({x:_,y:x,width:A,height:S,fill:V.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":V.config.chart.zoom.zoomedArea.fill.opacity,stroke:V.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":V.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":V.config.chart.zoom.zoomedArea.stroke.opacity}),Pe.setAttrs(j.node,Y)),V.globals.selectionEnabled&&(q.attr({x:_,y:x,width:A>0?A:0,height:S>0?S:0,fill:V.config.chart.selection.fill.color,"fill-opacity":V.config.chart.selection.fill.opacity,stroke:V.config.chart.selection.stroke.color,"stroke-width":V.config.chart.selection.stroke.width,"stroke-dasharray":V.config.chart.selection.stroke.dashArray,"stroke-opacity":V.config.chart.selection.stroke.opacity}),Pe.setAttrs(q.node,Y))}}},{key:"hideSelectionRect",value:function(g){g&&g.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(g){var Y,x=g.zoomtype,A=this.w,S=g.context,D=this.gridRect.getBoundingClientRect(),R=S.startX-1,N=S.startY,L=!1,V=!1,j=S.clientX-D.left-R,q=S.clientY-D.top-N;return Math.abs(j+R)>A.globals.gridWidth?j=A.globals.gridWidth-R:S.clientX-D.left<0&&(j=R),R>S.clientX-D.left&&(L=!0,j=Math.abs(j)),N>S.clientY-D.top&&(V=!0,q=Math.abs(q)),S.drawSelectionRect(Y="x"===x?{x:L?R-j:R,y:0,width:j,height:A.globals.gridHeight}:"y"===x?{x:0,y:V?N-q:N,width:A.globals.gridWidth,height:q}:{x:L?R-j:R,y:V?N-q:N,width:j,height:q}),S.selectionDragging("resizing"),Y}},{key:"selectionDragging",value:function(g,_){var x=this,A=this.w,S=this.xyRatios,D=this.selectionRect,R=0;"resizing"===g&&(R=30);var N=function(V){return parseFloat(D.node.getAttribute(V))},L={x:N("x"),y:N("y"),width:N("width"),height:N("height")};A.globals.selection=L,"function"==typeof A.config.chart.events.selection&&A.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var V=x.gridRect.getBoundingClientRect(),j=D.node.getBoundingClientRect(),q={xaxis:{min:A.globals.xAxisScale.niceMin+(j.left-V.left)*S.xRatio,max:A.globals.xAxisScale.niceMin+(j.right-V.left)*S.xRatio},yaxis:{min:A.globals.yAxisScale[0].niceMin+(V.bottom-j.bottom)*S.yRatio[0],max:A.globals.yAxisScale[0].niceMax-(j.top-V.top)*S.yRatio[0]}};A.config.chart.events.selection(x.ctx,q),A.config.chart.brush.enabled&&void 0!==A.config.chart.events.brushScrolled&&A.config.chart.events.brushScrolled(x.ctx,q)},R))}},{key:"selectionDrawn",value:function(g){var x=g.zoomtype,A=this.w,S=g.context,D=this.xyRatios,R=this.ctx.toolbar;if(S.startX>S.endX){var N=S.startX;S.startX=S.endX,S.endX=N}if(S.startY>S.endY){var L=S.startY;S.startY=S.endY,S.endY=L}var V=void 0,j=void 0;A.globals.isTimelineBar?(V=A.globals.yAxisScale[0].niceMin+S.startX*D.invertedYRatio,j=A.globals.yAxisScale[0].niceMin+S.endX*D.invertedYRatio):(V=A.globals.xAxisScale.niceMin+S.startX*D.xRatio,j=A.globals.xAxisScale.niceMin+S.endX*D.xRatio);var q=[],Y=[];if(A.config.yaxis.forEach(function(ee,pe){q.push(A.globals.yAxisScale[pe].niceMax-D.yRatio[pe]*S.startY),Y.push(A.globals.yAxisScale[pe].niceMax-D.yRatio[pe]*S.endY)}),S.dragged&&(S.dragX>10||S.dragY>10)&&V!==j)if(A.globals.zoomEnabled){var $=de.clone(A.globals.initialConfig.yaxis),ne=de.clone(A.globals.initialConfig.xaxis);if(A.globals.zoomed=!0,A.config.xaxis.convertedCatToNumeric&&(V=Math.floor(V),j=Math.floor(j),V<1&&(V=1,j=A.globals.dataPoints),j-V<2&&(j=V+1)),"xy"!==x&&"x"!==x||(ne={min:V,max:j}),"xy"!==x&&"y"!==x||$.forEach(function(ee,pe){$[pe].min=Y[pe],$[pe].max=q[pe]}),A.config.chart.zoom.autoScaleYaxis){var se=new gr(S.ctx);$=se.autoScaleY(S.ctx,$,{xaxis:ne})}if(R){var fe=R.getBeforeZoomRange(ne,$);fe&&(ne=fe.xaxis?fe.xaxis:ne,$=fe.yaxis?fe.yaxis:$)}var k={xaxis:ne};A.config.chart.group||(k.yaxis=$),S.ctx.updateHelpers._updateOptions(k,!1,S.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof A.config.chart.events.zoomed&&R.zoomCallback(ne,$)}else if(A.globals.selectionEnabled){var H,Z=null;H={min:V,max:j},"xy"!==x&&"y"!==x||(Z=de.clone(A.config.yaxis)).forEach(function(ee,pe){Z[pe].min=Y[pe],Z[pe].max=q[pe]}),A.globals.selection=S.selection,"function"==typeof A.config.chart.events.selection&&A.config.chart.events.selection(S.ctx,{xaxis:H,yaxis:Z})}}},{key:"panDragging",value:function(g){var x=this.w,A=g.context;if(void 0!==x.globals.lastClientPosition.x){var S=x.globals.lastClientPosition.x-A.clientX,D=x.globals.lastClientPosition.y-A.clientY;Math.abs(S)>Math.abs(D)&&S>0?this.moveDirection="left":Math.abs(S)>Math.abs(D)&&S<0?this.moveDirection="right":Math.abs(D)>Math.abs(S)&&D>0?this.moveDirection="up":Math.abs(D)>Math.abs(S)&&D<0&&(this.moveDirection="down")}x.globals.lastClientPosition={x:A.clientX,y:A.clientY},x.config.xaxis.convertedCatToNumeric||A.panScrolled(x.globals.isTimelineBar?x.globals.minY:x.globals.minX,x.globals.isTimelineBar?x.globals.maxY:x.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var g=this.w,_=g.globals.minX,x=g.globals.maxX,A=(g.globals.maxX-g.globals.minX)/2;"left"===this.moveDirection?(_=g.globals.minX+A,x=g.globals.maxX+A):"right"===this.moveDirection&&(_=g.globals.minX-A,x=g.globals.maxX-A),_=Math.floor(_),x=Math.floor(x),this.updateScrolledChart({xaxis:{min:_,max:x}},_,x)}},{key:"panScrolled",value:function(g,_){var x=this.w,A=this.xyRatios,S=de.clone(x.globals.initialConfig.yaxis),D=A.xRatio,R=x.globals.minX,N=x.globals.maxX;x.globals.isTimelineBar&&(D=A.invertedYRatio,R=x.globals.minY,N=x.globals.maxY),"left"===this.moveDirection?(g=R+x.globals.gridWidth/15*D,_=N+x.globals.gridWidth/15*D):"right"===this.moveDirection&&(g=R-x.globals.gridWidth/15*D,_=N-x.globals.gridWidth/15*D),x.globals.isTimelineBar||(g<x.globals.initialMinX||_>x.globals.initialMaxX)&&(g=R,_=N);var L={min:g,max:_};x.config.chart.zoom.autoScaleYaxis&&(S=new gr(this.ctx).autoScaleY(this.ctx,S,{xaxis:L}));var V={xaxis:{min:g,max:_}};x.config.chart.group||(V.yaxis=S),this.updateScrolledChart(V,g,_)}},{key:"updateScrolledChart",value:function(g,_,x){var A=this.w;this.ctx.updateHelpers._updateOptions(g,!1,!1),"function"==typeof A.config.chart.events.scrolled&&A.config.chart.events.scrolled(this.ctx,{xaxis:{min:_,max:x}})}}]),h}(),Vs=function(){function J(u){K(this,J),this.w=u.w,this.ttCtx=u,this.ctx=u.ctx}return Ee(J,[{key:"getNearestValues",value:function(u){var h=u.hoverArea,_=u.clientX,x=u.clientY,A=this.w,S=A.globals.gridWidth,R=S/(A.globals.dataPoints-1),N=A.globals.gridHeight/A.globals.dataPoints,L=u.elGrid.getBoundingClientRect(),V=this.hasBars();!A.globals.comboCharts&&!V||A.config.xaxis.convertedCatToNumeric||(R=S/A.globals.dataPoints);var j=_-L.left-A.globals.barPadForNumericAxis,q=x-L.top;j<0||q<0||j>A.globals.gridWidth||q>A.globals.gridHeight?(h.classList.remove("hovering-zoom"),h.classList.remove("hovering-pan")):A.globals.zoomEnabled?(h.classList.remove("hovering-pan"),h.classList.add("hovering-zoom")):A.globals.panEnabled&&(h.classList.remove("hovering-zoom"),h.classList.add("hovering-pan"));var Y=Math.round(j/R),$=Math.floor(q/N);V&&!A.config.xaxis.convertedCatToNumeric&&(Y=Math.ceil(j/R),Y-=1);for(var ne,se=null,fe=null,k=[],H=0;H<A.globals.seriesXvalues.length;H++)k.push([A.globals.seriesXvalues[H][0]-1e-6].concat(A.globals.seriesXvalues[H]));return k=k.map(function(Z){return Z.filter(function(ee){return ee})}),ne=A.globals.seriesYvalues.map(function(Z){return Z.filter(function(ee){return de.isNumber(ee)})}),A.globals.isXNumeric&&(se=(fe=this.closestInMultiArray(j,q,k,ne)).index,Y=fe.j,null!==se&&(Y=(fe=this.closestInArray(j,k=A.globals.seriesXvalues[se])).index)),A.globals.capturedSeriesIndex=null===se?-1:se,(!Y||Y<1)&&(Y=0),A.globals.capturedDataPointIndex=Y,{capturedSeries:se,j:A.globals.isBarHorizontal?$:Y,hoverX:j,hoverY:q}}},{key:"closestInMultiArray",value:function(u,h,g,_){var A=0,S=null,D=-1;this.w.globals.series.length>1?A=this.getFirstActiveXArray(g):S=0;var R=_[A][0],L=Math.abs(u-g[A][0]),V=Math.abs(h-R),j=V+L;return _.map(function(q,Y){q.map(function($,ne){var se=Math.abs(h-_[Y][ne]),fe=Math.abs(u-g[Y][ne]),k=fe+se;k<j&&(j=k,L=fe,V=se,S=Y,D=ne)})}),{index:S,j:D}}},{key:"getFirstActiveXArray",value:function(u){for(var h=0,g=u.map(function(x,A){return x.length>0?A:-1}),_=0;_<g.length;_++)if(-1!==g[_]){h=g[_];break}return h}},{key:"closestInArray",value:function(u,h){for(var _=null,x=Math.abs(u-h[0]),A=0;A<h.length;A++){var S=Math.abs(u-h[A]);S<x&&(x=S,_=A)}return{index:_}}},{key:"isXoverlap",value:function(u){var h=[],g=this.w.globals.seriesX.filter(function(x){return void 0!==x[0]});if(g.length>0)for(var _=0;_<g.length-1;_++)void 0!==g[_][u]&&void 0!==g[_+1][u]&&g[_][u]!==g[_+1][u]&&h.push("unEqual");return 0===h.length}},{key:"isInitialSeriesSameLen",value:function(){for(var u=!0,h=this.w.globals.initialSeries,g=0;g<h.length-1;g++)if(h[g].data.length!==h[g+1].data.length){u=!1;break}return u}},{key:"getBarsHeight",value:function(u){return Ne(u).reduce(function(h,g){return h+g.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var u=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(u=Ne(u)).sort(function(g,_){return Number(_.getAttribute("data:realIndex"))<Number(g.getAttribute("data:realIndex"))?0:-1});var h=[];return u.forEach(function(g){h.push(g.querySelector(".apexcharts-marker"))}),h}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(u){var h=this.w,g=h.config.markers.hover.size;return void 0===g&&(g=h.globals.markers.size[u]+h.config.markers.hover.sizeOffset),g}},{key:"toggleAllTooltipSeriesGroups",value:function(u){var h=this.w,g=this.ttCtx;0===g.allTooltipSeriesGroups.length&&(g.allTooltipSeriesGroups=h.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var _=g.allTooltipSeriesGroups,x=0;x<_.length;x++)"enable"===u?(_[x].classList.add("apexcharts-active"),_[x].style.display=h.config.tooltip.items.display):(_[x].classList.remove("apexcharts-active"),_[x].style.display="none")}}]),J}(),Mr=function(){function J(u){K(this,J),this.w=u.w,this.ctx=u.ctx,this.ttCtx=u,this.tooltipUtil=new Vs(u)}return Ee(J,[{key:"drawSeriesTexts",value:function(u){var h=u.shared,g=void 0===h||h,_=u.ttItems,x=u.i,A=void 0===x?0:x,S=u.j,D=void 0===S?null:S,L=u.e,V=this.w;void 0!==V.config.tooltip.custom?this.handleCustomTooltip({i:A,j:D,y1:u.y1,y2:u.y2,w:V}):this.toggleActiveInactiveSeries(g);var j=this.getValuesToPrint({i:A,j:D});this.printLabels({i:A,j:D,values:j,ttItems:_,shared:g,e:L});var q=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=q.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=q.getBoundingClientRect().height}},{key:"printLabels",value:function(u){var h,g=this,_=u.i,x=u.j,A=u.values,S=u.ttItems,D=u.shared,R=u.e,N=this.w,L=[],V=function(H){return N.globals.seriesGoals[H]&&N.globals.seriesGoals[H][x]&&Array.isArray(N.globals.seriesGoals[H][x])},j=A.xVal,q=A.zVal,Y=A.xAxisTTVal,$="",ne=N.globals.colors[_];null!==x&&N.config.plotOptions.bar.distributed&&(ne=N.globals.colors[x]);for(var se=function(H,Z){var ee=g.getFormatters(_);$=g.getSeriesName({fn:ee.yLbTitleFormatter,index:_,seriesIndex:_,j:x}),"treemap"===N.config.chart.type&&($=ee.yLbTitleFormatter(String(N.config.series[_].data[x].x),{series:N.globals.series,seriesIndex:_,dataPointIndex:x,w:N}));var pe=N.config.tooltip.inverseOrder?Z:H;if(N.globals.axisCharts){var Fe=function(Re){return ee.yLbFormatter(N.globals.series[Re][x],{series:N.globals.series,seriesIndex:Re,dataPointIndex:x,w:N})};D?(ee=g.getFormatters(pe),$=g.getSeriesName({fn:ee.yLbTitleFormatter,index:pe,seriesIndex:_,j:x}),ne=N.globals.colors[pe],h=Fe(pe),V(pe)&&(L=N.globals.seriesGoals[pe][x].map(function(Re){return{attrs:Re,val:ee.yLbFormatter(Re.value,{seriesIndex:pe,dataPointIndex:x,w:N})}}))):(R&&R.target&&R.target.getAttribute("fill")&&(ne=R.target.getAttribute("fill")),h=Fe(_),V(_)&&Array.isArray(N.globals.seriesGoals[_][x])&&(L=N.globals.seriesGoals[_][x].map(function(Re){return{attrs:Re,val:ee.yLbFormatter(Re.value,{seriesIndex:_,dataPointIndex:x,w:N})}})))}null===x&&(h=ee.yLbFormatter(N.globals.series[_],Se(Se({},N),{},{seriesIndex:_,dataPointIndex:_}))),g.DOMHandling({i:_,t:pe,j:x,ttItems:S,values:{val:h,goalVals:L,xVal:j,xAxisTTVal:Y,zVal:q},seriesName:$,shared:D,pColor:ne})},fe=0,k=N.globals.series.length-1;fe<N.globals.series.length;fe++,k--)se(fe,k)}},{key:"getFormatters",value:function(u){var h,g=this.w,_=g.globals.yLabelFormatters[u];return void 0!==g.globals.ttVal?Array.isArray(g.globals.ttVal)?(_=g.globals.ttVal[u]&&g.globals.ttVal[u].formatter,h=g.globals.ttVal[u]&&g.globals.ttVal[u].title&&g.globals.ttVal[u].title.formatter):(_=g.globals.ttVal.formatter,"function"==typeof g.globals.ttVal.title.formatter&&(h=g.globals.ttVal.title.formatter)):h=g.config.tooltip.y.title.formatter,"function"!=typeof _&&(_=g.globals.yLabelFormatters[0]?g.globals.yLabelFormatters[0]:function(x){return x}),"function"!=typeof h&&(h=function(x){return x}),{yLbFormatter:_,yLbTitleFormatter:h}}},{key:"getSeriesName",value:function(u){var _=u.seriesIndex,x=u.j,A=this.w;return(0,u.fn)(String(A.globals.seriesNames[u.index]),{series:A.globals.series,seriesIndex:_,dataPointIndex:x,w:A})}},{key:"DOMHandling",value:function(u){var h=u.t,g=u.j,_=u.ttItems,x=u.values,A=u.seriesName,S=u.shared,D=u.pColor,R=this.w,N=this.ttCtx;Object.keys(x).forEach(function(Z){"string"==typeof x[Z]&&(x[Z]=de.sanitizeDom(x[Z]))});var L=x.val,V=x.goalVals,j=x.xVal,q=x.xAxisTTVal,Y=x.zVal,$=null;$=_[h].children,R.config.tooltip.fillSeriesColor&&(_[h].style.backgroundColor=D,$[0].style.display="none"),N.showTooltipTitle&&(null===N.tooltipTitle&&(N.tooltipTitle=R.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),N.tooltipTitle.innerHTML=j),N.blxaxisTooltip&&(N.xaxisTooltipText.innerHTML=""!==q?q:j);var ne=_[h].querySelector(".apexcharts-tooltip-text-y-label");ne&&(ne.innerHTML=A?de.sanitizeDom(A):"");var se=_[h].querySelector(".apexcharts-tooltip-text-y-value");se&&(se.innerHTML=void 0!==L?L:""),$[0]&&$[0].classList.contains("apexcharts-tooltip-marker")&&(R.config.tooltip.marker.fillColors&&Array.isArray(R.config.tooltip.marker.fillColors)&&(D=R.config.tooltip.marker.fillColors[h]),$[0].style.backgroundColor=D),R.config.tooltip.marker.show||($[0].style.display="none");var fe=_[h].querySelector(".apexcharts-tooltip-text-goals-label"),k=_[h].querySelector(".apexcharts-tooltip-text-goals-value");if(V.length&&R.globals.seriesGoals[h]){var H=function(){var Z="<div >",ee="<div>";V.forEach(function(pe,Fe){Z+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(pe.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(pe.attrs.name,"</div>"),ee+="<div>".concat(pe.val,"</div>")}),fe.innerHTML=Z+"</div>",k.innerHTML=ee+"</div>"};S?R.globals.seriesGoals[h][g]&&Array.isArray(R.globals.seriesGoals[h][g])?H():(fe.innerHTML="",k.innerHTML=""):H()}else fe.innerHTML="",k.innerHTML="";null!==Y&&(_[h].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=R.config.tooltip.z.title,_[h].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Y?Y:""),S&&$[0]&&($[0].parentNode.style.display=null==L||R.globals.collapsedSeriesIndices.indexOf(h)>-1?"none":R.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(u){var h=this.w;if(u)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var g=h.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");g&&(g.classList.add("apexcharts-active"),g.style.display=h.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(u){var h=u.i,g=u.j,_=this.w,x=this.ctx.series.filteredSeriesX(),A="",S="",D=null,R=null,N={series:_.globals.series,seriesIndex:h,dataPointIndex:g,w:_},L=_.globals.ttZFormatter;null===g?R=_.globals.series[h]:_.globals.isXNumeric&&"treemap"!==_.config.chart.type?(A=x[h][g],0===x[h].length&&(A=x[this.tooltipUtil.getFirstActiveXArray(x)][g])):A=void 0!==_.globals.labels[g]?_.globals.labels[g]:"";var V=A;return A=_.globals.isXNumeric&&"datetime"===_.config.xaxis.type?new Ji(this.ctx).xLabelFormat(_.globals.ttKeyFormatter,V,V,{i:void 0,dateFormatter:new bt(this.ctx).formatDate,w:this.w}):_.globals.isBarHorizontal?_.globals.yLabelFormatters[0](V,N):_.globals.xLabelFormatter(V,N),void 0!==_.config.tooltip.x.formatter&&(A=_.globals.ttKeyFormatter(V,N)),_.globals.seriesZ.length>0&&_.globals.seriesZ[h].length>0&&(D=L(_.globals.seriesZ[h][g],_)),S="function"==typeof _.config.xaxis.tooltip.formatter?_.globals.xaxisTooltipFormatter(V,N):A,{val:Array.isArray(R)?R.join(" "):R,xVal:Array.isArray(A)?A.join(" "):A,xAxisTTVal:Array.isArray(S)?S.join(" "):S,zVal:D}}},{key:"handleCustomTooltip",value:function(u){var h=u.i,g=u.j,_=u.y1,x=u.y2,A=u.w,S=this.ttCtx.getElTooltip(),D=A.config.tooltip.custom;Array.isArray(D)&&D[h]&&(D=D[h]),S.innerHTML=D({ctx:this.ctx,series:A.globals.series,seriesIndex:h,dataPointIndex:g,y1:_,y2:x,w:A})}}]),J}(),In=function(){function J(u){K(this,J),this.ttCtx=u,this.ctx=u.ctx,this.w=u.w}return Ee(J,[{key:"moveXCrosshairs",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=this.ttCtx,_=this.w,x=g.getElXCrosshairs(),A=u-g.xcrosshairsWidth/2,S=_.globals.labels.slice().length;if(null!==h&&(A=_.globals.gridWidth/S*h),null!==x&&(x.setAttribute("x",A),x.setAttribute("x1",A),x.setAttribute("x2",A),x.setAttribute("y2",_.globals.gridHeight),x.classList.add("apexcharts-active")),A<0&&(A=0),A>_.globals.gridWidth&&(A=_.globals.gridWidth),g.blxaxisTooltip){var D=A;"tickWidth"!==_.config.xaxis.crosshairs.width&&"barWidth"!==_.config.xaxis.crosshairs.width||(D=A+g.xcrosshairsWidth/2),this.moveXAxisTooltip(D)}}},{key:"moveYCrosshairs",value:function(u){var h=this.ttCtx;null!==h.ycrosshairs&&Pe.setAttrs(h.ycrosshairs,{y1:u,y2:u}),null!==h.ycrosshairsHidden&&Pe.setAttrs(h.ycrosshairsHidden,{y1:u,y2:u})}},{key:"moveXAxisTooltip",value:function(u){var h=this.w,g=this.ttCtx;if(null!==g.xaxisTooltip){g.xaxisTooltip.classList.add("apexcharts-active");var x,_=g.xaxisOffY+h.config.xaxis.tooltip.offsetY+h.globals.translateY+1+h.config.xaxis.offsetY;u-=g.xaxisTooltip.getBoundingClientRect().width/2,isNaN(u)||(u+=h.globals.translateX,x=new Pe(this.ctx).getTextRects(g.xaxisTooltipText.innerHTML),g.xaxisTooltipText.style.minWidth=x.width+"px",g.xaxisTooltip.style.left=u+"px",g.xaxisTooltip.style.top=_+"px")}}},{key:"moveYAxisTooltip",value:function(u){var h=this.w,g=this.ttCtx;null===g.yaxisTTEls&&(g.yaxisTTEls=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var _=parseInt(g.ycrosshairsHidden.getAttribute("y1"),10),x=h.globals.translateY+_,A=g.yaxisTTEls[u].getBoundingClientRect().height,S=h.globals.translateYAxisX[u]-2;h.config.yaxis[u].opposite&&(S-=26),x-=A/2,-1===h.globals.ignoreYAxisIndexes.indexOf(u)?(g.yaxisTTEls[u].classList.add("apexcharts-active"),g.yaxisTTEls[u].style.top=x+"px",g.yaxisTTEls[u].style.left=S+h.config.yaxis[u].tooltip.offsetX+"px"):g.yaxisTTEls[u].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=this.w,x=this.ttCtx,A=x.getElTooltip(),S=x.tooltipRect,D=null!==g?parseFloat(g):1,R=parseFloat(u)+D+5,N=parseFloat(h)+D/2;if(R>_.globals.gridWidth/2&&(R=R-S.ttWidth-D-15),R>_.globals.gridWidth-S.ttWidth-10&&(R=_.globals.gridWidth-S.ttWidth),R<-20&&(R=-20),_.config.tooltip.followCursor){var L=x.getElGrid(),V=L.getBoundingClientRect();N=x.e.clientY+_.globals.translateY-V.top-S.ttHeight/2}else _.globals.isBarHorizontal?N-=S.ttHeight:(S.ttHeight/2+N>_.globals.gridHeight&&(N=_.globals.gridHeight-S.ttHeight+_.globals.translateY),N<0&&(N=0));isNaN(R)||(A.style.left=(R+=_.globals.translateX)+"px",A.style.top=N+"px")}},{key:"moveMarkers",value:function(u,h){var g=this.w,_=this.ttCtx;if(g.globals.markers.size[u]>0)for(var x=g.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(u,"'] .apexcharts-marker")),A=0;A<x.length;A++)parseInt(x[A].getAttribute("rel"),10)===h&&(_.marker.resetPointsSize(),_.marker.enlargeCurrentPoint(h,x[A]));else _.marker.resetPointsSize(),this.moveDynamicPointOnHover(h,u)}},{key:"moveDynamicPointOnHover",value:function(u,h){var g,_,x=this.w,A=this.ttCtx,S=x.globals.pointsArray,D=A.tooltipUtil.getHoverMarkerSize(h),R=x.config.series[h].type;if(!R||"column"!==R&&"candlestick"!==R&&"boxPlot"!==R){g=S[h][u][0],_=S[h][u][1]?S[h][u][1]:0;var N=x.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-series-markers circle"));N&&_<x.globals.gridHeight&&_>0&&(N.setAttribute("r",D),N.setAttribute("cx",g),N.setAttribute("cy",_)),this.moveXCrosshairs(g),A.fixedTooltip||this.moveTooltip(g,_,D)}}},{key:"moveDynamicPointsOnHover",value:function(u){var h,g=this.ttCtx,_=g.w,x=0,A=0,S=_.globals.pointsArray;h=new Dt(this.ctx).getActiveConfigSeriesIndex(!0);var D=g.tooltipUtil.getHoverMarkerSize(h);S[h]&&(x=S[h][u][0],A=S[h][u][1]);var R=g.tooltipUtil.getAllMarkers();if(null!==R)for(var N=0;N<_.globals.series.length;N++){var L=S[N];if(_.globals.comboCharts&&void 0===L&&R.splice(N,0,null),L&&L.length){var V=S[N][u][1];R[N].setAttribute("cx",x),null!==V&&!isNaN(V)&&V<_.globals.gridHeight&&V>0?(R[N]&&R[N].setAttribute("r",D),R[N]&&R[N].setAttribute("cy",V)):R[N]&&R[N].setAttribute("r",0)}}this.moveXCrosshairs(x),g.fixedTooltip||this.moveTooltip(x,A||_.globals.gridHeight,D)}},{key:"moveStickyTooltipOverBars",value:function(u){var h=this.w,g=this.ttCtx,_=h.globals.columnSeries?h.globals.columnSeries.length:h.globals.series.length,x=_>=2&&_%2==0?Math.floor(_/2):Math.floor(_/2)+1;h.globals.isBarHorizontal&&(x=new Dt(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var A=h.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(x,"'] path[j='").concat(u,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(u,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(u,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(u,"']")),S=A?parseFloat(A.getAttribute("cx")):0,D=A?parseFloat(A.getAttribute("cy")):0,R=A?parseFloat(A.getAttribute("barWidth")):0,N=A?parseFloat(A.getAttribute("barHeight")):0,L=g.getElGrid().getBoundingClientRect();h.globals.isXNumeric?(S-=_%2!=0?R/2:0,A&&(A.classList.contains("apexcharts-candlestick-area")||A.classList.contains("apexcharts-boxPlot-area"))&&h.globals.comboCharts&&(S-=R/2)):h.globals.isBarHorizontal||(S=g.xAxisTicksPositions[u-1]+g.dataPointsDividedWidth/2,isNaN(S)&&(S=g.xAxisTicksPositions[u]-g.dataPointsDividedWidth/2)),h.globals.isBarHorizontal?D+=N/3:D=g.e.clientY-L.top-g.tooltipRect.ttHeight/2,h.globals.isBarHorizontal||this.moveXCrosshairs(S),g.fixedTooltip||this.moveTooltip(S,D||h.globals.gridHeight)}}]),J}(),kr=function(){function J(u){K(this,J),this.w=u.w,this.ttCtx=u,this.ctx=u.ctx,this.tooltipPosition=new In(u)}return Ee(J,[{key:"drawDynamicPoints",value:function(){var u=this.w,h=new Pe(this.ctx),g=new We(this.ctx),_=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series");_=Ne(_),u.config.chart.stacked&&_.sort(function(L,V){return parseFloat(L.getAttribute("data:realIndex"))-parseFloat(V.getAttribute("data:realIndex"))});for(var x=0;x<_.length;x++){var A=_[x].querySelector(".apexcharts-series-markers-wrap");if(null!==A){var S=void 0,D="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==u.config.chart.type&&"area"!==u.config.chart.type||u.globals.comboCharts||u.config.tooltip.intersect||(D+=" no-pointer-events");var R=g.getMarkerConfig(D,x);(S=h.drawMarker(0,0,R)).node.setAttribute("default-marker-size",0);var N=document.createElementNS(u.globals.SVGNS,"g");N.classList.add("apexcharts-series-markers"),N.appendChild(S.node),A.appendChild(N)}}}},{key:"enlargeCurrentPoint",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,x=this.w;"bubble"!==x.config.chart.type&&this.newPointSize(u,h);var A=h.getAttribute("cx"),S=h.getAttribute("cy");if(null!==g&&null!==_&&(A=g,S=_),this.tooltipPosition.moveXCrosshairs(A),!this.fixedTooltip){if("radar"===x.config.chart.type){var D=this.ttCtx.getElGrid(),R=D.getBoundingClientRect();A=this.ttCtx.e.clientX-R.left}this.tooltipPosition.moveTooltip(A,S,x.config.markers.hover.size)}}},{key:"enlargePoints",value:function(u){for(var h=this.w,g=this,_=this.ttCtx,x=u,A=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),S=h.config.markers.hover.size,D=0;D<A.length;D++){var R=A[D].getAttribute("rel"),N=A[D].getAttribute("index");if(void 0===S&&(S=h.globals.markers.size[N]+h.config.markers.hover.sizeOffset),x===parseInt(R,10)){g.newPointSize(x,A[D]);var L=A[D].getAttribute("cx"),V=A[D].getAttribute("cy");g.tooltipPosition.moveXCrosshairs(L),_.fixedTooltip||g.tooltipPosition.moveTooltip(L,V,S)}else g.oldPointSize(A[D])}}},{key:"newPointSize",value:function(u,h){var g=this.w,_=g.config.markers.hover.size,x=0===u?h.parentNode.firstChild:h.parentNode.lastChild;if("0"!==x.getAttribute("default-marker-size")){var A=parseInt(x.getAttribute("index"),10);void 0===_&&(_=g.globals.markers.size[A]+g.config.markers.hover.sizeOffset),_<0&&(_=0),x.setAttribute("r",_)}}},{key:"oldPointSize",value:function(u){var h=parseFloat(u.getAttribute("default-marker-size"));u.setAttribute("r",h)}},{key:"resetPointsSize",value:function(){for(var u=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),h=0;h<u.length;h++){var g=parseFloat(u[h].getAttribute("default-marker-size"));de.isNumber(g)&&g>=0?u[h].setAttribute("r",g):u[h].setAttribute("r",0)}}}]),J}(),Gh=function(){function J(u){K(this,J),this.w=u.w,this.ttCtx=u}return Ee(J,[{key:"getAttr",value:function(u,h){return parseFloat(u.target.getAttribute(h))}},{key:"handleHeatTreeTooltip",value:function(u){var h=u.e,g=u.opt,_=u.x,x=u.y,S=this.ttCtx,D=this.w;if(h.target.classList.contains("apexcharts-".concat(u.type,"-rect"))){var R=this.getAttr(h,"i"),N=this.getAttr(h,"j"),L=this.getAttr(h,"cx"),V=this.getAttr(h,"cy"),j=this.getAttr(h,"width"),q=this.getAttr(h,"height");if(S.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:R,j:N,shared:!1,e:h}),D.globals.capturedSeriesIndex=R,D.globals.capturedDataPointIndex=N,_=L+S.tooltipRect.ttWidth/2+j,x=V+S.tooltipRect.ttHeight/2-q/2,S.tooltipPosition.moveXCrosshairs(L+j/2),_>D.globals.gridWidth/2&&(_=L-S.tooltipRect.ttWidth/2+j),S.w.config.tooltip.followCursor){var Y=D.globals.dom.elWrap.getBoundingClientRect();_=D.globals.clientX-Y.left-S.tooltipRect.ttWidth/2,x=D.globals.clientY-Y.top-S.tooltipRect.ttHeight-5}}return{x:_,y:x}}},{key:"handleMarkerTooltip",value:function(u){var h,g,_=u.e,x=u.opt,A=u.x,S=u.y,D=this.w,R=this.ttCtx;if(_.target.classList.contains("apexcharts-marker")){var N=parseInt(x.paths.getAttribute("cx"),10),L=parseInt(x.paths.getAttribute("cy"),10),V=parseFloat(x.paths.getAttribute("val"));if(g=parseInt(x.paths.getAttribute("rel"),10),h=parseInt(x.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,R.intersect){var j=de.findAncestor(x.paths,"apexcharts-series");j&&(h=parseInt(j.getAttribute("data:realIndex"),10))}if(R.tooltipLabels.drawSeriesTexts({ttItems:x.ttItems,i:h,j:g,shared:!R.showOnIntersect&&D.config.tooltip.shared,e:_}),"mouseup"===_.type&&R.markerClick(_,h,g),D.globals.capturedSeriesIndex=h,D.globals.capturedDataPointIndex=g,A=N,S=L+D.globals.translateY-1.4*R.tooltipRect.ttHeight,R.w.config.tooltip.followCursor){var q=R.getElGrid().getBoundingClientRect();S=R.e.clientY+D.globals.translateY-q.top}V<0&&(S=L),R.marker.enlargeCurrentPoint(g,x.paths,A,S)}return{x:A,y:S}}},{key:"handleBarTooltip",value:function(u){var h,g,_=u.e,x=u.opt,A=this.w,S=this.ttCtx,D=S.getElTooltip(),R=0,N=0,L=0,V=this.getBarTooltipXY({e:_,opt:x}),j=V.barHeight,q=V.j;A.globals.capturedSeriesIndex=h=V.i,A.globals.capturedDataPointIndex=q,A.globals.isBarHorizontal&&S.tooltipUtil.hasBars()||!A.config.tooltip.shared?(N=V.x,L=V.y,g=Array.isArray(A.config.stroke.width)?A.config.stroke.width[h]:A.config.stroke.width,R=N):A.globals.comboCharts||A.config.tooltip.shared||(R/=2),isNaN(L)?L=A.globals.svgHeight-S.tooltipRect.ttHeight:L<0&&(L=0);var Y=parseInt(x.paths.parentNode.getAttribute("data:realIndex"),10),$=A.globals.isMultipleYAxis?A.config.yaxis[Y]&&A.config.yaxis[Y].reversed:A.config.yaxis[0].reversed;if(N+S.tooltipRect.ttWidth>A.globals.gridWidth&&!$?N-=S.tooltipRect.ttWidth:N<0&&(N=0),S.w.config.tooltip.followCursor){var ne=S.getElGrid().getBoundingClientRect();L=S.e.clientY-ne.top}null===S.tooltip&&(S.tooltip=A.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),A.config.tooltip.shared||S.tooltipPosition.moveXCrosshairs(A.globals.comboBarCount>0?R+g/2:R),!S.fixedTooltip&&(!A.config.tooltip.shared||A.globals.isBarHorizontal&&S.tooltipUtil.hasBars())&&($&&(N-=S.tooltipRect.ttWidth)<0&&(N=0),D.style.left=N+A.globals.translateX+"px",!$||A.globals.isBarHorizontal&&S.tooltipUtil.hasBars()||(L=L+j-2*(A.globals.series[h][q]<0?j:0)),D.style.top=S.tooltipRect.ttHeight+L>A.globals.gridHeight?(L=A.globals.gridHeight-S.tooltipRect.ttHeight+A.globals.translateY)+"px":L+A.globals.translateY-S.tooltipRect.ttHeight/2+"px")}},{key:"getBarTooltipXY",value:function(u){var h=u.e,g=u.opt,_=this.w,x=null,A=this.ttCtx,S=0,D=0,R=0,N=0,L=0,V=h.target.classList;if(V.contains("apexcharts-bar-area")||V.contains("apexcharts-candlestick-area")||V.contains("apexcharts-boxPlot-area")||V.contains("apexcharts-rangebar-area")){var j=h.target,q=j.getBoundingClientRect(),Y=g.elGrid.getBoundingClientRect(),$=q.height;L=q.height;var ne=q.width,se=parseInt(j.getAttribute("cx"),10),fe=parseInt(j.getAttribute("cy"),10);N=parseFloat(j.getAttribute("barWidth"));var k="touchmove"===h.type?h.touches[0].clientX:h.clientX;x=parseInt(j.getAttribute("j"),10),S=parseInt(j.parentNode.getAttribute("rel"),10)-1;var H=j.getAttribute("data-range-y1"),Z=j.getAttribute("data-range-y2");_.globals.comboCharts&&(S=parseInt(j.parentNode.getAttribute("data:realIndex"),10)),A.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:S,j:x,y1:H?parseInt(H,10):null,y2:Z?parseInt(Z,10):null,shared:!A.showOnIntersect&&_.config.tooltip.shared,e:h}),_.config.tooltip.followCursor?_.globals.isBarHorizontal?(D=k-Y.left+15,R=fe-A.dataPointsDividedHeight+$/2-A.tooltipRect.ttHeight/2):(D=_.globals.isXNumeric?se-ne/2:se-A.dataPointsDividedWidth+ne/2,R=h.clientY-Y.top-A.tooltipRect.ttHeight/2-15):_.globals.isBarHorizontal?((D=se)<A.xyRatios.baseLineInvertedY&&(D=se-A.tooltipRect.ttWidth),R=fe-A.dataPointsDividedHeight+$/2-A.tooltipRect.ttHeight/2):(D=_.globals.isXNumeric?se-ne/2:se-A.dataPointsDividedWidth+ne/2,R=fe)}return{x:D,y:R,barHeight:L,barWidth:N,i:S,j:x}}}]),J}(),we=function(){function J(u){K(this,J),this.w=u.w,this.ttCtx=u}return Ee(J,[{key:"drawXaxisTooltip",value:function(){var u=this.w,h=this.ttCtx,g="bottom"===u.config.xaxis.position;h.xaxisOffY=g?u.globals.gridHeight+1:-u.globals.xAxisHeight-u.config.xaxis.axisTicks.height+3;var _=g?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",x=u.globals.dom.elWrap;h.blxaxisTooltip&&null===u.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(h.xaxisTooltip=document.createElement("div"),h.xaxisTooltip.setAttribute("class",_+" apexcharts-theme-"+u.config.tooltip.theme),x.appendChild(h.xaxisTooltip),h.xaxisTooltipText=document.createElement("div"),h.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),h.xaxisTooltipText.style.fontFamily=u.config.xaxis.tooltip.style.fontFamily||u.config.chart.fontFamily,h.xaxisTooltipText.style.fontSize=u.config.xaxis.tooltip.style.fontSize,h.xaxisTooltip.appendChild(h.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var u=this.w,h=this.ttCtx,g=function(x){var A=u.config.yaxis[x].opposite||u.config.yaxis[x].crosshairs.opposite;h.yaxisOffX=A?u.globals.gridWidth+1:1;var S="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(x,A?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");u.globals.yAxisSameScaleIndices.map(function(R,N){R.map(function(L,V){V===x&&(S+=u.config.yaxis[V].show?" ":" apexcharts-yaxistooltip-hidden")})});var D=u.globals.dom.elWrap;null===u.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(x))&&(h.yaxisTooltip=document.createElement("div"),h.yaxisTooltip.setAttribute("class",S+" apexcharts-theme-"+u.config.tooltip.theme),D.appendChild(h.yaxisTooltip),0===x&&(h.yaxisTooltipText=[]),h.yaxisTooltipText[x]=document.createElement("div"),h.yaxisTooltipText[x].classList.add("apexcharts-yaxistooltip-text"),h.yaxisTooltip.appendChild(h.yaxisTooltipText[x]))},_=0;_<u.config.yaxis.length;_++)g(_)}},{key:"setXCrosshairWidth",value:function(){var u=this.w,h=this.ttCtx,g=h.getElXCrosshairs();if(h.xcrosshairsWidth=parseInt(u.config.xaxis.crosshairs.width,10),u.globals.comboCharts){var _=u.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==_&&"barWidth"===u.config.xaxis.crosshairs.width){var x=parseFloat(_.getAttribute("barWidth"));h.xcrosshairsWidth=x}else"tickWidth"===u.config.xaxis.crosshairs.width&&(h.xcrosshairsWidth=u.globals.gridWidth/u.globals.labels.length)}else if("tickWidth"===u.config.xaxis.crosshairs.width)h.xcrosshairsWidth=u.globals.gridWidth/u.globals.labels.length;else if("barWidth"===u.config.xaxis.crosshairs.width){var D=u.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==D){var R=parseFloat(D.getAttribute("barWidth"));h.xcrosshairsWidth=R}else h.xcrosshairsWidth=1}u.globals.isBarHorizontal&&(h.xcrosshairsWidth=0),null!==g&&h.xcrosshairsWidth>0&&g.setAttribute("width",h.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var u=this.w,h=this.ttCtx;h.ycrosshairs=u.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),h.ycrosshairsHidden=u.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(u,h,g){var _=this.ttCtx,x=this.w,A=x.globals.yLabelFormatters[u];if(_.yaxisTooltips[u]){var S=_.getElGrid().getBoundingClientRect(),N=x.globals.minYArr[u]+(x.globals.maxYArr[u]-x.globals.minYArr[u]-(h-S.top)*g.yRatio[u]);_.tooltipPosition.moveYCrosshairs(h-S.top),_.yaxisTooltipText[u].innerHTML=A(N),_.tooltipPosition.moveYAxisTooltip(u)}}}]),J}(),be=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.tConfig=h.config.tooltip,this.tooltipUtil=new Vs(this),this.tooltipLabels=new Mr(this),this.tooltipPosition=new In(this),this.marker=new kr(this),this.intersect=new Gh(this),this.axesTooltip=new we(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!h.globals.isBarHorizontal&&this.tConfig.shared}return Ee(J,[{key:"getElTooltip",value:function(u){return u||(u=this),u.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(u){var h=this.w;this.xyRatios=u,this.blxaxisTooltip=h.config.xaxis.tooltip.enabled&&h.globals.axisCharts,this.yaxisTooltips=h.config.yaxis.map(function(A,S){return!!(A.show&&A.tooltip.enabled&&h.globals.axisCharts)}),this.allTooltipSeriesGroups=[],h.globals.axisCharts||(this.showTooltipTitle=!1);var g=document.createElement("div");if(g.classList.add("apexcharts-tooltip"),g.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),h.globals.dom.elWrap.appendChild(g),h.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var _=new er(this.ctx);this.xAxisTicksPositions=_.getXAxisTicksPositions()}if(!h.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==h.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==h.config.markers.size&&0!==h.globals.markers.largestSize||this.marker.drawDynamicPoints(this),h.globals.collapsedSeries.length!==h.globals.series.length){this.dataPointsDividedHeight=h.globals.gridHeight/h.globals.dataPoints,this.dataPointsDividedWidth=h.globals.gridWidth/h.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||h.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,g.appendChild(this.tooltipTitle));var x=h.globals.series.length;(h.globals.xyCharts||h.globals.comboCharts)&&this.tConfig.shared&&(x=this.showOnIntersect?1:h.globals.series.length),this.legendLabels=h.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(x),this.addSVGEvents()}}},{key:"createTTElements",value:function(u){for(var h=this,g=this.w,_=[],x=this.getElTooltip(),A=function(D){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-series-group"),R.style.order=g.config.tooltip.inverseOrder?u-D:D+1,h.tConfig.shared&&h.tConfig.enabledOnSeries&&Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(D)<0&&R.classList.add("apexcharts-tooltip-series-group-hidden");var N=document.createElement("span");N.classList.add("apexcharts-tooltip-marker"),N.style.backgroundColor=g.globals.colors[D],R.appendChild(N);var L=document.createElement("div");L.classList.add("apexcharts-tooltip-text"),L.style.fontFamily=h.tConfig.style.fontFamily||g.config.chart.fontFamily,L.style.fontSize=h.tConfig.style.fontSize,["y","goals","z"].forEach(function(V){var j=document.createElement("div");j.classList.add("apexcharts-tooltip-".concat(V,"-group"));var q=document.createElement("span");q.classList.add("apexcharts-tooltip-text-".concat(V,"-label")),j.appendChild(q);var Y=document.createElement("span");Y.classList.add("apexcharts-tooltip-text-".concat(V,"-value")),j.appendChild(Y),L.appendChild(j)}),R.appendChild(L),x.appendChild(R),_.push(R)},S=0;S<u;S++)A(S);return _}},{key:"addSVGEvents",value:function(){var u=this.w,h=u.config.chart.type,g=this.getElTooltip(),_=!("bar"!==h&&"candlestick"!==h&&"boxPlot"!==h&&"rangeBar"!==h),x="area"===h||"line"===h||"scatter"===h||"bubble"===h||"radar"===h,A=u.globals.dom.Paper.node,S=this.getElGrid();S&&(this.seriesBound=S.getBoundingClientRect());var D,R=[],N=[],L={hoverArea:A,elGrid:S,tooltipEl:g,tooltipY:R,tooltipX:N,ttItems:this.ttItems};if(u.globals.axisCharts&&(x?D=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):_?D=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==h&&"treemap"!==h||(D=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),D&&D.length))for(var V=0;V<D.length;V++)R.push(D[V].getAttribute("cy")),N.push(D[V].getAttribute("cx"));if(u.globals.xyCharts&&!this.showOnIntersect||u.globals.comboCharts&&!this.showOnIntersect||_&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([A],L);else if(_&&!u.globals.comboCharts||x&&this.showOnIntersect)this.addDatapointEventsListeners(L);else if(!u.globals.axisCharts||"heatmap"===h||"treemap"===h){var j=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(j,L)}if(this.showOnIntersect){var q=u.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");q.length>0&&this.addPathsEventListeners(q,L),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(L)}}},{key:"drawFixedTooltipRect",value:function(){var u=this.w,h=this.getElTooltip(),g=h.getBoundingClientRect(),_=g.width+10,x=g.height+10,A=this.tConfig.fixed.offsetX,S=this.tConfig.fixed.offsetY,D=this.tConfig.fixed.position.toLowerCase();return D.indexOf("right")>-1&&(A=A+u.globals.svgWidth-_+10),D.indexOf("bottom")>-1&&(S=S+u.globals.svgHeight-x-10),h.style.left=A+"px",h.style.top=S+"px",{x:A,y:S,ttWidth:_,ttHeight:x}}},{key:"addDatapointEventsListeners",value:function(u){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(h,u)}},{key:"addPathsEventListeners",value:function(u,h){for(var g=this,_=function(A){var S={paths:u[A],tooltipEl:h.tooltipEl,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:h.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(D){return u[A].addEventListener(D,g.seriesHover.bind(g,S),{capture:!1,passive:!0})})},x=0;x<u.length;x++)_(x)}},{key:"seriesHover",value:function(u,h){var g=this,_=[],x=this.w;x.config.chart.group&&(_=this.ctx.getGroupedCharts()),x.globals.axisCharts&&(x.globals.minX===-1/0&&x.globals.maxX===1/0||0===x.globals.dataPoints)||(_.length?_.forEach(function(A){var S=g.getElTooltip(A);A.w.globals.minX===g.w.globals.minX&&A.w.globals.maxX===g.w.globals.maxX&&A.w.globals.tooltip.seriesHoverByContext({chartCtx:A,ttCtx:A.w.globals.tooltip,opt:{paths:u.paths,tooltipEl:S,tooltipY:u.tooltipY,tooltipX:u.tooltipX,elGrid:u.elGrid,hoverArea:u.hoverArea,ttItems:A.w.globals.tooltip.ttItems},e:h})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:u,e:h}))}},{key:"seriesHoverByContext",value:function(u){var h=u.chartCtx,g=u.ttCtx,_=u.opt,x=u.e,A=h.w,S=this.getElTooltip();g.tooltipRect={x:0,y:0,ttWidth:S.getBoundingClientRect().width,ttHeight:S.getBoundingClientRect().height},g.e=x,!g.tooltipUtil.hasBars()||A.globals.comboCharts||g.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new Dt(h).toggleSeriesOnHover(x,x.target.parentNode),g.fixedTooltip&&g.drawFixedTooltipRect(),A.globals.axisCharts?g.axisChartsTooltips({e:x,opt:_,tooltipRect:g.tooltipRect}):g.nonAxisChartsTooltips({e:x,opt:_,tooltipRect:g.tooltipRect})}},{key:"axisChartsTooltips",value:function(u){var h,g,_=u.e,x=u.opt,A=this.w,S=x.elGrid.getBoundingClientRect(),D="touchmove"===_.type?_.touches[0].clientX:_.clientX,R="touchmove"===_.type?_.touches[0].clientY:_.clientY;if(this.clientY=R,this.clientX=D,A.globals.capturedSeriesIndex=-1,A.globals.capturedDataPointIndex=-1,R<S.top||R>S.top+S.height)this.handleMouseOut(x);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!A.config.tooltip.shared){var N=parseInt(x.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(N)<0)return void this.handleMouseOut(x)}var L=this.getElTooltip(),V=this.getElXCrosshairs(),j=A.globals.xyCharts||"bar"===A.config.chart.type&&!A.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||A.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===_.type||"touchmove"===_.type||"mouseup"===_.type){null!==V&&V.classList.add("apexcharts-active");var q=this.yaxisTooltips.filter(function(ne){return!0===ne});if(null!==this.ycrosshairs&&q.length&&this.ycrosshairs.classList.add("apexcharts-active"),j&&!this.showOnIntersect)this.handleStickyTooltip(_,D,R,x);else if("heatmap"===A.config.chart.type||"treemap"===A.config.chart.type){var Y=this.intersect.handleHeatTreeTooltip({e:_,opt:x,x:h,y:g,type:A.config.chart.type});g=Y.y,L.style.left=(h=Y.x)+"px",L.style.top=g+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:_,opt:x}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:_,opt:x,x:h,y:g});if(this.yaxisTooltips.length)for(var $=0;$<A.config.yaxis.length;$++)this.axesTooltip.drawYaxisTooltipText($,R,this.xyRatios);x.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==_.type&&"touchend"!==_.type||this.handleMouseOut(x)}}},{key:"nonAxisChartsTooltips",value:function(u){var h=u.e,g=u.opt,_=u.tooltipRect,x=this.w,A=g.paths.getAttribute("rel"),S=this.getElTooltip(),D=x.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===h.type||"touchmove"===h.type){S.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:g.ttItems,i:parseInt(A,10)-1,shared:!1});var N=x.globals.clientY-D.top-_.ttHeight-10;if(S.style.left=x.globals.clientX-D.left-_.ttWidth/2+"px",S.style.top=N+"px",x.config.legend.tooltipHoverFormatter){var L=A-1,V=(0,x.config.legend.tooltipHoverFormatter)(this.legendLabels[L].getAttribute("data:default-text"),{seriesIndex:L,dataPointIndex:L,w:x});this.legendLabels[L].innerHTML=V}}else"mouseout"!==h.type&&"touchend"!==h.type||(S.classList.remove("apexcharts-active"),x.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(j){var q=j.getAttribute("data:default-text");j.innerHTML=decodeURIComponent(q)}))}},{key:"handleStickyTooltip",value:function(u,h,g,_){var x=this.w,A=this.tooltipUtil.getNearestValues({context:this,hoverArea:_.hoverArea,elGrid:_.elGrid,clientX:h,clientY:g}),S=A.j,D=A.capturedSeries;A.hoverX<0||A.hoverX>x.globals.gridWidth?this.handleMouseOut(_):null!==D?this.handleStickyCapturedSeries(u,D,_,S):(this.tooltipUtil.isXoverlap(S)||x.globals.isBarHorizontal)&&this.create(u,this,0,S,_.ttItems)}},{key:"handleStickyCapturedSeries",value:function(u,h,g,_){var x=this.w;null===x.globals.series[h][_]?this.handleMouseOut(g):void 0!==x.globals.series[h][_]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(_)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(u,this,h,_,g.ttItems):this.create(u,this,h,_,g.ttItems,!1):this.tooltipUtil.isXoverlap(_)&&this.create(u,this,0,_,g.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var u=this.w,h=new Pe(this.ctx),g=u.globals.dom.Paper.select(".apexcharts-bar-area"),_=0;_<g.length;_++)h.pathMouseLeave(g[_])}},{key:"handleMouseOut",value:function(u){var h=this.w,g=this.getElXCrosshairs();if(u.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==h.config.chart.type&&this.marker.resetPointsSize(),null!==g&&g.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var _=0;_<this.yaxisTTEls.length;_++)this.yaxisTTEls[_].classList.remove("apexcharts-active")}h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(x){var A=x.getAttribute("data:default-text");x.innerHTML=decodeURIComponent(A)})}},{key:"markerClick",value:function(u,h,g){var _=this.w;"function"==typeof _.config.chart.events.markerClick&&_.config.chart.events.markerClick(u,this.ctx,{seriesIndex:h,dataPointIndex:g,w:_}),this.ctx.events.fireEvent("markerClick",[u,this.ctx,{seriesIndex:h,dataPointIndex:g,w:_}])}},{key:"create",value:function(u,h,g,_,x){var A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,S=this.w,D=h;"mouseup"===u.type&&this.markerClick(u,g,_),null===A&&(A=this.tConfig.shared);var R=this.tooltipUtil.hasMarkers(),N=this.tooltipUtil.getElBars();if(S.config.legend.tooltipHoverFormatter){var L=S.config.legend.tooltipHoverFormatter,V=Array.from(this.legendLabels);V.forEach(function(H){var Z=H.getAttribute("data:default-text");H.innerHTML=decodeURIComponent(Z)});for(var j=0;j<V.length;j++){var q=V[j],Y=parseInt(q.getAttribute("i"),10),$=decodeURIComponent(q.getAttribute("data:default-text")),ne=L($,{seriesIndex:A?Y:g,dataPointIndex:_,w:S});if(A)q.innerHTML=S.globals.collapsedSeriesIndices.indexOf(Y)<0?ne:$;else if(q.innerHTML=Y===g?ne:$,g===Y)break}}if(A){if(D.tooltipLabels.drawSeriesTexts({ttItems:x,i:g,j:_,shared:!this.showOnIntersect&&this.tConfig.shared}),R&&(S.globals.markers.largestSize>0?D.marker.enlargePoints(_):D.tooltipPosition.moveDynamicPointsOnHover(_)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(N),this.barSeriesHeight>0)){var se=new Pe(this.ctx),fe=S.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(_,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(_);for(var k=0;k<fe.length;k++)se.pathMouseEnter(fe[k])}}else D.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:x,i:g,j:_}),this.tooltipUtil.hasBars()&&D.tooltipPosition.moveStickyTooltipOverBars(_),R&&D.tooltipPosition.moveMarkers(g,_)}}]),J}(),Me=function(J){Ae(h,Sn);var u=Ce(h);function h(){return K(this,h),u.apply(this,arguments)}return Ee(h,[{key:"draw",value:function(g,_){var x=this,A=this.w;this.graphics=new Pe(this.ctx),this.bar=new Sn(this.ctx,this.xyRatios);var S=new vt(this.ctx,A);g=S.getLogSeries(g),this.yRatio=S.getLogYRatios(this.yRatio),this.barHelpers.initVariables(g),"100%"===A.config.chart.stackType&&(g=A.globals.seriesPercent.slice()),this.series=g,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var D=0;D<g.length;D++)g[D].length>0&&(this.totalItems+=g[D].length);for(var R=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),N=0,L=0,V=function(Y,$){var ne=void 0,se=void 0,fe=void 0,k=void 0,H=[],Z=[],ee=A.globals.comboCharts?_[Y]:Y;x.yRatio.length>1&&(x.yaxisIndex=ee),x.isReversed=A.config.yaxis[x.yaxisIndex]&&A.config.yaxis[x.yaxisIndex].reversed;var pe=x.graphics.group({class:"apexcharts-series",seriesName:de.escapeString(A.globals.seriesNames[ee]),rel:Y+1,"data:realIndex":ee});x.ctx.series.addCollapsedClassToSeries(pe,ee);var Fe=x.graphics.group({class:"apexcharts-datalabels","data:realIndex":ee}),Re=0,Qe=0,rt=x.initialPositions(N,L,ne,se,fe,k);L=rt.y,Re=rt.barHeight,se=rt.yDivision,k=rt.zeroW,N=rt.x,Qe=rt.barWidth,ne=rt.xDivision,fe=rt.zeroH,x.yArrj=[],x.yArrjF=[],x.yArrjVal=[],x.xArrj=[],x.xArrjF=[],x.xArrjVal=[],1===x.prevY.length&&x.prevY[0].every(function(fn){return isNaN(fn)})&&(x.prevY[0]=x.prevY[0].map(function(fn){return fe}),x.prevYF[0]=x.prevYF[0].map(function(fn){return 0}));for(var dt=0;dt<A.globals.dataPoints;dt++){var It=x.barHelpers.getStrokeWidth(Y,dt,ee),un={indexes:{i:Y,j:dt,realIndex:ee,bc:$},strokeWidth:It,x:N,y:L,elSeries:pe},St=null;x.isHorizontal?(St=x.drawStackedBarPaths(Se(Se({},un),{},{zeroW:k,barHeight:Re,yDivision:se})),Qe=x.series[Y][dt]/x.invertedYRatio):(St=x.drawStackedColumnPaths(Se(Se({},un),{},{xDivision:ne,barWidth:Qe,zeroH:fe})),Re=x.series[Y][dt]/x.yRatio[x.yaxisIndex]),L=St.y,H.push(N=St.x),Z.push(L);var Ht=x.barHelpers.getPathFillColor(g,Y,dt,ee);pe=x.renderSeries({realIndex:ee,pathFill:Ht,j:dt,i:Y,pathFrom:St.pathFrom,pathTo:St.pathTo,strokeWidth:It,elSeries:pe,x:N,y:L,series:g,barHeight:Re,barWidth:Qe,elDataLabelsWrap:Fe,type:"bar",visibleSeries:0})}A.globals.seriesXvalues[ee]=H,A.globals.seriesYvalues[ee]=Z,x.prevY.push(x.yArrj),x.prevYF.push(x.yArrjF),x.prevYVal.push(x.yArrjVal),x.prevX.push(x.xArrj),x.prevXF.push(x.xArrjF),x.prevXVal.push(x.xArrjVal),R.add(pe)},j=0,q=0;j<g.length;j++,q++)V(j,q);return R}},{key:"initialPositions",value:function(g,_,x,A,S,D){var R,N,L=this.w;return this.isHorizontal?(R=(R=A=L.globals.gridHeight/L.globals.dataPoints)*parseInt(L.config.plotOptions.bar.barHeight,10)/100,D=this.baseLineInvertedY+L.globals.padHorizontal+(this.isReversed?L.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),_=(A-R)/2):(N=x=L.globals.gridWidth/L.globals.dataPoints,N=L.globals.isXNumeric&&L.globals.dataPoints>1?(x=L.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:N*parseInt(L.config.plotOptions.bar.columnWidth,10)/100,S=this.baseLineY[this.yaxisIndex]+(this.isReversed?L.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),g=L.globals.padHorizontal+(x-N)/2),{x:g,y:_,yDivision:A,xDivision:x,barHeight:R,barWidth:N,zeroH:S,zeroW:D}}},{key:"drawStackedBarPaths",value:function(g){for(var _,R,x=g.indexes,A=g.barHeight,S=g.strokeWidth,D=g.zeroW,N=g.y,L=g.yDivision,V=g.elSeries,j=this.w,q=N,Y=x.i,$=x.j,ne=0,se=0;se<this.prevXF.length;se++)ne+=this.prevXF[se][$];if(Y>0){var fe=D;this.prevXVal[Y-1][$]<0?fe=this.series[Y][$]>=0?this.prevX[Y-1][$]+ne-2*(this.isReversed?ne:0):this.prevX[Y-1][$]:this.prevXVal[Y-1][$]>=0&&(fe=this.series[Y][$]>=0?this.prevX[Y-1][$]:this.prevX[Y-1][$]-ne+2*(this.isReversed?ne:0)),_=fe}else _=D;var k=this.barHelpers.getBarpaths({barYPosition:q,barHeight:A,x1:_,x2:R=null===this.series[Y][$]?_:_+this.series[Y][$]/this.invertedYRatio-2*(this.isReversed?this.series[Y][$]/this.invertedYRatio:0),strokeWidth:S,series:this.series,realIndex:x.realIndex,i:Y,j:$,w:j});return this.barHelpers.barBackground({j:$,i:Y,y1:q,y2:A,elSeries:V}),{pathTo:k.pathTo,pathFrom:k.pathFrom,x:R,y:N+=L}}},{key:"drawStackedColumnPaths",value:function(g){var A,_=g.indexes,x=g.x,S=g.xDivision,D=g.barWidth,R=g.zeroH,N=g.elSeries,L=this.w,V=_.i,j=_.j,q=_.bc;if(L.globals.isXNumeric){var Y=L.globals.seriesX[V][j];Y||(Y=0),x=(Y-L.globals.minX)/this.xRatio-D/2}for(var $,ne=x,se=0,fe=0;fe<this.prevYF.length;fe++)se+=isNaN(this.prevYF[fe][j])?0:this.prevYF[fe][j];if(V>0&&!L.globals.isXNumeric||V>0&&L.globals.isXNumeric&&L.globals.seriesX[V-1][j]===L.globals.seriesX[V][j]){var k,H,Z=Math.min(this.yRatio.length+1,V+1);if(void 0!==this.prevY[V-1])for(var ee=1;ee<Z;ee++)if(!isNaN(this.prevY[V-ee][j])){H=this.prevY[V-ee][j];break}for(var pe=1;pe<Z;pe++){if(this.prevYVal[V-pe][j]<0){k=this.series[V][j]>=0?H-se+2*(this.isReversed?se:0):H;break}if(this.prevYVal[V-pe][j]>=0){k=this.series[V][j]>=0?H:H+se-2*(this.isReversed?se:0);break}}void 0===k&&(k=L.globals.gridHeight),$=this.prevYF[0].every(function(Re){return 0===Re})&&this.prevYF.slice(1,V).every(function(Re){return Re.every(function(Qe){return isNaN(Qe)})})?L.globals.gridHeight-R:k}else $=L.globals.gridHeight-R;var Fe=this.barHelpers.getColumnPaths({barXPosition:ne,barWidth:D,y1:$,y2:A=$-this.series[V][j]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[V][j]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:_.realIndex,i:V,j,w:L});return this.barHelpers.barBackground({bc:q,j,i:V,x1:ne,x2:D,elSeries:N}),x+=S,{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,x:L.globals.isXNumeric?x-S:x,y:A}}}]),h}(),$e=function(J){Ae(h,Sn);var u=Ce(h);function h(){return K(this,h),u.apply(this,arguments)}return Ee(h,[{key:"draw",value:function(g,_){var x=this,A=this.w,S=new Pe(this.ctx),D=new Ue(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var R=new vt(this.ctx,A);g=R.getLogSeries(g),this.series=g,this.yRatio=R.getLogYRatios(this.yRatio),this.barHelpers.initVariables(g);for(var N=S.group({class:"apexcharts-".concat(A.config.chart.type,"-series apexcharts-plot-series")}),L=function(j){x.isBoxPlot="boxPlot"===A.config.chart.type||"boxPlot"===A.config.series[j].type;var q,Y,Z,ee,$=void 0,ne=void 0,se=[],fe=[],k=A.globals.comboCharts?_[j]:j,H=S.group({class:"apexcharts-series",seriesName:de.escapeString(A.globals.seriesNames[k]),rel:j+1,"data:realIndex":k});g[j].length>0&&(x.visibleI=x.visibleI+1),x.yRatio.length>1&&(x.yaxisIndex=k);var pe=x.barHelpers.initialPositions();ne=pe.y,Z=pe.barHeight,q=pe.xDivision,Y=pe.zeroH,fe.push(($=pe.x)+(ee=pe.barWidth)/2);for(var Fe=S.group({class:"apexcharts-datalabels","data:realIndex":k}),Re=function(rt){var dt=x.barHelpers.getStrokeWidth(j,rt,k),It=x.drawBoxPaths({indexes:{i:j,j:rt,realIndex:k},x:$,y:ne,xDivision:q,barWidth:ee,zeroH:Y,strokeWidth:dt,elSeries:H});ne=It.y,$=It.x,rt>0&&fe.push($+ee/2),se.push(ne),It.pathTo.forEach(function(un,St){var Ht=!x.isBoxPlot&&x.candlestickOptions.wick.useFillColor?It.color[St]:A.globals.stroke.colors[j],fn=D.fillPath({seriesNumber:k,dataPointIndex:rt,color:It.color[St],value:g[j][rt]});x.renderSeries({realIndex:k,pathFill:fn,lineFill:Ht,j:rt,i:j,pathFrom:It.pathFrom,pathTo:un,strokeWidth:dt,elSeries:H,x:$,y:ne,series:g,barHeight:Z,barWidth:ee,elDataLabelsWrap:Fe,visibleSeries:x.visibleI,type:A.config.chart.type})})},Qe=0;Qe<A.globals.dataPoints;Qe++)Re(Qe);A.globals.seriesXvalues[k]=fe,A.globals.seriesYvalues[k]=se,N.add(H)},V=0;V<g.length;V++)L(V);return N}},{key:"drawBoxPaths",value:function(g){var _=g.indexes,x=g.x,A=g.xDivision,S=g.barWidth,D=g.zeroH,R=g.strokeWidth,N=this.w,L=new Pe(this.ctx),V=_.i,j=_.j,q=!0,Y=N.config.plotOptions.candlestick.colors.upward,$=N.config.plotOptions.candlestick.colors.downward,ne="";this.isBoxPlot&&(ne=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var se=this.yRatio[this.yaxisIndex],fe=_.realIndex,k=this.getOHLCValue(fe,j),H=D,Z=D;k.o>k.c&&(q=!1);var ee=Math.min(k.o,k.c),pe=Math.max(k.o,k.c),Fe=k.m;N.globals.isXNumeric&&(x=(N.globals.seriesX[fe][j]-N.globals.minX)/this.xRatio-S/2);var Re=x+S*this.visibleI;null==this.series[V][j]?(ee=D,pe=D):(ee=D-ee/se,pe=D-pe/se,H=D-k.h/se,Z=D-k.l/se,Fe=D-k.m/se);var Qe=L.move(Re,D),rt=L.move(Re+S/2,ee);return N.globals.previousPaths.length>0&&(rt=this.getPreviousPath(fe,j,!0)),Qe=this.isBoxPlot?[L.move(Re,ee)+L.line(Re+S/2,ee)+L.line(Re+S/2,H)+L.line(Re+S/4,H)+L.line(Re+S-S/4,H)+L.line(Re+S/2,H)+L.line(Re+S/2,ee)+L.line(Re+S,ee)+L.line(Re+S,Fe)+L.line(Re,Fe)+L.line(Re,ee+R/2),L.move(Re,Fe)+L.line(Re+S,Fe)+L.line(Re+S,pe)+L.line(Re+S/2,pe)+L.line(Re+S/2,Z)+L.line(Re+S-S/4,Z)+L.line(Re+S/4,Z)+L.line(Re+S/2,Z)+L.line(Re+S/2,pe)+L.line(Re,pe)+L.line(Re,Fe)+"z"]:[L.move(Re,pe)+L.line(Re+S/2,pe)+L.line(Re+S/2,H)+L.line(Re+S/2,pe)+L.line(Re+S,pe)+L.line(Re+S,ee)+L.line(Re+S/2,ee)+L.line(Re+S/2,Z)+L.line(Re+S/2,ee)+L.line(Re,ee)+L.line(Re,pe-R/2)],rt+=L.move(Re,ee),N.globals.isXNumeric||(x+=A),{pathTo:Qe,pathFrom:rt,x,y:pe,barXPosition:Re,color:this.isBoxPlot?ne:q?[Y]:[$]}}},{key:"getOHLCValue",value:function(g,_){var x=this.w;return{o:this.isBoxPlot?x.globals.seriesCandleH[g][_]:x.globals.seriesCandleO[g][_],h:this.isBoxPlot?x.globals.seriesCandleO[g][_]:x.globals.seriesCandleH[g][_],m:x.globals.seriesCandleM[g][_],l:this.isBoxPlot?x.globals.seriesCandleC[g][_]:x.globals.seriesCandleL[g][_],c:this.isBoxPlot?x.globals.seriesCandleL[g][_]:x.globals.seriesCandleC[g][_]}}}]),h}(),Le=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"checkColorRange",value:function(){var u=this.w,h=!1,g=u.config.plotOptions[u.config.chart.type];return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(_,x){_.from<=0&&(h=!0)}),h}},{key:"getShadeColor",value:function(u,h,g,_){var x=this.w,A=1,S=x.config.plotOptions[u].shadeIntensity,D=this.determineColor(u,h,g);x.globals.hasNegs||_?A=x.config.plotOptions[u].reverseNegativeShade?D.percent<0?D.percent/100*(1.25*S):1.25*S*(1-D.percent/100):D.percent<=0?1-(1+D.percent/100)*S:(1-D.percent/100)*S:(A=1-D.percent/100,"treemap"===u&&(A=1.25*S*(1-D.percent/100)));var R=D.color,N=new de;return x.config.plotOptions[u].enableShades&&(R=de.hexToRgba(N.shadeColor("dark"===this.w.config.theme.mode?-1*A:A,D.color),x.config.fill.opacity)),{color:R,colorProps:D}}},{key:"determineColor",value:function(u,h,g){var _=this.w,x=_.globals.series[h][g],A=_.config.plotOptions[u],S=A.colorScale.inverse?g:h;_.config.plotOptions[u].distributed&&(S=g);var D=_.globals.colors[S],R=null,N=Math.min.apply(Math,Ne(_.globals.series[h])),L=Math.max.apply(Math,Ne(_.globals.series[h]));A.distributed||"heatmap"!==u||(N=_.globals.minY,L=_.globals.maxY),void 0!==A.colorScale.min&&(N=A.colorScale.min<_.globals.minY?A.colorScale.min:_.globals.minY,L=A.colorScale.max>_.globals.maxY?A.colorScale.max:_.globals.maxY);var V=Math.abs(L)+Math.abs(N),j=100*x/(0===V?V-1e-6:V);return A.colorScale.ranges.length>0&&A.colorScale.ranges.map(function(q,Y){if(x>=q.from&&x<=q.to){D=q.color,R=q.foreColor?q.foreColor:null,N=q.from,L=q.to;var $=Math.abs(L)+Math.abs(N);j=100*x/(0===$?$-1e-6:$)}}),{color:D,foreColor:R,percent:j}}},{key:"calculateDataLabels",value:function(u){var h=u.text,g=u.x,_=u.y,x=u.i,A=u.j,S=u.colorProps,D=u.fontSize,R=this.w.config.dataLabels,N=new Pe(this.ctx),L=new nt(this.ctx),V=null;if(R.enabled){V=N.group({class:"apexcharts-data-labels"});var q=R.offsetY,Y=g+R.offsetX,$=_+parseFloat(R.style.fontSize)/3+q;L.plotDataLabelsText({x:Y,y:$,text:h,i:x,j:A,color:S.foreColor,parent:V,fontSize:D,dataLabelsConfig:R})}return V}},{key:"addListeners",value:function(u){var h=new Pe(this.ctx);u.node.addEventListener("mouseenter",h.pathMouseEnter.bind(this,u)),u.node.addEventListener("mouseleave",h.pathMouseLeave.bind(this,u)),u.node.addEventListener("mousedown",h.pathMouseDown.bind(this,u))}}]),J}(),gt=function(){function J(u,h){K(this,J),this.ctx=u,this.w=u.w,this.xRatio=h.xRatio,this.yRatio=h.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Le(u),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Ee(J,[{key:"draw",value:function(u){var h=this.w,g=new Pe(this.ctx),_=g.group({class:"apexcharts-heatmap"});_.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")"));var x=h.globals.gridWidth/h.globals.dataPoints,A=h.globals.gridHeight/h.globals.series.length,S=0,D=!1;this.negRange=this.helpers.checkColorRange();var R=u.slice();h.config.yaxis[0].reversed&&(D=!0,R.reverse());for(var N=D?0:R.length-1;D?N<R.length:N>=0;D?N++:N--){var L=g.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:de.escapeString(h.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});if(this.ctx.series.addCollapsedClassToSeries(L,N),h.config.chart.dropShadow.enabled){var V=h.config.chart.dropShadow;new tt(this.ctx).dropShadow(L,V,N)}for(var j=0,q=h.config.plotOptions.heatmap.shadeIntensity,Y=0;Y<R[N].length;Y++){var $=this.helpers.getShadeColor(h.config.chart.type,N,Y,this.negRange),ne=$.color,se=$.colorProps;"image"===h.config.fill.type&&(ne=new Ue(this.ctx).fillPath({seriesNumber:N,dataPointIndex:Y,opacity:h.globals.hasNegs?se.percent<0?1-(1+se.percent/100):q+se.percent/100:se.percent/100,patternID:de.randomId(),width:h.config.fill.image.width?h.config.fill.image.width:x,height:h.config.fill.image.height?h.config.fill.image.height:A}));var k=g.drawRect(j,S,x,A,this.rectRadius);if(k.attr({cx:j,cy:S}),k.node.classList.add("apexcharts-heatmap-rect"),L.add(k),k.attr({fill:ne,i:N,index:N,j:Y,val:R[N][Y],"stroke-width":this.strokeWidth,stroke:h.config.plotOptions.heatmap.useFillColorAsStroke?ne:h.globals.stroke.colors[0],color:ne}),this.helpers.addListeners(k),h.config.chart.animations.enabled&&!h.globals.dataChanged){var H=1;h.globals.resized||(H=h.config.chart.animations.speed),this.animateHeatMap(k,j,S,x,A,H)}if(h.globals.dataChanged){var Z=1;if(this.dynamicAnim.enabled&&h.globals.shouldAnimate){Z=this.dynamicAnim.speed;var ee=h.globals.previousPaths[N]&&h.globals.previousPaths[N][Y]&&h.globals.previousPaths[N][Y].color;ee||(ee="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,de.isColorHex(ee)?ee:de.rgb2hex(ee),de.isColorHex(ne)?ne:de.rgb2hex(ne),Z)}}var pe=(0,h.config.dataLabels.formatter)(h.globals.series[N][Y],{value:h.globals.series[N][Y],seriesIndex:N,dataPointIndex:Y,w:h}),Fe=this.helpers.calculateDataLabels({text:pe,x:j+x/2,y:S+A/2,i:N,j:Y,colorProps:se,series:R});null!==Fe&&L.add(Fe),j+=x}S+=A,_.add(L)}var Re=h.globals.yAxisScale[0].result.slice();return h.config.yaxis[0].reversed?Re.unshift(""):Re.push(""),h.globals.yAxisScale[0].result=Re,h.config.yaxis[0].labels.offsetY=-h.globals.gridHeight/h.globals.series.length/2,_}},{key:"animateHeatMap",value:function(u,h,g,_,x,A){var S=new pt(this.ctx);S.animateRect(u,{x:h+_/2,y:g+x/2,width:0,height:0},{x:h,y:g,width:_,height:x},A,function(){S.animationCompleted(u)})}},{key:"animateHeatColor",value:function(u,h,g,_){u.attr({fill:h}).animate(_).attr({fill:g})}}]),J}(),jt=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"drawYAxisTexts",value:function(u,h,g,_){var x=this.w,A=x.config.yaxis[0],S=x.globals.yLabelFormatters[0];return new Pe(this.ctx).drawText({x:u+A.labels.offsetX,y:h+A.labels.offsetY,text:S(_,g),textAnchor:"middle",fontSize:A.labels.style.fontSize,fontFamily:A.labels.style.fontFamily,foreColor:Array.isArray(A.labels.style.colors)?A.labels.style.colors[g]:A.labels.style.colors})}}]),J}(),ln=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w;var h=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==h.globals.stroke.colors?h.globals.stroke.colors:h.globals.colors,this.defaultSize=Math.min(h.globals.gridWidth,h.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=h.globals.gridWidth/2,this.fullAngle="radialBar"===h.config.chart.type?360:Math.abs(h.config.plotOptions.pie.endAngle-h.config.plotOptions.pie.startAngle),this.initialAngle=h.config.plotOptions.pie.startAngle%this.fullAngle,h.globals.radialSize=this.defaultSize/2.05-h.config.stroke.width-(h.config.chart.sparkline.enabled?0:h.config.chart.dropShadow.blur),this.donutSize=h.globals.radialSize*parseInt(h.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Ee(J,[{key:"draw",value:function(u){var h=this,g=this.w,_=new Pe(this.ctx);if(this.ret=_.group({class:"apexcharts-pie"}),g.globals.noData)return this.ret;for(var x=0,A=0;A<u.length;A++)x+=de.negToZero(u[A]);var S=[],D=_.group();0===x&&(x=1e-5),u.forEach(function(ee){h.maxY=Math.max(h.maxY,ee)}),g.config.yaxis[0].max&&(this.maxY=g.config.yaxis[0].max),"back"===g.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var R=0;R<u.length;R++){var N=this.fullAngle*de.negToZero(u[R])/x;S.push(N),"polarArea"===this.chartType?(S[R]=this.fullAngle/u.length,this.sliceSizes.push(g.globals.radialSize*u[R]/this.maxY)):this.sliceSizes.push(g.globals.radialSize)}if(g.globals.dataChanged){for(var L,V=0,j=0;j<g.globals.previousPaths.length;j++)V+=de.negToZero(g.globals.previousPaths[j]);for(var q=0;q<g.globals.previousPaths.length;q++)L=this.fullAngle*de.negToZero(g.globals.previousPaths[q])/V,this.prevSectorAngleArr.push(L)}this.donutSize<0&&(this.donutSize=0);var Y=g.config.plotOptions.pie.customScale,se=g.globals.gridWidth/2-g.globals.gridWidth/2*Y,fe=g.globals.gridHeight/2-g.globals.gridHeight/2*Y;if("donut"===this.chartType){var k=_.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:g.config.plotOptions.pie.donut.background?g.config.plotOptions.pie.donut.background:"transparent"}),D.add(k)}var H=this.drawArcs(S,u);if(this.sliceLabels.forEach(function(ee){H.add(ee)}),D.attr({transform:"translate(".concat(se,", ").concat(fe,") scale(").concat(Y,")")}),D.add(H),this.ret.add(D),this.donutDataLabels.show){var Z=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:se,translateY:fe});this.ret.add(Z)}return"front"===g.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(u,h){var g=this.w,_=new tt(this.ctx),x=new Pe(this.ctx),A=new Ue(this.ctx),S=x.group({class:"apexcharts-slices"}),D=this.initialAngle,R=this.initialAngle,N=this.initialAngle,L=this.initialAngle;this.strokeWidth=g.config.stroke.show?g.config.stroke.width:0;for(var V=0;V<u.length;V++){var j=x.group({class:"apexcharts-series apexcharts-pie-series",seriesName:de.escapeString(g.globals.seriesNames[V]),rel:V+1,"data:realIndex":V});S.add(j),N=(D=N)+u[V],L=(R=L)+this.prevSectorAngleArr[V];var q=N<D?this.fullAngle+N-D:N-D,Y=A.fillPath({seriesNumber:V,size:this.sliceSizes[V],value:h[V]}),$=this.getChangedPath(R,L),ne=x.drawPath({d:$,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[V]:this.lineColorArr,strokeWidth:0,fill:Y,fillOpacity:g.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(V)});ne.attr({index:0,j:V}),_.setSelectionFilter(ne,0,V),g.config.chart.dropShadow.enabled&&_.dropShadow(ne,g.config.chart.dropShadow,V),this.addListeners(ne,this.donutDataLabels),Pe.setAttrs(ne.node,{"data:angle":q,"data:startAngle":D,"data:strokeWidth":this.strokeWidth,"data:value":h[V]});var fe={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?fe=de.polarToCartesian(this.centerX,this.centerY,g.globals.radialSize/1.25+g.config.plotOptions.pie.dataLabels.offset,(D+q/2)%this.fullAngle):"donut"===this.chartType&&(fe=de.polarToCartesian(this.centerX,this.centerY,(g.globals.radialSize+this.donutSize)/2+g.config.plotOptions.pie.dataLabels.offset,(D+q/2)%this.fullAngle)),j.add(ne);var k=0;if(!this.initialAnim||g.globals.resized||g.globals.dataChanged?this.animBeginArr.push(0):(0==(k=q/this.fullAngle*g.config.chart.animations.speed)&&(k=1),this.animDur=k+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(ne,this.dynamicAnim&&g.globals.dataChanged?{size:this.sliceSizes[V],endAngle:N,startAngle:D,prevStartAngle:R,prevEndAngle:L,animateStartingPos:!0,i:V,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:g.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[V],endAngle:N,startAngle:D,i:V,totalItems:u.length-1,animBeginArr:this.animBeginArr,dur:k}),g.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&ne.click(this.pieClicked.bind(this,V)),void 0!==g.globals.selectedDataPoints[0]&&g.globals.selectedDataPoints[0].indexOf(V)>-1&&this.pieClicked(V),g.config.dataLabels.enabled){var H=fe.x,Z=fe.y,ee=100*q/this.fullAngle+"%";if(0!==q&&g.config.plotOptions.pie.dataLabels.minAngleToShowLabel<u[V]){var pe=g.config.dataLabels.formatter;void 0!==pe&&(ee=pe(g.globals.seriesPercent[V][0],{seriesIndex:V,w:g}));var Fe=g.globals.dataLabels.style.colors[V],Re=x.group({class:"apexcharts-datalabels"}),Qe=x.drawText({x:H,y:Z,text:ee,textAnchor:"middle",fontSize:g.config.dataLabels.style.fontSize,fontFamily:g.config.dataLabels.style.fontFamily,fontWeight:g.config.dataLabels.style.fontWeight,foreColor:Fe});Re.add(Qe),g.config.dataLabels.dropShadow.enabled&&_.dropShadow(Qe,g.config.dataLabels.dropShadow),Qe.node.classList.add("apexcharts-pie-label"),g.config.chart.animations.animate&&!1===g.globals.resized&&(Qe.node.classList.add("apexcharts-pie-label-delay"),Qe.node.style.animationDelay=g.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Re)}}}return S}},{key:"addListeners",value:function(u,h){var g=new Pe(this.ctx);u.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this,u)),u.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this,u)),u.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,u.node,h)),u.node.addEventListener("mousedown",g.pathMouseDown.bind(this,u)),this.donutDataLabels.total.showAlways||(u.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,u.node,h)),u.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,u.node,h)))}},{key:"animatePaths",value:function(u,h){var _=h.endAngle<h.startAngle?this.fullAngle+h.endAngle-h.startAngle:h.endAngle-h.startAngle,x=_,A=h.startAngle,S=h.startAngle;void 0!==h.prevStartAngle&&void 0!==h.prevEndAngle&&(A=h.prevEndAngle,x=h.prevEndAngle<h.prevStartAngle?this.fullAngle+h.prevEndAngle-h.prevStartAngle:h.prevEndAngle-h.prevStartAngle),h.i===this.w.config.series.length-1&&(_+S>this.fullAngle?h.endAngle=h.endAngle-(_+S):_+S<this.fullAngle&&(h.endAngle=h.endAngle+(this.fullAngle-(_+S)))),_===this.fullAngle&&(_=this.fullAngle-.01),this.animateArc(u,A,S,_,x,h)}},{key:"animateArc",value:function(u,h,g,_,x,A){var S,D=this,R=this.w,N=new pt(this.ctx),L=A.size;(isNaN(h)||isNaN(x))&&(h=g,x=_,A.dur=0);var V=_,j=g,q=h<g?this.fullAngle+h-g:h-g;R.globals.dataChanged&&A.shouldSetPrevPaths&&A.prevEndAngle&&(S=D.getPiePath({me:D,startAngle:A.prevStartAngle,angle:A.prevEndAngle<A.prevStartAngle?this.fullAngle+A.prevEndAngle-A.prevStartAngle:A.prevEndAngle-A.prevStartAngle,size:L}),u.attr({d:S})),0!==A.dur?u.animate(A.dur,R.globals.easing,A.animBeginArr[A.i]).afterAll(function(){"pie"!==D.chartType&&"donut"!==D.chartType&&"polarArea"!==D.chartType||this.animate(R.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":D.strokeWidth}),A.i===R.config.series.length-1&&N.animationCompleted(u)}).during(function(Y){V=q+(_-q)*Y,A.animateStartingPos&&(V=x+(_-x)*Y,j=h-x+(g-(h-x))*Y),S=D.getPiePath({me:D,startAngle:j,angle:V,size:L}),u.node.setAttribute("data:pathOrig",S),u.attr({d:S})}):(S=D.getPiePath({me:D,startAngle:j,angle:_,size:L}),A.isTrack||(R.globals.animationEnded=!0),u.node.setAttribute("data:pathOrig",S),u.attr({d:S,"stroke-width":D.strokeWidth}))}},{key:"pieClicked",value:function(u){var h,g=this.w,_=this,x=_.sliceSizes[u]+(g.config.plotOptions.pie.expandOnClick?4:0),A=g.globals.dom.Paper.select(".apexcharts-".concat(_.chartType.toLowerCase(),"-slice-").concat(u)).members[0];if("true"!==A.attr("data:pieClicked")){var S=g.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(S,function(L){L.setAttribute("data:pieClicked","false");var V=L.getAttribute("data:pathOrig");L.setAttribute("d",V)}),A.attr("data:pieClicked","true");var D=parseInt(A.attr("data:startAngle"),10),R=parseInt(A.attr("data:angle"),10);h=_.getPiePath({me:_,startAngle:D,angle:R,size:x}),360!==R&&A.plot(h)}else{A.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(A.node,this.donutDataLabels);var N=A.attr("data:pathOrig");A.attr({d:N})}}},{key:"getChangedPath",value:function(u,h){var g="";return this.dynamicAnim&&this.w.globals.dataChanged&&(g=this.getPiePath({me:this,startAngle:u,angle:h-u,size:this.size})),g}},{key:"getPiePath",value:function(u){var h=u.me,g=u.startAngle,_=u.angle,x=u.size,A=g,S=Math.PI*(A-90)/180,D=_+g;Math.ceil(D)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(D=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(D)>this.fullAngle&&(D-=this.fullAngle);var R=Math.PI*(D-90)/180,N=h.centerX+x*Math.cos(S),L=h.centerY+x*Math.sin(S),V=h.centerX+x*Math.cos(R),j=h.centerY+x*Math.sin(R),q=de.polarToCartesian(h.centerX,h.centerY,h.donutSize,D),Y=de.polarToCartesian(h.centerX,h.centerY,h.donutSize,A),$=_>180?1:0,ne=["M",N,L,"A",x,x,0,$,1,V,j];return"donut"===h.chartType?[].concat(ne,["L",q.x,q.y,"A",h.donutSize,h.donutSize,0,$,0,Y.x,Y.y,"L",N,L,"z"]).join(" "):"pie"===h.chartType||"polarArea"===h.chartType?[].concat(ne,["L",h.centerX,h.centerY,"L",N,L]).join(" "):[].concat(ne).join(" ")}},{key:"drawPolarElements",value:function(u){var h=this.w,g=new gr(this.ctx),_=new Pe(this.ctx),x=new jt(this.ctx),A=_.group(),S=_.group(),D=g.niceScale(0,Math.ceil(this.maxY),h.config.yaxis[0].tickAmount,0,!0),R=D.result.reverse(),N=D.result.length;this.maxY=D.niceMax;for(var L=h.globals.radialSize,V=L/(N-1),j=0;j<N-1;j++){var q=_.drawCircle(L);if(q.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":h.config.plotOptions.polarArea.rings.strokeWidth,stroke:h.config.plotOptions.polarArea.rings.strokeColor}),h.config.yaxis[0].show){var Y=x.drawYAxisTexts(this.centerX,this.centerY-L+parseInt(h.config.yaxis[0].labels.style.fontSize,10)/2,j,R[j]);S.add(Y)}A.add(q),L-=V}this.drawSpokes(u),u.add(A),u.add(S)}},{key:"renderInnerDataLabels",value:function(u,h){var g=this.w,_=new Pe(this.ctx),x=_.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(h.translateX?h.translateX:0,", ").concat(h.translateY?h.translateY:0,") scale(").concat(g.config.plotOptions.pie.customScale,")")}),A=u.total.show;x.node.style.opacity=h.opacity;var S,D,R=h.centerX,N=h.centerY;S=void 0===u.name.color?g.globals.colors[0]:u.name.color;var L=u.name.fontSize,V=u.name.fontFamily,j=u.value.fontWeight;D=void 0===u.value.color?g.config.chart.foreColor:u.value.color;var q=u.value.formatter,Y="",$="";if(A?(S=u.total.color,L=u.total.fontSize,V=u.total.fontFamily,j=u.total.fontWeight,$=u.total.label,Y=u.total.formatter(g)):1===g.globals.series.length&&(Y=q(g.globals.series[0],g),$=g.globals.seriesNames[0]),$&&($=u.name.formatter($,u.total.show,g)),u.name.show){var ne=_.drawText({x:R,y:N+parseFloat(u.name.offsetY),text:$,textAnchor:"middle",foreColor:S,fontSize:L,fontWeight:j,fontFamily:V});ne.node.classList.add("apexcharts-datalabel-label"),x.add(ne)}if(u.value.show){var se=u.name.show?parseFloat(u.value.offsetY)+16:u.value.offsetY,fe=_.drawText({x:R,y:N+se,text:Y,textAnchor:"middle",foreColor:D,fontWeight:u.value.fontWeight,fontSize:u.value.fontSize,fontFamily:u.value.fontFamily});fe.node.classList.add("apexcharts-datalabel-value"),x.add(fe)}return x}},{key:"printInnerLabels",value:function(u,h,g,_){var x,A=this.w;_?x=void 0===u.name.color?A.globals.colors[parseInt(_.parentNode.getAttribute("rel"),10)-1]:u.name.color:A.globals.series.length>1&&u.total.show&&(x=u.total.color);var S=A.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),D=A.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");g=(0,u.value.formatter)(g,A),_||"function"!=typeof u.total.formatter||(g=u.total.formatter(A)),h=u.name.formatter(h,h===u.total.label,A),null!==S&&(S.textContent=h),null!==D&&(D.textContent=g),null!==S&&(S.style.fill=x)}},{key:"printDataLabelsInner",value:function(u,h){var g=this.w,_=u.getAttribute("data:value"),x=g.globals.seriesNames[parseInt(u.parentNode.getAttribute("rel"),10)-1];g.globals.series.length>1&&this.printInnerLabels(h,x,_,u);var A=g.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==A&&(A.style.opacity=1)}},{key:"drawSpokes",value:function(u){var h=this,g=this.w,_=new Pe(this.ctx),x=g.config.plotOptions.polarArea.spokes;if(0!==x.strokeWidth){for(var A=[],S=360/g.globals.series.length,D=0;D<g.globals.series.length;D++)A.push(de.polarToCartesian(this.centerX,this.centerY,g.globals.radialSize,g.config.plotOptions.pie.startAngle+S*D));A.forEach(function(R,N){var L=_.drawLine(R.x,R.y,h.centerX,h.centerY,Array.isArray(x.connectorColors)?x.connectorColors[N]:x.connectorColors);u.add(L)})}}},{key:"revertDataLabelsInner",value:function(u,h,g){var _=this,x=this.w,A=x.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),S=!1,D=x.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),R=function(V){var j=V.makeSliceOut,q=V.printLabel;Array.prototype.forEach.call(D,function(Y){"true"===Y.getAttribute("data:pieClicked")&&(j&&(S=!0),q&&_.printDataLabelsInner(Y,h))})};if(R({makeSliceOut:!0,printLabel:!1}),h.total.show&&x.globals.series.length>1)S&&!h.total.showAlways?R({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(h,h.total.label,h.total.formatter(x));else if(R({makeSliceOut:!1,printLabel:!0}),!S)if(x.globals.selectedDataPoints.length&&x.globals.series.length>1)if(x.globals.selectedDataPoints[0].length>0){var N=x.globals.selectedDataPoints[0],L=x.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(N));this.printDataLabelsInner(L,h)}else A&&x.globals.selectedDataPoints.length&&0===x.globals.selectedDataPoints[0].length&&(A.style.opacity=0);else A&&x.globals.series.length>1&&(A.style.opacity=0)}}]),J}(),En=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var h=this.w;this.graphics=new Pe(this.ctx),this.lineColorArr=void 0!==h.globals.stroke.colors?h.globals.stroke.colors:h.globals.colors,this.defaultSize=h.globals.svgHeight<h.globals.svgWidth?h.globals.gridHeight+1.5*h.globals.goldenPadding:h.globals.gridWidth,this.isLog=h.config.yaxis[0].logarithmic,this.coreUtils=new vt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(h.globals.maxY,0):h.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):h.globals.minY,this.polygons=h.config.plotOptions.radar.polygons,this.strokeWidth=h.config.stroke.show?h.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-h.config.chart.dropShadow.blur,h.config.xaxis.labels.show&&(this.size=this.size-h.globals.xAxisLabelsWidth/1.75),void 0!==h.config.plotOptions.radar.size&&(this.size=h.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Ee(J,[{key:"draw",value:function(u){var h=this,g=this.w,_=new Ue(this.ctx),x=[],A=new nt(this.ctx);u.length&&(this.dataPointsLen=u[g.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var N=g.globals.gridHeight/2+g.config.plotOptions.radar.offsetY,L=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(g.globals.gridWidth/2+g.config.plotOptions.radar.offsetX||0,", ").concat(N||0,")")}),V=[],j=null,q=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),u.forEach(function($,ne){var se=$.length===g.globals.dataPoints,fe=h.graphics.group().attr({class:"apexcharts-series","data:longestSeries":se,seriesName:de.escapeString(g.globals.seriesNames[ne]),rel:ne+1,"data:realIndex":ne});h.dataRadiusOfPercent[ne]=[],h.dataRadius[ne]=[],h.angleArr[ne]=[],$.forEach(function(dt,It){var un=Math.abs(h.maxValue-h.minValue);dt+=Math.abs(h.minValue),h.isLog&&(dt=h.coreUtils.getLogVal(dt,0)),h.dataRadiusOfPercent[ne][It]=dt/un,h.dataRadius[ne][It]=h.dataRadiusOfPercent[ne][It]*h.size,h.angleArr[ne][It]=It*h.disAngle}),V=h.getDataPointsPos(h.dataRadius[ne],h.angleArr[ne]);var k=h.createPaths(V,{x:0,y:0});j=h.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),q=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":ne}),g.globals.delayedElements.push({el:j.node,index:ne});var H={i:ne,realIndex:ne,animationDelay:ne,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:g.globals.stroke.colors[ne],strokeLineCap:g.config.stroke.lineCap},Z=null;g.globals.previousPaths.length>0&&(Z=h.getPreviousPath(ne));for(var ee=0;ee<k.linePathsTo.length;ee++){var pe=h.graphics.renderPaths(Se(Se({},H),{},{pathFrom:null===Z?k.linePathsFrom[ee]:Z,pathTo:k.linePathsTo[ee],strokeWidth:Array.isArray(h.strokeWidth)?h.strokeWidth[ne]:h.strokeWidth,fill:"none",drawShadow:!1}));fe.add(pe);var Fe=_.fillPath({seriesNumber:ne}),Re=h.graphics.renderPaths(Se(Se({},H),{},{pathFrom:null===Z?k.areaPathsFrom[ee]:Z,pathTo:k.areaPathsTo[ee],strokeWidth:0,fill:Fe,drawShadow:!1}));g.config.chart.dropShadow.enabled&&new tt(h.ctx).dropShadow(Re,Object.assign({},g.config.chart.dropShadow,{noUserSpaceOnUse:!0}),ne),fe.add(Re)}$.forEach(function(dt,It){var un=new We(h.ctx).getMarkerConfig("apexcharts-marker",ne,It),St=h.graphics.drawMarker(V[It].x,V[It].y,un);St.attr("rel",It),St.attr("j",It),St.attr("index",ne),St.node.setAttribute("default-marker-size",un.pSize);var Ht=h.graphics.group({class:"apexcharts-series-markers"});Ht&&Ht.add(St),j.add(Ht),fe.add(j);var fn=g.config.dataLabels;if(fn.enabled){var wi=fn.formatter(g.globals.series[ne][It],{seriesIndex:ne,dataPointIndex:It,w:g});A.plotDataLabelsText({x:V[It].x,y:V[It].y,text:wi,textAnchor:"middle",i:ne,j:ne,parent:q,offsetCorrection:!1,dataLabelsConfig:Se({},fn)})}fe.add(q)}),x.push(fe)}),this.drawPolygons({parent:L}),g.config.xaxis.labels.show){var Y=this.drawXAxisTexts();L.add(Y)}return x.forEach(function($){L.add($)}),L.add(this.yaxisLabels),L}},{key:"drawPolygons",value:function(u){for(var h=this,g=this.w,_=u.parent,x=new jt(this.ctx),A=g.globals.yAxisScale[0].result.reverse(),S=A.length,D=[],R=this.size/(S-1),N=0;N<S;N++)D[N]=R*N;D.reverse();var L=[],V=[];D.forEach(function(j,q){var Y=de.getPolygonPos(j,h.dataPointsLen),$="";Y.forEach(function(ne,se){if(0===q){var fe=h.graphics.drawLine(ne.x,ne.y,0,0,Array.isArray(h.polygons.connectorColors)?h.polygons.connectorColors[se]:h.polygons.connectorColors);V.push(fe)}0===se&&h.yaxisLabelsTextsPos.push({x:ne.x,y:ne.y}),$+=ne.x+","+ne.y+" "}),L.push($)}),L.forEach(function(j,q){var Y=h.polygons.strokeColors,$=h.polygons.strokeWidth,ne=h.graphics.drawPolygon(j,Array.isArray(Y)?Y[q]:Y,Array.isArray($)?$[q]:$,g.globals.radarPolygons.fill.colors[q]);_.add(ne)}),V.forEach(function(j){_.add(j)}),g.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(j,q){var Y=x.drawYAxisTexts(j.x,j.y,q,A[q]);h.yaxisLabels.add(Y)})}},{key:"drawXAxisTexts",value:function(){var u=this,h=this.w,g=h.config.xaxis.labels,_=this.graphics.group({class:"apexcharts-xaxis"}),x=de.getPolygonPos(this.size,this.dataPointsLen);return h.globals.labels.forEach(function(A,S){var D=h.config.xaxis.labels.formatter,R=new nt(u.ctx);if(x[S]){var N=u.getTextPos(x[S],u.size),L=D(A,{seriesIndex:-1,dataPointIndex:S,w:h});R.plotDataLabelsText({x:N.newX,y:N.newY,text:L,textAnchor:N.textAnchor,i:S,j:S,parent:_,color:Array.isArray(g.style.colors)&&g.style.colors[S]?g.style.colors[S]:"#a8a8a8",dataLabelsConfig:Se({textAnchor:N.textAnchor,dropShadow:{enabled:!1}},g),offsetCorrection:!1})}}),_}},{key:"createPaths",value:function(u,h){var g=this,_=[],x=[],A=[],S=[];if(u.length){x=[this.graphics.move(h.x,h.y)],S=[this.graphics.move(h.x,h.y)];var D=this.graphics.move(u[0].x,u[0].y),R=this.graphics.move(u[0].x,u[0].y);u.forEach(function(N,L){D+=g.graphics.line(N.x,N.y),R+=g.graphics.line(N.x,N.y),L===u.length-1&&(D+="Z",R+="Z")}),_.push(D),A.push(R)}return{linePathsFrom:x,linePathsTo:_,areaPathsFrom:S,areaPathsTo:A}}},{key:"getTextPos",value:function(u,h){var g="middle",_=u.x,x=u.y;return Math.abs(u.x)>=10?u.x>0?(g="start",_+=10):u.x<0&&(g="end",_-=10):g="middle",Math.abs(u.y)>=h-10&&(u.y<0?x-=10:u.y>0&&(x+=10)),{textAnchor:g,newX:_,newY:x}}},{key:"getPreviousPath",value:function(u){for(var h=this.w,g=null,_=0;_<h.globals.previousPaths.length;_++){var x=h.globals.previousPaths[_];x.paths.length>0&&parseInt(x.realIndex,10)===parseInt(u,10)&&void 0!==h.globals.previousPaths[_].paths[0]&&(g=h.globals.previousPaths[_].paths[0].d)}return g}},{key:"getDataPointsPos",value:function(u,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;u=u||[],h=h||[];for(var _=[],x=0;x<g;x++){var A={};A.x=u[x]*Math.sin(h[x]),A.y=-u[x]*Math.cos(h[x]),_.push(A)}return _}}]),J}(),An=function(J){Ae(h,ln);var u=Ce(h);function h(g){var _;K(this,h),(_=u.call(this,g)).ctx=g,_.w=g.w,_.animBeginArr=[0],_.animDur=0;var x=_.w;return _.startAngle=x.config.plotOptions.radialBar.startAngle,_.endAngle=x.config.plotOptions.radialBar.endAngle,_.totalAngle=Math.abs(x.config.plotOptions.radialBar.endAngle-x.config.plotOptions.radialBar.startAngle),_.trackStartAngle=x.config.plotOptions.radialBar.track.startAngle,_.trackEndAngle=x.config.plotOptions.radialBar.track.endAngle,_.radialDataLabels=x.config.plotOptions.radialBar.dataLabels,_.trackStartAngle||(_.trackStartAngle=_.startAngle),_.trackEndAngle||(_.trackEndAngle=_.endAngle),360===_.endAngle&&(_.endAngle=359.99),_.margin=parseInt(x.config.plotOptions.radialBar.track.margin,10),_}return Ee(h,[{key:"draw",value:function(g){var _=this.w,x=new Pe(this.ctx),A=x.group({class:"apexcharts-radialbar"});if(_.globals.noData)return A;var S=x.group(),D=this.defaultSize/2,R=_.globals.gridWidth/2,N=this.defaultSize/2.05;_.config.chart.sparkline.enabled||(N=N-_.config.stroke.width-_.config.chart.dropShadow.blur);var L=_.globals.fill.colors;if(_.config.plotOptions.radialBar.track.show){var V=this.drawTracks({size:N,centerX:R,centerY:D,colorArr:L,series:g});S.add(V)}var j=this.drawArcs({size:N,centerX:R,centerY:D,colorArr:L,series:g}),q=360;_.config.plotOptions.radialBar.startAngle<0&&(q=this.totalAngle);var Y=(360-q)/360;if(_.globals.radialSize=N-N*Y,this.radialDataLabels.value.show){var $=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);_.globals.radialSize+=$*Y}return S.add(j.g),"front"===_.config.plotOptions.radialBar.hollow.position&&(j.g.add(j.elHollow),j.dataLabels&&j.g.add(j.dataLabels)),A.add(S),A}},{key:"drawTracks",value:function(g){var _=this.w,x=new Pe(this.ctx),A=x.group({class:"apexcharts-tracks"}),S=new tt(this.ctx),D=new Ue(this.ctx),R=this.getStrokeWidth(g);g.size=g.size-R/2;for(var N=0;N<g.series.length;N++){var L=x.group({class:"apexcharts-radialbar-track apexcharts-track"});A.add(L),L.attr({rel:N+1}),g.size=g.size-R-this.margin;var V=_.config.plotOptions.radialBar.track,j=D.fillPath({seriesNumber:0,size:g.size,fillColors:Array.isArray(V.background)?V.background[N]:V.background,solid:!0}),q=this.trackStartAngle,Y=this.trackEndAngle;Math.abs(Y)+Math.abs(q)>=360&&(Y=360-Math.abs(this.startAngle)-.1);var $=x.drawPath({d:"",stroke:j,strokeWidth:R*parseInt(V.strokeWidth,10)/100,fill:"none",strokeOpacity:V.opacity,classes:"apexcharts-radialbar-area"});V.dropShadow.enabled&&S.dropShadow($,V.dropShadow),L.add($),$.attr("id","apexcharts-radialbarTrack-"+N),this.animatePaths($,{centerX:g.centerX,centerY:g.centerY,endAngle:Y,startAngle:q,size:g.size,i:N,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:_.globals.easing})}return A}},{key:"drawArcs",value:function(g){var _=this.w,x=new Pe(this.ctx),A=new Ue(this.ctx),S=new tt(this.ctx),D=x.group(),R=this.getStrokeWidth(g);g.size=g.size-R/2;var N=_.config.plotOptions.radialBar.hollow.background,L=g.size-R*g.series.length-this.margin*g.series.length-R*parseInt(_.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,V=L-_.config.plotOptions.radialBar.hollow.margin;void 0!==_.config.plotOptions.radialBar.hollow.image&&(N=this.drawHollowImage(g,D,L,N));var j=this.drawHollow({size:V,centerX:g.centerX,centerY:g.centerY,fill:N||"transparent"});_.config.plotOptions.radialBar.hollow.dropShadow.enabled&&S.dropShadow(j,_.config.plotOptions.radialBar.hollow.dropShadow);var Y=1;!this.radialDataLabels.total.show&&_.globals.series.length>1&&(Y=0);var $=null;this.radialDataLabels.show&&($=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:L,centerX:g.centerX,centerY:g.centerY,opacity:Y})),"back"===_.config.plotOptions.radialBar.hollow.position&&(D.add(j),$&&D.add($));var ne=!1;_.config.plotOptions.radialBar.inverseOrder&&(ne=!0);for(var se=ne?g.series.length-1:0;ne?se>=0:se<g.series.length;ne?se--:se++){var fe=x.group({class:"apexcharts-series apexcharts-radial-series",seriesName:de.escapeString(_.globals.seriesNames[se])});D.add(fe),fe.attr({rel:se+1,"data:realIndex":se}),this.ctx.series.addCollapsedClassToSeries(fe,se),g.size=g.size-R-this.margin;var k=A.fillPath({seriesNumber:se,size:g.size,value:g.series[se]}),H=this.startAngle,Z=void 0,ee=de.negToZero(g.series[se]>100?100:g.series[se])/100,pe=Math.round(this.totalAngle*ee)+this.startAngle,Fe=void 0;_.globals.dataChanged&&(Z=this.startAngle,Fe=Math.round(this.totalAngle*de.negToZero(_.globals.previousPaths[se])/100)+Z),Math.abs(pe)+Math.abs(H)>=360&&(pe-=.01),Math.abs(Fe)+Math.abs(Z)>=360&&(Fe-=.01);var Re=pe-H,Qe=Array.isArray(_.config.stroke.dashArray)?_.config.stroke.dashArray[se]:_.config.stroke.dashArray,rt=x.drawPath({d:"",stroke:k,strokeWidth:R,fill:"none",fillOpacity:_.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+se,strokeDashArray:Qe});Pe.setAttrs(rt.node,{"data:angle":Re,"data:value":g.series[se]}),_.config.chart.dropShadow.enabled&&S.dropShadow(rt,_.config.chart.dropShadow,se),S.setSelectionFilter(rt,0,se),this.addListeners(rt,this.radialDataLabels),fe.add(rt),rt.attr({index:0,j:se});var It=0;!this.initialAnim||_.globals.resized||_.globals.dataChanged||(this.animDur=(It=(pe-H)/360*_.config.chart.animations.speed)/(1.2*g.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),_.globals.dataChanged&&(this.animDur=(It=(pe-H)/360*_.config.chart.animations.dynamicAnimation.speed)/(1.2*g.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(rt,{centerX:g.centerX,centerY:g.centerY,endAngle:pe,startAngle:H,prevEndAngle:Fe,prevStartAngle:Z,size:g.size,i:se,totalItems:2,animBeginArr:this.animBeginArr,dur:It,shouldSetPrevPaths:!0,easing:_.globals.easing})}return{g:D,elHollow:j,dataLabels:$}}},{key:"drawHollow",value:function(g){var _=new Pe(this.ctx).drawCircle(2*g.size);return _.attr({class:"apexcharts-radialbar-hollow",cx:g.centerX,cy:g.centerY,r:g.size,fill:g.fill}),_}},{key:"drawHollowImage",value:function(g,_,x,A){var S=this.w,D=new Ue(this.ctx),R=de.randomId(),N=S.config.plotOptions.radialBar.hollow.image;if(S.config.plotOptions.radialBar.hollow.imageClipped)D.clippedImgArea({width:x,height:x,image:N,patternID:"pattern".concat(S.globals.cuid).concat(R)}),A="url(#pattern".concat(S.globals.cuid).concat(R,")");else{var L=S.config.plotOptions.radialBar.hollow.imageWidth,V=S.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===L&&void 0===V){var j=S.globals.dom.Paper.image(N).loaded(function(Y){this.move(g.centerX-Y.width/2+S.config.plotOptions.radialBar.hollow.imageOffsetX,g.centerY-Y.height/2+S.config.plotOptions.radialBar.hollow.imageOffsetY)});_.add(j)}else{var q=S.globals.dom.Paper.image(N).loaded(function(Y){this.move(g.centerX-L/2+S.config.plotOptions.radialBar.hollow.imageOffsetX,g.centerY-V/2+S.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(L,V)});_.add(q)}}return A}},{key:"getStrokeWidth",value:function(g){return g.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(g.series.length+1)-this.margin}}]),h}(),xi=function(){function J(u){K(this,J),this.w=u.w,this.lineCtx=u}return Ee(J,[{key:"sameValueSeriesFix",value:function(u,h){var g=this.w;if("line"===g.config.chart.type&&("gradient"===g.config.fill.type||"gradient"===g.config.fill.type[u])&&new vt(this.lineCtx.ctx,g).seriesHaveSameValues(u)){var _=h[u].slice();_[_.length-1]=_[_.length-1]+1e-6,h[u]=_}return h}},{key:"calculatePoints",value:function(u){var h=u.series,_=u.x,x=u.y,A=u.i,S=u.j,D=u.prevY,R=this.w,N=[],L=[];if(0===S){var V=this.lineCtx.categoryAxisCorrection+R.config.markers.offsetX;R.globals.isXNumeric&&(V=(R.globals.seriesX[u.realIndex][0]-R.globals.minX)/this.lineCtx.xRatio+R.config.markers.offsetX),N.push(V),L.push(de.isNumber(h[A][0])?D+R.config.markers.offsetY:null),N.push(_+R.config.markers.offsetX),L.push(de.isNumber(h[A][S+1])?x+R.config.markers.offsetY:null)}else N.push(_+R.config.markers.offsetX),L.push(de.isNumber(h[A][S+1])?x+R.config.markers.offsetY:null);return{x:N,y:L}}},{key:"checkPreviousPaths",value:function(u){for(var h=u.pathFromLine,g=u.pathFromArea,_=u.realIndex,x=this.w,A=0;A<x.globals.previousPaths.length;A++){var S=x.globals.previousPaths[A];("line"===S.type||"area"===S.type)&&S.paths.length>0&&parseInt(S.realIndex,10)===parseInt(_,10)&&("line"===S.type?(this.lineCtx.appendPathFrom=!1,h=x.globals.previousPaths[A].paths[0].d):"area"===S.type&&(this.lineCtx.appendPathFrom=!1,g=x.globals.previousPaths[A].paths[0].d,x.config.stroke.show&&x.globals.previousPaths[A].paths[1]&&(h=x.globals.previousPaths[A].paths[1].d)))}return{pathFromLine:h,pathFromArea:g}}},{key:"determineFirstPrevY",value:function(u){var h=u.i,g=u.series,_=u.prevY,x=u.lineYPosition,A=this.w;if(void 0!==g[h][0])_=(x=A.config.chart.stacked&&h>0?this.lineCtx.prevSeriesY[h-1][0]:this.lineCtx.zeroY)-g[h][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?g[h][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(A.config.chart.stacked&&h>0&&void 0===g[h][0])for(var S=h-1;S>=0;S--)if(null!=g[S][0]){_=x=this.lineCtx.prevSeriesY[S][0];break}return{prevY:_,lineYPosition:x}}}]),J}(),Pi=function(){function J(u,h,g){K(this,J),this.ctx=u,this.w=u.w,this.xyRatios=h,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||g,this.scatter=new ze(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new xi(this),this.markers=new We(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Ee(J,[{key:"draw",value:function(u,h,g){var _=this.w,x=new Pe(this.ctx),A=_.globals.comboCharts?h:_.config.chart.type,S=x.group({class:"apexcharts-".concat(A,"-series apexcharts-plot-series")}),D=new vt(this.ctx,_);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,u=D.getLogSeries(u),this.yRatio=D.getLogYRatios(this.yRatio);for(var R=[],N=0;N<u.length;N++){u=this.lineHelpers.sameValueSeriesFix(N,u);var L=_.globals.comboCharts?g[N]:N;this._initSerieVariables(u,N,L);var V=[],j=[],q=_.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,L),_.globals.isXNumeric&&_.globals.seriesX.length>0&&(q=(_.globals.seriesX[L][0]-_.globals.minX)/this.xRatio),j.push(q);var Y,$=q,ne=$,se=this.zeroY;se=this.lineHelpers.determineFirstPrevY({i:N,series:u,prevY:se,lineYPosition:0}).prevY,V.push(se),Y=se;var fe=this._calculatePathsFrom({series:u,i:N,realIndex:L,prevX:ne,prevY:se}),k=this._iterateOverDataPoints({series:u,realIndex:L,i:N,x:q,y:1,pX:$,pY:Y,pathsFrom:fe,linePaths:[],areaPaths:[],seriesIndex:g,lineYPosition:0,xArrj:j,yArrj:V});this._handlePaths({type:A,realIndex:L,i:N,paths:k}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),R.push(this.elSeries)}if(_.config.chart.stacked)for(var H=R.length;H>0;H--)S.add(R[H-1]);else for(var Z=0;Z<R.length;Z++)S.add(R[Z]);return S}},{key:"_initSerieVariables",value:function(u,h,g){var _=this.w,x=new Pe(this.ctx);this.xDivision=_.globals.gridWidth/(_.globals.dataPoints-("on"===_.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(_.config.stroke.width)?_.config.stroke.width[g]:_.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=g),this.isReversed=_.config.yaxis[this.yaxisIndex]&&_.config.yaxis[this.yaxisIndex].reversed,this.zeroY=_.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?_.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>_.globals.gridHeight||"end"===_.config.plotOptions.area.fillTo)&&(this.areaBottomY=_.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=x.group({class:"apexcharts-series",seriesName:de.escapeString(_.globals.seriesNames[g])}),this.elPointsMain=x.group({class:"apexcharts-series-markers-wrap","data:realIndex":g}),this.elDataLabelsWrap=x.group({class:"apexcharts-datalabels","data:realIndex":g}),this.elSeries.attr({"data:longestSeries":u[h].length===_.globals.dataPoints,rel:h+1,"data:realIndex":g}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(u){var h,g,_,x,A=u.series,S=u.i,D=u.realIndex,R=u.prevX,N=u.prevY,L=this.w,V=new Pe(this.ctx);if(null===A[S][0]){for(var j=0;j<A[S].length;j++)if(null!==A[S][j]){h=V.move(R=this.xDivision*j,N=this.zeroY-A[S][j]/this.yRatio[this.yaxisIndex]),g=V.move(R,this.areaBottomY);break}}else h=V.move(R,N),g=V.move(R,this.areaBottomY)+V.line(R,N);if(_=V.move(-1,this.zeroY)+V.line(-1,this.zeroY),x=V.move(-1,this.zeroY)+V.line(-1,this.zeroY),L.globals.previousPaths.length>0){var q=this.lineHelpers.checkPreviousPaths({pathFromLine:_,pathFromArea:x,realIndex:D});_=q.pathFromLine,x=q.pathFromArea}return{prevX:R,prevY:N,linePath:h,areaPath:g,pathFromLine:_,pathFromArea:x}}},{key:"_handlePaths",value:function(u){var h=u.type,g=u.realIndex,_=u.i,x=u.paths,A=this.w,S=new Pe(this.ctx),D=new Ue(this.ctx);this.prevSeriesY.push(x.yArrj),A.globals.seriesXvalues[g]=x.xArrj,A.globals.seriesYvalues[g]=x.yArrj;var R=A.config.forecastDataPoints;if(R.count>0){var N=A.globals.seriesXvalues[g][A.globals.seriesXvalues[g].length-R.count-1],L=S.drawRect(N,0,A.globals.gridWidth,A.globals.gridHeight,0);A.globals.dom.elForecastMask.appendChild(L.node);var V=S.drawRect(0,0,N,A.globals.gridHeight,0);A.globals.dom.elNonForecastMask.appendChild(V.node)}this.pointsChart||A.globals.delayedElements.push({el:this.elPointsMain.node,index:g});var j={i:_,realIndex:g,animationDelay:_,initialSpeed:A.config.chart.animations.speed,dataChangeSpeed:A.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(h)};if("area"===h)for(var q=D.fillPath({seriesNumber:g}),Y=0;Y<x.areaPaths.length;Y++){var $=S.renderPaths(Se(Se({},j),{},{pathFrom:x.pathFromArea,pathTo:x.areaPaths[Y],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:q}));this.elSeries.add($)}if(A.config.stroke.show&&!this.pointsChart){var ne;ne="line"===h?D.fillPath({seriesNumber:g,i:_}):A.globals.stroke.colors[g];for(var se=0;se<x.linePaths.length;se++){var fe=Se(Se({},j),{},{pathFrom:x.pathFromLine,pathTo:x.linePaths[se],stroke:ne,strokeWidth:this.strokeWidth,strokeLineCap:A.config.stroke.lineCap,fill:"none"}),k=S.renderPaths(fe);if(this.elSeries.add(k),R.count>0){var H=S.renderPaths(fe);H.node.setAttribute("stroke-dasharray",R.dashArray),R.strokeWidth&&H.node.setAttribute("stroke-width",R.strokeWidth),this.elSeries.add(H),H.attr("clip-path","url(#forecastMask".concat(A.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(A.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(u){for(var h=u.series,g=u.realIndex,_=u.i,x=u.x,A=u.y,S=u.pX,D=u.pY,R=u.pathsFrom,N=u.linePaths,L=u.areaPaths,V=u.seriesIndex,j=u.lineYPosition,q=u.xArrj,Y=u.yArrj,$=this.w,ne=new Pe(this.ctx),se=this.yRatio,fe=R.prevY,k=R.linePath,H=R.areaPath,Z=R.pathFromLine,ee=R.pathFromArea,pe=de.isNumber($.globals.minYArr[g])?$.globals.minYArr[g]:$.globals.minY,Fe=$.globals.dataPoints>1?$.globals.dataPoints-1:$.globals.dataPoints,Re=0;Re<Fe;Re++){var Qe=null==h[_][Re+1];if($.globals.isXNumeric){var rt=$.globals.seriesX[g][Re+1];void 0===$.globals.seriesX[g][Re+1]&&(rt=$.globals.seriesX[g][Fe-1]),x=(rt-$.globals.minX)/this.xRatio}else x+=this.xDivision;j=$.config.chart.stacked&&_>0&&$.globals.collapsedSeries.length<$.config.series.length-1?this.prevSeriesY[function(un){for(var St=un,Ht=0;Ht<$.globals.series.length;Ht++)if($.globals.collapsedSeriesIndices.indexOf(un)>-1){St--;break}return St>=0?St:0}(_-1)][Re+1]:this.zeroY,A=Qe?j-pe/se[this.yaxisIndex]+2*(this.isReversed?pe/se[this.yaxisIndex]:0):j-h[_][Re+1]/se[this.yaxisIndex]+2*(this.isReversed?h[_][Re+1]/se[this.yaxisIndex]:0),q.push(x),Y.push(A);var dt=this.lineHelpers.calculatePoints({series:h,x,y:A,realIndex:g,i:_,j:Re,prevY:fe}),It=this._createPaths({series:h,i:_,realIndex:g,j:Re,x,y:A,pX:S,pY:D,linePath:k,areaPath:H,linePaths:N,areaPaths:L,seriesIndex:V});L=It.areaPaths,N=It.linePaths,S=It.pX,D=It.pY,H=It.areaPath,k=It.linePath,this.appendPathFrom&&(Z+=ne.line(x,this.zeroY),ee+=ne.line(x,this.zeroY)),this.handleNullDataPoints(h,dt,_,Re,g),this._handleMarkersAndLabels({pointsPos:dt,series:h,x,y:A,prevY:fe,i:_,j:Re,realIndex:g})}return{yArrj:Y,xArrj:q,pathFromArea:ee,areaPaths:L,pathFromLine:Z,linePaths:N}}},{key:"_handleMarkersAndLabels",value:function(u){var h=u.pointsPos,g=u.i,_=u.j,x=u.realIndex,A=this.w,S=new nt(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,_,{realIndex:x,pointsPos:h,zRatio:this.zRatio,elParent:this.elPointsMain});else{A.globals.series[g].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var D=this.markers.plotChartMarkers(h,x,_+1);null!==D&&this.elPointsMain.add(D)}var R=S.drawDataLabel(h,x,_+1,null);null!==R&&this.elDataLabelsWrap.add(R)}},{key:"_createPaths",value:function(u){var h=u.series,g=u.i,_=u.realIndex,x=u.j,A=u.x,S=u.y,D=u.pX,R=u.pY,N=u.linePath,L=u.areaPath,V=u.linePaths,j=u.areaPaths,q=u.seriesIndex,Y=this.w,$=new Pe(this.ctx),ne=Y.config.stroke.curve,se=this.areaBottomY;if(Array.isArray(Y.config.stroke.curve)&&(ne=Array.isArray(q)?Y.config.stroke.curve[q[g]]:Y.config.stroke.curve[g]),"smooth"===ne){var fe=.35*(A-D);Y.globals.hasNullValues?(null!==h[g][x]&&(null!==h[g][x+1]?(N=$.move(D,R)+$.curve(D+fe,R,A-fe,S,A+1,S),L=$.move(D+1,R)+$.curve(D+fe,R,A-fe,S,A+1,S)+$.line(A,se)+$.line(D,se)+"z"):(N=$.move(D,R),L=$.move(D,R)+"z")),V.push(N),j.push(L)):(N+=$.curve(D+fe,R,A-fe,S,A,S),L+=$.curve(D+fe,R,A-fe,S,A,S)),D=A,R=S,x===h[g].length-2&&(L=L+$.curve(D,R,A,S,A,se)+$.move(A,S)+"z",Y.globals.hasNullValues||(V.push(N),j.push(L)))}else null===h[g][x+1]&&(N+=$.move(A,S),L=L+$.line(Y.globals.isXNumeric?(Y.globals.seriesX[_][x]-Y.globals.minX)/this.xRatio:A-this.xDivision,se)+$.move(A,S)+"z"),null===h[g][x]&&(N+=$.move(A,S),L+=$.move(A,se)),"stepline"===ne?(N=N+$.line(A,null,"H")+$.line(null,S,"V"),L=L+$.line(A,null,"H")+$.line(null,S,"V")):"straight"===ne&&(N+=$.line(A,S),L+=$.line(A,S)),x===h[g].length-2&&(L=L+$.line(A,se)+$.move(A,S)+"z",V.push(N),j.push(L));return{linePaths:V,areaPaths:j,pX:D,pY:R,linePath:N,areaPath:L}}},{key:"handleNullDataPoints",value:function(u,h,g,_,x){var A=this.w;if(null===u[g][_]&&A.config.markers.showNullDataPoints||1===u[g].length){var S=this.markers.plotChartMarkers(h,x,_+1,this.strokeWidth-A.config.markers.strokeWidth/2,!0);null!==S&&this.elPointsMain.add(S)}}}]),J}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function J(S,D,R,N){this.xoffset=S,this.yoffset=D,this.height=N,this.width=R,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(L){var V,j=[],q=this.xoffset,Y=this.yoffset,$=x(L)/this.height,ne=x(L)/this.width;if(this.width>=this.height)for(V=0;V<L.length;V++)j.push([q,Y,q+$,Y+L[V]/$]),Y+=L[V]/$;else for(V=0;V<L.length;V++)j.push([q,Y,q+L[V]/ne,Y+ne]),q+=L[V]/ne;return j},this.cutArea=function(L){var V;if(this.width>=this.height){var j=L/this.height;V=new J(this.xoffset+j,this.yoffset,this.width-j,this.height)}else{var Y=L/this.width;V=new J(this.xoffset,this.yoffset+Y,this.width,this.height-Y)}return V}}function u(S,D,R,N,L){return N=void 0===N?0:N,L=void 0===L?0:L,function(V){var j,q,Y=[];for(j=0;j<V.length;j++)for(q=0;q<V[j].length;q++)Y.push(V[j][q]);return Y}(h(function(V,j){var q,Y=[],$=j/x(V);for(q=0;q<V.length;q++)Y[q]=V[q]*$;return Y}(S,D*R),[],new J(N,L,D,R),[]))}function h(S,D,R,N){var L,V,j,q,Y,$,ne;if(0!==S.length)return L=R.shortestEdge(),Y=V=S[0],$=L,0===(q=D).length||((ne=q.slice()).push(Y),g(q,$)>=g(ne,$))?(D.push(V),h(S.slice(1),D,R,N)):(j=R.cutArea(x(D),N),N.push(R.getCoordinates(D)),h(S,[],j,N)),N;N.push(R.getCoordinates(D))}function g(S,D){var R=Math.min.apply(Math,S),N=Math.max.apply(Math,S),L=x(S);return Math.max(Math.pow(D,2)*N/Math.pow(L,2),Math.pow(L,2)/(Math.pow(D,2)*R))}function _(S){return S&&S.constructor===Array}function x(S){var D,R=0;for(D=0;D<S.length;D++)R+=S[D];return R}function A(S){var D,R=0;if(_(S[0]))for(D=0;D<S.length;D++)R+=A(S[D]);else R=x(S);return R}return function S(D,R,N,L,V){L=void 0===L?0:L,V=void 0===V?0:V;var j,q,Y=[],$=[];if(_(D[0])){for(q=0;q<D.length;q++)Y[q]=A(D[q]);for(j=u(Y,R,N,L,V),q=0;q<D.length;q++)$.push(S(D[q],j[q][2]-j[q][0],j[q][3]-j[q][1],j[q][0],j[q][1]))}else $=u(D,R,N,L,V);return $}}();var zi,ys,zl=function(){function J(u,h){K(this,J),this.ctx=u,this.w=u.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Le(u),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Ee(J,[{key:"draw",value:function(u){var h=this,g=this.w,_=new Pe(this.ctx),x=new Ue(this.ctx),A=_.group({class:"apexcharts-treemap"});if(g.globals.noData)return A;var S=[];return u.forEach(function(D){var R=D.map(function(N){return Math.abs(N)});S.push(R)}),this.negRange=this.helpers.checkColorRange(),g.config.series.forEach(function(D,R){D.data.forEach(function(N){Array.isArray(h.labels[R])||(h.labels[R]=[]),h.labels[R].push(N.x)})}),window.TreemapSquared.generate(S,g.globals.gridWidth,g.globals.gridHeight).forEach(function(D,R){var N=_.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:de.escapeString(g.globals.seriesNames[R]),rel:R+1,"data:realIndex":R});if(g.config.chart.dropShadow.enabled){var L=g.config.chart.dropShadow;new tt(h.ctx).dropShadow(A,L,R)}var V=_.group({class:"apexcharts-data-labels"});D.forEach(function(j,q){var Y=j[0],$=j[1],ne=j[2],se=j[3],fe=_.drawRect(Y,$,ne-Y,se-$,0,"#fff",1,h.strokeWidth,g.config.plotOptions.treemap.useFillColorAsStroke?H:g.globals.stroke.colors[R]);fe.attr({cx:Y,cy:$,index:R,i:R,j:q,width:ne-Y,height:se-$});var k=h.helpers.getShadeColor(g.config.chart.type,R,q,h.negRange),H=k.color;void 0!==g.config.series[R].data[q]&&g.config.series[R].data[q].fillColor&&(H=g.config.series[R].data[q].fillColor);var Z=x.fillPath({color:H,seriesNumber:R,dataPointIndex:q});fe.node.classList.add("apexcharts-treemap-rect"),fe.attr({fill:Z}),h.helpers.addListeners(fe);var ee={x:Y+(ne-Y)/2,y:$+(se-$)/2,width:0,height:0},pe={x:Y,y:$,width:ne-Y,height:se-$};if(g.config.chart.animations.enabled&&!g.globals.dataChanged){var Fe=1;g.globals.resized||(Fe=g.config.chart.animations.speed),h.animateTreemap(fe,ee,pe,Fe)}g.globals.dataChanged&&h.dynamicAnim.enabled&&g.globals.shouldAnimate&&(g.globals.previousPaths[R]&&g.globals.previousPaths[R][q]&&g.globals.previousPaths[R][q].rect&&(ee=g.globals.previousPaths[R][q].rect),h.animateTreemap(fe,ee,pe,h.dynamicAnim.speed));var Qe=h.getFontSize(j),rt=g.config.dataLabels.formatter(h.labels[R][q],{value:g.globals.series[R][q],seriesIndex:R,dataPointIndex:q,w:g}),dt=h.helpers.calculateDataLabels({text:rt,x:(Y+ne)/2,y:($+se)/2+h.strokeWidth/2+Qe/3,i:R,j:q,colorProps:k,fontSize:Qe,series:u});g.config.dataLabels.enabled&&dt&&h.rotateToFitLabel(dt,rt,Y,$,ne,se),N.add(fe),null!==dt&&N.add(dt)}),N.add(V),A.add(N)}),A}},{key:"getFontSize",value:function(u){var A,h=this.w,S=function D(R){var N,L=0;if(Array.isArray(R[0]))for(N=0;N<R.length;N++)L+=D(R[N]);else for(N=0;N<R.length;N++)L+=R[N].length;return L}(this.labels)/function D(R){var N,L=0;if(Array.isArray(R[0]))for(N=0;N<R.length;N++)L+=D(R[N]);else for(N=0;N<R.length;N++)L+=1;return L}(this.labels);return A=Math.pow((u[2]-u[0])*(u[3]-u[1]),.5),Math.min(A/S,parseInt(h.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(u,h,g,_,x,A){var S=new Pe(this.ctx),D=S.getTextRects(h);if(D.width+5>x-g&&D.width<=A-_){var R=S.rotateAroundCenter(u.node);u.node.setAttribute("transform","rotate(-90 ".concat(R.x," ").concat(R.y,")"))}}},{key:"animateTreemap",value:function(u,h,g,_){var x=new pt(this.ctx);x.animateRect(u,{x:h.x,y:h.y,width:h.width,height:h.height},{x:g.x,y:g.y,width:g.width,height:g.height},_,function(){x.animationCompleted(u)})}}]),J}(),uu=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Ee(J,[{key:"calculateTimeScaleTicks",value:function(u,h){var g=this,_=this.w;if(_.globals.allSeriesCollapsed)return _.globals.labels=[],_.globals.timescaleLabels=[],[];var x=new bt(this.ctx),A=(h-u)/864e5;this.determineInterval(A),_.globals.disableZoomIn=!1,_.globals.disableZoomOut=!1,A<.00011574074074074075?_.globals.disableZoomIn=!0:A>5e4&&(_.globals.disableZoomOut=!0);var S=x.getTimeUnitsfromTimestamp(u,h,this.utc),D=_.globals.gridWidth/A,R=D/24,N=R/60,L=N/60,V=Math.floor(24*A),j=Math.floor(1440*A),q=Math.floor(86400*A),Y=Math.floor(A),$=Math.floor(A/30),ne=Math.floor(A/365),se={minMillisecond:S.minMillisecond,minSecond:S.minSecond,minMinute:S.minMinute,minHour:S.minHour,minDate:S.minDate,minMonth:S.minMonth,minYear:S.minYear},fe={firstVal:se,currentMillisecond:se.minMillisecond,currentSecond:se.minSecond,currentMinute:se.minMinute,currentHour:se.minHour,currentMonthDate:se.minDate,currentDate:se.minDate,currentMonth:se.minMonth,currentYear:se.minYear,daysWidthOnXAxis:D,hoursWidthOnXAxis:R,minutesWidthOnXAxis:N,secondsWidthOnXAxis:L,numberOfSeconds:q,numberOfMinutes:j,numberOfHours:V,numberOfDays:Y,numberOfMonths:$,numberOfYears:ne};switch(this.tickInterval){case"years":this.generateYearScale(fe);break;case"months":case"half_year":this.generateMonthScale(fe);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(fe);break;case"hours":this.generateHourScale(fe);break;case"minutes_fives":case"minutes":this.generateMinuteScale(fe);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(fe)}var k=this.timeScaleArray.map(function(H){var Z={position:H.position,unit:H.unit,year:H.year,day:H.day?H.day:1,hour:H.hour?H.hour:0,month:H.month+1};return"month"===H.unit?Se(Se({},Z),{},{day:1,value:H.value+1}):"day"===H.unit||"hour"===H.unit?Se(Se({},Z),{},{value:H.value}):"minute"===H.unit?Se(Se({},Z),{},{value:H.value,minute:H.value}):"second"===H.unit?Se(Se({},Z),{},{value:H.value,minute:H.minute,second:H.second}):H});return k.filter(function(H){var Z=1,ee=Math.ceil(_.globals.gridWidth/120),pe=H.value;void 0!==_.config.xaxis.tickAmount&&(ee=_.config.xaxis.tickAmount),k.length>ee&&(Z=Math.floor(k.length/ee));var Fe=!1,Re=!1;switch(g.tickInterval){case"years":"year"===H.unit&&(Fe=!0);break;case"half_year":Z=7,"year"===H.unit&&(Fe=!0);break;case"months":Z=1,"year"===H.unit&&(Fe=!0);break;case"months_fortnight":Z=15,"year"!==H.unit&&"month"!==H.unit||(Fe=!0),30===pe&&(Re=!0);break;case"months_days":Z=10,"month"===H.unit&&(Fe=!0),30===pe&&(Re=!0);break;case"week_days":Z=8,"month"===H.unit&&(Fe=!0);break;case"days":Z=1,"month"===H.unit&&(Fe=!0);break;case"hours":"day"===H.unit&&(Fe=!0);break;case"minutes_fives":pe%5!=0&&(Re=!0);break;case"seconds_tens":pe%10!=0&&(Re=!0);break;case"seconds_fives":pe%5!=0&&(Re=!0)}if("hours"===g.tickInterval||"minutes_fives"===g.tickInterval||"seconds_tens"===g.tickInterval||"seconds_fives"===g.tickInterval){if(!Re)return!0}else if((pe%Z==0||Fe)&&!Re)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(u,h){var g=this.w,_=this.formatDates(u),x=this.removeOverlappingTS(_);g.globals.timescaleLabels=x.slice(),new ga(this.ctx).plotCoords()}},{key:"determineInterval",value:function(u){var h=24*u,g=60*h;switch(!0){case u/365>5:this.tickInterval="years";break;case u>800:this.tickInterval="half_year";break;case u>180:this.tickInterval="months";break;case u>90:this.tickInterval="months_fortnight";break;case u>60:this.tickInterval="months_days";break;case u>30:this.tickInterval="week_days";break;case u>2:this.tickInterval="days";break;case h>2.4:this.tickInterval="hours";break;case g>15:this.tickInterval="minutes_fives";break;case g>5:this.tickInterval="minutes";break;case g>1:this.tickInterval="seconds_tens";break;case 60*g>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(u){var h=u.firstVal,g=u.currentMonth,_=u.currentYear,x=u.daysWidthOnXAxis,A=u.numberOfYears,S=h.minYear,D=0,R=new bt(this.ctx),N="year";if(h.minDate>1||h.minMonth>0){var L=R.determineRemainingDaysOfYear(h.minYear,h.minMonth,h.minDate);D=(R.determineDaysOfYear(h.minYear)-L+1)*x,this.timeScaleArray.push({position:D,value:S=h.minYear+1,unit:N,year:S,month:de.monthMod(g+1)})}else 1===h.minDate&&0===h.minMonth&&this.timeScaleArray.push({position:D,value:S,unit:N,year:_,month:de.monthMod(g+1)});for(var V=S,j=D,q=0;q<A;q++)V++,j=R.determineDaysOfYear(V-1)*x+j,this.timeScaleArray.push({position:j,value:V,unit:N,year:V,month:1})}},{key:"generateMonthScale",value:function(u){var h=u.firstVal,g=u.currentMonthDate,_=u.currentMonth,x=u.currentYear,A=u.daysWidthOnXAxis,S=u.numberOfMonths,D=_,R=0,N=new bt(this.ctx),L="month",V=0;if(h.minDate>1){R=(N.determineDaysOfMonths(_+1,h.minYear)-g+1)*A,D=de.monthMod(_+1);var j=x+V,q=de.monthMod(D),Y=D;0===D&&(L="year",Y=j,q=1,j+=V+=1),this.timeScaleArray.push({position:R,value:Y,unit:L,year:j,month:q})}else this.timeScaleArray.push({position:R,value:D,unit:L,year:x,month:de.monthMod(_)});for(var $=D+1,ne=R,se=0,fe=1;se<S;se++,fe++){0===($=de.monthMod($))?(L="year",V+=1):L="month";var k=this._getYear(x,$,V);ne=N.determineDaysOfMonths($,k)*A+ne,this.timeScaleArray.push({position:ne,value:0===$?k:$,unit:L,year:k,month:0===$?1:$}),$++}}},{key:"generateDayScale",value:function(u){var h=u.firstVal,g=u.currentMonth,_=u.currentYear,x=u.hoursWidthOnXAxis,A=u.numberOfDays,S=new bt(this.ctx),D="day",R=h.minDate+1,N=R,L=function(fe,k,H){return fe>S.determineDaysOfMonths(k+1,H)&&(N=1,D="month",j=k+=1),k},V=(24-h.minHour)*x,j=R,q=L(N,g,_);0===h.minHour&&1===h.minDate?(V=0,j=de.monthMod(h.minMonth),D="month",N=h.minDate,A++):1!==h.minDate&&0===h.minHour&&0===h.minMinute&&(V=0,j=R=h.minDate,q=L(N=R,g,_)),this.timeScaleArray.push({position:V,value:j,unit:D,year:this._getYear(_,q,0),month:de.monthMod(q),day:N});for(var Y=V,$=0;$<A;$++){D="day",q=L(N+=1,q,this._getYear(_,q,0));var ne=this._getYear(_,q,0);Y=24*x+Y;var se=1===N?de.monthMod(q):N;this.timeScaleArray.push({position:Y,value:se,unit:D,year:ne,month:de.monthMod(q),day:se})}}},{key:"generateHourScale",value:function(u){var h=u.firstVal,g=u.currentDate,_=u.currentMonth,x=u.currentYear,A=u.minutesWidthOnXAxis,S=u.numberOfHours,D=new bt(this.ctx),R="hour",L=function(Z,ee){return Z>D.determineDaysOfMonths(ee+1,x)?ee+=1:ee},V=60-(h.minMinute+h.minSecond/60),j=V*A,q=h.minHour+1,Y=q+1;60===V&&(j=0,Y=(q=h.minHour)+1);var Z,ee,$=g,ne=L($,_);this.timeScaleArray.push({position:j,value:q,unit:R,day:$,hour:Y,year:x,month:de.monthMod(ne)});for(var se=j,fe=0;fe<S;fe++){R="hour",Y>=24&&(Y=0,R="day",ne=(Z=$+=1,ee=ne,Z>D.determineDaysOfMonths(ee+1,x)&&($=1,ee+=1),{month:ee,date:$}).month,ne=L($,ne));var k=this._getYear(x,ne,0);this.timeScaleArray.push({position:se=0===Y&&0===fe?V*A:60*A+se,value:0===Y?$:Y,unit:R,hour:Y,day:$,year:k,month:de.monthMod(ne)}),Y++}}},{key:"generateMinuteScale",value:function(u){for(var R=u.minutesWidthOnXAxis,L=u.numberOfMinutes,V=u.currentMinute+1,j=u.currentDate,q=u.currentMonth,Y=u.currentYear,$=u.currentHour,ne=(60-u.currentSecond-u.currentMillisecond/1e3)*u.secondsWidthOnXAxis,se=0;se<L;se++)V>=60&&(V=0,24===($+=1)&&($=0)),this.timeScaleArray.push({position:ne,value:V,unit:"minute",hour:$,minute:V,day:j,year:this._getYear(Y,q,0),month:de.monthMod(q)}),ne+=R,V++}},{key:"generateSecondScale",value:function(u){for(var R=u.secondsWidthOnXAxis,N=u.numberOfSeconds,L=u.currentSecond+1,V=u.currentMinute,j=u.currentDate,q=u.currentMonth,Y=u.currentYear,$=u.currentHour,ne=(1e3-u.currentMillisecond)/1e3*R,se=0;se<N;se++)L>=60&&(L=0,++V>=60&&(V=0,24==++$&&($=0))),this.timeScaleArray.push({position:ne,value:L,unit:"second",hour:$,minute:V,second:L,day:j,year:this._getYear(Y,q,0),month:de.monthMod(q)}),ne+=R,L++}},{key:"createRawDateString",value:function(u,h){var g=u.year;return 0===u.month&&(u.month=1),g+="-"+("0"+u.month.toString()).slice(-2),g+="day"===u.unit?"day"===u.unit?"-"+("0"+h).slice(-2):"-01":"-"+("0"+(u.day?u.day:"1")).slice(-2),g+="hour"===u.unit?"hour"===u.unit?"T"+("0"+h).slice(-2):"T00":"T"+("0"+(u.hour?u.hour:"0")).slice(-2),g+="minute"===u.unit?":"+("0"+h).slice(-2):":"+(u.minute?("0"+u.minute).slice(-2):"00"),g+="second"===u.unit?":"+("0"+h).slice(-2):":00",this.utc&&(g+=".000Z"),g}},{key:"formatDates",value:function(u){var h=this,g=this.w;return u.map(function(_){var x=_.value.toString(),A=new bt(h.ctx),S=h.createRawDateString(_,x),D=A.getDate(A.parseDate(S));if(h.utc||(D=A.getDate(A.parseDateWithTimezone(S))),void 0===g.config.xaxis.labels.format){var R="dd MMM",N=g.config.xaxis.labels.datetimeFormatter;"year"===_.unit&&(R=N.year),"month"===_.unit&&(R=N.month),"day"===_.unit&&(R=N.day),"hour"===_.unit&&(R=N.hour),"minute"===_.unit&&(R=N.minute),"second"===_.unit&&(R=N.second),x=A.formatDate(D,R)}else x=A.formatDate(D,g.config.xaxis.labels.format);return{dateString:S,position:_.position,value:x,unit:_.unit,year:_.year,month:_.month}})}},{key:"removeOverlappingTS",value:function(u){var h,g=this,_=new Pe(this.ctx),x=!1;u.length>0&&u[0].value&&u.every(function(D){return D.value.length===u[0].value.length})&&(x=!0,h=_.getTextRects(u[0].value).width);var A=0;return u.map(function(D,R){if(R>0&&g.w.config.xaxis.labels.hideOverlappingLabels){var N=x?h:_.getTextRects(u[A].value).width;return D.position>u[A].position+N+10?(A=R,D):null}return D}).filter(function(D){return null!==D})}},{key:"_getYear",value:function(u,h,g){return u+Math.floor(h/12)+g}}]),J}(),Yh=function(){function J(u,h){K(this,J),this.ctx=h,this.w=h.w,this.el=u}return Ee(J,[{key:"setupElements",value:function(){var u=this.w.globals,h=this.w.config,g=h.chart.type;u.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(g)>-1,u.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(g)>-1,u.isBarHorizontal=("bar"===h.chart.type||"rangeBar"===h.chart.type)&&h.plotOptions.bar.horizontal,u.chartClass=".apexcharts"+u.chartID,u.dom.baseEl=this.el,u.dom.elWrap=document.createElement("div"),Pe.setAttrs(u.dom.elWrap,{id:u.chartClass.substring(1),class:"apexcharts-canvas "+u.chartClass.substring(1)}),this.el.appendChild(u.dom.elWrap),u.dom.Paper=new window.SVG.Doc(u.dom.elWrap),u.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(h.chart.offsetX,", ").concat(h.chart.offsetY,")")}),u.dom.Paper.node.style.background=h.chart.background,this.setSVGDimensions(),u.dom.elGraphical=u.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),u.dom.elAnnotations=u.dom.Paper.group().attr({class:"apexcharts-annotations"}),u.dom.elDefs=u.dom.Paper.defs(),u.dom.elLegendWrap=document.createElement("div"),u.dom.elLegendWrap.classList.add("apexcharts-legend"),u.dom.elWrap.appendChild(u.dom.elLegendWrap),u.dom.Paper.add(u.dom.elGraphical),u.dom.elGraphical.add(u.dom.elDefs)}},{key:"plotChartType",value:function(u,h){var g=this.w,_=g.config,x=g.globals,A={series:[],i:[]},S={series:[],i:[]},D={series:[],i:[]},R={series:[],i:[]},N={series:[],i:[]},L={series:[],i:[]},V={series:[],i:[]};x.series.map(function(H,Z){var ee=0;void 0!==u[Z].type?("column"===u[Z].type||"bar"===u[Z].type?(x.series.length>1&&_.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),N.series.push(H),N.i.push(Z),ee++,g.globals.columnSeries=N.series):"area"===u[Z].type?(S.series.push(H),S.i.push(Z),ee++):"line"===u[Z].type?(A.series.push(H),A.i.push(Z),ee++):"scatter"===u[Z].type?(D.series.push(H),D.i.push(Z)):"bubble"===u[Z].type?(R.series.push(H),R.i.push(Z),ee++):"candlestick"===u[Z].type?(L.series.push(H),L.i.push(Z),ee++):"boxPlot"===u[Z].type?(V.series.push(H),V.i.push(Z),ee++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),ee>1&&(x.comboCharts=!0)):(A.series.push(H),A.i.push(Z))});var j=new Pi(this.ctx,h),q=new $e(this.ctx,h);this.ctx.pie=new ln(this.ctx);var Y=new An(this.ctx);this.ctx.rangeBar=new Ft(this.ctx,h);var $=new En(this.ctx),ne=[];if(x.comboCharts){if(S.series.length>0&&ne.push(j.draw(S.series,"area",S.i)),N.series.length>0)if(g.config.chart.stacked){var se=new Me(this.ctx,h);ne.push(se.draw(N.series,N.i))}else this.ctx.bar=new Sn(this.ctx,h),ne.push(this.ctx.bar.draw(N.series,N.i));if(A.series.length>0&&ne.push(j.draw(A.series,"line",A.i)),L.series.length>0&&ne.push(q.draw(L.series,L.i)),V.series.length>0&&ne.push(q.draw(V.series,V.i)),D.series.length>0){var fe=new Pi(this.ctx,h,!0);ne.push(fe.draw(D.series,"scatter",D.i))}if(R.series.length>0){var k=new Pi(this.ctx,h,!0);ne.push(k.draw(R.series,"bubble",R.i))}}else switch(_.chart.type){case"line":ne=j.draw(x.series,"line");break;case"area":ne=j.draw(x.series,"area");break;case"bar":_.chart.stacked?ne=new Me(this.ctx,h).draw(x.series):(this.ctx.bar=new Sn(this.ctx,h),ne=this.ctx.bar.draw(x.series));break;case"candlestick":case"boxPlot":ne=new $e(this.ctx,h).draw(x.series);break;case"rangeBar":ne=this.ctx.rangeBar.draw(x.series);break;case"heatmap":ne=new gt(this.ctx,h).draw(x.series);break;case"treemap":ne=new zl(this.ctx,h).draw(x.series);break;case"pie":case"donut":case"polarArea":ne=this.ctx.pie.draw(x.series);break;case"radialBar":ne=Y.draw(x.series);break;case"radar":ne=$.draw(x.series);break;default:ne=j.draw(x.series)}return ne}},{key:"setSVGDimensions",value:function(){var u=this.w.globals,h=this.w.config;u.svgWidth=h.chart.width,u.svgHeight=h.chart.height;var g=de.getDimensions(this.el),_=h.chart.width.toString().split(/[0-9]+/g).pop();"%"===_?de.isNumber(g[0])&&(0===g[0].width&&(g=de.getDimensions(this.el.parentNode)),u.svgWidth=g[0]*parseInt(h.chart.width,10)/100):"px"!==_&&""!==_||(u.svgWidth=parseInt(h.chart.width,10));var x=h.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==u.svgHeight&&""!==u.svgHeight)if("%"===x){var A=de.getDimensions(this.el.parentNode);u.svgHeight=A[1]*parseInt(h.chart.height,10)/100}else u.svgHeight=parseInt(h.chart.height,10);else u.svgHeight=u.axisCharts?u.svgWidth/1.61:u.svgWidth/1.2;u.svgWidth<0&&(u.svgWidth=0),u.svgHeight<0&&(u.svgHeight=0),Pe.setAttrs(u.dom.Paper.node,{width:u.svgWidth,height:u.svgHeight}),"%"!==x&&(u.dom.Paper.node.parentNode.parentNode.style.minHeight=u.svgHeight+(h.chart.sparkline.enabled?0:u.axisCharts?h.chart.parentHeightOffset:0)+"px"),u.dom.elWrap.style.width=u.svgWidth+"px",u.dom.elWrap.style.height=u.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var u=this.w.globals;Pe.setAttrs(u.dom.elGraphical.node,{transform:"translate("+u.translateX+", "+u.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var u=this.w,h=u.globals,g=0,_=u.config.chart.sparkline.enabled?1:15;_+=u.config.grid.padding.bottom,"top"!==u.config.legend.position&&"bottom"!==u.config.legend.position||!u.config.legend.show||u.config.legend.floating||(g=new Ct(this.ctx).legendHelpers.getLegendBBox().clwh+10);var x=u.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),A=2.05*u.globals.radialSize;if(x&&!u.config.chart.sparkline.enabled){var S=de.getBoundingClientRect(x);A=S.bottom,A=Math.max(2.05*u.globals.radialSize,S.bottom-S.top)}var R=A+h.translateY+g+_;h.dom.elLegendForeign&&h.dom.elLegendForeign.setAttribute("height",R),h.dom.elWrap.style.height=R+"px",Pe.setAttrs(h.dom.Paper.node,{height:R}),h.dom.Paper.node.parentNode.parentNode.style.minHeight=R+"px"}},{key:"coreCalculations",value:function(){new Oo(this.ctx).init()}},{key:"resetGlobals",value:function(){var u=this,h=function(){return u.w.config.series.map(function(x){return[]})},g=new Jt,_=this.w.globals;g.initGlobalVars(_),_.seriesXvalues=h(),_.seriesYvalues=h()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var u=null,h=this.w;if(h.globals.axisCharts){if("back"===h.config.xaxis.crosshairs.position&&new wt(this.ctx).drawXCrosshairs(),"back"===h.config.yaxis[0].crosshairs.position&&new wt(this.ctx).drawYCrosshairs(),"datetime"===h.config.xaxis.type&&void 0===h.config.xaxis.labels.formatter){this.ctx.timeScale=new uu(this.ctx);var g=[];isFinite(h.globals.minX)&&isFinite(h.globals.maxX)&&!h.globals.isBarHorizontal?g=this.ctx.timeScale.calculateTimeScaleTicks(h.globals.minX,h.globals.maxX):h.globals.isBarHorizontal&&(g=this.ctx.timeScale.calculateTimeScaleTicks(h.globals.minY,h.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(g)}u=new vt(this.ctx).getCalculatedRatios()}return u}},{key:"updateSourceChart",value:function(u){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:u.w.globals.minX,max:u.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var u=this,h=this.w;if(h.config.chart.brush.enabled&&"function"!=typeof h.config.chart.events.selection){var g=h.config.chart.brush.targets||[h.config.chart.brush.target];g.forEach(function(_){var x=ApexCharts.getChartByID(_);x.w.globals.brushSource=u.ctx,"function"!=typeof x.w.config.chart.events.zoomed&&(x.w.config.chart.events.zoomed=function(){u.updateSourceChart(x)}),"function"!=typeof x.w.config.chart.events.scrolled&&(x.w.config.chart.events.scrolled=function(){u.updateSourceChart(x)})}),h.config.chart.events.selection=function(_,x){g.forEach(function(A){var S=ApexCharts.getChartByID(A),D=de.clone(h.config.yaxis);if(h.config.chart.brush.autoScaleYaxis&&1===S.w.globals.series.length){var R=new gr(S);D=R.autoScaleY(S,D,x)}var N=S.w.config.yaxis.reduce(function(L,V,j){return[].concat(Ne(L),[Se(Se({},S.w.config.yaxis[j]),{},{min:D[0].min,max:D[0].max})])},[]);S.ctx.updateHelpers._updateOptions({xaxis:{min:x.xaxis.min,max:x.xaxis.max},yaxis:N},!1,!1,!1,!1)})}}}}]),J}(),jl=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"_updateOptions",value:function(u){var h=this,g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],A=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=[this.ctx];x&&(S=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(S=[this.ctx],this.ctx.w.globals.isExecCalled=!1),S.forEach(function(D){var R=D.w;return R.globals.shouldAnimate=_,g||(R.globals.resized=!0,R.globals.dataChanged=!0,_&&D.series.getPreviousPaths()),u&&"object"===Be(u)&&(D.config=new xt(u),u=vt.extendArrayProps(D.config,u,R),D.w.globals.chartID!==h.ctx.w.globals.chartID&&delete u.series,R.config=de.extend(R.config,u),A&&(R.globals.lastXAxis=u.xaxis?de.clone(u.xaxis):[],R.globals.lastYAxis=u.yaxis?de.clone(u.yaxis):[],R.globals.initialConfig=de.extend({},R.config),R.globals.initialSeries=de.clone(R.config.series))),D.update(u)})}},{key:"_updateSeries",value:function(u,h){var g,_=this,x=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=this.w;return A.globals.shouldAnimate=h,A.globals.dataChanged=!0,h&&this.ctx.series.getPreviousPaths(),A.globals.axisCharts?(0===(g=u.map(function(S,D){return _._extendSeries(S,D)})).length&&(g=[{data:[]}]),A.config.series=g):A.config.series=u.slice(),x&&(A.globals.initialSeries=de.clone(A.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(u,h){var g=this.w,_=g.config.series[h];return Se(Se({},g.config.series[h]),{},{name:u.name?u.name:_&&_.name,color:u.color?u.color:_&&_.color,type:u.type?u.type:_&&_.type,data:u.data?u.data:_&&_.data})}},{key:"toggleDataPointSelection",value:function(u,h){var g=this.w,_=null,x=".apexcharts-series[data\\:realIndex='".concat(u,"']");return g.globals.axisCharts?_=g.globals.dom.Paper.select("".concat(x," path[j='").concat(h,"'], ").concat(x," circle[j='").concat(h,"'], ").concat(x," rect[j='").concat(h,"']")).members[0]:void 0===h&&(_=g.globals.dom.Paper.select("".concat(x," path[j='").concat(u,"']")).members[0],"pie"!==g.config.chart.type&&"polarArea"!==g.config.chart.type&&"donut"!==g.config.chart.type||this.ctx.pie.pieClicked(u)),_?(new Pe(this.ctx).pathMouseDown(_,null),_.node?_.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(u){var h=this.w;if(["min","max"].forEach(function(_){void 0!==u.xaxis[_]&&(h.config.xaxis[_]=u.xaxis[_],h.globals.lastXAxis[_]=u.xaxis[_])}),u.xaxis.categories&&u.xaxis.categories.length&&(h.config.xaxis.categories=u.xaxis.categories),h.config.xaxis.convertedCatToNumeric){var g=new yt(u);u=g.convertCatToNumericXaxis(u,this.ctx)}return u}},{key:"forceYAxisUpdate",value:function(u){var h=this.w;return h.config.chart.stacked&&"100%"===h.config.chart.stackType&&(Array.isArray(u.yaxis)?u.yaxis.forEach(function(g,_){u.yaxis[_].min=0,u.yaxis[_].max=100}):(u.yaxis.min=0,u.yaxis.max=100)),u}},{key:"revertDefaultAxisMinMax",value:function(u){var h=this,g=this.w,_=g.globals.lastXAxis,x=g.globals.lastYAxis;u&&u.xaxis&&(_=u.xaxis),u&&u.yaxis&&(x=u.yaxis),g.config.xaxis.min=_.min,g.config.xaxis.max=_.max,g.config.yaxis.map(function(S,D){g.globals.zoomed||void 0!==x[D]?function(S){void 0!==x[S]&&(g.config.yaxis[S].min=x[S].min,g.config.yaxis[S].max=x[S].max)}(D):void 0!==h.ctx.opts.yaxis[D]&&(S.min=h.ctx.opts.yaxis[D].min,S.max=h.ctx.opts.yaxis[D].max)})}}]),J}();zi="undefined"!=typeof window?window:void 0,ys=function(J,u){var h=(void 0!==this?this:J).SVG=function(k){if(h.supported)return k=new h.Doc(k),h.parser.draw||h.prepare(),k};if(h.ns="http://www.w3.org/2000/svg",h.xmlns="http://www.w3.org/2000/xmlns/",h.xlink="http://www.w3.org/1999/xlink",h.svgjs="http://svgjs.com/svgjs",h.supported=!0,!h.supported)return!1;h.did=1e3,h.eid=function(k){return"Svgjs"+N(k)+h.did++},h.create=function(k){var H=u.createElementNS(this.ns,k);return H.setAttribute("id",this.eid(k)),H},h.extend=function(){var k,H;H=(k=[].slice.call(arguments)).pop();for(var Z=k.length-1;Z>=0;Z--)if(k[Z])for(var ee in H)k[Z].prototype[ee]=H[ee];h.Set&&h.Set.inherit&&h.Set.inherit()},h.invent=function(k){var H="function"==typeof k.create?k.create:function(){this.constructor.call(this,h.create(k.create))};return k.inherit&&(H.prototype=new k.inherit),k.extend&&h.extend(H,k.extend),k.construct&&h.extend(k.parent||h.Container,k.construct),H},h.adopt=function(k){return k?k.instance?k.instance:((H="svg"==k.nodeName?k.parentNode instanceof J.SVGElement?new h.Nested:new h.Doc:"linearGradient"==k.nodeName?new h.Gradient("linear"):"radialGradient"==k.nodeName?new h.Gradient("radial"):h[N(k.nodeName)]?new(h[N(k.nodeName)]):new h.Element(k)).type=k.nodeName,H.node=k,k.instance=H,H instanceof h.Doc&&H.namespace().defs(),H.setData(JSON.parse(k.getAttribute("svgjs:data"))||{}),H):null;var H},h.prepare=function(){var k=u.getElementsByTagName("body")[0],H=(k?new h.Doc(k):h.adopt(u.documentElement).nested()).size(2,0);h.parser={body:k||u.documentElement,draw:H.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:H.polyline().node,path:H.path().node,native:h.create("svg")}},h.parser={native:h.create("svg")},u.addEventListener("DOMContentLoaded",function(){h.parser.draw||h.prepare()},!1),h.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},h.utils={map:function(k,H){for(var Z=k.length,ee=[],pe=0;pe<Z;pe++)ee.push(H(k[pe]));return ee},filter:function(k,H){for(var Z=k.length,ee=[],pe=0;pe<Z;pe++)H(k[pe])&&ee.push(k[pe]);return ee},filterSVGElements:function(k){return this.filter(k,function(H){return H instanceof J.SVGElement})}},h.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},h.Color=function(k){var H,Z;this.r=0,this.g=0,this.b=0,k&&("string"==typeof k?h.regex.isRgb.test(k)?(H=h.regex.rgb.exec(k.replace(h.regex.whitespace,"")),this.r=parseInt(H[1]),this.g=parseInt(H[2]),this.b=parseInt(H[3])):h.regex.isHex.test(k)&&(H=h.regex.hex.exec(4==(Z=k).length?["#",Z.substring(1,2),Z.substring(1,2),Z.substring(2,3),Z.substring(2,3),Z.substring(3,4),Z.substring(3,4)].join(""):Z),this.r=parseInt(H[1],16),this.g=parseInt(H[2],16),this.b=parseInt(H[3],16)):"object"===Be(k)&&(this.r=k.r,this.g=k.g,this.b=k.b))},h.extend(h.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+L(this.r)+L(this.g)+L(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(k){return this.destination=new h.Color(k),this},at:function(k){return this.destination?new h.Color({r:~~(this.r+(this.destination.r-this.r)*(k=k<0?0:k>1?1:k)),g:~~(this.g+(this.destination.g-this.g)*k),b:~~(this.b+(this.destination.b-this.b)*k)}):this}}),h.Color.test=function(k){return h.regex.isHex.test(k+="")||h.regex.isRgb.test(k)},h.Color.isRgb=function(k){return k&&"number"==typeof k.r&&"number"==typeof k.g&&"number"==typeof k.b},h.Color.isColor=function(k){return h.Color.isRgb(k)||h.Color.test(k)},h.Array=function(k,H){0==(k=(k||[]).valueOf()).length&&H&&(k=H.valueOf()),this.value=this.parse(k)},h.extend(h.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(k){return k=k.valueOf(),Array.isArray(k)?k:this.split(k)}}),h.PointArray=function(k,H){h.Array.call(this,k,H||[[0,0]])},h.PointArray.prototype=new h.Array,h.PointArray.prototype.constructor=h.PointArray;for(var g={M:function(k,H,Z){return H.x=Z.x=k[0],H.y=Z.y=k[1],["M",H.x,H.y]},L:function(k,H){return H.x=k[0],H.y=k[1],["L",k[0],k[1]]},H:function(k,H){return H.x=k[0],["H",k[0]]},V:function(k,H){return H.y=k[0],["V",k[0]]},C:function(k,H){return H.x=k[4],H.y=k[5],["C",k[0],k[1],k[2],k[3],k[4],k[5]]},Q:function(k,H){return H.x=k[2],H.y=k[3],["Q",k[0],k[1],k[2],k[3]]},Z:function(k,H,Z){return H.x=Z.x,H.y=Z.y,["Z"]}},_="mlhvqtcsaz".split(""),x=0,A=_.length;x<A;++x)g[_[x]]=function(k){return function(H,Z,ee){if("H"==k)H[0]=H[0]+Z.x;else if("V"==k)H[0]=H[0]+Z.y;else if("A"==k)H[5]=H[5]+Z.x,H[6]=H[6]+Z.y;else for(var pe=0,Fe=H.length;pe<Fe;++pe)H[pe]=H[pe]+(pe%2?Z.y:Z.x);return g[k](H,Z,ee)}}(_[x].toUpperCase());h.PathArray=function(k,H){h.Array.call(this,k,H||[["M",0,0]])},h.PathArray.prototype=new h.Array,h.PathArray.prototype.constructor=h.PathArray,h.extend(h.PathArray,{toString:function(){return function(k){for(var H=0,Z=k.length,ee="";H<Z;H++)ee+=k[H][0],null!=k[H][1]&&(ee+=k[H][1],null!=k[H][2]&&(ee+=" ",ee+=k[H][2],null!=k[H][3]&&(ee+=" ",ee+=k[H][3],ee+=" ",ee+=k[H][4],null!=k[H][5]&&(ee+=" ",ee+=k[H][5],ee+=" ",ee+=k[H][6],null!=k[H][7]&&(ee+=" ",ee+=k[H][7])))));return ee+" "}(this.value)},move:function(k,H){return this.bbox(),this},at:function(k){if(!this.destination)return this;for(var H=this.value,Z=this.destination.value,ee=[],pe=new h.PathArray,Fe=0,Re=H.length;Fe<Re;Fe++){ee[Fe]=[H[Fe][0]];for(var Qe=1,rt=H[Fe].length;Qe<rt;Qe++)ee[Fe][Qe]=H[Fe][Qe]+(Z[Fe][Qe]-H[Fe][Qe])*k;"A"===ee[Fe][0]&&(ee[Fe][4]=+(0!=ee[Fe][4]),ee[Fe][5]=+(0!=ee[Fe][5]))}return pe.value=ee,pe},parse:function(k){if(k instanceof h.PathArray)return k.valueOf();var H,Z={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};k="string"==typeof k?k.replace(h.regex.numbersWithDots,D).replace(h.regex.pathLetters," $& ").replace(h.regex.hyphen,"$1 -").trim().split(h.regex.delimiter):k.reduce(function(rt,dt){return[].concat.call(rt,dt)},[]);var ee=[],pe=new h.Point,Fe=new h.Point,Re=0,Qe=k.length;do{h.regex.isPathLetter.test(k[Re])?(H=k[Re],++Re):"M"==H?H="L":"m"==H&&(H="l"),ee.push(g[H].call(null,k.slice(Re,Re+=Z[H.toUpperCase()]).map(parseFloat),pe,Fe))}while(Qe>Re);return ee},bbox:function(){return h.parser.draw||h.prepare(),h.parser.path.setAttribute("d",this.toString()),h.parser.path.getBBox()}}),h.Number=h.invent({create:function(k,H){this.value=0,this.unit=H||"","number"==typeof k?this.value=isNaN(k)?0:isFinite(k)?k:k<0?-34e37:34e37:"string"==typeof k?(H=k.match(h.regex.numberAndUnit))&&(this.value=parseFloat(H[1]),"%"==H[5]?this.value/=100:"s"==H[5]&&(this.value*=1e3),this.unit=H[5]):k instanceof h.Number&&(this.value=k.valueOf(),this.unit=k.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(k){return k=new h.Number(k),new h.Number(this+k,this.unit||k.unit)},minus:function(k){return k=new h.Number(k),new h.Number(this-k,this.unit||k.unit)},times:function(k){return k=new h.Number(k),new h.Number(this*k,this.unit||k.unit)},divide:function(k){return k=new h.Number(k),new h.Number(this/k,this.unit||k.unit)},to:function(k){var H=new h.Number(this);return"string"==typeof k&&(H.unit=k),H},morph:function(k){return this.destination=new h.Number(k),k.relative&&(this.destination.value+=this.value),this},at:function(k){return this.destination?new h.Number(this.destination).minus(this).times(k).plus(this):this}}}),h.Element=h.invent({create:function(k){this._stroke=h.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=k)&&(this.type=k.nodeName,this.node.instance=this,this._stroke=k.getAttribute("stroke")||this._stroke)},extend:{x:function(k){return this.attr("x",k)},y:function(k){return this.attr("y",k)},cx:function(k){return null==k?this.x()+this.width()/2:this.x(k-this.width()/2)},cy:function(k){return null==k?this.y()+this.height()/2:this.y(k-this.height()/2)},move:function(k,H){return this.x(k).y(H)},center:function(k,H){return this.cx(k).cy(H)},width:function(k){return this.attr("width",k)},height:function(k){return this.attr("height",k)},size:function(k,H){var Z=V(this,k,H);return this.width(new h.Number(Z.width)).height(new h.Number(Z.height))},clone:function(k){this.writeDataToDom();var H=Y(this.node.cloneNode(!0));return k?k.add(H):this.after(H),H},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(k){return this.after(k).remove(),k},addTo:function(k){return k.put(this)},putIn:function(k){return k.add(this)},id:function(k){return this.attr("id",k)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var k=this.attr("class");return null==k?[]:k.trim().split(h.regex.delimiter)},hasClass:function(k){return-1!=this.classes().indexOf(k)},addClass:function(k){if(!this.hasClass(k)){var H=this.classes();H.push(k),this.attr("class",H.join(" "))}return this},removeClass:function(k){return this.hasClass(k)&&this.attr("class",this.classes().filter(function(H){return H!=k}).join(" ")),this},toggleClass:function(k){return this.hasClass(k)?this.removeClass(k):this.addClass(k)},reference:function(k){return h.get(this.attr(k))},parent:function(k){var H=this;if(!H.node.parentNode)return null;if(H=h.adopt(H.node.parentNode),!k)return H;for(;H&&H.node instanceof J.SVGElement;){if("string"==typeof k?H.matches(k):H instanceof k)return H;if(!H.node.parentNode||"#document"==H.node.parentNode.nodeName)return null;H=h.adopt(H.node.parentNode)}},doc:function(){return this instanceof h.Doc?this:this.parent(h.Doc)},parents:function(k){var H=[],Z=this;do{if(!(Z=Z.parent(k))||!Z.node)break;H.push(Z)}while(Z.parent);return H},matches:function(k){return((H=this.node).matches||H.matchesSelector||H.msMatchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector).call(H,k);var H},native:function(){return this.node},svg:function(k){var H=u.createElement("svg");if(!(k&&this instanceof h.Parent))return H.appendChild(k=u.createElement("svg")),this.writeDataToDom(),k.appendChild(this.node.cloneNode(!0)),H.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");H.innerHTML="<svg>"+k.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Z=0,ee=H.firstChild.childNodes.length;Z<ee;Z++)this.node.appendChild(H.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(k){return this.dom=k,this},is:function(k){return this instanceof k}}}),h.easing={"-":function(k){return k},"<>":function(k){return-Math.cos(k*Math.PI)/2+.5},">":function(k){return Math.sin(k*Math.PI/2)},"<":function(k){return 1-Math.cos(k*Math.PI/2)}},h.morph=function(k){return function(H,Z){return new h.MorphObj(H,Z).at(k)}},h.Situation=h.invent({create:function(k){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new h.Number(k.duration).valueOf(),this.delay=new h.Number(k.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=k.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),h.FX=h.invent({create:function(k){this._target=k,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(k,H,Z){"object"===Be(k)&&(H=k.ease,Z=k.delay,k=k.duration);var ee=new h.Situation({duration:k||1e3,delay:Z||0,ease:h.easing[H||"-"]||H});return this.queue(ee),this},target:function(k){return k&&k instanceof h.Element?(this._target=k,this):this._target},timeToAbsPos:function(k){return(k-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(k){return this.situation.duration/this._speed*k+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=J.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){J.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(k){return("function"==typeof k||k instanceof h.Situation)&&this.situations.push(k),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof h.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var k,H=this.situation;if(H.init)return this;for(var Z in H.animations){k=this.target()[Z](),Array.isArray(k)||(k=[k]),Array.isArray(H.animations[Z])||(H.animations[Z]=[H.animations[Z]]);for(var ee=k.length;ee--;)H.animations[Z][ee]instanceof h.Number&&(k[ee]=new h.Number(k[ee])),H.animations[Z][ee]=k[ee].morph(H.animations[Z][ee])}for(var Z in H.attrs)H.attrs[Z]=new h.MorphObj(this.target().attr(Z),H.attrs[Z]);for(var Z in H.styles)H.styles[Z]=new h.MorphObj(this.target().style(Z),H.styles[Z]);return H.initialTransformation=this.target().matrixify(),H.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(k,H){var Z=this.active;return this.active=!1,H&&this.clearQueue(),k&&this.situation&&(!Z&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(k){var H=this.last();return this.target().on("finished.fx",function Z(ee){ee.detail.situation==H&&(k.call(this,H),this.off("finished.fx",Z))}),this._callStart()},during:function(k){var H=this.last(),Z=function(ee){ee.detail.situation==H&&k.call(this,ee.detail.pos,h.morph(ee.detail.pos),ee.detail.eased,H)};return this.target().off("during.fx",Z).on("during.fx",Z),this.after(function(){this.off("during.fx",Z)}),this._callStart()},afterAll:function(k){var H=function Z(ee){k.call(this),this.off("allfinished.fx",Z)};return this.target().off("allfinished.fx",H).on("allfinished.fx",H),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(k,H,Z){return this.last()[Z||"animations"][k]=H,this._callStart()},step:function(k){var H,Z,ee;k||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(H=Math.max(this.absPos,0),Z=Math.floor(H),!0===this.situation.loops||Z<this.situation.loops?(this.pos=H-Z,ee=this.situation.loop,this.situation.loop=Z):(this.absPos=this.situation.loops,this.pos=1,ee=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-ee)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var pe=this.situation.ease(this.pos);for(var Fe in this.situation.once)Fe>this.lastPos&&Fe<=pe&&(this.situation.once[Fe].call(this.target(),this.pos,pe),delete this.situation.once[Fe]);return this.active&&this.target().fire("during",{pos:this.pos,eased:pe,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=pe,this):this},eachAt:function(){var k,H=this,Z=this.target(),ee=this.situation;for(var pe in ee.animations)k=[].concat(ee.animations[pe]).map(function(Qe){return"string"!=typeof Qe&&Qe.at?Qe.at(ee.ease(H.pos),H.pos):Qe}),Z[pe].apply(Z,k);for(var pe in ee.attrs)k=[pe].concat(ee.attrs[pe]).map(function(rt){return"string"!=typeof rt&&rt.at?rt.at(ee.ease(H.pos),H.pos):rt}),Z.attr.apply(Z,k);for(var pe in ee.styles)k=[pe].concat(ee.styles[pe]).map(function(rt){return"string"!=typeof rt&&rt.at?rt.at(ee.ease(H.pos),H.pos):rt}),Z.style.apply(Z,k);if(ee.transforms.length){k=ee.initialTransformation,pe=0;for(var Fe=ee.transforms.length;pe<Fe;pe++){var Re=ee.transforms[pe];Re instanceof h.Matrix?k=Re.relative?k.multiply((new h.Matrix).morph(Re).at(ee.ease(this.pos))):k.morph(Re).at(ee.ease(this.pos)):(Re.relative||Re.undo(k.extract()),k=k.multiply(Re.at(ee.ease(this.pos))))}Z.matrix(k)}return this},once:function(k,H,Z){var ee=this.last();return Z||(k=ee.ease(k)),ee.once[k]=H,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:h.Element,construct:{animate:function(k,H,Z){return(this.fx||(this.fx=new h.FX(this))).animate(k,H,Z)},delay:function(k){return(this.fx||(this.fx=new h.FX(this))).delay(k)},stop:function(k,H){return this.fx&&this.fx.stop(k,H),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),h.MorphObj=h.invent({create:function(k,H){return h.Color.isColor(H)?new h.Color(k).morph(H):h.regex.delimiter.test(k)?h.regex.pathLetters.test(k)?new h.PathArray(k).morph(H):new h.Array(k).morph(H):h.regex.numberAndUnit.test(H)?new h.Number(k).morph(H):(this.value=k,void(this.destination=H))},extend:{at:function(k,H){return H<1?this.value:this.destination},valueOf:function(){return this.value}}}),h.extend(h.FX,{attr:function(k,H,Z){if("object"===Be(k))for(var ee in k)this.attr(ee,k[ee]);else this.add(k,H,"attrs");return this},plot:function(k,H,Z,ee){return 4==arguments.length?this.plot([k,H,Z,ee]):this.add("plot",new(this.target().morphArray)(k))}}),h.Box=h.invent({create:function(k,H,Z,ee){if(!("object"!==Be(k)||k instanceof h.Element))return h.Box.call(this,null!=k.left?k.left:k.x,null!=k.top?k.top:k.y,k.width,k.height);4==arguments.length&&(this.x=k,this.y=H,this.width=Z,this.height=ee),$(this)}}),h.BBox=h.invent({create:function(k){if(h.Box.apply(this,[].slice.call(arguments)),k instanceof h.Element){var H;try{if(!u.documentElement.contains){for(var Z=k.node;Z.parentNode;)Z=Z.parentNode;if(Z!=u)throw new Error("Element not in the dom")}H=k.node.getBBox()}catch(pe){if(k instanceof h.Shape){h.parser.draw||h.prepare();var ee=k.clone(h.parser.draw.instance).show();H=ee.node.getBBox(),ee.remove()}else H={x:k.node.clientLeft,y:k.node.clientTop,width:k.node.clientWidth,height:k.node.clientHeight}}h.Box.call(this,H)}},inherit:h.Box,parent:h.Element,construct:{bbox:function(){return new h.BBox(this)}}}),h.BBox.prototype.constructor=h.BBox,h.Matrix=h.invent({create:function(k){var H=q([1,0,0,1,0,0]);k=null===k?H:k instanceof h.Element?k.matrixify():"string"==typeof k?q(k.split(h.regex.delimiter).map(parseFloat)):6==arguments.length?q([].slice.call(arguments)):Array.isArray(k)?q(k):k&&"object"===Be(k)?k:H;for(var Z=se.length-1;Z>=0;--Z)this[se[Z]]=null!=k[se[Z]]?k[se[Z]]:H[se[Z]]},extend:{extract:function(){var k=j(this,0,1);j(this,1,0);var H=180/Math.PI*Math.atan2(k.y,k.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(H*Math.PI/180)+this.f*Math.sin(H*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(H*Math.PI/180)+this.e*Math.sin(-H*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:H,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new h.Matrix(this)}},clone:function(){return new h.Matrix(this)},morph:function(k){return this.destination=new h.Matrix(k),this},multiply:function(k){return new h.Matrix(this.native().multiply((H=k,H instanceof h.Matrix||(H=new h.Matrix(H)),H).native()));var H},inverse:function(){return new h.Matrix(this.native().inverse())},translate:function(k,H){return new h.Matrix(this.native().translate(k||0,H||0))},native:function(){for(var k=h.parser.native.createSVGMatrix(),H=se.length-1;H>=0;H--)k[se[H]]=this[se[H]];return k},toString:function(){return"matrix("+ne(this.a)+","+ne(this.b)+","+ne(this.c)+","+ne(this.d)+","+ne(this.e)+","+ne(this.f)+")"}},parent:h.Element,construct:{ctm:function(){return new h.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof h.Nested){var k=this.rect(1,1),H=k.node.getScreenCTM();return k.remove(),new h.Matrix(H)}return new h.Matrix(this.node.getScreenCTM())}}}),h.Point=h.invent({create:function(k,H){var Z;Z=Array.isArray(k)?{x:k[0],y:k[1]}:"object"===Be(k)?{x:k.x,y:k.y}:null!=k?{x:k,y:null!=H?H:k}:{x:0,y:0},this.x=Z.x,this.y=Z.y},extend:{clone:function(){return new h.Point(this)},morph:function(k,H){return this.destination=new h.Point(k,H),this}}}),h.extend(h.Element,{point:function(k,H){return new h.Point(k,H).transform(this.screenCTM().inverse())}}),h.extend(h.Element,{attr:function(k,H,Z){if(null==k){for(k={},Z=(H=this.node.attributes).length-1;Z>=0;Z--)k[H[Z].nodeName]=h.regex.isNumber.test(H[Z].nodeValue)?parseFloat(H[Z].nodeValue):H[Z].nodeValue;return k}if("object"===Be(k))for(var ee in k)this.attr(ee,k[ee]);else if(null===H)this.node.removeAttribute(k);else{if(null==H)return null==(H=this.node.getAttribute(k))?h.defaults.attrs[k]:h.regex.isNumber.test(H)?parseFloat(H):H;"stroke-width"==k?this.attr("stroke",parseFloat(H)>0?this._stroke:null):"stroke"==k&&(this._stroke=H),"fill"!=k&&"stroke"!=k||(h.regex.isImage.test(H)&&(H=this.doc().defs().image(H,0,0)),H instanceof h.Image&&(H=this.doc().defs().pattern(0,0,function(){this.add(H)}))),"number"==typeof H?H=new h.Number(H):h.Color.isColor(H)?H=new h.Color(H):Array.isArray(H)&&(H=new h.Array(H)),"leading"==k?this.leading&&this.leading(H):"string"==typeof Z?this.node.setAttributeNS(Z,k,H.toString()):this.node.setAttribute(k,H.toString()),!this.rebuild||"font-size"!=k&&"x"!=k||this.rebuild(k,H)}return this}}),h.extend(h.Element,{transform:function(k,H){var Z;return"object"!==Be(k)?(Z=new h.Matrix(this).extract(),"string"==typeof k?Z[k]:Z):(Z=new h.Matrix(this),H=!!H||!!k.relative,null!=k.a&&(Z=H?Z.multiply(new h.Matrix(k)):new h.Matrix(k)),this.attr("transform",Z))}}),h.extend(h.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(h.regex.transforms).slice(0,-1).map(function(k){var H=k.trim().split("(");return[H[0],H[1].split(h.regex.delimiter).map(function(Z){return parseFloat(Z)})]}).reduce(function(k,H){return"matrix"==H[0]?k.multiply(q(H[1])):k[H[0]].apply(k,H[1])},new h.Matrix)},toParent:function(k){if(this==k)return this;var H=this.screenCTM(),Z=k.screenCTM().inverse();return this.addTo(k).untransform().transform(Z.multiply(H)),this},toDoc:function(){return this.toParent(this.doc())}}),h.Transformation=h.invent({create:function(k,H){if(arguments.length>1&&"boolean"!=typeof H)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(k))for(var Z=0,ee=this.arguments.length;Z<ee;++Z)this[this.arguments[Z]]=k[Z];else if(k&&"object"===Be(k))for(Z=0,ee=this.arguments.length;Z<ee;++Z)this[this.arguments[Z]]=k[this.arguments[Z]];this.inversed=!1,!0===H&&(this.inversed=!0)}}),h.Translate=h.invent({parent:h.Matrix,inherit:h.Transformation,create:function(k,H){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),h.extend(h.Element,{style:function(k,H){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Be(k))for(var Z in k)this.style(Z,k[Z]);else{if(!h.regex.isCss.test(k))return this.node.style[R(k)];for(k=k.split(/\s*;\s*/).filter(function(ee){return!!ee}).map(function(ee){return ee.split(/\s*:\s*/)});H=k.pop();)this.style(H[0],H[1])}else this.node.style[R(k)]=null===H||h.regex.isBlank.test(H)?"":H;return this}}),h.Parent=h.invent({create:function(k){this.constructor.call(this,k)},inherit:h.Element,extend:{children:function(){return h.utils.map(h.utils.filterSVGElements(this.node.childNodes),function(k){return h.adopt(k)})},add:function(k,H){return null==H?this.node.appendChild(k.node):k.node!=this.node.childNodes[H]&&this.node.insertBefore(k.node,this.node.childNodes[H]),this},put:function(k,H){return this.add(k,H),k},has:function(k){return this.index(k)>=0},index:function(k){return[].slice.call(this.node.childNodes).indexOf(k.node)},get:function(k){return h.adopt(this.node.childNodes[k])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(k,H){for(var Z=this.children(),ee=0,pe=Z.length;ee<pe;ee++)Z[ee]instanceof h.Element&&k.apply(Z[ee],[ee,Z]),H&&Z[ee]instanceof h.Container&&Z[ee].each(k,H);return this},removeElement:function(k){return this.node.removeChild(k.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),h.extend(h.Parent,{ungroup:function(k,H){return 0===H||this instanceof h.Defs||this.node==h.parser.draw||(k=k||(this instanceof h.Doc?this:this.parent(h.Parent)),H=H||1/0,this.each(function(){return this instanceof h.Defs?this:this instanceof h.Parent?this.ungroup(k,H-1):this.toParent(k)}),this.node.firstChild||this.remove()),this},flatten:function(k,H){return this.ungroup(k,H)}}),h.Container=h.invent({create:function(k){this.constructor.call(this,k)},inherit:h.Parent}),h.ViewBox=h.invent({parent:h.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(k){h.Element.prototype[k]=function(H){return h.on(this.node,k,H),this}}),h.listeners=[],h.handlerMap=[],h.listenerId=0,h.on=function(k,H,Z,ee,pe){var Fe=Z.bind(ee||k.instance||k),Re=(h.handlerMap.indexOf(k)+1||h.handlerMap.push(k))-1,Qe=H.split(".")[0],rt=H.split(".")[1]||"*";h.listeners[Re]=h.listeners[Re]||{},h.listeners[Re][Qe]=h.listeners[Re][Qe]||{},h.listeners[Re][Qe][rt]=h.listeners[Re][Qe][rt]||{},Z._svgjsListenerId||(Z._svgjsListenerId=++h.listenerId),h.listeners[Re][Qe][rt][Z._svgjsListenerId]=Fe,k.addEventListener(Qe,Fe,pe||{passive:!0})},h.off=function(k,H,Z){var ee=h.handlerMap.indexOf(k),pe=H&&H.split(".")[0],Fe=H&&H.split(".")[1],Re="";if(-1!=ee)if(Z){if("function"==typeof Z&&(Z=Z._svgjsListenerId),!Z)return;h.listeners[ee][pe]&&h.listeners[ee][pe][Fe||"*"]&&(k.removeEventListener(pe,h.listeners[ee][pe][Fe||"*"][Z],!1),delete h.listeners[ee][pe][Fe||"*"][Z])}else if(Fe&&pe){if(h.listeners[ee][pe]&&h.listeners[ee][pe][Fe]){for(var Qe in h.listeners[ee][pe][Fe])h.off(k,[pe,Fe].join("."),Qe);delete h.listeners[ee][pe][Fe]}}else if(Fe)for(var rt in h.listeners[ee])for(var Re in h.listeners[ee][rt])Fe===Re&&h.off(k,[rt,Fe].join("."));else if(pe){if(h.listeners[ee][pe]){for(var Re in h.listeners[ee][pe])h.off(k,[pe,Re].join("."));delete h.listeners[ee][pe]}}else{for(var rt in h.listeners[ee])h.off(k,rt);delete h.listeners[ee],delete h.handlerMap[ee]}},h.extend(h.Element,{on:function(k,H,Z,ee){return h.on(this.node,k,H,Z,ee),this},off:function(k,H){return h.off(this.node,k,H),this},fire:function(k,H){return this.node.dispatchEvent(k instanceof J.Event?k:k=new h.CustomEvent(k,{detail:H,cancelable:!0})),this._event=k,this},event:function(){return this._event}}),h.Defs=h.invent({create:"defs",inherit:h.Container}),h.G=h.invent({create:"g",inherit:h.Container,extend:{x:function(k){return null==k?this.transform("x"):this.transform({x:k-this.x()},!0)}},construct:{group:function(){return this.put(new h.G)}}}),h.Doc=h.invent({create:function(k){k&&("svg"==(k="string"==typeof k?u.getElementById(k):k).nodeName?this.constructor.call(this,k):(this.constructor.call(this,h.create("svg")),k.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:h.Container,extend:{namespace:function(){return this.attr({xmlns:h.ns,version:"1.1"}).attr("xmlns:xlink",h.xlink,h.xmlns).attr("xmlns:svgjs",h.svgjs,h.xmlns)},defs:function(){var k;return this._defs||(this._defs=(k=this.node.getElementsByTagName("defs")[0])?h.adopt(k):new h.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,h.parser.draw&&!h.parser.draw.parentNode&&this.node.appendChild(h.parser.draw),this},clone:function(k){this.writeDataToDom();var H=this.node,Z=Y(H.cloneNode(!0));return k?(k.node||k).appendChild(Z.node):H.parentNode.insertBefore(Z.node,H.nextSibling),Z}}}),h.extend(h.Element,{}),h.Gradient=h.invent({create:function(k){this.constructor.call(this,h.create(k+"Gradient")),this.type=k},inherit:h.Container,extend:{at:function(k,H,Z){return this.put(new h.Stop).update(k,H,Z)},update:function(k){return this.clear(),"function"==typeof k&&k.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(k,H,Z){return"transform"==k&&(k="gradientTransform"),h.Container.prototype.attr.call(this,k,H,Z)}},construct:{gradient:function(k,H){return this.defs().gradient(k,H)}}}),h.extend(h.Gradient,h.FX,{from:function(k,H){return this.attr("radial"==(this._target||this).type?{fx:new h.Number(k),fy:new h.Number(H)}:{x1:new h.Number(k),y1:new h.Number(H)})},to:function(k,H){return this.attr("radial"==(this._target||this).type?{cx:new h.Number(k),cy:new h.Number(H)}:{x2:new h.Number(k),y2:new h.Number(H)})}}),h.extend(h.Defs,{gradient:function(k,H){return this.put(new h.Gradient(k)).update(H)}}),h.Stop=h.invent({create:"stop",inherit:h.Element,extend:{update:function(k){return("number"==typeof k||k instanceof h.Number)&&(k={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=k.opacity&&this.attr("stop-opacity",k.opacity),null!=k.color&&this.attr("stop-color",k.color),null!=k.offset&&this.attr("offset",new h.Number(k.offset)),this}}}),h.Pattern=h.invent({create:"pattern",inherit:h.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(k){return this.clear(),"function"==typeof k&&k.call(this,this),this},toString:function(){return this.fill()},attr:function(k,H,Z){return"transform"==k&&(k="patternTransform"),h.Container.prototype.attr.call(this,k,H,Z)}},construct:{pattern:function(k,H,Z){return this.defs().pattern(k,H,Z)}}}),h.extend(h.Defs,{pattern:function(k,H,Z){return this.put(new h.Pattern).update(Z).attr({x:0,y:0,width:k,height:H,patternUnits:"userSpaceOnUse"})}}),h.Shape=h.invent({create:function(k){this.constructor.call(this,k)},inherit:h.Element}),h.Symbol=h.invent({create:"symbol",inherit:h.Container,construct:{symbol:function(){return this.put(new h.Symbol)}}}),h.Use=h.invent({create:"use",inherit:h.Shape,extend:{element:function(k,H){return this.attr("href",(H||"")+"#"+k,h.xlink)}},construct:{use:function(k,H){return this.put(new h.Use).element(k,H)}}}),h.Rect=h.invent({create:"rect",inherit:h.Shape,construct:{rect:function(k,H){return this.put(new h.Rect).size(k,H)}}}),h.Circle=h.invent({create:"circle",inherit:h.Shape,construct:{circle:function(k){return this.put(new h.Circle).rx(new h.Number(k).divide(2)).move(0,0)}}}),h.extend(h.Circle,h.FX,{rx:function(k){return this.attr("r",k)},ry:function(k){return this.rx(k)}}),h.Ellipse=h.invent({create:"ellipse",inherit:h.Shape,construct:{ellipse:function(k,H){return this.put(new h.Ellipse).size(k,H).move(0,0)}}}),h.extend(h.Ellipse,h.Rect,h.FX,{rx:function(k){return this.attr("rx",k)},ry:function(k){return this.attr("ry",k)}}),h.extend(h.Circle,h.Ellipse,{x:function(k){return null==k?this.cx()-this.rx():this.cx(k+this.rx())},y:function(k){return null==k?this.cy()-this.ry():this.cy(k+this.ry())},cx:function(k){return null==k?this.attr("cx"):this.attr("cx",k)},cy:function(k){return null==k?this.attr("cy"):this.attr("cy",k)},width:function(k){return null==k?2*this.rx():this.rx(new h.Number(k).divide(2))},height:function(k){return null==k?2*this.ry():this.ry(new h.Number(k).divide(2))},size:function(k,H){var Z=V(this,k,H);return this.rx(new h.Number(Z.width).divide(2)).ry(new h.Number(Z.height).divide(2))}}),h.Line=h.invent({create:"line",inherit:h.Shape,extend:{array:function(){return new h.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(k,H,Z,ee){return null==k?this.array():(k=void 0!==H?{x1:k,y1:H,x2:Z,y2:ee}:new h.PointArray(k).toLine(),this.attr(k))},move:function(k,H){return this.attr(this.array().move(k,H).toLine())},size:function(k,H){var Z=V(this,k,H);return this.attr(this.array().size(Z.width,Z.height).toLine())}},construct:{line:function(k,H,Z,ee){return h.Line.prototype.plot.apply(this.put(new h.Line),null!=k?[k,H,Z,ee]:[0,0,0,0])}}}),h.Polyline=h.invent({create:"polyline",inherit:h.Shape,construct:{polyline:function(k){return this.put(new h.Polyline).plot(k||new h.PointArray)}}}),h.Polygon=h.invent({create:"polygon",inherit:h.Shape,construct:{polygon:function(k){return this.put(new h.Polygon).plot(k||new h.PointArray)}}}),h.extend(h.Polyline,h.Polygon,{array:function(){return this._array||(this._array=new h.PointArray(this.attr("points")))},plot:function(k){return null==k?this.array():this.clear().attr("points","string"==typeof k?k:this._array=new h.PointArray(k))},clear:function(){return delete this._array,this},move:function(k,H){return this.attr("points",this.array().move(k,H))},size:function(k,H){var Z=V(this,k,H);return this.attr("points",this.array().size(Z.width,Z.height))}}),h.extend(h.Line,h.Polyline,h.Polygon,{morphArray:h.PointArray,x:function(k){return null==k?this.bbox().x:this.move(k,this.bbox().y)},y:function(k){return null==k?this.bbox().y:this.move(this.bbox().x,k)},width:function(k){var H=this.bbox();return null==k?H.width:this.size(k,H.height)},height:function(k){var H=this.bbox();return null==k?H.height:this.size(H.width,k)}}),h.Path=h.invent({create:"path",inherit:h.Shape,extend:{morphArray:h.PathArray,array:function(){return this._array||(this._array=new h.PathArray(this.attr("d")))},plot:function(k){return null==k?this.array():this.clear().attr("d","string"==typeof k?k:this._array=new h.PathArray(k))},clear:function(){return delete this._array,this}},construct:{path:function(k){return this.put(new h.Path).plot(k||new h.PathArray)}}}),h.Image=h.invent({create:"image",inherit:h.Shape,extend:{load:function(k){if(!k)return this;var H=this,Z=new J.Image;return h.on(Z,"load",function(){h.off(Z);var ee=H.parent(h.Pattern);null!==ee&&(0==H.width()&&0==H.height()&&H.size(Z.width,Z.height),ee&&0==ee.width()&&0==ee.height()&&ee.size(H.width(),H.height()),"function"==typeof H._loaded&&H._loaded.call(H,{width:Z.width,height:Z.height,ratio:Z.width/Z.height,url:k}))}),h.on(Z,"error",function(ee){h.off(Z),"function"==typeof H._error&&H._error.call(H,ee)}),this.attr("href",Z.src=this.src=k,h.xlink)},loaded:function(k){return this._loaded=k,this},error:function(k){return this._error=k,this}},construct:{image:function(k,H,Z){return this.put(new h.Image).load(k).size(H||0,Z||H||0)}}}),h.Text=h.invent({create:function(){this.constructor.call(this,h.create("text")),this.dom.leading=new h.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",h.defaults.attrs["font-family"])},inherit:h.Shape,extend:{x:function(k){return null==k?this.attr("x"):this.attr("x",k)},text:function(k){if(void 0===k){k="";for(var H=this.node.childNodes,Z=0,ee=H.length;Z<ee;++Z)0!=Z&&3!=H[Z].nodeType&&1==h.adopt(H[Z]).dom.newLined&&(k+="\n"),k+=H[Z].textContent;return k}if(this.clear().build(!0),"function"==typeof k)k.call(this,this);else{Z=0;for(var pe=(k=k.split("\n")).length;Z<pe;Z++)this.tspan(k[Z]).newLine()}return this.build(!1).rebuild()},size:function(k){return this.attr("font-size",k).rebuild()},leading:function(k){return null==k?this.dom.leading:(this.dom.leading=new h.Number(k),this.rebuild())},lines:function(){var k=(this.textPath&&this.textPath()||this).node,H=h.utils.map(h.utils.filterSVGElements(k.childNodes),function(Z){return h.adopt(Z)});return new h.Set(H)},rebuild:function(k){if("boolean"==typeof k&&(this._rebuild=k),this._rebuild){var H=this,Z=0,ee=this.dom.leading*new h.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(H.textPath()||this.attr("x",H.attr("x")),"\n"==this.text()?Z+=ee:(this.attr("dy",ee+Z),Z=0))}),this.fire("rebuild")}return this},build:function(k){return this._build=!!k,this},setData:function(k){return this.dom=k,this.dom.leading=new h.Number(k.leading||1.3),this}},construct:{text:function(k){return this.put(new h.Text).text(k)},plain:function(k){return this.put(new h.Text).plain(k)}}}),h.Tspan=h.invent({create:"tspan",inherit:h.Shape,extend:{text:function(k){return null==k?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof k?k.call(this,this):this.plain(k),this)},dx:function(k){return this.attr("dx",k)},dy:function(k){return this.attr("dy",k)},newLine:function(){var k=this.parent(h.Text);return this.dom.newLined=!0,this.dy(k.dom.leading*k.attr("font-size")).attr("x",k.x())}}}),h.extend(h.Text,h.Tspan,{plain:function(k){return!1===this._build&&this.clear(),this.node.appendChild(u.createTextNode(k)),this},tspan:function(k){var H=(this.textPath&&this.textPath()||this).node,Z=new h.Tspan;return!1===this._build&&this.clear(),H.appendChild(Z.node),Z.text(k)},clear:function(){for(var k=(this.textPath&&this.textPath()||this).node;k.hasChildNodes();)k.removeChild(k.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),h.TextPath=h.invent({create:"textPath",inherit:h.Parent,parent:h.Text,construct:{morphArray:h.PathArray,array:function(){var k=this.track();return k?k.array():null},plot:function(k){var H=this.track(),Z=null;return H&&(Z=H.plot(k)),null==k?Z:this},track:function(){var k=this.textPath();if(k)return k.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return h.adopt(this.node.firstChild)}}}),h.Nested=h.invent({create:function(){this.constructor.call(this,h.create("svg")),this.style("overflow","visible")},inherit:h.Container,construct:{nested:function(){return this.put(new h.Nested)}}});var S={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(k,H){return"color"==H?k:k+"-"+H}};function D(k,H,Z,ee){return Z+ee.replace(h.regex.dots," .")}function R(k){return k.toLowerCase().replace(/-(.)/g,function(H,Z){return Z.toUpperCase()})}function N(k){return k.charAt(0).toUpperCase()+k.slice(1)}function L(k){var H=k.toString(16);return 1==H.length?"0"+H:H}function V(k,H,Z){if(null==H||null==Z){var ee=k.bbox();null==H?H=ee.width/ee.height*Z:null==Z&&(Z=ee.height/ee.width*H)}return{width:H,height:Z}}function j(k,H,Z){return{x:H*k.a+Z*k.c+0,y:H*k.b+Z*k.d+0}}function q(k){return{a:k[0],b:k[1],c:k[2],d:k[3],e:k[4],f:k[5]}}function Y(k){for(var H=k.childNodes.length-1;H>=0;H--)k.childNodes[H]instanceof J.SVGElement&&Y(k.childNodes[H]);return h.adopt(k).id(h.eid(k.nodeName))}function $(k){return null==k.x&&(k.x=0,k.y=0,k.width=0,k.height=0),k.w=k.width,k.h=k.height,k.x2=k.x+k.width,k.y2=k.y+k.height,k.cx=k.x+k.width/2,k.cy=k.y+k.height/2,k}function ne(k){return Math.abs(k)>1e-37?k:0}["fill","stroke"].forEach(function(k){var H={};H[k]=function(Z){if(void 0===Z)return this;if("string"==typeof Z||h.Color.isRgb(Z)||Z&&"function"==typeof Z.fill)this.attr(k,Z);else for(var ee=S[k].length-1;ee>=0;ee--)null!=Z[S[k][ee]]&&this.attr(S.prefix(k,S[k][ee]),Z[S[k][ee]]);return this},h.extend(h.Element,h.FX,H)}),h.extend(h.Element,h.FX,{translate:function(k,H){return this.transform({x:k,y:H})},matrix:function(k){return this.attr("transform",new h.Matrix(6==arguments.length?[].slice.call(arguments):k))},opacity:function(k){return this.attr("opacity",k)},dx:function(k){return this.x(new h.Number(k).plus(this instanceof h.FX?0:this.x()),!0)},dy:function(k){return this.y(new h.Number(k).plus(this instanceof h.FX?0:this.y()),!0)}}),h.extend(h.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(k){return this.node.getPointAtLength(k)}}),h.Set=h.invent({create:function(k){Array.isArray(k)?this.members=k:this.clear()},extend:{add:function(){for(var k=[].slice.call(arguments),H=0,Z=k.length;H<Z;H++)this.members.push(k[H]);return this},remove:function(k){var H=this.index(k);return H>-1&&this.members.splice(H,1),this},each:function(k){for(var H=0,Z=this.members.length;H<Z;H++)k.apply(this.members[H],[H,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(k){return this.index(k)>=0},index:function(k){return this.members.indexOf(k)},get:function(k){return this.members[k]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(k){return new h.Set(k)}}}),h.FX.Set=h.invent({create:function(k){this.set=k}}),h.Set.inherit=function(){var k=[];for(var H in h.Shape.prototype)"function"==typeof h.Shape.prototype[H]&&"function"!=typeof h.Set.prototype[H]&&k.push(H);for(var H in k.forEach(function(ee){h.Set.prototype[ee]=function(){for(var pe=0,Fe=this.members.length;pe<Fe;pe++)this.members[pe]&&"function"==typeof this.members[pe][ee]&&this.members[pe][ee].apply(this.members[pe],arguments);return"animate"==ee?this.fx||(this.fx=new h.FX.Set(this)):this}}),k=[],h.FX.prototype)"function"==typeof h.FX.prototype[H]&&"function"!=typeof h.FX.Set.prototype[H]&&k.push(H);k.forEach(function(Z){h.FX.Set.prototype[Z]=function(){for(var ee=0,pe=this.set.members.length;ee<pe;ee++)this.set.members[ee].fx[Z].apply(this.set.members[ee].fx,arguments);return this}})},h.extend(h.Element,{}),h.extend(h.Element,{remember:function(k,H){if("object"===Be(arguments[0]))for(var Z in k)this.remember(Z,k[Z]);else{if(1==arguments.length)return this.memory()[k];this.memory()[k]=H}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var k=arguments.length-1;k>=0;k--)delete this.memory()[arguments[k]];return this},memory:function(){return this._memory||(this._memory={})}}),h.get=function(k){var H=u.getElementById(function(Z){var ee=(Z||"").toString().match(h.regex.reference);if(ee)return ee[1]}(k)||k);return h.adopt(H)},h.select=function(k,H){return new h.Set(h.utils.map((H||u).querySelectorAll(k),function(Z){return h.adopt(Z)}))},h.extend(h.Parent,{select:function(k){return h.select(k,this.node)}});var se="abcdef".split("");if("function"!=typeof J.CustomEvent){var fe=function(k,H){H=H||{bubbles:!1,cancelable:!1,detail:void 0};var Z=u.createEvent("CustomEvent");return Z.initCustomEvent(k,H.bubbles,H.cancelable,H.detail),Z};fe.prototype=J.Event.prototype,h.CustomEvent=fe}else h.CustomEvent=J.CustomEvent;return h},void 0!==(c=function(){return ys(zi,zi.document)}.call(it,ge,it,Rt))&&(Rt.exports=c),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(S,D){return this.add(S,D),!S.attr("in")&&this.autoSetIn&&S.attr("in",this.source),S.attr("result")||S.attr("result",S),S},blend:function(S,D,R){return this.put(new SVG.BlendEffect(S,D,R))},colorMatrix:function(S,D){return this.put(new SVG.ColorMatrixEffect(S,D))},convolveMatrix:function(S){return this.put(new SVG.ConvolveMatrixEffect(S))},componentTransfer:function(S){return this.put(new SVG.ComponentTransferEffect(S))},composite:function(S,D,R){return this.put(new SVG.CompositeEffect(S,D,R))},flood:function(S,D){return this.put(new SVG.FloodEffect(S,D))},offset:function(S,D){return this.put(new SVG.OffsetEffect(S,D))},image:function(S){return this.put(new SVG.ImageEffect(S))},merge:function(){var S=[void 0];for(var D in arguments)S.push(arguments[D]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,S)))},gaussianBlur:function(S,D){return this.put(new SVG.GaussianBlurEffect(S,D))},morphology:function(S,D){return this.put(new SVG.MorphologyEffect(S,D))},diffuseLighting:function(S,D,R){return this.put(new SVG.DiffuseLightingEffect(S,D,R))},displacementMap:function(S,D,R,N,L){return this.put(new SVG.DisplacementMapEffect(S,D,R,N,L))},specularLighting:function(S,D,R,N){return this.put(new SVG.SpecularLightingEffect(S,D,R,N))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(S,D,R,N,L){return this.put(new SVG.TurbulenceEffect(S,D,R,N,L))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(S){var D=this.put(new SVG.Filter);return"function"==typeof S&&S.call(D,D),D}}),SVG.extend(SVG.Container,{filter:function(S){return this.defs().filter(S)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(S){return this.filterer=S instanceof SVG.Element?S:this.doc().filter(S),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(S){return this.filterer&&!0===S&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(S){return null==S?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",S)},result:function(S){return null==S?this.attr("result"):this.attr("result",S)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(S){return null==S?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",S)},result:function(S){return null==S?this.attr("result"):this.attr("result",S)},toString:function(){return this.result()}}});var J={blend:function(S,D){return this.parent()&&this.parent().blend(this,S,D)},colorMatrix:function(S,D){return this.parent()&&this.parent().colorMatrix(S,D).in(this)},convolveMatrix:function(S){return this.parent()&&this.parent().convolveMatrix(S).in(this)},componentTransfer:function(S){return this.parent()&&this.parent().componentTransfer(S).in(this)},composite:function(S,D){return this.parent()&&this.parent().composite(this,S,D)},flood:function(S,D){return this.parent()&&this.parent().flood(S,D)},offset:function(S,D){return this.parent()&&this.parent().offset(S,D).in(this)},image:function(S){return this.parent()&&this.parent().image(S)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(S,D){return this.parent()&&this.parent().gaussianBlur(S,D).in(this)},morphology:function(S,D){return this.parent()&&this.parent().morphology(S,D).in(this)},diffuseLighting:function(S,D,R){return this.parent()&&this.parent().diffuseLighting(S,D,R).in(this)},displacementMap:function(S,D,R,N){return this.parent()&&this.parent().displacementMap(this,S,D,R,N)},specularLighting:function(S,D,R,N){return this.parent()&&this.parent().specularLighting(S,D,R,N).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(S,D,R,N,L){return this.parent()&&this.parent().turbulence(S,D,R,N,L).in(this)}};SVG.extend(SVG.Effect,J),SVG.extend(SVG.ParentEffect,J),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(S){this.attr("in",S)}}});var u={blend:function(S,D,R){this.attr({in:S,in2:D,mode:R||"normal"})},colorMatrix:function(S,D){"matrix"==S&&(D=_(D)),this.attr({type:S,values:void 0===D?null:D})},convolveMatrix:function(S){S=_(S),this.attr({order:Math.sqrt(S.split(" ").length),kernelMatrix:S})},composite:function(S,D,R){this.attr({in:S,in2:D,operator:R})},flood:function(S,D){this.attr("flood-color",S),null!=D&&this.attr("flood-opacity",D)},offset:function(S,D){this.attr({dx:S,dy:D})},image:function(S){this.attr("href",S,SVG.xlink)},displacementMap:function(S,D,R,N,L){this.attr({in:S,in2:D,scale:R,xChannelSelector:N,yChannelSelector:L})},gaussianBlur:function(S,D){this.attr("stdDeviation",null!=S||null!=D?x(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(S,D){this.attr({operator:S,radius:D})},tile:function(){},turbulence:function(S,D,R,N,L){this.attr({numOctaves:D,seed:R,stitchTiles:N,baseFrequency:S,type:L})}},h={merge:function(){var S;if(arguments[0]instanceof SVG.Set){var D=this;arguments[0].each(function(N){this instanceof SVG.MergeNode?D.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&D.put(new SVG.MergeNode(this))})}else{S=Array.isArray(arguments[0])?arguments[0]:arguments;for(var R=0;R<S.length;R++)S[R]instanceof SVG.MergeNode?this.put(S[R]):this.put(new SVG.MergeNode(S[R]))}},componentTransfer:function(S){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(R){this[R]=new(SVG["Func"+R.toUpperCase()])("identity"),this.rgb.add(this[R]),this.node.appendChild(this[R].node)}.bind(this)),S)for(var D in S.rgb&&(["r","g","b"].forEach(function(R){this[R].attr(S.rgb)}.bind(this)),delete S.rgb),S)this[D].attr(S[D])},diffuseLighting:function(S,D,R){this.attr({surfaceScale:S,diffuseConstant:D,kernelUnitLength:R})},specularLighting:function(S,D,R,N){this.attr({surfaceScale:S,diffuseConstant:D,specularExponent:R,kernelUnitLength:N})}},g={distantLight:function(S,D){this.attr({azimuth:S,elevation:D})},pointLight:function(S,D,R){this.attr({x:S,y:D,z:R})},spotLight:function(S,D,R,N,L,V){this.attr({x:S,y:D,z:R,pointsAtX:N,pointsAtY:L,pointsAtZ:V})},mergeNode:function(S){this.attr("in",S)}};function _(S){return Array.isArray(S)&&(S=new SVG.Array(S)),S.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function x(S){if(!Array.isArray(S))return S;for(var D=0,R=S.length,N=[];D<R;D++)N.push(S[D]);return N.join(" ")}function A(){var S=function(){};for(var D in"function"==typeof arguments[arguments.length-1]&&(S=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var R in arguments[D])S(arguments[D][R],R,arguments[D])}["r","g","b","a"].forEach(function(S){g["Func"+S.toUpperCase()]=function(D){switch(this.attr("type",D),D){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),A(u,function(S,D){var R=D.charAt(0).toUpperCase()+D.slice(1);SVG[R+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+R)),S.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),A(h,function(S,D){var R=D.charAt(0).toUpperCase()+D.slice(1);SVG[R+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+R)),S.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),A(g,function(S,D){var R=D.charAt(0).toUpperCase()+D.slice(1);SVG[R]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+R)),S.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(S){return S instanceof SVG.MergeNode?this.add(S,0):this.add(new SVG.MergeNode(S),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(S){return null==S?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",S)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function J(x,A,S,D,R,N,L){for(var V=x.slice(A,S||L),j=D.slice(R,N||L),q=0,Y={pos:[0,0],start:[0,0]},$={pos:[0,0],start:[0,0]};V[q]=u.call(Y,V[q]),j[q]=u.call($,j[q]),V[q][0]!=j[q][0]||"M"==V[q][0]||"A"==V[q][0]&&(V[q][4]!=j[q][4]||V[q][5]!=j[q][5])?(Array.prototype.splice.apply(V,[q,1].concat(g.call(Y,V[q]))),Array.prototype.splice.apply(j,[q,1].concat(g.call($,j[q])))):(V[q]=h.call(Y,V[q]),j[q]=h.call($,j[q])),++q!=V.length||q!=j.length;)q==V.length&&V.push(["C",Y.pos[0],Y.pos[1],Y.pos[0],Y.pos[1],Y.pos[0],Y.pos[1]]),q==j.length&&j.push(["C",$.pos[0],$.pos[1],$.pos[0],$.pos[1],$.pos[0],$.pos[1]]);return{start:V,dest:j}}function u(x){switch(x[0]){case"z":case"Z":x[0]="L",x[1]=this.start[0],x[2]=this.start[1];break;case"H":x[0]="L",x[2]=this.pos[1];break;case"V":x[0]="L",x[2]=x[1],x[1]=this.pos[0];break;case"T":x[0]="Q",x[3]=x[1],x[4]=x[2],x[1]=this.reflection[1],x[2]=this.reflection[0];break;case"S":x[0]="C",x[6]=x[4],x[5]=x[3],x[4]=x[2],x[3]=x[1],x[2]=this.reflection[1],x[1]=this.reflection[0]}return x}function h(x){var A=x.length;return this.pos=[x[A-2],x[A-1]],-1!="SCQT".indexOf(x[0])&&(this.reflection=[2*this.pos[0]-x[A-4],2*this.pos[1]-x[A-3]]),x}function g(x){var A=[x];switch(x[0]){case"M":return this.pos=this.start=[x[1],x[2]],A;case"L":x[5]=x[3]=x[1],x[6]=x[4]=x[2],x[1]=this.pos[0],x[2]=this.pos[1];break;case"Q":x[6]=x[4],x[5]=x[3],x[4]=1*x[4]/3+2*x[2]/3,x[3]=1*x[3]/3+2*x[1]/3,x[2]=1*this.pos[1]/3+2*x[2]/3,x[1]=1*this.pos[0]/3+2*x[1]/3;break;case"A":x=(A=function(S,D){var R,N,L,V,j,q,Y,$,ne,se,fe,k,H,Z,ee,pe,Fe,Re,Qe,rt,dt,It,un,St,Ht,fn,wi=Math.abs(D[1]),_s=Math.abs(D[2]),oi=D[3]%360,tl=D[4],Rr=D[5],mr=D[6],du=D[7],gi=new SVG.Point(S),Gi=new SVG.Point(mr,du),nl=[];if(0===wi||0===_s||gi.x===Gi.x&&gi.y===Gi.y)return[["C",gi.x,gi.y,Gi.x,Gi.y,Gi.x,Gi.y]];for((N=(R=new SVG.Point((gi.x-Gi.x)/2,(gi.y-Gi.y)/2).transform((new SVG.Matrix).rotate(oi))).x*R.x/(wi*wi)+R.y*R.y/(_s*_s))>1&&(wi*=N=Math.sqrt(N),_s*=N),L=(new SVG.Matrix).rotate(oi).scale(1/wi,1/_s).rotate(-oi),gi=gi.transform(L),q=(V=[(Gi=Gi.transform(L)).x-gi.x,Gi.y-gi.y])[0]*V[0]+V[1]*V[1],j=Math.sqrt(q),V[0]/=j,V[1]/=j,Y=q<4?Math.sqrt(1-q/4):0,tl===Rr&&(Y*=-1),$=new SVG.Point((Gi.x+gi.x)/2+Y*-V[1],(Gi.y+gi.y)/2+Y*V[0]),ne=new SVG.Point(gi.x-$.x,gi.y-$.y),se=new SVG.Point(Gi.x-$.x,Gi.y-$.y),fe=Math.acos(ne.x/Math.sqrt(ne.x*ne.x+ne.y*ne.y)),ne.y<0&&(fe*=-1),k=Math.acos(se.x/Math.sqrt(se.x*se.x+se.y*se.y)),se.y<0&&(k*=-1),Rr&&fe>k&&(k+=2*Math.PI),!Rr&&fe<k&&(k-=2*Math.PI),pe=[],Fe=fe,H=(k-fe)/(Z=Math.ceil(2*Math.abs(fe-k)/Math.PI)),ee=4*Math.tan(H/4)/3,dt=0;dt<=Z;dt++)Qe=Math.cos(Fe),Re=Math.sin(Fe),rt=new SVG.Point($.x+Qe,$.y+Re),pe[dt]=[new SVG.Point(rt.x+ee*Re,rt.y-ee*Qe),rt,new SVG.Point(rt.x-ee*Re,rt.y+ee*Qe)],Fe+=H;for(pe[0][0]=pe[0][1].clone(),pe[pe.length-1][2]=pe[pe.length-1][1].clone(),L=(new SVG.Matrix).rotate(oi).scale(wi,_s).rotate(-oi),dt=0,It=pe.length;dt<It;dt++)pe[dt][0]=pe[dt][0].transform(L),pe[dt][1]=pe[dt][1].transform(L),pe[dt][2]=pe[dt][2].transform(L);for(dt=1,It=pe.length;dt<It;dt++)un=(rt=pe[dt-1][2]).x,St=rt.y,Ht=(rt=pe[dt][0]).x,fn=rt.y,mr=(rt=pe[dt][1]).x,nl.push(["C",un,St,Ht,fn,mr,du=rt.y]);return nl}(this.pos,x))[0]}return x[0]="C",this.pos=[x[5],x[6]],this.reflection=[2*x[5]-x[3],2*x[6]-x[4]],A}function _(x,A){if(!1===A)return!1;for(var S=A,D=x.length;S<D;++S)if("M"==x[S][0])return S;return!1}SVG.extend(SVG.PathArray,{morph:function(x){for(var A=this.value,S=this.parse(x),D=0,R=0,N=!1,L=!1;!1!==D||!1!==R;){var V;N=_(A,!1!==D&&D+1),L=_(S,!1!==R&&R+1),!1===D&&(D=0==(V=new SVG.PathArray(j.start).bbox()).height||0==V.width?A.push(A[0])-1:A.push(["M",V.x+V.width/2,V.y+V.height/2])-1),!1===R&&(R=0==(V=new SVG.PathArray(j.dest).bbox()).height||0==V.width?S.push(S[0])-1:S.push(["M",V.x+V.width/2,V.y+V.height/2])-1);var j=J(A,D,N,S,R,L);A=A.slice(0,D).concat(j.start,!1===N?[]:A.slice(N)),S=S.slice(0,R).concat(j.dest,!1===L?[]:S.slice(L)),D=!1!==N&&D+j.start.length,R=!1!==L&&R+j.dest.length}return this.value=A,this.destination=new SVG.PathArray,this.destination.value=S,this}})}(),function(){function J(u){u.remember("_draggable",this),this.el=u}J.prototype.init=function(u,h){var g=this;this.constraint=u,this.value=h,this.el.on("mousedown.drag",function(_){g.start(_)}),this.el.on("touchstart.drag",function(_){g.start(_)})},J.prototype.transformPoint=function(u,h){var g=(u=u||window.event).changedTouches&&u.changedTouches[0]||u;return this.p.x=g.clientX-(h||0),this.p.y=g.clientY,this.p.matrixTransform(this.m)},J.prototype.getBBox=function(){var u=this.el.bbox();return this.el instanceof SVG.Nested&&(u=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(u.x=this.el.x(),u.y=this.el.y()),u},J.prototype.start=function(u){if("click"!=u.type&&"mousedown"!=u.type&&"mousemove"!=u.type||1==(u.which||u.buttons)){var h=this;if(this.el.fire("beforedrag",{event:u,handler:this}),!this.el.event().defaultPrevented){u.preventDefault(),u.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var g,_=this.getBBox();if(this.el instanceof SVG.Text)switch(g=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":g/=2;break;case"start":g=0}this.startPoints={point:this.transformPoint(u,g),box:_,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(x){h.drag(x)}),SVG.on(window,"touchmove.drag",function(x){h.drag(x)}),SVG.on(window,"mouseup.drag",function(x){h.end(x)}),SVG.on(window,"touchend.drag",function(x){h.end(x)}),this.el.fire("dragstart",{event:u,p:this.startPoints.point,m:this.m,handler:this})}}},J.prototype.drag=function(u){var h=this.getBBox(),g=this.transformPoint(u),_=this.startPoints.box.x+g.x-this.startPoints.point.x,x=this.startPoints.box.y+g.y-this.startPoints.point.y,A=this.constraint,S=g.x-this.startPoints.point.x,D=g.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:u,p:g,m:this.m,handler:this}),this.el.event().defaultPrevented)return g;if("function"==typeof A){var R=A.call(this.el,_,x,this.m);"boolean"==typeof R&&(R={x:R,y:R}),!0===R.x?this.el.x(_):!1!==R.x&&this.el.x(R.x),!0===R.y?this.el.y(x):!1!==R.y&&this.el.y(R.y)}else"object"==typeof A&&(null!=A.minX&&_<A.minX?S=(_=A.minX)-this.startPoints.box.x:null!=A.maxX&&_>A.maxX-h.width&&(S=(_=A.maxX-h.width)-this.startPoints.box.x),null!=A.minY&&x<A.minY?D=(x=A.minY)-this.startPoints.box.y:null!=A.maxY&&x>A.maxY-h.height&&(D=(x=A.maxY-h.height)-this.startPoints.box.y),null!=A.snapToGrid&&(_-=_%A.snapToGrid,x-=x%A.snapToGrid,S-=S%A.snapToGrid,D-=D%A.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:S,y:D},!0):this.el.move(_,x));return g},J.prototype.end=function(u){var h=this.drag(u);this.el.fire("dragend",{event:u,p:h,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(u,h){"function"!=typeof u&&"object"!=typeof u||(h=u,u=!0);var g=this.remember("_draggable")||new J(this);return(u=void 0===u||u)?g.init(h||{},u):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function J(u){this.el=u,u.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(h,g,_){var x="string"!=typeof h?h:g[h];return _?x/2:x},this.pointCoords=function(h,g){var _=this.pointsList[h];return{x:this.pointCoord(_[0],g,"t"===h||"b"===h),y:this.pointCoord(_[1],g,"r"===h||"l"===h)}}}J.prototype.init=function(u,h){var g=this.el.bbox();this.options={};var _=this.el.selectize.defaults.points;for(var x in this.el.selectize.defaults)this.options[x]=this.el.selectize.defaults[x],void 0!==h[x]&&(this.options[x]=h[x]);var A=["points","pointsExclude"];for(var x in A){var S=this.options[A[x]];"string"==typeof S?S=S.length>0?S.split(/\s*,\s*/i):[]:"boolean"==typeof S&&"points"===A[x]&&(S=S?_:[]),this.options[A[x]]=S}this.options.points=[_,this.options.points].reduce(function(D,R){return D.filter(function(N){return R.indexOf(N)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(D,R){return D.filter(function(N){return R.indexOf(N)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(g.x,g.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(u):this.selectRect(u),this.observe(),this.cleanup()},J.prototype.selectPoints=function(u){return this.pointSelection.isSelected=u,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},J.prototype.getPointArray=function(){var u=this.el.bbox();return this.el.array().valueOf().map(function(h){return[h[0]-u.x,h[1]-u.y]})},J.prototype.drawPoints=function(){for(var u=this,h=this.getPointArray(),g=0,_=h.length;g<_;++g){var x=function(S){return function(D){(D=D||window.event).preventDefault?D.preventDefault():D.returnValue=!1,D.stopPropagation(),u.el.fire("point",{x:D.pageX||D.touches[0].pageX,y:D.pageY||D.touches[0].pageY,i:S,event:D})}}(g),A=this.drawPoint(h[g][0],h[g][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",x).on("mousedown",x);this.pointSelection.set.add(A)}},J.prototype.drawPoint=function(u,h){var g=this.options.pointType;switch(g){case"circle":return this.drawCircle(u,h);case"rect":return this.drawRect(u,h);default:if("function"==typeof g)return g.call(this,u,h);throw new Error("Unknown "+g+" point type!")}},J.prototype.drawCircle=function(u,h){return this.nested.circle(this.options.pointSize).center(u,h)},J.prototype.drawRect=function(u,h){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(u,h)},J.prototype.updatePointSelection=function(){var u=this.getPointArray();this.pointSelection.set.each(function(h){this.cx()===u[h][0]&&this.cy()===u[h][1]||this.center(u[h][0],u[h][1])})},J.prototype.updateRectSelection=function(){var u=this,h=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:h.width,height:h.height}),this.options.points.length&&this.options.points.map(function(_,x){var A=u.pointCoords(_,h);u.rectSelection.set.get(x+1).center(A.x,A.y)}),this.options.rotationPoint){var g=this.rectSelection.set.length();this.rectSelection.set.get(g-1).center(h.width/2,20)}},J.prototype.selectRect=function(u){var h=this,g=this.el.bbox();function _(S){return function(D){(D=D||window.event).preventDefault?D.preventDefault():D.returnValue=!1,D.stopPropagation(),h.el.fire(S,{x:D.pageX||D.touches[0].pageX,y:D.pageY||D.touches[0].pageY,event:D})}}if(this.rectSelection.isSelected=u,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(g.width,g.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(S,D){var R=h.pointCoords(S,g),N=h.drawPoint(R.x,R.y).attr("class",h.options.classPoints+"_"+S).on("mousedown",_(S)).on("touchstart",_(S));h.rectSelection.set.add(N)}),this.rectSelection.set.each(function(){this.addClass(h.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var x=function(S){(S=S||window.event).preventDefault?S.preventDefault():S.returnValue=!1,S.stopPropagation(),h.el.fire("rot",{x:S.pageX||S.touches[0].pageX,y:S.pageY||S.touches[0].pageY,event:S})},A=this.drawPoint(g.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",x).on("mousedown",x);this.rectSelection.set.add(A)}},J.prototype.handler=function(){var u=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(u.x,u.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},J.prototype.observe=function(){var u=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){u.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(h){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){u.handler()})},J.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(u,h){return"object"==typeof u&&(h=u,u=!0),(this.remember("_selectHandler")||new J(this)).init(void 0===u||u,h||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function J(u){u.remember("_resizeHandler",this),this.el=u,this.parameters={},this.lastUpdateCall=null,this.p=u.doc().node.createSVGPoint()}J.prototype.transformPoint=function(u,h,g){return this.p.x=u-(this.offset.x-window.pageXOffset),this.p.y=h-(this.offset.y-window.pageYOffset),this.p.matrixTransform(g||this.m)},J.prototype._extractPosition=function(u){return{x:null!=u.clientX?u.clientX:u.touches[0].clientX,y:null!=u.clientY?u.clientY:u.touches[0].clientY}},J.prototype.init=function(u){var h=this;if(this.stop(),"stop"!==u){for(var g in this.options={},this.el.resize.defaults)this.options[g]=this.el.resize.defaults[g],void 0!==u[g]&&(this.options[g]=u[g]);this.el.on("lt.resize",function(_){h.resize(_||window.event)}),this.el.on("rt.resize",function(_){h.resize(_||window.event)}),this.el.on("rb.resize",function(_){h.resize(_||window.event)}),this.el.on("lb.resize",function(_){h.resize(_||window.event)}),this.el.on("t.resize",function(_){h.resize(_||window.event)}),this.el.on("r.resize",function(_){h.resize(_||window.event)}),this.el.on("b.resize",function(_){h.resize(_||window.event)}),this.el.on("l.resize",function(_){h.resize(_||window.event)}),this.el.on("rot.resize",function(_){h.resize(_||window.event)}),this.el.on("point.resize",function(_){h.resize(_||window.event)}),this.update()}},J.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},J.prototype.resize=function(u){var h=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var g=this._extractPosition(u.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(g.x,g.y),x:u.detail.x,y:u.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==u.detail.i){var _=this.el.array().valueOf();this.parameters.i=u.detail.i,this.parameters.pointCoords=[_[u.detail.i][0],_[u.detail.i][1]]}switch(u.type){case"lt":this.calc=function(x,A){var S=this.snapToGrid(x,A);if(this.parameters.box.width-S[0]>0&&this.parameters.box.height-S[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-S[0]);S=this.checkAspectRatio(S),this.el.move(this.parameters.box.x+S[0],this.parameters.box.y+S[1]).size(this.parameters.box.width-S[0],this.parameters.box.height-S[1])}};break;case"rt":this.calc=function(x,A){var S=this.snapToGrid(x,A,2);if(this.parameters.box.width+S[0]>0&&this.parameters.box.height-S[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+S[0]);S=this.checkAspectRatio(S,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+S[1]).size(this.parameters.box.width+S[0],this.parameters.box.height-S[1])}};break;case"rb":this.calc=function(x,A){var S=this.snapToGrid(x,A,0);if(this.parameters.box.width+S[0]>0&&this.parameters.box.height+S[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+S[0]);S=this.checkAspectRatio(S),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+S[0],this.parameters.box.height+S[1])}};break;case"lb":this.calc=function(x,A){var S=this.snapToGrid(x,A,1);if(this.parameters.box.width-S[0]>0&&this.parameters.box.height+S[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-S[0]);S=this.checkAspectRatio(S,!0),this.el.move(this.parameters.box.x+S[0],this.parameters.box.y).size(this.parameters.box.width-S[0],this.parameters.box.height+S[1])}};break;case"t":this.calc=function(x,A){var S=this.snapToGrid(x,A,2);if(this.parameters.box.height-S[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+S[1]).height(this.parameters.box.height-S[1])}};break;case"r":this.calc=function(x,A){var S=this.snapToGrid(x,A,0);if(this.parameters.box.width+S[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+S[0])}};break;case"b":this.calc=function(x,A){var S=this.snapToGrid(x,A,0);if(this.parameters.box.height+S[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+S[1])}};break;case"l":this.calc=function(x,A){var S=this.snapToGrid(x,A,1);if(this.parameters.box.width-S[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+S[0],this.parameters.box.y).width(this.parameters.box.width-S[0])}};break;case"rot":this.calc=function(x,A){var S=x+this.parameters.p.x,D=A+this.parameters.p.y,R=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),N=Math.atan2(D-this.parameters.box.y-this.parameters.box.height/2,S-this.parameters.box.x-this.parameters.box.width/2),L=this.parameters.rotation+180*(N-R)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(L-L%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(x,A){var S=this.snapToGrid(x,A,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),D=this.el.array().valueOf();D[this.parameters.i][0]=this.parameters.pointCoords[0]+S[0],D[this.parameters.i][1]=this.parameters.pointCoords[1]+S[1],this.el.plot(D)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:u}),SVG.on(window,"touchmove.resize",function(x){h.update(x||window.event)}),SVG.on(window,"touchend.resize",function(){h.done()}),SVG.on(window,"mousemove.resize",function(x){h.update(x||window.event)}),SVG.on(window,"mouseup.resize",function(){h.done()})},J.prototype.update=function(u){if(u){var h=this._extractPosition(u),g=this.transformPoint(h.x,h.y),_=g.x-this.parameters.p.x,x=g.y-this.parameters.p.y;this.lastUpdateCall=[_,x],this.calc(_,x),this.el.fire("resizing",{dx:_,dy:x,event:u})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},J.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},J.prototype.snapToGrid=function(u,h,g,_){var x;return x=void 0!==_?[(g+u)%this.options.snapToGrid,(_+h)%this.options.snapToGrid]:[(this.parameters.box.x+u+(1&(g=null==g?3:g)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+h+(2&g?0:this.parameters.box.height))%this.options.snapToGrid],u<0&&(x[0]-=this.options.snapToGrid),h<0&&(x[1]-=this.options.snapToGrid),u-=Math.abs(x[0])<this.options.snapToGrid/2?x[0]:x[0]-(u<0?-this.options.snapToGrid:this.options.snapToGrid),h-=Math.abs(x[1])<this.options.snapToGrid/2?x[1]:x[1]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(u,h,g,_)},J.prototype.constraintToBox=function(u,h,g,_){var x,A,S=this.options.constraint||{};return void 0!==_?(x=g,A=_):(x=this.parameters.box.x+(1&g?0:this.parameters.box.width),A=this.parameters.box.y+(2&g?0:this.parameters.box.height)),void 0!==S.minX&&x+u<S.minX&&(u=S.minX-x),void 0!==S.maxX&&x+u>S.maxX&&(u=S.maxX-x),void 0!==S.minY&&A+h<S.minY&&(h=S.minY-A),void 0!==S.maxY&&A+h>S.maxY&&(h=S.maxY-A),[u,h]},J.prototype.checkAspectRatio=function(u,h){if(!this.options.saveAspectRatio)return u;var g=u.slice(),_=this.parameters.box.width/this.parameters.box.height,x=this.parameters.box.width+u[0],A=this.parameters.box.height-u[1],S=x/A;return S<_?(g[1]=x/_-this.parameters.box.height,h&&(g[1]=-g[1])):S>_&&(g[0]=this.parameters.box.width-A*_,h&&(g[0]=-g[0])),g},SVG.extend(SVG.Element,{resize:function(u){return(this.remember("_resizeHandler")||new J(this)).init(u||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(J,u){void 0===u&&(u={});var h=u.insertAt;if("undefined"!=typeof document){var g=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css","top"===h&&g.firstChild?g.insertBefore(_,g.firstChild):g.appendChild(_),_.styleSheet?_.styleSheet.cssText=J:_.appendChild(document.createTextNode(J))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function J(V){var j=V.__resizeTriggers__,q=j.firstElementChild,Y=j.lastElementChild,$=q?q.firstElementChild:null;Y&&(Y.scrollLeft=Y.scrollWidth,Y.scrollTop=Y.scrollHeight),$&&($.style.width=q.offsetWidth+1+"px",$.style.height=q.offsetHeight+1+"px"),q&&(q.scrollLeft=q.scrollWidth,q.scrollTop=q.scrollHeight)}function u(V){var j=this;J(this),this.__resizeRAF__&&x(this.__resizeRAF__),this.__resizeRAF__=_(function(){var q;((q=j).offsetWidth!=q.__resizeLast__.width||q.offsetHeight!=q.__resizeLast__.height)&&(j.__resizeLast__.width=j.offsetWidth,j.__resizeLast__.height=j.offsetHeight,j.__resizeListeners__.forEach(function(q){q.call(V)}))})}var h,g,_=(h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(V){return window.setTimeout(V,20)},function(V){return h(V)}),x=(g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(V){return g(V)}),A=!1,S="animationstart",D="Webkit Moz O ms".split(" "),R="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),N=document.createElement("fakeelement");if(void 0!==N.style.animationName&&(A=!0),!1===A)for(var L=0;L<D.length;L++)if(void 0!==N.style[D[L]+"AnimationName"]){S=R[L];break}window.addResizeListener=function(V,j){V.__resizeTriggers__||("static"==getComputedStyle(V).position&&(V.style.position="relative"),V.__resizeLast__={},V.__resizeListeners__=[],(V.__resizeTriggers__=document.createElement("div")).className="resize-triggers",V.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',V.appendChild(V.__resizeTriggers__),J(V),V.addEventListener("scroll",u,!0),S&&V.__resizeTriggers__.addEventListener(S,function(q){"resizeanim"==q.animationName&&J(V)})),V.__resizeListeners__.push(j)},window.removeResizeListener=function(V,j){V&&(V.__resizeListeners__.splice(V.__resizeListeners__.indexOf(j),1),V.__resizeListeners__.length||(V.removeEventListener("scroll",u),V.__resizeTriggers__.parentNode&&(V.__resizeTriggers__=!V.removeChild(V.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var Gl=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new pt(this.ctx),this.ctx.axes=new Oi(this.ctx),this.ctx.core=new Yh(this.ctx.el,this.ctx),this.ctx.config=new xt({}),this.ctx.data=new mn(this.ctx),this.ctx.grid=new pa(this.ctx),this.ctx.graphics=new Pe(this.ctx),this.ctx.coreUtils=new vt(this.ctx),this.ctx.crosshairs=new wt(this.ctx),this.ctx.events=new an(this.ctx),this.ctx.exports=new fi(this.ctx),this.ctx.localization=new Ri(this.ctx),this.ctx.options=new _n,this.ctx.responsive=new Bn(this.ctx),this.ctx.series=new Dt(this.ctx),this.ctx.theme=new pi(this.ctx),this.ctx.formatters=new Ji(this.ctx),this.ctx.titleSubtitle=new si(this.ctx),this.ctx.legend=new Ct(this.ctx),this.ctx.toolbar=new Qt(this.ctx),this.ctx.dimensions=new ga(this.ctx),this.ctx.updateHelpers=new jl(this.ctx),this.ctx.zoomPanSelection=new cu(this.ctx),this.ctx.w.globals.tooltip=new be(this.ctx)}}]),J}(),hu=function(){function J(u){K(this,J),this.ctx=u,this.w=u.w}return Ee(J,[{key:"clear",value:function(u){var h=u.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:h})}},{key:"killSVG",value:function(u){u.each(function(h,g){this.removeClass("*"),this.off(),this.stop()},!0),u.ungroup(),u.clear()}},{key:"clearDomElements",value:function(u){var h=this,_=this.w.globals.dom.Paper.node;_.parentNode&&_.parentNode.parentNode&&!u.isUpdating&&(_.parentNode.parentNode.style.minHeight="unset");var x=this.w.globals.dom.baseEl;x&&this.ctx.eventList.forEach(function(S){x.removeEventListener(S,h.ctx.events.documentEvent)});var A=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(A.Paper),A.Paper.remove(),A.elWrap=null,A.elGraphical=null,A.elAnnotations=null,A.elLegendWrap=null,A.baseEl=null,A.elGridRect=null,A.elGridRectMask=null,A.elGridRectMarkerMask=null,A.elForecastMask=null,A.elNonForecastMask=null,A.elDefs=null}}]),J}(),ji=function(){function J(u,h){K(this,J),this.opts=h,this.ctx=this,this.w=new Nn(h).init(),this.el=u,this.w.globals.cuid=de.randomId(),this.w.globals.chartID=this.w.config.chart.id?de.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Gl(this).initModules(),this.create=de.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Ee(J,[{key:"render",value:function(){var u=this;return new Promise(function(h,g){if(null!==u.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),u.w.config.chart.id&&Apex._chartInstances.push({id:u.w.globals.chartID,group:u.w.config.chart.group,chart:u}),u.setLocale(u.w.config.chart.defaultLocale);var _=u.w.config.chart.events.beforeMount;"function"==typeof _&&_(u,u.w),u.events.fireEvent("beforeMount",[u,u.w]),window.addEventListener("resize",u.windowResizeHandler),window.addResizeListener(u.el.parentNode,u.parentResizeHandler);var x=u.create(u.w.config.series,{});if(!x)return h(u);u.mount(x).then(function(){"function"==typeof u.w.config.chart.events.mounted&&u.w.config.chart.events.mounted(u,u.w),u.events.fireEvent("mounted",[u,u.w]),h(x)}).catch(function(A){g(A)})}else g(new Error("Element not found"))})}},{key:"create",value:function(u,h){var g=this.w;new Gl(this).initModules();var _=this.w.globals;if(_.noData=!1,_.animationEnded=!1,this.responsive.checkResponsiveConfig(h),g.config.xaxis.convertedCatToNumeric&&new yt(g.config).convertCatToNumericXaxis(g.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===g.config.chart.type&&(g.config.grid.show=!1,g.config.yaxis[0].show=!1),0===_.svgWidth))return _.animationEnded=!0,null;var x=vt.checkComboSeries(u);_.comboCharts=x.comboCharts,_.comboBarCount=x.comboBarCount;var A=u.every(function(L){return L.data&&0===L.data.length});(0===u.length||A)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(u),this.theme.init(),new We(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),_.noData&&_.collapsedSeries.length!==_.series.length&&!g.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),_.axisCharts&&(this.core.coreCalculations(),"category"!==g.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=g.globals.minX,this.ctx.toolbar.maxX=g.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var S=this.core.xySettings();this.grid.createGridMask();var D=this.core.plotChartType(u,S),R=new nt(this);return R.bringForward(),g.config.dataLabels.background.enabled&&R.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:D,xyRatios:S,elInner:g.globals.dom.elGraphical,dimensions:{plot:{left:g.globals.translateX,top:g.globals.translateY,width:g.globals.gridWidth,height:g.globals.gridHeight}}}}},{key:"mount",value:function(){var u=this,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,g=this,_=g.w;return new Promise(function(x,A){if(null===g.el)return A(new Error("Not enough data to display or target element not found"));(null===h||_.globals.allSeriesCollapsed)&&g.series.handleNoData(),"treemap"!==_.config.chart.type&&g.axes.drawAxis(_.config.chart.type,h.xyRatios),g.grid=new pa(g);var S=g.grid.drawGrid();g.annotations=new Ge(g),g.annotations.drawImageAnnos(),g.annotations.drawTextAnnos(),"back"===_.config.grid.position&&S&&_.globals.dom.elGraphical.add(S.el);var D=new er(u.ctx),R=new dn(u.ctx);if(null!==S&&(D.xAxisLabelCorrections(S.xAxisTickWidth),R.setYAxisTextAlignments(),_.config.yaxis.map(function(V,j){-1===_.globals.ignoreYAxisIndexes.indexOf(j)&&R.yAxisTitleRotate(j,V.opposite)})),"back"===_.config.annotations.position&&(_.globals.dom.Paper.add(_.globals.dom.elAnnotations),g.annotations.drawAxesAnnotations()),Array.isArray(h.elGraph))for(var N=0;N<h.elGraph.length;N++)_.globals.dom.elGraphical.add(h.elGraph[N]);else _.globals.dom.elGraphical.add(h.elGraph);if("front"===_.config.grid.position&&S&&_.globals.dom.elGraphical.add(S.el),"front"===_.config.xaxis.crosshairs.position&&g.crosshairs.drawXCrosshairs(),"front"===_.config.yaxis[0].crosshairs.position&&g.crosshairs.drawYCrosshairs(),"front"===_.config.annotations.position&&(_.globals.dom.Paper.add(_.globals.dom.elAnnotations),g.annotations.drawAxesAnnotations()),!_.globals.noData){if(_.config.tooltip.enabled&&!_.globals.noData&&g.w.globals.tooltip.drawTooltip(h.xyRatios),_.globals.axisCharts&&(_.globals.isXNumeric||_.config.xaxis.convertedCatToNumeric||_.globals.isTimelineBar))(_.config.chart.zoom.enabled||_.config.chart.selection&&_.config.chart.selection.enabled||_.config.chart.pan&&_.config.chart.pan.enabled)&&g.zoomPanSelection.init({xyRatios:h.xyRatios});else{var L=_.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(V){L[V]=!1})}_.config.chart.toolbar.show&&!_.globals.allSeriesCollapsed&&g.toolbar.createToolbar()}_.globals.memory.methodsToExec.length>0&&_.globals.memory.methodsToExec.forEach(function(V){V.method(V.params,!1,V.context)}),_.globals.axisCharts||_.globals.noData||g.core.resizeNonAxisCharts(),x(g)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var u=this.w.config.chart.id;u&&Apex._chartInstances.forEach(function(h,g){h.id===de.escapeString(u)&&Apex._chartInstances.splice(g,1)}),new hu(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(u){var h=this,g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],A=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],S=this.w;return S.globals.selection=void 0,u.series&&(this.series.resetSeries(!1,!0,!1),u.series.length&&u.series[0].data&&(u.series=u.series.map(function(D,R){return h.updateHelpers._extendSeries(D,R)})),this.updateHelpers.revertDefaultAxisMinMax()),u.xaxis&&(u=this.updateHelpers.forceXAxisUpdate(u)),u.yaxis&&(u=this.updateHelpers.forceYAxisUpdate(u)),S.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),u.theme&&(u=this.theme.updateThemeOptions(u)),this.updateHelpers._updateOptions(u,g,_,x,A)}},{key:"updateSeries",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(u,h,g)}},{key:"appendSeries",value:function(u){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=this.w.config.series.slice();return _.push(u),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(_,h,g)}},{key:"appendData",value:function(u){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=this;g.w.globals.dataChanged=!0,g.series.getPreviousPaths();for(var _=g.w.config.series.slice(),x=0;x<_.length;x++)if(null!=u[x])for(var A=0;A<u[x].data.length;A++)_[x].data.push(u[x].data[A]);return g.w.config.series=_,h&&(g.w.globals.initialSeries=de.clone(g.w.config.series)),this.update()}},{key:"update",value:function(u){var h=this;return new Promise(function(g,_){new hu(h.ctx).clear({isUpdating:!0});var x=h.create(h.w.config.series,u);if(!x)return g(h);h.mount(x).then(function(){"function"==typeof h.w.config.chart.events.updated&&h.w.config.chart.events.updated(h,h.w),h.events.fireEvent("updated",[h,h.w]),h.w.globals.isDirty=!0,g(h)}).catch(function(A){_(A)})})}},{key:"getSyncedCharts",value:function(){var u=this.getGroupedCharts(),h=[this];return u.length&&(h=[],u.forEach(function(g){h.push(g)})),h}},{key:"getGroupedCharts",value:function(){var u=this;return Apex._chartInstances.filter(function(h){if(h.group)return!0}).map(function(h){return u.w.config.chart.group===h.group?h.chart:u})}},{key:"toggleSeries",value:function(u){return this.series.toggleSeries(u)}},{key:"showSeries",value:function(u){this.series.showSeries(u)}},{key:"hideSeries",value:function(u){this.series.hideSeries(u)}},{key:"resetSeries",value:function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(u,h)}},{key:"addEventListener",value:function(u,h){this.events.addEventListener(u,h)}},{key:"removeEventListener",value:function(u,h){this.events.removeEventListener(u,h)}},{key:"addXaxisAnnotation",value:function(u){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;g&&(_=g),_.annotations.addXaxisAnnotationExternal(u,h,_)}},{key:"addYaxisAnnotation",value:function(u){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;g&&(_=g),_.annotations.addYaxisAnnotationExternal(u,h,_)}},{key:"addPointAnnotation",value:function(u){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;g&&(_=g),_.annotations.addPointAnnotationExternal(u,h,_)}},{key:"clearAnnotations",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,h=this;u&&(h=u),h.annotations.clearAnnotations(h)}},{key:"removeAnnotation",value:function(u){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,g=this;h&&(g=h),g.annotations.removeAnnotation(g,u)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(u,h){return this.coreUtils.getSeriesTotalsXRange(u,h)}},{key:"getHighestValueInSeries",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=new Oo(this.ctx);return h.getMinYMaxY(u).highestY}},{key:"getLowestValueInSeries",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=new Oo(this.ctx);return h.getMinYMaxY(u).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(u,h){return this.updateHelpers.toggleDataPointSelection(u,h)}},{key:"zoomX",value:function(u,h){this.ctx.toolbar.zoomUpdateOptions(u,h)}},{key:"setLocale",value:function(u){this.localization.setCurrentLocaleValues(u)}},{key:"dataURI",value:function(u){return new fi(this.ctx).dataURI(u)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var u=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){u.w.globals.resized=!0,u.w.globals.dataChanged=!1,u.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var u=this.w.config.chart.redrawOnWindowResize;"function"==typeof u&&(u=u()),u&&this._windowResize()}}],[{key:"getChartByID",value:function(u){var h=de.escapeString(u),g=Apex._chartInstances.filter(function(_){return _.id===h})[0];return g&&g.chart}},{key:"initOnLoad",value:function(){for(var u=document.querySelectorAll("[data-apexcharts]"),h=0;h<u.length;h++)new J(u[h],JSON.parse(u[h].getAttribute("data-options"))).render()}},{key:"exec",value:function(u,h){var g=this.getChartByID(u);if(g){g.w.globals.isExecCalled=!0;var _=null;if(-1!==g.publicMethods.indexOf(h)){for(var x=arguments.length,A=new Array(x>2?x-2:0),S=2;S<x;S++)A[S-2]=arguments[S];_=g[h].apply(g,A)}return _}}},{key:"merge",value:function(u,h){return de.extend(u,h)}}]),J}();Rt.exports=ji},2329:(Rt,it,ge)=>{"use strict";ge.d(it,{Z:()=>c.Z});var c=ge(9759),K="8.9.1";c.Z.registerVersion("firebase",K,"app"),c.Z.SDK_VERSION=K},7574:(Rt,it,ge)=>{"use strict";ge.d(it,{y:()=>Te});var c=ge(7393),K=ge(9181),Ie=ge(6490),ke=ge(6554),Ve=ge(4487);var me=ge(2494);let Te=(()=>{class Ce{constructor(Ke){this._isScalar=!1,Ke&&(this._subscribe=Ke)}lift(Ke){const de=new Ce;return de.source=this,de.operator=Ke,de}subscribe(Ke,de,pt){const{operator:tt}=this,Pe=function(Ce,Ne,Ke){if(Ce){if(Ce instanceof c.L)return Ce;if(Ce[K.b])return Ce[K.b]()}return Ce||Ne||Ke?new c.L(Ce,Ne,Ke):new c.L(Ie.c)}(Ke,de,pt);if(Pe.add(tt?tt.call(Pe,this.source):this.source||me.v.useDeprecatedSynchronousErrorHandling&&!Pe.syncErrorThrowable?this._subscribe(Pe):this._trySubscribe(Pe)),me.v.useDeprecatedSynchronousErrorHandling&&Pe.syncErrorThrowable&&(Pe.syncErrorThrowable=!1,Pe.syncErrorThrown))throw Pe.syncErrorValue;return Pe}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(de){me.v.useDeprecatedSynchronousErrorHandling&&(Ke.syncErrorThrown=!0,Ke.syncErrorValue=de),function(Ce){for(;Ce;){const{closed:Ne,destination:Ke,isStopped:de}=Ce;if(Ne||de)return!1;Ce=Ke&&Ke instanceof c.L?Ke:null}return!0}(Ke)?Ke.error(de):console.warn(de)}}forEach(Ke,de){return new(de=he(de))((pt,tt)=>{let Pe;Pe=this.subscribe(yn=>{try{Ke(yn)}catch(Kn){tt(Kn),Pe&&Pe.unsubscribe()}},tt,pt)})}_subscribe(Ke){const{source:de}=this;return de&&de.subscribe(Ke)}[ke.L](){return this}pipe(...Ke){return 0===Ke.length?this:function(Ce){return 0===Ce.length?Ve.y:1===Ce.length?Ce[0]:function(Ke){return Ce.reduce((de,pt)=>pt(de),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=he(Ke))((de,pt)=>{let tt;this.subscribe(Pe=>tt=Pe,Pe=>pt(Pe),()=>de(tt))})}}return Ce.create=Ne=>new Ce(Ne),Ce})();function he(Ce){if(Ce||(Ce=me.v.Promise||Promise),!Ce)throw new Error("no Promise impl found");return Ce}},6490:(Rt,it,ge)=>{"use strict";ge.d(it,{c:()=>K});var c=ge(2494),Be=ge(4449);const K={closed:!0,next(Ie){},error(Ie){if(c.v.useDeprecatedSynchronousErrorHandling)throw Ie;(0,Be.z)(Ie)},complete(){}}},9765:(Rt,it,ge)=>{"use strict";ge.d(it,{Yc:()=>Ve,xQ:()=>Se});var c=ge(7574),Be=ge(7393),K=ge(5319),Ie=ge(7971),Ee=ge(8858),ke=ge(9181);class Ve extends Be.L{constructor(Te){super(Te),this.destination=Te}}let Se=(()=>{class me extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ke.b](){return new Ve(this)}lift(he){const Ce=new Ae(this,this);return Ce.operator=he,Ce}next(he){if(this.closed)throw new Ie.N;if(!this.isStopped){const{observers:Ce}=this,Ne=Ce.length,Ke=Ce.slice();for(let de=0;de<Ne;de++)Ke[de].next(he)}}error(he){if(this.closed)throw new Ie.N;this.hasError=!0,this.thrownError=he,this.isStopped=!0;const{observers:Ce}=this,Ne=Ce.length,Ke=Ce.slice();for(let de=0;de<Ne;de++)Ke[de].error(he);this.observers.length=0}complete(){if(this.closed)throw new Ie.N;this.isStopped=!0;const{observers:he}=this,Ce=he.length,Ne=he.slice();for(let Ke=0;Ke<Ce;Ke++)Ne[Ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(he){if(this.closed)throw new Ie.N;return super._trySubscribe(he)}_subscribe(he){if(this.closed)throw new Ie.N;return this.hasError?(he.error(this.thrownError),K.w.EMPTY):this.isStopped?(he.complete(),K.w.EMPTY):(this.observers.push(he),new Ee.W(this,he))}asObservable(){const he=new c.y;return he.source=this,he}}return me.create=(Te,he)=>new Ae(Te,he),me})();class Ae extends Se{constructor(Te,he){super(),this.destination=Te,this.source=he}next(Te){const{destination:he}=this;he&&he.next&&he.next(Te)}error(Te){const{destination:he}=this;he&&he.error&&this.destination.error(Te)}complete(){const{destination:Te}=this;Te&&Te.complete&&this.destination.complete()}_subscribe(Te){const{source:he}=this;return he?this.source.subscribe(Te):K.w.EMPTY}}},8858:(Rt,it,ge)=>{"use strict";ge.d(it,{W:()=>Be});var c=ge(5319);class Be extends c.w{constructor(Ie,Ee){super(),this.subject=Ie,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ie=this.subject,Ee=Ie.observers;if(this.subject=null,!Ee||0===Ee.length||Ie.isStopped||Ie.closed)return;const ke=Ee.indexOf(this.subscriber);-1!==ke&&Ee.splice(ke,1)}}},7393:(Rt,it,ge)=>{"use strict";ge.d(it,{L:()=>Ve});var c=ge(9105),Be=ge(6490),K=ge(5319),Ie=ge(9181),Ee=ge(2494),ke=ge(4449);class Ve extends K.w{constructor(me,Te,he){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Be.c;break;case 1:if(!me){this.destination=Be.c;break}if("object"==typeof me){me instanceof Ve?(this.syncErrorThrowable=me.syncErrorThrowable,this.destination=me,me.add(this)):(this.syncErrorThrowable=!0,this.destination=new Se(this,me));break}default:this.syncErrorThrowable=!0,this.destination=new Se(this,me,Te,he)}}[Ie.b](){return this}static create(me,Te,he){const Ce=new Ve(me,Te,he);return Ce.syncErrorThrowable=!1,Ce}next(me){this.isStopped||this._next(me)}error(me){this.isStopped||(this.isStopped=!0,this._error(me))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(me){this.destination.next(me)}_error(me){this.destination.error(me),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:me}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=me,this}}class Se extends Ve{constructor(me,Te,he,Ce){super(),this._parentSubscriber=me;let Ne,Ke=this;(0,c.m)(Te)?Ne=Te:Te&&(Ne=Te.next,he=Te.error,Ce=Te.complete,Te!==Be.c&&(Ke=Object.create(Te),(0,c.m)(Ke.unsubscribe)&&this.add(Ke.unsubscribe.bind(Ke)),Ke.unsubscribe=this.unsubscribe.bind(this))),this._context=Ke,this._next=Ne,this._error=he,this._complete=Ce}next(me){if(!this.isStopped&&this._next){const{_parentSubscriber:Te}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable?this.__tryOrSetError(Te,this._next,me)&&this.unsubscribe():this.__tryOrUnsub(this._next,me)}}error(me){if(!this.isStopped){const{_parentSubscriber:Te}=this,{useDeprecatedSynchronousErrorHandling:he}=Ee.v;if(this._error)he&&Te.syncErrorThrowable?(this.__tryOrSetError(Te,this._error,me),this.unsubscribe()):(this.__tryOrUnsub(this._error,me),this.unsubscribe());else if(Te.syncErrorThrowable)he?(Te.syncErrorValue=me,Te.syncErrorThrown=!0):(0,ke.z)(me),this.unsubscribe();else{if(this.unsubscribe(),he)throw me;(0,ke.z)(me)}}}complete(){if(!this.isStopped){const{_parentSubscriber:me}=this;if(this._complete){const Te=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable?(this.__tryOrSetError(me,Te),this.unsubscribe()):(this.__tryOrUnsub(Te),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(me,Te){try{me.call(this._context,Te)}catch(he){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw he;(0,ke.z)(he)}}__tryOrSetError(me,Te,he){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Te.call(this._context,he)}catch(Ce){return Ee.v.useDeprecatedSynchronousErrorHandling?(me.syncErrorValue=Ce,me.syncErrorThrown=!0,!0):((0,ke.z)(Ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:me}=this;this._context=null,this._parentSubscriber=null,me.unsubscribe()}}},5319:(Rt,it,ge)=>{"use strict";ge.d(it,{w:()=>ke});var c=ge(9796),Be=ge(1555),K=ge(9105);const Ee=(()=>{function Se(Ae){return Error.call(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((me,Te)=>`${Te+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae,this}return Se.prototype=Object.create(Error.prototype),Se})();class ke{constructor(Ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ae)}unsubscribe(){let Ae;if(this.closed)return;let{_parentOrParents:me,_ctorUnsubscribe:Te,_unsubscribe:he,_subscriptions:Ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,me instanceof ke)me.remove(this);else if(null!==me)for(let Ne=0;Ne<me.length;++Ne)me[Ne].remove(this);if((0,K.m)(he)){Te&&(this._unsubscribe=void 0);try{he.call(this)}catch(Ne){Ae=Ne instanceof Ee?Ve(Ne.errors):[Ne]}}if((0,c.k)(Ce)){let Ne=-1,Ke=Ce.length;for(;++Ne<Ke;){const de=Ce[Ne];if((0,Be.K)(de))try{de.unsubscribe()}catch(pt){Ae=Ae||[],pt instanceof Ee?Ae=Ae.concat(Ve(pt.errors)):Ae.push(pt)}}}if(Ae)throw new Ee(Ae)}add(Ae){let me=Ae;if(!Ae)return ke.EMPTY;switch(typeof Ae){case"function":me=new ke(Ae);case"object":if(me===this||me.closed||"function"!=typeof me.unsubscribe)return me;if(this.closed)return me.unsubscribe(),me;if(!(me instanceof ke)){const Ce=me;me=new ke,me._subscriptions=[Ce]}break;default:throw new Error("unrecognized teardown "+Ae+" added to Subscription.")}let{_parentOrParents:Te}=me;if(null===Te)me._parentOrParents=this;else if(Te instanceof ke){if(Te===this)return me;me._parentOrParents=[Te,this]}else{if(-1!==Te.indexOf(this))return me;Te.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[me]:he.push(me),me}remove(Ae){const me=this._subscriptions;if(me){const Te=me.indexOf(Ae);-1!==Te&&me.splice(Te,1)}}}var Se;function Ve(Se){return Se.reduce((Ae,me)=>Ae.concat(me instanceof Ee?me.errors:me),[])}ke.EMPTY=((Se=new ke).closed=!0,Se)},2494:(Rt,it,ge)=>{"use strict";ge.d(it,{v:()=>Be});let c=!1;const Be={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const Ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ie.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=K},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Rt,it,ge)=>{"use strict";ge.d(it,{IY:()=>Ie,Ds:()=>ke,ft:()=>Se});var c=ge(7393),Be=ge(7574),K=ge(7444);class Ie extends c.L{constructor(me){super(),this.parent=me}_next(me){this.parent.notifyNext(me)}_error(me){this.parent.notifyError(me),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ke extends c.L{notifyNext(me){this.destination.next(me)}notifyError(me){this.destination.error(me)}notifyComplete(){this.destination.complete()}}function Se(Ae,me){if(me.closed)return;if(Ae instanceof Be.y)return Ae.subscribe(me);let Te;try{Te=(0,K.s)(Ae)(me)}catch(he){me.error(he)}return Te}},2441:(Rt,it,ge)=>{"use strict";ge.d(it,{c:()=>Ee,N:()=>ke});var c=ge(9765),Be=ge(7574),K=ge(5319),Ie=ge(1307);class Ee extends Be.y{constructor(Te,he){super(),this.source=Te,this.subjectFactory=he,this._refCount=0,this._isComplete=!1}_subscribe(Te){return this.getSubject().subscribe(Te)}getSubject(){const Te=this._subject;return(!Te||Te.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Te=this._connection;return Te||(this._isComplete=!1,Te=this._connection=new K.w,Te.add(this.source.subscribe(new Ve(this.getSubject(),this))),Te.closed&&(this._connection=null,Te=K.w.EMPTY)),Te}refCount(){return(0,Ie.x)()(this)}}const ke=(()=>{const me=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:me._subscribe},_isComplete:{value:me._isComplete,writable:!0},getSubject:{value:me.getSubject},connect:{value:me.connect},refCount:{value:me.refCount}}})();class Ve extends c.Yc{constructor(Te,he){super(Te),this.connectable=he}_error(Te){this._unsubscribe(),super._error(Te)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Te=this.connectable;if(Te){this.connectable=null;const he=Te._connection;Te._refCount=0,Te._subject=null,Te._connection=null,he&&he.unsubscribe()}}}},9193:(Rt,it,ge)=>{"use strict";ge.d(it,{E:()=>Be,c:()=>K});var c=ge(7574);const Be=new c.y(Ee=>Ee.complete());function K(Ee){return Ee?function(Ee){return new c.y(ke=>Ee.schedule(()=>ke.complete()))}(Ee):Be}},4402:(Rt,it,ge)=>{"use strict";ge.d(it,{D:()=>Ke});var c=ge(7574),Be=ge(7444),K=ge(5319),Ie=ge(6554),Ve=ge(4087),Se=ge(377),Te=ge(4072),he=ge(9489);function Ke(de,pt){return pt?function(de,pt){if(null!=de){if(function(de){return de&&"function"==typeof de[Ie.L]}(de))return function(de,pt){return new c.y(tt=>{const Pe=new K.w;return Pe.add(pt.schedule(()=>{const yn=de[Ie.L]();Pe.add(yn.subscribe({next(Kn){Pe.add(pt.schedule(()=>tt.next(Kn)))},error(Kn){Pe.add(pt.schedule(()=>tt.error(Kn)))},complete(){Pe.add(pt.schedule(()=>tt.complete()))}}))})),Pe})}(de,pt);if((0,Te.t)(de))return function(de,pt){return new c.y(tt=>{const Pe=new K.w;return Pe.add(pt.schedule(()=>de.then(yn=>{Pe.add(pt.schedule(()=>{tt.next(yn),Pe.add(pt.schedule(()=>tt.complete()))}))},yn=>{Pe.add(pt.schedule(()=>tt.error(yn)))}))),Pe})}(de,pt);if((0,he.z)(de))return(0,Ve.r)(de,pt);if(function(de){return de&&"function"==typeof de[Se.hZ]}(de)||"string"==typeof de)return function(de,pt){if(!de)throw new Error("Iterable cannot be null");return new c.y(tt=>{const Pe=new K.w;let yn;return Pe.add(()=>{yn&&"function"==typeof yn.return&&yn.return()}),Pe.add(pt.schedule(()=>{yn=de[Se.hZ](),Pe.add(pt.schedule(function(){if(tt.closed)return;let Kn,vt;try{const Dn=yn.next();Kn=Dn.value,vt=Dn.done}catch(Dn){return void tt.error(Dn)}vt?tt.complete():(tt.next(Kn),this.schedule())}))})),Pe})}(de,pt)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,pt):de instanceof c.y?de:new c.y((0,Be.s)(de))}},6693:(Rt,it,ge)=>{"use strict";ge.d(it,{n:()=>Ie});var c=ge(7574),Be=ge(5015),K=ge(4087);function Ie(Ee,ke){return ke?(0,K.r)(Ee,ke):new c.y((0,Be.V)(Ee))}},6682:(Rt,it,ge)=>{"use strict";ge.d(it,{T:()=>Ee});var c=ge(7574),Be=ge(4869),K=ge(3282),Ie=ge(6693);function Ee(...ke){let Ve=Number.POSITIVE_INFINITY,Se=null,Ae=ke[ke.length-1];return(0,Be.K)(Ae)?(Se=ke.pop(),ke.length>1&&"number"==typeof ke[ke.length-1]&&(Ve=ke.pop())):"number"==typeof Ae&&(Ve=ke.pop()),null===Se&&1===ke.length&&ke[0]instanceof c.y?ke[0]:(0,K.J)(Ve)((0,Ie.n)(ke,Se))}},5917:(Rt,it,ge)=>{"use strict";ge.d(it,{of:()=>Ie});var c=ge(4869),Be=ge(6693),K=ge(4087);function Ie(...Ee){let ke=Ee[Ee.length-1];return(0,c.K)(ke)?(Ee.pop(),(0,K.r)(Ee,ke)):(0,Be.n)(Ee)}},205:(Rt,it,ge)=>{"use strict";ge.d(it,{_:()=>Be});var c=ge(7574);function Be(Ie,Ee){return new c.y(Ee?ke=>Ee.schedule(K,0,{error:Ie,subscriber:ke}):ke=>ke.error(Ie))}function K({error:Ie,subscriber:Ee}){Ee.error(Ie)}},8002:(Rt,it,ge)=>{"use strict";ge.d(it,{U:()=>Be});var c=ge(7393);function Be(Ee,ke){return function(Se){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Se.lift(new K(Ee,ke))}}class K{constructor(ke,Ve){this.project=ke,this.thisArg=Ve}call(ke,Ve){return Ve.subscribe(new Ie(ke,this.project,this.thisArg))}}class Ie extends c.L{constructor(ke,Ve,Se){super(ke),this.project=Ve,this.count=0,this.thisArg=Se||this}_next(ke){let Ve;try{Ve=this.project.call(this.thisArg,ke,this.count++)}catch(Se){return void this.destination.error(Se)}this.destination.next(Ve)}}},3282:(Rt,it,ge)=>{"use strict";ge.d(it,{J:()=>K});var c=ge(9773),Be=ge(4487);function K(Ie=Number.POSITIVE_INFINITY){return(0,c.zg)(Be.y,Ie)}},9773:(Rt,it,ge)=>{"use strict";ge.d(it,{zg:()=>Ie});var c=ge(8002),Be=ge(4402),K=ge(5345);function Ie(Se,Ae,me=Number.POSITIVE_INFINITY){return"function"==typeof Ae?Te=>Te.pipe(Ie((he,Ce)=>(0,Be.D)(Se(he,Ce)).pipe((0,c.U)((Ne,Ke)=>Ae(he,Ne,Ce,Ke))),me)):("number"==typeof Ae&&(me=Ae),Te=>Te.lift(new Ee(Se,me)))}class Ee{constructor(Ae,me=Number.POSITIVE_INFINITY){this.project=Ae,this.concurrent=me}call(Ae,me){return me.subscribe(new ke(Ae,this.project,this.concurrent))}}class ke extends K.Ds{constructor(Ae,me,Te=Number.POSITIVE_INFINITY){super(Ae),this.project=me,this.concurrent=Te,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ae){this.active<this.concurrent?this._tryNext(Ae):this.buffer.push(Ae)}_tryNext(Ae){let me;const Te=this.index++;try{me=this.project(Ae,Te)}catch(he){return void this.destination.error(he)}this.active++,this._innerSub(me)}_innerSub(Ae){const me=new K.IY(this),Te=this.destination;Te.add(me);const he=(0,K.ft)(Ae,me);he!==me&&Te.add(he)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ae){this.destination.next(Ae)}notifyComplete(){const Ae=this.buffer;this.active--,Ae.length>0?this._next(Ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Rt,it,ge)=>{"use strict";ge.d(it,{ht:()=>Ae,QV:()=>Ve});var c=ge(7393),Be=ge(9193),K=ge(5917),Ie=ge(205);class ke{constructor(he,Ce,Ne){this.kind=he,this.value=Ce,this.error=Ne,this.hasValue="N"===he}observe(he){switch(this.kind){case"N":return he.next&&he.next(this.value);case"E":return he.error&&he.error(this.error);case"C":return he.complete&&he.complete()}}do(he,Ce,Ne){switch(this.kind){case"N":return he&&he(this.value);case"E":return Ce&&Ce(this.error);case"C":return Ne&&Ne()}}accept(he,Ce,Ne){return he&&"function"==typeof he.next?this.observe(he):this.do(he,Ce,Ne)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return(0,Ie._)(this.error);case"C":return(0,Be.c)()}throw new Error("unexpected notification kind value")}static createNext(he){return void 0!==he?new ke("N",he):ke.undefinedValueNotification}static createError(he){return new ke("E",void 0,he)}static createComplete(){return ke.completeNotification}}function Ve(Te,he=0){return function(Ne){return Ne.lift(new Se(Te,he))}}ke.completeNotification=new ke("C"),ke.undefinedValueNotification=new ke("N",void 0);class Se{constructor(he,Ce=0){this.scheduler=he,this.delay=Ce}call(he,Ce){return Ce.subscribe(new Ae(he,this.scheduler,this.delay))}}class Ae extends c.L{constructor(he,Ce,Ne=0){super(he),this.scheduler=Ce,this.delay=Ne}static dispatch(he){const{notification:Ce,destination:Ne}=he;Ce.observe(Ne),this.unsubscribe()}scheduleMessage(he){this.destination.add(this.scheduler.schedule(Ae.dispatch,this.delay,new me(he,this.destination)))}_next(he){this.scheduleMessage(ke.createNext(he))}_error(he){this.scheduleMessage(ke.createError(he)),this.unsubscribe()}_complete(){this.scheduleMessage(ke.createComplete()),this.unsubscribe()}}class me{constructor(he,Ce){this.notification=he,this.destination=Ce}}},1307:(Rt,it,ge)=>{"use strict";ge.d(it,{x:()=>Be});var c=ge(7393);function Be(){return function(ke){return ke.lift(new K(ke))}}class K{constructor(ke){this.connectable=ke}call(ke,Ve){const{connectable:Se}=this;Se._refCount++;const Ae=new Ie(ke,Se),me=Ve.subscribe(Ae);return Ae.closed||(Ae.connection=Se.connect()),me}}class Ie extends c.L{constructor(ke,Ve){super(ke),this.connectable=Ve}_unsubscribe(){const{connectable:ke}=this;if(!ke)return void(this.connection=null);this.connectable=null;const Ve=ke._refCount;if(Ve<=0)return void(this.connection=null);if(ke._refCount=Ve-1,Ve>1)return void(this.connection=null);const{connection:Se}=this,Ae=ke._connection;this.connection=null,Ae&&(!Se||Ae===Se)&&Ae.unsubscribe()}}},8819:(Rt,it,ge)=>{"use strict";ge.d(it,{B:()=>Ve});var c=ge(2441);var Ie=ge(1307),Ee=ge(9765);function ke(){return new Ee.xQ}function Ve(){return Se=>(0,Ie.x)()(function(Se,Ae){return function(Te){let he;he="function"==typeof Se?Se:function(){return Se};const Ce=Object.create(Te,c.N);return Ce.source=Te,Ce.subjectFactory=he,Ce}}(ke)(Se))}},9673:(Rt,it,ge)=>{"use strict";ge.d(it,{R:()=>Ee});var c=ge(7574),Be=ge(4581),K=ge(6561);class Ie extends c.y{constructor(Se,Ae=0,me=Be.e){super(),this.source=Se,this.delayTime=Ae,this.scheduler=me,(!(0,K.k)(Ae)||Ae<0)&&(this.delayTime=0),(!me||"function"!=typeof me.schedule)&&(this.scheduler=Be.e)}static create(Se,Ae=0,me=Be.e){return new Ie(Se,Ae,me)}static dispatch(Se){const{source:Ae,subscriber:me}=Se;return this.add(Ae.subscribe(me))}_subscribe(Se){return this.scheduler.schedule(Ie.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function Ee(Ve,Se=0){return function(me){return me.lift(new ke(Ve,Se))}}class ke{constructor(Se,Ae){this.scheduler=Se,this.delay=Ae}call(Se,Ae){return new Ie(Ae,this.delay,this.scheduler).subscribe(Se)}}},3342:(Rt,it,ge)=>{"use strict";ge.d(it,{b:()=>Ie});var c=ge(7393);function Be(){}var K=ge(9105);function Ie(Ve,Se,Ae){return function(Te){return Te.lift(new Ee(Ve,Se,Ae))}}class Ee{constructor(Se,Ae,me){this.nextOrObserver=Se,this.error=Ae,this.complete=me}call(Se,Ae){return Ae.subscribe(new ke(Se,this.nextOrObserver,this.error,this.complete))}}class ke extends c.L{constructor(Se,Ae,me,Te){super(Se),this._tapNext=Be,this._tapError=Be,this._tapComplete=Be,this._tapError=me||Be,this._tapComplete=Te||Be,(0,K.m)(Ae)?(this._context=this,this._tapNext=Ae):Ae&&(this._context=Ae,this._tapNext=Ae.next||Be,this._tapError=Ae.error||Be,this._tapComplete=Ae.complete||Be)}_next(Se){try{this._tapNext.call(this._context,Se)}catch(Ae){return void this.destination.error(Ae)}this.destination.next(Se)}_error(Se){try{this._tapError.call(this._context,Se)}catch(Ae){return void this.destination.error(Ae)}this.destination.error(Se)}_complete(){try{this._tapComplete.call(this._context)}catch(Se){return void this.destination.error(Se)}return this.destination.complete()}}},4087:(Rt,it,ge)=>{"use strict";ge.d(it,{r:()=>K});var c=ge(7574),Be=ge(5319);function K(Ie,Ee){return new c.y(ke=>{const Ve=new Be.w;let Se=0;return Ve.add(Ee.schedule(function(){Se!==Ie.length?(ke.next(Ie[Se++]),ke.closed||Ve.add(this.schedule())):ke.complete()})),Ve})}},6465:(Rt,it,ge)=>{"use strict";ge.d(it,{o:()=>K});var c=ge(5319);class Be extends c.w{constructor(Ee,ke){super()}schedule(Ee,ke=0){return this}}class K extends Be{constructor(Ee,ke){super(Ee,ke),this.scheduler=Ee,this.work=ke,this.pending=!1}schedule(Ee,ke=0){if(this.closed)return this;this.state=Ee;const Ve=this.id,Se=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(Se,Ve,ke)),this.pending=!0,this.delay=ke,this.id=this.id||this.requestAsyncId(Se,this.id,ke),this}requestAsyncId(Ee,ke,Ve=0){return setInterval(Ee.flush.bind(Ee,this),Ve)}recycleAsyncId(Ee,ke,Ve=0){if(null!==Ve&&this.delay===Ve&&!1===this.pending)return ke;clearInterval(ke)}execute(Ee,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ee,ke);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ke){let Se,Ve=!1;try{this.work(Ee)}catch(Ae){Ve=!0,Se=!!Ae&&Ae||new Error(Ae)}if(Ve)return this.unsubscribe(),Se}_unsubscribe(){const Ee=this.id,ke=this.scheduler,Ve=ke.actions,Se=Ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Se&&Ve.splice(Se,1),null!=Ee&&(this.id=this.recycleAsyncId(ke,Ee,null)),this.delay=null}}},6102:(Rt,it,ge)=>{"use strict";ge.d(it,{v:()=>Be});let c=(()=>{class K{constructor(Ee,ke=K.now){this.SchedulerAction=Ee,this.now=ke}schedule(Ee,ke=0,Ve){return new this.SchedulerAction(this,Ee).schedule(Ve,ke)}}return K.now=()=>Date.now(),K})();class Be extends c{constructor(Ie,Ee=c.now){super(Ie,()=>Be.delegate&&Be.delegate!==this?Be.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ie,Ee=0,ke){return Be.delegate&&Be.delegate!==this?Be.delegate.schedule(Ie,Ee,ke):super.schedule(Ie,Ee,ke)}flush(Ie){const{actions:Ee}=this;if(this.active)return void Ee.push(Ie);let ke;this.active=!0;do{if(ke=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Ee.shift());if(this.active=!1,ke){for(;Ie=Ee.shift();)Ie.unsubscribe();throw ke}}}},4581:(Rt,it,ge)=>{"use strict";ge.d(it,{e:()=>he,E:()=>Te});let c=1;const Be=Promise.resolve(),K={};function Ie(Ce){return Ce in K&&(delete K[Ce],!0)}const Ee={setImmediate(Ce){const Ne=c++;return K[Ne]=!0,Be.then(()=>Ie(Ne)&&Ce()),Ne},clearImmediate(Ce){Ie(Ce)}};var Ve=ge(6465),Ae=ge(6102);const Te=new class extends Ae.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:Ke}=this;let de,pt=-1,tt=Ke.length;Ne=Ne||Ke.shift();do{if(de=Ne.execute(Ne.state,Ne.delay))break}while(++pt<tt&&(Ne=Ke.shift()));if(this.active=!1,de){for(;++pt<tt&&(Ne=Ke.shift());)Ne.unsubscribe();throw de}}}(class extends Ve.o{constructor(Ne,Ke){super(Ne,Ke),this.scheduler=Ne,this.work=Ke}requestAsyncId(Ne,Ke,de=0){return null!==de&&de>0?super.requestAsyncId(Ne,Ke,de):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=Ee.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,Ke,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(Ne,Ke,de);0===Ne.actions.length&&(Ee.clearImmediate(Ke),Ne.scheduled=void 0)}}),he=Te},3637:(Rt,it,ge)=>{"use strict";ge.d(it,{z:()=>K,P:()=>Ie});var c=ge(6465);const K=new(ge(6102).v)(c.o),Ie=K},7771:(Rt,it,ge)=>{"use strict";ge.d(it,{c:()=>ke,N:()=>Ee});var c=ge(6465),K=ge(6102);const Ee=new class extends K.v{}(class extends c.o{constructor(Se,Ae){super(Se,Ae),this.scheduler=Se,this.work=Ae}schedule(Se,Ae=0){return Ae>0?super.schedule(Se,Ae):(this.delay=Ae,this.state=Se,this.scheduler.flush(this),this)}execute(Se,Ae){return Ae>0||this.closed?super.execute(Se,Ae):this._execute(Se,Ae)}requestAsyncId(Se,Ae,me=0){return null!==me&&me>0||null===me&&this.delay>0?super.requestAsyncId(Se,Ae,me):Se.flush(this)}}),ke=Ee},377:(Rt,it,ge)=>{"use strict";ge.d(it,{hZ:()=>Be});const Be="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Rt,it,ge)=>{"use strict";ge.d(it,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Rt,it,ge)=>{"use strict";ge.d(it,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Rt,it,ge)=>{"use strict";ge.d(it,{N:()=>Be});const Be=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},4449:(Rt,it,ge)=>{"use strict";function c(Be){setTimeout(()=>{throw Be},0)}ge.d(it,{z:()=>c})},4487:(Rt,it,ge)=>{"use strict";function c(Be){return Be}ge.d(it,{y:()=>c})},9796:(Rt,it,ge)=>{"use strict";ge.d(it,{k:()=>c});const c=Array.isArray||(Be=>Be&&"number"==typeof Be.length)},9489:(Rt,it,ge)=>{"use strict";ge.d(it,{z:()=>c});const c=Be=>Be&&"number"==typeof Be.length&&"function"!=typeof Be},9105:(Rt,it,ge)=>{"use strict";function c(Be){return"function"==typeof Be}ge.d(it,{m:()=>c})},6561:(Rt,it,ge)=>{"use strict";ge.d(it,{k:()=>Be});var c=ge(9796);function Be(K){return!(0,c.k)(K)&&K-parseFloat(K)+1>=0}},1555:(Rt,it,ge)=>{"use strict";function c(Be){return null!==Be&&"object"==typeof Be}ge.d(it,{K:()=>c})},4072:(Rt,it,ge)=>{"use strict";function c(Be){return!!Be&&"function"!=typeof Be.subscribe&&"function"==typeof Be.then}ge.d(it,{t:()=>c})},4869:(Rt,it,ge)=>{"use strict";function c(Be){return Be&&"function"==typeof Be.schedule}ge.d(it,{K:()=>c})},7444:(Rt,it,ge)=>{"use strict";ge.d(it,{s:()=>Te});var c=ge(5015),Be=ge(4449),Ie=ge(377),ke=ge(6554),Se=ge(9489),Ae=ge(4072),me=ge(1555);const Te=he=>{if(he&&"function"==typeof he[ke.L])return(he=>Ce=>{const Ne=he[ke.L]();if("function"!=typeof Ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ne.subscribe(Ce)})(he);if((0,Se.z)(he))return(0,c.V)(he);if((0,Ae.t)(he))return(he=>Ce=>(he.then(Ne=>{Ce.closed||(Ce.next(Ne),Ce.complete())},Ne=>Ce.error(Ne)).then(null,Be.z),Ce))(he);if(he&&"function"==typeof he[Ie.hZ])return(he=>Ce=>{const Ne=he[Ie.hZ]();for(;;){let Ke;try{Ke=Ne.next()}catch(de){return Ce.error(de),Ce}if(Ke.done){Ce.complete();break}if(Ce.next(Ke.value),Ce.closed)break}return"function"==typeof Ne.return&&Ce.add(()=>{Ne.return&&Ne.return()}),Ce})(he);{const Ne=`You provided ${(0,me.K)(he)?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ne)}}},5015:(Rt,it,ge)=>{"use strict";ge.d(it,{V:()=>c});const c=Be=>K=>{for(let Ie=0,Ee=Be.length;Ie<Ee&&!K.closed;Ie++)K.next(Be[Ie]);K.complete()}},6739:(Rt,it,ge)=>{"use strict";var c=ge(7716);let Be=null;function K(){return Be}const Ve=new c.OlP("DocumentToken");let Se=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:Ae,token:i,providedIn:"platform"}),i})();function Ae(){return(0,c.LFG)(Te)}const me=new c.OlP("Location Initialized");let Te=(()=>{class i extends Se{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(e){const s=K().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=K().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,o){he()?this._history.pushState(e,s,o):this.location.hash=o}replaceState(e,s,o){he()?this._history.replaceState(e,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:Ce,token:i,providedIn:"platform"}),i})();function he(){return!!window.history.pushState}function Ce(){return new Te((0,c.LFG)(Ve))}function Ne(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Ke(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function de(i){return i&&"?"!==i[0]?"?"+i:i}let pt=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:tt,token:i,providedIn:"root"}),i})();function tt(i){const t=(0,c.LFG)(Ve).location;return new yn((0,c.LFG)(Se),t&&t.origin||"")}const Pe=new c.OlP("appBaseHref");let yn=(()=>{class i extends pt{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${s}${o}`:s}pushState(e,s,o,d){const m=this.prepareExternalUrl(o+de(d));this._platformLocation.pushState(e,s,m)}replaceState(e,s,o,d){const m=this.prepareExternalUrl(o+de(d));this._platformLocation.replaceState(e,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Se),c.LFG(Pe,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),Kn=(()=>{class i extends pt{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ne(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,o,d){let m=this.prepareExternalUrl(o+de(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(e,s,m)}replaceState(e,s,o,d){let m=this.prepareExternalUrl(o+de(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Se),c.LFG(Pe,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),vt=(()=>{class i{constructor(e,s){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ke(gn(o)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+de(s))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,gn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",o=null){this._platformStrategy.pushState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(s)),o)}replaceState(e,s="",o=null){this._platformStrategy.replaceState(o,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(o=>o(e,s))}subscribe(e,s,o){return this._subject.subscribe({next:e,error:s,complete:o})}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(pt),c.LFG(Se))},i.normalizeQueryParams=de,i.joinWithSlash=Ne,i.stripTrailingSlash=Ke,i.\u0275prov=(0,c.Yz7)({factory:Dn,token:i,providedIn:"root"}),i})();function Dn(){return new vt((0,c.LFG)(pt),(0,c.LFG)(Se))}function gn(i){return i.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Zero=0]="Zero",Ue[Ue.One=1]="One",Ue[Ue.Two=2]="Two",Ue[Ue.Few=3]="Few",Ue[Ue.Many=4]="Many",Ue[Ue.Other=5]="Other",Ue))();const dn=c.kL8;class ${}let se=(()=>{class i extends ${constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(dn(s||this.locale)(e)){case Ue.Zero:return"zero";case Ue.One:return"one";case Ue.Two:return"two";case Ue.Few:return"few";case Ue.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.soG))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();let H=(()=>{class i{constructor(e,s,o,d){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=o,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class ee{constructor(t,e,s,o){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pe=(()=>{class i{constructor(e,s,o){this._viewContainer=e,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((o,d,m)=>{if(null==o.previousIndex){const C=this._viewContainer.createEmbeddedView(this._template,new ee(null,this._ngForOf,-1,-1),null===m?void 0:m),I=new Fe(o,C);s.push(I)}else if(null==m)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const C=this._viewContainer.get(d);this._viewContainer.move(C,m);const I=new Fe(o,C);s.push(I)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,d=this._viewContainer.length;o<d;o++){const m=this._viewContainer.get(o);m.context.index=o,m.context.count=d,m.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Fe{constructor(t,e){this.record=t,this.view=e}}let Qe=(()=>{class i{constructor(e,s){this._viewContainer=e,this._context=new rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){dt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){dt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class rt{constructor(){this.$implicit=null,this.ngIf=null}}function dt(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class It{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let un=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),St=(()=>{class i{constructor(e,s,o){this.ngSwitch=o,o._addCase(),this._view=new It(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(un,9))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Ht=(()=>{class i{constructor(e,s,o){o._addDefault(new It(e,s))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(un,9))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),oi=(()=>{class i{constructor(e,s,o){this._ngEl=e,this._differs=s,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[o,d]=e.split(".");null!=(s=null!=s&&d?`${s}${d}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,o,s):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})(),tl=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b))},i.\u0275dir=c.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),i})();class du{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class gi{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}onDestroy(t){}}const Gi=new gi,nl=new du;let $f=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,c.QGY)(e))return Gi;if((0,c.F4k)(e))return nl;throw function(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,c.AaK)(i)}'`)}(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.sBO,16))},i.\u0275pipe=c.Yjl({name:"async",type:i,pure:!1}),i})(),Ni=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[{provide:$,useClass:se}]}),i})();function ep(i){return"server"===i}let Hn=(()=>{class i{}return i.\u0275prov=(0,c.Yz7)({token:i,providedIn:"root",factory:()=>new Sm((0,c.LFG)(Ve),window)}),i})();class Sm{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const d=o.shadowRoot;if(d){const m=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(m)return m}o=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],o-d[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=qh(this.window.history)||qh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function qh(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ql extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ql,Be||(Be=i)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=($t=$t||document.querySelector("base"),$t?$t.getAttribute("href"):null);return null==e?null:function(i){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",i);const t=Wn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){$t=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const s=e.indexOf("="),[o,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(o.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Wn,$t=null;const ai=new c.OlP("TRANSITION_ID"),bs=[{provide:c.ip1,useFactory:function(i,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const s=K();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(d=>d.getAttribute("ng-transition")===i).forEach(d=>s.remove(d))})}},deps:[ai,Ve,c.zs3],multi:!0}];class pu{static init(){(0,c.VLi)(new pu)}addToWindow(t){c.dqk.getAngularTestability=(s,o=!0)=>{const d=t.findTestabilityInTree(s,o);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const o=c.dqk.getAllAngularTestabilities();let d=o.length,m=!1;const C=function(I){m=m||I,d--,0==d&&s(m)};o.forEach(function(I){I.whenStable(C)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:s?K().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ma=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const vu=new c.OlP("EventManagerPlugins");let st=(()=>{class i{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,o){return this._findPluginFor(s).addEventListener(e,s,o)}addGlobalEventListener(e,s,o){return this._findPluginFor(s).addGlobalEventListener(e,s,o)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const o=this._plugins;for(let d=0;d<o.length;d++){const m=o[d];if(m.supports(e))return this._eventNameToPlugin.set(e,m),m}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(vu),c.LFG(c.R0b))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class bn{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const o=K().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,s)}}let yu=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),li=(()=>{class i extends yu{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,o){e.forEach(d=>{const m=this._doc.createElement("style");m.textContent=d,o.push(s.appendChild(m))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(_u),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(e,o,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_u))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function _u(i){K().remove(i)}const rl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vr=/%COMP%/g;function Di(i,t,e){for(let s=0;s<t.length;s++){let o=t[s];Array.isArray(o)?Di(i,o,e):(o=o.replace(vr,i),e.push(o))}return e}function Jr(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let oo=(()=>{class i{constructor(e,s,o){this.eventManager=e,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new xs(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new z_(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new Pr(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const o=Di(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(st),c.LFG(li),c.LFG(c.AFp))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class xs{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,o){if(o){e=o+":"+e;const d=rl[o];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const o=rl[s];o?t.removeAttributeNS(o,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,s,o&c.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Jr(s)):this.eventManager.addEventListener(t,e,Jr(s))}}class z_ extends xs{constructor(t,e,s,o){super(t),this.component=s;const d=Di(o+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(vr,o+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(vr,i)}(o+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Pr extends xs{constructor(t,e,s,o){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Di(o.id,o.styles,[]);for(let m=0;m<d.length;m++){const C=document.createElement("style");C.textContent=d[m],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wu=(()=>{class i extends bn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,o){return e.addEventListener(s,o,!1),()=>this.removeEventListener(e,s,o)}removeEventListener(e,s,o){return e.removeEventListener(s,o)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Fo=["alt","control","meta","shift"],Y_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jh={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let W_=(()=>{class i extends bn{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,s,o){const d=i.parseEventName(s),m=i.eventCallback(d.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>K().onAndCancel(e,d.domEventName,m))}static parseEventName(e){const s=e.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const d=i._normalizeKey(s.pop());let m="";if(Fo.forEach(I=>{const F=s.indexOf(I);F>-1&&(s.splice(F,1),m+=I+".")}),m+=d,0!=s.length||0===d.length)return null;const C={};return C.domEventName=o,C.fullKey=m,C}static getEventFullKey(e){let s="",o=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Fi.hasOwnProperty(t)&&(t=Fi[t]))}return Y_[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Fo.forEach(d=>{d!=o&&Jh[d](e)&&(s+=d+".")}),s+=o,s}static eventCallback(e,s,o){return d=>{i.getEventFullKey(d)===e&&o.runGuarded(()=>s(d))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Sa=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){ql.makeCurrent(),pu.init()},multi:!0},{provide:Ve,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),rp=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:vu,useClass:wu,multi:!0,deps:[Ve,c.R0b,c.Lbi]},{provide:vu,useClass:W_,multi:!0,deps:[Ve]},[],{provide:oo,useClass:oo,deps:[st,li,c.AFp]},{provide:c.FYo,useExisting:oo},{provide:yu,useExisting:li},{provide:li,useClass:li,deps:[Ve]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:st,useClass:st,deps:[vu,c.R0b]},{provide:class{},useClass:ma,deps:[]},[]];let sp=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:c.AFp,useValue:e.appId},{provide:ai,useExisting:c.AFp},bs]}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(i,12))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:rp,imports:[Ni,c.hGG]}),i})();"undefined"!=typeof window&&window;const nd_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var Tn=ge(57),Lo=ge(3637),ci=ge(7574),Mt=ge(5917),ws=ge(6682),Pt=ge(8002),cp=ge(8819),ei=ge(4402),_r=ge(5345);function Qn(i,t){return"function"==typeof t?e=>e.pipe(Qn((s,o)=>(0,ei.D)(i(s,o)).pipe((0,Pt.U)((d,m)=>t(s,d,o,m))))):e=>e.lift(new Kl(i))}class Kl{constructor(t){this.project=t}call(t,e){return e.subscribe(new X_(t,this.project))}}class X_ extends _r.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const s=new _r.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,_r.ft)(t,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var tr=ge(7393);function ao(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new Jl(i,t,e))}}class Jl{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new Bm(t,this.accumulator,this.seed,this.hasSeed))}}class Bm extends tr.L{constructor(t,e,s,o){super(t),this.accumulator=e,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function ec(i,t){return e=>e.lift(new up(i,t))}class up{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tc(t,this.compare,this.keySelector))}}class tc extends tr.L{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:o}=this;e=o?o(t):t}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}class ul extends tr.L{notifyNext(t,e,s,o,d){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class nc extends tr.L{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ic=ge(7444);function id(i,t,e,s,o=new nc(i,e,s)){if(!o.closed)return t instanceof ci.y?t.subscribe(o):(0,ic.s)(t)(o)}class $_{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new dC(t,this.observables,this.project))}}class dC extends ul{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let d=0;d<o;d++)this.toRespond.push(d);for(let d=0;d<o;d++)this.add(id(this,e[d],void 0,d))}notifyNext(t,e,s){this.values[s]=e;const o=this.toRespond;if(o.length>0){const d=o.indexOf(s);-1!==d&&o.splice(d,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class hp{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Um(t,this.predicate))}}class Um extends tr.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}ge(9192);var Lt=ge(9765),Vo=ge(6136),zm=ge(7771),Cs=ge(5319),Z_=ge(7971),fC=ge(8858);class Q_ extends Lt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new hl(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,d=s.length;let m;if(this.closed)throw new Z_.N;if(this.isStopped||this.hasError?m=Cs.w.EMPTY:(this.observers.push(t),m=new fC.W(this,t)),o&&t.add(t=new Vo.ht(t,o)),e)for(let C=0;C<d&&!t.closed;C++)t.next(s[C]);else for(let C=0;C<d&&!t.closed;C++)t.next(s[C].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),m}_getNow(){return(this.scheduler||zm.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,o=this._events,d=o.length;let m=0;for(;m<d&&!(t-o[m].time<s);)m++;return d>e&&(m=Math.max(m,d-e)),m>0&&o.splice(0,m),o}}class hl{constructor(t,e){this.time=t,this.value=e}}function dp(i,t,e){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:e},o=>o.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let o,m,d=0,C=!1,I=!1;return function(z){let X;d++,!o||C?(C=!1,o=new Q_(i,t,s),X=o.subscribe(this),m=z.subscribe({next(te){o.next(te)},error(te){C=!0,o.error(te)},complete(){I=!0,m=void 0,o.complete()}}),I&&(m=void 0)):X=o.subscribe(this),this.add(()=>{d--,X.unsubscribe(),X=void 0,m&&!I&&e&&0===d&&(m.unsubscribe(),m=void 0,o=void 0)})}}(s))}const zs=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Si(i,t){return function(s){return s.lift(new Li(i,t))}}class Li{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rd(t,this.predicate,this.thisArg))}}class rd extends tr.L{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}const jm=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var js=ge(9193);function Un(i){return t=>0===i?(0,js.c)():t.lift(new nr(i))}class nr{constructor(t){if(this.total=t,this.total<0)throw new jm}call(t,e){return e.subscribe(new Aa(t,this.total))}}class Aa extends tr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Ta(i=null){return t=>t.lift(new Da(i))}class Da{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Gm(t,this.defaultValue))}}class Gm extends tr.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function sd(i=eb){return t=>t.lift(new J_(i))}class J_{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new pC(t,this.errorFactory))}}class pC extends tr.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function eb(){return new zs}var sc=ge(4487);function Vi(i,t){const e=arguments.length>=2;return s=>s.pipe(i?Si((o,d)=>i(o,d,s)):sc.y,Un(1),e?Ta(t):sd(()=>new zs))}function Bo(i,t){return t?Qn(()=>i,t):Qn(()=>i)}var Ho=ge(9673);const Ia=new c.OlP("angularfire2.auth.use-emulator"),Du=new c.OlP("angularfire2.auth.settings"),Iu=new c.OlP("angularfire2.auth.tenant-id"),od=new c.OlP("angularfire2.auth.langugage-code"),ad=new c.OlP("angularfire2.auth.use-device-language"),ld=new c.OlP("angularfire.auth.persistence");let Ss=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z,X){const te=new Tn.HU(d),oe=(0,Tn.ss)(te),ue=new Lt.xQ,xe=(0,Mt.of)(void 0).pipe((0,Vo.QV)(te.outsideAngular),Qn(()=>d.runOutsideAngular(()=>ge.e(336).then(ge.bind(ge,1336)))),(0,Pt.U)(()=>(0,Tn.on)(e,d,s)),(0,Pt.U)(Oe=>d.runOutsideAngular(()=>{const qe=m,ot=C;return(0,Tn.sI)(`${Oe.name}.auth`,"AngularFireAuth",Oe,()=>{const at=d.runOutsideAngular(()=>Oe.auth());if(qe&&at.useEmulator(`http://${qe.join(":")}`),I&&(at.tenantId=I),at.languageCode=F,z&&at.useDeviceLanguage(),ot)for(const[Et,Ot]of Object.entries(ot))at.settings[Et]=Ot;return X&&at.setPersistence(X),at},[qe,I,F,z,ot,X])})),dp({bufferSize:1,refCount:!1}));if(ep(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Mt.of)(null);else{xe.pipe(Vi()).subscribe();const qe=xe.pipe(Qn(Ot=>Ot.getRedirectResult().then(hn=>hn,()=>null)),oe,dp({bufferSize:1,refCount:!1})),ot=Ot=>new ci.y(hn=>({unsubscribe:d.runOutsideAngular(()=>Ot(hn))})),at=xe.pipe(Qn(Ot=>ot(Ot.onAuthStateChanged.bind(Ot)))),Et=xe.pipe(Qn(Ot=>ot(Ot.onIdTokenChanged.bind(Ot))));this.authState=qe.pipe(Bo(at),(0,Ho.R)(te.outsideAngular),(0,Vo.QV)(te.insideAngular)),this.user=qe.pipe(Bo(Et),(0,Ho.R)(te.outsideAngular),(0,Vo.QV)(te.insideAngular)),this.idToken=this.user.pipe(Qn(Ot=>Ot?(0,ei.D)(Ot.getIdToken()):(0,Mt.of)(null))),this.idTokenResult=this.user.pipe(Qn(Ot=>Ot?(0,ei.D)(Ot.getIdTokenResult()):(0,Mt.of)(null))),this.credential=(0,ws.T)(qe,ue,this.authState.pipe(Si(Ot=>!Ot))).pipe((0,Pt.U)(Ot=>(null==Ot?void 0:Ot.user)?Ot:null),(0,Ho.R)(te.outsideAngular),(0,Vo.QV)(te.insideAngular))}return(0,Tn.pX)(this,xe,d,{spy:{apply:(Oe,qe,ot)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&ot.then(at=>ue.next(at))}}})}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ia,8),c.LFG(Du,8),c.LFG(Iu,8),c.LFG(od,8),c.LFG(ad,8),c.LFG(ld,8))},i.\u0275prov=c.Yz7({factory:function(){return new i(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ia,8),c.LFG(Du,8),c.LFG(Iu,8),c.LFG(od,8),c.LFG(ad,8),c.LFG(ld,8))},token:i,providedIn:"any"}),i})();var Mu=ge(2329);function cd(i){return null==i}function dl(i){return"function"==typeof i.set}function Ym(i,t){return dl(t)?t:i.ref(t)}function pp(i,t){if(function(i){return"string"==typeof i}(i))return t.stringCase();if(dl(i))return t.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Ru(i,t,e="on",s=Lo.z){return new ci.y(o=>{let d=null;return d=i[e](t,(m,C)=>{s.schedule(()=>{o.next({snapshot:m,prevKey:C})}),"once"===e&&s.schedule(()=>o.complete())},m=>{s.schedule(()=>o.error(m))}),"on"===e?{unsubscribe(){null!=d&&i.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Pt.U)(o=>{const{snapshot:d,prevKey:m}=o;let C=null;return d.exists()&&(C=d.key),{type:t,payload:d,prevKey:m,key:C}}),(0,cp.B)())}function Wm(i,t){const e=i.length;for(let s=0;s<e;s++)if(i[s].payload.key===t)return s;return-1}function fl(i,t){const{payload:e,prevKey:s,key:o}=t,d=Wm(i,o),m=function(i,t){if(cd(t))return 0;{const e=Wm(i,t);return-1===e?i.length:e+1}}(i,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(I=>{const F={payload:I,type:"value",prevKey:C,key:I.key};return C=I.key,i=[...i,F],!1})}return i;case"child_added":if(d>-1){const C=i[d-1];(C&&C.key||null)!==s&&(i=i.filter(I=>I.payload.key!==e.key)).splice(m,0,t)}else{if(null==s)return[t,...i];(i=i.slice()).splice(m,0,t)}return i;case"child_removed":return i.filter(C=>C.payload.key!==e.key);case"child_changed":return i.map(C=>C.payload.key===o?t:C);case"child_moved":if(d>-1){const C=i.splice(d,1)[0];return(i=i.slice()).splice(m,0,C),i}return i;default:return i}}function Uo(i){return(cd(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function Pu(i,t,e){return function(i,t,e){return Ru(i,"value","once",e).pipe(Qn(s=>{const o=[(0,Mt.of)(s)];return t.forEach(d=>o.push(Ru(i,d,"on",e))),(0,ws.T)(...o).pipe(ao(fl,[]))}),ec())}(i,t=Uo(t),e)}function zn(i,t,e){const s=(t=Uo(t)).map(o=>Ru(i,o,"on",e));return(0,ws.T)(...s)}function zo(i,t){return function(s,o){return pp(s,{stringCase:()=>i.child(s)[t](o),firebaseCase:()=>s[t](o),snapshotCase:()=>s.ref[t](o)})}}function Xm(i){return function(e){return e?pp(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function gl(i,t){return function(){return Ru(i,"value","on",t)}}const ml=new c.OlP("angularfire2.realtimeDatabaseURL"),lo=new c.OlP("angularfire2.database.use-emulator");let hd=(()=>{class i{constructor(e,s,o,d,m,C,I){this.schedulers=new Tn.HU(m),this.keepUnstableUntilFirst=(0,Tn.ss)(this.schedulers);const F=C,z=(0,Tn.on)(e,m,s);!Mu.Z.auth&&I&&(0,Tn.yq)(),this.database=(0,Tn.sI)(`${z.name}.database.${o}`,"AngularFireDatabase",z,()=>{const X=m.runOutsideAngular(()=>z.database(o||void 0));return F&&X.useEmulator(...F),X},[F])}list(e,s){const o=this.schedulers.ngZone.runOutsideAngular(()=>Ym(this.database,e));let d=o;return s&&(d=s(o)),function(i,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:zo(s,"update"),set:zo(s,"set"),push:o=>s.push(o),remove:Xm(s),snapshotChanges:o=>Pu(i,o,e).pipe(t.keepUnstableUntilFirst),stateChanges:o=>zn(i,o,e).pipe(t.keepUnstableUntilFirst),auditTrail:o=>function(i,t,e){return function(i,t,e){return function(i,t){return Ru(i,"value","on",t).pipe((0,Pt.U)(e=>{let s;return e.payload.forEach(o=>(s=o.key,!1)),{data:e,lastKeyToLoad:s}}))}(i,e).pipe(function(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new $_(i,e))}}(t),(0,Pt.U)(([o,d])=>{const m=o.lastKeyToLoad,C=d.map(I=>I.key);return{actions:d,lastKeyToLoad:m,loadedKeys:C}}),function(i){return t=>t.lift(new hp(i))}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Pt.U)(o=>o.actions))}(i,zn(i,t).pipe(ao((o,d)=>[...o,d],[])),e)}(i,o,e).pipe(t.keepUnstableUntilFirst),valueChanges:(o,d)=>Pu(i,o,e).pipe((0,Pt.U)(C=>C.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),t.keepUnstableUntilFirst)}}(d,this)}object(e){return function(i,t){return{query:i,snapshotChanges:()=>gl(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>gl(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst,(0,Pt.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ym(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(ml,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(lo,8),c.LFG(Ia,8))},i.\u0275prov=c.Yz7({factory:function(){return new i(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(ml,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(lo,8),c.LFG(Ia,8))},token:i,providedIn:"any"}),i})(),co=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[hd]}),i})(),dd=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-supplier-home-page"]],decls:2,vars:0,template:function(e,s){1&e&&(c.TgZ(0,"p"),c._uU(1,"supplier-home-page works!"),c.qZA())},styles:[""]}),i})();function fd(i,t,e,s,o,d,m){try{var C=i[d](m),I=C.value}catch(F){return void e(F)}C.done?t(I):Promise.resolve(I).then(s,o)}function ar(i){return function(){var t=this,e=arguments;return new Promise(function(s,o){var d=i.apply(t,e);function m(I){fd(d,s,o,m,C,"next",I)}function C(I){fd(d,s,o,m,C,"throw",I)}m(void 0)})}}class ui extends Lt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Z_.N;return this._value}next(t){super.next(this._value=t)}}var Fr=ge(4869),Ma=ge(9796),nb=ge(6693);const ka={};function Gs(...i){let t,e;return(0,Fr.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,Ma.k)(i[0])&&(i=i[0]),(0,nb.n)(i,e).lift(new ib(t))}class ib{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pd(t,this.resultSelector))}}class pd extends ul{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ka),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(id(this,t[s],void 0,s))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const o=this.values,m=this.toRespond?o[s]===ka?--this.toRespond:this.toRespond:0;o[s]=e,0===m&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var jo=ge(3282);function Lr(...i){return(0,jo.J)(1)((0,Mt.of)(...i))}function Nu(i){return new ci.y(t=>{let e;try{e=i()}catch(o){return void t.error(o)}return(e?(0,ei.D)(e):(0,js.c)()).subscribe(t)})}var sb=ge(2441);function ts(...i){const t=i[i.length-1];return(0,Fr.K)(t)?(i.pop(),e=>Lr(i,e,t)):e=>Lr(i,e)}function Vr(i){return function(e){const s=new Fu(i),o=e.lift(s);return s.caught=o}}class Fu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ir(t,this.selector,this.caught))}}class ir extends _r.Ds{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new _r.IY(this);this.add(s);const o=(0,_r.ft)(e,s);o!==s&&this.add(o)}}}var lr=ge(9773);function ac(i,t){return(0,lr.zg)(i,t,1)}function mp(i){return function(e){return 0===i?(0,js.c)():e.lift(new gd(i))}}class gd{constructor(t){if(this.total=t,this.total<0)throw new jm}call(t,e){return e.subscribe(new vp(t,this.total))}}class vp extends tr.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,o=this.count++;e.length<s?e.push(t):e[o%s]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let d=0;d<s;d++){const m=e++%s;t.next(o[m])}}t.complete()}}var Bi=ge(3342),lc=ge(1307);function uo(i){return t=>t.lift(new ob(i))}class ob{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Km(t,this.callback))}}class Km extends tr.L{constructor(t,e){super(t),this.add(new Cs.w(e))}}class Go{constructor(t,e){this.id=t,this.url=e}}class Lu extends Go{constructor(t,e,s="imperative",o=null){super(t,e),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ra extends Go{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ho extends Go{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oa extends Go{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jm extends Go{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ab extends Go{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lb extends Go{constructor(t,e,s,o,d){super(t,e),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ev extends Go{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cb extends Go{constructor(t,e,s,o){super(t,e),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tv{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yp{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _p{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ub{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class db{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const on="primary";class Es{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vl(i){return new Es(i)}const ns="ngNavigationCancelingError";function fo(i){const t=Error("NavigationCancelingError: "+i);return t[ns]=!0,t}function yl(i,t,e){const s=e.path.split("/");if(s.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<i.length))return null;const o={};for(let d=0;d<s.length;d++){const m=s[d],C=i[d];if(m.startsWith(":"))o[m.substring(1)]=C;else if(m!==C.path)return null}return{consumed:i.slice(0,s.length),posParams:o}}function po(i,t){const e=i?Object.keys(i):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let o;for(let d=0;d<e.length;d++)if(o=e[d],!sv(i[o],t[o]))return!1;return!0}function sv(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),s=[...t].sort();return e.every((o,d)=>s[d]===o)}return i===t}function ov(i){return Array.prototype.concat.apply([],i)}function _l(i){return i.length>0?i[i.length-1]:null}function Ei(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Yo(i){return(0,c.CqO)(i)?i:(0,c.QGY)(i)?(0,ei.D)(Promise.resolve(i)):(0,Mt.of)(i)}const vd={exact:function xp(i,t,e){if(!mo(i.segments,t.segments)||!is(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!i.children[s]||!xp(i.children[s],t.children[s],e))return!1;return!0},subset:cr},av={exact:function(i,t){return po(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>sv(i[e],t[e]))},ignored:()=>!0};function bp(i,t,e){return vd[e.paths](i.root,t.root,e.matrixParams)&&av[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function cr(i,t,e){return cc(i,t,t.segments,e)}function cc(i,t,e,s){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!mo(o,e)||t.hasChildren()||!is(o,e,s))}if(i.segments.length===e.length){if(!mo(i.segments,e)||!is(i.segments,e,s))return!1;for(const o in t.children)if(!i.children[o]||!cr(i.children[o],t.children[o],s))return!1;return!0}{const o=e.slice(0,i.segments.length),d=e.slice(i.segments.length);return!!(mo(i.segments,o)&&is(i.segments,o,s)&&i.children[on])&&cc(i.children[on],t,d,s)}}function is(i,t,e){return t.every((s,o)=>av[e](i[o].parameters,s.parameters))}class go{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return Cp.serialize(this)}}class kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ei(e,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}}class Wo{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vl(this.parameters)),this._parameterMap}toString(){return _d(this)}}function mo(i,t){return i.length===t.length&&i.every((e,s)=>e.path===t[s].path)}class wp{}class hv{parse(t){const e=new gb(t);return new go(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${Vu(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const s=i[e];return Array.isArray(s)?s.map(o=>`${Sp(e)}=${Sp(o)}`).join("&"):`${Sp(e)}=${Sp(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const Cp=new hv;function yd(i){return i.segments.map(t=>_d(t)).join("/")}function Vu(i,t){if(!i.hasChildren())return yd(i);if(t){const e=i.children[on]?Vu(i.children[on],!1):"",s=[];return Ei(i.children,(o,d)=>{d!==on&&s.push(`${d}:${Vu(o,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(i,t){let e=[];return Ei(i.children,(s,o)=>{o===on&&(e=e.concat(t(s,o)))}),Ei(i.children,(s,o)=>{o!==on&&(e=e.concat(t(s,o)))}),e}(i,(s,o)=>o===on?[Vu(i.children[on],!1)]:[`${o}:${Vu(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[on]?`${yd(i)}/${e[0]}`:`${yd(i)}/(${e.join("//")})`}}function fb(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(i){return fb(i).replace(/%3B/gi,";")}function Yi(i){return fb(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vo(i){return decodeURIComponent(i)}function Bu(i){return vo(i.replace(/\+/g,"%20"))}function _d(i){return`${Yi(i.path)}${function(i){return Object.keys(i).map(t=>`;${Yi(t)}=${Yi(i[t])}`).join("")}(i.parameters)}`}const bd=/^[^\/()?;=#]+/;function Hu(i){const t=i.match(bd);return t?t[0]:""}const Ys=/^[^=?&#]+/,pb=/^[^?&#]+/;class gb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[on]=new kt(t,e)),s}parseSegment(){const t=Hu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Wo(vo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hu(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const o=Hu(this.remaining);o&&(s=o,this.capture(s))}t[vo(e)]=vo(s)}parseQueryParam(t){const e=function(i){const t=i.match(Ys);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const m=function(i){const t=i.match(pb);return t?t[0]:""}(this.remaining);m&&(s=m,this.capture(s))}const o=Bu(e),d=Bu(s);if(t.hasOwnProperty(o)){let m=t[o];Array.isArray(m)||(m=[m],t[o]=m),m.push(d)}else t[o]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Hu(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=on);const m=this.parseChildren();e[d]=1===Object.keys(m).length?m[on]:new kt([],m),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ap(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=Ap(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Tp(t,this._root).map(e=>e.value)}}function Ap(i,t){if(i===t.value)return t;for(const e of t.children){const s=Ap(i,e);if(s)return s}return null}function Tp(i,t){if(i===t.value)return[t];for(const e of t.children){const s=Tp(i,e);if(s.length)return s.unshift(t),s}return[]}class qo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function dc(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class wd extends xd{constructor(t,e){super(t),this.snapshot=e,Na(this,t)}toString(){return this.snapshot.toString()}}function Dp(i,t){const e=function(i,t){const m=new Sd([],{},{},"",{},on,t,null,i.root,-1,{});return new fv("",new qo(m,[]))}(i,t),s=new ui([new Wo("",{})]),o=new ui({}),d=new ui({}),m=new ui({}),C=new ui(""),I=new fc(s,o,m,C,d,on,t,e.root);return I.snapshot=e.root,new wd(new qo(I,[]),e)}class fc{constructor(t,e,s,o,d,m,C,I){this.url=t,this.params=e,this.queryParams=s,this.fragment=o,this.data=d,this.outlet=m,this.component=C,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(t=>vl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(t=>vl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ip(i,t="emptyOnly"){const e=i.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const o=e[s],d=e[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Sd{constructor(t,e,s,o,d,m,C,I,F,z,X){this.url=t,this.params=e,this.queryParams=s,this.fragment=o,this.data=d,this.outlet=m,this.component=C,this.routeConfig=I,this._urlSegment=F,this._lastPathIndex=z,this._resolve=X}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fv extends xd{constructor(t,e){super(e),this.url=t,Na(this,e)}toString(){return pv(this._root)}}function Na(i,t){t.value._routerState=i,t.children.forEach(e=>Na(i,e))}function pv(i){const t=i.children.length>0?` { ${i.children.map(pv).join(", ")} } `:"";return`${i.value}${t}`}function Mp(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,po(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),po(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!po(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),po(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function kp(i,t){return po(i.params,t.params)&&function(i,t){return mo(i,t)&&i.every((e,s)=>po(e.parameters,t[s].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||kp(i.parent,t.parent))}function Br(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const o=function(i,t,e){return t.children.map(s=>{for(const o of e.children)if(i.shouldReuseRoute(s.value,o.value.snapshot))return Br(i,s,o);return Br(i,s)})}(i,t,e);return new qo(s,o)}{if(i.shouldAttach(t.value)){const d=i.retrieve(t.value);if(null!==d){const m=d.route;return Uu(t,m),m}}const s=function(i){return new fc(new ui(i.url),new ui(i.params),new ui(i.queryParams),new ui(i.fragment),new ui(i.data),i.outlet,i.component,i)}(t.value),o=t.children.map(d=>Br(i,d));return new qo(s,o)}}function Uu(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)Uu(i.children[e],t.children[e])}function zu(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function pc(i){return"object"==typeof i&&null!=i&&i.outlets}function gv(i,t,e,s,o){let d={};return s&&Ei(s,(m,C)=>{d[C]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),new go(e.root===i?t:Op(e.root,i,t),d,o)}function Op(i,t,e){const s={};return Ei(i.children,(o,d)=>{s[d]=o===t?e:Op(o,t,e)}),new kt(i.segments,s)}class mv{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&zu(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(pc);if(o&&o!==_l(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ed{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function bb(i,t,e){if(i||(i=new kt([],{})),0===i.segments.length&&i.hasChildren())return ju(i,t,e);const s=function(i,t,e){let s=0,o=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(s>=e.length)return d;const m=i.segments[o],C=e[s];if(pc(C))break;const I=`${C}`,F=s<e.length-1?e[s+1]:null;if(o>0&&void 0===I)break;if(I&&F&&"object"==typeof F&&void 0===F.outlets){if(!Np(I,F,m))return d;s+=2}else{if(!Np(I,{},m))return d;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(i,t,e),o=e.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new kt(i.segments.slice(0,s.pathIndex),{});return d.children[on]=new kt(i.segments.slice(s.pathIndex),i.children),ju(d,0,o)}return s.match&&0===o.length?new kt(i.segments,{}):s.match&&!i.hasChildren()?As(i,t,e):s.match?ju(i,0,o):As(i,t,e)}function ju(i,t,e){if(0===e.length)return new kt(i.segments,{});{const s=function(i){return pc(i[0])?i[0].outlets:{[on]:i}}(e),o={};return Ei(s,(d,m)=>{"string"==typeof d&&(d=[d]),null!==d&&(o[m]=bb(i.children[m],t,d))}),Ei(i.children,(d,m)=>{void 0===s[m]&&(o[m]=d)}),new kt(i.segments,o)}}function As(i,t,e){const s=i.segments.slice(0,t);let o=0;for(;o<e.length;){const d=e[o];if(pc(d)){const I=Pp(d.outlets);return new kt(s,I)}if(0===o&&zu(e[0])){s.push(new Wo(i.segments[t].path,Fa(e[0]))),o++;continue}const m=pc(d)?d.outlets[on]:`${d}`,C=o<e.length-1?e[o+1]:null;m&&C&&zu(C)?(s.push(new Wo(m,Fa(C))),o+=2):(s.push(new Wo(m,{})),o++)}return new kt(s,{})}function Pp(i){const t={};return Ei(i,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=As(new kt([],{}),0,e))}),t}function Fa(i){const t={};return Ei(i,(e,s)=>t[s]=`${e}`),t}function Np(i,t,e){return i==e.path&&po(t,e.parameters)}class Va{constructor(t,e,s,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=o}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),Mp(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const o=dc(e);t.children.forEach(d=>{const m=d.value.outlet;this.deactivateRoutes(d,o[m],s),delete o[m]}),Ei(o,(d,m)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const o=t.value,d=e?e.value:null;if(o===d)if(o.component){const m=s.getContext(o.outlet);m&&this.deactivateChildRoutes(t,e,m.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),o=s&&t.value.component?s.children:e,d=dc(t);for(const m of Object.keys(d))this.deactivateRouteAndItsChildren(d[m],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const o=dc(e);t.children.forEach(d=>{this.activateRoutes(d,o[d.value.outlet],s),this.forwardEvent(new hb(d.value.snapshot))}),t.children.length&&this.forwardEvent(new nv(t.value.snapshot))}activateRoutes(t,e,s){const o=t.value,d=e?e.value:null;if(Mp(o),o===d)if(o.component){const m=s.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,m.children)}else this.activateChildRoutes(t,e,s);else if(o.component){const m=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const C=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),m.children.onOutletReAttached(C.contexts),m.attachRef=C.componentRef,m.route=C.route.value,m.outlet&&m.outlet.attach(C.componentRef,C.route.value),Fp(C.route)}else{const C=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),I=C?C.module.componentFactoryResolver:null;m.attachRef=null,m.route=o,m.resolver=I,m.outlet&&m.outlet.activateWith(o,I),this.activateChildRoutes(t,null,m.children)}}else this.activateChildRoutes(t,null,s)}}function Fp(i){Mp(i.value),i.children.forEach(Fp)}class Gu{constructor(t,e){this.routes=t,this.module=e}}function _o(i){return"function"==typeof i}function mc(i){return i instanceof go}const bl=Symbol("INITIAL_VALUE");function Yu(){return Qn(i=>Gs(i.map(t=>t.pipe(Un(1),ts(bl)))).pipe(ao((t,e)=>{let s=!1;return e.reduce((o,d,m)=>o!==bl?o:(d===bl&&(s=!0),s||!1!==d&&m!==e.length-1&&!mc(d)?o:d),t)},bl),Si(t=>t!==bl),(0,Pt.U)(t=>mc(t)?t:!0===t),Un(1)))}let bv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"router-outlet")},directives:function(){return[IC]},encapsulation:2}),i})();function xv(i,t=""){for(let e=0;e<i.length;e++){const s=i[e];wb(s,Cb(t,s))}}function wb(i,t){i.children&&xv(i.children,t)}function Cb(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Vp(i){const t=i.children&&i.children.map(Vp),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==on&&(e.component=bv),e}function rs(i){return i.outlet||on}function Ad(i,t){const e=i.filter(s=>rs(s)===t);return e.push(...i.filter(s=>rs(s)!==t)),e}const y={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function v(i,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},y):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(t.matcher||yl)(e,i,t);if(!d)return Object.assign({},y);const m={};Ei(d.posParams,(I,F)=>{m[F]=I.path});const C=d.consumed.length>0?Object.assign(Object.assign({},m),d.consumed[d.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:C,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function w(i,t,e,s,o="corrected"){if(e.length>0&&function(i,t,e){return e.some(s=>ie(i,t,s)&&rs(s)!==on)}(i,e,s)){const m=new kt(t,function(i,t,e,s){const o={};o[on]=s,s._sourceSegment=i,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&rs(d)!==on){const m=new kt([],{});m._sourceSegment=i,m._segmentIndexShift=t.length,o[rs(d)]=m}return o}(i,t,s,new kt(e,i.children)));return m._sourceSegment=i,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(s=>ie(i,t,s))}(i,e,s)){const m=new kt(i.segments,function(i,t,e,s,o,d){const m={};for(const C of s)if(ie(i,e,C)&&!o[rs(C)]){const I=new kt([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===d?i.segments.length:t.length,m[rs(C)]=I}return Object.assign(Object.assign({},o),m)}(i,t,e,s,i.children,o));return m._sourceSegment=i,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:e}}const d=new kt(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function ie(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ae(i,t,e,s){return!!(rs(i)===s||s!==on&&ie(t,e,i))&&("**"===i.path||v(t,i,e).matched)}function ve(i,t,e){return 0===t.length&&!i.children[e]}class ye{constructor(t){this.segmentGroup=t||null}}class je{constructor(t){this.urlTree=t}}function Je(i){return new ci.y(t=>t.error(new ye(i)))}function ct(i){return new ci.y(t=>t.error(new je(i)))}function mt(i){return new ci.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class nn{constructor(t,e,s,o,d){this.configLoader=e,this.urlSerializer=s,this.urlTree=o,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=w(this.urlTree.root,[],[],this.config).segmentGroup,e=new kt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,on).pipe((0,Pt.U)(d=>this.createUrlTree(ss(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vr(d=>{if(d instanceof je)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof ye?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,on).pipe((0,Pt.U)(o=>this.createUrlTree(ss(o),t.queryParams,t.fragment))).pipe(Vr(o=>{throw o instanceof ye?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const o=t.segments.length>0?new kt([],{[on]:t}):t;return new go(o,e,s)}expandSegmentGroup(t,e,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,Pt.U)(d=>new kt([],d))):this.expandSegment(t,s,e,s.segments,o,!0)}expandChildren(t,e,s){const o=[];for(const d of Object.keys(s.children))"primary"===d?o.unshift(d):o.push(d);return(0,ei.D)(o).pipe(ac(d=>{const m=s.children[d],C=Ad(e,d);return this.expandSegmentGroup(t,C,m,d).pipe((0,Pt.U)(I=>({segment:I,outlet:d})))}),ao((d,m)=>(d[m.outlet]=m.segment,d),{}),function(i,t){const e=arguments.length>=2;return s=>s.pipe(i?Si((o,d)=>i(o,d,s)):sc.y,mp(1),e?Ta(t):sd(()=>new zs))}())}expandSegment(t,e,s,o,d,m){return(0,ei.D)(s).pipe(ac(C=>this.expandSegmentAgainstRoute(t,e,s,C,o,d,m).pipe(Vr(F=>{if(F instanceof ye)return(0,Mt.of)(null);throw F}))),Vi(C=>!!C),Vr((C,I)=>{if(C instanceof zs||"EmptyError"===C.name){if(ve(e,o,d))return(0,Mt.of)(new kt([],{}));throw new ye(e)}throw C}))}expandSegmentAgainstRoute(t,e,s,o,d,m,C){return ae(o,e,d,m)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,d,m):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,o,d,m):Je(e):Je(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,o,d,m){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,o,m):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,o,d,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,o){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?ct(d):this.lineralizeSegments(s,d).pipe((0,lr.zg)(m=>{const C=new kt(m,{});return this.expandSegment(t,C,e,m,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,o,d,m){const{matched:C,consumedSegments:I,lastChild:F,positionalParamSegments:z}=v(e,o,d);if(!C)return Je(e);const X=this.applyRedirectCommands(I,o.redirectTo,z);return o.redirectTo.startsWith("/")?ct(X):this.lineralizeSegments(o,X).pipe((0,lr.zg)(te=>this.expandSegment(t,e,s,te.concat(d.slice(F)),m,!1)))}matchSegmentAgainstRoute(t,e,s,o,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Mt.of)(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,Pt.U)(te=>(s._loadedConfig=te,new kt(o,{})))):(0,Mt.of)(new kt(o,{}));const{matched:m,consumedSegments:C,lastChild:I}=v(e,s,o);if(!m)return Je(e);const F=o.slice(I);return this.getChildConfig(t,s,o).pipe((0,lr.zg)(X=>{const te=X.module,oe=X.routes,{segmentGroup:ue,slicedSegments:xe}=w(e,C,F,oe),Oe=new kt(ue.segments,ue.children);if(0===xe.length&&Oe.hasChildren())return this.expandChildren(te,oe,Oe).pipe((0,Pt.U)(Et=>new kt(C,Et)));if(0===oe.length&&0===xe.length)return(0,Mt.of)(new kt(C,{}));const qe=rs(s)===d;return this.expandSegment(te,Oe,oe,xe,qe?on:d,!0).pipe((0,Pt.U)(at=>new kt(C.concat(at.segments),at.children)))}))}getChildConfig(t,e,s){return e.children?(0,Mt.of)(new Gu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Mt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,lr.zg)(o=>{return o?this.configLoader.load(t.injector,e).pipe((0,Pt.U)(d=>(e._loadedConfig=d,d))):(i=e,new ci.y(t=>t.error(fo(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Mt.of)(new Gu([],t))}runCanLoadGuards(t,e,s){const o=e.canLoad;if(!o||0===o.length)return(0,Mt.of)(!0);const d=o.map(m=>{const C=t.get(m);let I;if((i=C)&&_o(i.canLoad))I=C.canLoad(e,s);else{if(!_o(C))throw new Error("Invalid CanLoad guard");I=C(e,s)}var i;return Yo(I)});return(0,Mt.of)(d).pipe(Yu(),(0,Bi.b)(m=>{if(!mc(m))return;const C=fo(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw C.url=m,C}),(0,Pt.U)(m=>!0===m))}lineralizeSegments(t,e){let s=[],o=e.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,Mt.of)(s);if(o.numberOfChildren>1||!o.children[on])return mt(t.redirectTo);o=o.children[on]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,o){const d=this.createSegmentGroup(t,e.root,s,o);return new go(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Ei(t,(o,d)=>{if("string"==typeof o&&o.startsWith(":")){const C=o.substring(1);s[d]=e[C]}else s[d]=o}),s}createSegmentGroup(t,e,s,o){const d=this.createSegments(t,e.segments,s,o);let m={};return Ei(e.children,(C,I)=>{m[I]=this.createSegmentGroup(t,C,s,o)}),new kt(d,m)}createSegments(t,e,s,o){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,o):this.findOrReturn(d,s))}findPosParam(t,e,s){const o=s[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let s=0;for(const o of e){if(o.path===t.path)return e.splice(s),o;s++}return t}}function ss(i){const t={};for(const s of Object.keys(i.children)){const d=ss(i.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[on]){const t=i.children[on];return new kt(i.segments.concat(t.segments),t.children)}return i}(new kt(i.segments,t))}class Wu{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ba{constructor(t,e){this.component=t,this.route=e}}function qu(i,t,e){const s=i._root;return Hp(s,t?t._root:null,e,[s.value])}function Bp(i,t,e){const s=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(i)}function Hp(i,t,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const d=dc(t);return i.children.forEach(m=>{(function(i,t,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,m=t?t.value:null,C=e?e.getContext(i.value.outlet):null;if(m&&d.routeConfig===m.routeConfig){const I=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!mo(i.url,t.url);case"pathParamsOrQueryParamsChange":return!mo(i.url,t.url)||!po(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(i,t)||!po(i.queryParams,t.queryParams);case"paramsChange":default:return!kp(i,t)}}(m,d,d.routeConfig.runGuardsAndResolvers);I?o.canActivateChecks.push(new Wu(s)):(d.data=m.data,d._resolvedData=m._resolvedData),Hp(i,t,d.component?C?C.children:null:e,s,o),I&&C&&C.outlet&&C.outlet.isActivated&&o.canDeactivateChecks.push(new Ba(C.outlet.component,m))}else m&&Td(t,C,o),o.canActivateChecks.push(new Wu(s)),Hp(i,null,d.component?C?C.children:null:e,s,o)})(m,d[m.value.outlet],e,s.concat([m.value]),o),delete d[m.value.outlet]}),Ei(d,(m,C)=>Td(m,e.getContext(C),o)),o}function Td(i,t,e){const s=dc(i),o=i.value;Ei(s,(d,m)=>{Td(d,o.component?t?t.children.getContext(m):null:t,e)}),e.canDeactivateChecks.push(new Ba(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class wC{}function CC(i){return new ci.y(t=>t.error(i))}class DT{constructor(t,e,s,o,d,m){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m}recognize(){const t=w(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,on);if(null===e)return null;const s=new Sd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new qo(s,e),d=new fv(this.url,o);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,s=Ip(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const d of Object.keys(e.children)){const m=e.children[d],C=Ad(t,d),I=this.processSegmentGroup(C,m,d);if(null===I)return null;s.push(...I)}const o=EC(s);return o.sort((t,e)=>t.value.outlet===on?-1:e.value.outlet===on?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,s,o){for(const d of t){const m=this.processSegmentAgainstRoute(d,e,s,o);if(null!==m)return m}return ve(e,s,o)?[]:null}processSegmentAgainstRoute(t,e,s,o){if(t.redirectTo||!ae(t,e,s,o))return null;let d,m=[],C=[];if("**"===t.path){const oe=s.length>0?_l(s).parameters:{};d=new Sd(s,oe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(t),rs(t),t.component,t,rn(e),Eb(e)+s.length,Up(t))}else{const oe=v(e,t,s);if(!oe.matched)return null;m=oe.consumedSegments,C=s.slice(oe.lastChild),d=new Sd(m,oe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(t),rs(t),t.component,t,rn(e),Eb(e)+m.length,Up(t))}const I=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:F,slicedSegments:z}=w(e,m,C,I.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);var i;if(0===z.length&&F.hasChildren()){const oe=this.processChildren(I,F);return null===oe?null:[new qo(d,oe)]}if(0===I.length&&0===z.length)return[new qo(d,[])];const X=rs(t)===o,te=this.processSegment(I,F,z,X?on:o);return null===te?null:[new qo(d,te)]}}function MT(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function EC(i){const t=[],e=new Set;for(const s of i){if(!MT(s)){t.push(s);continue}const o=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==o?(o.children.push(...s.children),e.add(o)):t.push(s)}for(const s of e){const o=EC(s.children);t.push(new qo(s.value,o))}return t.filter(s=>!e.has(s))}function rn(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Eb(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Ab(i){return i.data||{}}function Up(i){return i.resolve||{}}function zp(i){return Qn(t=>{const e=i(t);return e?(0,ei.D)(e).pipe((0,Pt.U)(()=>t)):(0,Mt.of)(t)})}class wR extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const wv=new c.OlP("ROUTES");class RT{constructor(t,e,s,o){this.loader=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,Pt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const m=d.create(t);return new Gu(ov(m.injector.get(wv,void 0,c.XFs.Self|c.XFs.Optional)).map(Vp),m)}),Vr(d=>{throw e._loader$=void 0,d}));return e._loader$=new sb.c(o,()=>new Lt.xQ).pipe((0,lc.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ei.D)(this.loader.load(t)):Yo(t()).pipe((0,lr.zg)(e=>e instanceof c.YKP?(0,Mt.of)(e):(0,ei.D)(this.compiler.compileModuleAsync(e))))}}class wl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cl,this.attachRef=null}}class Cl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wl,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ib{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function CR(i){throw i}function OT(i,t,e){return t.parse("/")}function Mb(i,t){return(0,Mt.of)(null)}const SR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class i{constructor(e,s,o,d,m,C,I,F){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=o,this.location=d,this.config=F,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lt.xQ,this.errorHandler=CR,this.malformedUriErrorHandler=OT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mb,afterPreactivation:Mb},this.urlHandlingStrategy=new Ib,this.routeReuseStrategy=new wR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(c.h0i),this.console=m.get(c.c2e);const te=m.get(c.R0b);this.isNgZoneEnabled=te instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(F),this.currentUrlTree=new go(new kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new RT(C,I,oe=>this.triggerEvent(new tv(oe)),oe=>this.triggerEvent(new yp(oe))),this.routerState=Dp(this.currentUrlTree,this.rootComponentType),this.transitions=new ui({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Si(o=>0!==o.id),(0,Pt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qn(o=>{let d=!1,m=!1;return(0,Mt.of)(o).pipe((0,Bi.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(C=>{const I=!this.navigated||C.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return(0,Mt.of)(C).pipe(Qn(z=>{const X=this.transitions.getValue();return s.next(new Lu(z.id,this.serializeUrl(z.extractedUrl),z.source,z.restoredState)),X!==this.transitions.getValue()?js.E:Promise.resolve(z)}),function(i,t,e,s){return Qn(o=>function(i,t,e,s,o){return new nn(i,t,e,s,o).apply()}(i,t,e,o.extractedUrl,s).pipe((0,Pt.U)(d=>Object.assign(Object.assign({},o),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Bi.b)(z=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:z.urlAfterRedirects})}),function(i,t,e,s,o){return(0,lr.zg)(d=>function(i,t,e,s,o="emptyOnly",d="legacy"){try{const m=new DT(i,t,e,s,o,d).recognize();return null===m?CC(new wC):(0,Mt.of)(m)}catch(m){return CC(m)}}(i,t,d.urlAfterRedirects,e(d.urlAfterRedirects),s,o).pipe((0,Pt.U)(m=>Object.assign(Object.assign({},d),{targetSnapshot:m}))))}(this.rootComponentType,this.config,z=>this.serializeUrl(z),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Bi.b)(z=>{"eager"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(z.urlAfterRedirects,z),this.browserUrlTree=z.urlAfterRedirects);const X=new Jm(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot);s.next(X)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:X,extractedUrl:te,source:oe,restoredState:ue,extras:xe}=C,Oe=new Lu(X,this.serializeUrl(te),oe,ue);s.next(Oe);const qe=Dp(te,this.rootComponentType).snapshot;return(0,Mt.of)(Object.assign(Object.assign({},C),{targetSnapshot:qe,urlAfterRedirects:te,extras:Object.assign(Object.assign({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,this.browserUrlTree=C.urlAfterRedirects,C.resolve(null),js.E}),zp(C=>{const{targetSnapshot:I,id:F,extractedUrl:z,rawUrl:X,extras:{skipLocationChange:te,replaceUrl:oe}}=C;return this.hooks.beforePreactivation(I,{navigationId:F,appliedUrlTree:z,rawUrlTree:X,skipLocationChange:!!te,replaceUrl:!!oe})}),(0,Bi.b)(C=>{const I=new ab(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(I)}),(0,Pt.U)(C=>Object.assign(Object.assign({},C),{guards:qu(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function(i,t){return(0,lr.zg)(e=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:d,canDeactivateChecks:m}}=e;return 0===m.length&&0===d.length?(0,Mt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,s){return(0,ei.D)(i).pipe((0,lr.zg)(o=>function(i,t,e,s,o){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Mt.of)(!0);const m=d.map(C=>{const I=Bp(C,t,o);let F;if(function(i){return i&&_o(i.canDeactivate)}(I))F=Yo(I.canDeactivate(i,t,e,s));else{if(!_o(I))throw new Error("Invalid CanDeactivate guard");F=Yo(I(i,t,e,s))}return F.pipe(Vi())});return(0,Mt.of)(m).pipe(Yu())}(o.component,o.route,e,t,s)),Vi(o=>!0!==o,!0))}(m,s,o,i).pipe((0,lr.zg)(C=>C&&function(i){return"boolean"==typeof i}(C)?function(i,t,e,s){return(0,ei.D)(t).pipe(ac(o=>Lr(function(i,t){return null!==i&&t&&t(new _p(i)),(0,Mt.of)(!0)}(o.route.parent,s),function(i,t){return null!==i&&t&&t(new ub(i)),(0,Mt.of)(!0)}(o.route,s),function(i,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(m=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(m)).filter(m=>null!==m).map(m=>Nu(()=>{const C=m.guards.map(I=>{const F=Bp(I,m.node,e);let z;if(function(i){return i&&_o(i.canActivateChild)}(F))z=Yo(F.canActivateChild(s,i));else{if(!_o(F))throw new Error("Invalid CanActivateChild guard");z=Yo(F(s,i))}return z.pipe(Vi())});return(0,Mt.of)(C).pipe(Yu())}));return(0,Mt.of)(d).pipe(Yu())}(i,o.path,e),function(i,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Mt.of)(!0);const o=s.map(d=>Nu(()=>{const m=Bp(d,t,e);let C;if(function(i){return i&&_o(i.canActivate)}(m))C=Yo(m.canActivate(t,i));else{if(!_o(m))throw new Error("Invalid CanActivate guard");C=Yo(m(t,i))}return C.pipe(Vi())}));return(0,Mt.of)(o).pipe(Yu())}(i,o.route,e))),Vi(o=>!0!==o,!0))}(s,d,i,t):(0,Mt.of)(C)),(0,Pt.U)(C=>Object.assign(Object.assign({},e),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,Bi.b)(C=>{if(mc(C.guardsResult)){const F=fo(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw F.url=C.guardsResult,F}const I=new lb(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(I)}),Si(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),zp(C=>{if(C.guards.canActivateChecks.length)return(0,Mt.of)(C).pipe((0,Bi.b)(I=>{const F=new ev(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(F)}),Qn(I=>{let F=!1;return(0,Mt.of)(I).pipe(function(i,t){return(0,lr.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Mt.of)(e);let d=0;return(0,ei.D)(o).pipe(ac(m=>function(i,t,e,s){return function(i,t,e,s){const o=Object.keys(i);if(0===o.length)return(0,Mt.of)({});const d={};return(0,ei.D)(o).pipe((0,lr.zg)(m=>function(i,t,e,s){const o=Bp(i,t,s);return Yo(o.resolve?o.resolve(t,e):o(t,e))}(i[m],t,e,s).pipe((0,Bi.b)(C=>{d[m]=C}))),mp(1),(0,lr.zg)(()=>Object.keys(d).length===o.length?(0,Mt.of)(d):js.E))}(i._resolve,i,t,s).pipe((0,Pt.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Ip(i,e).resolve),null)))}(m.route,s,i,t)),(0,Bi.b)(()=>d++),mp(1),(0,lr.zg)(m=>d===o.length?(0,Mt.of)(e):js.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Bi.b)({next:()=>F=!0,complete:()=>{F||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Bi.b)(I=>{const F=new cb(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(F)}))}),zp(C=>{const{targetSnapshot:I,id:F,extractedUrl:z,rawUrl:X,extras:{skipLocationChange:te,replaceUrl:oe}}=C;return this.hooks.afterPreactivation(I,{navigationId:F,appliedUrlTree:z,rawUrlTree:X,skipLocationChange:!!te,replaceUrl:!!oe})}),(0,Pt.U)(C=>{const I=function(i,t,e){const s=Br(i,t._root,e?e._root:void 0);return new wd(s,t)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return Object.assign(Object.assign({},C),{targetRouterState:I})}),(0,Bi.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((i,t,e)=>(0,Pt.U)(s=>(new Va(t,s.targetRouterState,s.currentRouterState,e).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,Bi.b)({next(){d=!0},complete(){d=!0}}),uo(()=>{if(!d&&!m){const C=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,C)):this.cancelNavigationTransition(o,C)}this.currentNavigation=null}),Vr(C=>{if(m=!0,function(i){return i&&i[ns]}(C)){const I=mc(C.url);I||(this.navigated=!0,this.restoreHistory(o,!0));const F=new ho(o.id,this.serializeUrl(o.extractedUrl),C.message);s.next(F),I?setTimeout(()=>{const z=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree);this.scheduleNavigation(z,"imperative",null,{skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const I=new Oa(o.id,this.serializeUrl(o.extractedUrl),C);s.next(I);try{o.resolve(this.errorHandler(C))}catch(F){o.reject(F)}}return js.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:d,urlTree:m}=s,C={replaceUrl:!0};if(d){const I=Object.assign({},d);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(C.state=I)}this.scheduleNavigation(m,o,d,C)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const o=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!o||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){xv(e),this.config=e.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:o,queryParams:d,fragment:m,queryParamsHandling:C,preserveFragment:I}=s,F=o||this.routerState.root,z=I?this.currentUrlTree.fragment:m;let X=null;switch(C){case"merge":X=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":X=this.currentUrlTree.queryParams;break;default:X=d||null}return null!==X&&(X=this.removeEmptyProps(X)),function(i,t,e,s,o){if(0===e.length)return gv(t.root,t.root,t,s,o);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new mv(!0,0,i);let t=0,e=!1;const s=i.reduce((o,d,m)=>{if("object"==typeof d&&null!=d){if(d.outlets){const C={};return Ei(d.outlets,(I,F)=>{C[F]="string"==typeof I?I.split("/"):I}),[...o,{outlets:C}]}if(d.segmentPath)return[...o,d.segmentPath]}return"string"!=typeof d?[...o,d]:0===m?(d.split("/").forEach((C,I)=>{0==I&&"."===C||(0==I&&""===C?e=!0:".."===C?t++:""!=C&&o.push(C))}),o):[...o,d]},[]);return new mv(e,t,s)}(e);if(d.toRoot())return gv(t.root,new kt([],{}),t,s,o);const m=function(i,t,e){if(i.isAbsolute)return new Ed(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Ed(d,d===t.root,0)}const s=zu(i.commands[0])?0:1;return function(i,t,e){let s=i,o=t,d=e;for(;d>o;){if(d-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new Ed(s,!1,o-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,t,i),C=m.processChildren?ju(m.segmentGroup,m.index,d.commands):bb(m.segmentGroup,m.index,d.commands);return gv(m.segmentGroup,C,t,s,o)}(F,this.currentUrlTree,e,X,null!=z?z:null)}navigateByUrl(e,s={skipLocationChange:!1}){const o=mc(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return s}isActive(e,s){let o;if(o=!0===s?Object.assign({},SR):!1===s?Object.assign({},PT):s,mc(e))return bp(this.currentUrlTree,e,o);const d=this.parseUrl(e);return bp(this.currentUrlTree,d,o)}removeEmptyProps(e){return Object.keys(e).reduce((s,o)=>{const d=e[o];return null!=d&&(s[o]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ra(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,o,d,m){var C,I;if(this.disposed)return Promise.resolve(!1);const F=this.getTransition(),z="imperative"!==s&&"imperative"===(null==F?void 0:F.source),oe=(this.lastSuccessfulId===F.id||this.currentNavigation?F.rawUrl:F.urlAfterRedirects).toString()===e.toString();if(z&&oe)return Promise.resolve(!0);let ue,xe,Oe;m?(ue=m.resolve,xe=m.reject,Oe=m.promise):Oe=new Promise((at,Et)=>{ue=at,xe=Et});const qe=++this.navigationId;let ot;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ot=o&&o.\u0275routerPageId?o.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(C=this.browserPageId)&&void 0!==C?C:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):ot=0,this.setTransition({id:qe,targetPageId:ot,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:ue,reject:xe,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(at=>Promise.reject(at))}setBrowserUrl(e,s){const o=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",d):this.location.go(o,"",d)}restoreHistory(e,s=!1){var o,d;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===m?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===m&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const o=new ho(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.DyG),c.LFG(wp),c.LFG(Cl),c.LFG(vt),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),jp=(()=>{class i{constructor(e,s,o,d,m){this.router=e,this.route=s,this.commands=[],this.onChanges=new Lt.xQ,null==o&&d.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:_c(this.skipLocationChange),replaceUrl:_c(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_c(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ii),c.Y36(fc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),i})(),Xu=(()=>{class i{constructor(e,s,o){this.router=e,this.route=s,this.locationStrategy=o,this.commands=[],this.onChanges=new Lt.xQ,this.subscription=e.events.subscribe(d=>{d instanceof Ra&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,o,d,m){if(0!==e||s||o||d||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const C={skipLocationChange:_c(this.skipLocationChange),replaceUrl:_c(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_c(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ii),c.Y36(fc),c.Y36(pt))},i.\u0275dir=c.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&c.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&(c.Ikx("href",s.href,c.LSH),c.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),i})();function _c(i){return""===i||!!i}let NT=(()=>{class i{constructor(e,s,o,d,m,C){this.router=e,this.element=s,this.renderer=o,this.cdr=d,this.link=m,this.linkWithHref=C,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(I=>{I instanceof Ra&&this.update()})}ngAfterContentInit(){(0,Mt.of)(this.links.changes,this.linksWithHrefs.changes,(0,Mt.of)(null)).pipe((0,jo.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,ei.D)(s).pipe((0,jo.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(e){const s=function(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>e.isActive(o.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ii),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(jp,8),c.Y36(Xu,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,jp,5),c.Suo(o,Xu,5)),2&e){let d;c.iGM(d=c.CRH())&&(s.links=d),c.iGM(d=c.CRH())&&(s.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[c.TTD]}),i})(),IC=(()=>{class i{constructor(e,s,o,d,m){this.parentContexts=e,this.location=s,this.resolver=o,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=d||on,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const m=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,I=new AR(e,C,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Cl),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},i.\u0275dir=c.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class AR{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===fc?this.route:t===Cl?this.childContexts:this.parent.get(t,e)}}class FT{}class LT{preload(t,e){return(0,Mt.of)(null)}}let VT=(()=>{class i{constructor(e,s,o,d,m){this.router=e,this.injector=d,this.preloadingStrategy=m,this.loader=new RT(s,o,F=>e.triggerEvent(new tv(F)),F=>e.triggerEvent(new yp(F)))}setUpPreloading(){this.subscription=this.router.events.pipe(Si(e=>e instanceof Ra),ac(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const o=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const m=d._loadedConfig;o.push(this.processRoutes(m.module,m.routes))}else d.loadChildren&&!d.canLoad?o.push(this.preloadConfig(e,d)):d.children&&o.push(this.processRoutes(e,d.children));return(0,ei.D)(o).pipe((0,jo.J)(),(0,Pt.U)(d=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Mt.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,lr.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ii),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(FT))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),MC=(()=>{class i{constructor(e,s,o={}){this.router=e,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ra&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof db&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new db(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ii),c.LFG(Hn),c.LFG(void 0))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Dd=new c.OlP("ROUTER_CONFIGURATION"),Sl=new c.OlP("ROUTER_FORROOT_GUARD"),BT=[vt,{provide:wp,useClass:hv},{provide:Ii,useFactory:function(i,t,e,s,o,d,m,C={},I,F){const z=new Ii(null,i,t,e,s,o,d,ov(m));return I&&(z.urlHandlingStrategy=I),F&&(z.routeReuseStrategy=F),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(C,z),C.enableTracing&&z.events.subscribe(X=>{var te,oe;null===(te=console.group)||void 0===te||te.call(console,`Router Event: ${X.constructor.name}`),console.log(X.toString()),console.log(X),null===(oe=console.groupEnd)||void 0===oe||oe.call(console)}),z},deps:[wp,Cl,vt,c.zs3,c.v3s,c.Sil,wv,Dd,[class{},new c.FiY],[class{},new c.FiY]]},Cl,{provide:fc,useFactory:function(i){return i.routerState.root},deps:[Ii]},{provide:c.v3s,useClass:c.EAV},VT,LT,class{preload(t,e){return e().pipe(Vr(()=>(0,Mt.of)(null)))}},{provide:Dd,useValue:{enableTracing:!1}}];function kC(){return new c.PXZ("Router",Ii)}let Sv=(()=>{class i{constructor(e,s){}static forRoot(e,s){return{ngModule:i,providers:[BT,El(e),{provide:Sl,useFactory:HT,deps:[[Ii,new c.FiY,new c.tp0]]},{provide:Dd,useValue:s||{}},{provide:pt,useFactory:Rb,deps:[Se,[new c.tBr(Pe),new c.FiY],Dd]},{provide:MC,useFactory:RC,deps:[Ii,Hn,Dd]},{provide:FT,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:LT},{provide:c.PXZ,multi:!0,useFactory:kC},[Gp,{provide:c.ip1,multi:!0,useFactory:zT,deps:[Gp]},{provide:NC,useFactory:PC,deps:[Gp]},{provide:c.tb,multi:!0,useExisting:NC}]]}}static forChild(e){return{ngModule:i,providers:[El(e)]}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Sl,8),c.LFG(Ii,8))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();function RC(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new MC(i,t,e)}function Rb(i,t,e={}){return e.useHash?new Kn(i,t):new yn(i,t)}function HT(i){return"guarded"}function El(i){return[{provide:c.deG,multi:!0,useValue:i},{provide:wv,multi:!0,useValue:i}]}let Gp=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Lt.xQ}appInitializer(){return this.injector.get(me,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(C=>s=C),d=this.injector.get(Ii),m=this.injector.get(Dd);return"disabled"===m.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Mt.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),o})}bootstrapListener(e){const s=this.injector.get(Dd),o=this.injector.get(VT),d=this.injector.get(MC),m=this.injector.get(Ii),C=this.injector.get(c.z2F);e===C.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&m.initialNavigation(),o.setUpPreloading(),d.init(),m.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.zs3))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();function zT(i){return i.appInitializer.bind(i)}function PC(i){return i.bootstrapListener.bind(i)}const NC=new c.OlP("Router Initializer");function Al(){return i=>i.lift(new Ob)}class Ob{call(t,e){return e.subscribe(new Id(t))}}class Id extends tr.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Yp=ge(9759),ce=ge(4762),Fn=ge(4685),bc=ge(300),Av=function(i,t){return(Av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])})(i,t)};function Tv(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],s=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Tt,FC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nb=Nb||{},sn=FC||self;function Fb(){}function Dv(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Md(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Iv="closure_uid_"+(1e9*Math.random()>>>0),YT=0;function WT(i,t,e){return i.call.apply(i.bind,arguments)}function Ws(i,t,e){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),i.apply(t,o)}}return function(){return i.apply(t,arguments)}}function br(i,t,e){return(br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WT:Ws).apply(null,arguments)}function Mv(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ur(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(s,o,d){for(var m=Array(arguments.length-2),C=2;C<arguments.length;C++)m[C-2]=arguments[C];return t.prototype[o].apply(s,m)}}function $u(){this.s=this.s,this.o=this.o}var IR={};$u.prototype.s=!1,$u.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Iv)&&i[Iv]||(i[Iv]=++YT)}(this);delete IR[i]}},$u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var VC=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},kv=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var s=i.length,o="string"==typeof i?i.split(""):i,d=0;d<s;d++)d in o&&t.call(e,o[d],d,i)};function HC(i){return Array.prototype.concat.apply([],arguments)}function Lb(i){var t=i.length;if(0<t){for(var e=Array(t),s=0;s<t;s++)e[s]=i[s];return e}return[]}function Rv(i){return/^[\s\xa0]*$/.test(i)}var as,Vb=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function os(i,t){return-1!=i.indexOf(t)}function Ov(i,t){return i<t?-1:i>t?1:0}e:{var UC=sn.navigator;if(UC){var Bb=UC.userAgent;if(Bb){as=Bb;break e}}as=""}function Pv(i,t,e){for(var s in i)t.call(e,i[s],s,i)}function zC(i){var t={};for(var e in i)t[e]=i[e];return t}var Zo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nv(i,t){for(var e,s,o=1;o<arguments.length;o++){for(e in s=arguments[o])i[e]=s[e];for(var d=0;d<Zo.length;d++)e=Zo[d],Object.prototype.hasOwnProperty.call(s,e)&&(i[e]=s[e])}}function Hb(i){return Hb[" "](i),i}Hb[" "]=Fb;var Fv,i,MR=os(as,"Opera"),Zu=os(as,"Trident")||os(as,"MSIE"),jC=os(as,"Edge"),Ub=jC||Zu,GC=os(as,"Gecko")&&!(os(as.toLowerCase(),"webkit")&&!os(as,"Edge"))&&!(os(as,"Trident")||os(as,"MSIE"))&&!os(as,"Edge"),zb=os(as.toLowerCase(),"webkit")&&!os(as,"Edge");function YC(){var i=sn.document;return i?i.documentMode:void 0}e:{var kd="",Wp=(i=as,GC?/rv:([^\);]+)(\)|;)/.exec(i):jC?/Edge\/([\d\.]+)/.exec(i):Zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):zb?/WebKit\/(\S+)/.exec(i):MR?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Wp&&(kd=Wp?Wp[1]:""),Zu){var jb=YC();if(null!=jb&&jb>parseFloat(kd)){Fv=String(jb);break e}}Fv=kd}var Gb={};function Yb(){return t=Gb,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=Vb(String(Fv)).split("."),e=Vb("9").split("."),s=Math.max(t.length,e.length),o=0;0==i&&o<s;o++){var d=t[o]||"",m=e[o]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=Ov(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||Ov(0==d[2].length,0==m[2].length)||Ov(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i}();var t}var XT=sn.document&&Zu&&(YC()||parseInt(Fv,10))||void 0,Wb=function(){if(!sn.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{sn.addEventListener("test",Fb,t),sn.removeEventListener("test",Fb,t)}catch(e){}return i}();function ls(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function qp(i,t){if(ls.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(GC){e:{try{Hb(t.nodeName);var o=!0;break e}catch(d){}o=!1}o||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:qC[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qp.Z.h.call(this)}}ls.prototype.h=function(){this.defaultPrevented=!0},Ur(qp,ls);var qC={2:"touch",3:"pen",4:"mouse"};qp.prototype.h=function(){qp.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Rd="closure_listenable_"+(1e6*Math.random()|0),XC=0;function $C(i,t,e,s,o){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!s,this.ia=o,this.key=++XC,this.ca=this.fa=!1}function Xp(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function bo(i){this.src=i,this.g={},this.h=0}function Od(i,t){var e=t.type;if(e in i.g){var d,s=i.g[e],o=VC(s,t);(d=0<=o)&&Array.prototype.splice.call(s,o,1),d&&(Xp(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function qb(i,t,e,s){for(var o=0;o<i.length;++o){var d=i[o];if(!d.ca&&d.listener==t&&d.capture==!!e&&d.ia==s)return o}return-1}bo.prototype.add=function(i,t,e,s,o){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=qb(i,t,s,o);return-1<m?(t=i[m],e||(t.fa=!1)):((t=new $C(t,this.src,d,!!s,o)).fa=e,i.push(t)),t};var Xb="closure_lm_"+(1e6*Math.random()|0),ZC={};function Qu(i,t,e,s,o){if(s&&s.once)return Pd(i,t,e,s,o);if(Array.isArray(t)){for(var d=0;d<t.length;d++)Qu(i,t[d],e,s,o);return null}return e=Qp(e),i&&i[Rd]?i.N(t,e,Md(s)?!!s.capture:!!s,o):$b(i,t,e,!1,s,o)}function $b(i,t,e,s,o,d){if(!t)throw Error("Invalid event type");var m=Md(o)?!!o.capture:!!o,C=Vv(i);if(C||(i[Xb]=C=new bo(i)),(e=C.add(t,e,s,m,d)).proxy)return e;if(s=function(){var t=$T;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=s,s.src=i,s.listener=e,i.addEventListener)Wb||(o=m),void 0===o&&(o=!1),i.addEventListener(t.toString(),s,o);else if(i.attachEvent)i.attachEvent(Zb(t.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return e}function Pd(i,t,e,s,o){if(Array.isArray(t)){for(var d=0;d<t.length;d++)Pd(i,t[d],e,s,o);return null}return e=Qp(e),i&&i[Rd]?i.O(t,e,Md(s)?!!s.capture:!!s,o):$b(i,t,e,!0,s,o)}function QC(i,t,e,s,o){if(Array.isArray(t))for(var d=0;d<t.length;d++)QC(i,t[d],e,s,o);else s=Md(s)?!!s.capture:!!s,e=Qp(e),i&&i[Rd]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=qb(d=i.g[t],e,s,o))&&(Xp(d[e]),Array.prototype.splice.call(d,e,1),0==d.length&&(delete i.g[t],i.h--))):i&&(i=Vv(i))&&(t=i.g[t.toString()],i=-1,t&&(i=qb(t,e,s,o)),(e=-1<i?t[i]:null)&&Zp(e))}function Zp(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[Rd])Od(t.i,i);else{var e=i.type,s=i.proxy;t.removeEventListener?t.removeEventListener(e,s,i.capture):t.detachEvent?t.detachEvent(Zb(e),s):t.addListener&&t.removeListener&&t.removeListener(s),(e=Vv(t))?(Od(e,i),0==e.h&&(e.src=null,t[Xb]=null)):Xp(i)}}}function Zb(i){return i in ZC?ZC[i]:ZC[i]="on"+i}function $T(i,t){if(i.ca)i=!0;else{t=new qp(t,this);var e=i.listener,s=i.ia||i.src;i.fa&&Zp(i),i=e.call(s,t)}return i}function Vv(i){return(i=i[Xb])instanceof bo?i:null}var Qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(i){return"function"==typeof i?i:(i[Qb]||(i[Qb]=function(t){return i.handleEvent(t)}),i[Qb])}function ur(){$u.call(this),this.i=new bo(this),this.P=this,this.I=null}function xr(i,t){var e,s=i.I;if(s)for(e=[];s;s=s.I)e.push(s);if(i=i.P,s=t.type||t,"string"==typeof t)t=new ls(t,i);else if(t instanceof ls)t.target=t.target||i;else{var o=t;Nv(t=new ls(s,i),o)}if(o=!0,e)for(var d=e.length-1;0<=d;d--){var m=t.g=e[d];o=Kp(m,s,!0,t)&&o}if(o=Kp(m=t.g=i,s,!0,t)&&o,o=Kp(m,s,!1,t)&&o,e)for(d=0;d<e.length;d++)o=Kp(m=t.g=e[d],s,!1,t)&&o}function Kp(i,t,e,s){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,d=0;d<t.length;++d){var m=t[d];if(m&&!m.ca&&m.capture==e){var C=m.listener,I=m.ia||m.src;m.fa&&Od(i.i,m),o=!1!==C.call(I,s)&&o}}return o&&!s.defaultPrevented}Ur(ur,$u),ur.prototype[Rd]=!0,ur.prototype.removeEventListener=function(i,t,e,s){QC(this,i,t,e,s)},ur.prototype.M=function(){if(ur.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],s=0;s<e.length;s++)Xp(e[s]);delete i.g[t],i.h--}}this.I=null},ur.prototype.N=function(i,t,e,s){return this.i.add(String(i),t,!1,e,s)},ur.prototype.O=function(i,t,e,s){return this.i.add(String(i),t,!0,e,s)};var xc=sn.JSON.stringify;function KC(){var i=tS,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Jb,ZT=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var s=JC.get();s.set(t,e),this.h?this.h.next=s:this.g=s,this.h=s},i}(),JC=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new Nd},function(i){return i.reset()}),Nd=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function QT(i){sn.setTimeout(function(){throw i},0)}function Kb(i,t){Jb||function(){var i=sn.Promise.resolve(void 0);Jb=function(){i.then(nS)}}(),eS||(Jb(),eS=!0),tS.add(i,t)}var eS=!1,tS=new ZT;function nS(){for(var i;i=KC();){try{i.h.call(i.g)}catch(e){QT(e)}var t=JC;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}eS=!1}function On(i,t){ur.call(this),this.h=i||1,this.g=t||sn,this.j=br(this.kb,this),this.l=Date.now()}function Jp(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function iS(i,t,e){if("function"==typeof i)e&&(i=br(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=br(i.handleEvent,i)}return 2147483647<Number(t)?-1:sn.setTimeout(i,t||0)}function Ha(i){i.g=iS(function(){i.g=null,i.i&&(i.i=!1,Ha(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}Ur(On,ur),(Tt=On.prototype).da=!1,Tt.S=null,Tt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xr(this,"tick"),this.da&&(Jp(this),this.start()))}},Tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){On.Z.M.call(this),Jp(this),delete this.g};var e0=function(i){function t(e,s){var o=i.call(this)||this;return o.m=e,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Av(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ha(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}($u);function Ku(i){$u.call(this),this.h=i,this.g={}}Ur(Ku,$u);var JT=[];function rS(i,t,e,s){Array.isArray(e)||(e&&(JT[0]=e.toString()),e=JT);for(var o=0;o<e.length;o++){var d=Qu(t,e[o],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function sS(i){Pv(i.g,function(t,e){this.g.hasOwnProperty(e)&&Zp(t)},i),i.g={}}function eg(){this.g=!0}function Ju(i,t,e,s){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var s=e[i];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var d=o[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<o.length;m++)o[m]=""}}}return xc(e)}catch(C){return t}}(i,e)+(s?" "+s:"")})}Ku.prototype.M=function(){Ku.Z.M.call(this),sS(this)},Ku.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eg.prototype.Aa=function(){this.g=!1},eg.prototype.info=function(){};var Qo={},Bv=null;function tg(){return Bv=Bv||new ur}function t0(i){ls.call(this,Qo.Ma,i)}function Fd(i){var t=tg();xr(t,new t0(t,i))}function n0(i,t){ls.call(this,Qo.STAT_EVENT,i),this.stat=t}function cs(i){var t=tg();xr(t,new n0(t,i))}function lS(i,t){ls.call(this,Qo.Na,i),this.size=t}function ng(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return sn.setTimeout(function(){i()},t)}Qo.Ma="serverreachability",Ur(t0,ls),Qo.STAT_EVENT="statevent",Ur(n0,ls),Qo.Na="timingevent",Ur(lS,ls);var Hv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},r0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cS(){}function uS(){}cS.prototype.h=null;var rg,ig={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hS(){ls.call(this,"d")}function dS(){ls.call(this,"c")}function Uv(){}function Ld(i,t,e,s){this.l=i,this.j=t,this.m=e,this.X=s||1,this.V=new Ku(this),this.P=kR,this.W=new On(i=Ub?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}Ur(hS,ls),Ur(dS,ls),Ur(Uv,cS),Uv.prototype.g=function(){return new XMLHttpRequest},Uv.prototype.i=function(){return{}},rg=new Uv;var kR=45e3,qs={},a0={};function fS(i,t,e){i.K=1,i.v=Xs(Ua(t)),i.s=e,i.U=!0,nD(i,null)}function nD(i,t){i.F=Date.now(),sg(i),i.A=Ua(i.v);var e=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),sh(e.h,"t",s),i.C=0,e=i.l.H,i.h=new o0,i.g=Zv(i.l,e?t:null,!i.s),0<i.O&&(i.L=new e0(br(i.Ia,i,i.g),i.O)),rS(i.V,i.g,"readystatechange",i.gb),t=i.H?zC(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),Fd(1),function(i,t,e,s,o,d){i.info(function(){if(i.g)if(d)for(var m="",C=d.split("&"),I=0;I<C.length;I++){var F=C[I].split("=");if(1<F.length){var z=F[0];F=F[1];var X=z.split("_");m=2<=X.length&&"type"==X[1]?m+(z+"=")+F+"&":m+(z+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+t+"\n"+e+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function l0(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function c0(i,t,e){for(var o,s=!0;!i.I&&i.C<e.length;){if((o=pS(i,e))==a0){4==t&&(i.o=4,cs(14),s=!1),Ju(i.j,i.m,null,"[Incomplete Response]");break}if(o==qs){i.o=4,cs(15),Ju(i.j,i.m,e,"[Invalid Chunk]"),s=!1;break}Ju(i.j,i.m,o,null),ag(i,o)}l0(i)&&o!=a0&&o!=qs&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,cs(16),s=!1),i.i=i.i&&s,s?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),A0(t),t.L=!0,cs(11))):(Ju(i.j,i.m,e,"[Invalid Chunked Response]"),th(i),eh(i))}function pS(i,t){var e=i.C,s=t.indexOf("\n",e);return-1==s?a0:(e=Number(t.substring(e,s)),isNaN(e)?qs:(s+=1)+e>t.length?a0:(t=t.substr(s,e),i.C=s+e,t))}function sg(i){i.Y=Date.now()+i.P,iD(i,i.P)}function iD(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ng(br(i.eb,i),t)}function og(i){i.B&&(sn.clearTimeout(i.B),i.B=null)}function eh(i){0==i.l.G||i.I||IS(i.l,i)}function th(i){og(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,Jp(i.W),sS(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function ag(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||Yv(e.i,i)))if(e.I=i.N,!i.J&&Yv(e.i,i)&&3==e.G){try{var s=e.Ca.g.parse(t)}catch(Oe){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=ng(br(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;$v(e),Xv(e)}E0(e),cs(18)}if(1>=p0(e.i)&&e.ka){try{e.ka()}catch(Oe){}e.ka=void 0}}else lh(e,11)}else if((i.J||e.g==i)&&$v(e),!Rv(t))for(o=e.Ca.g.parse(t),t=0;t<o.length;t++){var d=o[t];if(e.U=d[0],d=d[1],2==e.G)if("c"==d[0]){e.J=d[1],e.la=d[2];var m=d[3];null!=m&&(e.ma=m,e.h.info("VER="+e.ma));var C=d[4];null!=C&&(e.za=C,e.h.info("SVER="+e.za));var I=d[5];null!=I&&"number"==typeof I&&0<I&&(e.K=s=1.5*I,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var F=i.g;if(F){var z=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var X=s.i;!X.g&&(os(z,"spdy")||os(z,"quic")||os(z,"h2"))&&(X.j=X.l,X.g=new Set,X.h&&(Wv(X,X.h),X.h=null))}if(s.D){var te=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(s.sa=te,ti(s.F,s.D,te))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var oe=i;if((s=e).oa=I0(s,s.H?s.la:null,s.W),oe.J){bS(s.i,oe);var ue=oe,xe=s.K;xe&&ue.setTimeout(xe),ue.B&&(og(ue),sg(ue)),s.g=oe}else S0(s);0<e.l.length&&pg(e)}else"stop"!=d[0]&&"close"!=d[0]||lh(e,7);else 3==e.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?lh(e,7):AS(e):"noop"!=d[0]&&e.j&&e.j.wa(d),e.A=0)}Fd(4)}catch(Oe){}}function u0(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(Dv(i)||"string"==typeof i)kv(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(Dv(i)||"string"==typeof i){e=[];for(var s=i.length,o=0;o<s;o++)e.push(o)}else for(o in e=[],s=0,i)e[s++]=o;o=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Dv(i)){for(var t=[],e=i.length,s=0;s<e;s++)t.push(i[s]);return t}for(s in t=[],e=0,i)t[e++]=i[s];return t}(i)).length;for(var d=0;d<o;d++)t.call(void 0,s[d],e&&e[d],i)}}function Vd(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Vd)for(e=i.T(),s=0;s<e.length;s++)this.set(e[s],i.get(e[s]));else for(s in i)this.set(s,i[s])}function h0(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var s=i.g[t];nh(i.h,s)&&(i.g[e++]=s),t++}i.g.length=e}if(i.i!=i.g.length){var o={};for(e=t=0;t<i.g.length;)nh(o,s=i.g[t])||(i.g[e++]=s,o[s]=1),t++;i.g.length=e}}function nh(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(Tt=Ld.prototype).setTimeout=function(i){this.P=i},Tt.gb=function(i){i=i.target;var t=this.L;t&&3==Tl(i)?t.l():this.Ia(i)},Tt.Ia=function(i){try{if(i==this.g)e:{var t=Tl(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>t)&&(3!=t||Ub||this.g&&(this.h.h||this.g.ga()||lD(this.g)))){this.I||4!=t||7==e||Fd(8==e||0>=s?3:2),og(this);var o=this.g.ba();this.N=o;t:if(l0(this)){var d=lD(this.g);i="";var m=d.length,C=4==Tl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){th(this),eh(this);var I="";break t}this.h.i=new sn.TextDecoder}for(e=0;e<m;e++)this.h.h=!0,i+=this.h.i.decode(d[e],{stream:C&&e==m-1});d.splice(0,m),this.h.g+=i,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==o,function(i,t,e,s,o,d,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var F,z=this.g;if((F=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rv(F)){var X=F;break t}}X=null}if(!(o=X)){this.i=!1,this.o=3,cs(12),th(this),eh(this);break e}Ju(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ag(this,o)}this.U?(c0(this,t,I),Ub&&this.i&&3==t&&(rS(this.V,this.W,"tick",this.fb),this.W.start())):(Ju(this.j,this.m,I,null),ag(this,I)),4==t&&th(this),this.i&&!this.I&&(4==t?IS(this.l,this):(this.i=!1,sg(this)))}else 400==o&&0<I.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),th(this),eh(this)}}}catch(te){}},Tt.fb=function(){if(this.g){var i=Tl(this.g),t=this.g.ga();this.C<t.length&&(og(this),c0(this,i,t),this.i&&4!=i&&sg(this))}},Tt.cancel=function(){this.I=!0,th(this)},Tt.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Fd(3),cs(17)),th(this),this.o=2,eh(this)):iD(this,this.Y-i)},(Tt=Vd.prototype).R=function(){h0(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},Tt.T=function(){return h0(this),this.g.concat()},Tt.get=function(i,t){return nh(this.h,i)?this.h[i]:t},Tt.set=function(i,t){nh(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},Tt.forEach=function(i,t){for(var e=this.T(),s=0;s<e.length;s++){var o=e[s],d=this.get(o);i.call(t,d,o,this)}};var gS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xo(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof xo){this.g=void 0!==t?t:i.g,Ts(this,i.j),this.s=i.s,wc(this,i.i),jv(this,i.m),this.l=i.l,t=i.h;var e=new za;e.i=t.i,t.g&&(e.g=new Vd(t.g),e.h=t.h),mS(this,e),this.o=i.o}else i&&(e=String(i).match(gS))?(this.g=!!t,Ts(this,e[1]||"",!0),this.s=Ko(e[2]||""),wc(this,e[3]||"",!0),jv(this,e[4]),this.l=Ko(e[5]||"",!0),mS(this,e[6]||"",!0),this.o=Ko(e[7]||"")):(this.g=!!t,this.h=new za(null,this.g))}function Ua(i){return new xo(i)}function Ts(i,t,e){i.j=e?Ko(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function wc(i,t,e){i.i=e?Ko(t,!0):t}function jv(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function mS(i,t,e){t instanceof za?(i.h=t,function(i,t){t&&!i.j&&($s(i),i.i=null,i.g.forEach(function(e,s){var o=s.toLowerCase();s!=o&&(ih(this,s),sh(this,o,e))},i)),i.j=t}(i.h,i.g)):(e||(t=Cc(t,Ud)),i.h=new za(t,i.g))}function ti(i,t,e){i.h.set(t,e)}function Xs(i){return ti(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ko(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Cc(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,wo),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function wo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}xo.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Cc(t,Gv,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Cc(t,Gv,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(Cc(e,"/"==e.charAt(0)?Hd:Bd,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Cc(e,zd)),i.join("")};var Gv=/[#\/\?@]/g,Bd=/[#\?:]/g,Hd=/[#\?]/g,Ud=/[#\?@]/g,zd=/#/g;function za(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function $s(i){i.g||(i.g=new Vd,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var s=i[e].indexOf("="),o=null;if(0<=s){var d=i[e].substring(0,s);o=i[e].substring(s+1)}else d=i[e];t(d,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ih(i,t){$s(i),t=oh(i,t),nh(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,nh((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&h0(i)))}function rh(i,t){return $s(i),t=oh(i,t),nh(i.g.h,t)}function sh(i,t,e){ih(i,t),0<e.length&&(i.i=null,i.g.set(oh(i,t),Lb(e)),i.h+=e.length)}function oh(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(Tt=za.prototype).add=function(i,t){$s(this),this.i=null,i=oh(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Tt.forEach=function(i,t){$s(this),this.g.forEach(function(e,s){kv(e,function(o){i.call(t,o,s,this)},this)},this)},Tt.T=function(){$s(this);for(var i=this.g.R(),t=this.g.T(),e=[],s=0;s<t.length;s++)for(var o=i[s],d=0;d<o.length;d++)e.push(t[s]);return e},Tt.R=function(i){$s(this);var t=[];if("string"==typeof i)rh(this,i)&&(t=HC(t,this.g.get(oh(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=HC(t,i[e])}return t},Tt.set=function(i,t){return $s(this),this.i=null,rh(this,i=oh(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Tt.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var s=t[e],o=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var m=o;""!==s[d]&&(m+="="+encodeURIComponent(String(s[d]))),i.push(m)}}return this.i=i.join("&")};var yS=function(t,e){this.h=t,this.g=e};function d0(i){this.l=i||_S,i=sn.PerformanceNavigationTiming?0<(i=sn.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(sn.g&&sn.g.Ea&&sn.g.Ea()&&sn.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _S=10;function f0(i){return!!i.h||!!i.g&&i.g.size>=i.j}function p0(i){return i.h?1:i.g?i.g.size:0}function Yv(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Wv(i,t){i.g?i.g.add(t):i.h=t}function bS(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function g0(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var s=i.i;try{for(var o=Tv(i.g.values()),d=o.next();!d.done;d=o.next())s=s.concat(d.value.D)}catch(C){t={error:C}}finally{try{d&&!d.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return s}return Lb(i.i)}function m0(){}function xS(){this.g=new m0}function wS(i,t,e){var s=e||"";try{u0(i,function(o,d){var m=o;Md(o)&&(m=xc(o)),t.push(s+d+"="+encodeURIComponent(m))})}catch(o){throw t.push(s+"type="+encodeURIComponent("_badmap")),o}}function v0(i,t,e,s,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(s)}catch(d){}}function cg(i){this.l=i.$b||null,this.j=i.ib||!1}function ug(i,t){ur.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=y0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}d0.prototype.cancel=function(){var i,t;if(this.i=g0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=Tv(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(d){i={error:d}}finally{try{s&&!s.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},m0.prototype.stringify=function(i){return sn.JSON.stringify(i,void 0)},m0.prototype.parse=function(i){return sn.JSON.parse(i,void 0)},Ur(cg,cS),cg.prototype.g=function(){return new ug(this.l,this.j)},cg.prototype.i=function(i){return function(){return i}}({}),Ur(ug,ur);var y0=0;function _0(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function hg(i){i.readyState=4,i.l=null,i.j=null,i.A=null,dg(i)}function dg(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Tt=ug.prototype).open=function(i,t){if(this.readyState!=y0)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,dg(this)},Tt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||sn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hg(this)),this.readyState=y0},Tt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,dg(this)),this.g&&(this.readyState=3,dg(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==sn.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_0(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Tt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?hg(this):dg(this),3==this.readyState&&_0(this)}},Tt.Ua=function(i){this.g&&(this.response=this.responseText=i,hg(this))},Tt.Ta=function(i){this.g&&(this.response=i,hg(this))},Tt.ha=function(){this.g&&hg(this)},Tt.setRequestHeader=function(i,t){this.v.append(i,t)},Tt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var RR=sn.JSON.parse;function Wi(i){ur.call(this),this.headers=new Vd,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=b0,this.K=this.L=!1}Ur(Wi,ur);var b0="",OR=/^https?$/i,PR=["POST","PUT"];function oD(i){return"content-type"==i.toLowerCase()}function aD(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,CS(i),jd(i)}function CS(i){i.D||(i.D=!0,xr(i,"complete"),xr(i,"error"))}function SS(i){if(i.h&&void 0!==Nb&&(!i.C[1]||4!=Tl(i)||2!=i.ba()))if(i.v&&4==Tl(i))iS(i.Fa,0,i);else if(xr(i,"readystatechange"),4==Tl(i)){i.h=!1;try{var s,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var o;if(o=0===t){var d=String(i.H).match(gS)[1]||null;if(!d&&sn.self&&sn.self.location){var m=sn.self.location.protocol;d=m.substr(0,m.length-1)}o=!OR.test(d?d.toLowerCase():"")}s=o}if(s)xr(i,"complete"),xr(i,"success");else{i.m=6;try{var C=2<Tl(i)?i.g.statusText:""}catch(I){C=""}i.j=C+" ["+i.ba()+"]",CS(i)}}finally{jd(i)}}}function jd(i,t){if(i.g){qv(i);var e=i.g,s=i.C[0]?Fb:null;i.g=null,i.C=null,t||xr(i,"ready");try{e.onreadystatechange=s}catch(o){}}}function qv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(sn.clearTimeout(i.A),i.A=null)}function Tl(i){return i.g?i.g.readyState:0}function lD(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case b0:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ES(i,t,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(i){var t="";return Pv(i,function(e,s){t+=s,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):ti(i,t,e))}function fg(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function x0(i){this.za=0,this.l=[],this.h=new eg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fg("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fg("baseRetryDelayMs",5e3,i),this.$a=fg("retryDelaySeedMs",1e4,i),this.Ya=fg("forwardChannelMaxRetries",2,i),this.ra=fg("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new d0(i&&i.concurrentRequestLimit),this.Ca=new xS,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function AS(i){if(ah(i),3==i.G){var t=i.V++,e=Ua(i.F);ti(e,"SID",i.J),ti(e,"RID",t),ti(e,"TYPE","terminate"),Sc(i,e),(t=new Ld(i,i.h,t,void 0)).K=2,t.v=Xs(Ua(e)),e=!1,sn.navigator&&sn.navigator.sendBeacon&&(e=sn.navigator.sendBeacon(t.v.toString(),"")),!e&&sn.Image&&((new Image).src=t.v,e=!0),e||(t.g=Zv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sg(t)}D0(i)}function Xv(i){i.g&&(A0(i),i.g.cancel(),i.g=null)}function ah(i){Xv(i),i.u&&(sn.clearTimeout(i.u),i.u=null),$v(i),i.i.cancel(),i.m&&("number"==typeof i.m&&sn.clearTimeout(i.m),i.m=null)}function w0(i,t){i.l.push(new yS(i.Za++,t)),3==i.G&&pg(i)}function pg(i){f0(i.i)||i.m||(i.m=!0,Kb(i.Ha,i),i.C=0)}function C0(i,t){var e;e=t?t.m:i.V++;var s=Ua(i.F);ti(s,"SID",i.J),ti(s,"RID",e),ti(s,"AID",i.U),Sc(i,s),i.o&&i.s&&ES(s,i.o,i.s),e=new Ld(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=TS(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Wv(i.i,e),fS(e,s,t)}function Sc(i,t){i.j&&u0({},function(e,s){ti(t,s,e)})}function TS(i,t,e){e=Math.min(i.l.length,e);var s=i.j?br(i.j.Oa,i.j,i):null;e:for(var o=i.l,d=-1;;){var m=["count="+e];-1==d?0<e?m.push("ofs="+(d=o[0].h)):d=0:m.push("ofs="+d);for(var C=!0,I=0;I<e;I++){var F=o[I].h,z=o[I].g;if(0>(F-=d))d=Math.max(0,o[I].h-100),C=!1;else try{wS(z,m,"req"+F+"_")}catch(X){s&&s(z)}}if(C){s=m.join("&");break e}}return i=i.l.splice(0,e),t.D=i,s}function S0(i){i.g||i.u||(i.Y=1,Kb(i.Ga,i),i.A=0)}function E0(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ng(br(i.Ga,i),T0(i,i.A)),i.A++,0))}function A0(i){null!=i.B&&(sn.clearTimeout(i.B),i.B=null)}function DS(i){i.g=new Ld(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=Ua(i.oa);ti(t,"RID","rpc"),ti(t,"SID",i.J),ti(t,"CI",i.N?"0":"1"),ti(t,"AID",i.U),Sc(i,t),ti(t,"TYPE","xmlhttp"),i.o&&i.s&&ES(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=Xs(Ua(t)),e.s=null,e.U=!0,nD(e,i)}function $v(i){null!=i.v&&(sn.clearTimeout(i.v),i.v=null)}function IS(i,t){var e=null;if(i.g==t){$v(i),A0(i),i.g=null;var s=2}else{if(!Yv(i.i,t))return;e=t.D,bS(i.i,t),s=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==s){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=i.C;xr(s=tg(),new lS(s,e,t,o)),pg(i)}else S0(i);else if(3==(o=t.o)||0==o&&0<i.I||!(1==s&&function(i,t){return!(p0(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ng(br(i.Ha,i,t),T0(i,i.C)),i.C++,0)))}(i,t)||2==s&&E0(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),o){case 1:lh(i,5);break;case 4:lh(i,10);break;case 3:lh(i,6);break;default:lh(i,2)}}function T0(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function lh(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var s=br(i.jb,i);e||(e=new xo("//www.google.com/images/cleardot.gif"),sn.location&&"http"==sn.location.protocol||Ts(e,"https"),Xs(e)),function(i,t){var e=new eg;if(sn.Image){var s=new Image;s.onload=Mv(v0,e,s,"TestLoadImage: loaded",!0,t),s.onerror=Mv(v0,e,s,"TestLoadImage: error",!1,t),s.onabort=Mv(v0,e,s,"TestLoadImage: abort",!1,t),s.ontimeout=Mv(v0,e,s,"TestLoadImage: timeout",!1,t),sn.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else t(!1)}(e.toString(),s)}else cs(2);i.G=0,i.j&&i.j.va(t),D0(i),ah(i)}function D0(i){i.G=0,i.I=-1,i.j&&((0!=g0(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Lb(i.l),i.l.length=0),i.j.ua())}function I0(i,t,e){var s=function(i){return i instanceof xo?Ua(i):new xo(i,void 0)}(e);if(""!=s.i)t&&wc(s,t+"."+s.i),jv(s,s.m);else{var o=sn.location;s=function(i,t,e,s){var o=new xo(null,void 0);return i&&Ts(o,i),t&&wc(o,t),e&&jv(o,e),s&&(o.l=s),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,e)}return i.aa&&Pv(i.aa,function(d,m){ti(s,m,d)}),e=i.sa,(t=i.D)&&e&&ti(s,t,e),ti(s,"VER",i.ma),Sc(i,s),s}function Zv(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Wi(e&&i.Ba&&!i.qa?new cg({ib:!0}):i.qa)).L=i.H,t}function uD(){}function Gd(){if(Zu&&!(10<=Number(XT)))throw Error("Environmental error: no available transport.")}function Zs(i,t){ur.call(this),this.g=new x0(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!Rv(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rv(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Wd(this)}function hD(i){hS.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function Yd(){dS.call(this),this.status=1}function Wd(i){this.g=i}(Tt=Wi.prototype).ea=function(i,t,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rg.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:rg),this.g.onreadystatechange=br(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(d){return void aD(this,d)}i=e||"";var o=new Vd(this.headers);s&&u0(s,function(d,m){o.set(m,d)}),s=function(i){e:{for(var t=oD,e=i.length,s="string"==typeof i?i.split(""):i,o=0;o<e;o++)if(o in s&&t.call(void 0,s[o],o,i)){t=o;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(o.T()),e=sn.FormData&&i instanceof sn.FormData,!(0<=VC(PR,t))||s||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qv(this),0<this.B&&((this.K=function(i){return Zu&&Yb()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.pa,this)):this.A=iS(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){aD(this,d)}},Tt.pa=function(){void 0!==Nb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},Tt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,xr(this,"complete"),xr(this,"abort"),jd(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jd(this,!0)),Wi.Z.M.call(this)},Tt.Fa=function(){this.s||(this.F||this.v||this.l?SS(this):this.cb())},Tt.cb=function(){SS(this)},Tt.ba=function(){try{return 2<Tl(this)?this.g.status:-1}catch(i){return-1}},Tt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Tt.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),RR(t)}},Tt.Da=function(){return this.m},Tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=x0.prototype).ma=8,Tt.G=1,Tt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},Tt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new Ld(this,this.h,i,void 0),e=this.s;if(this.P&&(e?Nv(e=zC(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var d=this.l[o];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(s+=d)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=TS(this,t,s),ti(o=Ua(this.F),"RID",i),ti(o,"CVER",22),this.D&&ti(o,"X-HTTP-Session-Id",this.D),Sc(this,o),this.o&&e&&ES(o,this.o,e),Wv(this.i,t),this.Ra&&ti(o,"TYPE","init"),this.ja?(ti(o,"$req",s),ti(o,"SID","null"),t.$=!0,fS(t,o,null)):fS(t,o,s),this.G=2}}else 3==this.G&&(i?C0(this,i):0==this.l.length||f0(this.i)||C0(this))},Tt.Ga=function(){if(this.u=null,DS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ng(br(this.bb,this),i)}},Tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cs(10),Xv(this),DS(this))},Tt.ab=function(){null!=this.v&&(this.v=null,Xv(this),E0(this),cs(19))},Tt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),cs(2)):(this.h.info("Failed to ping google.com"),cs(1))},(Tt=uD.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Oa=function(){},Gd.prototype.g=function(i,t){return new Zs(i,t)},Ur(Zs,ur),Zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Kb(br(i.hb,i,t))),cs(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=I0(i,null,i.W),pg(i)},Zs.prototype.close=function(){AS(this.g)},Zs.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,w0(this.g,t)}else this.v?((t={}).__data__=xc(i),w0(this.g,t)):w0(this.g,i)},Zs.prototype.M=function(){this.g.j=null,delete this.j,AS(this.g),delete this.g,Zs.Z.M.call(this)},Ur(hD,hS),Ur(Yd,dS),Ur(Wd,uD),Wd.prototype.xa=function(){xr(this.g,"a")},Wd.prototype.wa=function(i){xr(this.g,new hD(i))},Wd.prototype.va=function(i){xr(this.g,new Yd(i))},Wd.prototype.ua=function(){xr(this.g,"b")},Gd.prototype.createWebChannel=Gd.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,Hv.NO_ERROR=0,Hv.TIMEOUT=8,Hv.HTTP_ERROR=6,r0.COMPLETE="complete",uS.EventType=ig,ig.OPEN="a",ig.CLOSE="b",ig.ERROR="c",ig.MESSAGE="d",ur.prototype.listen=ur.prototype.N,Wi.prototype.listenOnce=Wi.prototype.O,Wi.prototype.getLastError=Wi.prototype.La,Wi.prototype.getLastErrorCode=Wi.prototype.Da,Wi.prototype.getStatus=Wi.prototype.ba,Wi.prototype.getResponseJson=Wi.prototype.Qa,Wi.prototype.getResponseText=Wi.prototype.ga,Wi.prototype.send=Wi.prototype.ea;var Jv=Hv,ey=r0,ty=Qo,ny_PROXY=10,ny_NOPROXY=11,dD=cg,gg=uS,iy=Wi,Ds=function(){function i(t,e){var s=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(o){return s.t(o)},this.i=function(o){return e.writeSequenceNumber(o)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();Ds.o=-1;var Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lt=function(i){function t(e,s){var o=this;return(o=i.call(this,s)||this).code=e,o.message=s,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return(0,ce.ZT)(t,i),t}(Error),Qs=new bc.Yd("@firebase/firestore");function mg(){return Qs.logLevel}function ft(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Qs.logLevel<=bc.in.DEBUG){var s=t.map(ry);Qs.debug.apply(Qs,(0,ce.ev)(["Firestore (8.8.1): "+i],s))}}function qi(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Qs.logLevel<=bc.in.ERROR){var s=t.map(ry);Qs.error.apply(Qs,(0,ce.ev)(["Firestore (8.8.1): "+i],s))}}function qd(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Qs.logLevel<=bc.in.WARN){var s=t.map(ry);Qs.warn.apply(Qs,(0,ce.ev)(["Firestore (8.8.1): "+i],s))}}function ry(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function Bt(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+i;throw qi(t),new Error(t)}function Kt(i,t){i||Bt()}function _t(i,t){return i}function kS(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}var M0=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,s="";s.length<20;)for(var o=kS(40),d=0;d<o.length;++d)s.length<20&&o[d]<e&&(s+=t.charAt(o[d]%t.length));return s},i}();function wn(i,t){return i<t?-1:i>t?1:0}function Ec(i,t,e){return i.length===t.length&&i.every(function(s,o){return e(s,t[o])})}function k0(i){return i+"\0"}var us=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?wn(this.nanoseconds,t.nanoseconds):wn(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),pn=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new us(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function R0(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ac(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function O0(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var P0=function(){function i(t,e,s){void 0===e?e=0:e>t.length&&Bt(),void 0===s?s=t.length-e:s>t.length-e&&Bt(),this.segments=t,this.offset=e,this.len=s}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(s){e.push(s)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var s=Math.min(t.length,e.length),o=0;o<s;o++){var d=t.get(o),m=e.get(o);if(d<m)return-1;if(d>m)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),Mn=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype.construct=function(e,s,o){return new t(e,s,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];for(var o=[],d=0,m=e;d<m.length;d++){var C=m[d];if(C.indexOf("//")>=0)throw new lt(Ze.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");o.push.apply(o,C.split("/").filter(function(I){return I.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(P0),LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jo=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype.construct=function(e,s,o){return new t(e,s,o)},t.isValidIdentifier=function(e){return LR.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var s=[],o="",d=0,m=function(){if(0===o.length)throw new lt(Ze.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(o),o=""},C=!1;d<e.length;){var I=e[d];if("\\"===I){if(d+1===e.length)throw new lt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var F=e[d+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new lt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,d+=2}else"`"===I?(C=!C,d++):"."!==I||C?(o+=I,d++):(m(),d++)}if(m(),C)throw new lt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(s)},t.emptyPath=function(){return new t([])},t}(P0),Xd=function(){function i(t){this.fields=t,t.sort(Jo.comparator)}return i.prototype.covers=function(t){for(var e=0,s=this.fields;e<s.length;e++)if(s[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return Ec(this.fields,t.fields,function(e,s){return e.isEqual(s)})},i}(),jr=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var s="",o=0;o<e.length;++o)s+=String.fromCharCode(e[o]);return s}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return wn(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();jr.EMPTY_BYTE_STRING=new jr("");var pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(i){if(Kt(!!i),"string"==typeof i){var t=0,e=pD.exec(i);if(Kt(!!e),e[1]){var s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}var o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Hi(i.seconds),nanos:Hi(i.nanos)}}function Hi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function $d(i){return"string"==typeof i?jr.fromBase64String(i):jr.fromUint8Array(i)}function N0(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function F0(i){var t=i.mapValue.fields.__previous_value__;return N0(t)?F0(t):t}function vg(i){var t=ni(i.mapValue.fields.__local_write_time__.timestampValue);return new us(t.seconds,t.nanos)}function Tc(i){return null==i}function yg(i){return 0===i&&1/i==-1/0}function ch(i){return"number"==typeof i&&Number.isInteger(i)&&!yg(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Gt=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(Mn.fromString(t))},i.fromName=function(t){return new i(Mn.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===Mn.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return Mn.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new Mn(t.slice()))},i}();function uh(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?N0(i)?4:10:Bt()}function ea(i,t){var o,e=uh(i);if(e!==uh(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return vg(i).isEqual(vg(t));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;var d=ni(s.timestampValue),m=ni(o.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return o=t,$d(i.bytesValue).isEqual($d(o.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,o){return Hi(s.geoPointValue.latitude)===Hi(o.geoPointValue.latitude)&&Hi(s.geoPointValue.longitude)===Hi(o.geoPointValue.longitude)}(i,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Hi(s.integerValue)===Hi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){var d=Hi(s.doubleValue),m=Hi(o.doubleValue);return d===m?yg(d)===yg(m):isNaN(d)&&isNaN(m)}return!1}(i,t);case 9:return Ec(i.arrayValue.values||[],t.arrayValue.values||[],ea);case 10:return function(s,o){var d=s.mapValue.fields||{},m=o.mapValue.fields||{};if(R0(d)!==R0(m))return!1;for(var C in d)if(d.hasOwnProperty(C)&&(void 0===m[C]||!ea(d[C],m[C])))return!1;return!0}(i,t);default:return Bt()}}function _g(i,t){return void 0!==(i.values||[]).find(function(e){return ea(e,t)})}function hh(i,t){var o,d,m,C,e=uh(i),s=uh(t);if(e!==s)return wn(e,s);switch(e){case 0:return 0;case 1:return wn(i.booleanValue,t.booleanValue);case 2:return d=t,(m=Hi((o=i).integerValue||o.doubleValue))<(C=Hi(d.integerValue||d.doubleValue))?-1:m>C?1:m===C?0:isNaN(m)?isNaN(C)?0:-1:1;case 3:return gD(i.timestampValue,t.timestampValue);case 4:return gD(vg(i),vg(t));case 5:return wn(i.stringValue,t.stringValue);case 6:return function(o,d){var m=$d(o),C=$d(d);return m.compareTo(C)}(i.bytesValue,t.bytesValue);case 7:return function(o,d){for(var m=o.split("/"),C=d.split("/"),I=0;I<m.length&&I<C.length;I++){var F=wn(m[I],C[I]);if(0!==F)return F}return wn(m.length,C.length)}(i.referenceValue,t.referenceValue);case 8:return function(o,d){var m=wn(Hi(o.latitude),Hi(d.latitude));return 0!==m?m:wn(Hi(o.longitude),Hi(d.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(o,d){for(var m=o.values||[],C=d.values||[],I=0;I<m.length&&I<C.length;++I){var F=hh(m[I],C[I]);if(F)return F}return wn(m.length,C.length)}(i.arrayValue,t.arrayValue);case 10:return function(o,d){var m=o.fields||{},C=Object.keys(m),I=d.fields||{},F=Object.keys(I);C.sort(),F.sort();for(var z=0;z<C.length&&z<F.length;++z){var X=wn(C[z],F[z]);if(0!==X)return X;var te=hh(m[C[z]],I[F[z]]);if(0!==te)return te}return wn(C.length,F.length)}(i.mapValue,t.mapValue);default:throw Bt()}}function gD(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return wn(i,t);var e=ni(i),s=ni(t),o=wn(e.seconds,s.seconds);return 0!==o?o:wn(e.nanos,s.nanos)}function bg(i){return xg(i)}function xg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(o=ni(i.timestampValue)).seconds+","+o.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?$d(i.bytesValue).toBase64():"referenceValue"in i?Gt.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(s){for(var o="[",d=!0,m=0,C=s.values||[];m<C.length;m++)d?d=!1:o+=",",o+=xg(C[m]);return o+"]"}(i.arrayValue):"mapValue"in i?function(s){for(var o="{",d=!0,m=0,C=Object.keys(s.fields||{}).sort();m<C.length;m++){var I=C[m];d?d=!1:o+=",",o+=I+":"+xg(s.fields[I])}return o+"}"}(i.mapValue):Bt();var o,t}function Ks(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function L0(i){return!!i&&"integerValue"in i}function sy(i){return!!i&&"arrayValue"in i}function ta(i){return!!i&&"nullValue"in i}function Co(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Is(i){return!!i&&"mapValue"in i}function Zd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return Ac(i.mapValue.fields,function(o,d){return t.mapValue.fields[o]=Zd(d)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Zd(i.arrayValue.values[s]);return e}return Object.assign({},i)}var Ms=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,s=0;s<t.length-1;++s)if(!Is(e=(e.mapValue.fields||{})[t.get(s)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zd(e)},i.prototype.setAll=function(t){var e=this,s=Jo.emptyPath(),o={},d=[];t.forEach(function(C,I){if(!s.isImmediateParentOf(I)){var F=e.getFieldsMap(s);e.applyChanges(F,o,d),o={},d=[],s=I.popLast()}C?o[I.lastSegment()]=Zd(C):d.push(I.lastSegment())});var m=this.getFieldsMap(s);this.applyChanges(m,o,d)},i.prototype.delete=function(t){var e=this.field(t.popLast());Is(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return ea(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var s=0;s<t.length;++s){var o=e.mapValue.fields[t.get(s)];Is(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,s){Ac(e,function(C,I){return t[C]=I});for(var o=0,d=s;o<d.length;o++)delete t[d[o]]},i.prototype.clone=function(){return new i(Zd(this.value))},i}();function RS(i){var t=[];return Ac(i.fields,function(e,s){var o=new Jo([e]);if(Is(s)){var d=RS(s.mapValue).fields;if(0===d.length)t.push(o);else for(var m=0,C=d;m<C.length;m++)t.push(o.child(C[m]))}else t.push(o)}),new Xd(t)}var wr=function(){function i(t,e,s,o,d){this.key=t,this.documentType=e,this.version=s,this.data=o,this.documentState=d}return i.newInvalidDocument=function(t){return new i(t,0,pn.min(),Ms.empty(),0)},i.newFoundDocument=function(t,e,s){return new i(t,1,e,s,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Ms.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Ms.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),mD=function(i,t,e,s,o,d,m){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===d&&(d=null),void 0===m&&(m=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=s,this.limit=o,this.startAt=d,this.endAt=m,this.h=null};function OS(i,t,e,s,o,d,m){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===d&&(d=null),void 0===m&&(m=null),new mD(i,t,e,s,o,d,m)}function dh(i){var t=_t(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(s){return(o=s).field.canonicalString()+o.op.toString()+bg(o.value);var o}).join(","),e+="|ob:",e+=t.orderBy.map(function(s){return(o=s).field.canonicalString()+o.dir;var o}).join(","),Tc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Cg(t.startAt)),t.endAt&&(e+="|ub:",e+=Cg(t.endAt)),t.h=e}return t.h}function Dc(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!VS(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var s=0;s<i.filters.length;s++)if((o=i.filters[s]).op!==(d=t.filters[s]).op||!o.field.isEqual(d.field)||!ea(o.value,d.value))return!1;var o,d;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!H0(i.startAt,t.startAt)&&H0(i.endAt,t.endAt)}function oy(i){return Gt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var ks=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).field=e,d.op=s,d.value=o,d}return(0,ce.ZT)(t,i),t.create=function(e,s,o){return e.isKeyField()?"in"===s||"not-in"===s?this.l(e,s,o):new vD(e,s,o):"array-contains"===s?new yD(e,o):"in"===s?new FS(e,o):"not-in"===s?new LS(e,o):"array-contains-any"===s?new V0(e,o):new t(e,s,o)},t.l=function(e,s,o){return"in"===s?new PS(e,o):new NS(e,o)},t.prototype.matches=function(e){var s=e.data.field(this.field);return"!="===this.op?null!==s&&this.m(hh(s,this.value)):null!==s&&uh(this.value)===uh(s)&&this.m(hh(s,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),vD=function(i){function t(e,s,o){var d=this;return(d=i.call(this,e,s,o)||this).key=Gt.fromName(o.referenceValue),d}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){var s=Gt.comparator(e.key,this.key);return this.m(s)},t}(ks),PS=function(i){function t(e,s){var o=this;return(o=i.call(this,e,"in",s)||this).keys=wg(0,s),o}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(s){return s.isEqual(e.key)})},t}(ks),NS=function(i){function t(e,s){var o=this;return(o=i.call(this,e,"not-in",s)||this).keys=wg(0,s),o}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(s){return s.isEqual(e.key)})},t}(ks);function wg(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(s){return Gt.fromName(s.referenceValue)})}var yD=function(i){function t(e,s){return i.call(this,e,"array-contains",s)||this}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){var s=e.data.field(this.field);return sy(s)&&_g(s.arrayValue,this.value)},t}(ks),FS=function(i){function t(e,s){return i.call(this,e,"in",s)||this}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){var s=e.data.field(this.field);return null!==s&&_g(this.value.arrayValue,s)},t}(ks),LS=function(i){function t(e,s){return i.call(this,e,"not-in",s)||this}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=e.data.field(this.field);return null!==s&&!_g(this.value.arrayValue,s)},t}(ks),V0=function(i){function t(e,s){return i.call(this,e,"array-contains-any",s)||this}return(0,ce.ZT)(t,i),t.prototype.matches=function(e){var s=this,o=e.data.field(this.field);return!(!sy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(d){return _g(s.value.arrayValue,d)})},t}(ks),Ic=function(i,t){this.position=i,this.before=t};function Cg(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return bg(t)}).join(",")}var fh=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function VS(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function B0(i,t,e){for(var s=0,o=0;o<i.position.length;o++){var d=t[o],m=i.position[o];if(s=d.field.isKeyField()?Gt.comparator(Gt.fromName(m.referenceValue),e.key):hh(m,e.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function H0(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!ea(i.position[e],t.position[e]))return!1;return!0}var ja=function(i,t,e,s,o,d,m,C){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===o&&(o=null),void 0===d&&(d="F"),void 0===m&&(m=null),void 0===C&&(C=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=s,this.limit=o,this.limitType=d,this.startAt=m,this.endAt=C,this.p=null,this.T=null};function U0(i,t,e,s,o,d,m,C){return new ja(i,t,e,s,o,d,m,C)}function ph(i){return new ja(i)}function Sg(i){return!Tc(i.limit)&&"F"===i.limitType}function ay(i){return!Tc(i.limit)&&"L"===i.limitType}function z0(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function j0(i){for(var t=0,e=i.filters;t<e.length;t++){var s=e[t];if(s.g())return s.field}return null}function G0(i){return null!==i.collectionGroup}function Qd(i){var t=_t(i);if(null===t.p){t.p=[];var e=j0(t),s=z0(t);if(null!==e&&null===s)e.isKeyField()||t.p.push(new fh(e)),t.p.push(new fh(Jo.keyField(),"asc"));else{for(var o=!1,d=0,m=t.explicitOrderBy;d<m.length;d++){var C=m[d];t.p.push(C),C.field.isKeyField()&&(o=!0)}if(!o){var I=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new fh(Jo.keyField(),I))}}}return t.p}function So(i){var t=_t(i);if(!t.T)if("F"===t.limitType)t.T=OS(t.path,t.collectionGroup,Qd(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],s=0,o=Qd(t);s<o.length;s++){var d=o[s];e.push(new fh(d.field,"desc"===d.dir?"asc":"desc"))}var C=t.endAt?new Ic(t.endAt.position,!t.endAt.before):null,I=t.startAt?new Ic(t.startAt.position,!t.startAt.before):null;t.T=OS(t.path,t.collectionGroup,e,t.filters,t.limit,C,I)}return t.T}function BS(i,t,e){return new ja(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Eg(i,t){return Dc(So(i),So(t))&&i.limitType===t.limitType}function HS(i){return dh(So(i))+"|lt:"+i.limitType}function Y0(i){return"Query(target="+(e=(t=So(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(s){return(o=s).field.canonicalString()+" "+o.op+" "+bg(o.value);var o}).join(", ")+"]"),Tc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(s){return(o=s).field.canonicalString()+" ("+o.dir+")";var o}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Cg(t.startAt)),t.endAt&&(e+=", endAt: "+Cg(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function Ag(i,t){return t.isFoundDocument()&&(o=(s=t).key.path,null!==(e=i).collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Gt.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o))&&function(e,s){for(var o=0,d=e.explicitOrderBy;o<d.length;o++){var m=d[o];if(!m.field.isKeyField()&&null===s.data.field(m.field))return!1}return!0}(i,t)&&function(e,s){for(var o=0,d=e.filters;o<d.length;o++)if(!d[o].matches(s))return!1;return!0}(i,t)&&function(e,s){return!(e.startAt&&!B0(e.startAt,Qd(e),s)||e.endAt&&B0(e.endAt,Qd(e),s))}(i,t);var e,s,o}function US(i){return function(t,e){for(var s=!1,o=0,d=Qd(i);o<d.length;o++){var m=d[o],C=_D(m,t,e);if(0!==C)return C;s=s||m.field.isKeyField()}return 0}}function _D(i,t,e){var o,m,C,I,s=i.field.isKeyField()?Gt.comparator(t.key,e.key):(m=e,C=t.data.field(o=i.field),I=m.data.field(o),null!==C&&null!==I?hh(C,I):Bt());switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Bt()}}function zS(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(t)?"-0":t}}function jS(i){return{integerValue:""+i}}function GS(i,t){return ch(t)?jS(t):zS(i,t)}var ly=function(){this._=void 0};function YS(i,t,e){return i instanceof gh?(d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=e).seconds,nanos:s.nanoseconds}}}},(o=t)&&(d.fields.__previous_value__=o),{mapValue:d}):i instanceof Mc?q0(i,t):i instanceof kc?X0(i,t):function(s,o){var d=W0(s,o),m=cy(d)+cy(s.A);return L0(d)&&L0(s.A)?jS(m):zS(s.R,m)}(i,t);var s,o,d}function WS(i,t,e){return i instanceof Mc?q0(i,t):i instanceof kc?X0(i,t):e}function W0(i,t){return i instanceof mh?L0(e=t)||(s=e)&&"doubleValue"in s?t:{integerValue:0}:null;var s,e}var gh=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t}(ly),Mc=function(i){function t(e){var s=this;return(s=i.call(this)||this).elements=e,s}return(0,ce.ZT)(t,i),t}(ly);function q0(i,t){for(var e=uy(t),s=function(m){e.some(function(C){return ea(C,m)})||e.push(m)},o=0,d=i.elements;o<d.length;o++)s(d[o]);return{arrayValue:{values:e}}}var kc=function(i){function t(e){var s=this;return(s=i.call(this)||this).elements=e,s}return(0,ce.ZT)(t,i),t}(ly);function X0(i,t){for(var e=uy(t),s=function(m){e=e.filter(function(C){return!ea(C,m)})},o=0,d=i.elements;o<d.length;o++)s(d[o]);return{arrayValue:{values:e}}}var mh=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).R=e,o.A=s,o}return(0,ce.ZT)(t,i),t}(ly);function cy(i){return Hi(i.integerValue||i.doubleValue)}function uy(i){return sy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var na=function(i,t){this.field=i,this.transform=t},bD=function(i,t){this.version=i,this.transformResults=t},Gr=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function Dl(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var $0=function(){};function Z0(i,t,e){var s,o,d,m,C;i instanceof Yt?(o=t,d=e,m=(s=i).value.clone(),C=ZS(s.fieldTransforms,o,d.transformResults),m.setAll(C),o.convertToFoundDocument(d.version,m).setHasCommittedMutations()):i instanceof Rc?function(s,o,d){if(Dl(s.precondition,o)){var m=ZS(s.fieldTransforms,o,d.transformResults),C=o.data;C.setAll($S(s)),C.setAll(m),o.convertToFoundDocument(d.version,C).setHasCommittedMutations()}else o.convertToUnknownDocument(d.version)}(i,t,e):function(s,o,d){o.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,e)}function qS(i,t,e){var o;i instanceof Yt?function(s,o,d){if(Dl(s.precondition,o)){var m=s.value.clone(),C=Tg(s.fieldTransforms,d,o);m.setAll(C),o.convertToFoundDocument(xD(o),m).setHasLocalMutations()}}(i,t,e):i instanceof Rc?function(s,o,d){if(Dl(s.precondition,o)){var m=Tg(s.fieldTransforms,d,o),C=o.data;C.setAll($S(s)),C.setAll(m),o.convertToFoundDocument(xD(o),C).setHasLocalMutations()}}(i,t,e):Dl(i.precondition,o=t)&&o.convertToNoDocument(pn.min())}function XS(i,t){for(var e=null,s=0,o=i.fieldTransforms;s<o.length;s++){var d=o[s],m=t.data.field(d.field),C=W0(d.transform,m||null);null!=C&&(null==e&&(e=Ms.empty()),e.set(d.field,C))}return e||null}function Q0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(s=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===s||e&&s&&Ec(e,s,function(o,d){return(m=o).field.isEqual((C=d).field)&&(F=C.transform,(I=m.transform)instanceof Mc&&F instanceof Mc||I instanceof kc&&F instanceof kc?Ec(I.elements,F.elements,ea):I instanceof mh&&F instanceof mh?ea(I.A,F.A):I instanceof gh&&F instanceof gh);var m,C,I,F})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,s}function xD(i){return i.isFoundDocument()?i.version:pn.min()}var Yt=function(i){function t(e,s,o,d){void 0===d&&(d=[]);var m=this;return(m=i.call(this)||this).key=e,m.value=s,m.precondition=o,m.fieldTransforms=d,m.type=0,m}return(0,ce.ZT)(t,i),t}($0),Rc=function(i){function t(e,s,o,d,m){void 0===m&&(m=[]);var C=this;return(C=i.call(this)||this).key=e,C.data=s,C.fieldMask=o,C.precondition=d,C.fieldTransforms=m,C.type=1,C}return(0,ce.ZT)(t,i),t}($0);function $S(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var s=i.data.field(e);t.set(e,s)}}),t}function ZS(i,t,e){var s=new Map;Kt(i.length===e.length);for(var o=0;o<e.length;o++){var d=i[o],m=d.transform,C=t.data.field(d.field);s.set(d.field,WS(m,C,e[o]))}return s}function Tg(i,t,e){for(var s=new Map,o=0,d=i;o<d.length;o++){var m=d[o],C=m.transform,I=e.data.field(m.field);s.set(m.field,YS(C,I,t))}return s}var Xi,Cn,Oc=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).key=e,o.precondition=s,o.type=2,o.fieldTransforms=[],o}return(0,ce.ZT)(t,i),t}($0),yi=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).key=e,o.precondition=s,o.type=3,o.fieldTransforms=[],o}return(0,ce.ZT)(t,i),t}($0),VR=function(i){this.count=i};function K0(i){switch(i){case Ze.OK:return Bt();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0;default:return Bt()}}function hy(i){if(void 0===i)return qi("GRPC error has no .code"),Ze.UNKNOWN;switch(i){case Xi.OK:return Ze.OK;case Xi.CANCELLED:return Ze.CANCELLED;case Xi.UNKNOWN:return Ze.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return Ze.INTERNAL;case Xi.UNAVAILABLE:return Ze.UNAVAILABLE;case Xi.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Xi.NOT_FOUND:return Ze.NOT_FOUND;case Xi.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Xi.ABORTED:return Ze.ABORTED;case Xi.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Xi.DATA_LOSS:return Ze.DATA_LOSS;default:return Bt()}}(Cn=Xi||(Xi={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";var Yr=function(){function i(t,e){this.comparator=t,this.root=e||Il.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Il.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Il.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var s=this.comparator(t,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,s=this.root;!s.isEmpty();){var o=this.comparator(t,s.key);if(0===o)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,s){return t(e,s),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,s){return t.push(e+":"+s),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new Dg(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new Dg(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new Dg(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new Dg(this.root,t,this.comparator,!0)},i}(),Dg=function(){function i(t,e,s,o){this.isReverse=o,this.nodeStack=[];for(var d=1;!t.isEmpty();)if(d=e?s(t.key,e):1,o&&(d*=-1),d<0)t=this.isReverse?t.left:t.right;else{if(0===d){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),Il=function(){function i(t,e,s,o,d){this.key=t,this.value=e,this.color=null!=s?s:i.RED,this.left=null!=o?o:i.EMPTY,this.right=null!=d?d:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,s,o,d){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=d?d:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,s){var o=this,d=s(t,o.key);return(o=d<0?o.copy(null,null,null,o.left.insert(t,e,s),null):0===d?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return i.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();var t=this.left.check();if(t!==this.right.check())throw Bt();return t+(this.isRed()?0:1)},i}();Il.EMPTY=null,Il.RED=!0,Il.BLACK=!1,Il.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Bt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Bt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Bt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Bt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Bt()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,s,o,d){return this},i.prototype.insert=function(t,e,s){return new Il(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var $i=function(){function i(t){this.comparator=t,this.data=new Yr(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,s){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var s=this.data.getIteratorFrom(t[0]);s.hasNext();){var o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}},i.prototype.forEachWhile=function(t,e){var s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new J0(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new J0(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(s){e=e.add(s)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),s=t.data.getIterator();e.hasNext();){var o=e.getNext().key,d=s.getNext().key;if(0!==this.comparator(o,d))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),J0=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),wD=new Yr(Gt.comparator);function Eo(){return wD}var CD=new Yr(Gt.comparator);function vh(){return CD}var SD=new Yr(Gt.comparator);function QS(){return SD}var ED=new $i(Gt.comparator);function Pn(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=ED,s=0,o=i;s<o.length;s++){var d=o[s];e=e.add(d)}return e}var KS=new $i(wn);function Ig(){return KS}var dy=function(){function i(t,e,s,o,d){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=d}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var s=new Map;return s.set(t,ex.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(pn.min(),s,Ig(),Eo(),Pn())},i}(),ex=function(){function i(t,e,s,o,d){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=d}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(jr.EMPTY_BYTE_STRING,e,Pn(),Pn(),Pn())},i}(),Pc=function(i,t,e,s){this.v=i,this.removedTargetIds=t,this.key=e,this.P=s},Kd=function(i,t){this.targetId=i,this.V=t},JS=function(i,t,e,s){void 0===e&&(e=jr.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=s},eE=function(){function i(){this.S=0,this.D=nx(),this.C=jr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},i.prototype.M=function(){var t=Pn(),e=Pn(),s=Pn();return this.D.forEach(function(o,d){switch(d){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Bt()}}),new ex(this.C,this.N,t,e,s)},i.prototype.L=function(){this.F=!1,this.D=nx()},i.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.F=!0,this.N=!0},i}(),AD=function(){function i(t){this.W=t,this.G=new Map,this.H=Eo(),this.J=tx(),this.Y=new $i(wn)}return i.prototype.X=function(t){for(var e=0,s=t.v;e<s.length;e++){var o=s[e];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var d=0,m=t.removedTargetIds;d<m.length;d++)this.tt(o=m[d],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(s){var o=e.nt(s);switch(t.state){case 0:e.st(s)&&o.O(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.k||e.removeTarget(s);break;case 3:e.st(s)&&(o.j(),o.O(t.resumeToken));break;case 4:e.st(s)&&(e.it(s),o.O(t.resumeToken));break;default:Bt()}})},i.prototype.forEachTarget=function(t,e){var s=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(o,d){s.st(d)&&e(d)})},i.prototype.rt=function(t){var e=t.targetId,s=t.V.count,o=this.ot(e);if(o){var d=o.target;if(oy(d))if(0===s){var m=new Gt(d.path);this.tt(e,m,wr.newNoDocument(m,pn.min()))}else Kt(1===s);else this.ct(e)!==s&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,s=new Map;this.G.forEach(function(m,C){var I=e.ot(C);if(I){if(m.current&&oy(I.target)){var F=new Gt(I.target.path);null!==e.H.get(F)||e.at(C,F)||e.tt(C,F,wr.newNoDocument(F,t))}m.$&&(s.set(C,m.M()),m.L())}});var o=Pn();this.J.forEach(function(m,C){var I=!0;C.forEachWhile(function(F){var z=e.ot(F);return!z||2===z.purpose||(I=!1,!1)}),I&&(o=o.add(m))});var d=new dy(t,s,this.Y,this.H,o);return this.H=Eo(),this.J=tx(),this.Y=new $i(wn),d},i.prototype.Z=function(t,e){if(this.st(t)){var s=this.at(t,e.key)?2:0;this.nt(t).B(e.key,s),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,s){if(this.st(t)){var o=this.nt(t);this.at(t,e)?o.B(e,1):o.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),s&&(this.H=this.H.insert(e,s))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new eE,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $i(wn),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||ft("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new eE),this.W.getRemoteKeysForTarget(t).forEach(function(s){e.tt(t,s,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function tx(){return new Yr(Gt.comparator)}function nx(){return new Yr(Gt.comparator)}var tE={asc:"ASCENDING",desc:"DESCENDING"},TD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nE=function(i,t){this.databaseId=i,this.I=t};function Mg(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function iE(i,t){return i.I?t.toBase64():t.toUint8Array()}function BR(i,t){return Mg(i,t.toTimestamp())}function Cr(i){return Kt(!!i),pn.fromTimestamp((e=ni(i),new us(e.seconds,e.nanos)));var e}function rE(i,t){return(e=i,new Mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function DD(i){var t=Mn.fromString(i);return Kt(gE(t)),t}function Jd(i,t){return rE(i.databaseId,t.path)}function Js(i,t){var e=DD(t);if(e.get(1)!==i.databaseId.projectId)throw new lt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new lt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Gt(tf(e))}function ix(i,t){return rE(i.databaseId,t)}function sE(i){var t=DD(i);return 4===t.length?Mn.emptyPath():tf(t)}function ef(i){return new Mn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tf(i){return Kt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function oE(i,t,e){return{name:Jd(i,t),fields:e.value.mapValue.fields}}function aE(i,t,e){var s=Js(i,t.name),o=Cr(t.updateTime),d=new Ms({mapValue:{fields:t.fields}}),m=wr.newFoundDocument(s,o,d);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function fy(i,t){var e,o;if(t instanceof Yt)e={update:oE(i,t.key,t.value)};else if(t instanceof Oc)e={delete:Jd(i,t.key)};else if(t instanceof Rc)e={update:oE(i,t.key,t.data),updateMask:sx(t.fieldMask)};else{if(!(t instanceof yi))return Bt();e={verify:Jd(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(s){return function(o,d){var m=d.transform;if(m instanceof gh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof kc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mh)return{fieldPath:d.field.canonicalString(),increment:m.A};throw Bt()}(0,s)})),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:BR(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Bt()),e}function lE(i,t){var F,e=t.currentDocument?void 0!==(F=t.currentDocument).updateTime?Gr.updateTime(Cr(F.updateTime)):void 0!==F.exists?Gr.exists(F.exists):Gr.none():Gr.none(),s=t.updateTransforms?t.updateTransforms.map(function(F){return function(z,X){var te=null;"setToServerValue"in X?(Kt("REQUEST_TIME"===X.setToServerValue),te=new gh):"appendMissingElements"in X?te=new Mc(X.appendMissingElements.values||[]):"removeAllFromArray"in X?te=new kc(X.removeAllFromArray.values||[]):"increment"in X?te=new mh(z,X.increment):Bt();var xe=Jo.fromServerFormat(X.fieldPath);return new na(xe,te)}(i,F)}):[];if(t.update){var o=Js(i,t.update.name),d=new Ms({mapValue:{fields:t.update.fields}});if(t.updateMask){var m=function(F){return new Xd((F.fieldPaths||[]).map(function(X){return Jo.fromServerFormat(X)}))}(t.updateMask);return new Rc(o,d,m,e,s)}return new Yt(o,d,e,s)}if(t.delete){var C=Js(i,t.delete);return new Oc(C,e)}if(t.verify){var I=Js(i,t.verify);return new yi(I,e)}return Bt()}function cE(i,t){return{documents:[ix(i,t.path)]}}function rx(i,t){var e={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(e.parent=ix(i,s),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=ix(i,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);var o=function(C){if(0!==C.length){var I=C.map(function(F){return function(z){if("=="===z.op){if(Co(z.value))return{unaryFilter:{field:_h(z.field),op:"IS_NAN"}};if(ta(z.value))return{unaryFilter:{field:_h(z.field),op:"IS_NULL"}}}else if("!="===z.op){if(Co(z.value))return{unaryFilter:{field:_h(z.field),op:"IS_NOT_NAN"}};if(ta(z.value))return{unaryFilter:{field:_h(z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(z.field),op:ID(z.op),value:z.value}}}(F)});return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}}(t.filters);o&&(e.structuredQuery.where=o);var d=function(C){if(0!==C.length)return C.map(function(I){return{field:_h((F=I).field),direction:fE(F.dir)};var F})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);var I,m=(I=t.limit,i.I||Tc(I)?I:{value:I});return null!==m&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=yh(t.startAt)),t.endAt&&(e.structuredQuery.endAt=yh(t.endAt)),e}function uE(i){var t=sE(i.parent),e=i.structuredQuery,s=e.from?e.from.length:0,o=null;if(s>0){Kt(1===s);var d=e.from[0];d.allDescendants?o=d.collectionId:t=t.child(d.collectionId)}var m=[];e.where&&(m=hE(e.where));var C=[];e.orderBy&&(C=e.orderBy.map(function(X){return new fh(nf((te=X).field),function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction));var te}));var X,te,I=null;e.limit&&(I=Tc(te="object"==typeof(X=e.limit)?X.value:X)?null:te);var F=null;e.startAt&&(F=dE(e.startAt));var z=null;return e.endAt&&(z=dE(e.endAt)),U0(t,o,C,m,I,"F",F,z)}function hE(i){return i?void 0!==i.unaryFilter?[MD(i)]:void 0!==i.fieldFilter?[pE(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return hE(t)}).reduce(function(t,e){return t.concat(e)}):Bt():[]}function yh(i){return{before:i.before,values:i.position}}function dE(i){return new Ic(i.values||[],!!i.before)}function fE(i){return tE[i]}function ID(i){return TD[i]}function _h(i){return{fieldPath:i.canonicalString()}}function nf(i){return Jo.fromServerFormat(i.fieldPath)}function pE(i){return ks.create(nf(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bt()}}(i.fieldFilter.op),i.fieldFilter.value)}function MD(i){switch(i.unaryFilter.op){case"IS_NAN":var t=nf(i.unaryFilter.field);return ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=nf(i.unaryFilter.field);return ks.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=nf(i.unaryFilter.field);return ks.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=nf(i.unaryFilter.field);return ks.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bt()}}function sx(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function gE(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ao(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=vE(t)),t=mE(i.get(e),t);return vE(t)}function mE(i,t){for(var e=t,s=i.length,o=0;o<s;o++){var d=i.charAt(o);switch(d){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=d}}return e}function vE(i){return i+"\x01\x01"}function Ml(i){var t=i.length;if(Kt(t>=2),2===t)return Kt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Mn.emptyPath();for(var e=t-2,s=[],o="",d=0;d<t;){var m=i.indexOf("\x01",d);switch((m<0||m>e)&&Bt(),i.charAt(m+1)){case"\x01":var C=i.substring(d,m),I=void 0;0===o.length?I=C:(I=o+=C,o=""),s.push(I);break;case"\x10":o+=i.substring(d,m),o+="\0";break;case"\x11":o+=i.substring(d,m+1);break;default:Bt()}d=m+2}return new Mn(s)}var kD=function(i,t){this.seconds=i,this.nanoseconds=t},hs=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};hs.store="owner",hs.key="owner";var Nc=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};Nc.store="mutationQueues",Nc.keyPath="userId";var ii=function(i,t,e,s,o){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=s,this.mutations=o};ii.store="mutations",ii.keyPath="batchId",ii.userMutationsIndex="userMutationsIndex",ii.userMutationsKeyPath=["userId","batchId"];var Wr=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,Ao(e)]},i.key=function(t,e,s){return[t,Ao(e),s]},i}();Wr.store="documentMutations",Wr.PLACEHOLDER=new Wr;var RD=function(i,t){this.path=i,this.readTime=t},OD=function(i,t){this.path=i,this.version=t},Mi=function(i,t,e,s,o,d){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=s,this.readTime=o,this.parentPath=d};Mi.store="remoteDocuments",Mi.readTimeIndex="readTimeIndex",Mi.readTimeIndexPath="readTime",Mi.collectionReadTimeIndex="collectionReadTimeIndex",Mi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ga=function(i){this.byteSize=i};Ga.store="remoteDocumentGlobal",Ga.key="remoteDocumentGlobalKey";var Rs=function(i,t,e,s,o,d,m){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=s,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=d,this.query=m};Rs.store="targets",Rs.keyPath="targetId",Rs.queryTargetsIndexName="queryTargetsIndex",Rs.queryTargetsKeyPath=["canonicalId","targetId"];var Sr=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};Sr.store="targetDocuments",Sr.keyPath=["targetId","path"],Sr.documentTargetsIndex="documentTargetsIndex",Sr.documentTargetsKeyPath=["path","targetId"];var eo=function(i,t,e,s){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=s};eo.key="targetGlobalKey",eo.store="targetGlobal";var Fc=function(i,t){this.collectionId=i,this.parent=t};Fc.store="collectionParents",Fc.keyPath=["collectionId","parent"];var Ya=function(i,t,e,s){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=s};Ya.store="clientMetadata",Ya.keyPath="clientId";var rf=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};rf.store="bundles",rf.keyPath="bundleId";var sf=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};sf.store="namedQueries",sf.keyPath="name";var yE=(0,ce.ev)((0,ce.ev)([],(0,ce.ev)((0,ce.ev)([],(0,ce.ev)((0,ce.ev)([],(0,ce.ev)((0,ce.ev)([],[Nc.store,ii.store,Wr.store,Mi.store,Rs.store,hs.store,eo.store,Sr.store]),[Ya.store])),[Ga.store])),[Fc.store])),[rf.store,sf.store]),_E="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bE=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),qr=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},ht=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(s){e.isDone=!0,e.result=s,e.nextCallback&&e.nextCallback(s)},function(s){e.isDone=!0,e.error=s,e.catchCallback&&e.catchCallback(s)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var s=this;return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(o,d){s.nextCallback=function(m){s.wrapSuccess(t,m).next(o,d)},s.catchCallback=function(m){s.wrapFailure(e,m).next(o,d)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,s){t.next(e,s)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(s){return i.reject(s)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,s){e(t)})},i.reject=function(t){return new i(function(e,s){s(t)})},i.waitFor=function(t){return new i(function(e,s){var o=0,d=0,m=!1;t.forEach(function(C){++o,C.next(function(){++d,m&&d===o&&e()},function(I){return s(I)})}),m=!0,d===o&&e()})},i.or=function(t){for(var e=i.resolve(!1),s=function(m){e=e.next(function(C){return C?i.resolve(C):m()})},o=0,d=t;o<d.length;o++)s(d[o]);return e},i.forEach=function(t,e){var s=this,o=[];return t.forEach(function(d,m){o.push(e.call(s,d,m))}),this.waitFor(o)},i}(),py=function(){function i(t,e){var s=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new qr,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){e.error?s.ft.reject(new kg(t,e.error)):s.ft.resolve()},this.transaction.onerror=function(o){var d=cx(o.target.error);s.ft.reject(new kg(t,d))}}return i.open=function(t,e,s,o){try{return new i(e,t.transaction(o,s))}catch(d){throw new kg(e,d)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ft("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ax(e)},i}(),bh=function(){function i(t,e,s){this.name=t,this.version=e,this.wt=s,12.2===i._t((0,Fn.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return ft("SimpleDb","Removing database:",t),wh(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,Fn.z$)(),e=i._t(t),s=0<e&&e<10,o=i.Et(t),d=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||d)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)},i.prototype.At=function(t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s=this;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ft("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(d,m){var C=indexedDB.open(s.name,s.version);C.onsuccess=function(I){d(I.target.result)},C.onblocked=function(){m(new kg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(I){var F=I.target.error;m("VersionError"===F.name?new lt(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new kg(t,F))},C.onupgradeneeded=function(I){ft("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',I.oldVersion),s.wt.Rt(I.target.result,C.transaction,I.oldVersion,s.version).next(function(){ft("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:e.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(d){return s.bt(d)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,s,o){return(0,ce.mG)(this,void 0,void 0,function(){var d,m,C,I,F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:d="readonly"===e,m=0,C=function(){var X,te,oe,ue,xe;return(0,ce.Jh)(this,function(Oe){switch(Oe.label){case 0:++m,Oe.label=1;case 1:return Oe.trys.push([1,4,,5]),[4,I.At(t)];case 2:return I.db=Oe.sent(),X=py.open(I.db,t,d?"readonly":"readwrite",s),te=o(X).catch(function(qe){return X.abort(qe),ht.reject(qe)}).toPromise(),oe={},te.catch(function(){}),[4,X.dt];case 3:return[2,(oe.value=(Oe.sent(),te),oe)];case 4:return ft("SimpleDb","Transaction failed with error:",(ue=Oe.sent()).message,"Retrying:",xe="FirebaseError"!==ue.name&&m<3),I.close(),xe?[3,5]:[2,{value:Promise.reject(ue)}];case 5:return[2]}})},I=this,z.label=1;case 1:return[5,C()];case 2:if("object"==typeof(F=z.sent()))return[2,F.value];z.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),ox=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return wh(this.Pt.delete())},i}(),kg=function(i){function t(e,s){var o=this;return(o=i.call(this,Ze.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+s)||this).name="IndexedDbTransactionError",o}return(0,ce.ZT)(t,i),t}(lt);function xh(i){return"IndexedDbTransactionError"===i.name}var ax=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var s;return void 0!==e?(ft("SimpleDb","PUT",this.store.name,t,e),s=this.store.put(e,t)):(ft("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),wh(s)},i.prototype.add=function(t){return ft("SimpleDb","ADD",this.store.name,t,t),wh(this.store.add(t))},i.prototype.get=function(t){var e=this;return wh(this.store.get(t)).next(function(s){return void 0===s&&(s=null),ft("SimpleDb","GET",e.store.name,t,s),s})},i.prototype.delete=function(t){return ft("SimpleDb","DELETE",this.store.name,t),wh(this.store.delete(t))},i.prototype.count=function(){return ft("SimpleDb","COUNT",this.store.name),wh(this.store.count())},i.prototype.Nt=function(t,e){var s=this.cursor(this.options(t,e)),o=[];return this.xt(s,function(d,m){o.push(m)}).next(function(){return o})},i.prototype.Ft=function(t,e){ft("SimpleDb","DELETE ALL",this.store.name);var s=this.options(t,e);s.kt=!1;var o=this.cursor(s);return this.xt(o,function(d,m,C){return C.delete()})},i.prototype.$t=function(t,e){var s;e?s=t:(s={},e=t);var o=this.cursor(s);return this.xt(o,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new ht(function(s,o){e.onerror=function(d){var m=cx(d.target.error);o(m)},e.onsuccess=function(d){var m=d.target.result;m?t(m.primaryKey,m.value).next(function(C){C?m.continue():s()}):s()}})},i.prototype.xt=function(t,e){var s=[];return new ht(function(o,d){t.onerror=function(m){d(m.target.error)},t.onsuccess=function(m){var C=m.target.result;if(C){var I=new ox(C),F=e(C.primaryKey,C.value,I);if(F instanceof ht){var z=F.catch(function(X){return I.done(),ht.reject(X)});s.push(z)}I.isDone?o():null===I.Dt?C.continue():C.continue(I.Dt)}else o()}}).next(function(){return ht.waitFor(s)})},i.prototype.options=function(t,e){var s;return void 0!==t&&("string"==typeof t?s=t:e=t),{index:s,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var s=this.store.index(t.index);return t.kt?s.openKeyCursor(t.range,e):s.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function wh(i){return new ht(function(t,e){i.onsuccess=function(s){t(s.target.result)},i.onerror=function(s){var o=cx(s.target.error);e(o)}})}var lx=!1;function cx(i){var t=bh._t((0,Fn.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var s=new lt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lx||(lx=!0,setTimeout(function(){throw s},0)),s}}return i}var ux=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).Mt=e,o.currentSequenceNumber=s,o}return(0,ce.ZT)(t,i),t}(bE);function ds(i,t){var e=_t(i);return bh.It(e.Mt,t)}var gy=function(){function i(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}return i.prototype.applyToRemoteDocument=function(t,e){for(var s=e.mutationResults,o=0;o<this.mutations.length;o++){var d=this.mutations[o];d.key.isEqual(t.key)&&Z0(d,t,s[o])}},i.prototype.applyToLocalView=function(t){for(var e=0,s=this.baseMutations;e<s.length;e++)(m=s[e]).key.isEqual(t.key)&&qS(m,t,this.localWriteTime);for(var o=0,d=this.mutations;o<d.length;o++){var m;(m=d[o]).key.isEqual(t.key)&&qS(m,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(s){var o=t.get(s.key),d=o;e.applyToLocalView(d),o.isValidDocument()||d.convertToNoDocument(pn.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Pn())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ec(this.mutations,t.mutations,function(e,s){return Q0(e,s)})&&Ec(this.baseMutations,t.baseMutations,function(e,s){return Q0(e,s)})},i}(),HR=function(){function i(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}return i.from=function(t,e,s){Kt(t.mutations.length===s.length);for(var o=QS(),d=t.mutations,m=0;m<d.length;m++)o=o.insert(d[m].key,s[m].version);return new i(t,e,s,o)},i}(),my=function(){function i(t,e,s,o,d,m,C){void 0===d&&(d=pn.min()),void 0===m&&(m=pn.min()),void 0===C&&(C=jr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),Lc=function(i){this.Lt=i};function xE(i,t){if(t.document)return aE(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Gt.fromSegments(t.noDocument.path),s=af(t.noDocument.readTime),o=wr.newNoDocument(e,s);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var d=Gt.fromSegments(t.unknownDocument.path);return s=af(t.unknownDocument.version),wr.newUnknownDocument(d,s)}return Bt()}function vy(i,t,e){var X,te,s=of(e),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var d={name:Jd(X=i.Lt,(te=t).key),fields:te.data.value.mapValue.fields,updateTime:Mg(X,te.version.toTimestamp())},m=t.hasCommittedMutations;return new Mi(null,null,d,m,s,o)}if(t.isNoDocument()){var C=t.key.path.toArray(),I=ia(t.version);return m=t.hasCommittedMutations,new Mi(null,new RD(C,I),null,m,s,o)}if(t.isUnknownDocument()){var F=t.key.path.toArray(),z=ia(t.version);return new Mi(new OD(F,z),null,null,!0,s,o)}return Bt()}function of(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function wE(i){var t=new us(i[0],i[1]);return pn.fromTimestamp(t)}function ia(i){var t=i.toTimestamp();return new kD(t.seconds,t.nanoseconds)}function af(i){var t=new us(i.seconds,i.nanoseconds);return pn.fromTimestamp(t)}function Rg(i,t){for(var e=(t.baseMutations||[]).map(function(I){return lE(i.Lt,I)}),s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);var m=t.mutations.map(function(I){return lE(i.Lt,I)}),C=us.fromMillis(t.localWriteTimeMs);return new gy(t.batchId,C,e,m)}function Og(i){var t,e,s=af(i.readTime),o=void 0!==i.lastLimboFreeSnapshotVersion?af(i.lastLimboFreeSnapshotVersion):pn.min();return void 0!==i.query.documents?(Kt(1===(e=i.query).documents.length),t=So(ph(sE(e.documents[0])))):t=So(uE(i.query)),new my(t,i.targetId,0,i.lastListenSequenceNumber,s,o,jr.fromBase64String(i.resumeToken))}function ra(i,t){var e,s=ia(t.snapshotVersion),o=ia(t.lastLimboFreeSnapshotVersion);e=oy(t.target)?cE(i.Lt,t.target):rx(i.Lt,t.target);var d=t.resumeToken.toBase64();return new Rs(t.targetId,dh(t.target),s,d,t.sequenceNumber,o,e)}function yy(i){var t=uE({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?BS(t,t.limit,"L"):t}var UR=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return Pg(t).get(e).next(function(s){if(s)return{id:(o=s).bundleId,createTime:af(o.createTime),version:o.version};var o})},i.prototype.saveBundleMetadata=function(t,e){return Pg(t).put({bundleId:(s=e).id,createTime:ia(Cr(s.createTime)),version:s.version});var s},i.prototype.getNamedQuery=function(t,e){return CE(t).get(e).next(function(s){if(s)return{name:(o=s).name,query:yy(o.bundledQuery),readTime:af(o.readTime)};var o})},i.prototype.saveNamedQuery=function(t,e){return CE(t).put({name:(s=e).name,readTime:ia(Cr(s.readTime)),bundledQuery:s.bundledQuery});var s},i}();function Pg(i){return ds(i,rf.store)}function CE(i){return ds(i,sf.store)}var PD=function(){function i(){this.Bt=new SE}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ht.resolve()},i.prototype.getCollectionParents=function(t,e){return ht.resolve(this.Bt.getEntries(e))},i}(),SE=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new $i(Mn.comparator),d=!o.has(s);return this.index[e]=o.add(s),d},i.prototype.has=function(t){var e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)},i.prototype.getEntries=function(t){return(this.index[t]||new $i(Mn.comparator)).toArray()},i}(),ND=function(){function i(){this.qt=new SE}return i.prototype.addToCollectionParentIndex=function(t,e){var s=this;if(!this.qt.has(e)){var o=e.lastSegment(),d=e.popLast();t.addOnCommittedListener(function(){s.qt.add(e)});var m={collectionId:o,parent:Ao(d)};return EE(t).put(m)}return ht.resolve()},i.prototype.getCollectionParents=function(t,e){var s=[],o=IDBKeyRange.bound([e,""],[k0(e),""],!1,!0);return EE(t).Nt(o).next(function(d){for(var m=0,C=d;m<C.length;m++){var I=C[m];if(I.collectionId!==e)break;s.push(Ml(I.parent))}return s})},i}();function EE(i){return ds(i,Fc.store)}var AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},To=function(){function i(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function hx(i,t,e){var s=i.store(ii.store),o=i.store(Wr.store),d=[],m=IDBKeyRange.only(e.batchId),C=0,I=s.$t({range:m},function(ue,xe,Oe){return C++,Oe.delete()});d.push(I.next(function(){Kt(1===C)}));for(var F=[],z=0,X=e.mutations;z<X.length;z++){var te=X[z],oe=Wr.key(t,te.key.path,e.batchId);d.push(o.delete(oe)),F.push(te.key)}return ht.waitFor(d).next(function(){return F})}function lf(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Bt();t=i.noDocument}return JSON.stringify(t).length}To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);var TE=function(){function i(t,e,s,o){this.userId=t,this.R=e,this.Ut=s,this.referenceDelegate=o,this.Kt={}}return i.Qt=function(t,e,s,o){return Kt(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,s,o)},i.prototype.checkEmpty=function(t){var e=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).$t({index:ii.userMutationsIndex,range:s},function(o,d,m){e=!1,m.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,s,o){var d=this,m=cf(t),C=Ch(t);return C.add({}).next(function(I){Kt("number"==typeof I);for(var F=new gy(I,e,s,o),z=function(qe,ot,at){var Et=at.baseMutations.map(function(hn){return fy(qe.Lt,hn)}),Ot=at.mutations.map(function(hn){return fy(qe.Lt,hn)});return new ii(ot,at.batchId,at.localWriteTime.toMillis(),Et,Ot)}(d.R,d.userId,F),X=[],te=new $i(function(qe,ot){return wn(qe.canonicalString(),ot.canonicalString())}),oe=0,ue=o;oe<ue.length;oe++){var xe=ue[oe],Oe=Wr.key(d.userId,xe.key.path,I);te=te.add(xe.key.path.popLast()),X.push(C.put(z)),X.push(m.put(Oe,Wr.PLACEHOLDER))}return te.forEach(function(qe){X.push(d.Ut.addToCollectionParentIndex(t,qe))}),t.addOnCommittedListener(function(){d.Kt[I]=F.keys()}),ht.waitFor(X).next(function(){return F})})},i.prototype.lookupMutationBatch=function(t,e){var s=this;return Ch(t).get(e).next(function(o){return o?(Kt(o.userId===s.userId),Rg(s.R,o)):null})},i.prototype.jt=function(t,e){var s=this;return this.Kt[e]?ht.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(o){if(o){var d=o.keys();return s.Kt[e]=d,d}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var s=this,o=e+1,d=IDBKeyRange.lowerBound([this.userId,o]),m=null;return Ch(t).$t({index:ii.userMutationsIndex,range:d},function(C,I,F){I.userId===s.userId&&(Kt(I.batchId>=o),m=Rg(s.R,I)),F.done()}).next(function(){return m})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return Ch(t).$t({index:ii.userMutationsIndex,range:e,reverse:!0},function(o,d,m){s=d.batchId,m.done()}).next(function(){return s})},i.prototype.getAllMutationBatches=function(t){var e=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ch(t).Nt(ii.userMutationsIndex,s).next(function(o){return o.map(function(d){return Rg(e.R,d)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var s=this,o=Wr.prefixForPath(this.userId,e.path),d=IDBKeyRange.lowerBound(o),m=[];return cf(t).$t({range:d},function(C,I,F){var z=C[0],te=C[2],oe=Ml(C[1]);if(z===s.userId&&e.path.isEqual(oe))return Ch(t).get(te).next(function(ue){if(!ue)throw Bt();Kt(ue.userId===s.userId),m.push(Rg(s.R,ue))});F.done()}).next(function(){return m})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var s=this,o=new $i(wn),d=[];return e.forEach(function(m){var C=Wr.prefixForPath(s.userId,m.path),I=IDBKeyRange.lowerBound(C),F=cf(t).$t({range:I},function(z,X,te){var oe=z[0],xe=z[2],Oe=Ml(z[1]);oe===s.userId&&m.path.isEqual(Oe)?o=o.add(xe):te.done()});d.push(F)}),ht.waitFor(d).next(function(){return s.Wt(t,o)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var s=this,o=e.path,d=o.length+1,m=Wr.prefixForPath(this.userId,o),C=IDBKeyRange.lowerBound(m),I=new $i(wn);return cf(t).$t({range:C},function(F,z,X){var te=F[0],ue=F[2],xe=Ml(F[1]);te===s.userId&&o.isPrefixOf(xe)?xe.length===d&&(I=I.add(ue)):X.done()}).next(function(){return s.Wt(t,I)})},i.prototype.Wt=function(t,e){var s=this,o=[],d=[];return e.forEach(function(m){d.push(Ch(t).get(m).next(function(C){if(null===C)throw Bt();Kt(C.userId===s.userId),o.push(Rg(s.R,C))}))}),ht.waitFor(d).next(function(){return o})},i.prototype.removeMutationBatch=function(t,e){var s=this;return hx(t.Mt,this.userId,e).next(function(o){return t.addOnCommittedListener(function(){s.Gt(e.batchId)}),ht.forEach(o,function(d){return s.referenceDelegate.markPotentiallyOrphaned(t,d)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(s){if(!s)return ht.resolve();var o=IDBKeyRange.lowerBound(Wr.prefixForUser(e.userId)),d=[];return cf(t).$t({range:o},function(m,C,I){if(m[0]===e.userId){var F=Ml(m[1]);d.push(F)}else I.done()}).next(function(){Kt(0===d.length)})})},i.prototype.containsKey=function(t,e){return DE(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return IE(t).get(this.userId).next(function(s){return s||new Nc(e.userId,-1,"")})},i}();function DE(i,t,e){var s=Wr.prefixForPath(t,e.path),o=s[1],d=IDBKeyRange.lowerBound(s),m=!1;return cf(i).$t({range:d,kt:!0},function(C,I,F){C[0]===t&&C[1]===o&&(m=!0),F.done()}).next(function(){return m})}function Ch(i){return ds(i,ii.store)}function cf(i){return ds(i,Wr.store)}function IE(i){return ds(i,Nc.store)}var _y=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),ME=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(s){var o=new _y(s.highestTargetId);return s.highestTargetId=o.next(),e.Zt(t,s).next(function(){return s.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return pn.fromTimestamp(new us(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,s){var o=this;return this.Xt(t).next(function(d){return d.highestListenSequenceNumber=e,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),e>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=e),o.Zt(t,d)})},i.prototype.addTargetData=function(t,e){var s=this;return this.te(t,e).next(function(){return s.Xt(t).next(function(o){return o.targetCount+=1,s.ee(e,o),s.Zt(t,o)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var s=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Sh(t).delete(e.targetId)}).next(function(){return s.Xt(t)}).next(function(o){return Kt(o.targetCount>0),o.targetCount-=1,s.Zt(t,o)})},i.prototype.removeTargets=function(t,e,s){var o=this,d=0,m=[];return Sh(t).$t(function(C,I){var F=Og(I);F.sequenceNumber<=e&&null===s.get(F.targetId)&&(d++,m.push(o.removeTargetData(t,F)))}).next(function(){return ht.waitFor(m)}).next(function(){return d})},i.prototype.forEachTarget=function(t,e){return Sh(t).$t(function(s,o){var d=Og(o);e(d)})},i.prototype.Xt=function(t){return dx(t).get(eo.key).next(function(e){return Kt(null!==e),e})},i.prototype.Zt=function(t,e){return dx(t).put(eo.key,e)},i.prototype.te=function(t,e){return Sh(t).put(ra(this.R,e))},i.prototype.ee=function(t,e){var s=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,s=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,s=!0),s},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var s=dh(e),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),d=null;return Sh(t).$t({range:o,index:Rs.queryTargetsIndexName},function(m,C,I){var F=Og(C);Dc(e,F.target)&&(d=F,I.done())}).next(function(){return d})},i.prototype.addMatchingKeys=function(t,e,s){var o=this,d=[],m=Vc(t);return e.forEach(function(C){var I=Ao(C.path);d.push(m.put(new Sr(s,I))),d.push(o.referenceDelegate.addReference(t,s,C))}),ht.waitFor(d)},i.prototype.removeMatchingKeys=function(t,e,s){var o=this,d=Vc(t);return ht.forEach(e,function(m){var C=Ao(m.path);return ht.waitFor([d.delete([s,C]),o.referenceDelegate.removeReference(t,s,m)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var s=Vc(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(o)},i.prototype.getMatchingKeysForTargetId=function(t,e){var s=IDBKeyRange.bound([e],[e+1],!1,!0),o=Vc(t),d=Pn();return o.$t({range:s,kt:!0},function(m,C,I){var F=Ml(m[1]),z=new Gt(F);d=d.add(z)}).next(function(){return d})},i.prototype.containsKey=function(t,e){var s=Ao(e.path),o=IDBKeyRange.bound([s],[k0(s)],!1,!0),d=0;return Vc(t).$t({index:Sr.documentTargetsIndex,kt:!0,range:o},function(m,C,I){0!==m[0]&&(d++,I.done())}).next(function(){return d>0})},i.prototype.lt=function(t,e){return Sh(t).get(e).next(function(s){return s?Og(s):null})},i}();function Sh(i){return ds(i,Rs.store)}function dx(i){return ds(i,eo.store)}function Vc(i){return ds(i,Sr.store)}function Eh(i){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){if(i.code!==Ze.FAILED_PRECONDITION||i.message!==_E)throw i;return ft("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fx(i,t){var s=i[1],d=t[1],m=wn(i[0],t[0]);return 0===m?wn(s,d):m}var by=function(){function i(t){this.ne=t,this.buffer=new $i(fx),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var s=this.buffer.last();fx(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),FD=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,s=this.oe?3e5:6e4;ft("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,ce.mG)(e,void 0,void 0,function(){var o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:this.ce=null,this.oe=!0,d.label=1;case 1:return d.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return d.sent(),[3,7];case 3:return xh(o=d.sent())?(ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Eh(o)];case 5:d.sent(),d.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return d.sent(),[2]}})})})},i}(),kE=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(s){return Math.floor(e/100*s)})},i.prototype.nthSequenceNumber=function(t,e){var s=this;if(0===e)return ht.resolve(Ds.o);var o=new by(e);return this.ae.forEachTarget(t,function(d){return o.re(d.sequenceNumber)}).next(function(){return s.ae.le(t,function(d){return o.re(d)})}).next(function(){return o.maxValue})},i.prototype.removeTargets=function(t,e,s){return this.ae.removeTargets(t,e,s)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(AE)):this.getCacheSize(t).next(function(o){return o<s.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),AE):s.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var s,o,d,m,C,I,F,z=this,X=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(te){return te>z.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+z.params.maximumSequenceNumbersToCollect+" from "+te),o=z.params.maximumSequenceNumbersToCollect):o=te,m=Date.now(),z.nthSequenceNumber(t,o)}).next(function(te){return s=te,C=Date.now(),z.removeTargets(t,s,e)}).next(function(te){return d=te,I=Date.now(),z.removeOrphanedDocuments(t,s)}).next(function(te){return F=Date.now(),mg()<=bc.in.DEBUG&&ft("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(m-X)+"ms\n\tDetermined least recently used "+o+" in "+(C-m)+"ms\n\tRemoved "+d+" targets in "+(I-C)+"ms\n\tRemoved "+te+" documents in "+(F-I)+"ms\nTotal Duration: "+(F-X)+"ms"),ht.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:d,documentsRemoved:te})})},i}(),xy=function(){function i(t,e){this.db=t,this.garbageCollector=new kE(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(s){return e.next(function(o){return s+o})})},i.prototype.de=function(t){var e=0;return this.le(t,function(s){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(s,o){return e(o)})},i.prototype.addReference=function(t,e,s){return Ah(t,s)},i.prototype.removeReference=function(t,e,s){return Ah(t,s)},i.prototype.removeTargets=function(t,e,s){return this.db.getTargetCache().removeTargets(t,e,s)},i.prototype.markPotentiallyOrphaned=function(t,e){return Ah(t,e)},i.prototype._e=function(t,e){return o=e,d=!1,IE(s=t).Ot(function(m){return DE(s,m,o).next(function(C){return C&&(d=!0),ht.resolve(!C)})}).next(function(){return d});var s,o,d},i.prototype.removeOrphanedDocuments=function(t,e){var s=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],m=0;return this.we(t,function(C,I){if(I<=e){var F=s._e(t,C).next(function(z){if(!z)return m++,o.getEntry(t,C).next(function(){return o.removeEntry(C),Vc(t).delete([0,Ao(C.path)])})});d.push(F)}}).next(function(){return ht.waitFor(d)}).next(function(){return o.apply(t)}).next(function(){return m})},i.prototype.removeTarget=function(t,e){var s=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)},i.prototype.updateLimboDocument=function(t,e){return Ah(t,e)},i.prototype.we=function(t,e){var s,o=Vc(t),d=Ds.o;return o.$t({index:Sr.documentTargetsIndex},function(m,C){var F=C.path,z=C.sequenceNumber;0===m[0]?(d!==Ds.o&&e(new Gt(Ml(s)),d),d=z,s=F):d=Ds.o}).next(function(){d!==Ds.o&&e(new Gt(Ml(s)),d)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function Ah(i,t){return Vc(i).put((s=i.currentSequenceNumber,new Sr(0,Ao(t.path),s)));var s}var Wa=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),s=this.inner[e];if(void 0!==s)for(var o=0,d=s;o<d.length;o++){var m=d[o],I=m[1];if(this.equalsFn(m[0],t))return I}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var s=this.mapKeyFn(t),o=this.inner[s];if(void 0!==o){for(var d=0;d<o.length;d++)if(this.equalsFn(o[d][0],t))return void(o[d]=[t,e]);o.push([t,e])}else this.inner[s]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),s=this.inner[e];if(void 0===s)return!1;for(var o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return 1===s.length?delete this.inner[e]:s.splice(o,1),!0;return!1},i.prototype.forEach=function(t){Ac(this.inner,function(e,s){for(var o=0,d=s;o<d.length;o++){var m=d[o];t(m[0],m[1])}})},i.prototype.isEmpty=function(){return O0(this.inner)},i}(),RE=function(){function i(){this.changes=new Wa(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:pn.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:wr.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var s=this.changes.get(e);return void 0!==s?ht.resolve(s.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),LD=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,s){return Bc(t).put(wy(e),s)},i.prototype.removeEntry=function(t,e){var s=Bc(t),o=wy(e);return s.delete(o)},i.prototype.updateMetadata=function(t,e){var s=this;return this.getMetadata(t).next(function(o){return o.byteSize+=e,s.me(t,o)})},i.prototype.getEntry=function(t,e){var s=this;return Bc(t).get(wy(e)).next(function(o){return s.ye(e,o)})},i.prototype.ge=function(t,e){var s=this;return Bc(t).get(wy(e)).next(function(o){return{document:s.ye(e,o),size:lf(o)}})},i.prototype.getEntries=function(t,e){var s=this,o=Eo();return this.pe(t,e,function(d,m){var C=s.ye(d,m);o=o.insert(d,C)}).next(function(){return o})},i.prototype.Ee=function(t,e){var s=this,o=Eo(),d=new Yr(Gt.comparator);return this.pe(t,e,function(m,C){var I=s.ye(m,C);o=o.insert(m,I),d=d.insert(m,lf(C))}).next(function(){return{documents:o,Te:d}})},i.prototype.pe=function(t,e,s){if(e.isEmpty())return ht.resolve();var o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),d=e.getIterator(),m=d.getNext();return Bc(t).$t({range:o},function(C,I,F){for(var z=Gt.fromSegments(C);m&&Gt.comparator(m,z)<0;)s(m,null),m=d.getNext();m&&m.isEqual(z)&&(s(m,I),m=d.hasNext()?d.getNext():null),m?F.Ct(m.path.toArray()):F.done()}).next(function(){for(;m;)s(m,null),m=d.hasNext()?d.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,s){var o=this,d=Eo(),m=e.path.length+1,C={};if(s.isEqual(pn.min())){var I=e.path.toArray();C.range=IDBKeyRange.lowerBound(I)}else{var F=e.path.toArray(),z=of(s);C.range=IDBKeyRange.lowerBound([F,z],!0),C.index=Mi.collectionReadTimeIndex}return Bc(t).$t(C,function(X,te,oe){if(X.length===m){var ue=xE(o.R,te);e.path.isPrefixOf(ue.key.path)?Ag(e,ue)&&(d=d.insert(ue.key,ue)):oe.done()}}).next(function(){return d})},i.prototype.newChangeBuffer=function(t){return new zR(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return OE(t).get(Ga.key).next(function(e){return Kt(!!e),e})},i.prototype.me=function(t,e){return OE(t).put(Ga.key,e)},i.prototype.ye=function(t,e){if(e){var s=xE(this.R,e);if(!s.isNoDocument()||!s.version.isEqual(pn.min()))return s}return wr.newInvalidDocument(t)},i}(),zR=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).Ie=e,o.trackRemovals=s,o.Ae=new Wa(function(d){return d.toString()},function(d,m){return d.isEqual(m)}),o}return(0,ce.ZT)(t,i),t.prototype.applyChanges=function(e){var s=this,o=[],d=0,m=new $i(function(C,I){return wn(C.canonicalString(),I.canonicalString())});return this.changes.forEach(function(C,I){var F=s.Ae.get(C);if(I.document.isValidDocument()){var z=vy(s.Ie.R,I.document,s.getReadTime(C));m=m.add(C.path.popLast());var X=lf(z);d+=X-F,o.push(s.Ie.addEntry(e,C,z))}else if(d-=F,s.trackRemovals){var te=vy(s.Ie.R,wr.newNoDocument(C,pn.min()),s.getReadTime(C));o.push(s.Ie.addEntry(e,C,te))}else o.push(s.Ie.removeEntry(e,C))}),m.forEach(function(C){o.push(s.Ie.Ut.addToCollectionParentIndex(e,C))}),o.push(this.Ie.updateMetadata(e,d)),ht.waitFor(o)},t.prototype.getFromCache=function(e,s){var o=this;return this.Ie.ge(e,s).next(function(d){return o.Ae.set(s,d.size),d.document})},t.prototype.getAllFromCache=function(e,s){var o=this;return this.Ie.Ee(e,s).next(function(d){var m=d.documents;return d.Te.forEach(function(C,I){o.Ae.set(C,I)}),m})},t}(RE);function OE(i){return ds(i,Ga.store)}function Bc(i){return ds(i,Mi.store)}function wy(i){return i.path.toArray()}var VD=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,s,o){var d=this;Kt(s<o&&s>=0&&o<=11);var I,m=new py("createOrUpgrade",e);s<1&&o>=1&&(t.createObjectStore(hs.store),(I=t).createObjectStore(Nc.store,{keyPath:Nc.keyPath}),I.createObjectStore(ii.store,{keyPath:ii.keyPath,autoIncrement:!0}).createIndex(ii.userMutationsIndex,ii.userMutationsKeyPath,{unique:!0}),I.createObjectStore(Wr.store),PE(t),function(I){I.createObjectStore(Mi.store)}(t));var C=ht.resolve();return s<3&&o>=3&&(0!==s&&(function(I){I.deleteObjectStore(Sr.store),I.deleteObjectStore(Rs.store),I.deleteObjectStore(eo.store)}(t),PE(t)),C=C.next(function(){return function(I){var F=I.store(eo.store),z=new eo(0,0,pn.min().toTimestamp(),0);return F.put(eo.key,z)}(m)})),s<4&&o>=4&&(0!==s&&(C=C.next(function(){return function(I,F){return F.store(ii.store).Nt().next(function(z){I.deleteObjectStore(ii.store),I.createObjectStore(ii.store,{keyPath:ii.keyPath,autoIncrement:!0}).createIndex(ii.userMutationsIndex,ii.userMutationsKeyPath,{unique:!0});var X=F.store(ii.store),te=z.map(function(oe){return X.put(oe)});return ht.waitFor(te)})}(t,m)})),C=C.next(function(){!function(I){I.createObjectStore(Ya.store,{keyPath:Ya.keyPath})}(t)})),s<5&&o>=5&&(C=C.next(function(){return d.Re(m)})),s<6&&o>=6&&(C=C.next(function(){return function(I){I.createObjectStore(Ga.store)}(t),d.be(m)})),s<7&&o>=7&&(C=C.next(function(){return d.ve(m)})),s<8&&o>=8&&(C=C.next(function(){return d.Pe(t,m)})),s<9&&o>=9&&(C=C.next(function(){(function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")})(t),function(I){var F=I.objectStore(Mi.store);F.createIndex(Mi.readTimeIndex,Mi.readTimeIndexPath,{unique:!1}),F.createIndex(Mi.collectionReadTimeIndex,Mi.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&o>=10&&(C=C.next(function(){return d.Ve(m)})),s<11&&o>=11&&(C=C.next(function(){(function(I){I.createObjectStore(rf.store,{keyPath:rf.keyPath})})(t),function(I){I.createObjectStore(sf.store,{keyPath:sf.keyPath})}(t)})),C},i.prototype.be=function(t){var e=0;return t.store(Mi.store).$t(function(s,o){e+=lf(o)}).next(function(){var s=new Ga(e);return t.store(Ga.store).put(Ga.key,s)})},i.prototype.Re=function(t){var e=this,s=t.store(Nc.store),o=t.store(ii.store);return s.Nt().next(function(d){return ht.forEach(d,function(m){var C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.Nt(ii.userMutationsIndex,C).next(function(I){return ht.forEach(I,function(F){Kt(F.userId===m.userId);var z=Rg(e.R,F);return hx(t,m.userId,z).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(Sr.store),s=t.store(Mi.store);return t.store(eo.store).get(eo.key).next(function(o){var d=[];return s.$t(function(m,C){var I=new Mn(m),F=[0,Ao(I)];d.push(e.get(F).next(function(z){return z?ht.resolve():e.put(new Sr(0,Ao(I),o.highestListenSequenceNumber))}))}).next(function(){return ht.waitFor(d)})})},i.prototype.Pe=function(t,e){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath});var s=e.store(Fc.store),o=new SE,d=function(m){if(o.add(m)){var C=m.lastSegment(),I=m.popLast();return s.put({collectionId:C,parent:Ao(I)})}};return e.store(Mi.store).$t({kt:!0},function(m,C){var I=new Mn(m);return d(I.popLast())}).next(function(){return e.store(Wr.store).$t({kt:!0},function(m,C){var F=Ml(m[1]);return d(F.popLast())})})},i.prototype.Ve=function(t){var e=this,s=t.store(Rs.store);return s.$t(function(o,d){var m=Og(d),C=ra(e.R,m);return s.put(C)})},i}();function PE(i){i.createObjectStore(Sr.store,{keyPath:Sr.keyPath}).createIndex(Sr.documentTargetsIndex,Sr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Rs.store,{keyPath:Rs.keyPath}).createIndex(Rs.queryTargetsIndexName,Rs.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(eo.store)}var px="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BD=function(){function i(t,e,s,o,d,m,C,I,F,z){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=s,this.Se=d,this.window=m,this.document=C,this.De=F,this.Ce=z,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(X){return Promise.resolve()},!i.yt())throw new lt(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xy(this,o),this.Le=e+"main",this.R=new Lc(I),this.Be=new bh(this.Le,11,new VD(this.R)),this.qe=new ME(this.referenceDelegate,this.R),this.Ut=new ND,this.Ue=new LD(this.R,this.Ut),this.Ke=new UR,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===z&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new lt(Ze.FAILED_PRECONDITION,px);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ds(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(s){return(0,ce.mG)(e,void 0,void 0,function(){return(0,ce.Jh)(this,function(o){return this.started?[2,t(s)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(s){return(0,ce.mG)(e,void 0,void 0,function(){return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return null===s.newVersion?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,ce.mG)(e,void 0,void 0,function(){return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cy(e).put(new Ya(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(s){s||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(s){return t.isPrimary&&!s?t.Xe(e).next(function(){return!1}):!!s&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(xh(e))return ft("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return Ng(t).get(hs.key).next(function(s){return ht.resolve(e.tn(s))})},i.prototype.en=function(t){return Cy(t).delete(this.clientId)},i.prototype.nn=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s,d=this;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var I=ds(C,Ya.store);return I.Nt().next(function(F){var z=d.rn(F,18e5),X=F.filter(function(te){return-1===z.indexOf(te)});return ht.forEach(X,function(te){return I.delete(te.clientId)}).next(function(){return X})})}).catch(function(){return[]})]);case 1:if(t=m.sent(),this.Qe)for(e=0,s=t;e<s.length;e++)this.Qe.removeItem(this.on(s[e].clientId));m.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?ht.resolve(!0):Ng(t).get(hs.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)){if(e.tn(s)&&e.networkEnabled)return!0;if(!e.tn(s)){if(!s.allowTabSynchronization)throw new lt(Ze.FAILED_PRECONDITION,px);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cy(t).Nt().next(function(o){return void 0===e.rn(o,5e3).find(function(d){return!(e.clientId===d.clientId||!(!e.networkEnabled&&d.networkEnabled||!e.inForeground&&d.inForeground&&e.networkEnabled===d.networkEnabled))})})}).next(function(s){return e.isPrimary!==s&&ft("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},i.prototype.shutdown=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t=this;return(0,ce.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[hs.store,Ya.store],function(s){var o=new ux(s,Ds.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var s=this;return t.filter(function(o){return s.sn(o.updateTimeMs,e)&&!s.cn(o.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cy(e).Nt().next(function(s){return t.rn(s,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return TE.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,s){var d,o=this;return ft("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",yE,function(C){return d=new ux(C,o.Ne?o.Ne.next():Ds.o),"readwrite-primary"===e?o.Je(d).next(function(I){return!!I||o.Ye(d)}).next(function(I){if(!I)throw qi("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new lt(Ze.FAILED_PRECONDITION,_E);return s(d)}).next(function(I){return o.Ze(d).next(function(){return I})}):o.dn(d).next(function(){return s(d)})}).then(function(C){return d.raiseOnCommittedEvent(),C})},i.prototype.dn=function(t){var e=this;return Ng(t).get(hs.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)&&!e.tn(s)&&!(e.Ce||e.allowTabSynchronization&&s.allowTabSynchronization))throw new lt(Ze.FAILED_PRECONDITION,px)})},i.prototype.Ze=function(t){var e=new hs(this.clientId,this.allowTabSynchronization,Date.now());return Ng(t).put(hs.key,e)},i.yt=function(){return bh.yt()},i.prototype.Xe=function(t){var e=this,s=Ng(t);return s.get(hs.key).next(function(o){return e.tn(o)?(ft("IndexedDbPersistence","Releasing primary lease."),s.delete(hs.key)):ht.resolve()})},i.prototype.sn=function(t,e){var s=Date.now();return!(t<s-e||t>s&&(qi("Detected an update time that is in the future: "+t+" > "+s),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Fn.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},i.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},i.prototype.cn=function(t){var e;try{var s=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ft("IndexedDbPersistence","Client '"+t+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(o){return qi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qi("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function Ng(i){return ds(i,hs.store)}function Cy(i){return ds(i,Ya.store)}function NE(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var HD=function(i,t){this.progress=i,this.wn=t},uf=function(){function i(t,e,s){this.Ue=t,this._n=e,this.Ut=s}return i.prototype.mn=function(t,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(o){return s.yn(t,e,o)})},i.prototype.yn=function(t,e,s){return this.Ue.getEntry(t,e).next(function(o){for(var d=0,m=s;d<m.length;d++)m[d].applyToLocalView(o);return o})},i.prototype.gn=function(t,e){t.forEach(function(s,o){for(var d=0,m=e;d<m.length;d++)m[d].applyToLocalView(o)})},i.prototype.pn=function(t,e){var s=this;return this.Ue.getEntries(t,e).next(function(o){return s.En(t,o).next(function(){return o})})},i.prototype.En=function(t,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(o){return s.gn(e,o)})},i.prototype.getDocumentsMatchingQuery=function(t,e,s){return Gt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Tn(t,e.path):G0(e)?this.In(t,e,s):this.An(t,e,s);var o},i.prototype.Tn=function(t,e){return this.mn(t,new Gt(e)).next(function(s){var o=vh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})},i.prototype.In=function(t,e,s){var o=this,d=e.collectionGroup,m=vh();return this.Ut.getCollectionParents(t,d).next(function(C){return ht.forEach(C,function(I){var z,X,F=(z=e,X=I.child(d),new ja(X,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));return o.An(t,F,s).next(function(z){z.forEach(function(X,te){m=m.insert(X,te)})})}).next(function(){return m})})},i.prototype.An=function(t,e,s){var o,d,m=this;return this.Ue.getDocumentsMatchingQuery(t,e,s).next(function(C){return o=C,m._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(C){return m.Rn(t,d=C,o).next(function(I){o=I;for(var F=0,z=d;F<z.length;F++)for(var X=z[F],te=0,oe=X.mutations;te<oe.length;te++){var ue=oe[te],xe=ue.key,Oe=o.get(xe);null==Oe&&(Oe=wr.newInvalidDocument(xe),o=o.insert(xe,Oe)),qS(ue,Oe,X.localWriteTime),Oe.isFoundDocument()||(o=o.remove(xe))}})}).next(function(){return o.forEach(function(C,I){Ag(e,I)||(o=o.remove(C))}),o})},i.prototype.Rn=function(t,e,s){for(var o=Pn(),d=0,m=e;d<m.length;d++)for(var C=0,I=m[d].mutations;C<I.length;C++){var F=I[C];F instanceof Rc&&null===s.get(F.key)&&(o=o.add(F.key))}var z=s;return this.Ue.getEntries(t,o).next(function(X){return X.forEach(function(te,oe){oe.isFoundDocument()&&(z=z.insert(te,oe))}),z})},i}(),UD=function(){function i(t,e,s,o){this.targetId=t,this.fromCache=e,this.bn=s,this.vn=o}return i.Pn=function(t,e){for(var s=Pn(),o=Pn(),d=0,m=e.docChanges;d<m.length;d++){var C=m[d];switch(C.type){case 0:s=s.add(C.doc.key);break;case 1:o=o.add(C.doc.key)}}return new i(t,e.fromCache,s,o)},i}(),FE=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,s,o){var m,d=this;return 0===(m=e).filters.length&&null===m.limit&&null==m.startAt&&null==m.endAt&&(0===m.explicitOrderBy.length||1===m.explicitOrderBy.length&&m.explicitOrderBy[0].field.isKeyField())||s.isEqual(pn.min())?this.Dn(t,e):this.Sn.pn(t,o).next(function(m){var C=d.Cn(e,m);return(Sg(e)||ay(e))&&d.Nn(e.limitType,C,o,s)?d.Dn(t,e):(mg()<=bc.in.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Y0(e)),d.Sn.getDocumentsMatchingQuery(t,e,s).next(function(I){return C.forEach(function(F){I=I.insert(F.key,F)}),I}))})},i.prototype.Cn=function(t,e){var s=new $i(US(t));return e.forEach(function(o,d){Ag(t,d)&&(s=s.add(d))}),s},i.prototype.Nn=function(t,e,s,o){if(s.size!==e.size)return!0;var d="F"===t?e.last():e.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(o)>0)},i.prototype.Dn=function(t,e){return mg()<=bc.in.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Y0(e)),this.Sn.getDocumentsMatchingQuery(t,e,pn.min())},i}(),zD=function(){function i(t,e,s,o){this.persistence=t,this.xn=e,this.R=o,this.Fn=new Yr(wn),this.kn=new Wa(function(d){return dh(d)},Dc),this.$n=pn.min(),this._n=t.getMutationQueue(s),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new uf(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return t.collect(s,e.Fn)})},i}();function Fg(i,t,e,s){return new zD(i,t,e,s)}function Hc(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o,d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return e=_t(i),s=e._n,o=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(C){var I;return e._n.getAllMutationBatches(C).next(function(F){return I=F,s=e.persistence.getMutationQueue(t),o=new uf(e.On,s,e.persistence.getIndexManager()),s.getAllMutationBatches(C)}).next(function(F){for(var z=[],X=[],te=Pn(),oe=0,ue=I;oe<ue.length;oe++){var xe=ue[oe];z.push(xe.batchId);for(var Oe=0,qe=xe.mutations;Oe<qe.length;Oe++)te=te.add(qe[Oe].key)}for(var at=0,Et=F;at<Et.length;at++){var Ot=Et[at];X.push(Ot.batchId);for(var hn=0,Ln=Ot.mutations;hn<Ln.length;hn++)te=te.add(Ln[hn].key)}return o.pn(C,te).next(function(io){return{Ln:io,removedBatchIds:z,addedBatchIds:X}})})})];case 1:return d=m.sent(),[2,(e._n=s,e.Mn=o,e.xn.Vn(e.Mn),d)]}})})}function LE(i,t){var e=_t(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var m,C,I,F,z,X,te,o=t.batch.keys(),d=e.On.newChangeBuffer({trackRemovals:!0});return(m=e,C=s,I=t,F=d,z=I.batch,X=z.keys(),te=ht.resolve(),X.forEach(function(oe){te=te.next(function(){return F.getEntry(C,oe)}).next(function(ue){var xe=I.docVersions.get(oe);Kt(null!==xe),ue.version.compareTo(xe)<0&&(z.applyToRemoteDocument(ue,I),ue.isValidDocument()&&F.addEntry(ue,I.commitVersion))})}),te.next(function(){return m._n.removeMutationBatch(C,z)})).next(function(){return d.apply(s)}).next(function(){return e._n.performConsistencyCheck(s)}).next(function(){return e.Mn.pn(s,o)})})}function VE(i){var t=_t(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function jR(i,t){var e=_t(i),s=t.snapshotVersion,o=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(d){var m=e.On.newChangeBuffer({trackRemovals:!0});o=e.Fn;var C=[];t.targetChanges.forEach(function(z,X){var xe,Oe,qe,te=o.get(X);if(te){C.push(e.qe.removeMatchingKeys(d,z.removedDocuments,X).next(function(){return e.qe.addMatchingKeys(d,z.addedDocuments,X)}));var oe=z.resumeToken;if(oe.approximateByteSize()>0){var ue=te.withResumeToken(oe,s).withSequenceNumber(d.currentSequenceNumber);o=o.insert(X,ue),xe=te,qe=z,Kt((Oe=ue).resumeToken.approximateByteSize()>0),(0===xe.resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=3e8||qe.addedDocuments.size+qe.modifiedDocuments.size+qe.removedDocuments.size>0)&&C.push(e.qe.updateTargetData(d,ue))}}});var I=Eo();if(t.documentUpdates.forEach(function(z,X){t.resolvedLimboDocuments.has(z)&&C.push(e.persistence.referenceDelegate.updateLimboDocument(d,z))}),C.push(BE(d,m,t.documentUpdates,s,void 0).next(function(z){I=z})),!s.isEqual(pn.min())){var F=e.qe.getLastRemoteSnapshotVersion(d).next(function(z){return e.qe.setTargetsMetadata(d,d.currentSequenceNumber,s)});C.push(F)}return ht.waitFor(C).next(function(){return m.apply(d)}).next(function(){return e.Mn.En(d,I)}).next(function(){return I})}).then(function(d){return e.Fn=o,d})}function BE(i,t,e,s,o){var d=Pn();return e.forEach(function(m){return d=d.add(m)}),t.getEntries(i,d).next(function(m){var C=Eo();return e.forEach(function(I,F){var z=m.get(I),X=(null==o?void 0:o.get(I))||s;F.isNoDocument()&&F.version.isEqual(pn.min())?(t.removeEntry(I,X),C=C.insert(I,F)):!z.isValidDocument()||F.version.compareTo(z.version)>0||0===F.version.compareTo(z.version)&&z.hasPendingWrites?(t.addEntry(F,X),C=C.insert(I,F)):ft("LocalStore","Ignoring outdated watch update for ",I,". Current version:",z.version," Watch version:",F.version)}),C})}function Sy(i,t){var e=_t(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(s,t)})}function hf(i,t){var e=_t(i);return e.persistence.runTransaction("Allocate target","readwrite",function(s){var o;return e.qe.getTargetData(s,t).next(function(d){return d?ht.resolve(o=d):e.qe.allocateTargetId(s).next(function(m){return o=new my(t,m,0,s.currentSequenceNumber),e.qe.addTargetData(s,o).next(function(){return o})})})}).then(function(s){var o=e.Fn.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(s.targetId,s),e.kn.set(t,s.targetId)),s})}function df(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:s=_t(i),o=s.Fn.get(t),d=e?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),e?[3,3]:[4,s.persistence.runTransaction("Release target",d,function(I){return s.persistence.referenceDelegate.removeTarget(I,o)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!xh(m=C.sent()))throw m;return ft("LocalStore","Failed to update sequence numbers for target "+t+": "+m),[3,5];case 5:return s.Fn=s.Fn.remove(t),s.kn.delete(o.target),[2]}})})}function Lg(i,t,e){var s=_t(i),o=pn.min(),d=Pn();return s.persistence.runTransaction("Execute query","readonly",function(m){return(C=s,I=m,F=So(t),z=_t(C),X=z.kn.get(F),void 0!==X?ht.resolve(z.Fn.get(X)):z.qe.getTargetData(I,F)).next(function(C){if(C)return o=C.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(m,C.targetId).next(function(I){d=I})}).next(function(){return s.xn.getDocumentsMatchingQuery(m,t,e?o:pn.min(),e?d:Pn())}).next(function(C){return{documents:C,Bn:d}});var C,I,F,z,X})}function gx(i,t){var e=_t(i),s=_t(e.qe),o=e.Fn.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",function(d){return s.lt(d,t).next(function(m){return m?m.target:null})})}function Ey(i){var t=_t(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return o=e,d=t.$n,m=_t(t.On),C=Eo(),I=of(d),F=Bc(o),z=IDBKeyRange.lowerBound(I,!0),F.$t({index:Mi.readTimeIndex,range:z},function(X,te){var oe=xE(m.R,te);C=C.insert(oe.key,oe),I=te.readTime}).next(function(){return{wn:C,readTime:wE(I)}});var o,d,m,C,I,F,z}).then(function(e){var s=e.wn;return t.$n=e.readTime,s})}function HE(i){return(0,ce.mG)(this,void 0,void 0,function(){var t;return(0,ce.Jh)(this,function(e){return[2,(t=_t(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return d=Bc(s),m=pn.min(),d.$t({index:Mi.readTimeIndex,reverse:!0},function(C,I,F){I.readTime&&(m=wE(I.readTime)),F.done()}).next(function(){return m});var d,m}).then(function(s){t.$n=s})]})})}function UE(i,t,e,s){return(0,ce.mG)(this,void 0,void 0,function(){var o,d,m,C,I,F,z,X,te,oe;return(0,ce.Jh)(this,function(ue){switch(ue.label){case 0:for(o=_t(i),d=Pn(),m=Eo(),C=QS(),I=0,F=e;I<F.length;I++)X=t.qn((z=F[I]).metadata.name),z.document&&(d=d.add(X)),m=m.insert(X,t.Un(z)),C=C.insert(X,t.Kn(z.metadata.readTime));return te=o.On.newChangeBuffer({trackRemovals:!0}),[4,hf(o,(xe=s,So(ph(Mn.fromString("__bundle__/docs/"+xe)))))];case 1:return oe=ue.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(xe){return BE(xe,te,m,pn.min(),C).next(function(Oe){return te.apply(xe),Oe}).next(function(Oe){return o.qe.removeMatchingKeysForTargetId(xe,oe.targetId).next(function(){return o.qe.addMatchingKeys(xe,d,oe.targetId)}).next(function(){return o.Mn.En(xe,Oe)}).next(function(){return Oe})})})]}var xe})})}function jD(i,t,e){return void 0===e&&(e=Pn()),(0,ce.mG)(this,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,hf(i,So(yy(t.bundledQuery)))];case 1:return s=d.sent(),[2,(o=_t(i)).persistence.runTransaction("Save named query","readwrite",function(m){var C=Cr(t.readTime);if(s.snapshotVersion.compareTo(C)>=0)return o.Ke.saveNamedQuery(m,t);var I=s.withResumeToken(jr.EMPTY_BYTE_STRING,C);return o.Fn=o.Fn.insert(I.targetId,I),o.qe.updateTargetData(m,I).next(function(){return o.qe.removeMatchingKeysForTargetId(m,s.targetId)}).next(function(){return o.qe.addMatchingKeys(m,e,s.targetId)}).next(function(){return o.Ke.saveNamedQuery(m,t)})})]}})})}var GD=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return ht.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var s;return this.Qn.set(e.id,{id:(s=e).id,version:s.version,createTime:Cr(s.createTime)}),ht.resolve()},i.prototype.getNamedQuery=function(t,e){return ht.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(s=e).name,query:yy(s.bundledQuery),readTime:Cr(s.readTime)}),ht.resolve();var s},i}(),Ay=function(){function i(){this.Wn=new $i(hr.Gn),this.zn=new $i(hr.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var s=new hr(t,e);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},i.prototype.Jn=function(t,e){var s=this;t.forEach(function(o){return s.addReference(o,e)})},i.prototype.removeReference=function(t,e){this.Yn(new hr(t,e))},i.prototype.Xn=function(t,e){var s=this;t.forEach(function(o){return s.removeReference(o,e)})},i.prototype.Zn=function(t){var e=this,s=new Gt(new Mn([])),o=new hr(s,t),d=new hr(s,t+1),m=[];return this.zn.forEachInRange([o,d],function(C){e.Yn(C),m.push(C.key)}),m},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new Gt(new Mn([])),s=new hr(e,t),o=new hr(e,t+1),d=Pn();return this.zn.forEachInRange([s,o],function(m){d=d.add(m.key)}),d},i.prototype.containsKey=function(t){var e=new hr(t,0),s=this.Wn.firstAfterOrEqual(e);return null!==s&&t.isEqual(s.key)},i}(),hr=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return Gt.comparator(t.key,e.key)||wn(t.ns,e.ns)},i.Hn=function(t,e){return wn(t.ns,e.ns)||Gt.comparator(t.key,e.key)},i}(),zE=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $i(hr.Gn)}return i.prototype.checkEmpty=function(t){return ht.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,s,o){var d=this.ss;this.ss++;var m=new gy(d,e,s,o);this._n.push(m);for(var C=0,I=o;C<I.length;C++){var F=I[C];this.rs=this.rs.add(new hr(F.key,d)),this.Ut.addToCollectionParentIndex(t,F.key.path.popLast())}return ht.resolve(m)},i.prototype.lookupMutationBatch=function(t,e){return ht.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this.cs(e+1),d=o<0?0:o;return ht.resolve(this._n.length>d?this._n[d]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return ht.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return ht.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var s=this,o=new hr(e,0),d=new hr(e,Number.POSITIVE_INFINITY),m=[];return this.rs.forEachInRange([o,d],function(C){var I=s.os(C.ns);m.push(I)}),ht.resolve(m)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var s=this,o=new $i(wn);return e.forEach(function(d){var m=new hr(d,0),C=new hr(d,Number.POSITIVE_INFINITY);s.rs.forEachInRange([m,C],function(I){o=o.add(I.ns)})}),ht.resolve(this.us(o))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var s=e.path,o=s.length+1,d=s;Gt.isDocumentKey(d)||(d=d.child(""));var m=new hr(new Gt(d),0),C=new $i(wn);return this.rs.forEachWhile(function(I){var F=I.key.path;return!!s.isPrefixOf(F)&&(F.length===o&&(C=C.add(I.ns)),!0)},m),ht.resolve(this.us(C))},i.prototype.us=function(t){var e=this,s=[];return t.forEach(function(o){var d=e.os(o);null!==d&&s.push(d)}),s},i.prototype.removeMutationBatch=function(t,e){var s=this;Kt(0===this.hs(e.batchId,"removed")),this._n.shift();var o=this.rs;return ht.forEach(e.mutations,function(d){var m=new hr(d.key,e.batchId);return o=o.delete(m),s.referenceDelegate.markPotentiallyOrphaned(t,d.key)}).next(function(){s.rs=o})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var s=new hr(e,0),o=this.rs.firstAfterOrEqual(s);return ht.resolve(e.isEqual(o&&o.key))},i.prototype.performConsistencyCheck=function(t){return ht.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),Ty=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new Yr(Gt.comparator),this.size=0}return i.prototype.addEntry=function(t,e,s){var o=e.key,d=this.docs.get(o),m=d?d.size:0,C=this.ls(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:C,readTime:s}),this.size+=C-m,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var s=this.docs.get(e);return ht.resolve(s?s.document.clone():wr.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var s=this,o=Eo();return e.forEach(function(d){var m=s.docs.get(d);o=o.insert(d,m?m.document.clone():wr.newInvalidDocument(d))}),ht.resolve(o)},i.prototype.getDocumentsMatchingQuery=function(t,e,s){for(var o=Eo(),d=new Gt(e.path.child("")),m=this.docs.getIteratorFrom(d);m.hasNext();){var C=m.getNext(),F=C.value,z=F.document,X=F.readTime;if(!e.path.isPrefixOf(C.key.path))break;X.compareTo(s)<=0||Ag(e,z)&&(o=o.insert(z.key,z.clone()))}return ht.resolve(o)},i.prototype.fs=function(t,e){return ht.forEach(this.docs,function(s){return e(s)})},i.prototype.newChangeBuffer=function(t){return new Dy(this)},i.prototype.getSize=function(t){return ht.resolve(this.size)},i}(),Dy=function(i){function t(e){var s=this;return(s=i.call(this)||this).Ie=e,s}return(0,ce.ZT)(t,i),t.prototype.applyChanges=function(e){var s=this,o=[];return this.changes.forEach(function(d,m){m.document.isValidDocument()?o.push(s.Ie.addEntry(e,m.document,s.getReadTime(d))):s.Ie.removeEntry(d)}),ht.waitFor(o)},t.prototype.getFromCache=function(e,s){return this.Ie.getEntry(e,s)},t.prototype.getAllFromCache=function(e,s){return this.Ie.getEntries(e,s)},t}(RE),GR=function(){function i(t){this.persistence=t,this.ds=new Wa(function(e){return dh(e)},Dc),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.ws=0,this._s=new Ay,this.targetCount=0,this.ys=_y.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(s,o){return e(o)}),ht.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return ht.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return ht.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ht.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ws&&(this.ws=e),ht.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new _y(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ht.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),ht.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ht.resolve()},i.prototype.removeTargets=function(t,e,s){var o=this,d=0,m=[];return this.ds.forEach(function(C,I){I.sequenceNumber<=e&&null===s.get(I.targetId)&&(o.ds.delete(C),m.push(o.removeMatchingKeysForTargetId(t,I.targetId)),d++)}),ht.waitFor(m).next(function(){return d})},i.prototype.getTargetCount=function(t){return ht.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var s=this.ds.get(e)||null;return ht.resolve(s)},i.prototype.addMatchingKeys=function(t,e,s){return this._s.Jn(e,s),ht.resolve()},i.prototype.removeMatchingKeys=function(t,e,s){this._s.Xn(e,s);var o=this.persistence.referenceDelegate,d=[];return o&&e.forEach(function(m){d.push(o.markPotentiallyOrphaned(t,m))}),ht.waitFor(d)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ht.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var s=this._s.es(e);return ht.resolve(s)},i.prototype.containsKey=function(t,e){return ht.resolve(this._s.containsKey(e))},i}(),Vg=function(){function i(t,e){var s=this;this.gs={},this.Ne=new Ds(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new GR(this),this.Ut=new PD,this.Ue=new Ty(this.Ut,function(m){return s.referenceDelegate.ps(m)}),this.R=new Lc(e),this.Ke=new GD(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new zE(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,s){var o=this;ft("MemoryPersistence","Starting transaction:",t);var d=new jn(this.Ne.next());return this.referenceDelegate.Es(),s(d).next(function(m){return o.referenceDelegate.Ts(d).next(function(){return m})}).toPromise().then(function(m){return d.raiseOnCommittedEvent(),m})},i.prototype.Is=function(t,e){return ht.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(t,e)}}))},i}(),jn=function(i){function t(e){var s=this;return(s=i.call(this)||this).currentSequenceNumber=e,s}return(0,ce.ZT)(t,i),t}(bE),Uc=function(){function i(t){this.persistence=t,this.As=new Ay,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Bt()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,s){return this.As.addReference(s,e),this.vs.delete(s.toString()),ht.resolve()},i.prototype.removeReference=function(t,e,s){return this.As.removeReference(s,e),this.vs.add(s.toString()),ht.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ht.resolve()},i.prototype.removeTarget=function(t,e){var s=this;this.As.Zn(e.targetId).forEach(function(d){return s.vs.add(d.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,e.targetId).next(function(d){d.forEach(function(m){return s.vs.add(m.toString())})}).next(function(){return o.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.vs,function(o){var d=Gt.fromPath(o);return e.Ps(t,d).next(function(m){m||s.removeEntry(d)})}).next(function(){return e.Rs=null,s.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var s=this;return this.Ps(t,e).next(function(o){o?s.vs.delete(e.toString()):s.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var s=this;return ht.or([function(){return ht.resolve(s.As.containsKey(e))},function(){return s.persistence.getTargetCache().containsKey(t,e)},function(){return s.persistence.Is(t,e)}])},i}(),sr=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function ff(i,t){return"firestore_clients_"+i+"_"+t}function YD(i,t,e){var s="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(s+="_"+t.uid),s}function en(i,t){return"firestore_targets_"+i+"_"+t}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid");var to=function(){function i(t,e,s,o){this.user=t,this.batchId=e,this.state=s,this.error=o}return i.Vs=function(t,e,s){var o,d=JSON.parse(s),m="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return m&&d.error&&(m="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(o=new lt(d.error.code,d.error.message)),m?new i(t,e,d.state,o):(qi("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+s),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),Bg=function(){function i(t,e,s){this.targetId=t,this.state=e,this.error=s}return i.Vs=function(t,e){var s,o=JSON.parse(e),d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(s=new lt(o.error.code,o.error.message)),d?new i(t,o.state,s):(qi("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),zc=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var s=JSON.parse(e),o="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ig(),m=0;o&&m<s.activeTargetIds.length;++m)o=ch(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return o?new i(t,d):(qi("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),YR=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(qi("SharedClientState","Failed to parse online state: "+t),null)},i}(),Iy=function(){function i(){this.activeTargetIds=Ig()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),My=function(){function i(t,e,s,o,d){this.window=t,this.Se=e,this.persistenceKey=s,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Yr(wn),this.started=!1,this.$s=[];var m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Os=ff(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Iy),this.Ls=new RegExp("^firestore_clients_"+m+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+m+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+m+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s,o,d,m,C,I,F,z,te=this;return(0,ce.Jh)(this,function(oe){switch(oe.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=oe.sent(),e=0,s=t;e<s.length;e++)(o=s[e])!==this.Ns&&(d=this.getItem(ff(this.persistenceKey,o)))&&(m=zc.Vs(o,d))&&(this.ks=this.ks.insert(m.clientId,m));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(I=this.js(C))&&this.Ws(I),F=0,z=this.$s;F<z.length;F++)this.Fs(z[F]);return this.$s=[],this.window.addEventListener("pagehide",function(){return te.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(s,o){o.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,s){this.zs(t,e,s),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var s=this.storage.getItem(en(this.persistenceKey,t));if(s){var o=Bg.Vs(t,s);o&&(e=o.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(en(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,s){this.Ys(t,e,s)},i.prototype.handleUserChange=function(t,e,s){var o=this;e.forEach(function(d){o.Hs(d)}),this.currentUser=t,s.forEach(function(d){o.addPendingMutation(d)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return ft("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){ft("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){ft("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.Fs=function(t){var e=this,s=t;if(s.storageArea===this.storage){if(ft("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,ce.mG)(e,void 0,void 0,function(){var o,d,m,C,I,F;return(0,ce.Jh)(this,function(z){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return o=this.ti(s.key),[2,this.ei(o,null)];if(d=this.ni(s.key,s.newValue))return[2,this.ei(d.clientId,d)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(m=this.si(s.key,s.newValue)))return[2,this.ii(m)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(C=this.ri(s.key,s.newValue)))return[2,this.oi(C)]}else if(s.key===this.Us){if(null!==s.newValue&&(I=this.js(s.newValue)))return[2,this.Ws(I)]}else if(s.key===this.Ms)(F=function(X){var te=Ds.o;if(null!=X)try{var oe=JSON.parse(X);Kt("number"==typeof oe),te=oe}catch(ue){qi("SharedClientState","Failed to read sequence number from WebStorage",ue)}return te}(s.newValue))!==Ds.o&&this.sequenceNumberHandler(F);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,s){var o=new to(this.currentUser,t,e,s),d=YD(this.persistenceKey,this.currentUser,t);this.setItem(d,o.Ss())},i.prototype.Hs=function(t){var e=YD(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,s){var o=en(this.persistenceKey,t),d=new Bg(t,e,s);this.setItem(o,d.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var s=this.ti(t);return zc.Vs(s,e)},i.prototype.si=function(t,e){var s=this.Bs.exec(t),o=Number(s[1]);return to.Vs(new sr(void 0!==s[2]?s[2]:null),o,e)},i.prototype.ri=function(t,e){var s=this.qs.exec(t),o=Number(s[1]);return Bg.Vs(o,e)},i.prototype.js=function(t){return YR.Vs(t)},i.prototype.ii=function(t){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ft("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var s=this,o=e?this.ks.insert(t,e):this.ks.remove(t),d=this.Gs(this.ks),m=this.Gs(o),C=[],I=[];return m.forEach(function(F){d.has(F)||C.push(F)}),d.forEach(function(F){m.has(F)||I.push(F)}),this.syncEngine.hi(C,I).then(function(){s.ks=o})},i.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=Ig();return t.forEach(function(s,o){e=e.unionWith(o.activeTargetIds)}),e},i}(),WD=function(){function i(){this.li=new Iy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,s){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,s){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new Iy,Promise.resolve()},i.prototype.handleUserChange=function(t,e,s){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),qD=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),jE=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),Do={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ai=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),sa=function(i){function t(e){var s=this;return(s=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,s.autoDetectLongPolling=e.autoDetectLongPolling,s.useFetchStreams=e.useFetchStreams,s}return(0,ce.ZT)(t,i),t.prototype.ki=function(e,s,o,d){return new Promise(function(m,C){var I=new iy;I.listenOnce(ey.COMPLETE,function(){try{switch(I.getLastErrorCode()){case Jv.NO_ERROR:var z=I.getResponseJson();ft("Connection","XHR received:",JSON.stringify(z)),m(z);break;case Jv.TIMEOUT:ft("Connection",'RPC "'+e+'" timed out'),C(new lt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case Jv.HTTP_ERROR:var X=I.getStatus();if(ft("Connection",'RPC "'+e+'" failed with status:',X,"response text:",I.getResponseText()),X>0){var te=I.getResponseJson().error;if(te&&te.status&&te.message){var oe=(xe=te.status.toLowerCase().replace(/_/g,"-"),Object.values(Ze).indexOf(xe)>=0?xe:Ze.UNKNOWN);C(new lt(oe,te.message))}else C(new lt(Ze.UNKNOWN,"Server responded with status "+I.getStatus()))}else C(new lt(Ze.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{ft("Connection",'RPC "'+e+'" completed.')}var xe});var F=JSON.stringify(d);I.send(s,"POST",F,o,15)})},t.prototype.Oi=function(e,s){var o=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=new Gd,m=tg(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new dD({})),this.Fi(C.initMessageHeaders,s),(0,Fn.uI)()||(0,Fn.b$)()||(0,Fn.d)()||(0,Fn.w1)()||(0,Fn.Mn)()||(0,Fn.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var I=o.join("");ft("Connection","Creating WebChannel: "+I,C);var F=d.createWebChannel(I,C),z=!1,X=!1,te=new Ai({Ei:function(ue){X?ft("Connection","Not sending because WebChannel is closed:",ue):(z||(ft("Connection","Opening WebChannel transport."),F.open(),z=!0),ft("Connection","WebChannel sending:",ue),F.send(ue))},Ti:function(){return F.close()}}),oe=function(ue,xe,Oe){ue.listen(xe,function(qe){try{Oe(qe)}catch(ot){setTimeout(function(){throw ot},0)}})};return oe(F,gg.EventType.OPEN,function(){X||ft("Connection","WebChannel transport opened.")}),oe(F,gg.EventType.CLOSE,function(){X||(X=!0,ft("Connection","WebChannel transport closed"),te.Vi())}),oe(F,gg.EventType.ERROR,function(ue){X||(X=!0,qd("Connection","WebChannel transport errored:",ue),te.Vi(new lt(Ze.UNAVAILABLE,"The operation could not be completed")))}),oe(F,gg.EventType.MESSAGE,function(ue){var xe;if(!X){var Oe=ue.data[0];Kt(!!Oe);var ot=Oe.error||(null===(xe=Oe[0])||void 0===xe?void 0:xe.error);if(ot){ft("Connection","WebChannel received error:",ot);var at=ot.status,Et=function(hn){var Ln=Xi[hn];if(void 0!==Ln)return hy(Ln)}(at),Ot=ot.message;void 0===Et&&(Et=Ze.INTERNAL,Ot="Unknown error status: "+at+" with message "+ot.message),X=!0,te.Vi(new lt(Et,Ot)),F.close()}else ft("Connection","WebChannel received:",Oe),te.Si(Oe)}}),oe(m,ty.STAT_EVENT,function(ue){ue.stat===ny_PROXY?ft("Connection","Detected buffering proxy"):ue.stat===ny_NOPROXY&&ft("Connection","Detected no buffering proxy")}),setTimeout(function(){te.Pi()},0),te},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,s,o){var d=this.xi(t,e);ft("RestConnection","Sending: ",d,s);var m={};return this.Fi(m,o),this.ki(t,d,m,s).then(function(C){return ft("RestConnection","Received: ",C),C},function(C){throw qd("RestConnection",t+" failed with error: ",C,"url: ",d,"request:",s),C})},i.prototype.$i=function(t,e,s,o){return this.Ni(t,e,s,o)},i.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var s in e.authHeaders)e.authHeaders.hasOwnProperty(s)&&(t[s]=e.authHeaders[s])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Do[t]},i}());function mx(){return"undefined"!=typeof window?window:null}function ky(){return"undefined"!=typeof document?document:null}function pf(i){return new nE(i,!0)}var Hg=function(){function i(t,e,s,o,d){void 0===s&&(s=1e3),void 0===o&&(o=1.5),void 0===d&&(d=6e4),this.Se=t,this.timerId=e,this.Mi=s,this.Li=o,this.Bi=d,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),d=Math.max(0,s-o);d>0&&ft("ExponentialBackoff","Backing off for "+d+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,d,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),Th=function(){function i(t,e,s,o,d,m){this.Se=t,this.zi=s,this.Hi=o,this.Ji=d,this.listener=m,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Hg(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ze.RESOURCE_EXHAUSTED?(qi(e.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ze.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return s.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(o){t.Yi===s&&t.lr(o)},function(o){e(function(){var d=new lt(Ze.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(d)})})},i.prototype.lr=function(t){var e=this,s=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){s(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(o){s(function(){return e.dr(o)})}),this.stream.onMessage(function(o){s(function(){return e.onMessage(o)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,ce.mG)(t,void 0,void 0,function(){return(0,ce.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return ft("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(s){e.Se.enqueueAndForget(function(){return e.Yi===t?s():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),Ug=function(i){function t(e,s,o,d,m){var C=this;return(C=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",s,o,m)||this).R=d,C}return(0,ce.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var s=function(d,m){var C,Oe;if("targetChange"in m){var I="NO_CHANGE"===(Oe=m.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Oe?1:"REMOVE"===Oe?2:"CURRENT"===Oe?3:"RESET"===Oe?4:Bt(),F=m.targetChange.targetIds||[],z=function(Oe,qe){return Oe.I?(Kt(void 0===qe||"string"==typeof qe),jr.fromBase64String(qe||"")):(Kt(void 0===qe||qe instanceof Uint8Array),jr.fromUint8Array(qe||new Uint8Array))}(d,m.targetChange.resumeToken),X=(te=m.targetChange.cause)&&function(Oe){var qe=void 0===Oe.code?Ze.UNKNOWN:hy(Oe.code);return new lt(qe,Oe.message||"")}(te);C=new JS(I,F,z,X||null)}else if("documentChange"in m){F=Js(d,(I=m.documentChange).document.name),z=Cr(I.document.updateTime);var te=new Ms({mapValue:{fields:I.document.fields}}),oe=(X=wr.newFoundDocument(F,z,te),I.targetIds||[]);C=new Pc(oe,I.removedTargetIds||[],X.key,X)}else if("documentDelete"in m)F=Js(d,(I=m.documentDelete).document),z=I.readTime?Cr(I.readTime):pn.min(),te=wr.newNoDocument(F,z),C=new Pc([],X=I.removedTargetIds||[],te.key,te);else if("documentRemove"in m)F=Js(d,(I=m.documentRemove).document),C=new Pc([],z=I.removedTargetIds||[],F,null);else{if(!("filter"in m))return Bt();var xe=m.filter;F=new VR(I=xe.count||0),C=new Kd(z=xe.targetId,F)}return C}(this.R,e),o=function(d){if(!("targetChange"in d))return pn.min();var m=d.targetChange;return m.targetIds&&m.targetIds.length?pn.min():m.readTime?Cr(m.readTime):pn.min()}(e);return this.listener._r(s,o)},t.prototype.mr=function(e){var d,m,C,I,s={};s.database=ef(this.R),s.addTarget=(d=this.R,(C=oy(I=(m=e).target)?{documents:cE(d,I)}:{query:rx(d,I)}).targetId=m.targetId,m.resumeToken.approximateByteSize()>0?C.resumeToken=iE(d,m.resumeToken):m.snapshotVersion.compareTo(pn.min())>0&&(C.readTime=Mg(d,m.snapshotVersion.toTimestamp())),C);var o=function(d,m){var C=function(I,F){switch(F){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,m.purpose);return null==C?null:{"goog-listen-tags":C}}(0,e);o&&(s.labels=o),this.cr(s)},t.prototype.yr=function(e){var s={};s.database=ef(this.R),s.removeTarget=e,this.cr(s)},t}(Th),XD=function(i){function t(e,s,o,d,m){var C=this;return(C=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",s,o,m)||this).R=d,C.gr=!1,C}return(0,ce.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var s=(m=e.commitTime,(d=e.writeResults)&&d.length>0?(Kt(void 0!==m),d.map(function(C){return F=m,(z=Cr((I=C).updateTime?I.updateTime:F)).isEqual(pn.min())&&(z=Cr(F)),new bD(z,I.transformResults||[]);var I,F,z})):[]),o=Cr(e.commitTime);return this.listener.Tr(o,s)}var d,m;return Kt(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ef(this.R),this.cr(e)},t.prototype.Er=function(e){var s=this,o={streamToken:this.lastStreamToken,writes:e.map(function(d){return fy(s.R,d)})};this.cr(o)},t}(Th),Dh=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).credentials=e,d.Hi=s,d.R=o,d.Rr=!1,d}return(0,ce.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new lt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,s,o){var d=this;return this.br(),this.credentials.getToken().then(function(m){return d.Hi.Ni(e,s,o,m)}).catch(function(m){throw"FirebaseError"===m.name?(m.code===Ze.UNAUTHENTICATED&&d.credentials.invalidateToken(),m):new lt(Ze.UNKNOWN,m.toString())})},t.prototype.$i=function(e,s,o){var d=this;return this.br(),this.credentials.getToken().then(function(m){return d.Hi.$i(e,s,o,m)}).catch(function(m){throw"FirebaseError"===m.name?(m.code===Ze.UNAUTHENTICATED&&d.credentials.invalidateToken(),m):new lt(Ze.UNKNOWN,m.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),$D=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(qi(e),this.Vr=!1):ft("OnlineStateTracker",e)},i.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),GE=function(i,t,e,s,o){var d=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(m){e.enqueueAndForget(function(){return(0,ce.mG)(d,void 0,void 0,function(){return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return kl(this)?(ft("RemoteStore","Restarting streams for network reachability change."),[4,function(I){return(0,ce.mG)(this,void 0,void 0,function(){var F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:return(F=_t(I)).Or.add(4),[4,qa(F)];case 1:return z.sent(),F.Br.set("Unknown"),F.Or.delete(4),[4,Ih(F)];case 2:return z.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new $D(e,s)};function Ih(i){return(0,ce.mG)(this,void 0,void 0,function(){var t,e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:if(!kl(i))return[3,4];t=0,e=i.Mr,s.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qa(i){return(0,ce.mG)(this,void 0,void 0,function(){var t,e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:t=0,e=i.Mr,s.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function gf(i,t){var e=_t(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Ry(e)?vf(e):Gg(e).er()&&jc(e,t))}function mf(i,t){var e=_t(i),s=Gg(e);e.$r.delete(t),s.er()&&YE(e,t),0===e.$r.size&&(s.er()?s.ir():kl(e)&&e.Br.set("Unknown"))}function jc(i,t){i.qr.U(t.targetId),Gg(i).mr(t)}function YE(i,t){i.qr.U(t),Gg(i).yr(t)}function vf(i){i.qr=new AD({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),Gg(i).start(),i.Br.Sr()}function Ry(i){return kl(i)&&!Gg(i).tr()&&i.$r.size>0}function kl(i){return 0===_t(i).Or.size}function vx(i){i.qr=void 0}function Oy(i){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){return i.$r.forEach(function(e,s){jc(i,e)}),[2]})})}function ZD(i,t){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(e){return vx(i),Ry(i)?(i.Br.Nr(t),vf(i)):i.Br.set("Unknown"),[2]})})}function yx(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:if(i.Br.set("Online"),!(t instanceof JS&&2===t.state&&t.cause))return[3,6];m.label=1;case 1:return m.trys.push([1,3,,5]),[4,function(C,I){return(0,ce.mG)(this,void 0,void 0,function(){var F,z,X,te;return(0,ce.Jh)(this,function(oe){switch(oe.label){case 0:F=I.cause,z=0,X=I.targetIds,oe.label=1;case 1:return z<X.length?C.$r.has(te=X[z])?[4,C.remoteSyncer.rejectListen(te,F)]:[3,3]:[3,5];case 2:oe.sent(),C.$r.delete(te),C.qr.removeTarget(te),oe.label=3;case 3:oe.label=4;case 4:return z++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return m.sent(),[3,5];case 3:return s=m.sent(),ft("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),[4,yf(i,s)];case 4:return m.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Pc?i.qr.X(t):t instanceof Kd?i.qr.rt(t):i.qr.et(t),e.isEqual(pn.min()))return[3,13];m.label=7;case 7:return m.trys.push([7,11,,13]),[4,VE(i.localStore)];case 8:return o=m.sent(),e.compareTo(o)>=0?[4,(C=i,I=e,F=C.qr.ut(I),F.targetChanges.forEach(function(z,X){if(z.resumeToken.approximateByteSize()>0){var te=C.$r.get(X);te&&C.$r.set(X,te.withResumeToken(z.resumeToken,I))}}),F.targetMismatches.forEach(function(z){var X=C.$r.get(z);if(X){C.$r.set(z,X.withResumeToken(jr.EMPTY_BYTE_STRING,X.snapshotVersion)),YE(C,z);var te=new my(X.target,z,1,X.sequenceNumber);jc(C,te)}}),C.remoteSyncer.applyRemoteEvent(F))]:[3,10];case 9:m.sent(),m.label=10;case 10:return[3,13];case 11:return ft("RemoteStore","Failed to raise snapshot:",d=m.sent()),[4,yf(i,d)];case 12:return m.sent(),[3,13];case 13:return[2]}var C,I,F})})}function yf(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s=this;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:if(!xh(t))throw t;return i.Or.add(1),[4,qa(i)];case 1:return o.sent(),i.Br.set("Offline"),e||(e=function(){return VE(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,ce.mG)(s,void 0,void 0,function(){return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return ft("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return d.sent(),i.Or.delete(1),[4,Ih(i)];case 2:return d.sent(),[2]}})})}),[2]}})})}function QD(i,t){return t().catch(function(e){return yf(i,e,t)})}function zg(i){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s,o,d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:t=_t(i),e=Gc(t),s=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,m.label=1;case 1:if(!(kl(C=t)&&C.kr.length<10))return[3,7];m.label=2;case 2:return m.trys.push([2,4,,6]),[4,Sy(t.localStore,s)];case 3:return null===(o=m.sent())?(0===t.kr.length&&e.ir(),[3,7]):(s=o.batchId,function(C,I){C.kr.push(I);var F=Gc(C);F.er()&&F.pr&&F.Er(I.mutations)}(t,o),[3,6]);case 4:return d=m.sent(),[4,yf(t,d)];case 5:return m.sent(),[3,6];case 6:return[3,1];case 7:return tn(t)&&KD(t),[2]}var C})})}function tn(i){return kl(i)&&!Gc(i).tr()&&i.kr.length>0}function KD(i){Gc(i).start()}function jg(i){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){return Gc(i).Ar(),[2]})})}function JD(i){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s;return(0,ce.Jh)(this,function(d){for(t=Gc(i),e=0,s=i.kr;e<s.length;e++)t.Er(s[e].mutations);return[2]})})}function eI(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return s=i.kr.shift(),o=HR.from(s,t,e),[4,QD(i,function(){return i.remoteSyncer.applySuccessfulWrite(o)})];case 1:return d.sent(),[4,zg(i)];case 2:return d.sent(),[2]}})})}function tI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(e){switch(e.label){case 0:return t&&Gc(i).pr?[4,function(s,o){return(0,ce.mG)(this,void 0,void 0,function(){var d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return K0(m=o.code)&&m!==Ze.ABORTED?(d=s.kr.shift(),Gc(s).sr(),[4,QD(s,function(){return s.remoteSyncer.rejectFailedWrite(d.batchId,o)})]):[3,3];case 1:return C.sent(),[4,zg(s)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return tn(i)&&KD(i),[2]}})})}function WE(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return e=_t(i),t?(e.Or.delete(2),[4,Ih(e)]):[3,2];case 1:return s.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,qa(e)]);case 3:s.sent(),e.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function Gg(i){var e,s,o,d,t=this;return i.Ur||(i.Ur=(e=i.datastore,s=i.asyncQueue,o={Ii:Oy.bind(null,i),Ri:ZD.bind(null,i),_r:yx.bind(null,i)},(d=_t(e)).br(),new Ug(s,d.Hi,d.credentials,d.R,o)),i.Mr.push(function(e){return(0,ce.mG)(t,void 0,void 0,function(){return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return e?(i.Ur.sr(),Ry(i)?vf(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:s.sent(),vx(i),s.label=3;case 3:return[2]}})})})),i.Ur}function Gc(i){var e,s,o,d,t=this;return i.Kr||(i.Kr=(e=i.datastore,s=i.asyncQueue,o={Ii:jg.bind(null,i),Ri:tI.bind(null,i),Ir:JD.bind(null,i),Tr:eI.bind(null,i)},(d=_t(e)).br(),new XD(s,d.Hi,d.credentials,d.R,o)),i.Mr.push(function(e){return(0,ce.mG)(t,void 0,void 0,function(){return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return e?(i.Kr.sr(),[4,zg(i)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:s.sent(),i.kr.length>0&&(ft("RemoteStore","Stopping write stream with "+i.kr.length+" pending writes"),i.kr=[]),s.label=4;case 4:return[2]}})})})),i.Kr}var Xr=function(){function i(t,e,s,o,d){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=d,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(m){})}return i.createAndSchedule=function(t,e,s,o,d){var m=new i(t,e,Date.now()+s,o,d);return m.start(s),m},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(Ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function _f(i,t){if(qi("AsyncQueue",t+": "+i),xh(i))return new lt(Ze.UNAVAILABLE,t+": "+i);throw i}var qE=function(){function i(t){this.comparator=t?function(e,s){return t(e,s)||Gt.comparator(e.key,s.key)}:function(e,s){return Gt.comparator(e.key,s.key)},this.keyedMap=vh(),this.sortedSet=new Yr(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,s){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();e.hasNext();){var o=e.getNext().key,d=s.getNext().key;if(!o.isEqual(d))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var s=new i;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s},i}(),Py=function(){function i(){this.Qr=new Yr(Gt.comparator)}return i.prototype.track=function(t){var e=t.doc.key,s=this.Qr.get(e);s?0!==t.type&&3===s.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==s.type?this.Qr=this.Qr.insert(e,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.Qr=this.Qr.remove(e):1===t.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Bt():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,s){t.push(s)}),t},i}(),Ny=function(){function i(t,e,s,o,d,m,C,I){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=I}return i.fromInitialDocuments=function(t,e,s,o){var d=[];return e.forEach(function(m){d.push({type:0,doc:m})}),new i(t,e,qE.emptySet(e),d,s,o,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(var o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0},i}(),nI=function(){this.Wr=void 0,this.listeners=[]},iI=function(){this.queries=new Wa(function(i){return HS(i)},Eg),this.onlineState="Unknown",this.Gr=new Set};function _x(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o,d,m,C,I;return(0,ce.Jh)(this,function(F){switch(F.label){case 0:if(e=_t(i),o=!1,(d=e.queries.get(s=t.query))||(o=!0,d=new nI),!o)return[3,4];F.label=1;case 1:return F.trys.push([1,3,,4]),m=d,[4,e.onListen(s)];case 2:return m.Wr=F.sent(),[3,4];case 3:return C=F.sent(),I=_f(C,"Initialization of query '"+Y0(t.query)+"' failed"),[2,void t.onError(I)];case 4:return e.queries.set(s,d),d.listeners.push(t),t.zr(e.onlineState),d.Wr&&t.Hr(d.Wr)&&wx(e),[2]}})})}function bx(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o,d,m;return(0,ce.Jh)(this,function(C){return e=_t(i),o=!1,(d=e.queries.get(s=t.query))&&(m=d.listeners.indexOf(t))>=0&&(d.listeners.splice(m,1),o=0===d.listeners.length),o?[2,(e.queries.delete(s),e.onUnlisten(s))]:[2]})})}function rI(i,t){for(var e=_t(i),s=!1,o=0,d=t;o<d.length;o++){var m=d[o],I=e.queries.get(m.query);if(I){for(var F=0,z=I.listeners;F<z.length;F++)z[F].Hr(m)&&(s=!0);I.Wr=m}}s&&wx(e)}function xx(i,t,e){var s=_t(i),o=s.queries.get(t);if(o)for(var d=0,m=o.listeners;d<m.length;d++)m[d].onError(e);s.queries.delete(t)}function wx(i){i.Gr.forEach(function(t){t.next()})}var Cx=function(){function i(t,e,s){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],s=0,o=t.docChanges;s<o.length;s++){var d=o[s];3!==d.type&&e.push(d)}t=new Ny(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var m=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),m=!0):this.eo(t,this.onlineState)&&(this.no(t),m=!0),this.Xr=t,m},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=Ny.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),XE=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),Fy=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return Js(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?aE(this.R,t.document,!1):wr.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return Cr(t)},i}();!function(){function i(t,e,s){this.ro=t,this.localStore=e,this.R=s,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,s=new Fy(this.R),o=0,d=t;o<d.length;o++){var m=d[o];if(m.metadata.queries)for(var C=s.qn(m.metadata.name),I=0,F=m.metadata.queries;I<F.length;I++){var z=F[I],X=(e.get(z)||Pn()).add(C);e.set(z,X)}}return e},i.prototype.complete=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s,o,d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return[4,UE(this.localStore,new Fy(this.R),this.documents,this.ro.id)];case 1:t=m.sent(),e=this.co(this.documents),s=0,o=this.queries,m.label=2;case 2:return s<o.length?[4,jD(this.localStore,d=o[s],e.get(d.name))]:[3,5];case 3:m.sent(),m.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new HD(Object.assign({},this.progress),t))]}})})}}();var $E=function(i){this.key=i},ZE=function(i){this.key=i},QE=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Pn(),this.mutatedKeys=Pn(),this.lo=US(t),this.fo=new qE(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var s=this,o=e?e.mo:new Py,d=e?e.fo:this.fo,m=e?e.mutatedKeys:this.mutatedKeys,C=d,I=!1,F=Sg(this.query)&&d.size===this.query.limit?d.last():null,z=ay(this.query)&&d.size===this.query.limit?d.first():null;if(t.inorderTraversal(function(te,oe){var ue=d.get(te),xe=Ag(s.query,oe)?oe:null,Oe=!!ue&&s.mutatedKeys.has(ue.key),qe=!!xe&&(xe.hasLocalMutations||s.mutatedKeys.has(xe.key)&&xe.hasCommittedMutations),ot=!1;ue&&xe?ue.data.isEqual(xe.data)?Oe!==qe&&(o.track({type:3,doc:xe}),ot=!0):s.yo(ue,xe)||(o.track({type:2,doc:xe}),ot=!0,(F&&s.lo(xe,F)>0||z&&s.lo(xe,z)<0)&&(I=!0)):!ue&&xe?(o.track({type:0,doc:xe}),ot=!0):ue&&!xe&&(o.track({type:1,doc:ue}),ot=!0,(F||z)&&(I=!0)),ot&&(xe?(C=C.add(xe),m=qe?m.add(te):m.delete(te)):(C=C.delete(te),m=m.delete(te)))}),Sg(this.query)||ay(this.query))for(;C.size>this.query.limit;){var X=Sg(this.query)?C.last():C.first();C=C.delete(X.key),m=m.delete(X.key),o.track({type:1,doc:X})}return{fo:C,mo:o,Nn:I,mutatedKeys:m}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,s){var o=this,d=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var m=t.mo.jr();m.sort(function(z,X){return oe=X.type,(ue=function(xe){switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}})(z.type)-ue(oe)||o.lo(z.doc,X.doc);var oe,ue}),this.po(s);var C=e?this.Eo():[],I=0===this.ho.size&&this.current?1:0,F=I!==this.ao;return this.ao=I,0!==m.length||F?{snapshot:new Ny(this.query,t.fo,d,m,t.mutatedKeys,0===I,F,!1),To:C}:{To:C}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Py,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(s){return e.uo=e.uo.add(s)}),t.modifiedDocuments.forEach(function(s){}),t.removedDocuments.forEach(function(s){return e.uo=e.uo.delete(s)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Pn(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var s=[];return e.forEach(function(o){t.ho.has(o)||s.push(new ZE(o))}),this.ho.forEach(function(o){e.has(o)||s.push(new $E(o))}),s},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Pn();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return Ny.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),aI=function(i,t,e){this.query=i,this.targetId=t,this.view=e},lI=function(i){this.key=i,this.bo=!1},cI=function(){function i(t,e,s,o,d,m){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.vo={},this.Po=new Wa(function(C){return HS(C)},Eg),this.Vo=new Map,this.So=new Set,this.Do=new Yr(Gt.comparator),this.Co=new Map,this.No=new Ay,this.xo={},this.Fo=new Map,this.ko=_y.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function Yg(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,o,d,m,C;return(0,ce.Jh)(this,function(I){switch(I.label){case 0:return e=dr(i),(d=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(d.targetId),o=d.view.Ro(),[3,4]):[3,1];case 1:return[4,hf(e.localStore,So(t))];case 2:return m=I.sent(),C=e.sharedClientState.addLocalQueryTarget(m.targetId),[4,Sx(e,t,m.targetId,"current"===C)];case 3:o=I.sent(),e.isPrimaryClient&&gf(e.remoteStore,m),I.label=4;case 4:return[2,o]}})})}function Sx(i,t,e,s){return(0,ce.mG)(this,void 0,void 0,function(){var o,d,m,C,I,F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:return i.Oo=function(X,te,oe){return function(ue,xe,Oe,qe){return(0,ce.mG)(this,void 0,void 0,function(){var ot,at,Et;return(0,ce.Jh)(this,function(Ot){switch(Ot.label){case 0:return(ot=xe.view._o(Oe)).Nn?[4,Lg(ue.localStore,xe.query,!1).then(function(hn){return xe.view._o(hn.documents,ot)})]:[3,2];case 1:ot=Ot.sent(),Ot.label=2;case 2:return at=qe&&qe.targetChanges.get(xe.targetId),Et=xe.view.applyChanges(ot,ue.isPrimaryClient,at),[2,(Tx(ue,xe.targetId,Et.To),Et.snapshot)]}})})}(i,X,te,oe)},[4,Lg(i.localStore,t,!0)];case 1:return o=z.sent(),d=new QE(t,o.Bn),m=d._o(o.documents),C=ex.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==i.onlineState),I=d.applyChanges(m,i.isPrimaryClient,C),Tx(i,e,I.To),F=new aI(t,e,d),[2,(i.Po.set(t,F),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),I.snapshot)]}})})}function uI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return e=_t(i),s=e.Po.get(t),(o=e.Vo.get(s.targetId)).length>1?[2,(e.Vo.set(s.targetId,o.filter(function(m){return!Eg(m,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,df(e.localStore,s.targetId,!1).then(function(){e.sharedClientState.clearQueryState(s.targetId),mf(e.remoteStore,s.targetId),Mh(e,s.targetId)}).catch(Eh)]):[3,3];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return Mh(e,s.targetId),[4,df(e.localStore,s.targetId,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})}function KE(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:s=Ly(i),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(I=s.localStore,F=t,X=_t(I),te=us.now(),oe=F.reduce(function(ue,xe){return ue.add(xe.key)},Pn()),X.persistence.runTransaction("Locally write mutations","readwrite",function(ue){return X.Mn.pn(ue,oe).next(function(xe){z=xe;for(var Oe=[],qe=0,ot=F;qe<ot.length;qe++){var at=ot[qe],Et=XS(at,z.get(at.key));null!=Et&&Oe.push(new Rc(at.key,Et,RS(Et.value.mapValue),Gr.exists(!0)))}return X._n.addMutationBatch(ue,te,Oe,F)})}).then(function(ue){return ue.applyToLocalDocumentSet(z),{batchId:ue.batchId,changes:z}}))];case 2:return o=C.sent(),s.sharedClientState.addPendingMutation(o.batchId),function(I,F,z){var X=I.xo[I.currentUser.toKey()];X||(X=new Yr(wn)),X=X.insert(F,z),I.xo[I.currentUser.toKey()]=X}(s,o.batchId,e),[4,Yc(s,o.changes)];case 3:return C.sent(),[4,zg(s.remoteStore)];case 4:return C.sent(),[3,6];case 5:return d=C.sent(),m=_f(d,"Failed to persist write"),e.reject(m),[3,6];case 6:return[2]}var I,F,z,X,te,oe})})}function bf(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:e=_t(i),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jR(e.localStore,t)];case 2:return s=o.sent(),t.targetChanges.forEach(function(d,m){var C=e.Co.get(m);C&&(Kt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?C.bo=!0:d.modifiedDocuments.size>0?Kt(C.bo):d.removedDocuments.size>0&&(Kt(C.bo),C.bo=!1))}),[4,Yc(e,s,t)];case 3:return o.sent(),[3,6];case 4:return[4,Eh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hI(i,t,e){var s=_t(i);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){var o=[];s.Po.forEach(function(d,m){var C=m.view.zr(t);C.snapshot&&o.push(C.snapshot)}),function(d,m){var C=_t(d);C.onlineState=m;var I=!1;C.queries.forEach(function(F,z){for(var X=0,te=z.listeners;X<te.length;X++)te[X].zr(m)&&(I=!0)}),I&&wx(C)}(s.eventManager,t),o.length&&s.vo._r(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function JE(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m,C,I;return(0,ce.Jh)(this,function(F){switch(F.label){case 0:return(s=_t(i)).sharedClientState.updateQueryState(t,"rejected",e),o=s.Co.get(t),(d=o&&o.key)?(m=(m=new Yr(Gt.comparator)).insert(d,wr.newNoDocument(d,pn.min())),C=Pn().add(d),I=new dy(pn.min(),new Map,new $i(wn),m,C),[4,bf(s,I)]):[3,2];case 1:return F.sent(),s.Do=s.Do.remove(d),s.Co.delete(t),tA(s),[3,4];case 2:return[4,df(s.localStore,t,!1).then(function(){return Mh(s,t,e)}).catch(Eh)];case 3:F.sent(),F.label=4;case 4:return[2]}})})}function dI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:e=_t(i),s=t.batch.batchId,d.label=1;case 1:return d.trys.push([1,4,,6]),[4,LE(e.localStore,t)];case 2:return o=d.sent(),Ax(e,s,null),Ex(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),[4,Yc(e,o)];case 3:return d.sent(),[3,6];case 4:return[4,Eh(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}})})}function fI(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:s=_t(i),d.label=1;case 1:return d.trys.push([1,4,,6]),[4,(m=s.localStore,C=t,I=_t(m),I.persistence.runTransaction("Reject batch","readwrite-primary",function(F){var z;return I._n.lookupMutationBatch(F,C).next(function(X){return Kt(null!==X),z=X.keys(),I._n.removeMutationBatch(F,X)}).next(function(){return I._n.performConsistencyCheck(F)}).next(function(){return I.Mn.pn(F,z)})}))];case 2:return o=d.sent(),Ax(s,t,e),Ex(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),[4,Yc(s,o)];case 3:return d.sent(),[3,6];case 4:return[4,Eh(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}var m,C,I})})}function pI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o,d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:kl((e=_t(i)).remoteStore)||ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(I=e.localStore,F=_t(I),F.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(z){return F._n.getHighestUnacknowledgedBatchId(z)}))];case 2:return-1===(s=C.sent())?[2,void t.resolve()]:((o=e.Fo.get(s)||[]).push(t),e.Fo.set(s,o),[3,4]);case 3:return d=C.sent(),m=_f(d,"Initialization of waitForPendingWrites() operation failed"),t.reject(m),[3,4];case 4:return[2]}var I,F})})}function Ex(i,t){(i.Fo.get(t)||[]).forEach(function(e){e.resolve()}),i.Fo.delete(t)}function Ax(i,t,e){var s=_t(i),o=s.xo[s.currentUser.toKey()];if(o){var d=o.get(t);d&&(e?d.reject(e):d.resolve(),o=o.remove(t)),s.xo[s.currentUser.toKey()]=o}}function Mh(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var s=0,o=i.Vo.get(t);s<o.length;s++){var d=o[s];i.Po.delete(d),e&&i.vo.Mo(d,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(m){i.No.containsKey(m)||eA(i,m)})}function eA(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(mf(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),tA(i))}function Tx(i,t,e){for(var s=0,o=e;s<o.length;s++){var d=o[s];d instanceof $E?(i.No.addReference(d.key,t),WR(i,d)):d instanceof ZE?(ft("SyncEngine","Document no longer in limbo: "+d.key),i.No.removeReference(d.key,t),i.No.containsKey(d.key)||eA(i,d.key)):Bt()}}function WR(i,t){var e=t.key,s=e.path.canonicalString();i.Do.get(e)||i.So.has(s)||(ft("SyncEngine","New document in limbo: "+e),i.So.add(s),tA(i))}function tA(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new Gt(Mn.fromString(t)),s=i.ko.next();i.Co.set(s,new lI(e)),i.Do=i.Do.insert(e,s),gf(i.remoteStore,new my(So(ph(e.path)),s,2,Ds.o))}}function Yc(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return s=_t(i),o=[],d=[],m=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(I,F){m.push(s.Oo(F,t,e).then(function(z){if(z){s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,z.fromCache?"not-current":"current"),o.push(z);var X=UD.Pn(F.targetId,z);d.push(X)}}))}),[4,Promise.all(m)]);case 1:return C.sent(),s.vo._r(o),[4,function(I,F){return(0,ce.mG)(this,void 0,void 0,function(){var z,X,te,oe,ue,xe,Oe,ot;return(0,ce.Jh)(this,function(at){switch(at.label){case 0:z=_t(I),at.label=1;case 1:return at.trys.push([1,3,,4]),[4,z.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Et){return ht.forEach(F,function(Ot){return ht.forEach(Ot.bn,function(hn){return z.persistence.referenceDelegate.addReference(Et,Ot.targetId,hn)}).next(function(){return ht.forEach(Ot.vn,function(hn){return z.persistence.referenceDelegate.removeReference(Et,Ot.targetId,hn)})})})})];case 2:return at.sent(),[3,4];case 3:if(!xh(X=at.sent()))throw X;return ft("LocalStore","Failed to update sequence numbers: "+X),[3,4];case 4:for(te=0,oe=F;te<oe.length;te++)xe=(ue=oe[te]).targetId,ue.fromCache||(Oe=z.Fn.get(xe),ot=Oe.withLastLimboFreeSnapshotVersion(Oe.snapshotVersion),z.Fn=z.Fn.insert(xe,ot));return[2]}})})}(s.localStore,d)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function Dx(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return(e=_t(i)).currentUser.isEqual(t)?[3,3]:(ft("SyncEngine","User change. New user:",t.toKey()),[4,Hc(e.localStore,t)]);case 1:return s=o.sent(),e.currentUser=t,(d=e).Fo.forEach(function(C){C.forEach(function(I){I.reject(new lt(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Fo.clear(),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),[4,Yc(e,s.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}var d})})}function gI(i,t){var e=_t(i),s=e.Co.get(t);if(s&&s.bo)return Pn().add(s.key);var o=Pn(),d=e.Vo.get(t);if(!d)return o;for(var m=0,C=d;m<C.length;m++){var F=e.Po.get(C[m]);o=o.unionWith(F.view.wo)}return o}function mI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,Lg((e=_t(i)).localStore,t.query,!0)];case 1:return s=d.sent(),o=t.view.Ao(s),[2,(e.isPrimaryClient&&Tx(e,t.targetId,o.To),o)]}})})}function vI(i){return(0,ce.mG)(this,void 0,void 0,function(){var t;return(0,ce.Jh)(this,function(e){return[2,Ey((t=_t(i)).localStore).then(function(s){return Yc(t,s)})]})})}function yI(i,t,e,s){return(0,ce.mG)(this,void 0,void 0,function(){var o,d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return[4,(C=(o=_t(i)).localStore,I=t,F=_t(C),z=_t(F._n),F.persistence.runTransaction("Lookup mutation documents","readonly",function(X){return z.jt(X,I).next(function(te){return te?F.Mn.pn(X,te):ht.resolve(null)})}))];case 1:return null===(d=m.sent())?[3,6]:"pending"!==e?[3,3]:[4,zg(o.remoteStore)];case 2:return m.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(Ax(o,t,s||null),Ex(o,t),function(C,I){_t(_t(C)._n).Gt(I)}(o.localStore,t)):Bt(),m.label=4;case 4:return[4,Yc(o,d)];case 5:return m.sent(),[3,7];case 6:ft("SyncEngine","Cannot apply mutation batch with id: "+t),m.label=7;case 7:return[2]}var C,I,F,z})})}function _I(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o,d,m,I,F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:return dr(e=_t(i)),Ly(e),!0!==t||!0===e.$o?[3,3]:(s=e.sharedClientState.getAllActiveQueryTargets(),[4,nA(e,s.toArray())]);case 1:return o=z.sent(),e.$o=!0,[4,WE(e.remoteStore,!0)];case 2:for(z.sent(),d=0,m=o;d<m.length;d++)gf(e.remoteStore,m[d]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(I=[],F=Promise.resolve(),e.Vo.forEach(function(X,te){e.sharedClientState.isLocalQueryTarget(te)?I.push(te):F=F.then(function(){return Mh(e,te),df(e.localStore,te,!0)}),mf(e.remoteStore,te)}),[4,F]);case 4:return z.sent(),[4,nA(e,I)];case 5:return z.sent(),(te=_t(e)).Co.forEach(function(oe,ue){mf(te.remoteStore,ue)}),te.No.ts(),te.Co=new Map,te.Do=new Yr(Gt.comparator),e.$o=!1,[4,WE(e.remoteStore,!1)];case 6:z.sent(),z.label=7;case 7:return[2]}var te})})}function nA(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m,C,I,F,z,X,te,ue,xe,Oe;return(0,ce.Jh)(this,function(qe){switch(qe.label){case 0:s=_t(i),o=[],d=[],m=0,C=t,qe.label=1;case 1:return m<C.length?(F=void 0,(z=s.Vo.get(I=C[m]))&&0!==z.length?[4,hf(s.localStore,So(z[0]))]:[3,7]):[3,13];case 2:F=qe.sent(),X=0,te=z,qe.label=3;case 3:return X<te.length?(ue=s.Po.get(te[X]),[4,mI(s,ue)]):[3,6];case 4:(xe=qe.sent()).snapshot&&d.push(xe.snapshot),qe.label=5;case 5:return X++,[3,3];case 6:return[3,11];case 7:return[4,gx(s.localStore,I)];case 8:return Oe=qe.sent(),[4,hf(s.localStore,Oe)];case 9:return F=qe.sent(),[4,Sx(s,Ix(Oe),I,!1)];case 10:qe.sent(),qe.label=11;case 11:o.push(F),qe.label=12;case 12:return m++,[3,1];case 13:return[2,(s.vo._r(d),o)]}})})}function Ix(i){return U0(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Mx(i){var t=_t(i);return _t(_t(t.localStore).persistence).fn()}function bI(i,t,e,s){return(0,ce.mG)(this,void 0,void 0,function(){var o,d,m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return(o=_t(i)).$o?(ft("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ey(o.localStore)];case 3:return d=C.sent(),m=dy.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,Yc(o,d,m)];case 4:return C.sent(),[3,8];case 5:return[4,df(o.localStore,t,!0)];case 6:return C.sent(),Mh(o,t,s),[3,8];case 7:Bt(),C.label=8;case 8:return[2]}})})}function xf(i,t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o,d,m,C,I,F,z,X;return(0,ce.Jh)(this,function(oe){switch(oe.label){case 0:if(!(s=dr(i)).$o)return[3,10];o=0,d=t,oe.label=1;case 1:return o<d.length?s.Vo.has(m=d[o])?(ft("SyncEngine","Adding an already active target "+m),[3,5]):[4,gx(s.localStore,m)]:[3,6];case 2:return C=oe.sent(),[4,hf(s.localStore,C)];case 3:return I=oe.sent(),[4,Sx(s,Ix(C),I.targetId,!1)];case 4:oe.sent(),gf(s.remoteStore,I),oe.label=5;case 5:return o++,[3,1];case 6:F=function(ue){return(0,ce.Jh)(this,function(xe){switch(xe.label){case 0:return s.Vo.has(ue)?[4,df(s.localStore,ue,!1).then(function(){mf(s.remoteStore,ue),Mh(s,ue)}).catch(Eh)]:[3,2];case 1:xe.sent(),xe.label=2;case 2:return[2]}})},z=0,X=e,oe.label=7;case 7:return z<X.length?[5,F(X[z])]:[3,10];case 8:oe.sent(),oe.label=9;case 9:return z++,[3,7];case 10:return[2]}})})}function dr(i){var t=_t(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=bf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JE.bind(null,t),t.vo._r=rI.bind(null,t.eventManager),t.vo.Mo=xx.bind(null,t.eventManager),t}function Ly(i){var t=_t(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fI.bind(null,t),t}var Vy=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(e){switch(e.label){case 0:return this.R=pf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return Fg(this.persistence,new FE,t.initialUser,this.R)},i.prototype.qo=function(t){return new Vg(Uc.bs,this.R)},i.prototype.Bo=function(t){return new WD},i.prototype.terminate=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),iA=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).Qo=e,d.cacheSizeBytes=s,d.forceOwnership=o,d.synchronizeTabs=!1,d}return(0,ce.ZT)(t,i),t.prototype.initialize=function(e){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,HE(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,e)];case 3:return s.sent(),[4,Ly(this.Qo.syncEngine)];case 4:return s.sent(),[4,zg(this.Qo.remoteStore)];case 5:return s.sent(),[2]}})})},t.prototype.Ko=function(e){return Fg(this.persistence,new FE,e.initialUser,this.R)},t.prototype.Uo=function(e){return new FD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var s=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new BD(this.synchronizeTabs,s,e.clientId,o,e.asyncQueue,mx(),ky(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new WD},t}(Vy),rA=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s,!1)||this).Qo=e,o.cacheSizeBytes=s,o.synchronizeTabs=!0,o}return(0,ce.ZT)(t,i),t.prototype.initialize=function(e){return(0,ce.mG)(this,void 0,void 0,function(){var s,o=this;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return d.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof My?(this.sharedClientState.syncEngine={ui:yI.bind(null,s),ai:bI.bind(null,s),hi:xf.bind(null,s),fn:Mx.bind(null,s),ci:vI.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:d.sent(),d.label=3;case 3:return[4,this.persistence.He(function(m){return(0,ce.mG)(o,void 0,void 0,function(){return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return[4,_I(this.Qo.syncEngine,m)];case 1:return C.sent(),this.gcScheduler&&(m&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):m||this.gcScheduler.stop()),[2]}})})})];case 4:return d.sent(),[2]}})})},t.prototype.Bo=function(e){var s=mx();if(!My.yt(s))throw new lt(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new My(s,e.asyncQueue,o,e.clientId,e.initialUser)},t}(iA),By=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,ce.mG)(this,void 0,void 0,function(){var s=this;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(d){return hI(s.syncEngine,d,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dx.bind(null,this.syncEngine),[4,WE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new iI},i.prototype.createDatastore=function(t){var s=pf(t.databaseInfo.databaseId),o=new sa(t.databaseInfo);return new Dh(t.credentials,o,s)},i.prototype.createRemoteStore=function(t){var e,s,o,d,m,C=this;return e=this.localStore,s=this.datastore,o=t.asyncQueue,d=function(I){return hI(C.syncEngine,I,0)},m=jE.yt()?new jE:new qD,new GE(e,s,o,d,m)},i.prototype.createSyncEngine=function(t,e){return F=e,z=new cI(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),F&&(z.$o=!0),z;var F,z},i.prototype.terminate=function(){return function(t){return(0,ce.mG)(this,void 0,void 0,function(){var e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return e=_t(t),ft("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,qa(e)];case 1:return s.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),Hy=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var s=this;this.muted||setTimeout(function(){s.muted||t(e)},0)},i}(),wI=(function(){function i(t,e){var s=this;this.Go=t,this.R=e,this.metadata=new qr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?s.metadata.resolve(o.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==o?void 0:o.payload)))},function(o){return s.metadata.reject(o)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e,s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Jo()];case 1:return null===(t=d.sent())?[2,null]:(e=this.zo.decode(t),s=Number(e),isNaN(s)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(s)]);case 2:return o=d.sent(),[2,new XE(JSON.parse(o),t.length+s)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,ce.mG)(this,void 0,void 0,function(){var e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(t=s.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s=this;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new lt(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(d,m){return(0,ce.mG)(this,void 0,void 0,function(){var C,I,F,z,X,te;return(0,ce.Jh)(this,function(oe){switch(oe.label){case 0:return C=_t(d),I=ef(C.R)+"/documents",F={documents:m.map(function(ue){return Jd(C.R,ue)})},[4,C.$i("BatchGetDocuments",I,F)];case 1:return z=oe.sent(),X=new Map,z.forEach(function(ue){var Oe,qe,xe=(Oe=C.R,"found"in(qe=ue)?function(ot,at){Kt(!!at.found);var Et=Js(ot,at.found.name),Ot=Cr(at.found.updateTime),hn=new Ms({mapValue:{fields:at.found.fields}});return wr.newFoundDocument(Et,Ot,hn)}(Oe,qe):"missing"in qe?function(ot,at){Kt(!!at.missing),Kt(!!at.readTime);var Et=Js(ot,at.missing),Ot=Cr(at.readTime);return wr.newNoDocument(Et,Ot)}(Oe,qe):Bt());X.set(xe.key.toString(),xe)}),te=[],[2,(m.forEach(function(ue){var xe=X.get(ue.toString());Kt(!!xe),te.push(xe)}),te)]}})})}(this.datastore,t)];case 1:return[2,((e=o.sent()).forEach(function(d){return s.recordVersion(d)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new Oc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e=this;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,d){var m=Gt.fromPath(d);e.mutations.push(new yi(m,e.precondition(m)))}),[4,function(o,d){return(0,ce.mG)(this,void 0,void 0,function(){var m,C,I;return(0,ce.Jh)(this,function(F){switch(F.label){case 0:return m=_t(o),C=ef(m.R)+"/documents",I={writes:d.map(function(z){return fy(m.R,z)})},[4,m.Ni("Commit",C,I)];case 1:return F.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Bt();e=pn.min()}var s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new lt(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Gr.updateTime(e):Gr.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(pn.min()))throw new lt(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gr.updateTime(e)}return Gr.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),sA=function(){function i(t,e,s,o){this.asyncQueue=t,this.datastore=e,this.updateFunction=s,this.deferred=o,this.ec=5,this.Zi=new Hg(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,ce.mG)(t,void 0,void 0,function(){var e,s,o=this;return(0,ce.Jh)(this,function(d){return e=new wI(this.datastore),(s=this.sc(e))&&s.then(function(m){o.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){o.deferred.resolve(m)}).catch(function(C){o.ic(C)})})}).catch(function(m){o.ic(m)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Tc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!K0(e)}return!1},i}(),CI=function(){function i(t,e,s){var o=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=s,this.user=sr.UNAUTHENTICATED,this.clientId=M0.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(d){return(0,ce.mG)(o,void 0,void 0,function(){return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return ft("FirestoreClient","Received user=",d.uid),[4,this.credentialListener(d)];case 1:return m.sent(),this.user=d,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new lt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,ce.mG)(t,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:d.sent(),d.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:d.sent(),d.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return s=d.sent(),o=_f(s,"Failed to shutdown persistence"),e.reject(o),[3,6];case 6:return[2]}})})}),e.promise},i}();function SI(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s,o=this;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return i.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=d.sent(),[4,t.initialize(e)];case 2:return d.sent(),s=e.initialUser,i.setCredentialChangeListener(function(m){return(0,ce.mG)(o,void 0,void 0,function(){return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return s.isEqual(m)?[3,2]:[4,Hc(t.localStore,m)];case 1:C.sent(),s=m,C.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function oA(i,t){return(0,ce.mG)(this,void 0,void 0,function(){var e,s;return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Rx(i)];case 1:return e=o.sent(),ft("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return s=o.sent(),[4,t.initialize(e,s)];case 3:return o.sent(),i.setCredentialChangeListener(function(d){return function(m,C){return(0,ce.mG)(this,void 0,void 0,function(){var I,F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:return(I=_t(m)).asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials"),F=kl(I),I.Or.add(3),[4,qa(I)];case 1:return z.sent(),F&&I.Br.set("Unknown"),[4,I.remoteSyncer.handleCredentialChange(C)];case 2:return z.sent(),I.Or.delete(3),[4,Ih(I)];case 3:return z.sent(),[2]}})})}(t.remoteStore,d)}),i.onlineComponents=t,[2]}})})}function Rx(i){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(ft("FirestoreClient","Using default OfflineComponentProvider"),[4,SI(i,new Vy)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function Rl(i){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(ft("FirestoreClient","Using default OnlineComponentProvider"),[4,oA(i,new By)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function EI(i){return Rx(i).then(function(t){return t.persistence})}function Uy(i){return Rx(i).then(function(t){return t.localStore})}function aA(i){return Rl(i).then(function(t){return t.remoteStore})}function lA(i){return Rl(i).then(function(t){return t.syncEngine})}function kh(i){return(0,ce.mG)(this,void 0,void 0,function(){var t,e;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:return[4,Rl(i)];case 1:return t=s.sent(),[2,((e=t.eventManager).onListen=Yg.bind(null,t.syncEngine),e.onUnlisten=uI.bind(null,t.syncEngine),e)]}})})}function cA(i,t,e){var s=this;void 0===e&&(e={});var o=new qr;return i.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(s,void 0,void 0,function(){var d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return d=function(C,I,F,z,X){var te=new Hy({next:function(ue){I.enqueueAndForget(function(){return bx(C,oe)});var xe=ue.docs.has(F);!xe&&ue.fromCache?X.reject(new lt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):xe&&ue.fromCache&&z&&"server"===z.source?X.reject(new lt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(ue)},error:function(ue){return X.reject(ue)}}),oe=new Cx(ph(F.path),te,{includeMetadataChanges:!0,so:!0});return _x(C,oe)},[4,kh(i)];case 1:return[2,d.apply(void 0,[m.sent(),i.asyncQueue,t,e,o])]}})})}),o.promise}function zy(i,t,e){var s=this;void 0===e&&(e={});var o=new qr;return i.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(s,void 0,void 0,function(){var d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return d=function(C,I,F,z,X){var te=new Hy({next:function(ue){I.enqueueAndForget(function(){return bx(C,oe)}),ue.fromCache&&"server"===z.source?X.reject(new lt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(ue)},error:function(ue){return X.reject(ue)}}),oe=new Cx(F,te,{includeMetadataChanges:!0,so:!0});return _x(C,oe)},[4,kh(i)];case 1:return[2,d.apply(void 0,[m.sent(),i.asyncQueue,t,e,o])]}})})}),o.promise}var uA=function(i,t,e,s,o,d,m,C){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=s,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=C},Wg=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),Ox=new Map,hA=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},dA=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(sr.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),AI=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var s=this;this.changeListener=e,t.enqueueRetryable(function(){return e(s.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),TI=function(){function i(t){var e=this;this.currentUser=sr.UNAUTHENTICATED,this.oc=new qr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var s=function(o){ft("FirebaseCredentialsProvider","Auth detected"),e.auth=o,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(o){return s(o)}),setTimeout(function(){if(!e.auth){var o=t.getImmediate({optional:!0});o?s(o):(ft("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(o){return t.cc!==e?(ft("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Kt("string"==typeof o.accessToken),new hA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var s=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,ce.mG)(s,void 0,void 0,function(){return(0,ce.Jh)(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,e(this.currentUser)];case 2:return o.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Kt(null===t||"string"==typeof t),new sr(t)},i}(),DI=function(){function i(t,e,s){this.hc=t,this.lc=e,this.fc=s,this.type="FirstParty",this.user=sr.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),II=function(){function i(t,e,s){this.hc=t,this.lc=e,this.fc=s}return i.prototype.getToken=function(){return Promise.resolve(new DI(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(sr.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function Px(i,t,e){if(!e)throw new lt(Ze.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function Rh(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lt(Ze.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function Nx(i,t,e,s){if(!0===t&&!0===s)throw new lt(Ze.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function Fx(i){if(!Gt.isDocumentKey(i))throw new lt(Ze.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function Lx(i){if(Gt.isDocumentKey(i))throw new lt(Ze.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function qg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(s&&s.length>1)return s[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":Bt()}function kn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new lt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=qg(i);throw new lt(Ze.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function Vx(i,t){if(t<=0)throw new lt(Ze.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var fA=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new lt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Nx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),wf=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1,t instanceof Wg?(this._databaseId=t,this._credentials=new dA):(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wg(s.options.projectId)}(t),this._credentials=new TI(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new lt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new lt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new dA;switch(e.type){case"gapi":var s=e.client;return Kt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new II(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lt(Ze.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=Ox.get(this))&&(ft("ComponentProvider","Removing Datastore"),Ox.delete(this),e.terminate()),Promise.resolve();var e},i}(),Ti=function(){function i(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Wc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),Os=function(){function i(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),Wc=function(i){function t(e,s,o){var d=this;return(d=i.call(this,e,s,ph(o))||this)._path=o,d.type="collection",d}return(0,ce.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Gt(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Os);function pA(i,t){for(var e,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(i=(0,Fn.m9)(i),Px("collection","path",t),i instanceof wf)return Lx(e=Mn.fromString.apply(Mn,(0,ce.ev)([t],s))),new Wc(i,null,e);if(!(i instanceof Ti||i instanceof Wc))throw new lt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lx(e=Mn.fromString.apply(Mn,(0,ce.ev)([i.path],s)).child(Mn.fromString(t))),new Wc(i.firestore,null,e)}function qc(i,t){for(var e,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];if(i=(0,Fn.m9)(i),1===arguments.length&&(t=M0.u()),Px("doc","path",t),i instanceof wf)return Fx(e=Mn.fromString.apply(Mn,(0,ce.ev)([t],s))),new Ti(i,null,new Gt(e));if(!(i instanceof Ti||i instanceof Wc))throw new lt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fx(e=i._path.child(Mn.fromString.apply(Mn,(0,ce.ev)([t],s)))),new Ti(i.firestore,i instanceof Wc?i.converter:null,new Gt(e))}function Cf(i,t){return i=(0,Fn.m9)(i),t=(0,Fn.m9)(t),(i instanceof Ti||i instanceof Wc)&&(t instanceof Ti||t instanceof Wc)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function gA(i,t){return i=(0,Fn.m9)(i),t=(0,Fn.m9)(t),i instanceof Os&&t instanceof Os&&i.firestore===t.firestore&&Eg(i._query,t._query)&&i.converter===t.converter}var Bx=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Hg(this,"async_queue_retry"),this.Ic=function(){var s=ky();s&&ft("AsyncQueue","Visibility state changed to "+s.visibilityState),t.Zi.Gi()};var e=ky();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=ky();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new qr;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t,e=this;return(0,ce.Jh)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xh(t=s.sent()))throw t;return ft("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),s.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,s=this.dc.then(function(){return e.gc=!0,t().catch(function(o){throw e.yc=o,e.gc=!1,qi("INTERNAL UNHANDLED ERROR: ",(m=(d=o).message||"",d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m)),o;var d,m}).then(function(o){return e.gc=!1,o})});return this.dc=s,s},i.prototype.enqueueAfterDelay=function(t,e,s){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var d=Xr.createAndSchedule(this,t,e,s,function(m){return o.vc(m)});return this.mc.push(d),d},i.prototype.Ac=function(){this.yc&&Bt()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,ce.mG)(this,void 0,void 0,function(){var t;return(0,ce.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,s=this.mc;e<s.length;e++)if(s[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(m,C){return m.targetTimeMs-C.targetTimeMs});for(var s=0,o=e.mc;s<o.length;s++){var d=o[s];if(d.skipDelay(),"all"!==t&&d.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function fs(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var s=t,o=0,d=["next","error","complete"];o<d.length;o++){var m=d[o];if(m in s&&"function"==typeof s[m])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,s){this._progressObserver={next:t,error:e,complete:s}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ui=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this).type="firestore",o._queue=new Bx,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return(0,ce.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||kI(this),this._firestoreClient.terminate()},t}(wf);function fr(i){return i._firestoreClient||kI(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function kI(i){var t,d,C,e=i._freezeSettings(),s=(d=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new uA(i._databaseId,d,i._persistenceKey,(C=e).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));i._firestoreClient=new CI(i._credentials,i._queue,s)}function jy(i,t,e){var s=this,o=new qr;return i.asyncQueue.enqueue(function(){return(0,ce.mG)(s,void 0,void 0,function(){var d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return m.trys.push([0,3,,4]),[4,SI(i,e)];case 1:return m.sent(),[4,oA(i,t)];case 2:return m.sent(),o.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=d=m.sent()).name?C.code===Ze.FAILED_PRECONDITION||C.code===Ze.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw d;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d),[3,4];case 4:return[2]}var C})})}).then(function(){return o.promise})}function Gy(i){if(i._initialized||i._terminated)throw new lt(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var aa=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var s=0;s<t.length;++s)if(0===t[s].length)throw new lt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jo(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),Ol=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(jr.fromBase64String(t))}catch(e){throw new lt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(jr.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),Pl=function(i){this._methodName=i},Yy=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return wn(this._lat,t._lat)||wn(this._long,t._long)},i}(),RI=/^__.*__$/,OI=function(){function i(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Rc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yt(t,this.data,e,this.fieldTransforms)},i}(),mA=function(){function i(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}return i.prototype.toMutation=function(t,e){return new Rc(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function Hx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}var Wy=function(){function i(t,e,s,o,d,m){this.settings=t,this.databaseId=e,this.R=s,this.ignoreUndefinedProperties=o,void 0===d&&this.Cc(),this.fieldTransforms=d||[],this.fieldMask=m||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.Fc=function(t){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.xc({path:s,kc:!1});return o.$c(t),o},i.prototype.Oc=function(t){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.xc({path:s,kc:!1});return o.Cc(),o},i.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},i.prototype.Lc=function(t){return $y(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Hx(this.Nc)&&RI.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),vA=function(){function i(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=s||pf(t)}return i.prototype.Uc=function(t,e,s,o){return void 0===o&&(o=!1),new Wy({Nc:t,methodName:e,qc:s,path:Jo.emptyPath(),kc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function Xc(i){var t=i._freezeSettings(),e=pf(i._databaseId);return new vA(i._databaseId,!!t.ignoreUndefinedProperties,e)}function $g(i,t,e,s,o,d){void 0===d&&(d={});var m=i.Uc(d.merge||d.mergeFields?2:0,t,e,o);EA("Data must be an object, but it was:",m,s);var C,I,F=CA(s,m);if(d.merge)C=new Xd(m.fieldMask),I=m.fieldTransforms;else if(d.mergeFields){for(var z=[],X=0,te=d.mergeFields;X<te.length;X++){var oe=Oh(t,te[X],e);if(!m.contains(oe))throw new lt(Ze.INVALID_ARGUMENT,"Field '"+oe+"' is specified in your field mask but missing from your input data.");Ux(z,oe)||z.push(oe)}C=new Xd(z),I=m.fieldTransforms.filter(function(ue){return C.covers(ue.field)})}else C=null,I=m.fieldTransforms;return new OI(new Ms(F),C,I)}var qy=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Pl);function yA(i,t,e){return new Wy({Nc:3,qc:t.settings.qc,methodName:i._methodName,kc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var _A=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new na(e.path,new gh)},t.prototype.isEqual=function(e){return e instanceof t},t}(Pl),bA=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Kc=s,o}return(0,ce.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=yA(this,e,!0),o=this.Kc.map(function(m){return Io(m,s)}),d=new Mc(o);return new na(e.path,d)},t.prototype.isEqual=function(e){return this===e},t}(Pl),PI=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Kc=s,o}return(0,ce.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=yA(this,e,!0),o=this.Kc.map(function(m){return Io(m,s)}),d=new kc(o);return new na(e.path,d)},t.prototype.isEqual=function(e){return this===e},t}(Pl),xA=function(i){function t(e,s){var o=this;return(o=i.call(this,e)||this).Qc=s,o}return(0,ce.ZT)(t,i),t.prototype._toFieldTransform=function(e){var s=new mh(e.R,GS(e.R,this.Qc));return new na(e.path,s)},t.prototype.isEqual=function(e){return this===e},t}(Pl);function Xy(i,t,e,s){var o=i.Uc(1,t,e);EA("Data must be an object, but it was:",o,s);var d=[],m=Ms.empty();Ac(s,function(I,F){var z=Zg(t,I,e);F=(0,Fn.m9)(F);var X=o.Oc(z);if(F instanceof qy)d.push(z);else{var te=Io(F,X);null!=te&&(d.push(z),m.set(z,te))}});var C=new Xd(d);return new mA(m,C,o.fieldTransforms)}function wA(i,t,e,s,o,d){var m=i.Uc(1,t,e),C=[Oh(t,s,e)],I=[o];if(d.length%2!=0)throw new lt(Ze.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var F=0;F<d.length;F+=2)C.push(Oh(t,d[F])),I.push(d[F+1]);for(var z=[],X=Ms.empty(),te=C.length-1;te>=0;--te)if(!Ux(z,C[te])){var oe=C[te],ue=I[te];ue=(0,Fn.m9)(ue);var xe=m.Oc(oe);if(ue instanceof qy)z.push(oe);else{var Oe=Io(ue,xe);null!=Oe&&(z.push(oe),X.set(oe,Oe))}}var qe=new Xd(z);return new mA(X,qe,m.fieldTransforms)}function $r(i,t,e,s){return void 0===s&&(s=!1),Io(e,i.Uc(s?4:3,t))}function Io(i,t){if(SA(i=(0,Fn.m9)(i)))return EA("Unsupported field value:",t,i),CA(i,t);if(i instanceof Pl)return function(e,s){if(!Hx(s.Nc))throw s.Lc(e._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(e._methodName+"() is not currently supported inside arrays");var o=e._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,s){for(var o=[],d=0,m=0,C=e;m<C.length;m++){var I=Io(C[m],s.Mc(d));null==I&&(I={nullValue:"NULL_VALUE"}),o.push(I),d++}return{arrayValue:{values:o}}}(i,t)}return function(e,s){if(null===(e=(0,Fn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return GS(s.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var o=us.fromDate(e);return{timestampValue:Mg(s.R,o)}}if(e instanceof us)return o=new us(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Mg(s.R,o)};if(e instanceof Yy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ol)return{bytesValue:iE(s.R,e._byteString)};if(e instanceof Ti){var d=e.firestore._databaseId;if(!d.isEqual(o=s.databaseId))throw s.Lc("Document reference is for database "+d.projectId+"/"+d.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:rE(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Lc("Unsupported field value: "+qg(e))}(i,t)}function CA(i,t){var e={};return O0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ac(i,function(s,o){var d=Io(o,t.Fc(s));null!=d&&(e[s]=d)}),{mapValue:{fields:e}}}function SA(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof us||i instanceof Yy||i instanceof Ol||i instanceof Ti||i instanceof Pl)}function EA(i,t,e){if(!SA(e)||"object"!=typeof(o=e)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){var s=qg(e);throw t.Lc("an object"===s?i+" a custom object":i+" "+s)}var o}function Oh(i,t,e){if((t=(0,Fn.m9)(t))instanceof aa)return t._internalPath;if("string"==typeof t)return Zg(i,t);throw $y("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var NI=new RegExp("[~\\*/\\[\\]]");function Zg(i,t,e){if(t.search(NI)>=0)throw $y("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(aa.bind.apply(aa,(0,ce.ev)([void 0],t.split(".")))))._internalPath}catch(s){throw $y("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function $y(i,t,e,s,o){var d=s&&!s.isEmpty(),m=void 0!==o,C="Function "+t+"() called with invalid data";e&&(C+=" (via `toFirestore()`)");var I="";return(d||m)&&(I+=" (found",d&&(I+=" in field "+s),m&&(I+=" in document "+o),I+=")"),new lt(Ze.INVALID_ARGUMENT,(C+=". ")+i+I)}function Ux(i,t){return i.some(function(e){return e.isEqual(t)})}var Qg=function(){function i(t,e,s,o,d){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=d}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Ti(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(Sf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),FI=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(Qg);function Sf(i,t){return"string"==typeof t?Zg(i,t):t instanceof aa?t._internalPath:t._delegate._internalPath}var $c=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),Xa=function(i){function t(e,s,o,d,m,C){var I=this;return(I=i.call(this,e,s,o,d,C)||this)._firestore=e,I._firestoreImpl=e,I.metadata=m,I}return(0,ce.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var s=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,s){if(void 0===s&&(s={}),this._document){var o=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,s.serverTimestamps)}},t}(Qg),Zc=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(Xa),$a=function(){function i(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new $c(o.hasPendingWrites,o.fromCache),this.query=s}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var s=this;this._snapshot.docs.forEach(function(o){t.call(e,new Zc(s._firestore,s._userDataWriter,o.key,o,new $c(s._snapshot.mutatedKeys.has(o.key),s._snapshot.fromCache),s.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){var d=0;return s._snapshot.docChanges.map(function(C){return{type:"added",doc:new Zc(s._firestore,s._userDataWriter,C.doc.key,C.doc,new $c(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}})}var m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(C){return o||3!==C.type}).map(function(C){var I=new Zc(s._firestore,s._userDataWriter,C.doc.key,C.doc,new $c(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter),F=-1,z=-1;return 0!==C.type&&(F=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(z=(m=m.add(C.doc)).indexOf(C.doc.key)),{type:qR(C.type),doc:I,oldIndex:F,newIndex:z}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function qR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function zx(i,t){return i instanceof Xa&&t instanceof Xa?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof $a&&t instanceof $a&&i._firestore===t._firestore&&gA(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function AA(i){if(ay(i)&&0===i.explicitOrderBy.length)throw new lt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ef=function(){};function la(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var s=0,o=t;s<o.length;s++){var d=o[s];i=d._apply(i)}return i}var TA=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).jc=e,d.Wc=s,d.Gc=o,d.type="where",d}return(0,ce.ZT)(t,i),t.prototype._apply=function(e){var d,C,s=Xc(e.firestore),o=function(d,m,C,I,F,z,X){var te;if(F.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new lt(Ze.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+z+"' queries on FieldPath.documentId().");if("in"===z||"not-in"===z){Gx(X,z);for(var oe=[],ue=0,xe=X;ue<xe.length;ue++)oe.push(jx(I,d,xe[ue]));te={arrayValue:{values:oe}}}else te=jx(I,d,X)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Gx(X,z),te=$r(C,"where",X,"in"===z||"not-in"===z);var qe=ks.create(F,z,te);return function(ot,at){if(at.g()){var Et=j0(ot);if(null!==Et&&!Et.isEqual(at.field))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Et.toString()+"' and '"+at.field.toString()+"'");var Ot=z0(ot);null!==Ot&&Yx(0,at.field,Ot)}var hn=function(Ln,da){for(var io=0,el=Ln.filters;io<el.length;io++){var Qw=el[io];if(da.indexOf(Qw.op)>=0)return Qw.op}return null}(ot,function(Ln){switch(Ln){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(at.op));if(null!==hn)throw new lt(Ze.INVALID_ARGUMENT,hn===at.op?"Invalid query. You cannot use more than one '"+at.op.toString()+"' filter.":"Invalid query. You cannot use '"+at.op.toString()+"' filters with '"+hn.toString()+"' filters.")}(d,qe),qe}(e._query,0,s,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Os(e.firestore,e.converter,(C=(d=e._query).filters.concat([o]),new ja(d.path,d.collectionGroup,d.explicitOrderBy.slice(),C,d.limit,d.limitType,d.startAt,d.endAt)))},t}(Ef),LI=function(i){function t(e,s){var o=this;return(o=i.call(this)||this).jc=e,o.zc=s,o.type="orderBy",o}return(0,ce.ZT)(t,i),t.prototype._apply=function(e){var o,m,s=function(o,d,m){if(null!==o.startAt)throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new fh(d,m);return function(I,F){if(null===z0(I)){var z=j0(I);null!==z&&Yx(0,z,F.field)}}(o,C),C}(e._query,this.jc,this.zc);return new Os(e.firestore,e.converter,(m=(o=e._query).explicitOrderBy.concat([s]),new ja(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)))},t}(Ef),Zy=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).type=e,d.Hc=s,d.Jc=o,d}return(0,ce.ZT)(t,i),t.prototype._apply=function(e){return new Os(e.firestore,e.converter,BS(e._query,this.Hc,this.Jc))},t}(Ef),Qy=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).type=e,d.Yc=s,d.Xc=o,d}return(0,ce.ZT)(t,i),t.prototype._apply=function(e){var o,d,s=IA(e,this.type,this.Yc,this.Xc);return new Os(e.firestore,e.converter,(d=s,new ja((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)))},t}(Ef),DA=function(i){function t(e,s,o){var d=this;return(d=i.call(this)||this).type=e,d.Yc=s,d.Xc=o,d}return(0,ce.ZT)(t,i),t.prototype._apply=function(e){var o,d,s=IA(e,this.type,this.Yc,this.Xc);return new Os(e.firestore,e.converter,(d=s,new ja((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)))},t}(Ef);function IA(i,t,e,s){if(e[0]=(0,Fn.m9)(e[0]),e[0]instanceof Qg)return function(d,m,C,I,F){if(!I)throw new lt(Ze.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var z=[],X=0,te=Qd(d);X<te.length;X++){var oe=te[X];if(oe.field.isKeyField())z.push(Ks(m,I.key));else{var ue=I.data.field(oe.field);if(N0(ue))throw new lt(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ue){var xe=oe.field.canonicalString();throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+xe+"' (used as the orderBy) does not exist.")}z.push(ue)}}return new Ic(z,F)}(i._query,i.firestore._databaseId,t,e[0]._document,s);var o=Xc(i.firestore);return function(d,m,C,I,F,z){var X=d.explicitOrderBy;if(F.length>X.length)throw new lt(Ze.INVALID_ARGUMENT,"Too many arguments provided to "+I+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var te=[],oe=0;oe<F.length;oe++){var ue=F[oe];if(X[oe].field.isKeyField()){if("string"!=typeof ue)throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+I+"(), but got a "+typeof ue);if(!G0(d)&&-1!==ue.indexOf("/"))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+I+"() must be a plain document ID, but '"+ue+"' contains a slash.");var xe=d.path.child(Mn.fromString(ue));if(!Gt.isDocumentKey(xe))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+I+"() must result in a valid document path, but '"+xe+"' is not because it contains an odd number of segments.");var Oe=new Gt(xe);te.push(Ks(m,Oe))}else{var qe=$r(C,I,ue);te.push(qe)}}return new Ic(te,z)}(i._query,i.firestore._databaseId,o,t,e,s)}function jx(i,t,e){if("string"==typeof(e=(0,Fn.m9)(e))){if(""===e)throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(t)&&-1!==e.indexOf("/"))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var s=t.path.child(Mn.fromString(e));if(!Gt.isDocumentKey(s))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return Ks(i,new Gt(s))}if(e instanceof Ti)return Ks(i,e._key);throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qg(e)+".")}function Gx(i,t){if(!Array.isArray(i)||0===i.length)throw new lt(Ze.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new lt(Ze.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yx(i,t,e){if(!e.isEqual(t))throw new lt(Ze.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var Wx=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($d(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Bt()}},i.prototype.convertObject=function(t,e){var s=this,o={};return Ac(t.fields,function(d,m){o[d]=s.convertValue(m,e)}),o},i.prototype.convertGeoPoint=function(t){return new Yy(Hi(t.latitude),Hi(t.longitude))},i.prototype.convertArray=function(t,e){var s=this;return(t.values||[]).map(function(o){return s.convertValue(o,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var s=F0(t);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(vg(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=ni(t);return new us(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var s=Mn.fromString(t);Kt(gE(s));var o=new Wg(s.get(1),s.get(3)),d=new Gt(s.popFirst(5));return o.isEqual(e)||qi("Document "+d+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),d},i}();function Kg(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var MA=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,ce.ZT)(t,i),t.prototype.convertBytes=function(e){return new Ol(e)},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,s)},t}(Wx),VI=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xc(t)}return i.prototype.set=function(t,e,s){this._verifyNotCommitted();var o=Qc(t,this._firestore),d=Kg(o.converter,e,s),m=$g(this._dataReader,"WriteBatch.set",o._key,d,null!==o.converter,s);return this._mutations.push(m.toMutation(o._key,Gr.none())),this},i.prototype.update=function(t,e,s){for(var o=[],d=3;d<arguments.length;d++)o[d-3]=arguments[d];this._verifyNotCommitted();var m,C=Qc(t,this._firestore);return m="string"==typeof(e=(0,Fn.m9)(e))||e instanceof aa?wA(this._dataReader,"WriteBatch.update",C._key,e,s,o):Xy(this._dataReader,"WriteBatch.update",C._key,e),this._mutations.push(m.toMutation(C._key,Gr.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=Qc(t,this._firestore);return this._mutations=this._mutations.concat(new Oc(e._key,Gr.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new lt(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Qc(i,t){if((i=(0,Fn.m9)(i)).firestore!==t)throw new lt(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var Kc=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,ce.ZT)(t,i),t.prototype.convertBytes=function(e){return new Ol(e)},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,s)},t}(Wx);function kA(i,t,e){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];i=kn(i,Ti);var d=kn(i.firestore,Ui),m=Xc(d);return Af(d,[("string"==typeof(t=(0,Fn.m9)(t))||t instanceof aa?wA(m,"updateDoc",i._key,t,e,s):Xy(m,"updateDoc",i._key,t)).toMutation(i._key,Gr.exists(!0))])}function qx(i){for(var t,e,s,o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];i=(0,Fn.m9)(i);var m={includeMetadataChanges:!1},C=0;"object"!=typeof o[C]||fs(o[C])||(m=o[C],C++);var I,F,z,X={includeMetadataChanges:m.includeMetadataChanges};if(fs(o[C])){var te=o[C];o[C]=null===(t=te.next)||void 0===t?void 0:t.bind(te),o[C+1]=null===(e=te.error)||void 0===e?void 0:e.bind(te),o[C+2]=null===(s=te.complete)||void 0===s?void 0:s.bind(te)}if(i instanceof Ti)F=kn(i.firestore,Ui),z=ph(i._key.path),I={next:function(xe){o[C]&&o[C](Ky(F,i,xe))},error:o[C+1],complete:o[C+2]};else{var oe=kn(i,Os);F=kn(oe.firestore,Ui),z=oe._query;var ue=new Kc(F);I={next:function(xe){o[C]&&o[C](new $a(F,ue,oe,xe))},error:o[C+1],complete:o[C+2]},AA(i._query)}return function(xe,Oe,qe,ot){var at=this,Et=new Hy(ot),Ot=new Cx(Oe,Et,qe);return xe.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(at,void 0,void 0,function(){var hn;return(0,ce.Jh)(this,function(Ln){switch(Ln.label){case 0:return hn=_x,[4,kh(xe)];case 1:return[2,hn.apply(void 0,[Ln.sent(),Ot])]}})})}),function(){Et.Wo(),xe.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(at,void 0,void 0,function(){var hn;return(0,ce.Jh)(this,function(Ln){switch(Ln.label){case 0:return hn=bx,[4,kh(xe)];case 1:return[2,hn.apply(void 0,[Ln.sent(),Ot])]}})})})}}(fr(F),z,X,I)}function Af(i,t){return function(e,s){var o=this,d=new qr;return e.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(o,void 0,void 0,function(){var m;return(0,ce.Jh)(this,function(C){switch(C.label){case 0:return m=KE,[4,lA(e)];case 1:return[2,m.apply(void 0,[C.sent(),s,d])]}})})}),d.promise}(fr(i),t)}function Ky(i,t,e){var s=e.docs.get(t._key),o=new Kc(i);return new Xa(i,o,t._key,s,new $c(e.hasPendingWrites,e.fromCache),t.converter)}var RA=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this)._firestore=e,o}return(0,ce.ZT)(t,i),t.prototype.get=function(e){var s=this,o=Qc(e,this._firestore),d=new Kc(this._firestore);return i.prototype.get.call(this,e).then(function(m){return new Xa(s._firestore,d,o._key,m._document,new $c(!1,!1),o.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xc(t)}return i.prototype.get=function(t){var e=this,s=Qc(t,this._firestore),o=new MA(this._firestore);return this._transaction.lookup([s._key]).then(function(d){if(!d||1!==d.length)return Bt();var m=d[0];if(m.isFoundDocument())return new Qg(e._firestore,o,m.key,m,s.converter);if(m.isNoDocument())return new Qg(e._firestore,o,s._key,null,s.converter);throw Bt()})},i.prototype.set=function(t,e,s){var o=Qc(t,this._firestore),d=Kg(o.converter,e,s),m=$g(this._dataReader,"Transaction.set",o._key,d,null!==o.converter,s);return this._transaction.set(o._key,m),this},i.prototype.update=function(t,e,s){for(var o=[],d=3;d<arguments.length;d++)o[d-3]=arguments[d];var m,C=Qc(t,this._firestore);return m="string"==typeof(e=(0,Fn.m9)(e))||e instanceof aa?wA(this._dataReader,"Transaction.update",C._key,e,s,o):Xy(this._dataReader,"Transaction.update",C._key,e),this._transaction.update(C._key,m),this},i.prototype.delete=function(t){var e=Qc(t,this._firestore);return this._transaction.delete(e._key),this},i}());function OA(){if("undefined"==typeof Uint8Array)throw new lt(Ze.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function PA(){if("undefined"==typeof atob)throw new lt(Ze.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var NA=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return PA(),new i(Ol.fromBase64String(t))},i.fromUint8Array=function(t){return OA(),new i(Ol.fromUint8Array(t))},i.prototype.toBase64=function(){return PA(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return OA(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),FA=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(s,o){Gy(s=kn(s,Ui));var d=fr(s),m=s._freezeSettings(),C=new By;return jy(d,C,new iA(C,m.cacheSizeBytes,null==o?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){Gy(e=kn(e,Ui));var s=fr(e),o=e._freezeSettings(),d=new By;return jy(s,d,new rA(d,o.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var s=this;if(e._initialized&&!e._terminated)throw new lt(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new qr;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,ce.mG)(s,void 0,void 0,function(){var d;return(0,ce.Jh)(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,function(C){return(0,ce.mG)(this,void 0,void 0,function(){return(0,ce.Jh)(this,function(F){switch(F.label){case 0:return bh.yt()?[4,bh.delete(C+"main")]:[2,Promise.resolve()];case 1:return F.sent(),[2]}})})}(NE(e._databaseId,e._persistenceKey))];case 1:return m.sent(),o.resolve(),[3,3];case 2:return d=m.sent(),o.reject(d),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},i}(),BI=function(){function i(t,e,s){var o=this;this._delegate=e,this.Zc=s,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Wg||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||qd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,s){void 0===s&&(s={}),function(o,d,m,C){void 0===C&&(C={});var I=(o=kn(o,wf))._getSettings();if("firestore.googleapis.com"!==I.host&&I.host!==d&&qd("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},I),{host:d+":"+m,ssl:!1})),C.mockUserToken){var F=(0,Fn.Sg)(C.mockUserToken),z=C.mockUserToken.sub||C.mockUserToken.user_id;if(!z)throw new lt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o._credentials=new AI(new hA(F,new sr(z)))}}(this._delegate,t,e,s)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,ce.mG)(e,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,EI(t)];case 1:return s=d.sent(),[4,aA(t)];case 2:return o=d.sent(),[2,(s.setNetworkEnabled(!0),m=o,C=_t(m),C.Or.delete(0),Ih(C))]}var m,C})})})}(fr(kn(this._delegate,Ui)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,ce.mG)(e,void 0,void 0,function(){var s,o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return[4,EI(t)];case 1:return s=d.sent(),[4,aA(t)];case 2:return o=d.sent(),[2,(s.setNetworkEnabled(!1),function(m){return(0,ce.mG)(this,void 0,void 0,function(){var C;return(0,ce.Jh)(this,function(I){switch(I.label){case 0:return(C=_t(m)).Or.add(0),[4,qa(C)];case 1:return I.sent(),C.Br.set("Offline"),[2]}})})}(o))]}})})})}(fr(kn(this._delegate,Ui)))},i.prototype.enablePersistence=function(t){var e=!1,s=!1;return t&&Nx("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",s=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,s=new qr;return t.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(e,void 0,void 0,function(){var o;return(0,ce.Jh)(this,function(d){switch(d.label){case 0:return o=pI,[4,lA(t)];case 1:return[2,o.apply(void 0,[d.sent(),s])]}})})}),s.promise}(fr(kn(this._delegate,Ui)))},i.prototype.onSnapshotsInSync=function(t){return s=t,function(o,d){var m=this,C=new Hy(d);return o.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(m,void 0,void 0,function(){var I;return(0,ce.Jh)(this,function(F){switch(F.label){case 0:return I=function(z,X){_t(z).Gr.add(X),X.next()},[4,kh(o)];case 1:return[2,I.apply(void 0,[F.sent(),C])]}})})}),function(){C.Wo(),o.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(m,void 0,void 0,function(){var I;return(0,ce.Jh)(this,function(F){switch(F.label){case 0:return I=function(z,X){_t(z).Gr.delete(X)},[4,kh(o)];case 1:return[2,I.apply(void 0,[F.sent(),C])]}})})})}}(fr(kn(this._delegate,Ui)),fs(s)?s:{next:s});var s},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new lt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Zx(this,pA(this._delegate,t))}catch(e){throw Ps(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new Tf(this,qc(this._delegate,t))}catch(e){throw Ps(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new t_(this,function(e,s){if(e=kn(e,wf),Px("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new lt(Ze.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Os(e,null,(o=s,new ja(Mn.emptyPath(),o)));var o}(this._delegate,t))}catch(e){throw Ps(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var s,e=this;return function(d,m){var C=this,I=new qr;return d.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(C,void 0,void 0,function(){var F;return(0,ce.Jh)(this,function(z){switch(z.label){case 0:return[4,(X=d,Rl(X).then(function(te){return te.datastore}))];case 1:return F=z.sent(),new sA(d.asyncQueue,F,m,I).run(),[2]}var X})})}),I.promise}(fr(s=this._delegate),function(d){return function(s){return t(new HI(e,s))}(new RA(s,d))})},i.prototype.batch=function(){var t=this;return fr(this._delegate),new UI(new VI(this._delegate,function(e){return Af(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new lt(Ze.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new lt(Ze.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),Xx=function(i){function t(e){var s=this;return(s=i.call(this)||this).firestore=e,s}return(0,ce.ZT)(t,i),t.prototype.convertBytes=function(e){return new NA(new Ol(e))},t.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return Tf.eu(s,this.firestore,null)},t}(Wx),HI=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Xx(t)}return i.prototype.get=function(t){var e=this,s=Df(t);return this._delegate.get(s).then(function(o){return new Jy(e._firestore,new Xa(e._firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,s.converter))})},i.prototype.set=function(t,e,s){var o=Df(t);return s?(Rh("Transaction.set",s),this._delegate.set(o,e,s)):this._delegate.set(o,e),this},i.prototype.update=function(t,e,s){for(var o,d=[],m=3;m<arguments.length;m++)d[m-3]=arguments[m];var C=Df(t);return 2===arguments.length?this._delegate.update(C,e):(o=this._delegate).update.apply(o,(0,ce.ev)([C,e,s],d)),this},i.prototype.delete=function(t){var e=Df(t);return this._delegate.delete(e),this},i}(),UI=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,s){var o=Df(t);return s?(Rh("WriteBatch.set",s),this._delegate.set(o,e,s)):this._delegate.set(o,e),this},i.prototype.update=function(t,e,s){for(var o,d=[],m=3;m<arguments.length;m++)d[m-3]=arguments[m];var C=Df(t);return 2===arguments.length?this._delegate.update(C,e):(o=this._delegate).update.apply(o,(0,ce.ev)([C,e,s],d)),this},i.prototype.delete=function(t){var e=Df(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),$x=function(){function i(t,e,s){this._firestore=t,this._userDataWriter=e,this._delegate=s}return i.prototype.fromFirestore=function(t,e){var s=new Zc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new e_(this._firestore,s),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var s=i.su,o=s.get(t);o||(o=new WeakMap,s.set(t,o));var d=o.get(e);return d||(d=new i(t,new Xx(t),e),o.set(e,d)),d},i}();$x.su=new WeakMap;var Tf=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xx(t)}return i.iu=function(t,e,s){if(t.length%2!=0)throw new lt(Ze.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new Ti(e._delegate,s,new Gt(t)))},i.eu=function(t,e,s){return new i(e,new Ti(e._delegate,s,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Zx(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Zx(this.firestore,pA(this._delegate,t))}catch(e){throw Ps(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,Fn.m9)(t))instanceof Ti&&Cf(this._delegate,t)},i.prototype.set=function(t,e){e=Rh("DocumentReference.set",e);try{return function(s,o,d){s=kn(s,Ti);var m=kn(s.firestore,Ui),C=Kg(s.converter,o,d);return Af(m,[$g(Xc(m),"setDoc",s._key,C,null!==s.converter,d).toMutation(s._key,Gr.none())])}(this._delegate,t,e)}catch(s){throw Ps(s,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];try{return 1===arguments.length?kA(this._delegate,t):kA.apply(void 0,(0,ce.ev)([this._delegate,t,e],s))}catch(d){throw Ps(d,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return Af(kn((t=this._delegate).firestore,Ui),[new Oc(t._key,Gr.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var o=zI(e),d=jI(e,function(m){return new Jy(t.firestore,new Xa(t.firestore._delegate,t._userDataWriter,m._key,m._document,m.metadata,t._delegate.converter))});return qx(this._delegate,o,d)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(s){s=kn(s,Ti);var o=kn(s.firestore,Ui),d=fr(o),m=new Kc(o);return function(C,I){var F=this,z=new qr;return C.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(F,void 0,void 0,function(){var X;return(0,ce.Jh)(this,function(te){switch(te.label){case 0:return X=function(oe,ue,xe){return(0,ce.mG)(this,void 0,void 0,function(){var Oe,qe;return(0,ce.Jh)(this,function(ot){switch(ot.label){case 0:return ot.trys.push([0,2,,3]),[4,(at=oe,Et=ue,Ot=_t(at),Ot.persistence.runTransaction("read document","readonly",function(hn){return Ot.Mn.mn(hn,Et)}))];case 1:return(qe=ot.sent()).isFoundDocument()?xe.resolve(qe):qe.isNoDocument()?xe.resolve(null):xe.reject(new lt(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Oe=ot.sent(),qe=_f(Oe,"Failed to get document '"+ue+" from cache"),xe.reject(qe),[3,3];case 3:return[2]}var at,Et,Ot})})},[4,Uy(C)];case 1:return[2,X.apply(void 0,[te.sent(),I,z])]}})})}),z.promise}(d,s._key).then(function(C){return new Xa(o,m,s._key,C,new $c(null!==C&&C.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(s){s=kn(s,Ti);var o=kn(s.firestore,Ui);return cA(fr(o),s._key,{source:"server"}).then(function(d){return Ky(o,s,d)})}(this._delegate):function(s){s=kn(s,Ti);var o=kn(s.firestore,Ui);return cA(fr(o),s._key).then(function(d){return Ky(o,s,d)})}(this._delegate)).then(function(s){return new Jy(e.firestore,new Xa(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?$x.nu(this.firestore,t):null))},i}();function Ps(i,t,e){return i.message=i.message.replace(t,e),i}function zI(i){for(var t=0,e=i;t<e.length;t++){var s=e[t];if("object"==typeof s&&!fs(s))return s}return{}}function jI(i,t){var e,s,o;return{next:function(d){o.next&&o.next(t(d))},error:null===(e=(o=fs(i[0])?i[0]:fs(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}var Jy=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Tf(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return zx(this._delegate,t._delegate)},i}(),e_=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,ce.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(Jy),t_=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xx(t)}return i.prototype.where=function(t,e,s){try{return new i(this.firestore,la(this._delegate,(m=s,C=e,I=Sf("where",o=t),new TA(I,C,m))))}catch(o){throw Ps(o,/(orderBy|where)\(\)/,"Query.$1()")}var o,m,C,I},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,la(this._delegate,function(s,o){void 0===o&&(o="asc");var d=o,m=Sf("orderBy",s);return new LI(m,d)}(t,e)))}catch(s){throw Ps(s,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,la(this._delegate,(Vx("limit",e=t),new Zy("limit",e,"F"))))}catch(e){throw Ps(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,la(this._delegate,(Vx("limitToLast",e=t),new Zy("limitToLast",e,"L"))))}catch(e){throw Ps(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,la(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new Qy("startAt",s,!0)}.apply(void 0,t)))}catch(s){throw Ps(s,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,la(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new Qy("startAfter",s,!1)}.apply(void 0,t)))}catch(s){throw Ps(s,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,la(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new DA("endBefore",s,!0)}.apply(void 0,t)))}catch(s){throw Ps(s,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,la(this._delegate,function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return new DA("endAt",s,!1)}.apply(void 0,t)))}catch(s){throw Ps(s,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return gA(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(s){s=kn(s,Os);var o=kn(s.firestore,Ui),d=fr(o),m=new Kc(o);return function(C,I){var F=this,z=new qr;return C.asyncQueue.enqueueAndForget(function(){return(0,ce.mG)(F,void 0,void 0,function(){var X;return(0,ce.Jh)(this,function(te){switch(te.label){case 0:return X=function(oe,ue,xe){return(0,ce.mG)(this,void 0,void 0,function(){var Oe,qe,ot,at,Et;return(0,ce.Jh)(this,function(Ot){switch(Ot.label){case 0:return Ot.trys.push([0,2,,3]),[4,Lg(oe,ue,!0)];case 1:return Et=Ot.sent(),Oe=new QE(ue,Et.Bn),qe=Oe._o(Et.documents),ot=Oe.applyChanges(qe,!1),xe.resolve(ot.snapshot),[3,3];case 2:return at=Ot.sent(),Et=_f(at,"Failed to execute query '"+ue+" against cache"),xe.reject(Et),[3,3];case 3:return[2]}})})},[4,Uy(C)];case 1:return[2,X.apply(void 0,[te.sent(),I,z])]}})})}),z.promise}(d,s._query).then(function(C){return new $a(o,m,s,C)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(s){s=kn(s,Os);var o=kn(s.firestore,Ui),d=fr(o),m=new Kc(o);return zy(d,s._query,{source:"server"}).then(function(C){return new $a(o,m,s,C)})}(this._delegate):function(s){s=kn(s,Os);var o=kn(s.firestore,Ui),d=fr(o),m=new Kc(o);return AA(s._query),zy(d,s._query).then(function(C){return new $a(o,m,s,C)})}(this._delegate)).then(function(s){return new LA(e.firestore,new $a(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var o=zI(e),d=jI(e,function(m){return new LA(t.firestore,new $a(t.firestore._delegate,t._userDataWriter,t._delegate,m._snapshot))});return qx(this._delegate,o,d)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?$x.nu(this.firestore,t):null))},i}(),$R=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new e_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),LA=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new t_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new e_(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(s){return new $R(e._firestore,s)})},i.prototype.forEach=function(t,e){var s=this;this._delegate.forEach(function(o){t.call(e,new e_(s._firestore,o))})},i.prototype.isEqual=function(t){return zx(this._delegate,t._delegate)},i}(),Zx=function(i){function t(e,s){var o=this;return(o=i.call(this,e,s)||this).firestore=e,o._delegate=s,o}return(0,ce.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Tf(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Tf(this.firestore,void 0===e?qc(this._delegate):qc(this._delegate,e))}catch(s){throw Ps(s,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var o,d,m,C,I,s=this;return(o=this._delegate,d=e,m=kn(o.firestore,Ui),C=qc(o),I=Kg(o.converter,d),Af(m,[$g(Xc(o.firestore),"addDoc",C._key,I,null!==o.converter,{}).toMutation(C._key,Gr.exists(!1))]).then(function(){return C})).then(function(o){return new Tf(s.firestore,o)})},t.prototype.isEqual=function(e){return Cf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$x.nu(this.firestore,e):null))},t}(t_);function Df(i){return kn(i,Ti)}var GI=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(aa.bind.apply(aa,(0,ce.ev)([void 0],t)))}return i.documentId=function(){return new i(Jo.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,Fn.m9)(t))instanceof aa&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),YI=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new _A("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new qy("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];return new bA("arrayUnion",o)}.apply(void 0,t);return s._methodName="FieldValue.arrayUnion",new i(s)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];return new PI("arrayRemove",o)}.apply(void 0,t);return s._methodName="FieldValue.arrayRemove",new i(s)},i.increment=function(t){var e=new xA("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),QR=ge(6034),KR={Firestore:BI,GeoPoint:Yy,Timestamp:us,Blob:NA,Transaction:HI,WriteBatch:UI,DocumentReference:Tf,DocumentSnapshot:Jy,Query:t_,QueryDocumentSnapshot:e_,QuerySnapshot:LA,CollectionReference:Zx,FieldPath:GI,FieldValue:YI,setLogLevel:function(i){Qs.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};function VA(i,t){return function(i,t=Lo.z){return new ci.y(e=>{let s;return null!=t?t.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},e)}):s=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(i,t)}function BA(i,t){return VA(i,t).pipe((0,Pt.U)(e=>({payload:e,type:"query"})))}function Qx(i,t){return BA(i,t).pipe(ts(void 0),Al(),(0,Pt.U)(([e,s])=>{const o=s.payload.docChanges(),d=o.map(m=>({type:m.type,payload:m}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,C)=>{const I=o.find(z=>z.doc.ref.isEqual(m.ref)),F=null==e?void 0:e.payload.docs.find(z=>z.ref.isEqual(m.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(m.metadata)||!I&&F&&JSON.stringify(F.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:m}})}),d}))}function XI(i,t,e){return Qx(i,e).pipe(ao((s,o)=>function(i,t,e){return t.forEach(s=>{e.indexOf(s.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return HA(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return HA(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return HA(i,t.oldIndex,1)}return i}(i,s))}),i}(s,o.map(d=>d.payload),t),[]),ec(),(0,Pt.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function HA(i,t,e,...s){const o=i.slice();return o.splice(t,e,...s),o}function n_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){i.INTERNAL.registerComponent(new QR.wA("firestore",function(s){return t=s.getProvider("app").getImmediate(),e=s.getProvider("auth-internal"),new BI(t,new Ui(t,e),new FA);var t,e},"PUBLIC").setServiceProps(Object.assign({},KR))),i.registerVersion("@firebase/firestore","2.3.10")}(Yp.Z);class Ph{constructor(t,e,s){this.ref=t,this.query=e,this.afs=s}stateChanges(t){let e=Qx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Pt.U)(s=>s.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(ts(void 0),Al(),Si(([s,o])=>o.length>0||!s),(0,Pt.U)(([s,o])=>o),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ao((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=n_(t);return XI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.payload.docs.map(s=>t.idField?Object.assign(Object.assign({},s.data()),{[t.idField]:s.id}):s.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ei.D)(this.query.get(t)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Kx(this.ref.doc(t),this.afs)}}class Kx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const s=this.ref.collection(t),{ref:o,query:d}=nw(s,e);return new Ph(o,d,this.afs)}snapshotChanges(){return function(i,t){return VA(i,t).pipe(ts(void 0),Al(),(0,Pt.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ei.D)(this.ref.get(t)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}}class QI{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.filter(s=>t.indexOf(s.type)>-1)),Si(e=>e.length>0),this.afs.keepUnstableUntilFirst):Qx(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ao((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=n_(t);return XI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(s=>s.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ei.D)(this.query.get(t)).pipe((0,Vo.QV)(this.afs.schedulers.insideAngular))}}const Jx=new c.OlP("angularfire2.enableFirestorePersistence"),Jg=new c.OlP("angularfire2.firestore.persistenceSettings"),ew=new c.OlP("angularfire2.firestore.settings"),tw=new c.OlP("angularfire2.firestore.use-emulator");function nw(i,t=(e=>e)){return{query:t(i),ref:i}}let e1,Jc=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z){this.schedulers=new Tn.HU(C),this.keepUnstableUntilFirst=(0,Tn.ss)(this.schedulers);const X=(0,Tn.on)(e,C,s);!Mu.Z.auth&&z&&(0,Tn.yq)();const te=F;[this.firestore,this.persistenceEnabled$]=(0,Tn.sI)(`${X.name}.firestore`,"AngularFirestore",X,()=>{const oe=C.runOutsideAngular(()=>X.firestore());if(d&&oe.settings(d),te&&oe.useEmulator(...te),o&&!ep(m)){const ue=()=>{try{return(0,ei.D)(oe.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(xe){return"undefined"!=typeof console&&console.warn(xe),(0,Mt.of)(!1)}};return[oe,C.runOutsideAngular(ue)]}return[oe,(0,Mt.of)(!1)]},[d,te,o])}collection(e,s){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:d,query:m}=nw(o,s),C=this.schedulers.ngZone.run(()=>d);return new Ph(C,m,this)}collectionGroup(e,s){const o=s||(m=>m),d=this.firestore.collectionGroup(e);return new QI(o(d),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>s);return new Kx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(Jx,8),c.LFG(ew,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Jg,8),c.LFG(tw,8),c.LFG(Ia,8))},i.\u0275prov=c.Yz7({factory:function(){return new i(c.LFG(Tn.Dh),c.LFG(Tn.xv,8),c.LFG(Jx,8),c.LFG(ew,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Jg,8),c.LFG(tw,8),c.LFG(Ia,8))},token:i,providedIn:"any"}),i})(),UA=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:Jx,useValue:!0},{provide:Jg,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[Jc]}),i})(),ca=(()=>{class i{constructor(e,s,o,d){this.fauth=e,this.route=s,this.router=o,this.firestore=d,this.tempo="",this.user$=this.fauth.authState,this.user$.subscribe(m=>{this.uid=null==m?void 0:m.uid,console.log("User Logged in "+this.uid)}),e.setPersistence("local").then(m=>{console.log("local session")})}login(e,s){var o=this;return ar(function*(){return new Promise(d=>{o.fauth.signInWithEmailAndPassword(e,s).then(m=>{var C,I;o.uid=null===(C=m.user)||void 0===C?void 0:C.uid,o.firestore.collection("Admin").doc(o.uid).valueChanges().subscribe(F=>{F&&o.router.navigateByUrl("/adminpage")}),o.firestore.collection("Student").doc(o.uid).valueChanges().subscribe(F=>{F&&o.router.navigateByUrl("/studentpage")}),o.firestore.collection("Supplier").doc(o.uid).valueChanges().subscribe(F=>{F&&o.router.navigateByUrl("/supplierpage")}),(null===(I=m.user)||void 0===I?void 0:I.emailVerified)||(o.emailVerified=!1),d(!0)}).catch(m=>{"auth/wrong-password"===m.code&&(console.log("wrong password"),o.passwordVerified=!1,o.passwordVerified||(o.passwordVerified=!1)),"auth/user-not-found"===m.code&&(o.userVerified=!1),d(!1)})})})()}register(e,s,o,d,m,C,I,F,z){var X=this;return ar(function*(){return new Promise((te,oe)=>{X.fauth.createUserWithEmailAndPassword(e,s).then(ue=>{var xe,Oe;console.log(ue),te({validate:!0}),X.fauth.currentUser.then(qe=>{null==qe||qe.sendEmailVerification()}).then(qe=>{console.log(qe)}),"1"===o?(console.log("student"),X.firestore.collection("Student").doc(null===(xe=ue.user)||void 0===xe?void 0:xe.uid).set({name:d,email:e,dob:m,phone:C,gender:I,matrixid:F,isStudent:!1})):"2"===o&&(console.log("supplier"),X.firestore.collection("Supplier").doc(null===(Oe=ue.user)||void 0===Oe?void 0:Oe.uid).set({name:d,email:e,dob:m,phone:C,gender:I,compname:z,isSupplier:!1}))}).catch(ue=>{console.log(ue),"auth/email-already-in-use"===ue.code&&te({validate:!1})})})})()}getAdminStatus(){var e=this;return ar(function*(){return new Promise(s=>{e.admin$=e.firestore.collection("Admin").doc(e.uid).valueChanges(),e.admin$.subscribe(o=>{s(null==o?void 0:o.isAdmin)})})})()}getStudentStatus(){var e=this;return ar(function*(){return new Promise(s=>{e.student$=e.firestore.collection("Student").doc(e.uid).valueChanges(),e.student$.subscribe(o=>{s(null==o?void 0:o.isStudent)})})})()}getSupplierStatus(){var e=this;return ar(function*(){return new Promise(s=>{e.supplier$=e.firestore.collection("Supplier").doc(e.uid).valueChanges(),e.supplier$.subscribe(o=>{s(null==o?void 0:o.isSupplier)})})})()}verificationemail(){this.fauth.user.subscribe(e=>{null==e||e.sendEmailVerification(),console.log("Verification email sent")},e=>{console.log(e)})}checkExistedEmail(e){var s=this;return ar(function*(){return new Promise(o=>{s.fauth.fetchSignInMethodsForEmail(e).then(d=>{console.log(d),s.emailExistedStatus=!0,o(!0)},d=>{console.log(d)})})})()}forgotPassword(e){var s=this;return ar(function*(){return new Promise(o=>{s.fauth.sendPasswordResetEmail(e).then(d=>{console.log("success"),o(!0)},d=>{console.log(d.code),"auth/user-not-found"===d.code&&o(!1)})})})()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ss),c.LFG(fc),c.LFG(Ii),c.LFG(Jc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iw=(()=>{class i{constructor(e,s){this.auth=e,this.router=s}canActivate(e,s){var o=this;return ar(function*(){let d=yield o.auth.getAdminStatus();return console.log(d),0!=d||(o.router.navigateByUrl(""),!1)})()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(ca),c.LFG(Ii))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),KI=(()=>{class i{constructor(e,s,o){this.fauth=e,this.router=s,this.af=o,this.fauth.authState.subscribe(d=>{let m=null==d?void 0:d.uid;this.username$=this.af.collection("Admin").doc(m).valueChanges()})}ngOnInit(){}logout(){this.fauth.signOut(),localStorage.removeItem("admin"),this.router.navigateByUrl("")}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ss),c.Y36(Ii),c.Y36(Jc))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-adminnavbarpage"]],decls:29,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/adminpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/adminpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/adminmanageinv",1,"nav-link"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"a",3),c._uU(4,"UMP SCMS"),c.qZA(),c.TgZ(5,"button",4),c._UZ(6,"span",5),c.qZA(),c.TgZ(7,"div",6),c.TgZ(8,"ul",7),c.TgZ(9,"li",8),c.TgZ(10,"a",9),c._uU(11,"Home"),c.qZA(),c.qZA(),c.TgZ(12,"li",8),c.TgZ(13,"a",10),c._uU(14,"Manage Inventory"),c.qZA(),c.qZA(),c.TgZ(15,"li",8),c.TgZ(16,"a",11),c._uU(17,"Pricing"),c.qZA(),c.qZA(),c.TgZ(18,"li",12),c.TgZ(19,"a",13),c._uU(20),c.ALo(21,"async"),c.qZA(),c.TgZ(22,"ul",14),c.TgZ(23,"li"),c.TgZ(24,"a",15),c._uU(25,"My Profile"),c.qZA(),c.qZA(),c.TgZ(26,"li"),c.TgZ(27,"a",16),c.NdJ("click",function(){return s.logout()}),c._uU(28,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){let o;c.Udp("background","#b8ab97"),c.xp6(20),c.hij(" ",null==(o=c.lcZ(21,3,s.username$))?null:o.username," ")}},directives:[Xu,NT],pipes:[$f],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),i})(),eO=(()=>{class i{constructor(e,s,o){this.fauth=e,this.router=s,this.af=o}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ss),c.Y36(Ii),c.Y36(Jc))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-admin-home-page"]],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"app-adminnavbarpage")},directives:[KI],styles:["mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}body[_ngcontent-%COMP%]{background:#f0f0f0}.chart[_ngcontent-%COMP%]{background:black;display:flex;justify-content:center}.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:999}"]}),i})();function $n(i){return null!=i&&"false"!=`${i}`}function Er(i,t=0){return JI(i)?Number(i):t}function JI(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Nh(i){return Array.isArray(i)?i:[i]}function Zi(i){return null==i?"":"string"==typeof i?i:`${i}px`}function eu(i){return i instanceof c.SBq?i.nativeElement:i}function Dr(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function uw(i,t=Lo.P){return e=>e.lift(new xM(i,t))}class xM{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new wM(t,this.dueTime,this.scheduler))}}class wM extends tr.L{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CM,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function CM(i){i.debouncedNext()}try{e1="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){e1=!1}let Mf,Gn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!e1)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.Lbi))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(c.Lbi))},token:i,providedIn:"root"}),i})(),tm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();const kf=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hw(){if(Mf)return Mf;if("object"!=typeof document||!document)return Mf=new Set(kf),Mf;let i=document.createElement("input");return Mf=new Set(kf.filter(t=>(i.setAttribute("type",t),i.type===t))),Mf}let s_,Rf,pw;function dw(i){return function(){if(null==s_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>s_=!0}))}finally{s_=s_||!1}return s_}()?i:!!i.capture}function o_(){if(null==Rf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rf=!1,Rf;if("scrollBehavior"in document.documentElement.style)Rf=!0;else{const i=Element.prototype.scrollTo;Rf=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Rf}function AM(i){if(function(){if(null==pw){const i="undefined"!=typeof document?document.head:null;pw=!(!i||!i.createShadowRoot&&!i.attachShadow)}return pw}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}let gw=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),t1=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=eu(e);return new ci.y(o=>{const m=this._observeElement(s).subscribe(o);return()=>{m.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new Lt.xQ,o=this._mutationObserverFactory.create(d=>s.next(d));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:o}=this._observedElements.get(e);s&&s.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(gw))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(gw))},token:i,providedIn:"root"}),i})(),TM=(()=>{class i{constructor(e,s,o){this._contentObserver=e,this._elementRef=s,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=$n(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Er(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(uw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(t1),c.Y36(c.SBq),c.Y36(c.R0b))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Mo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[gw]}),i})();function im(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const mw="cdk-describedby-message-container",vw="cdk-describedby-message",Of="cdk-describedby-host";let yw=0;const ko=new Map;let Qi=null,a_=(()=>{class i{constructor(e){this._document=e}describe(e,s,o){if(!this._canBeDescribed(e,s))return;const d=l_(s,o);"string"!=typeof s?(_w(s),ko.set(d,{messageElement:s,referenceCount:0})):ko.has(d)||this._createMessageElement(s,o),this._isElementDescribedByMessage(e,d)||this._addMessageReference(e,d)}removeDescription(e,s,o){if(!s||!this._isElementNode(e))return;const d=l_(s,o);if(this._isElementDescribedByMessage(e,d)&&this._removeMessageReference(e,d),"string"==typeof s){const m=ko.get(d);m&&0===m.referenceCount&&this._deleteMessageElement(d)}Qi&&0===Qi.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Of}]`);for(let s=0;s<e.length;s++)this._removeCdkDescribedByReferenceIds(e[s]),e[s].removeAttribute(Of);Qi&&this._deleteMessagesContainer(),ko.clear()}_createMessageElement(e,s){const o=this._document.createElement("div");_w(o),o.textContent=e,s&&o.setAttribute("role",s),this._createMessagesContainer(),Qi.appendChild(o),ko.set(l_(e,s),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){const s=ko.get(e),o=s&&s.messageElement;Qi&&o&&Qi.removeChild(o),ko.delete(e)}_createMessagesContainer(){if(!Qi){const e=this._document.getElementById(mw);e&&e.parentNode&&e.parentNode.removeChild(e),Qi=this._document.createElement("div"),Qi.id=mw,Qi.style.visibility="hidden",Qi.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Qi)}}_deleteMessagesContainer(){Qi&&Qi.parentNode&&(Qi.parentNode.removeChild(Qi),Qi=null)}_removeCdkDescribedByReferenceIds(e){const s=im(e,"aria-describedby").filter(o=>0!=o.indexOf(vw));e.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(e,s){const o=ko.get(s);(function(i,t,e){const s=im(i,t);s.some(o=>o.trim()==e.trim())||(s.push(e.trim()),i.setAttribute(t,s.join(" ")))})(e,"aria-describedby",o.messageElement.id),e.setAttribute(Of,""),o.referenceCount++}_removeMessageReference(e,s){const o=ko.get(s);o.referenceCount--,function(i,t,e){const o=im(i,t).filter(d=>d!=e.trim());o.length?i.setAttribute(t,o.join(" ")):i.removeAttribute(t)}(e,"aria-describedby",o.messageElement.id),e.removeAttribute(Of)}_isElementDescribedByMessage(e,s){const o=im(e,"aria-describedby"),d=ko.get(s),m=d&&d.messageElement.id;return!!m&&-1!=o.indexOf(m)}_canBeDescribed(e,s){if(!this._isElementNode(e))return!1;if(s&&"object"==typeof s)return!0;const o=null==s?"":`${s}`.trim(),d=e.getAttribute("aria-label");return!(!o||d&&d.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})();function l_(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function _w(i){i.id||(i.id=`${vw}-${yw++}`)}class kM extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Lt.xQ,this._typeaheadSubscription=Cs.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Lt.xQ,this.change=new Lt.xQ,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Bi.b)(e=>this._pressedLetters.push(e)),uw(t),Si(()=>this._pressedLetters.length>0),(0,Pt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let o=1;o<s.length+1;o++){const d=(this._activeItemIndex+o)%s.length,m=s[d];if(!this._skipPredicateFn(m)&&0===m.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(d);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(d=>!t[d]||this._allowedModifierKeys.indexOf(d)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||Dr(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),s="number"==typeof t?t:e.indexOf(t),o=e[s];this._activeItem=null==o?null:o,this._activeItemIndex=s}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const o=(this._activeItemIndex+t*s+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const s=this._getItemsArray();if(s[t]){for(;this._skipPredicateFn(s[t]);)if(!s[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let r1=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(s&&(-1===u_(s)||!this.isVisible(s)))return!1;let o=e.nodeName.toLowerCase(),d=u_(e);return e.hasAttribute("contenteditable")?-1!==d:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==d:"video"===o?-1!==d&&(null!==d||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||sm(i))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Gn))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Gn))},token:i,providedIn:"root"}),i})();function sm(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function u_(i){if(!sm(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class FM{constructor(t,e,s,o,d=!1){this._element=t,this._checker=e,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let s=0;s<e.length;s++){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let s=e.length-1;s>=0;s--){let o=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Un(1)).subscribe(t)}}let a1=(()=>{class i{constructor(e,s,o){this._checker=e,this._ngZone=s,this._document=o}create(e,s=!1){return new FM(e,this._checker,this._ngZone,this._document,s)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(r1),c.LFG(c.R0b),c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(r1),(0,c.LFG)(c.R0b),(0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})();"undefined"!=typeof Element&&Element;const f_=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),xw=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let om=(()=>{class i{constructor(e,s,o,d){this._ngZone=s,this._defaultOptions=d,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...s){const o=this._defaultOptions;let d,m;return 1===s.length&&"number"==typeof s[0]?m=s[0]:[d,m]=s,this.clear(),clearTimeout(this._previousTimeout),d||(d=o&&o.politeness?o.politeness:"polite"),null==m&&o&&(m=o.duration),this._liveElement.setAttribute("aria-live",d),this._ngZone.runOutsideAngular(()=>new Promise(C=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,C(),"number"==typeof m&&(this._previousTimeout=setTimeout(()=>this.clear(),m))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",s=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let d=0;d<s.length;d++)s[d].parentNode.removeChild(s[d]);return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(f_,8),c.LFG(c.R0b),c.LFG(Ve),c.LFG(xw,8))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(f_,8),(0,c.LFG)(c.R0b),(0,c.LFG)(Ve),(0,c.LFG)(xw,8))},token:i,providedIn:"root"}),i})();function c1(i){return 0===i.buttons}function u1(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Pf=new c.OlP("cdk-focus-monitor-default-options"),ms=dw({passive:!0,capture:!0});let Fl=(()=>{class i{constructor(e,s,o,d){this._ngZone=e,this._platform=s,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=m=>{if(!this._lastTouchTarget){const C=c1(m)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(C)}},this._documentTouchstartListener=m=>{u1(m)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ll(m),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=m=>{const C=Ll(m),I="focus"===m.type?this._onFocus:this._onBlur;for(let F=C;F;F=F.parentElement)I.call(this,m,F)},this._document=o,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,s=!1){const o=eu(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Mt.of)(null);const d=AM(o)||this._getDocument(),m=this._elementInfo.get(o);if(m)return s&&(m.checkChildren=!0),m.subject;const C={checkChildren:s,subject:new Lt.xQ,rootNode:d};return this._elementInfo.set(o,C),this._registerGlobalListeners(C),C.subject}stopMonitoring(e){const s=eu(e),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(e,s,o){const d=eu(e);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([C,I])=>this._originChanged(C,s,I)):(this._setOriginForCurrentEventQueue(s),"function"==typeof d.focus&&d.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,o){o?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const s=Ll(e);return this._lastTouchTarget instanceof Node&&s instanceof Node&&(s===this._lastTouchTarget||s.contains(this._lastTouchTarget))}_onFocus(e,s){const o=this._elementInfo.get(s);!o||!o.checkChildren&&s!==Ll(e)||this._originChanged(s,this._getFocusOrigin(e),o)}_onBlur(e,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,ms),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,ms)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const d=this._getDocument(),m=this._getWindow();d.addEventListener("keydown",this._documentKeydownListener,ms),d.addEventListener("mousedown",this._documentMousedownListener,ms),d.addEventListener("touchstart",this._documentTouchstartListener,ms),m.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ms),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ms),this._rootNodeFocusListenerCount.delete(s))}if(!--this._monitoredElementCount){const o=this._getDocument(),d=this._getWindow();o.removeEventListener("keydown",this._documentKeydownListener,ms),o.removeEventListener("mousedown",this._documentMousedownListener,ms),o.removeEventListener("touchstart",this._documentTouchstartListener,ms),d.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,s,o){this._setClasses(e,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((o,d)=>{(d===e||o.checkChildren&&d.contains(e))&&s.push([d,o])}),s}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.R0b),c.LFG(Gn),c.LFG(Ve,8),c.LFG(Pf,8))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(c.R0b),(0,c.LFG)(Gn),(0,c.LFG)(Ve,8),(0,c.LFG)(Pf,8))},token:i,providedIn:"root"}),i})();function Ll(i){return i.composedPath?i.composedPath()[0]:i.target}const h1="cdk-high-contrast-black-on-white",d1="cdk-high-contrast-white-on-black",p_="cdk-high-contrast-active";let ww=(()=>{class i{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(e):null,d=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(p_),e.remove(h1),e.remove(d1);const s=this.getHighContrastMode();1===s?(e.add(p_),e.add(h1)):2===s&&(e.add(p_),e.add(d1))}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Gn),c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Gn),(0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})(),f1=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(ww))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[tm,Mo]]}),i})();const Cw=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(Ve)}});let ua=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const o=e.documentElement?e.documentElement.dir:null,d=(e.body?e.body.dir:null)||o;this.value="ltr"===d||"rtl"===d?d:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Cw,8))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Cw,8))},token:i,providedIn:"root"}),i})(),Nf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();const iu=new c.GfV("11.2.13");class g_{}const Vl="*";function Zr(i,t){return{type:7,name:i,definitions:t,options:{}}}function _i(i,t=null){return{type:4,styles:t,timings:i}}function jM(i,t=null){return{type:2,steps:i,options:t}}function At(i){return{type:6,styles:i,offset:null}}function ki(i,t,e){return{type:0,name:i,styles:t,options:e}}function Fh(i){return{type:5,steps:i}}function ri(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Ew(i,t=null){return{type:8,animation:i,options:t}}function p1(i=null){return{type:9,options:i}}function Aw(i,t=null){return{type:10,animation:i,options:t}}function g1(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function GM(i){Promise.resolve(null).then(i)}class am{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class a{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,o=0;const d=this.players.length;0==d?GM(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++e==d&&this._onFinish()}),m.onDestroy(()=>{++s==d&&this._onDestroy()}),m.onStart(()=>{++o==d&&this._onStart()})}),this.totalTime=this.players.reduce((m,C)=>Math.max(m,C.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(o)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}function f(){return"undefined"!=typeof window&&void 0!==window.document}function p(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function b(i){switch(i.length){case 0:return new am;case 1:return i[0];default:return new a(i)}}function E(i,t,e,s,o={},d={}){const m=[],C=[];let I=-1,F=null;if(s.forEach(z=>{const X=z.offset,te=X==I,oe=te&&F||{};Object.keys(z).forEach(ue=>{let xe=ue,Oe=z[ue];if("offset"!==ue)switch(xe=t.normalizePropertyName(xe,m),Oe){case"!":Oe=o[ue];break;case Vl:Oe=d[ue];break;default:Oe=t.normalizeStyleValue(ue,xe,Oe,m)}oe[xe]=Oe}),te||C.push(oe),F=oe,I=X}),m.length){const z="\n - ";throw new Error(`Unable to animate due to the following errors:${z}${m.join(z)}`)}return C}function M(i,t,e,s){switch(t){case"start":i.onStart(()=>s(e&&O(e,"start",i)));break;case"done":i.onDone(()=>s(e&&O(e,"done",i)));break;case"destroy":i.onDestroy(()=>s(e&&O(e,"destroy",i)))}}function O(i,t,e){const s=e.totalTime,d=B(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==s?i.totalTime:s,!!e.disabled),m=i._data;return null!=m&&(d._data=m),d}function B(i,t,e,s,o="",d=0,m){return{element:i,triggerName:t,fromState:e,toState:s,phaseName:o,totalTime:d,disabled:!!m}}function G(i,t,e){let s;return i instanceof Map?(s=i.get(t),s||i.set(t,s=e)):(s=i[t],s||(s=i[t]=e)),s}function Q(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let re=(i,t)=>!1,_e=(i,t)=>!1,Xe=(i,t,e)=>[];const ut=p();(ut||"undefined"!=typeof Element)&&(re=f()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),_e=(()=>{if(ut||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,s)=>t.apply(e,[s]):_e}})(),Xe=(i,t,e)=>{let s=[];if(e){const o=i.querySelectorAll(t);for(let d=0;d<o.length;d++)s.push(o[d])}else{const o=i.querySelector(t);o&&s.push(o)}return s});let Nt=null,Zt=!1;function vn(i){Nt||(Nt=("undefined"!=typeof document?document.body:null)||{},Zt=!!Nt.style&&"WebkitAppearance"in Nt.style);let t=!0;return Nt.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Nt.style,!t&&Zt&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Nt.style)),t}const Ns=_e,Lh=re,ru=Xe;function Vh(i){const t={};return Object.keys(i).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=i[e]}),t}let Bh=(()=>{class i{validateStyleProperty(e){return vn(e)}matchesElement(e,s){return Ns(e,s)}containsElement(e,s){return Lh(e,s)}query(e,s,o){return ru(e,s,o)}computeStyle(e,s,o){return o||""}animate(e,s,o,d,m,C=[],I){return new am(o,d)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class Ff{}Ff.NOOP=new Bh;const lm="ng-enter",m1="ng-leave",v1="ng-trigger",y1=".ng-trigger",oP="ng-animating",YM=".ng-animating";function cm(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:WM(parseFloat(t[1]),t[2])}function WM(i,t){switch(t){case"s":return 1e3*i;default:return i}}function _1(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let o,d=0,m="";if("string"==typeof i){const C=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};o=WM(parseFloat(C[1]),C[2]);const I=C[3];null!=I&&(d=WM(parseFloat(I),C[4]));const F=C[5];F&&(m=F)}else o=i;if(!e){let C=!1,I=t.length;o<0&&(t.push("Duration values below 0 are not allowed for this animation step."),C=!0),d<0&&(t.push("Delay values below 0 are not allowed for this animation step."),C=!0),C&&t.splice(I,0,`The provided timing value "${i}" is invalid.`)}return{duration:o,delay:d,easing:m}}(i,t,e)}function v_(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function Lf(i,t,e={}){if(t)for(let s in i)e[s]=i[s];else v_(i,e);return e}function lP(i,t,e){return e?t+":"+e+";":""}function cP(i){let t="";for(let e=0;e<i.style.length;e++){const s=i.style.item(e);t+=lP(0,s,i.style.getPropertyValue(s))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=lP(0,C2(e),i.style[e]));i.setAttribute("style",t)}function su(i,t,e){i.style&&(Object.keys(t).forEach(s=>{const o=XM(s);e&&!e.hasOwnProperty(s)&&(e[s]=i.style[o]),i.style[o]=t[s]}),p()&&cP(i))}function um(i,t){i.style&&(Object.keys(t).forEach(e=>{const s=XM(e);i.style[s]=""}),p()&&cP(i))}function Iw(i){return Array.isArray(i)?1==i.length?i[0]:jM(i):i}const qM=new RegExp("{{\\s*(.+?)\\s*}}","g");function uP(i){let t=[];if("string"==typeof i){let e;for(;e=qM.exec(i);)t.push(e[1]);qM.lastIndex=0}return t}function b1(i,t,e){const s=i.toString(),o=s.replace(qM,(d,m)=>{let C=t[m];return t.hasOwnProperty(m)||(e.push(`Please provide a value for the animation param ${m}`),C=""),C.toString()});return o==s?i:o}function x1(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const w2=/-+([a-z0-9])/g;function XM(i){return i.replace(w2,(...t)=>t[1].toUpperCase())}function C2(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hP(i,t){return 0===i||0===t}function dP(i,t,e){const s=Object.keys(e);if(s.length&&t.length){let d=t[0],m=[];if(s.forEach(C=>{d.hasOwnProperty(C)||m.push(C),d[C]=e[C]}),m.length)for(var o=1;o<t.length;o++){let C=t[o];m.forEach(function(I){C[I]=$M(i,I)})}}return t}function ha(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function $M(i,t){return window.getComputedStyle(i)[t]}function S2(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,t,e){if(":"==i[0]){const I=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof I)return void t.push(I);i=I}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const o=s[1],d=s[2],m=s[3];t.push(fP(o,m));"<"==d[0]&&!("*"==o&&"*"==m)&&t.push(fP(m,o))}(s,e,t)):e.push(i),e}const C1=new Set(["true","1"]),S1=new Set(["false","0"]);function fP(i,t){const e=C1.has(i)||S1.has(i),s=C1.has(t)||S1.has(t);return(o,d)=>{let m="*"==i||i==o,C="*"==t||t==d;return!m&&e&&"boolean"==typeof o&&(m=o?C1.has(i):S1.has(i)),!C&&s&&"boolean"==typeof d&&(C=d?C1.has(t):S1.has(t)),m&&C}}const T2=new RegExp("s*:selfs*,?","g");function ZM(i,t,e){return new D2(i).build(t,e)}class D2{constructor(t){this._driver=t}build(t,e){const s=new k2(e);return this._resetContextStyleTimingState(s),ha(this,Iw(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,o=e.depCount=0;const d=[],m=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(C=>{if(this._resetContextStyleTimingState(e),0==C.type){const I=C,F=I.name;F.toString().split(/\s*,\s*/).forEach(z=>{I.name=z,d.push(this.visitState(I,e))}),I.name=F}else if(1==C.type){const I=this.visitTransition(C,e);s+=I.queryCount,o+=I.depCount,m.push(I)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:d,transitions:m,queryCount:s,depCount:o,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(s.containsDynamicStyles){const d=new Set,m=o||{};if(s.styles.forEach(C=>{if(E1(C)){const I=C;Object.keys(I).forEach(F=>{uP(I[F]).forEach(z=>{m.hasOwnProperty(z)||d.add(z)})})}}),d.size){const C=x1(d.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${C.join(", ")}`)}}return{type:0,name:t.name,style:s,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=ha(this,Iw(t.animation),e);return{type:1,matchers:S2(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:hm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>ha(this,s,e)),options:hm(t.options)}}visitGroup(t,e){const s=e.currentTime;let o=0;const d=t.steps.map(m=>{e.currentTime=s;const C=ha(this,m,e);return o=Math.max(o,e.currentTime),C});return e.currentTime=o,{type:3,steps:d,options:hm(t.options)}}visitAnimate(t,e){const s=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return QM(_1(i,t).duration,0,"");const s=i;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=QM(0,0,"");return d.dynamic=!0,d.strValue=s,d}return e=e||_1(s,t),QM(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let o,d=t.styles?t.styles:At({});if(5==d.type)o=this.visitKeyframes(d,e);else{let m=t.styles,C=!1;if(!m){C=!0;const F={};s.easing&&(F.easing=s.easing),m=At(F)}e.currentTime+=s.duration+s.delay;const I=this.visitStyle(m,e);I.isEmptyStep=C,o=I}return e.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(m=>{"string"==typeof m?m==Vl?s.push(m):e.errors.push(`The provided style string value ${m} is not allowed.`):s.push(m)}):s.push(t.styles);let o=!1,d=null;return s.forEach(m=>{if(E1(m)){const C=m,I=C.easing;if(I&&(d=I,delete C.easing),!o)for(let F in C)if(C[F].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:d,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let o=e.currentTime,d=e.currentTime;s&&d>0&&(d-=s.duration+s.delay),t.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(C=>{if(!this._driver.validateStyleProperty(C))return void e.errors.push(`The provided animation property "${C}" is not a supported CSS property for animations`);const I=e.collectedStyles[e.currentQuerySelector],F=I[C];let z=!0;F&&(d!=o&&d>=F.startTime&&o<=F.endTime&&(e.errors.push(`The CSS property "${C}" that exists between the times of "${F.startTime}ms" and "${F.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${o}ms"`),z=!1),d=F.startTime),z&&(I[C]={startTime:d,endTime:o}),e.options&&function(i,t,e){const s=t.params||{},o=uP(i);o.length&&o.forEach(d=>{s.hasOwnProperty(d)||e.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(m[C],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const m=[];let C=!1,I=!1,F=0;const z=t.steps.map(qe=>{const ot=this._makeStyleAst(qe,e);let at=null!=ot.offset?ot.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(E1(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(E1(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(ot.styles),Et=0;return null!=at&&(d++,Et=ot.offset=at),I=I||Et<0||Et>1,C=C||Et<F,F=Et,m.push(Et),ot});I&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),C&&e.errors.push("Please ensure that all keyframe offsets are in order");const X=t.steps.length;let te=0;d>0&&d<X?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(te=1/(X-1));const oe=X-1,ue=e.currentTime,xe=e.currentAnimateTimings,Oe=xe.duration;return z.forEach((qe,ot)=>{const at=te>0?ot==oe?1:te*ot:m[ot],Et=at*Oe;e.currentTime=ue+xe.delay+Et,xe.duration=Et,this._validateStyleAst(qe,e),qe.offset=at,s.styles.push(qe)}),s}visitReference(t,e){return{type:8,animation:ha(this,Iw(t.animation),e),options:hm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hm(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[d,m]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(T2,"")),[i=i.replace(/@\*/g,y1).replace(/@\w+/g,e=>y1+"-"+e.substr(1)).replace(/:animating/g,YM),t]}(t.selector);e.currentQuerySelector=s.length?s+" "+d:d,G(e.collectedStyles,e.currentQuerySelector,{});const C=ha(this,Iw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:C,originalSelector:t.selector,options:hm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:_1(t.timings,e.errors,!0);return{type:12,animation:ha(this,Iw(t.animation),e),timings:s,options:null}}}class k2{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function E1(i){return!Array.isArray(i)&&"object"==typeof i}function hm(i){return i?(i=v_(i)).params&&(i.params=function(i){return i?v_(i):null}(i.params)):i={},i}function QM(i,t,e){return{duration:i,delay:t,easing:e}}function KM(i,t,e,s,o,d,m=null,C=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:s,duration:o,delay:d,totalTime:o+d,easing:m,subTimeline:C}}class A1{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const F2=new RegExp(":enter","g"),V2=new RegExp(":leave","g");function JM(i,t,e,s,o,d={},m={},C,I,F=[]){return(new B2).buildKeyframes(i,t,e,s,o,d,m,C,I,F)}class B2{buildKeyframes(t,e,s,o,d,m,C,I,F,z=[]){F=F||new A1;const X=new ek(t,e,F,o,d,z,[]);X.options=I,X.currentTimeline.setStyles([m],null,X.errors,I),ha(this,s,X);const te=X.timelines.filter(oe=>oe.containsAnimation());if(te.length&&Object.keys(C).length){const oe=te[te.length-1];oe.allowOnlyTimelineStyles()||oe.setStyles([C],null,X.errors,I)}return te.length?te.map(oe=>oe.buildKeyframes()):[KM(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.consume(e.element);if(s){const o=e.createSubContext(t.options),d=e.currentTimeline.currentTime,m=this._visitSubInstructions(s,o,o.options);d!=m&&e.transformIntoNewTimeline(m)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let d=e.currentTimeline.currentTime;const m=null!=s.duration?cm(s.duration):null,C=null!=s.delay?cm(s.delay):null;return 0!==m&&t.forEach(I=>{const F=e.appendInstructionToTimeline(I,m,C);d=Math.max(d,F.duration+F.delay)}),d}visitReference(t,e){e.updateOptions(t.options,!0),ha(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let o=e;const d=t.options;if(d&&(d.params||d.delay)&&(o=e.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=T1);const m=cm(d.delay);o.delayNextStep(m)}t.steps.length&&(t.steps.forEach(m=>ha(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let o=e.currentTimeline.currentTime;const d=t.options&&t.options.delay?cm(t.options.delay):0;t.steps.forEach(m=>{const C=e.createSubContext(t.options);d&&C.delayNextStep(d),ha(this,m,C),o=Math.max(o,C.currentTimeline.currentTime),s.push(C.currentTimeline)}),s.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return _1(e.params?b1(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),o.snapshotCurrentStyles());const d=t.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(s.duration),this.visitStyle(d,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,o=e.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=o&&o.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(d):s.setStyles(t.styles,d,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,o=e.currentTimeline.duration,d=s.duration,C=e.createSubContext().currentTimeline;C.easing=s.easing,t.styles.forEach(I=>{C.forwardTime((I.offset||0)*d),C.setStyles(I.styles,I.easing,e.errors,e.options),C.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(C),e.transformIntoNewTimeline(o+d),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,o=t.options||{},d=o.delay?cm(o.delay):0;d&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=T1);let m=s;const C=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=C.length;let I=null;C.forEach((F,z)=>{e.currentQueryIndex=z;const X=e.createSubContext(t.options,F);d&&X.delayNextStep(d),F===e.element&&(I=X.currentTimeline),ha(this,t.animation,X),X.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,X.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,o=e.currentTimeline,d=t.timings,m=Math.abs(d.duration),C=m*(e.currentQueryTotal-1);let I=m*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":I=C-I;break;case"full":I=s.currentStaggerTime}const z=e.currentTimeline;I&&z.delayNextStep(I);const X=z.currentTime;ha(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=o.currentTime-X+(o.startTime-s.currentTimeline.startTime)}}const T1={};class ek{constructor(t,e,s,o,d,m,C,I){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=d,this.errors=m,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=T1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new D1(this._driver,e,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let o=this.options;null!=s.duration&&(o.duration=cm(s.duration)),null!=s.delay&&(o.delay=cm(s.delay));const d=s.params;if(d){let m=o.params;m||(m=this.options.params={}),Object.keys(d).forEach(C=>{(!e||!m.hasOwnProperty(C))&&(m[C]=b1(d[C],m,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(o=>{s[o]=e[o]})}}return t}createSubContext(t=null,e,s){const o=e||this.element,d=new ek(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(t),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(t){return this.previousNode=T1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},d=new H2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,o,d,m){let C=[];if(o&&C.push(this.element),t.length>0){t=(t=t.replace(F2,"."+this._enterClassName)).replace(V2,"."+this._leaveClassName);let F=this._driver.query(this.element,t,1!=s);0!==s&&(F=s<0?F.slice(F.length+s,F.length):F.slice(0,s)),C.push(...F)}return!d&&0==C.length&&m.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),C}}class D1{constructor(t,e,s,o){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new D1(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Vl,this._currentKeyframe[e]=Vl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,o){e&&(this._previousKeyframe.easing=e);const d=o&&o.params||{},m=function(i,t){const e={};let s;return i.forEach(o=>{"*"===o?(s=s||Object.keys(t),s.forEach(d=>{e[d]=Vl})):Lf(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(m).forEach(C=>{const I=b1(m[C],d,s);this._pendingStyles[C]=I,this._localTimelineStyles.hasOwnProperty(C)||(this._backFill[C]=this._globalTimelineStyles.hasOwnProperty(C)?this._globalTimelineStyles[C]:Vl),this._updateStyle(C,I)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],o=t._styleSummary[e];(!s||o.time>s.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((C,I)=>{const F=Lf(C,!0);Object.keys(F).forEach(z=>{const X=F[z];"!"==X?t.add(z):X==Vl&&e.add(z)}),s||(F.offset=I/this.duration),o.push(F)});const d=t.size?x1(t.values()):[],m=e.size?x1(e.values()):[];if(s){const C=o[0],I=v_(C);C.offset=0,I.offset=1,o=[C,I]}return KM(this.element,o,d,m,this.duration,this.startTime,this.easing,!1)}}class H2 extends D1{constructor(t,e,s,o,d,m,C=!1){super(t,e,m.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=C,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],m=s+e,C=e/m,I=Lf(t[0],!1);I.offset=0,d.push(I);const F=Lf(t[0],!1);F.offset=mP(C),d.push(F);const z=t.length-1;for(let X=1;X<=z;X++){let te=Lf(t[X],!1);te.offset=mP((e+te.offset*s)/m),d.push(te)}s=m,e=0,o="",t=d}return KM(this.element,t,this.preStyleProps,this.postStyleProps,s,e,o,!0)}}function mP(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class tk{}class z2 extends tk{normalizePropertyName(t,e){return XM(t)}normalizeStyleValue(t,e,s,o){let d="";const m=s.toString().trim();if(j2[e]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const C=s.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&o.push(`Please provide a CSS unit value for ${t}:${s}`)}return m+d}}const j2=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vP(i,t,e,s,o,d,m,C,I,F,z,X,te){return{type:0,element:i,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:d,toState:s,toStyles:m,timelines:C,queriedElements:I,preStyleProps:F,postStyleProps:z,totalTime:X,errors:te}}const nk={};class yP{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,o){return function(i,t,e,s,o){return i.some(d=>d(t,e,s,o))}(this.ast.matchers,t,e,s,o)}buildStyles(t,e,s){const o=this._stateStyles["*"],d=this._stateStyles[t],m=o?o.buildStyles(e,s):{};return d?d.buildStyles(e,s):m}build(t,e,s,o,d,m,C,I,F,z){const X=[],te=this.ast.options&&this.ast.options.params||nk,ue=this.buildStyles(s,C&&C.params||nk,X),xe=I&&I.params||nk,Oe=this.buildStyles(o,xe,X),qe=new Set,ot=new Map,at=new Map,Et="void"===o,Ot={params:Object.assign(Object.assign({},te),xe)},hn=z?[]:JM(t,e,this.ast.animation,d,m,ue,Oe,Ot,F,X);let Ln=0;if(hn.forEach(io=>{Ln=Math.max(io.duration+io.delay,Ln)}),X.length)return vP(e,this._triggerName,s,o,Et,ue,Oe,[],[],ot,at,Ln,X);hn.forEach(io=>{const el=io.element,Qw=G(ot,el,{});io.preStyleProps.forEach(ym=>Qw[ym]=!0);const Kw=G(at,el,{});io.postStyleProps.forEach(ym=>Kw[ym]=!0),el!==e&&qe.add(el)});const da=x1(qe.values());return vP(e,this._triggerName,s,o,Et,ue,Oe,hn,da,ot,at,Ln)}}class W2{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},o=v_(this.defaultParams);return Object.keys(t).forEach(d=>{const m=t[d];null!=m&&(o[d]=m)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const m=d;Object.keys(m).forEach(C=>{let I=m[C];I.length>1&&(I=b1(I,o,e));const F=this.normalizer.normalizePropertyName(C,e);I=this.normalizer.normalizeStyleValue(C,F,I,e),s[F]=I})}}),s}}class X2{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new W2(o.style,o.options&&o.options.params||{},s)}),_P(this.states,"true","1"),_P(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new yP(t,o,this.states))}),this.fallbackTransition=function(i,t,e){return new yP(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,C)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,o){return this.transitionFactories.find(m=>m.match(t,e,s,o))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function _P(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const Z2=new A1;class Q2{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],o=ZM(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,s){const o=t.element,d=E(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(o,d,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const o=[],d=this._animations[t];let m;const C=new Map;if(d?(m=JM(this._driver,e,d,lm,m1,{},{},s,Z2,o),m.forEach(z=>{const X=G(C,z.element,{});z.postStyleProps.forEach(te=>X[te]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),m=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);C.forEach((z,X)=>{Object.keys(z).forEach(te=>{z[te]=this._driver.computeStyle(X,te,Vl)})});const F=b(m.map(z=>{const X=C.get(z.element);return this._buildPlayer(z,{},X)}));return this._playersById[t]=F,F.onDestroy(()=>this.destroy(t)),this.players.push(F),F}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,s,o){const d=B(e,"","","");return M(this._getPlayer(t),s,d,o),()=>{}}command(t,e,s,o){if("register"==s)return void this.register(t,o[0]);if("create"==s)return void this.create(t,e,o[0]||{});const d=this._getPlayer(t);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const bP="ng-animate-queued",xP="ng-animate-disabled",wP=".ng-animate-disabled",tV=[],CP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qa="__ng_removed";class ik{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?t.value:t),s){const d=v_(t);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(o=>{null==s[o]&&(s[o]=e[o])})}}}const Mw="void",rk=new ik(Mw);class iV{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ka(e,this._hostClassName)}listen(t,e,s,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const d=G(this._elementListeners,t,[]),m={name:e,phase:s,callback:o};d.push(m);const C=G(this._engine.statesByElement,t,{});return C.hasOwnProperty(e)||(Ka(t,v1),Ka(t,v1+"-"+e),C[e]=rk),()=>{this._engine.afterFlush(()=>{const I=d.indexOf(m);I>=0&&d.splice(I,1),this._triggers[e]||delete C[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,s,o=!0){const d=this._getTrigger(e),m=new sk(this.id,e,t);let C=this._engine.statesByElement.get(t);C||(Ka(t,v1),Ka(t,v1+"-"+e),this._engine.statesByElement.set(t,C={}));let I=C[e];const F=new ik(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&I&&F.absorbOptions(I.options),C[e]=F,I||(I=rk),F.value!==Mw&&I.value===F.value){if(!function(i,t){const e=Object.keys(i),s=Object.keys(t);if(e.length!=s.length)return!1;for(let o=0;o<e.length;o++){const d=e[o];if(!t.hasOwnProperty(d)||i[d]!==t[d])return!1}return!0}(I.params,F.params)){const xe=[],Oe=d.matchStyles(I.value,I.params,xe),qe=d.matchStyles(F.value,F.params,xe);xe.length?this._engine.reportError(xe):this._engine.afterFlush(()=>{um(t,Oe),su(t,qe)})}return}const te=G(this._engine.playersByElement,t,[]);te.forEach(xe=>{xe.namespaceId==this.id&&xe.triggerName==e&&xe.queued&&xe.destroy()});let oe=d.matchTransition(I.value,F.value,t,F.params),ue=!1;if(!oe){if(!o)return;oe=d.fallbackTransition,ue=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:oe,fromState:I,toState:F,player:m,isFallbackTransition:ue}),ue||(Ka(t,bP),m.onStart(()=>{y_(t,bP)})),m.onDone(()=>{let xe=this.players.indexOf(m);xe>=0&&this.players.splice(xe,1);const Oe=this._engine.playersByElement.get(t);if(Oe){let qe=Oe.indexOf(m);qe>=0&&Oe.splice(qe,1)}}),this.players.push(m),te.push(m),m}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,y1,!0);s.forEach(o=>{if(o[Qa])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,s,o){const d=this._engine.statesByElement.get(t);if(d){const m=[];if(Object.keys(d).forEach(C=>{if(this._triggers[C]){const I=this.trigger(t,C,Mw,o);I&&m.push(I)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),s&&b(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const o=new Set;e.forEach(d=>{const m=d.name;if(o.has(m))return;o.add(m);const I=this._triggers[m].fallbackTransition,F=s[m]||rk,z=new ik(Mw),X=new sk(this.id,m,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:m,transition:I,fromState:F,toState:z,player:X,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(t):[];if(d&&d.length)o=!0;else{let m=t;for(;m=m.parentNode;)if(s.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)s.markElementAsRemoved(this.id,t,!1,e);else{const d=t[Qa];(!d||d===CP)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Ka(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const d=s.element,m=this._elementListeners.get(d);m&&m.forEach(C=>{if(C.name==s.triggerName){const I=B(d,s.triggerName,s.fromState.value,s.toState.value);I._data=t,M(s.player,C.phase,I,C.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(s)}),this._queue=[],e.sort((s,o)=>{const d=s.transition.ast.depCount,m=o.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class rV{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new iV(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,e)){this._namespaceList.splice(d+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let o=this._namespaceLookup[t];o&&o.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const o=Object.keys(s);for(let d=0;d<o.length;d++){const m=s[o[d]].namespaceId;if(m){const C=this._fetchNamespace(m);C&&e.add(C)}}}return e}trigger(t,e,s,o){if(I1(e)){const d=this._fetchNamespace(t);if(d)return d.trigger(e,s,o),!0}return!1}insertNode(t,e,s,o){if(!I1(e))return;const d=e[Qa];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(t){const m=this._fetchNamespace(t);m&&m.insertNode(e,s)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ka(t,xP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),y_(t,xP))}removeNode(t,e,s,o){if(I1(e)){const d=t?this._fetchNamespace(t):null;if(d?d.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),s){const m=this.namespacesByHostElement.get(e);m&&m.id!==t&&m.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,s,o){this.collectedLeaveElements.push(e),e[Qa]={namespaceId:t,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(t,e,s,o,d){return I1(e)?this._fetchNamespace(t).listen(e,s,o,d):()=>{}}_buildInstruction(t,e,s,o,d){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,o,t.fromState.options,t.toState.options,e,d)}destroyInnerAnimations(t){let e=this.driver.query(t,y1,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YM,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return b(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qa];if(e&&e.setForRemoval){if(t[Qa]=CP,e.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,wP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,wP,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ka(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?b(e).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const s=new A1,o=[],d=new Map,m=[],C=new Map,I=new Map,F=new Map,z=new Set;this.disabledNodes.forEach(Vt=>{z.add(Vt);const Xt=this.driver.query(Vt,".ng-animate-queued",!0);for(let cn=0;cn<Xt.length;cn++)z.add(Xt[cn])});const X=this.bodyNode,te=Array.from(this.statesByElement.keys()),oe=AP(te,this.collectedEnterElements),ue=new Map;let xe=0;oe.forEach((Vt,Xt)=>{const cn=lm+xe++;ue.set(Xt,cn),Vt.forEach(Vn=>Ka(Vn,cn))});const Oe=[],qe=new Set,ot=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const Xt=this.collectedLeaveElements[Vt],cn=Xt[Qa];cn&&cn.setForRemoval&&(Oe.push(Xt),qe.add(Xt),cn.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(Vn=>qe.add(Vn)):ot.add(Xt))}const at=new Map,Et=AP(te,Array.from(qe));Et.forEach((Vt,Xt)=>{const cn=m1+xe++;at.set(Xt,cn),Vt.forEach(Vn=>Ka(Vn,cn))}),t.push(()=>{oe.forEach((Vt,Xt)=>{const cn=ue.get(Xt);Vt.forEach(Vn=>y_(Vn,cn))}),Et.forEach((Vt,Xt)=>{const cn=at.get(Xt);Vt.forEach(Vn=>y_(Vn,cn))}),Oe.forEach(Vt=>{this.processLeaveNode(Vt)})});const Ot=[],hn=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(e).forEach(cn=>{const Vn=cn.player,Qr=cn.element;if(Ot.push(Vn),this.collectedEnterElements.length){const lu=Qr[Qa];if(lu&&lu.setForMove)return void Vn.destroy()}const au=!X||!this.driver.containsElement(X,Qr),fa=at.get(Qr),qf=ue.get(Qr),Ki=this._buildInstruction(cn,s,qf,fa,au);if(Ki.errors&&Ki.errors.length)hn.push(Ki);else{if(au)return Vn.onStart(()=>um(Qr,Ki.fromStyles)),Vn.onDestroy(()=>su(Qr,Ki.toStyles)),void o.push(Vn);if(cn.isFallbackTransition)return Vn.onStart(()=>um(Qr,Ki.fromStyles)),Vn.onDestroy(()=>su(Qr,Ki.toStyles)),void o.push(Vn);Ki.timelines.forEach(lu=>lu.stretchStartingKeyframe=!0),s.append(Qr,Ki.timelines),m.push({instruction:Ki,player:Vn,element:Qr}),Ki.queriedElements.forEach(lu=>G(C,lu,[]).push(Vn)),Ki.preStyleProps.forEach((lu,Jw)=>{const _T=Object.keys(lu);if(_T.length){let _m=I.get(Jw);_m||I.set(Jw,_m=new Set),_T.forEach(_R=>_m.add(_R))}}),Ki.postStyleProps.forEach((lu,Jw)=>{const _T=Object.keys(lu);let _m=F.get(Jw);_m||F.set(Jw,_m=new Set),_T.forEach(_R=>_m.add(_R))})}});if(hn.length){const Vt=[];hn.forEach(Xt=>{Vt.push(`@${Xt.triggerName} has failed due to:\n`),Xt.errors.forEach(cn=>Vt.push(`- ${cn}\n`))}),Ot.forEach(Xt=>Xt.destroy()),this.reportError(Vt)}const Ln=new Map,da=new Map;m.forEach(Vt=>{const Xt=Vt.element;s.has(Xt)&&(da.set(Xt,Xt),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,Ln))}),o.forEach(Vt=>{const Xt=Vt.element;this._getPreviousPlayers(Xt,!1,Vt.namespaceId,Vt.triggerName,null).forEach(Vn=>{G(Ln,Xt,[]).push(Vn),Vn.destroy()})});const io=Oe.filter(Vt=>DP(Vt,I,F)),el=new Map;EP(el,this.driver,ot,F,Vl).forEach(Vt=>{DP(Vt,I,F)&&io.push(Vt)});const Kw=new Map;oe.forEach((Vt,Xt)=>{EP(Kw,this.driver,new Set(Vt),I,"!")}),io.forEach(Vt=>{const Xt=el.get(Vt),cn=Kw.get(Vt);el.set(Vt,Object.assign(Object.assign({},Xt),cn))});const ym=[],WL=[],qL={};m.forEach(Vt=>{const{element:Xt,player:cn,instruction:Vn}=Vt;if(s.has(Xt)){if(z.has(Xt))return cn.onDestroy(()=>su(Xt,Vn.toStyles)),cn.disabled=!0,cn.overrideTotalTime(Vn.totalTime),void o.push(cn);let Qr=qL;if(da.size>1){let fa=Xt;const qf=[];for(;fa=fa.parentNode;){const Ki=da.get(fa);if(Ki){Qr=Ki;break}qf.push(fa)}qf.forEach(Ki=>da.set(Ki,Qr))}const au=this._buildAnimation(cn.namespaceId,Vn,Ln,d,Kw,el);if(cn.setRealPlayer(au),Qr===qL)ym.push(cn);else{const fa=this.playersByElement.get(Qr);fa&&fa.length&&(cn.parentPlayer=b(fa)),o.push(cn)}}else um(Xt,Vn.fromStyles),cn.onDestroy(()=>su(Xt,Vn.toStyles)),WL.push(cn),z.has(Xt)&&o.push(cn)}),WL.forEach(Vt=>{const Xt=d.get(Vt.element);if(Xt&&Xt.length){const cn=b(Xt);Vt.setRealPlayer(cn)}}),o.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<Oe.length;Vt++){const Xt=Oe[Vt],cn=Xt[Qa];if(y_(Xt,m1),cn&&cn.hasAnimation)continue;let Vn=[];if(C.size){let au=C.get(Xt);au&&au.length&&Vn.push(...au);let fa=this.driver.query(Xt,YM,!0);for(let qf=0;qf<fa.length;qf++){let Ki=C.get(fa[qf]);Ki&&Ki.length&&Vn.push(...Ki)}}const Qr=Vn.filter(au=>!au.destroyed);Qr.length?lV(this,Xt,Qr):this.processLeaveNode(Xt)}return Oe.length=0,ym.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const Xt=this.players.indexOf(Vt);this.players.splice(Xt,1)}),Vt.play()}),ym}elementContainsData(t,e){let s=!1;const o=e[Qa];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,o,d){let m=[];if(e){const C=this.playersByQueriedElement.get(t);C&&(m=C)}else{const C=this.playersByElement.get(t);if(C){const I=!d||d==Mw;C.forEach(F=>{F.queued||!I&&F.triggerName!=o||m.push(F)})}}return(s||o)&&(m=m.filter(C=>!(s&&s!=C.namespaceId||o&&o!=C.triggerName))),m}_beforeAnimationBuild(t,e,s){const d=e.element,m=e.isRemovalTransition?void 0:t,C=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const F=I.element,z=F!==d,X=G(s,F,[]);this._getPreviousPlayers(F,z,m,C,e.toState).forEach(oe=>{const ue=oe.getRealPlayer();ue.beforeDestroy&&ue.beforeDestroy(),oe.destroy(),X.push(oe)})}um(d,e.fromStyles)}_buildAnimation(t,e,s,o,d,m){const C=e.triggerName,I=e.element,F=[],z=new Set,X=new Set,te=e.timelines.map(ue=>{const xe=ue.element;z.add(xe);const Oe=xe[Qa];if(Oe&&Oe.removedBeforeQueried)return new am(ue.duration,ue.delay);const qe=xe!==I,ot=function(i){const t=[];return TP(i,t),t}((s.get(xe)||tV).map(Ln=>Ln.getRealPlayer())).filter(Ln=>!!Ln.element&&Ln.element===xe),at=d.get(xe),Et=m.get(xe),Ot=E(0,this._normalizer,0,ue.keyframes,at,Et),hn=this._buildPlayer(ue,Ot,ot);if(ue.subTimeline&&o&&X.add(xe),qe){const Ln=new sk(t,C,xe);Ln.setRealPlayer(hn),F.push(Ln)}return hn});F.forEach(ue=>{G(this.playersByQueriedElement,ue.element,[]).push(ue),ue.onDone(()=>function(i,t,e){let s;if(i instanceof Map){if(s=i.get(t),s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&i.delete(t)}}else if(s=i[t],s){if(s.length){const o=s.indexOf(e);s.splice(o,1)}0==s.length&&delete i[t]}return s}(this.playersByQueriedElement,ue.element,ue))}),z.forEach(ue=>Ka(ue,oP));const oe=b(te);return oe.onDestroy(()=>{z.forEach(ue=>y_(ue,oP)),su(I,e.toStyles)}),X.forEach(ue=>{G(o,ue,[]).push(oe)}),oe}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new am(t.duration,t.delay)}}class sk{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new am,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>M(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){G(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function I1(i){return i&&1===i.nodeType}function SP(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function EP(i,t,e,s,o){const d=[];e.forEach(I=>d.push(SP(I)));const m=[];s.forEach((I,F)=>{const z={};I.forEach(X=>{const te=z[X]=t.computeStyle(F,X,o);(!te||0==te.length)&&(F[Qa]=nV,m.push(F))}),i.set(F,z)});let C=0;return e.forEach(I=>SP(I,d[C++])),m}function AP(i,t){const e=new Map;if(i.forEach(C=>e.set(C,[])),0==t.length)return e;const o=new Set(t),d=new Map;function m(C){if(!C)return 1;let I=d.get(C);if(I)return I;const F=C.parentNode;return I=e.has(F)?F:o.has(F)?1:m(F),d.set(C,I),I}return t.forEach(C=>{const I=m(C);1!==I&&e.get(I).push(C)}),e}const M1="$$classes";function Ka(i,t){if(i.classList)i.classList.add(t);else{let e=i[M1];e||(e=i[M1]={}),e[t]=!0}}function y_(i,t){if(i.classList)i.classList.remove(t);else{let e=i[M1];e&&delete e[t]}}function lV(i,t,e){b(e).onDone(()=>i.processLeaveNode(t))}function TP(i,t){for(let e=0;e<i.length;e++){const s=i[e];s instanceof a?TP(s.players,t):t.push(s)}}function DP(i,t,e){const s=e.get(i);if(!s)return!1;let o=t.get(i);return o?s.forEach(d=>o.add(d)):t.set(i,s),e.delete(i),!0}class k1{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new rV(t,e,s),this._timelineEngine=new Q2(t,e,s),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(t,e,s,o,d){const m=t+"-"+o;let C=this._triggerCache[m];if(!C){const I=[],F=ZM(this._driver,d,I);if(I.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${I.join("\n - ")}`);C=function(i,t,e){return new X2(i,t,e)}(o,F,this._normalizer),this._triggerCache[m]=C}this._transitionEngine.registerTrigger(e,o,C)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,o){this._transitionEngine.insertNode(t,e,s,o)}onRemove(t,e,s,o){this._transitionEngine.removeNode(t,e,o||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,o){if("@"==s.charAt(0)){const[d,m]=Q(s);this._timelineEngine.command(d,e,m,o)}else this._transitionEngine.trigger(t,e,s,o)}listen(t,e,s,o,d){if("@"==s.charAt(0)){const[m,C]=Q(s);return this._timelineEngine.listen(m,e,C,d)}return this._transitionEngine.listen(t,e,s,o,d)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function IP(i,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=ok(t[0]),t.length>1&&(s=ok(t[t.length-1]))):t&&(e=ok(t)),e||s?new __(i,e,s):null}class __{constructor(t,e,s){this._element=t,this._startStyles=e,this._endStyles=s,this._state=0;let o=__.initialStylesByElement.get(t);o||__.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(__.initialStylesByElement.delete(this._element),this._startStyles&&(um(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(um(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}function ok(i){let t=null;const e=Object.keys(i);for(let s=0;s<e.length;s++){const o=e[s];hV(o)&&(t=t||{},t[o]=i[o])}return t}function hV(i){return"display"===i||"position"===i}__.initialStylesByElement=new WeakMap;const MP="animation",kP="animationend";class pV{constructor(t,e,s,o,d,m,C){this._element=t,this._name=e,this._duration=s,this._delay=o,this._easing=d,this._fillMode=m,this._onDoneFn=C,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=I=>this._handleCallback(I)}apply(){(function(i,t){const e=lk(i,"").trim();let s=0;e.length&&(function(i,t){let e=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&e++;return e}(e)+1,t=`${e}, ${t}`),R1(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),PP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){RP(this._element,this._name,"paused")}resume(){RP(this._element,this._name,"running")}setPosition(t){const e=OP(this._element,this._name);this._position=t*this._duration,R1(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),PP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const s=lk(i,"").split(","),o=ak(s,t);o>=0&&(s.splice(o,1),R1(i,"",s.join(",")))}(this._element,this._name))}}function RP(i,t,e){R1(i,"PlayState",e,OP(i,t))}function OP(i,t){const e=lk(i,"");return e.indexOf(",")>0?ak(e.split(","),t):ak([e],t)}function ak(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function PP(i,t,e){e?i.removeEventListener(kP,t):i.addEventListener(kP,t)}function R1(i,t,e,s){const o=MP+t;if(null!=s){const d=i.style[o];if(d.length){const m=d.split(",");m[s]=e,e=m.join(",")}}i.style[o]=e}function lk(i,t){return i.style[MP+t]||""}class NP{constructor(t,e,s,o,d,m,C,I){this.element=t,this.keyframes=e,this.animationName=s,this._duration=o,this._delay=d,this._finalStyles=C,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=o+d,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new pV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(t[s]=e?this._finalStyles[s]:$M(this.element,s))})}this.currentSnapshot=t}}class bV extends am{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Vh(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class LP{constructor(){this._count=0}validateStyleProperty(t){return vn(t)}matchesElement(t,e){return Ns(t,e)}containsElement(t,e){return Lh(t,e)}query(t,e,s){return ru(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,s){s=s.map(C=>Vh(C));let o=`@keyframes ${e} {\n`,d="";s.forEach(C=>{d=" ";const I=parseFloat(C.offset);o+=`${d}${100*I}% {\n`,d+=" ",Object.keys(C).forEach(F=>{const z=C[F];switch(F){case"offset":return;case"easing":return void(z&&(o+=`${d}animation-timing-function: ${z};\n`));default:return void(o+=`${d}${F}: ${z};\n`)}}),o+=`${d}}\n`}),o+="}\n";const m=document.createElement("style");return m.textContent=o,m}animate(t,e,s,o,d,m=[],C){const I=m.filter(Oe=>Oe instanceof NP),F={};hP(s,o)&&I.forEach(Oe=>{let qe=Oe.currentSnapshot;Object.keys(qe).forEach(ot=>F[ot]=qe[ot])});const z=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(t[o]=s[o])})}),t}(e=dP(t,e,F));if(0==s)return new bV(t,z);const X="gen_css_kf_"+this._count++,te=this.buildKeyframeElement(t,X,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(te);const ue=IP(t,e),xe=new NP(t,e,X,s,o,d,z,ue);return xe.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(te)),xe}}class BP{constructor(t,e,s,o){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:$M(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class EV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(HP().toString()),this._cssKeyframesDriver=new LP}validateStyleProperty(t){return vn(t)}matchesElement(t,e){return Ns(t,e)}containsElement(t,e){return Lh(t,e)}query(t,e,s){return ru(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,s,o,d,m=[],C){if(!C&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,s,o,d,m);const z={duration:s,delay:o,fill:0==o?"both":"forwards"};d&&(z.easing=d);const X={},te=m.filter(ue=>ue instanceof BP);hP(s,o)&&te.forEach(ue=>{let xe=ue.currentSnapshot;Object.keys(xe).forEach(Oe=>X[Oe]=xe[Oe])});const oe=IP(t,e=dP(t,e=e.map(ue=>Lf(ue,!1)),X));return new BP(t,e,z,oe)}}function HP(){return f()&&Element.prototype.animate||{}}let TV=(()=>{class i extends g_{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?jM(e):e;return UP(this._renderer,null,s,"register",[o]),new DV(s,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.FYo),c.LFG(Ve))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class DV extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new IV(this._id,t,e||{},this._renderer)}}class IV{constructor(t,e,s,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return UP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function UP(i,t,e,s,o){return i.setProperty(t,`@@${e}:${s}`,o)}const zP="@.disabled";let MV=(()=>{class i{constructor(e,s,o){this.delegate=e,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,m)=>{m&&m.parentNode(d)&&m.removeChild(d.parentNode,d)}}createRenderer(e,s){const d=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let z=this._rendererCache.get(d);return z||(z=new jP("",d,this.engine),this._rendererCache.set(d,z)),z}const m=s.id,C=s.id+"-"+this._currentId;this._currentId++,this.engine.register(C,e);const I=z=>{Array.isArray(z)?z.forEach(I):this.engine.registerTrigger(m,C,e,z.name,z)};return s.data.animation.forEach(I),new kV(this,C,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,o){e>=0&&e<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,C]=d;m(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.FYo),c.LFG(k1),c.LFG(c.R0b))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();class jP{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,o=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,o){this.delegate.setAttribute(t,e,s,o)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,o){this.delegate.setStyle(t,e,s,o)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==zP?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class kV extends jP{constructor(t,e,s,o){super(e,s,o),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==zP?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const o=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let d=e.substr(1),m="";return"@"!=d.charAt(0)&&([d,m]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(d)),this.engine.listen(this.namespaceId,o,d,m,C=>{this.factory.scheduleListenerCallback(C._data||-1,s,C)})}return this.delegate.listen(t,e,s)}}let PV=(()=>{class i extends k1{constructor(e,s,o){super(e.body,s,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve),c.LFG(Ff),c.LFG(tk))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const Bl=new c.OlP("AnimationModuleType"),GP=[{provide:g_,useClass:TV},{provide:tk,useFactory:function(){return new z2}},{provide:k1,useClass:PV},{provide:c.FYo,useFactory:function(i,t,e){return new MV(i,t,e)},deps:[oo,k1,c.R0b]}],YP=[{provide:Ff,useFactory:function(){return"function"==typeof HP()?new EV:new LP}},{provide:Bl,useValue:"BrowserAnimations"},...GP],WP=[{provide:Ff,useClass:Bh},{provide:Bl,useValue:"NoopAnimations"},...GP];let VV=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?WP:YP}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:YP,imports:[sp]}),i})();function UV(i,t){if(1&i&&c._UZ(0,"mat-pseudo-checkbox",4),2&i){const e=c.oxw();c.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function zV(i,t){if(1&i&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.hij("(",e.group.label,")")}}const jV=["*"];let GV=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),YV=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const qP=new c.GfV("11.2.13"),qV=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dm,qn=(()=>{class i{constructor(e,s,o){this._hasDoneGlobalChecks=!1,this._document=o,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,c.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const s=this._document.createElement("div");s.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(s);const o=getComputedStyle(s);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(s)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&qP.full!==iu.full&&console.warn("The Angular Material version ("+qP.full+") does not match the Angular CDK version ("+iu.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(ww),c.LFG(qV,8),c.LFG(Ve))},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Nf],Nf]}),i})();function b_(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=$n(t)}}}function kw(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function XP(i){return class extends i{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=$n(s)}}}function XV(i,t=0){return class extends i{constructor(...o){super(...o),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(o){this._tabIndex=null!=o?Er(o):this.defaultTabIndex}}}function $P(i){return class extends i{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Lt.xQ}updateErrorState(){const t=this.errorState,d=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);d!==t&&(this.errorState=d,this.stateChanges.next())}}}function ZP(i){return class extends i{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ci.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{dm="undefined"!=typeof Intl}catch(i){dm=!1}let ck=(()=>{class i{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();class oB{constructor(t,e,s){this._renderer=t,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const KP={enterDuration:450,exitDuration:400},uk=dw({passive:!0}),JP=["mousedown","touchstart"],eN=["mouseup","mouseleave","touchend","touchcancel"];class lB{constructor(t,e,s,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=eu(s))}fadeInRipple(t,e,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d=Object.assign(Object.assign({},KP),s.animation);s.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const m=s.radius||function(i,t,e){const s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(s*s+o*o)}(t,e,o),C=t-o.left,I=e-o.top,F=d.enterDuration,z=document.createElement("div");z.classList.add("mat-ripple-element"),z.style.left=C-m+"px",z.style.top=I-m+"px",z.style.height=2*m+"px",z.style.width=2*m+"px",null!=s.color&&(z.style.backgroundColor=s.color),z.style.transitionDuration=`${F}ms`,this._containerElement.appendChild(z),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(z),z.style.transform="scale(1)";const X=new oB(this,z,s);return X.state=0,this._activeRipples.add(X),s.persistent||(this._mostRecentTransientRipple=X),this._runTimeoutOutsideZone(()=>{const te=X===this._mostRecentTransientRipple;X.state=1,!s.persistent&&(!te||!this._isPointerDown)&&X.fadeOut()},F),X}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=t.element,o=Object.assign(Object.assign({},KP),t.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=eu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(JP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(eN),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=c1(t),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!u1(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,uk)})})}_removeTriggerEvents(){this._triggerElement&&(JP.forEach(t=>{this._triggerElement.removeEventListener(t,this,uk)}),this._pointerUpEventsRegistered&&eN.forEach(t=>{this._triggerElement.removeEventListener(t,this,uk)}))}}const hB=new c.OlP("mat-ripple-global-options");let Ow=(()=>{class i{constructor(e,s,o,d,m){this._elementRef=e,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new lB(this,s,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Gn),c.Y36(hB,8),c.Y36(Bl,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&c.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),hk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[qn,tm],qn]}),i})(),dB=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Bl,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,s){2&e&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),fB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[qn]]}),i})();const dk=new c.OlP("MAT_OPTION_PARENT_COMPONENT");class pB{}const gB=b_(pB);let mB=0,tN=(()=>{class i extends gB{constructor(e){var s;super(),this._labelId="mat-optgroup-label-"+mB++,this._inert=null!==(s=null==e?void 0:e.inertGroups)&&void 0!==s&&s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(dk,8))},i.\u0275dir=c.lG2({type:i,inputs:{label:"label"},features:[c.qOj]}),i})();const fk=new c.OlP("MatOptgroup");let vB=0;class yB{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let _B=(()=>{class i{constructor(e,s,o,d){this._element=e,this._changeDetectorRef=s,this._parent=o,this.group=d,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+vB++,this.onSelectionChange=new c.vpe,this._stateChanges=new Lt.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=$n(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,s){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Dr(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new yB(this,e))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(void 0),c.Y36(tN))},i.\u0275dir=c.lG2({type:i,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),nN=(()=>{class i extends _B{constructor(e,s,o,d){super(e,s,o,d)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(dk,8),c.Y36(fk,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(d){return s._handleKeydown(d)}),2&e&&(c.Ikx("id",s.id),c.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),c.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:jV,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,s){1&e&&(c.F$t(),c.YNc(0,UV,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,zV,2,1,"span",2),c._UZ(4,"div",3)),2&e&&(c.Q6J("ngIf",s.multiple),c.xp6(3),c.Q6J("ngIf",s.group&&s.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[Qe,Ow,dB],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function iN(i,t,e){if(e.length){let s=t.toArray(),o=e.toArray(),d=0;for(let m=0;m<i+1;m++)s[m].group&&s[m].group===o[d]&&d++;return d}return 0}let rN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[hk,Ni,qn,fB]]}),i})();const xB=["mat-sort-header",""];function wB(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){return c.CHM(e),c.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return c.CHM(e),c.oxw()._disableViewStateAnimation=!1}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6),c._UZ(4,"div",7),c._UZ(5,"div",8),c.qZA(),c.qZA()}if(2&i){const e=c.oxw();c.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",e._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",e._getArrowDirectionState())}}const CB=["*"],SB=new c.OlP("MAT_SORT_DEFAULT_OPTIONS");class EB{}const AB=ZP(b_(EB));let pk=(()=>{class i extends AB{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Lt.xQ,this.start="asc",this._direction="",this.sortChange=new c.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=$n(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var s,o,d;if(!e)return"";const m=null!==(o=null!==(s=null==e?void 0:e.disableClear)&&void 0!==s?s:this.disableClear)&&void 0!==o?o:!!(null===(d=this._defaultOptions)||void 0===d?void 0:d.disableClear);let C=function(i,t){let e=["asc","desc"];return"desc"==i&&e.reverse(),t||e.push(""),e}(e.start||this.start,m),I=C.indexOf(this.direction)+1;return I>=C.length&&(I=0),C[I]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(SB,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]}),i})();const Vf=YV.ENTERING+" "+GV.STANDARD_CURVE,x_={indicator:Zr("indicator",[ki("active-asc, asc",At({transform:"translateY(0px)"})),ki("active-desc, desc",At({transform:"translateY(10px)"})),ri("active-asc <=> active-desc",_i(Vf))]),leftPointer:Zr("leftPointer",[ki("active-asc, asc",At({transform:"rotate(-45deg)"})),ki("active-desc, desc",At({transform:"rotate(45deg)"})),ri("active-asc <=> active-desc",_i(Vf))]),rightPointer:Zr("rightPointer",[ki("active-asc, asc",At({transform:"rotate(45deg)"})),ki("active-desc, desc",At({transform:"rotate(-45deg)"})),ri("active-asc <=> active-desc",_i(Vf))]),arrowOpacity:Zr("arrowOpacity",[ki("desc-to-active, asc-to-active, active",At({opacity:1})),ki("desc-to-hint, asc-to-hint, hint",At({opacity:.54})),ki("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",At({opacity:0})),ri("* => asc, * => desc, * => active, * => hint, * => void",_i("0ms")),ri("* <=> *",_i(Vf))]),arrowPosition:Zr("arrowPosition",[ri("* => desc-to-hint, * => desc-to-active",_i(Vf,Fh([At({transform:"translateY(-25%)"}),At({transform:"translateY(0)"})]))),ri("* => hint-to-desc, * => active-to-desc",_i(Vf,Fh([At({transform:"translateY(0)"}),At({transform:"translateY(25%)"})]))),ri("* => asc-to-hint, * => asc-to-active",_i(Vf,Fh([At({transform:"translateY(25%)"}),At({transform:"translateY(0)"})]))),ri("* => hint-to-asc, * => active-to-asc",_i(Vf,Fh([At({transform:"translateY(0)"}),At({transform:"translateY(-25%)"})]))),ki("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",At({transform:"translateY(0)"})),ki("hint-to-desc, active-to-desc, desc",At({transform:"translateY(-25%)"})),ki("hint-to-asc, active-to-asc, asc",At({transform:"translateY(25%)"}))]),allowChildren:Zr("allowChildren",[ri("* <=> *",[g1("@*",p1(),{optional:!0})])])};let N1=(()=>{class i{constructor(){this.changes=new Lt.xQ,this.sortButtonLabel=e=>`Change sorting for ${e}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const IB={provide:N1,deps:[[new c.FiY,new c.tp0,N1]],useFactory:function(i){return i||new N1}};class MB{}const kB=b_(MB);let RB=(()=>{class i extends kB{constructor(e,s,o,d,m,C){super(),this._intl=e,this._changeDetectorRef=s,this._sort=o,this._columnDef=d,this._focusMonitor=m,this._elementRef=C,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._handleStateChanges()}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=$n(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const s=!!e;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_handleStateChanges(){this._rerenderSubscription=(0,ws.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(N1),c.Y36(c.sBO),c.Y36(pk,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(Fl),c.Y36(c.SBq))},i.\u0275cmp=c.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s._handleClick()})("keydown",function(d){return s._handleKeydown(d)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&e&&(c.uIk("aria-sort",s._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[c.qOj],attrs:xB,ngContentSelectors:CB,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,s){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,wB,6,6,"div",2),c.qZA()),2&e&&(c.ekj("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"==s.arrowPosition),c.uIk("tabindex",s._isDisabled()?null:0),c.xp6(3),c.Q6J("ngIf",s._renderArrow()))},directives:[Qe],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[x_.indicator,x_.leftPointer,x_.rightPointer,x_.arrowOpacity,x_.arrowPosition,x_.allowChildren]},changeDetection:0}),i})(),OB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[IB],imports:[[Ni,qn]]}),i})();const sN=["mat-button",""],oN=["*"],NB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class FB{constructor(t){this._elementRef=t}}const LB=kw(b_(XP(FB)));let F1=(()=>{class i extends LB{constructor(e,s,o){super(e),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const d of NB)this._hasHostAttributes(d)&&this._getHostElement().classList.add(d);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(Fl),c.Y36(Bl,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&c.Gf(Ow,5),2&e){let o;c.iGM(o=c.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(c.uIk("disabled",s.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:sN,ngContentSelectors:oN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),c.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Ow],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),gk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[hk,qn],qn]}),i})();var VB=ge(9105);function w_(i,t,e,s){return(0,VB.m)(e)&&(s=e,e=void 0),s?w_(i,t,e).pipe((0,Pt.U)(o=>(0,Ma.k)(o)?s(...o):s(o))):new ci.y(o=>{lN(i,t,function(m){o.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},o,e)})}function lN(i,t,e,s,o){let d;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const m=i;i.addEventListener(t,e,o),d=()=>m.removeEventListener(t,e,o)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const m=i;i.on(t,e),d=()=>m.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const m=i;i.addListener(t,e),d=()=>m.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let m=0,C=i.length;m<C;m++)lN(i[m],t,e,s,o)}s.add(d)}var zB=ge(6465),GB=ge(6102);new class extends GB.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,o=-1,d=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++o<d&&(t=e.shift()));if(this.active=!1,s){for(;++o<d&&(t=e.shift());)t.unsubscribe();throw s}}}(class extends zB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});ge(4581);class XB{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new $B(t,this.durationSelector))}}class $B extends _r.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:o}=this;e=o(t)}catch(o){return this.destination.error(o)}const s=(0,_r.ft)(e,new _r.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var cN=ge(6561);function QB(i){const{index:t,period:e,subscriber:s}=i;if(s.next(t),!s.closed){if(-1===e)return s.complete();i.index=t+1,this.schedule(i,e)}}function L1(i,t=Lo.P){return function(i){return function(e){return e.lift(new XB(i))}}(()=>function(i=0,t,e){let s=-1;return(0,cN.k)(t)?s=Number(t)<1?1:Number(t):(0,Fr.K)(t)&&(e=t),(0,Fr.K)(e)||(e=Lo.P),new ci.y(o=>{const d=(0,cN.k)(i)?i:+i-e.now();return e.schedule(QB,d,{index:0,period:s,subscriber:o})})}(i,t))}function hi(i){return t=>t.lift(new KB(i))}class KB{constructor(t){this.notifier=t}call(t,e){const s=new JB(t),o=(0,_r.ft)(this.notifier,new _r.IY(s));return o&&!s.seenValue?(s.add(o),e.subscribe(s)):s}}class JB extends _r.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function V1(i){return i&&"function"==typeof i.connect}class hN{applyChanges(t,e,s,o,d){t.forEachOperation((m,C,I)=>{let F,z;if(null==m.previousIndex){const X=s(m,C,I);F=e.createEmbeddedView(X.templateRef,X.context,X.index),z=1}else null==I?(e.remove(C),z=3):(F=e.get(C),e.move(F,I),z=2);d&&d({context:null==F?void 0:F.context,operation:z,record:m})})}detach(){}}class n3{constructor(t=!1,e,s=!0){this._multiple=t,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Lt.xQ,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Pw=new c.OlP("_ViewRepeater");let Nw=(()=>{class i{constructor(e,s,o){this._ngZone=e,this._platform=s,this._scrolled=new Lt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ci.y(s=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(L1(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Mt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const o=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(Si(d=>!d||o.indexOf(d)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((o,d)=>{this._scrollableContainsElement(d,e)&&s.push(d)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let o=eu(s),d=e.getElementRef().nativeElement;do{if(o==d)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>w_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.R0b),c.LFG(Gn),c.LFG(Ve,8))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(c.R0b),(0,c.LFG)(Gn),(0,c.LFG)(Ve,8))},token:i,providedIn:"root"}),i})(),fm=(()=>{class i{constructor(e,s,o){this._platform=e,this._change=new Lt.xQ,this._changeListener=d=>{this._change.next(d)},this._document=o,s.runOutsideAngular(()=>{if(e.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),o=e.documentElement,d=o.getBoundingClientRect();return{top:-d.top||e.body.scrollTop||s.scrollY||o.scrollTop||0,left:-d.left||e.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(L1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Gn),c.LFG(c.R0b),c.LFG(Ve,8))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Gn),(0,c.LFG)(c.R0b),(0,c.LFG)(Ve,8))},token:i,providedIn:"root"}),i})(),B1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})(),yk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Nf,tm,B1],Nf,B1]}),i})();class _k{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class C_ extends _k{constructor(t,e,s,o){super(),this.component=t,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=o}}class Fw extends _k{constructor(t,e,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class f3 extends _k{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class H1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof C_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Fw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof f3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class p3 extends H1{constructor(t,e,s,o,d){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=m=>{const C=m.element,I=this._document.createComment("dom-portal");C.parentNode.insertBefore(I,C),this.outletElement.appendChild(C),this._attachedPortal=m,super.setDisposeFn(()=>{I.parentNode&&I.parentNode.replaceChild(C,I)})},this._document=d}attachComponentPortal(t){const s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(s,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(t.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,s=e.createEmbeddedView(t.templateRef,t.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(s);-1!==o&&e.remove(o)}),this._attachedPortal=t,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let S_=(()=>{class i extends H1{constructor(e,s,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=d=>{const m=d.element,C=this._document.createComment("dom-portal");d.setAttachedHost(this),m.parentNode.insertBefore(C,m),this._getRootNode().appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(m,C)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,d=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),m=s.createComponent(d,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=e,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(Ve))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),i})(),bk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();class m3{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new v3(t,this.predicate,this.inclusive))}}class v3 extends tr.L{constructor(t,e,s){super(t),this.predicate=e,this.inclusive=s,this.index=0}_next(t){const e=this.destination;let s;try{s=this.predicate(t,this.index++)}catch(o){return void e.error(o)}this.nextOrComplete(t,s)}nextOrComplete(t,e){const s=this.destination;Boolean(e)?s.next(t):(this.inclusive&&s.next(t),s.complete())}}const mN=o_();class y3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Zi(-this._previousScrollPosition.left),t.style.top=Zi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,s=t.style,o=this._document.body.style,d=s.scrollBehavior||"",m=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),mN&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mN&&(s.scrollBehavior=d,o.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class _3{constructor(t,e,s,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vN{enable(){}disable(){}attach(){}}function xk(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function yN(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class b3{constructor(t,e,s,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();xk(e,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x3=(()=>{class i{constructor(e,s,o,d){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new vN,this.close=m=>new _3(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new y3(this._viewportRuler,this._document),this.reposition=m=>new b3(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=d}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Nw),c.LFG(fm),c.LFG(c.R0b),c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Nw),(0,c.LFG)(fm),(0,c.LFG)(c.R0b),(0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})();class U1{constructor(t){if(this.scrollStrategy=new vN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const s of e)void 0!==t[s]&&(this[s]=t[s])}}}class w3{constructor(t,e,s,o,d){this.offsetX=s,this.offsetY=o,this.panelClass=d,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class C3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _N=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})(),S3=(()=>{class i extends _N{constructor(e){super(e),this._keydownListener=s=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){o[d]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Ve))},token:i,providedIn:"root"}),i})(),E3=(()=>{class i extends _N{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const d=o.composedPath?o.composedPath()[0]:o.target,m=this._attachedOverlays.slice();for(let C=m.length-1;C>-1;C--){const I=m[C];if(!(I._outsidePointerEvents.observers.length<1)&&I.hasAttached()){if(I.overlayElement.contains(d))break;I._outsidePointerEvents.next(o)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve),c.LFG(Gn))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Ve),(0,c.LFG)(Gn))},token:i,providedIn:"root"}),i})();const bN=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Lw=(()=>{class i{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bN){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let d=0;d<o.length;d++)o[d].parentNode.removeChild(o[d])}const s=this._document.createElement("div");s.classList.add(e),bN?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ve),c.LFG(Gn))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Ve),(0,c.LFG)(Gn))},token:i,providedIn:"root"}),i})();class A3{constructor(t,e,s,o,d,m,C,I,F){this._portalOutlet=t,this._host=e,this._pane=s,this._config=o,this._ngZone=d,this._keyboardDispatcher=m,this._document=C,this._location=I,this._outsideClickDispatcher=F,this._backdropElement=null,this._backdropClick=new Lt.xQ,this._attachments=new Lt.xQ,this._detachments=new Lt.xQ,this._locationChanges=Cs.w.EMPTY,this._backdropClickHandler=z=>this._backdropClick.next(z),this._keydownEvents=new Lt.xQ,this._outsidePointerEvents=new Lt.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Un(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Zi(this._config.width),t.height=Zi(this._config.height),t.minWidth=Zi(this._config.minWidth),t.minHeight=Zi(this._config.minHeight),t.maxWidth=Zi(this._config.maxWidth),t.maxHeight=Zi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,s=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",s),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",s)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(t,e,s){const o=t.classList;Nh(e).forEach(d=>{d&&(s?o.add(d):o.remove(d))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(hi((0,ws.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const xN="cdk-overlay-connected-position-bounding-box",T3=/([A-Za-z%]+)$/;class wN{constructor(t,e,s,o,d){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt.xQ,this._resizeSubscription=Cs.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(xN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,s=this._viewportRect,o=[];let d;for(let m of this._preferredPositions){let C=this._getOriginPoint(t,m),I=this._getOverlayPoint(C,e,m),F=this._getOverlayFit(I,e,s,m);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,C);this._canFitWithFlexibleDimensions(F,I,s)?o.push({position:m,origin:C,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(C,m)}):(!d||d.overlayFit.visibleArea<F.visibleArea)&&(d={overlayFit:F,overlayPoint:I,originPoint:C,position:m,overlayRect:e})}if(o.length){let m=null,C=-1;for(const I of o){const F=I.boundingBoxRect.width*I.boundingBoxRect.height*(I.position.weight||1);F>C&&(C=F,m=I)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let s,o;if("center"==e.originX)s=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;s="start"==e.originX?d:m}return o="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:s,y:o}}_getOverlayPoint(t,e,s){let o,d;return o="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,d="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:t.x+o,y:t.y+d}}_getOverlayFit(t,e,s,o){const d=SN(e);let{x:m,y:C}=t,I=this._getOffset(o,"x"),F=this._getOffset(o,"y");I&&(m+=I),F&&(C+=F);let te=0-C,oe=C+d.height-s.height,ue=this._subtractOverflows(d.width,0-m,m+d.width-s.width),xe=this._subtractOverflows(d.height,te,oe),Oe=ue*xe;return{visibleArea:Oe,isCompletelyWithinViewport:d.width*d.height===Oe,fitsInViewportVertically:xe===d.height,fitsInViewportHorizontally:ue==d.width}}_canFitWithFlexibleDimensions(t,e,s){if(this._hasFlexibleDimensions){const o=s.bottom-e.y,d=s.right-e.x,m=CN(this._overlayRef.getConfig().minHeight),C=CN(this._overlayRef.getConfig().minWidth),F=t.fitsInViewportHorizontally||null!=C&&C<=d;return(t.fitsInViewportVertically||null!=m&&m<=o)&&F}return!1}_pushOverlayOnScreen(t,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=SN(e),d=this._viewportRect,m=Math.max(t.x+o.width-d.width,0),C=Math.max(t.y+o.height-d.height,0),I=Math.max(d.top-s.top-t.y,0),F=Math.max(d.left-s.left-t.x,0);let z=0,X=0;return z=o.width<=d.width?F||-m:t.x<this._viewportMargin?d.left-s.left-t.x:0,X=o.height<=d.height?I||-C:t.y<this._viewportMargin?d.top-s.top-t.y:0,this._previousPushAmount={x:z,y:X},{x:t.x+z,y:t.y+X}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new C3(t,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=t.overlayY;s="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let d=0;d<e.length;d++)e[d].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(t,e){const s=this._viewportRect,o=this._isRtl();let d,m,C,z,X,te;if("top"===e.overlayY)m=t.y,d=s.height-m+this._viewportMargin;else if("bottom"===e.overlayY)C=s.height-t.y+2*this._viewportMargin,d=s.height-C+this._viewportMargin;else{const oe=Math.min(s.bottom-t.y+s.top,t.y),ue=this._lastBoundingBoxSize.height;d=2*oe,m=t.y-oe,d>ue&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.y-ue/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)te=s.width-t.x+this._viewportMargin,z=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)X=t.x,z=s.right-t.x;else{const oe=Math.min(s.right-t.x+s.left,t.x),ue=this._lastBoundingBoxSize.width;z=2*oe,X=t.x-oe,z>ue&&!this._isInitialRender&&!this._growAfterOpen&&(X=t.x-ue/2)}return{top:m,left:X,bottom:C,right:te,width:z,height:d}}_setBoundingBoxStyles(t,e){const s=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;o.height=Zi(s.height),o.top=Zi(s.top),o.bottom=Zi(s.bottom),o.width=Zi(s.width),o.left=Zi(s.left),o.right=Zi(s.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",d&&(o.maxHeight=Zi(d)),m&&(o.maxWidth=Zi(m))}this._lastBoundingBoxSize=s,pm(this._boundingBox.style,o)}_resetBoundingBoxStyles(){pm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const s={},o=this._hasExactPosition(),d=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(o){const z=this._viewportRuler.getViewportScrollPosition();pm(s,this._getExactOverlayY(e,t,z)),pm(s,this._getExactOverlayX(e,t,z))}else s.position="static";let C="",I=this._getOffset(e,"x"),F=this._getOffset(e,"y");I&&(C+=`translateX(${I}px) `),F&&(C+=`translateY(${F}px)`),s.transform=C.trim(),m.maxHeight&&(o?s.maxHeight=Zi(m.maxHeight):d&&(s.maxHeight="")),m.maxWidth&&(o?s.maxWidth=Zi(m.maxWidth):d&&(s.maxWidth="")),pm(this._pane.style,s)}_getExactOverlayY(t,e,s){let o={top:"",bottom:""},d=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return d.y-=m,"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":o.top=Zi(d.y),o}_getExactOverlayX(t,e,s){let m,o={left:"",right:""},d=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s)),m=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===m?o.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":o.left=Zi(d.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yN(t,s),isOriginOutsideView:xk(t,s),isOverlayClipped:yN(e,s),isOverlayOutsideView:xk(e,s)}}_subtractOverflows(t,...e){return e.reduce((s,o)=>s-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+t-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Nh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,s=t.height||0;return{top:t.y,bottom:t.y+s,left:t.x,right:t.x+e,height:s,width:e}}}function pm(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function CN(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(T3);return e&&"px"!==e?null:parseFloat(t)}return i||null}function SN(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class D3{constructor(t,e,s,o,d,m,C){this._preferredPositions=[],this._positionStrategy=new wN(s,o,d,m,C).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,s,o){const d=new w3(t,e,s,o);return this._preferredPositions.push(d),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const EN="cdk-global-overlay-wrapper";class I3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(EN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:d,maxWidth:m,maxHeight:C}=s,I=!("100%"!==o&&"100vw"!==o||m&&"100%"!==m&&"100vw"!==m),F=!("100%"!==d&&"100vh"!==d||C&&"100%"!==C&&"100vh"!==C);t.position=this._cssPosition,t.marginLeft=I?"0":this._leftOffset,t.marginTop=F?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,I?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=F?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(EN),s.justifyContent=s.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let M3=(()=>{class i{constructor(e,s,o,d){this._viewportRuler=e,this._document=s,this._platform=o,this._overlayContainer=d}global(){return new I3}connectedTo(e,s,o){return new D3(s,o,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new wN(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(fm),c.LFG(Ve),c.LFG(Gn),c.LFG(Lw))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(fm),(0,c.LFG)(Ve),(0,c.LFG)(Gn),(0,c.LFG)(Lw))},token:i,providedIn:"root"}),i})(),k3=0,Hl=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z,X,te){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=d,this._keyboardDispatcher=m,this._injector=C,this._ngZone=I,this._document=F,this._directionality=z,this._location=X,this._outsideClickDispatcher=te}create(e){const s=this._createHostElement(),o=this._createPaneElement(s),d=this._createPortalOutlet(o),m=new U1(e);return m.direction=m.direction||this._directionality.value,new A3(d,s,o,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+k3++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new p3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(x3),c.LFG(Lw),c.LFG(c._Vd),c.LFG(M3),c.LFG(S3),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Ve),c.LFG(ua),c.LFG(vt),c.LFG(E3))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})();const R3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],AN=new c.OlP("cdk-connected-overlay-scroll-strategy");let O3=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),TN=(()=>{class i{constructor(e,s,o,d,m){this._overlay=e,this._dir=m,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Cs.w.EMPTY,this._attachSubscription=Cs.w.EMPTY,this._detachSubscription=Cs.w.EMPTY,this._positionSubscription=Cs.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new Fw(s,o),this._scrollStrategyFactory=d,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=$n(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=$n(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=$n(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=$n(e)}get push(){return this._push}set push(e){this._push=$n(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=R3);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!Dr(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new U1({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,t=!1){return e=>e.lift(new m3(i,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hl),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(AN),c.Y36(ua,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),i})();const N3={provide:AN,deps:[Hl],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let z1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[Hl,N3],imports:[[Nf,bk,yk],yk]}),i})();const F3=["underline"],L3=["connectionContainer"],V3=["inputContainer"],B3=["label"];function H3(i,t){1&i&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15),c._UZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15),c._UZ(7,"div",16),c._UZ(8,"div",17),c.qZA(),c.BQk())}function U3(i,t){1&i&&(c.TgZ(0,"div",19),c.Hsn(1,1),c.qZA())}function z3(i,t){if(1&i&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&i){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function j3(i,t){1&i&&c.Hsn(0,3,["*ngSwitchCase","true"])}function G3(i,t){1&i&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function Y3(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.YNc(2,z3,4,1,"ng-container",12),c.YNc(3,j3,1,0,"ng-content",12),c.YNc(4,G3,2,0,"span",22),c.qZA()}if(2&i){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function W3(i,t){1&i&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function q3(i,t){if(1&i&&(c.TgZ(0,"div",25,26),c._UZ(2,"span",27),c.qZA()),2&i){const e=c.oxw();c.xp6(2),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function X3(i,t){if(1&i&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function $3(i,t){if(1&i&&(c.TgZ(0,"div",31),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function Z3(i,t){if(1&i&&(c.TgZ(0,"div",28),c.YNc(1,$3,2,2,"div",29),c.Hsn(2,6),c._UZ(3,"div",30),c.Hsn(4,7),c.qZA()),2&i){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const Q3=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],K3=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],DN=new c.OlP("MatError"),eH={transitionMessages:Zr("transitionMessages",[ki("enter",At({opacity:1,transform:"translateY(0%)"})),ri("void => enter",[At({opacity:0,transform:"translateY(-5px)"}),_i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let j1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i}),i})();const IN=new c.OlP("MatHint");let wk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["mat-label"]]}),i})(),nH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const MN=new c.OlP("MatPrefix"),kN=new c.OlP("MatSuffix");let RN=0;class rH{constructor(t){this._elementRef=t}}const sH=kw(rH,"primary"),oH=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ck=new c.OlP("MatFormField");let PN=(()=>{class i extends sH{constructor(e,s,o,d,m,C,I,F){super(e),this._elementRef=e,this._changeDetectorRef=s,this._dir=d,this._defaults=m,this._platform=C,this._ngZone=I,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+RN++,this._labelId="mat-form-field-label-"+RN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==F,this.appearance=m&&m.appearance?m.appearance:"legacy",this._hideRequiredMarker=!(!m||null==m.hideRequiredMarker)&&m.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=$n(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ts(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(hi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ws.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ts(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ts(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,w_(this._label.nativeElement,"transitionend").pipe(Un(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(d=>"start"===d.align):null,o=this._hintChildren?this._hintChildren.find(d=>"end"===d.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const d=this._connectionContainerRef.nativeElement,m=d.querySelectorAll(".mat-form-field-outline-start"),C=d.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const I=d.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const F=this._getStartEnd(I),z=e.children,X=this._getStartEnd(z[0].getBoundingClientRect());let te=0;for(let oe=0;oe<z.length;oe++)te+=z[oe].offsetWidth;s=Math.abs(X-F)-5,o=te>0?.75*te+10:0}for(let I=0;I<m.length;I++)m[I].style.width=`${s}px`;for(let I=0;I<C.length;I++)C[I].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(ua,8),c.Y36(oH,8),c.Y36(Gn),c.Y36(c.R0b),c.Y36(Bl,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,j1,5),c.Suo(o,j1,7),c.Suo(o,wk,5),c.Suo(o,wk,7),c.Suo(o,nH,5),c.Suo(o,DN,5),c.Suo(o,IN,5),c.Suo(o,MN,5),c.Suo(o,kN,5)),2&e){let d;c.iGM(d=c.CRH())&&(s._controlNonStatic=d.first),c.iGM(d=c.CRH())&&(s._controlStatic=d.first),c.iGM(d=c.CRH())&&(s._labelChildNonStatic=d.first),c.iGM(d=c.CRH())&&(s._labelChildStatic=d.first),c.iGM(d=c.CRH())&&(s._placeholderChild=d.first),c.iGM(d=c.CRH())&&(s._errorChildren=d),c.iGM(d=c.CRH())&&(s._hintChildren=d),c.iGM(d=c.CRH())&&(s._prefixChildren=d),c.iGM(d=c.CRH())&&(s._suffixChildren=d)}},viewQuery:function(e,s){if(1&e&&(c.Gf(F3,5),c.Gf(L3,7),c.Gf(V3,5),c.Gf(B3,5)),2&e){let o;c.iGM(o=c.CRH())&&(s.underlineRef=o.first),c.iGM(o=c.CRH())&&(s._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(s._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Ck,useExisting:i}]),c.qOj],ngContentSelectors:K3,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(c.F$t(Q3),c.TgZ(0,"div",0),c.TgZ(1,"div",1,2),c.NdJ("click",function(d){return s._control.onContainerClick&&s._control.onContainerClick(d)}),c.YNc(3,H3,9,0,"ng-container",3),c.YNc(4,U3,2,0,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,Y3,5,16,"label",8),c.qZA(),c.qZA(),c.YNc(10,W3,2,0,"div",9),c.qZA(),c.YNc(11,q3,3,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,X3,2,1,"div",12),c.YNc(14,Z3,5,2,"div",13),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==s.appearance),c.xp6(1),c.Q6J("ngIf",s._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",s._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",s._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=s.appearance),c.xp6(1),c.Q6J("ngSwitch",s._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Qe,un,St,TM],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[eH.transitionMessages]},changeDetection:0}),i})(),G1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,qn,Mo],qn]}),i})();var aH=ge(1555);function Y1(i,t){return new ci.y(e=>{const s=i.length;if(0===s)return void e.complete();const o=new Array(s);let d=0,m=0;for(let C=0;C<s;C++){const I=(0,ei.D)(i[C]);let F=!1;e.add(I.subscribe({next:z=>{F||(F=!0,m++),o[C]=z},error:z=>e.error(z),complete:()=>{d++,(d===s||!F)&&(m===s&&e.next(t?t.reduce((z,X,te)=>(z[X]=o[te],z),{}):o),e.complete())}}))}})}let FN=(()=>{class i{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Qsj),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i}),i})(),gm=(()=>{class i extends FN{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,features:[c.qOj]}),i})();const Ul=new c.OlP("NgValueAccessor"),cH={provide:Ul,useExisting:(0,c.Gpc)(()=>E_),multi:!0},hH=new c.OlP("CompositionEventMode");let E_=(()=>{class i extends FN{constructor(e,s,o){super(e,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=K()?K().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(hH,8))},i.\u0275dir=c.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([cH]),c.qOj]}),i})();function Bf(i){return null==i||0===i.length}function VN(i){return null!=i&&"number"==typeof i.length}const Fs=new c.OlP("NgValidators"),Hf=new c.OlP("NgAsyncValidators"),dH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class di{static min(t){return function(i){return t=>{if(Bf(t.value)||Bf(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function(i){return t=>{if(Bf(t.value)||Bf(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return UN(t)}static requiredTrue(t){return function(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function(i){return Bf(i.value)||dH.test(i.value)?null:{email:!0}}(t)}static minLength(t){return GN(t)}static maxLength(t){return function(i){return t=>VN(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(i){if(!i)return Uf;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),s=>{if(Bf(s.value))return null;const o=s.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return KN(t)}static composeAsync(t){return JN(t)}}function UN(i){return Bf(i.value)?{required:!0}:null}function GN(i){return t=>Bf(t.value)||!VN(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function Uf(i){return null}function qN(i){return null!=i}function XN(i){const t=(0,c.QGY)(i)?(0,ei.D)(i):i;return(0,c.CqO)(t),t}function $N(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ZN(i,t){return t.map(e=>e(i))}function QN(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function KN(i){if(!i)return null;const t=i.filter(qN);return 0==t.length?null:function(e){return $N(ZN(e,t))}}function Sk(i){return null!=i?KN(QN(i)):null}function JN(i){if(!i)return null;const t=i.filter(qN);return 0==t.length?null:function(e){return function(...i){if(1===i.length){const t=i[0];if((0,Ma.k)(t))return Y1(t,null);if((0,aH.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Y1(e.map(s=>t[s]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return Y1(i=1===i.length&&(0,Ma.k)(i[0])?i[0]:i,null).pipe((0,Pt.U)(e=>t(...e)))}return Y1(i,null)}(ZN(e,t).map(XN)).pipe((0,Pt.U)($N))}}function Ek(i){return null!=i?JN(QN(i)):null}function eF(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function tF(i){return i._rawValidators}function nF(i){return i._rawAsyncValidators}function Ak(i){return i?Array.isArray(i)?i:[i]:[]}function W1(i,t){return Array.isArray(i)?i.includes(t):i===t}function iF(i,t){const e=Ak(t);return Ak(i).forEach(o=>{W1(e,o)||e.push(o)}),e}function rF(i,t){return Ak(t).filter(e=>!W1(i,e))}let sF=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ek(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i}),i})(),no=(()=>{class i extends sF{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,features:[c.qOj]}),i})();class ou extends sF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oF{constructor(t){this._cd=t}is(t){var e,s,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[t])}}let q1=(()=>{class i extends oF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(ou,2))},i.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[c.qOj]}),i})(),X1=(()=>{class i extends oF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(no,10))},i.\u0275dir=c.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[c.qOj]}),i})();function Vw(i,t){Tk(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&aF(i,t)})}(i,t),function(i,t){const e=(s,o)=>{t.valueAccessor.writeValue(s),o&&t.viewToModelUpdate(s)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&aF(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Z1(i,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),K1(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Q1(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Tk(i,t){const e=tF(i);null!==t.validator?i.setValidators(eF(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const s=nF(i);null!==t.asyncValidator?i.setAsyncValidators(eF(s,t.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const o=()=>i.updateValueAndValidity();Q1(t._rawValidators,o),Q1(t._rawAsyncValidators,o)}function K1(i,t){let e=!1;if(null!==i){if(null!==t.validator){const o=tF(i);if(Array.isArray(o)&&o.length>0){const d=o.filter(m=>m!==t.validator);d.length!==o.length&&(e=!0,i.setValidators(d))}}if(null!==t.asyncValidator){const o=nF(i);if(Array.isArray(o)&&o.length>0){const d=o.filter(m=>m!==t.asyncValidator);d.length!==o.length&&(e=!0,i.setAsyncValidators(d))}}}const s=()=>{};return Q1(t._rawValidators,s),Q1(t._rawAsyncValidators,s),e}function aF(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function lF(i,t){Tk(i,t)}function cF(i,t){i._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function J1(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Bw="VALID",eT="INVALID",A_="PENDING",Hw="DISABLED";function Mk(i){return(Rk(i)?i.validators:i)||null}function uF(i){return Array.isArray(i)?Sk(i):i||null}function kk(i,t){return(Rk(t)?t.asyncValidators:i)||null}function hF(i){return Array.isArray(i)?Ek(i):i||null}function Rk(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Ok{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=uF(this._rawValidators),this._composedAsyncValidatorFn=hF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Bw}get invalid(){return this.status===eT}get pending(){return this.status==A_}get disabled(){return this.status===Hw}get enabled(){return this.status!==Hw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=uF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=hF(t)}addValidators(t){this.setValidators(iF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(iF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rF(t,this._rawAsyncValidators))}hasValidator(t){return W1(this._rawValidators,t)}hasAsyncValidator(t){return W1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=A_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hw,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bw,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bw||this.status===A_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hw:Bw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=A_,this._hasOwnPendingAsyncValidator=!0;const e=XN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let s=i;return t.forEach(o=>{s=s instanceof Uw?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof Pk&&s.at(o)||null}),s}(this,t)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Hw:this.errors?eT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A_)?A_:this._anyControlsHaveStatus(eT)?eT:Bw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zf extends Ok{constructor(t=null,e,s){super(Mk(e),kk(s,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){J1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){J1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Uw extends Ok{constructor(t,e,s){super(Mk(e),kk(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,o)=>{s.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e instanceof zf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((o,d)=>{s=e(s,o,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Pk extends Ok{constructor(t,e,s){super(Mk(e),kk(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,o)=>{s.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zf?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const CH={provide:no,useExisting:(0,c.Gpc)(()=>jw)},zw=(()=>Promise.resolve(null))();let jw=(()=>{class i extends no{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new Uw({},Sk(e),Ek(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zw.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Vw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zw.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),J1(this._directives,e)})}addFormGroup(e){zw.then(()=>{const s=this._findContainer(e.path),o=new Uw({});lF(o,e),s.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zw.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){zw.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Fs,10),c.Y36(Hf,10))},i.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([CH]),c.qOj]}),i})(),tT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),vF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({}),i})();const Nk=new c.OlP("NgModelWithFormControlWarning"),kH={provide:no,useExisting:(0,c.Gpc)(()=>jf)};let jf=(()=>{class i extends no{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return Vw(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){Z1(e.control||null,e,!1),J1(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,cF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,o=this.form.get(e.path);s!==o&&(Z1(s||null,e),o instanceof zf&&(Vw(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);lF(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(i,t){return K1(i,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tk(this.form,this),this._oldForm&&K1(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Fs,10),c.Y36(Hf,10))},i.\u0275dir=c.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([kH]),c.qOj,c.TTD]}),i})();const PH={provide:ou,useExisting:(0,c.Gpc)(()=>Gw)};let Gw=(()=>{class i extends ou{constructor(e,s,o,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(i,t){if(!t)return null;let e,s,o;return Array.isArray(t),t.forEach(d=>{d.constructor===E_?e=d:function(i){return Object.getPrototypeOf(i.constructor)===gm}(d)?s=d:o=d}),o||s||e||null}(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(no,13),c.Y36(Fs,10),c.Y36(Hf,10),c.Y36(Ul,10),c.Y36(Nk,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([PH]),c.qOj,c.TTD]}),i._ngModelWarningSentOnce=!1,i})();const NH={provide:Ul,useExisting:(0,c.Gpc)(()=>nT),multi:!0};function wF(i,t){return null==i?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let nT=(()=>{class i extends gm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const o=wF(s,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function(i){return i.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&c.NdJ("change",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([NH]),c.qOj]}),i})(),CF=(()=>{class i{constructor(e,s,o){this._element=e,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(nT,9))},i.\u0275dir=c.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const LH={provide:Ul,useExisting:(0,c.Gpc)(()=>Vk),multi:!0};function SF(i,t){return null==i?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let Vk=(()=>{class i extends gm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const o=e.map(d=>this._getOptionId(d));s=(d,m)=>{d._setSelected(o.indexOf(m.toString())>-1)}}else s=(o,d)=>{o._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const o=[];if(void 0!==s.selectedOptions){const d=s.selectedOptions;for(let m=0;m<d.length;m++){const C=d.item(m),I=this._getOptionValue(C.value);o.push(I)}}else{const d=s.options;for(let m=0;m<d.length;m++){const C=d.item(m);if(C.selected){const I=this._getOptionValue(C.value);o.push(I)}}}this.value=o,e(o)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function(i){return i.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&c.NdJ("change",function(d){return s.onChange(d.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([LH]),c.qOj]}),i})(),EF=(()=>{class i{constructor(e,s,o){this._element=e,this._renderer=s,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(SF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(SF(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Vk,9))},i.\u0275dir=c.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const UH={provide:Fs,useExisting:(0,c.Gpc)(()=>T_),multi:!0};let T_=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?UN(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&c.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[c._Bn([UH])]}),i})();const GH={provide:Fs,useExisting:(0,c.Gpc)(()=>Bk),multi:!0};let Bk=(()=>{class i{constructor(){this._validator=Uf}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?GN(function(i){return"number"==typeof i?i:parseInt(i,10)}(this.minlength)):Uf}enabled(){return null!=this.minlength}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&c.uIk("minlength",s.enabled()?s.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([GH]),c.TTD]}),i})(),PF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[vF]]}),i})(),qH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[PF]}),i})(),NF=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Nk,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[PF]}),i})(),Hk=(()=>{class i{group(e,s=null){const o=this._reduceControls(e);let C,d=null,m=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(d=null!=s.validators?s.validators:null,m=null!=s.asyncValidators?s.asyncValidators:null,C=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,m=null!=s.asyncValidator?s.asyncValidator:null)),new Uw(o,{asyncValidators:m,updateOn:C,validators:d})}control(e,s,o){return new zf(e,s,o)}array(e,s,o){const d=e.map(m=>this._createControl(m));return new Pk(d,s,o)}_reduceControls(e){const s={};return Object.keys(e).forEach(o=>{s[o]=this._createControl(e[o])}),s}_createControl(e){return e instanceof zf||e instanceof Uw||e instanceof Pk?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:NF}),i})();const $H=["trigger"],ZH=["panel"];function QH(i,t){if(1&i&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Oqu(e.placeholder)}}function KH(i,t){if(1&i&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.triggerValue)}}function JH(i,t){1&i&&c.Hsn(0,0,["*ngSwitchCase","true"])}function eU(i,t){if(1&i&&(c.TgZ(0,"span",9),c.YNc(1,KH,2,1,"span",10),c.YNc(2,JH,1,0,"ng-content",11),c.qZA()),2&i){const e=c.oxw();c.Q6J("ngSwitch",!!e.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function tU(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",13),c.TgZ(1,"div",14,15),c.NdJ("@transformPanel.done",function(o){return c.CHM(e),c.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return c.CHM(e),c.oxw()._handleKeydown(o)}),c.Hsn(3,1),c.qZA(),c.qZA()}if(2&i){const e=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",e._getPanelTheme(),""),c.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),c.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),c.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const nU=[[["mat-select-trigger"]],"*"],iU=["mat-select-trigger","*"],FF={transformPanelWrap:Zr("transformPanelWrap",[ri("* => void",g1("@transformPanel",[p1()],{optional:!0}))]),transformPanel:Zr("transformPanel",[ki("void",At({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ki("showing",At({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ki("showing-multiple",At({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ri("void => *",_i("120ms cubic-bezier(0, 0, 0.2, 1)")),ri("* => void",_i("100ms 25ms linear",At({opacity:0})))])};let LF=0;const BF=new c.OlP("mat-select-scroll-strategy"),aU=new c.OlP("MAT_SELECT_CONFIG"),lU={provide:BF,deps:[Hl],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class cU{constructor(t,e){this.source=t,this.value=e}}class uU{constructor(t,e,s,o,d){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=s,this._parentFormGroup=o,this.ngControl=d}}const hU=XP(XV(b_($P(uU)))),HF=new c.OlP("MatSelectTrigger");let dU=(()=>{class i extends hU{constructor(e,s,o,d,m,C,I,F,z,X,te,oe,ue,xe){var Oe,qe,ot;super(m,d,I,F,X),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=o,this._dir=C,this._parentFormField=z,this.ngControl=X,this._liveAnnouncer=ue,this._defaultOptions=xe,this._panelOpen=!1,this._compareWith=(at,Et)=>at===Et,this._uid="mat-select-"+LF++,this._triggerAriaLabelledBy=null,this._destroy=new Lt.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+LF++,this._panelDoneAnimatingStream=new Lt.xQ,this._overlayPanelClass=(null===(Oe=this._defaultOptions)||void 0===Oe?void 0:Oe.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(ot=null===(qe=this._defaultOptions)||void 0===qe?void 0:qe.disableOptionCentering)&&void 0!==ot&&ot,this.ariaLabel="",this.optionSelectionChanges=Nu(()=>{const at=this.options;return at?at.changes.pipe(ts(at),Qn(()=>(0,ws.T)(...at.map(Et=>Et.onSelectionChange)))):this._ngZone.onStable.pipe(Un(1),Qn(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(Si(at=>at),(0,Pt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Si(at=>!at),(0,Pt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==xe?void 0:xe.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=xe.typeaheadDebounceInterval),this._scrollStrategyFactory=oe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(te)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=$n(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=$n(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=$n(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Er(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new n3(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ec(),hi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(hi(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(ts(null),hi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,o=40===s||38===s||37===s||39===s,d=13===s||32===s,m=this._keyManager;if(!m.isTyping()&&d&&!Dr(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const C=this.selected;m.onKeydown(e);const I=this.selected;I&&C!==I&&this._liveAnnouncer.announce(I.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,o=e.keyCode,d=40===o||38===o,m=s.isTyping();if(d&&e.altKey)e.preventDefault(),this.close();else if(m||13!==o&&32!==o||!s.activeItem||Dr(e))if(!m&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const C=this.options.some(I=>!I.disabled&&!I.selected);this.options.forEach(I=>{I.disabled||(C?I.select():I.deselect())})}else{const C=s.activeItemIndex;s.onKeydown(e),this._multiple&&d&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==C&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Un(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const s=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch(d){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new kM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(hi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(hi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ws.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hi(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ws.T)(...this.options.map(s=>s._stateChanges)).pipe(hi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,s){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,o)=>this.sortComparator?this.sortComparator(s,o,e):e.indexOf(s)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let o=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(fm),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(ck),c.Y36(c.SBq),c.Y36(ua,8),c.Y36(jw,8),c.Y36(jf,8),c.Y36(Ck,8),c.Y36(ou,10),c.$8M("tabindex"),c.Y36(BF),c.Y36(om),c.Y36(aU,8))},i.\u0275dir=c.lG2({type:i,viewQuery:function(e,s){if(1&e&&(c.Gf($H,5),c.Gf(ZH,5),c.Gf(TN,5)),2&e){let o;c.iGM(o=c.CRH())&&(s.trigger=o.first),c.iGM(o=c.CRH())&&(s.panel=o.first),c.iGM(o=c.CRH())&&(s.overlayDir=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),i})(),fU=(()=>{class i extends dU{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,s,o){const d=this._getItemHeight();return Math.min(Math.max(0,d*e-s+d/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(hi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Un(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const s=iN(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=function(i,t,e,s){return i<e?i:i+t>e+256?Math.max(0,i-256+t):e}((e+s)*o,o,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new cU(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),o=this._isRtl(),d=this.multiple?56:32;let m;if(this.multiple)m=40;else if(this.disableOptionCentering)m=16;else{let F=this._selectionModel.selected[0]||this.options.first;m=F&&F.group?32:16}o||(m*=-1);const C=0-(e.left+m-(o?d:0)),I=e.right+m-s.width+(o?0:d);C>0?m+=C+8:I>0&&(m-=I+8),this.overlayDir.offsetX=Math.round(m),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,s,o){const d=this._getItemHeight(),m=(d-this._triggerRect.height)/2,C=Math.floor(256/d);let I;return this.disableOptionCentering?0:(I=0===this._scrollTop?e*d:this._scrollTop===o?(e-(this._getItemCount()-C))*d+(d-(this._getItemCount()*d-256)%d):s-d/2,Math.round(-1*I-m))}_checkOverlayWithinViewport(e){const s=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),d=this._triggerRect.top-8,m=o.height-this._triggerRect.bottom-8,C=Math.abs(this._offsetY),F=Math.min(this._getItemCount()*s,256)-C-this._triggerRect.height;F>m?this._adjustPanelUp(F,m):C>d?this._adjustPanelDown(C,d,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,s){const o=Math.round(e-s);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,s,o){const d=Math.round(e-s);if(this._scrollTop+=d,this._offsetY+=d,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),s=this._getItemCount(),o=Math.min(s*e,256),m=s*e-o;let C;C=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),C+=iN(C,this.options,this.optionGroups);const I=o/2;this._scrollTop=this._calculateOverlayScroll(C,I,m),this._offsetY=this._calculateOverlayOffsetY(C,I,m),this._checkOverlayWithinViewport(m)}_getOriginBasedOnOption(){const e=this._getItemHeight(),s=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,HF,5),c.Suo(o,nN,5),c.Suo(o,fk,5)),2&e){let d;c.iGM(d=c.CRH())&&(s.customTrigger=d.first),c.iGM(d=c.CRH())&&(s.options=d),c.iGM(d=c.CRH())&&(s.optionGroups=d)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,s){1&e&&c.NdJ("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(c.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),c.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:j1,useExisting:i},{provide:dk,useExisting:i}]),c.qOj],ngContentSelectors:iU,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(c.F$t(nU),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return s.toggle()}),c.TgZ(3,"div",2),c.YNc(4,QH,2,1,"span",3),c.YNc(5,eU,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA(),c.qZA(),c.YNc(8,tU,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const o=c.MAs(1);c.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",s.empty),c.uIk("id",s._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[O3,un,St,TN,Ht,H],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[FF.transformPanelWrap,FF.transformPanel]},changeDetection:0}),i})(),pU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[lU],imports:[[Ni,z1,rN,qn],B1,G1,rN,qn]}),i})();class mU{constructor(t){this.total=t}call(t,e){return e.subscribe(new vU(t,this.total))}}class vU extends tr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const UF=new Set;let I_,zF=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_U}matchMedia(e){return this._platform.WEBKIT&&function(i){if(!UF.has(i))try{I_||(I_=document.createElement("style"),I_.setAttribute("type","text/css"),document.head.appendChild(I_)),I_.sheet&&(I_.sheet.insertRule(`@media ${i} {.fx-query-test{ }}`,0),UF.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Gn))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Gn))},token:i,providedIn:"root"}),i})();function _U(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Uk=(()=>{class i{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new Lt.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jF(Nh(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let d=Gs(jF(Nh(e)).map(m=>this._registerQuery(m).observable));return d=Lr(d.pipe(Un(1)),d.pipe(t=>t.lift(new mU(1)),uw(0))),d.pipe((0,Pt.U)(m=>{const C={matches:!1,breakpoints:{}};return m.forEach(({matches:I,query:F})=>{C.matches=C.matches||I,C.breakpoints[F]=I}),C}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),d={observable:new ci.y(m=>{const C=I=>this._zone.run(()=>m.next(I));return s.addListener(C),()=>{s.removeListener(C)}}).pipe(ts(s),(0,Pt.U)(({matches:m})=>({query:e,matches:m})),hi(this._destroySubject)),mql:s};return this._queries.set(e,d),d}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(zF),c.LFG(c.R0b))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(zF),(0,c.LFG)(c.R0b))},token:i,providedIn:"root"}),i})();function jF(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const bU={tooltipState:Zr("state",[ki("initial, void, hidden",At({opacity:0,transform:"scale(0)"})),ki("visible",At({transform:"scale(1)"})),ri("* => visible",_i("200ms cubic-bezier(0, 0, 0.2, 1)",Fh([At({opacity:0,transform:"scale(0)",offset:0}),At({opacity:.5,transform:"scale(0.99)",offset:.5}),At({opacity:1,transform:"scale(1)",offset:1})]))),ri("* => hidden",_i("100ms cubic-bezier(0, 0, 0.2, 1)",At({opacity:0})))])},YF=dw({passive:!0}),WF=new c.OlP("mat-tooltip-scroll-strategy"),EU={provide:WF,deps:[Hl],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},AU=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let DU=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z,X,te,oe){this._overlay=e,this._elementRef=s,this._scrollDispatcher=o,this._viewContainerRef=d,this._ngZone=m,this._platform=C,this._ariaDescriber=I,this._focusMonitor=F,this._dir=X,this._defaultOptions=te,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Lt.xQ,this._handleKeydown=ue=>{this._isTooltipVisible()&&27===ue.keyCode&&!Dr(ue)&&(ue.preventDefault(),ue.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=z,te&&(te.position&&(this.position=te.position),te.touchGestures&&(this.touchGestures=te.touchGestures)),m.runOutsideAngular(()=>{s.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=$n(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(hi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([s,o])=>{e.removeEventListener(s,o,YF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new C_(IU,this._viewContainerRef),this._tooltipInstance=s.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return s.positionChanges.pipe(hi(this._destroyed)).subscribe(o=>{this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,s=this._getOrigin(),o=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},s.main),o.main),Object.assign(Object.assign({},s.fallback),o.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let o;"above"==s||"below"==s?o={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?o={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(o={originX:"end",originY:"center"});const{x:d,y:m}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:d,originY:m}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let o;"above"==s?o={overlayX:"center",overlayY:"bottom"}:"below"==s?o={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?o={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:d,y:m}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:d,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Un(1),hi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,o])=>{this._elementRef.nativeElement.addEventListener(s,o,YF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const o=(this._document||document).elementFromPoint(e.clientX,e.clientY),d=this._elementRef.nativeElement;o!==d&&!d.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,o=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!s.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hl),c.Y36(c.SBq),c.Y36(Nw),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(Gn),c.Y36(a_),c.Y36(Fl),c.Y36(WF),c.Y36(ua,8),c.Y36(AU,8),c.Y36(Ve))},i.\u0275dir=c.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),i})(),IU=(()=>{class i{constructor(e,s){this._changeDetectorRef=e,this._breakpointObserver=s,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Lt.xQ,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const s=e.toState;"hidden"===s&&!this.isVisible()&&this._onHide.next(),("visible"===s||"hidden"===s)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.sBO),c.Y36(Uk))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){1&e&&c.NdJ("click",function(){return s._handleBodyInteraction()},!1,c.pYS)("auxclick",function(){return s._handleBodyInteraction()},!1,c.pYS),2&e&&c.Udp("zoom","visible"===s._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,s){if(1&e&&(c.TgZ(0,"div",0),c.NdJ("@state.start",function(){return s._animationStart()})("@state.done",function(d){return s._animationDone(d)}),c.ALo(1,"async"),c._uU(2),c.qZA()),2&e){let o;c.ekj("mat-tooltip-handset",null==(o=c.lcZ(1,5,s._isHandset))?null:o.matches),c.Q6J("ngClass",s.tooltipClass)("@state",s._visibility),c.xp6(2),c.Oqu(s.message)}},directives:[H],pipes:[$f],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[bU.tooltipState]},changeDetection:0}),i})(),MU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[EU],imports:[[f1,Ni,z1,qn],qn,B1]}),i})();function kU(i,t){if(1&i&&(c.TgZ(0,"mat-option",19),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.hij(" ",e," ")}}function RU(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"mat-form-field",16),c.TgZ(1,"mat-select",17),c.NdJ("selectionChange",function(o){return c.CHM(e),c.oxw(2)._changePageSize(o.value)}),c.YNc(2,kU,2,2,"mat-option",18),c.qZA(),c.qZA()}if(2&i){const e=c.oxw(2);c.Q6J("appearance",e._formFieldAppearance)("color",e.color),c.xp6(1),c.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),c.xp6(1),c.Q6J("ngForOf",e._displayedPageSizeOptions)}}function OU(i,t){if(1&i&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&i){const e=c.oxw(2);c.xp6(1),c.Oqu(e.pageSize)}}function PU(i,t){if(1&i&&(c.TgZ(0,"div",12),c.TgZ(1,"div",13),c._uU(2),c.qZA(),c.YNc(3,RU,3,6,"mat-form-field",14),c.YNc(4,OU,2,1,"div",15),c.qZA()),2&i){const e=c.oxw();c.xp6(2),c.hij(" ",e._intl.itemsPerPageLabel," "),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length>1),c.xp6(1),c.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function NU(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){return c.CHM(e),c.oxw().firstPage()}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",22),c.qZA(),c.qZA()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),c.uIk("aria-label",e._intl.firstPageLabel)}}function FU(i,t){if(1&i){const e=c.EpF();c.O4$(),c.kcU(),c.TgZ(0,"button",23),c.NdJ("click",function(){return c.CHM(e),c.oxw().lastPage()}),c.O4$(),c.TgZ(1,"svg",7),c._UZ(2,"path",24),c.qZA(),c.qZA()}if(2&i){const e=c.oxw();c.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),c.uIk("aria-label",e._intl.lastPageLabel)}}let Ww=(()=>{class i{constructor(){this.changes=new Lt.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,o)=>{if(0==o||0==s)return`0 of ${o}`;const d=e*s;return`${d+1} \u2013 ${d<(o=Math.max(o,0))?Math.min(d+s,o):d+s} of ${o}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const VU={provide:Ww,deps:[[new c.FiY,new c.tp0,Ww]],useFactory:function(i){return i||new Ww}},HU=new c.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS");class UU{}const zU=b_(ZP(UU));let jU=(()=>{class i extends zU{constructor(e,s,o){if(super(),this._intl=e,this._changeDetectorRef=s,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new c.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){const{pageSize:d,pageSizeOptions:m,hidePageSize:C,showFirstLastButtons:I}=o;null!=d&&(this._pageSize=d),null!=m&&(this._pageSizeOptions=m),null!=C&&(this._hidePageSize=C),null!=I&&(this._showFirstLastButtons=I)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Er(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Er(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Er(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(s=>Er(s)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=$n(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=$n(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const o=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,s)=>e-s),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ww),c.Y36(c.sBO),c.Y36(void 0))},i.\u0275dir=c.lG2({type:i,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[c.qOj]}),i})(),qF=(()=>{class i extends jU{constructor(e,s,o){super(e,s,o),o&&null!=o.formFieldAppearance&&(this._formFieldAppearance=o.formFieldAppearance)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Ww),c.Y36(c.sBO),c.Y36(HU,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[c.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,PU,5,3,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c._uU(5),c.qZA(),c.YNc(6,NU,3,5,"button",5),c.TgZ(7,"button",6),c.NdJ("click",function(){return s.previousPage()}),c.O4$(),c.TgZ(8,"svg",7),c._UZ(9,"path",8),c.qZA(),c.qZA(),c.kcU(),c.TgZ(10,"button",9),c.NdJ("click",function(){return s.nextPage()}),c.O4$(),c.TgZ(11,"svg",7),c._UZ(12,"path",10),c.qZA(),c.qZA(),c.YNc(13,FU,3,5,"button",11),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("ngIf",!s.hidePageSize),c.xp6(3),c.hij(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),c.xp6(1),c.Q6J("ngIf",s.showFirstLastButtons),c.xp6(1),c.Q6J("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),c.uIk("aria-label",s._intl.previousPageLabel),c.xp6(3),c.Q6J("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),c.uIk("aria-label",s._intl.nextPageLabel),c.xp6(3),c.Q6J("ngIf",s.showFirstLastButtons))},directives:[Qe,F1,DU,PN,fU,pe,nN],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),i})(),GU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[VU],imports:[[Ni,gk,pU,MU,qn]]}),i})();const YU=[[["caption"]],[["colgroup"],["col"]]],WU=["caption","colgroup, col"];function zk(i){return class extends i{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=$n(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const M_=new c.OlP("CDK_TABLE");let k_=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),R_=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),rT=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class ZU{}const QU=zk(ZU);let Hh=(()=>{class i extends QU{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=$n(e),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(M_,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,k_,5),c.Suo(o,R_,5),c.Suo(o,rT,5)),2&e){let d;c.iGM(d=c.CRH())&&(s.cell=d.first),c.iGM(d=c.CRH())&&(s.headerCell=d.first),c.iGM(d=c.CRH())&&(s.footerCell=d.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]}),i})();class jk{constructor(t,e){const s=e.nativeElement.classList;for(const o of t._columnCssClassName)s.add(o)}}let Gk=(()=>{class i extends jk{constructor(e,s){super(e,s)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hh),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),i})(),Yk=(()=>{class i extends jk{constructor(e,s){super(e,s)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hh),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[c.qOj]}),i})();class $F{constructor(){this.tasks=[],this.endTasks=[]}}const Wk=new c.OlP("_COALESCED_STYLE_SCHEDULER");let ZF=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Lt.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $F,this._getScheduleObservable().pipe(hi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new $F;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ei.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Un(1))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(c.R0b))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),qk=(()=>{class i{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof qw?e.headerCell.template:this instanceof Xw?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},i.\u0275dir=c.lG2({type:i,features:[c.TTD]}),i})();class KU extends qk{}const JU=zk(KU);let qw=(()=>{class i extends JU{constructor(e,s,o){super(e,s),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(M_,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),i})();class ez extends qk{}const tz=zk(ez);let Xw=(()=>{class i extends tz{constructor(e,s,o){super(e,s),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(M_,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),i})(),sT=(()=>{class i extends qk{constructor(e,s,o){super(e,s),this._table=o}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(M_,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),i})(),Uh=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b))},i.\u0275dir=c.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i.mostRecentCellOutlet=null,i})(),Xk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&c.GkF(0,0)},directives:[Uh],encapsulation:2}),i})(),Zk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&c.GkF(0,0)},directives:[Uh],encapsulation:2}),i})(),oT=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const QF=["top","bottom","left","right"];class nz{constructor(t,e,s,o,d=!0,m=!0,C){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=o,this._isBrowser=d,this._needsPositionStickyOnElement=m,this._positionListener=C,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const s=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){s.push(o);for(let d=0;d<o.children.length;d++)s.push(o.children[d])}this._scheduleStyleChanges(()=>{for(const o of s)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,s,o=!0){if(!t.length||!this._isBrowser||!e.some(te=>te)&&!s.some(te=>te))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const d=t[0],m=d.children.length,C=this._getCellWidths(d,o),I=this._getStickyStartColumnPositions(C,e),F=this._getStickyEndColumnPositions(C,s),z=e.lastIndexOf(!0),X=s.indexOf(!0);this._scheduleStyleChanges(()=>{const te="rtl"===this.direction,oe=te?"right":"left",ue=te?"left":"right";for(const xe of t)for(let Oe=0;Oe<m;Oe++){const qe=xe.children[Oe];e[Oe]&&this._addStickyStyle(qe,oe,I[Oe],Oe===z),s[Oe]&&this._addStickyStyle(qe,ue,F[Oe],Oe===X)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===z?[]:C.slice(0,z+1).map((xe,Oe)=>e[Oe]?xe:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===X?[]:C.slice(X).map((xe,Oe)=>s[Oe+X]?xe:null).reverse()}))})}stickRows(t,e,s){if(!this._isBrowser)return;const o="bottom"===s?t.slice().reverse():t,d="bottom"===s?e.slice().reverse():e,m=[],C=[],I=[];for(let z=0,X=0;z<o.length;z++){if(m[z]=X,!d[z])continue;const te=o[z];I[z]=this._isNativeHtmlTable?Array.from(te.children):[te];const oe=te.getBoundingClientRect().height;X+=oe,C[z]=oe}const F=d.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var z,X;for(let te=0;te<o.length;te++){if(!d[te])continue;const oe=m[te],ue=te===F;for(const xe of I[te])this._addStickyStyle(xe,s,oe,ue)}"top"===s?null===(z=this._positionListener)||void 0===z||z.stickyHeaderRowsUpdated({sizes:C,elements:I}):null===(X=this._positionListener)||void 0===X||X.stickyFooterRowsUpdated({sizes:C,elements:I})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const s=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(o=>!o)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);QF.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,s,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${s}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const o of QF)t.style[o]&&(s+=e[o]);return s?`${s}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],o=t.children;for(let d=0;d<o.length;d++)s.push(o[d].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(t,e){const s=[];let o=0;for(let d=0;d<t.length;d++)e[d]&&(s[d]=o,o+=t[d]);return s}_getStickyEndColumnPositions(t,e){const s=[];let o=0;for(let d=t.length;d>0;d--)e[d]&&(s[d]=o,o+=t[d]);return s}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const KF=new c.OlP("CDK_SPL");let aT=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),lT=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),cT=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),uT=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.s_b),c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),hT=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z,X,te){this._differs=e,this._changeDetectorRef=s,this._elementRef=o,this._dir=m,this._platform=I,this._viewRepeater=F,this._coalescedStyleScheduler=z,this._stickyPositioningListener=X,this._viewportRuler=te,this._onDestroy=new Lt.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new ui({start:0,end:Number.MAX_VALUE}),d||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=C,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=$n(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=$n(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler&&this._viewportRuler.change().pipe(hi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),V1(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const s=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,s,(o,d,m)=>this._getEmbeddedViewArgs(o.item,m),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}):e.forEachOperation((o,d,m)=>{if(null==o.previousIndex){const C=o.item;this._renderRow(this._rowOutlet,C.rowDef,m,{$implicit:C.data})}else if(null==m)s.remove(d);else{const C=s.get(d);s.move(C,m)}}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{s.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const d=this._headerRowDefs.map(m=>m.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,d,"top"),this._headerRowDefs.forEach(m=>m.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const d=this._footerRowDefs.map(m=>m.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,d,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,d),this._footerRowDefs.forEach(m=>m.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((d,m)=>{this._addStickyColumnStyles([d],this._headerRowDefs[m])}),this._rowDefs.forEach(d=>{const m=[];for(let C=0;C<s.length;C++)this._renderRows[C].rowDef===d&&m.push(s[C]);this._addStickyColumnStyles(m,d)}),o.forEach((d,m)=>{this._addStickyColumnStyles([d],this._footerRowDefs[m])}),Array.from(this._columnDefsByName.values()).forEach(d=>d.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let d=this._data[o];const m=this._getRenderRowsForData(d,o,s.get(d));this._cachedRenderRowsMap.has(d)||this._cachedRenderRowsMap.set(d,new WeakMap);for(let C=0;C<m.length;C++){let I=m[C];const F=this._cachedRenderRowsMap.get(I.data);F.has(I.rowDef)?F.get(I.rowDef).push(I):F.set(I.rowDef,[I]),e.push(I)}}return e}_getRenderRowsForData(e,s,o){return this._getRowDefs(e,s).map(m=>{const C=o&&o.has(m)?o.get(m):[];if(C.length){const I=C.shift();return I.dataIndex=s,I}return{data:e,rowDef:m,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),dT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=dT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=dT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=dT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(m,C)=>m||!!C.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const d=this._footerRowDefs.reduce(e,!1);return d&&this._forceRenderFooterRows(),s||o||d}_switchDataSource(e){this._data=[],V1(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;V1(this.dataSource)?e=this.dataSource.connect(this):function(i){return!!i&&(i instanceof ci.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Mt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(hi(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const o=Array.from(s.columns||[]).map(C=>this._columnDefsByName.get(C)),d=o.map(C=>C.sticky),m=o.map(C=>C.stickyEnd);this._stickyStyler.updateStickyColumns(e,d,m,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let o=0;o<e.viewContainer.length;o++){const d=e.viewContainer.get(o);s.push(d.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(d=>!d.when||d.when(s,e));else{let d=this._rowDefs.find(m=>m.when&&m.when(s,e))||this._defaultRowDef;d&&o.push(d)}return o}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,o,d={}){const m=e.viewContainer.createEmbeddedView(s.template,d,o);return this._renderCellTemplateForItem(s,d),m}_renderCellTemplateForItem(e,s){for(let o of this._getCellTemplates(e))Uh.mostRecentCellOutlet&&Uh.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,o=e.length;s<o;s++){const m=e.get(s).context;m.count=o,m.first=0===s,m.last=s===o-1,m.even=s%2==0,m.odd=!m.even,this.multiTemplateDataRows?(m.dataIndex=this._renderRows[s].dataIndex,m.renderIndex=s):m.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const o=this._columnDefsByName.get(s);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of s){const d=this._document.createElement(o.tag);d.setAttribute("role","rowgroup");for(const m of o.outlets)d.appendChild(m.elementRef.nativeElement);e.appendChild(d)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,o)=>s||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new nz(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Mt.of)()).pipe(hi(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const o=this._noDataRowOutlet.viewContainer;s?o.createEmbeddedView(e.templateRef):o.clear(),this._isShowingNoDataRow=s}}}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(ua,8),c.Y36(Ve),c.Y36(Gn),c.Y36(Pw,8),c.Y36(Wk,8),c.Y36(KF,12),c.Y36(fm,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,oT,5),c.Suo(o,Hh,5),c.Suo(o,sT,5),c.Suo(o,qw,5),c.Suo(o,Xw,5)),2&e){let d;c.iGM(d=c.CRH())&&(s._noDataRow=d.first),c.iGM(d=c.CRH())&&(s._contentColumnDefs=d),c.iGM(d=c.CRH())&&(s._contentRowDefs=d),c.iGM(d=c.CRH())&&(s._contentHeaderRowDefs=d),c.iGM(d=c.CRH())&&(s._contentFooterRowDefs=d)}},viewQuery:function(e,s){if(1&e&&(c.Gf(aT,7),c.Gf(lT,7),c.Gf(cT,7),c.Gf(uT,7)),2&e){let o;c.iGM(o=c.CRH())&&(s._rowOutlet=o.first),c.iGM(o=c.CRH())&&(s._headerRowOutlet=o.first),c.iGM(o=c.CRH())&&(s._footerRowOutlet=o.first),c.iGM(o=c.CRH())&&(s._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&c.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[c._Bn([{provide:M_,useExisting:i},{provide:Pw,useClass:hN},{provide:Wk,useClass:ZF},{provide:KF,useValue:null}])],ngContentSelectors:WU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(c.F$t(YU),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0),c.GkF(3,1),c.GkF(4,2),c.GkF(5,3))},directives:[lT,aT,uT,cT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function dT(i,t){return i.concat(Array.from(t))}let iz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[yk]]}),i})();const rz=[[["caption"]],[["colgroup"],["col"]]],sz=["caption","colgroup, col"];let eL=(()=>{class i extends hT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,s){2&e&&c.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:Pw,useClass:hN},{provide:hT,useExisting:i},{provide:M_,useExisting:i},{provide:Wk,useClass:ZF}]),c.qOj],ngContentSelectors:sz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(c.F$t(rz),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0),c.GkF(3,1),c.GkF(4,2),c.GkF(5,3))},directives:[lT,aT,uT,cT],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),i})(),Qk=(()=>{class i extends k_{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:k_,useExisting:i}]),c.qOj]}),i})(),Kk=(()=>{class i extends R_{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:R_,useExisting:i}]),c.qOj]}),i})(),Jk=(()=>{class i extends Hh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Hh,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),c.qOj]}),i})(),eR=(()=>{class i extends Gk{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[c.qOj]}),i})(),tR=(()=>{class i extends Yk{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[c.qOj]}),i})(),tL=(()=>{class i extends qw{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:qw,useExisting:i}]),c.qOj]}),i})(),nL=(()=>{class i extends sT{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:sT,useExisting:i}]),c.qOj]}),i})(),iL=(()=>{class i extends Xk{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:Xk,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&c.GkF(0,0)},directives:[Uh],encapsulation:2}),i})(),rL=(()=>{class i extends Zk{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[c._Bn([{provide:Zk,useExisting:i}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&c.GkF(0,0)},directives:[Uh],encapsulation:2}),i})(),sL=(()=>{class i extends oT{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275dir=c.lG2({type:i,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:oT,useExisting:i}]),c.qOj]}),i})(),fz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[iz,qn],qn]}),i})();class mz extends class extends class{}{constructor(t=[]){super(),this._renderData=new ui([]),this._filter=new ui(""),this._internalPageChanges=new Lt.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,s)=>{const o=e[s];if(JI(o)){const d=Number(o);return d<9007199254740991?d:o}return o},this.sortData=(e,s)=>{const o=s.active,d=s.direction;return o&&""!=d?e.sort((m,C)=>{let I=this.sortingDataAccessor(m,o),F=this.sortingDataAccessor(C,o);const z=typeof I,X=typeof F;z!==X&&("number"===z&&(I+=""),"number"===X&&(F+=""));let te=0;return null!=I&&null!=F?I>F?te=1:I<F&&(te=-1):null!=I?te=1:null!=F&&(te=-1),te*("asc"==d?1:-1)}):e},this.filterPredicate=(e,s)=>{const o=Object.keys(e).reduce((m,C)=>m+e[C]+"\u25ec","").toLowerCase(),d=s.trim().toLowerCase();return-1!=o.indexOf(d)},this._data=new ui(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,ws.T)(this._sort.sortChange,this._sort.initialized):(0,Mt.of)(null),s=this._paginator?(0,ws.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Mt.of)(null),d=Gs([this._data,this._filter]).pipe((0,Pt.U)(([I])=>this._filterData(I))),m=Gs([d,e]).pipe((0,Pt.U)(([I])=>this._orderData(I))),C=Gs([m,s]).pipe((0,Pt.U)(([I])=>this._pageData(I)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=C.subscribe(I=>this._renderData.next(I))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const s=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,s);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const vz=["*"];let Ls=(()=>{class i{}return i.STARTS_WITH="startsWith",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.ENDS_WITH="endsWith",i.EQUALS="equals",i.NOT_EQUALS="notEquals",i.IN="in",i.LESS_THAN="lt",i.LESS_THAN_OR_EQUAL_TO="lte",i.GREATER_THAN="gt",i.GREATER_THAN_OR_EQUAL_TO="gte",i.BETWEEN="between",i.IS="is",i.IS_NOT="isNot",i.BEFORE="before",i.AFTER="after",i.DATE_IS="dateIs",i.DATE_IS_NOT="dateIsNot",i.DATE_BEFORE="dateBefore",i.DATE_AFTER="dateAfter",i})(),nR=(()=>{class i{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Ls.STARTS_WITH,Ls.CONTAINS,Ls.NOT_CONTAINS,Ls.ENDS_WITH,Ls.EQUALS,Ls.NOT_EQUALS],numeric:[Ls.EQUALS,Ls.NOT_EQUALS,Ls.LESS_THAN,Ls.LESS_THAN_OR_EQUAL_TO,Ls.GREATER_THAN,Ls.GREATER_THAN_OR_EQUAL_TO],date:[Ls.DATE_IS,Ls.DATE_IS_NOT,Ls.DATE_BEFORE,Ls.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Lt.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oL=(()=>{class i{}return i.STARTS_WITH="startsWith",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.ENDS_WITH="endsWith",i.EQUALS="equals",i.NOT_EQUALS="notEquals",i.NO_FILTER="noFilter",i.LT="lt",i.LTE="lte",i.GT="gt",i.GTE="gte",i.IS="is",i.IS_NOT="isNot",i.BEFORE="before",i.AFTER="after",i.CLEAR="clear",i.APPLY="apply",i.MATCH_ALL="matchAll",i.MATCH_ANY="matchAny",i.ADD_RULE="addRule",i.REMOVE_RULE="removeRule",i.ACCEPT="accept",i.REJECT="reject",i.CHOOSE="choose",i.UPLOAD="upload",i.CANCEL="cancel",i.DAY_NAMES="dayNames",i.DAY_NAMES_SHORT="dayNamesShort",i.DAY_NAMES_MIN="dayNamesMin",i.MONTH_NAMES="monthNames",i.MONTH_NAMES_SHORT="monthNamesShort",i.TODAY="today",i.WEEK_HEADER="weekHeader",i.WEAK="weak",i.MEDIUM="medium",i.STRONG="strong",i.PASSWORD_PROMPT="passwordPrompt",i.EMPTY_MESSAGE="emptyMessage",i.EMPTY_FILTER_MESSAGE="emptyFilterMessage",i})();var Gf=(()=>(function(i){i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL"}(Gf||(Gf={})),Gf))();let fT=(()=>{class i{constructor(){this.requireConfirmationSource=new Lt.xQ,this.acceptConfirmationSource=new Lt.xQ,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),yz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["p-footer"]],ngContentSelectors:vz,decls:1,vars:0,template:function(e,s){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2}),i})(),_z=(()=>{class i{constructor(e){this.template=e}getType(){return this.name}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.Rgc))},i.\u0275dir=c.lG2({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),i})(),aL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni]]}),i})(),lL=(()=>{class i{constructor(e){this.fs=e,this.data=[],this.temp=!1,this.index=1,this.isLoading=new ui(this.temp)}getInventoryInfo(){return ar(function*(){return new Promise((e,s)=>{})})()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Jc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cL=dw({passive:!0});let uL=(()=>{class i{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return js.E;const s=eu(e),o=this._monitoredElements.get(s);if(o)return o.subject;const d=new Lt.xQ,m="cdk-text-field-autofilled",C=I=>{"cdk-text-field-autofill-start"!==I.animationName||s.classList.contains(m)?"cdk-text-field-autofill-end"===I.animationName&&s.classList.contains(m)&&(s.classList.remove(m),this._ngZone.run(()=>d.next({target:I.target,isAutofilled:!1}))):(s.classList.add(m),this._ngZone.run(()=>d.next({target:I.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",C,cL),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:d,unlisten:()=>{s.removeEventListener("animationstart",C,cL)}}),d}stopMonitoring(e){const s=eu(e),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Gn),c.LFG(c.R0b))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Gn),(0,c.LFG)(c.R0b))},token:i,providedIn:"root"}),i})(),hL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[tm]]}),i})();const xz=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),wz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Cz=0;class Sz{constructor(t,e,s,o){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=s,this.ngControl=o}}const Ez=$P(Sz);let Az=(()=>{class i extends Ez{constructor(e,s,o,d,m,C,I,F,z,X){super(C,d,m,o),this._elementRef=e,this._platform=s,this.ngControl=o,this._autofillMonitor=F,this._formField=X,this._uid="mat-input-"+Cz++,this.focused=!1,this.stateChanges=new Lt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ue=>hw().has(ue));const te=this._elementRef.nativeElement,oe=te.nodeName.toLowerCase();this._inputValueAccessor=I||te,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&z.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",ue=>{let xe=ue.target;!xe.value&&!xe.selectionStart&&!xe.selectionEnd&&(xe.setSelectionRange(1,1),xe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===oe,this._isTextarea="textarea"===oe,this._isNativeSelect&&(this.controlType=te.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=$n(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=$n(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&hw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=$n(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(!this.readonly||!e)&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const o=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const d=this._elementRef.nativeElement;this._previousPlaceholder=o,o?d.setAttribute("placeholder",o):d.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){wz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(Gn),c.Y36(ou,10),c.Y36(jw,8),c.Y36(jf,8),c.Y36(ck),c.Y36(xz,10),c.Y36(uL),c.Y36(c.R0b),c.Y36(Ck,8))},i.\u0275dir=c.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&c.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(c.Ikx("disabled",s.disabled)("required",s.required),c.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.errorState&&!s.empty)("aria-required",s.required),c.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[c._Bn([{provide:j1,useExisting:i}]),c.qOj,c.TTD]}),i})(),Tz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[ck],imports:[[hL,G1,qn],hL,G1]}),i})(),Yn=(()=>{class i{static addClass(e,s){e.classList?e.classList.add(s):e.className+=" "+s}static addMultipleClasses(e,s){if(e.classList){let o=s.trim().split(" ");for(let d=0;d<o.length;d++)e.classList.add(o[d])}else{let o=s.split(" ");for(let d=0;d<o.length;d++)e.className+=" "+o[d]}}static removeClass(e,s){e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp("(^|\\b)"+s.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(s){return s!==e})}static find(e,s){return Array.from(e.querySelectorAll(s))}static findSingle(e,s){return e?e.querySelector(s):null}static index(e){let s=e.parentNode.childNodes,o=0;for(var d=0;d<s.length;d++){if(s[d]==e)return o;1==s[d].nodeType&&o++}return-1}static indexWithinGroup(e,s){let o=e.parentNode?e.parentNode.childNodes:[],d=0;for(var m=0;m<o.length;m++){if(o[m]==e)return d;o[m].attributes&&o[m].attributes[s]&&1==o[m].nodeType&&d++}return-1}static relativePosition(e,s){let o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const d=s.offsetHeight,m=s.getBoundingClientRect(),C=this.getViewport();let I,F;m.top+d+o.height>C.height?(I=-1*o.height,e.style.transformOrigin="bottom",m.top+I<0&&(I=-1*m.top)):(I=d,e.style.transformOrigin="top"),F=o.width>C.width?-1*m.left:m.left+o.width>C.width?-1*(m.left+o.width-C.width):0,e.style.top=I+"px",e.style.left=F+"px"}static absolutePosition(e,s){let oe,ue,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),d=o.height,m=o.width,C=s.offsetHeight,I=s.offsetWidth,F=s.getBoundingClientRect(),z=this.getWindowScrollTop(),X=this.getWindowScrollLeft(),te=this.getViewport();F.top+C+d>te.height?(oe=F.top+z-d,e.style.transformOrigin="bottom",oe<0&&(oe=z)):(oe=C+F.top+z,e.style.transformOrigin="top"),ue=F.left+m>te.width?Math.max(0,F.left+X+I-m):F.left+X,e.style.top=oe+"px",e.style.left=ue+"px"}static getParents(e,s=[]){return null===e.parentNode?s:this.getParents(e.parentNode,s.concat([e.parentNode]))}static getScrollableParents(e){let s=[];if(e){let o=this.getParents(e);const d=/(auto|scroll)/,m=C=>{let I=window.getComputedStyle(C,null);return d.test(I.getPropertyValue("overflow"))||d.test(I.getPropertyValue("overflowX"))||d.test(I.getPropertyValue("overflowY"))};for(let C of o){let I=1===C.nodeType&&C.dataset.scrollselectors;if(I){let F=I.split(",");for(let z of F){let X=this.findSingle(C,z);X&&m(X)&&s.push(X)}}9!==C.nodeType&&m(C)&&s.push(C)}}return s}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementDimensions(e){let s={};return e.style.visibility="hidden",e.style.display="block",s.width=e.offsetWidth,s.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",s}static scrollInView(e,s){let o=getComputedStyle(e).getPropertyValue("borderTopWidth"),d=o?parseFloat(o):0,m=getComputedStyle(e).getPropertyValue("paddingTop"),C=m?parseFloat(m):0,I=e.getBoundingClientRect(),z=s.getBoundingClientRect().top+document.body.scrollTop-(I.top+document.body.scrollTop)-d-C,X=e.scrollTop,te=e.clientHeight,oe=this.getOuterHeight(s);z<0?e.scrollTop=X+z:z+oe>te&&(e.scrollTop=X+z-te+oe)}static fadeIn(e,s){e.style.opacity=0;let o=+new Date,d=0,m=function(){d=+e.style.opacity.replace(",",".")+((new Date).getTime()-o)/s,e.style.opacity=d,o=+new Date,+d<1&&(window.requestAnimationFrame&&requestAnimationFrame(m)||setTimeout(m,16))};m()}static fadeOut(e,s){var o=1,C=50/s;let I=setInterval(()=>{(o-=C)<=0&&(o=0,clearInterval(I)),e.style.opacity=o},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,s){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(m){return-1!==[].indexOf.call(document.querySelectorAll(m),this)}).call(e,s)}static getOuterWidth(e,s){let o=e.offsetWidth;if(s){let d=getComputedStyle(e);o+=parseFloat(d.marginLeft)+parseFloat(d.marginRight)}return o}static getHorizontalPadding(e){let s=getComputedStyle(e);return parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)}static getHorizontalMargin(e){let s=getComputedStyle(e);return parseFloat(s.marginLeft)+parseFloat(s.marginRight)}static innerWidth(e){let s=e.offsetWidth,o=getComputedStyle(e);return s+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s}static width(e){let s=e.offsetWidth,o=getComputedStyle(e);return s-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s}static getInnerHeight(e){let s=e.offsetHeight,o=getComputedStyle(e);return s+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),s}static getOuterHeight(e,s){let o=e.offsetHeight;if(s){let d=getComputedStyle(e);o+=parseFloat(d.marginTop)+parseFloat(d.marginBottom)}return o}static getHeight(e){let s=e.offsetHeight,o=getComputedStyle(e);return s-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),s}static getWidth(e){let s=e.offsetWidth,o=getComputedStyle(e);return s-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),s}static getViewport(){let e=window,s=document,o=s.documentElement,d=s.getElementsByTagName("body")[0];return{width:e.innerWidth||o.clientWidth||d.clientWidth,height:e.innerHeight||o.clientHeight||d.clientHeight}}static getOffset(e){var s=e.getBoundingClientRect();return{top:s.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:s.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,s){let o=e.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(s,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,s){if(this.isElement(s))s.appendChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot append "+s+" to "+e;s.el.nativeElement.appendChild(e)}}static removeChild(e,s){if(this.isElement(s))s.removeChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot remove "+e+" from "+s;s.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let s=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);let o=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let s=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=s,s}static invokeElementMethod(e,s,o){e[s].apply(e,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),s=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let s=i.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),o=[];for(let d of s)"none"!=getComputedStyle(d).display&&"hidden"!=getComputedStyle(d).visibility&&o.push(d);return o}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return i.zindex=1e3,i.calculatedScrollbarWidth=null,i.calculatedScrollbarHeight=null,i})(),Dz=(()=>{class i{constructor(e,s,o){this.el=e,this.zone=s,this.config=o}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let s=this.getInk();if(!s||"none"===getComputedStyle(s,null).display)return;if(Yn.removeClass(s,"p-ink-active"),!Yn.getHeight(s)&&!Yn.getWidth(s)){let C=Math.max(Yn.getOuterWidth(this.el.nativeElement),Yn.getOuterHeight(this.el.nativeElement));s.style.height=C+"px",s.style.width=C+"px"}let o=Yn.getOffset(this.el.nativeElement),d=e.pageX-o.left+document.body.scrollTop-Yn.getWidth(s)/2,m=e.pageY-o.top+document.body.scrollLeft-Yn.getHeight(s)/2;s.style.top=m+"px",s.style.left=d+"px",Yn.addClass(s,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Yn.removeClass(e,"p-ink-active")}onAnimationEnd(e){Yn.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Yn.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(nR,8))},i.\u0275dir=c.lG2({type:i,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,s){2&e&&c.ekj("p-ripple",!0)}}),i})(),iR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni]]}),i})(),Mz=(()=>{class i{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Yn.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&Yn.addClass(e,s),Yn.addMultipleClasses(e,this.getIconClass());let o=Yn.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=Yn.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=Yn.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(Yn.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),i})(),dL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,iR]]}),i})();var fL=0;const Oz=["content"];function Pz(i,t){1&i&&c.GkF(0)}function Nz(i,t){if(1&i&&(c.TgZ(0,"div",10),c.YNc(1,Pz,1,0,"ng-container",11),c.qZA()),2&i){const e=c.oxw(3);c.xp6(1),c.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Fz(i,t){if(1&i&&(c.TgZ(0,"span",15),c._uU(1),c.qZA()),2&i){const e=c.oxw(4);c.xp6(1),c.Oqu(e.option("header"))}}const Lz=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Vz(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(o){return c.CHM(e),c.oxw(4).close(o)})("keydown.enter",function(o){return c.CHM(e),c.oxw(4).close(o)}),c._UZ(1,"span",17),c.qZA()}2&i&&c.Q6J("ngClass",c.DdM(1,Lz))}function Bz(i,t){if(1&i&&(c.TgZ(0,"div",10),c.YNc(1,Fz,2,1,"span",12),c.TgZ(2,"div",13),c.YNc(3,Vz,2,2,"button",14),c.qZA(),c.qZA()),2&i){const e=c.oxw(3);c.xp6(1),c.Q6J("ngIf",e.option("header")),c.xp6(2),c.Q6J("ngIf",e.closable)}}function Hz(i,t){if(1&i&&c._UZ(0,"i",1),2&i){const e=c.oxw(3);c.Tol(e.option("icon")),c.Q6J("ngClass","p-confirm-dialog-icon")}}function Uz(i,t){1&i&&c.GkF(0)}function zz(i,t){if(1&i&&(c.TgZ(0,"div",18),c.Hsn(1),c.YNc(2,Uz,1,0,"ng-container",11),c.qZA()),2&i){const e=c.oxw(3);c.xp6(2),c.Q6J("ngTemplateOutlet",e.footerTemplate)}}function jz(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){return c.CHM(e),c.oxw(4).reject()}),c.qZA()}if(2&i){const e=c.oxw(4);c.Tol(e.option("rejectButtonStyleClass")),c.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),c.uIk("aria-label",e.rejectAriaLabel)}}function Gz(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){return c.CHM(e),c.oxw(4).accept()}),c.qZA()}if(2&i){const e=c.oxw(4);c.Tol(e.option("acceptButtonStyleClass")),c.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),c.uIk("aria-label",e.acceptAriaLabel)}}function Yz(i,t){if(1&i&&(c.TgZ(0,"div",18),c.YNc(1,jz,1,6,"button",19),c.YNc(2,Gz,1,6,"button",19),c.qZA()),2&i){const e=c.oxw(3);c.xp6(1),c.Q6J("ngIf",e.option("rejectVisible")),c.xp6(1),c.Q6J("ngIf",e.option("acceptVisible"))}}const Wz=function(i){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":i}},qz=function(i,t){return{transform:i,transition:t}},Xz=function(i){return{value:"visible",params:i}};function $z(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("mousedown",function(){return c.CHM(e),c.oxw(2).moveOnTop()})("@animation.start",function(o){return c.CHM(e),c.oxw(2).onAnimationStart(o)})("@animation.done",function(o){return c.CHM(e),c.oxw(2).onAnimationEnd(o)}),c.YNc(1,Nz,2,1,"div",4),c.YNc(2,Bz,4,2,"div",4),c.TgZ(3,"div",5,6),c.YNc(5,Hz,1,3,"i",7),c._UZ(6,"span",8),c.qZA(),c.YNc(7,zz,3,1,"div",9),c.YNc(8,Yz,3,2,"div",9),c.qZA()}if(2&i){const e=c.oxw(2);c.Tol(e.styleClass),c.Q6J("ngClass",c.VKq(11,Wz,e.rtl))("ngStyle",e.style)("@animation",c.VKq(16,Xz,c.WLB(13,qz,e.transformOptions,e.transitionOptions))),c.xp6(1),c.Q6J("ngIf",e.headerTemplate),c.xp6(1),c.Q6J("ngIf",!e.headerTemplate),c.xp6(3),c.Q6J("ngIf",e.option("icon")),c.xp6(1),c.Q6J("innerHTML",e.option("message"),c.oJD),c.xp6(1),c.Q6J("ngIf",e.footer||e.footerTemplate),c.xp6(1),c.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function Zz(i,t){if(1&i&&(c.TgZ(0,"div",1),c.YNc(1,$z,9,18,"div",2),c.qZA()),2&i){const e=c.oxw();c.Tol(e.maskStyleClass),c.Q6J("ngClass",e.getMaskClass()),c.xp6(1),c.Q6J("ngIf",e.visible)}}const Qz=[[["p-footer"]]],Kz=["p-footer"],Jz=Ew([At({transform:"{{transform}}",opacity:0}),_i("{{transition}}",At({transform:"none",opacity:1}))]),ej=Ew([_i("{{transition}}",At({transform:"{{transform}}",opacity:0}))]);let tj=(()=>{class i{constructor(e,s,o,d,m,C){this.el=e,this.renderer=s,this.confirmationService=o,this.zone=d,this.cd=m,this.config=C,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new c.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id="pr_id_"+ ++fL,this.subscription=this.confirmationService.requireConfirmation$.subscribe(I=>{I?I.key===this.key&&(this.confirmation=I,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new c.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new c.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const s=this.confirmationOptions||this;if(s.hasOwnProperty(e))return s[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=Yn.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,"");const s=this.getElementToFocus();s&&s.focus(),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality()}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide()}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return Yn.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return Yn.findSingle(this.container,".p-confirm-dialog-reject");case"close":return Yn.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return Yn.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Yn.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&Yn.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&Yn.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Gf.CANCEL),this.hide(Gf.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Yn.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(Yn.zindex-1)))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const s=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(o=>o===this.position);return s?`p-dialog-${s}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{if(27==s.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===Yn.zindex+this.baseZIndex&&this.visible&&this.close(s),9===s.which&&this.focusTrap){s.preventDefault();let o=Yn.getFocusableElements(this.container);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let d=o.indexOf(o[0].ownerDocument.activeElement);s.shiftKey?-1==d||0===d?o[o.length-1].focus():o[d-1].focus():-1==d||d===o.length-1?o[0].focus():o[d+1].focus()}else o[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Gf.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Gf.REJECT),this.hide(Gf.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(oL.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(oL.REJECT)}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(fT),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(nR))},i.\u0275cmp=c.Xpm({type:i,selectors:[["p-confirmDialog"]],contentQueries:function(e,s,o){if(1&e&&(c.Suo(o,yz,5),c.Suo(o,_z,4)),2&e){let d;c.iGM(d=c.CRH())&&(s.footer=d.first),c.iGM(d=c.CRH())&&(s.templates=d)}},viewQuery:function(e,s){if(1&e&&c.Gf(Oz,5),2&e){let o;c.iGM(o=c.CRH())&&(s.contentViewChild=o.first)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Kz,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&(c.F$t(Qz),c.YNc(0,Zz,2,4,"div",0)),2&e&&c.Q6J("ngIf",s.maskVisible)},directives:[Qe,H,oi,tl,Dz,Mz],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[Zr("animation",[ri("void => visible",[Aw(Jz)]),ri("visible => void",[Aw(ej)])])]},changeDetection:0}),i})(),nj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,dL,iR],dL,aL]}),i})();const ij=["primaryValueBar"];class rj{constructor(t){this._elementRef=t}}const sj=kw(rj,"primary"),oj=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const i=(0,c.f3M)(Ve),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});let lj=0,pL=(()=>{class i extends sj{constructor(e,s,o,d){super(e),this._elementRef=e,this._ngZone=s,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=Cs.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+lj++;const m=d?d.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${m}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o}get value(){return this._value}set value(e){this._value=gL(Er(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=gL(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=w_(e,"transitionend").pipe(Si(s=>s.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Bl,8),c.Y36(oj,8))},i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-progress-bar"]],viewQuery:function(e,s){if(1&e&&c.Gf(ij,5),2&e){let o;c.iGM(o=c.CRH())&&(s._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,s){2&e&&(c.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),c.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1),c.TgZ(2,"defs"),c.TgZ(3,"pattern",2),c._UZ(4,"circle",3),c.qZA(),c.qZA(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5),c._UZ(7,"div",6,7),c._UZ(9,"div",8),c.qZA()),2&e&&(c.xp6(3),c.Q6J("id",s.progressbarId),c.xp6(2),c.uIk("fill",s._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",s._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",s._primaryTransform()))},directives:[oi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),i})();function gL(i,t=0,e=100){return Math.max(t,Math.min(e,i))}let mL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,qn],qn]}),i})();function cj(i,t){1&i&&(c.TgZ(0,"div",24),c._UZ(1,"mat-progress-bar",25),c.qZA())}function uj(i,t){1&i&&(c.TgZ(0,"th",26),c._uU(1,"No"),c.qZA())}function hj(i,t){if(1&i&&(c.TgZ(0,"td",27),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.Oqu(e.x)}}function dj(i,t){1&i&&(c.TgZ(0,"th",26),c._uU(1,"Item Name"),c.qZA()),2&i&&c.Udp("width","30%")}function fj(i,t){if(1&i&&(c.TgZ(0,"td",27),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.Oqu(e.id)}}function pj(i,t){1&i&&(c.TgZ(0,"th",26),c._uU(1,"Quantity"),c.qZA())}function gj(i,t){if(1&i&&(c.TgZ(0,"td",27),c._uU(1),c.qZA()),2&i){const e=t.$implicit;c.xp6(1),c.Oqu(e.key)}}function mj(i,t){1&i&&(c.TgZ(0,"th",26),c._uU(1,"Lowest Margin"),c.qZA()),2&i&&c.Udp("width","10%")}function vj(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"td",27),c.TgZ(1,"input",28),c.NdJ("click",function(o){const m=c.CHM(e).$implicit;return c.oxw().update(o,m.id)})("keyup.enter",function(o){const m=c.CHM(e).$implicit;return c.oxw().update(o,m.id)}),c.qZA(),c.qZA()}if(2&i){const e=t.$implicit;c.xp6(1),c.Q6J("value",e.lowestmargin)}}function yj(i,t){1&i&&(c.TgZ(0,"th",26),c._uU(1," Action"),c.qZA())}function _j(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"td",27),c.TgZ(1,"button",29),c._uU(2,"VIEW HISTORY"),c.qZA(),c.TgZ(3,"button",30),c.NdJ("click",function(){const d=c.CHM(e).$implicit;return c.oxw().delete(d.id)}),c._uU(4,"DELETE"),c.qZA(),c.qZA()}if(2&i){const e=t.$implicit;c.xp6(3),c.Q6J("disabled",e.key>0)}}function bj(i,t){1&i&&c._UZ(0,"tr",31)}function xj(i,t){1&i&&c._UZ(0,"tr",32)}function wj(i,t){if(1&i&&(c.TgZ(0,"tr",33),c.TgZ(1,"td",34),c._uU(2),c.qZA(),c.qZA()),2&i){c.oxw();const e=c.MAs(14);c.xp6(2),c.hij(' No data matching the filter "',e.value,'" ')}}const Cj=function(){return[5,10,20]};let Sj=(()=>{class i{constructor(e,s,o,d){this.fs=e,this.admins=s,this.confirmationService=o,this.primengConfig=d,this.displayedColumns=["x","id","key","lowestmargin","action"],this.data=[],this.index=0,this.tableinfo$=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges(),this.tableinfo$.subscribe(m=>{this.data=[];let C=1;m.map(I=>{let F={x:C+++".",id:I.payload.doc.id,key:I.payload.doc.data().quantity,lowestmargin:I.payload.doc.data().lowestmargin};this.data.push(F),console.log(this.data),this.dataSource=new mz(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}ngOnInit(){this.primengConfig.ripple=!0}ngAfterViewInit(){}update(e,s){console.log(e.target.value),console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(s).update({lowestmargin:e.target.value})}delete(e){this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e).delete()}})}value(e){console.log(e)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase().toString()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Jc),c.Y36(lL),c.Y36(fT),c.Y36(nR))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-admin-manage-inventory"]],viewQuery:function(e,s){if(1&e&&(c.Gf(qF,5),c.Gf(pk,5)),2&e){let o;c.iGM(o=c.CRH())&&(s.paginator=o.first),c.iGM(o=c.CRH())&&(s.sort=o.first)}},features:[c._Bn([fT])],decls:38,vars:10,consts:[["class","loader-container",4,"ngIf"],[1,"title"],["id","invtitle"],["id","add","mat-raised-button",""],["appearance","standard","id","filter"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Egg",3,"keyup"],["input",""],["id","table",1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","x"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"name"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","key"],["matColumnDef","lowestmargin"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"loader-container"],["mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["type","number","id","form1","min","0",1,"form-control",3,"value","click","keyup.enter"],["routerLink","/adminpage","mat-raised-button",""],["mat-raised-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(c.TgZ(0,"body"),c._UZ(1,"app-adminnavbarpage"),c.YNc(2,cj,2,0,"div",0),c.ALo(3,"async"),c.TgZ(4,"div",1),c.TgZ(5,"h4",2),c._uU(6,"Manage Inventory"),c.qZA(),c.TgZ(7,"button",3),c._uU(8,"ADD ORDER"),c.qZA(),c.qZA(),c.TgZ(9,"mat-form-field",4),c.TgZ(10,"mat-label"),c._UZ(11,"i",5),c._uU(12," Search"),c.qZA(),c.TgZ(13,"input",6,7),c.NdJ("keyup",function(d){return s.applyFilter(d)}),c.qZA(),c.qZA(),c.TgZ(15,"div",8),c.TgZ(16,"table",9),c.ynx(17,10),c.YNc(18,uj,2,0,"th",11),c.YNc(19,hj,2,1,"td",12),c.BQk(),c.TgZ(20,"div",13),c.ynx(21,14),c.YNc(22,dj,2,2,"th",15),c.YNc(23,fj,2,1,"td",12),c.BQk(),c.qZA(),c.ynx(24,16),c.YNc(25,pj,2,0,"th",11),c.YNc(26,gj,2,1,"td",12),c.BQk(),c.ynx(27,17),c.YNc(28,mj,2,2,"th",15),c.YNc(29,vj,2,1,"td",12),c.BQk(),c.ynx(30,18),c.YNc(31,yj,2,0,"th",11),c.YNc(32,_j,5,1,"td",12),c.BQk(),c.YNc(33,bj,1,0,"tr",19),c.YNc(34,xj,1,0,"tr",20),c.YNc(35,wj,3,1,"tr",21),c.qZA(),c._UZ(36,"mat-paginator",22),c.qZA(),c._UZ(37,"p-confirmDialog",23),c.qZA()),2&e&&(c.xp6(2),c.Q6J("ngIf",c.lcZ(3,7,s.admins.isLoading)),c.xp6(14),c.Udp("width","100%"),c.Q6J("dataSource",s.dataSource),c.xp6(17),c.Q6J("matHeaderRowDef",s.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",s.displayedColumns),c.xp6(2),c.Q6J("pageSizeOptions",c.DdM(9,Cj)))},directives:[KI,Qe,F1,PN,wk,Az,eL,pk,Jk,Kk,Qk,tL,nL,sL,qF,tj,pL,eR,RB,tR,jp,iL,rL],pipes:[$f],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}.tableInv[_ngcontent-%COMP%]{margin:20px}.mat-elevation-z8[_ngcontent-%COMP%]{width:90%;margin:auto}td[_ngcontent-%COMP%]:hover{background:#f5f5f5}.title[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#add[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3.4rem;margin-top:20px}#invtitle[_ngcontent-%COMP%]{position:absolute;left:0;margin-left:3.4rem;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px}button[_ngcontent-%COMP%]:hover{color:red}button[_ngcontent-%COMP%]:disabled{background:grey}#table[_ngcontent-%COMP%]{margin-top:8rem}#filter[_ngcontent-%COMP%]{position:absolute;right:4.5rem;z-index:999;top:8rem}"]}),i})(),rR=(()=>{class i{constructor(e,s,o,d){this.auth=e,this.router=s,this.fauth=o,this.fs=d}canActivate(e,s){var o=this;return ar(function*(){let d=yield o.auth.getAdminStatus();return console.log(d),0!=d||(o.router.navigateByUrl(""),!1)})()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(ca),c.LFG(Ii),c.LFG(Ss),c.LFG(Jc))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$w=(()=>{class i{constructor(e,s,o){this.auth=e,this.router=s,this.fauth=o}canActivate(e,s){return this.fauth.authState.pipe((0,Pt.U)(o=>(console.log(o),!!o||(this.router.navigate([""],{queryParams:{returnUrl:s.url}}),!1))))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(ca),c.LFG(Ii),c.LFG(Ss))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vL=(()=>{class i{constructor(e,s,o,d){this.auth=e,this.as=s,this.fs=o,this.router=d}canActivate(e,s){var o=this;return ar(function*(){let d=yield o.as.getStudentStatus();return console.log(d),0!=d||(o.router.navigateByUrl(""),!1)})()}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Ss),c.LFG(ca),c.LFG(Jc),c.LFG(Ii))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ej(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"button",2),c.NdJ("click",function(){return c.CHM(e),c.oxw().action()}),c._uU(2),c.qZA(),c.qZA()}if(2&i){const e=c.oxw();c.xp6(2),c.Oqu(e.data.action)}}function Aj(i,t){}const yL=new c.OlP("MatSnackBarData");class pT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Tj=Math.pow(2,31)-1;class sR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Lt.xQ,this._afterOpened=new Lt.xQ,this._onAction=new Lt.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Tj))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Dj=(()=>{class i{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(sR),c.Y36(yL))},i.\u0275cmp=c.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,s){1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA(),c.YNc(2,Ej,3,1,"div",0)),2&e&&(c.xp6(1),c.Oqu(s.data.message),c.xp6(1),c.Q6J("ngIf",s.hasAction))},directives:[Qe,F1],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),i})();const Ij={snackBarState:Zr("state",[ki("void, hidden",At({transform:"scale(0.8)",opacity:0})),ki("visible",At({transform:"scale(1)",opacity:1})),ri("* => visible",_i("150ms cubic-bezier(0, 0, 0.2, 1)")),ri("* => void, * => hidden",_i("75ms cubic-bezier(0.4, 0.0, 1, 1)",At({opacity:0})))])};let Mj=(()=>{class i extends H1{constructor(e,s,o,d,m){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=o,this._platform=d,this.snackBarConfig=m,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Lt.xQ,this._onExit=new Lt.xQ,this._onEnter=new Lt.xQ,this._animationState="void",this.attachDomPortal=C=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(C)),this._live="assertive"!==m.politeness||m.announcementMessage?"off"===m.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:s,toState:o}=e;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const d=this._onEnter;this._ngZone.run(()=>{d.next(),d.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Un(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>e.classList.add(o)):e.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Gn),c.Y36(pT))},i.\u0275cmp=c.Xpm({type:i,selectors:[["snack-bar-container"]],viewQuery:function(e,s){if(1&e&&c.Gf(S_,7),2&e){let o;c.iGM(o=c.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,s){1&e&&c.WFA("@state.done",function(d){return s.onAnimationEnd(d)}),2&e&&c.d8E("@state",s._animationState)},features:[c.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.YNc(1,Aj,0,0,"ng-template",1),c.qZA(),c._UZ(2,"div")),2&e&&(c.xp6(2),c.uIk("aria-live",s._live)("role",s._role))},directives:[S_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Ij.snackBarState]}}),i})(),_L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[z1,bk,Ni,gk,qn],qn]}),i})();const bL=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new pT}});let xL=(()=>{class i{constructor(e,s,o,d,m,C){this._overlay=e,this._live=s,this._injector=o,this._breakpointObserver=d,this._parentSnackBar=m,this._defaultConfig=C,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Dj,this.snackBarContainerComponent=Mj,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",o){const d=Object.assign(Object.assign({},this._defaultConfig),o);return d.data={message:e,action:s},d.announcementMessage===e&&(d.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,d)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const d=c.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:pT,useValue:s}]}),m=new C_(this.snackBarContainerComponent,s.viewContainerRef,d),C=e.attach(m);return C.instance.snackBarConfig=s,C.instance}_attach(e,s){const o=Object.assign(Object.assign(Object.assign({},new pT),this._defaultConfig),s),d=this._createOverlay(o),m=this._attachSnackBarContainer(d,o),C=new sR(m,d);if(e instanceof c.Rgc){const I=new Fw(e,null,{$implicit:o.data,snackBarRef:C});C.instance=m.attachTemplatePortal(I)}else{const I=this._createInjector(o,C),F=new C_(e,void 0,I),z=m.attachComponentPortal(F);C.instance=z.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hi(d.detachments())).subscribe(I=>{const F=d.overlayElement.classList;I.matches?F.add(this.handsetCssClass):F.remove(this.handsetCssClass)}),o.announcementMessage&&m._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(C,o),this._openedSnackBarRef=C,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new U1;s.direction=e.direction;let o=this._overlay.position().global();const d="rtl"===e.direction,m="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!d||"end"===e.horizontalPosition&&d,C=!m&&"center"!==e.horizontalPosition;return m?o.left("0"):C?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(e,s){return c.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:sR,useValue:s},{provide:yL,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Hl),c.LFG(om),c.LFG(c.zs3),c.LFG(Uk),c.LFG(i,12),c.LFG(bL))},i.\u0275prov=(0,c.Yz7)({factory:function(){return new i((0,c.LFG)(Hl),(0,c.LFG)(om),(0,c.LFG)(c.gxx),(0,c.LFG)(Uk),(0,c.LFG)(i,12),(0,c.LFG)(bL))},token:i,providedIn:_L}),i})();function Rj(i,t){1&i&&(c.TgZ(0,"div",17),c._uU(1," Email Address is not registered. "),c.qZA())}function Oj(i,t){1&i&&c._UZ(0,"i",20)}function Pj(i,t){1&i&&c._UZ(0,"i",21)}function Nj(i,t){if(1&i&&(c.TgZ(0,"div"),c.YNc(1,Oj,1,0,"i",18),c.YNc(2,Pj,1,0,"i",19),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.fp.errors.required),c.xp6(1),c.Q6J("ngIf",e.fp.errors.email)}}let Fj=(()=>{class i{constructor(e,s,o,d){this.fb=e,this.service=s,this._snackBar=o,this.router=d,this.form2=this.fb.group({fpassword:["",[di.required,di.email]]})}ngOnInit(){}get fp(){return this.form2.get("fpassword")}forgotPassword(){var e=this;return ar(function*(){let s=yield e.service.forgotPassword(e.form2.get("fpassword").value);1==s?(e.form2.setErrors({notfound:!1}),e._snackBar.open("Forgot Password Email Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):0==s&&e.form2.setErrors({notfound:!0})})()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hk),c.Y36(ca),c.Y36(xL),c.Y36(Ii))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-forgotpassword-page"]],decls:26,vars:4,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"forgotpassword"],["class","alert alert-danger",4,"ngIf"],["action","",3,"formGroup"],[1,"error"],["type","email","placeholder","Email Address","required","","formControlName","fpassword"],[4,"ngIf"],[3,"disabled","click"],[1,"special"],["routerLink","/","href",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Please enter your email address.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of email address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Please enter your email address.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of email address is invalid.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(c._UZ(0,"link",0),c._UZ(1,"link",1),c._UZ(2,"link",2),c.TgZ(3,"body"),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c._UZ(6,"img",5),c.TgZ(7,"h1"),c._uU(8," UMP Supply Chain "),c._UZ(9,"br"),c._uU(10," Management System "),c.qZA(),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"h3"),c._uU(13,"Forgot Password?"),c.qZA(),c.YNc(14,Rj,2,0,"div",7),c.TgZ(15,"form",8),c.TgZ(16,"div",9),c._UZ(17,"input",10),c.YNc(18,Nj,3,2,"div",11),c.qZA(),c.TgZ(19,"button",12),c.NdJ("click",function(){return s.forgotPassword()}),c._uU(20," Reset Password "),c.qZA(),c.TgZ(21,"div",13),c.TgZ(22,"a",14),c._uU(23,"Back to Login?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.O4$(),c.TgZ(24,"svg",15),c._UZ(25,"path",16),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Q6J("ngIf",1==(null==s.form2.errors?null:s.form2.errors.notfound)),c.xp6(1),c.Q6J("formGroup",s.form2),c.xp6(3),c.Q6J("ngIf",s.fp.touched&&s.fp.invalid),c.xp6(1),c.Q6J("disabled",s.form2.invalid))},directives:[Qe,tT,X1,jf,E_,T_,q1,Gw,Xu],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.forgotpassword[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}h3[_ngcontent-%COMP%]{margin-left:.6rem}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;margin-left:4.8rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;margin-top:-1rem}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:2rem;top:-2rem;left:-2.5rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}.special[_ngcontent-%COMP%]{margin-left:1rem}}']}),i})();function Lj(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"div",22),c._uU(1," Please verify your email address. "),c.TgZ(2,"a",23),c.NdJ("click",function(){return c.CHM(e),c.oxw().sendVerifyEmail()}),c._uU(3," Click"),c.qZA(),c._uU(4," Here to send the verification email again. "),c.qZA()}}function Vj(i,t){1&i&&(c.TgZ(0,"div",22),c._uU(1," Your password is invalid. "),c.qZA())}function Bj(i,t){1&i&&(c.TgZ(0,"div",22),c._uU(1," Your email address is not registered. "),c.qZA())}function Hj(i,t){1&i&&c._UZ(0,"i",26)}function Uj(i,t){1&i&&c._UZ(0,"i",27)}function zj(i,t){if(1&i&&(c.TgZ(0,"div"),c.YNc(1,Hj,1,0,"i",24),c.YNc(2,Uj,1,0,"i",25),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.emailaddress.errors.required),c.xp6(1),c.Q6J("ngIf",e.emailaddress.errors.email)}}function jj(i,t){1&i&&c._UZ(0,"i",29)}function Gj(i,t){if(1&i&&(c.TgZ(0,"div",9),c.YNc(1,jj,1,0,"i",28),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.getpassword.errors.required)}}const Yj=function(i,t){return{"fa-eye":i,"fa-eye-slash":t}};let Wj=(()=>{class i{constructor(e,s){this.fb=e,this.service=s,this.email="",this.password="",this.errMessage="",this.visibility=!0,this.form=e.group({email:["",[di.required,di.email]],password:["",[di.required]]})}ngOnInit(){}example(e){return(0,Mt.of)(e)}onVisible(){this.visibility=!this.visibility}login(){var e=this;return ar(function*(){console.log(e.form),yield e.service.login(e.form.value.email,e.form.value.password),!1===e.service.emailVerified?e.form.setErrors({emailVerify:!0,wrongpassword:!1,notregister:!1}):!1===e.service.passwordVerified?(console.log("wrong password ts"),e.form.setErrors({wrongpassword:!0,notregister:!1})):!1===e.service.userVerified&&e.form.setErrors({notregister:!0,wrongpassword:!1})})()}sendVerifyEmail(){this.service.verificationemail()}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hk),c.Y36(ca))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-home-page"]],decls:34,vars:13,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"error"],["type","email","name","email","formControlName","email","placeholder","Email Address","required","",1,"icon-email",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"visible"],["name","password","placeholder","Password","formControlName","password","required","",1,"icon-password",3,"type"],[1,"far",3,"ngClass","click"],["class","error",4,"ngIf"],[1,"special"],["routerLink","/register",1,"new-user"],["routerLink","/forgotpassword",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],[1,"link",3,"click"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip"," Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",4,"ngIf"],["id","tooltip","data-tooltip"," Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(c._UZ(0,"link",0),c._UZ(1,"link",1),c._UZ(2,"link",2),c.TgZ(3,"body"),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c._UZ(6,"img",5),c.TgZ(7,"h1"),c._uU(8," UMP Supply Chain "),c._UZ(9,"br"),c._uU(10," Management System "),c.qZA(),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"h3"),c._uU(13,"User Login"),c.qZA(),c.TgZ(14,"form",7),c.YNc(15,Lj,5,0,"div",8),c.YNc(16,Vj,2,0,"div",8),c.YNc(17,Bj,2,0,"div",8),c.TgZ(18,"div",9),c.TgZ(19,"input",10),c.NdJ("ngModelChange",function(d){return s.email=d}),c.qZA(),c.YNc(20,zj,3,2,"div",11),c.qZA(),c.TgZ(21,"div",12),c._UZ(22,"input",13),c.TgZ(23,"i",14),c.NdJ("click",function(){return s.onVisible()}),c.qZA(),c.qZA(),c.YNc(24,Gj,2,1,"div",15),c.TgZ(25,"div",16),c.TgZ(26,"a",17),c._uU(27,"New User? Create one!"),c.qZA(),c.TgZ(28,"a",18),c._uU(29,"Forgot Password?"),c.qZA(),c.qZA(),c.TgZ(30,"button",19),c.NdJ("click",function(){return s.login()}),c._uU(31,"Login"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.O4$(),c.TgZ(32,"svg",20),c._UZ(33,"path",21),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Q6J("formGroup",s.form),c.xp6(1),c.Q6J("ngIf",null==s.form.error?null:s.form.error.emailVerify),c.xp6(1),c.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.wrongpassword)),c.xp6(1),c.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.notregister)),c.xp6(2),c.Q6J("ngModel",s.email),c.xp6(1),c.Q6J("ngIf",s.emailaddress.invalid&&s.emailaddress.touched),c.xp6(2),c.Q6J("type",s.visibility?"password":"text"),c.xp6(1),c.Q6J("ngClass",c.WLB(10,Yj,!s.visibility,s.visibility)),c.xp6(1),c.Q6J("ngIf",s.getpassword.touched&&s.getpassword.invalid),c.xp6(6),c.Q6J("disabled",s.form.invalid))},directives:[tT,X1,jf,Qe,E_,q1,Gw,T_,H,Xu],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.alert.alert-danger[_ngcontent-%COMP%]{text-align:justify}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;margin-left:10%;position:relative}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}.link[_ngcontent-%COMP%]{color:red;text-decoration:underline;margin:0}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 1rem 2px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}p[_ngcontent-%COMP%]{font-size:12px;height:1px;margin-top:-10px;color:red}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:1rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}}']}),i})();class oR{constructor(){}static passwordVerification(t){let e=t.get("rpassword"),s=t.get("rconfirmpassword");return(null==e?void 0:e.value)!==(null==s?void 0:s.value)?{passwordVerification:!0}:null}static checkRole(t){return"Role"===t.value?(console.log("Role"),{checkRole:!0}):null}static checkGender(t){return"Gender"===t.value?(console.log("Gender"),{gender:!0}):null}static checkMatricCard(t){return"Matric Card Number"===t.value?(console.log("Matric Card Number"),{checkMatrixCard:!0}):null}static checkCompanyName(t){return"Company Name"===t.value?(console.log("Matrix Card"),{checkMatrixCard:!0}):null}}let qj=(()=>{class i{constructor(e){this.el=e}onBlur(){this.el.nativeElement.value=this.el.nativeElement.value.toUpperCase()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","appRegisterD",""]],hostBindings:function(e,s){1&e&&c.NdJ("blur",function(){return s.onBlur()})}}),i})();function Xj(i,t){1&i&&c._UZ(0,"i",34)}function $j(i,t){1&i&&c._UZ(0,"i",35)}function Zj(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,Xj,1,0,"i",32),c.YNc(2,$j,1,0,"i",33),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.e.errors.required),c.xp6(1),c.Q6J("ngIf",e.e.errors.email)}}function Qj(i,t){1&i&&(c.TgZ(0,"div",36),c._uU(1," Email Address is existed. "),c.qZA())}function Kj(i,t){1&i&&c._UZ(0,"i",39)}function Jj(i,t){1&i&&c._UZ(0,"i",40)}function eG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,Kj,1,0,"i",37),c.YNc(2,Jj,1,0,"i",38),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.p.errors.required),c.xp6(1),c.Q6J("ngIf",e.p.errors.minlength)}}function tG(i,t){1&i&&c._UZ(0,"i",39)}function nG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,tG,1,0,"i",37),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.cp.errors.required)}}function iG(i,t){1&i&&(c.TgZ(0,"div",31),c._UZ(1,"i",41),c.qZA())}function rG(i,t){1&i&&c._UZ(0,"i",43)}function sG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,rG,1,0,"i",42),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.name.errors.required)}}function oG(i,t){1&i&&c._UZ(0,"i",45)}function aG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,oG,1,0,"i",44),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.pn.errors.required)}}function lG(i,t){1&i&&(c.TgZ(0,"div",36),c._uU(1," Date of Birth is required. "),c.qZA())}function cG(i,t){if(1&i&&(c.TgZ(0,"div"),c.YNc(1,lG,2,0,"div",10),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.d.errors.required)}}function uG(i,t){1&i&&(c.TgZ(0,"div",36),c._uU(1," Gender is required. "),c.qZA())}function hG(i,t){if(1&i&&(c.TgZ(0,"div"),c.YNc(1,uG,2,0,"div",10),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.g.errors.required)}}function dG(i,t){1&i&&c._UZ(0,"i",47)}function fG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,dG,1,0,"i",46),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.r.errors.role)}}function pG(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"input",48),c.NdJ("change",function(o){return c.CHM(e),c.oxw().checkEmpty(o)}),c.qZA()}}function gG(i,t){1&i&&c._UZ(0,"i",50)}function mG(i,t){if(1&i&&(c.TgZ(0,"div",31),c.YNc(1,gG,1,0,"i",49),c.qZA()),2&i){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.matrix.errors.role)}}function vG(i,t){if(1&i){const e=c.EpF();c.TgZ(0,"input",51),c.NdJ("change",function(o){return c.CHM(e),c.oxw().checkEmpty(o)}),c.qZA()}}const wL=function(i,t){return{"fa-eye":i,"fa-eye-slash":t}},yG=[{path:"",component:Wj},{path:"register",component:(()=>{class i{constructor(e,s,o,d,m,C){this.fb=e,this.auth=s,this.firestore=o,this.service=d,this._snackBar=m,this.router=C,this.visibility=!0,this.triggedMessage=!0,this.student=!1,this.supplier=!1,this.form1=e.group({remail:["",[di.required,di.email]],rpassword:["",[di.required,di.minLength]],rconfirmpassword:["",[di.required]],name:["",[di.required]],phonenumber:["",di.required],date:["",di.required],role:["Role",[di.required,oR.checkRole]],gender:["Gender",[di.required,oR.checkGender]],matrix:[""],comp:[""]},{validator:oR.passwordVerification})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}getRole(e){this.role=e.target.value,1==this.role?(this.student=!0,this.supplier=!1):2==this.role?(this.supplier=!0,this.student=!1):"Role"==this.role&&(this.student=!1,this.supplier=!1),console.log(this.role)}checkform(e){console.log(e);for(let s in this.form1.controls)this.form1.controls[s].errors&&console.log(s)}checkEmpty(e){console.log(e.target.value.length),0==e.target.value.length?this.form1.setErrors({matrixError:!0}):e.target.value.length>0&&this.form1.setErrors(null)}getDate(e){this.date=e.target.value}getGender(e){this.gender=e.target.value}get cp(){return this.form1.get("rconfirmpassword")}get p(){return this.form1.get("rpassword")}get e(){return this.form1.get("remail")}get name(){return this.form1.get("name")}get pn(){return this.form1.get("phonenumber")}get d(){return this.form1.get("date")}get g(){return this.form1.get("gender")}get r(){return this.form1.get("role")}get matrix(){return this.form1.get("matrix")}get comp(){return this.form1.get("comp")}submit(){var e=this;return ar(function*(){var s,o,d,m,C,I,F,z,X;yield e.service.checkExistedEmail(null===(s=e.form1.get("remail"))||void 0===s?void 0:s.value),console.log(e.service.emailExistedStatus);let te=yield e.service.register(null===(o=e.form1.get("remail"))||void 0===o?void 0:o.value,e.form1.get("rpassword").value,null===(d=e.form1.get("role"))||void 0===d?void 0:d.value,null===(m=e.form1.get("name"))||void 0===m?void 0:m.value,null===(C=e.form1.get("date"))||void 0===C?void 0:C.value,null===(I=e.form1.get("phonenumber"))||void 0===I?void 0:I.value,null===(F=e.form1.get("gender"))||void 0===F?void 0:F.value,null===(z=e.form1.get("matrix"))||void 0===z?void 0:z.value,null===(X=e.form1.get("comp"))||void 0===X?void 0:X.value);1==te?(e.form1.setErrors({emailExist:!0}),console.log(e.form1)):e.form1.setErrors({emailExist:!1}),!0===te.validate?(e._snackBar.open("Register Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):e._snackBar.open("Please try again!","Close",{duration:3e3,verticalPosition:"top"})})()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hk),c.Y36(Ss),c.Y36(Jc),c.Y36(ca),c.Y36(xL),c.Y36(Ii))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-register-page"]],decls:59,vars:25,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"registration"],[3,"formGroup","change"],["type","text","placeholder","Email Address","formControlName","remail","required","",1,"icon-email"],["class","error",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"visible"],["name","rpassword","placeholder","Password","required","","formControlName","rpassword","minlength","6",1,"i",3,"type"],[1,"far",3,"ngClass","click"],["name","rconfirmpassword","placeholder","Confirm Password","required","","formControlName","rconfirmpassword",1,"i",3,"type"],["type","text","name","","placeholder","Name","formControlName","name","required","","appRegisterD","",1,"i"],["type","text","placeholder","Phone Number","formControlName","phonenumber","required","",1,"i"],["type","date","placeholder","Date","formControlName","date","required","",1,"i",3,"change"],[4,"ngIf"],["aria-label","Default select example","formControlName","gender","required","",1,"form-select",3,"change"],["selected",""],["value","1"],["value","2"],["aria-label","Default select example","required","","formControlName","role",1,"form-select","mt-2",3,"change"],["type","text","placeholder","Matrix Card Number","formControlName","matrix","class","i",3,"change",4,"ngIf"],["type","text","placeholder","Company Name","formControlName","comp","class","i",3,"change",4,"ngIf"],[1,"special"],["routerLink","/",1,"new-user"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"error"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of Email Address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of Email Address is invalid.",1,"fas","fa-exclamation-triangle"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Password is not matched.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Name is required.",4,"ngIf"],["id","tooltip","data-tooltip","Name is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Phone Number is required.",4,"ngIf"],["id","tooltip","data-tooltip","Phone Number is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Role is required.",4,"ngIf"],["id","tooltip","data-tooltip","Role is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Matrix Card Number","formControlName","matrix",1,"i",3,"change"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Matrix Card is required.",4,"ngIf"],["id","tooltip","data-tooltip","Matrix Card is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Company Name","formControlName","comp",1,"i",3,"change"]],template:function(e,s){1&e&&(c._UZ(0,"link",0),c._UZ(1,"link",1),c._UZ(2,"link",2),c.TgZ(3,"body"),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c._UZ(6,"img",5),c.TgZ(7,"h1"),c._uU(8," UMP Supply Chain "),c._UZ(9,"br"),c._uU(10," Management System "),c.qZA(),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"h3"),c._uU(13,"Sign Up "),c.qZA(),c.TgZ(14,"form",7),c.NdJ("change",function(){return s.checkform(s.form1)}),c._UZ(15,"input",8),c.YNc(16,Zj,3,2,"div",9),c.YNc(17,Qj,2,0,"div",10),c.TgZ(18,"div",11),c._UZ(19,"input",12),c.TgZ(20,"i",13),c.NdJ("click",function(){return s.onVisible()}),c.qZA(),c.qZA(),c.YNc(21,eG,3,2,"div",9),c.TgZ(22,"div",11),c._UZ(23,"input",14),c.TgZ(24,"i",13),c.NdJ("click",function(){return s.onVisible()}),c.qZA(),c.qZA(),c.YNc(25,nG,2,1,"div",9),c.YNc(26,iG,2,0,"div",9),c._UZ(27,"input",15),c.YNc(28,sG,2,1,"div",9),c._UZ(29,"input",16),c.YNc(30,aG,2,1,"div",9),c.TgZ(31,"input",17),c.NdJ("change",function(d){return s.getDate(d)}),c.qZA(),c.YNc(32,cG,2,1,"div",18),c.TgZ(33,"select",19),c.NdJ("change",function(d){return s.getGender(d)}),c.TgZ(34,"option",20),c._uU(35,"Gender"),c.qZA(),c.TgZ(36,"option",21),c._uU(37,"Male"),c.qZA(),c.TgZ(38,"option",22),c._uU(39,"Female"),c.qZA(),c.qZA(),c.YNc(40,hG,2,1,"div",18),c.TgZ(41,"select",23),c.NdJ("change",function(d){return s.getRole(d)}),c.TgZ(42,"option"),c._uU(43,"Role"),c.qZA(),c.TgZ(44,"option",21),c._uU(45,"Student"),c.qZA(),c.TgZ(46,"option",22),c._uU(47,"Supplier"),c.qZA(),c.qZA(),c.YNc(48,fG,2,1,"div",9),c.YNc(49,pG,1,0,"input",24),c.YNc(50,mG,2,1,"div",9),c.YNc(51,vG,1,0,"input",25),c.TgZ(52,"div",26),c.TgZ(53,"a",27),c._uU(54,"Already Registered? Login Now!"),c.qZA(),c.qZA(),c.TgZ(55,"button",28),c.NdJ("click",function(){return s.submit()}),c._uU(56,"Sign Up"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.O4$(),c.TgZ(57,"svg",29),c._UZ(58,"path",30),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Q6J("formGroup",s.form1),c.xp6(2),c.Q6J("ngIf",s.e.touched&&s.e.invalid),c.xp6(1),c.Q6J("ngIf",null==s.form1.errors?null:s.form1.errors.emailExist),c.xp6(2),c.Q6J("type",s.visibility?"password":"text"),c.xp6(1),c.Q6J("ngClass",c.WLB(19,wL,!s.visibility,s.visibility)),c.xp6(1),c.Q6J("ngIf",s.p.touched&&s.p.invalid),c.xp6(2),c.Q6J("type",s.visibility?"password":"text"),c.xp6(1),c.Q6J("ngClass",c.WLB(22,wL,!s.visibility,s.visibility)),c.xp6(1),c.Q6J("ngIf",s.cp.touched&&s.cp.invalid),c.xp6(1),c.Q6J("ngIf",(null==s.form1.errors?null:s.form1.errors.passwordVerification)&&s.cp.valid&&s.p.valid),c.xp6(2),c.Q6J("ngIf",s.name.touched&&s.name.invalid),c.xp6(2),c.Q6J("ngIf",s.pn.touched&&s.pn.invalid),c.xp6(2),c.Q6J("ngIf",s.d.touched&&s.d.invalid),c.xp6(8),c.Q6J("ngIf",s.g.touched&&s.g.invalid),c.xp6(8),c.Q6J("ngIf",s.r.touched&&s.r.invalid),c.xp6(1),c.Q6J("ngIf",1==s.student),c.xp6(1),c.Q6J("ngIf",s.matrix.touched&&s.matrix.invalid),c.xp6(1),c.Q6J("ngIf",1==s.supplier),c.xp6(4),c.Q6J("disabled",s.form1.invalid))},directives:[tT,X1,jf,E_,q1,Gw,T_,Qe,Bk,H,qj,nT,CF,EF,Xu],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:400px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;padding-left:8rem}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-4rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;padding-top:10px}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px 2.5px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:-2.25rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100%;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:4rem;top:-2rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999;display:none}.registration[_ngcontent-%COMP%]{margin-top:-1.5rem}.title[_ngcontent-%COMP%]{margin-top:100px}}.i.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}']}),i})()},{path:"forgotpassword",component:Fj},{path:"adminpage",component:eO,canActivate:[$w,rR]},{path:"adminmanageinv",component:Sj,canActivate:[$w,rR]},{path:"studentpage",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-student-home-page"]],decls:2,vars:0,template:function(e,s){1&e&&(c.TgZ(0,"p"),c._uU(1,"student-home-page works!"),c.qZA())},styles:[""]}),i})(),canActivate:[$w,vL]},{path:"supplierpage",component:dd,canActivate:[$w,iw]}];let _G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Sv.forRoot(yG)],Sv]}),i})(),bG=(()=>{class i{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&c._UZ(0,"router-outlet")},directives:[IC],styles:[""]}),i})(),IG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[qn],qn]}),i})();ge(205);const uR=new c.OlP("HTTP_INTERCEPTORS");let JG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[qn],qn]}),i})();function HL(i,t,e){const s={timing:i,delay:0,rotateX:t,rotateY:e};return Ew([At({"backface-visibility":"visible"}),_i("{{ timing }}s {{ delay }}s ease-in",Fh([At({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),At({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),At({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),At({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),At({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:s})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),HL(1,1,0),HL(1,0,1),Ew(_i("{{ timing }}s {{ delay }}s",Fh([At({transform:"translate3d(0, 0, 0)",offset:0}),At({transform:"translate3d(-10px, 0, 0)",offset:.1}),At({transform:"translate3d(10px, 0, 0)",offset:.2}),At({transform:"translate3d(-10px, 0, 0)",offset:.3}),At({transform:"translate3d(10px, 0, 0)",offset:.4}),At({transform:"translate3d(-10px, 0, 0)",offset:.5}),At({transform:"translate3d(10px, 0, 0)",offset:.6}),At({transform:"translate3d(-10px, 0, 0)",offset:.7}),At({transform:"translate3d(10px, 0, 0)",offset:.8}),At({transform:"translate3d(-10px, 0, 0)",offset:.9}),At({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let M4=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,mL,IG,JG,hk]]}),i})();var k4=ge(3300);window.ApexCharts=ge.n(k4)();let P4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[]]}),i})();function N4(i,t){if(1&i&&(c.O4$(),c._UZ(0,"circle",3)),2&i){const e=c.oxw();c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}function F4(i,t){if(1&i&&(c.O4$(),c._UZ(0,"circle",3)),2&i){const e=c.oxw();c.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}class H4{constructor(t){this._elementRef=t}}const U4=kw(H4,"primary"),jL=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class jh extends U4{constructor(t,e,s,o,d){super(t),this._elementRef=t,this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const m=jh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(s.head)||m.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!d&&!d._forceAnimations,d&&(d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Er(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Er(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Er(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=AM(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,s=jh._diameters;let o=s.get(t);if(!o||!o.has(e)){const d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),t.appendChild(d),o||(o=new Set,s.set(t,o)),o.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}jh.\u0275fac=function(t){return new(t||jh)(c.Y36(c.SBq),c.Y36(Gn),c.Y36(Ve,8),c.Y36(Bl,8),c.Y36(jL))},jh.\u0275cmp=c.Xpm({type:jh,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(c.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),c.Udp("width",e.diameter,"px")("height",e.diameter,"px"),c.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(c.O4$(),c.TgZ(0,"svg",0),c.YNc(1,N4,1,9,"circle",1),c.YNc(2,F4,1,7,"circle",2),c.qZA()),2&t&&(c.Udp("width",e.diameter,"px")("height",e.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===e.mode),c.uIk("viewBox",e._getViewBox()),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[un,St],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),jh._diameters=new WeakMap;let G4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[qn,Ni],qn]}),i})(),Y4=(()=>{class i{constructor(e){this.admins=e}intercept(e,s){return this.admins.isLoading.next(!0),s.handle(e).pipe(uo(()=>{this.admins.isLoading.next(!1)}))}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(lL))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function W4(i,t){}class gR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const q4={dialogContainer:Zr("dialogContainer",[ki("void, exit",At({opacity:0,transform:"scale(0.7)"})),ki("enter",At({transform:"none"})),ri("* => enter",_i("150ms cubic-bezier(0, 0, 0.2, 1)",At({transform:"none",opacity:1}))),ri("* => void, * => exit",_i("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",At({opacity:0})))])};let X4=(()=>{class i extends H1{constructor(e,s,o,d,m,C){super(),this._elementRef=e,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=m,this._focusMonitor=C,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(I)),this._ariaLabelledBy=m.ariaLabelledBy||null,this._document=d}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const s=this._getActiveElement(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=this._getActiveElement();return e===s||e.contains(s)}_getActiveElement(){var e;const s=this._document.activeElement;return(null===(e=null==s?void 0:s.shadowRoot)||void 0===e?void 0:e.activeElement)||s}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq),c.Y36(a1),c.Y36(c.sBO),c.Y36(Ve,8),c.Y36(gR),c.Y36(Fl))},i.\u0275dir=c.lG2({type:i,viewQuery:function(e,s){if(1&e&&c.Gf(S_,7),2&e){let o;c.iGM(o=c.CRH())&&(s._portalOutlet=o.first)}},features:[c.qOj]}),i})(),$4=(()=>{class i extends X4{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:s}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:e,totalTime:s}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=c.n5z(i)))(s||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,s){1&e&&c.WFA("@dialogContainer.start",function(d){return s._onAnimationStart(d)})("@dialogContainer.done",function(d){return s._onAnimationDone(d)}),2&e&&(c.Ikx("id",s._id),c.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),c.d8E("@dialogContainer",s._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&c.YNc(0,W4,0,0,"ng-template",0)},directives:[S_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[q4.dialogContainer]}}),i})(),Z4=0;class mR{constructor(t,e,s="mat-dialog-"+Z4++){this._overlayRef=t,this._containerInstance=e,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Lt.xQ,this._afterClosed=new Lt.xQ,this._beforeClosed=new Lt.xQ,this._state=0,e._id=s,e._animationStateChanged.pipe(Si(o=>"opened"===o.state),Un(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Si(o=>"closed"===o.state),Un(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Si(o=>27===o.keyCode&&!this.disableClose&&!Dr(o))).subscribe(o=>{o.preventDefault(),vR(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():vR(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Si(e=>"closing"===e.state),Un(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function vR(i,t,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=t),i.close(e)}const Q4=new c.OlP("MatDialogData"),K4=new c.OlP("mat-dialog-default-options"),GL=new c.OlP("mat-dialog-scroll-strategy"),eY={provide:GL,deps:[Hl],useFactory:function(i){return()=>i.scrollStrategies.block()}};let tY=(()=>{class i{constructor(e,s,o,d,m,C,I,F,z){this._overlay=e,this._injector=s,this._defaultOptions=o,this._parentDialog=d,this._overlayContainer=m,this._dialogRefConstructor=I,this._dialogContainerType=F,this._dialogDataToken=z,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Lt.xQ,this._afterOpenedAtThisLevel=new Lt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Nu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ts(void 0))),this._scrollStrategy=C}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,s){(s=function(i,t){return Object.assign(Object.assign({},t),i)}(s,this._defaultOptions||new gR)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),d=this._attachDialogContainer(o,s),m=this._attachDialogContent(e,d,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.afterClosed().subscribe(()=>this._removeOpenDialog(m)),this.afterOpened.next(m),d._initializeWithAttachedContent(),m}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const s=this._getOverlayConfig(e);return this._overlay.create(s)}_getOverlayConfig(e){const s=new U1({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachDialogContainer(e,s){const d=c.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:gR,useValue:s}]}),m=new C_(this._dialogContainerType,s.viewContainerRef,d,s.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,s,o,d){const m=new this._dialogRefConstructor(o,s,d.id);if(e instanceof c.Rgc)s.attachTemplatePortal(new Fw(e,null,{$implicit:d.data,dialogRef:m}));else{const C=this._createInjector(d,m,s),I=s.attachComponentPortal(new C_(e,d.viewContainerRef,C));m.componentInstance=I.instance}return m.updateSize(d.width,d.height).updatePosition(d.position),m}_createInjector(e,s,o){const d=e&&e.viewContainerRef&&e.viewContainerRef.injector,m=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:s}];return e.direction&&(!d||!d.get(ua,null))&&m.push({provide:ua,useValue:{value:e.direction,change:(0,Mt.of)()}}),c.zs3.create({parent:d||this._injector,providers:m})}_removeOpenDialog(e){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let o=s.length-1;o>-1;o--){let d=s[o];d!==e&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(Hl),c.Y36(c.zs3),c.Y36(void 0),c.Y36(void 0),c.Y36(Lw),c.Y36(void 0),c.Y36(c.DyG),c.Y36(c.DyG),c.Y36(c.OlP))},i.\u0275dir=c.lG2({type:i}),i})(),yR=(()=>{class i extends tY{constructor(e,s,o,d,m,C,I){super(e,s,d,C,I,m,mR,$4,Q4)}}return i.\u0275fac=function(e){return new(e||i)(c.LFG(Hl),c.LFG(c.zs3),c.LFG(vt,8),c.LFG(K4,8),c.LFG(GL),c.LFG(i,12),c.LFG(Lw))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})(),rY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[yR,eY],imports:[[z1,bk,qn],qn]}),i})(),oY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni],aL]}),i})(),_Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[Ni,iR]]}),i})(),bY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i,bootstrap:[bG]}),i.\u0275inj=c.cJS({providers:[$w,ca,rR,{provide:uR,useClass:Y4,multi:!0},fT,iw,vL],imports:[[sp,_G,Tn.hO.initializeApp(nd_firebase),co,qH,NF.withConfig({warnOnNgModelWithFormControl:"never"}),M4,G1,UA,VV,_L,P4,fz,GU,OB,Tz,G4,mL,gk,rY,nj,oY,_Y]]}),i})();(0,c.G48)(),Sa().bootstrapModule(bY).catch(i=>console.error(i))},4762:(Rt,it,ge)=>{"use strict";ge.d(it,{ZT:()=>Be,pi:()=>K,mG:()=>Se,Jh:()=>Ae,XA:()=>he,CR:()=>Ce,ev:()=>de});var c=function(Ge,Ue){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,ze){We.__proto__=ze}||function(We,ze){for(var nt in ze)Object.prototype.hasOwnProperty.call(ze,nt)&&(We[nt]=ze[nt])})(Ge,Ue)};function Be(Ge,Ue){if("function"!=typeof Ue&&null!==Ue)throw new TypeError("Class extends value "+String(Ue)+" is not a constructor or null");function We(){this.constructor=Ge}c(Ge,Ue),Ge.prototype=null===Ue?Object.create(Ue):(We.prototype=Ue.prototype,new We)}var K=function(){return(K=Object.assign||function(Ue){for(var We,ze=1,nt=arguments.length;ze<nt;ze++)for(var Ye in We=arguments[ze])Object.prototype.hasOwnProperty.call(We,Ye)&&(Ue[Ye]=We[Ye]);return Ue}).apply(this,arguments)};function Se(Ge,Ue,We,ze){return new(We||(We=Promise))(function(Ye,Dt){function zt(Ft){try{bt(ze.next(Ft))}catch(yt){Dt(yt)}}function Sn(Ft){try{bt(ze.throw(Ft))}catch(yt){Dt(yt)}}function bt(Ft){Ft.done?Ye(Ft.value):function(Ye){return Ye instanceof We?Ye:new We(function(Dt){Dt(Ye)})}(Ft.value).then(zt,Sn)}bt((ze=ze.apply(Ge,Ue||[])).next())})}function Ae(Ge,Ue){var ze,nt,Ye,Dt,We={label:0,sent:function(){if(1&Ye[0])throw Ye[1];return Ye[1]},trys:[],ops:[]};return Dt={next:zt(0),throw:zt(1),return:zt(2)},"function"==typeof Symbol&&(Dt[Symbol.iterator]=function(){return this}),Dt;function zt(bt){return function(Ft){return function(bt){if(ze)throw new TypeError("Generator is already executing.");for(;We;)try{if(ze=1,nt&&(Ye=2&bt[0]?nt.return:bt[0]?nt.throw||((Ye=nt.return)&&Ye.call(nt),0):nt.next)&&!(Ye=Ye.call(nt,bt[1])).done)return Ye;switch(nt=0,Ye&&(bt=[2&bt[0],Ye.value]),bt[0]){case 0:case 1:Ye=bt;break;case 4:return We.label++,{value:bt[1],done:!1};case 5:We.label++,nt=bt[1],bt=[0];continue;case 7:bt=We.ops.pop(),We.trys.pop();continue;default:if(!(Ye=(Ye=We.trys).length>0&&Ye[Ye.length-1])&&(6===bt[0]||2===bt[0])){We=0;continue}if(3===bt[0]&&(!Ye||bt[1]>Ye[0]&&bt[1]<Ye[3])){We.label=bt[1];break}if(6===bt[0]&&We.label<Ye[1]){We.label=Ye[1],Ye=bt;break}if(Ye&&We.label<Ye[2]){We.label=Ye[2],We.ops.push(bt);break}Ye[2]&&We.ops.pop(),We.trys.pop();continue}bt=Ue.call(Ge,We)}catch(Ft){bt=[6,Ft],nt=0}finally{ze=Ye=0}if(5&bt[0])throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}([bt,Ft])}}}function he(Ge){var Ue="function"==typeof Symbol&&Symbol.iterator,We=Ue&&Ge[Ue],ze=0;if(We)return We.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&ze>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[ze++],done:!Ge}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(Ge,Ue){var We="function"==typeof Symbol&&Ge[Symbol.iterator];if(!We)return Ge;var nt,Dt,ze=We.call(Ge),Ye=[];try{for(;(void 0===Ue||Ue-- >0)&&!(nt=ze.next()).done;)Ye.push(nt.value)}catch(zt){Dt={error:zt}}finally{try{nt&&!nt.done&&(We=ze.return)&&We.call(ze)}finally{if(Dt)throw Dt.error}}return Ye}function de(Ge,Ue,We){if(We||2===arguments.length)for(var Ye,ze=0,nt=Ue.length;ze<nt;ze++)(Ye||!(ze in Ue))&&(Ye||(Ye=Array.prototype.slice.call(Ue,0,ze)),Ye[ze]=Ue[ze]);return Ge.concat(Ye||Array.prototype.slice.call(Ue))}}},Rt=>{Rt(Rt.s=6739)}]);