(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:Ht=>{function St(De){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+De+"'");throw o.code="MODULE_NOT_FOUND",o})}St.keys=()=>[],St.resolve=St,St.id=8255,Ht.exports=St},7716:(Ht,St,De)=>{"use strict";De.d(St,{deG:()=>ai,tb:()=>Bb,AFp:()=>l1,ip1:()=>YM,CZH:()=>by,hGG:()=>oO,z2F:()=>m1,sBO:()=>ek,Sil:()=>u1,_Vd:()=>n_,EJc:()=>g_,SBq:()=>vm,qLn:()=>Ih,vpe:()=>ha,gxx:()=>qp,tBr:()=>Do,XFs:()=>yi,OlP:()=>vo,zs3:()=>we,ZZ4:()=>Iw,aQg:()=>tx,soG:()=>Fa,YKP:()=>qC,v3s:()=>YP,h0i:()=>dv,PXZ:()=>PP,R0b:()=>rf,FiY:()=>Ia,Lbi:()=>bE,g9A:()=>al,n_E:()=>Rb,Qsj:()=>RA,FYo:()=>Mb,JOm:()=>xu,Tiy:()=>VC,q3G:()=>Cs,tp0:()=>ba,EAV:()=>UP,Rgc:()=>rx,dDg:()=>TE,DyG:()=>H,q4F:()=>dg,GfV:()=>HC,s_b:()=>hv,ifc:()=>Yn,eFA:()=>UI,Ez6:()=>uo,G48:()=>kP,Gpc:()=>xt,f3M:()=>Gr,X6Q:()=>kE,_c5:()=>KP,VLi:()=>SP,c2e:()=>BM,zSh:()=>Lc,wAp:()=>Lr,vHH:()=>Ut,EiD:()=>Zr,mCW:()=>Il,qzn:()=>gp,JVY:()=>fu,pB0:()=>M_,eBb:()=>dc,L6k:()=>Xf,LAX:()=>Cg,cg1:()=>Tw,Tjo:()=>QP,kL8:()=>mb,yhl:()=>C_,dqk:()=>gs,sIi:()=>Co,CqO:()=>yc,QGY:()=>P0,F4k:()=>xi,RDi:()=>za,AaK:()=>xe,z3N:()=>Xd,qOj:()=>da,TTD:()=>Wi,_Bn:()=>jh,xp6:()=>Uv,uIk:()=>S0,Tol:()=>B0,Gre:()=>ww,ekj:()=>Y0,Suo:()=>Jk,Xpm:()=>st,lG2:()=>Vt,Yz7:()=>xr,cJS:()=>Qr,oAB:()=>Ft,Yjl:()=>Xt,Y36:()=>cb,_UZ:()=>aC,GkF:()=>li,BQk:()=>En,ynx:()=>Bh,qZA:()=>Xy,TgZ:()=>pw,EpF:()=>Vf,n5z:()=>up,Ikx:()=>TC,LFG:()=>Ri,$8M:()=>Zd,NdJ:()=>Qy,CRH:()=>Kk,kcU:()=>Cr,O4$:()=>Ci,oxw:()=>cC,ALo:()=>Nl,lcZ:()=>l_,xi3:()=>CM,Hsn:()=>uC,F$t:()=>Jy,Q6J:()=>dw,s9C:()=>ph,DdM:()=>yM,VKq:()=>vM,WLB:()=>Bk,kEZ:()=>Vk,l5B:()=>Hk,qbA:()=>Uk,HTZ:()=>Zw,Hh0:()=>Ww,rFY:()=>bM,iGM:()=>$w,MAs:()=>Ce,pYS:()=>Cf,CHM:()=>vh,oJD:()=>Kd,LSH:()=>vd,kYT:()=>It,Akn:()=>Uf,Udp:()=>z0,WFA:()=>O0,d8E:()=>Ju,YNc:()=>Y,W1O:()=>gy,_uU:()=>U0,Oqu:()=>J_,hij:()=>yw,AsE:()=>vw,xDo:()=>bw,Gf:()=>kM});var o=De(9765),W=De(5319),J=De(7574),b=De(6682),ce=De(8819);function be(u){for(let d in u)if(u[d]===be)return d;throw Error("Could not find renamed property on target object.")}function Te(u,d){for(const m in d)d.hasOwnProperty(m)&&!u.hasOwnProperty(m)&&(u[m]=d[m])}function xe(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(xe).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const d=u.toString();if(null==d)return""+d;const m=d.indexOf("\n");return-1===m?d:d.substring(0,m)}function Fe(u,d){return null==u||""===u?null===d?"":d:null==d||""===d?u:u+" "+d}const He=be({__forward_ref__:be});function xt(u){return u.__forward_ref__=xt,u.toString=function(){return xe(this())},u}function ht(u){return At(u)?u():u}function At(u){return"function"==typeof u&&u.hasOwnProperty(He)&&u.__forward_ref__===xt}class Ut extends Error{constructor(d,m){super(function(u,d){return`${u?`NG0${u}: `:""}${d}`}(d,m)),this.code=d}}function In(u){return"string"==typeof u?u:null==u?"":String(u)}function jt(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():In(u)}function Li(u,d){const m=d?` in ${d}`:"";throw new Ut("201",`No provider for ${jt(u)} found${m}`)}function bi(u,d){null==u&&function(u,d,m,x){throw new Error(`ASSERTION ERROR: ${u}`+(null==x?"":` [Expected=> ${m} ${x} ${d} <=Actual]`))}(d,u,null,"!=")}function xr(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}const uo=xr;function Qr(u){return{providers:u.providers||[],imports:u.imports||[]}}function Vs(u){return Zs(u,Gi)||Zs(u,ho)}function Zs(u,d){return u.hasOwnProperty(d)?u[d]:null}function ma(u){return u&&(u.hasOwnProperty($i)||u.hasOwnProperty(Hs))?u[$i]:null}const Gi=be({\u0275prov:be}),$i=be({\u0275inj:be}),ho=be({ngInjectableDef:be}),Hs=be({ngInjectorDef:be});var yi=(()=>((yi=yi||{})[yi.Default=0]="Default",yi[yi.Host=1]="Host",yi[yi.Self=2]="Self",yi[yi.SkipSelf=4]="SkipSelf",yi[yi.Optional=8]="Optional",yi))();let cs;function Xi(u){const d=cs;return cs=u,d}function po(u,d,m){const x=Vs(u);return x&&"root"==x.providedIn?void 0===x.value?x.value=x.factory():x.value:m&yi.Optional?null:void 0!==d?d:void Li(xe(u),"Injector")}function Hr(u){return{toString:u}.toString()}var Ls=(()=>((Ls=Ls||{})[Ls.OnPush=0]="OnPush",Ls[Ls.Default=1]="Default",Ls))(),Yn=(()=>((Yn=Yn||{})[Yn.Emulated=0]="Emulated",Yn[Yn.None=2]="None",Yn[Yn.ShadowDom=3]="ShadowDom",Yn))();const ji="undefined"!=typeof globalThis&&globalThis,ll="undefined"!=typeof window&&window,Ea="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ga="undefined"!=typeof global&&global,gs=ji||ga||ll||Ea,Pt={},Lt=[],Wt=be({\u0275cmp:be}),hn=be({\u0275dir:be}),nn=be({\u0275pipe:be}),pi=be({\u0275mod:be}),Ni=be({\u0275loc:be}),ar=be({\u0275fac:be}),Or=be({__NG_ELEMENT_ID__:be});let wr=0;function st(u){return Hr(()=>{const m={},x={type:u.type,providersResolver:null,decls:u.decls,vars:u.vars,factory:null,template:u.template||null,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:u.exportAs||null,onPush:u.changeDetection===Ls.OnPush,directiveDefs:null,pipeDefs:null,selectors:u.selectors||Lt,viewQuery:u.viewQuery||null,features:u.features||null,data:u.data||{},encapsulation:u.encapsulation||Yn.Emulated,id:"c",styles:u.styles||Lt,_:null,setInput:null,schemas:u.schemas||null,tView:null},D=u.directives,z=u.features,q=u.pipes;return x.id+=wr++,x.inputs=Kt(u.inputs,m),x.outputs=Kt(u.outputs),z&&z.forEach(ee=>ee(x)),x.directiveDefs=D?()=>("function"==typeof D?D():D).map(Ze):null,x.pipeDefs=q?()=>("function"==typeof q?q():q).map(ct):null,x})}function Ze(u){return Mn(u)||function(u){return u[hn]||null}(u)}function ct(u){return function(u){return u[nn]||null}(u)}const bt={};function Ft(u){return Hr(()=>{const d={type:u.type,bootstrap:u.bootstrap||Lt,declarations:u.declarations||Lt,imports:u.imports||Lt,exports:u.exports||Lt,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null};return null!=u.id&&(bt[u.id]=u.type),d})}function It(u,d){return Hr(()=>{const m=p(u,!0);m.declarations=d.declarations||Lt,m.imports=d.imports||Lt,m.exports=d.exports||Lt})}function Kt(u,d){if(null==u)return Pt;const m={};for(const x in u)if(u.hasOwnProperty(x)){let D=u[x],z=D;Array.isArray(D)&&(z=D[1],D=D[0]),m[D]=x,d&&(d[D]=z)}return m}const Vt=st;function Xt(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,onDestroy:u.type.prototype.ngOnDestroy||null}}function Mn(u){return u[Wt]||null}function p(u,d){const m=u[pi]||null;if(!m&&!0===d)throw new Error(`Type ${xe(u)} does not have '\u0275mod' property.`);return m}const $=16;function Tr(u){return Array.isArray(u)&&"object"==typeof u[1]}function $s(u){return Array.isArray(u)&&!0===u[1]}function _s(u){return 0!=(8&u.flags)}function Zi(u){return 2==(2&u.flags)}function Jr(u){return 1==(1&u.flags)}function ys(u){return null!==u.template}function _a(u){return 0!=(512&u[2])}function bs(u,d){return u.hasOwnProperty(ar)?u[ar]:null}class Ps{constructor(d,m,x){this.previousValue=d,this.currentValue=m,this.firstChange=x}isFirstChange(){return this.firstChange}}function Wi(){return Yl}function Yl(u){return u.type.prototype.ngOnChanges&&(u.setInput=cd),zd}function zd(){const u=Yd(this),d=null==u?void 0:u.current;if(d){const m=u.previous;if(m===Pt)u.previous=d;else for(let x in d)m[x]=d[x];u.current=null,this.ngOnChanges(d)}}function cd(u,d,m,x){const D=Yd(u)||function(u,d){return u[kr]=d}(u,{previous:Pt,current:null}),z=D.current||(D.current={}),q=D.previous,ee=this.declaredInputs[m],de=q[ee];z[ee]=new Ps(de&&de.currentValue,d,q===Pt),u[x]=d}Wi.ngInherit=!0;const kr="__ngSimpleChanges__";function Yd(u){return u[kr]||null}const di="http://www.w3.org/2000/svg";let Bl;function za(u){Bl=u}function dd(){return void 0!==Bl?Bl:"undefined"!=typeof document?document:void 0}function Rs(u){return!!u.listen}const er={createRenderer:(u,d)=>dd()};function cr(u){for(;Array.isArray(u);)u=u[0];return u}function Au(u,d){return cr(d[u])}function Sl(u,d){return cr(d[u.index])}function ya(u,d){return u.data[d]}function qa(u,d){return u[d]}function ss(u,d){const m=d[u];return Tr(m)?m:m[0]}function $o(u){return 4==(4&u[2])}function Bd(u){return 128==(128&u[2])}function kl(u,d){return null==d?null:u[d]}function yh(u){u[18]=0}function Kl(u,d){u[5]+=d;let m=u,x=u[3];for(;null!==x&&(1===d&&1===m[5]||-1===d&&0===m[5]);)x[5]+=d,m=x,x=x[3]}const Ji={lFrame:Mc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ip(){return Ji.bindingsEnabled}function Un(){return Ji.lFrame.lView}function us(){return Ji.lFrame.tView}function vh(u){return Ji.lFrame.contextLView=u,u[8]}function fo(){let u=pd();for(;null!==u&&64===u.type;)u=u.parent;return u}function pd(){return Ji.lFrame.currentTNode}function va(u,d){const m=Ji.lFrame;m.currentTNode=u,m.isParent=d}function _o(){return Ji.lFrame.isParent}function Os(){Ji.lFrame.isParent=!1}function $a(){return Ji.isInCheckNoChangesMode}function Cc(u){Ji.isInCheckNoChangesMode=u}function no(){const u=Ji.lFrame;let d=u.bindingRootIndex;return-1===d&&(d=u.bindingRootIndex=u.tView.bindingStartIndex),d}function sa(){return Ji.lFrame.bindingIndex}function tc(){return Ji.lFrame.bindingIndex++}function hr(u){const d=Ji.lFrame,m=d.bindingIndex;return d.bindingIndex=d.bindingIndex+u,m}function Pu(u,d){const m=Ji.lFrame;m.bindingIndex=m.bindingRootIndex=u,No(d)}function No(u){Ji.lFrame.currentDirectiveIndex=u}function nc(u){const d=Ji.lFrame.currentDirectiveIndex;return-1===d?null:u[d]}function wh(){return Ji.lFrame.currentQueryIndex}function ru(u){Ji.lFrame.currentQueryIndex=u}function Hd(u){const d=u[1];return 2===d.type?d.declTNode:1===d.type?u[6]:null}function oa(u,d,m){if(m&yi.SkipSelf){let D=d,z=u;for(;!(D=D.parent,null!==D||m&yi.Host||(D=Hd(z),null===D||(z=z[15],10&D.type))););if(null===D)return!1;d=D,u=z}const x=Ji.lFrame=ic();return x.currentTNode=d,x.lView=u,!0}function Xo(u){const d=ic(),m=u[1];Ji.lFrame=d,d.currentTNode=m.firstChild,d.lView=u,d.tView=m,d.contextLView=u,d.bindingIndex=m.bindingStartIndex,d.inI18n=!1}function ic(){const u=Ji.lFrame,d=null===u?null:u.child;return null===d?Mc(u):d}function Mc(u){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=d),d}function Pp(){const u=Ji.lFrame;return Ji.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const Ud=Pp;function Xa(){const u=Pp();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function qt(){return Ji.lFrame.selectedIndex}function kn(u){Ji.lFrame.selectedIndex=u}function pn(){const u=Ji.lFrame;return ya(u.tView,u.selectedIndex)}function Ci(){Ji.lFrame.currentNamespace=di}function Cr(){Ji.lFrame.currentNamespace=null}function sc(u,d){for(let m=d.directiveStart,x=d.directiveEnd;m<x;m++){const z=u.data[m].type.prototype,{ngAfterContentInit:q,ngAfterContentChecked:ee,ngAfterViewInit:de,ngAfterViewChecked:Me,ngOnDestroy:Ve}=z;q&&(u.contentHooks||(u.contentHooks=[])).push(-m,q),ee&&((u.contentHooks||(u.contentHooks=[])).push(m,ee),(u.contentCheckHooks||(u.contentCheckHooks=[])).push(m,ee)),de&&(u.viewHooks||(u.viewHooks=[])).push(-m,de),Me&&((u.viewHooks||(u.viewHooks=[])).push(m,Me),(u.viewCheckHooks||(u.viewCheckHooks=[])).push(m,Me)),null!=Ve&&(u.destroyHooks||(u.destroyHooks=[])).push(m,Ve)}}function zo(u,d,m){Ya(u,d,3,m)}function su(u,d,m,x){(3&u[2])===m&&Ya(u,d,m,x)}function jd(u,d){let m=u[2];(3&m)===d&&(m&=2047,m+=1,u[2]=m)}function Ya(u,d,m,x){const z=null!=x?x:-1,q=d.length-1;let ee=0;for(let de=void 0!==x?65535&u[18]:0;de<q;de++)if("number"==typeof d[de+1]){if(ee=d[de],null!=x&&ee>=x)break}else d[de]<0&&(u[18]+=65536),(ee<z||-1==z)&&(Vc(u,m,d,de),u[18]=(4294901760&u[18])+de+2),de++}function Vc(u,d,m,x){const D=m[x]<0,z=m[x+1],ee=u[D?-m[x]:m[x]];if(D){if(u[2]>>11<u[18]>>16&&(3&u[2])===d){u[2]+=2048;try{z.call(ee)}finally{}}}else try{z.call(ee)}finally{}}class Mr{constructor(d,m,x){this.factory=d,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=x}}function md(u,d,m){const x=Rs(u);let D=0;for(;D<m.length;){const z=m[D];if("number"==typeof z){if(0!==z)break;D++;const q=m[D++],ee=m[D++],de=m[D++];x?u.setAttribute(d,ee,de,q):d.setAttributeNS(q,ee,de)}else{const q=z,ee=m[++D];Us(q)?x&&u.setProperty(d,q,ee):x?u.setAttribute(d,q,ee):d.setAttribute(q,ee),D++}}return D}function lp(u){return 3===u||4===u||6===u}function Us(u){return 64===u.charCodeAt(0)}function lu(u,d){if(null!==d&&0!==d.length)if(null===u||0===u.length)u=d.slice();else{let m=-1;for(let x=0;x<d.length;x++){const D=d[x];"number"==typeof D?m=D:0===m||ac(u,m,D,null,-1===m||2===m?d[++x]:null)}}return u}function ac(u,d,m,x,D){let z=0,q=u.length;if(-1===d)q=-1;else for(;z<u.length;){const ee=u[z++];if("number"==typeof ee){if(ee===d){q=-1;break}if(ee>d){q=z-1;break}}}for(;z<u.length;){const ee=u[z];if("number"==typeof ee)break;if(ee===m){if(null===x)return void(null!==D&&(u[z+1]=D));if(x===u[z+1])return void(u[z+2]=D)}z++,null!==x&&z++,null!==D&&z++}-1!==q&&(u.splice(q,0,d),z=q+1),u.splice(z++,0,m),null!==x&&u.splice(z++,0,x),null!==D&&u.splice(z++,0,D)}function cu(u){return-1!==u}function ul(u){return 32767&u}function El(u,d){let m=function(u){return u>>16}(u),x=d;for(;m>0;)x=x[15],m--;return x}let Gd=!0;function gd(u){const d=Gd;return Gd=u,d}let Ul=0;function lc(u,d){const m=vi(u,d);if(-1!==m)return m;const x=d[1];x.firstCreatePass&&(u.injectorIndex=d.length,Sc(x.data,u),Sc(d,null),Sc(x.blueprint,null));const D=gr(u,d),z=u.injectorIndex;if(cu(D)){const q=ul(D),ee=El(D,d),de=ee[1].data;for(let Me=0;Me<8;Me++)d[z+Me]=ee[q+Me]|de[q+Me]}return d[z+8]=D,z}function Sc(u,d){u.push(0,0,0,0,0,0,0,0,d)}function vi(u,d){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===d[u.injectorIndex+8]?-1:u.injectorIndex}function gr(u,d){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let m=0,x=null,D=d;for(;null!==D;){const z=D[1],q=z.type;if(x=2===q?z.declTNode:1===q?D[6]:null,null===x)return-1;if(m++,D=D[15],-1!==x.injectorIndex)return x.injectorIndex|m<<16}return-1}function js(u,d,m){!function(u,d,m){let x;"string"==typeof m?x=m.charCodeAt(0)||0:m.hasOwnProperty(Or)&&(x=m[Or]),null==x&&(x=m[Or]=Ul++);const D=255&x;d.data[u+(D>>5)]|=1<<D}(u,d,m)}function Ti(u,d,m){if(m&yi.Optional)return u;Li(d,"NodeInjector")}function Ba(u,d,m,x){if(m&yi.Optional&&void 0===x&&(x=null),0==(m&(yi.Self|yi.Host))){const D=u[9],z=Xi(void 0);try{return D?D.get(d,x,m&yi.Optional):po(d,x,m&yi.Optional)}finally{Xi(z)}}return Ti(x,d,m)}function Ei(u,d,m,x=yi.Default,D){if(null!==u){const z=function(u){if("string"==typeof u)return u.charCodeAt(0)||0;const d=u.hasOwnProperty(Or)?u[Or]:void 0;return"number"==typeof d?d>=0?255&d:Fs:d}(m);if("function"==typeof z){if(!oa(d,u,x))return x&yi.Host?Ti(D,m,x):Ba(d,m,x,D);try{const q=z(x);if(null!=q||x&yi.Optional)return q;Li(m)}finally{Ud()}}else if("number"==typeof z){let q=null,ee=vi(u,d),de=-1,Me=x&yi.Host?d[$][6]:null;for((-1===ee||x&yi.SkipSelf)&&(de=-1===ee?gr(u,d):d[ee+8],-1!==de&&Va(x,!1)?(q=d[1],ee=ul(de),d=El(de,d)):ee=-1);-1!==ee;){const Ve=d[1];if(yo(z,ee,Ve.data)){const nt=Eo(ee,d,m,q,x,Me);if(nt!==cp)return nt}de=d[ee+8],-1!==de&&Va(x,d[1].data[ee+8]===Me)&&yo(z,ee,d)?(q=Ve,ee=ul(de),d=El(de,d)):ee=-1}}}return Ba(d,m,x,D)}const cp={};function Fs(){return new jl(fo(),Un())}function Eo(u,d,m,x,D,z){const q=d[1],ee=q.data[u+8],Ve=Es(ee,q,m,null==x?Zi(ee)&&Gd:x!=q&&0!=(3&ee.type),D&yi.Host&&z===ee);return null!==Ve?dl(d,q,Ve,ee):cp}function Es(u,d,m,x,D){const z=u.providerIndexes,q=d.data,ee=1048575&z,de=u.directiveStart,Ve=z>>20,pt=D?ee+Ve:u.directiveEnd;for(let zt=x?ee:ee+Ve;zt<pt;zt++){const Jt=q[zt];if(zt<de&&m===Jt||zt>=de&&Jt.type===m)return zt}if(D){const zt=q[de];if(zt&&ys(zt)&&zt.type===m)return de}return null}function dl(u,d,m,x){let D=u[m];const z=d.data;if(function(u){return u instanceof Mr}(D)){const q=D;q.resolving&&function(u,d){throw new Ut("200",`Circular dependency in DI detected for ${u}`)}(jt(z[m]));const ee=gd(q.canSeeViewProviders);q.resolving=!0;const de=q.injectImpl?Xi(q.injectImpl):null;oa(u,x,yi.Default);try{D=u[m]=q.factory(void 0,z,u,x),d.firstCreatePass&&m>=x.directiveStart&&function(u,d,m){const{ngOnChanges:x,ngOnInit:D,ngDoCheck:z}=d.type.prototype;if(x){const q=Yl(d);(m.preOrderHooks||(m.preOrderHooks=[])).push(u,q),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(u,q)}D&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-u,D),z&&((m.preOrderHooks||(m.preOrderHooks=[])).push(u,z),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(u,z))}(m,z[m],d)}finally{null!==de&&Xi(de),gd(ee),q.resolving=!1,Ud()}}return D}function yo(u,d,m){return!!(m[d+(u>>5)]&1<<u)}function Va(u,d){return!(u&yi.Self||u&yi.Host&&d)}class jl{constructor(d,m){this._tNode=d,this._lView=m}get(d,m){return Ei(this._tNode,this._lView,d,void 0,m)}}function up(u){return Hr(()=>{const d=u.prototype.constructor,m=d[ar]||uu(d),x=Object.prototype;let D=Object.getPrototypeOf(u.prototype).constructor;for(;D&&D!==x;){const z=D[ar]||uu(D);if(z&&z!==m)return z;D=Object.getPrototypeOf(D)}return z=>new z})}function uu(u){return At(u)?()=>{const d=uu(ht(u));return d&&d()}:bs(u)}function Zd(u){return function(u,d){if("class"===d)return u.classes;if("style"===d)return u.styles;const m=u.attrs;if(m){const x=m.length;let D=0;for(;D<x;){const z=m[D];if(lp(z))break;if(0===z)D+=2;else if("number"==typeof z)for(D++;D<x&&"string"==typeof m[D];)D++;else{if(z===d)return m[D+1];D+=2}}}return null}(fo(),u)}const Hc="__parameters__";function tt(u,d,m){return Hr(()=>{const x=function(u){return function(...m){if(u){const x=u(...m);for(const D in x)this[D]=x[D]}}}(d);function D(...z){if(this instanceof D)return x.apply(this,z),this;const q=new D(...z);return ee.annotation=q,ee;function ee(de,Me,Ve){const nt=de.hasOwnProperty(Hc)?de[Hc]:Object.defineProperty(de,Hc,{value:[]})[Hc];for(;nt.length<=Ve;)nt.push(null);return(nt[Ve]=nt[Ve]||[]).push(q),de}}return m&&(D.prototype=Object.create(m.prototype)),D.prototype.ngMetadataName=u,D.annotationCls=D,D})}class vo{constructor(d,m){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=xr({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ai=new vo("AnalyzeForEntryComponents"),H=Function;function ve(u,d){void 0===d&&(d=u);for(let m=0;m<u.length;m++){let x=u[m];Array.isArray(x)?(d===u&&(d=u.slice(0,m)),ve(x,d)):d!==u&&d.push(x)}return d}function _e(u,d){u.forEach(m=>Array.isArray(m)?_e(m,d):d(m))}function ze(u,d,m){d>=u.length?u.push(m):u.splice(d,0,m)}function Ge(u,d){return d>=u.length-1?u.pop():u.splice(d,1)[0]}function We(u,d){const m=[];for(let x=0;x<u;x++)m.push(d);return m}function wt(u,d,m){let x=Ct(u,d);return x>=0?u[1|x]=m:(x=~x,function(u,d,m,x){let D=u.length;if(D==d)u.push(m,x);else if(1===D)u.push(x,u[0]),u[0]=m;else{for(D--,u.push(u[D-1],u[D]);D>d;)u[D]=u[D-2],D--;u[d]=m,u[d+1]=x}}(u,x,d,m)),x}function Bt(u,d){const m=Ct(u,d);if(m>=0)return u[1|m]}function Ct(u,d){return function(u,d,m){let x=0,D=u.length>>m;for(;D!==x;){const z=x+(D-x>>1),q=u[z<<m];if(d===q)return z<<m;q>d?D=z:x=z+1}return~(D<<m)}(u,d,1)}const Si={},jr="__NG_DI_FLAG__",os="ngTempTokenPath",_r=/\n/gm,Xs="__source",Aa=be({provide:String,useValue:be});let ds;function Vo(u){const d=ds;return ds=u,d}function hl(u,d=yi.Default){if(void 0===ds)throw new Error("inject() must be called from an injection context");return null===ds?po(u,void 0,d):ds.get(u,d&yi.Optional?null:void 0,d)}function Ri(u,d=yi.Default){return(cs||hl)(ht(u),d)}const Gr=Ri;function Ts(u){const d=[];for(let m=0;m<u.length;m++){const x=ht(u[m]);if(Array.isArray(x)){if(0===x.length)throw new Error("Arguments array must have arguments.");let D,z=yi.Default;for(let q=0;q<x.length;q++){const ee=x[q],de=Nr(ee);"number"==typeof de?-1===de?D=ee.token:z|=de:D=ee}d.push(Ri(D,z))}else d.push(Ri(x))}return d}function io(u,d){return u[jr]=d,u.prototype[jr]=d,u}function Nr(u){return u[jr]}function Qa(u,d,m,x){const D=u[os];throw d[Xs]&&D.unshift(d[Xs]),u.message=function(u,d,m,x=null){u=u&&"\n"===u.charAt(0)&&"\u0275"==u.charAt(1)?u.substr(2):u;let D=xe(d);if(Array.isArray(d))D=d.map(xe).join(" -> ");else if("object"==typeof d){let z=[];for(let q in d)if(d.hasOwnProperty(q)){let ee=d[q];z.push(q+":"+("string"==typeof ee?JSON.stringify(ee):xe(ee)))}D=`{${z.join(", ")}}`}return`${m}${x?"("+x+")":""}[${D}]: ${u.replace(_r,"\n  ")}`}("\n"+u.message,D,m,x),u.ngTokenPath=D,u[os]=null,u}const Do=io(tt("Inject",u=>({token:u})),-1),Ia=io(tt("Optional"),8),ba=io(tt("SkipSelf"),4);let zs,La;function Ys(u){var d;return(null===(d=function(){if(void 0===zs&&(zs=null,gs.trustedTypes))try{zs=gs.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return zs}())||void 0===d?void 0:d.createHTML(u))||u}function pp(u){var d;return(null===(d=function(){if(void 0===La&&(La=null,gs.trustedTypes))try{La=gs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return La}())||void 0===d?void 0:d.createHTML(u))||u}class la{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ec extends la{getTypeName(){return"HTML"}}class yr extends la{getTypeName(){return"Style"}}class $d extends la{getTypeName(){return"Script"}}class Th extends la{getTypeName(){return"URL"}}class mp extends la{getTypeName(){return"ResourceURL"}}function Xd(u){return u instanceof la?u.changingThisBreaksApplicationSecurity:u}function gp(u,d){const m=C_(u);if(null!=m&&m!==d){if("ResourceURL"===m&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===d}function C_(u){return u instanceof la&&u.getTypeName()||null}function fu(u){return new Ec(u)}function Xf(u){return new yr(u)}function dc(u){return new $d(u)}function Cg(u){return new Th(u)}function M_(u){return new mp(u)}class Dr{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const m=(new window.DOMParser).parseFromString(Ys(d),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(d):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class Bu{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const x=this.inertDocument.createElement("body");m.appendChild(x)}}getInertBodyElement(d){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=Ys(d),m;const x=this.inertDocument.createElement("body");return x.innerHTML=Ys(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(x),x}stripCustomNsAttrs(d){const m=d.attributes;for(let D=m.length-1;0<D;D--){const q=m.item(D).name;("xmlns:ns1"===q||0===q.indexOf("ns1:"))&&d.removeAttribute(q)}let x=d.firstChild;for(;x;)x.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(x),x=x.nextSibling}}const _p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Il(u){return(u=String(u)).match(_p)||u.match(_d)?u:"unsafe:"+u}function Zc(u){const d={};for(const m of u.split(","))d[m]=!0;return d}function yd(...u){const d={};for(const m of u)for(const x in m)m.hasOwnProperty(x)&&(d[x]=!0);return d}const Ll=Zc("area,br,col,hr,img,wbr"),Qd=Zc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jd=Zc("rp,rt"),tl=yd(Ll,yd(Qd,Zc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yd(Jd,Zc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yd(Jd,Qd)),ff=Zc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jf=Zc("srcset"),em=yd(ff,Jf,Zc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Im=Zc("script,style,template");class Mg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let m=d.firstChild,x=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?x=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,x&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let D=this.checkClobberedElement(m,m.nextSibling);if(D){m=D;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(d){const m=d.nodeName.toLowerCase();if(!tl.hasOwnProperty(m))return this.sanitizedSomething=!0,!Im.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const x=d.attributes;for(let D=0;D<x.length;D++){const z=x.item(D),q=z.name,ee=q.toLowerCase();if(!em.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let de=z.value;ff[ee]&&(de=Il(de)),Jf[ee]&&(u=de,de=(u=String(u)).split(",").map(d=>Il(d.trim())).join(", ")),this.buf.push(" ",q,'="',gf(de),'"')}var u;return this.buf.push(">"),!0}endElement(d){const m=d.nodeName.toLowerCase();tl.hasOwnProperty(m)&&!Ll.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(d){this.buf.push(gf(d))}checkClobberedElement(d,m){if(m&&(d.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return m}}const hc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qo=/([^\#-~ |!])/g;function gf(u){return u.replace(/&/g,"&amp;").replace(hc,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(Qo,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xa;function Zr(u,d){let m=null;try{xa=xa||function(u){const d=new Bu(u);return function(){try{return!!(new window.DOMParser).parseFromString(Ys(""),"text/html")}catch(u){return!1}}()?new Dr(d):d}(u);let x=d?String(d):"";m=xa.getInertBodyElement(x);let D=5,z=x;do{if(0===D)throw new Error("Failed to sanitize html because the input is unstable");D--,x=z,z=m.innerHTML,m=xa.getInertBodyElement(x)}while(x!==z);return Ys((new Mg).sanitizeChildren(ml(m)||m))}finally{if(m){const x=ml(m)||m;for(;x.firstChild;)x.removeChild(x.firstChild)}}}function ml(u){return"content"in u&&function(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var Cs=(()=>((Cs=Cs||{})[Cs.NONE=0]="NONE",Cs[Cs.HTML=1]="HTML",Cs[Cs.STYLE=2]="STYLE",Cs[Cs.SCRIPT=3]="SCRIPT",Cs[Cs.URL=4]="URL",Cs[Cs.RESOURCE_URL=5]="RESOURCE_URL",Cs))();function Kd(u){const d=Vu();return d?pp(d.sanitize(Cs.HTML,u)||""):gp(u,"HTML")?pp(Xd(u)):Zr(dd(),In(u))}function vd(u){const d=Vu();return d?d.sanitize(Cs.URL,u)||"":gp(u,"URL")?Xd(u):Il(In(u))}function Vu(){const u=Un();return u&&u[12]}const im="__ngContext__";function Pa(u,d){u[im]=d}function vf(u){const d=function(u){return u[im]||null}(u);return d?Array.isArray(d)?d:d.lView:null}function Uu(u){return u.ngOriginalError}function rm(u,...d){u.error(...d)}class Ih{constructor(){this._console=console}handleError(d){const m=this._findOriginalError(d),x=this._findContext(d),D=(u=d)&&u.ngErrorLogger||rm;var u;D(this._console,"ERROR",d),m&&D(this._console,"ORIGINAL ERROR",m),x&&D(this._console,"ERROR CONTEXT",x)}_findContext(d){return d?d.ngDebugContext||this._findContext(Uu(d)):null}_findOriginalError(d){let m=d&&Uu(d);for(;m&&Uu(m);)m=Uu(m);return m||null}}const vp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gs))();function Cf(u){return u.ownerDocument.body}function mc(u){return u instanceof Function?u():u}var xu=(()=>((xu=xu||{})[xu.Important=1]="Important",xu[xu.DashCase=2]="DashCase",xu))();function th(u,d){return undefined(u,d)}function wd(u){const d=u[3];return $s(d)?d[3]:d}function nh(u){return Tf(u[13])}function Ym(u){return Tf(u[4])}function Tf(u){for(;null!==u&&!$s(u);)u=u[4];return u}function Dc(u,d,m,x,D){if(null!=x){let z,q=!1;$s(x)?z=x:Tr(x)&&(q=!0,x=x[0]);const ee=cr(x);0===u&&null!==m?null==D?et(d,m,ee):Pe(d,m,ee,D||null,!0):1===u&&null!==m?Pe(d,m,ee,D||null,!0):2===u?function(u,d,m){const x=Rt(u,d);x&&function(u,d,m,x){Rs(u)?u.removeChild(d,m,x):d.removeChild(m)}(u,x,d,m)}(d,ee,q):3===u&&d.destroyNode(ee),null!=z&&function(u,d,m,x,D){const z=m[7];z!==cr(m)&&Dc(d,u,x,z,D);for(let ee=10;ee<m.length;ee++){const de=m[ee];Wc(de[1],de,u,d,x,z)}}(d,u,z,m,D)}}function Vm(u,d,m){return Rs(u)?u.createElement(d,m):null===m?u.createElement(d):u.createElementNS(m,d)}function Bp(u,d){const m=u[9],x=m.indexOf(d),D=d[3];1024&d[2]&&(d[2]&=-1025,Kl(D,-1)),m.splice(x,1)}function Ef(u,d){if(u.length<=10)return;const m=10+d,x=u[m];if(x){const D=x[17];null!==D&&D!==u&&Bp(D,x),d>0&&(u[m-1][4]=x[4]);const z=Ge(u,10+d);!function(u,d){Wc(u,d,d[11],2,null,null),d[0]=null,d[6]=null}(x[1],x);const q=z[19];null!==q&&q.detachView(z[1]),x[3]=null,x[4]=null,x[2]&=-129}return x}function S(u,d){if(!(256&d[2])){const m=d[11];Rs(m)&&m.destroyNode&&Wc(u,d,m,3,null,null),function(u){let d=u[13];if(!d)return T(u[1],u);for(;d;){let m=null;if(Tr(d))m=d[13];else{const x=d[10];x&&(m=x)}if(!m){for(;d&&!d[4]&&d!==u;)Tr(d)&&T(d[1],d),d=d[3];null===d&&(d=u),Tr(d)&&T(d[1],d),m=d&&d[4]}d=m}}(d)}}function T(u,d){if(!(256&d[2])){d[2]&=-129,d[2]|=256,function(u,d){let m;if(null!=u&&null!=(m=u.destroyHooks))for(let x=0;x<m.length;x+=2){const D=d[m[x]];if(!(D instanceof Mr)){const z=m[x+1];if(Array.isArray(z))for(let q=0;q<z.length;q+=2){const ee=D[z[q]],de=z[q+1];try{de.call(ee)}finally{}}else try{z.call(D)}finally{}}}}(u,d),function(u,d){const m=u.cleanup,x=d[7];let D=-1;if(null!==m)for(let z=0;z<m.length-1;z+=2)if("string"==typeof m[z]){const q=m[z+1],ee="function"==typeof q?q(d):cr(d[q]),de=x[D=m[z+2]],Me=m[z+3];"boolean"==typeof Me?ee.removeEventListener(m[z],de,Me):Me>=0?x[D=Me]():x[D=-Me].unsubscribe(),z+=2}else{const q=x[D=m[z+1]];m[z].call(q)}if(null!==x){for(let z=D+1;z<x.length;z++)x[z]();d[7]=null}}(u,d),1===d[1].type&&Rs(d[11])&&d[11].destroy();const m=d[17];if(null!==m&&$s(d[3])){m!==d[3]&&Bp(m,d);const x=d[19];null!==x&&x.detachView(u)}}}function ie(u,d,m){return function(u,d,m){let x=d;for(;null!==x&&40&x.type;)x=(d=x).parent;if(null===x)return m[0];if(2&x.flags){const D=u.data[x.directiveStart].encapsulation;if(D===Yn.None||D===Yn.Emulated)return null}return Sl(x,m)}(u,d.parent,m)}function Pe(u,d,m,x,D){Rs(u)?u.insertBefore(d,m,x,D):d.insertBefore(m,x,D)}function et(u,d,m){Rs(u)?u.appendChild(d,m):d.appendChild(m)}function lt(u,d,m,x,D){null!==x?Pe(u,d,m,x,D):et(u,d,m)}function Rt(u,d){return Rs(u)?u.parentNode(d):d.parentNode}function Fn(u,d,m){return Mi(u,d,m)}let Mi=function(u,d,m){return 40&u.type?Sl(u,m):null};function Wr(u,d,m,x){const D=ie(u,x,d),z=d[11],ee=Fn(x.parent||d[6],x,d);if(null!=D)if(Array.isArray(m))for(let de=0;de<m.length;de++)lt(z,D,m[de],ee,!1);else lt(z,D,m,ee,!1)}function wa(u,d){if(null!==d){const m=d.type;if(3&m)return Sl(d,u);if(4&m)return Vp(-1,u[d.index]);if(8&m){const x=d.child;if(null!==x)return wa(u,x);{const D=u[d.index];return $s(D)?Vp(-1,D):cr(D)}}if(32&m)return th(d,u)()||cr(u[d.index]);{const x=Ac(u,d);return null!==x?Array.isArray(x)?x[0]:wa(wd(u[$]),x):wa(u,d.next)}}return null}function Ac(u,d){return null!==d?u[$][6].projection[d.projection]:null}function Vp(u,d){const m=10+u+1;if(m<d.length){const x=d[m],D=x[1].firstChild;if(null!==D)return wa(x,D)}return d[7]}function Uo(u,d,m,x,D,z,q){for(;null!=m;){const ee=x[m.index],de=m.type;if(q&&0===d&&(ee&&Pa(cr(ee),x),m.flags|=4),64!=(64&m.flags))if(8&de)Uo(u,d,m.child,x,D,z,!1),Dc(d,u,D,ee,z);else if(32&de){const Me=th(m,x);let Ve;for(;Ve=Me();)Dc(d,u,D,Ve,z);Dc(d,u,D,ee,z)}else 16&de?Dg(u,d,x,m,D,z):Dc(d,u,D,ee,z);m=q?m.projectionNext:m.next}}function Wc(u,d,m,x,D,z){Uo(m,x,u.firstChild,d,D,z,!1)}function Dg(u,d,m,x,D,z){const q=m[$],de=q[6].projection[x.projection];if(Array.isArray(de))for(let Me=0;Me<de.length;Me++)Dc(d,u,D,de[Me],z);else Uo(u,d,de,q[3],D,z,!0)}function Fv(u,d,m){Rs(u)?u.setAttribute(d,"style",m):d.style.cssText=m}function am(u,d,m){Rs(u)?""===m?u.removeAttribute(d,"class"):u.setAttribute(d,"class",m):d.className=m}function Nv(u,d,m){let x=u.length;for(;;){const D=u.indexOf(d,m);if(-1===D)return D;if(0===D||u.charCodeAt(D-1)<=32){const z=d.length;if(D+z===x||u.charCodeAt(D+z)<=32)return D}m=D+1}}const zy="ng-template";function zv(u,d,m){let x=0;for(;x<u.length;){let D=u[x++];if(m&&"class"===D){if(D=u[x],-1!==Nv(D.toLowerCase(),d,0))return!0}else if(1===D){for(;x<u.length&&"string"==typeof(D=u[x++]);)if(D.toLowerCase()===d)return!0;return!1}}return!1}function jm(u){return 4===u.type&&u.value!==zy}function go(u,d,m){return d===(4!==u.type||m?u.value:zy)}function Yy(u,d,m){let x=4;const D=u.attrs||[],z=function(u){for(let d=0;d<u.length;d++)if(lp(u[d]))return d;return u.length}(D);let q=!1;for(let ee=0;ee<d.length;ee++){const de=d[ee];if("number"!=typeof de){if(!q)if(4&x){if(x=2|1&x,""!==de&&!go(u,de,m)||""===de&&1===d.length){if(Cd(x))return!1;q=!0}}else{const Me=8&x?de:d[++ee];if(8&x&&null!==u.attrs){if(!zv(u.attrs,Me,m)){if(Cd(x))return!1;q=!0}continue}const nt=Yv(8&x?"class":de,D,jm(u),m);if(-1===nt){if(Cd(x))return!1;q=!0;continue}if(""!==Me){let pt;pt=nt>z?"":D[nt+1].toLowerCase();const zt=8&x?pt:null;if(zt&&-1!==Nv(zt,Me,0)||2&x&&Me!==pt){if(Cd(x))return!1;q=!0}}}}else{if(!q&&!Cd(x)&&!Cd(de))return!1;if(q&&Cd(de))continue;q=!1,x=de|1&x}}return Cd(x)||q}function Cd(u){return 0==(1&u)}function Yv(u,d,m,x){if(null===d)return-1;let D=0;if(x||!m){let z=!1;for(;D<d.length;){const q=d[D];if(q===u)return D;if(3===q||6===q)z=!0;else{if(1===q||2===q){let ee=d[++D];for(;"string"==typeof ee;)ee=d[++D];continue}if(4===q)break;if(0===q){D+=4;continue}}D+=z?1:2}return-1}return function(u,d){let m=u.indexOf(4);if(m>-1)for(m++;m<u.length;){const x=u[m];if("number"==typeof x)return-1;if(x===d)return m;m++}return-1}(d,u)}function bp(u,d,m=!1){for(let x=0;x<d.length;x++)if(Yy(u,d[x],m))return!0;return!1}function Vv(u,d){e:for(let m=0;m<d.length;m++){const x=d[m];if(u.length===x.length){for(let D=0;D<u.length;D++)if(u[D]!==x[D])continue e;return!0}}return!1}function g0(u,d){return u?":not("+d.trim()+")":d}function A_(u){let d=u[0],m=1,x=2,D="",z=!1;for(;m<u.length;){let q=u[m];if("string"==typeof q)if(2&x){const ee=u[++m];D+="["+q+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&x?D+="."+q:4&x&&(D+=" "+q);else""!==D&&!Cd(q)&&(d+=g0(z,D),D=""),x=q,z=z||!Cd(x);m++}return""!==D&&(d+=g0(z,D)),d}const qr={};function Uv(u){jv(us(),Un(),qt()+u,$a())}function jv(u,d,m,x){if(!x)if(3==(3&d[2])){const z=u.preOrderCheckHooks;null!==z&&zo(d,z,m)}else{const z=u.preOrderHooks;null!==z&&su(d,z,0,m)}kn(m)}function lm(u,d){return u<<17|d<<2}function qc(u){return u>>17&32767}function I_(u){return 2|u}function Up(u){return(131068&u)>>2}function Df(u,d){return-131069&u|d<<2}function Ig(u){return 1|u}function T0(u,d){const m=u.contentQueries;if(null!==m)for(let x=0;x<m.length;x+=2){const D=m[x],z=m[x+1];if(-1!==z){const q=u.data[z];ru(D),q.contentQueries(2,d[z],z)}}}function Pf(u,d,m,x,D,z,q,ee,de,Me){const Ve=d.blueprint.slice();return Ve[0]=D,Ve[2]=140|x,yh(Ve),Ve[3]=Ve[15]=u,Ve[8]=m,Ve[10]=q||u&&u[10],Ve[11]=ee||u&&u[11],Ve[12]=de||u&&u[12]||null,Ve[9]=Me||u&&u[9]||null,Ve[6]=z,Ve[$]=2==d.type?u[$]:Ve,Ve}function hm(u,d,m,x,D){let z=u.data[d];if(null===z)z=function(u,d,m,x,D){const z=pd(),q=_o(),de=u.data[d]=function(u,d,m,x,D,z){return{type:m,index:x,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:D,attrs:z,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,q?z:z&&z.parent,m,d,x,D);return null===u.firstChild&&(u.firstChild=de),null!==z&&(q?null==z.child&&null!==de.parent&&(z.child=de):null===z.next&&(z.next=de)),de}(u,d,m,x,D),Ji.lFrame.inI18n&&(z.flags|=64);else if(64&z.type){z.type=m,z.value=x,z.attrs=D;const q=function(){const u=Ji.lFrame,d=u.currentTNode;return u.isParent?d:d.parent}();z.injectorIndex=null===q?-1:q.injectorIndex}return va(z,!0),z}function Ss(u,d,m,x){if(0===m)return-1;const D=d.length;for(let z=0;z<m;z++)d.push(x),u.blueprint.push(x),u.data.push(null);return D}function oh(u,d,m){Xo(d);try{const x=u.viewQuery;null!==x&&Tu(1,x,m);const D=u.template;null!==D&&R_(u,d,D,1,m),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&T0(u,d),u.staticViewQueries&&Tu(2,u.viewQuery,m);const z=u.components;null!==z&&function(u,d){for(let m=0;m<d.length;m++)Zp(u,d[m])}(d,z)}catch(x){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),x}finally{d[2]&=-5,Xa()}}function Mu(u,d,m,x){const D=d[2];if(256==(256&D))return;Xo(d);const z=$a();try{yh(d),function(u){Ji.lFrame.bindingIndex=u}(u.bindingStartIndex),null!==m&&R_(u,d,m,2,x);const q=3==(3&D);if(!z)if(q){const Me=u.preOrderCheckHooks;null!==Me&&zo(d,Me,null)}else{const Me=u.preOrderHooks;null!==Me&&su(d,Me,0,null),jd(d,0)}if(function(u){for(let d=nh(u);null!==d;d=Ym(d)){if(!d[2])continue;const m=d[9];for(let x=0;x<m.length;x++){const D=m[x],z=D[3];0==(1024&D[2])&&Kl(z,1),D[2]|=1024}}}(d),function(u){for(let d=nh(u);null!==d;d=Ym(d))for(let m=10;m<d.length;m++){const x=d[m],D=x[1];Bd(x)&&Mu(D,x,D.template,x[8])}}(d),null!==u.contentQueries&&T0(u,d),!z)if(q){const Me=u.contentCheckHooks;null!==Me&&zo(d,Me)}else{const Me=u.contentHooks;null!==Me&&su(d,Me,1),jd(d,1)}!function(u,d){const m=u.hostBindingOpCodes;if(null!==m)try{for(let x=0;x<m.length;x++){const D=m[x];if(D<0)kn(~D);else{const z=D,q=m[++x],ee=m[++x];Pu(q,z),ee(2,d[z])}}}finally{kn(-1)}}(u,d);const ee=u.components;null!==ee&&function(u,d){for(let m=0;m<d.length;m++)Nf(u,d[m])}(d,ee);const de=u.viewQuery;if(null!==de&&Tu(2,de,x),!z)if(q){const Me=u.viewCheckHooks;null!==Me&&zo(d,Me)}else{const Me=u.viewHooks;null!==Me&&su(d,Me,2),jd(d,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),z||(d[2]&=-73),1024&d[2]&&(d[2]&=-1025,Kl(d[3],-1))}finally{Xa()}}function Xv(u,d,m,x){const D=d[10],z=!$a(),q=$o(d);try{z&&!q&&D.begin&&D.begin(),q&&oh(u,d,x),Mu(u,d,m,x)}finally{z&&!q&&D.end&&D.end()}}function R_(u,d,m,x,D){const z=qt(),q=2&x;try{kn(-1),q&&d.length>20&&jv(u,d,20,$a()),m(x,D)}finally{kn(z)}}function Yg(u,d,m){if(_s(d)){const D=d.directiveEnd;for(let z=d.directiveStart;z<D;z++){const q=u.data[z];q.contentQueries&&q.contentQueries(1,m[z],z)}}}function zi(u,d,m){!Ip()||(function(u,d,m,x){const D=m.directiveStart,z=m.directiveEnd;u.firstCreatePass||lc(m,d),Pa(x,d);const q=m.initialInputs;for(let ee=D;ee<z;ee++){const de=u.data[ee],Me=ys(de);Me&&Ug(d,m,de);const Ve=dl(d,u,ee,m);Pa(Ve,d),null!==q&&Rh(0,ee-D,Ve,de,0,q),Me&&(ss(m.index,d)[8]=Ve)}}(u,d,m,Sl(m,d)),128==(128&m.flags)&&function(u,d,m){const x=m.directiveStart,D=m.directiveEnd,q=m.index,ee=Ji.lFrame.currentDirectiveIndex;try{kn(q);for(let de=x;de<D;de++){const Me=u.data[de],Ve=d[de];No(de),(null!==Me.hostBindings||0!==Me.hostVars||null!==Me.hostAttrs)&&ja(Me,Ve)}}finally{kn(-1),No(ee)}}(u,d,m))}function Bg(u,d,m=Sl){const x=d.localNames;if(null!==x){let D=d.index+1;for(let z=0;z<x.length;z+=2){const q=x[z+1],ee=-1===q?m(d,u):u[q];u[D++]=ee}}}function $r(u){const d=u.tView;return null===d||d.incompleteFirstPass?u.tView=pm(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts):d}function pm(u,d,m,x,D,z,q,ee,de,Me){const Ve=20+x,nt=Ve+D,pt=function(u,d){const m=[];for(let x=0;x<d;x++)m.push(x<u?null:qr);return m}(Ve,nt),zt="function"==typeof Me?Me():Me;return pt[1]={type:u,blueprint:pt,template:m,queries:null,viewQuery:ee,declTNode:d,data:pt.slice().fill(null,Ve),bindingStartIndex:Ve,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof z?z():z,pipeRegistry:"function"==typeof q?q():q,firstChild:null,schemas:de,consts:zt,incompleteFirstPass:!1}}function Wu(u,d,m,x){const D=oo(d);null===m?D.push(x):(D.push(m),u.firstCreatePass&&tg(u).push(x,D.length-1))}function Qv(u,d,m){for(let x in u)if(u.hasOwnProperty(x)){const D=u[x];(m=null===m?{}:m).hasOwnProperty(x)?m[x].push(d,D):m[x]=[d,D]}return m}function so(u,d,m,x,D,z,q,ee){const de=Sl(d,m);let Ve,Me=d.inputs;!ee&&null!=Me&&(Ve=Me[x])?(mm(u,m,Ve,x,D),Zi(d)&&function(u,d){const m=ss(d,u);16&m[2]||(m[2]|=64)}(m,d.index)):3&d.type&&(x=function(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(x),D=null!=q?q(D,d.value||"",x):D,Rs(z)?z.setProperty(de,x,D):Us(x)||(de.setProperty?de.setProperty(x,D):de[x]=D))}function Xm(u,d,m,x){let D=!1;if(Ip()){const z=function(u,d,m){const x=u.directiveRegistry;let D=null;if(x)for(let z=0;z<x.length;z++){const q=x[z];bp(m,q.selectors,!1)&&(D||(D=[]),js(lc(m,d),u,q.type),ys(q)?(Rr(u,m),D.unshift(q)):D.push(q))}return D}(u,d,m),q=null===x?null:{"":-1};if(null!==z){D=!0,N_(m,u.data.length,z.length);for(let Ve=0;Ve<z.length;Ve++){const nt=z[Ve];nt.providersResolver&&nt.providersResolver(nt)}let ee=!1,de=!1,Me=Ss(u,d,z.length,null);for(let Ve=0;Ve<z.length;Ve++){const nt=z[Ve];m.mergedAttrs=lu(m.mergedAttrs,nt.hostAttrs),z_(u,m,d,Me,nt),F_(Me,nt,q),null!==nt.contentQueries&&(m.flags|=8),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(m.flags|=128);const pt=nt.type.prototype;!ee&&(pt.ngOnChanges||pt.ngOnInit||pt.ngDoCheck)&&((u.preOrderHooks||(u.preOrderHooks=[])).push(m.index),ee=!0),!de&&(pt.ngOnChanges||pt.ngDoCheck)&&((u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(m.index),de=!0),Me++}!function(u,d){const x=d.directiveEnd,D=u.data,z=d.attrs,q=[];let ee=null,de=null;for(let Me=d.directiveStart;Me<x;Me++){const Ve=D[Me],nt=Ve.inputs,pt=null===z||jm(d)?null:Gg(nt,z);q.push(pt),ee=Qv(nt,Me,ee),de=Qv(Ve.outputs,Me,de)}null!==ee&&(ee.hasOwnProperty("class")&&(d.flags|=16),ee.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=q,d.inputs=ee,d.outputs=de}(u,m)}q&&function(u,d,m){if(d){const x=u.localNames=[];for(let D=0;D<d.length;D+=2){const z=m[d[D+1]];if(null==z)throw new Ut("301",`Export of name '${d[D+1]}' not found!`);x.push(d[D],z)}}}(m,x,q)}return m.mergedAttrs=lu(m.mergedAttrs,m.attrs),D}function Qm(u,d,m,x,D,z){const q=z.hostBindings;if(q){let ee=u.hostBindingOpCodes;null===ee&&(ee=u.hostBindingOpCodes=[]);const de=~d.index;(function(u){let d=u.length;for(;d>0;){const m=u[--d];if("number"==typeof m&&m<0)return m}return 0})(ee)!=de&&ee.push(de),ee.push(x,D,q)}}function ja(u,d){null!==u.hostBindings&&u.hostBindings(1,d)}function Rr(u,d){d.flags|=2,(u.components||(u.components=[])).push(d.index)}function F_(u,d,m){if(m){if(d.exportAs)for(let x=0;x<d.exportAs.length;x++)m[d.exportAs[x]]=u;ys(d)&&(m[""]=u)}}function N_(u,d,m){u.flags|=1,u.directiveStart=d,u.directiveEnd=d+m,u.providerIndexes=d}function z_(u,d,m,x,D){u.data[x]=D;const z=D.factory||(D.factory=bs(D.type)),q=new Mr(z,ys(D),null);u.blueprint[x]=q,m[x]=q,Qm(u,d,0,x,Ss(u,m,D.hostVars,qr),D)}function Ug(u,d,m){const x=Sl(d,u),D=$r(m),z=u[10],q=zf(u,Pf(u,D,null,m.onPush?64:16,x,d,z,z.createRenderer(x,m),null,null));u[d.index]=q}function Td(u,d,m,x,D,z){const q=Sl(u,d);!function(u,d,m,x,D,z,q){if(null==z)Rs(u)?u.removeAttribute(d,D,m):d.removeAttribute(D);else{const ee=null==q?In(z):q(z,x||"",D);Rs(u)?u.setAttribute(d,D,ee,m):m?d.setAttributeNS(m,D,ee):d.setAttribute(D,ee)}}(d[11],q,z,u.value,m,x,D)}function Rh(u,d,m,x,D,z){const q=z[d];if(null!==q){const ee=x.setInput;for(let de=0;de<q.length;){const Me=q[de++],Ve=q[de++],nt=q[de++];null!==ee?x.setInput(m,nt,Me,Ve):m[Ve]=nt}}}function Gg(u,d){let m=null,x=0;for(;x<d.length;){const D=d[x];if(0!==D)if(5!==D){if("number"==typeof D)break;u.hasOwnProperty(D)&&(null===m&&(m=[]),m.push(D,u[D],d[x+1])),x+=2}else x+=2;else x+=4}return m}function Zg(u,d,m,x){return new Array(u,!0,!1,d,null,0,x,m,null,null)}function Nf(u,d){const m=ss(d,u);if(Bd(m)){const x=m[1];80&m[2]?Mu(x,m,x.template,m[8]):m[5]>0&&ql(m)}}function ql(u){for(let x=nh(u);null!==x;x=Ym(x))for(let D=10;D<x.length;D++){const z=x[D];if(1024&z[2]){const q=z[1];Mu(q,z,q.template,z[8])}else z[5]>0&&ql(z)}const m=u[1].components;if(null!==m)for(let x=0;x<m.length;x++){const D=ss(m[x],u);Bd(D)&&D[5]>0&&ql(D)}}function Zp(u,d){const m=ss(d,u),x=m[1];(function(u,d){for(let m=d.length;m<u.blueprint.length;m++)d.push(u.blueprint[m])})(x,m),oh(x,m,m[8])}function zf(u,d){return u[13]?u[14][4]=d:u[13]=d,u[14]=d,d}function Y_(u){for(;u;){u[2]|=64;const d=wd(u);if(_a(u)&&!d)return u;u=d}return null}function Wg(u,d,m){const x=d[10];x.begin&&x.begin();try{Mu(u,d,u.template,m)}catch(D){throw Yf(d,D),D}finally{x.end&&x.end()}}function xp(u){!function(u){for(let d=0;d<u.components.length;d++){const m=u.components[d],x=vf(m),D=x[1];Xv(D,x,D.template,m)}}(u[8])}function Tu(u,d,m){ru(0),d(u,m)}const Kv=(()=>Promise.resolve(null))();function oo(u){return u[7]||(u[7]=[])}function tg(u){return u.cleanup||(u.cleanup=[])}function Sd(u,d,m){return(null===u||ys(u))&&(m=function(u){for(;Array.isArray(u);){if("object"==typeof u[1])return u;u=u[0]}return null}(m[d.index])),m[11]}function Yf(u,d){const m=u[9],x=m?m.get(Ih,null):null;x&&x.handleError(d)}function mm(u,d,m,x,D){for(let z=0;z<m.length;){const q=m[z++],ee=m[z++],de=d[q],Me=u.data[q];null!==Me.setInput?Me.setInput(de,D,x,ee):de[ee]=D}}function Fh(u,d,m){const x=Au(d,u);!function(u,d,m){Rs(u)?u.setValue(d,m):d.textContent=m}(u[11],x,m)}function Nh(u,d,m){let x=m?u.styles:null,D=m?u.classes:null,z=0;if(null!==d)for(let q=0;q<d.length;q++){const ee=d[q];"number"==typeof ee?z=ee:1==z?D=Fe(D,ee):2==z&&(x=Fe(x,ee+": "+d[++q]+";"))}m?u.styles=x:u.stylesWithoutHost=x,m?u.classes=D:u.classesWithoutHost=D}const qp=new vo("INJECTOR",-1);class qg{get(d,m=Si){if(m===Si){const x=new Error(`NullInjectorError: No provider for ${xe(d)}!`);throw x.name="NullInjectorError",x}return m}}const Lc=new vo("Set Injector scope."),ah={},eb={};let ng;function gm(){return void 0===ng&&(ng=new qg),ng}function Ol(u,d=null,m=null,x){return new $l(u,m,d||gm(),x)}class $l{constructor(d,m,x,D=null){this.parent=x,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const z=[];m&&_e(m,ee=>this.processProvider(ee,d,m)),_e([d],ee=>this.processInjectorType(ee,[],z)),this.records.set(qp,yl(void 0,this));const q=this.records.get(Lc);this.scope=null!=q?q.value:null,this.source=D||("object"==typeof d?null:xe(d))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(d=>d.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(d,m=Si,x=yi.Default){this.assertNotDestroyed();const D=Vo(this),z=Xi(void 0);try{if(!(x&yi.SkipSelf)){let ee=this.records.get(d);if(void 0===ee){const de=("function"==typeof(u=d)||"object"==typeof u&&u instanceof vo)&&Vs(d);ee=de&&this.injectableDefInScope(de)?yl(_m(d),ah):null,this.records.set(d,ee)}if(null!=ee)return this.hydrate(d,ee)}return(x&yi.Self?gm():this.parent).get(d,m=x&yi.Optional&&m===Si?null:m)}catch(q){if("NullInjectorError"===q.name){if((q[os]=q[os]||[]).unshift(xe(d)),D)throw q;return Qa(q,d,"R3InjectorError",this.source)}throw q}finally{Xi(z),Vo(D)}var u}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(d=>this.get(d))}toString(){const d=[];return this.records.forEach((x,D)=>d.push(xe(D))),`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(d,m,x){if(!(d=ht(d)))return!1;let D=ma(d);const z=null==D&&d.ngModule||void 0,q=void 0===z?d:z,ee=-1!==x.indexOf(q);if(void 0!==z&&(D=ma(z)),null==D)return!1;if(null!=D.imports&&!ee){let Ve;x.push(q);try{_e(D.imports,nt=>{this.processInjectorType(nt,m,x)&&(void 0===Ve&&(Ve=[]),Ve.push(nt))})}finally{}if(void 0!==Ve)for(let nt=0;nt<Ve.length;nt++){const{ngModule:pt,providers:zt}=Ve[nt];_e(zt,Jt=>this.processProvider(Jt,pt,zt||Lt))}}this.injectorDefTypes.add(q);const de=bs(q)||(()=>new q);this.records.set(q,yl(de,ah));const Me=D.providers;if(null!=Me&&!ee){const Ve=d;_e(Me,nt=>this.processProvider(nt,Ve,Me))}return void 0!==z&&void 0!==d.providers}processProvider(d,m,x){let D=w(d=ht(d))?d:ht(d&&d.provide);const z=g(u=d)?yl(void 0,u.useValue):yl(Rl(u),ah);var u;if(w(d)||!0!==d.multi)this.records.get(D);else{let q=this.records.get(D);q||(q=yl(void 0,ah,!0),q.factory=()=>Ts(q.multi),this.records.set(D,q)),D=d,q.multi.push(d)}this.records.set(D,z)}hydrate(d,m){return m.value===ah&&(m.value=eb,m.value=m.factory()),"object"==typeof m.value&&m.value&&null!==(u=m.value)&&"object"==typeof u&&"function"==typeof u.ngOnDestroy&&this.onDestroy.add(m.value),m.value;var u}injectableDefInScope(d){if(!d.providedIn)return!1;const m=ht(d.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function _m(u){const d=Vs(u),m=null!==d?d.factory:bs(u);if(null!==m)return m;if(u instanceof vo)throw new Error(`Token ${xe(u)} is missing a \u0275prov definition.`);if(u instanceof Function)return function(u){const d=u.length;if(d>0){const x=We(d,"?");throw new Error(`Can't resolve all parameters for ${xe(u)}: (${x.join(", ")}).`)}const m=function(u){const d=u&&(u[Gi]||u[ho]);if(d){const m=function(u){if(u.hasOwnProperty("name"))return u.name;const d=(""+u).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(u);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),d}return null}(u);return null!==m?()=>m.factory(u):()=>new u}(u);throw new Error("unreachable")}function Rl(u,d,m){let x;if(w(u)){const D=ht(u);return bs(D)||_m(D)}if(g(u))x=()=>ht(u.useValue);else if(function(u){return!(!u||!u.useFactory)}(u))x=()=>u.useFactory(...Ts(u.deps||[]));else if(function(u){return!(!u||!u.useExisting)}(u))x=()=>Ri(ht(u.useExisting));else{const D=ht(u&&(u.useClass||u.provide));if(!function(u){return!!u.deps}(u))return bs(D)||_m(D);x=()=>new D(...Ts(u.deps))}return x}function yl(u,d,m=!1){return{factory:u,value:d,multi:m?[]:void 0}}function g(u){return null!==u&&"object"==typeof u&&Aa in u}function w(u){return"function"==typeof u}const ye=function(u,d,m){return function(u,d=null,m=null,x){const D=Ol(u,d,m,x);return D._resolveInjectorDefTypes(),D}({name:m},d,u,m)};class we{static create(d,m){return Array.isArray(d)?ye(d,m,""):ye(d.providers,d.parent,d.name||"")}}function Pc(u,d){sc(vf(u)[1],fo())}function da(u){let d=function(u){return Object.getPrototypeOf(u.prototype).constructor}(u.type),m=!0;const x=[u];for(;d;){let D;if(ys(u))D=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Error("Directives cannot inherit Components");D=d.\u0275dir}if(D){if(m){x.push(D);const q=u;q.inputs=Qs(u.inputs),q.declaredInputs=Qs(u.declaredInputs),q.outputs=Qs(u.outputs);const ee=D.hostBindings;ee&&$p(u,ee);const de=D.viewQuery,Me=D.contentQueries;if(de&&$u(u,de),Me&&Rc(u,Me),Te(u.inputs,D.inputs),Te(u.declaredInputs,D.declaredInputs),Te(u.outputs,D.outputs),ys(D)&&D.data.animation){const Ve=u.data;Ve.animation=(Ve.animation||[]).concat(D.data.animation)}}const z=D.features;if(z)for(let q=0;q<z.length;q++){const ee=z[q];ee&&ee.ngInherit&&ee(u),ee===da&&(m=!1)}}d=Object.getPrototypeOf(d)}!function(u){let d=0,m=null;for(let x=u.length-1;x>=0;x--){const D=u[x];D.hostVars=d+=D.hostVars,D.hostAttrs=lu(D.hostAttrs,m=lu(m,D.hostAttrs))}}(x)}function Qs(u){return u===Pt?{}:u===Lt?[]:u}function $u(u,d){const m=u.viewQuery;u.viewQuery=m?(x,D)=>{d(x,D),m(x,D)}:d}function Rc(u,d){const m=u.contentQueries;u.contentQueries=m?(x,D,z)=>{d(x,D,z),m(x,D,z)}:d}function $p(u,d){const m=u.hostBindings;u.hostBindings=m?(x,D)=>{d(x,D),m(x,D)}:d}we.THROW_IF_NOT_FOUND=Si,we.NULL=new qg,we.\u0275prov=xr({token:we,providedIn:"any",factory:()=>Ri(qp)}),we.__NG_ELEMENT_ID__=-1;let kd=null;function Za(){if(!kd){const u=gs.Symbol;if(u&&u.iterator)kd=u.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<d.length;++m){const x=d[m];"entries"!==x&&"size"!==x&&Map.prototype[x]===Map.prototype.entries&&(kd=x)}}}return kd}class Xu{constructor(d){this.wrapped=d}static wrap(d){return new Xu(d)}static unwrap(d){return Xu.isWrapped(d)?d.wrapped:d}static isWrapped(d){return d instanceof Xu}}function Co(u){return!!G_(u)&&(Array.isArray(u)||!(u instanceof Map)&&Za()in u)}function G_(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function Ko(u,d,m){return u[d]=m}function rl(u,d){return u[d]}function sl(u,d,m){return!Object.is(u[d],m)&&(u[d]=m,!0)}function ch(u,d,m,x){const D=sl(u,d,m);return sl(u,d+1,x)||D}function $g(u,d,m,x,D){const z=ch(u,d,m,x);return sl(u,d+2,D)||z}function _c(u,d,m,x,D,z){const q=ch(u,d,m,x);return ch(u,d+2,D,z)||q}function S0(u,d,m,x){const D=Un();return sl(D,tc(),d)&&(us(),Td(pn(),D,u,d,m,x)),S0}function Bf(u,d,m,x){return sl(u,tc(),m)?d+In(m)+x:qr}function Y(u,d,m,x,D,z,q,ee){const de=Un(),Me=us(),Ve=u+20,nt=Me.firstCreatePass?function(u,d,m,x,D,z,q,ee,de){const Me=d.consts,Ve=hm(d,u,4,q||null,kl(Me,ee));Xm(d,m,Ve,kl(Me,de)),sc(d,Ve);const nt=Ve.tViews=pm(2,Ve,x,D,z,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Me);return null!==d.queries&&(d.queries.template(d,Ve),nt.queries=d.queries.embeddedTView(Ve)),Ve}(Ve,Me,de,d,m,x,D,z,q):Me.data[Ve];va(nt,!1);const pt=de[11].createComment("");Wr(Me,de,pt,nt),Pa(pt,de),zf(de,de[Ve]=Zg(pt,de,pt,nt)),Jr(nt)&&zi(Me,de,nt),null!=q&&Bg(de,nt,ee)}function Ce(u){return qa(Ji.lFrame.contextLView,20+u)}function cb(u,d=yi.Default){const m=Un();return null===m?Ri(u,d):Ei(fo(),m,ht(u),d)}function dw(u,d,m){const x=Un();return sl(x,tc(),d)&&so(us(),pn(),x,u,d,x[11],m,!1),dw}function hw(u,d,m,x,D){const q=D?"class":"style";mm(u,m,d.inputs[q],q,x)}function pw(u,d,m,x){const D=Un(),z=us(),q=20+u,ee=D[11],de=D[q]=Vm(ee,d,Ji.lFrame.currentNamespace),Me=z.firstCreatePass?function(u,d,m,x,D,z,q){const ee=d.consts,Me=hm(d,u,2,D,kl(ee,z));return Xm(d,m,Me,kl(ee,q)),null!==Me.attrs&&Nh(Me,Me.attrs,!1),null!==Me.mergedAttrs&&Nh(Me,Me.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,Me),Me}(q,z,D,0,d,m,x):z.data[q];va(Me,!0);const Ve=Me.mergedAttrs;null!==Ve&&md(ee,de,Ve);const nt=Me.classes;null!==nt&&am(ee,de,nt);const pt=Me.styles;null!==pt&&Fv(ee,de,pt),64!=(64&Me.flags)&&Wr(z,D,de,Me),0===Ji.lFrame.elementDepthCount&&Pa(de,D),Ji.lFrame.elementDepthCount++,Jr(Me)&&(zi(z,D,Me),Yg(z,Me,D)),null!==x&&Bg(D,Me)}function Xy(){let u=fo();_o()?Os():(u=u.parent,va(u,!1));const d=u;Ji.lFrame.elementDepthCount--;const m=us();m.firstCreatePass&&(sc(m,u),_s(u)&&m.queries.elementEnd(u)),null!=d.classesWithoutHost&&function(u){return 0!=(16&u.flags)}(d)&&hw(m,d,Un(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function(u){return 0!=(32&u.flags)}(d)&&hw(m,d,Un(),d.stylesWithoutHost,!1)}function aC(u,d,m,x){pw(u,d,m,x),Xy()}function Bh(u,d,m){const x=Un(),D=us(),z=u+20,q=D.firstCreatePass?function(u,d,m,x,D){const z=d.consts,q=kl(z,x),ee=hm(d,u,8,"ng-container",q);return null!==q&&Nh(ee,q,!0),Xm(d,m,ee,kl(z,D)),null!==d.queries&&d.queries.elementStart(d,ee),ee}(z,D,x,d,m):D.data[z];va(q,!0);const ee=x[z]=x[11].createComment("");Wr(D,x,ee,q),Pa(ee,x),Jr(q)&&(zi(D,x,q),Yg(D,q,x)),null!=m&&Bg(x,q)}function En(){let u=fo();const d=us();_o()?Os():(u=u.parent,va(u,!1)),d.firstCreatePass&&(sc(d,u),_s(u)&&d.queries.elementEnd(u))}function li(u,d,m){Bh(u,d,m),En()}function Vf(){return Un()}function P0(u){return!!u&&"function"==typeof u.then}function xi(u){return!!u&&"function"==typeof u.subscribe}const yc=xi;function Qy(u,d,m,x){const D=Un(),z=us(),q=fo();return ns(z,D,D[11],q,u,d,!!m,x),Qy}function O0(u,d){const m=fo(),x=Un(),D=us();return ns(D,x,Sd(nc(D.data),m,x),m,u,d,!1),O0}function ns(u,d,m,x,D,z,q,ee){const de=Jr(x),Ve=u.firstCreatePass&&tg(u),nt=d[8],pt=oo(d);let zt=!0;if(3&x.type||ee){const yn=Sl(x,d),hi=ee?ee(yn):yn,Gn=pt.length,dr=ee?is=>ee(cr(is[x.index])):x.index;if(Rs(m)){let is=null;if(!ee&&de&&(is=function(u,d,m,x){const D=u.cleanup;if(null!=D)for(let z=0;z<D.length-1;z+=2){const q=D[z];if(q===m&&D[z+1]===x){const ee=d[7],de=D[z+2];return ee.length>de?ee[de]:null}"string"==typeof q&&(z+=2)}return null}(u,d,D,x.index)),null!==is)(is.__ngLastListenerFn__||is).__ngNextListenerFn__=z,is.__ngLastListenerFn__=z,zt=!1;else{z=lC(x,d,nt,z,!1);const As=m.listen(hi,D,z);pt.push(z,As),Ve&&Ve.push(D,dr,Gn,Gn+1)}}else z=lC(x,d,nt,z,!0),hi.addEventListener(D,z,q),pt.push(z),Ve&&Ve.push(D,dr,Gn,q)}else z=lC(x,d,nt,z,!1);const Jt=x.outputs;let Sn;if(zt&&null!==Jt&&(Sn=Jt[D])){const yn=Sn.length;if(yn)for(let hi=0;hi<yn;hi+=2){const Qc=d[Sn[hi]][Sn[hi+1]].subscribe(z),Ep=pt.length;pt.push(z,Qc),Ve&&Ve.push(D,x.index,Ep,-(Ep+1))}}}function Ii(u,d,m,x){try{return!1!==m(x)}catch(D){return Yf(u,D),!1}}function lC(u,d,m,x,D){return function z(q){if(q===Function)return x;const ee=2&u.flags?ss(u.index,d):d;0==(32&d[2])&&Y_(ee);let de=Ii(d,0,x,q),Me=z.__ngNextListenerFn__;for(;Me;)de=Ii(d,0,Me,q)&&de,Me=Me.__ngNextListenerFn__;return D&&!1===de&&(q.preventDefault(),q.returnValue=!1),de}}function cC(u=1){return function(u){return(Ji.lFrame.contextLView=function(u,d){for(;u>0;)d=d[15],u--;return d}(u,Ji.lFrame.contextLView))[8]}(u)}function lo(u,d){let m=null;const x=function(u){const d=u.attrs;if(null!=d){const m=d.indexOf(5);if(0==(1&m))return d[m+1]}return null}(u);for(let D=0;D<d.length;D++){const z=d[D];if("*"!==z){if(null===x?bp(u,z,!0):Vv(x,z))return D}else m=D}return m}function Jy(u){const d=Un()[$][6];if(!d.projection){const x=d.projection=We(u?u.length:1,null),D=x.slice();let z=d.child;for(;null!==z;){const q=u?lo(z,u):0;null!==q&&(D[q]?D[q].projectionNext=z:x[q]=z,D[q]=z),z=z.next}}}function uC(u,d=0,m){const x=Un(),D=us(),z=hm(D,20+u,16,null,m||null);null===z.projection&&(z.projection=d),Os(),64!=(64&z.flags)&&function(u,d,m){Dg(d[11],0,d,m,ie(u,m,d),Fn(m.parent||d[6],m,d))}(D,x,z)}function ph(u,d,m){return Bs(u,"",d,"",m),ph}function Bs(u,d,m,x,D){const z=Un(),q=Bf(z,d,m,x);return q!==qr&&so(us(),pn(),z,u,q,z[11],D,!1),Bs}function Fc(u,d,m,x,D){const z=u[m+1],q=null===d;let ee=x?qc(z):Up(z),de=!1;for(;0!==ee&&(!1===de||q);){const Ve=u[ee+1];ub(u[ee],d)&&(de=!0,u[ee+1]=x?Ig(Ve):I_(Ve)),ee=x?qc(Ve):Up(Ve)}de&&(u[m+1]=x?I_(z):Ig(z))}function ub(u,d){return null===u||null==d||(Array.isArray(u)?u[1]:u)===d||!(!Array.isArray(u)||"string"!=typeof d)&&Ct(u,d)>=0}const Nc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fC(u){return u.substring(Nc.key,Nc.keyEnd)}function R0(u){return u.substring(Nc.value,Nc.valueEnd)}function F0(u,d){const m=Nc.textEnd;return m===d?-1:(d=Nc.keyEnd=function(u,d,m){for(;d<m&&u.charCodeAt(d)>32;)d++;return d}(u,Nc.key=d,m),Vh(u,d,m))}function vr(u,d){const m=Nc.textEnd;let x=Nc.key=Vh(u,d,m);return m===x?-1:(x=Nc.keyEnd=function(u,d,m){let x;for(;d<m&&(45===(x=u.charCodeAt(d))||95===x||(-33&x)>=65&&(-33&x)<=90||x>=48&&x<=57);)d++;return d}(u,x,m),x=mC(u,x,m),x=Nc.value=Vh(u,x,m),x=Nc.valueEnd=function(u,d,m){let x=-1,D=-1,z=-1,q=d,ee=q;for(;q<m;){const de=u.charCodeAt(q++);if(59===de)return ee;34===de||39===de?ee=q=fw(u,de,q,m):d===q-4&&85===z&&82===D&&76===x&&40===de?ee=q=fw(u,41,q,m):de>32&&(ee=q),z=D,D=x,x=-33&de}return ee}(u,x,m),mC(u,x,m))}function Q_(u){Nc.key=0,Nc.keyEnd=0,Nc.value=0,Nc.valueEnd=0,Nc.textEnd=u.length}function Vh(u,d,m){for(;d<m&&u.charCodeAt(d)<=32;)d++;return d}function mC(u,d,m,x){return(d=Vh(u,d,m))<m&&d++,d}function fw(u,d,m,x){let D=-1,z=m;for(;z<x;){const q=u.charCodeAt(z++);if(q==d&&92!==D)return z;D=92==q&&92===D?0:q}throw new Error}function z0(u,d,m){return Ql(u,d,m,!1),z0}function Y0(u,d){return Ql(u,d,null,!0),Y0}function Uf(u){jf(nS,KT,u,!1)}function KT(u,d){for(let m=function(u){return Q_(u),vr(u,Vh(u,0,Nc.textEnd))}(d);m>=0;m=vr(d,m))nS(u,fC(d),R0(d))}function B0(u){jf(wt,Mp,u,!0)}function Mp(u,d){for(let m=function(u){return Q_(u),F0(u,Vh(u,0,Nc.textEnd))}(d);m>=0;m=F0(d,m))wt(u,fC(d),!0)}function Ql(u,d,m,x){const D=Un(),z=us(),q=hr(2);z.firstUpdatePass&&eS(z,u,q,x),d!==qr&&sl(D,q,d)&&rS(z,z.data[qt()],D,D[11],u,D[q+1]=function(u,d){return null==u||("string"==typeof d?u+=d:"object"==typeof u&&(u=xe(Xd(u)))),u}(d,m),x,q)}function jf(u,d,m,x){const D=us(),z=hr(2);D.firstUpdatePass&&eS(D,null,z,x);const q=Un();if(m!==qr&&sl(q,z,m)){const ee=D.data[qt()];if(hb(ee,x)&&!Qu(D,z)){let de=x?ee.classesWithoutHost:ee.stylesWithoutHost;null!==de&&(m=Fe(de,m||"")),hw(D,ee,q,m,x)}else!function(u,d,m,x,D,z,q,ee){D===qr&&(D=Lt);let de=0,Me=0,Ve=0<D.length?D[0]:null,nt=0<z.length?z[0]:null;for(;null!==Ve||null!==nt;){const pt=de<D.length?D[de+1]:void 0,zt=Me<z.length?z[Me+1]:void 0;let Sn,Jt=null;Ve===nt?(de+=2,Me+=2,pt!==zt&&(Jt=nt,Sn=zt)):null===nt||null!==Ve&&Ve<nt?(de+=2,Jt=Ve):(Me+=2,Jt=nt,Sn=zt),null!==Jt&&rS(u,d,m,x,Jt,Sn,q,ee),Ve=de<D.length?D[de]:null,nt=Me<z.length?z[Me]:null}}(D,ee,q,q[11],q[z+1],q[z+1]=function(u,d,m){if(null==m||""===m)return Lt;const x=[],D=Xd(m);if(Array.isArray(D))for(let z=0;z<D.length;z++)u(x,D[z],!0);else if("object"==typeof D)for(const z in D)D.hasOwnProperty(z)&&u(x,z,D[z]);else"string"==typeof D&&d(x,D);return x}(u,d,m),x,z)}}function Qu(u,d){return d>=u.expandoStartIndex}function eS(u,d,m,x){const D=u.data;if(null===D[m+1]){const z=D[qt()],q=Qu(u,m);hb(z,x)&&null===d&&!q&&(d=!1),d=function(u,d,m,x){const D=nc(u);let z=x?d.residualClasses:d.residualStyles;if(null===D)0===(x?d.classBindings:d.styleBindings)&&(m=H0(m=Hh(null,u,d,m,x),d.attrs,x),z=null);else{const q=d.directiveStylingLast;if(-1===q||u[q]!==D)if(m=Hh(D,u,d,m,x),null===z){let de=function(u,d,m){const x=m?d.classBindings:d.styleBindings;if(0!==Up(x))return u[qc(x)]}(u,d,x);void 0!==de&&Array.isArray(de)&&(de=Hh(null,u,d,de[1],x),de=H0(de,d.attrs,x),function(u,d,m,x){u[qc(m?d.classBindings:d.styleBindings)]=x}(u,d,x,de))}else z=function(u,d,m){let x;const D=d.directiveEnd;for(let z=1+d.directiveStylingLast;z<D;z++)x=H0(x,u[z].hostAttrs,m);return H0(x,d.attrs,m)}(u,d,x)}return void 0!==z&&(x?d.residualClasses=z:d.residualStyles=z),m}(D,z,d,x),function(u,d,m,x,D,z){let q=z?d.classBindings:d.styleBindings,ee=qc(q),de=Up(q);u[x]=m;let Ve,Me=!1;if(Array.isArray(m)){const nt=m;Ve=nt[1],(null===Ve||Ct(nt,Ve)>0)&&(Me=!0)}else Ve=m;if(D)if(0!==de){const pt=qc(u[ee+1]);u[x+1]=lm(pt,ee),0!==pt&&(u[pt+1]=Df(u[pt+1],x)),u[ee+1]=function(u,d){return 131071&u|d<<17}(u[ee+1],x)}else u[x+1]=lm(ee,0),0!==ee&&(u[ee+1]=Df(u[ee+1],x)),ee=x;else u[x+1]=lm(de,0),0===ee?ee=x:u[de+1]=Df(u[de+1],x),de=x;Me&&(u[x+1]=I_(u[x+1])),Fc(u,Ve,x,!0),Fc(u,Ve,x,!1),function(u,d,m,x,D){const z=D?u.residualClasses:u.residualStyles;null!=z&&"string"==typeof d&&Ct(z,d)>=0&&(m[x+1]=Ig(m[x+1]))}(d,Ve,u,x,z),q=lm(ee,de),z?d.classBindings=q:d.styleBindings=q}(D,z,d,m,q,x)}}function Hh(u,d,m,x,D){let z=null;const q=m.directiveEnd;let ee=m.directiveStylingLast;for(-1===ee?ee=m.directiveStart:ee++;ee<q&&(z=d[ee],x=H0(x,z.hostAttrs,D),z!==u);)ee++;return null!==u&&(m.directiveStylingLast=ee),x}function H0(u,d,m){const x=m?1:2;let D=-1;if(null!==d)for(let z=0;z<d.length;z++){const q=d[z];"number"==typeof q?D=q:D===x&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),wt(u,q,!!m||d[++z]))}return void 0===u?null:u}function nS(u,d,m){wt(u,d,Xd(m))}function rS(u,d,m,x,D,z,q,ee){if(!(3&d.type))return;const de=u.data,Me=de[ee+1];_w(function(u){return 1==(1&u)}(Me)?sS(de,d,m,D,Up(Me),q):void 0)||(_w(z)||function(u){return 2==(2&u)}(Me)&&(z=sS(de,null,m,D,ee,q)),function(u,d,m,x,D){const z=Rs(u);if(d)D?z?u.addClass(m,x):m.classList.add(x):z?u.removeClass(m,x):m.classList.remove(x);else{let q=-1===x.indexOf("-")?void 0:xu.DashCase;if(null==D)z?u.removeStyle(m,x,q):m.style.removeProperty(x);else{const ee="string"==typeof D&&D.endsWith("!important");ee&&(D=D.slice(0,-10),q|=xu.Important),z?u.setStyle(m,x,D,q):m.style.setProperty(x,D,ee?"important":"")}}}(x,q,Au(qt(),m),D,z))}function sS(u,d,m,x,D,z){const q=null===d;let ee;for(;D>0;){const de=u[D],Me=Array.isArray(de),Ve=Me?de[1]:de,nt=null===Ve;let pt=m[D+1];pt===qr&&(pt=nt?Lt:void 0);let zt=nt?Bt(pt,x):Ve===x?pt:void 0;if(Me&&!_w(zt)&&(zt=Bt(de,x)),_w(zt)&&(ee=zt,q))return ee;const Jt=u[D+1];D=q?qc(Jt):Up(Jt)}if(null!==d){let de=z?d.residualClasses:d.residualStyles;null!=de&&(ee=Bt(de,x))}return ee}function _w(u){return void 0!==u}function hb(u,d){return 0!=(u.flags&(d?16:32))}function U0(u,d=""){const m=Un(),x=us(),D=u+20,z=x.firstCreatePass?hm(x,D,1,d,null):x.data[D],q=m[D]=function(u,d){return Rs(u)?u.createText(d):u.createTextNode(d)}(m[11],d);Wr(x,m,q,z),va(z,!1)}function J_(u){return yw("",u,""),J_}function yw(u,d,m){const x=Un(),D=Bf(x,u,d,m);return D!==qr&&Fh(x,qt(),D),yw}function vw(u,d,m,x,D){const z=Un(),q=function(u,d,m,x,D,z){const ee=ch(u,sa(),m,D);return hr(2),ee?d+In(m)+x+In(D)+z:qr}(z,u,d,m,x,D);return q!==qr&&Fh(z,qt(),q),vw}function bw(u,d,m,x,D,z,q,ee,de,Me,Ve){const nt=Un(),pt=function(u,d,m,x,D,z,q,ee,de,Me,Ve,nt){const pt=sa();let zt=_c(u,pt,m,D,q,de);return zt=sl(u,pt+4,Ve)||zt,hr(5),zt?d+In(m)+x+In(D)+z+In(q)+ee+In(de)+Me+In(Ve)+nt:qr}(nt,u,d,m,x,D,z,q,ee,de,Me,Ve);return pt!==qr&&Fh(nt,qt(),pt),bw}function ww(u,d,m){jf(wt,Mp,Bf(Un(),u,d,m),!0)}function TC(u,d,m){const x=Un();return sl(x,tc(),d)&&so(us(),pn(),x,u,d,x[11],m,!0),TC}function Ju(u,d,m){const x=Un();if(sl(x,tc(),d)){const z=us(),q=pn();so(z,q,x,u,d,Sd(nc(z.data),q,x),m,!0)}return Ju}const sg=void 0;var wA=["en",[["a","p"],["AM","PM"],sg],[["AM","PM"],sg,sg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sg,"{1} 'at' {0}",sg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(u){const d=Math.floor(Math.abs(u)),m=u.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===m?1:5}];let ty={};function Tw(u){const d=function(u){return u.toLowerCase().replace(/_/g,"-")}(u);let m=Kg(d);if(m)return m;const x=d.split("-")[0];if(m=Kg(x),m)return m;if("en"===x)return wA;throw new Error(`Missing locale data for the locale "${u}".`)}function mb(u){return Tw(u)[Lr.PluralCase]}function Kg(u){return u in ty||(ty[u]=gs.ng&&gs.ng.common&&gs.ng.common.locales&&gs.ng.common.locales[u]),ty[u]}var Lr=(()=>((Lr=Lr||{})[Lr.LocaleId=0]="LocaleId",Lr[Lr.DayPeriodsFormat=1]="DayPeriodsFormat",Lr[Lr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lr[Lr.DaysFormat=3]="DaysFormat",Lr[Lr.DaysStandalone=4]="DaysStandalone",Lr[Lr.MonthsFormat=5]="MonthsFormat",Lr[Lr.MonthsStandalone=6]="MonthsStandalone",Lr[Lr.Eras=7]="Eras",Lr[Lr.FirstDayOfWeek=8]="FirstDayOfWeek",Lr[Lr.WeekendRange=9]="WeekendRange",Lr[Lr.DateFormat=10]="DateFormat",Lr[Lr.TimeFormat=11]="TimeFormat",Lr[Lr.DateTimeFormat=12]="DateTimeFormat",Lr[Lr.NumberSymbols=13]="NumberSymbols",Lr[Lr.NumberFormats=14]="NumberFormats",Lr[Lr.CurrencyCode=15]="CurrencyCode",Lr[Lr.CurrencySymbol=16]="CurrencySymbol",Lr[Lr.CurrencyName=17]="CurrencyName",Lr[Lr.Currencies=18]="Currencies",Lr[Lr.Directionality=19]="Directionality",Lr[Lr.PluralCase=20]="PluralCase",Lr[Lr.ExtraData=21]="ExtraData",Lr))();const ny="en-US";let $0=ny;function og(u){bi(u,"Expected localeId to be defined"),"string"==typeof u&&($0=u.toLowerCase().replace(/_/g,"-"))}function FC(u,d,m,x,D){if(u=ht(u),Array.isArray(u))for(let z=0;z<u.length;z++)FC(u[z],d,m,x,D);else{const z=us(),q=Un();let ee=w(u)?u:ht(u.provide),de=Rl(u);const Me=fo(),Ve=1048575&Me.providerIndexes,nt=Me.directiveStart,pt=Me.providerIndexes>>20;if(w(u)||!u.multi){const zt=new Mr(de,D,cb),Jt=NC(ee,d,D?Ve:Ve+pt,nt);-1===Jt?(js(lc(Me,q),z,ee),av(z,u,d.length),d.push(ee),Me.directiveStart++,Me.directiveEnd++,D&&(Me.providerIndexes+=1048576),m.push(zt),q.push(zt)):(m[Jt]=zt,q[Jt]=zt)}else{const zt=NC(ee,d,Ve+pt,nt),Jt=NC(ee,d,Ve,Ve+pt),Sn=zt>=0&&m[zt],yn=Jt>=0&&m[Jt];if(D&&!yn||!D&&!Sn){js(lc(Me,q),z,ee);const hi=function(u,d,m,x,D){const z=new Mr(u,m,cb);return z.multi=[],z.index=d,z.componentProviders=0,oy(z,D,x&&!m),z}(D?VS:lv,m.length,D,x,de);!D&&yn&&(m[Jt].providerFactory=hi),av(z,u,d.length,0),d.push(ee),Me.directiveStart++,Me.directiveEnd++,D&&(Me.providerIndexes+=1048576),m.push(hi),q.push(hi)}else av(z,u,zt>-1?zt:Jt,oy(m[D?Jt:zt],de,!D&&x));!D&&x&&yn&&m[Jt].componentProviders++}}}function av(u,d,m,x){const D=w(d);if(D||function(u){return!!u.useClass}(d)){const q=(d.useClass||d).prototype.ngOnDestroy;if(q){const ee=u.destroyHooks||(u.destroyHooks=[]);if(!D&&d.multi){const de=ee.indexOf(m);-1===de?ee.push(m,[x,q]):ee[de+1].push(x,q)}else ee.push(m,q)}}}function oy(u,d,m){return m&&u.componentProviders++,u.multi.push(d)-1}function NC(u,d,m,x){for(let D=m;D<x;D++)if(d[D]===u)return D;return-1}function lv(u,d,m,x){return K0(this.multi,[])}function VS(u,d,m,x){const D=this.multi;let z;if(this.providerFactory){const q=this.providerFactory.componentProviders,ee=dl(m,m[1],this.providerFactory.index,x);z=ee.slice(0,q),K0(D,z);for(let de=q;de<ee.length;de++)z.push(ee[de])}else z=[],K0(D,z);return z}function K0(u,d){for(let m=0;m<u.length;m++)d.push((0,u[m])());return d}function jh(u,d=[]){return m=>{m.providersResolver=(x,D)=>function(u,d,m){const x=us();if(x.firstCreatePass){const D=ys(u);FC(m,x.data,x.blueprint,D,!0),FC(d,x.data,x.blueprint,D,!1)}}(x,D?D(u):u,d)}}class US{}const YC="ngComponent";class GS{resolveComponentFactory(d){throw function(u){const d=Error(`No component factory found for ${xe(u)}. Did you add it to @NgModule.entryComponents?`);return d[YC]=u,d}(d)}}class n_{}function i_(...u){}function cg(u,d){return new vm(Sl(u,d))}n_.NULL=new GS;const OA=function(){return cg(fo(),Un())};let vm=(()=>{class u{constructor(m){this.nativeElement=m}}return u.__NG_ELEMENT_ID__=OA,u})();function BC(u){return u instanceof vm?u.nativeElement:u}class Mb{}let RA=(()=>{class u{}return u.__NG_ELEMENT_ID__=()=>ug(),u})();const ug=function(){const u=Un(),m=ss(fo().index,u);return function(u){return u[11]}(Tr(m)?m:u)};let VC=(()=>{class u{}return u.\u0275prov=xr({token:u,providedIn:"root",factory:()=>null}),u})();class HC{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const dg=new HC("12.2.1");class cv{constructor(){}supports(d){return Co(d)}create(d){return new NA(d)}}const XS=(u,d)=>d;class NA{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||XS}forEachItem(d){let m;for(m=this._itHead;null!==m;m=m._next)d(m)}forEachOperation(d){let m=this._itHead,x=this._removalsHead,D=0,z=null;for(;m||x;){const q=!x||m&&m.currentIndex<ly(x,D,z)?m:x,ee=ly(q,D,z),de=q.currentIndex;if(q===x)D--,x=x._nextRemoved;else if(m=m._next,null==q.previousIndex)D++;else{z||(z=[]);const Me=ee-D,Ve=de-D;if(Me!=Ve){for(let pt=0;pt<Me;pt++){const zt=pt<z.length?z[pt]:z[pt]=0,Jt=zt+pt;Ve<=Jt&&Jt<Me&&(z[pt]=zt+1)}z[q.previousIndex]=Ve-Me}}ee!==de&&d(q,ee,de)}}forEachPreviousItem(d){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)d(m)}forEachAddedItem(d){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)d(m)}forEachMovedItem(d){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)d(m)}forEachRemovedItem(d){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)d(m)}forEachIdentityChange(d){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)d(m)}diff(d){if(null==d&&(d=[]),!Co(d))throw new Error(`Error trying to diff '${xe(d)}'. Only arrays and iterables are allowed`);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let D,z,q,m=this._itHead,x=!1;if(Array.isArray(d)){this.length=d.length;for(let ee=0;ee<this.length;ee++)z=d[ee],q=this._trackByFn(ee,z),null!==m&&Object.is(m.trackById,q)?(x&&(m=this._verifyReinsertion(m,z,q,ee)),Object.is(m.item,z)||this._addIdentityChange(m,z)):(m=this._mismatch(m,z,q,ee),x=!0),m=m._next}else D=0,function(u,d){if(Array.isArray(u))for(let m=0;m<u.length;m++)d(u[m]);else{const m=u[Za()]();let x;for(;!(x=m.next()).done;)d(x.value)}}(d,ee=>{q=this._trackByFn(D,ee),null!==m&&Object.is(m.trackById,q)?(x&&(m=this._verifyReinsertion(m,ee,q,D)),Object.is(m.item,ee)||this._addIdentityChange(m,ee)):(m=this._mismatch(m,ee,q,D),x=!0),m=m._next,D++}),this.length=D;return this._truncate(m),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,m,x,D){let z;return null===d?z=this._itTail:(z=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null))?(Object.is(d.item,m)||this._addIdentityChange(d,m),this._reinsertAfter(d,z,D)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(x,D))?(Object.is(d.item,m)||this._addIdentityChange(d,m),this._moveAfter(d,z,D)):d=this._addAfter(new Tb(m,x),z,D),d}_verifyReinsertion(d,m,x,D){let z=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null);return null!==z?d=this._reinsertAfter(z,d._prev,D):d.currentIndex!=D&&(d.currentIndex=D,this._addToMoves(d,D)),d}_truncate(d){for(;null!==d;){const m=d._next;this._addToRemovals(this._unlink(d)),d=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,m,x){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const D=d._prevRemoved,z=d._nextRemoved;return null===D?this._removalsHead=z:D._nextRemoved=z,null===z?this._removalsTail=D:z._prevRemoved=D,this._insertAfter(d,m,x),this._addToMoves(d,x),d}_moveAfter(d,m,x){return this._unlink(d),this._insertAfter(d,m,x),this._addToMoves(d,x),d}_addAfter(d,m,x){return this._insertAfter(d,m,x),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,m,x){const D=null===m?this._itHead:m._next;return d._next=D,d._prev=m,null===D?this._itTail=d:D._prev=d,null===m?this._itHead=d:m._next=d,null===this._linkedRecords&&(this._linkedRecords=new r_),this._linkedRecords.put(d),d.currentIndex=x,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const m=d._prev,x=d._next;return null===m?this._itHead=x:m._next=x,null===x?this._itTail=m:x._prev=m,d}_addToMoves(d,m){return d.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new r_),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,m){return d.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class Tb{constructor(d,m){this.item=d,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QS{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,m){let x;for(x=this._head;null!==x;x=x._nextDup)if((null===m||m<=x.currentIndex)&&Object.is(x.trackById,d))return x;return null}remove(d){const m=d._prevDup,x=d._nextDup;return null===m?this._head=x:m._nextDup=x,null===x?this._tail=m:x._prevDup=m,null===this._head}}class r_{constructor(){this.map=new Map}put(d){const m=d.trackById;let x=this.map.get(m);x||(x=new QS,this.map.set(m,x)),x.add(d)}get(d,m){const D=this.map.get(d);return D?D.get(d,m):null}remove(d){const m=d.trackById;return this.map.get(m).remove(d)&&this.map.delete(m),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ly(u,d,m){const x=u.previousIndex;if(null===x)return x;let D=0;return m&&x<m.length&&(D=m[x]),x+d+D}class jC{constructor(){}supports(d){return d instanceof Map||G_(d)}create(){return new zA}}class zA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let m;for(m=this._mapHead;null!==m;m=m._next)d(m)}forEachPreviousItem(d){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)d(m)}forEachChangedItem(d){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)d(m)}forEachAddedItem(d){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)d(m)}forEachRemovedItem(d){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)d(m)}diff(d){if(d){if(!(d instanceof Map||G_(d)))throw new Error(`Error trying to diff '${xe(d)}'. Only maps and objects are allowed`)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(d,(x,D)=>{if(m&&m.key===D)this._maybeAddToChanges(m,x),this._appendAfter=m,m=m._next;else{const z=this._getOrCreateRecordForKey(D,x);m=this._insertBeforeOrAppend(m,z)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let x=m;null!==x;x=x._nextRemoved)x===this._mapHead&&(this._mapHead=null),this._records.delete(x.key),x._nextRemoved=x._next,x.previousValue=x.currentValue,x.currentValue=null,x._prev=null,x._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,m){if(d){const x=d._prev;return m._next=d,m._prev=x,d._prev=m,x&&(x._next=m),d===this._mapHead&&(this._mapHead=m),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(d,m){if(this._records.has(d)){const D=this._records.get(d);this._maybeAddToChanges(D,m);const z=D._prev,q=D._next;return z&&(z._next=q),q&&(q._prev=z),D._next=null,D._prev=null,D}const x=new YA(d);return this._records.set(d,x),x.currentValue=m,this._addToAdditions(x),x}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,m){Object.is(m,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=m,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,m){d instanceof Map?d.forEach(m):Object.keys(d).forEach(x=>m(d[x],x))}}class YA{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JS(){return new Iw([new cv])}let Iw=(()=>{class u{constructor(m){this.factories=m}static create(m,x){if(null!=x){const D=x.factories.slice();m=m.concat(D)}return new u(m)}static extend(m){return{provide:u,useFactory:x=>u.create(m,x||JS()),deps:[[u,new ba,new Ia]]}}find(m){const x=this.factories.find(D=>D.supports(m));if(null!=x)return x;throw new Error(`Cannot find a differ supporting object '${m}' of type '${function(u){return u.name||typeof u}(m)}'`)}}return u.\u0275prov=xr({token:u,providedIn:"root",factory:JS}),u})();function uv(){return new tx([new jC])}let tx=(()=>{class u{constructor(m){this.factories=m}static create(m,x){if(x){const D=x.factories.slice();m=m.concat(D)}return new u(m)}static extend(m){return{provide:u,useFactory:x=>u.create(m,x||uv()),deps:[[u,new ba,new Ia]]}}find(m){const x=this.factories.find(D=>D.supports(m));if(x)return x;throw new Error(`Cannot find a differ supporting object '${m}'`)}}return u.\u0275prov=xr({token:u,providedIn:"root",factory:uv}),u})();function Pw(u,d,m,x,D=!1){for(;null!==m;){const z=d[m.index];if(null!==z&&x.push(cr(z)),$s(z))for(let ee=10;ee<z.length;ee++){const de=z[ee],Me=de[1].firstChild;null!==Me&&Pw(de[1],de,Me,x)}const q=m.type;if(8&q)Pw(u,d,m.child,x);else if(32&q){const ee=th(m,d);let de;for(;de=ee();)x.push(de)}else if(16&q){const ee=Ac(d,m);if(Array.isArray(ee))x.push(...ee);else{const de=wd(d[$]);Pw(de[1],de,ee,x,!0)}}m=D?m.projectionNext:m.next}return x}class nx{constructor(d,m){this._lView=d,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,m=d[1];return Pw(m,d,m.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if($s(d)){const m=d[8],x=m?m.indexOf(this):-1;x>-1&&(Ef(d,x),Ge(m,x))}this._attachedToViewContainer=!1}S(this._lView[1],this._lView)}onDestroy(d){Wu(this._lView[1],this._lView,null,d)}markForCheck(){Y_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(u,d,m){Cc(!0);try{Wg(u,d,m)}finally{Cc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var d;this._appRef=null,Wc(this._lView[1],d=this._lView,d[11],2,null,null)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=d}}class KS extends nx{constructor(d){super(d),this._view=d}detectChanges(){xp(this._view)}checkNoChanges(){!function(u){Cc(!0);try{xp(u)}finally{Cc(!1)}}(this._view)}get context(){return null}}const BA=function(u){return function(u,d,m){if(Zi(u)&&!m){const x=ss(u.index,d);return new nx(x,x)}return 47&u.type?new nx(d[$],d):null}(fo(),Un(),16==(16&u))};let ek=(()=>{class u{}return u.__NG_ELEMENT_ID__=BA,u})();const ix=[new jC],WC=new Iw([new cv]),HA=new tx(ix),nk=function(){return sx(fo(),Un())};let rx=(()=>{class u{}return u.__NG_ELEMENT_ID__=nk,u})();const ik=rx,rk=class extends ik{constructor(d,m,x){super(),this._declarationLView=d,this._declarationTContainer=m,this.elementRef=x}createEmbeddedView(d){const m=this._declarationTContainer.tViews,x=Pf(this._declarationLView,m,d,16,null,m.declTNode,null,null,null,null);x[17]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[19];return null!==z&&(x[19]=z.createEmbeddedView(m)),oh(m,x,d),new nx(x)}};function sx(u,d){return 4&u.type?new rk(d,u,cg(u,d)):null}class dv{}class qC{}const Sb=function(){return ck(fo(),Un())};let hv=(()=>{class u{}return u.__NG_ELEMENT_ID__=Sb,u})();const ok=hv,ak=class extends ok{constructor(d,m,x){super(),this._lContainer=d,this._hostTNode=m,this._hostLView=x}get element(){return cg(this._hostTNode,this._hostLView)}get injector(){return new jl(this._hostTNode,this._hostLView)}get parentInjector(){const d=gr(this._hostTNode,this._hostLView);if(cu(d)){const m=El(d,this._hostLView),x=ul(d);return new jl(m[1].data[x+8],m)}return new jl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const m=lk(this._lContainer);return null!==m&&m[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,m,x){const D=d.createEmbeddedView(m||{});return this.insert(D,x),D}createComponent(d,m,x,D,z){const q=x||this.parentInjector;if(!z&&null==d.ngModule&&q){const de=q.get(dv,null);de&&(z=de)}const ee=d.create(q,D,void 0,z);return this.insert(ee.hostView,m),ee}insert(d,m){const x=d._lView,D=x[1];if($s(x[3])){const Ve=this.indexOf(d);if(-1!==Ve)this.detach(Ve);else{const nt=x[3],pt=new ak(nt,nt[6],nt[3]);pt.detach(pt.indexOf(d))}}const z=this._adjustIndex(m),q=this._lContainer;!function(u,d,m,x){const D=10+x,z=m.length;x>0&&(m[D-1][4]=d),x<z-10?(d[4]=m[D],ze(m,10+x,d)):(m.push(d),d[4]=null),d[3]=m;const q=d[17];null!==q&&m!==q&&function(u,d){const m=u[9];d[$]!==d[3][3][$]&&(u[2]=!0),null===m?u[9]=[d]:m.push(d)}(q,d);const ee=d[19];null!==ee&&ee.insertView(u),d[2]|=128}(D,x,q,z);const ee=Vp(z,q),de=x[11],Me=Rt(de,q[7]);return null!==Me&&function(u,d,m,x,D,z){x[0]=D,x[6]=d,Wc(u,x,m,1,D,z)}(D,q[6],de,x,Me,ee),d.attachToViewContainerRef(),ze($C(q),z,d),d}move(d,m){return this.insert(d,m)}indexOf(d){const m=lk(this._lContainer);return null!==m?m.indexOf(d):-1}remove(d){const m=this._adjustIndex(d,-1),x=Ef(this._lContainer,m);x&&(Ge($C(this._lContainer),m),S(x[1],x))}detach(d){const m=this._adjustIndex(d,-1),x=Ef(this._lContainer,m);return x&&null!=Ge($C(this._lContainer),m)?new nx(x):null}_adjustIndex(d,m=0){return null==d?this.length+m:d}};function lk(u){return u[8]}function $C(u){return u[8]||(u[8]=[])}function ck(u,d){let m;const x=d[u.index];if($s(x))m=x;else{let D;if(8&u.type)D=cr(x);else{const z=d[11];D=z.createComment("");const q=Sl(u,d);Pe(z,Rt(z,q),D,function(u,d){return Rs(u)?u.nextSibling(d):d.nextSibling}(z,q),!1)}d[u.index]=m=Zg(x,d,D,u),zf(d,m)}return new ak(m,u,d)}const Lb={};class Pk extends n_{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const m=Mn(d);return new fM(m,this.ngModule)}}function Ok(u){const d=[];for(let m in u)u.hasOwnProperty(m)&&d.push({propName:u[m],templateName:m});return d}const pI=new vo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vp});class fM extends US{constructor(d,m){super(),this.componentDef=d,this.ngModule=m,this.componentType=d.type,this.selector=d.selectors.map(A_).join(","),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return Ok(this.componentDef.inputs)}get outputs(){return Ok(this.componentDef.outputs)}create(d,m,x,D){const z=(D=D||this.ngModule)?function(u,d){return{get:(m,x,D)=>{const z=u.get(m,Lb,D);return z!==Lb||x===Lb?z:d.get(m,x,D)}}}(d,D.injector):d,q=z.get(Mb,er),ee=z.get(VC,null),de=q.createRenderer(null,this.componentDef),Me=this.componentDef.selectors[0][0]||"div",Ve=x?function(u,d,m){if(Rs(u))return u.selectRootElement(d,m===Yn.ShadowDom);let x="string"==typeof d?u.querySelector(d):d;return x.textContent="",x}(de,x,this.componentDef.encapsulation):Vm(q.createRenderer(null,this.componentDef),Me,function(u){const d=u.toLowerCase();return"svg"===d?di:"math"===d?"http://www.w3.org/1998/MathML/":null}(Me)),nt=this.componentDef.onPush?576:528,pt=function(u,d){return{components:[],scheduler:u||vp,clean:Kv,playerHandler:d||null,flags:0}}(),zt=pm(0,null,null,1,0,null,null,null,null,null),Jt=Pf(null,zt,pt,nt,null,null,q,de,ee,z);let Sn,yn;Xo(Jt);try{const hi=function(u,d,m,x,D,z){const q=m[1];m[20]=u;const de=hm(q,20,2,"#host",null),Me=de.mergedAttrs=d.hostAttrs;null!==Me&&(Nh(de,Me,!0),null!==u&&(md(D,u,Me),null!==de.classes&&am(D,u,de.classes),null!==de.styles&&Fv(D,u,de.styles)));const Ve=x.createRenderer(u,d),nt=Pf(m,$r(d),null,d.onPush?64:16,m[20],de,x,Ve,z||null,null);return q.firstCreatePass&&(js(lc(de,m),q,d.type),Rr(q,de),N_(de,m.length,1)),zf(m,nt),m[20]=nt}(Ve,this.componentDef,Jt,q,de);if(Ve)if(x)md(de,Ve,["ng-version",dg.full]);else{const{attrs:Gn,classes:dr}=function(u){const d=[],m=[];let x=1,D=2;for(;x<u.length;){let z=u[x];if("string"==typeof z)2===D?""!==z&&d.push(z,u[++x]):8===D&&m.push(z);else{if(!Cd(D))break;D=z}x++}return{attrs:d,classes:m}}(this.componentDef.selectors[0]);Gn&&md(de,Ve,Gn),dr&&dr.length>0&&am(de,Ve,dr.join(" "))}if(yn=ya(zt,20),void 0!==m){const Gn=yn.projection=[];for(let dr=0;dr<this.ngContentSelectors.length;dr++){const is=m[dr];Gn.push(null!=is?Array.from(is):null)}}Sn=function(u,d,m,x,D){const z=m[1],q=function(u,d,m){const x=fo();u.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),z_(u,x,d,Ss(u,d,1,null),m));const D=dl(d,u,x.directiveStart,x);Pa(D,d);const z=Sl(x,d);return z&&Pa(z,d),D}(z,m,d);if(x.components.push(q),u[8]=q,D&&D.forEach(de=>de(q,d)),d.contentQueries){const de=fo();d.contentQueries(1,q,de.directiveStart)}const ee=fo();return!z.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(kn(ee.index),Qm(m[1],ee,0,ee.directiveStart,ee.directiveEnd,d),ja(d,q)),q}(hi,this.componentDef,Jt,pt,[Pc]),oh(zt,Jt,null)}finally{Xa()}return new Fk(this.componentType,Sn,cg(yn,Jt),Jt,yn)}}class Fk extends class{}{constructor(d,m,x,D,z){super(),this.location=x,this._rootLView=D,this._tNode=z,this.instance=m,this.hostView=this.changeDetectorRef=new KS(D),this.componentType=d}get injector(){return new jl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}const gv=new Map;class jw extends dv{constructor(d,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pk(this);const x=p(d),D=d[Ni]||null;D&&og(D),this._bootstrapComponents=mc(x.bootstrap),this._r3Injector=Ol(d,m,[{provide:dv,useValue:this},{provide:n_,useValue:this.componentFactoryResolver}],xe(d)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(d)}get(d,m=we.THROW_IF_NOT_FOUND,x=yi.Default){return d===we||d===dv||d===qp?this:this._r3Injector.get(d,m,x)}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Gw extends qC{constructor(d){super(),this.moduleType=d,null!==p(d)&&function(u){const d=new Set;!function m(x){const D=p(x,!0),z=D.id;null!==z&&(function(u,d,m){if(d&&d!==m)throw new Error(`Duplicate module registered for ${u} - ${xe(d)} vs ${xe(d.name)}`)}(z,gv.get(z),x),gv.set(z,x));const q=mc(D.imports);for(const ee of q)d.has(ee)||(d.add(ee),m(ee))}(u)}(d)}create(d){return new jw(this.moduleType,d)}}function yM(u,d,m){const x=no()+u,D=Un();return D[x]===qr?Ko(D,x,m?d.call(m):d()):rl(D,x)}function vM(u,d,m,x){return yx(Un(),no(),u,d,m,x)}function Bk(u,d,m,x,D){return Oo(Un(),no(),u,d,m,x,D)}function Vk(u,d,m,x,D,z){return function(u,d,m,x,D,z,q,ee){const de=d+m;return $g(u,de,D,z,q)?Ko(u,de+3,ee?x.call(ee,D,z,q):x(D,z,q)):Pb(u,de+3)}(Un(),no(),u,d,m,x,D,z)}function Hk(u,d,m,x,D,z,q){return function(u,d,m,x,D,z,q,ee,de){const Me=d+m;return _c(u,Me,D,z,q,ee)?Ko(u,Me+4,de?x.call(de,D,z,q,ee):x(D,z,q,ee)):Pb(u,Me+4)}(Un(),no(),u,d,m,x,D,z,q)}function Uk(u,d,m,x,D,z,q,ee){const de=no()+u,Me=Un(),Ve=_c(Me,de,m,x,D,z);return sl(Me,de+4,q)||Ve?Ko(Me,de+5,ee?d.call(ee,m,x,D,z,q):d(m,x,D,z,q)):rl(Me,de+5)}function Zw(u,d,m,x,D,z,q,ee,de){const Me=no()+u,Ve=Un(),nt=_c(Ve,Me,m,x,D,z);return ch(Ve,Me+4,q,ee)||nt?Ko(Ve,Me+6,de?d.call(de,m,x,D,z,q,ee):d(m,x,D,z,q,ee)):rl(Ve,Me+6)}function Ww(u,d,m,x,D,z,q,ee,de,Me){const Ve=no()+u,nt=Un();let pt=_c(nt,Ve,m,x,D,z);return $g(nt,Ve+4,q,ee,de)||pt?Ko(nt,Ve+7,Me?d.call(Me,m,x,D,z,q,ee,de):d(m,x,D,z,q,ee,de)):rl(nt,Ve+7)}function bM(u,d,m,x){return function(u,d,m,x,D,z){let q=d+m,ee=!1;for(let de=0;de<D.length;de++)sl(u,q++,D[de])&&(ee=!0);return ee?Ko(u,q,x.apply(z,D)):Pb(u,q)}(Un(),no(),u,d,m,x)}function Pb(u,d){const m=u[d];return m===qr?void 0:m}function yx(u,d,m,x,D,z){const q=d+m;return sl(u,q,D)?Ko(u,q+1,z?x.call(z,D):x(D)):Pb(u,q+1)}function Oo(u,d,m,x,D,z,q){const ee=d+m;return ch(u,ee,D,z)?Ko(u,ee+2,q?x.call(q,D,z):x(D,z)):Pb(u,ee+2)}function Nl(u,d){const m=us();let x;const D=u+20;m.firstCreatePass?(x=function(u,d){if(d)for(let m=d.length-1;m>=0;m--){const x=d[m];if(u===x.name)return x}throw new Ut("302",`The pipe '${u}' could not be found!`)}(d,m.pipeRegistry),m.data[D]=x,x.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(D,x.onDestroy)):x=m.data[D];const z=x.factory||(x.factory=bs(x.type)),q=Xi(cb);try{const ee=gd(!1),de=z();return gd(ee),function(u,d,m,x){m>=u.data.length&&(u.data[m]=null,u.blueprint[m]=null),d[m]=x}(m,Un(),D,de),de}finally{Xi(q)}}function l_(u,d,m){const x=u+20,D=Un(),z=qa(D,x);return hg(D,vx(D,x)?yx(D,no(),d,z.transform,m,z):z.transform(m))}function CM(u,d,m,x){const D=u+20,z=Un(),q=qa(z,D);return hg(z,vx(z,D)?Oo(z,no(),d,q.transform,m,x,q):q.transform(m,x))}function vx(u,d){return u[1].data[d].pure}function hg(u,d){return Xu.isWrapped(d)&&(d=Xu.unwrap(d),u[sa()]=qr),d}function MM(u){return d=>{setTimeout(u,void 0,d)}}const ha=class extends o.xQ{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,m,x){var D,z,q;let ee=d,de=m||(()=>null),Me=x;if(d&&"object"==typeof d){const nt=d;ee=null===(D=nt.next)||void 0===D?void 0:D.bind(nt),de=null===(z=nt.error)||void 0===z?void 0:z.bind(nt),Me=null===(q=nt.complete)||void 0===q?void 0:q.bind(nt)}this.__isAsync&&(de=MM(de),ee&&(ee=MM(ee)),Me&&(Me=MM(Me)));const Ve=super.subscribe({next:ee,error:de,complete:Me});return d instanceof W.w&&d.add(Ve),Ve}};function id(){return this._results[Za()]()}class Rb{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=Za(),x=Rb.prototype;x[m]||(x[m]=id)}get changes(){return this._changes||(this._changes=new ha)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,m){return this._results.reduce(d,m)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,m){const x=this;x.dirty=!1;const D=ve(d);(this._changesDetected=!function(u,d,m){if(u.length!==d.length)return!1;for(let x=0;x<u.length;x++){let D=u[x],z=d[x];if(m&&(D=m(D),z=m(z)),z!==D)return!1}return!0}(x._results,D,m))&&(x._results=D,x.length=D.length,x.last=D[this.length-1],x.first=D[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class u_{constructor(d){this.queryList=d,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class d_{constructor(d=[]){this.queries=d}createEmbeddedView(d){const m=d.queries;if(null!==m){const x=null!==d.contentQueries?d.contentQueries[0]:m.length,D=[];for(let z=0;z<x;z++){const q=m.getByIndex(z);D.push(this.queries[q.indexInDeclarationView].clone())}return new d_(D)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let m=0;m<this.queries.length;m++)null!==DM(d,m).matches&&this.queries[m].setDirty()}}class bx{constructor(d,m,x=null){this.predicate=d,this.flags=m,this.read=x}}class TM{constructor(d=[]){this.queries=d}elementStart(d,m){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(d,m)}elementEnd(d){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(d)}embeddedTView(d){let m=null;for(let x=0;x<this.length;x++){const D=null!==m?m.length:0,z=this.getByIndex(x).embeddedTView(d,D);z&&(z.indexInDeclarationView=x,null!==m?m.push(z):m=[z])}return null!==m?new TM(m):null}template(d,m){for(let x=0;x<this.queries.length;x++)this.queries[x].template(d,m)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class SM{constructor(d,m=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(d,m){this.isApplyingToNode(m)&&this.matchTNode(d,m)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,m){this.elementStart(d,m)}embeddedTView(d,m){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,m),new SM(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let x=d.parent;for(;null!==x&&8&x.type&&x.index!==m;)x=x.parent;return m===(null!==x?x.index:-1)}return this._appliesToNextNode}matchTNode(d,m){const x=this.metadata.predicate;if(Array.isArray(x))for(let D=0;D<x.length;D++){const z=x[D];this.matchTNodeWithReadOption(d,m,$k(m,z)),this.matchTNodeWithReadOption(d,m,Es(m,d,z,!1,!1))}else x===rx?4&m.type&&this.matchTNodeWithReadOption(d,m,-1):this.matchTNodeWithReadOption(d,m,Es(m,d,x,!1,!1))}matchTNodeWithReadOption(d,m,x){if(null!==x){const D=this.metadata.read;if(null!==D)if(D===vm||D===hv||D===rx&&4&m.type)this.addMatch(m.index,-2);else{const z=Es(m,d,D,!1,!1);null!==z&&this.addMatch(m.index,z)}else this.addMatch(m.index,x)}}addMatch(d,m){null===this.matches?this.matches=[d,m]:this.matches.push(d,m)}}function $k(u,d){const m=u.localNames;if(null!==m)for(let x=0;x<m.length;x+=2)if(m[x]===d)return m[x+1];return null}function Qk(u,d,m,x){return-1===m?function(u,d){return 11&u.type?cg(u,d):4&u.type?sx(u,d):null}(d,u):-2===m?function(u,d,m){return m===vm?cg(d,u):m===rx?sx(d,u):m===hv?ck(d,u):void 0}(u,d,x):dl(u,u[1],m,d)}function my(u,d,m,x){const D=d[19].queries[x];if(null===D.matches){const z=u.data,q=m.matches,ee=[];for(let de=0;de<q.length;de+=2){const Me=q[de];ee.push(Me<0?null:Qk(d,z[Me],q[de+1],m.metadata.read))}D.matches=ee}return D.matches}function Fb(u,d,m,x){const D=u.queries.getByIndex(m),z=D.matches;if(null!==z){const q=my(u,d,D,m);for(let ee=0;ee<z.length;ee+=2){const de=z[ee];if(de>0)x.push(q[ee/2]);else{const Me=z[ee+1],Ve=d[-de];for(let nt=10;nt<Ve.length;nt++){const pt=Ve[nt];pt[17]===pt[3]&&Fb(pt[1],pt,Me,x)}if(null!==Ve[9]){const nt=Ve[9];for(let pt=0;pt<nt.length;pt++){const zt=nt[pt];Fb(zt[1],zt,Me,x)}}}}}return x}function $w(u){const d=Un(),m=us(),x=wh();ru(x+1);const D=DM(m,x);if(u.dirty&&$o(d)===(2==(2&D.metadata.flags))){if(null===D.matches)u.reset([]);else{const z=D.crossesNgTemplate?Fb(m,d,x,[]):my(m,d,D,x);u.reset(z,BC),u.notifyOnChanges()}return!0}return!1}function kM(u,d,m){const x=us();x.firstCreatePass&&(Xw(x,new bx(u,d,m),-1),2==(2&d)&&(x.staticViewQueries=!0)),eE(x,Un(),d)}function Jk(u,d,m,x){const D=us();if(D.firstCreatePass){const z=fo();Xw(D,new bx(d,m,x),z.index),function(u,d){const m=u.contentQueries||(u.contentQueries=[]);d!==(m.length?m[m.length-1]:-1)&&m.push(u.queries.length-1,d)}(D,u),2==(2&m)&&(D.staticContentQueries=!0)}eE(D,Un(),m)}function Kk(){return u=Un(),d=wh(),u[19].queries[d].queryList;var u,d}function eE(u,d,m){const x=new Rb(4==(4&m));Wu(u,d,x,x.destroy),null===d[19]&&(d[19]=new d_),d[19].queries.push(new u_(x))}function Xw(u,d,m){null===u.queries&&(u.queries=new TM),u.queries.track(new SM(d,m))}function DM(u,d){return u.queries.getByIndex(d)}function gy(u,d){return sx(u,d)}const YM=new vo("Application Initializer");let by=(()=>{class u{constructor(m){this.appInits=m,this.resolve=i_,this.reject=i_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((x,D)=>{this.resolve=x,this.reject=D})}runInitializers(){if(this.initialized)return;const m=[],x=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let D=0;D<this.appInits.length;D++){const z=this.appInits[D]();if(P0(z))m.push(z);else if(yc(z)){const q=new Promise((ee,de)=>{z.subscribe({complete:ee,error:de})});m.push(q)}}Promise.all(m).then(()=>{x()}).catch(D=>{this.reject(D)}),0===m.length&&x(),this.initialized=!0}}return u.\u0275fac=function(m){return new(m||u)(Ri(YM,8))},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();const l1=new vo("AppId"),vE={provide:l1,useFactory:function(){return`${c1()}${c1()}${c1()}`},deps:[]};function c1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const al=new vo("Platform Initializer"),bE=new vo("Platform ID"),Bb=new vo("appBootstrapListener");let BM=(()=>{class u{log(m){console.log(m)}warn(m){console.warn(m)}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();const Fa=new vo("LocaleId"),g_=new vo("DefaultCurrencyCode");class wE{constructor(d,m){this.ngModuleFactory=d,this.componentFactories=m}}const wm=function(u){return new Gw(u)},bP=wm,RI=function(u){return Promise.resolve(wm(u))},xv=function(u){const d=wm(u),x=mc(p(u).declarations).reduce((D,z)=>{const q=Mn(z);return q&&D.push(new fM(q)),D},[]);return new wE(d,x)},xP=xv,wP=function(u){return Promise.resolve(xv(u))};let u1=(()=>{class u{constructor(){this.compileModuleSync=bP,this.compileModuleAsync=RI,this.compileModuleAndAllComponentsSync=xP,this.compileModuleAndAllComponentsAsync=wP}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();const CP=(()=>Promise.resolve(0))();function CE(u){"undefined"==typeof Zone?CP.then(()=>{u&&u.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",u)}class rf{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:x=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const D=this;D._nesting=0,D._outer=D._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(D._inner=D._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(D._inner=D._inner.fork(Zone.longStackTraceZoneSpec)),D.shouldCoalesceEventChangeDetection=!x&&m,D.shouldCoalesceRunChangeDetection=x,D.lastRequestAnimationFrameId=-1,D.nativeRequestAnimationFrame=function(){let u=gs.requestAnimationFrame,d=gs.cancelAnimationFrame;if("undefined"!=typeof Zone&&u&&d){const m=u[Zone.__symbol__("OriginalDelegate")];m&&(u=m);const x=d[Zone.__symbol__("OriginalDelegate")];x&&(d=x)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function(u){const d=()=>{!function(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call(gs,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,ME(u),u.isCheckStableRunning=!0,Hb(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),ME(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,x,D,z,q,ee)=>{try{return NI(u),m.invokeTask(D,z,q,ee)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===z.type||u.shouldCoalesceRunChangeDetection)&&d(),zI(u)}},onInvoke:(m,x,D,z,q,ee,de)=>{try{return NI(u),m.invoke(D,z,q,ee,de)}finally{u.shouldCoalesceRunChangeDetection&&d(),zI(u)}},onHasTask:(m,x,D,z)=>{m.hasTask(D,z),x===D&&("microTask"==z.change?(u._hasPendingMicrotasks=z.microTask,ME(u),Hb(u)):"macroTask"==z.change&&(u.hasPendingMacrotasks=z.macroTask))},onHandleError:(m,x,D,z)=>(m.handleError(D,z),u.runOutsideAngular(()=>u.onError.emit(z)),!1)})}(D)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(d,m,x){return this._inner.run(d,m,x)}runTask(d,m,x,D){const z=this._inner,q=z.scheduleEventTask("NgZoneEvent: "+D,d,h1,i_,i_);try{return z.runTask(q,m,x)}finally{z.cancelTask(q)}}runGuarded(d,m,x){return this._inner.runGuarded(d,m,x)}runOutsideAngular(d){return this._outer.run(d)}}const h1={};function Hb(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function ME(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function NI(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function zI(u){u._nesting--,Hb(u)}class MP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(d,m,x){return d.apply(m,x)}runGuarded(d,m,x){return d.apply(m,x)}runOutsideAngular(d){return d()}runTask(d,m,x,D){return d.apply(m,x)}}let TE=(()=>{class u{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rf.assertNotInAngularZone(),CE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())CE(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(m)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,x,D){let z=-1;x&&x>0&&(z=setTimeout(()=>{this._callbacks=this._callbacks.filter(q=>q.timeoutId!==z),m(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:m,timeoutId:z,updateCb:D})}whenStable(m,x,D){if(D&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,x,D),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,x,D){return[]}}return u.\u0275fac=function(m){return new(m||u)(Ri(rf))},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})(),YI=(()=>{class u{constructor(){this._applications=new Map,SE.addToWindow(this)}registerApplication(m,x){this._applications.set(m,x)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,x=!0){return SE.findTestabilityInTree(this,m,x)}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();class TP{addToWindow(d){}findTestabilityInTree(d,m,x){return null}}function SP(u){SE=u}let SE=new TP,BI=!0,VI=!1;function kE(){return VI=!0,BI}function kP(){if(VI)throw new Error("Cannot enable prod mode after platform setup.");BI=!1}let Cm;const HI=new vo("AllowMultipleToken");class PP{constructor(d,m){this.name=d,this.token=m}}function UI(u,d,m=[]){const x=`Platform: ${d}`,D=new vo(x);return(z=[])=>{let q=jI();if(!q||q.injector.get(HI,!1))if(u)u(m.concat(z).concat({provide:D,useValue:!0}));else{const ee=m.concat(z).concat({provide:D,useValue:!0},{provide:Lc,useValue:"platform"});!function(u){if(Cm&&!Cm.destroyed&&!Cm.injector.get(HI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cm=u.get(GI);const d=u.get(al,null);d&&d.forEach(m=>m())}(we.create({providers:ee,name:x}))}return function(u){const d=jI();if(!d)throw new Error("No platform exists!");if(!d.injector.get(u,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return d}(D)}}function jI(){return Cm&&!Cm.destroyed?Cm:null}let GI=(()=>{class u{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,x){const ee=function(u,d){let m;return m="noop"===u?new MP:("zone.js"===u?void 0:u)||new rf({enableLongStackTrace:kE(),shouldCoalesceEventChangeDetection:!!(null==d?void 0:d.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==d?void 0:d.ngZoneRunCoalescing)}),m}(x?x.ngZone:void 0,{ngZoneEventCoalescing:x&&x.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:x&&x.ngZoneRunCoalescing||!1}),de=[{provide:rf,useValue:ee}];return ee.run(()=>{const Me=we.create({providers:de,parent:this.injector,name:m.moduleType.name}),Ve=m.create(Me),nt=Ve.injector.get(Ih,null);if(!nt)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ee.runOutsideAngular(()=>{const pt=ee.onError.subscribe({next:zt=>{nt.handleError(zt)}});Ve.onDestroy(()=>{DE(this._modules,Ve),pt.unsubscribe()})}),function(u,d,m){try{const x=m();return P0(x)?x.catch(D=>{throw d.runOutsideAngular(()=>u.handleError(D)),D}):x}catch(x){throw d.runOutsideAngular(()=>u.handleError(x)),x}}(nt,ee,()=>{const pt=Ve.injector.get(by);return pt.runInitializers(),pt.donePromise.then(()=>(og(Ve.injector.get(Fa,ny)||ny),this._moduleDoBootstrap(Ve),Ve))})})}bootstrapModule(m,x=[]){const D=ZI({},x);return function(u,d,m){const x=new Gw(m);return Promise.resolve(x)}(0,0,m).then(z=>this.bootstrapModuleFactory(z,D))}_moduleDoBootstrap(m){const x=m.injector.get(m1);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(D=>x.bootstrap(D));else{if(!m.instance.ngDoBootstrap)throw new Error(`The module ${xe(m.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);m.instance.ngDoBootstrap(x)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return u.\u0275fac=function(m){return new(m||u)(Ri(we))},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();function ZI(u,d){return Array.isArray(d)?d.reduce(ZI,u):Object.assign(Object.assign({},u),d)}let m1=(()=>{class u{constructor(m,x,D,z,q){this._zone=m,this._injector=x,this._exceptionHandler=D,this._componentFactoryResolver=z,this._initStatus=q,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ee=new J.y(Me=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Me.next(this._stable),Me.complete()})}),de=new J.y(Me=>{let Ve;this._zone.runOutsideAngular(()=>{Ve=this._zone.onStable.subscribe(()=>{rf.assertNotInAngularZone(),CE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Me.next(!0))})})});const nt=this._zone.onUnstable.subscribe(()=>{rf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Me.next(!1)}))});return()=>{Ve.unsubscribe(),nt.unsubscribe()}});this.isStable=(0,b.T)(ee,de.pipe((0,ce.B)()))}bootstrap(m,x){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let D;D=m instanceof US?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(D.componentType);const z=function(u){return u.isBoundToModule}(D)?void 0:this._injector.get(dv),ee=D.create(we.NULL,[],x||D.selector,z),de=ee.location.nativeElement,Me=ee.injector.get(TE,null),Ve=Me&&ee.injector.get(YI);return Me&&Ve&&Ve.registerApplication(de,Me),ee.onDestroy(()=>{this.detachView(ee.hostView),DE(this.components,ee),Ve&&Ve.unregisterApplication(de)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const x=m;this._views.push(x),x.attachToAppRef(this)}detachView(m){const x=m;DE(this._views,x),x.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(Bb,[]).concat(this._bootstrapListeners).forEach(D=>D(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return u.\u0275fac=function(m){return new(m||u)(Ri(rf),Ri(we),Ri(Ih),Ri(n_),Ri(by))},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();function DE(u,d){const m=u.indexOf(d);m>-1&&u.splice(m,1)}class YP{}class VP{}const HP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let UP=(()=>{class u{constructor(m,x){this._compiler=m,this._config=x||HP}load(m){return this.loadAndCompile(m)}loadAndCompile(m){let[x,D]=m.split("#");return void 0===D&&(D="default"),De(8255)(x).then(z=>z[D]).then(z=>$I(z,x,D)).then(z=>this._compiler.compileModuleAsync(z))}loadFactory(m){let[x,D]=m.split("#"),z="NgFactory";return void 0===D&&(D="default",z=""),De(8255)(this._config.factoryPathPrefix+x+this._config.factoryPathSuffix).then(q=>q[D+z]).then(q=>$I(q,x,D))}}return u.\u0275fac=function(m){return new(m||u)(Ri(u1),Ri(VP,8))},u.\u0275prov=xr({token:u,factory:u.\u0275fac}),u})();function $I(u,d,m){if(!u)throw new Error(`Cannot find '${m}' in '${d}'`);return u}const QP=function(u){return null},KP=UI(null,"core",[{provide:bE,useValue:"unknown"},{provide:GI,deps:[we]},{provide:YI,deps:[]},{provide:BM,deps:[]}]),rO=[{provide:m1,useClass:m1,deps:[rf,we,Ih,n_,by]},{provide:pI,deps:[rf],useFactory:function(u){let d=[];return u.onStable.subscribe(()=>{for(;d.length;)d.pop()()}),function(m){d.push(m)}}},{provide:by,useClass:by,deps:[[new Ia,YM]]},{provide:u1,useClass:u1,deps:[]},vE,{provide:Iw,useFactory:function(){return WC},deps:[]},{provide:tx,useFactory:function(){return HA},deps:[]},{provide:Fa,useFactory:function(u){return og(u=u||"undefined"!=typeof $localize&&$localize.locale||ny),u},deps:[[new Do(Fa),new Ia,new ba]]},{provide:g_,useValue:"USD"}];let oO=(()=>{class u{constructor(m){}}return u.\u0275fac=function(m){return new(m||u)(Ri(m1))},u.\u0275mod=Ft({type:u}),u.\u0275inj=Qr({providers:rO}),u})()},57:(Ht,St,De)=>{"use strict";De.d(St,{hO:()=>Pr,xv:()=>ei,Dh:()=>at,HU:()=>xt,GT:()=>Ut,sI:()=>ks,on:()=>tr,ss:()=>ht,pX:()=>en,yq:()=>rs});var o=De(7771),W=De(3637),J=De(3342),b=De(9673),ce=De(9746),be=De(7716),Te=De(2329);function xe(){}Ht=De.hmd(Ht);class Fe{constructor(ln,vn=o.N){this.zone=ln,this.delegate=vn}now(){return this.delegate.now()}schedule(ln,vn,un){const Rn=this.zone;return this.delegate.schedule(function(ni){Rn.runGuarded(()=>{ln.apply(this,[ni])})},vn,un)}}class He{constructor(ln){this.zone=ln,this.task=null}call(ln,vn){const un=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xe,{},xe,xe)),vn.pipe((0,J.b)({next:un,complete:un,error:un})).subscribe(ln).add(un)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class xt{constructor(ln){this.ngZone=ln,this.outsideAngular=ln.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=ln.run(()=>new Fe(Zone.current,W.z))}}function ht(_n){return function(vn){return(vn=vn.lift(new He(_n.ngZone))).pipe((0,b.R)(_n.outsideAngular),(0,ce.QV)(_n.insideAngular))}}const At=["ngOnDestroy"],en=(_n,ln,vn,un={})=>new Proxy(_n,{get:(Rn,fn)=>vn.runOutsideAngular(()=>{var ni;if(_n[fn])return(null===(ni=null==un?void 0:un.spy)||void 0===ni?void 0:ni.get)&&un.spy.get(fn,_n[fn]),_n[fn];if(At.indexOf(fn)>-1)return()=>{};const Pi=ln.toPromise().then(Fi=>{const ui=Fi&&Fi[fn];return"function"==typeof ui?ui.bind(Fi):ui&&ui.then?ui.then(bi=>vn.run(()=>bi)):vn.run(()=>ui)});return new Proxy(()=>{},{get:(Fi,ui)=>Pi[ui],apply:(Fi,ui,bi)=>Pi.then(mi=>{var gi;const $n=mi&&mi(...bi);return(null===(gi=null==un?void 0:un.spy)||void 0===gi?void 0:gi.apply)&&un.spy.apply(fn,bi,$n),$n})})})}),Ut=(_n,ln)=>{ln.forEach(vn=>{Object.getOwnPropertyNames(vn.prototype||vn).forEach(un=>{Object.defineProperty(_n.prototype,un,Object.getOwnPropertyDescriptor(vn.prototype||vn,un))})})},at=new be.OlP("angularfire2.app.options"),ei=new be.OlP("angularfire2.app.nameOrConfig"),jt=new be.GfV("6.1.5");function tr(_n,ln,vn){const Rn="object"==typeof vn&&vn||{};Rn.name=Rn.name||"string"==typeof vn&&vn||"[DEFAULT]";const ni=Te.Z.apps.filter(Pi=>Pi&&Pi.name===Rn.name)[0]||ln.runOutsideAngular(()=>Te.Z.initializeApp(_n,Rn));try{JSON.stringify(_n)!==JSON.stringify(ni.options)&&oi("error",`${ni.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Pi){}return ni}const rs=()=>{oi("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},oi=(_n,...ln)=>{(0,be.X6Q)()&&"undefined"!=typeof console&&console[_n](...ln)};function ks(_n,ln,vn,un,Rn){const[fn,...ni]=globalThis.\u0275AngularfireInstanceCache.get(_n)||[];if(fn){try{Rn.some((Pi,Fi)=>{const ui=ni[Fi];return Pi&&"object"==typeof Pi?JSON.stringify(Pi)!==JSON.stringify(ui):Pi!==ui})&&oi("error",`${ln} was already initialized on the ${vn.name} Firebase App instance with different settings.${Ht.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Pi){}return fn}{const Pi=un();return globalThis.\u0275AngularfireInstanceCache.set(_n,[Pi,...Rn]),Pi}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const qi={provide:class{},useFactory:tr,deps:[at,be.R0b,[new be.FiY,ei]]};let Pr=(()=>{class _n{constructor(vn){Te.Z.registerVersion("angularfire",jt.full,vn.toString()),Te.Z.registerVersion("angular",be.q4F.full)}static initializeApp(vn,un){return{ngModule:_n,providers:[{provide:at,useValue:vn},{provide:ei,useValue:un}]}}}return _n.\u0275fac=function(vn){return new(vn||_n)(be.LFG(be.Lbi))},_n.\u0275mod=be.oAB({type:_n}),_n.\u0275inj=be.cJS({providers:[qi]}),_n})()},4969:(Ht,St,De)=>{"use strict";De.d(St,{Z:()=>bi});var ce,oi,o=De(4762),W=De(4685),J=De(6034),b=De(300),be=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),Te=new W.LL("app","Firebase",be),xe="@firebase/app",Li="[DEFAULT]",ks=((oi={})[xe]="fire-core",oi["@firebase/analytics"]="fire-analytics",oi["@firebase/app-check"]="fire-app-check",oi["@firebase/auth"]="fire-auth",oi["@firebase/database"]="fire-rtdb",oi["@firebase/functions"]="fire-fn",oi["@firebase/installations"]="fire-iid",oi["@firebase/messaging"]="fire-fcm",oi["@firebase/performance"]="fire-perf",oi["@firebase/remote-config"]="fire-rc",oi["@firebase/storage"]="fire-gcs",oi["@firebase/firestore"]="fire-fst",oi["fire-js"]="fire-js",oi["firebase-wrapper"]="fire-js-all",oi),qi=new b.Yd("@firebase/app"),Pr=function(){function mi(gi,$n,ki){var xr=this;this.firebase_=ki,this.isDeleted_=!1,this.name_=$n.name,this.automaticDataCollectionEnabled_=$n.automaticDataCollectionEnabled||!1,this.options_=(0,W.p$)(gi),this.container=new J.H0($n.name),this._addComponent(new J.wA("app",function(){return xr},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(uo){return xr._addComponent(uo)})}return Object.defineProperty(mi.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(gi){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=gi},enumerable:!1,configurable:!0}),Object.defineProperty(mi.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(mi.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),mi.prototype.delete=function(){var gi=this;return new Promise(function($n){gi.checkDestroyed_(),$n()}).then(function(){return gi.firebase_.INTERNAL.removeApp(gi.name_),Promise.all(gi.container.getProviders().map(function($n){return $n.delete()}))}).then(function(){gi.isDeleted_=!0})},mi.prototype._getService=function(gi,$n){var ki;void 0===$n&&($n=Li),this.checkDestroyed_();var xr=this.container.getProvider(gi);return!xr.isInitialized()&&"EXPLICIT"===(null===(ki=xr.getComponent())||void 0===ki?void 0:ki.instantiationMode)&&xr.initialize(),xr.getImmediate({identifier:$n})},mi.prototype._removeServiceInstance=function(gi,$n){void 0===$n&&($n=Li),this.container.getProvider(gi).clearInstance($n)},mi.prototype._addComponent=function(gi){try{this.container.addComponent(gi)}catch($n){qi.debug("Component "+gi.name+" failed to register with FirebaseApp "+this.name,$n)}},mi.prototype._addOrOverwriteComponent=function(gi){this.container.addOrOverwriteComponent(gi)},mi.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},mi.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Te.create("app-deleted",{appName:this.name_})},mi}();Pr.prototype.name&&Pr.prototype.options||Pr.prototype.delete||console.log("dc");var un=function vn(){var mi=function(mi){var gi={},$n=new Map,ki={__esModule:!0,initializeApp:function(Gi,$i){void 0===$i&&($i={}),("object"!=typeof $i||null===$i)&&($i={name:$i});var Hs=$i;void 0===Hs.name&&(Hs.name=Li);var yi=Hs.name;if("string"!=typeof yi||!yi)throw Te.create("bad-app-name",{appName:String(yi)});if((0,W.r3)(gi,yi))throw Te.create("duplicate-app",{appName:yi});var cs=new mi(Gi,Hs,ki);return gi[yi]=cs,cs},app:uo,registerVersion:function(Gi,$i,ho){var Hs,yi=null!==(Hs=ks[Gi])&&void 0!==Hs?Hs:Gi;ho&&(yi+="-"+ho);var cs=yi.match(/\s|\//),mr=$i.match(/\s|\//);if(cs||mr){var Xi=['Unable to register library "'+yi+'" with version "'+$i+'":'];return cs&&Xi.push('library name "'+yi+'" contains illegal characters (whitespace or "/")'),cs&&mr&&Xi.push("and"),mr&&Xi.push('version name "'+$i+'" contains illegal characters (whitespace or "/")'),void qi.warn(Xi.join(" "))}Zs(new J.wA(yi+"-version",function(){return{library:yi,version:$i}},"VERSION"))},setLogLevel:b.Ub,onLog:function(Gi,$i){if(null!==Gi&&"function"!=typeof Gi)throw Te.create("invalid-log-argument");(0,b.Am)(Gi,$i)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Zs,removeApp:function(Gi){delete gi[Gi]},components:$n,useAsService:function(Gi,$i){return"serverAuth"===$i?null:$i}}};function uo(Gi){if(!(0,W.r3)(gi,Gi=Gi||Li))throw Te.create("no-app",{appName:Gi});return gi[Gi]}function Zs(Gi){var $i=Gi.name;if($n.has($i))return qi.debug("There were multiple attempts to register component "+$i+"."),"PUBLIC"===Gi.type?ki[$i]:null;if($n.set($i,Gi),"PUBLIC"===Gi.type){var ho=function(mr){if(void 0===mr&&(mr=uo()),"function"!=typeof mr[$i])throw Te.create("invalid-app-argument",{appName:$i});return mr[$i]()};void 0!==Gi.serviceProps&&(0,W.ZB)(ho,Gi.serviceProps),ki[$i]=ho,mi.prototype[$i]=function(){for(var mr=[],Xi=0;Xi<arguments.length;Xi++)mr[Xi]=arguments[Xi];return this._getService.bind(this,$i).apply(this,Gi.multipleInstances?mr:[])}}for(var Hs=0,yi=Object.keys(gi);Hs<yi.length;Hs++)gi[yi[Hs]]._addComponent(Gi);return"PUBLIC"===Gi.type?ki[$i]:null}return ki.default=ki,Object.defineProperty(ki,"apps",{get:function(){return Object.keys(gi).map(function(Gi){return gi[Gi]})}}),uo.App=mi,ki}(Pr);return mi.INTERNAL=(0,o.pi)((0,o.pi)({},mi.INTERNAL),{createFirebaseNamespace:vn,extendNamespace:function($n){(0,W.ZB)(mi,$n)},createSubscribe:W.ne,ErrorFactory:W.LL,deepExtend:W.ZB}),mi}(),Rn=function(){function mi(gi){this.container=gi}return mi.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function($n){if(function(mi){var gi=mi.getComponent();return"VERSION"===(null==gi?void 0:gi.type)}($n)){var ki=$n.getImmediate();return ki.library+"/"+ki.version}return null}).filter(function($n){return $n}).join(" ")},mi}();if((0,W.jU)()&&void 0!==self.firebase){qi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pi=self.firebase.SDK_VERSION;Pi&&Pi.indexOf("LITE")>=0&&qi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Fi=un.initializeApp;un.initializeApp=function(){for(var mi=[],gi=0;gi<arguments.length;gi++)mi[gi]=arguments[gi];return(0,W.UG)()&&qi.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Fi.apply(void 0,mi)};var mi,ui=un;(mi=ui).INTERNAL.registerComponent(new J.wA("platform-logger",function($n){return new Rn($n)},"PRIVATE")),mi.registerVersion(xe,"0.6.29",undefined),mi.registerVersion("fire-js","");const bi=ui},6034:(Ht,St,De)=>{"use strict";De.d(St,{wA:()=>J,H0:()=>xe,zt:()=>ce});var o=De(4762),W=De(4685),J=function(){function Fe(He,xt,ht){this.name=He,this.instanceFactory=xt,this.type=ht,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Fe.prototype.setInstantiationMode=function(He){return this.instantiationMode=He,this},Fe.prototype.setMultipleInstances=function(He){return this.multipleInstances=He,this},Fe.prototype.setServiceProps=function(He){return this.serviceProps=He,this},Fe.prototype.setInstanceCreatedCallback=function(He){return this.onInstanceCreated=He,this},Fe}(),b="[DEFAULT]",ce=function(){function Fe(He,xt){this.name=He,this.container=xt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Fe.prototype.get=function(He){var xt=this.normalizeInstanceIdentifier(He);if(!this.instancesDeferred.has(xt)){var ht=new W.BH;if(this.instancesDeferred.set(xt,ht),this.isInitialized(xt)||this.shouldAutoInitialize())try{var At=this.getOrInitializeService({instanceIdentifier:xt});At&&ht.resolve(At)}catch(en){}}return this.instancesDeferred.get(xt).promise},Fe.prototype.getImmediate=function(He){var xt,ht=this.normalizeInstanceIdentifier(null==He?void 0:He.identifier),At=null!==(xt=null==He?void 0:He.optional)&&void 0!==xt&&xt;if(!this.isInitialized(ht)&&!this.shouldAutoInitialize()){if(At)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ht})}catch(en){if(At)return null;throw en}},Fe.prototype.getComponent=function(){return this.component},Fe.prototype.setComponent=function(He){var xt,ht;if(He.name!==this.name)throw Error("Mismatching Component "+He.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=He,this.shouldAutoInitialize()){if(function(Fe){return"EAGER"===Fe.instantiationMode}(He))try{this.getOrInitializeService({instanceIdentifier:b})}catch(tr){}try{for(var At=(0,o.XA)(this.instancesDeferred.entries()),en=At.next();!en.done;en=At.next()){var Ut=(0,o.CR)(en.value,2),ei=Ut[1],In=this.normalizeInstanceIdentifier(Ut[0]);try{var jt=this.getOrInitializeService({instanceIdentifier:In});ei.resolve(jt)}catch(tr){}}}catch(tr){xt={error:tr}}finally{try{en&&!en.done&&(ht=At.return)&&ht.call(At)}finally{if(xt)throw xt.error}}}},Fe.prototype.clearInstance=function(He){void 0===He&&(He=b),this.instancesDeferred.delete(He),this.instances.delete(He)},Fe.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var He;return(0,o.Jh)(this,function(xt){switch(xt.label){case 0:return He=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(He.filter(function(ht){return"INTERNAL"in ht}).map(function(ht){return ht.INTERNAL.delete()}))),(0,o.CR)(He.filter(function(ht){return"_delete"in ht}).map(function(ht){return ht._delete()}))))];case 1:return xt.sent(),[2]}})})},Fe.prototype.isComponentSet=function(){return null!=this.component},Fe.prototype.isInitialized=function(He){return void 0===He&&(He=b),this.instances.has(He)},Fe.prototype.initialize=function(He){var xt,ht;void 0===He&&(He={});var At=He.options,en=void 0===At?{}:At,Ut=this.normalizeInstanceIdentifier(He.instanceIdentifier);if(this.isInitialized(Ut))throw Error(this.name+"("+Ut+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var at=this.getOrInitializeService({instanceIdentifier:Ut,options:en});try{for(var ei=(0,o.XA)(this.instancesDeferred.entries()),In=ei.next();!In.done;In=ei.next()){var jt=(0,o.CR)(In.value,2),rs=jt[1];Ut===this.normalizeInstanceIdentifier(jt[0])&&rs.resolve(at)}}catch(Li){xt={error:Li}}finally{try{In&&!In.done&&(ht=ei.return)&&ht.call(ei)}finally{if(xt)throw xt.error}}return at},Fe.prototype.onInit=function(He,xt){var ht,At=this.normalizeInstanceIdentifier(xt),en=null!==(ht=this.onInitCallbacks.get(At))&&void 0!==ht?ht:new Set;en.add(He),this.onInitCallbacks.set(At,en);var Ut=this.instances.get(At);return Ut&&He(Ut,At),function(){en.delete(He)}},Fe.prototype.invokeOnInitCallbacks=function(He,xt){var ht,At,en=this.onInitCallbacks.get(xt);if(en)try{for(var Ut=(0,o.XA)(en),at=Ut.next();!at.done;at=Ut.next()){var ei=at.value;try{ei(He,xt)}catch(In){}}}catch(In){ht={error:In}}finally{try{at&&!at.done&&(At=Ut.return)&&At.call(Ut)}finally{if(ht)throw ht.error}}},Fe.prototype.getOrInitializeService=function(He){var xt=He.instanceIdentifier,ht=He.options,At=void 0===ht?{}:ht,en=this.instances.get(xt);if(!en&&this.component&&(en=this.component.instanceFactory(this.container,{instanceIdentifier:be(xt),options:At}),this.instances.set(xt,en),this.invokeOnInitCallbacks(en,xt),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,xt,en)}catch(Ut){}return en||null},Fe.prototype.normalizeInstanceIdentifier=function(He){return void 0===He&&(He=b),this.component?this.component.multipleInstances?He:b:He},Fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Fe}();function be(Fe){return Fe===b?void 0:Fe}var xe=function(){function Fe(He){this.name=He,this.providers=new Map}return Fe.prototype.addComponent=function(He){var xt=this.getProvider(He.name);if(xt.isComponentSet())throw new Error("Component "+He.name+" has already been registered with "+this.name);xt.setComponent(He)},Fe.prototype.addOrOverwriteComponent=function(He){this.getProvider(He.name).isComponentSet()&&this.providers.delete(He.name),this.addComponent(He)},Fe.prototype.getProvider=function(He){if(this.providers.has(He))return this.providers.get(He);var xt=new ce(He,this);return this.providers.set(He,xt),xt},Fe.prototype.getProviders=function(){return Array.from(this.providers.values())},Fe}()},9192:(Ht,St,De)=>{"use strict";var o=De(4969),W=De(6034),J=De(4685),b=De(4762),ce=De(300);Ht=De.hmd(Ht);var xe="";function Fe(S){xe=S}var S,He=function(){function S(T){this.domStorage_=T,this.prefix_="firebase:"}return S.prototype.set=function(T,L){null==L?this.domStorage_.removeItem(this.prefixedName_(T)):this.domStorage_.setItem(this.prefixedName_(T),(0,J.Pz)(L))},S.prototype.get=function(T){var L=this.domStorage_.getItem(this.prefixedName_(T));return null==L?null:(0,J.cI)(L)},S.prototype.remove=function(T){this.domStorage_.removeItem(this.prefixedName_(T))},S.prototype.prefixedName_=function(T){return this.prefix_+T},S.prototype.toString=function(){return this.domStorage_.toString()},S}(),xt=function(){function S(){this.cache_={},this.isInMemoryStorage=!0}return S.prototype.set=function(T,L){null==L?delete this.cache_[T]:this.cache_[T]=L},S.prototype.get=function(T){return(0,J.r3)(this.cache_,T)?this.cache_[T]:null},S.prototype.remove=function(T){delete this.cache_[T]},S}(),ht=function(S){try{if("undefined"!=typeof window&&void 0!==window[S]){var T=window[S];return T.setItem("firebase:sentinel","cache"),T.removeItem("firebase:sentinel"),new He(T)}}catch(L){}return new xt},At=ht("localStorage"),en=ht("sessionStorage"),Ut=new ce.Yd("@firebase/database"),at=(S=1,function(){return S++}),ei=function(S){var T=(0,J.dS)(S),L=new J.gQ;L.update(T);var U=L.digest();return J.US.encodeByteArray(U)},In=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];for(var L="",U=0;U<S.length;U++){var ie=S[U];Array.isArray(ie)||ie&&"object"==typeof ie&&"number"==typeof ie.length?L+=In.apply(null,ie):L+="object"==typeof ie?(0,J.Pz)(ie):ie,L+=" "}return L},jt=null,tr=!0,rs=function(S,T){(0,J.hu)(!T||!0===S||!1===S,"Can't turn on custom loggers persistently."),!0===S?(Ut.logLevel=ce.in.VERBOSE,jt=Ut.log.bind(Ut),T&&en.set("logging_enabled",!0)):"function"==typeof S?jt=S:(jt=null,en.remove("logging_enabled"))},oi=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];if(!0===tr&&(tr=!1,null===jt&&!0===en.get("logging_enabled")&&rs(!0)),jt){var L=In.apply(null,S);jt(L)}},Li=function(S){return function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];oi.apply(void 0,(0,b.ev)([S],(0,b.CR)(T)))}},ks=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var L="FIREBASE INTERNAL ERROR: "+In.apply(void 0,(0,b.ev)([],(0,b.CR)(S)));Ut.error(L)},qi=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var L="FIREBASE FATAL ERROR: "+In.apply(void 0,(0,b.ev)([],(0,b.CR)(S)));throw Ut.error(L),new Error(L)},Pr=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var L="FIREBASE WARNING: "+In.apply(void 0,(0,b.ev)([],(0,b.CR)(S)));Ut.warn(L)},ln=function(S){return"number"==typeof S&&(S!=S||S===Number.POSITIVE_INFINITY||S===Number.NEGATIVE_INFINITY)},un="[MIN_NAME]",Rn="[MAX_NAME]",fn=function(S,T){if(S===T)return 0;if(S===un||T===Rn)return-1;if(T===un||S===Rn)return 1;var L=Vs(S),U=Vs(T);return null!==L?null!==U?L-U==0?S.length-T.length:L-U:-1:null!==U?1:S<T?-1:1},ni=function(S,T){return S===T?0:S<T?-1:1},Pi=function(S,T){if(T&&S in T)return T[S];throw new Error("Missing required key ("+S+") in object: "+(0,J.Pz)(T))},Fi=function(S){if("object"!=typeof S||null===S)return(0,J.Pz)(S);var T=[];for(var L in S)T.push(L);T.sort();for(var U="{",ie=0;ie<T.length;ie++)0!==ie&&(U+=","),U+=(0,J.Pz)(T[ie]),U+=":",U+=Fi(S[T[ie]]);return U+"}"},ui=function(S,T){var L=S.length;if(L<=T)return[S];for(var U=[],ie=0;ie<L;ie+=T)U.push(S.substring(ie,ie+T>L?L:ie+T));return U};function bi(S,T){for(var L in S)S.hasOwnProperty(L)&&T(L,S[L])}var mi=function(S){(0,J.hu)(!ln(S),"Invalid JSON number");var ie,ge,Pe,et,lt,U=1023;0===S?(ge=0,Pe=0,ie=1/S==-1/0?1:0):(ie=S<0,(S=Math.abs(S))>=Math.pow(2,1-U)?(ge=(et=Math.min(Math.floor(Math.log(S)/Math.LN2),U))+U,Pe=Math.round(S*Math.pow(2,52-et)-Math.pow(2,52))):(ge=0,Pe=Math.round(S/Math.pow(2,-1074))));var Mt=[];for(lt=52;lt;lt-=1)Mt.push(Pe%2?1:0),Pe=Math.floor(Pe/2);for(lt=11;lt;lt-=1)Mt.push(ge%2?1:0),ge=Math.floor(ge/2);Mt.push(ie?1:0),Mt.reverse();var Rt=Mt.join(""),bn="";for(lt=0;lt<64;lt+=8){var Fn=parseInt(Rt.substr(lt,8),2).toString(16);1===Fn.length&&(Fn="0"+Fn),bn+=Fn}return bn.toLowerCase()},xr=new RegExp("^-?(0*)\\d{1,10}$"),uo=-2147483648,Qr=2147483647,Vs=function(S){if(xr.test(S)){var T=Number(S);if(T>=uo&&T<=Qr)return T}return null},Zs=function(S){try{S()}catch(T){setTimeout(function(){throw Pr("Exception was thrown by user callback.",T.stack||""),T},Math.floor(0))}},nr=function(S,T){var L=setTimeout(S,T);return"object"==typeof L&&L.unref&&L.unref(),L},ma=function(){function S(T,L){var U=this;this.appName_=T,this.appCheckProvider=L,this.appCheck=null==L?void 0:L.getImmediate({optional:!0}),this.appCheck||null==L||L.get().then(function(ie){return U.appCheck=ie})}return S.prototype.getToken=function(T){var L=this;return this.appCheck?this.appCheck.getToken(T):new Promise(function(U,ie){setTimeout(function(){L.appCheck?L.getToken(T).then(U,ie):U(null)},0)})},S.prototype.addTokenChangeListener=function(T){var L;null===(L=this.appCheckProvider)||void 0===L||L.get().then(function(U){return U.addTokenListener(T)})},S.prototype.notifyForInvalidToken=function(){Pr('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},S}(),Gi=function(){function S(T,L,U){var ie=this;this.appName_=T,this.firebaseOptions_=L,this.authProvider_=U,this.auth_=null,this.auth_=U.getImmediate({optional:!0}),this.auth_||U.onInit(function(ge){return ie.auth_=ge})}return S.prototype.getToken=function(T){var L=this;return this.auth_?this.auth_.getToken(T).catch(function(U){return U&&"auth/token-not-initialized"===U.code?(oi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(U)}):new Promise(function(U,ie){setTimeout(function(){L.auth_?L.getToken(T).then(U,ie):U(null)},0)})},S.prototype.addTokenChangeListener=function(T){this.auth_?this.auth_.addAuthTokenListener(T):this.authProvider_.get().then(function(L){return L.addAuthTokenListener(T)})},S.prototype.removeTokenChangeListener=function(T){this.authProvider_.get().then(function(L){return L.removeAuthTokenListener(T)})},S.prototype.notifyForInvalidToken=function(){var T='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Pr(T+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},S}(),$i=function(){function S(T){this.accessToken=T}return S.prototype.getToken=function(T){return Promise.resolve({accessToken:this.accessToken})},S.prototype.addTokenChangeListener=function(T){T(this.accessToken)},S.prototype.removeTokenChangeListener=function(T){},S.prototype.notifyForInvalidToken=function(){},S.OWNER="owner",S}(),Xi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ls="websocket",Ro="long_polling",Sr=function(){function S(T,L,U,ie,ge,Pe,et){void 0===ge&&(ge=!1),void 0===Pe&&(Pe=""),void 0===et&&(et=!1),this.secure=L,this.namespace=U,this.webSocketOnly=ie,this.nodeAdmin=ge,this.persistenceKey=Pe,this.includeNamespaceInQueryParams=et,this._host=T.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=At.get("host:"+T)||this._host}return S.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},S.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(S.prototype,"host",{get:function(){return this._host},set:function(T){T!==this.internalHost&&(this.internalHost=T,this.isCacheableHost()&&At.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),S.prototype.toString=function(){var T=this.toURLString();return this.persistenceKey&&(T+="<"+this.persistenceKey+">"),T},S.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},S}();function ji(S,T,L){var U;if((0,J.hu)("string"==typeof T,"typeof type must == string"),(0,J.hu)("object"==typeof L,"typeof params must == object"),T===Ls)U=(S.secure?"wss://":"ws://")+S.internalHost+"/.ws?";else{if(T!==Ro)throw new Error("Unknown connection type: "+T);U=(S.secure?"https://":"http://")+S.internalHost+"/.lp?"}(function(S){return S.host!==S.internalHost||S.isCustomHost()||S.includeNamespaceInQueryParams})(S)&&(L.ns=S.namespace);var ie=[];return bi(L,function(ge,Pe){ie.push(ge+"="+Pe)}),U+ie.join("&")}var ll=function(){function S(){this.counters_={}}return S.prototype.incrementCounter=function(T,L){void 0===L&&(L=1),(0,J.r3)(this.counters_,T)||(this.counters_[T]=0),this.counters_[T]+=L},S.prototype.get=function(){return(0,J.p$)(this.counters_)},S}(),Ea={},ga={};function gs(S){var T=S.toString();return Ea[T]||(Ea[T]=new ll),Ea[T]}var ko=function(){function S(T){this.onMessage_=T,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return S.prototype.closeAfter=function(T,L){this.closeAfterResponse=T,this.onClose=L,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},S.prototype.handleResponse=function(T,L){var U=this;this.pendingResponses[T]=L;for(var ie=function(){var et=ge.pendingResponses[ge.currentResponseNum];delete ge.pendingResponses[ge.currentResponseNum];for(var lt=function(Rt){et[Rt]&&Zs(function(){U.onMessage_(et[Rt])})},Mt=0;Mt<et.length;++Mt)lt(Mt);if(ge.currentResponseNum===ge.closeAfterResponse)return ge.onClose&&(ge.onClose(),ge.onClose=null),"break";ge.currentResponseNum++},ge=this;this.pendingResponses[this.currentResponseNum]&&"break"!==ie(););},S}(),Kt=function(){function S(T,L,U,ie,ge,Pe,et){var lt=this;this.connId=T,this.repoInfo=L,this.applicationId=U,this.appCheckToken=ie,this.authToken=ge,this.transportSessionId=Pe,this.lastSessionId=et,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Li(T),this.stats_=gs(L),this.urlFn=function(Mt){return lt.appCheckToken&&(Mt.ac=lt.appCheckToken),ji(L,Ro,Mt)}}return S.prototype.open=function(T,L){var U=this;this.curSegmentNum=0,this.onDisconnect_=L,this.myPacketOrderer=new ko(T),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){U.log_("Timed out trying to connect."),U.onClosed_(),U.connectTimeoutTimer_=null},Math.floor(3e4)),function(S){if((0,J.Yr)()||"complete"===document.readyState)S();else{var T=!1,L=function(){document.body?T||(T=!0,S()):setTimeout(L,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",L,!1),window.addEventListener("load",L,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&L()}),window.attachEvent("onload",L))}}(function(){if(!U.isClosed_){U.scriptTagHolder=new Vt(function(){for(var Pe=[],et=0;et<arguments.length;et++)Pe[et]=arguments[et];var lt=(0,b.CR)(Pe,5),Mt=lt[0],Rt=lt[1],bn=lt[2];if(U.incrementIncomingBytes_(Pe),U.scriptTagHolder)if(U.connectTimeoutTimer_&&(clearTimeout(U.connectTimeoutTimer_),U.connectTimeoutTimer_=null),U.everConnected_=!0,"start"===Mt)U.id=Rt,U.password=bn;else{if("close"!==Mt)throw new Error("Unrecognized command received: "+Mt);Rt?(U.scriptTagHolder.sendNewPolls=!1,U.myPacketOrderer.closeAfter(Rt,function(){U.onClosed_()})):U.onClosed_()}},function(){for(var Pe=[],et=0;et<arguments.length;et++)Pe[et]=arguments[et];var lt=(0,b.CR)(Pe,2),Mt=lt[0],Rt=lt[1];U.incrementIncomingBytes_(Pe),U.myPacketOrderer.handleResponse(Mt,Rt)},function(){U.onClosed_()},U.urlFn);var ie={start:"t"};ie.ser=Math.floor(1e8*Math.random()),U.scriptTagHolder.uniqueCallbackIdentifier&&(ie.cb=U.scriptTagHolder.uniqueCallbackIdentifier),ie.v="5",U.transportSessionId&&(ie.s=U.transportSessionId),U.lastSessionId&&(ie.ls=U.lastSessionId),U.applicationId&&(ie.p=U.applicationId),U.appCheckToken&&(ie.ac=U.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xi.test(location.hostname)&&(ie.r="f");var ge=U.urlFn(ie);U.log_("Connecting via long-poll to "+ge),U.scriptTagHolder.addTag(ge,function(){})}})},S.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},S.forceAllow=function(){S.forceAllow_=!0},S.forceDisallow=function(){S.forceDisallow_=!0},S.isAvailable=function(){return!((0,J.Yr)()||!S.forceAllow_&&(S.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},S.prototype.markConnectionHealthy=function(){},S.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},S.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},S.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},S.prototype.send=function(T){var L=(0,J.Pz)(T);this.bytesSent+=L.length,this.stats_.incrementCounter("bytes_sent",L.length);for(var U=(0,J.h$)(L),ie=ui(U,1840),ge=0;ge<ie.length;ge++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,ie.length,ie[ge]),this.curSegmentNum++},S.prototype.addDisconnectPingFrame=function(T,L){if(!(0,J.Yr)()){this.myDisconnFrame=document.createElement("iframe");var U={dframe:"t"};U.id=T,U.pw=L,this.myDisconnFrame.src=this.urlFn(U),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},S.prototype.incrementIncomingBytes_=function(T){var L=(0,J.Pz)(T).length;this.bytesReceived+=L,this.stats_.incrementCounter("bytes_received",L)},S}(),Vt=function(){function S(T,L,U,ie){if(this.onDisconnect=U,this.urlFn=ie,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,J.Yr)())this.commandCB=T,this.onMessageCB=L;else{this.uniqueCallbackIdentifier=at(),window["pLPCommand"+this.uniqueCallbackIdentifier]=T,window["pRTLPCB"+this.uniqueCallbackIdentifier]=L,this.myIFrame=S.createIFrame_();var ge="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(ge='<script>document.domain="'+document.domain+'";<\/script>');var et="<html><body>"+ge+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(et),this.myIFrame.doc.close()}catch(lt){oi("frame writing exception"),lt.stack&&oi(lt.stack),oi(lt)}}}return S.createIFrame_=function(){var T=document.createElement("iframe");if(T.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(T);try{T.contentWindow.document||oi("No IE domain setting required")}catch(ie){var U=document.domain;T.src="javascript:void((function(){document.open();document.domain='"+U+"';document.close();})())"}return T.contentDocument?T.doc=T.contentDocument:T.contentWindow?T.doc=T.contentWindow.document:T.document&&(T.doc=T.document),T},S.prototype.close=function(){var T=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==T.myIFrame&&(document.body.removeChild(T.myIFrame),T.myIFrame=null)},Math.floor(0)));var L=this.onDisconnect;L&&(this.onDisconnect=null,L())},S.prototype.startLongPoll=function(T,L){for(this.myID=T,this.myPW=L,this.alive=!0;this.newRequest_(););},S.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var T={};T.id=this.myID,T.pw=this.myPW,T.ser=this.currentSerial;for(var L=this.urlFn(T),U="",ie=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+U.length<=1870;){var Pe=this.pendingSegs.shift();U=U+"&seg"+ie+"="+Pe.seg+"&ts"+ie+"="+Pe.ts+"&d"+ie+"="+Pe.d,ie++}return this.addLongPollTag_(L+=U,this.currentSerial),!0}return!1},S.prototype.enqueueSegment=function(T,L,U){this.pendingSegs.push({seg:T,ts:L,d:U}),this.alive&&this.newRequest_()},S.prototype.addLongPollTag_=function(T,L){var U=this;this.outstandingRequests.add(L);var ie=function(){U.outstandingRequests.delete(L),U.newRequest_()},ge=setTimeout(ie,Math.floor(25e3));this.addTag(T,function(){clearTimeout(ge),ie()})},S.prototype.addTag=function(T,L){var U=this;(0,J.Yr)()?this.doNodeLongPoll(T,L):setTimeout(function(){try{if(!U.sendNewPolls)return;var ie=U.myIFrame.doc.createElement("script");ie.type="text/javascript",ie.async=!0,ie.src=T,ie.onload=ie.onreadystatechange=function(){var ge=ie.readyState;(!ge||"loaded"===ge||"complete"===ge)&&(ie.onload=ie.onreadystatechange=null,ie.parentNode&&ie.parentNode.removeChild(ie),L())},ie.onerror=function(){oi("Long-poll script failed to load: "+T),U.sendNewPolls=!1,U.close()},U.myIFrame.doc.body.appendChild(ie)}catch(ge){}},Math.floor(1))},S}(),Le=null;"undefined"!=typeof MozWebSocket?Le=MozWebSocket:"undefined"!=typeof WebSocket&&(Le=WebSocket);var h=function(){function S(T,L,U,ie,ge,Pe,et){this.connId=T,this.applicationId=U,this.appCheckToken=ie,this.authToken=ge,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Li(this.connId),this.stats_=gs(L),this.connURL=S.connectionURL_(L,Pe,et,ie),this.nodeAdmin=L.nodeAdmin}return S.connectionURL_=function(T,L,U,ie){var ge={v:"5"};return!(0,J.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xi.test(location.hostname)&&(ge.r="f"),L&&(ge.s=L),U&&(ge.ls=U),ie&&(ge.ac=ie),ji(T,Ls,ge)},S.prototype.open=function(T,L){var U=this;this.onDisconnect=L,this.onMessage=T,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,At.set("previous_websocket_failure",!0);try{if((0,J.Yr)()){var ge={headers:{"User-Agent":"Firebase/5/"+xe+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(ge.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(ge.headers["X-Firebase-AppCheck"]=this.appCheckToken);var Pe=process.env,et=0===this.connURL.indexOf("wss://")?Pe.HTTPS_PROXY||Pe.https_proxy:Pe.HTTP_PROXY||Pe.http_proxy;et&&(ge.proxy={origin:et}),this.mySock=new Le(this.connURL,[],ge)}else this.mySock=new Le(this.connURL,[],ge={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Mt){this.log_("Error instantiating WebSocket.");var lt=Mt.message||Mt.data;return lt&&this.log_(lt),void this.onClosed_()}this.mySock.onopen=function(){U.log_("Websocket connected."),U.everConnected_=!0},this.mySock.onclose=function(){U.log_("Websocket connection was disconnected."),U.mySock=null,U.onClosed_()},this.mySock.onmessage=function(Mt){U.handleIncomingFrame(Mt)},this.mySock.onerror=function(Mt){U.log_("WebSocket error.  Closing connection.");var Rt=Mt.message||Mt.data;Rt&&U.log_(Rt),U.onClosed_()}},S.prototype.start=function(){},S.forceDisallow=function(){S.forceDisallow_=!0},S.isAvailable=function(){var T=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var U=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);U&&U.length>1&&parseFloat(U[1])<4.4&&(T=!0)}return!T&&null!==Le&&!S.forceDisallow_},S.previouslyFailed=function(){return At.isInMemoryStorage||!0===At.get("previous_websocket_failure")},S.prototype.markConnectionHealthy=function(){At.remove("previous_websocket_failure")},S.prototype.appendFrame_=function(T){if(this.frames.push(T),this.frames.length===this.totalFrames){var L=this.frames.join("");this.frames=null;var U=(0,J.cI)(L);this.onMessage(U)}},S.prototype.handleNewFrameCount_=function(T){this.totalFrames=T,this.frames=[]},S.prototype.extractFrameCount_=function(T){if((0,J.hu)(null===this.frames,"We already have a frame buffer"),T.length<=6){var L=Number(T);if(!isNaN(L))return this.handleNewFrameCount_(L),null}return this.handleNewFrameCount_(1),T},S.prototype.handleIncomingFrame=function(T){if(null!==this.mySock){var L=T.data;if(this.bytesReceived+=L.length,this.stats_.incrementCounter("bytes_received",L.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(L);else{var U=this.extractFrameCount_(L);null!==U&&this.appendFrame_(U)}}},S.prototype.send=function(T){this.resetKeepAlive();var L=(0,J.Pz)(T);this.bytesSent+=L.length,this.stats_.incrementCounter("bytes_sent",L.length);var U=ui(L,16384);U.length>1&&this.sendString_(String(U.length));for(var ie=0;ie<U.length;ie++)this.sendString_(U[ie])},S.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},S.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},S.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},S.prototype.resetKeepAlive=function(){var T=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){T.mySock&&T.sendString_("0"),T.resetKeepAlive()},Math.floor(45e3))},S.prototype.sendString_=function(T){try{this.mySock.send(T)}catch(L){this.log_("Exception thrown from WebSocket.send():",L.message||L.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},S.responsesRequiredToBeHealthy=2,S.healthyTimeout=3e4,S}(),p=function(){function S(T){this.initTransports_(T)}return Object.defineProperty(S,"ALL_TRANSPORTS",{get:function(){return[Kt,h]},enumerable:!1,configurable:!0}),S.prototype.initTransports_=function(T){var L,U,ie=h&&h.isAvailable(),ge=ie&&!h.previouslyFailed();if(T.webSocketOnly&&(ie||Pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ge=!0),ge)this.transports_=[h];else{var Pe=this.transports_=[];try{for(var et=(0,b.XA)(S.ALL_TRANSPORTS),lt=et.next();!lt.done;lt=et.next()){var Mt=lt.value;Mt&&Mt.isAvailable()&&Pe.push(Mt)}}catch(Rt){L={error:Rt}}finally{try{lt&&!lt.done&&(U=et.return)&&U.call(et)}finally{if(L)throw L.error}}}},S.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},S.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},S}(),je=function(){function S(T,L,U,ie,ge,Pe,et,lt,Mt,Rt){this.id=T,this.repoInfo_=L,this.applicationId_=U,this.appCheckToken_=ie,this.authToken_=ge,this.onMessage_=Pe,this.onReady_=et,this.onDisconnect_=lt,this.onKill_=Mt,this.lastSessionId=Rt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Li("c:"+this.id+":"),this.transportManager_=new p(L),this.log_("Connection created"),this.start_()}return S.prototype.start_=function(){var T=this,L=this.transportManager_.initialTransport();this.conn_=new L(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=L.responsesRequiredToBeHealthy||0;var U=this.connReceiver_(this.conn_),ie=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){T.conn_&&T.conn_.open(U,ie)},Math.floor(0));var ge=L.healthyTimeout||0;ge>0&&(this.healthyTimeout_=nr(function(){T.healthyTimeout_=null,T.isHealthy_||(T.conn_&&T.conn_.bytesReceived>102400?(T.log_("Connection exceeded healthy timeout but has received "+T.conn_.bytesReceived+" bytes.  Marking connection healthy."),T.isHealthy_=!0,T.conn_.markConnectionHealthy()):T.conn_&&T.conn_.bytesSent>10240?T.log_("Connection exceeded healthy timeout but has sent "+T.conn_.bytesSent+" bytes.  Leaving connection alive."):(T.log_("Closing unhealthy connection after timeout."),T.close()))},Math.floor(ge)))},S.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},S.prototype.disconnReceiver_=function(T){var L=this;return function(U){T===L.conn_?L.onConnectionLost_(U):T===L.secondaryConn_?(L.log_("Secondary connection lost."),L.onSecondaryConnectionLost_()):L.log_("closing an old connection")}},S.prototype.connReceiver_=function(T){var L=this;return function(U){2!==L.state_&&(T===L.rx_?L.onPrimaryMessageReceived_(U):T===L.secondaryConn_?L.onSecondaryMessageReceived_(U):L.log_("message on old connection"))}},S.prototype.sendRequest=function(T){this.sendData_({t:"d",d:T})},S.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},S.prototype.onSecondaryControl_=function(T){if("t"in T){var L=T.t;"a"===L?this.upgradeIfSecondaryHealthy_():"r"===L?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===L&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},S.prototype.onSecondaryMessageReceived_=function(T){var L=Pi("t",T),U=Pi("d",T);if("c"===L)this.onSecondaryControl_(U);else{if("d"!==L)throw new Error("Unknown protocol layer: "+L);this.pendingDataMessages.push(U)}},S.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},S.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},S.prototype.onPrimaryMessageReceived_=function(T){var L=Pi("t",T),U=Pi("d",T);"c"===L?this.onControl_(U):"d"===L&&this.onDataMessage_(U)},S.prototype.onDataMessage_=function(T){this.onPrimaryResponse_(),this.onMessage_(T)},S.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},S.prototype.onControl_=function(T){var L=Pi("t",T);if("d"in T){var U=T.d;if("h"===L)this.onHandshake_(U);else if("n"===L){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var ie=0;ie<this.pendingDataMessages.length;++ie)this.onDataMessage_(this.pendingDataMessages[ie]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===L?this.onConnectionShutdown_(U):"r"===L?this.onReset_(U):"e"===L?ks("Server Error: "+U):"o"===L?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ks("Unknown control packet command: "+L)}},S.prototype.onHandshake_=function(T){var L=T.ts,U=T.v,ie=T.h;this.sessionId=T.s,this.repoInfo_.host=ie,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,L),"5"!==U&&Pr("Protocol version mismatch detected"),this.tryStartUpgrade_())},S.prototype.tryStartUpgrade_=function(){var T=this.transportManager_.upgradeTransport();T&&this.startUpgrade_(T)},S.prototype.startUpgrade_=function(T){var L=this;this.secondaryConn_=new T(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=T.responsesRequiredToBeHealthy||0;var U=this.connReceiver_(this.secondaryConn_),ie=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(U,ie),nr(function(){L.secondaryConn_&&(L.log_("Timed out trying to upgrade."),L.secondaryConn_.close())},Math.floor(6e4))},S.prototype.onReset_=function(T){this.log_("Reset packet received.  New host: "+T),this.repoInfo_.host=T,1===this.state_?this.close():(this.closeConnections_(),this.start_())},S.prototype.onConnectionEstablished_=function(T,L){var U=this;this.log_("Realtime connection established."),this.conn_=T,this.state_=1,this.onReady_&&(this.onReady_(L,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nr(function(){U.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},S.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},S.prototype.onSecondaryConnectionLost_=function(){var T=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===T||this.rx_===T)&&this.close()},S.prototype.onConnectionLost_=function(T){this.conn_=null,T||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(At.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},S.prototype.onConnectionShutdown_=function(T){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(T),this.onKill_=null),this.onDisconnect_=null,this.close()},S.prototype.sendData_=function(T){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(T)},S.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},S.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},S}(),it=function(){function S(){}return S.prototype.put=function(T,L,U,ie){},S.prototype.merge=function(T,L,U,ie){},S.prototype.refreshAuthToken=function(T){},S.prototype.refreshAppCheckToken=function(T){},S.prototype.onDisconnectPut=function(T,L,U){},S.prototype.onDisconnectMerge=function(T,L,U){},S.prototype.onDisconnectCancel=function(T,L){},S.prototype.reportStats=function(T){},S}(),_t=function(){function S(T){this.allowedEvents_=T,this.listeners_={},(0,J.hu)(Array.isArray(T)&&T.length>0,"Requires a non-empty array")}return S.prototype.trigger=function(T){for(var L=[],U=1;U<arguments.length;U++)L[U-1]=arguments[U];if(Array.isArray(this.listeners_[T]))for(var ie=(0,b.ev)([],(0,b.CR)(this.listeners_[T])),ge=0;ge<ie.length;ge++)ie[ge].callback.apply(ie[ge].context,L)},S.prototype.on=function(T,L,U){this.validateEventType_(T),this.listeners_[T]=this.listeners_[T]||[],this.listeners_[T].push({callback:L,context:U});var ie=this.getInitialEvent(T);ie&&L.apply(U,ie)},S.prototype.off=function(T,L,U){this.validateEventType_(T);for(var ie=this.listeners_[T]||[],ge=0;ge<ie.length;ge++)if(ie[ge].callback===L&&(!U||U===ie[ge].context))return void ie.splice(ge,1)},S.prototype.validateEventType_=function(T){(0,J.hu)(this.allowedEvents_.find(function(L){return L===T}),"Unknown event: "+T)},S}(),$=function(S){function T(){var L=S.call(this,["online"])||this;return L.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,J.uI)()&&(window.addEventListener("online",function(){L.online_||(L.online_=!0,L.trigger("online",!0))},!1),window.addEventListener("offline",function(){L.online_&&(L.online_=!1,L.trigger("online",!1))},!1)),L}return(0,b.ZT)(T,S),T.getInstance=function(){return new T},T.prototype.getInitialEvent=function(L){return(0,J.hu)("online"===L,"Unknown event type: "+L),[this.online_]},T.prototype.currentlyOnline=function(){return this.online_},T}(_t),$e=function(){function S(T,L){if(void 0===L){this.pieces_=T.split("/");for(var U=0,ie=0;ie<this.pieces_.length;ie++)this.pieces_[ie].length>0&&(this.pieces_[U]=this.pieces_[ie],U++);this.pieces_.length=U,this.pieceNum_=0}else this.pieces_=T,this.pieceNum_=L}return S.prototype.toString=function(){for(var T="",L=this.pieceNum_;L<this.pieces_.length;L++)""!==this.pieces_[L]&&(T+="/"+this.pieces_[L]);return T||"/"},S}();function ft(){return new $e("")}function sn(S){return S.pieceNum_>=S.pieces_.length?null:S.pieces_[S.pieceNum_]}function Gt(S){return S.pieces_.length-S.pieceNum_}function dn(S){var T=S.pieceNum_;return T<S.pieces_.length&&T++,new $e(S.pieces_,T)}function Nn(S){return S.pieceNum_<S.pieces_.length?S.pieces_[S.pieces_.length-1]:null}function wi(S,T){return void 0===T&&(T=0),S.pieces_.slice(S.pieceNum_+T)}function lr(S){if(S.pieceNum_>=S.pieces_.length)return null;for(var T=[],L=S.pieceNum_;L<S.pieces_.length-1;L++)T.push(S.pieces_[L]);return new $e(T,0)}function fi(S,T){for(var L=[],U=S.pieceNum_;U<S.pieces_.length;U++)L.push(S.pieces_[U]);if(T instanceof $e)for(U=T.pieceNum_;U<T.pieces_.length;U++)L.push(T.pieces_[U]);else{var ie=T.split("/");for(U=0;U<ie.length;U++)ie[U].length>0&&L.push(ie[U])}return new $e(L,0)}function Oi(S){return S.pieceNum_>=S.pieces_.length}function Tr(S,T){var L=sn(S),U=sn(T);if(null===L)return T;if(L===U)return Tr(dn(S),dn(T));throw new Error("INTERNAL ERROR: innerPath ("+T+") is not within outerPath ("+S+")")}function $s(S,T){for(var L=wi(S,0),U=wi(T,0),ie=0;ie<L.length&&ie<U.length;ie++){var ge=fn(L[ie],U[ie]);if(0!==ge)return ge}return L.length===U.length?0:L.length<U.length?-1:1}function _s(S,T){if(Gt(S)!==Gt(T))return!1;for(var L=S.pieceNum_,U=T.pieceNum_;L<=S.pieces_.length;L++,U++)if(S.pieces_[L]!==T.pieces_[U])return!1;return!0}function Zi(S,T){var L=S.pieceNum_,U=T.pieceNum_;if(Gt(S)>Gt(T))return!1;for(;L<S.pieces_.length;){if(S.pieces_[L]!==T.pieces_[U])return!1;++L,++U}return!0}var Jr=function(T,L){this.errorPrefix_=L,this.parts_=wi(T,0),this.byteLength_=Math.max(1,this.parts_.length);for(var U=0;U<this.parts_.length;U++)this.byteLength_+=(0,J.ug)(this.parts_[U]);ia(this)};function ia(S){if(S.byteLength_>768)throw new Error(S.errorPrefix_+"has a key path longer than 768 bytes ("+S.byteLength_+").");if(S.parts_.length>32)throw new Error(S.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Js(S))}function Js(S){return 0===S.parts_.length?"":"in property '"+S.parts_.join(".")+"'"}var Nd,Ps,Fo=function(S){function T(){var U,ie,L=S.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(ie="visibilitychange",U="hidden"):void 0!==document.mozHidden?(ie="mozvisibilitychange",U="mozHidden"):void 0!==document.msHidden?(ie="msvisibilitychange",U="msHidden"):void 0!==document.webkitHidden&&(ie="webkitvisibilitychange",U="webkitHidden")),L.visible_=!0,ie&&document.addEventListener(ie,function(){var ge=!document[U];ge!==L.visible_&&(L.visible_=ge,L.trigger("visible",ge))},!1),L}return(0,b.ZT)(T,S),T.getInstance=function(){return new T},T.prototype.getInitialEvent=function(L){return(0,J.hu)("visible"===L,"Unknown event type: "+L),[this.visible_]},T}(_t),ad=1e3,Yc=function(S){function T(L,U,ie,ge,Pe,et,lt,Mt){var Rt=S.call(this)||this;if(Rt.repoInfo_=L,Rt.applicationId_=U,Rt.onDataUpdate_=ie,Rt.onConnectStatus_=ge,Rt.onServerInfoUpdate_=Pe,Rt.authTokenProvider_=et,Rt.appCheckTokenProvider_=lt,Rt.authOverride_=Mt,Rt.id=T.nextPersistentConnectionId_++,Rt.log_=Li("p:"+Rt.id+":"),Rt.interruptReasons_={},Rt.listens=new Map,Rt.outstandingPuts_=[],Rt.outstandingGets_=[],Rt.outstandingPutCount_=0,Rt.outstandingGetCount_=0,Rt.onDisconnectRequestQueue_=[],Rt.connected_=!1,Rt.reconnectDelay_=ad,Rt.maxReconnectDelay_=3e5,Rt.securityDebugCallback_=null,Rt.lastSessionId=null,Rt.establishConnectionTimer_=null,Rt.visible_=!1,Rt.requestCBHash_={},Rt.requestNumber_=0,Rt.realtime_=null,Rt.authToken_=null,Rt.appCheckToken_=null,Rt.forceTokenRefresh_=!1,Rt.invalidAuthTokenCount_=0,Rt.invalidAppCheckTokenCount_=0,Rt.firstConnection_=!0,Rt.lastConnectionAttemptTime_=null,Rt.lastConnectionEstablishedTime_=null,Mt&&!(0,J.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Fo.getInstance().on("visible",Rt.onVisible_,Rt),-1===L.host.indexOf("fblocal")&&$.getInstance().on("online",Rt.onOnline_,Rt),Rt}return(0,b.ZT)(T,S),T.prototype.sendRequest=function(L,U,ie){var ge=++this.requestNumber_,Pe={r:ge,a:L,b:U};this.log_((0,J.Pz)(Pe)),(0,J.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Pe),ie&&(this.requestCBHash_[ge]=ie)},T.prototype.get=function(L){var U=this;this.initConnection_();var ie=new J.BH,ge={p:L._path.toString(),q:L._queryObject},Pe={action:"g",request:ge,onComplete:function(lt){var Mt=lt.d;"ok"===lt.s?(U.onDataUpdate_(ge.p,Mt,!1,null),ie.resolve(Mt)):ie.reject(Mt)}};this.outstandingGets_.push(Pe),this.outstandingGetCount_++;var et=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var lt=U.outstandingGets_[et];void 0===lt||Pe!==lt||(delete U.outstandingGets_[et],U.outstandingGetCount_--,0===U.outstandingGetCount_&&(U.outstandingGets_=[]),U.log_("get "+et+" timed out on connection"),ie.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(et),ie.promise},T.prototype.listen=function(L,U,ie,ge){this.initConnection_();var Pe=L._queryIdentifier,et=L._path.toString();this.log_("Listen called for "+et+" "+Pe),this.listens.has(et)||this.listens.set(et,new Map),(0,J.hu)(L._queryParams.isDefault()||!L._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,J.hu)(!this.listens.get(et).has(Pe),"listen() called twice for same path/queryId.");var lt={onComplete:ge,hashFn:U,query:L,tag:ie};this.listens.get(et).set(Pe,lt),this.connected_&&this.sendListen_(lt)},T.prototype.sendGet_=function(L){var U=this,ie=this.outstandingGets_[L];this.sendRequest("g",ie.request,function(ge){delete U.outstandingGets_[L],U.outstandingGetCount_--,0===U.outstandingGetCount_&&(U.outstandingGets_=[]),ie.onComplete&&ie.onComplete(ge)})},T.prototype.sendListen_=function(L){var U=this,ie=L.query,ge=ie._path.toString(),Pe=ie._queryIdentifier;this.log_("Listen on "+ge+" for "+Pe);var et={p:ge};L.tag&&(et.q=ie._queryObject,et.t=L.tag),et.h=L.hashFn(),this.sendRequest("q",et,function(Mt){var Rt=Mt.d,bn=Mt.s;T.warnOnListenWarnings_(Rt,ie),(U.listens.get(ge)&&U.listens.get(ge).get(Pe))===L&&(U.log_("listen response",Mt),"ok"!==bn&&U.removeListen_(ge,Pe),L.onComplete&&L.onComplete(bn,Rt))})},T.warnOnListenWarnings_=function(L,U){if(L&&"object"==typeof L&&(0,J.r3)(L,"w")){var ie=(0,J.DV)(L,"w");if(Array.isArray(ie)&&~ie.indexOf("no_index")){var ge='".indexOn": "'+U._queryParams.getIndex().toString()+'"',Pe=U._path.toString();Pr("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+ge+" at "+Pe+" to your security rules for better performance.")}}},T.prototype.refreshAuthToken=function(L){this.authToken_=L,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(L)},T.prototype.reduceReconnectDelayIfAdminCredential_=function(L){(L&&40===L.length||(0,J.GJ)(L))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},T.prototype.refreshAppCheckToken=function(L){this.appCheckToken_=L,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},T.prototype.tryAuth=function(){var L=this;if(this.connected_&&this.authToken_){var U=this.authToken_,ie=(0,J.w9)(U)?"auth":"gauth",ge={cred:U};null===this.authOverride_?ge.noauth=!0:"object"==typeof this.authOverride_&&(ge.authvar=this.authOverride_),this.sendRequest(ie,ge,function(Pe){var et=Pe.s,lt=Pe.d||"error";L.authToken_===U&&("ok"===et?L.invalidAuthTokenCount_=0:L.onAuthRevoked_(et,lt))})}},T.prototype.tryAppCheck=function(){var L=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(U){var ie=U.s,ge=U.d||"error";"ok"===ie?L.invalidAppCheckTokenCount_=0:L.onAppCheckRevoked_(ie,ge)})},T.prototype.unlisten=function(L,U){var ie=L._path.toString(),ge=L._queryIdentifier;this.log_("Unlisten called for "+ie+" "+ge),(0,J.hu)(L._queryParams.isDefault()||!L._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(ie,ge)&&this.connected_&&this.sendUnlisten_(ie,ge,L._queryObject,U)},T.prototype.sendUnlisten_=function(L,U,ie,ge){this.log_("Unlisten on "+L+" for "+U);var Pe={p:L};ge&&(Pe.q=ie,Pe.t=ge),this.sendRequest("n",Pe)},T.prototype.onDisconnectPut=function(L,U,ie){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",L,U,ie):this.onDisconnectRequestQueue_.push({pathString:L,action:"o",data:U,onComplete:ie})},T.prototype.onDisconnectMerge=function(L,U,ie){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",L,U,ie):this.onDisconnectRequestQueue_.push({pathString:L,action:"om",data:U,onComplete:ie})},T.prototype.onDisconnectCancel=function(L,U){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",L,null,U):this.onDisconnectRequestQueue_.push({pathString:L,action:"oc",data:null,onComplete:U})},T.prototype.sendOnDisconnect_=function(L,U,ie,ge){var Pe={p:U,d:ie};this.log_("onDisconnect "+L,Pe),this.sendRequest(L,Pe,function(et){ge&&setTimeout(function(){ge(et.s,et.d)},Math.floor(0))})},T.prototype.put=function(L,U,ie,ge){this.putInternal("p",L,U,ie,ge)},T.prototype.merge=function(L,U,ie,ge){this.putInternal("m",L,U,ie,ge)},T.prototype.putInternal=function(L,U,ie,ge,Pe){this.initConnection_();var et={p:U,d:ie};void 0!==Pe&&(et.h=Pe),this.outstandingPuts_.push({action:L,request:et,onComplete:ge}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+U)},T.prototype.sendPut_=function(L){var U=this,ie=this.outstandingPuts_[L].action,ge=this.outstandingPuts_[L].request,Pe=this.outstandingPuts_[L].onComplete;this.outstandingPuts_[L].queued=this.connected_,this.sendRequest(ie,ge,function(et){U.log_(ie+" response",et),delete U.outstandingPuts_[L],U.outstandingPutCount_--,0===U.outstandingPutCount_&&(U.outstandingPuts_=[]),Pe&&Pe(et.s,et.d)})},T.prototype.reportStats=function(L){var U=this;if(this.connected_){var ie={c:L};this.log_("reportStats",ie),this.sendRequest("s",ie,function(ge){"ok"!==ge.s&&U.log_("reportStats","Error sending stats: "+ge.d)})}},T.prototype.onDataMessage_=function(L){if("r"in L){this.log_("from server: "+(0,J.Pz)(L));var U=L.r,ie=this.requestCBHash_[U];ie&&(delete this.requestCBHash_[U],ie(L.b))}else{if("error"in L)throw"A server-side error has occurred: "+L.error;"a"in L&&this.onDataPush_(L.a,L.b)}},T.prototype.onDataPush_=function(L,U){this.log_("handleServerMessage",L,U),"d"===L?this.onDataUpdate_(U.p,U.d,!1,U.t):"m"===L?this.onDataUpdate_(U.p,U.d,!0,U.t):"c"===L?this.onListenRevoked_(U.p,U.q):"ac"===L?this.onAuthRevoked_(U.s,U.d):"apc"===L?this.onAppCheckRevoked_(U.s,U.d):"sd"===L?this.onSecurityDebugPacket_(U):ks("Unrecognized action received from server: "+(0,J.Pz)(L)+"\nAre you using the latest client?")},T.prototype.onReady_=function(L,U){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(L),this.lastSessionId=U,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},T.prototype.scheduleConnect_=function(L){var U=this;(0,J.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){U.establishConnectionTimer_=null,U.establishConnection_()},Math.floor(L))},T.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},T.prototype.onVisible_=function(L){L&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=L},T.prototype.onOnline_=function(L){L?(this.log_("Browser went online."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},T.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var U=(new Date).getTime()-this.lastConnectionAttemptTime_,ie=Math.max(0,this.reconnectDelay_-U);ie=Math.random()*ie,this.log_("Trying to reconnect in "+ie+"ms"),this.scheduleConnect_(ie),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},T.prototype.establishConnection_=function(){return(0,b.mG)(this,void 0,void 0,function(){var L,U,ie,ge,Pe,et,lt,Mt,bn,Fn,ii,Mi,Ui,Qi=this;return(0,b.Jh)(this,function(Wr){switch(Wr.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,L=this.onDataMessage_.bind(this),U=this.onReady_.bind(this),ie=this.onRealtimeDisconnect_.bind(this),ge=this.id+":"+T.nextConnectionId_++,Pe=this.lastSessionId,et=!1,lt=null,this.realtime_={close:Mt=function(){lt?lt.close():(et=!0,ie())},sendRequest:function(wa){(0,J.hu)(lt,"sendRequest call when we're not connected not allowed."),lt.sendRequest(wa)}},bn=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Wr.label=1;case 1:return Wr.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(bn),this.appCheckTokenProvider_.getToken(bn)])];case 2:return Fn=b.CR.apply(void 0,[Wr.sent(),2]),ii=Fn[0],Mi=Fn[1],et?oi("getToken() completed but was canceled"):(oi("getToken() completed. Creating connection."),this.authToken_=ii&&ii.accessToken,this.appCheckToken_=Mi&&Mi.token,lt=new je(ge,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,L,U,ie,function(wa){Pr(wa+" ("+Qi.repoInfo_.toString()+")"),Qi.interrupt("server_kill")},Pe)),[3,4];case 3:return Ui=Wr.sent(),this.log_("Failed to get token: "+Ui),et||(this.repoInfo_.nodeAdmin&&Pr(Ui),Mt()),[3,4];case 4:return[2]}})})},T.prototype.interrupt=function(L){oi("Interrupting connection for reason: "+L),this.interruptReasons_[L]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},T.prototype.resume=function(L){oi("Resuming connection for reason: "+L),delete this.interruptReasons_[L],(0,J.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0))},T.prototype.handleTimestamp_=function(L){var U=L-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:U})},T.prototype.cancelSentTransactions_=function(){for(var L=0;L<this.outstandingPuts_.length;L++){var U=this.outstandingPuts_[L];U&&"h"in U.request&&U.queued&&(U.onComplete&&U.onComplete("disconnect"),delete this.outstandingPuts_[L],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},T.prototype.onListenRevoked_=function(L,U){var ie;ie=U?U.map(function(Pe){return Fi(Pe)}).join("$"):"default";var ge=this.removeListen_(L,ie);ge&&ge.onComplete&&ge.onComplete("permission_denied")},T.prototype.removeListen_=function(L,U){var ge,ie=new $e(L).toString();if(this.listens.has(ie)){var Pe=this.listens.get(ie);ge=Pe.get(U),Pe.delete(U),0===Pe.size&&this.listens.delete(ie)}else ge=void 0;return ge},T.prototype.onAuthRevoked_=function(L,U){oi("Auth token revoked: "+L+"/"+U),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===L||"permission_denied"===L)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},T.prototype.onAppCheckRevoked_=function(L,U){oi("App check token revoked: "+L+"/"+U),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===L||"permission_denied"===L)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},T.prototype.onSecurityDebugPacket_=function(L){this.securityDebugCallback_?this.securityDebugCallback_(L):"msg"in L&&console.log("FIREBASE: "+L.msg.replace("\n","\nFIREBASE: "))},T.prototype.restoreState_=function(){var L,U,ie,ge;this.tryAuth(),this.tryAppCheck();try{for(var Pe=(0,b.XA)(this.listens.values()),et=Pe.next();!et.done;et=Pe.next()){var lt=et.value;try{for(var Mt=(ie=void 0,(0,b.XA)(lt.values())),Rt=Mt.next();!Rt.done;Rt=Mt.next())this.sendListen_(Rt.value)}catch(Mi){ie={error:Mi}}finally{try{Rt&&!Rt.done&&(ge=Mt.return)&&ge.call(Mt)}finally{if(ie)throw ie.error}}}}catch(Mi){L={error:Mi}}finally{try{et&&!et.done&&(U=Pe.return)&&U.call(Pe)}finally{if(L)throw L.error}}for(var Fn=0;Fn<this.outstandingPuts_.length;Fn++)this.outstandingPuts_[Fn]&&this.sendPut_(Fn);for(;this.onDisconnectRequestQueue_.length;){var ii=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ii.action,ii.pathString,ii.data,ii.onComplete)}for(Fn=0;Fn<this.outstandingGets_.length;Fn++)this.outstandingGets_[Fn]&&this.sendGet_(Fn)},T.prototype.sendConnectStats_=function(){var L={},U="js";(0,J.Yr)()&&(U=this.repoInfo_.nodeAdmin?"admin_node":"node"),L["sdk."+U+"."+xe.replace(/\./g,"-")]=1,(0,J.uI)()?L["framework.cordova"]=1:(0,J.b$)()&&(L["framework.reactnative"]=1),this.reportStats(L)},T.prototype.shouldReconnect_=function(){var L=$.getInstance().currentlyOnline();return(0,J.xb)(this.interruptReasons_)&&L},T.nextPersistentConnectionId_=0,T.nextConnectionId_=0,T}(it),vs=function(){function S(T,L){this.name=T,this.node=L}return S.Wrap=function(T,L){return new S(T,L)},S}(),Fd=function(){function S(){}return S.prototype.getCompare=function(){return this.compare.bind(this)},S.prototype.indexedValueChanged=function(T,L){var U=new vs(un,T),ie=new vs(un,L);return 0!==this.compare(U,ie)},S.prototype.minPost=function(){return vs.MIN},S}(),Jh=function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),Object.defineProperty(T,"__EMPTY_NODE",{get:function(){return Nd},set:function(L){Nd=L},enumerable:!1,configurable:!0}),T.prototype.compare=function(L,U){return fn(L.name,U.name)},T.prototype.isDefinedOn=function(L){throw(0,J.g5)("KeyIndex.isDefinedOn not expected to be called.")},T.prototype.indexedValueChanged=function(L,U){return!1},T.prototype.minPost=function(){return vs.MIN},T.prototype.maxPost=function(){return new vs(Rn,Nd)},T.prototype.makePost=function(L,U){return(0,J.hu)("string"==typeof L,"KeyIndex indexValue must always be a string."),new vs(L,Nd)},T.prototype.toString=function(){return".key"},T}(Fd),zl=new Jh,_h=function(){function S(T,L,U,ie,ge){void 0===ge&&(ge=null),this.isReverse_=ie,this.resultGenerator_=ge,this.nodeStack_=[];for(var Pe=1;!T.isEmpty();)if(T=T,Pe=L?U(T.key,L):1,ie&&(Pe*=-1),Pe<0)T=this.isReverse_?T.left:T.right;else{if(0===Pe){this.nodeStack_.push(T);break}this.nodeStack_.push(T),T=this.isReverse_?T.right:T.left}}return S.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var L,T=this.nodeStack_.pop();if(L=this.resultGenerator_?this.resultGenerator_(T.key,T.value):{key:T.key,value:T.value},this.isReverse_)for(T=T.left;!T.isEmpty();)this.nodeStack_.push(T),T=T.right;else for(T=T.right;!T.isEmpty();)this.nodeStack_.push(T),T=T.left;return L},S.prototype.hasNext=function(){return this.nodeStack_.length>0},S.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var T=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(T.key,T.value):{key:T.key,value:T.value}},S}(),Ml=function(){function S(T,L,U,ie,ge){this.key=T,this.value=L,this.color=null!=U?U:S.RED,this.left=null!=ie?ie:qo.EMPTY_NODE,this.right=null!=ge?ge:qo.EMPTY_NODE}return S.prototype.copy=function(T,L,U,ie,ge){return new S(null!=T?T:this.key,null!=L?L:this.value,null!=U?U:this.color,null!=ie?ie:this.left,null!=ge?ge:this.right)},S.prototype.count=function(){return this.left.count()+1+this.right.count()},S.prototype.isEmpty=function(){return!1},S.prototype.inorderTraversal=function(T){return this.left.inorderTraversal(T)||!!T(this.key,this.value)||this.right.inorderTraversal(T)},S.prototype.reverseTraversal=function(T){return this.right.reverseTraversal(T)||T(this.key,this.value)||this.left.reverseTraversal(T)},S.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},S.prototype.minKey=function(){return this.min_().key},S.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},S.prototype.insert=function(T,L,U){var ie=this,ge=U(T,ie.key);return(ie=ge<0?ie.copy(null,null,null,ie.left.insert(T,L,U),null):0===ge?ie.copy(null,L,null,null,null):ie.copy(null,null,null,null,ie.right.insert(T,L,U))).fixUp_()},S.prototype.removeMin_=function(){if(this.left.isEmpty())return qo.EMPTY_NODE;var T=this;return!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),(T=T.copy(null,null,null,T.left.removeMin_(),null)).fixUp_()},S.prototype.remove=function(T,L){var U,ie;if(L(T,(U=this).key)<0)!U.left.isEmpty()&&!U.left.isRed_()&&!U.left.left.isRed_()&&(U=U.moveRedLeft_()),U=U.copy(null,null,null,U.left.remove(T,L),null);else{if(U.left.isRed_()&&(U=U.rotateRight_()),!U.right.isEmpty()&&!U.right.isRed_()&&!U.right.left.isRed_()&&(U=U.moveRedRight_()),0===L(T,U.key)){if(U.right.isEmpty())return qo.EMPTY_NODE;ie=U.right.min_(),U=U.copy(ie.key,ie.value,null,null,U.right.removeMin_())}U=U.copy(null,null,null,null,U.right.remove(T,L))}return U.fixUp_()},S.prototype.isRed_=function(){return this.color},S.prototype.fixUp_=function(){var T=this;return T.right.isRed_()&&!T.left.isRed_()&&(T=T.rotateLeft_()),T.left.isRed_()&&T.left.left.isRed_()&&(T=T.rotateRight_()),T.left.isRed_()&&T.right.isRed_()&&(T=T.colorFlip_()),T},S.prototype.moveRedLeft_=function(){var T=this.colorFlip_();return T.right.left.isRed_()&&(T=(T=(T=T.copy(null,null,null,null,T.right.rotateRight_())).rotateLeft_()).colorFlip_()),T},S.prototype.moveRedRight_=function(){var T=this.colorFlip_();return T.left.left.isRed_()&&(T=(T=T.rotateRight_()).colorFlip_()),T},S.prototype.rotateLeft_=function(){var T=this.copy(null,null,S.RED,null,this.right.left);return this.right.copy(null,null,this.color,T,null)},S.prototype.rotateRight_=function(){var T=this.copy(null,null,S.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,T)},S.prototype.colorFlip_=function(){var T=this.left.copy(null,null,!this.left.color,null,null),L=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,T,L)},S.prototype.checkMaxDepth_=function(){var T=this.check_();return Math.pow(2,T)<=this.count()+1},S.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var T=this.left.check_();if(T!==this.right.check_())throw new Error("Black depths differ");return T+(this.isRed_()?0:1)},S.RED=!0,S.BLACK=!1,S}(),Kh=function(){function S(){}return S.prototype.copy=function(T,L,U,ie,ge){return this},S.prototype.insert=function(T,L,U){return new Ml(T,L,null)},S.prototype.remove=function(T,L){return this},S.prototype.count=function(){return 0},S.prototype.isEmpty=function(){return!0},S.prototype.inorderTraversal=function(T){return!1},S.prototype.reverseTraversal=function(T){return!1},S.prototype.minKey=function(){return null},S.prototype.maxKey=function(){return null},S.prototype.check_=function(){return 0},S.prototype.isRed_=function(){return!1},S}(),qo=function(){function S(T,L){void 0===L&&(L=S.EMPTY_NODE),this.comparator_=T,this.root_=L}return S.prototype.insert=function(T,L){return new S(this.comparator_,this.root_.insert(T,L,this.comparator_).copy(null,null,Ml.BLACK,null,null))},S.prototype.remove=function(T){return new S(this.comparator_,this.root_.remove(T,this.comparator_).copy(null,null,Ml.BLACK,null,null))},S.prototype.get=function(T){for(var L,U=this.root_;!U.isEmpty();){if(0===(L=this.comparator_(T,U.key)))return U.value;L<0?U=U.left:L>0&&(U=U.right)}return null},S.prototype.getPredecessorKey=function(T){for(var L,U=this.root_,ie=null;!U.isEmpty();){if(0===(L=this.comparator_(T,U.key))){if(U.left.isEmpty())return ie?ie.key:null;for(U=U.left;!U.right.isEmpty();)U=U.right;return U.key}L<0?U=U.left:L>0&&(ie=U,U=U.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},S.prototype.isEmpty=function(){return this.root_.isEmpty()},S.prototype.count=function(){return this.root_.count()},S.prototype.minKey=function(){return this.root_.minKey()},S.prototype.maxKey=function(){return this.root_.maxKey()},S.prototype.inorderTraversal=function(T){return this.root_.inorderTraversal(T)},S.prototype.reverseTraversal=function(T){return this.root_.reverseTraversal(T)},S.prototype.getIterator=function(T){return new _h(this.root_,null,this.comparator_,!1,T)},S.prototype.getIteratorFrom=function(T,L){return new _h(this.root_,T,this.comparator_,!1,L)},S.prototype.getReverseIteratorFrom=function(T,L){return new _h(this.root_,T,this.comparator_,!0,L)},S.prototype.getReverseIterator=function(T){return new _h(this.root_,null,this.comparator_,!0,T)},S.EMPTY_NODE=new Kh,S}();function ep(S,T){return fn(S.name,T.name)}function bs(S,T){return fn(S,T)}var cd,Yd,ud,dd,Tl,Yl=function(S){return"number"==typeof S?"number:"+mi(S):"string:"+S},zd=function(S){if(S.isLeafNode()){var T=S.val();(0,J.hu)("string"==typeof T||"number"==typeof T||"object"==typeof T&&(0,J.r3)(T,".sv"),"Priority must be a string or number.")}else(0,J.hu)(S===Ps||S.isEmpty(),"priority of unexpected type.");(0,J.hu)(S===Ps||S.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kr=function(){function S(T,L){void 0===L&&(L=S.__childrenNodeConstructor.EMPTY_NODE),this.value_=T,this.priorityNode_=L,this.lazyHash_=null,(0,J.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zd(this.priorityNode_)}return Object.defineProperty(S,"__childrenNodeConstructor",{get:function(){return cd},set:function(T){cd=T},enumerable:!1,configurable:!0}),S.prototype.isLeafNode=function(){return!0},S.prototype.getPriority=function(){return this.priorityNode_},S.prototype.updatePriority=function(T){return new S(this.value_,T)},S.prototype.getImmediateChild=function(T){return".priority"===T?this.priorityNode_:S.__childrenNodeConstructor.EMPTY_NODE},S.prototype.getChild=function(T){return Oi(T)?this:".priority"===sn(T)?this.priorityNode_:S.__childrenNodeConstructor.EMPTY_NODE},S.prototype.hasChild=function(){return!1},S.prototype.getPredecessorChildName=function(T,L){return null},S.prototype.updateImmediateChild=function(T,L){return".priority"===T?this.updatePriority(L):L.isEmpty()&&".priority"!==T?this:S.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(T,L).updatePriority(this.priorityNode_)},S.prototype.updateChild=function(T,L){var U=sn(T);return null===U?L:L.isEmpty()&&".priority"!==U?this:((0,J.hu)(".priority"!==U||1===Gt(T),".priority must be the last token in a path"),this.updateImmediateChild(U,S.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(T),L)))},S.prototype.isEmpty=function(){return!1},S.prototype.numChildren=function(){return 0},S.prototype.forEachChild=function(T,L){return!1},S.prototype.val=function(T){return T&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},S.prototype.hash=function(){if(null===this.lazyHash_){var T="";this.priorityNode_.isEmpty()||(T+="priority:"+Yl(this.priorityNode_.val())+":");var L=typeof this.value_;T+=L+":",T+="number"===L?mi(this.value_):this.value_,this.lazyHash_=ei(T)}return this.lazyHash_},S.prototype.getValue=function(){return this.value_},S.prototype.compareTo=function(T){return T===S.__childrenNodeConstructor.EMPTY_NODE?1:T instanceof S.__childrenNodeConstructor?-1:((0,J.hu)(T.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(T))},S.prototype.compareToLeafNode_=function(T){var L=typeof T.value_,U=typeof this.value_,ie=S.VALUE_TYPE_ORDER.indexOf(L),ge=S.VALUE_TYPE_ORDER.indexOf(U);return(0,J.hu)(ie>=0,"Unknown leaf type: "+L),(0,J.hu)(ge>=0,"Unknown leaf type: "+U),ie===ge?"object"===U?0:this.value_<T.value_?-1:this.value_===T.value_?0:1:ge-ie},S.prototype.withIndex=function(){return this},S.prototype.isIndexed=function(){return!0},S.prototype.equals=function(T){return T===this||!!T.isLeafNode()&&(this.value_===T.value_&&this.priorityNode_.equals(T.priorityNode_))},S.VALUE_TYPE_ORDER=["object","boolean","number","string"],S}(),di=new(function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),T.prototype.compare=function(L,U){var ie=L.node.getPriority(),ge=U.node.getPriority(),Pe=ie.compareTo(ge);return 0===Pe?fn(L.name,U.name):Pe},T.prototype.isDefinedOn=function(L){return!L.getPriority().isEmpty()},T.prototype.indexedValueChanged=function(L,U){return!L.getPriority().equals(U.getPriority())},T.prototype.minPost=function(){return vs.MIN},T.prototype.maxPost=function(){return new vs(Rn,new kr("[PRIORITY-POST]",ud))},T.prototype.makePost=function(L,U){var ie=Yd(L);return new vs(U,new kr("[PRIORITY-POST]",ie))},T.prototype.toString=function(){return".priority"},T}(Fd)),xc=Math.log(2),Bl=function(){function S(T){this.count=parseInt(Math.log(T+1)/xc,10),this.current_=this.count-1;var ie=parseInt(Array(this.count+1).join("1"),2);this.bits_=T+1&ie}return S.prototype.nextBitIsOne=function(){var T=!(this.bits_&1<<this.current_);return this.current_--,T},S}(),za=function(S,T,L,U){S.sort(T);var ie=function(lt,Mt){var bn,Fn,Rt=Mt-lt;if(0===Rt)return null;if(1===Rt)return bn=S[lt],Fn=L?L(bn):bn,new Ml(Fn,bn.node,Ml.BLACK,null,null);var ii=parseInt(Rt/2,10)+lt,Mi=ie(lt,ii),Ui=ie(ii+1,Mt);return bn=S[ii],Fn=L?L(bn):bn,new Ml(Fn,bn.node,Ml.BLACK,Mi,Ui)},et=function(lt){for(var Mt=null,Rt=null,bn=S.length,Fn=function(Wr,wa){var Ac=bn-Wr,Vp=bn;bn-=Wr;var Hm=ie(Ac+1,Vp),Uo=S[Ac],Wc=L?L(Uo):Uo;ii(new Ml(Wc,Uo.node,wa,null,Hm))},ii=function(Wr){Mt?(Mt.left=Wr,Mt=Wr):(Rt=Wr,Mt=Wr)},Mi=0;Mi<lt.count;++Mi){var Ui=lt.nextBitIsOne(),Qi=Math.pow(2,lt.count-(Mi+1));Ui?Fn(Qi,Ml.BLACK):(Fn(Qi,Ml.BLACK),Fn(Qi,Ml.RED))}return Rt}(new Bl(S.length));return new qo(U||T,et)},wc={},Rs=function(){function S(T,L){this.indexes_=T,this.indexSet_=L}return Object.defineProperty(S,"Default",{get:function(){return(0,J.hu)(wc&&di,"ChildrenNode.ts has not been loaded"),dd=dd||new S({".priority":wc},{".priority":di})},enumerable:!1,configurable:!0}),S.prototype.get=function(T){var L=(0,J.DV)(this.indexes_,T);if(!L)throw new Error("No index defined for "+T);return L instanceof qo?L:null},S.prototype.hasIndex=function(T){return(0,J.r3)(this.indexSet_,T.toString())},S.prototype.addIndex=function(T,L){(0,J.hu)(T!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var U=[],ie=!1,ge=L.getIterator(vs.Wrap),Pe=ge.getNext();Pe;)ie=ie||T.isDefinedOn(Pe.node),U.push(Pe),Pe=ge.getNext();var et;et=ie?za(U,T.getCompare()):wc;var lt=T.toString(),Mt=(0,b.pi)({},this.indexSet_);Mt[lt]=T;var Rt=(0,b.pi)({},this.indexes_);return Rt[lt]=et,new S(Rt,Mt)},S.prototype.addToIndexes=function(T,L){var U=this;return new S((0,J.UI)(this.indexes_,function(ge,Pe){var et=(0,J.DV)(U.indexSet_,Pe);if((0,J.hu)(et,"Missing index implementation for "+Pe),ge===wc){if(et.isDefinedOn(T.node)){for(var lt=[],Mt=L.getIterator(vs.Wrap),Rt=Mt.getNext();Rt;)Rt.name!==T.name&&lt.push(Rt),Rt=Mt.getNext();return lt.push(T),za(lt,et.getCompare())}return wc}var bn=L.get(T.name),Fn=ge;return bn&&(Fn=Fn.remove(new vs(T.name,bn))),Fn.insert(T,T.node)}),this.indexSet_)},S.prototype.removeFromIndexes=function(T,L){return new S((0,J.UI)(this.indexes_,function(ie){if(ie===wc)return ie;var ge=L.get(T.name);return ge?ie.remove(new vs(T.name,ge)):ie}),this.indexSet_)},S}(),er=function(){function S(T,L,U){this.children_=T,this.priorityNode_=L,this.indexMap_=U,this.lazyHash_=null,this.priorityNode_&&zd(this.priorityNode_),this.children_.isEmpty()&&(0,J.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(S,"EMPTY_NODE",{get:function(){return Tl||(Tl=new S(new qo(bs),null,Rs.Default))},enumerable:!1,configurable:!0}),S.prototype.isLeafNode=function(){return!1},S.prototype.getPriority=function(){return this.priorityNode_||Tl},S.prototype.updatePriority=function(T){return this.children_.isEmpty()?this:new S(this.children_,T,this.indexMap_)},S.prototype.getImmediateChild=function(T){if(".priority"===T)return this.getPriority();var L=this.children_.get(T);return null===L?Tl:L},S.prototype.getChild=function(T){var L=sn(T);return null===L?this:this.getImmediateChild(L).getChild(dn(T))},S.prototype.hasChild=function(T){return null!==this.children_.get(T)},S.prototype.updateImmediateChild=function(T,L){if((0,J.hu)(L,"We should always be passing snapshot nodes"),".priority"===T)return this.updatePriority(L);var U=new vs(T,L),ie=void 0,ge=void 0;L.isEmpty()?(ie=this.children_.remove(T),ge=this.indexMap_.removeFromIndexes(U,this.children_)):(ie=this.children_.insert(T,L),ge=this.indexMap_.addToIndexes(U,this.children_));var Pe=ie.isEmpty()?Tl:this.priorityNode_;return new S(ie,Pe,ge)},S.prototype.updateChild=function(T,L){var U=sn(T);if(null===U)return L;(0,J.hu)(".priority"!==sn(T)||1===Gt(T),".priority must be the last token in a path");var ie=this.getImmediateChild(U).updateChild(dn(T),L);return this.updateImmediateChild(U,ie)},S.prototype.isEmpty=function(){return this.children_.isEmpty()},S.prototype.numChildren=function(){return this.children_.count()},S.prototype.val=function(T){if(this.isEmpty())return null;var L={},U=0,ie=0,ge=!0;if(this.forEachChild(di,function(lt,Mt){L[lt]=Mt.val(T),U++,ge&&S.INTEGER_REGEXP_.test(lt)?ie=Math.max(ie,Number(lt)):ge=!1}),!T&&ge&&ie<2*U){var Pe=[];for(var et in L)Pe[et]=L[et];return Pe}return T&&!this.getPriority().isEmpty()&&(L[".priority"]=this.getPriority().val()),L},S.prototype.hash=function(){if(null===this.lazyHash_){var T="";this.getPriority().isEmpty()||(T+="priority:"+Yl(this.getPriority().val())+":"),this.forEachChild(di,function(L,U){var ie=U.hash();""!==ie&&(T+=":"+L+":"+ie)}),this.lazyHash_=""===T?"":ei(T)}return this.lazyHash_},S.prototype.getPredecessorChildName=function(T,L,U){var ie=this.resolveIndex_(U);if(ie){var ge=ie.getPredecessorKey(new vs(T,L));return ge?ge.name:null}return this.children_.getPredecessorKey(T)},S.prototype.getFirstChildName=function(T){var L=this.resolveIndex_(T);if(L){var U=L.minKey();return U&&U.name}return this.children_.minKey()},S.prototype.getFirstChild=function(T){var L=this.getFirstChildName(T);return L?new vs(L,this.children_.get(L)):null},S.prototype.getLastChildName=function(T){var L=this.resolveIndex_(T);if(L){var U=L.maxKey();return U&&U.name}return this.children_.maxKey()},S.prototype.getLastChild=function(T){var L=this.getLastChildName(T);return L?new vs(L,this.children_.get(L)):null},S.prototype.forEachChild=function(T,L){var U=this.resolveIndex_(T);return U?U.inorderTraversal(function(ie){return L(ie.name,ie.node)}):this.children_.inorderTraversal(L)},S.prototype.getIterator=function(T){return this.getIteratorFrom(T.minPost(),T)},S.prototype.getIteratorFrom=function(T,L){var U=this.resolveIndex_(L);if(U)return U.getIteratorFrom(T,function(Pe){return Pe});for(var ie=this.children_.getIteratorFrom(T.name,vs.Wrap),ge=ie.peek();null!=ge&&L.compare(ge,T)<0;)ie.getNext(),ge=ie.peek();return ie},S.prototype.getReverseIterator=function(T){return this.getReverseIteratorFrom(T.maxPost(),T)},S.prototype.getReverseIteratorFrom=function(T,L){var U=this.resolveIndex_(L);if(U)return U.getReverseIteratorFrom(T,function(Pe){return Pe});for(var ie=this.children_.getReverseIteratorFrom(T.name,vs.Wrap),ge=ie.peek();null!=ge&&L.compare(ge,T)>0;)ie.getNext(),ge=ie.peek();return ie},S.prototype.compareTo=function(T){return this.isEmpty()?T.isEmpty()?0:-1:T.isLeafNode()||T.isEmpty()?1:T===cr?-1:0},S.prototype.withIndex=function(T){if(T===zl||this.indexMap_.hasIndex(T))return this;var L=this.indexMap_.addIndex(T,this.children_);return new S(this.children_,this.priorityNode_,L)},S.prototype.isIndexed=function(T){return T===zl||this.indexMap_.hasIndex(T)},S.prototype.equals=function(T){if(T===this)return!0;if(T.isLeafNode())return!1;var L=T;if(this.getPriority().equals(L.getPriority())){if(this.children_.count()===L.children_.count()){for(var U=this.getIterator(di),ie=L.getIterator(di),ge=U.getNext(),Pe=ie.getNext();ge&&Pe;){if(ge.name!==Pe.name||!ge.node.equals(Pe.node))return!1;ge=U.getNext(),Pe=ie.getNext()}return null===ge&&null===Pe}return!1}return!1},S.prototype.resolveIndex_=function(T){return T===zl?null:this.indexMap_.get(T.toString())},S.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,S}(),cr=new(function(S){function T(){return S.call(this,new qo(bs),er.EMPTY_NODE,Rs.Default)||this}return(0,b.ZT)(T,S),T.prototype.compareTo=function(L){return L===this?0:1},T.prototype.equals=function(L){return L===this},T.prototype.getPriority=function(){return this},T.prototype.getImmediateChild=function(L){return er.EMPTY_NODE},T.prototype.isEmpty=function(){return!1},T}(er));function Kr(S,T){if(void 0===T&&(T=null),null===S)return er.EMPTY_NODE;if("object"==typeof S&&".priority"in S&&(T=S[".priority"]),(0,J.hu)(null===T||"string"==typeof T||"number"==typeof T||"object"==typeof T&&".sv"in T,"Invalid priority type found: "+typeof T),"object"==typeof S&&".value"in S&&null!==S[".value"]&&(S=S[".value"]),"object"!=typeof S||".sv"in S)return new kr(S,Kr(T));if(S instanceof Array){var lt=er.EMPTY_NODE;return bi(S,function(Mt,Rt){if((0,J.r3)(S,Mt)&&"."!==Mt.substring(0,1)){var bn=Kr(Rt);(bn.isLeafNode()||!bn.isEmpty())&&(lt=lt.updateImmediateChild(Mt,bn))}}),lt.updatePriority(Kr(T))}var U=[],ie=!1;if(bi(S,function(Mt,Rt){if("."!==Mt.substring(0,1)){var bn=Kr(Rt);bn.isEmpty()||(ie=ie||!bn.getPriority().isEmpty(),U.push(new vs(Mt,bn)))}}),0===U.length)return er.EMPTY_NODE;var Pe=za(U,ep,function(Mt){return Mt.name},bs);if(ie){var et=za(U,di.getCompare());return new er(Pe,Kr(T),new Rs({".priority":et},{".priority":di}))}return new er(Pe,Kr(T),Rs.Default)}Object.defineProperties(vs,{MIN:{value:new vs(un,er.EMPTY_NODE)},MAX:{value:new vs(Rn,cr)}}),Jh.__EMPTY_NODE=er.EMPTY_NODE,kr.__childrenNodeConstructor=er,function(S){Ps=S}(cr),function(S){ud=S}(cr),function(S){Yd=S}(Kr);var Au=function(S){function T(L){var U=S.call(this)||this;return U.indexPath_=L,(0,J.hu)(!Oi(L)&&".priority"!==sn(L),"Can't create PathIndex with empty path or .priority key"),U}return(0,b.ZT)(T,S),T.prototype.extractChild=function(L){return L.getChild(this.indexPath_)},T.prototype.isDefinedOn=function(L){return!L.getChild(this.indexPath_).isEmpty()},T.prototype.compare=function(L,U){var ie=this.extractChild(L.node),ge=this.extractChild(U.node),Pe=ie.compareTo(ge);return 0===Pe?fn(L.name,U.name):Pe},T.prototype.makePost=function(L,U){var ie=Kr(L),ge=er.EMPTY_NODE.updateChild(this.indexPath_,ie);return new vs(U,ge)},T.prototype.maxPost=function(){var L=er.EMPTY_NODE.updateChild(this.indexPath_,cr);return new vs(Rn,L)},T.prototype.toString=function(){return wi(this.indexPath_,0).join("/")},T}(Fd),Vl=new(function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),T.prototype.compare=function(L,U){var ie=L.node.compareTo(U.node);return 0===ie?fn(L.name,U.name):ie},T.prototype.isDefinedOn=function(L){return!0},T.prototype.indexedValueChanged=function(L,U){return!L.equals(U)},T.prototype.minPost=function(){return vs.MIN},T.prototype.maxPost=function(){return vs.MAX},T.prototype.makePost=function(L,U){var ie=Kr(L);return new vs(U,ie)},T.prototype.toString=function(){return".value"},T}(Fd)),ya="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bd=function(){var S=0,T=[];return function(L){var U=L===S;S=L;var ie,ge=new Array(8);for(ie=7;ie>=0;ie--)ge[ie]=ya.charAt(L%64),L=Math.floor(L/64);(0,J.hu)(0===L,"Cannot push at time == 0");var Pe=ge.join("");if(U){for(ie=11;ie>=0&&63===T[ie];ie--)T[ie]=0;T[ie]++}else for(ie=0;ie<12;ie++)T[ie]=Math.floor(64*Math.random());for(ie=0;ie<12;ie++)Pe+=ya.charAt(T[ie]);return(0,J.hu)(20===Pe.length,"nextPushId: Length should be 20."),Pe}}(),tu=function(S){if(S===""+Qr)return"-";var T=Vs(S);if(null!=T)return""+(T+1);for(var L=new Array(S.length),U=0;U<L.length;U++)L[U]=S.charAt(U);if(L.length<786)return L.push("-"),L.join("");for(var ie=L.length-1;ie>=0&&"z"===L[ie];)ie--;if(-1===ie)return Rn;var Pe=ya.charAt(ya.indexOf(L[ie])+1);return L[ie]=Pe,L.slice(0,ie+1).join("")},kl=function(S){if(S===""+uo)return un;var T=Vs(S);if(null!=T)return""+(T-1);for(var L=new Array(S.length),U=0;U<L.length;U++)L[U]=S.charAt(U);return"-"===L[L.length-1]?1===L.length?""+Qr:(delete L[L.length-1],L.join("")):(L[L.length-1]=ya.charAt(ya.indexOf(L[L.length-1])-1),L.join("")+"z".repeat(786-L.length))};function yh(S){return{type:"value",snapshotNode:S}}function Kl(S,T){return{type:"child_added",snapshotNode:T,childName:S}}function Ji(S,T){return{type:"child_removed",snapshotNode:T,childName:S}}function Iu(S,T,L){return{type:"child_changed",snapshotNode:T,childName:S,oldSnap:L}}var ec=function(){function S(T){this.index_=T}return S.prototype.updateChild=function(T,L,U,ie,ge,Pe){(0,J.hu)(T.isIndexed(this.index_),"A node must be indexed if only a child is updated");var et=T.getImmediateChild(L);return et.getChild(ie).equals(U.getChild(ie))&&et.isEmpty()===U.isEmpty()||(null!=Pe&&(U.isEmpty()?T.hasChild(L)?Pe.trackChildChange(Ji(L,et)):(0,J.hu)(T.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):et.isEmpty()?Pe.trackChildChange(Kl(L,U)):Pe.trackChildChange(Iu(L,U,et))),T.isLeafNode()&&U.isEmpty())?T:T.updateImmediateChild(L,U).withIndex(this.index_)},S.prototype.updateFullNode=function(T,L,U){return null!=U&&(T.isLeafNode()||T.forEachChild(di,function(ie,ge){L.hasChild(ie)||U.trackChildChange(Ji(ie,ge))}),L.isLeafNode()||L.forEachChild(di,function(ie,ge){if(T.hasChild(ie)){var Pe=T.getImmediateChild(ie);Pe.equals(ge)||U.trackChildChange(Iu(ie,ge,Pe))}else U.trackChildChange(Kl(ie,ge))})),L.withIndex(this.index_)},S.prototype.updatePriority=function(T,L){return T.isEmpty()?er.EMPTY_NODE:T.updatePriority(L)},S.prototype.filtersNodes=function(){return!1},S.prototype.getIndexedFilter=function(){return this},S.prototype.getIndex=function(){return this.index_},S}(),nu=function(){function S(T){this.indexedFilter_=new ec(T.getIndex()),this.index_=T.getIndex(),this.startPost_=S.getStartPost_(T),this.endPost_=S.getEndPost_(T)}return S.prototype.getStartPost=function(){return this.startPost_},S.prototype.getEndPost=function(){return this.endPost_},S.prototype.matches=function(T){return this.index_.compare(this.getStartPost(),T)<=0&&this.index_.compare(T,this.getEndPost())<=0},S.prototype.updateChild=function(T,L,U,ie,ge,Pe){return this.matches(new vs(L,U))||(U=er.EMPTY_NODE),this.indexedFilter_.updateChild(T,L,U,ie,ge,Pe)},S.prototype.updateFullNode=function(T,L,U){L.isLeafNode()&&(L=er.EMPTY_NODE);var ie=L.withIndex(this.index_);ie=ie.updatePriority(er.EMPTY_NODE);var ge=this;return L.forEachChild(di,function(Pe,et){ge.matches(new vs(Pe,et))||(ie=ie.updateImmediateChild(Pe,er.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(T,ie,U)},S.prototype.updatePriority=function(T,L){return T},S.prototype.filtersNodes=function(){return!0},S.prototype.getIndexedFilter=function(){return this.indexedFilter_},S.prototype.getIndex=function(){return this.index_},S.getStartPost_=function(T){if(T.hasStart()){var L=T.getIndexStartName();return T.getIndex().makePost(T.getIndexStartValue(),L)}return T.getIndex().minPost()},S.getEndPost_=function(T){if(T.hasEnd()){var L=T.getIndexEndName();return T.getIndex().makePost(T.getIndexEndValue(),L)}return T.getIndex().maxPost()},S}(),Ip=function(){function S(T){this.rangedFilter_=new nu(T),this.index_=T.getIndex(),this.limit_=T.getLimit(),this.reverse_=!T.isViewFromLeft()}return S.prototype.updateChild=function(T,L,U,ie,ge,Pe){return this.rangedFilter_.matches(new vs(L,U))||(U=er.EMPTY_NODE),T.getImmediateChild(L).equals(U)?T:T.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(T,L,U,ie,ge,Pe):this.fullLimitUpdateChild_(T,L,U,ge,Pe)},S.prototype.updateFullNode=function(T,L,U){var ie;if(L.isLeafNode()||L.isEmpty())ie=er.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<L.numChildren()&&L.isIndexed(this.index_)){ie=er.EMPTY_NODE.withIndex(this.index_);var ge=void 0;ge=this.reverse_?L.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):L.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Pe=0;ge.hasNext()&&Pe<this.limit_;){var et=ge.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),et)<=0:this.index_.compare(et,this.rangedFilter_.getEndPost())<=0))break;ie=ie.updateImmediateChild(et.name,et.node),Pe++}}else{ie=(ie=L.withIndex(this.index_)).updatePriority(er.EMPTY_NODE);var Mt=void 0,Rt=void 0,bn=void 0;if(ge=void 0,this.reverse_){ge=ie.getReverseIterator(this.index_),Mt=this.rangedFilter_.getEndPost(),Rt=this.rangedFilter_.getStartPost();var Fn=this.index_.getCompare();bn=function(Qi,Wr){return Fn(Wr,Qi)}}else ge=ie.getIterator(this.index_),Mt=this.rangedFilter_.getStartPost(),Rt=this.rangedFilter_.getEndPost(),bn=this.index_.getCompare();Pe=0;for(var ii=!1;ge.hasNext();)et=ge.getNext(),!ii&&bn(Mt,et)<=0&&(ii=!0),ii&&Pe<this.limit_&&bn(et,Rt)<=0?Pe++:ie=ie.updateImmediateChild(et.name,er.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(T,ie,U)},S.prototype.updatePriority=function(T,L){return T},S.prototype.filtersNodes=function(){return!0},S.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},S.prototype.getIndex=function(){return this.index_},S.prototype.fullLimitUpdateChild_=function(T,L,U,ie,ge){var Pe;if(this.reverse_){var et=this.index_.getCompare();Pe=function(wa,Ac){return et(Ac,wa)}}else Pe=this.index_.getCompare();var lt=T;(0,J.hu)(lt.numChildren()===this.limit_,"");var Mt=new vs(L,U),Rt=this.reverse_?lt.getFirstChild(this.index_):lt.getLastChild(this.index_),bn=this.rangedFilter_.matches(Mt);if(lt.hasChild(L)){for(var Fn=lt.getImmediateChild(L),ii=ie.getChildAfterChild(this.index_,Rt,this.reverse_);null!=ii&&(ii.name===L||lt.hasChild(ii.name));)ii=ie.getChildAfterChild(this.index_,ii,this.reverse_);var Mi=null==ii?1:Pe(ii,Mt);if(bn&&!U.isEmpty()&&Mi>=0)return null!=ge&&ge.trackChildChange(Iu(L,U,Fn)),lt.updateImmediateChild(L,U);null!=ge&&ge.trackChildChange(Ji(L,Fn));var Qi=lt.updateImmediateChild(L,er.EMPTY_NODE);return null!=ii&&this.rangedFilter_.matches(ii)?(null!=ge&&ge.trackChildChange(Kl(ii.name,ii.node)),Qi.updateImmediateChild(ii.name,ii.node)):Qi}return U.isEmpty()?T:bn&&Pe(Rt,Mt)>=0?(null!=ge&&(ge.trackChildChange(Ji(Rt.name,Rt.node)),ge.trackChildChange(Kl(L,U))),lt.updateImmediateChild(L,U).updateImmediateChild(Rt.name,er.EMPTY_NODE)):T},S}(),Bc=function(){function S(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}return S.prototype.hasStart=function(){return this.startSet_},S.prototype.hasStartAfter=function(){return this.startAfterSet_},S.prototype.hasEndBefore=function(){return this.endBeforeSet_},S.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},S.prototype.getIndexStartValue=function(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},S.prototype.getIndexStartName=function(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:un},S.prototype.hasEnd=function(){return this.endSet_},S.prototype.getIndexEndValue=function(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},S.prototype.getIndexEndName=function(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rn},S.prototype.hasLimit=function(){return this.limitSet_},S.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},S.prototype.getLimit=function(){return(0,J.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},S.prototype.getIndex=function(){return this.index_},S.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},S.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===di},S.prototype.copy=function(){var T=new S;return T.limitSet_=this.limitSet_,T.limit_=this.limit_,T.startSet_=this.startSet_,T.indexStartValue_=this.indexStartValue_,T.startNameSet_=this.startNameSet_,T.indexStartName_=this.indexStartName_,T.endSet_=this.endSet_,T.indexEndValue_=this.indexEndValue_,T.endNameSet_=this.endNameSet_,T.indexEndName_=this.indexEndName_,T.index_=this.index_,T.viewFrom_=this.viewFrom_,T},S}();function vh(S,T,L){var U=S.copy();return U.startSet_=!0,void 0===T&&(T=null),U.indexStartValue_=T,null!=L?(U.startNameSet_=!0,U.indexStartName_=L):(U.startNameSet_=!1,U.indexStartName_=""),U}function pd(S,T,L){var U=S.copy();return U.endSet_=!0,void 0===T&&(T=null),U.indexEndValue_=T,void 0!==L?(U.endNameSet_=!0,U.indexEndName_=L):(U.endNameSet_=!1,U.indexEndName_=""),U}function va(S,T){var L=S.copy();return L.index_=T,L}function _o(S){var L,T={};return S.isDefault()||(S.index_===di?L="$priority":S.index_===Vl?L="$value":S.index_===zl?L="$key":((0,J.hu)(S.index_ instanceof Au,"Unrecognized index type!"),L=S.index_.toString()),T.orderBy=(0,J.Pz)(L),S.startSet_&&(T.startAt=(0,J.Pz)(S.indexStartValue_),S.startNameSet_&&(T.startAt+=","+(0,J.Pz)(S.indexStartName_))),S.endSet_&&(T.endAt=(0,J.Pz)(S.indexEndValue_),S.endNameSet_&&(T.endAt+=","+(0,J.Pz)(S.indexEndName_))),S.limitSet_&&(S.isViewFromLeft()?T.limitToFirst=S.limit_:T.limitToLast=S.limit_)),T}function Os(S){var T={};if(S.startSet_&&(T.sp=S.indexStartValue_,S.startNameSet_&&(T.sn=S.indexStartName_)),S.endSet_&&(T.ep=S.indexEndValue_,S.endNameSet_&&(T.en=S.indexEndName_)),S.limitSet_){T.l=S.limit_;var L=S.viewFrom_;""===L&&(L=S.isViewFromLeft()?"l":"r"),T.vf=L}return S.index_!==di&&(T.i=S.index_.toString()),T}var bh=function(S){function T(L,U,ie,ge){var Pe=S.call(this)||this;return Pe.repoInfo_=L,Pe.onDataUpdate_=U,Pe.authTokenProvider_=ie,Pe.appCheckTokenProvider_=ge,Pe.log_=Li("p:rest:"),Pe.listens_={},Pe}return(0,b.ZT)(T,S),T.prototype.reportStats=function(L){throw new Error("Method not implemented.")},T.getListenId_=function(L,U){return void 0!==U?"tag$"+U:((0,J.hu)(L._queryParams.isDefault(),"should have a tag if it's not a default query."),L._path.toString())},T.prototype.listen=function(L,U,ie,ge){var Pe=this,et=L._path.toString();this.log_("Listen called for "+et+" "+L._queryIdentifier);var lt=T.getListenId_(L,ie),Mt={};this.listens_[lt]=Mt;var Rt=_o(L._queryParams);this.restRequest_(et+".json",Rt,function(bn,Fn){var ii=Fn;404===bn&&(ii=null,bn=null),null===bn&&Pe.onDataUpdate_(et,ii,!1,ie),(0,J.DV)(Pe.listens_,lt)===Mt&&ge(bn?401===bn?"permission_denied":"rest_error:"+bn:"ok",null)})},T.prototype.unlisten=function(L,U){var ie=T.getListenId_(L,U);delete this.listens_[ie]},T.prototype.get=function(L){var U=this,ie=_o(L._queryParams),ge=L._path.toString(),Pe=new J.BH;return this.restRequest_(ge+".json",ie,function(et,lt){var Mt=lt;404===et&&(Mt=null,et=null),null===et?(U.onDataUpdate_(ge,Mt,!1,null),Pe.resolve(Mt)):Pe.reject(new Error(Mt))}),Pe.promise},T.prototype.refreshAuthToken=function(L){},T.prototype.restRequest_=function(L,U,ie){var ge=this;return void 0===U&&(U={}),U.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(Pe){var et=(0,b.CR)(Pe,2),lt=et[0],Mt=et[1];lt&&lt.accessToken&&(U.auth=lt.accessToken),Mt&&Mt.token&&(U.ac=Mt.token);var Rt=(ge.repoInfo_.secure?"https://":"http://")+ge.repoInfo_.host+L+"?ns="+ge.repoInfo_.namespace+(0,J.xO)(U);ge.log_("Sending REST request for "+Rt);var bn=new XMLHttpRequest;bn.onreadystatechange=function(){if(ie&&4===bn.readyState){ge.log_("REST Response for "+Rt+" received. status:",bn.status,"response:",bn.responseText);var Fn=null;if(bn.status>=200&&bn.status<300){try{Fn=(0,J.cI)(bn.responseText)}catch(ii){Pr("Failed to parse JSON response for "+Rt+": "+bn.responseText)}ie(null,Fn)}else 401!==bn.status&&404!==bn.status&&Pr("Got unsuccessful REST response for "+Rt+" Status: "+bn.status),ie(bn.status);ie=null}},bn.open("GET",Rt,!0),bn.send()})},T}(it),rp=function(){function S(){this.rootNode_=er.EMPTY_NODE}return S.prototype.getNode=function(T){return this.rootNode_.getChild(T)},S.prototype.updateSnapshot=function(T,L){this.rootNode_=this.rootNode_.updateChild(T,L)},S}();function $a(){return{value:null,children:new Map}}function Cc(S,T,L){if(Oi(T))S.value=L,S.children.clear();else if(null!==S.value)S.value=S.value.updateChild(T,L);else{var U=sn(T);S.children.has(U)||S.children.set(U,$a()),Cc(S.children.get(U),T=dn(T),L)}}function no(S,T){if(Oi(T))return S.value=null,S.children.clear(),!0;if(null!==S.value){if(S.value.isLeafNode())return!1;var L=S.value;return S.value=null,L.forEachChild(di,function(ge,Pe){Cc(S,new $e(ge),Pe)}),no(S,T)}if(S.children.size>0){var U=sn(T);return T=dn(T),S.children.has(U)&&no(S.children.get(U),T)&&S.children.delete(U),0===S.children.size}return!0}function sa(S,T,L){null!==S.value?L(T,S.value):function(S,T){S.children.forEach(function(L,U){T(U,L)})}(S,function(U,ie){sa(ie,new $e(T.toString()+"/"+U),L)})}var tc=function(){function S(T){this.collection_=T,this.last_=null}return S.prototype.get=function(){var T=this.collection_.get(),L=(0,b.pi)({},T);return this.last_&&bi(this.last_,function(U,ie){L[U]=L[U]-ie}),this.last_=T,L},S}(),Pu=function(){function S(T,L){this.server_=L,this.statsToReport_={},this.statsListener_=new tc(T);var U=1e4+2e4*Math.random();nr(this.reportStats_.bind(this),Math.floor(U))}return S.prototype.reportStats_=function(){var T=this,L=this.statsListener_.get(),U={},ie=!1;bi(L,function(ge,Pe){Pe>0&&(0,J.r3)(T.statsToReport_,ge)&&(U[ge]=Pe,ie=!0)}),ie&&this.server_.reportStats(U),nr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},S}(),No=(()=>(function(S){S[S.OVERWRITE=0]="OVERWRITE",S[S.MERGE=1]="MERGE",S[S.ACK_USER_WRITE=2]="ACK_USER_WRITE",S[S.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(No||(No={})),No))();function ru(S){return{fromUser:!1,fromServer:!0,queryId:S,tagged:!0}}var Hd=function(){function S(T,L,U){this.path=T,this.affectedTree=L,this.revert=U,this.type=No.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return S.prototype.operationForChild=function(T){if(Oi(this.path)){if(null!=this.affectedTree.value)return(0,J.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var L=this.affectedTree.subtree(new $e(T));return new S(ft(),L,this.revert)}return(0,J.hu)(sn(this.path)===T,"operationForChild called for unrelated child."),new S(dn(this.path),this.affectedTree,this.revert)},S}(),oa=function(){function S(T,L){this.source=T,this.path=L,this.type=No.LISTEN_COMPLETE}return S.prototype.operationForChild=function(T){return Oi(this.path)?new S(this.source,ft()):new S(this.source,dn(this.path))},S}(),Xo=function(){function S(T,L,U){this.source=T,this.path=L,this.snap=U,this.type=No.OVERWRITE}return S.prototype.operationForChild=function(T){return Oi(this.path)?new S(this.source,ft(),this.snap.getImmediateChild(T)):new S(this.source,dn(this.path),this.snap)},S}(),ic=function(){function S(T,L,U){this.source=T,this.path=L,this.children=U,this.type=No.MERGE}return S.prototype.operationForChild=function(T){if(Oi(this.path)){var L=this.children.subtree(new $e(T));return L.isEmpty()?null:L.value?new Xo(this.source,ft(),L.value):new S(this.source,ft(),L)}return(0,J.hu)(sn(this.path)===T,"Can't get a merge for a child not on the path of the operation"),new S(this.source,dn(this.path),this.children)},S.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},S}(),Mc=function(){function S(T,L,U){this.node_=T,this.fullyInitialized_=L,this.filtered_=U}return S.prototype.isFullyInitialized=function(){return this.fullyInitialized_},S.prototype.isFiltered=function(){return this.filtered_},S.prototype.isCompleteForPath=function(T){if(Oi(T))return this.isFullyInitialized()&&!this.filtered_;var L=sn(T);return this.isCompleteForChild(L)},S.prototype.isCompleteForChild=function(T){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(T)},S.prototype.getNode=function(){return this.node_},S}(),Pp=function(T){this.query_=T,this.index_=this.query_._queryParams.getIndex()};function Xa(S,T,L,U,ie,ge){var Pe=U.filter(function(et){return et.type===L});Pe.sort(function(et,lt){return function(S,T,L){if(null==T.childName||null==L.childName)throw(0,J.g5)("Should only compare child_ events.");var U=new vs(T.childName,T.snapshotNode),ie=new vs(L.childName,L.snapshotNode);return S.index_.compare(U,ie)}(S,et,lt)}),Pe.forEach(function(et){var lt=function(S,T,L){return"value"===T.type||"child_removed"===T.type||(T.prevName=L.getPredecessorChildName(T.childName,T.snapshotNode,S.index_)),T}(S,et,ge);ie.forEach(function(Mt){Mt.respondsTo(et.type)&&T.push(Mt.createEvent(lt,S.query_))})})}function qt(S,T){return{eventCache:S,serverCache:T}}function kn(S,T,L,U){return qt(new Mc(T,L,U),S.serverCache)}function pn(S,T,L,U){return qt(S.eventCache,new Mc(T,L,U))}function Ci(S){return S.eventCache.isFullyInitialized()?S.eventCache.getNode():null}function Ki(S){return S.serverCache.isFullyInitialized()?S.serverCache.getNode():null}var Cr,Ur=function(){function S(T,L){void 0===L&&(Cr||(Cr=new qo(ni)),L=Cr),this.value=T,this.children=L}return S.fromObject=function(T){var L=new S(null);return bi(T,function(U,ie){L=L.set(new $e(U),ie)}),L},S.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},S.prototype.findRootMostMatchingPathAndValue=function(T,L){if(null!=this.value&&L(this.value))return{path:ft(),value:this.value};if(Oi(T))return null;var U=sn(T),ie=this.children.get(U);if(null!==ie){var ge=ie.findRootMostMatchingPathAndValue(dn(T),L);return null!=ge?{path:fi(new $e(U),ge.path),value:ge.value}:null}return null},S.prototype.findRootMostValueAndPath=function(T){return this.findRootMostMatchingPathAndValue(T,function(){return!0})},S.prototype.subtree=function(T){if(Oi(T))return this;var L=sn(T),U=this.children.get(L);return null!==U?U.subtree(dn(T)):new S(null)},S.prototype.set=function(T,L){if(Oi(T))return new S(L,this.children);var U=sn(T),ge=(this.children.get(U)||new S(null)).set(dn(T),L),Pe=this.children.insert(U,ge);return new S(this.value,Pe)},S.prototype.remove=function(T){if(Oi(T))return this.children.isEmpty()?new S(null):new S(null,this.children);var L=sn(T),U=this.children.get(L);if(U){var ie=U.remove(dn(T)),ge=void 0;return ge=ie.isEmpty()?this.children.remove(L):this.children.insert(L,ie),null===this.value&&ge.isEmpty()?new S(null):new S(this.value,ge)}return this},S.prototype.get=function(T){if(Oi(T))return this.value;var L=sn(T),U=this.children.get(L);return U?U.get(dn(T)):null},S.prototype.setTree=function(T,L){if(Oi(T))return L;var Pe,U=sn(T),ge=(this.children.get(U)||new S(null)).setTree(dn(T),L);return Pe=ge.isEmpty()?this.children.remove(U):this.children.insert(U,ge),new S(this.value,Pe)},S.prototype.fold=function(T){return this.fold_(ft(),T)},S.prototype.fold_=function(T,L){var U={};return this.children.inorderTraversal(function(ie,ge){U[ie]=ge.fold_(fi(T,ie),L)}),L(T,this.value,U)},S.prototype.findOnPath=function(T,L){return this.findOnPath_(T,ft(),L)},S.prototype.findOnPath_=function(T,L,U){var ie=!!this.value&&U(L,this.value);if(ie)return ie;if(Oi(T))return null;var ge=sn(T),Pe=this.children.get(ge);return Pe?Pe.findOnPath_(dn(T),fi(L,ge),U):null},S.prototype.foreachOnPath=function(T,L){return this.foreachOnPath_(T,ft(),L)},S.prototype.foreachOnPath_=function(T,L,U){if(Oi(T))return this;this.value&&U(L,this.value);var ie=sn(T),ge=this.children.get(ie);return ge?ge.foreachOnPath_(dn(T),fi(L,ie),U):new S(null)},S.prototype.foreach=function(T){this.foreach_(ft(),T)},S.prototype.foreach_=function(T,L){this.children.inorderTraversal(function(U,ie){ie.foreach_(fi(T,U),L)}),this.value&&L(T,this.value)},S.prototype.foreachChild=function(T){this.children.inorderTraversal(function(L,U){U.value&&T(L,U.value)})},S}(),aa=function(){function S(T){this.writeTree_=T}return S.empty=function(){return new S(new Ur(null))},S}();function sc(S,T,L){if(Oi(T))return new aa(new Ur(L));var U=S.writeTree_.findRootMostValueAndPath(T);if(null!=U){var ie=U.path,ge=U.value,Pe=Tr(ie,T);return ge=ge.updateChild(Pe,L),new aa(S.writeTree_.set(ie,ge))}var et=new Ur(L),lt=S.writeTree_.setTree(T,et);return new aa(lt)}function zo(S,T,L){var U=S;return bi(L,function(ie,ge){U=sc(U,fi(T,ie),ge)}),U}function su(S,T){if(Oi(T))return aa.empty();var L=S.writeTree_.setTree(T,new Ur(null));return new aa(L)}function jd(S,T){return null!=Ya(S,T)}function Ya(S,T){var L=S.writeTree_.findRootMostValueAndPath(T);return null!=L?S.writeTree_.get(L.path).getChild(Tr(L.path,T)):null}function Vc(S){var T=[],L=S.writeTree_.value;return null!=L?L.isLeafNode()||L.forEachChild(di,function(U,ie){T.push(new vs(U,ie))}):S.writeTree_.children.inorderTraversal(function(U,ie){null!=ie.value&&T.push(new vs(U,ie.value))}),T}function Yo(S,T){if(Oi(T))return S;var L=Ya(S,T);return new aa(null!=L?new Ur(L):S.writeTree_.subtree(T))}function Mr(S){return S.writeTree_.isEmpty()}function ou(S,T){return sp(ft(),S.writeTree_,T)}function sp(S,T,L){if(null!=T.value)return L.updateChild(S,T.value);var U=null;return T.children.inorderTraversal(function(ie,ge){".priority"===ie?((0,J.hu)(null!==ge.value,"Priority writes must always be leaf nodes"),U=ge.value):L=sp(fi(S,ie),ge,L)}),!L.getChild(S).isEmpty()&&null!==U&&(L=L.updateChild(fi(S,".priority"),U)),L}function oc(S,T){return Sc(T,S)}function au(S,T){if(S.snap)return Zi(S.path,T);for(var L in S.children)if(S.children.hasOwnProperty(L)&&Zi(fi(S.path,L),T))return!0;return!1}function lp(S){return S.visible}function Us(S,T,L){for(var U=aa.empty(),ie=0;ie<S.length;++ie){var ge=S[ie];if(T(ge)){var Pe=ge.path,et=void 0;if(ge.snap)Zi(L,Pe)?U=sc(U,et=Tr(L,Pe),ge.snap):Zi(Pe,L)&&(et=Tr(Pe,L),U=sc(U,ft(),ge.snap.getChild(et)));else{if(!ge.children)throw(0,J.g5)("WriteRecord should have .snap or .children");if(Zi(L,Pe))U=zo(U,et=Tr(L,Pe),ge.children);else if(Zi(Pe,L))if(Oi(et=Tr(Pe,L)))U=zo(U,ft(),ge.children);else{var lt=(0,J.DV)(ge.children,sn(et));if(lt){var Mt=lt.getChild(dn(et));U=sc(U,ft(),Mt)}}}}}return U}function lu(S,T,L,U,ie){if(U||ie){var lt=Yo(S.visibleWrites,T);return!ie&&Mr(lt)?L:ie||null!=L||jd(lt,ft())?ou(Us(S.allWrites,function(Fn){return(Fn.visible||ie)&&(!U||!~U.indexOf(Fn.writeId))&&(Zi(Fn.path,T)||Zi(T,Fn.path))},T),L||er.EMPTY_NODE):null}var ge=Ya(S.visibleWrites,T);if(null!=ge)return ge;var Pe=Yo(S.visibleWrites,T);return Mr(Pe)?L:null!=L||jd(Pe,ft())?ou(Pe,L||er.EMPTY_NODE):null}function gd(S,T,L,U){return lu(S.writeTree,S.treePath,T,L,U)}function uf(S,T){return function(S,T,L){var U=er.EMPTY_NODE,ie=Ya(S.visibleWrites,T);if(ie)return ie.isLeafNode()||ie.forEachChild(di,function(et,lt){U=U.updateImmediateChild(et,lt)}),U;if(L){var ge=Yo(S.visibleWrites,T);return L.forEachChild(di,function(et,lt){var Mt=ou(Yo(ge,new $e(et)),lt);U=U.updateImmediateChild(et,Mt)}),Vc(ge).forEach(function(et){U=U.updateImmediateChild(et.name,et.node)}),U}return Vc(Yo(S.visibleWrites,T)).forEach(function(et){U=U.updateImmediateChild(et.name,et.node)}),U}(S.writeTree,S.treePath,T)}function Ch(S,T,L,U){return function(S,T,L,U,ie){(0,J.hu)(U||ie,"Either existingEventSnap or existingServerSnap must exist");var ge=fi(T,L);if(jd(S.visibleWrites,ge))return null;var Pe=Yo(S.visibleWrites,ge);return Mr(Pe)?ie.getChild(L):ou(Pe,ie.getChild(L))}(S.writeTree,S.treePath,T,L,U)}function Dl(S,T){return function(S,T){return Ya(S.visibleWrites,T)}(S.writeTree,fi(S.treePath,T))}function Ru(S,T,L){return function(S,T,L,U){var ie=fi(T,L),ge=Ya(S.visibleWrites,ie);return null!=ge?ge:U.isCompleteForChild(L)?ou(Yo(S.visibleWrites,ie),U.getNode().getImmediateChild(L)):null}(S.writeTree,S.treePath,T,L)}function lc(S,T){return Sc(fi(S.treePath,T),S.writeTree)}function Sc(S,T){return{treePath:S,writeTree:T}}var vi=function(){function S(){this.changeMap=new Map}return S.prototype.trackChildChange=function(T){var L=T.type,U=T.childName;(0,J.hu)("child_added"===L||"child_changed"===L||"child_removed"===L,"Only child changes supported for tracking"),(0,J.hu)(".priority"!==U,"Only non-priority child changes can be tracked.");var ie=this.changeMap.get(U);if(ie){var ge=ie.type;if("child_added"===L&&"child_removed"===ge)this.changeMap.set(U,Iu(U,T.snapshotNode,ie.snapshotNode));else if("child_removed"===L&&"child_added"===ge)this.changeMap.delete(U);else if("child_removed"===L&&"child_changed"===ge)this.changeMap.set(U,Ji(U,ie.oldSnap));else if("child_changed"===L&&"child_added"===ge)this.changeMap.set(U,Kl(U,T.snapshotNode));else{if("child_changed"!==L||"child_changed"!==ge)throw(0,J.g5)("Illegal combination of changes: "+T+" occurred after "+ie);this.changeMap.set(U,Iu(U,T.snapshotNode,ie.oldSnap))}}else this.changeMap.set(U,T)},S.prototype.getChanges=function(){return Array.from(this.changeMap.values())},S}(),js=new(function(){function S(){}return S.prototype.getCompleteChild=function(T){return null},S.prototype.getChildAfterChild=function(T,L,U){return null},S}()),Er=function(){function S(T,L,U){void 0===U&&(U=null),this.writes_=T,this.viewCache_=L,this.optCompleteServerCache_=U}return S.prototype.getCompleteChild=function(T){var L=this.viewCache_.eventCache;if(L.isCompleteForChild(T))return L.getNode().getImmediateChild(T);var U=null!=this.optCompleteServerCache_?new Mc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ru(this.writes_,T,U)},S.prototype.getChildAfterChild=function(T,L,U){var ie=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ki(this.viewCache_),ge=function(S,T,L,U,ie,ge){return function(S,T,L,U,ie,ge,Pe){var et,lt=Yo(S.visibleWrites,T),Mt=Ya(lt,ft());if(null!=Mt)et=Mt;else{if(null==L)return[];et=ou(lt,L)}if((et=et.withIndex(Pe)).isEmpty()||et.isLeafNode())return[];for(var Rt=[],bn=Pe.getCompare(),Fn=ge?et.getReverseIteratorFrom(U,Pe):et.getIteratorFrom(U,Pe),ii=Fn.getNext();ii&&Rt.length<ie;)0!==bn(ii,U)&&Rt.push(ii),ii=Fn.getNext();return Rt}(S.writeTree,S.treePath,T,L,U,ie,ge)}(this.writes_,ie,L,1,U,T);return 0===ge.length?null:ge[0]},S}();function Fs(S,T,L,U,ie,ge){var Pe=T.eventCache;if(null!=Dl(U,L))return T;var et=void 0,lt=void 0;if(Oi(L))if((0,J.hu)(T.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),T.serverCache.isFiltered()){var Mt=Ki(T),bn=uf(U,Mt instanceof er?Mt:er.EMPTY_NODE);et=S.filter.updateFullNode(T.eventCache.getNode(),bn,ge)}else{var Fn=gd(U,Ki(T));et=S.filter.updateFullNode(T.eventCache.getNode(),Fn,ge)}else{var ii=sn(L);if(".priority"===ii){(0,J.hu)(1===Gt(L),"Can't have a priority with additional path components");var Mi=Pe.getNode(),Ui=Ch(U,L,Mi,lt=T.serverCache.getNode());et=null!=Ui?S.filter.updatePriority(Mi,Ui):Pe.getNode()}else{var Qi=dn(L),Wr=void 0;if(Pe.isCompleteForChild(ii)){lt=T.serverCache.getNode();var wa=Ch(U,L,Pe.getNode(),lt);Wr=null!=wa?Pe.getNode().getImmediateChild(ii).updateChild(Qi,wa):Pe.getNode().getImmediateChild(ii)}else Wr=Ru(U,ii,T.serverCache);et=null!=Wr?S.filter.updateChild(Pe.getNode(),ii,Wr,Qi,ie,ge):Pe.getNode()}}return kn(T,et,Pe.isFullyInitialized()||Oi(L),S.filter.filtersNodes())}function Eo(S,T,L,U,ie,ge,Pe,et){var Mt,lt=T.serverCache,Rt=Pe?S.filter:S.filter.getIndexedFilter();if(Oi(L))Mt=Rt.updateFullNode(lt.getNode(),U,null);else if(Rt.filtersNodes()&&!lt.isFiltered()){var bn=lt.getNode().updateChild(L,U);Mt=Rt.updateFullNode(lt.getNode(),bn,null)}else{var Fn=sn(L);if(!lt.isCompleteForPath(L)&&Gt(L)>1)return T;var ii=dn(L),Ui=lt.getNode().getImmediateChild(Fn).updateChild(ii,U);Mt=".priority"===Fn?Rt.updatePriority(lt.getNode(),Ui):Rt.updateChild(lt.getNode(),Fn,Ui,ii,js,null)}var Qi=pn(T,Mt,lt.isFullyInitialized()||Oi(L),Rt.filtersNodes());return Fs(S,Qi,L,ie,new Er(ie,Qi,ge),et)}function Es(S,T,L,U,ie,ge,Pe){var lt,Mt,et=T.eventCache,Rt=new Er(ie,T,ge);if(Oi(L))Mt=S.filter.updateFullNode(T.eventCache.getNode(),U,Pe),lt=kn(T,Mt,!0,S.filter.filtersNodes());else{var bn=sn(L);if(".priority"===bn)Mt=S.filter.updatePriority(T.eventCache.getNode(),U),lt=kn(T,Mt,et.isFullyInitialized(),et.isFiltered());else{var Fn=dn(L),ii=et.getNode().getImmediateChild(bn),Mi=void 0;if(Oi(Fn))Mi=U;else{var Ui=Rt.getCompleteChild(bn);Mi=null!=Ui?".priority"===Nn(Fn)&&Ui.getChild(lr(Fn)).isEmpty()?Ui:Ui.updateChild(Fn,U):er.EMPTY_NODE}lt=ii.equals(Mi)?T:kn(T,S.filter.updateChild(et.getNode(),bn,Mi,Fn,Rt,Pe),et.isFullyInitialized(),S.filter.filtersNodes())}}return lt}function dl(S,T){return S.eventCache.isCompleteForChild(T)}function yo(S,T,L){return L.foreach(function(U,ie){T=T.updateChild(U,ie)}),T}function Va(S,T,L,U,ie,ge,Pe,et){if(T.serverCache.getNode().isEmpty()&&!T.serverCache.isFullyInitialized())return T;var Mt,lt=T;Mt=Oi(L)?U:new Ur(null).setTree(L,U);var Rt=T.serverCache.getNode();return Mt.children.inorderTraversal(function(bn,Fn){if(Rt.hasChild(bn)){var Mi=yo(0,T.serverCache.getNode().getImmediateChild(bn),Fn);lt=Eo(S,lt,new $e(bn),Mi,ie,ge,Pe,et)}}),Mt.children.inorderTraversal(function(bn,Fn){var ii=!T.serverCache.isCompleteForChild(bn)&&void 0===Fn.value;if(!Rt.hasChild(bn)&&!ii){var Ui=yo(0,T.serverCache.getNode().getImmediateChild(bn),Fn);lt=Eo(S,lt,new $e(bn),Ui,ie,ge,Pe,et)}}),lt}var Zd=function(){function S(T,L){this.query_=T,this.eventRegistrations_=[];var U=this.query_._queryParams,ie=new ec(U.getIndex()),ge=function(S){return S.loadsAllData()?new ec(S.getIndex()):S.hasLimit()?new Ip(S):new nu(S)}(U);this.processor_=function(S){return{filter:S}}(ge);var Pe=L.serverCache,et=L.eventCache,lt=ie.updateFullNode(er.EMPTY_NODE,Pe.getNode(),null),Mt=ge.updateFullNode(er.EMPTY_NODE,et.getNode(),null),Rt=new Mc(lt,Pe.isFullyInitialized(),ie.filtersNodes()),bn=new Mc(Mt,et.isFullyInitialized(),ge.filtersNodes());this.viewCache_=qt(bn,Rt),this.eventGenerator_=new Pp(this.query_)}return Object.defineProperty(S.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),S}();function Uc(S,T){var L=Ki(S.viewCache_);return L&&(S.query._queryParams.loadsAllData()||!Oi(T)&&!L.getImmediateChild(sn(T)).isEmpty())?L.getChild(T):null}function cc(S){return 0===S.eventRegistrations_.length}function tt(S,T,L){var U=[];if(L){(0,J.hu)(null==T,"A cancel should cancel all event registrations.");var ie=S.query._path;S.eventRegistrations_.forEach(function(lt){var Mt=lt.createCancelEvent(L,ie);Mt&&U.push(Mt)})}if(T){for(var ge=[],Pe=0;Pe<S.eventRegistrations_.length;++Pe){var et=S.eventRegistrations_[Pe];if(et.matches(T)){if(T.hasAnyCallback()){ge=ge.concat(S.eventRegistrations_.slice(Pe+1));break}}else ge.push(et)}S.eventRegistrations_=ge}else S.eventRegistrations_=[];return U}function uc(S,T,L,U){T.type===No.MERGE&&null!==T.source.queryId&&((0,J.hu)(Ki(S.viewCache_),"We should always have a full cache before handling merges"),(0,J.hu)(Ci(S.viewCache_),"Missing event cache, even though we have a server cache"));var ie=S.viewCache_,ge=function(S,T,L,U,ie){var Pe,et,ge=new vi;if(L.type===No.OVERWRITE){var lt=L;lt.source.fromUser?Pe=Es(S,T,lt.path,lt.snap,U,ie,ge):((0,J.hu)(lt.source.fromServer,"Unknown source."),et=lt.source.tagged||T.serverCache.isFiltered()&&!Oi(lt.path),Pe=Eo(S,T,lt.path,lt.snap,U,ie,et,ge))}else if(L.type===No.MERGE){var Mt=L;Mt.source.fromUser?Pe=function(S,T,L,U,ie,ge,Pe){var et=T;return U.foreach(function(lt,Mt){var Rt=fi(L,lt);dl(T,sn(Rt))&&(et=Es(S,et,Rt,Mt,ie,ge,Pe))}),U.foreach(function(lt,Mt){var Rt=fi(L,lt);dl(T,sn(Rt))||(et=Es(S,et,Rt,Mt,ie,ge,Pe))}),et}(S,T,Mt.path,Mt.children,U,ie,ge):((0,J.hu)(Mt.source.fromServer,"Unknown source."),et=Mt.source.tagged||T.serverCache.isFiltered(),Pe=Va(S,T,Mt.path,Mt.children,U,ie,et,ge))}else if(L.type===No.ACK_USER_WRITE){var Rt=L;Pe=Rt.revert?function(S,T,L,U,ie,ge){var Pe;if(null!=Dl(U,L))return T;var et=new Er(U,T,ie),lt=T.eventCache.getNode(),Mt=void 0;if(Oi(L)||".priority"===sn(L)){var Rt=void 0;if(T.serverCache.isFullyInitialized())Rt=gd(U,Ki(T));else{var bn=T.serverCache.getNode();(0,J.hu)(bn instanceof er,"serverChildren would be complete if leaf node"),Rt=uf(U,bn)}Mt=S.filter.updateFullNode(lt,Rt=Rt,ge)}else{var Fn=sn(L),ii=Ru(U,Fn,T.serverCache);null==ii&&T.serverCache.isCompleteForChild(Fn)&&(ii=lt.getImmediateChild(Fn)),(Mt=null!=ii?S.filter.updateChild(lt,Fn,ii,dn(L),et,ge):T.eventCache.getNode().hasChild(Fn)?S.filter.updateChild(lt,Fn,er.EMPTY_NODE,dn(L),et,ge):lt).isEmpty()&&T.serverCache.isFullyInitialized()&&(Pe=gd(U,Ki(T))).isLeafNode()&&(Mt=S.filter.updateFullNode(Mt,Pe,ge))}return Pe=T.serverCache.isFullyInitialized()||null!=Dl(U,ft()),kn(T,Mt,Pe,S.filter.filtersNodes())}(S,T,Rt.path,U,ie,ge):function(S,T,L,U,ie,ge,Pe){if(null!=Dl(ie,L))return T;var et=T.serverCache.isFiltered(),lt=T.serverCache;if(null!=U.value){if(Oi(L)&&lt.isFullyInitialized()||lt.isCompleteForPath(L))return Eo(S,T,L,lt.getNode().getChild(L),ie,ge,et,Pe);if(Oi(L)){var Mt=new Ur(null);return lt.getNode().forEachChild(zl,function(bn,Fn){Mt=Mt.set(new $e(bn),Fn)}),Va(S,T,L,Mt,ie,ge,et,Pe)}return T}var Rt=new Ur(null);return U.foreach(function(bn,Fn){var ii=fi(L,bn);lt.isCompleteForPath(ii)&&(Rt=Rt.set(bn,lt.getNode().getChild(ii)))}),Va(S,T,L,Rt,ie,ge,et,Pe)}(S,T,Rt.path,Rt.affectedTree,U,ie,ge)}else{if(L.type!==No.LISTEN_COMPLETE)throw(0,J.g5)("Unknown operation type: "+L.type);Pe=function(S,T,L,U,ie){var ge=T.serverCache;return Fs(S,pn(T,ge.getNode(),ge.isFullyInitialized()||Oi(L),ge.isFiltered()),L,U,js,ie)}(S,T,L.path,U,ge)}var bn=ge.getChanges();return function(S,T,L){var U=T.eventCache;if(U.isFullyInitialized()){var ie=U.getNode().isLeafNode()||U.getNode().isEmpty(),ge=Ci(S);(L.length>0||!S.eventCache.isFullyInitialized()||ie&&!U.getNode().equals(ge)||!U.getNode().getPriority().equals(ge.getPriority()))&&L.push(yh(Ci(T)))}}(T,Pe,bn),{viewCache:Pe,changes:bn}}(S.processor_,ie,T,L,U);return function(S,T){(0,J.hu)(T.eventCache.getNode().isIndexed(S.filter.getIndex()),"Event snap not indexed"),(0,J.hu)(T.serverCache.getNode().isIndexed(S.filter.getIndex()),"Server snap not indexed")}(S.processor_,ge.viewCache),(0,J.hu)(ge.viewCache.serverCache.isFullyInitialized()||!ie.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),S.viewCache_=ge.viewCache,Ha(S,ge.changes,ge.viewCache.eventCache.getNode(),null)}function Ha(S,T,L,U){return function(S,T,L,U){var ie=[],ge=[];return T.forEach(function(Pe){"child_changed"===Pe.type&&S.index_.indexedValueChanged(Pe.oldSnap,Pe.snapshotNode)&&ge.push(function(S,T){return{type:"child_moved",snapshotNode:T,childName:S}}(Pe.childName,Pe.snapshotNode))}),Xa(S,ie,"child_removed",T,U,L),Xa(S,ie,"child_added",T,U,L),Xa(S,ie,"child_moved",ge,U,L),Xa(S,ie,"child_changed",T,U,L),Xa(S,ie,"value",T,U,L),ie}(S.eventGenerator_,T,L,U?[U]:S.eventRegistrations_)}var es,C,dp=function(){this.views=new Map};function zu(S,T,L,U){var ie,ge,Pe=T.source.queryId;if(null!==Pe){var et=S.views.get(Pe);return(0,J.hu)(null!=et,"SyncTree gave us an op for an invalid query."),uc(et,T,L,U)}var lt=[];try{for(var Mt=(0,b.XA)(S.views.values()),Rt=Mt.next();!Rt.done;Rt=Mt.next())lt=lt.concat(uc(et=Rt.value,T,L,U))}catch(bn){ie={error:bn}}finally{try{Rt&&!Rt.done&&(ge=Mt.return)&&ge.call(Mt)}finally{if(ie)throw ie.error}}return lt}function Da(S,T,L,U,ie){var Pe=S.views.get(T._queryIdentifier);if(!Pe){var et=gd(L,ie?U:null),lt=!1;et?lt=!0:U instanceof er?(et=uf(L,U),lt=!1):(et=er.EMPTY_NODE,lt=!1);var Mt=qt(new Mc(et,lt,!1),new Mc(U,ie,!1));return new Zd(T,Mt)}return Pe}function hf(S){var T,L,U=[];try{for(var ie=(0,b.XA)(S.views.values()),ge=ie.next();!ge.done;ge=ie.next()){var Pe=ge.value;Pe.query._queryParams.loadsAllData()||U.push(Pe)}}catch(et){T={error:et}}finally{try{ge&&!ge.done&&(L=ie.return)&&L.call(ie)}finally{if(T)throw T.error}}return U}function Ua(S,T){var L,U,ie=null;try{for(var ge=(0,b.XA)(S.views.values()),Pe=ge.next();!Pe.done;Pe=ge.next())ie=ie||Uc(Pe.value,T)}catch(lt){L={error:lt}}finally{try{Pe&&!Pe.done&&(U=ge.return)&&U.call(ge)}finally{if(L)throw L.error}}return ie}function Mh(S,T){return T._queryParams.loadsAllData()?f(S):S.views.get(T._queryIdentifier)}function hp(S,T){return null!=Mh(S,T)}function P(S){return null!=f(S)}function f(S){var T,L;try{for(var U=(0,b.XA)(S.views.values()),ie=U.next();!ie.done;ie=U.next()){var ge=ie.value;if(ge.query._queryParams.loadsAllData())return ge}}catch(Pe){T={error:Pe}}finally{try{ie&&!ie.done&&(L=U.return)&&L.call(U)}finally{if(T)throw T.error}}return null}var X=1,ae=function(T){this.listenProvider_=T,this.syncPointTree_=new Ur(null),this.pendingWriteTree_={visibleWrites:aa.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function fe(S,T,L,U,ie){return function(S,T,L,U,ie){(0,J.hu)(U>S.lastWriteId,"Stacking an older write on top of newer ones"),void 0===ie&&(ie=!0),S.allWrites.push({path:T,snap:L,writeId:U,visible:ie}),ie&&(S.visibleWrites=sc(S.visibleWrites,T,L)),S.lastWriteId=U}(S.pendingWriteTree_,T,L,U,ie),ie?Bt(S,new Xo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},T,L)):[]}function _e(S,T,L){void 0===L&&(L=!1);var U=function(S,T){for(var L=0;L<S.allWrites.length;L++){var U=S.allWrites[L];if(U.writeId===T)return U}return null}(S.pendingWriteTree_,T);if(function(S,T){var L=S.allWrites.findIndex(function(Mt){return Mt.writeId===T});(0,J.hu)(L>=0,"removeWrite called with nonexistent writeId.");var U=S.allWrites[L];S.allWrites.splice(L,1);for(var ie=U.visible,ge=!1,Pe=S.allWrites.length-1;ie&&Pe>=0;){var et=S.allWrites[Pe];et.visible&&(Pe>=L&&au(et,U.path)?ie=!1:Zi(U.path,et.path)&&(ge=!0)),Pe--}return!!ie&&(ge?(function(S){S.visibleWrites=Us(S.allWrites,lp,ft()),S.lastWriteId=S.allWrites.length>0?S.allWrites[S.allWrites.length-1].writeId:-1}(S),!0):(U.snap?S.visibleWrites=su(S.visibleWrites,U.path):bi(U.children,function(Mt){S.visibleWrites=su(S.visibleWrites,fi(U.path,Mt))}),!0))}(S.pendingWriteTree_,T)){var ge=new Ur(null);return null!=U.snap?ge=ge.set(ft(),!0):bi(U.children,function(Pe){ge=ge.set(new $e(Pe),!0)}),Bt(S,new Hd(U.path,ge,L))}return[]}function ze(S,T,L){return Bt(S,new Xo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},T,L))}function dt(S,T,L,U){var ie=T._path,ge=S.syncPointTree_.get(ie),Pe=[];if(ge&&("default"===T._queryIdentifier||hp(ge,T))){var et=function(S,T,L,U){var ie,ge,Pe=T._queryIdentifier,et=[],lt=[],Mt=P(S);if("default"===Pe)try{for(var Rt=(0,b.XA)(S.views.entries()),bn=Rt.next();!bn.done;bn=Rt.next()){var Mi,Fn=(0,b.CR)(bn.value,2),ii=Fn[0];lt=lt.concat(tt(Mi=Fn[1],L,U)),cc(Mi)&&(S.views.delete(ii),Mi.query._queryParams.loadsAllData()||et.push(Mi.query))}}catch(Ui){ie={error:Ui}}finally{try{bn&&!bn.done&&(ge=Rt.return)&&ge.call(Rt)}finally{if(ie)throw ie.error}}else(Mi=S.views.get(Pe))&&(lt=lt.concat(tt(Mi,L,U)),cc(Mi)&&(S.views.delete(Pe),Mi.query._queryParams.loadsAllData()||et.push(Mi.query)));return Mt&&!P(S)&&et.push(new((0,J.hu)(es,"Reference.ts has not been loaded"),es)(T._repo,T._path)),{removed:et,events:lt}}(ge,T,L,U);(function(S){return 0===S.views.size})(ge)&&(S.syncPointTree_=S.syncPointTree_.remove(ie));var lt=et.removed;Pe=et.events;var Mt=-1!==lt.findIndex(function(wa){return wa._queryParams.loadsAllData()}),Rt=S.syncPointTree_.findOnPath(ie,function(wa,Ac){return P(Ac)});if(Mt&&!Rt){var bn=S.syncPointTree_.subtree(ie);if(!bn.isEmpty())for(var Fn=function(S){return S.fold(function(T,L,U){if(L&&P(L))return[f(L)];var ge=[];return L&&(ge=hf(L)),bi(U,function(Pe,et){ge=ge.concat(et)}),ge})}(bn),ii=0;ii<Fn.length;++ii){var Mi=Fn[ii],Ui=Mi.query,Qi=wn(S,Mi);S.listenProvider_.startListening(Qn(Ui),Tn(S,Ui),Qi.hashFn,Qi.onComplete)}}!Rt&&lt.length>0&&!U&&(Mt?S.listenProvider_.stopListening(Qn(T),null):lt.forEach(function(wa){var Ac=S.queryToTagMap.get(Ln(wa));S.listenProvider_.stopListening(Qn(wa),Ac)})),function(S,T){for(var L=0;L<T.length;++L){var U=T[L];if(!U._queryParams.loadsAllData()){var ie=Ln(U),ge=S.queryToTagMap.get(ie);S.queryToTagMap.delete(ie),S.tagToQueryMap.delete(ge)}}}(S,lt)}return Pe}function ot(S,T,L){var U=T._path,ie=null,ge=!1;S.syncPointTree_.foreachOnPath(U,function(Ui,Qi){var Wr=Tr(Ui,U);ie=ie||Ua(Qi,Wr),ge=ge||P(Qi)});var et,Pe=S.syncPointTree_.get(U);Pe?(ge=ge||P(Pe),ie=ie||Ua(Pe,ft())):(Pe=new dp,S.syncPointTree_=S.syncPointTree_.set(U,Pe)),null!=ie?et=!0:(et=!1,ie=er.EMPTY_NODE,S.syncPointTree_.subtree(U).foreachChild(function(Ui,Qi){var Wr=Ua(Qi,ft());Wr&&(ie=ie.updateImmediateChild(Ui,Wr))}));var Mt=hp(Pe,T);if(!Mt&&!T._queryParams.loadsAllData()){var Rt=Ln(T);(0,J.hu)(!S.queryToTagMap.has(Rt),"View does not exist, but we have a tag");var bn=X++;S.queryToTagMap.set(Rt,bn),S.tagToQueryMap.set(bn,Rt)}var ii=function(S,T,L,U,ie,ge){var Pe=Da(S,T,U,ie,ge);return S.views.has(T._queryIdentifier)||S.views.set(T._queryIdentifier,Pe),function(S,T){S.eventRegistrations_.push(T)}(Pe,L),function(S,T){var L=S.viewCache_.eventCache,U=[];return L.getNode().isLeafNode()||L.getNode().forEachChild(di,function(ge,Pe){U.push(Kl(ge,Pe))}),L.isFullyInitialized()&&U.push(yh(L.getNode())),Ha(S,U,L.getNode(),T)}(Pe,L)}(Pe,T,L,oc(S.pendingWriteTree_,U),ie,et);if(!Mt&&!ge){var Mi=Mh(Pe,T);ii=ii.concat(function(S,T,L){var U=T._path,ie=Tn(S,T),ge=wn(S,L),Pe=S.listenProvider_.startListening(Qn(T),ie,ge.hashFn,ge.onComplete),et=S.syncPointTree_.subtree(U);if(ie)(0,J.hu)(!P(et.value),"If we're adding a query, it shouldn't be shadowed");else for(var lt=et.fold(function(bn,Fn,ii){if(!Oi(bn)&&Fn&&P(Fn))return[f(Fn).query];var Mi=[];return Fn&&(Mi=Mi.concat(hf(Fn).map(function(Ui){return Ui.query}))),bi(ii,function(Ui,Qi){Mi=Mi.concat(Qi)}),Mi}),Mt=0;Mt<lt.length;++Mt){var Rt=lt[Mt];S.listenProvider_.stopListening(Qn(Rt),Tn(S,Rt))}return Pe}(S,T,Mi))}return ii}function vt(S,T,L){var ie=S.pendingWriteTree_,ge=S.syncPointTree_.findOnPath(T,function(Pe,et){var Mt=Ua(et,Tr(Pe,T));if(Mt)return Mt});return lu(ie,T,ge,L,!0)}function Bt(S,T){return Ct(T,S.syncPointTree_,null,oc(S.pendingWriteTree_,ft()))}function Ct(S,T,L,U){if(Oi(S.path))return kt(S,T,L,U);var ie=T.get(ft());null==L&&null!=ie&&(L=Ua(ie,ft()));var ge=[],Pe=sn(S.path),et=S.operationForChild(Pe),lt=T.children.get(Pe);if(lt&&et){var Mt=L?L.getImmediateChild(Pe):null,Rt=lc(U,Pe);ge=ge.concat(Ct(et,lt,Mt,Rt))}return ie&&(ge=ge.concat(zu(ie,S,U,L))),ge}function kt(S,T,L,U){var ie=T.get(ft());null==L&&null!=ie&&(L=Ua(ie,ft()));var ge=[];return T.children.inorderTraversal(function(Pe,et){var lt=L?L.getImmediateChild(Pe):null,Mt=lc(U,Pe),Rt=S.operationForChild(Pe);Rt&&(ge=ge.concat(kt(Rt,et,lt,Mt)))}),ie&&(ge=ge.concat(zu(ie,S,U,L))),ge}function wn(S,T){var L=T.query,U=Tn(S,L);return{hashFn:function(){return(function(S){return S.viewCache_.serverCache.getNode()}(T)||er.EMPTY_NODE).hash()},onComplete:function(ie){if("ok"===ie)return U?function(S,T,L){var U=Dt(S,L);if(U){var ie=ti(U),ge=ie.path,Pe=ie.queryId,et=Tr(ge,T);return On(S,ge,new oa(ru(Pe),et))}return[]}(S,L._path,U):function(S,T){return Bt(S,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},T))}(S,L._path);var ge=function(S,T){var L="Unknown Error";"too_big"===S?L="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===S?L="Client doesn't have permission to access the desired data.":"unavailable"===S&&(L="The service is unavailable");var U=new Error(S+" at "+T._path.toString()+": "+L);return U.code=S.toUpperCase(),U}(ie,L);return dt(S,L,null,ge)}}}function Tn(S,T){var L=Ln(T);return S.queryToTagMap.get(L)}function Ln(S){return S._path.toString()+"$"+S._queryIdentifier}function Dt(S,T){return S.tagToQueryMap.get(T)}function ti(S){var T=S.indexOf("$");return(0,J.hu)(-1!==T&&T<S.length-1,"Bad queryKey."),{queryId:S.substr(T+1),path:new $e(S.substr(0,T))}}function On(S,T,L){var U=S.syncPointTree_.get(T);return(0,J.hu)(U,"Missing sync point for query tag that we're tracking"),zu(U,L,oc(S.pendingWriteTree_,T),null)}function Qn(S){return S._queryParams.loadsAllData()&&!S._queryParams.isDefault()?new((0,J.hu)(C,"Reference.ts has not been loaded"),C)(S._repo,S._path):S}var jr=function(){function S(T){this.node_=T}return S.prototype.getImmediateChild=function(T){return new S(this.node_.getImmediateChild(T))},S.prototype.node=function(){return this.node_},S}(),os=function(){function S(T,L){this.syncTree_=T,this.path_=L}return S.prototype.getImmediateChild=function(T){var L=fi(this.path_,T);return new S(this.syncTree_,L)},S.prototype.node=function(){return vt(this.syncTree_,this.path_)},S}(),_r=function(S,T,L){return S&&"object"==typeof S?((0,J.hu)(".sv"in S,"Unexpected leaf node or priority contents"),"string"==typeof S[".sv"]?xs(S[".sv"],T,L):"object"==typeof S[".sv"]?Xs(S[".sv"],T):void(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(S,null,2))):S},xs=function(S,T,L){switch(S){case"timestamp":return L.timestamp;default:(0,J.hu)(!1,"Unexpected server value: "+S)}},Xs=function(S,T,L){S.hasOwnProperty("increment")||(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(S,null,2));var U=S.increment;"number"!=typeof U&&(0,J.hu)(!1,"Unexpected increment value: "+U);var ie=T.node();if((0,J.hu)(null!=ie,"Expected ChildrenNode.EMPTY_NODE for nulls"),!ie.isLeafNode())return U;var Pe=ie.getValue();return"number"!=typeof Pe?U:Pe+U},Al=function(S,T,L,U){return ds(T,new os(L,S),U)},Aa=function(S,T,L){return ds(S,new jr(T),L)};function ds(S,T,L){var ge,U=S.getPriority().val(),ie=_r(U,T.getImmediateChild(".priority"),L);if(S.isLeafNode()){var Pe=S,et=_r(Pe.getValue(),T,L);return et!==Pe.getValue()||ie!==Pe.getPriority().val()?new kr(et,Kr(ie)):S}var lt=S;return ge=lt,ie!==lt.getPriority().val()&&(ge=ge.updatePriority(new kr(ie))),lt.forEachChild(di,function(Mt,Rt){var bn=ds(Rt,T.getImmediateChild(Mt),L);bn!==Rt&&(ge=ge.updateImmediateChild(Mt,bn))}),ge}var Vo=function(T,L,U){void 0===T&&(T=""),void 0===L&&(L=null),void 0===U&&(U={children:{},childCount:0}),this.name=T,this.parent=L,this.node=U};function hl(S,T){for(var L=T instanceof $e?T:new $e(T),U=S,ie=sn(L);null!==ie;){var ge=(0,J.DV)(U.node.children,ie)||{children:{},childCount:0};U=new Vo(ie,U,ge),ie=sn(L=dn(L))}return U}function Ri(S){return S.node.value}function Ns(S,T){S.node.value=T,pl(S)}function Gr(S){return S.node.childCount>0}function io(S,T){bi(S.node.children,function(L,U){T(new Vo(L,S,U))})}function Nr(S,T,L,U){L&&!U&&T(S),io(S,function(ie){Nr(ie,T,!0,U)}),L&&U&&T(S)}function Ja(S){return new $e(null===S.parent?S.name:Ja(S.parent)+"/"+S.name)}function pl(S){null!==S.parent&&function(S,T,L){var U=function(S){return void 0===Ri(S)&&!Gr(S)}(L),ie=(0,J.r3)(S.node.children,T);U&&ie?(delete S.node.children[T],S.node.childCount--,pl(S)):!U&&!ie&&(S.node.children[T]=L.node,S.node.childCount++,pl(S))}(S.parent,S.name,S)}var Ia=/[\[\].#$\/\u0000-\u001F\u007F]/,Yu=/[\[\].#$\u0000-\u001F\u007F]/,ba=10485760,bo=function(S){return"string"==typeof S&&0!==S.length&&!Ia.test(S)},jc=function(S){return"string"==typeof S&&0!==S.length&&!Yu.test(S)},Gl=function(S){return null===S||"string"==typeof S||"number"==typeof S&&!ln(S)||S&&"object"==typeof S&&(0,J.r3)(S,".sv")},Ka=function(S,T,L,U){U&&void 0===T||kc((0,J.gK)(S,"value"),T,L)},kc=function(S,T,L){var U=L instanceof $e?new Jr(L,S):L;if(void 0===T)throw new Error(S+"contains undefined "+Js(U));if("function"==typeof T)throw new Error(S+"contains a function "+Js(U)+" with contents = "+T.toString());if(ln(T))throw new Error(S+"contains "+T.toString()+" "+Js(U));if("string"==typeof T&&T.length>ba/3&&(0,J.ug)(T)>ba)throw new Error(S+"contains a string greater than "+ba+" utf8 bytes "+Js(U)+" ('"+T.substring(0,50)+"...')");if(T&&"object"==typeof T){var ie=!1,ge=!1;if(bi(T,function(Pe,et){if(".value"===Pe)ie=!0;else if(".priority"!==Pe&&".sv"!==Pe&&(ge=!0,!bo(Pe)))throw new Error(S+" contains an invalid key ("+Pe+") "+Js(U)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(S,T){S.parts_.length>0&&(S.byteLength_+=1),S.parts_.push(T),S.byteLength_+=(0,J.ug)(T),ia(S)})(U,Pe),kc(S,et,U),function(S){var T=S.parts_.pop();S.byteLength_-=(0,J.ug)(T),S.parts_.length>0&&(S.byteLength_-=1)}(U)}),ie&&ge)throw new Error(S+' contains ".value" child '+Js(U)+" in addition to actual children.")}},G=function(S,T,L,U){if(!U||void 0!==T){var ie=(0,J.gK)(S,"values");if(!T||"object"!=typeof T||Array.isArray(T))throw new Error(ie+" must be an object containing the children to replace.");var ge=[];bi(T,function(Pe,et){var lt=new $e(Pe);if(kc(ie,et,fi(L,lt)),".priority"===Nn(lt)&&!Gl(et))throw new Error(ie+"contains an invalid value for '"+lt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ge.push(lt)}),function(S,T){var L,U;for(L=0;L<T.length;L++)for(var ie=wi(U=T[L]),ge=0;ge<ie.length;ge++)if((".priority"!==ie[ge]||ge!==ie.length-1)&&!bo(ie[ge]))throw new Error(S+"contains an invalid key ("+ie[ge]+") in path "+U.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');T.sort($s);var Pe=null;for(L=0;L<T.length;L++){if(U=T[L],null!==Pe&&Zi(Pe,U))throw new Error(S+"contains a path "+Pe.toString()+" that is ancestor of another path "+U.toString());Pe=U}}(ie,ge)}},oe=function(S,T,L){if(!L||void 0!==T){if(ln(T))throw new Error((0,J.gK)(S,"priority")+"is "+T.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gl(T))throw new Error((0,J.gK)(S,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ke=function(S,T,L){if(!L||void 0!==T)switch(T){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,J.gK)(S,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Be=function(S,T,L,U){if(!(U&&void 0===L||bo(L)))throw new Error((0,J.gK)(S,T)+'was an invalid key = "'+L+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ke=function(S,T,L,U){if(!(U&&void 0===L||jc(L)))throw new Error((0,J.gK)(S,T)+'was an invalid path = "'+L+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xn=function(S,T){if(".info"===sn(T))throw new Error(S+" failed = Can't modify data under /.info/")},Vi=function(S,T){var L=T.path.toString();if("string"!=typeof T.repoInfo.host||0===T.repoInfo.host.length||!bo(T.repoInfo.namespace)&&"localhost"!==T.repoInfo.host.split(":")[0]||0!==L.length&&!function(S){return S&&(S=S.replace(/^\/*\.info(\/|$)/,"/")),jc(S)}(L))throw new Error((0,J.gK)(S,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ts=function(S,T,L,U){if((!U||void 0!==L)&&"boolean"!=typeof L)throw new Error((0,J.gK)(S,T)+"must be a boolean.")},ro=function(){this.eventLists_=[],this.recursionDepth_=0};function zs(S,T){for(var L=null,U=0;U<T.length;U++){var ie=T[U],ge=ie.getPath();null!==L&&!_s(ge,L.path)&&(S.eventLists_.push(L),L=null),null===L&&(L={events:[],path:ge}),L.events.push(ie)}L&&S.eventLists_.push(L)}function Ho(S,T,L){zs(S,L),pf(S,function(U){return _s(U,T)})}function Ys(S,T,L){zs(S,L),pf(S,function(U){return Zi(U,T)||Zi(T,U)})}function pf(S,T){S.recursionDepth_++;for(var L=!0,U=0;U<S.eventLists_.length;U++){var ie=S.eventLists_[U];ie&&(T(ie.path)?(xg(S.eventLists_[U]),S.eventLists_[U]=null):L=!1)}L&&(S.eventLists_=[]),S.recursionDepth_--}function xg(S){for(var T=0;T<S.events.length;T++){var L=S.events[T];if(null!==L){S.events[T]=null;var U=L.getEventRunner();jt&&oi("event: "+L.toString()),Zs(U)}}}var w_="repo_interrupt",wg=function(){function S(T,L,U,ie){this.repoInfo_=T,this.forceRestClient_=L,this.authTokenProvider_=U,this.appCheckProvider_=ie,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ro,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$a(),this.transactionQueueTree_=new Vo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return S.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},S}();function fp(S){var L=S.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+L}function pu(S){return function(S){return(S=S||{}).timestamp=S.timestamp||(new Date).getTime(),S}({timestamp:fp(S)})}function la(S,T,L,U,ie){S.dataUpdateCount++;var ge=new $e(T);L=S.interceptServerDataCallback_?S.interceptServerDataCallback_(T,L):L;var Pe=[];if(ie)if(U){var et=(0,J.UI)(L,function(Fn){return Kr(Fn)});Pe=function(S,T,L,U){var ie=Dt(S,U);if(ie){var ge=ti(ie),Pe=ge.path,et=ge.queryId,lt=Tr(Pe,T),Mt=Ur.fromObject(L);return On(S,Pe,new ic(ru(et),lt,Mt))}return[]}(S.serverSyncTree_,ge,et,ie)}else{var lt=Kr(L);Pe=function(S,T,L,U){var ie=Dt(S,U);if(null!=ie){var ge=ti(ie),Pe=ge.path,et=ge.queryId,lt=Tr(Pe,T);return On(S,Pe,new Xo(ru(et),lt,L))}return[]}(S.serverSyncTree_,ge,lt,ie)}else if(U){var Mt=(0,J.UI)(L,function(Fn){return Kr(Fn)});Pe=function(S,T,L){var U=Ur.fromObject(L);return Bt(S,new ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},T,U))}(S.serverSyncTree_,ge,Mt)}else{var Rt=Kr(L);Pe=ze(S.serverSyncTree_,ge,Rt)}var bn=ge;Pe.length>0&&(bn=Qd(S,ge)),Ys(S.eventQueue_,bn,Pe)}function yr(S,T){Th(S,"connected",T),!1===T&&function(S){_d(S,"onDisconnectEvents");var T=pu(S),L=$a();sa(S.onDisconnect_,ft(),function(ie,ge){var Pe=Al(ie,ge,S.serverSyncTree_,T);Cc(L,ie,Pe)});var U=[];sa(L,ft(),function(ie,ge){U=U.concat(ze(S.serverSyncTree_,ie,ge));var Pe=ff(S,ie);Qd(S,Pe)}),S.onDisconnect_=$a(),Ys(S.eventQueue_,ft(),U)}(S)}function Th(S,T,L){var U=new $e("/.info/"+T),ie=Kr(L);S.infoData_.updateSnapshot(U,ie);var ge=ze(S.infoSyncTree_,U,ie);Ys(S.eventQueue_,U,ge)}function mp(S){return S.nextWriteId_++}function gp(S,T,L,U,ie){_d(S,"set",{path:T.toString(),value:L,priority:U});var ge=pu(S),Pe=Kr(L,U),et=vt(S.serverSyncTree_,T),lt=Aa(Pe,et,ge),Mt=mp(S),Rt=fe(S.serverSyncTree_,T,lt,Mt,!0);zs(S.eventQueue_,Rt),S.server_.put(T.toString(),Pe.val(!0),function(Fn,ii){var Mi="ok"===Fn;Mi||Pr("set at "+T+" failed: "+Fn);var Ui=_e(S.serverSyncTree_,Mt,!Mi);Ys(S.eventQueue_,T,Ui),Il(0,ie,Fn,ii)});var bn=ff(S,T);Qd(S,bn),Ys(S.eventQueue_,bn,[])}function Xf(S,T,L){S.server_.onDisconnectCancel(T.toString(),function(U,ie){"ok"===U&&no(S.onDisconnect_,T),Il(0,L,U,ie)})}function dc(S,T,L,U){var ie=Kr(L);S.server_.onDisconnectPut(T.toString(),ie.val(!0),function(ge,Pe){"ok"===ge&&Cc(S.onDisconnect_,T,ie),Il(0,U,ge,Pe)})}function Dr(S,T,L){var U;U=".info"===sn(T._path)?dt(S.infoSyncTree_,T,L):dt(S.serverSyncTree_,T,L),Ho(S.eventQueue_,T._path,U)}function Bu(S){S.persistentConnection_&&S.persistentConnection_.interrupt(w_)}function _d(S){for(var T=[],L=1;L<arguments.length;L++)T[L-1]=arguments[L];var U="";S.persistentConnection_&&(U=S.persistentConnection_.id+":"),oi.apply(void 0,(0,b.ev)([U],(0,b.CR)(T)))}function Il(S,T,L,U){T&&Zs(function(){if("ok"===L)T(null);else{var ie=(L||"error").toUpperCase(),ge=ie;U&&(ge+=": "+U);var Pe=new Error(ge);Pe.code=ie,T(Pe)}})}function Zc(S,T,L){return vt(S.serverSyncTree_,T,L)||er.EMPTY_NODE}function yd(S,T){if(void 0===T&&(T=S.transactionQueueTree_),T||tl(S,T),Ri(T)){var L=T_(S,T);(0,J.hu)(L.length>0,"Sending zero length transaction queue"),L.every(function(ie){return 0===ie.status})&&function(S,T,L){for(var U=L.map(function(Fn){return Fn.currentWriteId}),ie=Zc(S,T,U),ge=ie,Pe=ie.hash(),et=0;et<L.length;et++){var lt=L[et];(0,J.hu)(0===lt.status,"tryToSendTransactionQueue_: items in queue should all be run."),lt.status=1,lt.retryCount++;var Mt=Tr(T,lt.path);ge=ge.updateChild(Mt,lt.currentOutputSnapshotRaw)}var Rt=ge.val(!0),bn=T;S.server_.put(bn.toString(),Rt,function(Fn){_d(S,"transaction put response",{path:bn.toString(),status:Fn});var ii=[];if("ok"===Fn){for(var Mi=[],Ui=function(Wr){L[Wr].status=2,ii=ii.concat(_e(S.serverSyncTree_,L[Wr].currentWriteId)),L[Wr].onComplete&&Mi.push(function(){return L[Wr].onComplete(null,!0,L[Wr].currentOutputSnapshotResolved)}),L[Wr].unwatcher()},Qi=0;Qi<L.length;Qi++)Ui(Qi);for(tl(S,hl(S.transactionQueueTree_,T)),yd(S,S.transactionQueueTree_),Ys(S.eventQueue_,T,ii),Qi=0;Qi<Mi.length;Qi++)Zs(Mi[Qi])}else{if("datastale"===Fn)for(Qi=0;Qi<L.length;Qi++)L[Qi].status=3===L[Qi].status?4:0;else for(Pr("transaction at "+bn.toString()+" failed: "+Fn),Qi=0;Qi<L.length;Qi++)L[Qi].status=4,L[Qi].abortReason=Fn;Qd(S,T)}},Pe)}(S,Ja(T),L)}else Gr(T)&&io(T,function(ie){yd(S,ie)})}function Qd(S,T){var L=Qf(S,T),U=Ja(L);return function(S,T,L){if(0!==T.length){for(var U=[],ie=[],Pe=T.filter(function(Mt){return 0===Mt.status}).map(function(Mt){return Mt.currentWriteId}),et=function(Mt){var ii,Rt=T[Mt],bn=Tr(L,Rt.path),Fn=!1;if((0,J.hu)(null!==bn,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Rt.status)Fn=!0,ii=Rt.abortReason,ie=ie.concat(_e(S.serverSyncTree_,Rt.currentWriteId,!0));else if(0===Rt.status)if(Rt.retryCount>=25)Fn=!0,ii="maxretry",ie=ie.concat(_e(S.serverSyncTree_,Rt.currentWriteId,!0));else{var Mi=Zc(S,Rt.path,Pe);Rt.currentInputSnapshot=Mi;var Ui=T[Mt].update(Mi.val());if(void 0!==Ui){kc("transaction failed: Data returned ",Ui,Rt.path);var Qi=Kr(Ui);"object"==typeof Ui&&null!=Ui&&(0,J.r3)(Ui,".priority")||(Qi=Qi.updatePriority(Mi.getPriority()));var wa=Rt.currentWriteId,Ac=pu(S),Vp=Aa(Qi,Mi,Ac);Rt.currentOutputSnapshotRaw=Qi,Rt.currentOutputSnapshotResolved=Vp,Rt.currentWriteId=mp(S),Pe.splice(Pe.indexOf(wa),1),ie=(ie=ie.concat(fe(S.serverSyncTree_,Rt.path,Vp,Rt.currentWriteId,Rt.applyLocally))).concat(_e(S.serverSyncTree_,wa,!0))}else Fn=!0,ii="nodata",ie=ie.concat(_e(S.serverSyncTree_,Rt.currentWriteId,!0))}Ys(S.eventQueue_,L,ie),ie=[],Fn&&(T[Mt].status=2,setTimeout(T[Mt].unwatcher,Math.floor(0)),T[Mt].onComplete&&U.push("nodata"===ii?function(){return T[Mt].onComplete(null,!1,T[Mt].currentInputSnapshot)}:function(){return T[Mt].onComplete(new Error(ii),!1,null)}))},lt=0;lt<T.length;lt++)et(lt);for(tl(S,S.transactionQueueTree_),lt=0;lt<U.length;lt++)Zs(U[lt]);yd(S,S.transactionQueueTree_)}}(S,T_(S,L),U),U}function Qf(S,T){var L,U=S.transactionQueueTree_;for(L=sn(T);null!==L&&void 0===Ri(U);)U=hl(U,L),L=sn(T=dn(T));return U}function T_(S,T){var L=[];return el(S,T,L),L.sort(function(U,ie){return U.order-ie.order}),L}function el(S,T,L){var U=Ri(T);if(U)for(var ie=0;ie<U.length;ie++)L.push(U[ie]);io(T,function(ge){el(S,ge,L)})}function tl(S,T){var L=Ri(T);if(L){for(var U=0,ie=0;ie<L.length;ie++)2!==L[ie].status&&(L[U]=L[ie],U++);L.length=U,Ns(T,L.length>0?L:void 0)}io(T,function(ge){tl(S,ge)})}function ff(S,T){var L=Ja(Qf(S,T)),U=hl(S.transactionQueueTree_,T);return function(S,T,L){for(var U=S.parent;null!==U;){if(T(U))return!0;U=U.parent}}(U,function(ie){Jf(S,ie)}),Jf(S,U),Nr(U,function(ie){Jf(S,ie)}),L}function Jf(S,T){var L=Ri(T);if(L){for(var U=[],ie=[],ge=-1,Pe=0;Pe<L.length;Pe++)3===L[Pe].status||(1===L[Pe].status?((0,J.hu)(ge===Pe-1,"All SENT items should be at beginning of queue."),ge=Pe,L[Pe].status=3,L[Pe].abortReason="set"):((0,J.hu)(0===L[Pe].status,"Unexpected transaction status in abort"),L[Pe].unwatcher(),ie=ie.concat(_e(S.serverSyncTree_,L[Pe].currentWriteId,!0)),L[Pe].onComplete&&U.push(L[Pe].onComplete.bind(null,new Error("set"),!1,null))));for(-1===ge?Ns(T,void 0):L.length=ge+1,Ys(S.eventQueue_,Ja(T),ie),Pe=0;Pe<U.length;Pe++)Zs(U[Pe])}}var em=function(S,T){var L=Im(S),U=L.namespace;return"firebase.com"===L.domain&&qi(L.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!U||"undefined"===U)&&"localhost"!==L.domain&&qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),L.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Sr(L.host,L.secure,U,T,"ws"===L.scheme||"wss"===L.scheme,"",U!==L.subdomain),path:new $e(L.pathString)}},Im=function(S){var T="",L="",U="",ie="",ge="",Pe=!0,et="https",lt=443;if("string"==typeof S){var Mt=S.indexOf("//");Mt>=0&&(et=S.substring(0,Mt-1),S=S.substring(Mt+2));var Rt=S.indexOf("/");-1===Rt&&(Rt=S.length);var bn=S.indexOf("?");-1===bn&&(bn=S.length),T=S.substring(0,Math.min(Rt,bn)),Rt<bn&&(ie=function(S){for(var T="",L=S.split("/"),U=0;U<L.length;U++)if(L[U].length>0){var ie=L[U];try{ie=decodeURIComponent(ie.replace(/\+/g," "))}catch(ge){}T+="/"+ie}return T}(S.substring(Rt,bn)));var Fn=function(S){var T,L,U={};"?"===S.charAt(0)&&(S=S.substring(1));try{for(var ie=(0,b.XA)(S.split("&")),ge=ie.next();!ge.done;ge=ie.next()){var Pe=ge.value;if(0!==Pe.length){var et=Pe.split("=");2===et.length?U[decodeURIComponent(et[0])]=decodeURIComponent(et[1]):Pr("Invalid query segment '"+Pe+"' in query '"+S+"'")}}}catch(lt){T={error:lt}}finally{try{ge&&!ge.done&&(L=ie.return)&&L.call(ie)}finally{if(T)throw T.error}}return U}(S.substring(Math.min(S.length,bn)));(Mt=T.indexOf(":"))>=0?(Pe="https"===et||"wss"===et,lt=parseInt(T.substring(Mt+1),10)):Mt=T.length;var ii=T.slice(0,Mt);if("localhost"===ii.toLowerCase())L="localhost";else if(ii.split(".").length<=2)L=ii;else{var Mi=T.indexOf(".");U=T.substring(0,Mi).toLowerCase(),L=T.substring(Mi+1),ge=U}"ns"in Fn&&(ge=Fn.ns)}return{host:T,port:lt,domain:L,subdomain:U,secure:Pe,scheme:et,pathString:ie,namespace:ge}},Mg=function(){function S(T,L,U,ie){this.eventType=T,this.eventRegistration=L,this.snapshot=U,this.prevName=ie}return S.prototype.getPath=function(){var T=this.snapshot.ref;return"value"===this.eventType?T._path:T.parent._path},S.prototype.getEventType=function(){return this.eventType},S.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},S.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,J.Pz)(this.snapshot.exportVal())},S}(),hc=function(){function S(T,L,U){this.eventRegistration=T,this.error=L,this.path=U}return S.prototype.getPath=function(){return this.path},S.prototype.getEventType=function(){return"cancel"},S.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},S.prototype.toString=function(){return this.path.toString()+":cancel"},S}(),Qo=function(){function S(T,L){this.snapshotCallback=T,this.cancelCallback=L}return S.prototype.onValue=function(T,L){this.snapshotCallback.call(null,T,L)},S.prototype.onCancel=function(T){return(0,J.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,T)},Object.defineProperty(S.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),S.prototype.matches=function(T){return this.snapshotCallback===T.snapshotCallback||this.snapshotCallback.userCallback===T.snapshotCallback.userCallback&&this.snapshotCallback.context===T.snapshotCallback.context},S}(),gf=function(){function S(T,L){this._repo=T,this._path=L}return S.prototype.cancel=function(){var T=new J.BH;return Xf(this._repo,this._path,T.wrapCallback(function(){})),T.promise},S.prototype.remove=function(){xn("OnDisconnect.remove",this._path);var T=new J.BH;return dc(this._repo,this._path,null,T.wrapCallback(function(){})),T.promise},S.prototype.set=function(T){xn("OnDisconnect.set",this._path),Ka("OnDisconnect.set",T,this._path,!1);var L=new J.BH;return dc(this._repo,this._path,T,L.wrapCallback(function(){})),L.promise},S.prototype.setWithPriority=function(T,L){xn("OnDisconnect.setWithPriority",this._path),Ka("OnDisconnect.setWithPriority",T,this._path,!1),oe("OnDisconnect.setWithPriority",L,!1);var U=new J.BH;return function(S,T,L,U,ie){var ge=Kr(L,U);S.server_.onDisconnectPut(T.toString(),ge.val(!0),function(Pe,et){"ok"===Pe&&Cc(S.onDisconnect_,T,ge),Il(0,ie,Pe,et)})}(this._repo,this._path,T,L,U.wrapCallback(function(){})),U.promise},S.prototype.update=function(T){xn("OnDisconnect.update",this._path),G("OnDisconnect.update",T,this._path,!1);var L=new J.BH;return function(S,T,L,U){if((0,J.xb)(L))return oi("onDisconnect().update() called with empty data.  Don't do anything."),void Il(0,U,"ok",void 0);S.server_.onDisconnectMerge(T.toString(),L,function(ie,ge){"ok"===ie&&bi(L,function(Pe,et){var lt=Kr(et);Cc(S.onDisconnect_,fi(T,Pe),lt)}),Il(0,U,ie,ge)})}(this._repo,this._path,T,L.wrapCallback(function(){})),L.promise},S}(),xa=function(){function S(T,L,U,ie){this._repo=T,this._path=L,this._queryParams=U,this._orderByCalled=ie}return Object.defineProperty(S.prototype,"key",{get:function(){return Oi(this._path)?null:Nn(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ref",{get:function(){return new Cs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"_queryIdentifier",{get:function(){var T=Os(this._queryParams),L=Fi(T);return"{}"===L?"default":L},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"_queryObject",{get:function(){return Os(this._queryParams)},enumerable:!1,configurable:!0}),S.prototype.isEqual=function(T){if(!((T=(0,J.m9)(T))instanceof S))return!1;var L=this._repo===T._repo,U=_s(this._path,T._path);return L&&U&&this._queryIdentifier===T._queryIdentifier},S.prototype.toJSON=function(){return this.toString()},S.prototype.toString=function(){return this._repo.toString()+function(S){for(var T="",L=S.pieceNum_;L<S.pieces_.length;L++)""!==S.pieces_[L]&&(T+="/"+encodeURIComponent(String(S.pieces_[L])));return T||"/"}(this._path)},S}();function Zr(S,T){if(!0===S._orderByCalled)throw new Error(T+": You can't combine multiple orderBy calls.")}function ml(S){var T=null,L=null;if(S.hasStart()&&(T=S.getIndexStartValue()),S.hasEnd()&&(L=S.getIndexEndValue()),S.getIndex()===zl){var U="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",ie="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(S.hasStart()){if(S.getIndexStartName()!==un)throw new Error(U);if("string"!=typeof T)throw new Error(ie)}if(S.hasEnd()){if(S.getIndexEndName()!==Rn)throw new Error(U);if("string"!=typeof L)throw new Error(ie)}}else if(S.getIndex()===di){if(null!=T&&!Gl(T)||null!=L&&!Gl(L))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,J.hu)(S.getIndex()instanceof Au||S.getIndex()===Vl,"unknown index type."),null!=T&&"object"==typeof T||null!=L&&"object"==typeof L)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yp(S){if(S.hasStart()&&S.hasEnd()&&S.hasLimit()&&!S.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Cs=function(S){function T(L,U){return S.call(this,L,U,new Bc,!1)||this}return(0,b.ZT)(T,S),Object.defineProperty(T.prototype,"parent",{get:function(){var L=lr(this._path);return null===L?null:new T(this._repo,L)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"root",{get:function(){for(var L=this;null!==L.parent;)L=L.parent;return L},enumerable:!1,configurable:!0}),T}(xa),Kd=function(){function S(T,L,U){this._node=T,this.ref=L,this._index=U}return Object.defineProperty(S.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),S.prototype.child=function(T){var L=new $e(T),U=mu(this.ref,T);return new S(this._node.getChild(L),U,di)},S.prototype.exists=function(){return!this._node.isEmpty()},S.prototype.exportVal=function(){return this._node.val(!0)},S.prototype.forEach=function(T){var L=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(ie,ge){return T(new S(ge,mu(L.ref,ie),di))})},S.prototype.hasChild=function(T){var L=new $e(T);return!this._node.getChild(L).isEmpty()},S.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},S.prototype.toJSON=function(){return this.exportVal()},S.prototype.val=function(){return this._node.val()},S}();function _f(S,T){return(S=(0,J.m9)(S))._checkNotDeleted("ref"),void 0!==T?mu(S._root,T):S._root}function vd(S,T){(S=(0,J.m9)(S))._checkNotDeleted("refFromURL");var L=em(T,S._repo.repoInfo_.nodeAdmin);Vi("refFromURL",L);var U=L.repoInfo;return!S._repo.repoInfo_.isCustomHost()&&U.host!==S._repo.repoInfo_.host&&qi("refFromURL: Host name does not match the current database: (found "+U.host+" but expected "+S._repo.repoInfo_.host+")"),_f(S,L.path.toString())}function mu(S,T){return null===sn((S=(0,J.m9)(S))._path)?((L=T)&&(L=L.replace(/^\/*\.info(\/|$)/,"/")),Ke("child","path",L,!1)):Ke("child","path",T,!1),new Cs(S._repo,fi(S._path,T));var L}function tm(S,T){S=(0,J.m9)(S),xn("push",S._path),Ka("push",T,S._path,!0);var Pe,L=fp(S._repo),U=Bd(L),ie=mu(S,U),ge=mu(S,U);return Pe=null!=T?Sh(ge,T).then(function(){return ge}):Promise.resolve(ge),ie.then=Pe.then.bind(Pe),ie.catch=Pe.then.bind(Pe,void 0),ie}function Rp(S){return xn("remove",S._path),Sh(S,null)}function Sh(S,T){S=(0,J.m9)(S),xn("set",S._path),Ka("set",T,S._path,!1);var L=new J.BH;return gp(S._repo,S._path,T,null,L.wrapCallback(function(){})),L.promise}function Fp(S,T){S=(0,J.m9)(S),xn("setPriority",S._path),oe("setPriority",T,!1);var L=new J.BH;return gp(S._repo,fi(S._path,".priority"),T,null,L.wrapCallback(function(){})),L.promise}function S_(S,T,L){if(xn("setWithPriority",S._path),Ka("setWithPriority",T,S._path,!1),oe("setWithPriority",L,!1),".length"===S.key||".keys"===S.key)throw"setWithPriority failed: "+S.key+" is a read-only object.";var U=new J.BH;return gp(S._repo,S._path,T,L,U.wrapCallback(function(){})),U.promise}function nm(S,T){G("update",T,S._path,!1);var L=new J.BH;return function(S,T,L,U){_d(S,"update",{path:T.toString(),value:L});var ie=!0,ge=pu(S),Pe={};if(bi(L,function(Mt,Rt){ie=!1,Pe[Mt]=Al(fi(T,Mt),Kr(Rt),S.serverSyncTree_,ge)}),ie)oi("update() called with empty data.  Don't do anything."),Il(0,U,"ok",void 0);else{var et=mp(S),lt=function(S,T,L,U){!function(S,T,L,U){(0,J.hu)(U>S.lastWriteId,"Stacking an older merge on top of newer ones"),S.allWrites.push({path:T,children:L,writeId:U,visible:!0}),S.visibleWrites=zo(S.visibleWrites,T,L),S.lastWriteId=U}(S.pendingWriteTree_,T,L,U);var ie=Ur.fromObject(L);return Bt(S,new ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},T,ie))}(S.serverSyncTree_,T,Pe,et);zs(S.eventQueue_,lt),S.server_.merge(T.toString(),L,function(Mt,Rt){var bn="ok"===Mt;bn||Pr("update at "+T+" failed: "+Mt);var Fn=_e(S.serverSyncTree_,et,!bn),ii=Fn.length>0?Qd(S,T):T;Ys(S.eventQueue_,ii,Fn),Il(0,U,Mt,Rt)}),bi(L,function(Mt){var Rt=ff(S,fi(T,Mt));Qd(S,Rt)}),Ys(S.eventQueue_,T,[])}}(S._repo,S._path,T,L.wrapCallback(function(){})),L.promise}function kh(S){return function(S,T){var L=function(S,T){var L=T._path,U=null;S.syncPointTree_.foreachOnPath(L,function(Mt,Rt){var bn=Tr(Mt,L);U=U||Ua(Rt,bn)});var ie=S.syncPointTree_.get(L);ie?U=U||Ua(ie,ft()):(ie=new dp,S.syncPointTree_=S.syncPointTree_.set(L,ie));var ge=null!=U,Pe=ge?new Mc(U,!0,!1):null;return function(S){return Ci(S.viewCache_)}(Da(ie,T,oc(S.pendingWriteTree_,T._path),ge?Pe.getNode():er.EMPTY_NODE,ge))}(S.serverSyncTree_,T);return null!=L?Promise.resolve(L):S.server_.get(T).then(function(U){var ie=Kr(U).withIndex(T._queryParams.getIndex()),ge=ze(S.serverSyncTree_,T._path,ie);return Ho(S.eventQueue_,T._path,ge),Promise.resolve(ie)},function(U){return _d(S,"get for query "+(0,J.Pz)(T)+" failed: "+U),Promise.reject(new Error(U))})}((S=(0,J.m9)(S))._repo,S).then(function(T){return new Kd(T,new Cs(S._repo,S._path),S._queryParams.getIndex())})}var Vu=function(){function S(T){this.callbackContext=T}return S.prototype.respondsTo=function(T){return"value"===T},S.prototype.createEvent=function(T,L){var U=L._queryParams.getIndex();return new Mg("value",this,new Kd(T.snapshotNode,new Cs(L._repo,L._path),U))},S.prototype.getEventRunner=function(T){var L=this;return"cancel"===T.getEventType()?function(){return L.callbackContext.onCancel(T.error)}:function(){return L.callbackContext.onValue(T.snapshot,null)}},S.prototype.createCancelEvent=function(T,L){return this.callbackContext.hasCancelCallback?new hc(this,T,L):null},S.prototype.matches=function(T){return T instanceof S&&(!T.callbackContext||!this.callbackContext||T.callbackContext.matches(this.callbackContext))},S.prototype.hasAnyCallback=function(){return null!==this.callbackContext},S}(),Pl=function(){function S(T,L){this.eventType=T,this.callbackContext=L}return S.prototype.respondsTo=function(T){var L="children_added"===T?"child_added":T;return this.eventType===("children_removed"===L?"child_removed":L)},S.prototype.createCancelEvent=function(T,L){return this.callbackContext.hasCancelCallback?new hc(this,T,L):null},S.prototype.createEvent=function(T,L){(0,J.hu)(null!=T.childName,"Child events should have a childName.");var U=mu(new Cs(L._repo,L._path),T.childName),ie=L._queryParams.getIndex();return new Mg(T.type,this,new Kd(T.snapshotNode,U,ie),T.prevName)},S.prototype.getEventRunner=function(T){var L=this;return"cancel"===T.getEventType()?function(){return L.callbackContext.onCancel(T.error)}:function(){return L.callbackContext.onValue(T.snapshot,T.prevName)}},S.prototype.matches=function(T){return T instanceof S&&this.eventType===T.eventType&&(!this.callbackContext||!T.callbackContext||this.callbackContext.matches(T.callbackContext))},S.prototype.hasAnyCallback=function(){return!!this.callbackContext},S}();function Eh(S,T,L,U,ie){var ge;if("object"==typeof U&&(ge=void 0,ie=U),"function"==typeof U&&(ge=U),ie&&ie.onlyOnce){var Pe=L,et=function(Rt,bn){Dr(S._repo,S,Mt),Pe(Rt,bn)};et.userCallback=L.userCallback,et.context=L.context,L=et}var lt=new Qo(L,ge||void 0),Mt="value"===T?new Vu(lt):new Pl(T,lt);return function(S,T,L){var U;U=".info"===sn(T._path)?ot(S.infoSyncTree_,T,L):ot(S.serverSyncTree_,T,L),Ho(S.eventQueue_,T._path,U)}(S._repo,S,Mt),function(){return Dr(S._repo,S,Mt)}}function Np(S,T,L,U){return Eh(S,"value",T,L,U)}function im(S,T,L,U){return Eh(S,"child_added",T,L,U)}function Pa(S,T,L,U){return Eh(S,"child_changed",T,L,U)}function yf(S,T,L,U){return Eh(S,"child_moved",T,L,U)}function vf(S,T,L,U){return Eh(S,"child_removed",T,L,U)}function Hu(S,T,L){var U=null,ie=L?new Qo(L):null;"value"===T?U=new Vu(ie):T&&(U=new Pl(T,ie)),Dr(S._repo,S,U)}var gu=function(){},bf=function(S){function T(L,U){var ie=S.call(this)||this;return ie._value=L,ie._key=U,ie}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Ka("endAt",this._value,L._path,!0);var U=pd(L._queryParams,this._value,this._key);if(yp(U),ml(U),L._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xa(L._repo,L._path,U,L._orderByCalled)},T}(gu);function Dh(S,T){return Be("endAt","key",T,!0),new bf(S,T)}var Zl=function(S){function T(L,U){var ie=S.call(this)||this;return ie._value=L,ie._key=U,ie}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Ka("endBefore",this._value,L._path,!1);var U=function(S,T,L){var ie;return S.index_===zl?("string"==typeof T&&(T=kl(T)),ie=pd(S,T,L)):ie=pd(S,T,null==L?un:kl(L)),ie.endBeforeSet_=!0,ie}(L._queryParams,this._value,this._key);if(yp(U),ml(U),L._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xa(L._repo,L._path,U,L._orderByCalled)},T}(gu);function Tg(S,T){return Be("endBefore","key",T,!0),new Zl(S,T)}var _u=function(S){function T(L,U){var ie=S.call(this)||this;return ie._value=L,ie._key=U,ie}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Ka("startAt",this._value,L._path,!0);var U=vh(L._queryParams,this._value,this._key);if(yp(U),ml(U),L._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xa(L._repo,L._path,U,L._orderByCalled)},T}(gu);function yu(S,T){return void 0===S&&(S=null),Be("startAt","key",T,!0),new _u(S,T)}var Lm=function(S){function T(L,U){var ie=S.call(this)||this;return ie._value=L,ie._key=U,ie}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Ka("startAfter",this._value,L._path,!1);var U=function(S,T,L){var U;return S.index_===zl?("string"==typeof T&&(T=tu(T)),U=vh(S,T,L)):U=vh(S,T,null==L?Rn:tu(L)),U.startAfterSet_=!0,U}(L._queryParams,this._value,this._key);if(yp(U),ml(U),L._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xa(L._repo,L._path,U,L._orderByCalled)},T}(gu);function Pm(S,T){return Be("startAfter","key",T,!0),new Lm(S,T)}var xf=function(S){function T(L){var U=S.call(this)||this;return U._limit=L,U}return(0,b.ZT)(T,S),T.prototype._apply=function(L){if(L._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xa(L._repo,L._path,function(S,T){var L=S.copy();return L.limitSet_=!0,L.limit_=T,L.viewFrom_="l",L}(L._queryParams,this._limit),L._orderByCalled)},T}(gu);function pc(S){if("number"!=typeof S||Math.floor(S)!==S||S<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new xf(S)}var bd=function(S){function T(L){var U=S.call(this)||this;return U._limit=L,U}return(0,b.ZT)(T,S),T.prototype._apply=function(L){if(L._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xa(L._repo,L._path,function(S,T){var L=S.copy();return L.limitSet_=!0,L.limit_=T,L.viewFrom_="r",L}(L._queryParams,this._limit),L._orderByCalled)},T}(gu);function pr(S){if("number"!=typeof S||Math.floor(S)!==S||S<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bd(S)}var vu=function(S){function T(L){var U=S.call(this)||this;return U._path=L,U}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Zr(L,"orderByChild");var U=new $e(this._path);if(Oi(U))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var ie=new Au(U),ge=va(L._queryParams,ie);return ml(ge),new xa(L._repo,L._path,ge,!0)},T}(gu);function Ah(S){if("$key"===S)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===S)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===S)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ke("orderByChild","path",S,!1),new vu(S)}var Uu=function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Zr(L,"orderByKey");var U=va(L._queryParams,zl);return ml(U),new xa(L._repo,L._path,U,!0)},T}(gu);function k_(){return new Uu}var rm=function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Zr(L,"orderByPriority");var U=va(L._queryParams,di);return ml(U),new xa(L._repo,L._path,U,!0)},T}(gu);function Ih(){return new rm}var fc=function(S){function T(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ZT)(T,S),T.prototype._apply=function(L){Zr(L,"orderByValue");var U=va(L._queryParams,Vl);return ml(U),new xa(L._repo,L._path,U,!0)},T}(gu);function Om(){return new fc}var E_=function(S){function T(L,U){var ie=S.call(this)||this;return ie._value=L,ie._key=U,ie}return(0,b.ZT)(T,S),T.prototype._apply=function(L){if(Ka("equalTo",this._value,L._path,!1),L._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(L._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bf(this._value,this._key)._apply(new _u(this._value,this._key)._apply(L))},T}(gu);function Rm(S,T){return Be("equalTo","key",T,!0),new E_(S,T)}function xd(S){for(var T,L,U=[],ie=1;ie<arguments.length;ie++)U[ie-1]=arguments[ie];var ge=(0,J.m9)(S);try{for(var Pe=(0,b.XA)(U),et=Pe.next();!et.done;et=Pe.next()){var lt=et.value;ge=lt._apply(ge)}}catch(Mt){T={error:Mt}}finally{try{et&&!et.done&&(L=Pe.return)&&L.call(Pe)}finally{if(T)throw T.error}}return ge}(function(S){(0,J.hu)(!es,"__referenceConstructor has already been defined"),es=S})(Cs),function(S){(0,J.hu)(!C,"__referenceConstructor has already been defined"),C=S}(Cs);var Wl={},mo=!1;function ju(S,T,L,U,ie){var ge=U||S.options.databaseURL;void 0===ge&&(S.options.projectId||qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),oi("Using default host for project ",S.options.projectId),ge=S.options.projectId+"-default-rtdb.firebaseio.com");var lt,Pe=em(ge,ie),et=Pe.repoInfo,Mt=void 0;"undefined"!=typeof process&&(Mt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Mt?(lt=!0,et=(Pe=em(ge="http://"+Mt+"?ns="+et.namespace,ie)).repoInfo):lt=!Pe.repoInfo.secure;var Rt=ie&&lt?new $i($i.OWNER):new Gi(S.name,S.options,T);Vi("Invalid Firebase Database URL",Pe),Oi(Pe.path)||qi("Database URL must point to the root of a Firebase Database (not including a child path).");var bn=function(S,T,L,U){var ie=Wl[T.name];ie||(Wl[T.name]=ie={});var ge=ie[S.toURLString()];return ge&&qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ge=new wg(S,mo,L,U),ie[S.toURLString()]=ge,ge}(et,S,Rt,new ma(S.name,L));return new Fm(bn,S)}var Fm=function(){function S(T,L){this._repoInternal=T,this.app=L,this.type="database",this._instanceStarted=!1}return Object.defineProperty(S.prototype,"_repo",{get:function(){return this._instanceStarted||(function(S,T,L){if(S.stats_=gs(S.repoInfo_),S.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)S.server_=new bh(S.repoInfo_,function(U,ie,ge,Pe){la(S,U,ie,ge,Pe)},S.authTokenProvider_,S.appCheckProvider_),setTimeout(function(){return yr(S,!0)},0);else{if(null!=L){if("object"!=typeof L)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,J.Pz)(L)}catch(U){throw new Error("Invalid authOverride provided: "+U)}}S.persistentConnection_=new Yc(S.repoInfo_,T,function(U,ie,ge,Pe){la(S,U,ie,ge,Pe)},function(U){yr(S,U)},function(U){!function(S,T){bi(T,function(L,U){Th(S,L,U)})}(S,U)},S.authTokenProvider_,S.appCheckProvider_,L),S.server_=S.persistentConnection_}S.authTokenProvider_.addTokenChangeListener(function(U){S.server_.refreshAuthToken(U)}),S.appCheckProvider_.addTokenChangeListener(function(U){S.server_.refreshAppCheckToken(U.token)}),S.statsReporter_=function(S,T){var L=S.toString();return ga[L]||(ga[L]=T()),ga[L]}(S.repoInfo_,function(){return new Pu(S.stats_,S.server_)}),S.infoData_=new rp,S.infoSyncTree_=new ae({startListening:function(U,ie,ge,Pe){var et=[],lt=S.infoData_.getNode(U._path);return lt.isEmpty()||(et=ze(S.infoSyncTree_,U._path,lt),setTimeout(function(){Pe("ok")},0)),et},stopListening:function(){}}),Th(S,"connected",!1),S.serverSyncTree_=new ae({startListening:function(U,ie,ge,Pe){return S.server_.listen(U,ge,ie,function(et,lt){var Mt=Pe(et,lt);Ys(S.eventQueue_,U._path,Mt)}),[]},stopListening:function(U,ie){S.server_.unlisten(U,ie)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Cs(this._repo,ft())),this._rootInternal},enumerable:!1,configurable:!0}),S.prototype._delete=function(){return null!==this._rootInternal&&(function(S,T){var L=Wl[T];(!L||L[S.key]!==S)&&qi("Database "+T+"("+S.repoInfo_+") has already been deleted."),Bu(S),delete L[S.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},S.prototype._checkNotDeleted=function(T){null===this._rootInternal&&qi("Cannot call "+T+" on a deleted database.")},S}();function Cf(S){(S=(0,J.m9)(S))._checkNotDeleted("goOffline"),Bu(S._repo)}function bu(S){(S=(0,J.m9)(S))._checkNotDeleted("goOnline"),function(S){S.persistentConnection_&&S.persistentConnection_.resume(w_)}(S._repo)}var mc={".sv":"timestamp"},Mf=function(){function S(T,L){this.committed=T,this.snapshot=L}return S.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},S}();function Fy(S,T,L){var U;if(S=(0,J.m9)(S),xn("Reference.transaction",S._path),".length"===S.key||".keys"===S.key)throw"Reference.transaction failed: "+S.key+" is a read-only object.";var ie=null===(U=null==L?void 0:L.applyLocally)||void 0===U||U,ge=new J.BH,et=Np(S,function(){});return function(S,T,L,U,ie,ge){_d(S,"transaction on "+T);var Pe={path:T,update:L,onComplete:U,status:null,order:at(),applyLocally:ge,retryCount:0,unwatcher:ie,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},et=Zc(S,T,void 0);Pe.currentInputSnapshot=et;var lt=Pe.update(et.val());if(void 0===lt)Pe.unwatcher(),Pe.currentOutputSnapshotRaw=null,Pe.currentOutputSnapshotResolved=null,Pe.onComplete&&Pe.onComplete(null,!1,Pe.currentInputSnapshot);else{kc("transaction failed: Data returned ",lt,Pe.path),Pe.status=0;var Mt=hl(S.transactionQueueTree_,T),Rt=Ri(Mt)||[];Rt.push(Pe),Ns(Mt,Rt);var bn=void 0;"object"==typeof lt&&null!==lt&&(0,J.r3)(lt,".priority")?(bn=(0,J.DV)(lt,".priority"),(0,J.hu)(Gl(bn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):bn=(vt(S.serverSyncTree_,T)||er.EMPTY_NODE).getPriority().val();var ii=pu(S),Mi=Kr(lt,bn),Ui=Aa(Mi,et,ii);Pe.currentOutputSnapshotRaw=Mi,Pe.currentOutputSnapshotResolved=Ui,Pe.currentWriteId=mp(S);var Qi=fe(S.serverSyncTree_,T,Ui,Pe.currentWriteId,Pe.applyLocally);Ys(S.eventQueue_,T,Qi),yd(S,S.transactionQueueTree_)}}(S._repo,S._path,T,function(lt,Mt,Rt){var bn=null;lt?ge.reject(lt):(bn=new Kd(Rt,new Cs(S._repo,S._path),di),ge.resolve(new Mf(Mt,bn)))},et,ie),ge.promise}var xu=function(){function S(T){this._delegate=T}return S.prototype.cancel=function(T){(0,J.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,J.Wj)("OnDisconnect.cancel","onComplete",T,!0);var L=this._delegate.cancel();return T&&L.then(function(){return T(null)},function(U){return T(U)}),L},S.prototype.remove=function(T){(0,J.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,J.Wj)("OnDisconnect.remove","onComplete",T,!0);var L=this._delegate.remove();return T&&L.then(function(){return T(null)},function(U){return T(U)}),L},S.prototype.set=function(T,L){(0,J.Dv)("OnDisconnect.set",1,2,arguments.length),(0,J.Wj)("OnDisconnect.set","onComplete",L,!0);var U=this._delegate.set(T);return L&&U.then(function(){return L(null)},function(ie){return L(ie)}),U},S.prototype.setWithPriority=function(T,L,U){(0,J.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,J.Wj)("OnDisconnect.setWithPriority","onComplete",U,!0);var ie=this._delegate.setWithPriority(T,L);return U&&ie.then(function(){return U(null)},function(ge){return U(ge)}),ie},S.prototype.update=function(T,L){if((0,J.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(T)){for(var U={},ie=0;ie<T.length;++ie)U[""+ie]=T[ie];T=U,Pr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,J.Wj)("OnDisconnect.update","onComplete",L,!0);var ge=this._delegate.update(T);return L&&ge.then(function(){return L(null)},function(Pe){return L(Pe)}),ge},S}(),Nm=function(){function S(T,L){this.committed=T,this.snapshot=L}return S.prototype.toJSON=function(){return(0,J.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},S}(),th=function(){function S(T,L){this._database=T,this._delegate=L}return S.prototype.val=function(){return(0,J.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},S.prototype.exportVal=function(){return(0,J.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},S.prototype.toJSON=function(){return(0,J.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},S.prototype.exists=function(){return(0,J.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},S.prototype.child=function(T){return(0,J.Dv)("DataSnapshot.child",0,1,arguments.length),T=String(T),Ke("DataSnapshot.child","path",T,!1),new S(this._database,this._delegate.child(T))},S.prototype.hasChild=function(T){return(0,J.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ke("DataSnapshot.hasChild","path",T,!1),this._delegate.hasChild(T)},S.prototype.getPriority=function(){return(0,J.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},S.prototype.forEach=function(T){var L=this;return(0,J.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,J.Wj)("DataSnapshot.forEach","action",T,!1),this._delegate.forEach(function(U){return T(new S(L._database,U))})},S.prototype.hasChildren=function(){return(0,J.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(S.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),S.prototype.numChildren=function(){return(0,J.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},S.prototype.getRef=function(){return(0,J.Dv)("DataSnapshot.ref",0,0,arguments.length),new Gu(this._database,this._delegate.ref)},Object.defineProperty(S.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),S}(),om=function(){function S(T,L){this.database=T,this._delegate=L}return S.prototype.on=function(T,L,U,ie){var Pe,ge=this;(0,J.Dv)("Query.on",2,4,arguments.length),(0,J.Wj)("Query.on","callback",L,!1);var et=S.getCancelAndContextArgs_("Query.on",U,ie),lt=function(Rt,bn){L.call(et.context,new th(ge.database,Rt),bn)};lt.userCallback=L,lt.context=et.context;var Mt=null===(Pe=et.cancel)||void 0===Pe?void 0:Pe.bind(et.context);switch(T){case"value":return Np(this._delegate,lt,Mt),L;case"child_added":return im(this._delegate,lt,Mt),L;case"child_removed":return vf(this._delegate,lt,Mt),L;case"child_changed":return Pa(this._delegate,lt,Mt),L;case"child_moved":return yf(this._delegate,lt,Mt),L;default:throw new Error((0,J.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},S.prototype.off=function(T,L,U){if((0,J.Dv)("Query.off",0,3,arguments.length),ke("Query.off",T,!0),(0,J.Wj)("Query.off","callback",L,!0),(0,J.lb)("Query.off","context",U,!0),L){var ie=function(){};ie.userCallback=L,ie.context=U,Hu(this._delegate,T,ie)}else Hu(this._delegate,T)},S.prototype.get=function(){var T=this;return kh(this._delegate).then(function(L){return new th(T.database,L)})},S.prototype.once=function(T,L,U,ie){var ge=this;(0,J.Dv)("Query.once",1,4,arguments.length),(0,J.Wj)("Query.once","callback",L,!0);var Pe=S.getCancelAndContextArgs_("Query.once",U,ie),et=new J.BH,lt=function(Rt,bn){var Fn=new th(ge.database,Rt);L&&L.call(Pe.context,Fn,bn),et.resolve(Fn)};lt.userCallback=L,lt.context=Pe.context;var Mt=function(Rt){Pe.cancel&&Pe.cancel.call(Pe.context,Rt),et.reject(Rt)};switch(T){case"value":Np(this._delegate,lt,Mt,{onlyOnce:!0});break;case"child_added":im(this._delegate,lt,Mt,{onlyOnce:!0});break;case"child_removed":vf(this._delegate,lt,Mt,{onlyOnce:!0});break;case"child_changed":Pa(this._delegate,lt,Mt,{onlyOnce:!0});break;case"child_moved":yf(this._delegate,lt,Mt,{onlyOnce:!0});break;default:throw new Error((0,J.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return et.promise},S.prototype.limitToFirst=function(T){return(0,J.Dv)("Query.limitToFirst",1,1,arguments.length),new S(this.database,xd(this._delegate,pc(T)))},S.prototype.limitToLast=function(T){return(0,J.Dv)("Query.limitToLast",1,1,arguments.length),new S(this.database,xd(this._delegate,pr(T)))},S.prototype.orderByChild=function(T){return(0,J.Dv)("Query.orderByChild",1,1,arguments.length),new S(this.database,xd(this._delegate,Ah(T)))},S.prototype.orderByKey=function(){return(0,J.Dv)("Query.orderByKey",0,0,arguments.length),new S(this.database,xd(this._delegate,k_()))},S.prototype.orderByPriority=function(){return(0,J.Dv)("Query.orderByPriority",0,0,arguments.length),new S(this.database,xd(this._delegate,Ih()))},S.prototype.orderByValue=function(){return(0,J.Dv)("Query.orderByValue",0,0,arguments.length),new S(this.database,xd(this._delegate,Om()))},S.prototype.startAt=function(T,L){return void 0===T&&(T=null),(0,J.Dv)("Query.startAt",0,2,arguments.length),new S(this.database,xd(this._delegate,yu(T,L)))},S.prototype.startAfter=function(T,L){return void 0===T&&(T=null),(0,J.Dv)("Query.startAfter",0,2,arguments.length),new S(this.database,xd(this._delegate,Pm(T,L)))},S.prototype.endAt=function(T,L){return void 0===T&&(T=null),(0,J.Dv)("Query.endAt",0,2,arguments.length),new S(this.database,xd(this._delegate,Dh(T,L)))},S.prototype.endBefore=function(T,L){return void 0===T&&(T=null),(0,J.Dv)("Query.endBefore",0,2,arguments.length),new S(this.database,xd(this._delegate,Tg(T,L)))},S.prototype.equalTo=function(T,L){return(0,J.Dv)("Query.equalTo",1,2,arguments.length),new S(this.database,xd(this._delegate,Rm(T,L)))},S.prototype.toString=function(){return(0,J.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},S.prototype.toJSON=function(){return(0,J.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},S.prototype.isEqual=function(T){if((0,J.Dv)("Query.isEqual",1,1,arguments.length),!(T instanceof S)){var L="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(L)}return this._delegate.isEqual(T._delegate)},S.getCancelAndContextArgs_=function(T,L,U){var ie={cancel:void 0,context:void 0};if(L&&U)ie.cancel=L,(0,J.Wj)(T,"cancel",ie.cancel,!0),ie.context=U,(0,J.lb)(T,"context",ie.context,!0);else if(L)if("object"==typeof L&&null!==L)ie.context=L;else{if("function"!=typeof L)throw new Error((0,J.gK)(T,"cancelOrContext")+" must either be a cancel callback or a context object.");ie.cancel=L}return ie},Object.defineProperty(S.prototype,"ref",{get:function(){return new Gu(this.database,new Cs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),S}(),Gu=function(S){function T(L,U){var ie=S.call(this,L,new xa(U._repo,U._path,new Bc,!1))||this;return ie.database=L,ie._delegate=U,ie}return(0,b.ZT)(T,S),T.prototype.getKey=function(){return(0,J.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},T.prototype.child=function(L){return(0,J.Dv)("Reference.child",1,1,arguments.length),"number"==typeof L&&(L=String(L)),new T(this.database,mu(this._delegate,L))},T.prototype.getParent=function(){(0,J.Dv)("Reference.parent",0,0,arguments.length);var L=this._delegate.parent;return L?new T(this.database,L):null},T.prototype.getRoot=function(){return(0,J.Dv)("Reference.root",0,0,arguments.length),new T(this.database,this._delegate.root)},T.prototype.set=function(L,U){(0,J.Dv)("Reference.set",1,2,arguments.length),(0,J.Wj)("Reference.set","onComplete",U,!0);var ie=Sh(this._delegate,L);return U&&ie.then(function(){return U(null)},function(ge){return U(ge)}),ie},T.prototype.update=function(L,U){if((0,J.Dv)("Reference.update",1,2,arguments.length),Array.isArray(L)){for(var ie={},ge=0;ge<L.length;++ge)ie[""+ge]=L[ge];L=ie,Pr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xn("Reference.update",this._delegate._path),(0,J.Wj)("Reference.update","onComplete",U,!0);var Pe=nm(this._delegate,L);return U&&Pe.then(function(){return U(null)},function(et){return U(et)}),Pe},T.prototype.setWithPriority=function(L,U,ie){(0,J.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,J.Wj)("Reference.setWithPriority","onComplete",ie,!0);var ge=S_(this._delegate,L,U);return ie&&ge.then(function(){return ie(null)},function(Pe){return ie(Pe)}),ge},T.prototype.remove=function(L){(0,J.Dv)("Reference.remove",0,1,arguments.length),(0,J.Wj)("Reference.remove","onComplete",L,!0);var U=Rp(this._delegate);return L&&U.then(function(){return L(null)},function(ie){return L(ie)}),U},T.prototype.transaction=function(L,U,ie){var ge=this;(0,J.Dv)("Reference.transaction",1,3,arguments.length),(0,J.Wj)("Reference.transaction","transactionUpdate",L,!1),(0,J.Wj)("Reference.transaction","onComplete",U,!0),ts("Reference.transaction","applyLocally",ie,!0);var Pe=Fy(this._delegate,L,{applyLocally:ie}).then(function(et){return new Nm(et.committed,new th(ge.database,et.snapshot))});return U&&Pe.then(function(et){return U(null,et.committed,et.snapshot)},function(et){return U(et,!1,null)}),Pe},T.prototype.setPriority=function(L,U){(0,J.Dv)("Reference.setPriority",1,2,arguments.length),(0,J.Wj)("Reference.setPriority","onComplete",U,!0);var ie=Fp(this._delegate,L);return U&&ie.then(function(){return U(null)},function(ge){return U(ge)}),ie},T.prototype.push=function(L,U){var ie=this;(0,J.Dv)("Reference.push",0,2,arguments.length),(0,J.Wj)("Reference.push","onComplete",U,!0);var ge=tm(this._delegate,L),Pe=ge.then(function(lt){return new T(ie.database,lt)});U&&Pe.then(function(){return U(null)},function(lt){return U(lt)});var et=new T(this.database,ge);return et.then=Pe.then.bind(Pe),et.catch=Pe.catch.bind(Pe,void 0),et},T.prototype.onDisconnect=function(){return xn("Reference.onDisconnect",this._delegate._path),new xu(new gf(this._delegate._repo,this._delegate._path))},Object.defineProperty(T.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),T}(om),wd=function(){function S(T,L){var U=this;this._delegate=T,this.app=L,this.INTERNAL={delete:function(){return U._delegate._delete()}}}return S.prototype.useEmulator=function(T,L,U){void 0===U&&(U={}),function(S,T,L,U){void 0===U&&(U={}),(S=(0,J.m9)(S))._checkNotDeleted("useEmulator"),S._instanceStarted&&qi("Cannot call useEmulator() after instance has already been initialized.");var ie=S._repoInternal,ge=void 0;if(ie.repoInfo_.nodeAdmin)U.mockUserToken&&qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ge=new $i($i.OWNER);else if(U.mockUserToken){var Pe=(0,J.Sg)(U.mockUserToken,S.app.options.projectId);ge=new $i(Pe)}!function(S,T,L,U){S.repoInfo_=new Sr(T+":"+L,!1,S.repoInfo_.namespace,S.repoInfo_.webSocketOnly,S.repoInfo_.nodeAdmin,S.repoInfo_.persistenceKey,S.repoInfo_.includeNamespaceInQueryParams),U&&(S.authTokenProvider_=U)}(ie,T,L,ge)}(this._delegate,T,L,U)},S.prototype.ref=function(T){if((0,J.Dv)("database.ref",0,1,arguments.length),T instanceof Gu){var L=vd(this._delegate,T.toString());return new Gu(this,L)}return L=_f(this._delegate,T),new Gu(this,L)},S.prototype.refFromURL=function(T){var L="database.refFromURL";(0,J.Dv)(L,1,1,arguments.length);var U=vd(this._delegate,T);return new Gu(this,U)},S.prototype.goOffline=function(){return(0,J.Dv)("database.goOffline",0,0,arguments.length),Cf(this._delegate)},S.prototype.goOnline=function(){return(0,J.Dv)("database.goOnline",0,0,arguments.length),bu(this._delegate)},S.ServerValue={TIMESTAMP:mc,increment:function(T){return function(S){return{".sv":{increment:S}}}(T)}},S}(),Bm=Object.freeze({__proto__:null,forceLongPolling:function(){h.forceDisallow(),Kt.forceAllow()},forceWebSockets:function(){Kt.forceDisallow()},isWebSocketsAvailable:function(){return h.isAvailable()},setSecurityDebugCallback:function(S,T){S._delegate._repo.persistentConnection_.securityDebugCallback_=T},stats:function(S,T){!function(S,T){if(void 0===T&&(T=!1),"undefined"!=typeof console){var L;T?(S.statsListener_||(S.statsListener_=new tc(S.stats_)),L=S.statsListener_.get()):L=S.stats_.get();var U=Object.keys(L).reduce(function(ie,ge){return Math.max(ge.length,ie)},0);bi(L,function(ie,ge){for(var Pe=ie,et=ie.length;et<U+2;et++)Pe+=" ";console.log(Pe+ge)})}}(S._delegate._repo,T)},statsIncrementCounter:function(S,T){!function(S,T){S.stats_.incrementCounter(T),function(S,T){S.statsToReport_[T]=!0}(S.statsReporter_,T)}(S._delegate._repo,T)},dataUpdateCount:function(S){return S._delegate._repo.dataUpdateCount},interceptServerData:function(S,T){return function(S,T){S.interceptServerDataCallback_=T}(S._delegate._repo,T)},initStandalone:function(S){var T=S.app,L=S.url,ie=S.customAuthImpl,ge=S.namespace,Pe=S.nodeAdmin,et=void 0!==Pe&&Pe;Fe(S.version);var lt=new W.zt("auth-internal",new W.H0("database-standalone"));return lt.setComponent(new W.wA("auth-internal",function(){return ie},"PRIVATE")),{instance:new wd(ju(T,lt,void 0,L,et),T),namespace:ge}}}),Vm=Yc;Yc.prototype.simpleListen=function(S,T){this.sendRequest("q",{p:S},T)},Yc.prototype.echo=function(S,T){this.sendRequest("echo",{d:S},T)};var Eg=Object.freeze({__proto__:null,DataConnection:Vm,RealTimeConnection:je,hijackHash:function(S){var T=Yc.prototype.put;return Yc.prototype.put=function(L,U,ie,ge){void 0!==ge&&(ge=S()),T.call(this,L,U,ie,ge)},function(){Yc.prototype.put=T}},ConnectionTarget:Sr,queryIdentifier:function(S){return S._delegate._queryIdentifier},forceRestClient:function(S){!function(S){mo=S}(S)}}),Bp=wd.ServerValue;!function(S){Fe(S.SDK_VERSION);var T=S.INTERNAL.registerComponent(new W.wA("database",function(L,U){var ie=U.instanceIdentifier,ge=L.getProvider("app").getImmediate(),Pe=L.getProvider("auth-internal"),et=L.getProvider("app-check-internal");return new wd(ju(ge,Pe,et,ie),ge)},"PUBLIC").setServiceProps({Reference:Gu,Query:om,Database:wd,DataSnapshot:th,enableLogging:rs,INTERNAL:Bm,ServerValue:Bp,TEST_ACCESS:Eg}).setMultipleInstances(!0));S.registerVersion("@firebase/database","0.10.9"),(0,J.Yr)()&&(Ht.exports=T)}(o.Z)},300:(Ht,St,De)=>{"use strict";function o(){for(var ht=0,At=0,en=arguments.length;At<en;At++)ht+=arguments[At].length;var Ut=Array(ht),at=0;for(At=0;At<en;At++)for(var ei=arguments[At],In=0,jt=ei.length;In<jt;In++,at++)Ut[at]=ei[In];return Ut}De.d(St,{in:()=>b,Yd:()=>Fe,Ub:()=>He,Am:()=>xt});var W,J=[],b=(()=>{return(ht=b||(b={}))[ht.DEBUG=0]="DEBUG",ht[ht.VERBOSE=1]="VERBOSE",ht[ht.INFO=2]="INFO",ht[ht.WARN=3]="WARN",ht[ht.ERROR=4]="ERROR",ht[ht.SILENT=5]="SILENT",b;var ht})(),ce={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},be=b.INFO,Te=((W={})[b.DEBUG]="log",W[b.VERBOSE]="log",W[b.INFO]="info",W[b.WARN]="warn",W[b.ERROR]="error",W),xe=function(ht,At){for(var en=[],Ut=2;Ut<arguments.length;Ut++)en[Ut-2]=arguments[Ut];if(!(At<ht.logLevel)){var at=(new Date).toISOString(),ei=Te[At];if(!ei)throw new Error("Attempted to log a message with an invalid logType (value: "+At+")");console[ei].apply(console,o(["["+at+"]  "+ht.name+":"],en))}},Fe=function(){function ht(At){this.name=At,this._logLevel=be,this._logHandler=xe,this._userLogHandler=null,J.push(this)}return Object.defineProperty(ht.prototype,"logLevel",{get:function(){return this._logLevel},set:function(At){if(!(At in b))throw new TypeError('Invalid value "'+At+'" assigned to `logLevel`');this._logLevel=At},enumerable:!1,configurable:!0}),ht.prototype.setLogLevel=function(At){this._logLevel="string"==typeof At?ce[At]:At},Object.defineProperty(ht.prototype,"logHandler",{get:function(){return this._logHandler},set:function(At){if("function"!=typeof At)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=At},enumerable:!1,configurable:!0}),Object.defineProperty(ht.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(At){this._userLogHandler=At},enumerable:!1,configurable:!0}),ht.prototype.debug=function(){for(var At=[],en=0;en<arguments.length;en++)At[en]=arguments[en];this._userLogHandler&&this._userLogHandler.apply(this,o([this,b.DEBUG],At)),this._logHandler.apply(this,o([this,b.DEBUG],At))},ht.prototype.log=function(){for(var At=[],en=0;en<arguments.length;en++)At[en]=arguments[en];this._userLogHandler&&this._userLogHandler.apply(this,o([this,b.VERBOSE],At)),this._logHandler.apply(this,o([this,b.VERBOSE],At))},ht.prototype.info=function(){for(var At=[],en=0;en<arguments.length;en++)At[en]=arguments[en];this._userLogHandler&&this._userLogHandler.apply(this,o([this,b.INFO],At)),this._logHandler.apply(this,o([this,b.INFO],At))},ht.prototype.warn=function(){for(var At=[],en=0;en<arguments.length;en++)At[en]=arguments[en];this._userLogHandler&&this._userLogHandler.apply(this,o([this,b.WARN],At)),this._logHandler.apply(this,o([this,b.WARN],At))},ht.prototype.error=function(){for(var At=[],en=0;en<arguments.length;en++)At[en]=arguments[en];this._userLogHandler&&this._userLogHandler.apply(this,o([this,b.ERROR],At)),this._logHandler.apply(this,o([this,b.ERROR],At))},ht}();function He(ht){J.forEach(function(At){At.setLogLevel(ht)})}function xt(ht,At){for(var en=function(In){var jt=null;At&&At.level&&(jt=ce[At.level]),In.userLogHandler=null===ht?null:function(tr,rs){for(var oi=[],Li=2;Li<arguments.length;Li++)oi[Li-2]=arguments[Li];var ks=oi.map(function(qi){if(null==qi)return null;if("string"==typeof qi)return qi;if("number"==typeof qi||"boolean"==typeof qi)return qi.toString();if(qi instanceof Error)return qi.message;try{return JSON.stringify(qi)}catch(Pr){return null}}).filter(function(qi){return qi}).join(" ");rs>=(null!=jt?jt:tr.logLevel)&&ht({level:b[rs].toLowerCase(),message:ks,args:oi,type:tr.name})}},Ut=0,at=J;Ut<at.length;Ut++)en(at[Ut])}},4685:(Ht,St,De)=>{"use strict";De.d(St,{BH:()=>At,LL:()=>fn,gQ:()=>$i,hu:()=>J,g5:()=>b,US:()=>Te,h$:()=>xe,r3:()=>xr,Sg:()=>en,ne:()=>ho,p$:()=>He,ZB:()=>xt,gK:()=>po,m9:()=>ko,z$:()=>Ut,GJ:()=>ki,jU:()=>In,ru:()=>jt,d:()=>rs,xb:()=>Qr,w1:()=>oi,uI:()=>at,UG:()=>ei,Yr:()=>ks,b$:()=>tr,G6:()=>qi,Mn:()=>Li,w9:()=>$n,cI:()=>Fi,UI:()=>Vs,xO:()=>nr,DV:()=>uo,ug:()=>Sr,dS:()=>Ro,Pz:()=>ui,Dv:()=>Xi,Wj:()=>Hr,lb:()=>Ls});var o=De(4762),J=function(Pt,Lt){if(!Pt)throw b(Lt)},b=function(Pt){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Pt)},ce=function(Pt){for(var Lt=[],Wt=0,hn=0;hn<Pt.length;hn++){var nn=Pt.charCodeAt(hn);nn<128?Lt[Wt++]=nn:nn<2048?(Lt[Wt++]=nn>>6|192,Lt[Wt++]=63&nn|128):55296==(64512&nn)&&hn+1<Pt.length&&56320==(64512&Pt.charCodeAt(hn+1))?(nn=65536+((1023&nn)<<10)+(1023&Pt.charCodeAt(++hn)),Lt[Wt++]=nn>>18|240,Lt[Wt++]=nn>>12&63|128,Lt[Wt++]=nn>>6&63|128,Lt[Wt++]=63&nn|128):(Lt[Wt++]=nn>>12|224,Lt[Wt++]=nn>>6&63|128,Lt[Wt++]=63&nn|128)}return Lt},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Pt,Lt){if(!Array.isArray(Pt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Wt=Lt?this.byteToCharMapWebSafe_:this.byteToCharMap_,hn=[],nn=0;nn<Pt.length;nn+=3){var pi=Pt[nn],Ni=nn+1<Pt.length,ar=Ni?Pt[nn+1]:0,Or=nn+2<Pt.length,wr=Or?Pt[nn+2]:0,Ze=(15&ar)<<2|wr>>6,ct=63&wr;Or||(ct=64,Ni||(Ze=64)),hn.push(Wt[pi>>2],Wt[(3&pi)<<4|ar>>4],Wt[Ze],Wt[ct])}return hn.join("")},encodeString:function(Pt,Lt){return this.HAS_NATIVE_SUPPORT&&!Lt?btoa(Pt):this.encodeByteArray(ce(Pt),Lt)},decodeString:function(Pt,Lt){return this.HAS_NATIVE_SUPPORT&&!Lt?atob(Pt):function(Pt){for(var Lt=[],Wt=0,hn=0;Wt<Pt.length;){var nn=Pt[Wt++];if(nn<128)Lt[hn++]=String.fromCharCode(nn);else if(nn>191&&nn<224){var pi=Pt[Wt++];Lt[hn++]=String.fromCharCode((31&nn)<<6|63&pi)}else if(nn>239&&nn<365){var Or=((7&nn)<<18|(63&(pi=Pt[Wt++]))<<12|(63&(Ni=Pt[Wt++]))<<6|63&Pt[Wt++])-65536;Lt[hn++]=String.fromCharCode(55296+(Or>>10)),Lt[hn++]=String.fromCharCode(56320+(1023&Or))}else{pi=Pt[Wt++];var Ni=Pt[Wt++];Lt[hn++]=String.fromCharCode((15&nn)<<12|(63&pi)<<6|63&Ni)}}return Lt.join("")}(this.decodeStringToByteArray(Pt,Lt))},decodeStringToByteArray:function(Pt,Lt){this.init_();for(var Wt=Lt?this.charToByteMapWebSafe_:this.charToByteMap_,hn=[],nn=0;nn<Pt.length;){var pi=Wt[Pt.charAt(nn++)],ar=nn<Pt.length?Wt[Pt.charAt(nn)]:0,wr=++nn<Pt.length?Wt[Pt.charAt(nn)]:64,Ne=++nn<Pt.length?Wt[Pt.charAt(nn)]:64;if(++nn,null==pi||null==ar||null==wr||null==Ne)throw Error();hn.push(pi<<2|ar>>4),64!==wr&&(hn.push(ar<<4&240|wr>>2),64!==Ne&&hn.push(wr<<6&192|Ne))}return hn},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Pt=0;Pt<this.ENCODED_VALS.length;Pt++)this.byteToCharMap_[Pt]=this.ENCODED_VALS.charAt(Pt),this.charToByteMap_[this.byteToCharMap_[Pt]]=Pt,this.byteToCharMapWebSafe_[Pt]=this.ENCODED_VALS_WEBSAFE.charAt(Pt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pt]]=Pt,Pt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pt)]=Pt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pt)]=Pt)}}},xe=function(Pt){var Lt=ce(Pt);return Te.encodeByteArray(Lt,!0)},Fe=function(Pt){try{return Te.decodeString(Pt,!0)}catch(Lt){console.error("base64Decode failed: ",Lt)}return null};function He(Pt){return xt(void 0,Pt)}function xt(Pt,Lt){if(!(Lt instanceof Object))return Lt;switch(Lt.constructor){case Date:return new Date(Lt.getTime());case Object:void 0===Pt&&(Pt={});break;case Array:Pt=[];break;default:return Lt}for(var hn in Lt)!Lt.hasOwnProperty(hn)||!ht(hn)||(Pt[hn]=xt(Pt[hn],Lt[hn]));return Pt}function ht(Pt){return"__proto__"!==Pt}var At=function(){function Pt(){var Lt=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Wt,hn){Lt.resolve=Wt,Lt.reject=hn})}return Pt.prototype.wrapCallback=function(Lt){var Wt=this;return function(hn,nn){hn?Wt.reject(hn):Wt.resolve(nn),"function"==typeof Lt&&(Wt.promise.catch(function(){}),1===Lt.length?Lt(hn):Lt(hn,nn))}},Pt}();function en(Pt,Lt){if(Pt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var hn=Lt||"demo-project",nn=Pt.iat||0,pi=Pt.sub||Pt.user_id;if(!pi)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ni=(0,o.pi)({iss:"https://securetoken.google.com/"+hn,aud:hn,iat:nn,exp:nn+3600,auth_time:nn,sub:pi,user_id:pi,firebase:{sign_in_provider:"custom",identities:{}}},Pt);return[Te.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Te.encodeString(JSON.stringify(Ni),!1),""].join(".")}function Ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ei(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Pt){return!1}}function In(){return"object"==typeof self&&self.self===self}function jt(){var Pt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pt&&void 0!==Pt.id}function tr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rs(){return Ut().indexOf("Electron/")>=0}function oi(){var Pt=Ut();return Pt.indexOf("MSIE ")>=0||Pt.indexOf("Trident/")>=0}function Li(){return Ut().indexOf("MSAppHost/")>=0}function ks(){return!1}function qi(){return!ei()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Rn=function(Pt){function Lt(Wt,hn,nn){var pi=Pt.call(this,hn)||this;return pi.code=Wt,pi.customData=nn,pi.name="FirebaseError",Object.setPrototypeOf(pi,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(pi,fn.prototype.create),pi}return(0,o.ZT)(Lt,Pt),Lt}(Error),fn=function(){function Pt(Lt,Wt,hn){this.service=Lt,this.serviceName=Wt,this.errors=hn}return Pt.prototype.create=function(Lt){for(var Wt=[],hn=1;hn<arguments.length;hn++)Wt[hn-1]=arguments[hn];var nn=Wt[0]||{},pi=this.service+"/"+Lt,Ni=this.errors[Lt],ar=Ni?ni(Ni,nn):"Error",Or=this.serviceName+": "+ar+" ("+pi+").",wr=new Rn(pi,Or,nn);return wr},Pt}();function ni(Pt,Lt){return Pt.replace(Pi,function(Wt,hn){var nn=Lt[hn];return null!=nn?String(nn):"<"+hn+"?>"})}var Pi=/\{\$([^}]+)}/g;function Fi(Pt){return JSON.parse(Pt)}function ui(Pt){return JSON.stringify(Pt)}var bi=function(Pt){var Lt={},Wt={},hn={},nn="";try{var pi=Pt.split(".");Lt=Fi(Fe(pi[0])||""),Wt=Fi(Fe(pi[1])||""),nn=pi[2],hn=Wt.d||{},delete Wt.d}catch(Ni){}return{header:Lt,claims:Wt,data:hn,signature:nn}},$n=function(Pt){var Wt=bi(Pt).claims;return!!Wt&&"object"==typeof Wt&&Wt.hasOwnProperty("iat")},ki=function(Pt){var Lt=bi(Pt).claims;return"object"==typeof Lt&&!0===Lt.admin};function xr(Pt,Lt){return Object.prototype.hasOwnProperty.call(Pt,Lt)}function uo(Pt,Lt){if(Object.prototype.hasOwnProperty.call(Pt,Lt))return Pt[Lt]}function Qr(Pt){for(var Lt in Pt)if(Object.prototype.hasOwnProperty.call(Pt,Lt))return!1;return!0}function Vs(Pt,Lt,Wt){var hn={};for(var nn in Pt)Object.prototype.hasOwnProperty.call(Pt,nn)&&(hn[nn]=Lt.call(Wt,Pt[nn],nn,Pt));return hn}function nr(Pt){for(var Lt=[],Wt=function(Or,wr){Array.isArray(wr)?wr.forEach(function(st){Lt.push(encodeURIComponent(Or)+"="+encodeURIComponent(st))}):Lt.push(encodeURIComponent(Or)+"="+encodeURIComponent(wr))},hn=0,nn=Object.entries(Pt);hn<nn.length;hn++){var pi=nn[hn];Wt(pi[0],pi[1])}return Lt.length?"&"+Lt.join("&"):""}var $i=function(){function Pt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Lt=1;Lt<this.blockSize;++Lt)this.pad_[Lt]=0;this.reset()}return Pt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Pt.prototype.compress_=function(Lt,Wt){Wt||(Wt=0);var hn=this.W_;if("string"==typeof Lt)for(var nn=0;nn<16;nn++)hn[nn]=Lt.charCodeAt(Wt)<<24|Lt.charCodeAt(Wt+1)<<16|Lt.charCodeAt(Wt+2)<<8|Lt.charCodeAt(Wt+3),Wt+=4;else for(nn=0;nn<16;nn++)hn[nn]=Lt[Wt]<<24|Lt[Wt+1]<<16|Lt[Wt+2]<<8|Lt[Wt+3],Wt+=4;for(nn=16;nn<80;nn++)hn[nn]=4294967295&((pi=hn[nn-3]^hn[nn-8]^hn[nn-14]^hn[nn-16])<<1|pi>>>31);var Ne,Ze,Ni=this.chain_[0],ar=this.chain_[1],Or=this.chain_[2],wr=this.chain_[3],st=this.chain_[4];for(nn=0;nn<80;nn++){nn<40?nn<20?(Ne=wr^ar&(Or^wr),Ze=1518500249):(Ne=ar^Or^wr,Ze=1859775393):nn<60?(Ne=ar&Or|wr&(ar|Or),Ze=2400959708):(Ne=ar^Or^wr,Ze=3395469782);var pi=(Ni<<5|Ni>>>27)+Ne+st+Ze+hn[nn]&4294967295;st=wr,wr=Or,Or=4294967295&(ar<<30|ar>>>2),ar=Ni,Ni=pi}this.chain_[0]=this.chain_[0]+Ni&4294967295,this.chain_[1]=this.chain_[1]+ar&4294967295,this.chain_[2]=this.chain_[2]+Or&4294967295,this.chain_[3]=this.chain_[3]+wr&4294967295,this.chain_[4]=this.chain_[4]+st&4294967295},Pt.prototype.update=function(Lt,Wt){if(null!=Lt){void 0===Wt&&(Wt=Lt.length);for(var hn=Wt-this.blockSize,nn=0,pi=this.buf_,Ni=this.inbuf_;nn<Wt;){if(0===Ni)for(;nn<=hn;)this.compress_(Lt,nn),nn+=this.blockSize;if("string"==typeof Lt){for(;nn<Wt;)if(pi[Ni]=Lt.charCodeAt(nn),++nn,++Ni===this.blockSize){this.compress_(pi),Ni=0;break}}else for(;nn<Wt;)if(pi[Ni]=Lt[nn],++nn,++Ni===this.blockSize){this.compress_(pi),Ni=0;break}}this.inbuf_=Ni,this.total_+=Wt}},Pt.prototype.digest=function(){var Lt=[],Wt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var hn=this.blockSize-1;hn>=56;hn--)this.buf_[hn]=255&Wt,Wt/=256;this.compress_(this.buf_);var nn=0;for(hn=0;hn<5;hn++)for(var pi=24;pi>=0;pi-=8)Lt[nn]=this.chain_[hn]>>pi&255,++nn;return Lt},Pt}();function ho(Pt,Lt){var Wt=new Hs(Pt,Lt);return Wt.subscribe.bind(Wt)}var Hs=function(){function Pt(Lt,Wt){var hn=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Wt,this.task.then(function(){Lt(hn)}).catch(function(nn){hn.error(nn)})}return Pt.prototype.next=function(Lt){this.forEachObserver(function(Wt){Wt.next(Lt)})},Pt.prototype.error=function(Lt){this.forEachObserver(function(Wt){Wt.error(Lt)}),this.close(Lt)},Pt.prototype.complete=function(){this.forEachObserver(function(Lt){Lt.complete()}),this.close()},Pt.prototype.subscribe=function(Lt,Wt,hn){var pi,nn=this;if(void 0===Lt&&void 0===Wt&&void 0===hn)throw new Error("Missing Observer.");void 0===(pi=function(Pt,Lt){if("object"!=typeof Pt||null===Pt)return!1;for(var Wt=0,hn=["next","error","complete"];Wt<hn.length;Wt++){var nn=hn[Wt];if(nn in Pt&&"function"==typeof Pt[nn])return!0}return!1}(Lt)?Lt:{next:Lt,error:Wt,complete:hn}).next&&(pi.next=mr),void 0===pi.error&&(pi.error=mr),void 0===pi.complete&&(pi.complete=mr);var Ni=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{nn.finalError?pi.error(nn.finalError):pi.complete()}catch(ar){}}),this.observers.push(pi),Ni},Pt.prototype.unsubscribeOne=function(Lt){void 0===this.observers||void 0===this.observers[Lt]||(delete this.observers[Lt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Pt.prototype.forEachObserver=function(Lt){if(!this.finalized)for(var Wt=0;Wt<this.observers.length;Wt++)this.sendOne(Wt,Lt)},Pt.prototype.sendOne=function(Lt,Wt){var hn=this;this.task.then(function(){if(void 0!==hn.observers&&void 0!==hn.observers[Lt])try{Wt(hn.observers[Lt])}catch(nn){"undefined"!=typeof console&&console.error&&console.error(nn)}})},Pt.prototype.close=function(Lt){var Wt=this;this.finalized||(this.finalized=!0,void 0!==Lt&&(this.finalError=Lt),this.task.then(function(){Wt.observers=void 0,Wt.onNoObservers=void 0}))},Pt}();function mr(){}var Xi=function(Pt,Lt,Wt,hn){var nn;if(hn<Lt?nn="at least "+Lt:hn>Wt&&(nn=0===Wt?"none":"no more than "+Wt),nn)throw new Error(Pt+" failed: Was called with "+hn+(1===hn?" argument.":" arguments.")+" Expects "+nn+".")};function po(Pt,Lt){return Pt+" failed: "+Lt+" argument "}function Hr(Pt,Lt,Wt,hn){if((!hn||Wt)&&"function"!=typeof Wt)throw new Error(po(Pt,Lt)+"must be a valid function.")}function Ls(Pt,Lt,Wt,hn){if((!hn||Wt)&&("object"!=typeof Wt||null===Wt))throw new Error(po(Pt,Lt)+"must be a valid context object.")}var Ro=function(Pt){for(var Lt=[],Wt=0,hn=0;hn<Pt.length;hn++){var nn=Pt.charCodeAt(hn);if(nn>=55296&&nn<=56319){var pi=nn-55296;hn++,J(hn<Pt.length,"Surrogate pair missing trail surrogate."),nn=65536+(pi<<10)+(Pt.charCodeAt(hn)-56320)}nn<128?Lt[Wt++]=nn:nn<2048?(Lt[Wt++]=nn>>6|192,Lt[Wt++]=63&nn|128):nn<65536?(Lt[Wt++]=nn>>12|224,Lt[Wt++]=nn>>6&63|128,Lt[Wt++]=63&nn|128):(Lt[Wt++]=nn>>18|240,Lt[Wt++]=nn>>12&63|128,Lt[Wt++]=nn>>6&63|128,Lt[Wt++]=63&nn|128)}return Lt},Sr=function(Pt){for(var Lt=0,Wt=0;Wt<Pt.length;Wt++){var hn=Pt.charCodeAt(Wt);hn<128?Lt++:hn<2048?Lt+=2:hn>=55296&&hn<=56319?(Lt+=4,Wt++):Lt+=3}return Lt};function ko(Pt){return Pt&&Pt._delegate?Pt._delegate:Pt}},3300:(Ht,St,De)=>{"use strict";var o;function W(Le){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(Le)}function J(Le,h){if(!(Le instanceof h))throw new TypeError("Cannot call a class as a function")}function b(Le,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(Le,v.key,v)}}function ce(Le,h,p){return h&&b(Le.prototype,h),p&&b(Le,p),Le}function be(Le,h,p){return h in Le?Object.defineProperty(Le,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):Le[h]=p,Le}function Te(Le,h){var p=Object.keys(Le);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(Le);h&&(v=v.filter(function(M){return Object.getOwnPropertyDescriptor(Le,M).enumerable})),p.push.apply(p,v)}return p}function xe(Le){for(var h=1;h<arguments.length;h++){var p=null!=arguments[h]?arguments[h]:{};h%2?Te(Object(p),!0).forEach(function(v){be(Le,v,p[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(p)):Te(Object(p)).forEach(function(v){Object.defineProperty(Le,v,Object.getOwnPropertyDescriptor(p,v))})}return Le}function Fe(Le,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");Le.prototype=Object.create(h&&h.prototype,{constructor:{value:Le,writable:!0,configurable:!0}}),h&&xt(Le,h)}function He(Le){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(Le)}function xt(Le,h){return(xt=Object.setPrototypeOf||function(p,v){return p.__proto__=v,p})(Le,h)}function ht(Le,h){return!h||"object"!=typeof h&&"function"!=typeof h?function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(Le):h}function At(Le){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(p){return!1}}();return function(){var p,v=He(Le);if(h){var M=He(this).constructor;p=Reflect.construct(v,arguments,M)}else p=v.apply(this,arguments);return ht(this,p)}}function en(Le){return function(h){if(Array.isArray(h))return Ut(h)}(Le)||function(h){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(h))return Array.from(h)}(Le)||function(h,p){if(h){if("string"==typeof h)return Ut(h,p);var v=Object.prototype.toString.call(h).slice(8,-1);if("Object"===v&&h.constructor&&(v=h.constructor.name),"Map"===v||"Set"===v)return Array.from(h);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return Ut(h,p)}}(Le)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(Le,h){(null==h||h>Le.length)&&(h=Le.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=Le[p];return v}var at=function(){function Le(){J(this,Le)}return ce(Le,[{key:"shadeRGBColor",value:function(h,p){var v=p.split(","),M=h<0?0:255,E=h<0?-1*h:h,N=parseInt(v[0].slice(4),10),O=parseInt(v[1],10),j=parseInt(v[2],10);return"rgb("+(Math.round((M-N)*E)+N)+","+(Math.round((M-O)*E)+O)+","+(Math.round((M-j)*E)+j)+")"}},{key:"shadeHexColor",value:function(h,p){var v=parseInt(p.slice(1),16),M=h<0?0:255,E=h<0?-1*h:h,N=v>>16,O=v>>8&255,j=255&v;return"#"+(16777216+65536*(Math.round((M-N)*E)+N)+256*(Math.round((M-O)*E)+O)+(Math.round((M-j)*E)+j)).toString(16).slice(1)}},{key:"shadeColor",value:function(h,p){return Le.isColorHex(p)?this.shadeHexColor(h,p):this.shadeRGBColor(h,p)}}],[{key:"bind",value:function(h,p){return function(){return h.apply(p,arguments)}}},{key:"isObject",value:function(h){return h&&"object"===W(h)&&!Array.isArray(h)&&null!=h}},{key:"listToArray",value:function(h){var p,v=[];for(p=0;p<h.length;p++)v[p]=h[p];return v}},{key:"extend",value:function(h,p){var v=this;"function"!=typeof Object.assign&&(Object.assign=function(E){if(null==E)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(E),O=1;O<arguments.length;O++){var j=arguments[O];if(null!=j)for(var Z in j)j.hasOwnProperty(Z)&&(N[Z]=j[Z])}return N});var M=Object.assign({},h);return this.isObject(h)&&this.isObject(p)&&Object.keys(p).forEach(function(E){v.isObject(p[E])&&E in h?M[E]=v.extend(h[E],p[E]):Object.assign(M,be({},E,p[E]))}),M}},{key:"extendArray",value:function(h,p){var v=[];return h.map(function(M){v.push(Le.extend(p,M))}),v}},{key:"monthMod",value:function(h){return h%12}},{key:"clone",value:function(h){if("[object Array]"===Object.prototype.toString.call(h)){for(var p=[],v=0;v<h.length;v++)p[v]=this.clone(h[v]);return p}if("[object Null]"===Object.prototype.toString.call(h))return null;if("[object Date]"===Object.prototype.toString.call(h))return h;if("object"===W(h)){var M={};for(var E in h)h.hasOwnProperty(E)&&(M[E]=this.clone(h[E]));return M}return h}},{key:"log10",value:function(h){return Math.log(h)/Math.LN10}},{key:"roundToBase10",value:function(h){return Math.pow(10,Math.floor(Math.log10(h)))}},{key:"roundToBase",value:function(h,p){return Math.pow(p,Math.floor(Math.log(h)/Math.log(p)))}},{key:"parseNumber",value:function(h){return null===h?h:parseFloat(h)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(h){var p=String(h).split(/[eE]/);if(1===p.length)return p[0];var v="",M=h<0?"-":"",E=p[0].replace(".",""),N=Number(p[1])+1;if(N<0){for(v=M+"0.";N++;)v+="0";return v+E.replace(/^-/,"")}for(N-=E.length;N--;)v+="0";return E+v}},{key:"getDimensions",value:function(h){var p=getComputedStyle(h,null),v=h.clientHeight,M=h.clientWidth;return v-=parseFloat(p.paddingTop)+parseFloat(p.paddingBottom),[M-=parseFloat(p.paddingLeft)+parseFloat(p.paddingRight),v]}},{key:"getBoundingClientRect",value:function(h){var p=h.getBoundingClientRect();return{top:p.top,right:p.right,bottom:p.bottom,left:p.left,width:h.clientWidth,height:h.clientHeight,x:p.left,y:p.top}}},{key:"getLargestStringFromArr",value:function(h){return h.reduce(function(p,v){return Array.isArray(v)&&(v=v.reduce(function(M,E){return M.length>E.length?M:E})),p.length>v.length?p:v},0)}},{key:"hexToRgba",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==h.substring(0,1)&&(h="#999999");var v=h.replace("#","");v=v.match(new RegExp("(.{"+v.length/3+"})","g"));for(var M=0;M<v.length;M++)v[M]=parseInt(1===v[M].length?v[M]+v[M]:v[M],16);return void 0!==p&&v.push(p),"rgba("+v.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(h){return parseFloat(h.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(h){return(h=h.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===h.length?"#"+("0"+parseInt(h[1],10).toString(16)).slice(-2)+("0"+parseInt(h[2],10).toString(16)).slice(-2)+("0"+parseInt(h[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(h){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(h)}},{key:"getPolygonPos",value:function(h,p){for(var v=[],M=2*Math.PI/p,E=0;E<p;E++){var N={};N.x=h*Math.sin(E*M),N.y=-h*Math.cos(E*M),v.push(N)}return v}},{key:"polarToCartesian",value:function(h,p,v,M){var E=(M-90)*Math.PI/180;return{x:h+v*Math.cos(E),y:p+v*Math.sin(E)}}},{key:"escapeString",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",v=h.toString().slice();return v.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,p)}},{key:"negToZero",value:function(h){return h<0?0:h}},{key:"moveIndexInArray",value:function(h,p,v){if(v>=h.length)for(var M=v-h.length+1;M--;)h.push(void 0);return h.splice(v,0,h.splice(p,1)[0]),h}},{key:"extractNumber",value:function(h){return parseFloat(h.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(h,p){for(;(h=h.parentElement)&&!h.classList.contains(p););return h}},{key:"setELstyles",value:function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h.style.key=p[v])}},{key:"isNumber",value:function(h){return!isNaN(h)&&parseFloat(Number(h))===h&&!isNaN(parseInt(h,10))}},{key:"isFloat",value:function(h){return Number(h)===h&&h%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var h=window.navigator.userAgent,p=h.indexOf("MSIE ");if(p>0)return parseInt(h.substring(p+5,h.indexOf(".",p)),10);if(h.indexOf("Trident/")>0){var v=h.indexOf("rv:");return parseInt(h.substring(v+3,h.indexOf(".",v)),10)}var M=h.indexOf("Edge/");return M>0&&parseInt(h.substring(M+5,h.indexOf(".",M)),10)}},{key:"sanitizeDom",value:function(h){return String(h).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}]),Le}(),ei=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.setEasingFunctions()}return ce(Le,[{key:"setEasingFunctions",value:function(){var h;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":h="-";break;case"easein":h="<";break;case"easeout":h=">";break;case"easeinout":h="<>";break;case"swing":h=function(p){var v=1.70158;return(p-=1)*p*((v+1)*p+v)+1};break;case"bounce":h=function(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375};break;case"elastic":h=function(p){return p===!!p?p:Math.pow(2,-10*p)*Math.sin((p-.075)*(2*Math.PI)/.3)+1};break;default:h="<>"}this.w.globals.easing=h}}},{key:"animateLine",value:function(h,p,v,M){h.attr(p).animate(M).attr(v)}},{key:"animateMarker",value:function(h,p,v,M,E,N){p||(p=0),h.attr({r:p,width:p,height:p}).animate(M,E).attr({r:v,width:v.width,height:v.height}).afterAll(function(){N()})}},{key:"animateCircle",value:function(h,p,v,M,E){h.attr({r:p.r,cx:p.cx,cy:p.cy}).animate(M,E).attr({r:v.r,cx:v.cx,cy:v.cy})}},{key:"animateRect",value:function(h,p,v,M,E){h.attr(p).animate(M).attr(v).afterAll(function(){return E()})}},{key:"animatePathsGradually",value:function(h){var re=this.w,le=0;re.config.chart.animations.animateGradually.enabled&&(le=re.config.chart.animations.animateGradually.delay),re.config.chart.animations.dynamicAnimation.enabled&&re.globals.dataChanged&&"bar"!==re.config.chart.type&&(le=0),this.morphSVG(h.el,h.realIndex,h.j,"line"!==re.config.chart.type||re.globals.comboCharts?h.fill:"stroke",h.pathFrom,h.pathTo,h.speed,h.delay*le)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(h){h.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(h){var p=this.w;p.globals.animationEnded||(p.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof p.config.chart.events.animationEnd&&p.config.chart.events.animationEnd(this.ctx,{el:h,w:p}))}},{key:"morphSVG",value:function(h,p,v,M,E,N,O,j){var Z=this,re=this.w;E||(E=h.attr("pathFrom")),N||(N=h.attr("pathTo"));var le=function(se){return"radar"===re.config.chart.type&&(O=1),"M 0 ".concat(re.globals.gridHeight)};(!E||E.indexOf("undefined")>-1||E.indexOf("NaN")>-1)&&(E=le()),(!N||N.indexOf("undefined")>-1||N.indexOf("NaN")>-1)&&(N=le()),re.globals.shouldAnimate||(O=1),h.plot(E).animate(1,re.globals.easing,j).plot(E).animate(O,re.globals.easing,j).plot(N).afterAll(function(){at.isNumber(v)?v===re.globals.series[re.globals.maxValsInArrayIndex].length-2&&re.globals.shouldAnimate&&Z.animationCompleted(h):"none"!==M&&re.globals.shouldAnimate&&(!re.globals.comboCharts&&p===re.globals.series.length-1||re.globals.comboCharts)&&Z.animationCompleted(h),Z.showDelayedElements()})}}]),Le}(),In=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"getDefaultFilter",value:function(h,p){var v=this.w;h.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==v.config.states.normal.filter?this.applyFilter(h,p,v.config.states.normal.filter.type,v.config.states.normal.filter.value):v.config.chart.dropShadow.enabled&&this.dropShadow(h,v.config.chart.dropShadow,p)}},{key:"addNormalFilter",value:function(h,p){var v=this.w;v.config.chart.dropShadow.enabled&&!h.node.classList.contains("apexcharts-marker")&&this.dropShadow(h,v.config.chart.dropShadow,p)}},{key:"addLightenFilter",value:function(h,p,v){var M=this,E=this.w,N=v.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(O){var j=E.config.chart.dropShadow;(j.enabled?M.addShadow(O,p,j):O).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:N}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"addDarkenFilter",value:function(h,p,v){var M=this,E=this.w,N=v.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(O){var j=E.config.chart.dropShadow;(j.enabled?M.addShadow(O,p,j):O).componentTransfer({rgb:{type:"linear",slope:N}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"applyFilter",value:function(h,p,v){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(v){case"none":this.addNormalFilter(h,p);break;case"lighten":this.addLightenFilter(h,p,{intensity:M});break;case"darken":this.addDarkenFilter(h,p,{intensity:M})}}},{key:"addShadow",value:function(h,p,v){var M=v.blur,E=v.top,N=v.left,O=v.color,j=v.opacity,Z=h.flood(Array.isArray(O)?O[p]:O,j).composite(h.sourceAlpha,"in").offset(N,E).gaussianBlur(M).merge(h.source);return h.blend(h.source,Z)}},{key:"dropShadow",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,M=p.top,E=p.left,N=p.blur,O=p.color,j=p.opacity,Z=p.noUserSpaceOnUse,re=this.w;return h.unfilter(!0),at.isIE()&&"radialBar"===re.config.chart.type||(O=Array.isArray(O)?O[v]:O,h.filter(function(le){var se;se=at.isSafari()||at.isFirefox()||at.isIE()?le.flood(O,j).composite(le.sourceAlpha,"in").offset(E,M).gaussianBlur(N):le.flood(O,j).composite(le.sourceAlpha,"in").offset(E,M).gaussianBlur(N).merge(le.source),le.blend(le.source,se)}),Z||h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)),h}},{key:"setSelectionFilter",value:function(h,p,v){var M=this.w;if(void 0!==M.globals.selectedDataPoints[p]&&M.globals.selectedDataPoints[p].indexOf(v)>-1){h.node.setAttribute("selected",!0);var E=M.config.states.active.filter;"none"!==E&&this.applyFilter(h,p,E.type,E.value)}}},{key:"_scaleFilterSize",value:function(h){!function(p){for(var v in p)p.hasOwnProperty(v)&&h.setAttribute(v,p[v])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Le}(),jt=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"drawLine",value:function(h,p,v,M){var E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,j=this.w,Z=j.globals.dom.Paper.line().attr({x1:h,y1:p,x2:v,y2:M,stroke:E,"stroke-dasharray":N,"stroke-width":O});return Z}},{key:"drawRect",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,re=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,le=this.w,se=le.globals.dom.Paper.rect();return se.attr({x:h,y:p,width:v>0?v:0,height:M>0?M:0,rx:E,ry:E,opacity:O,"stroke-width":null!==j?j:0,stroke:null!==Z?Z:"none","stroke-dasharray":re}),se.node.setAttribute("fill",N),se}},{key:"drawPolygon",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",E=this.w,N=E.globals.dom.Paper.polygon(h).attr({fill:M,stroke:p,"stroke-width":v});return N}},{key:"drawCircle",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.w;h<0&&(h=0);var M=v.globals.dom.Paper.circle(2*h);return null!==p&&M.attr(p),M}},{key:"drawPath",value:function(h){var p=h.d,v=void 0===p?"":p,M=h.stroke,E=void 0===M?"#a8a8a8":M,N=h.strokeWidth,O=void 0===N?1:N,j=h.fill,Z=h.fillOpacity,re=void 0===Z?1:Z,le=h.strokeOpacity,se=void 0===le?1:le,me=h.classes,Ee=h.strokeLinecap,Ae=void 0===Ee?null:Ee,Re=h.strokeDashArray,je=void 0===Re?0:Re,it=this.w;return null===Ae&&(Ae=it.config.stroke.lineCap),(v.indexOf("undefined")>-1||v.indexOf("NaN")>-1)&&(v="M 0 ".concat(it.globals.gridHeight)),it.globals.dom.Paper.path(v).attr({fill:j,"fill-opacity":re,stroke:E,"stroke-opacity":se,"stroke-linecap":Ae,"stroke-width":O,"stroke-dasharray":je,class:me})}},{key:"group",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,p=this.w,v=p.globals.dom.Paper.group();return null!==h&&v.attr(h),v}},{key:"move",value:function(h,p){return["M",h,p].join(" ")}},{key:"line",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=null;return null===v?M=["L",h,p].join(" "):"H"===v?M=["H",h].join(" "):"V"===v&&(M=["V",p].join(" ")),M}},{key:"curve",value:function(h,p,v,M,E,N){return["C",h,p,v,M,E,N].join(" ")}},{key:"quadraticCurve",value:function(h,p,v,M){return["Q",h,p,v,M].join(" ")}},{key:"arc",value:function(h,p,v,M,E,N,O){var j=arguments.length>7&&void 0!==arguments[7]&&arguments[7],Z="A";j&&(Z="a");var re=[Z,h,p,v,M,E,N,O].join(" ");return re}},{key:"renderPaths",value:function(h){var p,v=h.j,M=h.realIndex,E=h.pathFrom,N=h.pathTo,O=h.stroke,j=h.strokeWidth,Z=h.strokeLinecap,re=h.fill,le=h.animationDelay,se=h.initialSpeed,me=h.dataChangeSpeed,Ee=h.className,Ae=h.shouldClipToGrid,Re=void 0===Ae||Ae,je=h.bindEventsOnPaths,it=void 0===je||je,_t=h.drawShadow,$=void 0===_t||_t,ue=this.w,Oe=new In(this.ctx),$e=new ei(this.ctx),ft=this.w.config.chart.animations.enabled,sn=ft&&this.w.config.chart.animations.dynamicAnimation.enabled,Gt=!!(ft&&!ue.globals.resized||sn&&ue.globals.dataChanged&&ue.globals.shouldAnimate);Gt?p=E:(p=N,ue.globals.animationEnded=!0);var Nn,dn=ue.config.stroke.dashArray;Nn=Array.isArray(dn)?dn[M]:ue.config.stroke.dashArray;var Pn=this.drawPath({d:p,stroke:O,strokeWidth:j,fill:re,fillOpacity:1,classes:Ee,strokeLinecap:Z,strokeDashArray:Nn});Pn.attr("index",M),Re&&Pn.attr({"clip-path":"url(#gridRectMask".concat(ue.globals.cuid,")")}),"none"!==ue.config.states.normal.filter.type?Oe.getDefaultFilter(Pn,M):ue.config.chart.dropShadow.enabled&&$&&(!ue.config.chart.dropShadow.enabledOnSeries||ue.config.chart.dropShadow.enabledOnSeries&&-1!==ue.config.chart.dropShadow.enabledOnSeries.indexOf(M))&&Oe.dropShadow(Pn,ue.config.chart.dropShadow,M),it&&(Pn.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Pn)),Pn.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Pn)),Pn.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Pn))),Pn.attr({pathTo:N,pathFrom:E});var lr={el:Pn,j:v,realIndex:M,pathFrom:E,pathTo:N,fill:re,strokeWidth:j,delay:le};return!ft||ue.globals.resized||ue.globals.dataChanged?!ue.globals.resized&&ue.globals.dataChanged||$e.showDelayedElements():$e.animatePathsGradually(xe(xe({},lr),{},{speed:se})),ue.globals.dataChanged&&sn&&Gt&&$e.animatePathsGradually(xe(xe({},lr),{},{speed:me})),Pn}},{key:"drawPattern",value:function(h,p,v){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,N=this.w,O=N.globals.dom.Paper.pattern(p,v,function(j){"horizontalLines"===h?j.line(0,0,v,0).stroke({color:M,width:E+1}):"verticalLines"===h?j.line(0,0,0,p).stroke({color:M,width:E+1}):"slantedLines"===h?j.line(0,0,p,v).stroke({color:M,width:E}):"squares"===h?j.rect(p,v).fill("none").stroke({color:M,width:E}):"circles"===h&&j.circle(p).fill("none").stroke({color:M,width:E})});return O}},{key:"drawGradient",value:function(h,p,v,M,E){var N,O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,re=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,le=this.w;p.length<9&&0===p.indexOf("#")&&(p=at.hexToRgba(p,M)),v.length<9&&0===v.indexOf("#")&&(v=at.hexToRgba(v,E));var se=0,me=1,Ee=1,Ae=null;null!==j&&(se=void 0!==j[0]?j[0]/100:0,me=void 0!==j[1]?j[1]/100:1,Ee=void 0!==j[2]?j[2]/100:1,Ae=void 0!==j[3]?j[3]/100:null);var Re=!("donut"!==le.config.chart.type&&"pie"!==le.config.chart.type&&"polarArea"!==le.config.chart.type&&"bubble"!==le.config.chart.type);if(N=le.globals.dom.Paper.gradient(Re?"radial":"linear",null===Z||0===Z.length?function(_t){_t.at(se,p,M),_t.at(me,v,E),_t.at(Ee,v,E),null!==Ae&&_t.at(Ae,p,M)}:function(_t){(Array.isArray(Z[re])?Z[re]:Z).forEach(function($){_t.at($.offset/100,$.color,$.opacity)})}),Re){var je=le.globals.gridWidth/2,it=le.globals.gridHeight/2;N.attr("bubble"!==le.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:je,cy:it,r:O}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===h?N.from(0,0).to(0,1):"diagonal"===h?N.from(0,0).to(1,1):"horizontal"===h?N.from(0,1).to(1,1):"diagonal2"===h&&N.from(1,0).to(0,1);return N}},{key:"drawText",value:function(h){var p,v=h.x,M=h.y,E=h.text,N=h.textAnchor,O=h.fontSize,j=h.fontFamily,Z=h.fontWeight,re=h.foreColor,le=h.opacity,se=h.cssClass,me=void 0===se?"":se,Ee=h.isPlainText,Ae=void 0===Ee||Ee,Re=this.w;return void 0===E&&(E=""),N||(N="start"),re&&re.length||(re=Re.config.chart.foreColor),j=j||Re.config.chart.fontFamily,Z=Z||"regular",(p=Array.isArray(E)?Re.globals.dom.Paper.text(function(je){for(var it=0;it<E.length;it++)0===it?je.tspan(E[it]):je.tspan(E[it]).newLine()}):Ae?Re.globals.dom.Paper.plain(E):Re.globals.dom.Paper.text(function(je){return je.tspan(E)})).attr({x:v,y:M,"text-anchor":N,"dominant-baseline":"auto","font-size":O,"font-family":j,"font-weight":Z,fill:re,class:"apexcharts-text "+me}),p.node.style.fontFamily=j,p.node.style.opacity=le,p}},{key:"drawMarker",value:function(h,p,v){h=h||0;var M=v.pSize||0,E=null;if("square"===v.shape||"rect"===v.shape){var N=void 0===v.pRadius?M/2:v.pRadius;null!==p&&M||(M=0,N=0);var O=1.2*M+N,j=this.drawRect(O,O,O,O,N);j.attr({x:h-O/2,y:p-O/2,cx:h,cy:p,class:v.class?v.class:"",fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,stroke:v.pointStrokeColor,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}),E=j}else"circle"!==v.shape&&v.shape||(at.isNumber(p)||(M=0,p=0),E=this.drawCircle(M,{cx:h,cy:p,class:v.class?v.class:"",stroke:v.pointStrokeColor,fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}));return E}},{key:"pathMouseEnter",value:function(h,p){var v=this.w,M=new In(this.ctx),E=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10);if("function"==typeof v.config.chart.events.dataPointMouseEnter&&v.config.chart.events.dataPointMouseEnter(p,this.ctx,{seriesIndex:E,dataPointIndex:N,w:v}),this.ctx.events.fireEvent("dataPointMouseEnter",[p,this.ctx,{seriesIndex:E,dataPointIndex:N,w:v}]),("none"===v.config.states.active.filter.type||"true"!==h.node.getAttribute("selected"))&&"none"!==v.config.states.hover.filter.type&&"none"!==v.config.states.active.filter.type&&!v.globals.isTouchDevice){var O=v.config.states.hover.filter;M.applyFilter(h,E,O.type,O.value)}}},{key:"pathMouseLeave",value:function(h,p){var v=this.w,M=new In(this.ctx),E=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10);"function"==typeof v.config.chart.events.dataPointMouseLeave&&v.config.chart.events.dataPointMouseLeave(p,this.ctx,{seriesIndex:E,dataPointIndex:N,w:v}),this.ctx.events.fireEvent("dataPointMouseLeave",[p,this.ctx,{seriesIndex:E,dataPointIndex:N,w:v}]),"none"!==v.config.states.active.filter.type&&"true"===h.node.getAttribute("selected")||"none"!==v.config.states.hover.filter.type&&M.getDefaultFilter(h,E)}},{key:"pathMouseDown",value:function(h,p){var v=this.w,M=new In(this.ctx),E=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10),O="false";if("true"===h.node.getAttribute("selected")){if(h.node.setAttribute("selected","false"),v.globals.selectedDataPoints[E].indexOf(N)>-1){var j=v.globals.selectedDataPoints[E].indexOf(N);v.globals.selectedDataPoints[E].splice(j,1)}}else{if(!v.config.states.active.allowMultipleDataPointsSelection&&v.globals.selectedDataPoints.length>0){v.globals.selectedDataPoints=[];var Z=v.globals.dom.Paper.select(".apexcharts-series path").members,re=v.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,le=function(me){Array.prototype.forEach.call(me,function(Ee){Ee.node.setAttribute("selected","false"),M.getDefaultFilter(Ee,E)})};le(Z),le(re)}h.node.setAttribute("selected","true"),O="true",void 0===v.globals.selectedDataPoints[E]&&(v.globals.selectedDataPoints[E]=[]),v.globals.selectedDataPoints[E].push(N)}if("true"===O){var se=v.config.states.active.filter;"none"!==se&&M.applyFilter(h,E,se.type,se.value)}else"none"!==v.config.states.active.filter.type&&M.getDefaultFilter(h,E);"function"==typeof v.config.chart.events.dataPointSelection&&v.config.chart.events.dataPointSelection(p,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:E,dataPointIndex:N,w:v}),p&&this.ctx.events.fireEvent("dataPointSelection",[p,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:E,dataPointIndex:N,w:v}])}},{key:"rotateAroundCenter",value:function(h){var p=h.getBBox();return{x:p.x+p.width/2,y:p.y+p.height/2}}},{key:"getTextRects",value:function(h,p,v,M){var E=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=this.w,O=this.drawText({x:-200,y:-200,text:h,textAnchor:"start",fontSize:p,fontFamily:v,foreColor:"#fff",opacity:0});M&&O.attr("transform",M),N.globals.dom.Paper.add(O);var j=O.bbox();return E||(j=O.node.getBoundingClientRect()),O.remove(),{width:j.width,height:j.height}}},{key:"placeTextWithEllipsis",value:function(h,p,v){if("function"==typeof h.getComputedTextLength&&(h.textContent=p,p.length>0&&h.getComputedTextLength()>=v/1.1)){for(var M=p.length-3;M>0;M-=3)if(h.getSubStringLength(0,M)<=v/1.1)return void(h.textContent=p.substring(0,M)+"...");h.textContent="."}}}],[{key:"setAttrs",value:function(h,p){for(var v in p)p.hasOwnProperty(v)&&h.setAttribute(v,p[v])}}]),Le}(),tr=function(){function Le(h){J(this,Le),this.w=h.w,this.annoCtx=h}return ce(Le,[{key:"setOrientations",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.w;if("vertical"===h.label.orientation){var M=null!==p?p:0,E=v.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(M,"']"));if(null!==E){var N=E.getBoundingClientRect();E.setAttribute("x",parseFloat(E.getAttribute("x"))-N.height+4),E.setAttribute("y","top"===h.label.position?parseFloat(E.getAttribute("y"))+N.width:parseFloat(E.getAttribute("y"))-N.width);var O=this.annoCtx.graphics.rotateAroundCenter(E),j=O.x,Z=O.y;E.setAttribute("transform","rotate(-90 ".concat(j," ").concat(Z,")"))}}}},{key:"addBackgroundToAnno",value:function(h,p){var v=this.w;if(!h||!p.label.text||p.label.text&&!p.label.text.trim())return null;var M=v.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),E=h.getBoundingClientRect(),N=p.label.style.padding.left,O=p.label.style.padding.right,j=p.label.style.padding.top,Z=p.label.style.padding.bottom;"vertical"===p.label.orientation&&(j=p.label.style.padding.left,Z=p.label.style.padding.right,N=p.label.style.padding.top,O=p.label.style.padding.bottom);var se=this.annoCtx.graphics.drawRect(E.left-M.left-N-v.globals.barPadForNumericAxis,E.top-M.top-j,E.width+N+O,E.height+j+Z,p.label.borderRadius,p.label.style.background,1,p.label.borderWidth,p.label.borderColor,0);return p.id&&se.node.classList.add(p.id),se}},{key:"annotationsBackground",value:function(){var h=this,p=this.w,v=function(M,E,N){var O=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(N,"-annotations .apexcharts-").concat(N,"-annotation-label[rel='").concat(E,"']"));if(O){var j=O.parentNode,Z=h.addBackgroundToAnno(O,M);Z&&j.insertBefore(Z.node,O)}};p.config.annotations.xaxis.map(function(M,E){v(M,E,"xaxis")}),p.config.annotations.yaxis.map(function(M,E){v(M,E,"yaxis")}),p.config.annotations.points.map(function(M,E){v(M,E,"point")})}},{key:"getStringX",value:function(h){var p=this.w,v=h;p.config.xaxis.convertedCatToNumeric&&p.globals.categoryLabels.length&&(h=p.globals.categoryLabels.indexOf(h)+1);var M=p.globals.labels.indexOf(h),E=p.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(M+1)+")");return E&&(v=parseFloat(E.getAttribute("x"))),v}}]),Le}(),rs=function(){function Le(h){J(this,Le),this.w=h.w,this.annoCtx=h,this.invertAxis=this.annoCtx.invertAxis}return ce(Le,[{key:"addXaxisAnnotation",value:function(h,p,v){var M=this.w,E=this.invertAxis?M.globals.minY:M.globals.minX,N=this.invertAxis?M.globals.maxY:M.globals.maxX,O=this.invertAxis?M.globals.yRange[0]:M.globals.xRange,j=(h.x-E)/(O/M.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(j=(N-h.x)/(O/M.globals.gridWidth));var Z=h.label.text;"category"!==M.config.xaxis.type&&!M.config.xaxis.convertedCatToNumeric||this.invertAxis||M.globals.dataFormatXNumeric||(j=this.annoCtx.helpers.getStringX(h.x));var re=h.strokeDashArray;if(at.isNumber(j)){if(null==h.x2){var le=this.annoCtx.graphics.drawLine(j+h.offsetX,0+h.offsetY,j+h.offsetX,M.globals.gridHeight+h.offsetY,h.borderColor,re,h.borderWidth);p.appendChild(le.node),h.id&&le.node.classList.add(h.id)}else{var se=(h.x2-E)/(O/M.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(se=(N-h.x2)/(O/M.globals.gridWidth)),"category"!==M.config.xaxis.type&&!M.config.xaxis.convertedCatToNumeric||this.invertAxis||M.globals.dataFormatXNumeric||(se=this.annoCtx.helpers.getStringX(h.x2)),se<j){var me=j;j=se,se=me}var Ee=this.annoCtx.graphics.drawRect(j+h.offsetX,0+h.offsetY,se-j,M.globals.gridHeight+h.offsetY,0,h.fillColor,h.opacity,1,h.borderColor,re);Ee.node.classList.add("apexcharts-annotation-rect"),Ee.attr("clip-path","url(#gridRectMask".concat(M.globals.cuid,")")),p.appendChild(Ee.node),h.id&&Ee.node.classList.add(h.id)}var Ae="top"===h.label.position?4:M.globals.gridHeight,Re=this.annoCtx.graphics.getTextRects(Z,parseFloat(h.label.style.fontSize)),je=this.annoCtx.graphics.drawText({x:j+h.label.offsetX,y:Ae+h.label.offsetY-("vertical"===h.label.orientation?"top"===h.label.position?Re.width/2-12:-Re.width/2:0),text:Z,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});je.attr({rel:v}),p.appendChild(je.node),this.annoCtx.helpers.setOrientations(h,v)}}},{key:"drawXAxisAnnotations",value:function(){var h=this,p=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return p.config.annotations.xaxis.map(function(M,E){h.addXaxisAnnotation(M,v.node,E)}),v}}]),Le}(),oi=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"getStackedSeriesTotals",value:function(){var h=this.w,p=[];if(0===h.globals.series.length)return p;for(var v=0;v<h.globals.series[h.globals.maxValsInArrayIndex].length;v++){for(var M=0,E=0;E<h.globals.series.length;E++)void 0!==h.globals.series[E][v]&&(M+=h.globals.series[E][v]);p.push(M)}return h.globals.stackedSeriesTotals=p,p}},{key:"getSeriesTotalByIndex",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===h?this.w.config.series.reduce(function(p,v){return p+v},0):this.w.globals.series[h].reduce(function(p,v){return p+v},0)}},{key:"isSeriesNull",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===h?this.w.config.series.filter(function(p){return null!==p}):this.w.config.series[h].data.filter(function(p){return null!==p})).length}},{key:"seriesHaveSameValues",value:function(h){return this.w.globals.series[h].every(function(p,v,M){return p===M[0]})}},{key:"getCategoryLabels",value:function(h){var p=this.w,v=h.slice();return p.config.xaxis.convertedCatToNumeric&&(v=h.map(function(M,E){return p.config.xaxis.labels.formatter(M-p.globals.minX+1)})),v}},{key:"getLargestSeries",value:function(){var h=this.w;h.globals.maxValsInArrayIndex=h.globals.series.map(function(p){return p.length}).indexOf(Math.max.apply(Math,h.globals.series.map(function(p){return p.length})))}},{key:"getLargestMarkerSize",value:function(){var h=this.w,p=0;return h.globals.markers.size.forEach(function(v){p=Math.max(p,v)}),h.globals.markers.largestSize=p,p}},{key:"getSeriesTotals",value:function(){var h=this.w;h.globals.seriesTotals=h.globals.series.map(function(p,v){var M=0;if(Array.isArray(p))for(var E=0;E<p.length;E++)M+=p[E];else M+=p;return M})}},{key:"getSeriesTotalsXRange",value:function(h,p){var v=this.w;return v.globals.series.map(function(M,E){for(var N=0,O=0;O<M.length;O++)v.globals.seriesX[E][O]>h&&v.globals.seriesX[E][O]<p&&(N+=M[O]);return N})}},{key:"getPercentSeries",value:function(){var h=this.w;h.globals.seriesPercent=h.globals.series.map(function(p,v){var M=[];if(Array.isArray(p))for(var E=0;E<p.length;E++){var N=h.globals.stackedSeriesTotals[E],O=0;N&&(O=100*p[E]/N),M.push(O)}else{var j=100*p/h.globals.seriesTotals.reduce(function(Z,re){return Z+re},0);M.push(j)}return M})}},{key:"getCalculatedRatios",value:function(){var h,p,v,M,E=this.w.globals,N=[],O=0,j=[],Z=.1,re=0;if(E.yRange=[],E.isMultipleYAxis)for(var le=0;le<E.minYArr.length;le++)E.yRange.push(Math.abs(E.minYArr[le]-E.maxYArr[le])),j.push(0);else E.yRange.push(Math.abs(E.minY-E.maxY));E.xRange=Math.abs(E.maxX-E.minX),E.zRange=Math.abs(E.maxZ-E.minZ);for(var se=0;se<E.yRange.length;se++)N.push(E.yRange[se]/E.gridHeight);if(p=E.xRange/E.gridWidth,v=Math.abs(E.initialMaxX-E.initialMinX)/E.gridWidth,h=E.yRange/E.gridWidth,M=E.xRange/E.gridHeight,(O=E.zRange/E.gridHeight*16)||(O=1),E.minY!==Number.MIN_VALUE&&0!==Math.abs(E.minY)&&(E.hasNegs=!0),E.isMultipleYAxis){j=[];for(var me=0;me<N.length;me++)j.push(-E.minYArr[me]/N[me])}else j.push(-E.minY/N[0]),E.minY!==Number.MIN_VALUE&&0!==Math.abs(E.minY)&&(Z=-E.minY/h,re=E.minX/p);return{yRatio:N,invertedYRatio:h,zRatio:O,xRatio:p,initialXRatio:v,invertedXRatio:M,baseLineInvertedY:Z,baseLineY:j,baseLineX:re}}},{key:"getLogSeries",value:function(h){var p=this,v=this.w;return v.globals.seriesLog=h.map(function(M,E){return v.config.yaxis[E]&&v.config.yaxis[E].logarithmic?M.map(function(N){return null===N?null:p.getLogVal(N,E)}):M}),v.globals.invalidLogScale?h:v.globals.seriesLog}},{key:"getLogVal",value:function(h,p){var v=this.w;return(Math.log(h)-Math.log(v.globals.minYArr[p]))/(Math.log(v.globals.maxYArr[p])-Math.log(v.globals.minYArr[p]))}},{key:"getLogYRatios",value:function(h){var p=this,v=this.w,M=this.w.globals;return M.yLogRatio=h.slice(),M.logYRange=M.yRange.map(function(E,N){if(v.config.yaxis[N]&&p.w.config.yaxis[N].logarithmic){var O,j=-Number.MAX_VALUE,Z=Number.MIN_VALUE;return M.seriesLog.forEach(function(re,le){re.forEach(function(se){v.config.yaxis[le]&&v.config.yaxis[le].logarithmic&&(j=Math.max(se,j),Z=Math.min(se,Z))})}),O=Math.pow(M.yRange[N],Math.abs(Z-j)/M.yRange[N]),M.yLogRatio[N]=O/M.gridHeight,O}}),M.invalidLogScale?h.slice():M.yLogRatio}}],[{key:"checkComboSeries",value:function(h){var p=!1,v=0,M=0;return h.length&&void 0!==h[0].type&&h.forEach(function(E){"bar"!==E.type&&"column"!==E.type&&"candlestick"!==E.type&&"boxPlot"!==E.type||v++,void 0!==E.type&&M++}),M>1&&(p=!0),{comboBarCount:v,comboCharts:p}}},{key:"extendArrayProps",value:function(h,p,v){return p.yaxis&&(p=h.extendYAxis(p,v)),p.annotations&&(p.annotations.yaxis&&(p=h.extendYAxisAnnotations(p)),p.annotations.xaxis&&(p=h.extendXAxisAnnotations(p)),p.annotations.points&&(p=h.extendPointAnnotations(p))),p}}]),Le}(),Li=function(){function Le(h){J(this,Le),this.w=h.w,this.annoCtx=h}return ce(Le,[{key:"addYaxisAnnotation",value:function(h,p,v){var M,E=this.w,N=h.strokeDashArray,O=this._getY1Y2("y1",h),j=h.label.text;if(null==h.y2){var Z=this.annoCtx.graphics.drawLine(0+h.offsetX,O+h.offsetY,this._getYAxisAnnotationWidth(h),O+h.offsetY,h.borderColor,N,h.borderWidth);p.appendChild(Z.node),h.id&&Z.node.classList.add(h.id)}else{if((M=this._getY1Y2("y2",h))>O){var re=O;O=M,M=re}var le=this.annoCtx.graphics.drawRect(0+h.offsetX,M+h.offsetY,this._getYAxisAnnotationWidth(h),O-M,0,h.fillColor,h.opacity,1,h.borderColor,N);le.node.classList.add("apexcharts-annotation-rect"),le.attr("clip-path","url(#gridRectMask".concat(E.globals.cuid,")")),p.appendChild(le.node),h.id&&le.node.classList.add(h.id)}var me=this.annoCtx.graphics.drawText({x:("right"===h.label.position?E.globals.gridWidth:0)+h.label.offsetX,y:(M||O)+h.label.offsetY-3,text:j,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});me.attr({rel:v}),p.appendChild(me.node)}},{key:"_getY1Y2",value:function(h,p){var v,M="y1"===h?p.y:p.y2,E=this.w;if(this.annoCtx.invertAxis){var N=E.globals.labels.indexOf(M);E.config.xaxis.convertedCatToNumeric&&(N=E.globals.categoryLabels.indexOf(M));var O=E.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(N+1)+")");O&&(v=parseFloat(O.getAttribute("y")))}else{var j;j=E.config.yaxis[p.yAxisIndex].logarithmic?(M=new oi(this.annoCtx.ctx).getLogVal(M,p.yAxisIndex))/E.globals.yLogRatio[p.yAxisIndex]:(M-E.globals.minYArr[p.yAxisIndex])/(E.globals.yRange[p.yAxisIndex]/E.globals.gridHeight),v=E.globals.gridHeight-j,E.config.yaxis[p.yAxisIndex]&&E.config.yaxis[p.yAxisIndex].reversed&&(v=j)}return v}},{key:"_getYAxisAnnotationWidth",value:function(h){var p=this.w;return(h.width.indexOf("%")>-1?p.globals.gridWidth*parseInt(h.width,10)/100:parseInt(h.width,10))+h.offsetX}},{key:"drawYAxisAnnotations",value:function(){var h=this,p=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return p.config.annotations.yaxis.map(function(M,E){h.addYaxisAnnotation(M,v.node,E)}),v}}]),Le}(),ks=function(){function Le(h){J(this,Le),this.w=h.w,this.annoCtx=h}return ce(Le,[{key:"addPointAnnotation",value:function(h,p,v){var M=this.w,E=0,N=0,O=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var j=parseFloat(h.y);if("string"==typeof h.x){var Z=M.globals.labels.indexOf(h.x);M.config.xaxis.convertedCatToNumeric&&(Z=M.globals.categoryLabels.indexOf(h.x)),E=this.annoCtx.helpers.getStringX(h.x),null===h.y&&(j=M.globals.series[h.seriesIndex][Z])}else E=(h.x-M.globals.minX)/(M.globals.xRange/M.globals.gridWidth);for(var re,le=[],se=0,me=0;me<=h.seriesIndex;me++){var Ee=M.config.yaxis[me].seriesName;if(Ee)for(var Ae=me+1;Ae<=h.seriesIndex;Ae++)M.config.yaxis[Ae].seriesName===Ee&&-1===le.indexOf(Ee)&&(se++,le.push(Ee))}if(M.config.yaxis[h.yAxisIndex].logarithmic)re=(j=new oi(this.annoCtx.ctx).getLogVal(j,h.yAxisIndex))/M.globals.yLogRatio[h.yAxisIndex];else{var Re=h.yAxisIndex+se;re=(j-M.globals.minYArr[Re])/(M.globals.yRange[Re]/M.globals.gridHeight)}if(N=M.globals.gridHeight-re-parseFloat(h.label.style.fontSize)-h.marker.size,O=M.globals.gridHeight-re,M.config.yaxis[h.yAxisIndex]&&M.config.yaxis[h.yAxisIndex].reversed&&(N=re+parseFloat(h.label.style.fontSize)+h.marker.size,O=re),at.isNumber(E)){var je={pSize:h.marker.size,pointStrokeWidth:h.marker.strokeWidth,pointFillColor:h.marker.fillColor,pointStrokeColor:h.marker.strokeColor,shape:h.marker.shape,pRadius:h.marker.radius,class:"apexcharts-point-annotation-marker ".concat(h.marker.cssClass," ").concat(h.id?h.id:"")},it=this.annoCtx.graphics.drawMarker(E+h.marker.offsetX,O+h.marker.offsetY,je);p.appendChild(it.node);var $=this.annoCtx.graphics.drawText({x:E+h.label.offsetX,y:N+h.label.offsetY,text:h.label.text?h.label.text:"",textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});if($.attr({rel:v}),p.appendChild($.node),h.customSVG.SVG){var ue=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+h.customSVG.cssClass});ue.attr({transform:"translate(".concat(E+h.customSVG.offsetX,", ").concat(N+h.customSVG.offsetY,")")}),ue.node.innerHTML=h.customSVG.SVG,p.appendChild(ue.node)}if(h.image.path){var Oe=h.image.width?h.image.width:20,$e=h.image.height?h.image.height:20;this.annoCtx.addImage({x:E+h.image.offsetX-Oe/2,y:N+h.image.offsetY-$e/2,width:Oe,height:$e,path:h.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var h=this,p=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return p.config.annotations.points.map(function(M,E){h.addPointAnnotation(M,v.node,E)}),v}}]),Le}(),qi={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Pr=function(){function Le(){J(this,Le),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ce(Le,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[qi],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(h){return new Date(h).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(h){return h}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(h){return h+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(p,v){return p+v},0)/h.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(h){return h}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(h){return h}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(p,v){return p+v},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(h){return null!==h?h:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(h){return h?h+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Le}(),_n=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.graphics=new jt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new tr(this),this.xAxisAnnotations=new rs(this),this.yAxisAnnotations=new Li(this),this.pointsAnnotations=new ks(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ce(Le,[{key:"drawAxesAnnotations",value:function(){var h=this.w;if(h.globals.axisCharts){for(var p=this.yAxisAnnotations.drawYAxisAnnotations(),v=this.xAxisAnnotations.drawXAxisAnnotations(),M=this.pointsAnnotations.drawPointAnnotations(),E=h.config.chart.animations.enabled,N=[p,v,M],O=[v.node,p.node,M.node],j=0;j<3;j++)h.globals.dom.elGraphical.add(N[j]),!E||h.globals.resized||h.globals.dataChanged||"scatter"!==h.config.chart.type&&"bubble"!==h.config.chart.type&&h.globals.dataPoints>1&&O[j].classList.add("apexcharts-element-hidden"),h.globals.delayedElements.push({el:O[j],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var h=this;this.w.config.annotations.images.map(function(p,v){h.addImage(p,v)})}},{key:"drawTextAnnos",value:function(){var h=this;this.w.config.annotations.texts.map(function(p,v){h.addText(p,v)})}},{key:"addXaxisAnnotation",value:function(h,p,v){this.xAxisAnnotations.addXaxisAnnotation(h,p,v)}},{key:"addYaxisAnnotation",value:function(h,p,v){this.yAxisAnnotations.addYaxisAnnotation(h,p,v)}},{key:"addPointAnnotation",value:function(h,p,v){this.pointsAnnotations.addPointAnnotation(h,p,v)}},{key:"addText",value:function(h,p){var E=h.text,se=h.backgroundColor,me=h.borderWidth,Ee=h.strokeDashArray,Ae=h.borderRadius,Re=h.borderColor,je=h.appendTo,it=void 0===je?".apexcharts-annotations":je,_t=h.paddingLeft,$=void 0===_t?4:_t,ue=h.paddingRight,Oe=void 0===ue?4:ue,$e=h.paddingBottom,ft=void 0===$e?2:$e,sn=h.paddingTop,Gt=void 0===sn?2:sn,dn=this.w,Nn=this.graphics.drawText({x:h.x,y:h.y,text:E,textAnchor:h.textAnchor||"start",fontSize:h.fontSize||"12px",fontWeight:h.fontWeight||"regular",fontFamily:h.fontFamily||dn.config.chart.fontFamily,foreColor:h.foreColor||dn.config.chart.foreColor,cssClass:h.cssClass}),Pn=dn.globals.dom.baseEl.querySelector(it);Pn&&Pn.appendChild(Nn.node);var wi=Nn.bbox();if(E){var lr=this.graphics.drawRect(wi.x-$,wi.y-Gt,wi.width+$+Oe,wi.height+ft+Gt,Ae,se||"transparent",1,me,Re,Ee);Pn.insertBefore(lr.node,Nn.node)}}},{key:"addImage",value:function(h,p){var v=this.w,E=h.x,N=void 0===E?0:E,O=h.y,j=void 0===O?0:O,Z=h.width,re=void 0===Z?20:Z,le=h.height,se=void 0===le?20:le,me=h.appendTo,Ee=void 0===me?".apexcharts-annotations":me,Ae=v.globals.dom.Paper.image(h.path);Ae.size(re,se).move(N,j);var Re=v.globals.dom.baseEl.querySelector(Ee);Re&&Re.appendChild(Ae.node)}},{key:"addXaxisAnnotationExternal",value:function(h,p,v){return this.addAnnotationExternal({params:h,pushToMemory:p,context:v,type:"xaxis",contextMethod:v.addXaxisAnnotation}),v}},{key:"addYaxisAnnotationExternal",value:function(h,p,v){return this.addAnnotationExternal({params:h,pushToMemory:p,context:v,type:"yaxis",contextMethod:v.addYaxisAnnotation}),v}},{key:"addPointAnnotationExternal",value:function(h,p,v){return void 0===this.invertAxis&&(this.invertAxis=v.w.globals.isBarHorizontal),this.addAnnotationExternal({params:h,pushToMemory:p,context:v,type:"point",contextMethod:v.addPointAnnotation}),v}},{key:"addAnnotationExternal",value:function(h){var p=h.params,v=h.pushToMemory,M=h.context,E=h.type,N=h.contextMethod,O=M,j=O.w,Z=j.globals.dom.baseEl.querySelector(".apexcharts-".concat(E,"-annotations")),re=Z.childNodes.length+1,le=new Pr,se=Object.assign({},"xaxis"===E?le.xAxisAnnotation:"yaxis"===E?le.yAxisAnnotation:le.pointAnnotation),me=at.extend(se,p);switch(E){case"xaxis":this.addXaxisAnnotation(me,Z,re);break;case"yaxis":this.addYaxisAnnotation(me,Z,re);break;case"point":this.addPointAnnotation(me,Z,re)}var Ee=j.globals.dom.baseEl.querySelector(".apexcharts-".concat(E,"-annotations .apexcharts-").concat(E,"-annotation-label[rel='").concat(re,"']")),Ae=this.helpers.addBackgroundToAnno(Ee,me);return Ae&&Z.insertBefore(Ae.node,Ee),v&&j.globals.memory.methodsToExec.push({context:O,id:me.id?me.id:at.randomId(),method:N,label:"addAnnotation",params:p}),M}},{key:"clearAnnotations",value:function(h){var p=h.w,v=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");p.globals.memory.methodsToExec.map(function(M,E){"addText"!==M.label&&"addAnnotation"!==M.label||p.globals.memory.methodsToExec.splice(E,1)}),v=at.listToArray(v),Array.prototype.forEach.call(v,function(M){for(;M.firstChild;)M.removeChild(M.firstChild)})}},{key:"removeAnnotation",value:function(h,p){var v=h.w,M=v.globals.dom.baseEl.querySelectorAll(".".concat(p));M&&(v.globals.memory.methodsToExec.map(function(E,N){E.id===p&&v.globals.memory.methodsToExec.splice(N,1)}),Array.prototype.forEach.call(M,function(E){E.parentElement.removeChild(E)}))}}]),Le}(),ln=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.opts=null,this.seriesIndex=0}return ce(Le,[{key:"clippedImgArea",value:function(h){var p=this.w,v=p.config,M=parseInt(p.globals.gridWidth,10),E=parseInt(p.globals.gridHeight,10),N=M>E?M:E,O=h.image,j=0,Z=0;void 0===h.width&&void 0===h.height?void 0!==v.fill.image.width&&void 0!==v.fill.image.height?(j=v.fill.image.width+1,Z=v.fill.image.height):(j=N+1,Z=N):(j=h.width,Z=h.height);var re=document.createElementNS(p.globals.SVGNS,"pattern");jt.setAttrs(re,{id:h.patternID,patternUnits:h.patternUnits?h.patternUnits:"userSpaceOnUse",width:j+"px",height:Z+"px"});var le=document.createElementNS(p.globals.SVGNS,"image");re.appendChild(le),le.setAttributeNS(window.SVG.xlink,"href",O),jt.setAttrs(le,{x:0,y:0,preserveAspectRatio:"none",width:j+"px",height:Z+"px"}),le.style.opacity=h.opacity,p.globals.dom.elDefs.node.appendChild(re)}},{key:"getSeriesIndex",value:function(h){var p=this.w;return this.seriesIndex=("bar"===p.config.chart.type||"rangeBar"===p.config.chart.type)&&p.config.plotOptions.bar.distributed||"heatmap"===p.config.chart.type||"treemap"===p.config.chart.type?h.seriesNumber:h.seriesNumber%p.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(h){var p=this.w;this.opts=h;var v,M,E,N=this.w.config;this.seriesIndex=this.getSeriesIndex(h);var O=this.getFillColors()[this.seriesIndex];void 0!==p.globals.seriesColors[this.seriesIndex]&&(O=p.globals.seriesColors[this.seriesIndex]),"function"==typeof O&&(O=O({seriesIndex:this.seriesIndex,dataPointIndex:h.dataPointIndex,value:h.value,w:p}));var j=this.getFillType(this.seriesIndex),Z=Array.isArray(N.fill.opacity)?N.fill.opacity[this.seriesIndex]:N.fill.opacity;h.color&&(O=h.color);var re=O;if(-1===O.indexOf("rgb")?O.length<9&&(re=at.hexToRgba(O,Z)):O.indexOf("rgba")>-1&&(Z=at.getOpacityFromRGBA(O)),h.opacity&&(Z=h.opacity),"pattern"===j&&(M=this.handlePatternFill(M,O,Z,re)),"gradient"===j&&(E=this.handleGradientFill(O,Z,this.seriesIndex)),"image"===j){var le=N.fill.image.src,se=h.patternID?h.patternID:"";this.clippedImgArea({opacity:Z,image:Array.isArray(le)?h.seriesNumber<le.length?le[h.seriesNumber]:le[0]:le,width:h.width?h.width:void 0,height:h.height?h.height:void 0,patternUnits:h.patternUnits,patternID:"pattern".concat(p.globals.cuid).concat(h.seriesNumber+1).concat(se)}),v="url(#pattern".concat(p.globals.cuid).concat(h.seriesNumber+1).concat(se,")")}else v="gradient"===j?E:"pattern"===j?M:re;return h.solid&&(v=re),v}},{key:"getFillType",value:function(h){var p=this.w;return Array.isArray(p.config.fill.type)?p.config.fill.type[h]:p.config.fill.type}},{key:"getFillColors",value:function(){var h=this.w,p=h.config,v=this.opts,M=[];return h.globals.comboCharts?"line"===h.config.series[this.seriesIndex].type?Array.isArray(h.globals.stroke.colors)?M=h.globals.stroke.colors:M.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?M=h.globals.fill.colors:M.push(h.globals.fill.colors):"line"===p.chart.type?Array.isArray(h.globals.stroke.colors)?M=h.globals.stroke.colors:M.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?M=h.globals.fill.colors:M.push(h.globals.fill.colors),void 0!==v.fillColors&&(M=[],Array.isArray(v.fillColors)?M=v.fillColors.slice():M.push(v.fillColors)),M}},{key:"handlePatternFill",value:function(h,p,v,M){var E=this.w.config,N=this.opts,O=new jt(this.ctx),j=void 0===E.fill.pattern.strokeWidth?Array.isArray(E.stroke.width)?E.stroke.width[this.seriesIndex]:E.stroke.width:Array.isArray(E.fill.pattern.strokeWidth)?E.fill.pattern.strokeWidth[this.seriesIndex]:E.fill.pattern.strokeWidth,Z=p;return Array.isArray(E.fill.pattern.style)?void 0!==E.fill.pattern.style[N.seriesNumber]?O.drawPattern(E.fill.pattern.style[N.seriesNumber],E.fill.pattern.width,E.fill.pattern.height,Z,j,v):M:O.drawPattern(E.fill.pattern.style,E.fill.pattern.width,E.fill.pattern.height,Z,j,v)}},{key:"handleGradientFill",value:function(h,p,v){var M,E=this.w.config,N=this.opts,O=new jt(this.ctx),j=new at,Z=E.fill.gradient.type,re=h,le=void 0===E.fill.gradient.opacityFrom?p:Array.isArray(E.fill.gradient.opacityFrom)?E.fill.gradient.opacityFrom[v]:E.fill.gradient.opacityFrom;re.indexOf("rgba")>-1&&(le=at.getOpacityFromRGBA(re));var se=void 0===E.fill.gradient.opacityTo?p:Array.isArray(E.fill.gradient.opacityTo)?E.fill.gradient.opacityTo[v]:E.fill.gradient.opacityTo;if(void 0===E.fill.gradient.gradientToColors||0===E.fill.gradient.gradientToColors.length)M=j.shadeColor("dark"===E.fill.gradient.shade?-1*parseFloat(E.fill.gradient.shadeIntensity):parseFloat(E.fill.gradient.shadeIntensity),h.indexOf("rgb")>-1?at.rgb2hex(h):h);else if(E.fill.gradient.gradientToColors[N.seriesNumber]){var me=E.fill.gradient.gradientToColors[N.seriesNumber];M=me,me.indexOf("rgba")>-1&&(se=at.getOpacityFromRGBA(me))}else M=h;if(E.fill.gradient.inverseColors){var Ee=re;re=M,M=Ee}return re.indexOf("rgb")>-1&&(re=at.rgb2hex(re)),M.indexOf("rgb")>-1&&(M=at.rgb2hex(M)),O.drawGradient(Z,re,M,le,se,N.size,E.fill.gradient.stops,E.fill.gradient.colorStops,v)}}]),Le}(),vn=function(){function Le(h,p){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"setGlobalMarkerSize",value:function(){var h=this.w;if(h.globals.markers.size=Array.isArray(h.config.markers.size)?h.config.markers.size:[h.config.markers.size],h.globals.markers.size.length>0){if(h.globals.markers.size.length<h.globals.series.length+1)for(var p=0;p<=h.globals.series.length;p++)void 0===h.globals.markers.size[p]&&h.globals.markers.size.push(h.globals.markers.size[0])}else h.globals.markers.size=h.config.series.map(function(v){return h.config.markers.size})}},{key:"plotChartMarkers",value:function(h,p,v,M){var E,N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=this.w,j=p,Z=h,re=null,le=new jt(this.ctx);if((O.globals.markers.size[p]>0||N)&&(re=le.group({class:N?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(O.globals.cuid,")")),Array.isArray(Z.x))for(var se=0;se<Z.x.length;se++){var me=v;1===v&&0===se&&(me=0),1===v&&1===se&&(me=1);var Ee="apexcharts-marker";"line"!==O.config.chart.type&&"area"!==O.config.chart.type||O.globals.comboCharts||O.config.tooltip.intersect||(Ee+=" no-pointer-events");var Ae=Array.isArray(O.config.markers.size)?O.globals.markers.size[p]>0:O.config.markers.size>0;if(Ae||N){at.isNumber(Z.y[se])?Ee+=" w".concat(at.randomId()):Ee="apexcharts-nullpoint";var Re=this.getMarkerConfig(Ee,p,me);O.config.series[j].data[me]&&(O.config.series[j].data[me].fillColor&&(Re.pointFillColor=O.config.series[j].data[me].fillColor),O.config.series[j].data[me].strokeColor&&(Re.pointStrokeColor=O.config.series[j].data[me].strokeColor)),M&&(Re.pSize=M),(E=le.drawMarker(Z.x[se],Z.y[se],Re)).attr("rel",me),E.attr("j",me),E.attr("index",p),E.node.setAttribute("default-marker-size",Re.pSize);var je=new In(this.ctx);je.setSelectionFilter(E,p,me),this.addEvents(E),re&&re.add(E)}else void 0===O.globals.pointsArray[p]&&(O.globals.pointsArray[p]=[]),O.globals.pointsArray[p].push([Z.x[se],Z.y[se]])}return re}},{key:"getMarkerConfig",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=this.w,E=this.getMarkerStyle(p),N=M.globals.markers.size[p],O=M.config.markers;return null!==v&&O.discrete.length&&O.discrete.map(function(j){j.seriesIndex===p&&j.dataPointIndex===v&&(E.pointStrokeColor=j.strokeColor,E.pointFillColor=j.fillColor,N=j.size,E.pointShape=j.shape)}),{pSize:N,pRadius:O.radius,width:Array.isArray(O.width)?O.width[p]:O.width,height:Array.isArray(O.height)?O.height[p]:O.height,pointStrokeWidth:Array.isArray(O.strokeWidth)?O.strokeWidth[p]:O.strokeWidth,pointStrokeColor:E.pointStrokeColor,pointFillColor:E.pointFillColor,shape:E.pointShape||(Array.isArray(O.shape)?O.shape[p]:O.shape),class:h,pointStrokeOpacity:Array.isArray(O.strokeOpacity)?O.strokeOpacity[p]:O.strokeOpacity,pointStrokeDashArray:Array.isArray(O.strokeDashArray)?O.strokeDashArray[p]:O.strokeDashArray,pointFillOpacity:Array.isArray(O.fillOpacity)?O.fillOpacity[p]:O.fillOpacity,seriesIndex:p}}},{key:"addEvents",value:function(h){var p=this.w,v=new jt(this.ctx);h.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this.ctx,h)),h.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this.ctx,h)),h.node.addEventListener("mousedown",v.pathMouseDown.bind(this.ctx,h)),h.node.addEventListener("click",p.config.markers.onClick),h.node.addEventListener("dblclick",p.config.markers.onDblClick),h.node.addEventListener("touchstart",v.pathMouseDown.bind(this.ctx,h),{passive:!0})}},{key:"getMarkerStyle",value:function(h){var p=this.w,v=p.globals.markers.colors,M=p.config.markers.strokeColor||p.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(M)?M[h]:M,pointFillColor:Array.isArray(v)?v[h]:v}}}]),Le}(),un=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ce(Le,[{key:"draw",value:function(h,p,v){var M=this.w,E=new jt(this.ctx),N=v.realIndex,O=v.pointsPos,j=v.zRatio,Z=v.elParent,re=E.group({class:"apexcharts-series-markers apexcharts-series-".concat(M.config.chart.type)});if(re.attr("clip-path","url(#gridRectMarkerMask".concat(M.globals.cuid,")")),Array.isArray(O.x))for(var le=0;le<O.x.length;le++){var se=p+1,me=!0;0===p&&0===le&&(se=0),0===p&&1===le&&(se=1);var Ee=0,Ae=M.globals.markers.size[N];if(j!==1/0){Ae=M.globals.seriesZ[N][se]/j;var Re=M.config.plotOptions.bubble;Re.minBubbleRadius&&Ae<Re.minBubbleRadius&&(Ae=Re.minBubbleRadius),Re.maxBubbleRadius&&Ae>Re.maxBubbleRadius&&(Ae=Re.maxBubbleRadius)}M.config.chart.animations.enabled||(Ee=Ae);var it=O.y[le];if(Ee=Ee||0,null!==it&&void 0!==M.globals.series[N][se]||(me=!1),me){var _t=this.drawPoint(O.x[le],it,Ee,Ae,N,se,p);re.add(_t)}Z.add(re)}}},{key:"drawPoint",value:function(h,p,v,M,E,N,O){var j,Z=this.w,re=E,le=new ei(this.ctx),se=new In(this.ctx),me=new ln(this.ctx),Ee=new vn(this.ctx),Ae=new jt(this.ctx),Re=Ee.getMarkerConfig("apexcharts-marker",re),je=me.fillPath({seriesNumber:E,dataPointIndex:N,patternUnits:"objectBoundingBox",value:Z.globals.series[E][O]});if("circle"===Re.shape?j=Ae.drawCircle(v):"square"!==Re.shape&&"rect"!==Re.shape||(j=Ae.drawRect(0,0,Re.width-Re.pointStrokeWidth/2,Re.height-Re.pointStrokeWidth/2,Re.pRadius)),Z.config.series[re].data[N]&&Z.config.series[re].data[N].fillColor&&(je=Z.config.series[re].data[N].fillColor),j.attr({x:h-Re.width/2-Re.pointStrokeWidth/2,y:p-Re.height/2-Re.pointStrokeWidth/2,cx:h,cy:p,fill:je,"fill-opacity":Re.pointFillOpacity,stroke:Re.pointStrokeColor,r:M,"stroke-width":Re.pointStrokeWidth,"stroke-dasharray":Re.pointStrokeDashArray,"stroke-opacity":Re.pointStrokeOpacity}),Z.config.chart.dropShadow.enabled&&se.dropShadow(j,Z.config.chart.dropShadow,E),!this.initialAnim||Z.globals.dataChanged||Z.globals.resized?Z.globals.animationEnded=!0:le.animateMarker(j,0,"circle"===Re.shape?M:{width:Re.width,height:Re.height},Z.config.chart.animations.speed,Z.globals.easing,function(){window.setTimeout(function(){le.animationCompleted(j)},100)}),Z.globals.dataChanged&&"circle"===Re.shape)if(this.dynamicAnim){var $,ue,Oe,$e,ft=Z.config.chart.animations.dynamicAnimation.speed;null!=($e=Z.globals.previousPaths[E]&&Z.globals.previousPaths[E][O])&&($=$e.x,ue=$e.y,Oe=void 0!==$e.r?$e.r:M);for(var sn=0;sn<Z.globals.collapsedSeries.length;sn++)Z.globals.collapsedSeries[sn].index===E&&(ft=1,M=0);0===h&&0===p&&(M=0),le.animateCircle(j,{cx:$,cy:ue,r:Oe},{cx:h,cy:p,r:M},ft,Z.globals.easing)}else j.attr({r:M});return j.attr({rel:N,j:N,index:E,"default-marker-size":M}),se.setSelectionFilter(j,E,N),Ee.addEvents(j),j.node.classList.add("apexcharts-marker"),j}},{key:"centerTextInBubble",value:function(h){return{y:h+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),Le}(),Rn=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"dataLabelsCorrection",value:function(h,p,v,M,E,N,O){var j=this.w,Z=!1,re=new jt(this.ctx).getTextRects(v,O),le=re.width,se=re.height;if(p<0&&(p=0),p>j.globals.gridHeight+se&&(p=j.globals.gridHeight+se/2),void 0===j.globals.dataLabelsRects[M]&&(j.globals.dataLabelsRects[M]=[]),j.globals.dataLabelsRects[M].push({x:h,y:p,width:le,height:se}),void 0!==j.globals.dataLabelsRects[M][j.globals.dataLabelsRects[M].length-2]){var Ae=j.globals.dataLabelsRects[M][void 0!==j.globals.lastDrawnDataLabelsIndexes[M]?j.globals.lastDrawnDataLabelsIndexes[M][j.globals.lastDrawnDataLabelsIndexes[M].length-1]:0];(h>Ae.x+Ae.width+2||p>Ae.y+Ae.height+2||h+le<Ae.x)&&(Z=!0)}return(0===E||N)&&(Z=!0),{x:h,y:p,textRects:re,drawnextLabel:Z}}},{key:"drawDataLabel",value:function(h,p,v){var M=this,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,N=this.w,O=new jt(this.ctx),j=N.config.dataLabels,Z=0,re=0,le=v,se=null;if(!j.enabled||!Array.isArray(h.x))return se;se=O.group({class:"apexcharts-data-labels"});for(var me=0;me<h.x.length;me++)if(Z=h.x[me]+j.offsetX,re=h.y[me]+j.offsetY+E,!isNaN(Z)){1===v&&0===me&&(le=0),1===v&&1===me&&(le=1);var Ee=N.globals.series[p][le],Ae="",Re=function(_t){return N.config.dataLabels.formatter(_t,{ctx:M.ctx,seriesIndex:p,dataPointIndex:le,w:N})};if("bubble"===N.config.chart.type){Ae=Re(Ee=N.globals.seriesZ[p][le]),re=h.y[me];var je=new un(this.ctx),it=je.centerTextInBubble(re,p,le);re=it.y}else void 0!==Ee&&(Ae=Re(Ee));this.plotDataLabelsText({x:Z,y:re,text:Ae,i:p,j:le,parent:se,offsetCorrection:!0,dataLabelsConfig:N.config.dataLabels})}return se}},{key:"plotDataLabelsText",value:function(h){var p=this.w,v=new jt(this.ctx),M=h.x,E=h.y,N=h.i,O=h.j,j=h.text,Z=h.textAnchor,re=h.fontSize,le=h.parent,se=h.dataLabelsConfig,me=h.color,Ee=h.alwaysDrawDataLabel,Ae=h.offsetCorrection;if(!(Array.isArray(p.config.dataLabels.enabledOnSeries)&&p.config.dataLabels.enabledOnSeries.indexOf(N)<0)){var Re={x:M,y:E,drawnextLabel:!0};Ae&&(Re=this.dataLabelsCorrection(M,E,j,N,O,Ee,parseInt(se.style.fontSize,10))),p.globals.zoomed||(M=Re.x,E=Re.y),Re.textRects&&(M<-10-Re.textRects.width||M>p.globals.gridWidth+Re.textRects.width+10)&&(j="");var je=p.globals.dataLabels.style.colors[N];(("bar"===p.config.chart.type||"rangeBar"===p.config.chart.type)&&p.config.plotOptions.bar.distributed||p.config.dataLabels.distributed)&&(je=p.globals.dataLabels.style.colors[O]),"function"==typeof je&&(je=je({series:p.globals.series,seriesIndex:N,dataPointIndex:O,w:p})),me&&(je=me);var it=se.offsetX,_t=se.offsetY;if("bar"!==p.config.chart.type&&"rangeBar"!==p.config.chart.type||(it=0,_t=0),Re.drawnextLabel){var $=v.drawText({width:100,height:parseInt(se.style.fontSize,10),x:M+it,y:E+_t,foreColor:je,textAnchor:Z||se.textAnchor,text:j,fontSize:re||se.style.fontSize,fontFamily:se.style.fontFamily,fontWeight:se.style.fontWeight||"normal"});if($.attr({class:"apexcharts-datalabel",cx:M,cy:E}),se.dropShadow.enabled){var ue=se.dropShadow;new In(this.ctx).dropShadow($,ue)}le.add($),void 0===p.globals.lastDrawnDataLabelsIndexes[N]&&(p.globals.lastDrawnDataLabelsIndexes[N]=[]),p.globals.lastDrawnDataLabelsIndexes[N].push(O)}}}},{key:"addBackgroundToDataLabel",value:function(h,p){var v=this.w,M=v.config.dataLabels.background,E=M.padding,N=M.padding/2,O=p.width,j=p.height,Z=new jt(this.ctx).drawRect(p.x-E,p.y-N/2,O+2*E,j+N,M.borderRadius,"transparent"===v.config.chart.background?"#fff":v.config.chart.background,M.opacity,M.borderWidth,M.borderColor);return M.dropShadow.enabled&&new In(this.ctx).dropShadow(Z,M.dropShadow),Z}},{key:"dataLabelsBackground",value:function(){var h=this.w;if("bubble"!==h.config.chart.type)for(var p=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),v=0;v<p.length;v++){var M=p[v],E=M.getBBox(),N=null;if(E.width&&E.height&&(N=this.addBackgroundToDataLabel(M,E)),N){M.parentNode.insertBefore(N.node,M);var O=M.getAttribute("fill");!h.config.chart.animations.enabled||h.globals.resized||h.globals.dataChanged?N.attr({fill:O}):N.animate().attr({fill:O}),M.setAttribute("fill",h.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var h=this.w,p=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),v=h.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),M=0;M<p.length;M++)v&&v.insertBefore(p[M],v.nextSibling)}}]),Le}(),fn=function(){function Le(h){J(this,Le),this.w=h.w,this.barCtx=h}return ce(Le,[{key:"handleBarDataLabels",value:function(h){var p=h.x,v=h.y,M=h.y1,E=h.y2,N=h.i,O=h.j,j=h.realIndex,Z=h.series,re=h.barHeight,le=h.barWidth,se=h.barYPosition,me=h.visibleSeries,Ee=h.renderedPath,Ae=this.w,Re=new jt(this.barCtx.ctx),je=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[j]:this.barCtx.strokeWidth,it=p+parseFloat(le*me),_t=v+parseFloat(re*me);Ae.globals.isXNumeric&&!Ae.globals.isBarHorizontal&&(it=p+parseFloat(le*(me+1)),_t=v+parseFloat(re*(me+1))-je);var Oe,$=p,ue=v,$e=Ae.config.dataLabels,ft=this.barCtx.barOptions.dataLabels;void 0!==se&&this.barCtx.isTimelineBar&&(_t=se,ue=se);var sn=$e.offsetX,Gt=$e.offsetY,dn={width:0,height:0};Ae.config.dataLabels.enabled&&(dn=Re.getTextRects(Ae.globals.yLabelFormatters[0](this.barCtx.series[N][O]),parseFloat($e.style.fontSize)));var Pn={x:p,y:v,i:N,j:O,renderedPath:Ee,bcx:it,bcy:_t,barHeight:re,barWidth:le,textRects:dn,strokeWidth:je,dataLabelsX:$,dataLabelsY:ue,barDataLabelsConfig:ft,offX:sn,offY:Gt};return Oe=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Pn):this.calculateColumnsDataLabelsPosition(Pn),Ee.attr({cy:Oe.bcy,cx:Oe.bcx,j:O,val:Z[N][O],barHeight:re,barWidth:le}),this.drawCalculatedDataLabels({x:Oe.dataLabelsX,y:Oe.dataLabelsY,val:this.barCtx.isTimelineBar?[M,E]:Z[N][O],i:j,j:O,barWidth:le,barHeight:re,textRects:dn,dataLabelsConfig:$e})}},{key:"calculateColumnsDataLabelsPosition",value:function(h){var p,v=this.w,M=h.i,E=h.j,N=h.y,O=h.bcx,j=h.barWidth,Z=h.barHeight,re=h.textRects,le=h.dataLabelsY,se=h.barDataLabelsConfig,me=h.strokeWidth,Ee=h.offX,Ae=h.offY;Z=Math.abs(Z);var Re="vertical"===v.config.plotOptions.bar.dataLabels.orientation;O-=me/2,p=v.globals.isXNumeric?O-j/2+Ee:O-v.globals.gridWidth/v.globals.dataPoints+j/2+Ee,Re&&(p=p+re.height/2-me/2-2);var it=this.barCtx.series[M][E]<0,_t=N;switch(this.barCtx.isReversed&&(_t=N-Z+(it?2*Z:0),N-=Z),se.position){case"center":le=Re?it?_t+Z/2+Ae:_t+Z/2-Ae:it?_t-Z/2+re.height/2+Ae:_t+Z/2+re.height/2-Ae;break;case"bottom":le=Re?it?_t+Z+Ae:_t+Z-Ae:it?_t-Z+re.height+me+Ae:_t+Z-re.height/2+me-Ae;break;case"top":le=Re?it?_t+Ae:_t-Ae:it?_t-re.height/2-Ae:_t+re.height+Ae}return v.config.chart.stacked||(le<0?le=0+me:le+re.height/3>v.globals.gridHeight&&(le=v.globals.gridHeight-me)),{bcx:O,bcy:N,dataLabelsX:p,dataLabelsY:le}}},{key:"calculateBarsDataLabelsPosition",value:function(h){var p=this.w,v=h.x,M=h.i,E=h.j,N=h.bcy,O=h.barHeight,j=h.barWidth,Z=h.textRects,re=h.dataLabelsX,le=h.strokeWidth,se=h.barDataLabelsConfig,me=h.offX,Ee=h.offY,Ae=p.globals.gridHeight/p.globals.dataPoints;j=Math.abs(j);var Re=N-(this.barCtx.isTimelineBar?0:Ae)+O/2+Z.height/2+Ee-3,je=this.barCtx.series[M][E]<0,it=v;switch(this.barCtx.isReversed&&(it=v+j-(je?2*j:0),v=p.globals.gridWidth-j),se.position){case"center":re=je?it+j/2-me:Math.max(Z.width/2,it-j/2)+me;break;case"bottom":re=je?it+j-le-Math.round(Z.width/2)-me:it-j+le+Math.round(Z.width/2)+me;break;case"top":re=je?it-le+Math.round(Z.width/2)-me:it-le-Math.round(Z.width/2)+me}return p.config.chart.stacked||(re<0?re=re+Z.width+le:re+Z.width/2>p.globals.gridWidth&&(re=p.globals.gridWidth-Z.width-le)),{bcx:v,bcy:N,dataLabelsX:re,dataLabelsY:Re}}},{key:"drawCalculatedDataLabels",value:function(h){var p=h.x,v=h.y,M=h.val,E=h.i,N=h.j,O=h.textRects,j=h.barHeight,Z=h.barWidth,re=h.dataLabelsConfig,le=this.w,se="rotate(0)";"vertical"===le.config.plotOptions.bar.dataLabels.orientation&&(se="rotate(-90, ".concat(p,", ").concat(v,")"));var me=new Rn(this.barCtx.ctx),Ee=new jt(this.barCtx.ctx),Ae=re.formatter,Re=null,je=le.globals.collapsedSeriesIndices.indexOf(E)>-1;if(re.enabled&&!je){Re=Ee.group({class:"apexcharts-data-labels",transform:se});var it="";void 0!==M&&(it=Ae(M,{seriesIndex:E,dataPointIndex:N,w:le}));var _t=le.globals.series[E][N]<0,$=le.config.plotOptions.bar.dataLabels.position;"vertical"===le.config.plotOptions.bar.dataLabels.orientation&&("top"===$&&(re.textAnchor=_t?"end":"start"),"center"===$&&(re.textAnchor="middle"),"bottom"===$&&(re.textAnchor=_t?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&Z<Ee.getTextRects(it,parseFloat(re.style.fontSize)).width&&(it=""),le.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(Z>0&&O.width/1.6>Z||Z<0&&O.width/1.6<Z)&&(it=""):O.height/1.6>j&&(it=""));var ue=xe({},re);this.barCtx.isHorizontal&&M<0&&("start"===re.textAnchor?ue.textAnchor="end":"end"===re.textAnchor&&(ue.textAnchor="start")),me.plotDataLabelsText({x:p,y:v,text:it,i:E,j:N,parent:Re,dataLabelsConfig:ue,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Re}}]),Le}(),ni=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.legendInactiveClass="legend-mouseover-inactive"}return ce(Le,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(h){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(at.escapeString(h),"']"))}},{key:"isSeriesHidden",value:function(h){var p=this.getSeriesByName(h),v=parseInt(p.getAttribute("data:realIndex"),10);return{isHidden:p.classList.contains("apexcharts-series-collapsed"),realIndex:v}}},{key:"addCollapsedClassToSeries",value:function(h,p){var v=this.w;function M(E){for(var N=0;N<E.length;N++)E[N].index===p&&h.node.classList.add("apexcharts-series-collapsed")}M(v.globals.collapsedSeries),M(v.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(h){var p=this.isSeriesHidden(h);return this.ctx.legend.legendHelpers.toggleDataSeries(p.realIndex,p.isHidden),p.isHidden}},{key:"showSeries",value:function(h){var p=this.isSeriesHidden(h);p.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(p.realIndex,!0)}},{key:"hideSeries",value:function(h){var p=this.isSeriesHidden(h);p.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(p.realIndex,!1)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],M=this.w,E=at.clone(M.globals.initialSeries);M.globals.previousPaths=[],v?(M.globals.collapsedSeries=[],M.globals.ancillaryCollapsedSeries=[],M.globals.collapsedSeriesIndices=[],M.globals.ancillaryCollapsedSeriesIndices=[]):E=this.emptyCollapsedSeries(E),M.config.series=E,h&&(p&&(M.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(E,M.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(h){for(var p=this.w,v=0;v<h.length;v++)p.globals.collapsedSeriesIndices.indexOf(v)>-1&&(h[v].data=[]);return h}},{key:"toggleSeriesOnHover",value:function(h,p){var v=this.w,M=v.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===h.type){var E=parseInt(p.getAttribute("rel"),10)-1,N=null,O=null;v.globals.axisCharts||"radialBar"===v.config.chart.type?v.globals.axisCharts?(N=v.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(E,"']")),O=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(E,"']"))):N=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(E+1,"']")):N=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(E+1,"'] path"));for(var j=0;j<M.length;j++)M[j].classList.add(this.legendInactiveClass);null!==N&&(v.globals.axisCharts||N.parentNode.classList.remove(this.legendInactiveClass),N.classList.remove(this.legendInactiveClass),null!==O&&O.classList.remove(this.legendInactiveClass))}else if("mouseout"===h.type)for(var Z=0;Z<M.length;Z++)M[Z].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(h,p){var v=this,M=this.w,E=M.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),N=function(j){for(var Z=0;Z<E.length;Z++)E[Z].classList[j](v.legendInactiveClass)};if("mousemove"===h.type){var O=parseInt(p.getAttribute("rel"),10)-1;N("add"),function(j){for(var Z=0;Z<E.length;Z++){var re=parseInt(E[Z].getAttribute("val"),10);re>=j.from&&re<=j.to&&E[Z].classList.remove(v.legendInactiveClass)}}(M.config.plotOptions.heatmap.colorScale.ranges[O])}else"mouseout"===h.type&&N("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var h=arguments.length>0&&void 0!==arguments[0]&&arguments[0],p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",v=this.w,M=0;if(v.config.series.length>1)for(var E=v.config.series.map(function(O,j){var Z=!1;return h&&(Z="bar"===v.config.series[j].type||"column"===v.config.series[j].type),O.data&&O.data.length>0&&!Z?j:-1}),N="asc"===p?0:E.length-1;"asc"===p?N<E.length:N>=0;"asc"===p?N++:N--)if(-1!==E[N]){M=E[N];break}return M}},{key:"getPreviousPaths",value:function(){var h=this.w;function p(N,O,j){for(var Z=N[O].childNodes,re={type:j,paths:[],realIndex:N[O].getAttribute("data:realIndex")},le=0;le<Z.length;le++)if(Z[le].hasAttribute("pathTo")){var se=Z[le].getAttribute("pathTo");re.paths.push({d:se})}h.globals.previousPaths.push(re)}h.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(N){for(var j=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(N,"-series .apexcharts-series")),Z=0;Z<j.length;Z++)p(j,Z,N)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var v=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series"));if(v.length>0)for(var M=function(N){for(var O=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(N,"'] rect")),j=[],Z=function(le){var se=function(Ee){return O[le].getAttribute(Ee)},me={x:parseFloat(se("x")),y:parseFloat(se("y")),width:parseFloat(se("width")),height:parseFloat(se("height"))};j.push({rect:me,color:O[le].getAttribute("color")})},re=0;re<O.length;re++)Z(re);h.globals.previousPaths.push(j)},E=0;E<v.length;E++)M(E);h.globals.axisCharts||(h.globals.previousPaths=h.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(h){var p=this.w,v=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"));if(v.length>0)for(var M=0;M<v.length;M++){for(var E=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series[data\\:realIndex='").concat(M,"'] circle")),N=[],O=0;O<E.length;O++)N.push({x:E[O].getAttribute("cx"),y:E[O].getAttribute("cy"),r:E[O].getAttribute("r")});p.globals.previousPaths.push(N)}}},{key:"clearPreviousPaths",value:function(){var h=this.w;h.globals.previousPaths=[],h.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var h=this.w,p=h.config.noData,v=new jt(this.ctx),M=h.globals.svgWidth/2,E=h.globals.svgHeight/2,N="middle";if(h.globals.noData=!0,h.globals.animationEnded=!0,"left"===p.align?(M=10,N="start"):"right"===p.align&&(M=h.globals.svgWidth-10,N="end"),"top"===p.verticalAlign?E=50:"bottom"===p.verticalAlign&&(E=h.globals.svgHeight-50),M+=p.offsetX,E=E+parseInt(p.style.fontSize,10)+2+p.offsetY,void 0!==p.text&&""!==p.text){var O=v.drawText({x:M,y:E,text:p.text,textAnchor:N,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,foreColor:p.style.color,opacity:1,class:"apexcharts-text-nodata"});h.globals.dom.Paper.add(O)}}},{key:"setNullSeriesToZeroValues",value:function(h){for(var p=this.w,v=0;v<h.length;v++)if(0===h[v].length)for(var M=0;M<h[p.globals.maxValsInArrayIndex].length;M++)h[v].push(0);return h}},{key:"hasAllSeriesEqualX",value:function(){for(var h=!0,p=this.w,v=this.filteredSeriesX(),M=0;M<v.length-1;M++)if(v[M][0]!==v[M+1][0]){h=!1;break}return p.globals.allSeriesHasEqualX=h,h}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(p){return p.length>0?p:[]})}}]),Le}(),Pi=function(){function Le(h){J(this,Le),this.w=h.w,this.barCtx=h}return ce(Le,[{key:"initVariables",value:function(h){var p=this.w;this.barCtx.series=h,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var v=0;v<h.length;v++)if(h[v].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=h[v].length),p.globals.isXNumeric)for(var M=0;M<h[v].length;M++)p.globals.seriesX[v][M]>p.globals.minX&&p.globals.seriesX[v][M]<p.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=p.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=h.length-1,p.globals.comboCharts||this.checkZeroSeries({series:h})}},{key:"initialPositions",value:function(){var h,p,v,M,E,N,O,j,Z=this.w,re=Z.globals.dataPoints;this.barCtx.isTimelineBar&&(re=Z.globals.labels.length);var le=this.barCtx.seriesLen;if(Z.config.plotOptions.bar.rangeBarGroupRows&&(le=1),this.barCtx.isHorizontal)E=(v=Z.globals.gridHeight/re)/le,Z.globals.isXNumeric&&(E=(v=Z.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),E=E*parseInt(this.barCtx.barOptions.barHeight,10)/100,j=this.barCtx.baseLineInvertedY+Z.globals.padHorizontal+(this.barCtx.isReversed?Z.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),p=(v-E*this.barCtx.seriesLen)/2;else{if(M=Z.globals.gridWidth/this.barCtx.visibleItems,Z.config.xaxis.convertedCatToNumeric&&(M=Z.globals.gridWidth/Z.globals.dataPoints),N=M/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,Z.globals.isXNumeric){var se=this.barCtx.xRatio;Z.config.xaxis.convertedCatToNumeric&&(se=this.barCtx.initialXRatio),Z.globals.minXDiff&&.5!==Z.globals.minXDiff&&Z.globals.minXDiff/se>0&&(M=Z.globals.minXDiff/se),(N=M/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(N=1)}O=Z.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?Z.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),h=Z.globals.padHorizontal+(M-N*this.barCtx.seriesLen)/2}return{x:h,y:p,yDivision:v,xDivision:M,barHeight:E,barWidth:N,zeroH:O,zeroW:j}}},{key:"getPathFillColor",value:function(h,p,v,M){var E=this.w,N=new ln(this.barCtx.ctx),O=null,j=this.barCtx.barOptions.distributed?v:p;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(Z){h[p][v]>=Z.from&&h[p][v]<=Z.to&&(O=Z.color)}),E.config.series[p].data[v]&&E.config.series[p].data[v].fillColor&&(O=E.config.series[p].data[v].fillColor),N.fillPath({seriesNumber:this.barCtx.barOptions.distributed?j:M,dataPointIndex:v,color:O,value:h[p][v]})}},{key:"getStrokeWidth",value:function(h,p,v){var M=0,E=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[h][p],E.config.stroke.show&&(this.barCtx.isNullValue||(M=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth)),M}},{key:"barBackground",value:function(h){var p=h.j,v=h.i,M=h.x1,E=h.x2,N=h.y1,O=h.y2,j=h.elSeries,Z=this.w,re=new jt(this.barCtx.ctx),le=new ni(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&le===v){p>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(p-=this.barCtx.barOptions.colors.backgroundBarColors.length);var me=re.drawRect(void 0!==M?M:0,void 0!==N?N:0,void 0!==E?E:Z.globals.gridWidth,void 0!==O?O:Z.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[p],this.barCtx.barOptions.colors.backgroundBarOpacity);j.add(me),me.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(h){var p=h.barWidth,v=h.barXPosition,M=h.yRatio,E=h.y1,N=h.y2,O=h.strokeWidth,j=h.series,Z=h.realIndex,re=h.i,le=h.j,se=h.w,me=new jt(this.barCtx.ctx);(O=Array.isArray(O)?O[Z]:O)||(O=0);var Ae=this.getRoundedBars(se,{barWidth:p,strokeWidth:O,yRatio:M,barXPosition:v,y1:E,y2:N},j,re,le),Re=v,je=v+p,it=me.move(Re,E),_t=me.move(Re,E),$=me.line(je-O,E);return se.globals.previousPaths.length>0&&(_t=this.barCtx.getPreviousPath(Z,le,!1)),it=it+me.line(Re,Ae.y2)+Ae.pathWithRadius+me.line(je-O,Ae.y2)+$+$+"z",_t=_t+me.line(Re,E)+$+$+$+$+$+me.line(Re,E),se.config.chart.stacked&&(this.barCtx.yArrj.push(Ae.y2),this.barCtx.yArrjF.push(Math.abs(E-Ae.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[re][le])),{pathTo:it,pathFrom:_t}}},{key:"getBarpaths",value:function(h){var p=h.barYPosition,v=h.barHeight,M=h.x1,E=h.x2,N=h.strokeWidth,O=h.series,j=h.realIndex,Z=h.i,re=h.j,le=h.w,se=new jt(this.barCtx.ctx);(N=Array.isArray(N)?N[j]:N)||(N=0);var Ee=this.getRoundedBars(le,{barHeight:v,strokeWidth:N,barYPosition:p,x2:E,x1:M},O,Z,re),Ae=se.move(M,p),Re=se.move(M,p);le.globals.previousPaths.length>0&&(Re=this.barCtx.getPreviousPath(j,re,!1));var je=p,it=p+v,_t=se.line(M,it-N);return Ae=Ae+se.line(Ee.x2,je)+Ee.pathWithRadius+se.line(Ee.x2,it-N)+_t+_t+"z",Re=Re+se.line(M,je)+_t+_t+_t+_t+_t+se.line(M,je),le.config.chart.stacked&&(this.barCtx.xArrj.push(Ee.x2),this.barCtx.xArrjF.push(Math.abs(M-Ee.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[Z][re])),{pathTo:Ae,pathFrom:Re}}},{key:"getRoundedBars",value:function(h,p,v,M,E){var N=new jt(this.barCtx.ctx),O=h.config.plotOptions.bar.borderRadius;if(h.config.chart.stacked&&v.length>1&&M!==this.barCtx.radiusOnSeriesNumber&&(O=0),this.barCtx.isHorizontal){var j="",Z=p.x2;if(Math.abs(p.x1-p.x2)<O&&(O=Math.abs(p.x1-p.x2)),void 0!==v[M][E]||null!==v[M][E]){var re=this.barCtx.isReversed?v[M][E]>0:v[M][E]<0;re&&(O*=-1),j=N.quadraticCurve((Z-=O)+O,p.barYPosition,Z+O,p.barYPosition+(re?-1*O:O))+N.line(Z+O,p.barYPosition+p.barHeight-p.strokeWidth-(re?-1*O:O))+N.quadraticCurve(Z+O,p.barYPosition+p.barHeight-p.strokeWidth,Z,p.barYPosition+p.barHeight-p.strokeWidth)}return{pathWithRadius:j,x2:Z}}var le="",se=p.y2;if(Math.abs(p.y1-p.y2)<O&&(O=Math.abs(p.y1-p.y2)),void 0!==v[M][E]||null!==v[M][E]){var me=v[M][E]<0;me&&(O*=-1),le=N.quadraticCurve(p.barXPosition,(se+=O)-O,p.barXPosition+(me?-1*O:O),se-O)+N.line(p.barXPosition+p.barWidth-p.strokeWidth-(me?-1*O:O),se-O)+N.quadraticCurve(p.barXPosition+p.barWidth-p.strokeWidth,se-O,p.barXPosition+p.barWidth-p.strokeWidth,se)}return{pathWithRadius:le,y2:se}}},{key:"checkZeroSeries",value:function(h){for(var p=h.series,v=this.w,M=0;M<p.length;M++){for(var E=0,N=0;N<p[v.globals.maxValsInArrayIndex].length;N++)E+=p[M][N];0===E&&this.barCtx.zeroSerieses.push(M)}for(var O=p.length-1;O>=0;O--)this.barCtx.zeroSerieses.indexOf(O)>-1&&O===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var j=p.length-1;j>=0;j--)v.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(h,p){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],M=v?p:null;return null!=h&&(M=p+h/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?h/this.barCtx.invertedYRatio:0)),M}},{key:"getYForValue",value:function(h,p){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],M=v?p:null;return null!=h&&(M=p-h/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?h/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),M}},{key:"getGoalValues",value:function(h,p,v,M,E){var N=this,O=this.w,j=[];return O.globals.seriesGoals[M]&&O.globals.seriesGoals[M][E]&&Array.isArray(O.globals.seriesGoals[M][E])&&O.globals.seriesGoals[M][E].forEach(function(Z){var re;j.push((be(re={},h,"x"===h?N.getXForValue(Z.value,p,!1):N.getYForValue(Z.value,v,!1)),be(re,"attrs",Z),re))}),j}},{key:"drawGoalLine",value:function(h){var p=h.barXPosition,v=h.barYPosition,M=h.goalX,E=h.goalY,N=h.barWidth,O=h.barHeight,j=new jt(this.barCtx.ctx),Z=j.group({className:"apexcharts-bar-goals-groups"}),re=null;return this.barCtx.isHorizontal?Array.isArray(M)&&M.forEach(function(le){re=j.drawLine(le.x,v,le.x,v+O,le.attrs.strokeColor?le.attrs.strokeColor:void 0,0,le.attrs.strokeWidth?le.attrs.strokeWidth:2),Z.add(re)}):Array.isArray(E)&&E.forEach(function(le){re=j.drawLine(p,le.y,p+N,le.y,le.attrs.strokeColor?le.attrs.strokeColor:void 0,0,le.attrs.strokeWidth?le.attrs.strokeWidth:2),Z.add(re)}),Z}}]),Le}(),Fi=function(){function Le(h,p){J(this,Le),this.ctx=h,this.w=h.w;var v=this.w;this.barOptions=v.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=v.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===v.config.xaxis.type&&v.globals.seriesRangeBarTimeline.length,this.xyRatios=p,null!==this.xyRatios&&(this.xRatio=p.xRatio,this.initialXRatio=p.initialXRatio,this.yRatio=p.yRatio,this.invertedXRatio=p.invertedXRatio,this.invertedYRatio=p.invertedYRatio,this.baseLineY=p.baseLineY,this.baseLineInvertedY=p.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new Pi(this)}return ce(Le,[{key:"draw",value:function(h,p){var v=this.w,M=new jt(this.ctx),E=new oi(this.ctx,v);h=E.getLogSeries(h),this.series=h,this.yRatio=E.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h);var N=M.group({class:"apexcharts-bar-series apexcharts-plot-series"});v.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var O=0,j=0;O<h.length;O++,j++){var Z,re,le,se,me=void 0,Ee=void 0,Ae=[],Re=[],je=v.globals.comboCharts?p[O]:O,it=M.group({class:"apexcharts-series",rel:O+1,seriesName:at.escapeString(v.globals.seriesNames[je]),"data:realIndex":je});this.ctx.series.addCollapsedClassToSeries(it,je),h[O].length>0&&(this.visibleI=this.visibleI+1);var _t=0,$=0;this.yRatio.length>1&&(this.yaxisIndex=je),this.isReversed=v.config.yaxis[this.yaxisIndex]&&v.config.yaxis[this.yaxisIndex].reversed;var ue=this.barHelpers.initialPositions();Ee=ue.y,_t=ue.barHeight,re=ue.yDivision,se=ue.zeroW,me=ue.x,$=ue.barWidth,Z=ue.xDivision,le=ue.zeroH,this.horizontal||Re.push(me+$/2);for(var Oe=M.group({class:"apexcharts-datalabels","data:realIndex":je}),$e=M.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ft=0;ft<v.globals.dataPoints;ft++){var sn=this.barHelpers.getStrokeWidth(O,ft,je),Gt=null,dn={indexes:{i:O,j:ft,realIndex:je,bc:j},x:me,y:Ee,strokeWidth:sn,elSeries:it};this.isHorizontal?(Gt=this.drawBarPaths(xe(xe({},dn),{},{barHeight:_t,zeroW:se,yDivision:re})),$=this.series[O][ft]/this.invertedYRatio):(Gt=this.drawColumnPaths(xe(xe({},dn),{},{xDivision:Z,barWidth:$,zeroH:le})),_t=this.series[O][ft]/this.yRatio[this.yaxisIndex]);var Nn=this.barHelpers.drawGoalLine({barXPosition:Gt.barXPosition,barYPosition:Gt.barYPosition,goalX:Gt.goalX,goalY:Gt.goalY,barHeight:_t,barWidth:$});Nn&&$e.add(Nn),Ee=Gt.y,me=Gt.x,ft>0&&Re.push(me+$/2),Ae.push(Ee);var Pn=this.barHelpers.getPathFillColor(h,O,ft,je);this.renderSeries({realIndex:je,pathFill:Pn,j:ft,i:O,pathFrom:Gt.pathFrom,pathTo:Gt.pathTo,strokeWidth:sn,elSeries:it,x:me,y:Ee,series:h,barHeight:_t,barWidth:$,elDataLabelsWrap:Oe,elGoalsMarkers:$e,visibleSeries:this.visibleI,type:"bar"})}v.globals.seriesXvalues[je]=Re,v.globals.seriesYvalues[je]=Ae,N.add(it)}return N}},{key:"renderSeries",value:function(h){var p=h.realIndex,v=h.pathFill,M=h.lineFill,E=h.j,N=h.i,O=h.pathFrom,j=h.pathTo,Z=h.strokeWidth,re=h.elSeries,le=h.x,se=h.y,me=h.y1,Ee=h.y2,Ae=h.series,Re=h.barHeight,je=h.barWidth,it=h.barYPosition,_t=h.elDataLabelsWrap,$=h.elGoalsMarkers,ue=h.visibleSeries,Oe=h.type,$e=this.w,ft=new jt(this.ctx);M||(M=this.barOptions.distributed?$e.globals.stroke.colors[E]:$e.globals.stroke.colors[p]),$e.config.series[N].data[E]&&$e.config.series[N].data[E].strokeColor&&(M=$e.config.series[N].data[E].strokeColor),this.isNullValue&&(v="none");var Gt=ft.renderPaths({i:N,j:E,realIndex:p,pathFrom:O,pathTo:j,stroke:M,strokeWidth:Z,strokeLineCap:$e.config.stroke.lineCap,fill:v,animationDelay:E/$e.config.chart.animations.animateGradually.delay*($e.config.chart.animations.speed/$e.globals.dataPoints)/2.4,initialSpeed:$e.config.chart.animations.speed,dataChangeSpeed:$e.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Oe,"-area")});Gt.attr("clip-path","url(#gridRectMask".concat($e.globals.cuid,")"));var dn=$e.config.forecastDataPoints;dn.count>0&&E>=$e.globals.dataPoints-dn.count&&(Gt.node.setAttribute("stroke-dasharray",dn.dashArray),Gt.node.setAttribute("stroke-width",dn.strokeWidth),Gt.node.setAttribute("fill-opacity",dn.fillOpacity)),void 0!==me&&void 0!==Ee&&(Gt.attr("data-range-y1",me),Gt.attr("data-range-y2",Ee)),new In(this.ctx).setSelectionFilter(Gt,p,E),re.add(Gt);var Nn=new fn(this).handleBarDataLabels({x:le,y:se,y1:me,y2:Ee,i:N,j:E,series:Ae,realIndex:p,barHeight:Re,barWidth:je,barYPosition:it,renderedPath:Gt,visibleSeries:ue});return null!==Nn&&_t.add(Nn),re.add(_t),$&&re.add($),re}},{key:"drawBarPaths",value:function(h){var N,p=h.indexes,v=h.barHeight,M=h.strokeWidth,E=h.zeroW,O=h.y,j=h.yDivision,Z=h.elSeries,re=this.w,le=p.i,se=p.j;re.globals.isXNumeric&&(O=(re.globals.seriesX[le][se]-re.globals.minX)/this.invertedXRatio-v);var me=O+v*this.visibleI;N=this.barHelpers.getXForValue(this.series[le][se],E);var Ee=this.barHelpers.getBarpaths({barYPosition:me,barHeight:v,x1:E,x2:N,strokeWidth:M,series:this.series,realIndex:p.realIndex,i:le,j:se,w:re});return re.globals.isXNumeric||(O+=j),this.barHelpers.barBackground({j:se,i:le,y1:me-v*this.visibleI,y2:v*this.seriesLen,elSeries:Z}),{pathTo:Ee.pathTo,pathFrom:Ee.pathFrom,x:N,y:O,goalX:this.barHelpers.getGoalValues("x",E,null,le,se),barYPosition:me}}},{key:"drawColumnPaths",value:function(h){var M,p=h.indexes,v=h.x,E=h.xDivision,N=h.barWidth,O=h.zeroH,j=h.strokeWidth,Z=h.elSeries,re=this.w,le=p.realIndex,se=p.i,me=p.j,Ee=p.bc;if(re.globals.isXNumeric){var Ae=le;re.globals.seriesX[le].length||(Ae=re.globals.maxValsInArrayIndex),v=(re.globals.seriesX[Ae][me]-re.globals.minX)/this.xRatio-N*this.seriesLen/2}var Re=v+N*this.visibleI;M=this.barHelpers.getYForValue(this.series[se][me],O);var je=this.barHelpers.getColumnPaths({barXPosition:Re,barWidth:N,y1:O,y2:M,strokeWidth:j,series:this.series,realIndex:p.realIndex,i:se,j:me,w:re});return re.globals.isXNumeric||(v+=E),this.barHelpers.barBackground({bc:Ee,j:me,i:se,x1:Re-j/2-N*this.visibleI,x2:N*this.seriesLen+j/2,elSeries:Z}),{pathTo:je.pathTo,pathFrom:je.pathFrom,x:v,y:M,goalY:this.barHelpers.getGoalValues("y",null,O,se,me),barXPosition:Re}}},{key:"getPreviousPath",value:function(h,p){for(var v,M=this.w,E=0;E<M.globals.previousPaths.length;E++){var N=M.globals.previousPaths[E];N.paths&&N.paths.length>0&&parseInt(N.realIndex,10)===parseInt(h,10)&&void 0!==M.globals.previousPaths[E].paths[p]&&(v=M.globals.previousPaths[E].paths[p].d)}return v}}]),Le}(),ui=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ce(Le,[{key:"isValidDate",value:function(h){return!isNaN(this.parseDate(h))}},{key:"getTimeStamp",value:function(h){return Date.parse(h)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toISOString().substr(0,25)).getTime():new Date(h).getTime():h}},{key:"getDate",value:function(h){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toUTCString()):new Date(h)}},{key:"parseDate",value:function(h){var p=Date.parse(h);if(!isNaN(p))return this.getTimeStamp(h);var v=Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(v)}},{key:"parseDateWithTimezone",value:function(h){return Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(h,p){var v=this.w.globals.locale,M=this.w.config.xaxis.labels.datetimeUTC,E=["\0"].concat(en(v.months)),N=["\x01"].concat(en(v.shortMonths)),O=["\x02"].concat(en(v.days)),j=["\x03"].concat(en(v.shortDays));function Z(ft,sn){var Gt=ft+"";for(sn=sn||2;Gt.length<sn;)Gt="0"+Gt;return Gt}var re=M?h.getUTCFullYear():h.getFullYear();p=(p=(p=p.replace(/(^|[^\\])yyyy+/g,"$1"+re)).replace(/(^|[^\\])yy/g,"$1"+re.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+re);var le=(M?h.getUTCMonth():h.getMonth())+1;p=(p=(p=(p=p.replace(/(^|[^\\])MMMM+/g,"$1"+E[0])).replace(/(^|[^\\])MMM/g,"$1"+N[0])).replace(/(^|[^\\])MM/g,"$1"+Z(le))).replace(/(^|[^\\])M/g,"$1"+le);var se=M?h.getUTCDate():h.getDate();p=(p=(p=(p=p.replace(/(^|[^\\])dddd+/g,"$1"+O[0])).replace(/(^|[^\\])ddd/g,"$1"+j[0])).replace(/(^|[^\\])dd/g,"$1"+Z(se))).replace(/(^|[^\\])d/g,"$1"+se);var me=M?h.getUTCHours():h.getHours(),Ee=me>12?me-12:0===me?12:me;p=(p=(p=(p=p.replace(/(^|[^\\])HH+/g,"$1"+Z(me))).replace(/(^|[^\\])H/g,"$1"+me)).replace(/(^|[^\\])hh+/g,"$1"+Z(Ee))).replace(/(^|[^\\])h/g,"$1"+Ee);var Ae=M?h.getUTCMinutes():h.getMinutes();p=(p=p.replace(/(^|[^\\])mm+/g,"$1"+Z(Ae))).replace(/(^|[^\\])m/g,"$1"+Ae);var Re=M?h.getUTCSeconds():h.getSeconds();p=(p=p.replace(/(^|[^\\])ss+/g,"$1"+Z(Re))).replace(/(^|[^\\])s/g,"$1"+Re);var je=M?h.getUTCMilliseconds():h.getMilliseconds();p=p.replace(/(^|[^\\])fff+/g,"$1"+Z(je,3)),je=Math.round(je/10),p=p.replace(/(^|[^\\])ff/g,"$1"+Z(je)),je=Math.round(je/10);var it=me<12?"AM":"PM";p=(p=(p=p.replace(/(^|[^\\])f/g,"$1"+je)).replace(/(^|[^\\])TT+/g,"$1"+it)).replace(/(^|[^\\])T/g,"$1"+it.charAt(0));var _t=it.toLowerCase();p=(p=p.replace(/(^|[^\\])tt+/g,"$1"+_t)).replace(/(^|[^\\])t/g,"$1"+_t.charAt(0));var $=-h.getTimezoneOffset(),ue=M||!$?"Z":$>0?"+":"-";if(!M){var Oe=($=Math.abs($))%60;ue+=Z(Math.floor($/60))+":"+Z(Oe)}p=p.replace(/(^|[^\\])K/g,"$1"+ue);var $e=(M?h.getUTCDay():h.getDay())+1;return(p=(p=(p=(p=p.replace(new RegExp(O[0],"g"),O[$e])).replace(new RegExp(j[0],"g"),j[$e])).replace(new RegExp(E[0],"g"),E[le])).replace(new RegExp(N[0],"g"),N[le])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(h,p,v){var M=this.w;void 0!==M.config.xaxis.min&&(h=M.config.xaxis.min),void 0!==M.config.xaxis.max&&(p=M.config.xaxis.max);var E=this.getDate(h),N=this.getDate(p),O=this.formatDate(E,"yyyy MM dd HH mm ss fff").split(" "),j=this.formatDate(N,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(O[6],10),maxMillisecond:parseInt(j[6],10),minSecond:parseInt(O[5],10),maxSecond:parseInt(j[5],10),minMinute:parseInt(O[4],10),maxMinute:parseInt(j[4],10),minHour:parseInt(O[3],10),maxHour:parseInt(j[3],10),minDate:parseInt(O[2],10),maxDate:parseInt(j[2],10),minMonth:parseInt(O[1],10)-1,maxMonth:parseInt(j[1],10)-1,minYear:parseInt(O[0],10),maxYear:parseInt(j[0],10)}}},{key:"isLeapYear",value:function(h){return h%4==0&&h%100!=0||h%400==0}},{key:"calculcateLastDaysOfMonth",value:function(h,p,v){return this.determineDaysOfMonths(h,p)-v}},{key:"determineDaysOfYear",value:function(h){var p=365;return this.isLeapYear(h)&&(p=366),p}},{key:"determineRemainingDaysOfYear",value:function(h,p,v){var M=this.daysCntOfYear[p]+v;return p>1&&this.isLeapYear()&&M++,M}},{key:"determineDaysOfMonths",value:function(h,p){var v=30;switch(h=at.monthMod(h),!0){case this.months30.indexOf(h)>-1:2===h&&(v=this.isLeapYear(p)?29:28);break;case this.months31.indexOf(h)>-1:default:v=31}return v}}]),Le}(),bi=function(Le){Fe(p,Fi);var h=At(p);function p(){return J(this,p),h.apply(this,arguments)}return ce(p,[{key:"draw",value:function(v,M){var E=this.w,N=new jt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=v,this.seriesRangeStart=E.globals.seriesRangeStart,this.seriesRangeEnd=E.globals.seriesRangeEnd,this.barHelpers.initVariables(v);for(var O=N.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),j=0;j<v.length;j++){var Z,re,le,se=void 0,me=void 0,Ee=void 0,Ae=E.globals.comboCharts?M[j]:j,Re=N.group({class:"apexcharts-series",seriesName:at.escapeString(E.globals.seriesNames[Ae]),rel:j+1,"data:realIndex":Ae});v[j].length>0&&(this.visibleI=this.visibleI+1);var je=0,it=0;this.yRatio.length>1&&(this.yaxisIndex=Ae);var _t=this.barHelpers.initialPositions();me=_t.y,le=_t.zeroW,se=_t.x,it=_t.barWidth,Z=_t.xDivision,re=_t.zeroH;for(var $=N.group({class:"apexcharts-datalabels","data:realIndex":Ae}),ue=N.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),Oe=0;Oe<E.globals.dataPoints;Oe++){var $e=this.barHelpers.getStrokeWidth(j,Oe,Ae),ft=this.seriesRangeStart[j][Oe],sn=this.seriesRangeEnd[j][Oe],Gt=null,dn=null,Nn={x:se,y:me,strokeWidth:$e,elSeries:Re};if(Ee=_t.yDivision,je=_t.barHeight,this.isHorizontal){dn=me+je*this.visibleI;var Pn=this.seriesLen;E.config.plotOptions.bar.rangeBarGroupRows&&(Pn=1);var wi=(Ee-je*Pn)/2;if(void 0===E.config.series[j].data[Oe])break;if(this.isTimelineBar&&E.config.series[j].data[Oe].x){var lr=this.detectOverlappingBars({i:j,j:Oe,barYPosition:dn,srty:wi,barHeight:je,yDivision:Ee,initPositions:_t});je=lr.barHeight,dn=lr.barYPosition}it=(Gt=this.drawRangeBarPaths(xe({indexes:{i:j,j:Oe,realIndex:Ae},barHeight:je,barYPosition:dn,zeroW:le,yDivision:Ee,y1:ft,y2:sn},Nn))).barWidth}else je=(Gt=this.drawRangeColumnPaths(xe({indexes:{i:j,j:Oe,realIndex:Ae},zeroH:re,barWidth:it,xDivision:Z},Nn))).barHeight;var fi=this.barHelpers.drawGoalLine({barXPosition:Gt.barXPosition,barYPosition:dn,goalX:Gt.goalX,goalY:Gt.goalY,barHeight:je,barWidth:it});fi&&ue.add(fi),me=Gt.y,se=Gt.x;var Oi=this.barHelpers.getPathFillColor(v,j,Oe,Ae);this.renderSeries({realIndex:Ae,pathFill:Oi,lineFill:E.globals.stroke.colors[Ae],j:Oe,i:j,x:se,y:me,y1:ft,y2:sn,pathFrom:Gt.pathFrom,pathTo:Gt.pathTo,strokeWidth:$e,elSeries:Re,series:v,barHeight:je,barYPosition:dn,barWidth:it,elDataLabelsWrap:$,elGoalsMarkers:ue,visibleSeries:this.visibleI,type:"rangebar"})}O.add(Re)}return O}},{key:"detectOverlappingBars",value:function(v){var M=v.i,E=v.j,N=v.barYPosition,O=v.srty,j=v.barHeight,Z=v.yDivision,re=v.initPositions,le=this.w,se=[],me=le.config.series[M].data[E].rangeName,Ee=le.config.series[M].data[E].x,Ae=le.globals.labels.indexOf(Ee),Re=le.globals.seriesRangeBarTimeline[M].findIndex(function(je){return je.x===Ee&&je.overlaps.length>0});return N=le.config.plotOptions.bar.rangeBarGroupRows?O+Z*Ae:O+j*this.visibleI+Z*Ae,Re>-1&&!le.config.plotOptions.bar.rangeBarOverlap&&(se=le.globals.seriesRangeBarTimeline[M][Re].overlaps).indexOf(me)>-1&&(N=(j=re.barHeight/se.length)*this.visibleI+Z*(100-parseInt(this.barOptions.barHeight,10))/100/2+j*(this.visibleI+se.indexOf(me))+Z*Ae),{barYPosition:N,barHeight:j}}},{key:"drawRangeColumnPaths",value:function(v){var M=v.indexes,E=v.x,N=v.xDivision,O=v.barWidth,j=v.zeroH,Z=this.w,re=M.i,le=M.j,se=this.yRatio[this.yaxisIndex],me=M.realIndex,Ee=this.getRangeValue(me,le),Ae=Math.min(Ee.start,Ee.end),Re=Math.max(Ee.start,Ee.end);Z.globals.isXNumeric&&(E=(Z.globals.seriesX[re][le]-Z.globals.minX)/this.xRatio-O/2);var je=E+O*this.visibleI;null==this.series[re][le]?Ae=j:(Ae=j-Ae/se,Re=j-Re/se);var it=Math.abs(Re-Ae),_t=this.barHelpers.getColumnPaths({barXPosition:je,barWidth:O,y1:Ae,y2:Re,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:M.realIndex,i:me,j:le,w:Z});return Z.globals.isXNumeric||(E+=N),{pathTo:_t.pathTo,pathFrom:_t.pathFrom,barHeight:it,x:E,y:Re,goalY:this.barHelpers.getGoalValues("y",null,j,re,le),barXPosition:je}}},{key:"drawRangeBarPaths",value:function(v){var M=v.indexes,E=v.y,j=v.yDivision,Z=v.barHeight,re=v.barYPosition,le=v.zeroW,se=this.w,me=le+v.y1/this.invertedYRatio,Ee=le+v.y2/this.invertedYRatio,Ae=Math.abs(Ee-me),Re=this.barHelpers.getBarpaths({barYPosition:re,barHeight:Z,x1:me,x2:Ee,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:M.realIndex,realIndex:M.realIndex,j:M.j,w:se});return se.globals.isXNumeric||(E+=j),{pathTo:Re.pathTo,pathFrom:Re.pathFrom,barWidth:Ae,x:Ee,goalX:this.barHelpers.getGoalValues("x",le,null,M.realIndex,M.j),y:E}}},{key:"getRangeValue",value:function(v,M){var E=this.w;return{start:E.globals.seriesRangeStart[v][M],end:E.globals.seriesRangeEnd[v][M]}}},{key:"getTooltipValues",value:function(v){var M=v.ctx,E=v.seriesIndex,N=v.dataPointIndex,O=v.y1,j=v.y2,Z=v.w,re=Z.globals.seriesRangeStart[E][N],le=Z.globals.seriesRangeEnd[E][N],se=Z.globals.labels[N],me=Z.config.series[E].name?Z.config.series[E].name:"",Ee=Z.config.tooltip.y.formatter,Ae=Z.config.tooltip.y.title.formatter,Re={w:Z,seriesIndex:E,dataPointIndex:N,start:re,end:le};"function"==typeof Ae&&(me=Ae(me,Re)),Number.isFinite(O)&&Number.isFinite(j)&&(re=O,le=j,Z.config.series[E].data[N].x&&(se=Z.config.series[E].data[N].x+":"),"function"==typeof Ee&&(se=Ee(se,Re)));var je="",it="",_t=Z.globals.colors[E];if(void 0===Z.config.tooltip.x.formatter)if("datetime"===Z.config.xaxis.type){var $=new ui(M);je=$.formatDate($.getDate(re),Z.config.tooltip.x.format),it=$.formatDate($.getDate(le),Z.config.tooltip.x.format)}else je=re,it=le;else je=Z.config.tooltip.x.formatter(re),it=Z.config.tooltip.x.formatter(le);return{start:re,end:le,startVal:je,endVal:it,ylabel:se,color:_t,seriesName:me}}},{key:"buildCustomTooltipHTML",value:function(v){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+v.color+'">'+(v.seriesName||"")+'</span></div><div> <span class="category">'+v.ylabel+' </span> <span class="value start-value">'+v.start+'</span> <span class="separator">-</span> <span class="value end-value">'+v.end+"</span></div></div>"}}]),p}(),mi=function(){function Le(h){J(this,Le),this.opts=h}return ce(Le,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(h){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,at.extend(h,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var h=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(p){return h._getBoxTooltip(p.w,p.seriesIndex,p.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var h=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(p){return h._getBoxTooltip(p.w,p.seriesIndex,p.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(h,p){var v=p.seriesIndex,M=p.dataPointIndex,E=p.w;return E.globals.seriesRangeEnd[v][M]-E.globals.seriesRangeStart[v][M]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(h){return h.w.config.plotOptions&&h.w.config.plotOptions.bar&&h.w.config.plotOptions.bar.horizontal?(M=(v=new bi((p=h).ctx,null)).getTooltipValues(p),v.buildCustomTooltipHTML({color:M.color,seriesName:M.seriesName,ylabel:M.ylabel,start:M.startVal,end:M.endVal})):function(p){var v=new bi(p.ctx,null),M=v.getTooltipValues(p);return v.buildCustomTooltipHTML({color:M.color,seriesName:M.seriesName,ylabel:M.ylabel,start:M.start,end:M.end})}(h);var p,v,M}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(h){return at.extend(h,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(h){h.dataLabels=h.dataLabels||{},h.dataLabels.formatter=h.dataLabels.formatter||void 0;var p=h.dataLabels.formatter;return h.yaxis.forEach(function(v,M){h.yaxis[M].min=0,h.yaxis[M].max=100}),"bar"===h.chart.type&&(h.dataLabels.formatter=p||function(v){return"number"==typeof v&&v?v.toFixed(0)+"%":v}),h}},{key:"convertCatToNumeric",value:function(h){return h.xaxis.convertedCatToNumeric=!0,h}},{key:"convertCatToNumericXaxis",value:function(h,p,v){h.xaxis.type="numeric",h.xaxis.labels=h.xaxis.labels||{},h.xaxis.labels.formatter=h.xaxis.labels.formatter||function(N){return at.isNumber(N)?Math.floor(N):N};var M=h.xaxis.labels.formatter,E=h.xaxis.categories&&h.xaxis.categories.length?h.xaxis.categories:h.labels;return v&&v.length&&(E=v.map(function(N){return Array.isArray(N)?N:String(N)})),E&&E.length&&(h.xaxis.labels.formatter=function(N){return at.isNumber(N)?M(E[Math.floor(N)-1]):M(N)}),h.xaxis.categories=[],h.labels=[],h.xaxis.tickAmount=h.xaxis.tickAmount||"dataPoints",h}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(h){return h},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(h,p,v,M,E){var N=h.globals.seriesCandleO[p][v],O=h.globals.seriesCandleH[p][v],j=h.globals.seriesCandleM[p][v],Z=h.globals.seriesCandleL[p][v],re=h.globals.seriesCandleC[p][v];return h.config.series[p].type&&h.config.series[p].type!==E?'<div class="apexcharts-custom-tooltip">\n          '.concat(h.config.series[p].name?h.config.series[p].name:"series-"+(p+1),": <strong>").concat(h.globals.series[p][v],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(h.config.chart.type,'">')+"<div>".concat(M[0],': <span class="value">')+N+"</span></div>"+"<div>".concat(M[1],': <span class="value">')+O+"</span></div>"+(j?"<div>".concat(M[2],': <span class="value">')+j+"</span></div>":"")+"<div>".concat(M[3],': <span class="value">')+Z+"</span></div>"+"<div>".concat(M[4],': <span class="value">')+re+"</span></div></div>"}}]),Le}(),gi=function(){function Le(h){J(this,Le),this.opts=h}return ce(Le,[{key:"init",value:function(h){var p=h.responsiveOverride,v=this.opts,M=new Pr,E=new mi(v);this.chartType=v.chart.type,"histogram"===this.chartType&&(v.chart.type="bar",v=at.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},v)),v=this.extendYAxis(v),v=this.extendAnnotations(v);var N=M.init(),O={};if(v&&"object"===W(v)){var j={};j=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(v.chart.type)?E[v.chart.type]():E.line(),v.chart.brush&&v.chart.brush.enabled&&(j=E.brush(j)),v.chart.stacked&&"100%"===v.chart.stackType&&(v=E.stacked100(v)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(v),v.xaxis=v.xaxis||window.Apex.xaxis||{},p||(v.xaxis.convertedCatToNumeric=!1),((v=this.checkForCatToNumericXAxis(this.chartType,j,v)).chart.sparkline&&v.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(j=E.sparkline(j)),O=at.extend(N,j)}var Z=at.extend(O,window.Apex);return N=at.extend(Z,v),this.handleUserInputErrors(N)}},{key:"checkForCatToNumericXAxis",value:function(h,p,v){var M=new mi(v);return"bar"===h&&v.plotOptions&&v.plotOptions.bar&&v.plotOptions.bar.horizontal||"pie"===h||"polarArea"===h||"donut"===h||"radar"===h||"radialBar"===h||"heatmap"===h||!("datetime"!==v.xaxis.type&&"numeric"!==v.xaxis.type)||"between"===(v.xaxis.tickPlacement?v.xaxis.tickPlacement:p.xaxis&&p.xaxis.tickPlacement)||(v=M.convertCatToNumeric(v)),v}},{key:"extendYAxis",value:function(h,p){var v=new Pr;(void 0===h.yaxis||!h.yaxis||Array.isArray(h.yaxis)&&0===h.yaxis.length)&&(h.yaxis={}),h.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(h.yaxis=at.extend(h.yaxis,window.Apex.yaxis)),h.yaxis=h.yaxis.constructor!==Array?[at.extend(v.yAxis,h.yaxis)]:at.extendArray(h.yaxis,v.yAxis);var M=!1;h.yaxis.forEach(function(N){N.logarithmic&&(M=!0)});var E=h.series;return p&&!E&&(E=p.config.series),M&&E.length!==h.yaxis.length&&E.length&&(h.yaxis=E.map(function(N,O){if(N.name||(E[O].name="series-".concat(O+1)),h.yaxis[O])return h.yaxis[O].seriesName=E[O].name,h.yaxis[O];var j=at.extend(v.yAxis,h.yaxis[0]);return j.show=!1,j})),M&&E.length>1&&E.length!==h.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),h}},{key:"extendAnnotations",value:function(h){return void 0===h.annotations&&(h.annotations={},h.annotations.yaxis=[],h.annotations.xaxis=[],h.annotations.points=[]),h=this.extendYAxisAnnotations(h),h=this.extendXAxisAnnotations(h),this.extendPointAnnotations(h)}},{key:"extendYAxisAnnotations",value:function(h){var p=new Pr;return h.annotations.yaxis=at.extendArray(void 0!==h.annotations.yaxis?h.annotations.yaxis:[],p.yAxisAnnotation),h}},{key:"extendXAxisAnnotations",value:function(h){var p=new Pr;return h.annotations.xaxis=at.extendArray(void 0!==h.annotations.xaxis?h.annotations.xaxis:[],p.xAxisAnnotation),h}},{key:"extendPointAnnotations",value:function(h){var p=new Pr;return h.annotations.points=at.extendArray(void 0!==h.annotations.points?h.annotations.points:[],p.pointAnnotation),h}},{key:"checkForDarkTheme",value:function(h){h.theme&&"dark"===h.theme.mode&&(h.tooltip||(h.tooltip={}),"light"!==h.tooltip.theme&&(h.tooltip.theme="dark"),h.chart.foreColor||(h.chart.foreColor="#f6f7f8"),h.chart.background||(h.chart.background="#424242"),h.theme.palette||(h.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(h){var p=h;if(p.tooltip.shared&&p.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===p.chart.type&&p.plotOptions.bar.horizontal){if(p.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");p.yaxis[0].reversed&&(p.yaxis[0].opposite=!0),p.xaxis.tooltip.enabled=!1,p.yaxis[0].tooltip.enabled=!1,p.chart.zoom.enabled=!1}return"bar"!==p.chart.type&&"rangeBar"!==p.chart.type||p.tooltip.shared&&"barWidth"===p.xaxis.crosshairs.width&&p.series.length>1&&(p.xaxis.crosshairs.width="tickWidth"),"candlestick"!==p.chart.type&&"boxPlot"!==p.chart.type||p.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(p.chart.type," chart is not supported.")),p.yaxis[0].reversed=!1),p.chart.group&&0===p.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(p.stroke.width)&&"line"!==p.chart.type&&"area"!==p.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),p.stroke.width=p.stroke.width[0]),p}}]),Le}(),$n=function(){function Le(){J(this,Le)}return ce(Le,[{key:"initGlobalVars",value:function(h){h.series=[],h.seriesCandleO=[],h.seriesCandleH=[],h.seriesCandleM=[],h.seriesCandleL=[],h.seriesCandleC=[],h.seriesRangeStart=[],h.seriesRangeEnd=[],h.seriesRangeBarTimeline=[],h.seriesPercent=[],h.seriesGoals=[],h.seriesX=[],h.seriesZ=[],h.seriesNames=[],h.seriesTotals=[],h.seriesLog=[],h.seriesColors=[],h.stackedSeriesTotals=[],h.seriesXvalues=[],h.seriesYvalues=[],h.labels=[],h.categoryLabels=[],h.timescaleLabels=[],h.noLabelsProvided=!1,h.resizeTimer=null,h.selectionResizeTimer=null,h.delayedElements=[],h.pointsArray=[],h.dataLabelsRects=[],h.isXNumeric=!1,h.xaxisLabelsCount=0,h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1,h.isDataXYZ=!1,h.isMultiLineX=!1,h.isMultipleYAxis=!1,h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE,h.minYArr=[],h.maxYArr=[],h.maxX=-Number.MAX_VALUE,h.minX=Number.MAX_VALUE,h.initialMaxX=-Number.MAX_VALUE,h.initialMinX=Number.MAX_VALUE,h.maxDate=0,h.minDate=Number.MAX_VALUE,h.minZ=Number.MAX_VALUE,h.maxZ=-Number.MAX_VALUE,h.minXDiff=Number.MAX_VALUE,h.yAxisScale=[],h.xAxisScale=null,h.xAxisTicksPositions=[],h.yLabelsCoords=[],h.yTitleCoords=[],h.barPadForNumericAxis=0,h.padHorizontal=0,h.xRange=0,h.yRange=[],h.zRange=0,h.dataPoints=0,h.xTickAmount=0}},{key:"globalVars",value:function(h){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:h.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.zoom&&h.chart.zoom.enabled,panEnabled:"pan"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.pan,selectionEnabled:"selection"===h.chart.toolbar.autoSelected&&h.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(h){var p=this.globalVars(h);return this.initGlobalVars(p),p.initialConfig=at.extend({},h),p.initialSeries=at.clone(h.series),p.lastXAxis=at.clone(p.initialConfig.xaxis),p.lastYAxis=at.clone(p.initialConfig.yaxis),p}}]),Le}(),ki=function(){function Le(h){J(this,Le),this.opts=h}return ce(Le,[{key:"init",value:function(){var h=new gi(this.opts).init({responsiveOverride:!1});return{config:h,globals:(new $n).init(h)}}}]),Le}(),xr=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new oi(this.ctx)}return ce(Le,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var h=this.w.config.series.slice(),p=new ni(this.ctx);if(this.activeSeriesIndex=p.getActiveConfigSeriesIndex(),void 0!==h[this.activeSeriesIndex].data&&h[this.activeSeriesIndex].data.length>0&&null!==h[this.activeSeriesIndex].data[0]&&void 0!==h[this.activeSeriesIndex].data[0].x&&null!==h[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var h=this.w.config.series.slice(),p=new ni(this.ctx);if(this.activeSeriesIndex=p.getActiveConfigSeriesIndex(),void 0!==h[this.activeSeriesIndex].data&&h[this.activeSeriesIndex].data.length>0&&null!=h[this.activeSeriesIndex].data[0]&&h[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(h,p){for(var v=this.w.config,M=this.w.globals,E="boxPlot"===v.chart.type||"boxPlot"===v.series[p].type,N=0;N<h[p].data.length;N++)if(void 0!==h[p].data[N][1]&&(Array.isArray(h[p].data[N][1])&&4===h[p].data[N][1].length&&!E?this.twoDSeries.push(at.parseNumber(h[p].data[N][1][3])):this.twoDSeries.push(at.parseNumber(h[p].data[N].length>=5?h[p].data[N][4]:h[p].data[N][1])),M.dataFormatXNumeric=!0),"datetime"===v.xaxis.type){var O=new Date(h[p].data[N][0]);O=new Date(O).getTime(),this.twoDSeriesX.push(O)}else this.twoDSeriesX.push(h[p].data[N][0]);for(var j=0;j<h[p].data.length;j++)void 0!==h[p].data[j][2]&&(this.threeDSeries.push(h[p].data[j][2]),M.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(h,p){var v=this.w.config,M=this.w.globals,E=new ui(this.ctx),N=p;M.collapsedSeriesIndices.indexOf(p)>-1&&(N=this.activeSeriesIndex);for(var O=0;O<h[p].data.length;O++)void 0!==h[p].data[O].y&&(Array.isArray(h[p].data[O].y)?this.twoDSeries.push(at.parseNumber(h[p].data[O].y[h[p].data[O].y.length-1])):this.twoDSeries.push(at.parseNumber(h[p].data[O].y))),void 0!==h[p].data[O].goals&&Array.isArray(h[p].data[O].goals)?(void 0===this.seriesGoals[p]&&(this.seriesGoals[p]=[]),this.seriesGoals[p].push(h[p].data[O].goals)):(void 0===this.seriesGoals[p]&&(this.seriesGoals[p]=[]),this.seriesGoals[p].push(null));for(var j=0;j<h[N].data.length;j++){var Z="string"==typeof h[N].data[j].x,re=Array.isArray(h[N].data[j].x),le=!re&&!!E.isValidDate(h[N].data[j].x.toString());Z||le?Z||v.xaxis.convertedCatToNumeric?"datetime"!==v.xaxis.type||M.isBarHorizontal&&M.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[N].data[j].x)):this.twoDSeriesX.push(E.parseDate(h[N].data[j].x)):"datetime"===v.xaxis.type?this.twoDSeriesX.push(E.parseDate(h[N].data[j].x.toString())):(M.dataFormatXNumeric=!0,M.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(h[N].data[j].x))):re?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[N].data[j].x)):(M.isXNumeric=!0,M.dataFormatXNumeric=!0,this.twoDSeriesX.push(h[N].data[j].x))}if(h[p].data[0]&&void 0!==h[p].data[0].z){for(var me=0;me<h[p].data.length;me++)this.threeDSeries.push(h[p].data[me].z);M.isDataXYZ=!0}}},{key:"handleRangeData",value:function(h,p){var v=this.w.config,M=this.w.globals,E={};return this.isFormat2DArray()?E=this.handleRangeDataFormat("array",h,p):this.isFormatXY()&&(E=this.handleRangeDataFormat("xy",h,p)),M.seriesRangeStart.push(E.start),M.seriesRangeEnd.push(E.end),"datetime"===v.xaxis.type&&M.seriesRangeBarTimeline.push(E.rangeUniques),M.seriesRangeBarTimeline.forEach(function(N,O){N&&N.forEach(function(j,Z){j.y.forEach(function(re,le){for(var se=0;se<j.y.length;se++)le!==se&&re.y1<=j.y[se].y2&&j.y[se].y1<=re.y2&&(j.overlaps.indexOf(re.rangeName)<0&&j.overlaps.push(re.rangeName),j.overlaps.indexOf(j.y[se].rangeName)<0&&j.overlaps.push(j.y[se].rangeName))})})}),E}},{key:"handleCandleStickBoxData",value:function(h,p){var v=this.w.globals,M={};return this.isFormat2DArray()?M=this.handleCandleStickBoxDataFormat("array",h,p):this.isFormatXY()&&(M=this.handleCandleStickBoxDataFormat("xy",h,p)),v.seriesCandleO[p]=M.o,v.seriesCandleH[p]=M.h,v.seriesCandleM[p]=M.m,v.seriesCandleL[p]=M.l,v.seriesCandleC[p]=M.c,M}},{key:"handleRangeDataFormat",value:function(h,p,v){var M=[],E=[],N=p[v].data.filter(function(se,me,Ee){return me===Ee.findIndex(function(Ae){return Ae.x===se.x})}).map(function(se,me){return{x:se.x,overlaps:[],y:[]}}),O="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",j=new ni(this.ctx).getActiveConfigSeriesIndex();if("array"===h){if(2!==p[j].data[0][1].length)throw new Error(O);for(var Z=0;Z<p[v].data.length;Z++)M.push(p[v].data[Z][1][0]),E.push(p[v].data[Z][1][1])}else if("xy"===h){if(2!==p[j].data[0].y.length)throw new Error(O);for(var re=function(se){var me=at.randomId(),Ee=p[v].data[se].x,Ae={y1:p[v].data[se].y[0],y2:p[v].data[se].y[1],rangeName:me};p[v].data[se].rangeName=me;var Re=N.findIndex(function(je){return je.x===Ee});N[Re].y.push(Ae),M.push(Ae.y1),E.push(Ae.y2)},le=0;le<p[v].data.length;le++)re(le)}return{start:M,end:E,rangeUniques:N}}},{key:"handleCandleStickBoxDataFormat",value:function(h,p,v){var M=this.w,E="boxPlot"===M.config.chart.type||"boxPlot"===M.config.series[v].type,N=[],O=[],j=[],Z=[],re=[];if("array"===h)if(E&&6===p[v].data[0].length||!E&&5===p[v].data[0].length)for(var le=0;le<p[v].data.length;le++)N.push(p[v].data[le][1]),O.push(p[v].data[le][2]),E?(j.push(p[v].data[le][3]),Z.push(p[v].data[le][4]),re.push(p[v].data[le][5])):(Z.push(p[v].data[le][3]),re.push(p[v].data[le][4]));else for(var se=0;se<p[v].data.length;se++)Array.isArray(p[v].data[se][1])&&(N.push(p[v].data[se][1][0]),O.push(p[v].data[se][1][1]),E?(j.push(p[v].data[se][1][2]),Z.push(p[v].data[se][1][3]),re.push(p[v].data[se][1][4])):(Z.push(p[v].data[se][1][2]),re.push(p[v].data[se][1][3])));else if("xy"===h)for(var me=0;me<p[v].data.length;me++)Array.isArray(p[v].data[me].y)&&(N.push(p[v].data[me].y[0]),O.push(p[v].data[me].y[1]),E?(j.push(p[v].data[me].y[2]),Z.push(p[v].data[me].y[3]),re.push(p[v].data[me].y[4])):(Z.push(p[v].data[me].y[2]),re.push(p[v].data[me].y[3])));return{o:N,h:O,m:j,l:Z,c:re}}},{key:"parseDataAxisCharts",value:function(h){var p=this,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,M=this.w.config,E=this.w.globals,N=new ui(v),O=M.labels.length>0?M.labels.slice():M.xaxis.categories.slice();E.isTimelineBar="rangeBar"===M.chart.type&&"datetime"===M.xaxis.type;for(var j=function(){for(var le=0;le<O.length;le++)if("string"==typeof O[le]){if(!N.isValidDate(O[le]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");p.twoDSeriesX.push(N.parseDate(O[le]))}else p.twoDSeriesX.push(O[le])},Z=0;Z<h.length;Z++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===h[Z].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==M.chart.type&&"rangeArea"!==M.chart.type&&"rangeBar"!==h[Z].type&&"rangeArea"!==h[Z].type||(E.isRangeData=!0,this.handleRangeData(h,Z)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(h,Z):this.isFormatXY()&&this.handleFormatXY(h,Z),"candlestick"!==M.chart.type&&"candlestick"!==h[Z].type&&"boxPlot"!==M.chart.type&&"boxPlot"!==h[Z].type||this.handleCandleStickBoxData(h,Z),E.series.push(this.twoDSeries),E.labels.push(this.twoDSeriesX),E.seriesX.push(this.twoDSeriesX),E.seriesGoals=this.seriesGoals,Z!==this.activeSeriesIndex||this.fallbackToCategory||(E.isXNumeric=!0);else{"datetime"===M.xaxis.type?(E.isXNumeric=!0,j(),E.seriesX.push(this.twoDSeriesX)):"numeric"===M.xaxis.type&&(E.isXNumeric=!0,O.length>0&&(this.twoDSeriesX=O,E.seriesX.push(this.twoDSeriesX))),E.labels.push(this.twoDSeriesX);var re=h[Z].data.map(function(le){return at.parseNumber(le)});E.series.push(re)}E.seriesZ.push(this.threeDSeries),E.seriesNames.push(void 0!==h[Z].name?h[Z].name:"series-"+parseInt(Z+1,10)),E.seriesColors.push(void 0!==h[Z].color?h[Z].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(h){var p=this.w.globals,v=this.w.config;p.series=h.slice(),p.seriesNames=v.labels.slice();for(var M=0;M<p.series.length;M++)void 0===p.seriesNames[M]&&p.seriesNames.push("series-"+(M+1));return this.w}},{key:"handleExternalLabelsData",value:function(h){var p=this.w.config,v=this.w.globals;p.xaxis.categories.length>0?v.labels=p.xaxis.categories:p.labels.length>0?v.labels=p.labels.slice():this.fallbackToCategory?(v.labels=v.labels[0],v.seriesRangeBarTimeline.length&&(v.seriesRangeBarTimeline.map(function(M){M.forEach(function(E){v.labels.indexOf(E.x)<0&&E.x&&v.labels.push(E.x)})}),v.labels=v.labels.filter(function(M,E,N){return N.indexOf(M)===E})),p.xaxis.convertedCatToNumeric&&(new mi(p).convertCatToNumericXaxis(p,this.ctx,v.seriesX[0]),this._generateExternalLabels(h))):this._generateExternalLabels(h)}},{key:"_generateExternalLabels",value:function(h){var p=this.w.globals,v=this.w.config,M=[];if(p.axisCharts){if(p.series.length>0)for(var E=0;E<p.series[p.maxValsInArrayIndex].length;E++)M.push(E+1);p.seriesX=[];for(var N=0;N<h.length;N++)p.seriesX.push(M);p.isXNumeric=!0}if(0===M.length){M=p.axisCharts?[]:p.series.map(function(j,Z){return Z+1});for(var O=0;O<h.length;O++)p.seriesX.push(M)}p.labels=M,v.xaxis.convertedCatToNumeric&&(p.categoryLabels=M.map(function(j){return v.xaxis.labels.formatter(j)})),p.noLabelsProvided=!0}},{key:"parseData",value:function(h){var p=this.w,v=p.config,M=p.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),M.axisCharts?this.parseDataAxisCharts(h):this.parseDataNonAxisCharts(h),this.coreUtils.getLargestSeries(),"bar"===v.chart.type&&v.chart.stacked){var E=new ni(this.ctx);M.series=E.setNullSeriesToZeroValues(M.series)}this.coreUtils.getSeriesTotals(),M.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),M.dataFormatXNumeric||M.isXNumeric&&("numeric"!==v.xaxis.type||0!==v.labels.length||0!==v.xaxis.categories.length)||this.handleExternalLabelsData(h);for(var N=this.coreUtils.getCategoryLabels(M.labels),O=0;O<N.length;O++)if(Array.isArray(N[O])){M.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var h=this,p=this.w;p.globals.ignoreYAxisIndexes=p.globals.collapsedSeries.map(function(v,M){if(h.w.globals.isMultipleYAxis&&!p.config.chart.stacked)return v.index})}}]),Le}(),uo=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.tooltipKeyFormat="dd MMM"}return ce(Le,[{key:"xLabelFormat",value:function(h,p,v,M){var E=this.w;if("datetime"===E.config.xaxis.type&&void 0===E.config.xaxis.labels.formatter&&void 0===E.config.tooltip.x.formatter){var N=new ui(this.ctx);return N.formatDate(N.getDate(p),E.config.tooltip.x.format)}return h(p,v,M)}},{key:"defaultGeneralFormatter",value:function(h){return Array.isArray(h)?h.map(function(p){return p}):h}},{key:"defaultYFormatter",value:function(h,p,v){var M=this.w;return at.isNumber(h)&&(h=h.toFixed(0!==M.globals.yValueDecimal?void 0!==p.decimalsInFloat?p.decimalsInFloat:M.globals.yValueDecimal:M.globals.maxYArr[v]-M.globals.minYArr[v]<5?1:0)),h}},{key:"setLabelFormatters",value:function(){var h=this,p=this.w;return p.globals.xaxisTooltipFormatter=function(v){return h.defaultGeneralFormatter(v)},p.globals.ttKeyFormatter=function(v){return h.defaultGeneralFormatter(v)},p.globals.ttZFormatter=function(v){return v},p.globals.legendFormatter=function(v){return h.defaultGeneralFormatter(v)},p.globals.xLabelFormatter=void 0!==p.config.xaxis.labels.formatter?p.config.xaxis.labels.formatter:function(v){if(at.isNumber(v)){if(!p.config.xaxis.convertedCatToNumeric&&"numeric"===p.config.xaxis.type){if(at.isNumber(p.config.xaxis.decimalsInFloat))return v.toFixed(p.config.xaxis.decimalsInFloat);var M=p.globals.maxX-p.globals.minX;return v.toFixed(M>0&&M<100?1:0)}return v.toFixed(p.globals.isBarHorizontal&&p.globals.maxY-p.globals.minYArr<4?1:0)}return v},p.globals.ttKeyFormatter="function"==typeof p.config.tooltip.x.formatter?p.config.tooltip.x.formatter:p.globals.xLabelFormatter,"function"==typeof p.config.xaxis.tooltip.formatter&&(p.globals.xaxisTooltipFormatter=p.config.xaxis.tooltip.formatter),(Array.isArray(p.config.tooltip.y)||void 0!==p.config.tooltip.y.formatter)&&(p.globals.ttVal=p.config.tooltip.y),void 0!==p.config.tooltip.z.formatter&&(p.globals.ttZFormatter=p.config.tooltip.z.formatter),void 0!==p.config.legend.formatter&&(p.globals.legendFormatter=p.config.legend.formatter),p.config.yaxis.forEach(function(v,M){p.globals.yLabelFormatters[M]=void 0!==v.labels.formatter?v.labels.formatter:function(E){return p.globals.xyCharts?Array.isArray(E)?E.map(function(N){return h.defaultYFormatter(N,v,M)}):h.defaultYFormatter(E,v,M):E}}),p.globals}},{key:"heatmapLabelFormatters",value:function(){var h=this.w;if("heatmap"===h.config.chart.type){h.globals.yAxisScale[0].result=h.globals.seriesNames.slice();var p=h.globals.seriesNames.reduce(function(v,M){return v.length>M.length?v:M},0);h.globals.yAxisScale[0].niceMax=p,h.globals.yAxisScale[0].niceMin=p}}}]),Le}(),Qr=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"getLabel",value:function(h,p,v,M){var E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",O=this.w,j=void 0===h[M]?"":h[M],Z=j,re=O.globals.xLabelFormatter,le=O.config.xaxis.labels.formatter,se=!1,me=new uo(this.ctx),Ee=j;Z=me.xLabelFormat(re,j,Ee,{i:M,dateFormatter:new ui(this.ctx).formatDate,w:O}),void 0!==le&&(Z=le(j,h[M],{i:M,dateFormatter:new ui(this.ctx).formatDate,w:O}));var Ae=function(_t){var $=null;return p.forEach(function(ue){"month"===ue.unit?$="year":"day"===ue.unit?$="month":"hour"===ue.unit?$="day":"minute"===ue.unit&&($="hour")}),$===_t};p.length>0?(se=Ae(p[M].unit),v=p[M].position,Z=p[M].value):"datetime"===O.config.xaxis.type&&void 0===le&&(Z=""),void 0===Z&&(Z=""),Z=Array.isArray(Z)?Z:Z.toString();var Re=new jt(this.ctx),je={};je=O.globals.rotateXLabels?Re.getTextRects(Z,parseInt(N,10),null,"rotate(".concat(O.config.xaxis.labels.rotate," 0 0)"),!1):Re.getTextRects(Z,parseInt(N,10));var it=!O.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(Z)&&(0===Z.indexOf("NaN")||0===Z.toLowerCase().indexOf("invalid")||Z.toLowerCase().indexOf("infinity")>=0||E.indexOf(Z)>=0&&it)&&(Z=""),{x:v,text:Z,textRect:je,isBold:se}}},{key:"checkLabelBasedOnTickamount",value:function(h,p,v){var M=this.w,E=M.config.xaxis.tickAmount;return"dataPoints"===E&&(E=Math.round(M.globals.gridWidth/120)),E>v||h%Math.round(v/(E+1))==0||(p.text=""),p}},{key:"checkForOverflowingLabels",value:function(h,p,v,M,E){var N=this.w;if(0===h&&N.globals.skipFirstTimelinelabel&&(p.text=""),h===v-1&&N.globals.skipLastTimelinelabel&&(p.text=""),N.config.xaxis.labels.hideOverlappingLabels&&M.length>0){var O=E[E.length-1];p.x<O.textRect.width/(N.globals.rotateXLabels?Math.abs(N.config.xaxis.labels.rotate)/12:1.01)+O.x&&(p.text="")}return p}},{key:"checkForReversedLabels",value:function(h,p){var v=this.w;return v.config.yaxis[h]&&v.config.yaxis[h].reversed&&p.reverse(),p}},{key:"isYAxisHidden",value:function(h){var p=this.w,v=new oi(this.ctx);return!p.config.yaxis[h].show||!p.config.yaxis[h].showForNullSeries&&v.isSeriesNull(h)&&-1===p.globals.collapsedSeriesIndices.indexOf(h)}},{key:"getYAxisForeColor",value:function(h,p){var v=this.w;return Array.isArray(h)&&v.globals.yAxisScale[p]&&this.ctx.theme.pushExtraColors(h,v.globals.yAxisScale[p].result.length,!1),h}},{key:"drawYAxisTicks",value:function(h,p,v,M,E,N,O){var j=this.w,Z=new jt(this.ctx),re=j.globals.translateY;if(M.show&&p>0){!0===j.config.yaxis[E].opposite&&(h+=M.width);for(var le=p;le>=0;le--){var se=re+p/10+j.config.yaxis[E].labels.offsetY-1;j.globals.isBarHorizontal&&(se=N*le),"heatmap"===j.config.chart.type&&(se+=N/2);var me=Z.drawLine(h+v.offsetX-M.width+M.offsetX,se+M.offsetY,h+v.offsetX+M.offsetX,se+M.offsetY,M.color);O.add(me),re+=N}}}}]),Le}(),Vs=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"scaleSvgNode",value:function(h,p){var v=parseFloat(h.getAttributeNS(null,"width")),M=parseFloat(h.getAttributeNS(null,"height"));h.setAttributeNS(null,"width",v*p),h.setAttributeNS(null,"height",M*p),h.setAttributeNS(null,"viewBox","0 0 "+v+" "+M)}},{key:"fixSvgStringForIe11",value:function(h){if(!at.isIE11())return h;var p=0,v=h.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(M){return 2==++p?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':M});return(v=v.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(h){var p=this.w.globals.dom.Paper.svg();if(1!==h){var v=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(v,h),p=(new XMLSerializer).serializeToString(v)}return this.fixSvgStringForIe11(p)}},{key:"cleanup",value:function(){var h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),v=h.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),M=h.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(M,function(E){E.setAttribute("width",0)}),p&&p[0]&&(p[0].setAttribute("x",-500),p[0].setAttribute("x1",-500),p[0].setAttribute("x2",-500)),v&&v[0]&&(v[0].setAttribute("y",-100),v[0].setAttribute("y1",-100),v[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var h=this.getSvgString(),p=new Blob([h],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(p)}},{key:"dataURI",value:function(h){var p=this;return new Promise(function(v){var M=p.w,E=h?h.scale||h.width/M.globals.svgWidth:1;p.cleanup();var N=document.createElement("canvas");N.width=M.globals.svgWidth*E,N.height=parseInt(M.globals.dom.elWrap.style.height,10)*E;var O="transparent"===M.config.chart.background?"#fff":M.config.chart.background,j=N.getContext("2d");j.fillStyle=O,j.fillRect(0,0,N.width*E,N.height*E);var Z=p.getSvgString(E);if(window.canvg&&at.isIE11()){var re=window.canvg.Canvg.fromString(j,Z,{ignoreClear:!0,ignoreDimensions:!0});re.start();var le=N.msToBlob();re.stop(),v({blob:le})}else{var se="data:image/svg+xml,"+encodeURIComponent(Z),me=new Image;me.crossOrigin="anonymous",me.onload=function(){if(j.drawImage(me,0,0),N.msToBlob){var Ee=N.msToBlob();v({blob:Ee})}else{var Ae=N.toDataURL("image/png");v({imgURI:Ae})}},me.src=se}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var h=this;this.dataURI().then(function(p){var v=p.imgURI,M=p.blob;M?navigator.msSaveOrOpenBlob(M,h.w.globals.chartID+".png"):h.triggerDownload(v,h.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(h){var p=this,v=h.series,M=h.columnDelimiter,E=h.lineDelimiter,N=void 0===E?"\n":E,O=this.w,j=[],Z=[],re="data:text/csv;charset=utf-8,\ufeff",le=new xr(this.ctx),se=new Qr(this.ctx),me=function(Ee){var Ae="";if(O.globals.axisCharts){if("category"===O.config.xaxis.type||O.config.xaxis.convertedCatToNumeric)if(O.globals.isBarHorizontal){var Re=O.globals.yLabelFormatters[0],je=new ni(p.ctx).getActiveConfigSeriesIndex();Ae=Re(O.globals.labels[Ee],{seriesIndex:je,dataPointIndex:Ee,w:O})}else Ae=se.getLabel(O.globals.labels,O.globals.timescaleLabels,0,Ee).text;"datetime"===O.config.xaxis.type&&(O.config.xaxis.categories.length?Ae=O.config.xaxis.categories[Ee]:O.config.labels.length&&(Ae=O.config.labels[Ee]))}else Ae=O.config.labels[Ee];return Array.isArray(Ae)&&(Ae=Ae.join(" ")),at.isNumber(Ae)?Ae:Ae.split(M).join("")};j.push(O.config.chart.toolbar.export.csv.headerCategory),v.map(function(Ee,Ae){var Re=Ee.name?Ee.name:"series-".concat(Ae);O.globals.axisCharts&&j.push(Re.split(M).join("")?Re.split(M).join(""):"series-".concat(Ae))}),O.globals.axisCharts||(j.push(O.config.chart.toolbar.export.csv.headerValue),Z.push(j.join(M))),v.map(function(Ee,Ae){O.globals.axisCharts?function(Re,je){if(j.length&&0===je&&Z.push(j.join(M)),Re.data&&Re.data.length)for(var it=0;it<Re.data.length;it++){j=[];var _t=me(it);if(_t||(le.isFormatXY()?_t=v[je].data[it].x:le.isFormat2DArray()&&(_t=v[je].data[it]?v[je].data[it][0]:"")),0===je){j.push("datetime"===O.config.xaxis.type&&String(_t).length>=10?O.config.chart.toolbar.export.csv.dateFormatter(_t):at.isNumber(_t)?_t:_t.split(M).join(""));for(var $=0;$<O.globals.series.length;$++)j.push(O.globals.series[$][it])}("candlestick"===O.config.chart.type||Re.type&&"candlestick"===Re.type)&&(j.pop(),j.push(O.globals.seriesCandleO[je][it]),j.push(O.globals.seriesCandleH[je][it]),j.push(O.globals.seriesCandleL[je][it]),j.push(O.globals.seriesCandleC[je][it])),("boxPlot"===O.config.chart.type||Re.type&&"boxPlot"===Re.type)&&(j.pop(),j.push(O.globals.seriesCandleO[je][it]),j.push(O.globals.seriesCandleH[je][it]),j.push(O.globals.seriesCandleM[je][it]),j.push(O.globals.seriesCandleL[je][it]),j.push(O.globals.seriesCandleC[je][it])),"rangeBar"===O.config.chart.type&&(j.pop(),j.push(O.globals.seriesRangeStart[je][it]),j.push(O.globals.seriesRangeEnd[je][it])),j.length&&Z.push(j.join(M))}}(Ee,Ae):((j=[]).push(O.globals.labels[Ae].split(M).join("")),j.push(O.globals.series[Ae]),Z.push(j.join(M)))}),re+=Z.join(N),this.triggerDownload(encodeURI(re),O.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(h,p,v){var M=document.createElement("a");M.href=h,M.download=(p||this.w.globals.chartID)+v,document.body.appendChild(M),M.click(),document.body.removeChild(M)}}]),Le}(),Zs=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.axesUtils=new Qr(h),this.xaxisLabels=p.globals.labels.slice(),p.globals.timescaleLabels.length>0&&!p.globals.isBarHorizontal&&(this.xaxisLabels=p.globals.timescaleLabels.slice()),p.config.xaxis.overwriteCategories&&(this.xaxisLabels=p.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===p.config.xaxis.position?0:p.globals.gridHeight+1,this.offY=this.offY+p.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===p.config.chart.type&&p.config.plotOptions.bar.horizontal,this.xaxisFontSize=p.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=p.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=p.config.xaxis.labels.style.colors,this.xaxisBorderWidth=p.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=p.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?p.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=p.config.xaxis.axisBorder.height,this.yaxis=p.config.yaxis[0]}return ce(Le,[{key:"drawXaxis",value:function(){var h,p=this,v=this.w,M=new jt(this.ctx),E=M.group({class:"apexcharts-xaxis",transform:"translate(".concat(v.config.xaxis.offsetX,", ").concat(v.config.xaxis.offsetY,")")}),N=M.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(v.globals.translateXAxisX,", ").concat(v.globals.translateXAxisY,")")});E.add(N);for(var O=v.globals.padHorizontal,j=[],Z=0;Z<this.xaxisLabels.length;Z++)j.push(this.xaxisLabels[Z]);var re=j.length;O=v.globals.isXNumeric?O+(h=v.globals.gridWidth/(re>1?re-1:re))/2+v.config.xaxis.labels.offsetX:O+(h=v.globals.gridWidth/j.length)+v.config.xaxis.labels.offsetX;for(var se=function(it){var _t=O-h/2+v.config.xaxis.labels.offsetX;0===it&&1===re&&h/2===O&&1===v.globals.dataPoints&&(_t=v.globals.gridWidth/2);var $=p.axesUtils.getLabel(j,v.globals.timescaleLabels,_t,it,p.drawnLabels,p.xaxisFontSize),ue=28;if(v.globals.rotateXLabels&&(ue=22),($=void 0!==v.config.xaxis.tickAmount&&"dataPoints"!==v.config.xaxis.tickAmount&&"datetime"!==v.config.xaxis.type?p.axesUtils.checkLabelBasedOnTickamount(it,$,re):p.axesUtils.checkForOverflowingLabels(it,$,re,p.drawnLabels,p.drawnLabelsRects)).text&&v.globals.xaxisLabelsCount++,v.config.xaxis.labels.show){var Oe=M.drawText({x:$.x,y:p.offY+v.config.xaxis.labels.offsetY+ue-("top"===v.config.xaxis.position?v.globals.xAxisHeight+v.config.xaxis.axisTicks.height-2:0),text:$.text,textAnchor:"middle",fontWeight:$.isBold?600:v.config.xaxis.labels.style.fontWeight,fontSize:p.xaxisFontSize,fontFamily:p.xaxisFontFamily,foreColor:Array.isArray(p.xaxisForeColors)?v.config.xaxis.convertedCatToNumeric?p.xaxisForeColors[v.globals.minX+it-1]:p.xaxisForeColors[it]:p.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+v.config.xaxis.labels.style.cssClass});N.add(Oe);var $e=document.createElementNS(v.globals.SVGNS,"title");$e.textContent=Array.isArray($.text)?$.text.join(" "):$.text,Oe.node.appendChild($e),""!==$.text&&(p.drawnLabels.push($.text),p.drawnLabelsRects.push($))}O+=h},me=0;me<=re-1;me++)se(me);if(void 0!==v.config.xaxis.title.text){var Ee=M.group({class:"apexcharts-xaxis-title"}),Ae=M.drawText({x:v.globals.gridWidth/2+v.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+v.globals.xAxisLabelsHeight+v.config.xaxis.title.offsetY,text:v.config.xaxis.title.text,textAnchor:"middle",fontSize:v.config.xaxis.title.style.fontSize,fontFamily:v.config.xaxis.title.style.fontFamily,fontWeight:v.config.xaxis.title.style.fontWeight,foreColor:v.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+v.config.xaxis.title.style.cssClass});Ee.add(Ae),E.add(Ee)}if(v.config.xaxis.axisBorder.show){var Re=v.globals.barPadForNumericAxis,je=M.drawLine(v.globals.padHorizontal+v.config.xaxis.axisBorder.offsetX-Re,this.offY,this.xaxisBorderWidth+Re,this.offY,v.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);E.add(je)}return E}},{key:"drawXaxisInversed",value:function(h){var p,v,M=this,E=this.w,N=new jt(this.ctx),O=E.config.yaxis[0].opposite?E.globals.translateYAxisX[h]:0,j=N.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:h}),Z=N.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+O+", 0)"});j.add(Z);var re=[];if(E.config.yaxis[h].show)for(var le=0;le<this.xaxisLabels.length;le++)re.push(this.xaxisLabels[le]);v=-(p=E.globals.gridHeight/re.length)/2.2;var se=E.globals.yLabelFormatters[0],me=E.config.yaxis[0].labels;if(me.show)for(var Ee=function(ue){var Oe=void 0===re[ue]?"":re[ue];Oe=se(Oe,{seriesIndex:h,dataPointIndex:ue,w:E});var $e=M.axesUtils.getYAxisForeColor(me.style.colors,h),ft=0;Array.isArray(Oe)&&(ft=Oe.length/2*parseInt(me.style.fontSize,10));var sn=N.drawText({x:me.offsetX-15,y:v+p+me.offsetY-ft,text:Oe,textAnchor:M.yaxis.opposite?"start":"end",foreColor:Array.isArray($e)?$e[ue]:$e,fontSize:me.style.fontSize,fontFamily:me.style.fontFamily,fontWeight:me.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+me.style.cssClass});Z.add(sn);var Gt=document.createElementNS(E.globals.SVGNS,"title");if(Gt.textContent=Array.isArray(Oe)?Oe.join(" "):Oe,sn.node.appendChild(Gt),0!==E.config.yaxis[h].labels.rotate){var dn=N.rotateAroundCenter(sn.node);sn.node.setAttribute("transform","rotate(".concat(E.config.yaxis[h].labels.rotate," 0 ").concat(dn.y,")"))}v+=p},Ae=0;Ae<=re.length-1;Ae++)Ee(Ae);if(void 0!==E.config.yaxis[0].title.text){var Re=N.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+O+", 0)"}),je=N.drawText({x:0,y:E.globals.gridHeight/2,text:E.config.yaxis[0].title.text,textAnchor:"middle",foreColor:E.config.yaxis[0].title.style.color,fontSize:E.config.yaxis[0].title.style.fontSize,fontWeight:E.config.yaxis[0].title.style.fontWeight,fontFamily:E.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+E.config.yaxis[0].title.style.cssClass});Re.add(je),j.add(Re)}var it=0;this.isCategoryBarHorizontal&&E.config.yaxis[0].opposite&&(it=E.globals.gridWidth);var _t=E.config.xaxis.axisBorder;if(_t.show){var $=N.drawLine(E.globals.padHorizontal+_t.offsetX+it,1+_t.offsetY,E.globals.padHorizontal+_t.offsetX+it,E.globals.gridHeight+_t.offsetY,_t.color,0);j.add($)}return E.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(it,re.length,E.config.yaxis[0].axisBorder,E.config.yaxis[0].axisTicks,0,p,j),j}},{key:"drawXaxisTicks",value:function(h,p){var v=this.w,M=h;if(!(h<0||h-2>v.globals.gridWidth)){var E=this.offY+v.config.xaxis.axisTicks.offsetY,N=E+v.config.xaxis.axisTicks.height;if("top"===v.config.xaxis.position&&(N=E-v.config.xaxis.axisTicks.height),v.config.xaxis.axisTicks.show){var O=new jt(this.ctx).drawLine(h+v.config.xaxis.axisTicks.offsetX,E+v.config.xaxis.offsetY,M+v.config.xaxis.axisTicks.offsetX,N+v.config.xaxis.offsetY,v.config.xaxis.axisTicks.color);p.add(O),O.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var h=this.w,p=[],v=this.xaxisLabels.length,M=h.globals.padHorizontal;if(h.globals.timescaleLabels.length>0)for(var E=0;E<v;E++)p.push(M=this.xaxisLabels[E].position);else for(var N=v,O=0;O<N;O++){var j=N;h.globals.isXNumeric&&"bar"!==h.config.chart.type&&(j-=1),p.push(M+=h.globals.gridWidth/j)}return p}},{key:"xAxisLabelCorrections",value:function(){var h=this.w,p=new jt(this.ctx),v=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),M=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),E=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(h.globals.rotateXLabels||h.config.xaxis.labels.rotateAlways)for(var O=0;O<M.length;O++){var j=p.rotateAroundCenter(M[O]);j.y=j.y-1,j.x=j.x+1,M[O].setAttribute("transform","rotate(".concat(h.config.xaxis.labels.rotate," ").concat(j.x," ").concat(j.y,")")),M[O].setAttribute("text-anchor","end"),v.setAttribute("transform","translate(0, ".concat(-10,")")),h.config.xaxis.labels.trim&&Array.prototype.forEach.call(M[O].childNodes,function(me){p.placeTextWithEllipsis(me,me.textContent,h.globals.xAxisLabelsHeight-("bottom"===h.config.legend.position?20:10))})}else!function(){for(var me=h.globals.gridWidth/(h.globals.labels.length+1),Ee=0;Ee<M.length;Ee++)h.config.xaxis.labels.trim&&"datetime"!==h.config.xaxis.type&&Array.prototype.forEach.call(M[Ee].childNodes,function(Re){p.placeTextWithEllipsis(Re,Re.textContent,me)})}();if(E.length>0){var re=E[E.length-1].getBBox(),le=E[0].getBBox();re.x<-20&&E[E.length-1].parentNode.removeChild(E[E.length-1]),le.x+le.width>h.globals.gridWidth&&!h.globals.isBarHorizontal&&E[0].parentNode.removeChild(E[0]);for(var se=0;se<N.length;se++)p.placeTextWithEllipsis(N[se],N[se].textContent,h.config.yaxis[0].labels.maxWidth-2*parseFloat(h.config.yaxis[0].title.style.fontSize)-20)}}}]),Le}(),fa=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.xaxisLabels=p.globals.labels.slice(),this.axesUtils=new Qr(h),this.isTimelineBar="datetime"===p.config.xaxis.type&&p.globals.seriesRangeBarTimeline.length,p.globals.timescaleLabels.length>0&&(this.xaxisLabels=p.globals.timescaleLabels.slice())}return ce(Le,[{key:"drawGridArea",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,p=this.w,v=new jt(this.ctx);null===h&&(h=v.group({class:"apexcharts-grid"}));var M=v.drawLine(p.globals.padHorizontal,1,p.globals.padHorizontal,p.globals.gridHeight,"transparent"),E=v.drawLine(p.globals.padHorizontal,p.globals.gridHeight,p.globals.gridWidth,p.globals.gridHeight,"transparent");return h.add(E),h.add(M),h}},{key:"drawGrid",value:function(){var h=null;return this.w.globals.axisCharts&&(h=this.renderGrid(),this.drawGridArea(h.el)),h}},{key:"createGridMask",value:function(){var h=this.w,p=h.globals,v=new jt(this.ctx),M=Array.isArray(h.config.stroke.width)?0:h.config.stroke.width;if(Array.isArray(h.config.stroke.width)){var E=0;h.config.stroke.width.forEach(function(le){E=Math.max(E,le)}),M=E}p.dom.elGridRectMask=document.createElementNS(p.SVGNS,"clipPath"),p.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(p.cuid)),p.dom.elGridRectMarkerMask=document.createElementNS(p.SVGNS,"clipPath"),p.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(p.cuid)),p.dom.elForecastMask=document.createElementNS(p.SVGNS,"clipPath"),p.dom.elForecastMask.setAttribute("id","forecastMask".concat(p.cuid)),p.dom.elNonForecastMask=document.createElementNS(p.SVGNS,"clipPath"),p.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(p.cuid));var N=h.config.chart.type,O=0,j=0;("bar"===N||"rangeBar"===N||"candlestick"===N||"boxPlot"===N||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&(j=h.config.grid.padding.right,p.barPadForNumericAxis>(O=h.config.grid.padding.left)&&(O=p.barPadForNumericAxis,j=p.barPadForNumericAxis)),p.dom.elGridRect=v.drawRect(-M/2-O-2,-M/2,p.gridWidth+M+j+O+4,p.gridHeight+M,0,"#fff"),new oi(this).getLargestMarkerSize();var Z=h.globals.markers.largestSize+1;p.dom.elGridRectMarker=v.drawRect(2*-Z,2*-Z,p.gridWidth+4*Z,p.gridHeight+4*Z,0,"#fff"),p.dom.elGridRectMask.appendChild(p.dom.elGridRect.node),p.dom.elGridRectMarkerMask.appendChild(p.dom.elGridRectMarker.node);var re=p.dom.baseEl.querySelector("defs");re.appendChild(p.dom.elGridRectMask),re.appendChild(p.dom.elForecastMask),re.appendChild(p.dom.elNonForecastMask),re.appendChild(p.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(h){var p=h.i,v=h.x1,Z=this.w;0===p&&Z.globals.skipFirstTimelinelabel||p===h.xCount-1&&Z.globals.skipLastTimelinelabel&&!Z.config.xaxis.labels.formatter||"radar"===Z.config.chart.type||(Z.config.grid.xaxis.lines.show&&this._drawGridLine({x1:v,y1:h.y1,x2:h.x2,y2:h.y2,parent:h.parent}),new Zs(this.ctx).drawXaxisTicks(v,this.elg))}},{key:"_drawGridLine",value:function(h){var p=h.x1,v=h.y1,M=h.x2,E=h.y2,N=h.parent,O=this.w,j=N.node.classList.contains("apexcharts-gridlines-horizontal"),Z=O.config.grid.strokeDashArray,re=O.globals.barPadForNumericAxis,le=new jt(this).drawLine(p-(j?re:0),v,M+(j?re:0),E,O.config.grid.borderColor,Z);le.node.classList.add("apexcharts-gridline"),N.add(le)}},{key:"_drawGridBandRect",value:function(h){var p=h.c,v=h.x1,M=h.y1,E=h.x2,N=h.y2,O=h.type,j=this.w,Z=new jt(this.ctx),re=j.globals.barPadForNumericAxis;if("column"!==O||"datetime"!==j.config.xaxis.type){var se=Z.drawRect(v-("row"===O?re:0),M,E+("row"===O?2*re:0),N,0,j.config.grid[O].colors[p],j.config.grid[O].opacity);this.elg.add(se),se.attr("clip-path","url(#gridRectMask".concat(j.globals.cuid,")")),se.node.classList.add("apexcharts-grid-".concat(O))}}},{key:"_drawXYLines",value:function(h){var p=this,v=h.xCount,M=h.tickAmount,E=this.w;if(E.config.grid.xaxis.lines.show||E.config.xaxis.axisTicks.show){var N,O=E.globals.padHorizontal,j=E.globals.gridHeight;E.globals.timescaleLabels.length?function(Ee){for(var Ae=Ee.xC,je=Ee.y1,_t=Ee.y2,$=0;$<Ae;$++)p._drawGridLines({i:$,x1:p.xaxisLabels[$].position,y1:je,x2:p.xaxisLabels[$].position,y2:_t,xCount:v,parent:p.elgridLinesV})}({xC:v,x1:O,y1:0,x2:N,y2:j}):(E.globals.isXNumeric&&(v=E.globals.xAxisScale.result.length),E.config.xaxis.convertedCatToNumeric&&(v=E.globals.xaxisLabelsCount),function(Ee){var Ae=Ee.xC,Re=Ee.x1,je=Ee.y1,it=Ee.x2,_t=Ee.y2;if(void 0!==E.config.xaxis.tickAmount&&"dataPoints"!==E.config.xaxis.tickAmount)E.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(ue,Oe){var $e=ue.getBBox();p._drawGridLines({i:Oe,x1:$e.x+$e.width/2,y1:je,x2:$e.x+$e.width/2,y2:_t,xCount:v,parent:p.elgridLinesV})});else for(var $=0;$<Ae+(E.globals.isXNumeric?0:1);$++)0===$&&1===Ae&&1===E.globals.dataPoints&&(it=Re=E.globals.gridWidth/2),p._drawGridLines({i:$,x1:Re,y1:je,x2:it,y2:_t,xCount:v,parent:p.elgridLinesV}),it=Re+=E.globals.gridWidth/(E.globals.isXNumeric?Ae-1:Ae)}({xC:v,x1:O,y1:0,x2:N,y2:j}))}if(E.config.grid.yaxis.lines.show){var Z=0,re=0,le=E.globals.gridWidth,se=M+1;this.isTimelineBar&&(se=E.globals.labels.length);for(var me=0;me<se+(this.isTimelineBar?1:0);me++)this._drawGridLine({x1:0,y1:Z,x2:le,y2:re,parent:this.elgridLinesH}),re=Z+=E.globals.gridHeight/(this.isTimelineBar?se:M)}}},{key:"_drawInvertedXYLines",value:function(h){var p=h.xCount,v=this.w;if(v.config.grid.xaxis.lines.show||v.config.xaxis.axisTicks.show)for(var M,E=v.globals.padHorizontal,N=v.globals.gridHeight,O=0;O<p+1;O++)v.config.grid.xaxis.lines.show&&this._drawGridLine({x1:E,y1:0,x2:M,y2:N,parent:this.elgridLinesV}),new Zs(this.ctx).drawXaxisTicks(E,this.elg),M=E=E+v.globals.gridWidth/p+.3;if(v.config.grid.yaxis.lines.show)for(var j=0,Z=0,re=v.globals.gridWidth,le=0;le<v.globals.dataPoints+1;le++)this._drawGridLine({x1:0,y1:j,x2:re,y2:Z,parent:this.elgridLinesH}),Z=j+=v.globals.gridHeight/v.globals.dataPoints}},{key:"renderGrid",value:function(){var h=this.w,p=new jt(this.ctx);this.elg=p.group({class:"apexcharts-grid"}),this.elgridLinesH=p.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=p.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),h.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var v,M=h.globals.yAxisScale.length?h.globals.yAxisScale[0].result.length-1:5,E=0;E<h.globals.series.length&&(void 0!==h.globals.yAxisScale[E]&&(M=h.globals.yAxisScale[E].result.length-1),!(M>2));E++);return!h.globals.isBarHorizontal||this.isTimelineBar?(v=this.xaxisLabels.length,this.isTimelineBar&&(M=h.globals.labels.length,h.config.xaxis.tickAmount&&h.config.xaxis.labels.formatter&&(v=h.config.xaxis.tickAmount)),this._drawXYLines({xCount:v,tickAmount:M})):this._drawInvertedXYLines({xCount:v=M,tickAmount:M=h.globals.xTickAmount}),this.drawGridBands(v,M),{el:this.elg,xAxisTickWidth:h.globals.gridWidth/v}}},{key:"drawGridBands",value:function(h,p){var v=this.w;if(void 0!==v.config.grid.row.colors&&v.config.grid.row.colors.length>0)for(var M=0,E=v.globals.gridHeight/p,N=v.globals.gridWidth,O=0,j=0;O<p;O++,j++)j>=v.config.grid.row.colors.length&&(j=0),this._drawGridBandRect({c:j,x1:0,y1:M,x2:N,y2:E,type:"row"}),M+=v.globals.gridHeight/p;if(void 0!==v.config.grid.column.colors&&v.config.grid.column.colors.length>0)for(var Z=v.globals.isBarHorizontal||"category"!==v.config.xaxis.type&&!v.config.xaxis.convertedCatToNumeric?h:h-1,re=v.globals.padHorizontal,le=v.globals.padHorizontal+v.globals.gridWidth/Z,se=v.globals.gridHeight,me=0,Ee=0;me<h;me++,Ee++)Ee>=v.config.grid.column.colors.length&&(Ee=0),this._drawGridBandRect({c:Ee,x1:re,y1:0,x2:le,y2:se,type:"column"}),re+=v.globals.gridWidth/Z}}]),Le}(),nr=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"niceScale",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4?arguments[4]:void 0,N=this.w,O=Math.abs(p-h);if("dataPoints"===(v=this._adjustTicksForSmallRange(v,M,O))&&(v=N.globals.dataPoints-1),h===Number.MIN_VALUE&&0===p||!at.isNumber(h)&&!at.isNumber(p)||h===Number.MIN_VALUE&&p===-Number.MAX_VALUE){var j=this.linearScale(h=0,p=v,v);return j}h>p?(console.warn("axis.min cannot be greater than axis.max"),p=h+.1):h===p&&(h=0===h?0:h-.5,p=0===p?2:p+.5);var Z=[];O<1&&E&&("candlestick"===N.config.chart.type||"candlestick"===N.config.series[M].type||"boxPlot"===N.config.chart.type||"boxPlot"===N.config.series[M].type||N.globals.isRangeData)&&(p*=1.01);var re=v+1;re<2?re=2:re>2&&(re-=2);var le=O/re,se=Math.floor(at.log10(le)),me=Math.pow(10,se),Ee=Math.round(le/me);Ee<1&&(Ee=1);var Ae=Ee*me,Re=Ae*Math.floor(h/Ae),je=Ae*Math.ceil(p/Ae),it=Re;if(E&&O>2){for(;Z.push(it),!((it+=Ae)>je););return{result:Z,niceMin:Z[0],niceMax:Z[Z.length-1]}}var _t=h;(Z=[]).push(_t);for(var $=Math.abs(p-h)/v,ue=0;ue<=v;ue++)Z.push(_t+=$);return Z[Z.length-2]>=p&&Z.pop(),{result:Z,niceMin:Z[0],niceMax:Z[Z.length-1]}}},{key:"linearScale",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,M=arguments.length>3?arguments[3]:void 0,E=Math.abs(p-h);"dataPoints"===(v=this._adjustTicksForSmallRange(v,M,E))&&(v=this.w.globals.dataPoints-1);var N=E/v;v===Number.MAX_VALUE&&(v=10,N=1);for(var O=[],j=h;v>=0;)O.push(j),j+=N,v-=1;return{result:O,niceMin:O[0],niceMax:O[O.length-1]}}},{key:"logarithmicScale",value:function(h){for(var p=[],v=Math.ceil(Math.log10(h))+1,M=0;M<v;M++)p.push(Math.pow(10,M));return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(h,p,v){var M=h;if(void 0!==p&&this.w.config.yaxis[p].labels.formatter&&void 0===this.w.config.yaxis[p].tickAmount){var E=this.w.config.yaxis[p].labels.formatter(1);at.isNumber(Number(E))&&!at.isFloat(E)&&(M=Math.ceil(v))}return M<h?M:h}},{key:"setYScaleForIndex",value:function(h,p,v){var M=this.w.globals,E=this.w.config,N=M.isBarHorizontal?E.xaxis:E.yaxis[h];void 0===M.yAxisScale[h]&&(M.yAxisScale[h]=[]);var O=Math.abs(v-p);N.logarithmic&&O<=5&&(M.invalidLogScale=!0),N.logarithmic&&O>5?(M.allSeriesCollapsed=!1,M.yAxisScale[h]=this.logarithmicScale(v)):v!==-Number.MAX_VALUE&&at.isNumber(v)?(M.allSeriesCollapsed=!1,M.yAxisScale[h]=void 0===N.min&&void 0===N.max||N.forceNiceScale?this.niceScale(p,v,N.tickAmount?N.tickAmount:O<5&&O>1?O+1:5,h,void 0===E.yaxis[h].max&&void 0===E.yaxis[h].min||E.yaxis[h].forceNiceScale):this.linearScale(p,v,N.tickAmount,h)):M.yAxisScale[h]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(h,p){var v=this.w,M=v.globals,E=v.config.xaxis,N=Math.abs(p-h);return M.xAxisScale=p!==-Number.MAX_VALUE&&at.isNumber(p)?this.linearScale(h,p,E.tickAmount?E.tickAmount:N<5&&N>1?N+1:5,0):this.linearScale(0,5,5),M.xAxisScale}},{key:"setMultipleYScales",value:function(){var h=this,p=this.w.globals,v=this.w.config,M=p.minYArr.concat([]),E=p.maxYArr.concat([]),N=[];v.yaxis.forEach(function(O,j){var Z=j;v.series.forEach(function(se,me){se.name===O.seriesName&&(Z=me,N.push(j!==me?{index:me,similarIndex:j,alreadyExists:!0}:{index:me}))}),h.setYScaleForIndex(j,M[Z],E[Z])}),this.sameScaleInMultipleAxes(M,E,N)}},{key:"sameScaleInMultipleAxes",value:function(h,p,v){var M=this,E=this.w.config,N=this.w.globals,O=[];v.forEach(function(Ae){Ae.alreadyExists&&(void 0===O[Ae.index]&&(O[Ae.index]=[]),O[Ae.index].push(Ae.index),O[Ae.index].push(Ae.similarIndex))}),N.yAxisSameScaleIndices=O,O.forEach(function(Ae,Re){O.forEach(function(je,it){var _t,$;Re!==it&&(_t=Ae,$=je,_t.filter(function(ue){return-1!==$.indexOf(ue)})).length>0&&(O[Re]=O[Re].concat(O[it]))})});var j=O.map(function(Ae){return Ae.filter(function(Re,je){return Ae.indexOf(Re)===je})}).map(function(Ae){return Ae.sort()});O=O.filter(function(Ae){return!!Ae});var Z=j.slice(),re=Z.map(function(Ae){return JSON.stringify(Ae)});Z=Z.filter(function(Ae,Re){return re.indexOf(JSON.stringify(Ae))===Re});var le=[],se=[];h.forEach(function(Ae,Re){Z.forEach(function(je,it){je.indexOf(Re)>-1&&(void 0===le[it]&&(le[it]=[],se[it]=[]),le[it].push({key:Re,value:Ae}),se[it].push({key:Re,value:p[Re]}))})});var me=Array.apply(null,Array(Z.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Ee=Array.apply(null,Array(Z.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);le.forEach(function(Ae,Re){Ae.forEach(function(je,it){me[Re]=Math.min(je.value,me[Re])})}),se.forEach(function(Ae,Re){Ae.forEach(function(je,it){Ee[Re]=Math.max(je.value,Ee[Re])})}),h.forEach(function(Ae,Re){se.forEach(function(je,it){var _t=me[it],$=Ee[it];E.chart.stacked&&($=0,je.forEach(function(ue,Oe){ue.value!==-Number.MAX_VALUE&&($+=ue.value),_t!==Number.MIN_VALUE&&(_t+=le[it][Oe].value)})),je.forEach(function(ue,Oe){je[Oe].key===Re&&(void 0!==E.yaxis[Re].min&&(_t="function"==typeof E.yaxis[Re].min?E.yaxis[Re].min(N.minY):E.yaxis[Re].min),void 0!==E.yaxis[Re].max&&($="function"==typeof E.yaxis[Re].max?E.yaxis[Re].max(N.maxY):E.yaxis[Re].max),M.setYScaleForIndex(Re,_t,$))})})})}},{key:"autoScaleY",value:function(h,p,v){h||(h=this);var M=h.w;if(M.globals.isMultipleYAxis||M.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),p;var E=M.globals.seriesX[0],N=M.config.chart.stacked;return p.forEach(function(O,j){for(var Z=0,re=0;re<E.length;re++)if(E[re]>=v.xaxis.min){Z=re;break}var le,se,me=M.globals.minYArr[j],Ee=M.globals.maxYArr[j],Ae=M.globals.stackedSeriesTotals;M.globals.series.forEach(function(Re,je){var it=Re[Z];N?(le=se=it=Ae[Z],Ae.forEach(function(_t,$){E[$]<=v.xaxis.max&&E[$]>=v.xaxis.min&&(_t>se&&null!==_t&&(se=_t),Re[$]<le&&null!==Re[$]&&(le=Re[$]))})):(le=se=it,Re.forEach(function(_t,$){if(E[$]<=v.xaxis.max&&E[$]>=v.xaxis.min){var ue=_t,Oe=_t;M.globals.series.forEach(function($e,ft){null!==_t&&(ue=Math.min($e[$],ue),Oe=Math.max($e[$],Oe))}),Oe>se&&null!==Oe&&(se=Oe),ue<le&&null!==ue&&(le=ue)}})),void 0===le&&void 0===se&&(le=me,se=Ee),(se*=se<0?.9:1.1)<0&&se<Ee&&(se=Ee),(le*=le<0?1.1:.9)<0&&le>me&&(le=me),p.length>1?(p[je].min=void 0===O.min?le:O.min,p[je].max=void 0===O.max?se:O.max):(p[0].min=void 0===O.min?le:O.min,p[0].max=void 0===O.max?se:O.max)})}),p}}]),Le}(),ma=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.scales=new nr(h)}return ce(Le,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,E=this.w.config,N=this.w.globals,O=-Number.MAX_VALUE,j=Number.MIN_VALUE;null===M&&(M=h+1);var Z=N.series,re=Z,le=Z;"candlestick"===E.chart.type?(re=N.seriesCandleL,le=N.seriesCandleH):"boxPlot"===E.chart.type?(re=N.seriesCandleO,le=N.seriesCandleC):N.isRangeData&&(re=N.seriesRangeStart,le=N.seriesRangeEnd);for(var se=h;se<M;se++){N.dataPoints=Math.max(N.dataPoints,Z[se].length);for(var me=0;me<N.series[se].length;me++){var Ee=Z[se][me];null!==Ee&&at.isNumber(Ee)?(void 0!==le[se][me]&&(O=Math.max(O,le[se][me])),void 0!==re[se][me]&&(p=Math.min(p,re[se][me]),v=Math.max(v,re[se][me])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==N.seriesCandleC[se][me]&&(O=Math.max(O,N.seriesCandleO[se][me]),O=Math.max(O,N.seriesCandleH[se][me]),O=Math.max(O,N.seriesCandleL[se][me]),O=Math.max(O,N.seriesCandleC[se][me]),"boxPlot"===this.w.config.chart.type&&(O=Math.max(O,N.seriesCandleM[se][me]))),!E.series[se].type||"candlestick"===E.series[se].type&&"boxPlot"===E.series[se].type||(O=Math.max(O,N.series[se][me]),p=Math.min(p,N.series[se][me])),v=O),N.seriesGoals[se]&&N.seriesGoals[se][me]&&Array.isArray(N.seriesGoals[se][me])&&N.seriesGoals[se][me].forEach(function(Ae){j!==Number.MIN_VALUE&&(j=Math.min(j,Ae.value),p=j),O=Math.max(O,Ae.value),v=O}),at.isFloat(Ee)&&(Ee=at.noExponents(Ee),N.yValueDecimal=Math.max(N.yValueDecimal,Ee.toString().split(".")[1].length)),j>re[se][me]&&re[se][me]<0&&(j=re[se][me])):N.hasNullValues=!0}}return"rangeBar"===E.chart.type&&N.seriesRangeStart.length&&N.isBarHorizontal&&"datetime"===E.xaxis.type&&(j=p),"bar"===E.chart.type&&(j<0&&O<0&&(O=0),j===Number.MIN_VALUE&&(j=0)),{minY:j,maxY:O,lowestY:p,highestY:v}}},{key:"setYRange",value:function(){var h=this.w.globals,p=this.w.config;h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE;var v=Number.MAX_VALUE;if(h.isMultipleYAxis)for(var M=0;M<h.series.length;M++){var E=this.getMinYMaxY(M,v,null,M+1);h.minYArr.push(E.minY),h.maxYArr.push(E.maxY),v=E.lowestY}var N=this.getMinYMaxY(0,v,null,h.series.length);if(h.minY=N.minY,h.maxY=N.maxY,v=N.lowestY,p.chart.stacked&&this._setStackedMinMax(),("line"===p.chart.type||"area"===p.chart.type||"candlestick"===p.chart.type||"boxPlot"===p.chart.type||"rangeBar"===p.chart.type&&!h.isBarHorizontal)&&h.minY===Number.MIN_VALUE&&v!==-Number.MAX_VALUE&&v!==h.maxY){var O=h.maxY-v;(v>=0&&v<=10||void 0!==p.yaxis[0].min||void 0!==p.yaxis[0].max)&&(O=0),h.minY=v-5*O/100,v>0&&h.minY<0&&(h.minY=0),h.maxY=h.maxY+5*O/100}return p.yaxis.forEach(function(j,Z){void 0!==j.max&&("number"==typeof j.max?h.maxYArr[Z]=j.max:"function"==typeof j.max&&(h.maxYArr[Z]=j.max(h.isMultipleYAxis?h.maxYArr[Z]:h.maxY)),h.maxY=h.maxYArr[Z]),void 0!==j.min&&("number"==typeof j.min?h.minYArr[Z]=j.min:"function"==typeof j.min&&(h.minYArr[Z]=j.min(h.isMultipleYAxis?h.minYArr[Z]===Number.MIN_VALUE?0:h.minYArr[Z]:h.minY)),h.minY=h.minYArr[Z])}),h.isBarHorizontal&&["min","max"].forEach(function(j){void 0!==p.xaxis[j]&&"number"==typeof p.xaxis[j]&&("min"===j?h.minY=p.xaxis[j]:h.maxY=p.xaxis[j])}),h.isMultipleYAxis?(this.scales.setMultipleYScales(),h.minY=v,h.yAxisScale.forEach(function(j,Z){h.minYArr[Z]=j.niceMin,h.maxYArr[Z]=j.niceMax})):(this.scales.setYScaleForIndex(0,h.minY,h.maxY),h.minY=h.yAxisScale[0].niceMin,h.maxY=h.yAxisScale[0].niceMax,h.minYArr[0]=h.yAxisScale[0].niceMin,h.maxYArr[0]=h.yAxisScale[0].niceMax),{minY:h.minY,maxY:h.maxY,minYArr:h.minYArr,maxYArr:h.maxYArr,yAxisScale:h.yAxisScale}}},{key:"setXRange",value:function(){var h=this.w.globals,p=this.w.config,v="numeric"===p.xaxis.type||"datetime"===p.xaxis.type||"category"===p.xaxis.type&&!h.noLabelsProvided||h.noLabelsProvided||h.isXNumeric;if(h.isXNumeric&&function(){for(var O=0;O<h.series.length;O++)if(h.labels[O])for(var j=0;j<h.labels[O].length;j++)null!==h.labels[O][j]&&at.isNumber(h.labels[O][j])&&(h.maxX=Math.max(h.maxX,h.labels[O][j]),h.initialMaxX=Math.max(h.maxX,h.labels[O][j]),h.minX=Math.min(h.minX,h.labels[O][j]),h.initialMinX=Math.min(h.minX,h.labels[O][j]))}(),h.noLabelsProvided&&0===p.xaxis.categories.length&&(h.maxX=h.labels[h.labels.length-1],h.initialMaxX=h.labels[h.labels.length-1],h.minX=1,h.initialMinX=1),h.isXNumeric||h.noLabelsProvided||h.dataFormatXNumeric){var M;if(void 0===p.xaxis.tickAmount?(M=Math.round(h.svgWidth/150),"numeric"===p.xaxis.type&&h.dataPoints<30&&(M=h.dataPoints-1),M>h.dataPoints&&0!==h.dataPoints&&(M=h.dataPoints-1)):"dataPoints"===p.xaxis.tickAmount?(h.series.length>1&&(M=h.series[h.maxValsInArrayIndex].length-1),h.isXNumeric&&(M=h.maxX-h.minX-1)):M=p.xaxis.tickAmount,h.xTickAmount=M,void 0!==p.xaxis.max&&"number"==typeof p.xaxis.max&&(h.maxX=p.xaxis.max),void 0!==p.xaxis.min&&"number"==typeof p.xaxis.min&&(h.minX=p.xaxis.min),void 0!==p.xaxis.range&&(h.minX=h.maxX-p.xaxis.range),h.minX!==Number.MAX_VALUE&&h.maxX!==-Number.MAX_VALUE)if(p.xaxis.convertedCatToNumeric&&!h.dataFormatXNumeric){for(var E=[],N=h.minX-1;N<h.maxX;N++)E.push(N+1);h.xAxisScale={result:E,niceMin:E[0],niceMax:E[E.length-1]}}else h.xAxisScale=this.scales.setXScale(h.minX,h.maxX);else h.xAxisScale=this.scales.linearScale(1,M,M),h.noLabelsProvided&&h.labels.length>0&&(h.xAxisScale=this.scales.linearScale(1,h.labels.length,M-1),h.seriesX=h.labels.slice());v&&(h.labels=h.xAxisScale.result.slice())}return h.isBarHorizontal&&h.labels.length&&(h.xTickAmount=h.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:h.minX,maxX:h.maxX}}},{key:"setZRange",value:function(){var h=this.w.globals;if(h.isDataXYZ)for(var p=0;p<h.series.length;p++)if(void 0!==h.seriesZ[p])for(var v=0;v<h.seriesZ[p].length;v++)null!==h.seriesZ[p][v]&&at.isNumber(h.seriesZ[p][v])&&(h.maxZ=Math.max(h.maxZ,h.seriesZ[p][v]),h.minZ=Math.min(h.minZ,h.seriesZ[p][v]))}},{key:"_handleSingleDataPoint",value:function(){var h=this.w.globals,p=this.w.config;if(h.minX===h.maxX){var v=new ui(this.ctx);if("datetime"===p.xaxis.type){var M=v.getDate(h.minX);M.setUTCDate(M.getDate()-2),h.minX=new Date(M).getTime();var E=v.getDate(h.maxX);E.setUTCDate(E.getDate()+2),h.maxX=new Date(E).getTime()}else("numeric"===p.xaxis.type||"category"===p.xaxis.type&&!h.noLabelsProvided)&&(h.minX=h.minX-2,h.initialMinX=h.minX,h.maxX=h.maxX+2,h.initialMaxX=h.maxX)}}},{key:"_getMinXDiff",value:function(){var h=this.w.globals;h.isXNumeric&&h.seriesX.forEach(function(p,v){1===p.length&&p.push(h.seriesX[h.maxValsInArrayIndex][h.seriesX[h.maxValsInArrayIndex].length-1]);var M=p.slice();M.sort(function(E,N){return E-N}),M.forEach(function(E,N){if(N>0){var O=E-M[N-1];O>0&&(h.minXDiff=Math.min(O,h.minXDiff))}}),1===h.dataPoints&&h.minXDiff===Number.MAX_VALUE&&(h.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var h=this.w.globals,p=[],v=[];if(h.series.length)for(var M=0;M<h.series[h.maxValsInArrayIndex].length;M++)for(var E=0,N=0,O=0;O<h.series.length;O++)null!==h.series[O][M]&&at.isNumber(h.series[O][M])&&(h.series[O][M]>0?E=E+parseFloat(h.series[O][M])+1e-4:N+=parseFloat(h.series[O][M])),O===h.series.length-1&&(p.push(E),v.push(N));for(var j=0;j<p.length;j++)h.maxY=Math.max(h.maxY,p[j]),h.minY=Math.min(h.minY,v[j])}}]),Le}(),Gi=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.xaxisFontSize=p.config.xaxis.labels.style.fontSize,this.axisFontFamily=p.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=p.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===p.config.chart.type&&p.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===p.config.xaxis.position&&(this.xAxisoffX=p.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Qr(h)}return ce(Le,[{key:"drawYaxis",value:function(h){var p=this,v=this.w,M=new jt(this.ctx),E=v.config.yaxis[h].labels.style,N=E.fontSize,O=E.fontFamily,j=E.fontWeight,Z=M.group({class:"apexcharts-yaxis",rel:h,transform:"translate("+v.globals.translateYAxisX[h]+", 0)"});if(this.axesUtils.isYAxisHidden(h))return Z;var re=M.group({class:"apexcharts-yaxis-texts-g"});Z.add(re);var le=v.globals.yAxisScale[h].result.length-1,se=v.globals.gridHeight/le,me=v.globals.translateY,Ee=v.globals.yLabelFormatters[h],Ae=v.globals.yAxisScale[h].result.slice();Ae=this.axesUtils.checkForReversedLabels(h,Ae);var Re="";if(v.config.yaxis[h].labels.show)for(var je=function(sn){var Gt=Ae[sn];Gt=Ee(Gt,sn,v);var dn=v.config.yaxis[h].labels.padding;v.config.yaxis[h].opposite&&0!==v.config.yaxis.length&&(dn*=-1);var Nn=p.axesUtils.getYAxisForeColor(E.colors,h),Pn=M.drawText({x:dn,y:me+le/10+v.config.yaxis[h].labels.offsetY+1,text:Gt,textAnchor:v.config.yaxis[h].opposite?"start":"end",fontSize:N,fontFamily:O,fontWeight:j,foreColor:Array.isArray(Nn)?Nn[sn]:Nn,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+E.cssClass});sn===le&&(Re=Pn),re.add(Pn);var wi=document.createElementNS(v.globals.SVGNS,"title");if(wi.textContent=Array.isArray(Gt)?Gt.join(" "):Gt,Pn.node.appendChild(wi),0!==v.config.yaxis[h].labels.rotate){var lr=M.rotateAroundCenter(Re.node),fi=M.rotateAroundCenter(Pn.node);Pn.node.setAttribute("transform","rotate(".concat(v.config.yaxis[h].labels.rotate," ").concat(lr.x," ").concat(fi.y,")"))}me+=se},it=le;it>=0;it--)je(it);if(void 0!==v.config.yaxis[h].title.text){var _t=M.group({class:"apexcharts-yaxis-title"}),$=0;v.config.yaxis[h].opposite&&($=v.globals.translateYAxisX[h]);var ue=M.drawText({x:$,y:v.globals.gridHeight/2+v.globals.translateY+v.config.yaxis[h].title.offsetY,text:v.config.yaxis[h].title.text,textAnchor:"end",foreColor:v.config.yaxis[h].title.style.color,fontSize:v.config.yaxis[h].title.style.fontSize,fontWeight:v.config.yaxis[h].title.style.fontWeight,fontFamily:v.config.yaxis[h].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+v.config.yaxis[h].title.style.cssClass});_t.add(ue),Z.add(_t)}var Oe=v.config.yaxis[h].axisBorder,$e=31+Oe.offsetX;if(v.config.yaxis[h].opposite&&($e=-31-Oe.offsetX),Oe.show){var ft=M.drawLine($e,v.globals.translateY+Oe.offsetY-2,$e,v.globals.gridHeight+v.globals.translateY+Oe.offsetY+2,Oe.color,0,Oe.width);Z.add(ft)}return v.config.yaxis[h].axisTicks.show&&this.axesUtils.drawYAxisTicks($e,le,Oe,v.config.yaxis[h].axisTicks,h,se,Z),Z}},{key:"drawYaxisInversed",value:function(h){var p=this.w,v=new jt(this.ctx),M=v.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),E=v.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(p.globals.translateXAxisX,", ").concat(p.globals.translateXAxisY,")")});M.add(E);var N=p.globals.yAxisScale[h].result.length-1,O=p.globals.gridWidth/N+.1,j=O+p.config.xaxis.labels.offsetX,Z=p.globals.xLabelFormatter,re=p.globals.yAxisScale[h].result.slice(),le=p.globals.timescaleLabels;le.length>0&&(this.xaxisLabels=le.slice(),N=(re=le.slice()).length),re=this.axesUtils.checkForReversedLabels(h,re);var se=le.length;if(p.config.xaxis.labels.show)for(var me=se?0:N;se?me<se:me>=0;se?me++:me--){var Ee=re[me];Ee=Z(Ee,me,p);var Ae=p.globals.gridWidth+p.globals.padHorizontal-(j-O+p.config.xaxis.labels.offsetX);if(le.length){var Re=this.axesUtils.getLabel(re,le,Ae,me,this.drawnLabels,this.xaxisFontSize);Ae=Re.x,Ee=Re.text,this.drawnLabels.push(Re.text),0===me&&p.globals.skipFirstTimelinelabel&&(Ee=""),me===re.length-1&&p.globals.skipLastTimelinelabel&&(Ee="")}var je=v.drawText({x:Ae,y:this.xAxisoffX+p.config.xaxis.labels.offsetY+30-("top"===p.config.xaxis.position?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:Ee,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[h]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:p.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+p.config.xaxis.labels.style.cssClass});E.add(je),je.tspan(Ee);var it=document.createElementNS(p.globals.SVGNS,"title");it.textContent=Ee,je.node.appendChild(it),j+=O}return this.inversedYAxisTitleText(M),this.inversedYAxisBorder(M),M}},{key:"inversedYAxisBorder",value:function(h){var p=this.w,v=new jt(this.ctx),M=p.config.xaxis.axisBorder;if(M.show){var E=0;"bar"===p.config.chart.type&&p.globals.isXNumeric&&(E-=15);var N=v.drawLine(p.globals.padHorizontal+E+M.offsetX,this.xAxisoffX,p.globals.gridWidth,this.xAxisoffX,M.color,0,M.height);h.add(N)}}},{key:"inversedYAxisTitleText",value:function(h){var p=this.w,v=new jt(this.ctx);if(void 0!==p.config.xaxis.title.text){var M=v.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),E=v.drawText({x:p.globals.gridWidth/2+p.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(p.config.xaxis.title.style.fontSize)+p.config.xaxis.title.offsetY+20,text:p.config.xaxis.title.text,textAnchor:"middle",fontSize:p.config.xaxis.title.style.fontSize,fontFamily:p.config.xaxis.title.style.fontFamily,fontWeight:p.config.xaxis.title.style.fontWeight,foreColor:p.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+p.config.xaxis.title.style.cssClass});M.add(E),h.add(M)}}},{key:"yAxisTitleRotate",value:function(h,p){var v=this.w,M=new jt(this.ctx),E={width:0,height:0},N={width:0,height:0},O=v.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g"));null!==O&&(E=O.getBoundingClientRect());var j=v.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-title text"));if(null!==j&&(N=j.getBoundingClientRect()),null!==j){var Z=this.xPaddingForYAxisTitle(h,E,N,p);j.setAttribute("x",Z.xPos-(p?10:0))}if(null!==j){var re=M.rotateAroundCenter(j);j.setAttribute("transform","rotate(".concat(p?-1*v.config.yaxis[h].title.rotate:v.config.yaxis[h].title.rotate," ").concat(re.x," ").concat(re.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(h,p,v,M){var E=this.w,N=0,O=0,j=10;return void 0===E.config.yaxis[h].title.text||h<0?{xPos:O,padd:0}:(M?(O=p.width+E.config.yaxis[h].title.offsetX+v.width/2+j/2,0===(N+=1)&&(O-=j/2)):(O=-1*p.width+E.config.yaxis[h].title.offsetX+j/2+v.width/2,E.globals.isBarHorizontal&&(O=-1*p.width-E.config.yaxis[h].title.offsetX-(j=25))),{xPos:O,padd:j})}},{key:"setYAxisXPosition",value:function(h,p){var v=this.w,M=0,E=0,N=18,O=1;v.config.yaxis.length>1&&(this.multipleYs=!0),v.config.yaxis.map(function(j,Z){var re=v.globals.ignoreYAxisIndexes.indexOf(Z)>-1||!j.show||j.floating||0===h[Z].width,le=h[Z].width+p[Z].width;j.opposite?v.globals.isBarHorizontal?v.globals.translateYAxisX[Z]=(E=v.globals.gridWidth+v.globals.translateX-1)-j.labels.offsetX:(E=v.globals.gridWidth+v.globals.translateX+O,re||(O=O+le+20),v.globals.translateYAxisX[Z]=E-j.labels.offsetX+20):(M=v.globals.translateX-N,re||(N=N+le+20),v.globals.translateYAxisX[Z]=M+j.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(p=at.listToArray(p)).forEach(function(v,M){var E=h.config.yaxis[M];if(E&&void 0!==E.labels.align){var N=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(M,"'] .apexcharts-yaxis-texts-g")),O=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(M,"'] .apexcharts-yaxis-label"));O=at.listToArray(O);var j=N.getBoundingClientRect();"left"===E.labels.align?(O.forEach(function(Z,re){Z.setAttribute("text-anchor","start")}),E.opposite||N.setAttribute("transform","translate(-".concat(j.width,", 0)"))):"center"===E.labels.align?(O.forEach(function(Z,re){Z.setAttribute("text-anchor","middle")}),N.setAttribute("transform","translate(".concat(j.width/2*(E.opposite?1:-1),", 0)"))):"right"===E.labels.align&&(O.forEach(function(Z,re){Z.setAttribute("text-anchor","end")}),E.opposite&&N.setAttribute("transform","translate(".concat(j.width,", 0)")))}})}}]),Le}(),$i=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.documentEvent=at.bind(this.documentEvent,this)}return ce(Le,[{key:"addEventListener",value:function(h,p){var v=this.w;v.globals.events.hasOwnProperty(h)?v.globals.events[h].push(p):v.globals.events[h]=[p]}},{key:"removeEventListener",value:function(h,p){var v=this.w;if(v.globals.events.hasOwnProperty(h)){var M=v.globals.events[h].indexOf(p);-1!==M&&v.globals.events[h].splice(M,1)}}},{key:"fireEvent",value:function(h,p){var v=this.w;if(v.globals.events.hasOwnProperty(h)){p&&p.length||(p=[]);for(var M=v.globals.events[h],E=M.length,N=0;N<E;N++)M[N].apply(null,p)}}},{key:"setupEventHandlers",value:function(){var h=this,p=this.w,v=this.ctx,M=p.globals.dom.baseEl.querySelector(p.globals.chartClass);this.ctx.eventList.forEach(function(E){M.addEventListener(E,function(N){var O=Object.assign({},p,{seriesIndex:p.globals.capturedSeriesIndex,dataPointIndex:p.globals.capturedDataPointIndex});"mousemove"===N.type||"touchmove"===N.type?"function"==typeof p.config.chart.events.mouseMove&&p.config.chart.events.mouseMove(N,v,O):"mouseleave"===N.type||"touchleave"===N.type?"function"==typeof p.config.chart.events.mouseLeave&&p.config.chart.events.mouseLeave(N,v,O):("mouseup"===N.type&&1===N.which||"touchend"===N.type)&&("function"==typeof p.config.chart.events.click&&p.config.chart.events.click(N,v,O),v.ctx.events.fireEvent("click",[N,v,O]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(E){p.globals.dom.baseEl.addEventListener(E,h.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(h){var p=this.w,v=h.target.className;if("click"===h.type){var M=p.globals.dom.baseEl.querySelector(".apexcharts-menu");M&&M.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==v&&M.classList.remove("apexcharts-menu-open")}p.globals.clientX="touchmove"===h.type?h.touches[0].clientX:h.clientX,p.globals.clientY="touchmove"===h.type?h.touches[0].clientY:h.clientY}}]),Le}(),ho=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"setCurrentLocaleValues",value:function(h){var p=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(p=this.w.config.chart.locales.concat(window.Apex.chart.locales));var v=p.filter(function(E){return E.name===h})[0];if(!v)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var M=at.extend(qi,v);this.w.globals.locale=M.options}}]),Le}(),Hs=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"drawAxis",value:function(h,p){var v,M,E=this.w.globals,N=this.w.config,O=new Zs(this.ctx),j=new Gi(this.ctx);E.axisCharts&&"radar"!==h&&(E.isBarHorizontal?(M=j.drawYaxisInversed(0),v=O.drawXaxisInversed(0),E.dom.elGraphical.add(v),E.dom.elGraphical.add(M)):(v=O.drawXaxis(),E.dom.elGraphical.add(v),N.yaxis.map(function(Z,re){-1===E.ignoreYAxisIndexes.indexOf(re)&&(M=j.drawYaxis(re),E.dom.Paper.add(M))})))}}]),Le}(),yi=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"drawXCrosshairs",value:function(){var h=this.w,p=new jt(this.ctx),v=new In(this.ctx),M=h.config.xaxis.crosshairs.fill.gradient,E=h.config.xaxis.crosshairs.dropShadow,se=E.enabled,me=E.left,Ee=E.top,Ae=E.blur,Re=E.color,je=E.opacity,it=h.config.xaxis.crosshairs.fill.color;if(h.config.xaxis.crosshairs.show){"gradient"===h.config.xaxis.crosshairs.fill.type&&(it=p.drawGradient("vertical",M.colorFrom,M.colorTo,M.opacityFrom,M.opacityTo,null,M.stops,null));var _t=p.drawRect();1===h.config.xaxis.crosshairs.width&&(_t=p.drawLine());var $=h.globals.gridHeight;(!at.isNumber($)||$<0)&&($=0);var ue=h.config.xaxis.crosshairs.width;(!at.isNumber(ue)||ue<0)&&(ue=0),_t.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:$,width:ue,height:$,fill:it,filter:"none","fill-opacity":h.config.xaxis.crosshairs.opacity,stroke:h.config.xaxis.crosshairs.stroke.color,"stroke-width":h.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":h.config.xaxis.crosshairs.stroke.dashArray}),se&&(_t=v.dropShadow(_t,{left:me,top:Ee,blur:Ae,color:Re,opacity:je})),h.globals.dom.elGraphical.add(_t)}}},{key:"drawYCrosshairs",value:function(){var h=this.w,p=new jt(this.ctx),v=h.config.yaxis[0].crosshairs,M=h.globals.barPadForNumericAxis;if(h.config.yaxis[0].crosshairs.show){var E=p.drawLine(-M,0,h.globals.gridWidth+M,0,v.stroke.color,v.stroke.dashArray,v.stroke.width);E.attr({class:"apexcharts-ycrosshairs"}),h.globals.dom.elGraphical.add(E)}var N=p.drawLine(-M,0,h.globals.gridWidth+M,0,v.stroke.color,0,0);N.attr({class:"apexcharts-ycrosshairs-hidden"}),h.globals.dom.elGraphical.add(N)}}]),Le}(),cs=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"checkResponsiveConfig",value:function(h){var p=this,v=this.w,M=v.config;if(0!==M.responsive.length){var E=M.responsive.slice();E.sort(function(Z,re){return Z.breakpoint>re.breakpoint?1:re.breakpoint>Z.breakpoint?-1:0}).reverse();var N=new gi({}),O=function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=E[0].breakpoint,le=window.innerWidth>0?window.innerWidth:screen.width;if(le>re){var se=oi.extendArrayProps(N,v.globals.initialConfig,v);Z=at.extend(se,Z),Z=at.extend(v.config,Z),p.overrideResponsiveOptions(Z)}else for(var me=0;me<E.length;me++)le<E[me].breakpoint&&(Z=oi.extendArrayProps(N,E[me].options,v),Z=at.extend(v.config,Z),p.overrideResponsiveOptions(Z))};if(h){var j=oi.extendArrayProps(N,h,v);j=at.extend(v.config,j),O(j=at.extend(j,h))}else O({})}}},{key:"overrideResponsiveOptions",value:function(h){var p=new gi(h).init({responsiveOverride:!0});this.w.config=p}}]),Le}(),mr=function(){function Le(h){J(this,Le),this.ctx=h,this.colors=[],this.w=h.w;var p=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===p.config.chart.type&&p.config.plotOptions.treemap.distributed||"heatmap"===p.config.chart.type&&p.config.plotOptions.heatmap.distributed,this.isBarDistributed=p.config.plotOptions.bar.distributed&&("bar"===p.config.chart.type||"rangeBar"===p.config.chart.type)}return ce(Le,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var h=this,p=this.w,v=new at;if(p.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(p.config.theme.mode)),void 0===p.config.colors?p.globals.colors=this.predefined():(p.globals.colors=p.config.colors,Array.isArray(p.config.colors)&&p.config.colors.length>0&&"function"==typeof p.config.colors[0]&&(p.globals.colors=p.config.series.map(function(me,Ee){var Ae=p.config.colors[Ee];return Ae||(Ae=p.config.colors[0]),"function"==typeof Ae?(h.isColorFn=!0,Ae({value:p.globals.axisCharts?p.globals.series[Ee][0]?p.globals.series[Ee][0]:0:p.globals.series[Ee],seriesIndex:Ee,dataPointIndex:Ee,w:p})):Ae}))),p.globals.seriesColors.map(function(me,Ee){me&&(p.globals.colors[Ee]=me)}),p.config.theme.monochrome.enabled){var M=[],E=p.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(E=p.globals.series[0].length*p.globals.series.length);for(var N=p.config.theme.monochrome.color,O=1/(E/p.config.theme.monochrome.shadeIntensity),j=p.config.theme.monochrome.shadeTo,Z=0,re=0;re<E;re++){var le=void 0;"dark"===j?(le=v.shadeColor(-1*Z,N),Z+=O):(le=v.shadeColor(Z,N),Z+=O),M.push(le)}p.globals.colors=M.slice()}var se=p.globals.colors.slice();this.pushExtraColors(p.globals.colors),["fill","stroke"].forEach(function(me){p.globals[me].colors=void 0===p.config[me].colors?h.isColorFn?p.config.colors:se:p.config[me].colors.slice(),h.pushExtraColors(p.globals[me].colors)}),p.globals.dataLabels.style.colors=void 0===p.config.dataLabels.style.colors?se:p.config.dataLabels.style.colors.slice(),this.pushExtraColors(p.globals.dataLabels.style.colors,50),p.globals.radarPolygons.fill.colors=void 0===p.config.plotOptions.radar.polygons.fill.colors?["dark"===p.config.theme.mode?"#424242":"none"]:p.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(p.globals.radarPolygons.fill.colors,20),p.globals.markers.colors=void 0===p.config.markers.colors?se:p.config.markers.colors.slice(),this.pushExtraColors(p.globals.markers.colors)}},{key:"pushExtraColors",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=this.w,E=p||M.globals.series.length;if(null===v&&(v=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===M.config.chart.type&&M.config.plotOptions.heatmap.colorScale.inverse),v&&M.globals.series.length&&(E=M.globals.series[M.globals.maxValsInArrayIndex].length*M.globals.series.length),h.length<E)for(var N=E-h.length,O=0;O<N;O++)h.push(h[O])}},{key:"updateThemeOptions",value:function(h){h.chart=h.chart||{},h.tooltip=h.tooltip||{};var p=h.theme.mode||"light",v=h.theme.palette?h.theme.palette:"dark"===p?"palette4":"palette1",M=h.chart.foreColor?h.chart.foreColor:"dark"===p?"#f6f7f8":"#373d3f";return h.tooltip.theme=p,h.chart.foreColor=M,h.theme.palette=v,h}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),Le}(),Xi=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(h){var p=this.w,v="title"===h?p.config.title:p.config.subtitle,M=p.globals.svgWidth/2,E=v.offsetY,N="middle";if("left"===v.align?(M=10,N="start"):"right"===v.align&&(M=p.globals.svgWidth-10,N="end"),M+=v.offsetX,E=E+parseInt(v.style.fontSize,10)+v.margin/2,void 0!==v.text){var O=new jt(this.ctx).drawText({x:M,y:E,text:v.text,textAnchor:N,fontSize:v.style.fontSize,fontFamily:v.style.fontFamily,fontWeight:v.style.fontWeight,foreColor:v.style.color,opacity:1});O.node.setAttribute("class","apexcharts-".concat(h,"-text")),p.globals.dom.Paper.add(O)}}}]),Le}(),po=function(){function Le(h){J(this,Le),this.w=h.w,this.dCtx=h}return ce(Le,[{key:"getTitleSubtitleCoords",value:function(h){var p=this.w,v=0,M=0,E="title"===h?p.config.title.floating:p.config.subtitle.floating,N=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-text"));if(null!==N&&!E){var O=N.getBoundingClientRect();v=O.width,M=p.globals.axisCharts?O.height+5:O.height}return{width:v,height:M}}},{key:"getLegendsRect",value:function(){var h=this.w,p=h.globals.dom.baseEl.querySelector(".apexcharts-legend");h.config.legend.height||"top"!==h.config.legend.position&&"bottom"!==h.config.legend.position||(p.style.maxHeight=h.globals.svgHeight/2+"px");var v=Object.assign({},at.getBoundingClientRect(p));return this.dCtx.lgRect=null!==p&&!h.config.legend.floating&&h.config.legend.show?{x:v.x,y:v.y,height:v.height,width:0===v.height?0:v.width}:{x:0,y:0,height:0,width:0},"left"!==h.config.legend.position&&"right"!==h.config.legend.position||1.5*this.dCtx.lgRect.width>h.globals.svgWidth&&(this.dCtx.lgRect.width=h.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(h,p){var v=h;if(this.w.globals.isMultiLineX){var M=p.map(function(N,O){return Array.isArray(N)?N.length:1}),E=Math.max.apply(Math,en(M));v=p[M.indexOf(E)]}return v}}]),Le}(),bc=function(){function Le(h){J(this,Le),this.w=h.w,this.dCtx=h}return ce(Le,[{key:"getxAxisLabelsCoords",value:function(){var h,p=this.w,v=p.globals.labels.slice();if(p.config.xaxis.convertedCatToNumeric&&0===v.length&&(v=p.globals.categoryLabels),p.globals.timescaleLabels.length>0){var M=this.getxAxisTimeScaleLabelsCoords();h={width:M.width,height:M.height},p.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==p.config.legend.position&&"right"!==p.config.legend.position||p.config.legend.floating?0:this.dCtx.lgRect.width;var E=p.globals.xLabelFormatter,N=at.getLargestStringFromArr(v),O=this.dCtx.dimHelpers.getLargestStringFromMultiArr(N,v);p.globals.isBarHorizontal&&(O=N=p.globals.yAxisScale[0].result.reduce(function(Ee,Ae){return Ee.length>Ae.length?Ee:Ae},0));var j=new uo(this.dCtx.ctx),Z=N;N=j.xLabelFormat(E,N,Z,{i:void 0,dateFormatter:new ui(this.dCtx.ctx).formatDate,w:p}),O=j.xLabelFormat(E,O,Z,{i:void 0,dateFormatter:new ui(this.dCtx.ctx).formatDate,w:p}),(p.config.xaxis.convertedCatToNumeric&&void 0===N||""===String(N).trim())&&(O=N="1");var re=new jt(this.dCtx.ctx),le=re.getTextRects(N,p.config.xaxis.labels.style.fontSize),se=le;if(N!==O&&(se=re.getTextRects(O,p.config.xaxis.labels.style.fontSize)),(h={width:le.width>=se.width?le.width:se.width,height:le.height>=se.height?le.height:se.height}).width*v.length>p.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==p.config.xaxis.labels.rotate||p.config.xaxis.labels.rotateAlways){if(!p.globals.isBarHorizontal){p.globals.rotateXLabels=!0;var me=function(Ee){return re.getTextRects(Ee,p.config.xaxis.labels.style.fontSize,p.config.xaxis.labels.style.fontFamily,"rotate(".concat(p.config.xaxis.labels.rotate," 0 0)"),!1)};le=me(N),N!==O&&(se=me(O)),h.height=(le.height>se.height?le.height:se.height)/1.5,h.width=le.width>se.width?le.width:se.width}}else p.globals.rotateXLabels=!1}return p.config.xaxis.labels.show||(h={width:0,height:0}),{width:h.width,height:h.height}}},{key:"getxAxisTitleCoords",value:function(){var h=this.w,p=0,v=0;if(void 0!==h.config.xaxis.title.text){var M=new jt(this.dCtx.ctx).getTextRects(h.config.xaxis.title.text,h.config.xaxis.title.style.fontSize);p=M.width,v=M.height}return{width:p,height:v}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var h,p=this.w;this.dCtx.timescaleLabels=p.globals.timescaleLabels.slice();var v=this.dCtx.timescaleLabels.map(function(E){return E.value}),M=v.reduce(function(E,N){return void 0===E?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):E.length>N.length?E:N},0);return 1.05*(h=new jt(this.dCtx.ctx).getTextRects(M,p.config.xaxis.labels.style.fontSize)).width*v.length>p.globals.gridWidth&&0!==p.config.xaxis.labels.rotate&&(p.globals.overlappingXLabels=!0),h}},{key:"additionalPaddingXLabels",value:function(h){var p=this,v=this.w,M=v.globals,E=v.config,N=E.xaxis.type,O=h.width;M.skipLastTimelinelabel=!1,M.skipFirstTimelinelabel=!1;var j=v.config.yaxis[0].opposite&&v.globals.isBarHorizontal;E.yaxis.forEach(function(re,le){j?(p.dCtx.gridPad.left<O&&(p.dCtx.xPadLeft=O/2+1),p.dCtx.xPadRight=O/2+1):function(re,le){-1!==M.collapsedSeriesIndices.indexOf(le)||function(se){if(p.dCtx.timescaleLabels&&p.dCtx.timescaleLabels.length){var Ae=p.dCtx.timescaleLabels[0].position-O/1.75+p.dCtx.yAxisWidthLeft;p.dCtx.timescaleLabels[p.dCtx.timescaleLabels.length-1].position+O/1.75-p.dCtx.yAxisWidthRight>M.svgWidth-M.translateX-("right"===v.config.legend.position&&p.dCtx.lgRect.width>0?p.dCtx.lgRect.width:0)&&(M.skipLastTimelinelabel=!0),Ae<-(se.show&&!se.floating||"bar"!==E.chart.type&&"candlestick"!==E.chart.type&&"rangeBar"!==E.chart.type&&"boxPlot"!==E.chart.type?10:O/1.75)&&(M.skipFirstTimelinelabel=!0)}else"datetime"===N?p.dCtx.gridPad.right<O&&!M.rotateXLabels&&(M.skipLastTimelinelabel=!0):"datetime"!==N&&p.dCtx.gridPad.right<O/2-p.dCtx.yAxisWidthRight&&!M.rotateXLabels&&!v.config.xaxis.labels.trim&&("between"!==v.config.xaxis.tickPlacement||v.globals.isBarHorizontal)&&(p.dCtx.xPadRight=O/2+1)}(re)}(re,le)})}}]),Le}(),Hr=function(){function Le(h){J(this,Le),this.w=h.w,this.dCtx=h}return ce(Le,[{key:"getyAxisLabelsCoords",value:function(){var h=this,p=this.w,v=[],M=10,E=new Qr(this.dCtx.ctx);return p.config.yaxis.map(function(N,O){var j=p.globals.yAxisScale[O],Z=0;if(!E.isYAxisHidden(O)&&N.labels.show&&void 0!==N.labels.minWidth&&(Z=N.labels.minWidth),!E.isYAxisHidden(O)&&N.labels.show&&j.result.length){var re=p.globals.yLabelFormatters[O],le=j.niceMin===Number.MIN_VALUE?0:j.niceMin,se=String(le).length>String(j.niceMax).length?le:j.niceMax,me=re(se,{seriesIndex:O,dataPointIndex:-1,w:p}),Ee=me;if(void 0!==me&&0!==me.length||(me=se),p.globals.isBarHorizontal){M=0;var Ae=p.globals.labels.slice();me=re(me=at.getLargestStringFromArr(Ae),{seriesIndex:O,dataPointIndex:-1,w:p}),Ee=h.dCtx.dimHelpers.getLargestStringFromMultiArr(me,Ae)}var Re=new jt(h.dCtx.ctx),je="rotate(".concat(N.labels.rotate," 0 0)"),it=Re.getTextRects(me,N.labels.style.fontSize,N.labels.style.fontFamily,je,!1),_t=it;me!==Ee&&(_t=Re.getTextRects(Ee,N.labels.style.fontSize,N.labels.style.fontFamily,je,!1)),v.push({width:(Z>_t.width||Z>it.width?Z:_t.width>it.width?_t.width:it.width)+M,height:_t.height>it.height?_t.height:it.height})}else v.push({width:0,height:0})}),v}},{key:"getyAxisTitleCoords",value:function(){var h=this,v=[];return this.w.config.yaxis.map(function(M,E){if(M.show&&void 0!==M.title.text){var N=new jt(h.dCtx.ctx),O="rotate(".concat(M.title.rotate," 0 0)"),j=N.getTextRects(M.title.text,M.title.style.fontSize,M.title.style.fontFamily,O,!1);v.push({width:j.width,height:j.height})}else v.push({width:0,height:0})}),v}},{key:"getTotalYAxisWidth",value:function(){var h=this.w,p=0,v=0,M=0,E=h.globals.yAxisScale.length>1?10:0,N=new Qr(this.dCtx.ctx),O=function(j,Z){var re=h.config.yaxis[Z].floating,le=0;j.width>0&&!re?(le=j.width+E,h.globals.ignoreYAxisIndexes.indexOf(Z)>-1&&(le=le-j.width-E)):le=re||N.isYAxisHidden(Z)?0:5,h.config.yaxis[Z].opposite?M+=le:v+=le,p+=le};return h.globals.yLabelsCoords.map(function(j,Z){O(j,Z)}),h.globals.yTitleCoords.map(function(j,Z){O(j,Z)}),h.globals.isBarHorizontal&&!h.config.yaxis[0].floating&&(p=h.globals.yLabelsCoords[0].width+h.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=v,this.dCtx.yAxisWidthRight=M,p}}]),Le}(),Ls=function(){function Le(h){J(this,Le),this.w=h.w,this.dCtx=h}return ce(Le,[{key:"gridPadForColumnsInNumericAxis",value:function(h){var p=this.w;if(p.globals.noData||p.globals.allSeriesCollapsed)return 0;var v=function(re){return"bar"===re||"rangeBar"===re||"candlestick"===re||"boxPlot"===re},M=p.config.chart.type,E=0,N=v(M)?p.config.series.length:1;if(p.globals.comboBarCount>0&&(N=p.globals.comboBarCount),p.globals.collapsedSeries.forEach(function(re){v(re.type)&&(N-=1)}),p.config.chart.stacked&&(N=1),(v(M)||p.globals.comboBarCount>0)&&p.globals.isXNumeric&&!p.globals.isBarHorizontal&&N>0){var O,j,Z=Math.abs(p.globals.initialMaxX-p.globals.initialMinX);Z<=3&&(Z=p.globals.dataPoints),O=Z/h,p.globals.minXDiff&&p.globals.minXDiff/O>0&&(j=p.globals.minXDiff/O),j>h/2&&(j/=2),(E=j/N*parseInt(p.config.plotOptions.bar.columnWidth,10)/100)<1&&(E=1),p.globals.barPadForNumericAxis=E=E/(N>1?1:1.5)+5}return E}},{key:"gridPadFortitleSubtitle",value:function(){var h=this,p=this.w,v=p.globals,M=this.dCtx.isSparkline||!p.globals.axisCharts?0:10;["title","subtitle"].forEach(function(O){M+=void 0!==p.config[O].text?p.config[O].margin:h.dCtx.isSparkline||!p.globals.axisCharts?0:5}),!p.config.legend.show||"bottom"!==p.config.legend.position||p.config.legend.floating||p.globals.axisCharts||(M+=10);var E=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),N=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");v.gridHeight=v.gridHeight-E.height-N.height-M,v.translateY=v.translateY+E.height+N.height+M}},{key:"setGridXPosForDualYAxis",value:function(h,p){var v=this.w,M=new Qr(this.dCtx.ctx);v.config.yaxis.map(function(E,N){-1!==v.globals.ignoreYAxisIndexes.indexOf(N)||E.floating||M.isYAxisHidden(N)||(E.opposite&&(v.globals.translateX=v.globals.translateX-(p[N].width+h[N].width)-parseInt(v.config.yaxis[N].labels.style.fontSize,10)/1.2-12),v.globals.translateX<2&&(v.globals.translateX=2))})}}]),Le}(),Ro=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new po(this),this.dimYAxis=new Hr(this),this.dimXAxis=new bc(this),this.dimGrid=new Ls(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ce(Le,[{key:"plotCoords",value:function(){var h=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),h.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),h.gridHeight=h.gridHeight-this.gridPad.top-this.gridPad.bottom,h.gridWidth=h.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var p=this.dimGrid.gridPadForColumnsInNumericAxis(h.gridWidth);h.gridWidth=h.gridWidth-2*p,h.translateX=h.translateX+this.gridPad.left+this.xPadLeft+(p>0?p+4:0),h.translateY=h.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var h=this,p=this.w,v=p.globals,M=this.dimYAxis.getyAxisLabelsCoords(),E=this.dimYAxis.getyAxisTitleCoords();p.globals.yLabelsCoords=[],p.globals.yTitleCoords=[],p.config.yaxis.map(function(se,me){p.globals.yLabelsCoords.push({width:M[me].width,index:me}),p.globals.yTitleCoords.push({width:E[me].width,index:me})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var N=this.dimXAxis.getxAxisLabelsCoords(),O=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(N,O),v.translateXAxisY=p.globals.rotateXLabels?this.xAxisHeight/8:-4,v.translateXAxisX=p.globals.rotateXLabels&&p.globals.isXNumeric&&p.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,p.globals.isBarHorizontal&&(v.rotateXLabels=!1,v.translateXAxisY=parseInt(p.config.xaxis.labels.style.fontSize,10)/1.5*-1),v.translateXAxisY=v.translateXAxisY+p.config.xaxis.labels.offsetY,v.translateXAxisX=v.translateXAxisX+p.config.xaxis.labels.offsetX;var j=this.yAxisWidth,Z=this.xAxisHeight;v.xAxisLabelsHeight=this.xAxisHeight-O.height,v.xAxisLabelsWidth=this.xAxisWidth,v.xAxisHeight=this.xAxisHeight;var re=10;("radar"===p.config.chart.type||this.isSparkline)&&(j=0,Z=v.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===p.config.chart.type)&&(j=0,Z=0,re=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(N);var le=function(){v.translateX=j,v.gridHeight=v.svgHeight-h.lgRect.height-Z-(h.isSparkline||"treemap"===p.config.chart.type?0:p.globals.rotateXLabels?10:15),v.gridWidth=v.svgWidth-j};switch("top"===p.config.xaxis.position&&(re=v.xAxisHeight-p.config.xaxis.axisTicks.height-5),p.config.legend.position){case"bottom":v.translateY=re,le();break;case"top":v.translateY=this.lgRect.height+re,le();break;case"left":v.translateY=re,v.translateX=this.lgRect.width+j,v.gridHeight=v.svgHeight-Z-12,v.gridWidth=v.svgWidth-this.lgRect.width-j;break;case"right":v.translateY=re,v.translateX=j,v.gridHeight=v.svgHeight-Z-12,v.gridWidth=v.svgWidth-this.lgRect.width-j-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(E,M),new Gi(this.ctx).setYAxisXPosition(M,E)}},{key:"setDimensionsForNonAxisCharts",value:function(){var h=this.w,p=h.globals,v=h.config,M=0;h.config.legend.show&&!h.config.legend.floating&&(M=20);var E="pie"===v.chart.type||"polarArea"===v.chart.type||"donut"===v.chart.type?"pie":"radialBar",N=v.plotOptions[E].offsetY,O=v.plotOptions[E].offsetX;if(!v.legend.show||v.legend.floating)return p.gridHeight=p.svgHeight-v.grid.padding.left+v.grid.padding.right,p.gridWidth=p.gridHeight,p.translateY=N,void(p.translateX=O+(p.svgWidth-p.gridWidth)/2);switch(v.legend.position){case"bottom":p.gridHeight=p.svgHeight-this.lgRect.height-p.goldenPadding,p.gridWidth=p.svgWidth,p.translateY=N-10,p.translateX=O+(p.svgWidth-p.gridWidth)/2;break;case"top":p.gridHeight=p.svgHeight-this.lgRect.height-p.goldenPadding,p.gridWidth=p.svgWidth,p.translateY=this.lgRect.height+N+10,p.translateX=O+(p.svgWidth-p.gridWidth)/2;break;case"left":p.gridWidth=p.svgWidth-this.lgRect.width-M,p.gridHeight="auto"!==v.chart.height?p.svgHeight:p.gridWidth,p.translateY=N,p.translateX=O+this.lgRect.width+M;break;case"right":p.gridWidth=p.svgWidth-this.lgRect.width-M-5,p.gridHeight="auto"!==v.chart.height?p.svgHeight:p.gridWidth,p.translateY=N,p.translateX=O+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(h,p){var v=this.w;this.xAxisHeight=(h.height+p.height)*(v.globals.isMultiLineX?1.2:v.globals.LINE_HEIGHT_RATIO)+(v.globals.rotateXLabels?22:10),this.xAxisWidth=h.width,this.xAxisHeight-p.height>v.config.xaxis.labels.maxHeight&&(this.xAxisHeight=v.config.xaxis.labels.maxHeight),v.config.xaxis.labels.minHeight&&this.xAxisHeight<v.config.xaxis.labels.minHeight&&(this.xAxisHeight=v.config.xaxis.labels.minHeight),v.config.xaxis.floating&&(this.xAxisHeight=0);var M=0,E=0;v.config.yaxis.forEach(function(N){M+=N.labels.minWidth,E+=N.labels.maxWidth}),this.yAxisWidth<M&&(this.yAxisWidth=M),this.yAxisWidth>E&&(this.yAxisWidth=E)}}]),Le}(),Sr=function(){function Le(h){J(this,Le),this.w=h.w,this.lgCtx=h}return ce(Le,[{key:"getLegendStyles",value:function(){var h=document.createElement("style");h.setAttribute("type","text/css");var p=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return h.appendChild(p),h}},{key:"getLegendBBox",value:function(){var h=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:h.height,clww:h.width}}},{key:"appendToForeignObject",value:function(){var h=this.w.globals;h.dom.elLegendForeign=document.createElementNS(h.SVGNS,"foreignObject");var p=h.dom.elLegendForeign;p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("width",h.svgWidth),p.setAttribute("height",h.svgHeight),h.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),p.appendChild(h.dom.elLegendWrap),p.appendChild(this.getLegendStyles()),h.dom.Paper.node.insertBefore(p,h.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(h,p){var v=this,M=this.w;if(M.globals.axisCharts||"radialBar"===M.config.chart.type){M.globals.resized=!0;var E=null,N=null;M.globals.risingSeries=[],M.globals.axisCharts?(E=M.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),N=parseInt(E.getAttribute("data:realIndex"),10)):(E=M.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")),N=parseInt(E.getAttribute("rel"),10)-1),p?[{cs:M.globals.collapsedSeries,csi:M.globals.collapsedSeriesIndices},{cs:M.globals.ancillaryCollapsedSeries,csi:M.globals.ancillaryCollapsedSeriesIndices}].forEach(function(re){v.riseCollapsedSeries(re.cs,re.csi,N)}):this.hideSeries({seriesEl:E,realIndex:N})}else{var O=M.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(h+1,"'] path")),j=M.config.chart.type;if("pie"===j||"polarArea"===j||"donut"===j){var Z=M.config.plotOptions.pie.donut.labels;new jt(this.lgCtx.ctx).pathMouseDown(O.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(O.members[0].node,Z)}O.fire("click")}}},{key:"hideSeries",value:function(h){var p=h.seriesEl,v=h.realIndex,M=this.w,E=at.clone(M.config.series);if(M.globals.axisCharts){var N=!1;if(M.config.yaxis[v]&&M.config.yaxis[v].show&&M.config.yaxis[v].showAlways&&(N=!0,M.globals.ancillaryCollapsedSeriesIndices.indexOf(v)<0&&(M.globals.ancillaryCollapsedSeries.push({index:v,data:E[v].data.slice(),type:p.parentNode.className.baseVal.split("-")[1]}),M.globals.ancillaryCollapsedSeriesIndices.push(v))),!N){M.globals.collapsedSeries.push({index:v,data:E[v].data.slice(),type:p.parentNode.className.baseVal.split("-")[1]}),M.globals.collapsedSeriesIndices.push(v);var O=M.globals.risingSeries.indexOf(v);M.globals.risingSeries.splice(O,1)}}else M.globals.collapsedSeries.push({index:v,data:E[v]}),M.globals.collapsedSeriesIndices.push(v);for(var j=p.childNodes,Z=0;Z<j.length;Z++)j[Z].classList.contains("apexcharts-series-markers-wrap")&&(j[Z].classList.contains("apexcharts-hide")?j[Z].classList.remove("apexcharts-hide"):j[Z].classList.add("apexcharts-hide"));M.globals.allSeriesCollapsed=M.globals.collapsedSeries.length===M.config.series.length,E=this._getSeriesBasedOnCollapsedState(E),this.lgCtx.ctx.updateHelpers._updateSeries(E,M.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(h,p,v){var M=this.w,E=at.clone(M.config.series);if(h.length>0){for(var N=0;N<h.length;N++)h[N].index===v&&(M.globals.axisCharts?(E[v].data=h[N].data.slice(),h.splice(N,1),p.splice(N,1),M.globals.risingSeries.push(v)):(E[v]=h[N].data,h.splice(N,1),p.splice(N,1),M.globals.risingSeries.push(v)));E=this._getSeriesBasedOnCollapsedState(E),this.lgCtx.ctx.updateHelpers._updateSeries(E,M.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(h){var p=this.w;return h.forEach(p.globals.axisCharts?function(v,M){p.globals.collapsedSeriesIndices.indexOf(M)>-1&&(h[M].data=[])}:function(v,M){p.globals.collapsedSeriesIndices.indexOf(M)>-1&&(h[M]=0)}),h}}]),Le}(),Yn=function(){function Le(h,p){J(this,Le),this.ctx=h,this.w=h.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Sr(this)}return ce(Le,[{key:"init",value:function(){var h=this.w,p=h.globals,v=h.config;if((v.legend.showForSingleSeries&&1===p.series.length||this.isBarsDistributed||p.series.length>1||!p.axisCharts)&&v.legend.show){for(;p.dom.elLegendWrap.firstChild;)p.dom.elLegendWrap.removeChild(p.dom.elLegendWrap.firstChild);this.drawLegends(),at.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===v.legend.position||"top"===v.legend.position?this.legendAlignHorizontal():"right"!==v.legend.position&&"left"!==v.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var h=this,p=this.w,v=p.config.legend.fontFamily,M=p.globals.seriesNames,E=p.globals.colors.slice();if("heatmap"===p.config.chart.type){var N=p.config.plotOptions.heatmap.colorScale.ranges;M=N.map(function(Nn){return Nn.name?Nn.name:Nn.from+" - "+Nn.to}),E=N.map(function(Nn){return Nn.color})}else this.isBarsDistributed&&(M=p.globals.labels.slice());p.config.legend.customLegendItems.length&&(M=p.config.legend.customLegendItems);for(var O=p.globals.legendFormatter,j=p.config.legend.inverseOrder,Z=j?M.length-1:0;j?Z>=0:Z<=M.length-1;j?Z--:Z++){var re=O(M[Z],{seriesIndex:Z,w:p}),le=!1,se=!1;if(p.globals.collapsedSeries.length>0)for(var me=0;me<p.globals.collapsedSeries.length;me++)p.globals.collapsedSeries[me].index===Z&&(le=!0);if(p.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Ee=0;Ee<p.globals.ancillaryCollapsedSeriesIndices.length;Ee++)p.globals.ancillaryCollapsedSeriesIndices[Ee]===Z&&(se=!0);var Ae=document.createElement("span");Ae.classList.add("apexcharts-legend-marker");var Re=p.config.legend.markers.offsetX,je=p.config.legend.markers.offsetY,it=p.config.legend.markers.height,_t=p.config.legend.markers.width,$=p.config.legend.markers.strokeWidth,ue=p.config.legend.markers.strokeColor,Oe=p.config.legend.markers.radius,$e=Ae.style;$e.background=E[Z],$e.color=E[Z],$e.setProperty("background",E[Z],"important"),p.config.legend.markers.fillColors&&p.config.legend.markers.fillColors[Z]&&($e.background=p.config.legend.markers.fillColors[Z]),void 0!==p.globals.seriesColors[Z]&&($e.background=p.globals.seriesColors[Z],$e.color=p.globals.seriesColors[Z]),$e.height=Array.isArray(it)?parseFloat(it[Z])+"px":parseFloat(it)+"px",$e.width=Array.isArray(_t)?parseFloat(_t[Z])+"px":parseFloat(_t)+"px",$e.left=(Array.isArray(Re)?parseFloat(Re[Z]):parseFloat(Re))+"px",$e.top=(Array.isArray(je)?parseFloat(je[Z]):parseFloat(je))+"px",$e.borderWidth=Array.isArray($)?$[Z]:$,$e.borderColor=Array.isArray(ue)?ue[Z]:ue,$e.borderRadius=Array.isArray(Oe)?parseFloat(Oe[Z])+"px":parseFloat(Oe)+"px",p.config.legend.markers.customHTML&&(Array.isArray(p.config.legend.markers.customHTML)?p.config.legend.markers.customHTML[Z]&&(Ae.innerHTML=p.config.legend.markers.customHTML[Z]()):Ae.innerHTML=p.config.legend.markers.customHTML()),jt.setAttrs(Ae,{rel:Z+1,"data:collapsed":le||se}),(le||se)&&Ae.classList.add("apexcharts-inactive-legend");var ft=document.createElement("div"),sn=document.createElement("span");sn.classList.add("apexcharts-legend-text"),sn.innerHTML=Array.isArray(re)?at.sanitizeDom(re.join(" ")):at.sanitizeDom(re);var Gt=p.config.legend.labels.useSeriesColors?p.globals.colors[Z]:p.config.legend.labels.colors;Gt||(Gt=p.config.chart.foreColor),sn.style.color=Gt,sn.style.fontSize=parseFloat(p.config.legend.fontSize)+"px",sn.style.fontWeight=p.config.legend.fontWeight,sn.style.fontFamily=v||p.config.chart.fontFamily,jt.setAttrs(sn,{rel:Z+1,i:Z,"data:default-text":encodeURIComponent(re),"data:collapsed":le||se}),ft.appendChild(Ae),ft.appendChild(sn);var dn=new oi(this.ctx);p.config.legend.showForZeroSeries||0===dn.getSeriesTotalByIndex(Z)&&dn.seriesHaveSameValues(Z)&&!dn.isSeriesNull(Z)&&-1===p.globals.collapsedSeriesIndices.indexOf(Z)&&-1===p.globals.ancillaryCollapsedSeriesIndices.indexOf(Z)&&ft.classList.add("apexcharts-hidden-zero-series"),p.config.legend.showForNullSeries||dn.isSeriesNull(Z)&&-1===p.globals.collapsedSeriesIndices.indexOf(Z)&&-1===p.globals.ancillaryCollapsedSeriesIndices.indexOf(Z)&&ft.classList.add("apexcharts-hidden-null-series"),p.globals.dom.elLegendWrap.appendChild(ft),p.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(p.config.legend.horizontalAlign)),p.globals.dom.elLegendWrap.classList.add("position-"+p.config.legend.position),ft.classList.add("apexcharts-legend-series"),ft.style.margin="".concat(p.config.legend.itemMargin.vertical,"px ").concat(p.config.legend.itemMargin.horizontal,"px"),p.globals.dom.elLegendWrap.style.width=p.config.legend.width?p.config.legend.width+"px":"",p.globals.dom.elLegendWrap.style.height=p.config.legend.height?p.config.legend.height+"px":"",jt.setAttrs(ft,{rel:Z+1,seriesName:at.escapeString(M[Z]),"data:collapsed":le||se}),(le||se)&&ft.classList.add("apexcharts-inactive-legend"),p.config.legend.onItemClick.toggleDataSeries||ft.classList.add("apexcharts-no-click")}p.globals.dom.elWrap.addEventListener("click",h.onLegendClick,!0),p.config.legend.onItemHover.highlightDataSeries&&0===p.config.legend.customLegendItems.length&&(p.globals.dom.elWrap.addEventListener("mousemove",h.onLegendHovered,!0),p.globals.dom.elWrap.addEventListener("mouseout",h.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(h,p){var v=this.w,M=v.globals.dom.baseEl.querySelector(".apexcharts-legend"),E=M.getBoundingClientRect(),N=0,O=0;if("bottom"===v.config.legend.position)O+=v.globals.svgHeight-E.height/2;else if("top"===v.config.legend.position){var j=new Ro(this.ctx),Z=j.dimHelpers.getTitleSubtitleCoords("title").height,re=j.dimHelpers.getTitleSubtitleCoords("subtitle").height;O=O+(Z>0?Z-10:0)+(re>0?re-10:0)}M.style.position="absolute",O=O+p+v.config.legend.offsetY,M.style.left=(N=N+h+v.config.legend.offsetX)+"px",M.style.top=O+"px","bottom"===v.config.legend.position?(M.style.top="auto",M.style.bottom=5-v.config.legend.offsetY+"px"):"right"===v.config.legend.position&&(M.style.left="auto",M.style.right=25+v.config.legend.offsetX+"px"),["width","height"].forEach(function(le){M.style[le]&&(M.style[le]=parseInt(v.config.legend[le],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var h=this.w;h.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var p=this.legendHelpers.getLegendBBox(),v=new Ro(this.ctx),M=v.dimHelpers.getTitleSubtitleCoords("title"),E=v.dimHelpers.getTitleSubtitleCoords("subtitle"),N=0;"bottom"===h.config.legend.position?N=-p.clwh/1.8:"top"===h.config.legend.position&&(N=M.height+E.height+h.config.title.margin+h.config.subtitle.margin-10),this.setLegendWrapXY(20,N)}},{key:"legendAlignVertical",value:function(){var h=this.w,p=this.legendHelpers.getLegendBBox(),v=0;"left"===h.config.legend.position&&(v=20),"right"===h.config.legend.position&&(v=h.globals.svgWidth-p.clww-10),this.setLegendWrapXY(v,20)}},{key:"onLegendHovered",value:function(h){var p=this.w,v=h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker");if("heatmap"===p.config.chart.type||this.isBarsDistributed){if(v){var M=parseInt(h.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,M,this.w]),new ni(this.ctx).highlightRangeInSeries(h,h.target)}}else!h.target.classList.contains("apexcharts-inactive-legend")&&v&&new ni(this.ctx).toggleSeriesOnHover(h,h.target)}},{key:"onLegendClick",value:function(h){var p=this.w;if(!p.config.legend.customLegendItems.length&&(h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker"))){var v=parseInt(h.target.getAttribute("rel"),10)-1,M="true"===h.target.getAttribute("data:collapsed"),E=this.w.config.chart.events.legendClick;"function"==typeof E&&E(this.ctx,v,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,v,this.w]);var N=this.w.config.legend.markers.onClick;"function"==typeof N&&h.target.classList.contains("apexcharts-legend-marker")&&(N(this.ctx,v,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,v,this.w])),"treemap"!==p.config.chart.type&&"heatmap"!==p.config.chart.type&&!this.isBarsDistributed&&p.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(v,M)}}}]),Le}(),ji=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=p.globals.minX,this.maxX=p.globals.maxX}return ce(Le,[{key:"createToolbar",value:function(){var h=this,p=this.w,v=function(){return document.createElement("div")},M=v();if(M.setAttribute("class","apexcharts-toolbar"),M.style.top=p.config.chart.toolbar.offsetY+"px",M.style.right=3-p.config.chart.toolbar.offsetX+"px",p.globals.dom.elWrap.appendChild(M),this.elZoom=v(),this.elZoomIn=v(),this.elZoomOut=v(),this.elPan=v(),this.elSelection=v(),this.elZoomReset=v(),this.elMenuIcon=v(),this.elMenu=v(),this.elCustomIcons=[],this.t=p.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var E=0;E<this.t.customIcons.length;E++)this.elCustomIcons.push(v());var N=[],O=function(le,se,me){var Ee=le.toLowerCase();h.t[Ee]&&p.config.chart.zoom.enabled&&N.push({el:se,icon:"string"==typeof h.t[Ee]?h.t[Ee]:me,title:h.localeValues[le],class:"apexcharts-".concat(Ee,"-icon")})};O("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),O("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var j=function(le){h.t[le]&&p.config.chart[le].enabled&&N.push({el:"zoom"===le?h.elZoom:h.elSelection,icon:"string"==typeof h.t[le]?h.t[le]:"zoom"===le?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:h.localeValues["zoom"===le?"selectionZoom":"selection"],class:p.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(le,"-icon")})};j("zoom"),j("selection"),this.t.pan&&p.config.chart.zoom.enabled&&N.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:p.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),O("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&N.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var Z=0;Z<this.elCustomIcons.length;Z++)N.push({el:this.elCustomIcons[Z],icon:this.t.customIcons[Z].icon,title:this.t.customIcons[Z].title,index:this.t.customIcons[Z].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[Z].class});N.forEach(function(le,se){le.index&&at.moveIndexInArray(N,se,le.index)});for(var re=0;re<N.length;re++)jt.setAttrs(N[re].el,{class:N[re].class,title:N[re].title}),N[re].el.innerHTML=N[re].icon,M.appendChild(N[re].el);this._createHamburgerMenu(M),p.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):p.globals.panEnabled?this.elPan.classList.add(this.selectedClass):p.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(h){this.elMenuItems=[],h.appendChild(this.elMenu),jt.setAttrs(this.elMenu,{class:"apexcharts-menu"});var p=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||p.splice(2,1);for(var v=0;v<p.length;v++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[v].innerHTML=p[v].title,jt.setAttrs(this.elMenuItems[v],{class:"apexcharts-menu-item ".concat(p[v].name),title:p[v].title}),this.elMenu.appendChild(this.elMenuItems[v])}},{key:"addToolbarEventListeners",value:function(){var h=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(v){v.classList.contains("exportSVG")?v.addEventListener("click",h.handleDownload.bind(h,"svg")):v.classList.contains("exportPNG")?v.addEventListener("click",h.handleDownload.bind(h,"png")):v.classList.contains("exportCSV")&&v.addEventListener("click",h.handleDownload.bind(h,"csv"))});for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons[p].addEventListener("click",this.t.customIcons[p].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(h){this.ctx.getSyncedCharts().forEach(function(p){p.ctx.toolbar.toggleOtherControls();var v="selection"===h?p.ctx.toolbar.elSelection:p.ctx.toolbar.elZoom,M="selection"===h?"selectionEnabled":"zoomEnabled";p.w.globals[M]=!p.w.globals[M],v.classList.contains(p.ctx.toolbar.selectedClass)?v.classList.remove(p.ctx.toolbar.selectedClass):v.classList.add(p.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var h=this.w;this.elZoom||(this.elZoom=h.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=h.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=h.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(h){this.toggleOtherControls(),"pan"===h?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var p="pan"===h?this.elPan:this.elZoom,v="pan"===h?this.elZoom:this.elPan;p&&p.classList.add(this.selectedClass),v&&v.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls(),h.w.globals.panEnabled=!h.w.globals.panEnabled,h.ctx.toolbar.elPan.classList.contains(h.ctx.toolbar.selectedClass)?h.ctx.toolbar.elPan.classList.remove(h.ctx.toolbar.selectedClass):h.ctx.toolbar.elPan.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var h=this,p=this.w;p.globals.panEnabled=!1,p.globals.zoomEnabled=!1,p.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(v){v&&v.classList.remove(h.selectedClass)})}},{key:"handleZoomIn",value:function(){var h=this.w;h.globals.isTimelineBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY);var p=(this.minX+this.maxX)/2,E=this._getNewMinXMaxX((this.minX+p)/2,(this.maxX+p)/2);h.globals.disableZoomIn||this.zoomUpdateOptions(E.minX,E.maxX)}},{key:"handleZoomOut",value:function(){var h=this.w;if(h.globals.isTimelineBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY),!("datetime"===h.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var p=(this.minX+this.maxX)/2,E=this._getNewMinXMaxX(this.minX-(p-this.minX),this.maxX-(p-this.maxX));h.globals.disableZoomOut||this.zoomUpdateOptions(E.minX,E.maxX)}}},{key:"_getNewMinXMaxX",value:function(h,p){var v=this.w.config.xaxis.convertedCatToNumeric;return{minX:v?Math.floor(h):h,maxX:v?Math.floor(p):p}}},{key:"zoomUpdateOptions",value:function(h,p){var v=this.w;if(void 0!==h||void 0!==p){if(!(v.config.xaxis.convertedCatToNumeric&&(h<1&&(h=1,p=v.globals.dataPoints),p-h<2))){var M={min:h,max:p},E=this.getBeforeZoomRange(M);E&&(M=E.xaxis);var N={xaxis:M},O=at.clone(v.globals.initialConfig.yaxis);v.config.chart.zoom.autoScaleYaxis&&(O=new nr(this.ctx).autoScaleY(this.ctx,O,{xaxis:M})),v.config.chart.group||(N.yaxis=O),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(N,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(M,O)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(h,p){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:h,yaxis:p})}},{key:"getBeforeZoomRange",value:function(h,p){var v=null;return"function"==typeof this.ev.beforeZoom&&(v=this.ev.beforeZoom(this,{xaxis:h,yaxis:p})),v}},{key:"toggleMenu",value:function(){var h=this;window.setTimeout(function(){h.elMenu.classList.contains("apexcharts-menu-open")?h.elMenu.classList.remove("apexcharts-menu-open"):h.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(h){var p=this.w,v=new Vs(this.ctx);switch(h){case"svg":v.exportToSVG(this.ctx);break;case"png":v.exportToPng(this.ctx);break;case"csv":v.exportToCSV({series:p.config.series,columnDelimiter:p.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(h){this.ctx.getSyncedCharts().forEach(function(p){var v=p.w;if(v.globals.lastXAxis.min=void 0,v.globals.lastXAxis.max=void 0,p.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof v.config.chart.events.beforeResetZoom){var M=v.config.chart.events.beforeResetZoom(p,v);M&&p.updateHelpers.revertDefaultAxisMinMax(M)}"function"==typeof v.config.chart.events.zoomed&&p.ctx.toolbar.zoomCallback({min:v.config.xaxis.min,max:v.config.xaxis.max}),v.globals.zoomed=!1;var E=p.ctx.series.emptyCollapsedSeries(at.clone(v.globals.initialSeries));p.updateHelpers._updateSeries(E,v.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Le}(),ll=function(Le){Fe(p,ji);var h=At(p);function p(v){var M;return J(this,p),(M=h.call(this,v)).ctx=v,M.w=v.w,M.dragged=!1,M.graphics=new jt(M.ctx),M.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],M.clientX=0,M.clientY=0,M.startX=0,M.endX=0,M.dragX=0,M.startY=0,M.endY=0,M.dragY=0,M.moveDirection="none",M}return ce(p,[{key:"init",value:function(v){var M=this,E=v.xyRatios,N=this.w,O=this;this.xyRatios=E,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=N.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),N.globals.dom.elGraphical.add(this.zoomRect),N.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===N.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:N.globals.gridWidth,maxY:N.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===N.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:N.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=N.globals.dom.baseEl.querySelector("".concat(N.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(j){M.hoverArea.addEventListener(j,O.svgMouseEvents.bind(O,E),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(v,M){var E=this.w,N=this,O=this.ctx.toolbar,j=E.globals.zoomEnabled?E.config.chart.zoom.type:E.config.chart.selection.type,Z=E.config.chart.toolbar.autoSelected;M.shiftKey?(this.shiftWasPressed=!0,O.enableZoomPanFromToolbar("pan"===Z?"zoom":"pan")):this.shiftWasPressed&&(O.enableZoomPanFromToolbar(Z),this.shiftWasPressed=!1);var re=M.target.classList;if(!(re.contains("apexcharts-selection-rect")||re.contains("apexcharts-legend-marker")||re.contains("apexcharts-legend-text")||M.target.parentNode.classList.contains("apexcharts-toolbar"))){if(N.clientX="touchmove"===M.type||"touchstart"===M.type?M.touches[0].clientX:"touchend"===M.type?M.changedTouches[0].clientX:M.clientX,N.clientY="touchmove"===M.type||"touchstart"===M.type?M.touches[0].clientY:"touchend"===M.type?M.changedTouches[0].clientY:M.clientY,"mousedown"===M.type&&1===M.which){var le=N.gridRect.getBoundingClientRect();N.startX=N.clientX-le.left,N.startY=N.clientY-le.top,N.dragged=!1,N.w.globals.mousedown=!0}if(("mousemove"===M.type&&1===M.which||"touchmove"===M.type)&&(N.dragged=!0,E.globals.panEnabled?(E.globals.selection=null,N.w.globals.mousedown&&N.panDragging({context:N,zoomtype:j,xyRatios:v})):(N.w.globals.mousedown&&E.globals.zoomEnabled||N.w.globals.mousedown&&E.globals.selectionEnabled)&&(N.selection=N.selectionDrawing({context:N,zoomtype:j}))),"mouseup"===M.type||"touchend"===M.type||"mouseleave"===M.type){var se=N.gridRect.getBoundingClientRect();N.w.globals.mousedown&&(N.endX=N.clientX-se.left,N.endY=N.clientY-se.top,N.dragX=Math.abs(N.endX-N.startX),N.dragY=Math.abs(N.endY-N.startY),(E.globals.zoomEnabled||E.globals.selectionEnabled)&&N.selectionDrawn({context:N,zoomtype:j}),E.globals.panEnabled&&E.config.xaxis.convertedCatToNumeric&&N.delayedPanScrolled()),E.globals.zoomEnabled&&N.hideSelectionRect(this.selectionRect),N.dragged=!1,N.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var v=this.w;if(this.selectionRect){var M=this.selectionRect.node.getBoundingClientRect();M.width>0&&M.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:v.globals.gridWidth,maxY:v.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var v=this.w,M=this.xyRatios;if(!v.globals.zoomEnabled)if(null!=v.globals.selection)this.drawSelectionRect(v.globals.selection);else if(void 0!==v.config.chart.selection.xaxis.min&&void 0!==v.config.chart.selection.xaxis.max){var E=(v.config.chart.selection.xaxis.min-v.globals.minX)/M.xRatio;this.drawSelectionRect({x:E,y:0,width:v.globals.gridWidth-(v.globals.maxX-v.config.chart.selection.xaxis.max)/M.xRatio-E,height:v.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof v.config.chart.events.selection&&v.config.chart.events.selection(this.ctx,{xaxis:{min:v.config.chart.selection.xaxis.min,max:v.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(v){var M=v.x,E=v.y,N=v.width,O=v.height,j=v.translateX,re=v.translateY,se=this.w,me=this.zoomRect,Ee=this.selectionRect;if(this.dragged||null!==se.globals.selection){var Ae={transform:"translate("+(void 0===j?0:j)+", "+(void 0===re?0:re)+")"};se.globals.zoomEnabled&&this.dragged&&(N<0&&(N=1),me.attr({x:M,y:E,width:N,height:O,fill:se.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":se.config.chart.zoom.zoomedArea.fill.opacity,stroke:se.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":se.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":se.config.chart.zoom.zoomedArea.stroke.opacity}),jt.setAttrs(me.node,Ae)),se.globals.selectionEnabled&&(Ee.attr({x:M,y:E,width:N>0?N:0,height:O>0?O:0,fill:se.config.chart.selection.fill.color,"fill-opacity":se.config.chart.selection.fill.opacity,stroke:se.config.chart.selection.stroke.color,"stroke-width":se.config.chart.selection.stroke.width,"stroke-dasharray":se.config.chart.selection.stroke.dashArray,"stroke-opacity":se.config.chart.selection.stroke.opacity}),jt.setAttrs(Ee.node,Ae))}}},{key:"hideSelectionRect",value:function(v){v&&v.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(v){var Ae,E=v.zoomtype,N=this.w,O=v.context,j=this.gridRect.getBoundingClientRect(),Z=O.startX-1,re=O.startY,le=!1,se=!1,me=O.clientX-j.left-Z,Ee=O.clientY-j.top-re;return Math.abs(me+Z)>N.globals.gridWidth?me=N.globals.gridWidth-Z:O.clientX-j.left<0&&(me=Z),Z>O.clientX-j.left&&(le=!0,me=Math.abs(me)),re>O.clientY-j.top&&(se=!0,Ee=Math.abs(Ee)),O.drawSelectionRect(Ae="x"===E?{x:le?Z-me:Z,y:0,width:me,height:N.globals.gridHeight}:"y"===E?{x:0,y:se?re-Ee:re,width:N.globals.gridWidth,height:Ee}:{x:le?Z-me:Z,y:se?re-Ee:re,width:me,height:Ee}),O.selectionDragging("resizing"),Ae}},{key:"selectionDragging",value:function(v,M){var E=this,N=this.w,O=this.xyRatios,j=this.selectionRect,Z=0;"resizing"===v&&(Z=30);var re=function(se){return parseFloat(j.node.getAttribute(se))},le={x:re("x"),y:re("y"),width:re("width"),height:re("height")};N.globals.selection=le,"function"==typeof N.config.chart.events.selection&&N.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var se=E.gridRect.getBoundingClientRect(),me=j.node.getBoundingClientRect(),Ee={xaxis:{min:N.globals.xAxisScale.niceMin+(me.left-se.left)*O.xRatio,max:N.globals.xAxisScale.niceMin+(me.right-se.left)*O.xRatio},yaxis:{min:N.globals.yAxisScale[0].niceMin+(se.bottom-me.bottom)*O.yRatio[0],max:N.globals.yAxisScale[0].niceMax-(me.top-se.top)*O.yRatio[0]}};N.config.chart.events.selection(E.ctx,Ee),N.config.chart.brush.enabled&&void 0!==N.config.chart.events.brushScrolled&&N.config.chart.events.brushScrolled(E.ctx,Ee)},Z))}},{key:"selectionDrawn",value:function(v){var E=v.zoomtype,N=this.w,O=v.context,j=this.xyRatios,Z=this.ctx.toolbar;if(O.startX>O.endX){var re=O.startX;O.startX=O.endX,O.endX=re}if(O.startY>O.endY){var le=O.startY;O.startY=O.endY,O.endY=le}var se=void 0,me=void 0;N.globals.isTimelineBar?(se=N.globals.yAxisScale[0].niceMin+O.startX*j.invertedYRatio,me=N.globals.yAxisScale[0].niceMin+O.endX*j.invertedYRatio):(se=N.globals.xAxisScale.niceMin+O.startX*j.xRatio,me=N.globals.xAxisScale.niceMin+O.endX*j.xRatio);var Ee=[],Ae=[];if(N.config.yaxis.forEach(function($e,ft){Ee.push(N.globals.yAxisScale[ft].niceMax-j.yRatio[ft]*O.startY),Ae.push(N.globals.yAxisScale[ft].niceMax-j.yRatio[ft]*O.endY)}),O.dragged&&(O.dragX>10||O.dragY>10)&&se!==me)if(N.globals.zoomEnabled){var Re=at.clone(N.globals.initialConfig.yaxis),je=at.clone(N.globals.initialConfig.xaxis);if(N.globals.zoomed=!0,N.config.xaxis.convertedCatToNumeric&&(se=Math.floor(se),me=Math.floor(me),se<1&&(se=1,me=N.globals.dataPoints),me-se<2&&(me=se+1)),"xy"!==E&&"x"!==E||(je={min:se,max:me}),"xy"!==E&&"y"!==E||Re.forEach(function($e,ft){Re[ft].min=Ae[ft],Re[ft].max=Ee[ft]}),N.config.chart.zoom.autoScaleYaxis){var it=new nr(O.ctx);Re=it.autoScaleY(O.ctx,Re,{xaxis:je})}if(Z){var _t=Z.getBeforeZoomRange(je,Re);_t&&(je=_t.xaxis?_t.xaxis:je,Re=_t.yaxis?_t.yaxis:Re)}var $={xaxis:je};N.config.chart.group||($.yaxis=Re),O.ctx.updateHelpers._updateOptions($,!1,O.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof N.config.chart.events.zoomed&&Z.zoomCallback(je,Re)}else if(N.globals.selectionEnabled){var ue,Oe=null;ue={min:se,max:me},"xy"!==E&&"y"!==E||(Oe=at.clone(N.config.yaxis)).forEach(function($e,ft){Oe[ft].min=Ae[ft],Oe[ft].max=Ee[ft]}),N.globals.selection=O.selection,"function"==typeof N.config.chart.events.selection&&N.config.chart.events.selection(O.ctx,{xaxis:ue,yaxis:Oe})}}},{key:"panDragging",value:function(v){var E=this.w,N=v.context;if(void 0!==E.globals.lastClientPosition.x){var O=E.globals.lastClientPosition.x-N.clientX,j=E.globals.lastClientPosition.y-N.clientY;Math.abs(O)>Math.abs(j)&&O>0?this.moveDirection="left":Math.abs(O)>Math.abs(j)&&O<0?this.moveDirection="right":Math.abs(j)>Math.abs(O)&&j>0?this.moveDirection="up":Math.abs(j)>Math.abs(O)&&j<0&&(this.moveDirection="down")}E.globals.lastClientPosition={x:N.clientX,y:N.clientY},E.config.xaxis.convertedCatToNumeric||N.panScrolled(E.globals.isTimelineBar?E.globals.minY:E.globals.minX,E.globals.isTimelineBar?E.globals.maxY:E.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var v=this.w,M=v.globals.minX,E=v.globals.maxX,N=(v.globals.maxX-v.globals.minX)/2;"left"===this.moveDirection?(M=v.globals.minX+N,E=v.globals.maxX+N):"right"===this.moveDirection&&(M=v.globals.minX-N,E=v.globals.maxX-N),M=Math.floor(M),E=Math.floor(E),this.updateScrolledChart({xaxis:{min:M,max:E}},M,E)}},{key:"panScrolled",value:function(v,M){var E=this.w,N=this.xyRatios,O=at.clone(E.globals.initialConfig.yaxis),j=N.xRatio,Z=E.globals.minX,re=E.globals.maxX;E.globals.isTimelineBar&&(j=N.invertedYRatio,Z=E.globals.minY,re=E.globals.maxY),"left"===this.moveDirection?(v=Z+E.globals.gridWidth/15*j,M=re+E.globals.gridWidth/15*j):"right"===this.moveDirection&&(v=Z-E.globals.gridWidth/15*j,M=re-E.globals.gridWidth/15*j),E.globals.isTimelineBar||(v<E.globals.initialMinX||M>E.globals.initialMaxX)&&(v=Z,M=re);var le={min:v,max:M};E.config.chart.zoom.autoScaleYaxis&&(O=new nr(this.ctx).autoScaleY(this.ctx,O,{xaxis:le}));var se={xaxis:{min:v,max:M}};E.config.chart.group||(se.yaxis=O),this.updateScrolledChart(se,v,M)}},{key:"updateScrolledChart",value:function(v,M,E){var N=this.w;this.ctx.updateHelpers._updateOptions(v,!1,!1),"function"==typeof N.config.chart.events.scrolled&&N.config.chart.events.scrolled(this.ctx,{xaxis:{min:M,max:E}})}}]),p}(),Ea=function(){function Le(h){J(this,Le),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx}return ce(Le,[{key:"getNearestValues",value:function(h){var p=h.hoverArea,M=h.clientX,E=h.clientY,N=this.w,O=N.globals.gridWidth,Z=O/(N.globals.dataPoints-1),re=N.globals.gridHeight/N.globals.dataPoints,le=h.elGrid.getBoundingClientRect(),se=this.hasBars();!N.globals.comboCharts&&!se||N.config.xaxis.convertedCatToNumeric||(Z=O/N.globals.dataPoints);var me=M-le.left-N.globals.barPadForNumericAxis,Ee=E-le.top;me<0||Ee<0||me>N.globals.gridWidth||Ee>N.globals.gridHeight?(p.classList.remove("hovering-zoom"),p.classList.remove("hovering-pan")):N.globals.zoomEnabled?(p.classList.remove("hovering-pan"),p.classList.add("hovering-zoom")):N.globals.panEnabled&&(p.classList.remove("hovering-zoom"),p.classList.add("hovering-pan"));var Ae=Math.round(me/Z),Re=Math.floor(Ee/re);se&&!N.config.xaxis.convertedCatToNumeric&&(Ae=Math.ceil(me/Z),Ae-=1);for(var je,it=null,_t=null,$=[],ue=0;ue<N.globals.seriesXvalues.length;ue++)$.push([N.globals.seriesXvalues[ue][0]-1e-6].concat(N.globals.seriesXvalues[ue]));return $=$.map(function(Oe){return Oe.filter(function($e){return $e})}),je=N.globals.seriesYvalues.map(function(Oe){return Oe.filter(function($e){return at.isNumber($e)})}),N.globals.isXNumeric&&(it=(_t=this.closestInMultiArray(me,Ee,$,je)).index,Ae=_t.j,null!==it&&(Ae=(_t=this.closestInArray(me,$=N.globals.seriesXvalues[it])).index)),N.globals.capturedSeriesIndex=null===it?-1:it,(!Ae||Ae<1)&&(Ae=0),N.globals.capturedDataPointIndex=Ae,{capturedSeries:it,j:N.globals.isBarHorizontal?Re:Ae,hoverX:me,hoverY:Ee}}},{key:"closestInMultiArray",value:function(h,p,v,M){var N=0,O=null,j=-1;this.w.globals.series.length>1?N=this.getFirstActiveXArray(v):O=0;var Z=M[N][0],le=Math.abs(h-v[N][0]),se=Math.abs(p-Z),me=se+le;return M.map(function(Ee,Ae){Ee.map(function(Re,je){var it=Math.abs(p-M[Ae][je]),_t=Math.abs(h-v[Ae][je]),$=_t+it;$<me&&(me=$,le=_t,se=it,O=Ae,j=je)})}),{index:O,j}}},{key:"getFirstActiveXArray",value:function(h){for(var p=0,v=h.map(function(E,N){return E.length>0?N:-1}),M=0;M<v.length;M++)if(-1!==v[M]){p=v[M];break}return p}},{key:"closestInArray",value:function(h,p){for(var M=null,E=Math.abs(h-p[0]),N=0;N<p.length;N++){var O=Math.abs(h-p[N]);O<E&&(E=O,M=N)}return{index:M}}},{key:"isXoverlap",value:function(h){var p=[],v=this.w.globals.seriesX.filter(function(E){return void 0!==E[0]});if(v.length>0)for(var M=0;M<v.length-1;M++)void 0!==v[M][h]&&void 0!==v[M+1][h]&&v[M][h]!==v[M+1][h]&&p.push("unEqual");return 0===p.length}},{key:"isInitialSeriesSameLen",value:function(){for(var h=!0,p=this.w.globals.initialSeries,v=0;v<p.length-1;v++)if(p[v].data.length!==p[v+1].data.length){h=!1;break}return h}},{key:"getBarsHeight",value:function(h){return en(h).reduce(function(p,v){return p+v.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(h=en(h)).sort(function(v,M){return Number(M.getAttribute("data:realIndex"))<Number(v.getAttribute("data:realIndex"))?0:-1});var p=[];return h.forEach(function(v){p.push(v.querySelector(".apexcharts-marker"))}),p}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(h){var p=this.w,v=p.config.markers.hover.size;return void 0===v&&(v=p.globals.markers.size[h]+p.config.markers.hover.sizeOffset),v}},{key:"toggleAllTooltipSeriesGroups",value:function(h){var p=this.w,v=this.ttCtx;0===v.allTooltipSeriesGroups.length&&(v.allTooltipSeriesGroups=p.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var M=v.allTooltipSeriesGroups,E=0;E<M.length;E++)"enable"===h?(M[E].classList.add("apexcharts-active"),M[E].style.display=p.config.tooltip.items.display):(M[E].classList.remove("apexcharts-active"),M[E].style.display="none")}}]),Le}(),ga=function(){function Le(h){J(this,Le),this.w=h.w,this.ctx=h.ctx,this.ttCtx=h,this.tooltipUtil=new Ea(h)}return ce(Le,[{key:"drawSeriesTexts",value:function(h){var p=h.shared,v=void 0===p||p,M=h.ttItems,E=h.i,N=void 0===E?0:E,O=h.j,j=void 0===O?null:O,le=h.e,se=this.w;void 0!==se.config.tooltip.custom?this.handleCustomTooltip({i:N,j,y1:h.y1,y2:h.y2,w:se}):this.toggleActiveInactiveSeries(v);var me=this.getValuesToPrint({i:N,j});this.printLabels({i:N,j,values:me,ttItems:M,shared:v,e:le});var Ee=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Ee.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Ee.getBoundingClientRect().height}},{key:"printLabels",value:function(h){var p,v=this,M=h.i,E=h.j,N=h.values,O=h.ttItems,j=h.shared,Z=h.e,re=this.w,le=[],se=function(ue){return re.globals.seriesGoals[ue]&&re.globals.seriesGoals[ue][E]&&Array.isArray(re.globals.seriesGoals[ue][E])},me=N.xVal,Ee=N.zVal,Ae=N.xAxisTTVal,Re="",je=re.globals.colors[M];null!==E&&re.config.plotOptions.bar.distributed&&(je=re.globals.colors[E]);for(var it=function(ue,Oe){var $e=v.getFormatters(M);Re=v.getSeriesName({fn:$e.yLbTitleFormatter,index:M,seriesIndex:M,j:E}),"treemap"===re.config.chart.type&&(Re=$e.yLbTitleFormatter(String(re.config.series[M].data[E].x),{series:re.globals.series,seriesIndex:M,dataPointIndex:E,w:re}));var ft=re.config.tooltip.inverseOrder?Oe:ue;if(re.globals.axisCharts){var sn=function(Gt){return $e.yLbFormatter(re.globals.series[Gt][E],{series:re.globals.series,seriesIndex:Gt,dataPointIndex:E,w:re})};j?($e=v.getFormatters(ft),Re=v.getSeriesName({fn:$e.yLbTitleFormatter,index:ft,seriesIndex:M,j:E}),je=re.globals.colors[ft],p=sn(ft),se(ft)&&(le=re.globals.seriesGoals[ft][E].map(function(Gt){return{attrs:Gt,val:$e.yLbFormatter(Gt.value,{seriesIndex:ft,dataPointIndex:E,w:re})}}))):(Z&&Z.target&&Z.target.getAttribute("fill")&&(je=Z.target.getAttribute("fill")),p=sn(M),se(M)&&Array.isArray(re.globals.seriesGoals[M][E])&&(le=re.globals.seriesGoals[M][E].map(function(Gt){return{attrs:Gt,val:$e.yLbFormatter(Gt.value,{seriesIndex:M,dataPointIndex:E,w:re})}})))}null===E&&(p=$e.yLbFormatter(re.globals.series[M],xe(xe({},re),{},{seriesIndex:M,dataPointIndex:M}))),v.DOMHandling({i:M,t:ft,j:E,ttItems:O,values:{val:p,goalVals:le,xVal:me,xAxisTTVal:Ae,zVal:Ee},seriesName:Re,shared:j,pColor:je})},_t=0,$=re.globals.series.length-1;_t<re.globals.series.length;_t++,$--)it(_t,$)}},{key:"getFormatters",value:function(h){var p,v=this.w,M=v.globals.yLabelFormatters[h];return void 0!==v.globals.ttVal?Array.isArray(v.globals.ttVal)?(M=v.globals.ttVal[h]&&v.globals.ttVal[h].formatter,p=v.globals.ttVal[h]&&v.globals.ttVal[h].title&&v.globals.ttVal[h].title.formatter):(M=v.globals.ttVal.formatter,"function"==typeof v.globals.ttVal.title.formatter&&(p=v.globals.ttVal.title.formatter)):p=v.config.tooltip.y.title.formatter,"function"!=typeof M&&(M=v.globals.yLabelFormatters[0]?v.globals.yLabelFormatters[0]:function(E){return E}),"function"!=typeof p&&(p=function(E){return E}),{yLbFormatter:M,yLbTitleFormatter:p}}},{key:"getSeriesName",value:function(h){var M=h.seriesIndex,E=h.j,N=this.w;return(0,h.fn)(String(N.globals.seriesNames[h.index]),{series:N.globals.series,seriesIndex:M,dataPointIndex:E,w:N})}},{key:"DOMHandling",value:function(h){var p=h.t,v=h.j,M=h.ttItems,E=h.values,N=h.seriesName,O=h.shared,j=h.pColor,Z=this.w,re=this.ttCtx;Object.keys(E).forEach(function(Oe){"string"==typeof E[Oe]&&(E[Oe]=at.sanitizeDom(E[Oe]))});var le=E.val,se=E.goalVals,me=E.xVal,Ee=E.xAxisTTVal,Ae=E.zVal,Re=null;Re=M[p].children,Z.config.tooltip.fillSeriesColor&&(M[p].style.backgroundColor=j,Re[0].style.display="none"),re.showTooltipTitle&&(null===re.tooltipTitle&&(re.tooltipTitle=Z.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),re.tooltipTitle.innerHTML=me),re.blxaxisTooltip&&(re.xaxisTooltipText.innerHTML=""!==Ee?Ee:me);var je=M[p].querySelector(".apexcharts-tooltip-text-y-label");je&&(je.innerHTML=N?at.sanitizeDom(N):"");var it=M[p].querySelector(".apexcharts-tooltip-text-y-value");it&&(it.innerHTML=void 0!==le?le:""),Re[0]&&Re[0].classList.contains("apexcharts-tooltip-marker")&&(Z.config.tooltip.marker.fillColors&&Array.isArray(Z.config.tooltip.marker.fillColors)&&(j=Z.config.tooltip.marker.fillColors[p]),Re[0].style.backgroundColor=j),Z.config.tooltip.marker.show||(Re[0].style.display="none");var _t=M[p].querySelector(".apexcharts-tooltip-text-goals-label"),$=M[p].querySelector(".apexcharts-tooltip-text-goals-value");if(se.length&&Z.globals.seriesGoals[p]){var ue=function(){var Oe="<div >",$e="<div>";se.forEach(function(ft,sn){Oe+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ft.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ft.attrs.name,"</div>"),$e+="<div>".concat(ft.val,"</div>")}),_t.innerHTML=Oe+"</div>",$.innerHTML=$e+"</div>"};O?Z.globals.seriesGoals[p][v]&&Array.isArray(Z.globals.seriesGoals[p][v])?ue():(_t.innerHTML="",$.innerHTML=""):ue()}else _t.innerHTML="",$.innerHTML="";null!==Ae&&(M[p].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=Z.config.tooltip.z.title,M[p].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Ae?Ae:""),O&&Re[0]&&(Re[0].parentNode.style.display=null==le||Z.globals.collapsedSeriesIndices.indexOf(p)>-1?"none":Z.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(h){var p=this.w;if(h)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var v=p.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");v&&(v.classList.add("apexcharts-active"),v.style.display=p.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(h){var p=h.i,v=h.j,M=this.w,E=this.ctx.series.filteredSeriesX(),N="",O="",j=null,Z=null,re={series:M.globals.series,seriesIndex:p,dataPointIndex:v,w:M},le=M.globals.ttZFormatter;null===v?Z=M.globals.series[p]:M.globals.isXNumeric&&"treemap"!==M.config.chart.type?(N=E[p][v],0===E[p].length&&(N=E[this.tooltipUtil.getFirstActiveXArray(E)][v])):N=void 0!==M.globals.labels[v]?M.globals.labels[v]:"";var se=N;return N=M.globals.isXNumeric&&"datetime"===M.config.xaxis.type?new uo(this.ctx).xLabelFormat(M.globals.ttKeyFormatter,se,se,{i:void 0,dateFormatter:new ui(this.ctx).formatDate,w:this.w}):M.globals.isBarHorizontal?M.globals.yLabelFormatters[0](se,re):M.globals.xLabelFormatter(se,re),void 0!==M.config.tooltip.x.formatter&&(N=M.globals.ttKeyFormatter(se,re)),M.globals.seriesZ.length>0&&M.globals.seriesZ[p].length>0&&(j=le(M.globals.seriesZ[p][v],M)),O="function"==typeof M.config.xaxis.tooltip.formatter?M.globals.xaxisTooltipFormatter(se,re):N,{val:Array.isArray(Z)?Z.join(" "):Z,xVal:Array.isArray(N)?N.join(" "):N,xAxisTTVal:Array.isArray(O)?O.join(" "):O,zVal:j}}},{key:"handleCustomTooltip",value:function(h){var p=h.i,v=h.j,M=h.y1,E=h.y2,N=h.w,O=this.ttCtx.getElTooltip(),j=N.config.tooltip.custom;Array.isArray(j)&&j[p]&&(j=j[p]),O.innerHTML=j({ctx:this.ctx,series:N.globals.series,seriesIndex:p,dataPointIndex:v,y1:M,y2:E,w:N})}}]),Le}(),gs=function(){function Le(h){J(this,Le),this.ttCtx=h,this.ctx=h.ctx,this.w=h.w}return ce(Le,[{key:"moveXCrosshairs",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.ttCtx,M=this.w,E=v.getElXCrosshairs(),N=h-v.xcrosshairsWidth/2,O=M.globals.labels.slice().length;if(null!==p&&(N=M.globals.gridWidth/O*p),null!==E&&(E.setAttribute("x",N),E.setAttribute("x1",N),E.setAttribute("x2",N),E.setAttribute("y2",M.globals.gridHeight),E.classList.add("apexcharts-active")),N<0&&(N=0),N>M.globals.gridWidth&&(N=M.globals.gridWidth),v.blxaxisTooltip){var j=N;"tickWidth"!==M.config.xaxis.crosshairs.width&&"barWidth"!==M.config.xaxis.crosshairs.width||(j=N+v.xcrosshairsWidth/2),this.moveXAxisTooltip(j)}}},{key:"moveYCrosshairs",value:function(h){var p=this.ttCtx;null!==p.ycrosshairs&&jt.setAttrs(p.ycrosshairs,{y1:h,y2:h}),null!==p.ycrosshairsHidden&&jt.setAttrs(p.ycrosshairsHidden,{y1:h,y2:h})}},{key:"moveXAxisTooltip",value:function(h){var p=this.w,v=this.ttCtx;if(null!==v.xaxisTooltip){v.xaxisTooltip.classList.add("apexcharts-active");var E,M=v.xaxisOffY+p.config.xaxis.tooltip.offsetY+p.globals.translateY+1+p.config.xaxis.offsetY;h-=v.xaxisTooltip.getBoundingClientRect().width/2,isNaN(h)||(h+=p.globals.translateX,E=new jt(this.ctx).getTextRects(v.xaxisTooltipText.innerHTML),v.xaxisTooltipText.style.minWidth=E.width+"px",v.xaxisTooltip.style.left=h+"px",v.xaxisTooltip.style.top=M+"px")}}},{key:"moveYAxisTooltip",value:function(h){var p=this.w,v=this.ttCtx;null===v.yaxisTTEls&&(v.yaxisTTEls=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var M=parseInt(v.ycrosshairsHidden.getAttribute("y1"),10),E=p.globals.translateY+M,N=v.yaxisTTEls[h].getBoundingClientRect().height,O=p.globals.translateYAxisX[h]-2;p.config.yaxis[h].opposite&&(O-=26),E-=N/2,-1===p.globals.ignoreYAxisIndexes.indexOf(h)?(v.yaxisTTEls[h].classList.add("apexcharts-active"),v.yaxisTTEls[h].style.top=E+"px",v.yaxisTTEls[h].style.left=O+p.config.yaxis[h].tooltip.offsetX+"px"):v.yaxisTTEls[h].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=this.w,E=this.ttCtx,N=E.getElTooltip(),O=E.tooltipRect,j=null!==v?parseFloat(v):1,Z=parseFloat(h)+j+5,re=parseFloat(p)+j/2;if(Z>M.globals.gridWidth/2&&(Z=Z-O.ttWidth-j-15),Z>M.globals.gridWidth-O.ttWidth-10&&(Z=M.globals.gridWidth-O.ttWidth),Z<-20&&(Z=-20),M.config.tooltip.followCursor){var le=E.getElGrid(),se=le.getBoundingClientRect();re=E.e.clientY+M.globals.translateY-se.top-O.ttHeight/2}else M.globals.isBarHorizontal?re-=O.ttHeight:(O.ttHeight/2+re>M.globals.gridHeight&&(re=M.globals.gridHeight-O.ttHeight+M.globals.translateY),re<0&&(re=0));isNaN(Z)||(N.style.left=(Z+=M.globals.translateX)+"px",N.style.top=re+"px")}},{key:"moveMarkers",value:function(h,p){var v=this.w,M=this.ttCtx;if(v.globals.markers.size[h]>0)for(var E=v.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-marker")),N=0;N<E.length;N++)parseInt(E[N].getAttribute("rel"),10)===p&&(M.marker.resetPointsSize(),M.marker.enlargeCurrentPoint(p,E[N]));else M.marker.resetPointsSize(),this.moveDynamicPointOnHover(p,h)}},{key:"moveDynamicPointOnHover",value:function(h,p){var v,M,E=this.w,N=this.ttCtx,O=E.globals.pointsArray,j=N.tooltipUtil.getHoverMarkerSize(p),Z=E.config.series[p].type;if(!Z||"column"!==Z&&"candlestick"!==Z&&"boxPlot"!==Z){v=O[p][h][0],M=O[p][h][1]?O[p][h][1]:0;var re=E.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"'] .apexcharts-series-markers circle"));re&&M<E.globals.gridHeight&&M>0&&(re.setAttribute("r",j),re.setAttribute("cx",v),re.setAttribute("cy",M)),this.moveXCrosshairs(v),N.fixedTooltip||this.moveTooltip(v,M,j)}}},{key:"moveDynamicPointsOnHover",value:function(h){var p,v=this.ttCtx,M=v.w,E=0,N=0,O=M.globals.pointsArray;p=new ni(this.ctx).getActiveConfigSeriesIndex(!0);var j=v.tooltipUtil.getHoverMarkerSize(p);O[p]&&(E=O[p][h][0],N=O[p][h][1]);var Z=v.tooltipUtil.getAllMarkers();if(null!==Z)for(var re=0;re<M.globals.series.length;re++){var le=O[re];if(M.globals.comboCharts&&void 0===le&&Z.splice(re,0,null),le&&le.length){var se=O[re][h][1];Z[re].setAttribute("cx",E),null!==se&&!isNaN(se)&&se<M.globals.gridHeight&&se>0?(Z[re]&&Z[re].setAttribute("r",j),Z[re]&&Z[re].setAttribute("cy",se)):Z[re]&&Z[re].setAttribute("r",0)}}this.moveXCrosshairs(E),v.fixedTooltip||this.moveTooltip(E,N||M.globals.gridHeight,j)}},{key:"moveStickyTooltipOverBars",value:function(h){var p=this.w,v=this.ttCtx,M=p.globals.columnSeries?p.globals.columnSeries.length:p.globals.series.length,E=M>=2&&M%2==0?Math.floor(M/2):Math.floor(M/2)+1;p.globals.isBarHorizontal&&(E=new ni(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var N=p.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(E,"'] path[j='").concat(h,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(E,"'] path[j='").concat(h,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(E,"'] path[j='").concat(h,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(E,"'] path[j='").concat(h,"']")),O=N?parseFloat(N.getAttribute("cx")):0,j=N?parseFloat(N.getAttribute("cy")):0,Z=N?parseFloat(N.getAttribute("barWidth")):0,re=N?parseFloat(N.getAttribute("barHeight")):0,le=v.getElGrid().getBoundingClientRect();p.globals.isXNumeric?(O-=M%2!=0?Z/2:0,N&&(N.classList.contains("apexcharts-candlestick-area")||N.classList.contains("apexcharts-boxPlot-area"))&&p.globals.comboCharts&&(O-=Z/2)):p.globals.isBarHorizontal||(O=v.xAxisTicksPositions[h-1]+v.dataPointsDividedWidth/2,isNaN(O)&&(O=v.xAxisTicksPositions[h]-v.dataPointsDividedWidth/2)),p.globals.isBarHorizontal?j+=re/3:j=v.e.clientY-le.top-v.tooltipRect.ttHeight/2,p.globals.isBarHorizontal||this.moveXCrosshairs(O),v.fixedTooltip||this.moveTooltip(O,j||p.globals.gridHeight)}}]),Le}(),So=function(){function Le(h){J(this,Le),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx,this.tooltipPosition=new gs(h)}return ce(Le,[{key:"drawDynamicPoints",value:function(){var h=this.w,p=new jt(this.ctx),v=new vn(this.ctx),M=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");M=en(M),h.config.chart.stacked&&M.sort(function(le,se){return parseFloat(le.getAttribute("data:realIndex"))-parseFloat(se.getAttribute("data:realIndex"))});for(var E=0;E<M.length;E++){var N=M[E].querySelector(".apexcharts-series-markers-wrap");if(null!==N){var O=void 0,j="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==h.config.chart.type&&"area"!==h.config.chart.type||h.globals.comboCharts||h.config.tooltip.intersect||(j+=" no-pointer-events");var Z=v.getMarkerConfig(j,E);(O=p.drawMarker(0,0,Z)).node.setAttribute("default-marker-size",0);var re=document.createElementNS(h.globals.SVGNS,"g");re.classList.add("apexcharts-series-markers"),re.appendChild(O.node),N.appendChild(re)}}}},{key:"enlargeCurrentPoint",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,E=this.w;"bubble"!==E.config.chart.type&&this.newPointSize(h,p);var N=p.getAttribute("cx"),O=p.getAttribute("cy");if(null!==v&&null!==M&&(N=v,O=M),this.tooltipPosition.moveXCrosshairs(N),!this.fixedTooltip){if("radar"===E.config.chart.type){var j=this.ttCtx.getElGrid(),Z=j.getBoundingClientRect();N=this.ttCtx.e.clientX-Z.left}this.tooltipPosition.moveTooltip(N,O,E.config.markers.hover.size)}}},{key:"enlargePoints",value:function(h){for(var p=this.w,v=this,M=this.ttCtx,E=h,N=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),O=p.config.markers.hover.size,j=0;j<N.length;j++){var Z=N[j].getAttribute("rel"),re=N[j].getAttribute("index");if(void 0===O&&(O=p.globals.markers.size[re]+p.config.markers.hover.sizeOffset),E===parseInt(Z,10)){v.newPointSize(E,N[j]);var le=N[j].getAttribute("cx"),se=N[j].getAttribute("cy");v.tooltipPosition.moveXCrosshairs(le),M.fixedTooltip||v.tooltipPosition.moveTooltip(le,se,O)}else v.oldPointSize(N[j])}}},{key:"newPointSize",value:function(h,p){var v=this.w,M=v.config.markers.hover.size,E=0===h?p.parentNode.firstChild:p.parentNode.lastChild;if("0"!==E.getAttribute("default-marker-size")){var N=parseInt(E.getAttribute("index"),10);void 0===M&&(M=v.globals.markers.size[N]+v.config.markers.hover.sizeOffset),M<0&&(M=0),E.setAttribute("r",M)}}},{key:"oldPointSize",value:function(h){var p=parseFloat(h.getAttribute("default-marker-size"));h.setAttribute("r",p)}},{key:"resetPointsSize",value:function(){for(var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=0;p<h.length;p++){var v=parseFloat(h[p].getAttribute("default-marker-size"));at.isNumber(v)&&v>=0?h[p].setAttribute("r",v):h[p].setAttribute("r",0)}}}]),Le}(),ko=function(){function Le(h){J(this,Le),this.w=h.w,this.ttCtx=h}return ce(Le,[{key:"getAttr",value:function(h,p){return parseFloat(h.target.getAttribute(p))}},{key:"handleHeatTreeTooltip",value:function(h){var p=h.e,v=h.opt,M=h.x,E=h.y,O=this.ttCtx,j=this.w;if(p.target.classList.contains("apexcharts-".concat(h.type,"-rect"))){var Z=this.getAttr(p,"i"),re=this.getAttr(p,"j"),le=this.getAttr(p,"cx"),se=this.getAttr(p,"cy"),me=this.getAttr(p,"width"),Ee=this.getAttr(p,"height");if(O.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:Z,j:re,shared:!1,e:p}),j.globals.capturedSeriesIndex=Z,j.globals.capturedDataPointIndex=re,M=le+O.tooltipRect.ttWidth/2+me,E=se+O.tooltipRect.ttHeight/2-Ee/2,O.tooltipPosition.moveXCrosshairs(le+me/2),M>j.globals.gridWidth/2&&(M=le-O.tooltipRect.ttWidth/2+me),O.w.config.tooltip.followCursor){var Ae=j.globals.dom.elWrap.getBoundingClientRect();M=j.globals.clientX-Ae.left-O.tooltipRect.ttWidth/2,E=j.globals.clientY-Ae.top-O.tooltipRect.ttHeight-5}}return{x:M,y:E}}},{key:"handleMarkerTooltip",value:function(h){var p,v,M=h.e,E=h.opt,N=h.x,O=h.y,j=this.w,Z=this.ttCtx;if(M.target.classList.contains("apexcharts-marker")){var re=parseInt(E.paths.getAttribute("cx"),10),le=parseInt(E.paths.getAttribute("cy"),10),se=parseFloat(E.paths.getAttribute("val"));if(v=parseInt(E.paths.getAttribute("rel"),10),p=parseInt(E.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,Z.intersect){var me=at.findAncestor(E.paths,"apexcharts-series");me&&(p=parseInt(me.getAttribute("data:realIndex"),10))}if(Z.tooltipLabels.drawSeriesTexts({ttItems:E.ttItems,i:p,j:v,shared:!Z.showOnIntersect&&j.config.tooltip.shared,e:M}),"mouseup"===M.type&&Z.markerClick(M,p,v),j.globals.capturedSeriesIndex=p,j.globals.capturedDataPointIndex=v,N=re,O=le+j.globals.translateY-1.4*Z.tooltipRect.ttHeight,Z.w.config.tooltip.followCursor){var Ee=Z.getElGrid().getBoundingClientRect();O=Z.e.clientY+j.globals.translateY-Ee.top}se<0&&(O=le),Z.marker.enlargeCurrentPoint(v,E.paths,N,O)}return{x:N,y:O}}},{key:"handleBarTooltip",value:function(h){var p,v,M=h.e,E=h.opt,N=this.w,O=this.ttCtx,j=O.getElTooltip(),Z=0,re=0,le=0,se=this.getBarTooltipXY({e:M,opt:E}),me=se.barHeight,Ee=se.j;N.globals.capturedSeriesIndex=p=se.i,N.globals.capturedDataPointIndex=Ee,N.globals.isBarHorizontal&&O.tooltipUtil.hasBars()||!N.config.tooltip.shared?(re=se.x,le=se.y,v=Array.isArray(N.config.stroke.width)?N.config.stroke.width[p]:N.config.stroke.width,Z=re):N.globals.comboCharts||N.config.tooltip.shared||(Z/=2),isNaN(le)?le=N.globals.svgHeight-O.tooltipRect.ttHeight:le<0&&(le=0);var Ae=parseInt(E.paths.parentNode.getAttribute("data:realIndex"),10),Re=N.globals.isMultipleYAxis?N.config.yaxis[Ae]&&N.config.yaxis[Ae].reversed:N.config.yaxis[0].reversed;if(re+O.tooltipRect.ttWidth>N.globals.gridWidth&&!Re?re-=O.tooltipRect.ttWidth:re<0&&(re=0),O.w.config.tooltip.followCursor){var je=O.getElGrid().getBoundingClientRect();le=O.e.clientY-je.top}null===O.tooltip&&(O.tooltip=N.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),N.config.tooltip.shared||O.tooltipPosition.moveXCrosshairs(N.globals.comboBarCount>0?Z+v/2:Z),!O.fixedTooltip&&(!N.config.tooltip.shared||N.globals.isBarHorizontal&&O.tooltipUtil.hasBars())&&(Re&&(re-=O.tooltipRect.ttWidth)<0&&(re=0),j.style.left=re+N.globals.translateX+"px",!Re||N.globals.isBarHorizontal&&O.tooltipUtil.hasBars()||(le=le+me-2*(N.globals.series[p][Ee]<0?me:0)),j.style.top=O.tooltipRect.ttHeight+le>N.globals.gridHeight?(le=N.globals.gridHeight-O.tooltipRect.ttHeight+N.globals.translateY)+"px":le+N.globals.translateY-O.tooltipRect.ttHeight/2+"px")}},{key:"getBarTooltipXY",value:function(h){var p=h.e,v=h.opt,M=this.w,E=null,N=this.ttCtx,O=0,j=0,Z=0,re=0,le=0,se=p.target.classList;if(se.contains("apexcharts-bar-area")||se.contains("apexcharts-candlestick-area")||se.contains("apexcharts-boxPlot-area")||se.contains("apexcharts-rangebar-area")){var me=p.target,Ee=me.getBoundingClientRect(),Ae=v.elGrid.getBoundingClientRect(),Re=Ee.height;le=Ee.height;var je=Ee.width,it=parseInt(me.getAttribute("cx"),10),_t=parseInt(me.getAttribute("cy"),10);re=parseFloat(me.getAttribute("barWidth"));var $="touchmove"===p.type?p.touches[0].clientX:p.clientX;E=parseInt(me.getAttribute("j"),10),O=parseInt(me.parentNode.getAttribute("rel"),10)-1;var ue=me.getAttribute("data-range-y1"),Oe=me.getAttribute("data-range-y2");M.globals.comboCharts&&(O=parseInt(me.parentNode.getAttribute("data:realIndex"),10)),N.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:O,j:E,y1:ue?parseInt(ue,10):null,y2:Oe?parseInt(Oe,10):null,shared:!N.showOnIntersect&&M.config.tooltip.shared,e:p}),M.config.tooltip.followCursor?M.globals.isBarHorizontal?(j=$-Ae.left+15,Z=_t-N.dataPointsDividedHeight+Re/2-N.tooltipRect.ttHeight/2):(j=M.globals.isXNumeric?it-je/2:it-N.dataPointsDividedWidth+je/2,Z=p.clientY-Ae.top-N.tooltipRect.ttHeight/2-15):M.globals.isBarHorizontal?((j=it)<N.xyRatios.baseLineInvertedY&&(j=it-N.tooltipRect.ttWidth),Z=_t-N.dataPointsDividedHeight+Re/2-N.tooltipRect.ttHeight/2):(j=M.globals.isXNumeric?it-je/2:it-N.dataPointsDividedWidth+je/2,Z=_t)}return{x:j,y:Z,barHeight:le,barWidth:re,i:O,j:E}}}]),Le}(),Pt=function(){function Le(h){J(this,Le),this.w=h.w,this.ttCtx=h}return ce(Le,[{key:"drawXaxisTooltip",value:function(){var h=this.w,p=this.ttCtx,v="bottom"===h.config.xaxis.position;p.xaxisOffY=v?h.globals.gridHeight+1:-h.globals.xAxisHeight-h.config.xaxis.axisTicks.height+3;var M=v?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",E=h.globals.dom.elWrap;p.blxaxisTooltip&&null===h.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(p.xaxisTooltip=document.createElement("div"),p.xaxisTooltip.setAttribute("class",M+" apexcharts-theme-"+h.config.tooltip.theme),E.appendChild(p.xaxisTooltip),p.xaxisTooltipText=document.createElement("div"),p.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),p.xaxisTooltipText.style.fontFamily=h.config.xaxis.tooltip.style.fontFamily||h.config.chart.fontFamily,p.xaxisTooltipText.style.fontSize=h.config.xaxis.tooltip.style.fontSize,p.xaxisTooltip.appendChild(p.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var h=this.w,p=this.ttCtx,v=function(E){var N=h.config.yaxis[E].opposite||h.config.yaxis[E].crosshairs.opposite;p.yaxisOffX=N?h.globals.gridWidth+1:1;var O="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(E,N?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");h.globals.yAxisSameScaleIndices.map(function(Z,re){Z.map(function(le,se){se===E&&(O+=h.config.yaxis[se].show?" ":" apexcharts-yaxistooltip-hidden")})});var j=h.globals.dom.elWrap;null===h.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(E))&&(p.yaxisTooltip=document.createElement("div"),p.yaxisTooltip.setAttribute("class",O+" apexcharts-theme-"+h.config.tooltip.theme),j.appendChild(p.yaxisTooltip),0===E&&(p.yaxisTooltipText=[]),p.yaxisTooltipText[E]=document.createElement("div"),p.yaxisTooltipText[E].classList.add("apexcharts-yaxistooltip-text"),p.yaxisTooltip.appendChild(p.yaxisTooltipText[E]))},M=0;M<h.config.yaxis.length;M++)v(M)}},{key:"setXCrosshairWidth",value:function(){var h=this.w,p=this.ttCtx,v=p.getElXCrosshairs();if(p.xcrosshairsWidth=parseInt(h.config.xaxis.crosshairs.width,10),h.globals.comboCharts){var M=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==M&&"barWidth"===h.config.xaxis.crosshairs.width){var E=parseFloat(M.getAttribute("barWidth"));p.xcrosshairsWidth=E}else"tickWidth"===h.config.xaxis.crosshairs.width&&(p.xcrosshairsWidth=h.globals.gridWidth/h.globals.labels.length)}else if("tickWidth"===h.config.xaxis.crosshairs.width)p.xcrosshairsWidth=h.globals.gridWidth/h.globals.labels.length;else if("barWidth"===h.config.xaxis.crosshairs.width){var j=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==j){var Z=parseFloat(j.getAttribute("barWidth"));p.xcrosshairsWidth=Z}else p.xcrosshairsWidth=1}h.globals.isBarHorizontal&&(p.xcrosshairsWidth=0),null!==v&&p.xcrosshairsWidth>0&&v.setAttribute("width",p.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var h=this.w,p=this.ttCtx;p.ycrosshairs=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),p.ycrosshairsHidden=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(h,p,v){var M=this.ttCtx,E=this.w,N=E.globals.yLabelFormatters[h];if(M.yaxisTooltips[h]){var O=M.getElGrid().getBoundingClientRect(),re=E.globals.minYArr[h]+(E.globals.maxYArr[h]-E.globals.minYArr[h]-(p-O.top)*v.yRatio[h]);M.tooltipPosition.moveYCrosshairs(p-O.top),M.yaxisTooltipText[h].innerHTML=N(re),M.tooltipPosition.moveYAxisTooltip(h)}}}]),Le}(),Lt=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.tConfig=p.config.tooltip,this.tooltipUtil=new Ea(this),this.tooltipLabels=new ga(this),this.tooltipPosition=new gs(this),this.marker=new So(this),this.intersect=new ko(this),this.axesTooltip=new Pt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!p.globals.isBarHorizontal&&this.tConfig.shared}return ce(Le,[{key:"getElTooltip",value:function(h){return h||(h=this),h.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(h){var p=this.w;this.xyRatios=h,this.blxaxisTooltip=p.config.xaxis.tooltip.enabled&&p.globals.axisCharts,this.yaxisTooltips=p.config.yaxis.map(function(N,O){return!!(N.show&&N.tooltip.enabled&&p.globals.axisCharts)}),this.allTooltipSeriesGroups=[],p.globals.axisCharts||(this.showTooltipTitle=!1);var v=document.createElement("div");if(v.classList.add("apexcharts-tooltip"),v.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),p.globals.dom.elWrap.appendChild(v),p.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var M=new Zs(this.ctx);this.xAxisTicksPositions=M.getXAxisTicksPositions()}if(!p.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==p.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==p.config.markers.size&&0!==p.globals.markers.largestSize||this.marker.drawDynamicPoints(this),p.globals.collapsedSeries.length!==p.globals.series.length){this.dataPointsDividedHeight=p.globals.gridHeight/p.globals.dataPoints,this.dataPointsDividedWidth=p.globals.gridWidth/p.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||p.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,v.appendChild(this.tooltipTitle));var E=p.globals.series.length;(p.globals.xyCharts||p.globals.comboCharts)&&this.tConfig.shared&&(E=this.showOnIntersect?1:p.globals.series.length),this.legendLabels=p.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(E),this.addSVGEvents()}}},{key:"createTTElements",value:function(h){for(var p=this,v=this.w,M=[],E=this.getElTooltip(),N=function(j){var Z=document.createElement("div");Z.classList.add("apexcharts-tooltip-series-group"),Z.style.order=v.config.tooltip.inverseOrder?h-j:j+1,p.tConfig.shared&&p.tConfig.enabledOnSeries&&Array.isArray(p.tConfig.enabledOnSeries)&&p.tConfig.enabledOnSeries.indexOf(j)<0&&Z.classList.add("apexcharts-tooltip-series-group-hidden");var re=document.createElement("span");re.classList.add("apexcharts-tooltip-marker"),re.style.backgroundColor=v.globals.colors[j],Z.appendChild(re);var le=document.createElement("div");le.classList.add("apexcharts-tooltip-text"),le.style.fontFamily=p.tConfig.style.fontFamily||v.config.chart.fontFamily,le.style.fontSize=p.tConfig.style.fontSize,["y","goals","z"].forEach(function(se){var me=document.createElement("div");me.classList.add("apexcharts-tooltip-".concat(se,"-group"));var Ee=document.createElement("span");Ee.classList.add("apexcharts-tooltip-text-".concat(se,"-label")),me.appendChild(Ee);var Ae=document.createElement("span");Ae.classList.add("apexcharts-tooltip-text-".concat(se,"-value")),me.appendChild(Ae),le.appendChild(me)}),Z.appendChild(le),E.appendChild(Z),M.push(Z)},O=0;O<h;O++)N(O);return M}},{key:"addSVGEvents",value:function(){var h=this.w,p=h.config.chart.type,v=this.getElTooltip(),M=!("bar"!==p&&"candlestick"!==p&&"boxPlot"!==p&&"rangeBar"!==p),E="area"===p||"line"===p||"scatter"===p||"bubble"===p||"radar"===p,N=h.globals.dom.Paper.node,O=this.getElGrid();O&&(this.seriesBound=O.getBoundingClientRect());var j,Z=[],re=[],le={hoverArea:N,elGrid:O,tooltipEl:v,tooltipY:Z,tooltipX:re,ttItems:this.ttItems};if(h.globals.axisCharts&&(E?j=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):M?j=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==p&&"treemap"!==p||(j=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),j&&j.length))for(var se=0;se<j.length;se++)Z.push(j[se].getAttribute("cy")),re.push(j[se].getAttribute("cx"));if(h.globals.xyCharts&&!this.showOnIntersect||h.globals.comboCharts&&!this.showOnIntersect||M&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([N],le);else if(M&&!h.globals.comboCharts||E&&this.showOnIntersect)this.addDatapointEventsListeners(le);else if(!h.globals.axisCharts||"heatmap"===p||"treemap"===p){var me=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(me,le)}if(this.showOnIntersect){var Ee=h.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Ee.length>0&&this.addPathsEventListeners(Ee,le),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(le)}}},{key:"drawFixedTooltipRect",value:function(){var h=this.w,p=this.getElTooltip(),v=p.getBoundingClientRect(),M=v.width+10,E=v.height+10,N=this.tConfig.fixed.offsetX,O=this.tConfig.fixed.offsetY,j=this.tConfig.fixed.position.toLowerCase();return j.indexOf("right")>-1&&(N=N+h.globals.svgWidth-M+10),j.indexOf("bottom")>-1&&(O=O+h.globals.svgHeight-E-10),p.style.left=N+"px",p.style.top=O+"px",{x:N,y:O,ttWidth:M,ttHeight:E}}},{key:"addDatapointEventsListeners",value:function(h){var p=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(p,h)}},{key:"addPathsEventListeners",value:function(h,p){for(var v=this,M=function(N){var O={paths:h[N],tooltipEl:p.tooltipEl,tooltipY:p.tooltipY,tooltipX:p.tooltipX,elGrid:p.elGrid,hoverArea:p.hoverArea,ttItems:p.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(j){return h[N].addEventListener(j,v.seriesHover.bind(v,O),{capture:!1,passive:!0})})},E=0;E<h.length;E++)M(E)}},{key:"seriesHover",value:function(h,p){var v=this,M=[],E=this.w;E.config.chart.group&&(M=this.ctx.getGroupedCharts()),E.globals.axisCharts&&(E.globals.minX===-1/0&&E.globals.maxX===1/0||0===E.globals.dataPoints)||(M.length?M.forEach(function(N){var O=v.getElTooltip(N);N.w.globals.minX===v.w.globals.minX&&N.w.globals.maxX===v.w.globals.maxX&&N.w.globals.tooltip.seriesHoverByContext({chartCtx:N,ttCtx:N.w.globals.tooltip,opt:{paths:h.paths,tooltipEl:O,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:N.w.globals.tooltip.ttItems},e:p})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:h,e:p}))}},{key:"seriesHoverByContext",value:function(h){var p=h.chartCtx,v=h.ttCtx,M=h.opt,E=h.e,N=p.w,O=this.getElTooltip();v.tooltipRect={x:0,y:0,ttWidth:O.getBoundingClientRect().width,ttHeight:O.getBoundingClientRect().height},v.e=E,!v.tooltipUtil.hasBars()||N.globals.comboCharts||v.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new ni(p).toggleSeriesOnHover(E,E.target.parentNode),v.fixedTooltip&&v.drawFixedTooltipRect(),N.globals.axisCharts?v.axisChartsTooltips({e:E,opt:M,tooltipRect:v.tooltipRect}):v.nonAxisChartsTooltips({e:E,opt:M,tooltipRect:v.tooltipRect})}},{key:"axisChartsTooltips",value:function(h){var p,v,M=h.e,E=h.opt,N=this.w,O=E.elGrid.getBoundingClientRect(),j="touchmove"===M.type?M.touches[0].clientX:M.clientX,Z="touchmove"===M.type?M.touches[0].clientY:M.clientY;if(this.clientY=Z,this.clientX=j,N.globals.capturedSeriesIndex=-1,N.globals.capturedDataPointIndex=-1,Z<O.top||Z>O.top+O.height)this.handleMouseOut(E);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!N.config.tooltip.shared){var re=parseInt(E.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(re)<0)return void this.handleMouseOut(E)}var le=this.getElTooltip(),se=this.getElXCrosshairs(),me=N.globals.xyCharts||"bar"===N.config.chart.type&&!N.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||N.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===M.type||"touchmove"===M.type||"mouseup"===M.type){null!==se&&se.classList.add("apexcharts-active");var Ee=this.yaxisTooltips.filter(function(je){return!0===je});if(null!==this.ycrosshairs&&Ee.length&&this.ycrosshairs.classList.add("apexcharts-active"),me&&!this.showOnIntersect)this.handleStickyTooltip(M,j,Z,E);else if("heatmap"===N.config.chart.type||"treemap"===N.config.chart.type){var Ae=this.intersect.handleHeatTreeTooltip({e:M,opt:E,x:p,y:v,type:N.config.chart.type});v=Ae.y,le.style.left=(p=Ae.x)+"px",le.style.top=v+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:M,opt:E}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:M,opt:E,x:p,y:v});if(this.yaxisTooltips.length)for(var Re=0;Re<N.config.yaxis.length;Re++)this.axesTooltip.drawYaxisTooltipText(Re,Z,this.xyRatios);E.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==M.type&&"touchend"!==M.type||this.handleMouseOut(E)}}},{key:"nonAxisChartsTooltips",value:function(h){var p=h.e,v=h.opt,M=h.tooltipRect,E=this.w,N=v.paths.getAttribute("rel"),O=this.getElTooltip(),j=E.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===p.type||"touchmove"===p.type){O.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:parseInt(N,10)-1,shared:!1});var re=E.globals.clientY-j.top-M.ttHeight-10;if(O.style.left=E.globals.clientX-j.left-M.ttWidth/2+"px",O.style.top=re+"px",E.config.legend.tooltipHoverFormatter){var le=N-1,se=(0,E.config.legend.tooltipHoverFormatter)(this.legendLabels[le].getAttribute("data:default-text"),{seriesIndex:le,dataPointIndex:le,w:E});this.legendLabels[le].innerHTML=se}}else"mouseout"!==p.type&&"touchend"!==p.type||(O.classList.remove("apexcharts-active"),E.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(me){var Ee=me.getAttribute("data:default-text");me.innerHTML=decodeURIComponent(Ee)}))}},{key:"handleStickyTooltip",value:function(h,p,v,M){var E=this.w,N=this.tooltipUtil.getNearestValues({context:this,hoverArea:M.hoverArea,elGrid:M.elGrid,clientX:p,clientY:v}),O=N.j,j=N.capturedSeries;N.hoverX<0||N.hoverX>E.globals.gridWidth?this.handleMouseOut(M):null!==j?this.handleStickyCapturedSeries(h,j,M,O):(this.tooltipUtil.isXoverlap(O)||E.globals.isBarHorizontal)&&this.create(h,this,0,O,M.ttItems)}},{key:"handleStickyCapturedSeries",value:function(h,p,v,M){var E=this.w;null===E.globals.series[p][M]?this.handleMouseOut(v):void 0!==E.globals.series[p][M]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(M)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(h,this,p,M,v.ttItems):this.create(h,this,p,M,v.ttItems,!1):this.tooltipUtil.isXoverlap(M)&&this.create(h,this,0,M,v.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var h=this.w,p=new jt(this.ctx),v=h.globals.dom.Paper.select(".apexcharts-bar-area"),M=0;M<v.length;M++)p.pathMouseLeave(v[M])}},{key:"handleMouseOut",value:function(h){var p=this.w,v=this.getElXCrosshairs();if(h.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==p.config.chart.type&&this.marker.resetPointsSize(),null!==v&&v.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var M=0;M<this.yaxisTTEls.length;M++)this.yaxisTTEls[M].classList.remove("apexcharts-active")}p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(E){var N=E.getAttribute("data:default-text");E.innerHTML=decodeURIComponent(N)})}},{key:"markerClick",value:function(h,p,v){var M=this.w;"function"==typeof M.config.chart.events.markerClick&&M.config.chart.events.markerClick(h,this.ctx,{seriesIndex:p,dataPointIndex:v,w:M}),this.ctx.events.fireEvent("markerClick",[h,this.ctx,{seriesIndex:p,dataPointIndex:v,w:M}])}},{key:"create",value:function(h,p,v,M,E){var N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,O=this.w,j=p;"mouseup"===h.type&&this.markerClick(h,v,M),null===N&&(N=this.tConfig.shared);var Z=this.tooltipUtil.hasMarkers(),re=this.tooltipUtil.getElBars();if(O.config.legend.tooltipHoverFormatter){var le=O.config.legend.tooltipHoverFormatter,se=Array.from(this.legendLabels);se.forEach(function(ue){var Oe=ue.getAttribute("data:default-text");ue.innerHTML=decodeURIComponent(Oe)});for(var me=0;me<se.length;me++){var Ee=se[me],Ae=parseInt(Ee.getAttribute("i"),10),Re=decodeURIComponent(Ee.getAttribute("data:default-text")),je=le(Re,{seriesIndex:N?Ae:v,dataPointIndex:M,w:O});if(N)Ee.innerHTML=O.globals.collapsedSeriesIndices.indexOf(Ae)<0?je:Re;else if(Ee.innerHTML=Ae===v?je:Re,v===Ae)break}}if(N){if(j.tooltipLabels.drawSeriesTexts({ttItems:E,i:v,j:M,shared:!this.showOnIntersect&&this.tConfig.shared}),Z&&(O.globals.markers.largestSize>0?j.marker.enlargePoints(M):j.tooltipPosition.moveDynamicPointsOnHover(M)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(re),this.barSeriesHeight>0)){var it=new jt(this.ctx),_t=O.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(M,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(M);for(var $=0;$<_t.length;$++)it.pathMouseEnter(_t[$])}}else j.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:E,i:v,j:M}),this.tooltipUtil.hasBars()&&j.tooltipPosition.moveStickyTooltipOverBars(M),Z&&j.tooltipPosition.moveMarkers(v,M)}}]),Le}(),Wt=function(Le){Fe(p,Fi);var h=At(p);function p(){return J(this,p),h.apply(this,arguments)}return ce(p,[{key:"draw",value:function(v,M){var E=this,N=this.w;this.graphics=new jt(this.ctx),this.bar=new Fi(this.ctx,this.xyRatios);var O=new oi(this.ctx,N);v=O.getLogSeries(v),this.yRatio=O.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v),"100%"===N.config.chart.stackType&&(v=N.globals.seriesPercent.slice()),this.series=v,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var j=0;j<v.length;j++)v[j].length>0&&(this.totalItems+=v[j].length);for(var Z=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),re=0,le=0,se=function(Ae,Re){var je=void 0,it=void 0,_t=void 0,$=void 0,ue=[],Oe=[],$e=N.globals.comboCharts?M[Ae]:Ae;E.yRatio.length>1&&(E.yaxisIndex=$e),E.isReversed=N.config.yaxis[E.yaxisIndex]&&N.config.yaxis[E.yaxisIndex].reversed;var ft=E.graphics.group({class:"apexcharts-series",seriesName:at.escapeString(N.globals.seriesNames[$e]),rel:Ae+1,"data:realIndex":$e});E.ctx.series.addCollapsedClassToSeries(ft,$e);var sn=E.graphics.group({class:"apexcharts-datalabels","data:realIndex":$e}),Gt=0,dn=0,Nn=E.initialPositions(re,le,je,it,_t,$);le=Nn.y,Gt=Nn.barHeight,it=Nn.yDivision,$=Nn.zeroW,re=Nn.x,dn=Nn.barWidth,je=Nn.xDivision,_t=Nn.zeroH,E.yArrj=[],E.yArrjF=[],E.yArrjVal=[],E.xArrj=[],E.xArrjF=[],E.xArrjVal=[],1===E.prevY.length&&E.prevY[0].every(function(Tr){return isNaN(Tr)})&&(E.prevY[0]=E.prevY[0].map(function(Tr){return _t}),E.prevYF[0]=E.prevYF[0].map(function(Tr){return 0}));for(var Pn=0;Pn<N.globals.dataPoints;Pn++){var wi=E.barHelpers.getStrokeWidth(Ae,Pn,$e),lr={indexes:{i:Ae,j:Pn,realIndex:$e,bc:Re},strokeWidth:wi,x:re,y:le,elSeries:ft},fi=null;E.isHorizontal?(fi=E.drawStackedBarPaths(xe(xe({},lr),{},{zeroW:$,barHeight:Gt,yDivision:it})),dn=E.series[Ae][Pn]/E.invertedYRatio):(fi=E.drawStackedColumnPaths(xe(xe({},lr),{},{xDivision:je,barWidth:dn,zeroH:_t})),Gt=E.series[Ae][Pn]/E.yRatio[E.yaxisIndex]),le=fi.y,ue.push(re=fi.x),Oe.push(le);var Oi=E.barHelpers.getPathFillColor(v,Ae,Pn,$e);ft=E.renderSeries({realIndex:$e,pathFill:Oi,j:Pn,i:Ae,pathFrom:fi.pathFrom,pathTo:fi.pathTo,strokeWidth:wi,elSeries:ft,x:re,y:le,series:v,barHeight:Gt,barWidth:dn,elDataLabelsWrap:sn,type:"bar",visibleSeries:0})}N.globals.seriesXvalues[$e]=ue,N.globals.seriesYvalues[$e]=Oe,E.prevY.push(E.yArrj),E.prevYF.push(E.yArrjF),E.prevYVal.push(E.yArrjVal),E.prevX.push(E.xArrj),E.prevXF.push(E.xArrjF),E.prevXVal.push(E.xArrjVal),Z.add(ft)},me=0,Ee=0;me<v.length;me++,Ee++)se(me,Ee);return Z}},{key:"initialPositions",value:function(v,M,E,N,O,j){var Z,re,le=this.w;return this.isHorizontal?(Z=(Z=N=le.globals.gridHeight/le.globals.dataPoints)*parseInt(le.config.plotOptions.bar.barHeight,10)/100,j=this.baseLineInvertedY+le.globals.padHorizontal+(this.isReversed?le.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),M=(N-Z)/2):(re=E=le.globals.gridWidth/le.globals.dataPoints,re=le.globals.isXNumeric&&le.globals.dataPoints>1?(E=le.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:re*parseInt(le.config.plotOptions.bar.columnWidth,10)/100,O=this.baseLineY[this.yaxisIndex]+(this.isReversed?le.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),v=le.globals.padHorizontal+(E-re)/2),{x:v,y:M,yDivision:N,xDivision:E,barHeight:Z,barWidth:re,zeroH:O,zeroW:j}}},{key:"drawStackedBarPaths",value:function(v){for(var M,Z,E=v.indexes,N=v.barHeight,O=v.strokeWidth,j=v.zeroW,re=v.y,le=v.yDivision,se=v.elSeries,me=this.w,Ee=re,Ae=E.i,Re=E.j,je=0,it=0;it<this.prevXF.length;it++)je+=this.prevXF[it][Re];if(Ae>0){var _t=j;this.prevXVal[Ae-1][Re]<0?_t=this.series[Ae][Re]>=0?this.prevX[Ae-1][Re]+je-2*(this.isReversed?je:0):this.prevX[Ae-1][Re]:this.prevXVal[Ae-1][Re]>=0&&(_t=this.series[Ae][Re]>=0?this.prevX[Ae-1][Re]:this.prevX[Ae-1][Re]-je+2*(this.isReversed?je:0)),M=_t}else M=j;var $=this.barHelpers.getBarpaths({barYPosition:Ee,barHeight:N,x1:M,x2:Z=null===this.series[Ae][Re]?M:M+this.series[Ae][Re]/this.invertedYRatio-2*(this.isReversed?this.series[Ae][Re]/this.invertedYRatio:0),strokeWidth:O,series:this.series,realIndex:E.realIndex,i:Ae,j:Re,w:me});return this.barHelpers.barBackground({j:Re,i:Ae,y1:Ee,y2:N,elSeries:se}),{pathTo:$.pathTo,pathFrom:$.pathFrom,x:Z,y:re+=le}}},{key:"drawStackedColumnPaths",value:function(v){var N,M=v.indexes,E=v.x,O=v.xDivision,j=v.barWidth,Z=v.zeroH,re=v.elSeries,le=this.w,se=M.i,me=M.j,Ee=M.bc;if(le.globals.isXNumeric){var Ae=le.globals.seriesX[se][me];Ae||(Ae=0),E=(Ae-le.globals.minX)/this.xRatio-j/2}for(var Re,je=E,it=0,_t=0;_t<this.prevYF.length;_t++)it+=isNaN(this.prevYF[_t][me])?0:this.prevYF[_t][me];if(se>0&&!le.globals.isXNumeric||se>0&&le.globals.isXNumeric&&le.globals.seriesX[se-1][me]===le.globals.seriesX[se][me]){var $,ue,Oe=Math.min(this.yRatio.length+1,se+1);if(void 0!==this.prevY[se-1])for(var $e=1;$e<Oe;$e++)if(!isNaN(this.prevY[se-$e][me])){ue=this.prevY[se-$e][me];break}for(var ft=1;ft<Oe;ft++){if(this.prevYVal[se-ft][me]<0){$=this.series[se][me]>=0?ue-it+2*(this.isReversed?it:0):ue;break}if(this.prevYVal[se-ft][me]>=0){$=this.series[se][me]>=0?ue:ue+it-2*(this.isReversed?it:0);break}}void 0===$&&($=le.globals.gridHeight),Re=this.prevYF[0].every(function(Gt){return 0===Gt})&&this.prevYF.slice(1,se).every(function(Gt){return Gt.every(function(dn){return isNaN(dn)})})?le.globals.gridHeight-Z:$}else Re=le.globals.gridHeight-Z;var sn=this.barHelpers.getColumnPaths({barXPosition:je,barWidth:j,y1:Re,y2:N=Re-this.series[se][me]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[se][me]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:M.realIndex,i:se,j:me,w:le});return this.barHelpers.barBackground({bc:Ee,j:me,i:se,x1:je,x2:j,elSeries:re}),E+=O,{pathTo:sn.pathTo,pathFrom:sn.pathFrom,x:le.globals.isXNumeric?E-O:E,y:N}}}]),p}(),hn=function(Le){Fe(p,Fi);var h=At(p);function p(){return J(this,p),h.apply(this,arguments)}return ce(p,[{key:"draw",value:function(v,M){var E=this,N=this.w,O=new jt(this.ctx),j=new ln(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var Z=new oi(this.ctx,N);v=Z.getLogSeries(v),this.series=v,this.yRatio=Z.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v);for(var re=O.group({class:"apexcharts-".concat(N.config.chart.type,"-series apexcharts-plot-series")}),le=function(me){E.isBoxPlot="boxPlot"===N.config.chart.type||"boxPlot"===N.config.series[me].type;var Ee,Ae,Oe,$e,Re=void 0,je=void 0,it=[],_t=[],$=N.globals.comboCharts?M[me]:me,ue=O.group({class:"apexcharts-series",seriesName:at.escapeString(N.globals.seriesNames[$]),rel:me+1,"data:realIndex":$});v[me].length>0&&(E.visibleI=E.visibleI+1),E.yRatio.length>1&&(E.yaxisIndex=$);var ft=E.barHelpers.initialPositions();je=ft.y,Oe=ft.barHeight,Ee=ft.xDivision,Ae=ft.zeroH,_t.push((Re=ft.x)+($e=ft.barWidth)/2);for(var sn=O.group({class:"apexcharts-datalabels","data:realIndex":$}),Gt=function(Nn){var Pn=E.barHelpers.getStrokeWidth(me,Nn,$),wi=E.drawBoxPaths({indexes:{i:me,j:Nn,realIndex:$},x:Re,y:je,xDivision:Ee,barWidth:$e,zeroH:Ae,strokeWidth:Pn,elSeries:ue});je=wi.y,Re=wi.x,Nn>0&&_t.push(Re+$e/2),it.push(je),wi.pathTo.forEach(function(lr,fi){var Oi=!E.isBoxPlot&&E.candlestickOptions.wick.useFillColor?wi.color[fi]:N.globals.stroke.colors[me],Tr=j.fillPath({seriesNumber:$,dataPointIndex:Nn,color:wi.color[fi],value:v[me][Nn]});E.renderSeries({realIndex:$,pathFill:Tr,lineFill:Oi,j:Nn,i:me,pathFrom:wi.pathFrom,pathTo:lr,strokeWidth:Pn,elSeries:ue,x:Re,y:je,series:v,barHeight:Oe,barWidth:$e,elDataLabelsWrap:sn,visibleSeries:E.visibleI,type:N.config.chart.type})})},dn=0;dn<N.globals.dataPoints;dn++)Gt(dn);N.globals.seriesXvalues[$]=_t,N.globals.seriesYvalues[$]=it,re.add(ue)},se=0;se<v.length;se++)le(se);return re}},{key:"drawBoxPaths",value:function(v){var M=v.indexes,E=v.x,N=v.xDivision,O=v.barWidth,j=v.zeroH,Z=v.strokeWidth,re=this.w,le=new jt(this.ctx),se=M.i,me=M.j,Ee=!0,Ae=re.config.plotOptions.candlestick.colors.upward,Re=re.config.plotOptions.candlestick.colors.downward,je="";this.isBoxPlot&&(je=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var it=this.yRatio[this.yaxisIndex],_t=M.realIndex,$=this.getOHLCValue(_t,me),ue=j,Oe=j;$.o>$.c&&(Ee=!1);var $e=Math.min($.o,$.c),ft=Math.max($.o,$.c),sn=$.m;re.globals.isXNumeric&&(E=(re.globals.seriesX[_t][me]-re.globals.minX)/this.xRatio-O/2);var Gt=E+O*this.visibleI;null==this.series[se][me]?($e=j,ft=j):($e=j-$e/it,ft=j-ft/it,ue=j-$.h/it,Oe=j-$.l/it,sn=j-$.m/it);var dn=le.move(Gt,j),Nn=le.move(Gt+O/2,$e);return re.globals.previousPaths.length>0&&(Nn=this.getPreviousPath(_t,me,!0)),dn=this.isBoxPlot?[le.move(Gt,$e)+le.line(Gt+O/2,$e)+le.line(Gt+O/2,ue)+le.line(Gt+O/4,ue)+le.line(Gt+O-O/4,ue)+le.line(Gt+O/2,ue)+le.line(Gt+O/2,$e)+le.line(Gt+O,$e)+le.line(Gt+O,sn)+le.line(Gt,sn)+le.line(Gt,$e+Z/2),le.move(Gt,sn)+le.line(Gt+O,sn)+le.line(Gt+O,ft)+le.line(Gt+O/2,ft)+le.line(Gt+O/2,Oe)+le.line(Gt+O-O/4,Oe)+le.line(Gt+O/4,Oe)+le.line(Gt+O/2,Oe)+le.line(Gt+O/2,ft)+le.line(Gt,ft)+le.line(Gt,sn)+"z"]:[le.move(Gt,ft)+le.line(Gt+O/2,ft)+le.line(Gt+O/2,ue)+le.line(Gt+O/2,ft)+le.line(Gt+O,ft)+le.line(Gt+O,$e)+le.line(Gt+O/2,$e)+le.line(Gt+O/2,Oe)+le.line(Gt+O/2,$e)+le.line(Gt,$e)+le.line(Gt,ft-Z/2)],Nn+=le.move(Gt,$e),re.globals.isXNumeric||(E+=N),{pathTo:dn,pathFrom:Nn,x:E,y:ft,barXPosition:Gt,color:this.isBoxPlot?je:Ee?[Ae]:[Re]}}},{key:"getOHLCValue",value:function(v,M){var E=this.w;return{o:this.isBoxPlot?E.globals.seriesCandleH[v][M]:E.globals.seriesCandleO[v][M],h:this.isBoxPlot?E.globals.seriesCandleO[v][M]:E.globals.seriesCandleH[v][M],m:E.globals.seriesCandleM[v][M],l:this.isBoxPlot?E.globals.seriesCandleC[v][M]:E.globals.seriesCandleL[v][M],c:this.isBoxPlot?E.globals.seriesCandleL[v][M]:E.globals.seriesCandleC[v][M]}}}]),p}(),nn=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"checkColorRange",value:function(){var h=this.w,p=!1,v=h.config.plotOptions[h.config.chart.type];return v.colorScale.ranges.length>0&&v.colorScale.ranges.map(function(M,E){M.from<=0&&(p=!0)}),p}},{key:"getShadeColor",value:function(h,p,v,M){var E=this.w,N=1,O=E.config.plotOptions[h].shadeIntensity,j=this.determineColor(h,p,v);E.globals.hasNegs||M?N=E.config.plotOptions[h].reverseNegativeShade?j.percent<0?j.percent/100*(1.25*O):1.25*O*(1-j.percent/100):j.percent<=0?1-(1+j.percent/100)*O:(1-j.percent/100)*O:(N=1-j.percent/100,"treemap"===h&&(N=1.25*O*(1-j.percent/100)));var Z=j.color,re=new at;return E.config.plotOptions[h].enableShades&&(Z=at.hexToRgba(re.shadeColor("dark"===this.w.config.theme.mode?-1*N:N,j.color),E.config.fill.opacity)),{color:Z,colorProps:j}}},{key:"determineColor",value:function(h,p,v){var M=this.w,E=M.globals.series[p][v],N=M.config.plotOptions[h],O=N.colorScale.inverse?v:p;M.config.plotOptions[h].distributed&&(O=v);var j=M.globals.colors[O],Z=null,re=Math.min.apply(Math,en(M.globals.series[p])),le=Math.max.apply(Math,en(M.globals.series[p]));N.distributed||"heatmap"!==h||(re=M.globals.minY,le=M.globals.maxY),void 0!==N.colorScale.min&&(re=N.colorScale.min<M.globals.minY?N.colorScale.min:M.globals.minY,le=N.colorScale.max>M.globals.maxY?N.colorScale.max:M.globals.maxY);var se=Math.abs(le)+Math.abs(re),me=100*E/(0===se?se-1e-6:se);return N.colorScale.ranges.length>0&&N.colorScale.ranges.map(function(Ee,Ae){if(E>=Ee.from&&E<=Ee.to){j=Ee.color,Z=Ee.foreColor?Ee.foreColor:null,re=Ee.from,le=Ee.to;var Re=Math.abs(le)+Math.abs(re);me=100*E/(0===Re?Re-1e-6:Re)}}),{color:j,foreColor:Z,percent:me}}},{key:"calculateDataLabels",value:function(h){var p=h.text,v=h.x,M=h.y,E=h.i,N=h.j,O=h.colorProps,j=h.fontSize,Z=this.w.config.dataLabels,re=new jt(this.ctx),le=new Rn(this.ctx),se=null;if(Z.enabled){se=re.group({class:"apexcharts-data-labels"});var Ee=Z.offsetY,Ae=v+Z.offsetX,Re=M+parseFloat(Z.style.fontSize)/3+Ee;le.plotDataLabelsText({x:Ae,y:Re,text:p,i:E,j:N,color:O.foreColor,parent:se,fontSize:j,dataLabelsConfig:Z})}return se}},{key:"addListeners",value:function(h){var p=new jt(this.ctx);h.node.addEventListener("mouseenter",p.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",p.pathMouseLeave.bind(this,h)),h.node.addEventListener("mousedown",p.pathMouseDown.bind(this,h))}}]),Le}(),pi=function(){function Le(h,p){J(this,Le),this.ctx=h,this.w=h.w,this.xRatio=p.xRatio,this.yRatio=p.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new nn(h),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ce(Le,[{key:"draw",value:function(h){var p=this.w,v=new jt(this.ctx),M=v.group({class:"apexcharts-heatmap"});M.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")"));var E=p.globals.gridWidth/p.globals.dataPoints,N=p.globals.gridHeight/p.globals.series.length,O=0,j=!1;this.negRange=this.helpers.checkColorRange();var Z=h.slice();p.config.yaxis[0].reversed&&(j=!0,Z.reverse());for(var re=j?0:Z.length-1;j?re<Z.length:re>=0;j?re++:re--){var le=v.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:at.escapeString(p.globals.seriesNames[re]),rel:re+1,"data:realIndex":re});if(this.ctx.series.addCollapsedClassToSeries(le,re),p.config.chart.dropShadow.enabled){var se=p.config.chart.dropShadow;new In(this.ctx).dropShadow(le,se,re)}for(var me=0,Ee=p.config.plotOptions.heatmap.shadeIntensity,Ae=0;Ae<Z[re].length;Ae++){var Re=this.helpers.getShadeColor(p.config.chart.type,re,Ae,this.negRange),je=Re.color,it=Re.colorProps;"image"===p.config.fill.type&&(je=new ln(this.ctx).fillPath({seriesNumber:re,dataPointIndex:Ae,opacity:p.globals.hasNegs?it.percent<0?1-(1+it.percent/100):Ee+it.percent/100:it.percent/100,patternID:at.randomId(),width:p.config.fill.image.width?p.config.fill.image.width:E,height:p.config.fill.image.height?p.config.fill.image.height:N}));var $=v.drawRect(me,O,E,N,this.rectRadius);if($.attr({cx:me,cy:O}),$.node.classList.add("apexcharts-heatmap-rect"),le.add($),$.attr({fill:je,i:re,index:re,j:Ae,val:Z[re][Ae],"stroke-width":this.strokeWidth,stroke:p.config.plotOptions.heatmap.useFillColorAsStroke?je:p.globals.stroke.colors[0],color:je}),this.helpers.addListeners($),p.config.chart.animations.enabled&&!p.globals.dataChanged){var ue=1;p.globals.resized||(ue=p.config.chart.animations.speed),this.animateHeatMap($,me,O,E,N,ue)}if(p.globals.dataChanged){var Oe=1;if(this.dynamicAnim.enabled&&p.globals.shouldAnimate){Oe=this.dynamicAnim.speed;var $e=p.globals.previousPaths[re]&&p.globals.previousPaths[re][Ae]&&p.globals.previousPaths[re][Ae].color;$e||($e="rgba(255, 255, 255, 0)"),this.animateHeatColor($,at.isColorHex($e)?$e:at.rgb2hex($e),at.isColorHex(je)?je:at.rgb2hex(je),Oe)}}var ft=(0,p.config.dataLabels.formatter)(p.globals.series[re][Ae],{value:p.globals.series[re][Ae],seriesIndex:re,dataPointIndex:Ae,w:p}),sn=this.helpers.calculateDataLabels({text:ft,x:me+E/2,y:O+N/2,i:re,j:Ae,colorProps:it,series:Z});null!==sn&&le.add(sn),me+=E}O+=N,M.add(le)}var Gt=p.globals.yAxisScale[0].result.slice();return p.config.yaxis[0].reversed?Gt.unshift(""):Gt.push(""),p.globals.yAxisScale[0].result=Gt,p.config.yaxis[0].labels.offsetY=-p.globals.gridHeight/p.globals.series.length/2,M}},{key:"animateHeatMap",value:function(h,p,v,M,E,N){var O=new ei(this.ctx);O.animateRect(h,{x:p+M/2,y:v+E/2,width:0,height:0},{x:p,y:v,width:M,height:E},N,function(){O.animationCompleted(h)})}},{key:"animateHeatColor",value:function(h,p,v,M){h.attr({fill:p}).animate(M).attr({fill:v})}}]),Le}(),Ni=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"drawYAxisTexts",value:function(h,p,v,M){var E=this.w,N=E.config.yaxis[0],O=E.globals.yLabelFormatters[0];return new jt(this.ctx).drawText({x:h+N.labels.offsetX,y:p+N.labels.offsetY,text:O(M,v),textAnchor:"middle",fontSize:N.labels.style.fontSize,fontFamily:N.labels.style.fontFamily,foreColor:Array.isArray(N.labels.style.colors)?N.labels.style.colors[v]:N.labels.style.colors})}}]),Le}(),ar=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w;var p=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==p.globals.stroke.colors?p.globals.stroke.colors:p.globals.colors,this.defaultSize=Math.min(p.globals.gridWidth,p.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=p.globals.gridWidth/2,this.fullAngle="radialBar"===p.config.chart.type?360:Math.abs(p.config.plotOptions.pie.endAngle-p.config.plotOptions.pie.startAngle),this.initialAngle=p.config.plotOptions.pie.startAngle%this.fullAngle,p.globals.radialSize=this.defaultSize/2.05-p.config.stroke.width-(p.config.chart.sparkline.enabled?0:p.config.chart.dropShadow.blur),this.donutSize=p.globals.radialSize*parseInt(p.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ce(Le,[{key:"draw",value:function(h){var p=this,v=this.w,M=new jt(this.ctx);if(this.ret=M.group({class:"apexcharts-pie"}),v.globals.noData)return this.ret;for(var E=0,N=0;N<h.length;N++)E+=at.negToZero(h[N]);var O=[],j=M.group();0===E&&(E=1e-5),h.forEach(function($e){p.maxY=Math.max(p.maxY,$e)}),v.config.yaxis[0].max&&(this.maxY=v.config.yaxis[0].max),"back"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var Z=0;Z<h.length;Z++){var re=this.fullAngle*at.negToZero(h[Z])/E;O.push(re),"polarArea"===this.chartType?(O[Z]=this.fullAngle/h.length,this.sliceSizes.push(v.globals.radialSize*h[Z]/this.maxY)):this.sliceSizes.push(v.globals.radialSize)}if(v.globals.dataChanged){for(var le,se=0,me=0;me<v.globals.previousPaths.length;me++)se+=at.negToZero(v.globals.previousPaths[me]);for(var Ee=0;Ee<v.globals.previousPaths.length;Ee++)le=this.fullAngle*at.negToZero(v.globals.previousPaths[Ee])/se,this.prevSectorAngleArr.push(le)}this.donutSize<0&&(this.donutSize=0);var Ae=v.config.plotOptions.pie.customScale,it=v.globals.gridWidth/2-v.globals.gridWidth/2*Ae,_t=v.globals.gridHeight/2-v.globals.gridHeight/2*Ae;if("donut"===this.chartType){var $=M.drawCircle(this.donutSize);$.attr({cx:this.centerX,cy:this.centerY,fill:v.config.plotOptions.pie.donut.background?v.config.plotOptions.pie.donut.background:"transparent"}),j.add($)}var ue=this.drawArcs(O,h);if(this.sliceLabels.forEach(function($e){ue.add($e)}),j.attr({transform:"translate(".concat(it,", ").concat(_t,") scale(").concat(Ae,")")}),j.add(ue),this.ret.add(j),this.donutDataLabels.show){var Oe=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:it,translateY:_t});this.ret.add(Oe)}return"front"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(h,p){var v=this.w,M=new In(this.ctx),E=new jt(this.ctx),N=new ln(this.ctx),O=E.group({class:"apexcharts-slices"}),j=this.initialAngle,Z=this.initialAngle,re=this.initialAngle,le=this.initialAngle;this.strokeWidth=v.config.stroke.show?v.config.stroke.width:0;for(var se=0;se<h.length;se++){var me=E.group({class:"apexcharts-series apexcharts-pie-series",seriesName:at.escapeString(v.globals.seriesNames[se]),rel:se+1,"data:realIndex":se});O.add(me),re=(j=re)+h[se],le=(Z=le)+this.prevSectorAngleArr[se];var Ee=re<j?this.fullAngle+re-j:re-j,Ae=N.fillPath({seriesNumber:se,size:this.sliceSizes[se],value:p[se]}),Re=this.getChangedPath(Z,le),je=E.drawPath({d:Re,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[se]:this.lineColorArr,strokeWidth:0,fill:Ae,fillOpacity:v.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(se)});je.attr({index:0,j:se}),M.setSelectionFilter(je,0,se),v.config.chart.dropShadow.enabled&&M.dropShadow(je,v.config.chart.dropShadow,se),this.addListeners(je,this.donutDataLabels),jt.setAttrs(je.node,{"data:angle":Ee,"data:startAngle":j,"data:strokeWidth":this.strokeWidth,"data:value":p[se]});var _t={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?_t=at.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize/1.25+v.config.plotOptions.pie.dataLabels.offset,(j+Ee/2)%this.fullAngle):"donut"===this.chartType&&(_t=at.polarToCartesian(this.centerX,this.centerY,(v.globals.radialSize+this.donutSize)/2+v.config.plotOptions.pie.dataLabels.offset,(j+Ee/2)%this.fullAngle)),me.add(je);var $=0;if(!this.initialAnim||v.globals.resized||v.globals.dataChanged?this.animBeginArr.push(0):(0==($=Ee/this.fullAngle*v.config.chart.animations.speed)&&($=1),this.animDur=$+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(je,this.dynamicAnim&&v.globals.dataChanged?{size:this.sliceSizes[se],endAngle:re,startAngle:j,prevStartAngle:Z,prevEndAngle:le,animateStartingPos:!0,i:se,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:v.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[se],endAngle:re,startAngle:j,i:se,totalItems:h.length-1,animBeginArr:this.animBeginArr,dur:$}),v.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&je.click(this.pieClicked.bind(this,se)),void 0!==v.globals.selectedDataPoints[0]&&v.globals.selectedDataPoints[0].indexOf(se)>-1&&this.pieClicked(se),v.config.dataLabels.enabled){var ue=_t.x,Oe=_t.y,$e=100*Ee/this.fullAngle+"%";if(0!==Ee&&v.config.plotOptions.pie.dataLabels.minAngleToShowLabel<h[se]){var ft=v.config.dataLabels.formatter;void 0!==ft&&($e=ft(v.globals.seriesPercent[se][0],{seriesIndex:se,w:v}));var sn=v.globals.dataLabels.style.colors[se],Gt=E.group({class:"apexcharts-datalabels"}),dn=E.drawText({x:ue,y:Oe,text:$e,textAnchor:"middle",fontSize:v.config.dataLabels.style.fontSize,fontFamily:v.config.dataLabels.style.fontFamily,fontWeight:v.config.dataLabels.style.fontWeight,foreColor:sn});Gt.add(dn),v.config.dataLabels.dropShadow.enabled&&M.dropShadow(dn,v.config.dataLabels.dropShadow),dn.node.classList.add("apexcharts-pie-label"),v.config.chart.animations.animate&&!1===v.globals.resized&&(dn.node.classList.add("apexcharts-pie-label-delay"),dn.node.style.animationDelay=v.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Gt)}}}return O}},{key:"addListeners",value:function(h,p){var v=new jt(this.ctx);h.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this,h)),h.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,h.node,p)),h.node.addEventListener("mousedown",v.pathMouseDown.bind(this,h)),this.donutDataLabels.total.showAlways||(h.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,h.node,p)),h.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,h.node,p)))}},{key:"animatePaths",value:function(h,p){var M=p.endAngle<p.startAngle?this.fullAngle+p.endAngle-p.startAngle:p.endAngle-p.startAngle,E=M,N=p.startAngle,O=p.startAngle;void 0!==p.prevStartAngle&&void 0!==p.prevEndAngle&&(N=p.prevEndAngle,E=p.prevEndAngle<p.prevStartAngle?this.fullAngle+p.prevEndAngle-p.prevStartAngle:p.prevEndAngle-p.prevStartAngle),p.i===this.w.config.series.length-1&&(M+O>this.fullAngle?p.endAngle=p.endAngle-(M+O):M+O<this.fullAngle&&(p.endAngle=p.endAngle+(this.fullAngle-(M+O)))),M===this.fullAngle&&(M=this.fullAngle-.01),this.animateArc(h,N,O,M,E,p)}},{key:"animateArc",value:function(h,p,v,M,E,N){var O,j=this,Z=this.w,re=new ei(this.ctx),le=N.size;(isNaN(p)||isNaN(E))&&(p=v,E=M,N.dur=0);var se=M,me=v,Ee=p<v?this.fullAngle+p-v:p-v;Z.globals.dataChanged&&N.shouldSetPrevPaths&&N.prevEndAngle&&(O=j.getPiePath({me:j,startAngle:N.prevStartAngle,angle:N.prevEndAngle<N.prevStartAngle?this.fullAngle+N.prevEndAngle-N.prevStartAngle:N.prevEndAngle-N.prevStartAngle,size:le}),h.attr({d:O})),0!==N.dur?h.animate(N.dur,Z.globals.easing,N.animBeginArr[N.i]).afterAll(function(){"pie"!==j.chartType&&"donut"!==j.chartType&&"polarArea"!==j.chartType||this.animate(Z.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":j.strokeWidth}),N.i===Z.config.series.length-1&&re.animationCompleted(h)}).during(function(Ae){se=Ee+(M-Ee)*Ae,N.animateStartingPos&&(se=E+(M-E)*Ae,me=p-E+(v-(p-E))*Ae),O=j.getPiePath({me:j,startAngle:me,angle:se,size:le}),h.node.setAttribute("data:pathOrig",O),h.attr({d:O})}):(O=j.getPiePath({me:j,startAngle:me,angle:M,size:le}),N.isTrack||(Z.globals.animationEnded=!0),h.node.setAttribute("data:pathOrig",O),h.attr({d:O,"stroke-width":j.strokeWidth}))}},{key:"pieClicked",value:function(h){var p,v=this.w,M=this,E=M.sliceSizes[h]+(v.config.plotOptions.pie.expandOnClick?4:0),N=v.globals.dom.Paper.select(".apexcharts-".concat(M.chartType.toLowerCase(),"-slice-").concat(h)).members[0];if("true"!==N.attr("data:pieClicked")){var O=v.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(O,function(le){le.setAttribute("data:pieClicked","false");var se=le.getAttribute("data:pathOrig");le.setAttribute("d",se)}),N.attr("data:pieClicked","true");var j=parseInt(N.attr("data:startAngle"),10),Z=parseInt(N.attr("data:angle"),10);p=M.getPiePath({me:M,startAngle:j,angle:Z,size:E}),360!==Z&&N.plot(p)}else{N.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(N.node,this.donutDataLabels);var re=N.attr("data:pathOrig");N.attr({d:re})}}},{key:"getChangedPath",value:function(h,p){var v="";return this.dynamicAnim&&this.w.globals.dataChanged&&(v=this.getPiePath({me:this,startAngle:h,angle:p-h,size:this.size})),v}},{key:"getPiePath",value:function(h){var p=h.me,v=h.startAngle,M=h.angle,E=h.size,N=v,O=Math.PI*(N-90)/180,j=M+v;Math.ceil(j)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(j=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(j)>this.fullAngle&&(j-=this.fullAngle);var Z=Math.PI*(j-90)/180,re=p.centerX+E*Math.cos(O),le=p.centerY+E*Math.sin(O),se=p.centerX+E*Math.cos(Z),me=p.centerY+E*Math.sin(Z),Ee=at.polarToCartesian(p.centerX,p.centerY,p.donutSize,j),Ae=at.polarToCartesian(p.centerX,p.centerY,p.donutSize,N),Re=M>180?1:0,je=["M",re,le,"A",E,E,0,Re,1,se,me];return"donut"===p.chartType?[].concat(je,["L",Ee.x,Ee.y,"A",p.donutSize,p.donutSize,0,Re,0,Ae.x,Ae.y,"L",re,le,"z"]).join(" "):"pie"===p.chartType||"polarArea"===p.chartType?[].concat(je,["L",p.centerX,p.centerY,"L",re,le]).join(" "):[].concat(je).join(" ")}},{key:"drawPolarElements",value:function(h){var p=this.w,v=new nr(this.ctx),M=new jt(this.ctx),E=new Ni(this.ctx),N=M.group(),O=M.group(),j=v.niceScale(0,Math.ceil(this.maxY),p.config.yaxis[0].tickAmount,0,!0),Z=j.result.reverse(),re=j.result.length;this.maxY=j.niceMax;for(var le=p.globals.radialSize,se=le/(re-1),me=0;me<re-1;me++){var Ee=M.drawCircle(le);if(Ee.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":p.config.plotOptions.polarArea.rings.strokeWidth,stroke:p.config.plotOptions.polarArea.rings.strokeColor}),p.config.yaxis[0].show){var Ae=E.drawYAxisTexts(this.centerX,this.centerY-le+parseInt(p.config.yaxis[0].labels.style.fontSize,10)/2,me,Z[me]);O.add(Ae)}N.add(Ee),le-=se}this.drawSpokes(h),h.add(N),h.add(O)}},{key:"renderInnerDataLabels",value:function(h,p){var v=this.w,M=new jt(this.ctx),E=M.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(p.translateX?p.translateX:0,", ").concat(p.translateY?p.translateY:0,") scale(").concat(v.config.plotOptions.pie.customScale,")")}),N=h.total.show;E.node.style.opacity=p.opacity;var O,j,Z=p.centerX,re=p.centerY;O=void 0===h.name.color?v.globals.colors[0]:h.name.color;var le=h.name.fontSize,se=h.name.fontFamily,me=h.value.fontWeight;j=void 0===h.value.color?v.config.chart.foreColor:h.value.color;var Ee=h.value.formatter,Ae="",Re="";if(N?(O=h.total.color,le=h.total.fontSize,se=h.total.fontFamily,me=h.total.fontWeight,Re=h.total.label,Ae=h.total.formatter(v)):1===v.globals.series.length&&(Ae=Ee(v.globals.series[0],v),Re=v.globals.seriesNames[0]),Re&&(Re=h.name.formatter(Re,h.total.show,v)),h.name.show){var je=M.drawText({x:Z,y:re+parseFloat(h.name.offsetY),text:Re,textAnchor:"middle",foreColor:O,fontSize:le,fontWeight:me,fontFamily:se});je.node.classList.add("apexcharts-datalabel-label"),E.add(je)}if(h.value.show){var it=h.name.show?parseFloat(h.value.offsetY)+16:h.value.offsetY,_t=M.drawText({x:Z,y:re+it,text:Ae,textAnchor:"middle",foreColor:j,fontWeight:h.value.fontWeight,fontSize:h.value.fontSize,fontFamily:h.value.fontFamily});_t.node.classList.add("apexcharts-datalabel-value"),E.add(_t)}return E}},{key:"printInnerLabels",value:function(h,p,v,M){var E,N=this.w;M?E=void 0===h.name.color?N.globals.colors[parseInt(M.parentNode.getAttribute("rel"),10)-1]:h.name.color:N.globals.series.length>1&&h.total.show&&(E=h.total.color);var O=N.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),j=N.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");v=(0,h.value.formatter)(v,N),M||"function"!=typeof h.total.formatter||(v=h.total.formatter(N)),p=h.name.formatter(p,p===h.total.label,N),null!==O&&(O.textContent=p),null!==j&&(j.textContent=v),null!==O&&(O.style.fill=E)}},{key:"printDataLabelsInner",value:function(h,p){var v=this.w,M=h.getAttribute("data:value"),E=v.globals.seriesNames[parseInt(h.parentNode.getAttribute("rel"),10)-1];v.globals.series.length>1&&this.printInnerLabels(p,E,M,h);var N=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==N&&(N.style.opacity=1)}},{key:"drawSpokes",value:function(h){var p=this,v=this.w,M=new jt(this.ctx),E=v.config.plotOptions.polarArea.spokes;if(0!==E.strokeWidth){for(var N=[],O=360/v.globals.series.length,j=0;j<v.globals.series.length;j++)N.push(at.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize,v.config.plotOptions.pie.startAngle+O*j));N.forEach(function(Z,re){var le=M.drawLine(Z.x,Z.y,p.centerX,p.centerY,Array.isArray(E.connectorColors)?E.connectorColors[re]:E.connectorColors);h.add(le)})}}},{key:"revertDataLabelsInner",value:function(h,p,v){var M=this,E=this.w,N=E.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),O=!1,j=E.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),Z=function(se){var me=se.makeSliceOut,Ee=se.printLabel;Array.prototype.forEach.call(j,function(Ae){"true"===Ae.getAttribute("data:pieClicked")&&(me&&(O=!0),Ee&&M.printDataLabelsInner(Ae,p))})};if(Z({makeSliceOut:!0,printLabel:!1}),p.total.show&&E.globals.series.length>1)O&&!p.total.showAlways?Z({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(p,p.total.label,p.total.formatter(E));else if(Z({makeSliceOut:!1,printLabel:!0}),!O)if(E.globals.selectedDataPoints.length&&E.globals.series.length>1)if(E.globals.selectedDataPoints[0].length>0){var re=E.globals.selectedDataPoints[0],le=E.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(re));this.printDataLabelsInner(le,p)}else N&&E.globals.selectedDataPoints.length&&0===E.globals.selectedDataPoints[0].length&&(N.style.opacity=0);else N&&E.globals.series.length>1&&(N.style.opacity=0)}}]),Le}(),Or=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var p=this.w;this.graphics=new jt(this.ctx),this.lineColorArr=void 0!==p.globals.stroke.colors?p.globals.stroke.colors:p.globals.colors,this.defaultSize=p.globals.svgHeight<p.globals.svgWidth?p.globals.gridHeight+1.5*p.globals.goldenPadding:p.globals.gridWidth,this.isLog=p.config.yaxis[0].logarithmic,this.coreUtils=new oi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(p.globals.maxY,0):p.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):p.globals.minY,this.polygons=p.config.plotOptions.radar.polygons,this.strokeWidth=p.config.stroke.show?p.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-p.config.chart.dropShadow.blur,p.config.xaxis.labels.show&&(this.size=this.size-p.globals.xAxisLabelsWidth/1.75),void 0!==p.config.plotOptions.radar.size&&(this.size=p.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ce(Le,[{key:"draw",value:function(h){var p=this,v=this.w,M=new ln(this.ctx),E=[],N=new Rn(this.ctx);h.length&&(this.dataPointsLen=h[v.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var re=v.globals.gridHeight/2+v.config.plotOptions.radar.offsetY,le=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(v.globals.gridWidth/2+v.config.plotOptions.radar.offsetX||0,", ").concat(re||0,")")}),se=[],me=null,Ee=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),h.forEach(function(Re,je){var it=Re.length===v.globals.dataPoints,_t=p.graphics.group().attr({class:"apexcharts-series","data:longestSeries":it,seriesName:at.escapeString(v.globals.seriesNames[je]),rel:je+1,"data:realIndex":je});p.dataRadiusOfPercent[je]=[],p.dataRadius[je]=[],p.angleArr[je]=[],Re.forEach(function(Pn,wi){var lr=Math.abs(p.maxValue-p.minValue);Pn+=Math.abs(p.minValue),p.isLog&&(Pn=p.coreUtils.getLogVal(Pn,0)),p.dataRadiusOfPercent[je][wi]=Pn/lr,p.dataRadius[je][wi]=p.dataRadiusOfPercent[je][wi]*p.size,p.angleArr[je][wi]=wi*p.disAngle}),se=p.getDataPointsPos(p.dataRadius[je],p.angleArr[je]);var $=p.createPaths(se,{x:0,y:0});me=p.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Ee=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":je}),v.globals.delayedElements.push({el:me.node,index:je});var ue={i:je,realIndex:je,animationDelay:je,initialSpeed:v.config.chart.animations.speed,dataChangeSpeed:v.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:v.globals.stroke.colors[je],strokeLineCap:v.config.stroke.lineCap},Oe=null;v.globals.previousPaths.length>0&&(Oe=p.getPreviousPath(je));for(var $e=0;$e<$.linePathsTo.length;$e++){var ft=p.graphics.renderPaths(xe(xe({},ue),{},{pathFrom:null===Oe?$.linePathsFrom[$e]:Oe,pathTo:$.linePathsTo[$e],strokeWidth:Array.isArray(p.strokeWidth)?p.strokeWidth[je]:p.strokeWidth,fill:"none",drawShadow:!1}));_t.add(ft);var sn=M.fillPath({seriesNumber:je}),Gt=p.graphics.renderPaths(xe(xe({},ue),{},{pathFrom:null===Oe?$.areaPathsFrom[$e]:Oe,pathTo:$.areaPathsTo[$e],strokeWidth:0,fill:sn,drawShadow:!1}));v.config.chart.dropShadow.enabled&&new In(p.ctx).dropShadow(Gt,Object.assign({},v.config.chart.dropShadow,{noUserSpaceOnUse:!0}),je),_t.add(Gt)}Re.forEach(function(Pn,wi){var lr=new vn(p.ctx).getMarkerConfig("apexcharts-marker",je,wi),fi=p.graphics.drawMarker(se[wi].x,se[wi].y,lr);fi.attr("rel",wi),fi.attr("j",wi),fi.attr("index",je),fi.node.setAttribute("default-marker-size",lr.pSize);var Oi=p.graphics.group({class:"apexcharts-series-markers"});Oi&&Oi.add(fi),me.add(Oi),_t.add(me);var Tr=v.config.dataLabels;if(Tr.enabled){var $s=Tr.formatter(v.globals.series[je][wi],{seriesIndex:je,dataPointIndex:wi,w:v});N.plotDataLabelsText({x:se[wi].x,y:se[wi].y,text:$s,textAnchor:"middle",i:je,j:je,parent:Ee,offsetCorrection:!1,dataLabelsConfig:xe({},Tr)})}_t.add(Ee)}),E.push(_t)}),this.drawPolygons({parent:le}),v.config.xaxis.labels.show){var Ae=this.drawXAxisTexts();le.add(Ae)}return E.forEach(function(Re){le.add(Re)}),le.add(this.yaxisLabels),le}},{key:"drawPolygons",value:function(h){for(var p=this,v=this.w,M=h.parent,E=new Ni(this.ctx),N=v.globals.yAxisScale[0].result.reverse(),O=N.length,j=[],Z=this.size/(O-1),re=0;re<O;re++)j[re]=Z*re;j.reverse();var le=[],se=[];j.forEach(function(me,Ee){var Ae=at.getPolygonPos(me,p.dataPointsLen),Re="";Ae.forEach(function(je,it){if(0===Ee){var _t=p.graphics.drawLine(je.x,je.y,0,0,Array.isArray(p.polygons.connectorColors)?p.polygons.connectorColors[it]:p.polygons.connectorColors);se.push(_t)}0===it&&p.yaxisLabelsTextsPos.push({x:je.x,y:je.y}),Re+=je.x+","+je.y+" "}),le.push(Re)}),le.forEach(function(me,Ee){var Ae=p.polygons.strokeColors,Re=p.polygons.strokeWidth,je=p.graphics.drawPolygon(me,Array.isArray(Ae)?Ae[Ee]:Ae,Array.isArray(Re)?Re[Ee]:Re,v.globals.radarPolygons.fill.colors[Ee]);M.add(je)}),se.forEach(function(me){M.add(me)}),v.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(me,Ee){var Ae=E.drawYAxisTexts(me.x,me.y,Ee,N[Ee]);p.yaxisLabels.add(Ae)})}},{key:"drawXAxisTexts",value:function(){var h=this,p=this.w,v=p.config.xaxis.labels,M=this.graphics.group({class:"apexcharts-xaxis"}),E=at.getPolygonPos(this.size,this.dataPointsLen);return p.globals.labels.forEach(function(N,O){var j=p.config.xaxis.labels.formatter,Z=new Rn(h.ctx);if(E[O]){var re=h.getTextPos(E[O],h.size),le=j(N,{seriesIndex:-1,dataPointIndex:O,w:p});Z.plotDataLabelsText({x:re.newX,y:re.newY,text:le,textAnchor:re.textAnchor,i:O,j:O,parent:M,color:Array.isArray(v.style.colors)&&v.style.colors[O]?v.style.colors[O]:"#a8a8a8",dataLabelsConfig:xe({textAnchor:re.textAnchor,dropShadow:{enabled:!1}},v),offsetCorrection:!1})}}),M}},{key:"createPaths",value:function(h,p){var v=this,M=[],E=[],N=[],O=[];if(h.length){E=[this.graphics.move(p.x,p.y)],O=[this.graphics.move(p.x,p.y)];var j=this.graphics.move(h[0].x,h[0].y),Z=this.graphics.move(h[0].x,h[0].y);h.forEach(function(re,le){j+=v.graphics.line(re.x,re.y),Z+=v.graphics.line(re.x,re.y),le===h.length-1&&(j+="Z",Z+="Z")}),M.push(j),N.push(Z)}return{linePathsFrom:E,linePathsTo:M,areaPathsFrom:O,areaPathsTo:N}}},{key:"getTextPos",value:function(h,p){var v="middle",M=h.x,E=h.y;return Math.abs(h.x)>=10?h.x>0?(v="start",M+=10):h.x<0&&(v="end",M-=10):v="middle",Math.abs(h.y)>=p-10&&(h.y<0?E-=10:h.y>0&&(E+=10)),{textAnchor:v,newX:M,newY:E}}},{key:"getPreviousPath",value:function(h){for(var p=this.w,v=null,M=0;M<p.globals.previousPaths.length;M++){var E=p.globals.previousPaths[M];E.paths.length>0&&parseInt(E.realIndex,10)===parseInt(h,10)&&void 0!==p.globals.previousPaths[M].paths[0]&&(v=p.globals.previousPaths[M].paths[0].d)}return v}},{key:"getDataPointsPos",value:function(h,p){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;h=h||[],p=p||[];for(var M=[],E=0;E<v;E++){var N={};N.x=h[E]*Math.sin(p[E]),N.y=-h[E]*Math.cos(p[E]),M.push(N)}return M}}]),Le}(),wr=function(Le){Fe(p,ar);var h=At(p);function p(v){var M;J(this,p),(M=h.call(this,v)).ctx=v,M.w=v.w,M.animBeginArr=[0],M.animDur=0;var E=M.w;return M.startAngle=E.config.plotOptions.radialBar.startAngle,M.endAngle=E.config.plotOptions.radialBar.endAngle,M.totalAngle=Math.abs(E.config.plotOptions.radialBar.endAngle-E.config.plotOptions.radialBar.startAngle),M.trackStartAngle=E.config.plotOptions.radialBar.track.startAngle,M.trackEndAngle=E.config.plotOptions.radialBar.track.endAngle,M.radialDataLabels=E.config.plotOptions.radialBar.dataLabels,M.trackStartAngle||(M.trackStartAngle=M.startAngle),M.trackEndAngle||(M.trackEndAngle=M.endAngle),360===M.endAngle&&(M.endAngle=359.99),M.margin=parseInt(E.config.plotOptions.radialBar.track.margin,10),M}return ce(p,[{key:"draw",value:function(v){var M=this.w,E=new jt(this.ctx),N=E.group({class:"apexcharts-radialbar"});if(M.globals.noData)return N;var O=E.group(),j=this.defaultSize/2,Z=M.globals.gridWidth/2,re=this.defaultSize/2.05;M.config.chart.sparkline.enabled||(re=re-M.config.stroke.width-M.config.chart.dropShadow.blur);var le=M.globals.fill.colors;if(M.config.plotOptions.radialBar.track.show){var se=this.drawTracks({size:re,centerX:Z,centerY:j,colorArr:le,series:v});O.add(se)}var me=this.drawArcs({size:re,centerX:Z,centerY:j,colorArr:le,series:v}),Ee=360;M.config.plotOptions.radialBar.startAngle<0&&(Ee=this.totalAngle);var Ae=(360-Ee)/360;if(M.globals.radialSize=re-re*Ae,this.radialDataLabels.value.show){var Re=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);M.globals.radialSize+=Re*Ae}return O.add(me.g),"front"===M.config.plotOptions.radialBar.hollow.position&&(me.g.add(me.elHollow),me.dataLabels&&me.g.add(me.dataLabels)),N.add(O),N}},{key:"drawTracks",value:function(v){var M=this.w,E=new jt(this.ctx),N=E.group({class:"apexcharts-tracks"}),O=new In(this.ctx),j=new ln(this.ctx),Z=this.getStrokeWidth(v);v.size=v.size-Z/2;for(var re=0;re<v.series.length;re++){var le=E.group({class:"apexcharts-radialbar-track apexcharts-track"});N.add(le),le.attr({rel:re+1}),v.size=v.size-Z-this.margin;var se=M.config.plotOptions.radialBar.track,me=j.fillPath({seriesNumber:0,size:v.size,fillColors:Array.isArray(se.background)?se.background[re]:se.background,solid:!0}),Ee=this.trackStartAngle,Ae=this.trackEndAngle;Math.abs(Ae)+Math.abs(Ee)>=360&&(Ae=360-Math.abs(this.startAngle)-.1);var Re=E.drawPath({d:"",stroke:me,strokeWidth:Z*parseInt(se.strokeWidth,10)/100,fill:"none",strokeOpacity:se.opacity,classes:"apexcharts-radialbar-area"});se.dropShadow.enabled&&O.dropShadow(Re,se.dropShadow),le.add(Re),Re.attr("id","apexcharts-radialbarTrack-"+re),this.animatePaths(Re,{centerX:v.centerX,centerY:v.centerY,endAngle:Ae,startAngle:Ee,size:v.size,i:re,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:M.globals.easing})}return N}},{key:"drawArcs",value:function(v){var M=this.w,E=new jt(this.ctx),N=new ln(this.ctx),O=new In(this.ctx),j=E.group(),Z=this.getStrokeWidth(v);v.size=v.size-Z/2;var re=M.config.plotOptions.radialBar.hollow.background,le=v.size-Z*v.series.length-this.margin*v.series.length-Z*parseInt(M.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,se=le-M.config.plotOptions.radialBar.hollow.margin;void 0!==M.config.plotOptions.radialBar.hollow.image&&(re=this.drawHollowImage(v,j,le,re));var me=this.drawHollow({size:se,centerX:v.centerX,centerY:v.centerY,fill:re||"transparent"});M.config.plotOptions.radialBar.hollow.dropShadow.enabled&&O.dropShadow(me,M.config.plotOptions.radialBar.hollow.dropShadow);var Ae=1;!this.radialDataLabels.total.show&&M.globals.series.length>1&&(Ae=0);var Re=null;this.radialDataLabels.show&&(Re=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:le,centerX:v.centerX,centerY:v.centerY,opacity:Ae})),"back"===M.config.plotOptions.radialBar.hollow.position&&(j.add(me),Re&&j.add(Re));var je=!1;M.config.plotOptions.radialBar.inverseOrder&&(je=!0);for(var it=je?v.series.length-1:0;je?it>=0:it<v.series.length;je?it--:it++){var _t=E.group({class:"apexcharts-series apexcharts-radial-series",seriesName:at.escapeString(M.globals.seriesNames[it])});j.add(_t),_t.attr({rel:it+1,"data:realIndex":it}),this.ctx.series.addCollapsedClassToSeries(_t,it),v.size=v.size-Z-this.margin;var $=N.fillPath({seriesNumber:it,size:v.size,value:v.series[it]}),ue=this.startAngle,Oe=void 0,$e=at.negToZero(v.series[it]>100?100:v.series[it])/100,ft=Math.round(this.totalAngle*$e)+this.startAngle,sn=void 0;M.globals.dataChanged&&(Oe=this.startAngle,sn=Math.round(this.totalAngle*at.negToZero(M.globals.previousPaths[it])/100)+Oe),Math.abs(ft)+Math.abs(ue)>=360&&(ft-=.01),Math.abs(sn)+Math.abs(Oe)>=360&&(sn-=.01);var Gt=ft-ue,dn=Array.isArray(M.config.stroke.dashArray)?M.config.stroke.dashArray[it]:M.config.stroke.dashArray,Nn=E.drawPath({d:"",stroke:$,strokeWidth:Z,fill:"none",fillOpacity:M.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+it,strokeDashArray:dn});jt.setAttrs(Nn.node,{"data:angle":Gt,"data:value":v.series[it]}),M.config.chart.dropShadow.enabled&&O.dropShadow(Nn,M.config.chart.dropShadow,it),O.setSelectionFilter(Nn,0,it),this.addListeners(Nn,this.radialDataLabels),_t.add(Nn),Nn.attr({index:0,j:it});var wi=0;!this.initialAnim||M.globals.resized||M.globals.dataChanged||(this.animDur=(wi=(ft-ue)/360*M.config.chart.animations.speed)/(1.2*v.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),M.globals.dataChanged&&(this.animDur=(wi=(ft-ue)/360*M.config.chart.animations.dynamicAnimation.speed)/(1.2*v.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(Nn,{centerX:v.centerX,centerY:v.centerY,endAngle:ft,startAngle:ue,prevEndAngle:sn,prevStartAngle:Oe,size:v.size,i:it,totalItems:2,animBeginArr:this.animBeginArr,dur:wi,shouldSetPrevPaths:!0,easing:M.globals.easing})}return{g:j,elHollow:me,dataLabels:Re}}},{key:"drawHollow",value:function(v){var M=new jt(this.ctx).drawCircle(2*v.size);return M.attr({class:"apexcharts-radialbar-hollow",cx:v.centerX,cy:v.centerY,r:v.size,fill:v.fill}),M}},{key:"drawHollowImage",value:function(v,M,E,N){var O=this.w,j=new ln(this.ctx),Z=at.randomId(),re=O.config.plotOptions.radialBar.hollow.image;if(O.config.plotOptions.radialBar.hollow.imageClipped)j.clippedImgArea({width:E,height:E,image:re,patternID:"pattern".concat(O.globals.cuid).concat(Z)}),N="url(#pattern".concat(O.globals.cuid).concat(Z,")");else{var le=O.config.plotOptions.radialBar.hollow.imageWidth,se=O.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===le&&void 0===se){var me=O.globals.dom.Paper.image(re).loaded(function(Ae){this.move(v.centerX-Ae.width/2+O.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-Ae.height/2+O.config.plotOptions.radialBar.hollow.imageOffsetY)});M.add(me)}else{var Ee=O.globals.dom.Paper.image(re).loaded(function(Ae){this.move(v.centerX-le/2+O.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-se/2+O.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(le,se)});M.add(Ee)}}return N}},{key:"getStrokeWidth",value:function(v){return v.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(v.series.length+1)-this.margin}}]),p}(),st=function(){function Le(h){J(this,Le),this.w=h.w,this.lineCtx=h}return ce(Le,[{key:"sameValueSeriesFix",value:function(h,p){var v=this.w;if("line"===v.config.chart.type&&("gradient"===v.config.fill.type||"gradient"===v.config.fill.type[h])&&new oi(this.lineCtx.ctx,v).seriesHaveSameValues(h)){var M=p[h].slice();M[M.length-1]=M[M.length-1]+1e-6,p[h]=M}return p}},{key:"calculatePoints",value:function(h){var p=h.series,M=h.x,E=h.y,N=h.i,O=h.j,j=h.prevY,Z=this.w,re=[],le=[];if(0===O){var se=this.lineCtx.categoryAxisCorrection+Z.config.markers.offsetX;Z.globals.isXNumeric&&(se=(Z.globals.seriesX[h.realIndex][0]-Z.globals.minX)/this.lineCtx.xRatio+Z.config.markers.offsetX),re.push(se),le.push(at.isNumber(p[N][0])?j+Z.config.markers.offsetY:null),re.push(M+Z.config.markers.offsetX),le.push(at.isNumber(p[N][O+1])?E+Z.config.markers.offsetY:null)}else re.push(M+Z.config.markers.offsetX),le.push(at.isNumber(p[N][O+1])?E+Z.config.markers.offsetY:null);return{x:re,y:le}}},{key:"checkPreviousPaths",value:function(h){for(var p=h.pathFromLine,v=h.pathFromArea,M=h.realIndex,E=this.w,N=0;N<E.globals.previousPaths.length;N++){var O=E.globals.previousPaths[N];("line"===O.type||"area"===O.type)&&O.paths.length>0&&parseInt(O.realIndex,10)===parseInt(M,10)&&("line"===O.type?(this.lineCtx.appendPathFrom=!1,p=E.globals.previousPaths[N].paths[0].d):"area"===O.type&&(this.lineCtx.appendPathFrom=!1,v=E.globals.previousPaths[N].paths[0].d,E.config.stroke.show&&E.globals.previousPaths[N].paths[1]&&(p=E.globals.previousPaths[N].paths[1].d)))}return{pathFromLine:p,pathFromArea:v}}},{key:"determineFirstPrevY",value:function(h){var p=h.i,v=h.series,M=h.prevY,E=h.lineYPosition,N=this.w;if(void 0!==v[p][0])M=(E=N.config.chart.stacked&&p>0?this.lineCtx.prevSeriesY[p-1][0]:this.lineCtx.zeroY)-v[p][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?v[p][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(N.config.chart.stacked&&p>0&&void 0===v[p][0])for(var O=p-1;O>=0;O--)if(null!=v[O][0]){M=E=this.lineCtx.prevSeriesY[O][0];break}return{prevY:M,lineYPosition:E}}}]),Le}(),Ne=function(){function Le(h,p,v){J(this,Le),this.ctx=h,this.w=h.w,this.xyRatios=p,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||v,this.scatter=new un(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new st(this),this.markers=new vn(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ce(Le,[{key:"draw",value:function(h,p,v){var M=this.w,E=new jt(this.ctx),N=M.globals.comboCharts?p:M.config.chart.type,O=E.group({class:"apexcharts-".concat(N,"-series apexcharts-plot-series")}),j=new oi(this.ctx,M);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,h=j.getLogSeries(h),this.yRatio=j.getLogYRatios(this.yRatio);for(var Z=[],re=0;re<h.length;re++){h=this.lineHelpers.sameValueSeriesFix(re,h);var le=M.globals.comboCharts?v[re]:re;this._initSerieVariables(h,re,le);var se=[],me=[],Ee=M.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,le),M.globals.isXNumeric&&M.globals.seriesX.length>0&&(Ee=(M.globals.seriesX[le][0]-M.globals.minX)/this.xRatio),me.push(Ee);var Ae,Re=Ee,je=Re,it=this.zeroY;it=this.lineHelpers.determineFirstPrevY({i:re,series:h,prevY:it,lineYPosition:0}).prevY,se.push(it),Ae=it;var _t=this._calculatePathsFrom({series:h,i:re,realIndex:le,prevX:je,prevY:it}),$=this._iterateOverDataPoints({series:h,realIndex:le,i:re,x:Ee,y:1,pX:Re,pY:Ae,pathsFrom:_t,linePaths:[],areaPaths:[],seriesIndex:v,lineYPosition:0,xArrj:me,yArrj:se});this._handlePaths({type:N,realIndex:le,i:re,paths:$}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),Z.push(this.elSeries)}if(M.config.chart.stacked)for(var ue=Z.length;ue>0;ue--)O.add(Z[ue-1]);else for(var Oe=0;Oe<Z.length;Oe++)O.add(Z[Oe]);return O}},{key:"_initSerieVariables",value:function(h,p,v){var M=this.w,E=new jt(this.ctx);this.xDivision=M.globals.gridWidth/(M.globals.dataPoints-("on"===M.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(M.config.stroke.width)?M.config.stroke.width[v]:M.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=M.config.yaxis[this.yaxisIndex]&&M.config.yaxis[this.yaxisIndex].reversed,this.zeroY=M.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?M.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>M.globals.gridHeight||"end"===M.config.plotOptions.area.fillTo)&&(this.areaBottomY=M.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=E.group({class:"apexcharts-series",seriesName:at.escapeString(M.globals.seriesNames[v])}),this.elPointsMain=E.group({class:"apexcharts-series-markers-wrap","data:realIndex":v}),this.elDataLabelsWrap=E.group({class:"apexcharts-datalabels","data:realIndex":v}),this.elSeries.attr({"data:longestSeries":h[p].length===M.globals.dataPoints,rel:p+1,"data:realIndex":v}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(h){var p,v,M,E,N=h.series,O=h.i,j=h.realIndex,Z=h.prevX,re=h.prevY,le=this.w,se=new jt(this.ctx);if(null===N[O][0]){for(var me=0;me<N[O].length;me++)if(null!==N[O][me]){p=se.move(Z=this.xDivision*me,re=this.zeroY-N[O][me]/this.yRatio[this.yaxisIndex]),v=se.move(Z,this.areaBottomY);break}}else p=se.move(Z,re),v=se.move(Z,this.areaBottomY)+se.line(Z,re);if(M=se.move(-1,this.zeroY)+se.line(-1,this.zeroY),E=se.move(-1,this.zeroY)+se.line(-1,this.zeroY),le.globals.previousPaths.length>0){var Ee=this.lineHelpers.checkPreviousPaths({pathFromLine:M,pathFromArea:E,realIndex:j});M=Ee.pathFromLine,E=Ee.pathFromArea}return{prevX:Z,prevY:re,linePath:p,areaPath:v,pathFromLine:M,pathFromArea:E}}},{key:"_handlePaths",value:function(h){var p=h.type,v=h.realIndex,M=h.i,E=h.paths,N=this.w,O=new jt(this.ctx),j=new ln(this.ctx);this.prevSeriesY.push(E.yArrj),N.globals.seriesXvalues[v]=E.xArrj,N.globals.seriesYvalues[v]=E.yArrj;var Z=N.config.forecastDataPoints;if(Z.count>0){var re=N.globals.seriesXvalues[v][N.globals.seriesXvalues[v].length-Z.count-1],le=O.drawRect(re,0,N.globals.gridWidth,N.globals.gridHeight,0);N.globals.dom.elForecastMask.appendChild(le.node);var se=O.drawRect(0,0,re,N.globals.gridHeight,0);N.globals.dom.elNonForecastMask.appendChild(se.node)}this.pointsChart||N.globals.delayedElements.push({el:this.elPointsMain.node,index:v});var me={i:M,realIndex:v,animationDelay:M,initialSpeed:N.config.chart.animations.speed,dataChangeSpeed:N.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(p)};if("area"===p)for(var Ee=j.fillPath({seriesNumber:v}),Ae=0;Ae<E.areaPaths.length;Ae++){var Re=O.renderPaths(xe(xe({},me),{},{pathFrom:E.pathFromArea,pathTo:E.areaPaths[Ae],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Ee}));this.elSeries.add(Re)}if(N.config.stroke.show&&!this.pointsChart){var je;je="line"===p?j.fillPath({seriesNumber:v,i:M}):N.globals.stroke.colors[v];for(var it=0;it<E.linePaths.length;it++){var _t=xe(xe({},me),{},{pathFrom:E.pathFromLine,pathTo:E.linePaths[it],stroke:je,strokeWidth:this.strokeWidth,strokeLineCap:N.config.stroke.lineCap,fill:"none"}),$=O.renderPaths(_t);if(this.elSeries.add($),Z.count>0){var ue=O.renderPaths(_t);ue.node.setAttribute("stroke-dasharray",Z.dashArray),Z.strokeWidth&&ue.node.setAttribute("stroke-width",Z.strokeWidth),this.elSeries.add(ue),ue.attr("clip-path","url(#forecastMask".concat(N.globals.cuid,")")),$.attr("clip-path","url(#nonForecastMask".concat(N.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(h){for(var p=h.series,v=h.realIndex,M=h.i,E=h.x,N=h.y,O=h.pX,j=h.pY,Z=h.pathsFrom,re=h.linePaths,le=h.areaPaths,se=h.seriesIndex,me=h.lineYPosition,Ee=h.xArrj,Ae=h.yArrj,Re=this.w,je=new jt(this.ctx),it=this.yRatio,_t=Z.prevY,$=Z.linePath,ue=Z.areaPath,Oe=Z.pathFromLine,$e=Z.pathFromArea,ft=at.isNumber(Re.globals.minYArr[v])?Re.globals.minYArr[v]:Re.globals.minY,sn=Re.globals.dataPoints>1?Re.globals.dataPoints-1:Re.globals.dataPoints,Gt=0;Gt<sn;Gt++){var dn=null==p[M][Gt+1];if(Re.globals.isXNumeric){var Nn=Re.globals.seriesX[v][Gt+1];void 0===Re.globals.seriesX[v][Gt+1]&&(Nn=Re.globals.seriesX[v][sn-1]),E=(Nn-Re.globals.minX)/this.xRatio}else E+=this.xDivision;me=Re.config.chart.stacked&&M>0&&Re.globals.collapsedSeries.length<Re.config.series.length-1?this.prevSeriesY[function(lr){for(var fi=lr,Oi=0;Oi<Re.globals.series.length;Oi++)if(Re.globals.collapsedSeriesIndices.indexOf(lr)>-1){fi--;break}return fi>=0?fi:0}(M-1)][Gt+1]:this.zeroY,N=dn?me-ft/it[this.yaxisIndex]+2*(this.isReversed?ft/it[this.yaxisIndex]:0):me-p[M][Gt+1]/it[this.yaxisIndex]+2*(this.isReversed?p[M][Gt+1]/it[this.yaxisIndex]:0),Ee.push(E),Ae.push(N);var Pn=this.lineHelpers.calculatePoints({series:p,x:E,y:N,realIndex:v,i:M,j:Gt,prevY:_t}),wi=this._createPaths({series:p,i:M,realIndex:v,j:Gt,x:E,y:N,pX:O,pY:j,linePath:$,areaPath:ue,linePaths:re,areaPaths:le,seriesIndex:se});le=wi.areaPaths,re=wi.linePaths,O=wi.pX,j=wi.pY,ue=wi.areaPath,$=wi.linePath,this.appendPathFrom&&(Oe+=je.line(E,this.zeroY),$e+=je.line(E,this.zeroY)),this.handleNullDataPoints(p,Pn,M,Gt,v),this._handleMarkersAndLabels({pointsPos:Pn,series:p,x:E,y:N,prevY:_t,i:M,j:Gt,realIndex:v})}return{yArrj:Ae,xArrj:Ee,pathFromArea:$e,areaPaths:le,pathFromLine:Oe,linePaths:re}}},{key:"_handleMarkersAndLabels",value:function(h){var p=h.pointsPos,v=h.i,M=h.j,E=h.realIndex,N=this.w,O=new Rn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,M,{realIndex:E,pointsPos:p,zRatio:this.zRatio,elParent:this.elPointsMain});else{N.globals.series[v].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var j=this.markers.plotChartMarkers(p,E,M+1);null!==j&&this.elPointsMain.add(j)}var Z=O.drawDataLabel(p,E,M+1,null);null!==Z&&this.elDataLabelsWrap.add(Z)}},{key:"_createPaths",value:function(h){var p=h.series,v=h.i,M=h.realIndex,E=h.j,N=h.x,O=h.y,j=h.pX,Z=h.pY,re=h.linePath,le=h.areaPath,se=h.linePaths,me=h.areaPaths,Ee=h.seriesIndex,Ae=this.w,Re=new jt(this.ctx),je=Ae.config.stroke.curve,it=this.areaBottomY;if(Array.isArray(Ae.config.stroke.curve)&&(je=Array.isArray(Ee)?Ae.config.stroke.curve[Ee[v]]:Ae.config.stroke.curve[v]),"smooth"===je){var _t=.35*(N-j);Ae.globals.hasNullValues?(null!==p[v][E]&&(null!==p[v][E+1]?(re=Re.move(j,Z)+Re.curve(j+_t,Z,N-_t,O,N+1,O),le=Re.move(j+1,Z)+Re.curve(j+_t,Z,N-_t,O,N+1,O)+Re.line(N,it)+Re.line(j,it)+"z"):(re=Re.move(j,Z),le=Re.move(j,Z)+"z")),se.push(re),me.push(le)):(re+=Re.curve(j+_t,Z,N-_t,O,N,O),le+=Re.curve(j+_t,Z,N-_t,O,N,O)),j=N,Z=O,E===p[v].length-2&&(le=le+Re.curve(j,Z,N,O,N,it)+Re.move(N,O)+"z",Ae.globals.hasNullValues||(se.push(re),me.push(le)))}else null===p[v][E+1]&&(re+=Re.move(N,O),le=le+Re.line(Ae.globals.isXNumeric?(Ae.globals.seriesX[M][E]-Ae.globals.minX)/this.xRatio:N-this.xDivision,it)+Re.move(N,O)+"z"),null===p[v][E]&&(re+=Re.move(N,O),le+=Re.move(N,it)),"stepline"===je?(re=re+Re.line(N,null,"H")+Re.line(null,O,"V"),le=le+Re.line(N,null,"H")+Re.line(null,O,"V")):"straight"===je&&(re+=Re.line(N,O),le+=Re.line(N,O)),E===p[v].length-2&&(le=le+Re.line(N,it)+Re.move(N,O)+"z",se.push(re),me.push(le));return{linePaths:se,areaPaths:me,pX:j,pY:Z,linePath:re,areaPath:le}}},{key:"handleNullDataPoints",value:function(h,p,v,M,E){var N=this.w;if(null===h[v][M]&&N.config.markers.showNullDataPoints||1===h[v].length){var O=this.markers.plotChartMarkers(p,E,M+1,this.strokeWidth-N.config.markers.strokeWidth/2,!0);null!==O&&this.elPointsMain.add(O)}}}]),Le}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Le(O,j,Z,re){this.xoffset=O,this.yoffset=j,this.height=re,this.width=Z,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(le){var se,me=[],Ee=this.xoffset,Ae=this.yoffset,Re=E(le)/this.height,je=E(le)/this.width;if(this.width>=this.height)for(se=0;se<le.length;se++)me.push([Ee,Ae,Ee+Re,Ae+le[se]/Re]),Ae+=le[se]/Re;else for(se=0;se<le.length;se++)me.push([Ee,Ae,Ee+le[se]/je,Ae+je]),Ee+=le[se]/je;return me},this.cutArea=function(le){var se;if(this.width>=this.height){var me=le/this.height;se=new Le(this.xoffset+me,this.yoffset,this.width-me,this.height)}else{var Ae=le/this.width;se=new Le(this.xoffset,this.yoffset+Ae,this.width,this.height-Ae)}return se}}function h(O,j,Z,re,le){return re=void 0===re?0:re,le=void 0===le?0:le,function(se){var me,Ee,Ae=[];for(me=0;me<se.length;me++)for(Ee=0;Ee<se[me].length;Ee++)Ae.push(se[me][Ee]);return Ae}(p(function(se,me){var Ee,Ae=[],Re=me/E(se);for(Ee=0;Ee<se.length;Ee++)Ae[Ee]=se[Ee]*Re;return Ae}(O,j*Z),[],new Le(re,le,j,Z),[]))}function p(O,j,Z,re){var le,se,me,Ee,Ae,Re,je;if(0!==O.length)return le=Z.shortestEdge(),Ae=se=O[0],Re=le,0===(Ee=j).length||((je=Ee.slice()).push(Ae),v(Ee,Re)>=v(je,Re))?(j.push(se),p(O.slice(1),j,Z,re)):(me=Z.cutArea(E(j),re),re.push(Z.getCoordinates(j)),p(O,[],me,re)),re;re.push(Z.getCoordinates(j))}function v(O,j){var Z=Math.min.apply(Math,O),re=Math.max.apply(Math,O),le=E(O);return Math.max(Math.pow(j,2)*re/Math.pow(le,2),Math.pow(le,2)/(Math.pow(j,2)*Z))}function M(O){return O&&O.constructor===Array}function E(O){var j,Z=0;for(j=0;j<O.length;j++)Z+=O[j];return Z}function N(O){var j,Z=0;if(M(O[0]))for(j=0;j<O.length;j++)Z+=N(O[j]);else Z=E(O);return Z}return function O(j,Z,re,le,se){le=void 0===le?0:le,se=void 0===se?0:se;var me,Ee,Ae=[],Re=[];if(M(j[0])){for(Ee=0;Ee<j.length;Ee++)Ae[Ee]=N(j[Ee]);for(me=h(Ae,Z,re,le,se),Ee=0;Ee<j.length;Ee++)Re.push(O(j[Ee],me[Ee][2]-me[Ee][0],me[Ee][3]-me[Ee][1],me[Ee][0],me[Ee][1]))}else Re=h(j,Z,re,le,se);return Re}}();var Ze,ct,bt=function(){function Le(h,p){J(this,Le),this.ctx=h,this.w=h.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new nn(h),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ce(Le,[{key:"draw",value:function(h){var p=this,v=this.w,M=new jt(this.ctx),E=new ln(this.ctx),N=M.group({class:"apexcharts-treemap"});if(v.globals.noData)return N;var O=[];return h.forEach(function(j){var Z=j.map(function(re){return Math.abs(re)});O.push(Z)}),this.negRange=this.helpers.checkColorRange(),v.config.series.forEach(function(j,Z){j.data.forEach(function(re){Array.isArray(p.labels[Z])||(p.labels[Z]=[]),p.labels[Z].push(re.x)})}),window.TreemapSquared.generate(O,v.globals.gridWidth,v.globals.gridHeight).forEach(function(j,Z){var re=M.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:at.escapeString(v.globals.seriesNames[Z]),rel:Z+1,"data:realIndex":Z});if(v.config.chart.dropShadow.enabled){var le=v.config.chart.dropShadow;new In(p.ctx).dropShadow(N,le,Z)}var se=M.group({class:"apexcharts-data-labels"});j.forEach(function(me,Ee){var Ae=me[0],Re=me[1],je=me[2],it=me[3],_t=M.drawRect(Ae,Re,je-Ae,it-Re,0,"#fff",1,p.strokeWidth,v.config.plotOptions.treemap.useFillColorAsStroke?ue:v.globals.stroke.colors[Z]);_t.attr({cx:Ae,cy:Re,index:Z,i:Z,j:Ee,width:je-Ae,height:it-Re});var $=p.helpers.getShadeColor(v.config.chart.type,Z,Ee,p.negRange),ue=$.color;void 0!==v.config.series[Z].data[Ee]&&v.config.series[Z].data[Ee].fillColor&&(ue=v.config.series[Z].data[Ee].fillColor);var Oe=E.fillPath({color:ue,seriesNumber:Z,dataPointIndex:Ee});_t.node.classList.add("apexcharts-treemap-rect"),_t.attr({fill:Oe}),p.helpers.addListeners(_t);var $e={x:Ae+(je-Ae)/2,y:Re+(it-Re)/2,width:0,height:0},ft={x:Ae,y:Re,width:je-Ae,height:it-Re};if(v.config.chart.animations.enabled&&!v.globals.dataChanged){var sn=1;v.globals.resized||(sn=v.config.chart.animations.speed),p.animateTreemap(_t,$e,ft,sn)}v.globals.dataChanged&&p.dynamicAnim.enabled&&v.globals.shouldAnimate&&(v.globals.previousPaths[Z]&&v.globals.previousPaths[Z][Ee]&&v.globals.previousPaths[Z][Ee].rect&&($e=v.globals.previousPaths[Z][Ee].rect),p.animateTreemap(_t,$e,ft,p.dynamicAnim.speed));var dn=p.getFontSize(me),Nn=v.config.dataLabels.formatter(p.labels[Z][Ee],{value:v.globals.series[Z][Ee],seriesIndex:Z,dataPointIndex:Ee,w:v}),Pn=p.helpers.calculateDataLabels({text:Nn,x:(Ae+je)/2,y:(Re+it)/2+p.strokeWidth/2+dn/3,i:Z,j:Ee,colorProps:$,fontSize:dn,series:h});v.config.dataLabels.enabled&&Pn&&p.rotateToFitLabel(Pn,Nn,Ae,Re,je,it),re.add(_t),null!==Pn&&re.add(Pn)}),re.add(se),N.add(re)}),N}},{key:"getFontSize",value:function(h){var N,p=this.w,O=function j(Z){var re,le=0;if(Array.isArray(Z[0]))for(re=0;re<Z.length;re++)le+=j(Z[re]);else for(re=0;re<Z.length;re++)le+=Z[re].length;return le}(this.labels)/function j(Z){var re,le=0;if(Array.isArray(Z[0]))for(re=0;re<Z.length;re++)le+=j(Z[re]);else for(re=0;re<Z.length;re++)le+=1;return le}(this.labels);return N=Math.pow((h[2]-h[0])*(h[3]-h[1]),.5),Math.min(N/O,parseInt(p.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(h,p,v,M,E,N){var O=new jt(this.ctx),j=O.getTextRects(p);if(j.width+5>E-v&&j.width<=N-M){var Z=O.rotateAroundCenter(h.node);h.node.setAttribute("transform","rotate(-90 ".concat(Z.x," ").concat(Z.y,")"))}}},{key:"animateTreemap",value:function(h,p,v,M){var E=new ei(this.ctx);E.animateRect(h,{x:p.x,y:p.y,width:p.width,height:p.height},{x:v.x,y:v.y,width:v.width,height:v.height},M,function(){E.animationCompleted(h)})}}]),Le}(),Ft=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ce(Le,[{key:"calculateTimeScaleTicks",value:function(h,p){var v=this,M=this.w;if(M.globals.allSeriesCollapsed)return M.globals.labels=[],M.globals.timescaleLabels=[],[];var E=new ui(this.ctx),N=(p-h)/864e5;this.determineInterval(N),M.globals.disableZoomIn=!1,M.globals.disableZoomOut=!1,N<.00011574074074074075?M.globals.disableZoomIn=!0:N>5e4&&(M.globals.disableZoomOut=!0);var O=E.getTimeUnitsfromTimestamp(h,p,this.utc),j=M.globals.gridWidth/N,Z=j/24,re=Z/60,le=re/60,se=Math.floor(24*N),me=Math.floor(1440*N),Ee=Math.floor(86400*N),Ae=Math.floor(N),Re=Math.floor(N/30),je=Math.floor(N/365),it={minMillisecond:O.minMillisecond,minSecond:O.minSecond,minMinute:O.minMinute,minHour:O.minHour,minDate:O.minDate,minMonth:O.minMonth,minYear:O.minYear},_t={firstVal:it,currentMillisecond:it.minMillisecond,currentSecond:it.minSecond,currentMinute:it.minMinute,currentHour:it.minHour,currentMonthDate:it.minDate,currentDate:it.minDate,currentMonth:it.minMonth,currentYear:it.minYear,daysWidthOnXAxis:j,hoursWidthOnXAxis:Z,minutesWidthOnXAxis:re,secondsWidthOnXAxis:le,numberOfSeconds:Ee,numberOfMinutes:me,numberOfHours:se,numberOfDays:Ae,numberOfMonths:Re,numberOfYears:je};switch(this.tickInterval){case"years":this.generateYearScale(_t);break;case"months":case"half_year":this.generateMonthScale(_t);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(_t);break;case"hours":this.generateHourScale(_t);break;case"minutes_fives":case"minutes":this.generateMinuteScale(_t);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(_t)}var $=this.timeScaleArray.map(function(ue){var Oe={position:ue.position,unit:ue.unit,year:ue.year,day:ue.day?ue.day:1,hour:ue.hour?ue.hour:0,month:ue.month+1};return"month"===ue.unit?xe(xe({},Oe),{},{day:1,value:ue.value+1}):"day"===ue.unit||"hour"===ue.unit?xe(xe({},Oe),{},{value:ue.value}):"minute"===ue.unit?xe(xe({},Oe),{},{value:ue.value,minute:ue.value}):"second"===ue.unit?xe(xe({},Oe),{},{value:ue.value,minute:ue.minute,second:ue.second}):ue});return $.filter(function(ue){var Oe=1,$e=Math.ceil(M.globals.gridWidth/120),ft=ue.value;void 0!==M.config.xaxis.tickAmount&&($e=M.config.xaxis.tickAmount),$.length>$e&&(Oe=Math.floor($.length/$e));var sn=!1,Gt=!1;switch(v.tickInterval){case"years":"year"===ue.unit&&(sn=!0);break;case"half_year":Oe=7,"year"===ue.unit&&(sn=!0);break;case"months":Oe=1,"year"===ue.unit&&(sn=!0);break;case"months_fortnight":Oe=15,"year"!==ue.unit&&"month"!==ue.unit||(sn=!0),30===ft&&(Gt=!0);break;case"months_days":Oe=10,"month"===ue.unit&&(sn=!0),30===ft&&(Gt=!0);break;case"week_days":Oe=8,"month"===ue.unit&&(sn=!0);break;case"days":Oe=1,"month"===ue.unit&&(sn=!0);break;case"hours":"day"===ue.unit&&(sn=!0);break;case"minutes_fives":ft%5!=0&&(Gt=!0);break;case"seconds_tens":ft%10!=0&&(Gt=!0);break;case"seconds_fives":ft%5!=0&&(Gt=!0)}if("hours"===v.tickInterval||"minutes_fives"===v.tickInterval||"seconds_tens"===v.tickInterval||"seconds_fives"===v.tickInterval){if(!Gt)return!0}else if((ft%Oe==0||sn)&&!Gt)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(h,p){var v=this.w,M=this.formatDates(h),E=this.removeOverlappingTS(M);v.globals.timescaleLabels=E.slice(),new Ro(this.ctx).plotCoords()}},{key:"determineInterval",value:function(h){var p=24*h,v=60*p;switch(!0){case h/365>5:this.tickInterval="years";break;case h>800:this.tickInterval="half_year";break;case h>180:this.tickInterval="months";break;case h>90:this.tickInterval="months_fortnight";break;case h>60:this.tickInterval="months_days";break;case h>30:this.tickInterval="week_days";break;case h>2:this.tickInterval="days";break;case p>2.4:this.tickInterval="hours";break;case v>15:this.tickInterval="minutes_fives";break;case v>5:this.tickInterval="minutes";break;case v>1:this.tickInterval="seconds_tens";break;case 60*v>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(h){var p=h.firstVal,v=h.currentMonth,M=h.currentYear,E=h.daysWidthOnXAxis,N=h.numberOfYears,O=p.minYear,j=0,Z=new ui(this.ctx),re="year";if(p.minDate>1||p.minMonth>0){var le=Z.determineRemainingDaysOfYear(p.minYear,p.minMonth,p.minDate);j=(Z.determineDaysOfYear(p.minYear)-le+1)*E,this.timeScaleArray.push({position:j,value:O=p.minYear+1,unit:re,year:O,month:at.monthMod(v+1)})}else 1===p.minDate&&0===p.minMonth&&this.timeScaleArray.push({position:j,value:O,unit:re,year:M,month:at.monthMod(v+1)});for(var se=O,me=j,Ee=0;Ee<N;Ee++)se++,me=Z.determineDaysOfYear(se-1)*E+me,this.timeScaleArray.push({position:me,value:se,unit:re,year:se,month:1})}},{key:"generateMonthScale",value:function(h){var p=h.firstVal,v=h.currentMonthDate,M=h.currentMonth,E=h.currentYear,N=h.daysWidthOnXAxis,O=h.numberOfMonths,j=M,Z=0,re=new ui(this.ctx),le="month",se=0;if(p.minDate>1){Z=(re.determineDaysOfMonths(M+1,p.minYear)-v+1)*N,j=at.monthMod(M+1);var me=E+se,Ee=at.monthMod(j),Ae=j;0===j&&(le="year",Ae=me,Ee=1,me+=se+=1),this.timeScaleArray.push({position:Z,value:Ae,unit:le,year:me,month:Ee})}else this.timeScaleArray.push({position:Z,value:j,unit:le,year:E,month:at.monthMod(M)});for(var Re=j+1,je=Z,it=0,_t=1;it<O;it++,_t++){0===(Re=at.monthMod(Re))?(le="year",se+=1):le="month";var $=this._getYear(E,Re,se);je=re.determineDaysOfMonths(Re,$)*N+je,this.timeScaleArray.push({position:je,value:0===Re?$:Re,unit:le,year:$,month:0===Re?1:Re}),Re++}}},{key:"generateDayScale",value:function(h){var p=h.firstVal,v=h.currentMonth,M=h.currentYear,E=h.hoursWidthOnXAxis,N=h.numberOfDays,O=new ui(this.ctx),j="day",Z=p.minDate+1,re=Z,le=function(_t,$,ue){return _t>O.determineDaysOfMonths($+1,ue)&&(re=1,j="month",me=$+=1),$},se=(24-p.minHour)*E,me=Z,Ee=le(re,v,M);0===p.minHour&&1===p.minDate?(se=0,me=at.monthMod(p.minMonth),j="month",re=p.minDate,N++):1!==p.minDate&&0===p.minHour&&0===p.minMinute&&(se=0,me=Z=p.minDate,Ee=le(re=Z,v,M)),this.timeScaleArray.push({position:se,value:me,unit:j,year:this._getYear(M,Ee,0),month:at.monthMod(Ee),day:re});for(var Ae=se,Re=0;Re<N;Re++){j="day",Ee=le(re+=1,Ee,this._getYear(M,Ee,0));var je=this._getYear(M,Ee,0);Ae=24*E+Ae;var it=1===re?at.monthMod(Ee):re;this.timeScaleArray.push({position:Ae,value:it,unit:j,year:je,month:at.monthMod(Ee),day:it})}}},{key:"generateHourScale",value:function(h){var p=h.firstVal,v=h.currentDate,M=h.currentMonth,E=h.currentYear,N=h.minutesWidthOnXAxis,O=h.numberOfHours,j=new ui(this.ctx),Z="hour",le=function(Oe,$e){return Oe>j.determineDaysOfMonths($e+1,E)?$e+=1:$e},se=60-(p.minMinute+p.minSecond/60),me=se*N,Ee=p.minHour+1,Ae=Ee+1;60===se&&(me=0,Ae=(Ee=p.minHour)+1);var Oe,$e,Re=v,je=le(Re,M);this.timeScaleArray.push({position:me,value:Ee,unit:Z,day:Re,hour:Ae,year:E,month:at.monthMod(je)});for(var it=me,_t=0;_t<O;_t++){Z="hour",Ae>=24&&(Ae=0,Z="day",je=(Oe=Re+=1,$e=je,Oe>j.determineDaysOfMonths($e+1,E)&&(Re=1,$e+=1),{month:$e,date:Re}).month,je=le(Re,je));var $=this._getYear(E,je,0);this.timeScaleArray.push({position:it=0===Ae&&0===_t?se*N:60*N+it,value:0===Ae?Re:Ae,unit:Z,hour:Ae,day:Re,year:$,month:at.monthMod(je)}),Ae++}}},{key:"generateMinuteScale",value:function(h){for(var Z=h.minutesWidthOnXAxis,le=h.numberOfMinutes,se=h.currentMinute+1,me=h.currentDate,Ee=h.currentMonth,Ae=h.currentYear,Re=h.currentHour,je=(60-h.currentSecond-h.currentMillisecond/1e3)*h.secondsWidthOnXAxis,it=0;it<le;it++)se>=60&&(se=0,24===(Re+=1)&&(Re=0)),this.timeScaleArray.push({position:je,value:se,unit:"minute",hour:Re,minute:se,day:me,year:this._getYear(Ae,Ee,0),month:at.monthMod(Ee)}),je+=Z,se++}},{key:"generateSecondScale",value:function(h){for(var Z=h.secondsWidthOnXAxis,re=h.numberOfSeconds,le=h.currentSecond+1,se=h.currentMinute,me=h.currentDate,Ee=h.currentMonth,Ae=h.currentYear,Re=h.currentHour,je=(1e3-h.currentMillisecond)/1e3*Z,it=0;it<re;it++)le>=60&&(le=0,++se>=60&&(se=0,24==++Re&&(Re=0))),this.timeScaleArray.push({position:je,value:le,unit:"second",hour:Re,minute:se,second:le,day:me,year:this._getYear(Ae,Ee,0),month:at.monthMod(Ee)}),je+=Z,le++}},{key:"createRawDateString",value:function(h,p){var v=h.year;return 0===h.month&&(h.month=1),v+="-"+("0"+h.month.toString()).slice(-2),v+="day"===h.unit?"day"===h.unit?"-"+("0"+p).slice(-2):"-01":"-"+("0"+(h.day?h.day:"1")).slice(-2),v+="hour"===h.unit?"hour"===h.unit?"T"+("0"+p).slice(-2):"T00":"T"+("0"+(h.hour?h.hour:"0")).slice(-2),v+="minute"===h.unit?":"+("0"+p).slice(-2):":"+(h.minute?("0"+h.minute).slice(-2):"00"),v+="second"===h.unit?":"+("0"+p).slice(-2):":00",this.utc&&(v+=".000Z"),v}},{key:"formatDates",value:function(h){var p=this,v=this.w;return h.map(function(M){var E=M.value.toString(),N=new ui(p.ctx),O=p.createRawDateString(M,E),j=N.getDate(N.parseDate(O));if(p.utc||(j=N.getDate(N.parseDateWithTimezone(O))),void 0===v.config.xaxis.labels.format){var Z="dd MMM",re=v.config.xaxis.labels.datetimeFormatter;"year"===M.unit&&(Z=re.year),"month"===M.unit&&(Z=re.month),"day"===M.unit&&(Z=re.day),"hour"===M.unit&&(Z=re.hour),"minute"===M.unit&&(Z=re.minute),"second"===M.unit&&(Z=re.second),E=N.formatDate(j,Z)}else E=N.formatDate(j,v.config.xaxis.labels.format);return{dateString:O,position:M.position,value:E,unit:M.unit,year:M.year,month:M.month}})}},{key:"removeOverlappingTS",value:function(h){var p,v=this,M=new jt(this.ctx),E=!1;h.length>0&&h[0].value&&h.every(function(j){return j.value.length===h[0].value.length})&&(E=!0,p=M.getTextRects(h[0].value).width);var N=0;return h.map(function(j,Z){if(Z>0&&v.w.config.xaxis.labels.hideOverlappingLabels){var re=E?p:M.getTextRects(h[N].value).width;return j.position>h[N].position+re+10?(N=Z,j):null}return j}).filter(function(j){return null!==j})}},{key:"_getYear",value:function(h,p,v){return h+Math.floor(p/12)+v}}]),Le}(),It=function(){function Le(h,p){J(this,Le),this.ctx=p,this.w=p.w,this.el=h}return ce(Le,[{key:"setupElements",value:function(){var h=this.w.globals,p=this.w.config,v=p.chart.type;h.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(v)>-1,h.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(v)>-1,h.isBarHorizontal=("bar"===p.chart.type||"rangeBar"===p.chart.type)&&p.plotOptions.bar.horizontal,h.chartClass=".apexcharts"+h.chartID,h.dom.baseEl=this.el,h.dom.elWrap=document.createElement("div"),jt.setAttrs(h.dom.elWrap,{id:h.chartClass.substring(1),class:"apexcharts-canvas "+h.chartClass.substring(1)}),this.el.appendChild(h.dom.elWrap),h.dom.Paper=new window.SVG.Doc(h.dom.elWrap),h.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(p.chart.offsetX,", ").concat(p.chart.offsetY,")")}),h.dom.Paper.node.style.background=p.chart.background,this.setSVGDimensions(),h.dom.elGraphical=h.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),h.dom.elAnnotations=h.dom.Paper.group().attr({class:"apexcharts-annotations"}),h.dom.elDefs=h.dom.Paper.defs(),h.dom.elLegendWrap=document.createElement("div"),h.dom.elLegendWrap.classList.add("apexcharts-legend"),h.dom.elWrap.appendChild(h.dom.elLegendWrap),h.dom.Paper.add(h.dom.elGraphical),h.dom.elGraphical.add(h.dom.elDefs)}},{key:"plotChartType",value:function(h,p){var v=this.w,M=v.config,E=v.globals,N={series:[],i:[]},O={series:[],i:[]},j={series:[],i:[]},Z={series:[],i:[]},re={series:[],i:[]},le={series:[],i:[]},se={series:[],i:[]};E.series.map(function(ue,Oe){var $e=0;void 0!==h[Oe].type?("column"===h[Oe].type||"bar"===h[Oe].type?(E.series.length>1&&M.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),re.series.push(ue),re.i.push(Oe),$e++,v.globals.columnSeries=re.series):"area"===h[Oe].type?(O.series.push(ue),O.i.push(Oe),$e++):"line"===h[Oe].type?(N.series.push(ue),N.i.push(Oe),$e++):"scatter"===h[Oe].type?(j.series.push(ue),j.i.push(Oe)):"bubble"===h[Oe].type?(Z.series.push(ue),Z.i.push(Oe),$e++):"candlestick"===h[Oe].type?(le.series.push(ue),le.i.push(Oe),$e++):"boxPlot"===h[Oe].type?(se.series.push(ue),se.i.push(Oe),$e++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),$e>1&&(E.comboCharts=!0)):(N.series.push(ue),N.i.push(Oe))});var me=new Ne(this.ctx,p),Ee=new hn(this.ctx,p);this.ctx.pie=new ar(this.ctx);var Ae=new wr(this.ctx);this.ctx.rangeBar=new bi(this.ctx,p);var Re=new Or(this.ctx),je=[];if(E.comboCharts){if(O.series.length>0&&je.push(me.draw(O.series,"area",O.i)),re.series.length>0)if(v.config.chart.stacked){var it=new Wt(this.ctx,p);je.push(it.draw(re.series,re.i))}else this.ctx.bar=new Fi(this.ctx,p),je.push(this.ctx.bar.draw(re.series,re.i));if(N.series.length>0&&je.push(me.draw(N.series,"line",N.i)),le.series.length>0&&je.push(Ee.draw(le.series,le.i)),se.series.length>0&&je.push(Ee.draw(se.series,se.i)),j.series.length>0){var _t=new Ne(this.ctx,p,!0);je.push(_t.draw(j.series,"scatter",j.i))}if(Z.series.length>0){var $=new Ne(this.ctx,p,!0);je.push($.draw(Z.series,"bubble",Z.i))}}else switch(M.chart.type){case"line":je=me.draw(E.series,"line");break;case"area":je=me.draw(E.series,"area");break;case"bar":M.chart.stacked?je=new Wt(this.ctx,p).draw(E.series):(this.ctx.bar=new Fi(this.ctx,p),je=this.ctx.bar.draw(E.series));break;case"candlestick":case"boxPlot":je=new hn(this.ctx,p).draw(E.series);break;case"rangeBar":je=this.ctx.rangeBar.draw(E.series);break;case"heatmap":je=new pi(this.ctx,p).draw(E.series);break;case"treemap":je=new bt(this.ctx,p).draw(E.series);break;case"pie":case"donut":case"polarArea":je=this.ctx.pie.draw(E.series);break;case"radialBar":je=Ae.draw(E.series);break;case"radar":je=Re.draw(E.series);break;default:je=me.draw(E.series)}return je}},{key:"setSVGDimensions",value:function(){var h=this.w.globals,p=this.w.config;h.svgWidth=p.chart.width,h.svgHeight=p.chart.height;var v=at.getDimensions(this.el),M=p.chart.width.toString().split(/[0-9]+/g).pop();"%"===M?at.isNumber(v[0])&&(0===v[0].width&&(v=at.getDimensions(this.el.parentNode)),h.svgWidth=v[0]*parseInt(p.chart.width,10)/100):"px"!==M&&""!==M||(h.svgWidth=parseInt(p.chart.width,10));var E=p.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==h.svgHeight&&""!==h.svgHeight)if("%"===E){var N=at.getDimensions(this.el.parentNode);h.svgHeight=N[1]*parseInt(p.chart.height,10)/100}else h.svgHeight=parseInt(p.chart.height,10);else h.svgHeight=h.axisCharts?h.svgWidth/1.61:h.svgWidth/1.2;h.svgWidth<0&&(h.svgWidth=0),h.svgHeight<0&&(h.svgHeight=0),jt.setAttrs(h.dom.Paper.node,{width:h.svgWidth,height:h.svgHeight}),"%"!==E&&(h.dom.Paper.node.parentNode.parentNode.style.minHeight=h.svgHeight+(p.chart.sparkline.enabled?0:h.axisCharts?p.chart.parentHeightOffset:0)+"px"),h.dom.elWrap.style.width=h.svgWidth+"px",h.dom.elWrap.style.height=h.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var h=this.w.globals;jt.setAttrs(h.dom.elGraphical.node,{transform:"translate("+h.translateX+", "+h.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var h=this.w,p=h.globals,v=0,M=h.config.chart.sparkline.enabled?1:15;M+=h.config.grid.padding.bottom,"top"!==h.config.legend.position&&"bottom"!==h.config.legend.position||!h.config.legend.show||h.config.legend.floating||(v=new Yn(this.ctx).legendHelpers.getLegendBBox().clwh+10);var E=h.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),N=2.05*h.globals.radialSize;if(E&&!h.config.chart.sparkline.enabled){var O=at.getBoundingClientRect(E);N=O.bottom,N=Math.max(2.05*h.globals.radialSize,O.bottom-O.top)}var Z=N+p.translateY+v+M;p.dom.elLegendForeign&&p.dom.elLegendForeign.setAttribute("height",Z),p.dom.elWrap.style.height=Z+"px",jt.setAttrs(p.dom.Paper.node,{height:Z}),p.dom.Paper.node.parentNode.parentNode.style.minHeight=Z+"px"}},{key:"coreCalculations",value:function(){new ma(this.ctx).init()}},{key:"resetGlobals",value:function(){var h=this,p=function(){return h.w.config.series.map(function(E){return[]})},v=new $n,M=this.w.globals;v.initGlobalVars(M),M.seriesXvalues=p(),M.seriesYvalues=p()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var h=null,p=this.w;if(p.globals.axisCharts){if("back"===p.config.xaxis.crosshairs.position&&new yi(this.ctx).drawXCrosshairs(),"back"===p.config.yaxis[0].crosshairs.position&&new yi(this.ctx).drawYCrosshairs(),"datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter){this.ctx.timeScale=new Ft(this.ctx);var v=[];isFinite(p.globals.minX)&&isFinite(p.globals.maxX)&&!p.globals.isBarHorizontal?v=this.ctx.timeScale.calculateTimeScaleTicks(p.globals.minX,p.globals.maxX):p.globals.isBarHorizontal&&(v=this.ctx.timeScale.calculateTimeScaleTicks(p.globals.minY,p.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(v)}h=new oi(this.ctx).getCalculatedRatios()}return h}},{key:"updateSourceChart",value:function(h){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:h.w.globals.minX,max:h.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var h=this,p=this.w;if(p.config.chart.brush.enabled&&"function"!=typeof p.config.chart.events.selection){var v=p.config.chart.brush.targets||[p.config.chart.brush.target];v.forEach(function(M){var E=ApexCharts.getChartByID(M);E.w.globals.brushSource=h.ctx,"function"!=typeof E.w.config.chart.events.zoomed&&(E.w.config.chart.events.zoomed=function(){h.updateSourceChart(E)}),"function"!=typeof E.w.config.chart.events.scrolled&&(E.w.config.chart.events.scrolled=function(){h.updateSourceChart(E)})}),p.config.chart.events.selection=function(M,E){v.forEach(function(N){var O=ApexCharts.getChartByID(N),j=at.clone(p.config.yaxis);if(p.config.chart.brush.autoScaleYaxis&&1===O.w.globals.series.length){var Z=new nr(O);j=Z.autoScaleY(O,j,E)}var re=O.w.config.yaxis.reduce(function(le,se,me){return[].concat(en(le),[xe(xe({},O.w.config.yaxis[me]),{},{min:j[0].min,max:j[0].max})])},[]);O.ctx.updateHelpers._updateOptions({xaxis:{min:E.xaxis.min,max:E.xaxis.max},yaxis:re},!1,!1,!1,!1)})}}}}]),Le}(),Kt=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"_updateOptions",value:function(h){var p=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=[this.ctx];E&&(O=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(O=[this.ctx],this.ctx.w.globals.isExecCalled=!1),O.forEach(function(j){var Z=j.w;return Z.globals.shouldAnimate=M,v||(Z.globals.resized=!0,Z.globals.dataChanged=!0,M&&j.series.getPreviousPaths()),h&&"object"===W(h)&&(j.config=new gi(h),h=oi.extendArrayProps(j.config,h,Z),j.w.globals.chartID!==p.ctx.w.globals.chartID&&delete h.series,Z.config=at.extend(Z.config,h),N&&(Z.globals.lastXAxis=h.xaxis?at.clone(h.xaxis):[],Z.globals.lastYAxis=h.yaxis?at.clone(h.yaxis):[],Z.globals.initialConfig=at.extend({},Z.config),Z.globals.initialSeries=at.clone(Z.config.series))),j.update(h)})}},{key:"_updateSeries",value:function(h,p){var v,M=this,E=arguments.length>2&&void 0!==arguments[2]&&arguments[2],N=this.w;return N.globals.shouldAnimate=p,N.globals.dataChanged=!0,p&&this.ctx.series.getPreviousPaths(),N.globals.axisCharts?(0===(v=h.map(function(O,j){return M._extendSeries(O,j)})).length&&(v=[{data:[]}]),N.config.series=v):N.config.series=h.slice(),E&&(N.globals.initialSeries=at.clone(N.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(h,p){var v=this.w,M=v.config.series[p];return xe(xe({},v.config.series[p]),{},{name:h.name?h.name:M&&M.name,color:h.color?h.color:M&&M.color,type:h.type?h.type:M&&M.type,data:h.data?h.data:M&&M.data})}},{key:"toggleDataPointSelection",value:function(h,p){var v=this.w,M=null,E=".apexcharts-series[data\\:realIndex='".concat(h,"']");return v.globals.axisCharts?M=v.globals.dom.Paper.select("".concat(E," path[j='").concat(p,"'], ").concat(E," circle[j='").concat(p,"'], ").concat(E," rect[j='").concat(p,"']")).members[0]:void 0===p&&(M=v.globals.dom.Paper.select("".concat(E," path[j='").concat(h,"']")).members[0],"pie"!==v.config.chart.type&&"polarArea"!==v.config.chart.type&&"donut"!==v.config.chart.type||this.ctx.pie.pieClicked(h)),M?(new jt(this.ctx).pathMouseDown(M,null),M.node?M.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(h){var p=this.w;if(["min","max"].forEach(function(M){void 0!==h.xaxis[M]&&(p.config.xaxis[M]=h.xaxis[M],p.globals.lastXAxis[M]=h.xaxis[M])}),h.xaxis.categories&&h.xaxis.categories.length&&(p.config.xaxis.categories=h.xaxis.categories),p.config.xaxis.convertedCatToNumeric){var v=new mi(h);h=v.convertCatToNumericXaxis(h,this.ctx)}return h}},{key:"forceYAxisUpdate",value:function(h){var p=this.w;return p.config.chart.stacked&&"100%"===p.config.chart.stackType&&(Array.isArray(h.yaxis)?h.yaxis.forEach(function(v,M){h.yaxis[M].min=0,h.yaxis[M].max=100}):(h.yaxis.min=0,h.yaxis.max=100)),h}},{key:"revertDefaultAxisMinMax",value:function(h){var p=this,v=this.w,M=v.globals.lastXAxis,E=v.globals.lastYAxis;h&&h.xaxis&&(M=h.xaxis),h&&h.yaxis&&(E=h.yaxis),v.config.xaxis.min=M.min,v.config.xaxis.max=M.max,v.config.yaxis.map(function(O,j){v.globals.zoomed||void 0!==E[j]?function(O){void 0!==E[O]&&(v.config.yaxis[O].min=E[O].min,v.config.yaxis[O].max=E[O].max)}(j):void 0!==p.ctx.opts.yaxis[j]&&(O.min=p.ctx.opts.yaxis[j].min,O.max=p.ctx.opts.yaxis[j].max)})}}]),Le}();Ze="undefined"!=typeof window?window:void 0,ct=function(Le,h){var p=(void 0!==this?this:Le).SVG=function($){if(p.supported)return $=new p.Doc($),p.parser.draw||p.prepare(),$};if(p.ns="http://www.w3.org/2000/svg",p.xmlns="http://www.w3.org/2000/xmlns/",p.xlink="http://www.w3.org/1999/xlink",p.svgjs="http://svgjs.com/svgjs",p.supported=!0,!p.supported)return!1;p.did=1e3,p.eid=function($){return"Svgjs"+re($)+p.did++},p.create=function($){var ue=h.createElementNS(this.ns,$);return ue.setAttribute("id",this.eid($)),ue},p.extend=function(){var $,ue;ue=($=[].slice.call(arguments)).pop();for(var Oe=$.length-1;Oe>=0;Oe--)if($[Oe])for(var $e in ue)$[Oe].prototype[$e]=ue[$e];p.Set&&p.Set.inherit&&p.Set.inherit()},p.invent=function($){var ue="function"==typeof $.create?$.create:function(){this.constructor.call(this,p.create($.create))};return $.inherit&&(ue.prototype=new $.inherit),$.extend&&p.extend(ue,$.extend),$.construct&&p.extend($.parent||p.Container,$.construct),ue},p.adopt=function($){return $?$.instance?$.instance:((ue="svg"==$.nodeName?$.parentNode instanceof Le.SVGElement?new p.Nested:new p.Doc:"linearGradient"==$.nodeName?new p.Gradient("linear"):"radialGradient"==$.nodeName?new p.Gradient("radial"):p[re($.nodeName)]?new(p[re($.nodeName)]):new p.Element($)).type=$.nodeName,ue.node=$,$.instance=ue,ue instanceof p.Doc&&ue.namespace().defs(),ue.setData(JSON.parse($.getAttribute("svgjs:data"))||{}),ue):null;var ue},p.prepare=function(){var $=h.getElementsByTagName("body")[0],ue=($?new p.Doc($):p.adopt(h.documentElement).nested()).size(2,0);p.parser={body:$||h.documentElement,draw:ue.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:ue.polyline().node,path:ue.path().node,native:p.create("svg")}},p.parser={native:p.create("svg")},h.addEventListener("DOMContentLoaded",function(){p.parser.draw||p.prepare()},!1),p.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},p.utils={map:function($,ue){for(var Oe=$.length,$e=[],ft=0;ft<Oe;ft++)$e.push(ue($[ft]));return $e},filter:function($,ue){for(var Oe=$.length,$e=[],ft=0;ft<Oe;ft++)ue($[ft])&&$e.push($[ft]);return $e},filterSVGElements:function($){return this.filter($,function(ue){return ue instanceof Le.SVGElement})}},p.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},p.Color=function($){var ue,Oe;this.r=0,this.g=0,this.b=0,$&&("string"==typeof $?p.regex.isRgb.test($)?(ue=p.regex.rgb.exec($.replace(p.regex.whitespace,"")),this.r=parseInt(ue[1]),this.g=parseInt(ue[2]),this.b=parseInt(ue[3])):p.regex.isHex.test($)&&(ue=p.regex.hex.exec(4==(Oe=$).length?["#",Oe.substring(1,2),Oe.substring(1,2),Oe.substring(2,3),Oe.substring(2,3),Oe.substring(3,4),Oe.substring(3,4)].join(""):Oe),this.r=parseInt(ue[1],16),this.g=parseInt(ue[2],16),this.b=parseInt(ue[3],16)):"object"===W($)&&(this.r=$.r,this.g=$.g,this.b=$.b))},p.extend(p.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+le(this.r)+le(this.g)+le(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function($){return this.destination=new p.Color($),this},at:function($){return this.destination?new p.Color({r:~~(this.r+(this.destination.r-this.r)*($=$<0?0:$>1?1:$)),g:~~(this.g+(this.destination.g-this.g)*$),b:~~(this.b+(this.destination.b-this.b)*$)}):this}}),p.Color.test=function($){return p.regex.isHex.test($+="")||p.regex.isRgb.test($)},p.Color.isRgb=function($){return $&&"number"==typeof $.r&&"number"==typeof $.g&&"number"==typeof $.b},p.Color.isColor=function($){return p.Color.isRgb($)||p.Color.test($)},p.Array=function($,ue){0==($=($||[]).valueOf()).length&&ue&&($=ue.valueOf()),this.value=this.parse($)},p.extend(p.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function($){return $=$.valueOf(),Array.isArray($)?$:this.split($)}}),p.PointArray=function($,ue){p.Array.call(this,$,ue||[[0,0]])},p.PointArray.prototype=new p.Array,p.PointArray.prototype.constructor=p.PointArray;for(var v={M:function($,ue,Oe){return ue.x=Oe.x=$[0],ue.y=Oe.y=$[1],["M",ue.x,ue.y]},L:function($,ue){return ue.x=$[0],ue.y=$[1],["L",$[0],$[1]]},H:function($,ue){return ue.x=$[0],["H",$[0]]},V:function($,ue){return ue.y=$[0],["V",$[0]]},C:function($,ue){return ue.x=$[4],ue.y=$[5],["C",$[0],$[1],$[2],$[3],$[4],$[5]]},Q:function($,ue){return ue.x=$[2],ue.y=$[3],["Q",$[0],$[1],$[2],$[3]]},Z:function($,ue,Oe){return ue.x=Oe.x,ue.y=Oe.y,["Z"]}},M="mlhvqtcsaz".split(""),E=0,N=M.length;E<N;++E)v[M[E]]=function($){return function(ue,Oe,$e){if("H"==$)ue[0]=ue[0]+Oe.x;else if("V"==$)ue[0]=ue[0]+Oe.y;else if("A"==$)ue[5]=ue[5]+Oe.x,ue[6]=ue[6]+Oe.y;else for(var ft=0,sn=ue.length;ft<sn;++ft)ue[ft]=ue[ft]+(ft%2?Oe.y:Oe.x);return v[$](ue,Oe,$e)}}(M[E].toUpperCase());p.PathArray=function($,ue){p.Array.call(this,$,ue||[["M",0,0]])},p.PathArray.prototype=new p.Array,p.PathArray.prototype.constructor=p.PathArray,p.extend(p.PathArray,{toString:function(){return function($){for(var ue=0,Oe=$.length,$e="";ue<Oe;ue++)$e+=$[ue][0],null!=$[ue][1]&&($e+=$[ue][1],null!=$[ue][2]&&($e+=" ",$e+=$[ue][2],null!=$[ue][3]&&($e+=" ",$e+=$[ue][3],$e+=" ",$e+=$[ue][4],null!=$[ue][5]&&($e+=" ",$e+=$[ue][5],$e+=" ",$e+=$[ue][6],null!=$[ue][7]&&($e+=" ",$e+=$[ue][7])))));return $e+" "}(this.value)},move:function($,ue){return this.bbox(),this},at:function($){if(!this.destination)return this;for(var ue=this.value,Oe=this.destination.value,$e=[],ft=new p.PathArray,sn=0,Gt=ue.length;sn<Gt;sn++){$e[sn]=[ue[sn][0]];for(var dn=1,Nn=ue[sn].length;dn<Nn;dn++)$e[sn][dn]=ue[sn][dn]+(Oe[sn][dn]-ue[sn][dn])*$;"A"===$e[sn][0]&&($e[sn][4]=+(0!=$e[sn][4]),$e[sn][5]=+(0!=$e[sn][5]))}return ft.value=$e,ft},parse:function($){if($ instanceof p.PathArray)return $.valueOf();var ue,Oe={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};$="string"==typeof $?$.replace(p.regex.numbersWithDots,j).replace(p.regex.pathLetters," $& ").replace(p.regex.hyphen,"$1 -").trim().split(p.regex.delimiter):$.reduce(function(Nn,Pn){return[].concat.call(Nn,Pn)},[]);var $e=[],ft=new p.Point,sn=new p.Point,Gt=0,dn=$.length;do{p.regex.isPathLetter.test($[Gt])?(ue=$[Gt],++Gt):"M"==ue?ue="L":"m"==ue&&(ue="l"),$e.push(v[ue].call(null,$.slice(Gt,Gt+=Oe[ue.toUpperCase()]).map(parseFloat),ft,sn))}while(dn>Gt);return $e},bbox:function(){return p.parser.draw||p.prepare(),p.parser.path.setAttribute("d",this.toString()),p.parser.path.getBBox()}}),p.Number=p.invent({create:function($,ue){this.value=0,this.unit=ue||"","number"==typeof $?this.value=isNaN($)?0:isFinite($)?$:$<0?-34e37:34e37:"string"==typeof $?(ue=$.match(p.regex.numberAndUnit))&&(this.value=parseFloat(ue[1]),"%"==ue[5]?this.value/=100:"s"==ue[5]&&(this.value*=1e3),this.unit=ue[5]):$ instanceof p.Number&&(this.value=$.valueOf(),this.unit=$.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function($){return $=new p.Number($),new p.Number(this+$,this.unit||$.unit)},minus:function($){return $=new p.Number($),new p.Number(this-$,this.unit||$.unit)},times:function($){return $=new p.Number($),new p.Number(this*$,this.unit||$.unit)},divide:function($){return $=new p.Number($),new p.Number(this/$,this.unit||$.unit)},to:function($){var ue=new p.Number(this);return"string"==typeof $&&(ue.unit=$),ue},morph:function($){return this.destination=new p.Number($),$.relative&&(this.destination.value+=this.value),this},at:function($){return this.destination?new p.Number(this.destination).minus(this).times($).plus(this):this}}}),p.Element=p.invent({create:function($){this._stroke=p.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=$)&&(this.type=$.nodeName,this.node.instance=this,this._stroke=$.getAttribute("stroke")||this._stroke)},extend:{x:function($){return this.attr("x",$)},y:function($){return this.attr("y",$)},cx:function($){return null==$?this.x()+this.width()/2:this.x($-this.width()/2)},cy:function($){return null==$?this.y()+this.height()/2:this.y($-this.height()/2)},move:function($,ue){return this.x($).y(ue)},center:function($,ue){return this.cx($).cy(ue)},width:function($){return this.attr("width",$)},height:function($){return this.attr("height",$)},size:function($,ue){var Oe=se(this,$,ue);return this.width(new p.Number(Oe.width)).height(new p.Number(Oe.height))},clone:function($){this.writeDataToDom();var ue=Ae(this.node.cloneNode(!0));return $?$.add(ue):this.after(ue),ue},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function($){return this.after($).remove(),$},addTo:function($){return $.put(this)},putIn:function($){return $.add(this)},id:function($){return this.attr("id",$)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var $=this.attr("class");return null==$?[]:$.trim().split(p.regex.delimiter)},hasClass:function($){return-1!=this.classes().indexOf($)},addClass:function($){if(!this.hasClass($)){var ue=this.classes();ue.push($),this.attr("class",ue.join(" "))}return this},removeClass:function($){return this.hasClass($)&&this.attr("class",this.classes().filter(function(ue){return ue!=$}).join(" ")),this},toggleClass:function($){return this.hasClass($)?this.removeClass($):this.addClass($)},reference:function($){return p.get(this.attr($))},parent:function($){var ue=this;if(!ue.node.parentNode)return null;if(ue=p.adopt(ue.node.parentNode),!$)return ue;for(;ue&&ue.node instanceof Le.SVGElement;){if("string"==typeof $?ue.matches($):ue instanceof $)return ue;if(!ue.node.parentNode||"#document"==ue.node.parentNode.nodeName)return null;ue=p.adopt(ue.node.parentNode)}},doc:function(){return this instanceof p.Doc?this:this.parent(p.Doc)},parents:function($){var ue=[],Oe=this;do{if(!(Oe=Oe.parent($))||!Oe.node)break;ue.push(Oe)}while(Oe.parent);return ue},matches:function($){return((ue=this.node).matches||ue.matchesSelector||ue.msMatchesSelector||ue.mozMatchesSelector||ue.webkitMatchesSelector||ue.oMatchesSelector).call(ue,$);var ue},native:function(){return this.node},svg:function($){var ue=h.createElement("svg");if(!($&&this instanceof p.Parent))return ue.appendChild($=h.createElement("svg")),this.writeDataToDom(),$.appendChild(this.node.cloneNode(!0)),ue.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");ue.innerHTML="<svg>"+$.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Oe=0,$e=ue.firstChild.childNodes.length;Oe<$e;Oe++)this.node.appendChild(ue.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function($){return this.dom=$,this},is:function($){return this instanceof $}}}),p.easing={"-":function($){return $},"<>":function($){return-Math.cos($*Math.PI)/2+.5},">":function($){return Math.sin($*Math.PI/2)},"<":function($){return 1-Math.cos($*Math.PI/2)}},p.morph=function($){return function(ue,Oe){return new p.MorphObj(ue,Oe).at($)}},p.Situation=p.invent({create:function($){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new p.Number($.duration).valueOf(),this.delay=new p.Number($.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=$.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),p.FX=p.invent({create:function($){this._target=$,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function($,ue,Oe){"object"===W($)&&(ue=$.ease,Oe=$.delay,$=$.duration);var $e=new p.Situation({duration:$||1e3,delay:Oe||0,ease:p.easing[ue||"-"]||ue});return this.queue($e),this},target:function($){return $&&$ instanceof p.Element?(this._target=$,this):this._target},timeToAbsPos:function($){return($-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function($){return this.situation.duration/this._speed*$+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=Le.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){Le.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function($){return("function"==typeof $||$ instanceof p.Situation)&&this.situations.push($),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof p.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var $,ue=this.situation;if(ue.init)return this;for(var Oe in ue.animations){$=this.target()[Oe](),Array.isArray($)||($=[$]),Array.isArray(ue.animations[Oe])||(ue.animations[Oe]=[ue.animations[Oe]]);for(var $e=$.length;$e--;)ue.animations[Oe][$e]instanceof p.Number&&($[$e]=new p.Number($[$e])),ue.animations[Oe][$e]=$[$e].morph(ue.animations[Oe][$e])}for(var Oe in ue.attrs)ue.attrs[Oe]=new p.MorphObj(this.target().attr(Oe),ue.attrs[Oe]);for(var Oe in ue.styles)ue.styles[Oe]=new p.MorphObj(this.target().style(Oe),ue.styles[Oe]);return ue.initialTransformation=this.target().matrixify(),ue.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function($,ue){var Oe=this.active;return this.active=!1,ue&&this.clearQueue(),$&&this.situation&&(!Oe&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function($){var ue=this.last();return this.target().on("finished.fx",function Oe($e){$e.detail.situation==ue&&($.call(this,ue),this.off("finished.fx",Oe))}),this._callStart()},during:function($){var ue=this.last(),Oe=function($e){$e.detail.situation==ue&&$.call(this,$e.detail.pos,p.morph($e.detail.pos),$e.detail.eased,ue)};return this.target().off("during.fx",Oe).on("during.fx",Oe),this.after(function(){this.off("during.fx",Oe)}),this._callStart()},afterAll:function($){var ue=function Oe($e){$.call(this),this.off("allfinished.fx",Oe)};return this.target().off("allfinished.fx",ue).on("allfinished.fx",ue),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function($,ue,Oe){return this.last()[Oe||"animations"][$]=ue,this._callStart()},step:function($){var ue,Oe,$e;$||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(ue=Math.max(this.absPos,0),Oe=Math.floor(ue),!0===this.situation.loops||Oe<this.situation.loops?(this.pos=ue-Oe,$e=this.situation.loop,this.situation.loop=Oe):(this.absPos=this.situation.loops,this.pos=1,$e=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-$e)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var ft=this.situation.ease(this.pos);for(var sn in this.situation.once)sn>this.lastPos&&sn<=ft&&(this.situation.once[sn].call(this.target(),this.pos,ft),delete this.situation.once[sn]);return this.active&&this.target().fire("during",{pos:this.pos,eased:ft,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=ft,this):this},eachAt:function(){var $,ue=this,Oe=this.target(),$e=this.situation;for(var ft in $e.animations)$=[].concat($e.animations[ft]).map(function(dn){return"string"!=typeof dn&&dn.at?dn.at($e.ease(ue.pos),ue.pos):dn}),Oe[ft].apply(Oe,$);for(var ft in $e.attrs)$=[ft].concat($e.attrs[ft]).map(function(Nn){return"string"!=typeof Nn&&Nn.at?Nn.at($e.ease(ue.pos),ue.pos):Nn}),Oe.attr.apply(Oe,$);for(var ft in $e.styles)$=[ft].concat($e.styles[ft]).map(function(Nn){return"string"!=typeof Nn&&Nn.at?Nn.at($e.ease(ue.pos),ue.pos):Nn}),Oe.style.apply(Oe,$);if($e.transforms.length){$=$e.initialTransformation,ft=0;for(var sn=$e.transforms.length;ft<sn;ft++){var Gt=$e.transforms[ft];Gt instanceof p.Matrix?$=Gt.relative?$.multiply((new p.Matrix).morph(Gt).at($e.ease(this.pos))):$.morph(Gt).at($e.ease(this.pos)):(Gt.relative||Gt.undo($.extract()),$=$.multiply(Gt.at($e.ease(this.pos))))}Oe.matrix($)}return this},once:function($,ue,Oe){var $e=this.last();return Oe||($=$e.ease($)),$e.once[$]=ue,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:p.Element,construct:{animate:function($,ue,Oe){return(this.fx||(this.fx=new p.FX(this))).animate($,ue,Oe)},delay:function($){return(this.fx||(this.fx=new p.FX(this))).delay($)},stop:function($,ue){return this.fx&&this.fx.stop($,ue),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),p.MorphObj=p.invent({create:function($,ue){return p.Color.isColor(ue)?new p.Color($).morph(ue):p.regex.delimiter.test($)?p.regex.pathLetters.test($)?new p.PathArray($).morph(ue):new p.Array($).morph(ue):p.regex.numberAndUnit.test(ue)?new p.Number($).morph(ue):(this.value=$,void(this.destination=ue))},extend:{at:function($,ue){return ue<1?this.value:this.destination},valueOf:function(){return this.value}}}),p.extend(p.FX,{attr:function($,ue,Oe){if("object"===W($))for(var $e in $)this.attr($e,$[$e]);else this.add($,ue,"attrs");return this},plot:function($,ue,Oe,$e){return 4==arguments.length?this.plot([$,ue,Oe,$e]):this.add("plot",new(this.target().morphArray)($))}}),p.Box=p.invent({create:function($,ue,Oe,$e){if(!("object"!==W($)||$ instanceof p.Element))return p.Box.call(this,null!=$.left?$.left:$.x,null!=$.top?$.top:$.y,$.width,$.height);4==arguments.length&&(this.x=$,this.y=ue,this.width=Oe,this.height=$e),Re(this)}}),p.BBox=p.invent({create:function($){if(p.Box.apply(this,[].slice.call(arguments)),$ instanceof p.Element){var ue;try{if(!h.documentElement.contains){for(var Oe=$.node;Oe.parentNode;)Oe=Oe.parentNode;if(Oe!=h)throw new Error("Element not in the dom")}ue=$.node.getBBox()}catch(ft){if($ instanceof p.Shape){p.parser.draw||p.prepare();var $e=$.clone(p.parser.draw.instance).show();ue=$e.node.getBBox(),$e.remove()}else ue={x:$.node.clientLeft,y:$.node.clientTop,width:$.node.clientWidth,height:$.node.clientHeight}}p.Box.call(this,ue)}},inherit:p.Box,parent:p.Element,construct:{bbox:function(){return new p.BBox(this)}}}),p.BBox.prototype.constructor=p.BBox,p.Matrix=p.invent({create:function($){var ue=Ee([1,0,0,1,0,0]);$=null===$?ue:$ instanceof p.Element?$.matrixify():"string"==typeof $?Ee($.split(p.regex.delimiter).map(parseFloat)):6==arguments.length?Ee([].slice.call(arguments)):Array.isArray($)?Ee($):$&&"object"===W($)?$:ue;for(var Oe=it.length-1;Oe>=0;--Oe)this[it[Oe]]=null!=$[it[Oe]]?$[it[Oe]]:ue[it[Oe]]},extend:{extract:function(){var $=me(this,0,1);me(this,1,0);var ue=180/Math.PI*Math.atan2($.y,$.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(ue*Math.PI/180)+this.f*Math.sin(ue*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(ue*Math.PI/180)+this.e*Math.sin(-ue*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:ue,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new p.Matrix(this)}},clone:function(){return new p.Matrix(this)},morph:function($){return this.destination=new p.Matrix($),this},multiply:function($){return new p.Matrix(this.native().multiply((ue=$,ue instanceof p.Matrix||(ue=new p.Matrix(ue)),ue).native()));var ue},inverse:function(){return new p.Matrix(this.native().inverse())},translate:function($,ue){return new p.Matrix(this.native().translate($||0,ue||0))},native:function(){for(var $=p.parser.native.createSVGMatrix(),ue=it.length-1;ue>=0;ue--)$[it[ue]]=this[it[ue]];return $},toString:function(){return"matrix("+je(this.a)+","+je(this.b)+","+je(this.c)+","+je(this.d)+","+je(this.e)+","+je(this.f)+")"}},parent:p.Element,construct:{ctm:function(){return new p.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof p.Nested){var $=this.rect(1,1),ue=$.node.getScreenCTM();return $.remove(),new p.Matrix(ue)}return new p.Matrix(this.node.getScreenCTM())}}}),p.Point=p.invent({create:function($,ue){var Oe;Oe=Array.isArray($)?{x:$[0],y:$[1]}:"object"===W($)?{x:$.x,y:$.y}:null!=$?{x:$,y:null!=ue?ue:$}:{x:0,y:0},this.x=Oe.x,this.y=Oe.y},extend:{clone:function(){return new p.Point(this)},morph:function($,ue){return this.destination=new p.Point($,ue),this}}}),p.extend(p.Element,{point:function($,ue){return new p.Point($,ue).transform(this.screenCTM().inverse())}}),p.extend(p.Element,{attr:function($,ue,Oe){if(null==$){for($={},Oe=(ue=this.node.attributes).length-1;Oe>=0;Oe--)$[ue[Oe].nodeName]=p.regex.isNumber.test(ue[Oe].nodeValue)?parseFloat(ue[Oe].nodeValue):ue[Oe].nodeValue;return $}if("object"===W($))for(var $e in $)this.attr($e,$[$e]);else if(null===ue)this.node.removeAttribute($);else{if(null==ue)return null==(ue=this.node.getAttribute($))?p.defaults.attrs[$]:p.regex.isNumber.test(ue)?parseFloat(ue):ue;"stroke-width"==$?this.attr("stroke",parseFloat(ue)>0?this._stroke:null):"stroke"==$&&(this._stroke=ue),"fill"!=$&&"stroke"!=$||(p.regex.isImage.test(ue)&&(ue=this.doc().defs().image(ue,0,0)),ue instanceof p.Image&&(ue=this.doc().defs().pattern(0,0,function(){this.add(ue)}))),"number"==typeof ue?ue=new p.Number(ue):p.Color.isColor(ue)?ue=new p.Color(ue):Array.isArray(ue)&&(ue=new p.Array(ue)),"leading"==$?this.leading&&this.leading(ue):"string"==typeof Oe?this.node.setAttributeNS(Oe,$,ue.toString()):this.node.setAttribute($,ue.toString()),!this.rebuild||"font-size"!=$&&"x"!=$||this.rebuild($,ue)}return this}}),p.extend(p.Element,{transform:function($,ue){var Oe;return"object"!==W($)?(Oe=new p.Matrix(this).extract(),"string"==typeof $?Oe[$]:Oe):(Oe=new p.Matrix(this),ue=!!ue||!!$.relative,null!=$.a&&(Oe=ue?Oe.multiply(new p.Matrix($)):new p.Matrix($)),this.attr("transform",Oe))}}),p.extend(p.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(p.regex.transforms).slice(0,-1).map(function($){var ue=$.trim().split("(");return[ue[0],ue[1].split(p.regex.delimiter).map(function(Oe){return parseFloat(Oe)})]}).reduce(function($,ue){return"matrix"==ue[0]?$.multiply(Ee(ue[1])):$[ue[0]].apply($,ue[1])},new p.Matrix)},toParent:function($){if(this==$)return this;var ue=this.screenCTM(),Oe=$.screenCTM().inverse();return this.addTo($).untransform().transform(Oe.multiply(ue)),this},toDoc:function(){return this.toParent(this.doc())}}),p.Transformation=p.invent({create:function($,ue){if(arguments.length>1&&"boolean"!=typeof ue)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray($))for(var Oe=0,$e=this.arguments.length;Oe<$e;++Oe)this[this.arguments[Oe]]=$[Oe];else if($&&"object"===W($))for(Oe=0,$e=this.arguments.length;Oe<$e;++Oe)this[this.arguments[Oe]]=$[this.arguments[Oe]];this.inversed=!1,!0===ue&&(this.inversed=!0)}}),p.Translate=p.invent({parent:p.Matrix,inherit:p.Transformation,create:function($,ue){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),p.extend(p.Element,{style:function($,ue){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===W($))for(var Oe in $)this.style(Oe,$[Oe]);else{if(!p.regex.isCss.test($))return this.node.style[Z($)];for($=$.split(/\s*;\s*/).filter(function($e){return!!$e}).map(function($e){return $e.split(/\s*:\s*/)});ue=$.pop();)this.style(ue[0],ue[1])}else this.node.style[Z($)]=null===ue||p.regex.isBlank.test(ue)?"":ue;return this}}),p.Parent=p.invent({create:function($){this.constructor.call(this,$)},inherit:p.Element,extend:{children:function(){return p.utils.map(p.utils.filterSVGElements(this.node.childNodes),function($){return p.adopt($)})},add:function($,ue){return null==ue?this.node.appendChild($.node):$.node!=this.node.childNodes[ue]&&this.node.insertBefore($.node,this.node.childNodes[ue]),this},put:function($,ue){return this.add($,ue),$},has:function($){return this.index($)>=0},index:function($){return[].slice.call(this.node.childNodes).indexOf($.node)},get:function($){return p.adopt(this.node.childNodes[$])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function($,ue){for(var Oe=this.children(),$e=0,ft=Oe.length;$e<ft;$e++)Oe[$e]instanceof p.Element&&$.apply(Oe[$e],[$e,Oe]),ue&&Oe[$e]instanceof p.Container&&Oe[$e].each($,ue);return this},removeElement:function($){return this.node.removeChild($.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),p.extend(p.Parent,{ungroup:function($,ue){return 0===ue||this instanceof p.Defs||this.node==p.parser.draw||($=$||(this instanceof p.Doc?this:this.parent(p.Parent)),ue=ue||1/0,this.each(function(){return this instanceof p.Defs?this:this instanceof p.Parent?this.ungroup($,ue-1):this.toParent($)}),this.node.firstChild||this.remove()),this},flatten:function($,ue){return this.ungroup($,ue)}}),p.Container=p.invent({create:function($){this.constructor.call(this,$)},inherit:p.Parent}),p.ViewBox=p.invent({parent:p.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function($){p.Element.prototype[$]=function(ue){return p.on(this.node,$,ue),this}}),p.listeners=[],p.handlerMap=[],p.listenerId=0,p.on=function($,ue,Oe,$e,ft){var sn=Oe.bind($e||$.instance||$),Gt=(p.handlerMap.indexOf($)+1||p.handlerMap.push($))-1,dn=ue.split(".")[0],Nn=ue.split(".")[1]||"*";p.listeners[Gt]=p.listeners[Gt]||{},p.listeners[Gt][dn]=p.listeners[Gt][dn]||{},p.listeners[Gt][dn][Nn]=p.listeners[Gt][dn][Nn]||{},Oe._svgjsListenerId||(Oe._svgjsListenerId=++p.listenerId),p.listeners[Gt][dn][Nn][Oe._svgjsListenerId]=sn,$.addEventListener(dn,sn,ft||{passive:!0})},p.off=function($,ue,Oe){var $e=p.handlerMap.indexOf($),ft=ue&&ue.split(".")[0],sn=ue&&ue.split(".")[1],Gt="";if(-1!=$e)if(Oe){if("function"==typeof Oe&&(Oe=Oe._svgjsListenerId),!Oe)return;p.listeners[$e][ft]&&p.listeners[$e][ft][sn||"*"]&&($.removeEventListener(ft,p.listeners[$e][ft][sn||"*"][Oe],!1),delete p.listeners[$e][ft][sn||"*"][Oe])}else if(sn&&ft){if(p.listeners[$e][ft]&&p.listeners[$e][ft][sn]){for(var dn in p.listeners[$e][ft][sn])p.off($,[ft,sn].join("."),dn);delete p.listeners[$e][ft][sn]}}else if(sn)for(var Nn in p.listeners[$e])for(var Gt in p.listeners[$e][Nn])sn===Gt&&p.off($,[Nn,sn].join("."));else if(ft){if(p.listeners[$e][ft]){for(var Gt in p.listeners[$e][ft])p.off($,[ft,Gt].join("."));delete p.listeners[$e][ft]}}else{for(var Nn in p.listeners[$e])p.off($,Nn);delete p.listeners[$e],delete p.handlerMap[$e]}},p.extend(p.Element,{on:function($,ue,Oe,$e){return p.on(this.node,$,ue,Oe,$e),this},off:function($,ue){return p.off(this.node,$,ue),this},fire:function($,ue){return this.node.dispatchEvent($ instanceof Le.Event?$:$=new p.CustomEvent($,{detail:ue,cancelable:!0})),this._event=$,this},event:function(){return this._event}}),p.Defs=p.invent({create:"defs",inherit:p.Container}),p.G=p.invent({create:"g",inherit:p.Container,extend:{x:function($){return null==$?this.transform("x"):this.transform({x:$-this.x()},!0)}},construct:{group:function(){return this.put(new p.G)}}}),p.Doc=p.invent({create:function($){$&&("svg"==($="string"==typeof $?h.getElementById($):$).nodeName?this.constructor.call(this,$):(this.constructor.call(this,p.create("svg")),$.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:p.Container,extend:{namespace:function(){return this.attr({xmlns:p.ns,version:"1.1"}).attr("xmlns:xlink",p.xlink,p.xmlns).attr("xmlns:svgjs",p.svgjs,p.xmlns)},defs:function(){var $;return this._defs||(this._defs=($=this.node.getElementsByTagName("defs")[0])?p.adopt($):new p.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,p.parser.draw&&!p.parser.draw.parentNode&&this.node.appendChild(p.parser.draw),this},clone:function($){this.writeDataToDom();var ue=this.node,Oe=Ae(ue.cloneNode(!0));return $?($.node||$).appendChild(Oe.node):ue.parentNode.insertBefore(Oe.node,ue.nextSibling),Oe}}}),p.extend(p.Element,{}),p.Gradient=p.invent({create:function($){this.constructor.call(this,p.create($+"Gradient")),this.type=$},inherit:p.Container,extend:{at:function($,ue,Oe){return this.put(new p.Stop).update($,ue,Oe)},update:function($){return this.clear(),"function"==typeof $&&$.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function($,ue,Oe){return"transform"==$&&($="gradientTransform"),p.Container.prototype.attr.call(this,$,ue,Oe)}},construct:{gradient:function($,ue){return this.defs().gradient($,ue)}}}),p.extend(p.Gradient,p.FX,{from:function($,ue){return this.attr("radial"==(this._target||this).type?{fx:new p.Number($),fy:new p.Number(ue)}:{x1:new p.Number($),y1:new p.Number(ue)})},to:function($,ue){return this.attr("radial"==(this._target||this).type?{cx:new p.Number($),cy:new p.Number(ue)}:{x2:new p.Number($),y2:new p.Number(ue)})}}),p.extend(p.Defs,{gradient:function($,ue){return this.put(new p.Gradient($)).update(ue)}}),p.Stop=p.invent({create:"stop",inherit:p.Element,extend:{update:function($){return("number"==typeof $||$ instanceof p.Number)&&($={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=$.opacity&&this.attr("stop-opacity",$.opacity),null!=$.color&&this.attr("stop-color",$.color),null!=$.offset&&this.attr("offset",new p.Number($.offset)),this}}}),p.Pattern=p.invent({create:"pattern",inherit:p.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function($){return this.clear(),"function"==typeof $&&$.call(this,this),this},toString:function(){return this.fill()},attr:function($,ue,Oe){return"transform"==$&&($="patternTransform"),p.Container.prototype.attr.call(this,$,ue,Oe)}},construct:{pattern:function($,ue,Oe){return this.defs().pattern($,ue,Oe)}}}),p.extend(p.Defs,{pattern:function($,ue,Oe){return this.put(new p.Pattern).update(Oe).attr({x:0,y:0,width:$,height:ue,patternUnits:"userSpaceOnUse"})}}),p.Shape=p.invent({create:function($){this.constructor.call(this,$)},inherit:p.Element}),p.Symbol=p.invent({create:"symbol",inherit:p.Container,construct:{symbol:function(){return this.put(new p.Symbol)}}}),p.Use=p.invent({create:"use",inherit:p.Shape,extend:{element:function($,ue){return this.attr("href",(ue||"")+"#"+$,p.xlink)}},construct:{use:function($,ue){return this.put(new p.Use).element($,ue)}}}),p.Rect=p.invent({create:"rect",inherit:p.Shape,construct:{rect:function($,ue){return this.put(new p.Rect).size($,ue)}}}),p.Circle=p.invent({create:"circle",inherit:p.Shape,construct:{circle:function($){return this.put(new p.Circle).rx(new p.Number($).divide(2)).move(0,0)}}}),p.extend(p.Circle,p.FX,{rx:function($){return this.attr("r",$)},ry:function($){return this.rx($)}}),p.Ellipse=p.invent({create:"ellipse",inherit:p.Shape,construct:{ellipse:function($,ue){return this.put(new p.Ellipse).size($,ue).move(0,0)}}}),p.extend(p.Ellipse,p.Rect,p.FX,{rx:function($){return this.attr("rx",$)},ry:function($){return this.attr("ry",$)}}),p.extend(p.Circle,p.Ellipse,{x:function($){return null==$?this.cx()-this.rx():this.cx($+this.rx())},y:function($){return null==$?this.cy()-this.ry():this.cy($+this.ry())},cx:function($){return null==$?this.attr("cx"):this.attr("cx",$)},cy:function($){return null==$?this.attr("cy"):this.attr("cy",$)},width:function($){return null==$?2*this.rx():this.rx(new p.Number($).divide(2))},height:function($){return null==$?2*this.ry():this.ry(new p.Number($).divide(2))},size:function($,ue){var Oe=se(this,$,ue);return this.rx(new p.Number(Oe.width).divide(2)).ry(new p.Number(Oe.height).divide(2))}}),p.Line=p.invent({create:"line",inherit:p.Shape,extend:{array:function(){return new p.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function($,ue,Oe,$e){return null==$?this.array():($=void 0!==ue?{x1:$,y1:ue,x2:Oe,y2:$e}:new p.PointArray($).toLine(),this.attr($))},move:function($,ue){return this.attr(this.array().move($,ue).toLine())},size:function($,ue){var Oe=se(this,$,ue);return this.attr(this.array().size(Oe.width,Oe.height).toLine())}},construct:{line:function($,ue,Oe,$e){return p.Line.prototype.plot.apply(this.put(new p.Line),null!=$?[$,ue,Oe,$e]:[0,0,0,0])}}}),p.Polyline=p.invent({create:"polyline",inherit:p.Shape,construct:{polyline:function($){return this.put(new p.Polyline).plot($||new p.PointArray)}}}),p.Polygon=p.invent({create:"polygon",inherit:p.Shape,construct:{polygon:function($){return this.put(new p.Polygon).plot($||new p.PointArray)}}}),p.extend(p.Polyline,p.Polygon,{array:function(){return this._array||(this._array=new p.PointArray(this.attr("points")))},plot:function($){return null==$?this.array():this.clear().attr("points","string"==typeof $?$:this._array=new p.PointArray($))},clear:function(){return delete this._array,this},move:function($,ue){return this.attr("points",this.array().move($,ue))},size:function($,ue){var Oe=se(this,$,ue);return this.attr("points",this.array().size(Oe.width,Oe.height))}}),p.extend(p.Line,p.Polyline,p.Polygon,{morphArray:p.PointArray,x:function($){return null==$?this.bbox().x:this.move($,this.bbox().y)},y:function($){return null==$?this.bbox().y:this.move(this.bbox().x,$)},width:function($){var ue=this.bbox();return null==$?ue.width:this.size($,ue.height)},height:function($){var ue=this.bbox();return null==$?ue.height:this.size(ue.width,$)}}),p.Path=p.invent({create:"path",inherit:p.Shape,extend:{morphArray:p.PathArray,array:function(){return this._array||(this._array=new p.PathArray(this.attr("d")))},plot:function($){return null==$?this.array():this.clear().attr("d","string"==typeof $?$:this._array=new p.PathArray($))},clear:function(){return delete this._array,this}},construct:{path:function($){return this.put(new p.Path).plot($||new p.PathArray)}}}),p.Image=p.invent({create:"image",inherit:p.Shape,extend:{load:function($){if(!$)return this;var ue=this,Oe=new Le.Image;return p.on(Oe,"load",function(){p.off(Oe);var $e=ue.parent(p.Pattern);null!==$e&&(0==ue.width()&&0==ue.height()&&ue.size(Oe.width,Oe.height),$e&&0==$e.width()&&0==$e.height()&&$e.size(ue.width(),ue.height()),"function"==typeof ue._loaded&&ue._loaded.call(ue,{width:Oe.width,height:Oe.height,ratio:Oe.width/Oe.height,url:$}))}),p.on(Oe,"error",function($e){p.off(Oe),"function"==typeof ue._error&&ue._error.call(ue,$e)}),this.attr("href",Oe.src=this.src=$,p.xlink)},loaded:function($){return this._loaded=$,this},error:function($){return this._error=$,this}},construct:{image:function($,ue,Oe){return this.put(new p.Image).load($).size(ue||0,Oe||ue||0)}}}),p.Text=p.invent({create:function(){this.constructor.call(this,p.create("text")),this.dom.leading=new p.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",p.defaults.attrs["font-family"])},inherit:p.Shape,extend:{x:function($){return null==$?this.attr("x"):this.attr("x",$)},text:function($){if(void 0===$){$="";for(var ue=this.node.childNodes,Oe=0,$e=ue.length;Oe<$e;++Oe)0!=Oe&&3!=ue[Oe].nodeType&&1==p.adopt(ue[Oe]).dom.newLined&&($+="\n"),$+=ue[Oe].textContent;return $}if(this.clear().build(!0),"function"==typeof $)$.call(this,this);else{Oe=0;for(var ft=($=$.split("\n")).length;Oe<ft;Oe++)this.tspan($[Oe]).newLine()}return this.build(!1).rebuild()},size:function($){return this.attr("font-size",$).rebuild()},leading:function($){return null==$?this.dom.leading:(this.dom.leading=new p.Number($),this.rebuild())},lines:function(){var $=(this.textPath&&this.textPath()||this).node,ue=p.utils.map(p.utils.filterSVGElements($.childNodes),function(Oe){return p.adopt(Oe)});return new p.Set(ue)},rebuild:function($){if("boolean"==typeof $&&(this._rebuild=$),this._rebuild){var ue=this,Oe=0,$e=this.dom.leading*new p.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(ue.textPath()||this.attr("x",ue.attr("x")),"\n"==this.text()?Oe+=$e:(this.attr("dy",$e+Oe),Oe=0))}),this.fire("rebuild")}return this},build:function($){return this._build=!!$,this},setData:function($){return this.dom=$,this.dom.leading=new p.Number($.leading||1.3),this}},construct:{text:function($){return this.put(new p.Text).text($)},plain:function($){return this.put(new p.Text).plain($)}}}),p.Tspan=p.invent({create:"tspan",inherit:p.Shape,extend:{text:function($){return null==$?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof $?$.call(this,this):this.plain($),this)},dx:function($){return this.attr("dx",$)},dy:function($){return this.attr("dy",$)},newLine:function(){var $=this.parent(p.Text);return this.dom.newLined=!0,this.dy($.dom.leading*$.attr("font-size")).attr("x",$.x())}}}),p.extend(p.Text,p.Tspan,{plain:function($){return!1===this._build&&this.clear(),this.node.appendChild(h.createTextNode($)),this},tspan:function($){var ue=(this.textPath&&this.textPath()||this).node,Oe=new p.Tspan;return!1===this._build&&this.clear(),ue.appendChild(Oe.node),Oe.text($)},clear:function(){for(var $=(this.textPath&&this.textPath()||this).node;$.hasChildNodes();)$.removeChild($.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),p.TextPath=p.invent({create:"textPath",inherit:p.Parent,parent:p.Text,construct:{morphArray:p.PathArray,array:function(){var $=this.track();return $?$.array():null},plot:function($){var ue=this.track(),Oe=null;return ue&&(Oe=ue.plot($)),null==$?Oe:this},track:function(){var $=this.textPath();if($)return $.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return p.adopt(this.node.firstChild)}}}),p.Nested=p.invent({create:function(){this.constructor.call(this,p.create("svg")),this.style("overflow","visible")},inherit:p.Container,construct:{nested:function(){return this.put(new p.Nested)}}});var O={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function($,ue){return"color"==ue?$:$+"-"+ue}};function j($,ue,Oe,$e){return Oe+$e.replace(p.regex.dots," .")}function Z($){return $.toLowerCase().replace(/-(.)/g,function(ue,Oe){return Oe.toUpperCase()})}function re($){return $.charAt(0).toUpperCase()+$.slice(1)}function le($){var ue=$.toString(16);return 1==ue.length?"0"+ue:ue}function se($,ue,Oe){if(null==ue||null==Oe){var $e=$.bbox();null==ue?ue=$e.width/$e.height*Oe:null==Oe&&(Oe=$e.height/$e.width*ue)}return{width:ue,height:Oe}}function me($,ue,Oe){return{x:ue*$.a+Oe*$.c+0,y:ue*$.b+Oe*$.d+0}}function Ee($){return{a:$[0],b:$[1],c:$[2],d:$[3],e:$[4],f:$[5]}}function Ae($){for(var ue=$.childNodes.length-1;ue>=0;ue--)$.childNodes[ue]instanceof Le.SVGElement&&Ae($.childNodes[ue]);return p.adopt($).id(p.eid($.nodeName))}function Re($){return null==$.x&&($.x=0,$.y=0,$.width=0,$.height=0),$.w=$.width,$.h=$.height,$.x2=$.x+$.width,$.y2=$.y+$.height,$.cx=$.x+$.width/2,$.cy=$.y+$.height/2,$}function je($){return Math.abs($)>1e-37?$:0}["fill","stroke"].forEach(function($){var ue={};ue[$]=function(Oe){if(void 0===Oe)return this;if("string"==typeof Oe||p.Color.isRgb(Oe)||Oe&&"function"==typeof Oe.fill)this.attr($,Oe);else for(var $e=O[$].length-1;$e>=0;$e--)null!=Oe[O[$][$e]]&&this.attr(O.prefix($,O[$][$e]),Oe[O[$][$e]]);return this},p.extend(p.Element,p.FX,ue)}),p.extend(p.Element,p.FX,{translate:function($,ue){return this.transform({x:$,y:ue})},matrix:function($){return this.attr("transform",new p.Matrix(6==arguments.length?[].slice.call(arguments):$))},opacity:function($){return this.attr("opacity",$)},dx:function($){return this.x(new p.Number($).plus(this instanceof p.FX?0:this.x()),!0)},dy:function($){return this.y(new p.Number($).plus(this instanceof p.FX?0:this.y()),!0)}}),p.extend(p.Path,{length:function(){return this.node.getTotalLength()},pointAt:function($){return this.node.getPointAtLength($)}}),p.Set=p.invent({create:function($){Array.isArray($)?this.members=$:this.clear()},extend:{add:function(){for(var $=[].slice.call(arguments),ue=0,Oe=$.length;ue<Oe;ue++)this.members.push($[ue]);return this},remove:function($){var ue=this.index($);return ue>-1&&this.members.splice(ue,1),this},each:function($){for(var ue=0,Oe=this.members.length;ue<Oe;ue++)$.apply(this.members[ue],[ue,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function($){return this.index($)>=0},index:function($){return this.members.indexOf($)},get:function($){return this.members[$]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function($){return new p.Set($)}}}),p.FX.Set=p.invent({create:function($){this.set=$}}),p.Set.inherit=function(){var $=[];for(var ue in p.Shape.prototype)"function"==typeof p.Shape.prototype[ue]&&"function"!=typeof p.Set.prototype[ue]&&$.push(ue);for(var ue in $.forEach(function($e){p.Set.prototype[$e]=function(){for(var ft=0,sn=this.members.length;ft<sn;ft++)this.members[ft]&&"function"==typeof this.members[ft][$e]&&this.members[ft][$e].apply(this.members[ft],arguments);return"animate"==$e?this.fx||(this.fx=new p.FX.Set(this)):this}}),$=[],p.FX.prototype)"function"==typeof p.FX.prototype[ue]&&"function"!=typeof p.FX.Set.prototype[ue]&&$.push(ue);$.forEach(function(Oe){p.FX.Set.prototype[Oe]=function(){for(var $e=0,ft=this.set.members.length;$e<ft;$e++)this.set.members[$e].fx[Oe].apply(this.set.members[$e].fx,arguments);return this}})},p.extend(p.Element,{}),p.extend(p.Element,{remember:function($,ue){if("object"===W(arguments[0]))for(var Oe in $)this.remember(Oe,$[Oe]);else{if(1==arguments.length)return this.memory()[$];this.memory()[$]=ue}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var $=arguments.length-1;$>=0;$--)delete this.memory()[arguments[$]];return this},memory:function(){return this._memory||(this._memory={})}}),p.get=function($){var ue=h.getElementById(function(Oe){var $e=(Oe||"").toString().match(p.regex.reference);if($e)return $e[1]}($)||$);return p.adopt(ue)},p.select=function($,ue){return new p.Set(p.utils.map((ue||h).querySelectorAll($),function(Oe){return p.adopt(Oe)}))},p.extend(p.Parent,{select:function($){return p.select($,this.node)}});var it="abcdef".split("");if("function"!=typeof Le.CustomEvent){var _t=function($,ue){ue=ue||{bubbles:!1,cancelable:!1,detail:void 0};var Oe=h.createEvent("CustomEvent");return Oe.initCustomEvent($,ue.bubbles,ue.cancelable,ue.detail),Oe};_t.prototype=Le.Event.prototype,p.CustomEvent=_t}else p.CustomEvent=Le.CustomEvent;return p},void 0!==(o=function(){return ct(Ze,Ze.document)}.call(St,De,St,Ht))&&(Ht.exports=o),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(O,j){return this.add(O,j),!O.attr("in")&&this.autoSetIn&&O.attr("in",this.source),O.attr("result")||O.attr("result",O),O},blend:function(O,j,Z){return this.put(new SVG.BlendEffect(O,j,Z))},colorMatrix:function(O,j){return this.put(new SVG.ColorMatrixEffect(O,j))},convolveMatrix:function(O){return this.put(new SVG.ConvolveMatrixEffect(O))},componentTransfer:function(O){return this.put(new SVG.ComponentTransferEffect(O))},composite:function(O,j,Z){return this.put(new SVG.CompositeEffect(O,j,Z))},flood:function(O,j){return this.put(new SVG.FloodEffect(O,j))},offset:function(O,j){return this.put(new SVG.OffsetEffect(O,j))},image:function(O){return this.put(new SVG.ImageEffect(O))},merge:function(){var O=[void 0];for(var j in arguments)O.push(arguments[j]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,O)))},gaussianBlur:function(O,j){return this.put(new SVG.GaussianBlurEffect(O,j))},morphology:function(O,j){return this.put(new SVG.MorphologyEffect(O,j))},diffuseLighting:function(O,j,Z){return this.put(new SVG.DiffuseLightingEffect(O,j,Z))},displacementMap:function(O,j,Z,re,le){return this.put(new SVG.DisplacementMapEffect(O,j,Z,re,le))},specularLighting:function(O,j,Z,re){return this.put(new SVG.SpecularLightingEffect(O,j,Z,re))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(O,j,Z,re,le){return this.put(new SVG.TurbulenceEffect(O,j,Z,re,le))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(O){var j=this.put(new SVG.Filter);return"function"==typeof O&&O.call(j,j),j}}),SVG.extend(SVG.Container,{filter:function(O){return this.defs().filter(O)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(O){return this.filterer=O instanceof SVG.Element?O:this.doc().filter(O),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(O){return this.filterer&&!0===O&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(O){return null==O?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",O)},result:function(O){return null==O?this.attr("result"):this.attr("result",O)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(O){return null==O?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",O)},result:function(O){return null==O?this.attr("result"):this.attr("result",O)},toString:function(){return this.result()}}});var Le={blend:function(O,j){return this.parent()&&this.parent().blend(this,O,j)},colorMatrix:function(O,j){return this.parent()&&this.parent().colorMatrix(O,j).in(this)},convolveMatrix:function(O){return this.parent()&&this.parent().convolveMatrix(O).in(this)},componentTransfer:function(O){return this.parent()&&this.parent().componentTransfer(O).in(this)},composite:function(O,j){return this.parent()&&this.parent().composite(this,O,j)},flood:function(O,j){return this.parent()&&this.parent().flood(O,j)},offset:function(O,j){return this.parent()&&this.parent().offset(O,j).in(this)},image:function(O){return this.parent()&&this.parent().image(O)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(O,j){return this.parent()&&this.parent().gaussianBlur(O,j).in(this)},morphology:function(O,j){return this.parent()&&this.parent().morphology(O,j).in(this)},diffuseLighting:function(O,j,Z){return this.parent()&&this.parent().diffuseLighting(O,j,Z).in(this)},displacementMap:function(O,j,Z,re){return this.parent()&&this.parent().displacementMap(this,O,j,Z,re)},specularLighting:function(O,j,Z,re){return this.parent()&&this.parent().specularLighting(O,j,Z,re).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(O,j,Z,re,le){return this.parent()&&this.parent().turbulence(O,j,Z,re,le).in(this)}};SVG.extend(SVG.Effect,Le),SVG.extend(SVG.ParentEffect,Le),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(O){this.attr("in",O)}}});var h={blend:function(O,j,Z){this.attr({in:O,in2:j,mode:Z||"normal"})},colorMatrix:function(O,j){"matrix"==O&&(j=M(j)),this.attr({type:O,values:void 0===j?null:j})},convolveMatrix:function(O){O=M(O),this.attr({order:Math.sqrt(O.split(" ").length),kernelMatrix:O})},composite:function(O,j,Z){this.attr({in:O,in2:j,operator:Z})},flood:function(O,j){this.attr("flood-color",O),null!=j&&this.attr("flood-opacity",j)},offset:function(O,j){this.attr({dx:O,dy:j})},image:function(O){this.attr("href",O,SVG.xlink)},displacementMap:function(O,j,Z,re,le){this.attr({in:O,in2:j,scale:Z,xChannelSelector:re,yChannelSelector:le})},gaussianBlur:function(O,j){this.attr("stdDeviation",null!=O||null!=j?E(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(O,j){this.attr({operator:O,radius:j})},tile:function(){},turbulence:function(O,j,Z,re,le){this.attr({numOctaves:j,seed:Z,stitchTiles:re,baseFrequency:O,type:le})}},p={merge:function(){var O;if(arguments[0]instanceof SVG.Set){var j=this;arguments[0].each(function(re){this instanceof SVG.MergeNode?j.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&j.put(new SVG.MergeNode(this))})}else{O=Array.isArray(arguments[0])?arguments[0]:arguments;for(var Z=0;Z<O.length;Z++)O[Z]instanceof SVG.MergeNode?this.put(O[Z]):this.put(new SVG.MergeNode(O[Z]))}},componentTransfer:function(O){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(Z){this[Z]=new(SVG["Func"+Z.toUpperCase()])("identity"),this.rgb.add(this[Z]),this.node.appendChild(this[Z].node)}.bind(this)),O)for(var j in O.rgb&&(["r","g","b"].forEach(function(Z){this[Z].attr(O.rgb)}.bind(this)),delete O.rgb),O)this[j].attr(O[j])},diffuseLighting:function(O,j,Z){this.attr({surfaceScale:O,diffuseConstant:j,kernelUnitLength:Z})},specularLighting:function(O,j,Z,re){this.attr({surfaceScale:O,diffuseConstant:j,specularExponent:Z,kernelUnitLength:re})}},v={distantLight:function(O,j){this.attr({azimuth:O,elevation:j})},pointLight:function(O,j,Z){this.attr({x:O,y:j,z:Z})},spotLight:function(O,j,Z,re,le,se){this.attr({x:O,y:j,z:Z,pointsAtX:re,pointsAtY:le,pointsAtZ:se})},mergeNode:function(O){this.attr("in",O)}};function M(O){return Array.isArray(O)&&(O=new SVG.Array(O)),O.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function E(O){if(!Array.isArray(O))return O;for(var j=0,Z=O.length,re=[];j<Z;j++)re.push(O[j]);return re.join(" ")}function N(){var O=function(){};for(var j in"function"==typeof arguments[arguments.length-1]&&(O=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var Z in arguments[j])O(arguments[j][Z],Z,arguments[j])}["r","g","b","a"].forEach(function(O){v["Func"+O.toUpperCase()]=function(j){switch(this.attr("type",j),j){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),N(h,function(O,j){var Z=j.charAt(0).toUpperCase()+j.slice(1);SVG[Z+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+Z)),O.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),N(p,function(O,j){var Z=j.charAt(0).toUpperCase()+j.slice(1);SVG[Z+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+Z)),O.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),N(v,function(O,j){var Z=j.charAt(0).toUpperCase()+j.slice(1);SVG[Z]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+Z)),O.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(O){return O instanceof SVG.MergeNode?this.add(O,0):this.add(new SVG.MergeNode(O),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(O){return null==O?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",O)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function Le(E,N,O,j,Z,re,le){for(var se=E.slice(N,O||le),me=j.slice(Z,re||le),Ee=0,Ae={pos:[0,0],start:[0,0]},Re={pos:[0,0],start:[0,0]};se[Ee]=h.call(Ae,se[Ee]),me[Ee]=h.call(Re,me[Ee]),se[Ee][0]!=me[Ee][0]||"M"==se[Ee][0]||"A"==se[Ee][0]&&(se[Ee][4]!=me[Ee][4]||se[Ee][5]!=me[Ee][5])?(Array.prototype.splice.apply(se,[Ee,1].concat(v.call(Ae,se[Ee]))),Array.prototype.splice.apply(me,[Ee,1].concat(v.call(Re,me[Ee])))):(se[Ee]=p.call(Ae,se[Ee]),me[Ee]=p.call(Re,me[Ee])),++Ee!=se.length||Ee!=me.length;)Ee==se.length&&se.push(["C",Ae.pos[0],Ae.pos[1],Ae.pos[0],Ae.pos[1],Ae.pos[0],Ae.pos[1]]),Ee==me.length&&me.push(["C",Re.pos[0],Re.pos[1],Re.pos[0],Re.pos[1],Re.pos[0],Re.pos[1]]);return{start:se,dest:me}}function h(E){switch(E[0]){case"z":case"Z":E[0]="L",E[1]=this.start[0],E[2]=this.start[1];break;case"H":E[0]="L",E[2]=this.pos[1];break;case"V":E[0]="L",E[2]=E[1],E[1]=this.pos[0];break;case"T":E[0]="Q",E[3]=E[1],E[4]=E[2],E[1]=this.reflection[1],E[2]=this.reflection[0];break;case"S":E[0]="C",E[6]=E[4],E[5]=E[3],E[4]=E[2],E[3]=E[1],E[2]=this.reflection[1],E[1]=this.reflection[0]}return E}function p(E){var N=E.length;return this.pos=[E[N-2],E[N-1]],-1!="SCQT".indexOf(E[0])&&(this.reflection=[2*this.pos[0]-E[N-4],2*this.pos[1]-E[N-3]]),E}function v(E){var N=[E];switch(E[0]){case"M":return this.pos=this.start=[E[1],E[2]],N;case"L":E[5]=E[3]=E[1],E[6]=E[4]=E[2],E[1]=this.pos[0],E[2]=this.pos[1];break;case"Q":E[6]=E[4],E[5]=E[3],E[4]=1*E[4]/3+2*E[2]/3,E[3]=1*E[3]/3+2*E[1]/3,E[2]=1*this.pos[1]/3+2*E[2]/3,E[1]=1*this.pos[0]/3+2*E[1]/3;break;case"A":E=(N=function(O,j){var Z,re,le,se,me,Ee,Ae,Re,je,it,_t,$,ue,Oe,$e,ft,sn,Gt,dn,Nn,Pn,wi,lr,fi,Oi,Tr,$s=Math.abs(j[1]),_s=Math.abs(j[2]),Zi=j[3]%360,Jr=j[4],ys=j[5],_a=j[6],ia=j[7],Js=new SVG.Point(O),Fo=new SVG.Point(_a,ia),ad=[];if(0===$s||0===_s||Js.x===Fo.x&&Js.y===Fo.y)return[["C",Js.x,Js.y,Fo.x,Fo.y,Fo.x,Fo.y]];for((re=(Z=new SVG.Point((Js.x-Fo.x)/2,(Js.y-Fo.y)/2).transform((new SVG.Matrix).rotate(Zi))).x*Z.x/($s*$s)+Z.y*Z.y/(_s*_s))>1&&($s*=re=Math.sqrt(re),_s*=re),le=(new SVG.Matrix).rotate(Zi).scale(1/$s,1/_s).rotate(-Zi),Js=Js.transform(le),Ee=(se=[(Fo=Fo.transform(le)).x-Js.x,Fo.y-Js.y])[0]*se[0]+se[1]*se[1],me=Math.sqrt(Ee),se[0]/=me,se[1]/=me,Ae=Ee<4?Math.sqrt(1-Ee/4):0,Jr===ys&&(Ae*=-1),Re=new SVG.Point((Fo.x+Js.x)/2+Ae*-se[1],(Fo.y+Js.y)/2+Ae*se[0]),je=new SVG.Point(Js.x-Re.x,Js.y-Re.y),it=new SVG.Point(Fo.x-Re.x,Fo.y-Re.y),_t=Math.acos(je.x/Math.sqrt(je.x*je.x+je.y*je.y)),je.y<0&&(_t*=-1),$=Math.acos(it.x/Math.sqrt(it.x*it.x+it.y*it.y)),it.y<0&&($*=-1),ys&&_t>$&&($+=2*Math.PI),!ys&&_t<$&&($-=2*Math.PI),ft=[],sn=_t,ue=($-_t)/(Oe=Math.ceil(2*Math.abs(_t-$)/Math.PI)),$e=4*Math.tan(ue/4)/3,Pn=0;Pn<=Oe;Pn++)dn=Math.cos(sn),Gt=Math.sin(sn),Nn=new SVG.Point(Re.x+dn,Re.y+Gt),ft[Pn]=[new SVG.Point(Nn.x+$e*Gt,Nn.y-$e*dn),Nn,new SVG.Point(Nn.x-$e*Gt,Nn.y+$e*dn)],sn+=ue;for(ft[0][0]=ft[0][1].clone(),ft[ft.length-1][2]=ft[ft.length-1][1].clone(),le=(new SVG.Matrix).rotate(Zi).scale($s,_s).rotate(-Zi),Pn=0,wi=ft.length;Pn<wi;Pn++)ft[Pn][0]=ft[Pn][0].transform(le),ft[Pn][1]=ft[Pn][1].transform(le),ft[Pn][2]=ft[Pn][2].transform(le);for(Pn=1,wi=ft.length;Pn<wi;Pn++)lr=(Nn=ft[Pn-1][2]).x,fi=Nn.y,Oi=(Nn=ft[Pn][0]).x,Tr=Nn.y,_a=(Nn=ft[Pn][1]).x,ad.push(["C",lr,fi,Oi,Tr,_a,ia=Nn.y]);return ad}(this.pos,E))[0]}return E[0]="C",this.pos=[E[5],E[6]],this.reflection=[2*E[5]-E[3],2*E[6]-E[4]],N}function M(E,N){if(!1===N)return!1;for(var O=N,j=E.length;O<j;++O)if("M"==E[O][0])return O;return!1}SVG.extend(SVG.PathArray,{morph:function(E){for(var N=this.value,O=this.parse(E),j=0,Z=0,re=!1,le=!1;!1!==j||!1!==Z;){var se;re=M(N,!1!==j&&j+1),le=M(O,!1!==Z&&Z+1),!1===j&&(j=0==(se=new SVG.PathArray(me.start).bbox()).height||0==se.width?N.push(N[0])-1:N.push(["M",se.x+se.width/2,se.y+se.height/2])-1),!1===Z&&(Z=0==(se=new SVG.PathArray(me.dest).bbox()).height||0==se.width?O.push(O[0])-1:O.push(["M",se.x+se.width/2,se.y+se.height/2])-1);var me=Le(N,j,re,O,Z,le);N=N.slice(0,j).concat(me.start,!1===re?[]:N.slice(re)),O=O.slice(0,Z).concat(me.dest,!1===le?[]:O.slice(le)),j=!1!==re&&j+me.start.length,Z=!1!==le&&Z+me.dest.length}return this.value=N,this.destination=new SVG.PathArray,this.destination.value=O,this}})}(),function(){function Le(h){h.remember("_draggable",this),this.el=h}Le.prototype.init=function(h,p){var v=this;this.constraint=h,this.value=p,this.el.on("mousedown.drag",function(M){v.start(M)}),this.el.on("touchstart.drag",function(M){v.start(M)})},Le.prototype.transformPoint=function(h,p){var v=(h=h||window.event).changedTouches&&h.changedTouches[0]||h;return this.p.x=v.clientX-(p||0),this.p.y=v.clientY,this.p.matrixTransform(this.m)},Le.prototype.getBBox=function(){var h=this.el.bbox();return this.el instanceof SVG.Nested&&(h=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(h.x=this.el.x(),h.y=this.el.y()),h},Le.prototype.start=function(h){if("click"!=h.type&&"mousedown"!=h.type&&"mousemove"!=h.type||1==(h.which||h.buttons)){var p=this;if(this.el.fire("beforedrag",{event:h,handler:this}),!this.el.event().defaultPrevented){h.preventDefault(),h.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var v,M=this.getBBox();if(this.el instanceof SVG.Text)switch(v=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":v/=2;break;case"start":v=0}this.startPoints={point:this.transformPoint(h,v),box:M,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(E){p.drag(E)}),SVG.on(window,"touchmove.drag",function(E){p.drag(E)}),SVG.on(window,"mouseup.drag",function(E){p.end(E)}),SVG.on(window,"touchend.drag",function(E){p.end(E)}),this.el.fire("dragstart",{event:h,p:this.startPoints.point,m:this.m,handler:this})}}},Le.prototype.drag=function(h){var p=this.getBBox(),v=this.transformPoint(h),M=this.startPoints.box.x+v.x-this.startPoints.point.x,E=this.startPoints.box.y+v.y-this.startPoints.point.y,N=this.constraint,O=v.x-this.startPoints.point.x,j=v.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:h,p:v,m:this.m,handler:this}),this.el.event().defaultPrevented)return v;if("function"==typeof N){var Z=N.call(this.el,M,E,this.m);"boolean"==typeof Z&&(Z={x:Z,y:Z}),!0===Z.x?this.el.x(M):!1!==Z.x&&this.el.x(Z.x),!0===Z.y?this.el.y(E):!1!==Z.y&&this.el.y(Z.y)}else"object"==typeof N&&(null!=N.minX&&M<N.minX?O=(M=N.minX)-this.startPoints.box.x:null!=N.maxX&&M>N.maxX-p.width&&(O=(M=N.maxX-p.width)-this.startPoints.box.x),null!=N.minY&&E<N.minY?j=(E=N.minY)-this.startPoints.box.y:null!=N.maxY&&E>N.maxY-p.height&&(j=(E=N.maxY-p.height)-this.startPoints.box.y),null!=N.snapToGrid&&(M-=M%N.snapToGrid,E-=E%N.snapToGrid,O-=O%N.snapToGrid,j-=j%N.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:O,y:j},!0):this.el.move(M,E));return v},Le.prototype.end=function(h){var p=this.drag(h);this.el.fire("dragend",{event:h,p,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(h,p){"function"!=typeof h&&"object"!=typeof h||(p=h,h=!0);var v=this.remember("_draggable")||new Le(this);return(h=void 0===h||h)?v.init(p||{},h):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function Le(h){this.el=h,h.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(p,v,M){var E="string"!=typeof p?p:v[p];return M?E/2:E},this.pointCoords=function(p,v){var M=this.pointsList[p];return{x:this.pointCoord(M[0],v,"t"===p||"b"===p),y:this.pointCoord(M[1],v,"r"===p||"l"===p)}}}Le.prototype.init=function(h,p){var v=this.el.bbox();this.options={};var M=this.el.selectize.defaults.points;for(var E in this.el.selectize.defaults)this.options[E]=this.el.selectize.defaults[E],void 0!==p[E]&&(this.options[E]=p[E]);var N=["points","pointsExclude"];for(var E in N){var O=this.options[N[E]];"string"==typeof O?O=O.length>0?O.split(/\s*,\s*/i):[]:"boolean"==typeof O&&"points"===N[E]&&(O=O?M:[]),this.options[N[E]]=O}this.options.points=[M,this.options.points].reduce(function(j,Z){return j.filter(function(re){return Z.indexOf(re)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(j,Z){return j.filter(function(re){return Z.indexOf(re)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(v.x,v.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(h):this.selectRect(h),this.observe(),this.cleanup()},Le.prototype.selectPoints=function(h){return this.pointSelection.isSelected=h,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},Le.prototype.getPointArray=function(){var h=this.el.bbox();return this.el.array().valueOf().map(function(p){return[p[0]-h.x,p[1]-h.y]})},Le.prototype.drawPoints=function(){for(var h=this,p=this.getPointArray(),v=0,M=p.length;v<M;++v){var E=function(O){return function(j){(j=j||window.event).preventDefault?j.preventDefault():j.returnValue=!1,j.stopPropagation(),h.el.fire("point",{x:j.pageX||j.touches[0].pageX,y:j.pageY||j.touches[0].pageY,i:O,event:j})}}(v),N=this.drawPoint(p[v][0],p[v][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",E).on("mousedown",E);this.pointSelection.set.add(N)}},Le.prototype.drawPoint=function(h,p){var v=this.options.pointType;switch(v){case"circle":return this.drawCircle(h,p);case"rect":return this.drawRect(h,p);default:if("function"==typeof v)return v.call(this,h,p);throw new Error("Unknown "+v+" point type!")}},Le.prototype.drawCircle=function(h,p){return this.nested.circle(this.options.pointSize).center(h,p)},Le.prototype.drawRect=function(h,p){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(h,p)},Le.prototype.updatePointSelection=function(){var h=this.getPointArray();this.pointSelection.set.each(function(p){this.cx()===h[p][0]&&this.cy()===h[p][1]||this.center(h[p][0],h[p][1])})},Le.prototype.updateRectSelection=function(){var h=this,p=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:p.width,height:p.height}),this.options.points.length&&this.options.points.map(function(M,E){var N=h.pointCoords(M,p);h.rectSelection.set.get(E+1).center(N.x,N.y)}),this.options.rotationPoint){var v=this.rectSelection.set.length();this.rectSelection.set.get(v-1).center(p.width/2,20)}},Le.prototype.selectRect=function(h){var p=this,v=this.el.bbox();function M(O){return function(j){(j=j||window.event).preventDefault?j.preventDefault():j.returnValue=!1,j.stopPropagation(),p.el.fire(O,{x:j.pageX||j.touches[0].pageX,y:j.pageY||j.touches[0].pageY,event:j})}}if(this.rectSelection.isSelected=h,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(v.width,v.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(O,j){var Z=p.pointCoords(O,v),re=p.drawPoint(Z.x,Z.y).attr("class",p.options.classPoints+"_"+O).on("mousedown",M(O)).on("touchstart",M(O));p.rectSelection.set.add(re)}),this.rectSelection.set.each(function(){this.addClass(p.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var E=function(O){(O=O||window.event).preventDefault?O.preventDefault():O.returnValue=!1,O.stopPropagation(),p.el.fire("rot",{x:O.pageX||O.touches[0].pageX,y:O.pageY||O.touches[0].pageY,event:O})},N=this.drawPoint(v.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",E).on("mousedown",E);this.rectSelection.set.add(N)}},Le.prototype.handler=function(){var h=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(h.x,h.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},Le.prototype.observe=function(){var h=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){h.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(p){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){h.handler()})},Le.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(h,p){return"object"==typeof h&&(p=h,h=!0),(this.remember("_selectHandler")||new Le(this)).init(void 0===h||h,p||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function Le(h){h.remember("_resizeHandler",this),this.el=h,this.parameters={},this.lastUpdateCall=null,this.p=h.doc().node.createSVGPoint()}Le.prototype.transformPoint=function(h,p,v){return this.p.x=h-(this.offset.x-window.pageXOffset),this.p.y=p-(this.offset.y-window.pageYOffset),this.p.matrixTransform(v||this.m)},Le.prototype._extractPosition=function(h){return{x:null!=h.clientX?h.clientX:h.touches[0].clientX,y:null!=h.clientY?h.clientY:h.touches[0].clientY}},Le.prototype.init=function(h){var p=this;if(this.stop(),"stop"!==h){for(var v in this.options={},this.el.resize.defaults)this.options[v]=this.el.resize.defaults[v],void 0!==h[v]&&(this.options[v]=h[v]);this.el.on("lt.resize",function(M){p.resize(M||window.event)}),this.el.on("rt.resize",function(M){p.resize(M||window.event)}),this.el.on("rb.resize",function(M){p.resize(M||window.event)}),this.el.on("lb.resize",function(M){p.resize(M||window.event)}),this.el.on("t.resize",function(M){p.resize(M||window.event)}),this.el.on("r.resize",function(M){p.resize(M||window.event)}),this.el.on("b.resize",function(M){p.resize(M||window.event)}),this.el.on("l.resize",function(M){p.resize(M||window.event)}),this.el.on("rot.resize",function(M){p.resize(M||window.event)}),this.el.on("point.resize",function(M){p.resize(M||window.event)}),this.update()}},Le.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},Le.prototype.resize=function(h){var p=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var v=this._extractPosition(h.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(v.x,v.y),x:h.detail.x,y:h.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==h.detail.i){var M=this.el.array().valueOf();this.parameters.i=h.detail.i,this.parameters.pointCoords=[M[h.detail.i][0],M[h.detail.i][1]]}switch(h.type){case"lt":this.calc=function(E,N){var O=this.snapToGrid(E,N);if(this.parameters.box.width-O[0]>0&&this.parameters.box.height-O[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+O[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-O[0]);O=this.checkAspectRatio(O),this.el.move(this.parameters.box.x+O[0],this.parameters.box.y+O[1]).size(this.parameters.box.width-O[0],this.parameters.box.height-O[1])}};break;case"rt":this.calc=function(E,N){var O=this.snapToGrid(E,N,2);if(this.parameters.box.width+O[0]>0&&this.parameters.box.height-O[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-O[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+O[0]);O=this.checkAspectRatio(O,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+O[1]).size(this.parameters.box.width+O[0],this.parameters.box.height-O[1])}};break;case"rb":this.calc=function(E,N){var O=this.snapToGrid(E,N,0);if(this.parameters.box.width+O[0]>0&&this.parameters.box.height+O[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-O[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+O[0]);O=this.checkAspectRatio(O),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+O[0],this.parameters.box.height+O[1])}};break;case"lb":this.calc=function(E,N){var O=this.snapToGrid(E,N,1);if(this.parameters.box.width-O[0]>0&&this.parameters.box.height+O[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+O[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-O[0]);O=this.checkAspectRatio(O,!0),this.el.move(this.parameters.box.x+O[0],this.parameters.box.y).size(this.parameters.box.width-O[0],this.parameters.box.height+O[1])}};break;case"t":this.calc=function(E,N){var O=this.snapToGrid(E,N,2);if(this.parameters.box.height-O[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+O[1]).height(this.parameters.box.height-O[1])}};break;case"r":this.calc=function(E,N){var O=this.snapToGrid(E,N,0);if(this.parameters.box.width+O[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+O[0])}};break;case"b":this.calc=function(E,N){var O=this.snapToGrid(E,N,0);if(this.parameters.box.height+O[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+O[1])}};break;case"l":this.calc=function(E,N){var O=this.snapToGrid(E,N,1);if(this.parameters.box.width-O[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+O[0],this.parameters.box.y).width(this.parameters.box.width-O[0])}};break;case"rot":this.calc=function(E,N){var O=E+this.parameters.p.x,j=N+this.parameters.p.y,Z=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),re=Math.atan2(j-this.parameters.box.y-this.parameters.box.height/2,O-this.parameters.box.x-this.parameters.box.width/2),le=this.parameters.rotation+180*(re-Z)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(le-le%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(E,N){var O=this.snapToGrid(E,N,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),j=this.el.array().valueOf();j[this.parameters.i][0]=this.parameters.pointCoords[0]+O[0],j[this.parameters.i][1]=this.parameters.pointCoords[1]+O[1],this.el.plot(j)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:h}),SVG.on(window,"touchmove.resize",function(E){p.update(E||window.event)}),SVG.on(window,"touchend.resize",function(){p.done()}),SVG.on(window,"mousemove.resize",function(E){p.update(E||window.event)}),SVG.on(window,"mouseup.resize",function(){p.done()})},Le.prototype.update=function(h){if(h){var p=this._extractPosition(h),v=this.transformPoint(p.x,p.y),M=v.x-this.parameters.p.x,E=v.y-this.parameters.p.y;this.lastUpdateCall=[M,E],this.calc(M,E),this.el.fire("resizing",{dx:M,dy:E,event:h})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},Le.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},Le.prototype.snapToGrid=function(h,p,v,M){var E;return E=void 0!==M?[(v+h)%this.options.snapToGrid,(M+p)%this.options.snapToGrid]:[(this.parameters.box.x+h+(1&(v=null==v?3:v)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+p+(2&v?0:this.parameters.box.height))%this.options.snapToGrid],h<0&&(E[0]-=this.options.snapToGrid),p<0&&(E[1]-=this.options.snapToGrid),h-=Math.abs(E[0])<this.options.snapToGrid/2?E[0]:E[0]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),p-=Math.abs(E[1])<this.options.snapToGrid/2?E[1]:E[1]-(p<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(h,p,v,M)},Le.prototype.constraintToBox=function(h,p,v,M){var E,N,O=this.options.constraint||{};return void 0!==M?(E=v,N=M):(E=this.parameters.box.x+(1&v?0:this.parameters.box.width),N=this.parameters.box.y+(2&v?0:this.parameters.box.height)),void 0!==O.minX&&E+h<O.minX&&(h=O.minX-E),void 0!==O.maxX&&E+h>O.maxX&&(h=O.maxX-E),void 0!==O.minY&&N+p<O.minY&&(p=O.minY-N),void 0!==O.maxY&&N+p>O.maxY&&(p=O.maxY-N),[h,p]},Le.prototype.checkAspectRatio=function(h,p){if(!this.options.saveAspectRatio)return h;var v=h.slice(),M=this.parameters.box.width/this.parameters.box.height,E=this.parameters.box.width+h[0],N=this.parameters.box.height-h[1],O=E/N;return O<M?(v[1]=E/M-this.parameters.box.height,p&&(v[1]=-v[1])):O>M&&(v[0]=this.parameters.box.width-N*M,p&&(v[0]=-v[0])),v},SVG.extend(SVG.Element,{resize:function(h){return(this.remember("_resizeHandler")||new Le(this)).init(h||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(Le,h){void 0===h&&(h={});var p=h.insertAt;if("undefined"!=typeof document){var v=document.head||document.getElementsByTagName("head")[0],M=document.createElement("style");M.type="text/css","top"===p&&v.firstChild?v.insertBefore(M,v.firstChild):v.appendChild(M),M.styleSheet?M.styleSheet.cssText=Le:M.appendChild(document.createTextNode(Le))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function Le(se){var me=se.__resizeTriggers__,Ee=me.firstElementChild,Ae=me.lastElementChild,Re=Ee?Ee.firstElementChild:null;Ae&&(Ae.scrollLeft=Ae.scrollWidth,Ae.scrollTop=Ae.scrollHeight),Re&&(Re.style.width=Ee.offsetWidth+1+"px",Re.style.height=Ee.offsetHeight+1+"px"),Ee&&(Ee.scrollLeft=Ee.scrollWidth,Ee.scrollTop=Ee.scrollHeight)}function h(se){var me=this;Le(this),this.__resizeRAF__&&E(this.__resizeRAF__),this.__resizeRAF__=M(function(){var Ee;((Ee=me).offsetWidth!=Ee.__resizeLast__.width||Ee.offsetHeight!=Ee.__resizeLast__.height)&&(me.__resizeLast__.width=me.offsetWidth,me.__resizeLast__.height=me.offsetHeight,me.__resizeListeners__.forEach(function(Ee){Ee.call(se)}))})}var p,v,M=(p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(se){return window.setTimeout(se,20)},function(se){return p(se)}),E=(v=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(se){return v(se)}),N=!1,O="animationstart",j="Webkit Moz O ms".split(" "),Z="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),re=document.createElement("fakeelement");if(void 0!==re.style.animationName&&(N=!0),!1===N)for(var le=0;le<j.length;le++)if(void 0!==re.style[j[le]+"AnimationName"]){O=Z[le];break}window.addResizeListener=function(se,me){se.__resizeTriggers__||("static"==getComputedStyle(se).position&&(se.style.position="relative"),se.__resizeLast__={},se.__resizeListeners__=[],(se.__resizeTriggers__=document.createElement("div")).className="resize-triggers",se.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',se.appendChild(se.__resizeTriggers__),Le(se),se.addEventListener("scroll",h,!0),O&&se.__resizeTriggers__.addEventListener(O,function(Ee){"resizeanim"==Ee.animationName&&Le(se)})),se.__resizeListeners__.push(me)},window.removeResizeListener=function(se,me){se&&(se.__resizeListeners__.splice(se.__resizeListeners__.indexOf(me),1),se.__resizeListeners__.length||(se.removeEventListener("scroll",h),se.__resizeTriggers__.parentNode&&(se.__resizeTriggers__=!se.removeChild(se.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var Vt=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ei(this.ctx),this.ctx.axes=new Hs(this.ctx),this.ctx.core=new It(this.ctx.el,this.ctx),this.ctx.config=new gi({}),this.ctx.data=new xr(this.ctx),this.ctx.grid=new fa(this.ctx),this.ctx.graphics=new jt(this.ctx),this.ctx.coreUtils=new oi(this.ctx),this.ctx.crosshairs=new yi(this.ctx),this.ctx.events=new $i(this.ctx),this.ctx.exports=new Vs(this.ctx),this.ctx.localization=new ho(this.ctx),this.ctx.options=new Pr,this.ctx.responsive=new cs(this.ctx),this.ctx.series=new ni(this.ctx),this.ctx.theme=new mr(this.ctx),this.ctx.formatters=new uo(this.ctx),this.ctx.titleSubtitle=new Xi(this.ctx),this.ctx.legend=new Yn(this.ctx),this.ctx.toolbar=new ji(this.ctx),this.ctx.dimensions=new Ro(this.ctx),this.ctx.updateHelpers=new Kt(this.ctx),this.ctx.zoomPanSelection=new ll(this.ctx),this.ctx.w.globals.tooltip=new Lt(this.ctx)}}]),Le}(),Xt=function(){function Le(h){J(this,Le),this.ctx=h,this.w=h.w}return ce(Le,[{key:"clear",value:function(h){var p=h.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:p})}},{key:"killSVG",value:function(h){h.each(function(p,v){this.removeClass("*"),this.off(),this.stop()},!0),h.ungroup(),h.clear()}},{key:"clearDomElements",value:function(h){var p=this,M=this.w.globals.dom.Paper.node;M.parentNode&&M.parentNode.parentNode&&!h.isUpdating&&(M.parentNode.parentNode.style.minHeight="unset");var E=this.w.globals.dom.baseEl;E&&this.ctx.eventList.forEach(function(O){E.removeEventListener(O,p.ctx.events.documentEvent)});var N=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(N.Paper),N.Paper.remove(),N.elWrap=null,N.elGraphical=null,N.elAnnotations=null,N.elLegendWrap=null,N.baseEl=null,N.elGridRect=null,N.elGridRectMask=null,N.elGridRectMarkerMask=null,N.elForecastMask=null,N.elNonForecastMask=null,N.elDefs=null}}]),Le}(),Mn=function(){function Le(h,p){J(this,Le),this.opts=p,this.ctx=this,this.w=new ki(p).init(),this.el=h,this.w.globals.cuid=at.randomId(),this.w.globals.chartID=this.w.config.chart.id?at.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Vt(this).initModules(),this.create=at.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ce(Le,[{key:"render",value:function(){var h=this;return new Promise(function(p,v){if(null!==h.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),h.w.config.chart.id&&Apex._chartInstances.push({id:h.w.globals.chartID,group:h.w.config.chart.group,chart:h}),h.setLocale(h.w.config.chart.defaultLocale);var M=h.w.config.chart.events.beforeMount;"function"==typeof M&&M(h,h.w),h.events.fireEvent("beforeMount",[h,h.w]),window.addEventListener("resize",h.windowResizeHandler),window.addResizeListener(h.el.parentNode,h.parentResizeHandler);var E=h.create(h.w.config.series,{});if(!E)return p(h);h.mount(E).then(function(){"function"==typeof h.w.config.chart.events.mounted&&h.w.config.chart.events.mounted(h,h.w),h.events.fireEvent("mounted",[h,h.w]),p(E)}).catch(function(N){v(N)})}else v(new Error("Element not found"))})}},{key:"create",value:function(h,p){var v=this.w;new Vt(this).initModules();var M=this.w.globals;if(M.noData=!1,M.animationEnded=!1,this.responsive.checkResponsiveConfig(p),v.config.xaxis.convertedCatToNumeric&&new mi(v.config).convertCatToNumericXaxis(v.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===v.config.chart.type&&(v.config.grid.show=!1,v.config.yaxis[0].show=!1),0===M.svgWidth))return M.animationEnded=!0,null;var E=oi.checkComboSeries(h);M.comboCharts=E.comboCharts,M.comboBarCount=E.comboBarCount;var N=h.every(function(le){return le.data&&0===le.data.length});(0===h.length||N)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(h),this.theme.init(),new vn(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),M.noData&&M.collapsedSeries.length!==M.series.length&&!v.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),M.axisCharts&&(this.core.coreCalculations(),"category"!==v.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=v.globals.minX,this.ctx.toolbar.maxX=v.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var O=this.core.xySettings();this.grid.createGridMask();var j=this.core.plotChartType(h,O),Z=new Rn(this);return Z.bringForward(),v.config.dataLabels.background.enabled&&Z.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:j,xyRatios:O,elInner:v.globals.dom.elGraphical,dimensions:{plot:{left:v.globals.translateX,top:v.globals.translateY,width:v.globals.gridWidth,height:v.globals.gridHeight}}}}},{key:"mount",value:function(){var h=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,v=this,M=v.w;return new Promise(function(E,N){if(null===v.el)return N(new Error("Not enough data to display or target element not found"));(null===p||M.globals.allSeriesCollapsed)&&v.series.handleNoData(),"treemap"!==M.config.chart.type&&v.axes.drawAxis(M.config.chart.type,p.xyRatios),v.grid=new fa(v);var O=v.grid.drawGrid();v.annotations=new _n(v),v.annotations.drawImageAnnos(),v.annotations.drawTextAnnos(),"back"===M.config.grid.position&&O&&M.globals.dom.elGraphical.add(O.el);var j=new Zs(h.ctx),Z=new Gi(h.ctx);if(null!==O&&(j.xAxisLabelCorrections(O.xAxisTickWidth),Z.setYAxisTextAlignments(),M.config.yaxis.map(function(se,me){-1===M.globals.ignoreYAxisIndexes.indexOf(me)&&Z.yAxisTitleRotate(me,se.opposite)})),"back"===M.config.annotations.position&&(M.globals.dom.Paper.add(M.globals.dom.elAnnotations),v.annotations.drawAxesAnnotations()),Array.isArray(p.elGraph))for(var re=0;re<p.elGraph.length;re++)M.globals.dom.elGraphical.add(p.elGraph[re]);else M.globals.dom.elGraphical.add(p.elGraph);if("front"===M.config.grid.position&&O&&M.globals.dom.elGraphical.add(O.el),"front"===M.config.xaxis.crosshairs.position&&v.crosshairs.drawXCrosshairs(),"front"===M.config.yaxis[0].crosshairs.position&&v.crosshairs.drawYCrosshairs(),"front"===M.config.annotations.position&&(M.globals.dom.Paper.add(M.globals.dom.elAnnotations),v.annotations.drawAxesAnnotations()),!M.globals.noData){if(M.config.tooltip.enabled&&!M.globals.noData&&v.w.globals.tooltip.drawTooltip(p.xyRatios),M.globals.axisCharts&&(M.globals.isXNumeric||M.config.xaxis.convertedCatToNumeric||M.globals.isTimelineBar))(M.config.chart.zoom.enabled||M.config.chart.selection&&M.config.chart.selection.enabled||M.config.chart.pan&&M.config.chart.pan.enabled)&&v.zoomPanSelection.init({xyRatios:p.xyRatios});else{var le=M.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(se){le[se]=!1})}M.config.chart.toolbar.show&&!M.globals.allSeriesCollapsed&&v.toolbar.createToolbar()}M.globals.memory.methodsToExec.length>0&&M.globals.memory.methodsToExec.forEach(function(se){se.method(se.params,!1,se.context)}),M.globals.axisCharts||M.globals.noData||v.core.resizeNonAxisCharts(),E(v)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var h=this.w.config.chart.id;h&&Apex._chartInstances.forEach(function(p,v){p.id===at.escapeString(h)&&Apex._chartInstances.splice(v,1)}),new Xt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(h){var p=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],O=this.w;return O.globals.selection=void 0,h.series&&(this.series.resetSeries(!1,!0,!1),h.series.length&&h.series[0].data&&(h.series=h.series.map(function(j,Z){return p.updateHelpers._extendSeries(j,Z)})),this.updateHelpers.revertDefaultAxisMinMax()),h.xaxis&&(h=this.updateHelpers.forceXAxisUpdate(h)),h.yaxis&&(h=this.updateHelpers.forceYAxisUpdate(h)),O.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),h.theme&&(h=this.theme.updateThemeOptions(h)),this.updateHelpers._updateOptions(h,v,M,E,N)}},{key:"updateSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,p,v)}},{key:"appendSeries",value:function(h){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],M=this.w.config.series.slice();return M.push(h),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(M,p,v)}},{key:"appendData",value:function(h){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=this;v.w.globals.dataChanged=!0,v.series.getPreviousPaths();for(var M=v.w.config.series.slice(),E=0;E<M.length;E++)if(null!=h[E])for(var N=0;N<h[E].data.length;N++)M[E].data.push(h[E].data[N]);return v.w.config.series=M,p&&(v.w.globals.initialSeries=at.clone(v.w.config.series)),this.update()}},{key:"update",value:function(h){var p=this;return new Promise(function(v,M){new Xt(p.ctx).clear({isUpdating:!0});var E=p.create(p.w.config.series,h);if(!E)return v(p);p.mount(E).then(function(){"function"==typeof p.w.config.chart.events.updated&&p.w.config.chart.events.updated(p,p.w),p.events.fireEvent("updated",[p,p.w]),p.w.globals.isDirty=!0,v(p)}).catch(function(N){M(N)})})}},{key:"getSyncedCharts",value:function(){var h=this.getGroupedCharts(),p=[this];return h.length&&(p=[],h.forEach(function(v){p.push(v)})),p}},{key:"getGroupedCharts",value:function(){var h=this;return Apex._chartInstances.filter(function(p){if(p.group)return!0}).map(function(p){return h.w.config.chart.group===p.group?p.chart:h})}},{key:"toggleSeries",value:function(h){return this.series.toggleSeries(h)}},{key:"showSeries",value:function(h){this.series.showSeries(h)}},{key:"hideSeries",value:function(h){this.series.hideSeries(h)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(h,p)}},{key:"addEventListener",value:function(h,p){this.events.addEventListener(h,p)}},{key:"removeEventListener",value:function(h,p){this.events.removeEventListener(h,p)}},{key:"addXaxisAnnotation",value:function(h){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,M=this;v&&(M=v),M.annotations.addXaxisAnnotationExternal(h,p,M)}},{key:"addYaxisAnnotation",value:function(h){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,M=this;v&&(M=v),M.annotations.addYaxisAnnotationExternal(h,p,M)}},{key:"addPointAnnotation",value:function(h){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,M=this;v&&(M=v),M.annotations.addPointAnnotationExternal(h,p,M)}},{key:"clearAnnotations",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,p=this;h&&(p=h),p.annotations.clearAnnotations(p)}},{key:"removeAnnotation",value:function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,v=this;p&&(v=p),v.annotations.removeAnnotation(v,h)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(h,p){return this.coreUtils.getSeriesTotalsXRange(h,p)}},{key:"getHighestValueInSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=new ma(this.ctx);return p.getMinYMaxY(h).highestY}},{key:"getLowestValueInSeries",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=new ma(this.ctx);return p.getMinYMaxY(h).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(h,p){return this.updateHelpers.toggleDataPointSelection(h,p)}},{key:"zoomX",value:function(h,p){this.ctx.toolbar.zoomUpdateOptions(h,p)}},{key:"setLocale",value:function(h){this.localization.setCurrentLocaleValues(h)}},{key:"dataURI",value:function(h){return new Vs(this.ctx).dataURI(h)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var h=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){h.w.globals.resized=!0,h.w.globals.dataChanged=!1,h.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var h=this.w.config.chart.redrawOnWindowResize;"function"==typeof h&&(h=h()),h&&this._windowResize()}}],[{key:"getChartByID",value:function(h){var p=at.escapeString(h),v=Apex._chartInstances.filter(function(M){return M.id===p})[0];return v&&v.chart}},{key:"initOnLoad",value:function(){for(var h=document.querySelectorAll("[data-apexcharts]"),p=0;p<h.length;p++)new Le(h[p],JSON.parse(h[p].getAttribute("data-options"))).render()}},{key:"exec",value:function(h,p){var v=this.getChartByID(h);if(v){v.w.globals.isExecCalled=!0;var M=null;if(-1!==v.publicMethods.indexOf(p)){for(var E=arguments.length,N=new Array(E>2?E-2:0),O=2;O<E;O++)N[O-2]=arguments[O];M=v[p].apply(v,N)}return M}}},{key:"merge",value:function(h,p){return at.extend(h,p)}}]),Le}();Ht.exports=Mn},2329:(Ht,St,De)=>{"use strict";De.d(St,{Z:()=>o.Z});var o=De(4969),J="8.9.1";o.Z.registerVersion("firebase",J,"app"),o.Z.SDK_VERSION=J},3815:function(Ht,St,De){var o;Ht=De.nmd(Ht),function(){var W,be="Expected a function",xe="__lodash_hash_undefined__",He="__lodash_placeholder__",ni=1/0,Pi=9007199254740991,bi=4294967295,$n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ki="[object Arguments]",xr="[object Array]",Qr="[object Boolean]",Vs="[object Date]",fa="[object Error]",nr="[object Function]",ma="[object GeneratorFunction]",Gi="[object Map]",$i="[object Number]",Hs="[object Object]",yi="[object Promise]",mr="[object RegExp]",Xi="[object Set]",po="[object String]",bc="[object Symbol]",Ls="[object WeakMap]",Sr="[object ArrayBuffer]",Yn="[object DataView]",ji="[object Float32Array]",ll="[object Float64Array]",Ea="[object Int8Array]",ga="[object Int16Array]",gs="[object Int32Array]",So="[object Uint8Array]",ko="[object Uint8ClampedArray]",Pt="[object Uint16Array]",Lt="[object Uint32Array]",Wt=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,nn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pi=/&(?:amp|lt|gt|quot|#39);/g,Ni=/[&<>"']/g,ar=RegExp(pi.source),Or=RegExp(Ni.source),wr=/<%-([\s\S]+?)%>/g,st=/<%([\s\S]+?)%>/g,Ne=/<%=([\s\S]+?)%>/g,Ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ft=/[\\^$.*+?()[\]{}|]/g,It=RegExp(Ft.source),Kt=/^\s+/,Vt=/\s/,Xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mn=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,h=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,p=/[()=,{}\[\]\/\s]/,v=/\\(\\)?/g,M=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,E=/\w*$/,N=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,j=/^\[object .+?Constructor\]$/,Z=/^0o[0-7]+$/i,re=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,se=/($^)/,me=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",it="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",$="a-z\\xdf-\\xf6\\xf8-\\xff",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",Gt="\\ufe0e\\ufe0f",dn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pn="["+Ee+"]",wi="["+dn+"]",lr="["+it+"]",fi="\\d+",Oi="["+_t+"]",Tr="["+$+"]",$s="[^"+Ee+dn+fi+_t+$+sn+"]",_s="\\ud83c[\\udffb-\\udfff]",Jr="[^"+Ee+"]",ys="(?:\\ud83c[\\udde6-\\uddff]){2}",_a="[\\ud800-\\udbff][\\udc00-\\udfff]",ia="["+sn+"]",Fo="(?:"+Tr+"|"+$s+")",ad="(?:"+ia+"|"+$s+")",Cl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$f="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Rd="(?:"+lr+"|"+_s+")?",cl="["+Gt+"]?",Yc=cl+Rd+"(?:\\u200d(?:"+[Jr,ys,_a].join("|")+")"+cl+Rd+")*",vs="(?:"+[Oi,ys,_a].join("|")+")"+Yc,Fd="(?:"+[Jr+lr+"?",lr,ys,_a,Pn].join("|")+")",Nd=RegExp("['\u2019]","g"),Jh=RegExp(lr,"g"),zl=RegExp(_s+"(?="+_s+")|"+Fd+Yc,"g"),_h=RegExp([ia+"?"+Tr+"+"+Cl+"(?="+[wi,ia,"$"].join("|")+")",ad+"+"+$f+"(?="+[wi,ia+Fo,"$"].join("|")+")",ia+"?"+Fo+"+"+Cl,ia+"+"+$f,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fi,vs].join("|"),"g"),Ml=RegExp("[\\u200d"+Ee+it+Gt+"]"),Kh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ep=-1,bs={};bs[ji]=bs[ll]=bs[Ea]=bs[ga]=bs[gs]=bs[So]=bs[ko]=bs[Pt]=bs[Lt]=!0,bs[ki]=bs[xr]=bs[Sr]=bs[Qr]=bs[Yn]=bs[Vs]=bs[fa]=bs[nr]=bs[Gi]=bs[$i]=bs[Hs]=bs[mr]=bs[Xi]=bs[po]=bs[Ls]=!1;var Ps={};Ps[ki]=Ps[xr]=Ps[Sr]=Ps[Yn]=Ps[Qr]=Ps[Vs]=Ps[ji]=Ps[ll]=Ps[Ea]=Ps[ga]=Ps[gs]=Ps[Gi]=Ps[$i]=Ps[Hs]=Ps[mr]=Ps[Xi]=Ps[po]=Ps[bc]=Ps[So]=Ps[ko]=Ps[Pt]=Ps[Lt]=!0,Ps[fa]=Ps[nr]=Ps[Ls]=!1;var cd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kr=parseFloat,Yd=parseInt,ud="object"==typeof global&&global&&global.Object===Object&&global,tp="object"==typeof self&&self&&self.Object===Object&&self,ra=ud||tp||Function("return this")(),Na=St&&!St.nodeType&&St,di=Na&&Ht&&!Ht.nodeType&&Ht,xc=di&&di.exports===Na,Bl=xc&&ud.process,za=function(){try{return di&&di.require&&di.require("util").types||Bl&&Bl.binding&&Bl.binding("util")}catch(kn){}}(),dd=za&&za.isArrayBuffer,wc=za&&za.isDate,Rs=za&&za.isMap,Tl=za&&za.isRegExp,er=za&&za.isSet,np=za&&za.isTypedArray;function cr(qt,kn,pn){switch(pn.length){case 0:return qt.call(kn);case 1:return qt.call(kn,pn[0]);case 2:return qt.call(kn,pn[0],pn[1]);case 3:return qt.call(kn,pn[0],pn[1],pn[2])}return qt.apply(kn,pn)}function ip(qt,kn,pn,Ci){for(var Ki=-1,Cr=null==qt?0:qt.length;++Ki<Cr;){var Ws=qt[Ki];kn(Ci,Ws,pn(Ws),qt)}return Ci}function Kr(qt,kn){for(var pn=-1,Ci=null==qt?0:qt.length;++pn<Ci&&!1!==kn(qt[pn],pn,qt););return qt}function Au(qt,kn){for(var pn=null==qt?0:qt.length;pn--&&!1!==kn(qt[pn],pn,qt););return qt}function Sl(qt,kn){for(var pn=-1,Ci=null==qt?0:qt.length;++pn<Ci;)if(!kn(qt[pn],pn,qt))return!1;return!0}function Vl(qt,kn){for(var pn=-1,Ci=null==qt?0:qt.length,Ki=0,Cr=[];++pn<Ci;){var Ws=qt[pn];kn(Ws,pn,qt)&&(Cr[Ki++]=Ws)}return Cr}function ya(qt,kn){return!(null==qt||!qt.length)&&ec(qt,kn,0)>-1}function qa(qt,kn,pn){for(var Ci=-1,Ki=null==qt?0:qt.length;++Ci<Ki;)if(pn(kn,qt[Ci]))return!0;return!1}function ss(qt,kn){for(var pn=-1,Ci=null==qt?0:qt.length,Ki=Array(Ci);++pn<Ci;)Ki[pn]=kn(qt[pn],pn,qt);return Ki}function $o(qt,kn){for(var pn=-1,Ci=kn.length,Ki=qt.length;++pn<Ci;)qt[Ki+pn]=kn[pn];return qt}function Bd(qt,kn,pn,Ci){var Ki=-1,Cr=null==qt?0:qt.length;for(Ci&&Cr&&(pn=qt[++Ki]);++Ki<Cr;)pn=kn(pn,qt[Ki],Ki,qt);return pn}function tu(qt,kn,pn,Ci){var Ki=null==qt?0:qt.length;for(Ci&&Ki&&(pn=qt[--Ki]);Ki--;)pn=kn(pn,qt[Ki],Ki,qt);return pn}function kl(qt,kn){for(var pn=-1,Ci=null==qt?0:qt.length;++pn<Ci;)if(kn(qt[pn],pn,qt))return!0;return!1}var yh=Lu("length");function Iu(qt,kn,pn){var Ci;return pn(qt,function(Ki,Cr,Ws){if(kn(Ki,Cr,Ws))return Ci=Cr,!1}),Ci}function hd(qt,kn,pn,Ci){for(var Ki=qt.length,Cr=pn+(Ci?1:-1);Ci?Cr--:++Cr<Ki;)if(kn(qt[Cr],Cr,qt))return Cr;return-1}function ec(qt,kn,pn){return kn==kn?function(qt,kn,pn){for(var Ci=pn-1,Ki=qt.length;++Ci<Ki;)if(qt[Ci]===kn)return Ci;return-1}(qt,kn,pn):hd(qt,Ip,pn)}function nu(qt,kn,pn,Ci){for(var Ki=pn-1,Cr=qt.length;++Ki<Cr;)if(Ci(qt[Ki],kn))return Ki;return-1}function Ip(qt){return qt!=qt}function Bc(qt,kn){var pn=null==qt?0:qt.length;return pn?fo(qt,kn)/pn:NaN}function Lu(qt){return function(kn){return null==kn?W:kn[qt]}}function Un(qt){return function(kn){return null==qt?W:qt[kn]}}function us(qt,kn,pn,Ci,Ki){return Ki(qt,function(Cr,Ws,Ur){pn=Ci?(Ci=!1,Cr):kn(pn,Cr,Ws,Ur)}),pn}function fo(qt,kn){for(var pn,Ci=-1,Ki=qt.length;++Ci<Ki;){var Cr=kn(qt[Ci]);Cr!==W&&(pn=pn===W?Cr:pn+Cr)}return pn}function pd(qt,kn){for(var pn=-1,Ci=Array(qt);++pn<qt;)Ci[pn]=kn(pn);return Ci}function va(qt){return qt&&qt.slice(0,ic(qt)+1).replace(Kt,"")}function _o(qt){return function(kn){return qt(kn)}}function Os(qt,kn){return ss(kn,function(pn){return qt[pn]})}function bh(qt,kn){return qt.has(kn)}function rp(qt,kn){for(var pn=-1,Ci=qt.length;++pn<Ci&&ec(kn,qt[pn],0)>-1;);return pn}function $a(qt,kn){for(var pn=qt.length;pn--&&ec(kn,qt[pn],0)>-1;);return pn}function Cc(qt,kn){for(var pn=qt.length,Ci=0;pn--;)qt[pn]===kn&&++Ci;return Ci}var no=Un({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),sa=Un({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Vd(qt){return"\\"+cd[qt]}function hr(qt){return Ml.test(qt)}function Pu(qt){var kn=-1,pn=Array(qt.size);return qt.forEach(function(Ci,Ki){pn[++kn]=[Ki,Ci]}),pn}function iu(qt,kn){return function(pn){return qt(kn(pn))}}function No(qt,kn){for(var pn=-1,Ci=qt.length,Ki=0,Cr=[];++pn<Ci;){var Ws=qt[pn];(Ws===kn||Ws===He)&&(qt[pn]=He,Cr[Ki++]=pn)}return Cr}function nc(qt){var kn=-1,pn=Array(qt.size);return qt.forEach(function(Ci){pn[++kn]=Ci}),pn}function oa(qt){return hr(qt)?function(qt){for(var kn=zl.lastIndex=0;zl.test(qt);)++kn;return kn}(qt):yh(qt)}function Xo(qt){return hr(qt)?function(qt){return qt.match(zl)||[]}(qt):function(qt){return qt.split("")}(qt)}function ic(qt){for(var kn=qt.length;kn--&&Vt.test(qt.charAt(kn)););return kn}var Mc=Un({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fd=function qt(kn){var A,pn=(kn=null==kn?ra:fd.defaults(ra.Object(),kn,fd.pick(ra,qo))).Array,Ci=kn.Date,Ki=kn.Error,Cr=kn.Function,Ws=kn.Math,Ur=kn.Object,aa=kn.RegExp,sc=kn.String,zo=kn.TypeError,su=pn.prototype,Ya=Ur.prototype,Vc=kn["__core-js_shared__"],Yo=Cr.prototype.toString,Mr=Ya.hasOwnProperty,ou=0,sp=(A=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",oc=Ya.toString,Ou=Yo.call(Ur),op=ra._,Op=aa("^"+Yo.call(Mr).replace(Ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ap=xc?kn.Buffer:W,au=kn.Symbol,md=kn.Uint8Array,lp=ap?ap.allocUnsafe:W,Us=iu(Ur.getPrototypeOf,Ur),lu=Ur.create,ac=Ya.propertyIsEnumerable,cu=su.splice,ul=au?au.isConcatSpreadable:W,Tc=au?au.iterator:W,El=au?au.toStringTag:W,Gd=function(){try{var A=Uu(Ur,"defineProperty");return A({},"",{}),A}catch(Y){}}(),gd=kn.clearTimeout!==ra.clearTimeout&&kn.clearTimeout,uf=Ci&&Ci.now!==ra.Date.now&&Ci.now,Ch=kn.setTimeout!==ra.setTimeout&&kn.setTimeout,Dl=Ws.ceil,Ul=Ws.floor,Ru=Ur.getOwnPropertySymbols,lc=ap?ap.isBuffer:W,Sc=kn.isFinite,vi=su.join,gr=iu(Ur.keys,Ur),js=Ws.max,Er=Ws.min,Ti=Ci.now,Ba=kn.parseInt,Ei=Ws.random,cp=su.reverse,Fs=Uu(kn,"DataView"),Eo=Uu(kn,"Map"),Es=Uu(kn,"Promise"),dl=Uu(kn,"Set"),Fu=Uu(kn,"WeakMap"),yo=Uu(Ur,"create"),Va=Fu&&new Fu,jl={},up=Cu(Fs),uu=Cu(Eo),Zd=Cu(Es),Nu=Cu(dl),Hc=Cu(Fu),Uc=au?au.prototype:W,cc=Uc?Uc.valueOf:W,du=Uc?Uc.toString:W;function tt(A){if(Ma(A)&&!zr(A)&&!(A instanceof es)){if(A instanceof Ha)return A;if(Mr.call(A,"__wrapped__"))return Bm(A)}return new Ha(A)}var uc=function(){function A(){}return function(Y){if(!Rr(Y))return{};if(lu)return lu(Y);A.prototype=Y;var te=new A;return A.prototype=W,te}}();function Wd(){}function Ha(A,Y){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!Y,this.__index__=0,this.__values__=W}function es(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bi,this.__views__=[]}function Bo(A){var Y=-1,te=null==A?0:A.length;for(this.clear();++Y<te;){var Ce=A[Y];this.set(Ce[0],Ce[1])}}function Ua(A){var Y=-1,te=null==A?0:A.length;for(this.clear();++Y<te;){var Ce=A[Y];this.set(Ce[0],Ce[1])}}function R(A){var Y=-1,te=null==A?0:A.length;for(this.clear();++Y<te;){var Ce=A[Y];this.set(Ce[0],Ce[1])}}function _e(A){var Y=-1,te=null==A?0:A.length;for(this.__data__=new R;++Y<te;)this.add(A[Y])}function We(A){var Y=this.__data__=new Ua(A);this.size=Y.size}function vt(A,Y){var te=zr(A),Ce=!te&&Ca(A),qe=!te&&!Ce&&Ff(A),ut=!te&&!Ce&&!qe&&Zp(A),Nt=te||Ce||qe||ut,$t=Nt?pd(A.length,sc):[],cn=$t.length;for(var jn in A)(Y||Mr.call(A,jn))&&(!Nt||!("length"==jn||qe&&("offset"==jn||"parent"==jn)||ut&&("buffer"==jn||"byteLength"==jn||"byteOffset"==jn)||ju(jn,cn)))&&$t.push(jn);return $t}function wt(A){var Y=A.length;return Y?A[pu(0,Y-1)]:W}function Bt(A,Y){return Tf(hc(A),Qn(Y,0,A.length))}function Ct(A){return Tf(hc(A))}function kt(A,Y,te){(te!==W&&!Wu(A[Y],te)||te===W&&!(Y in A))&&On(A,Y,te)}function wn(A,Y,te){var Ce=A[Y];(!Mr.call(A,Y)||!Wu(Ce,te)||te===W&&!(Y in A))&&On(A,Y,te)}function Tn(A,Y){for(var te=A.length;te--;)if(Wu(A[te][0],Y))return te;return-1}function Ln(A,Y,te,Ce){return ps(A,function(qe,ut,Nt){Y(Ce,qe,te(qe),Nt)}),Ce}function Dt(A,Y){return A&&Qo(Y,Rl(Y),A)}function On(A,Y,te){"__proto__"==Y&&Gd?Gd(A,Y,{configurable:!0,enumerable:!0,value:te,writable:!0}):A[Y]=te}function ci(A,Y){for(var te=-1,Ce=Y.length,qe=pn(Ce),ut=null==A;++te<Ce;)qe[te]=ut?W:ig(A,Y[te]);return qe}function Qn(A,Y,te){return A==A&&(te!==W&&(A=A<=te?A:te),Y!==W&&(A=A>=Y?A:Y)),A}function Wn(A,Y,te,Ce,qe,ut){var Nt,$t=1&Y,cn=2&Y,jn=4&Y;if(te&&(Nt=qe?te(A,Ce,qe,ut):te(A)),Nt!==W)return Nt;if(!Rr(A))return A;var qn=zr(A);if(qn){if(Nt=function(A){var Y=A.length,te=new A.constructor(Y);return Y&&"string"==typeof A[0]&&Mr.call(A,"index")&&(te.index=A.index,te.input=A.input),te}(A),!$t)return hc(A,Nt)}else{var Hn=fc(A),Ai=Hn==nr||Hn==ma;if(Ff(A))return T_(A,$t);if(Hn==Hs||Hn==ki||Ai&&!qe){if(Nt=cn||Ai?{}:eh(A),!$t)return cn?function(A,Y){return Qo(A,Ih(A),Y)}(A,function(A,Y){return A&&Qo(Y,yl(Y),A)}(Nt,A)):function(A,Y){return Qo(A,rm(A),Y)}(A,Dt(Nt,A))}else{if(!Ps[Hn])return qe?A:{};Nt=function(A,Y,te){var Ce=A.constructor;switch(Y){case Sr:return el(A);case Qr:case Vs:return new Ce(+A);case Yn:return function(A,Y){var te=Y?el(A.buffer):A.buffer;return new A.constructor(te,A.byteOffset,A.byteLength)}(A,te);case ji:case ll:case Ea:case ga:case gs:case So:case ko:case Pt:case Lt:return mf(A,te);case Gi:return new Ce;case $i:case po:return new Ce(A);case mr:return function(A){var Y=new A.constructor(A.source,E.exec(A));return Y.lastIndex=A.lastIndex,Y}(A);case Xi:return new Ce;case bc:return function(A){return cc?Ur(cc.call(A)):{}}(A)}}(A,Hn,$t)}}ut||(ut=new We);var sr=ut.get(A);if(sr)return sr;ut.set(A,Nt),Zy(A)?A.forEach(function(Yr){Nt.add(Wn(Yr,Y,te,Yr,A,ut))}):F_(A)&&A.forEach(function(Yr,qs){Nt.set(qs,Wn(Yr,Y,te,qs,A,ut))});var Ds=qn?W:(jn?cn?Pm:Lm:cn?yl:Rl)(A);return Kr(Ds||A,function(Yr,qs){Ds&&(Yr=A[qs=Yr]),wn(Nt,qs,Wn(Yr,Y,te,qs,A,ut))}),Nt}function Si(A,Y,te){var Ce=te.length;if(null==A)return!Ce;for(A=Ur(A);Ce--;){var qe=te[Ce],Nt=A[qe];if(Nt===W&&!(qe in A)||!(0,Y[qe])(Nt))return!1}return!0}function jr(A,Y,te){if("function"!=typeof A)throw new zo(be);return wu(function(){A.apply(W,te)},Y)}function os(A,Y,te,Ce){var qe=-1,ut=ya,Nt=!0,$t=A.length,cn=[],jn=Y.length;if(!$t)return cn;te&&(Y=ss(Y,_o(te))),Ce?(ut=qa,Nt=!1):Y.length>=200&&(ut=bh,Nt=!1,Y=new _e(Y));e:for(;++qe<$t;){var qn=A[qe],Hn=null==te?qn:te(qn);if(qn=Ce||0!==qn?qn:0,Nt&&Hn==Hn){for(var Ai=jn;Ai--;)if(Y[Ai]===Hn)continue e;cn.push(qn)}else ut(Y,Hn,Ce)||cn.push(qn)}return cn}tt.templateSettings={escape:wr,evaluate:st,interpolate:Ne,variable:"",imports:{_:tt}},(tt.prototype=Wd.prototype).constructor=tt,(Ha.prototype=uc(Wd.prototype)).constructor=Ha,(es.prototype=uc(Wd.prototype)).constructor=es,Bo.prototype.clear=function(){this.__data__=yo?yo(null):{},this.size=0},Bo.prototype.delete=function(A){var Y=this.has(A)&&delete this.__data__[A];return this.size-=Y?1:0,Y},Bo.prototype.get=function(A){var Y=this.__data__;if(yo){var te=Y[A];return te===xe?W:te}return Mr.call(Y,A)?Y[A]:W},Bo.prototype.has=function(A){var Y=this.__data__;return yo?Y[A]!==W:Mr.call(Y,A)},Bo.prototype.set=function(A,Y){var te=this.__data__;return this.size+=this.has(A)?0:1,te[A]=yo&&Y===W?xe:Y,this},Ua.prototype.clear=function(){this.__data__=[],this.size=0},Ua.prototype.delete=function(A){var Y=this.__data__,te=Tn(Y,A);return!(te<0||(te==Y.length-1?Y.pop():cu.call(Y,te,1),--this.size,0))},Ua.prototype.get=function(A){var Y=this.__data__,te=Tn(Y,A);return te<0?W:Y[te][1]},Ua.prototype.has=function(A){return Tn(this.__data__,A)>-1},Ua.prototype.set=function(A,Y){var te=this.__data__,Ce=Tn(te,A);return Ce<0?(++this.size,te.push([A,Y])):te[Ce][1]=Y,this},R.prototype.clear=function(){this.size=0,this.__data__={hash:new Bo,map:new(Eo||Ua),string:new Bo}},R.prototype.delete=function(A){var Y=vu(this,A).delete(A);return this.size-=Y?1:0,Y},R.prototype.get=function(A){return vu(this,A).get(A)},R.prototype.has=function(A){return vu(this,A).has(A)},R.prototype.set=function(A,Y){var te=vu(this,A),Ce=te.size;return te.set(A,Y),this.size+=te.size==Ce?0:1,this},_e.prototype.add=_e.prototype.push=function(A){return this.__data__.set(A,xe),this},_e.prototype.has=function(A){return this.__data__.has(A)},We.prototype.clear=function(){this.__data__=new Ua,this.size=0},We.prototype.delete=function(A){var Y=this.__data__,te=Y.delete(A);return this.size=Y.size,te},We.prototype.get=function(A){return this.__data__.get(A)},We.prototype.has=function(A){return this.__data__.has(A)},We.prototype.set=function(A,Y){var te=this.__data__;if(te instanceof Ua){var Ce=te.__data__;if(!Eo||Ce.length<199)return Ce.push([A,Y]),this.size=++te.size,this;te=this.__data__=new R(Ce)}return te.set(A,Y),this.size=te.size,this};var ps=yp(Ri),_r=yp(Ns,!0);function xs(A,Y){var te=!0;return ps(A,function(Ce,qe,ut){return te=!!Y(Ce,qe,ut)}),te}function Xs(A,Y,te){for(var Ce=-1,qe=A.length;++Ce<qe;){var ut=A[Ce],Nt=Y(ut);if(null!=Nt&&($t===W?Nt==Nt&&!ql(Nt):te(Nt,$t)))var $t=Nt,cn=ut}return cn}function Aa(A,Y){var te=[];return ps(A,function(Ce,qe,ut){Y(Ce,qe,ut)&&te.push(Ce)}),te}function ds(A,Y,te,Ce,qe){var ut=-1,Nt=A.length;for(te||(te=wf),qe||(qe=[]);++ut<Nt;){var $t=A[ut];Y>0&&te($t)?Y>1?ds($t,Y-1,te,Ce,qe):$o(qe,$t):Ce||(qe[qe.length]=$t)}return qe}var Vo=Cs(),hl=Cs(!0);function Ri(A,Y){return A&&Vo(A,Y,Rl)}function Ns(A,Y){return A&&hl(A,Y,Rl)}function Gr(A,Y){return Vl(Y,function(te){return qu(A[te])})}function Ts(A,Y){for(var te=0,Ce=(Y=Ll(Y,A)).length;null!=A&&te<Ce;)A=A[Dc(Y[te++])];return te&&te==Ce?A:W}function io(A,Y,te){var Ce=Y(A);return zr(A)?Ce:$o(Ce,te(A))}function Nr(A){return null==A?A===W?"[object Undefined]":"[object Null]":El&&El in Ur(A)?function(A){var Y=Mr.call(A,El),te=A[El];try{A[El]=W;var Ce=!0}catch(ut){}var qe=oc.call(A);return Ce&&(Y?A[El]=te:delete A[El]),qe}(A):function(A){return oc.call(A)}(A)}function Qa(A,Y){return A>Y}function Ja(A,Y){return null!=A&&Mr.call(A,Y)}function pl(A,Y){return null!=A&&Y in Ur(A)}function Ia(A,Y,te){for(var Ce=te?qa:ya,qe=A[0].length,ut=A.length,Nt=ut,$t=pn(ut),cn=1/0,jn=[];Nt--;){var qn=A[Nt];Nt&&Y&&(qn=ss(qn,_o(Y))),cn=Er(qn.length,cn),$t[Nt]=!te&&(Y||qe>=120&&qn.length>=120)?new _e(Nt&&qn):W}qn=A[0];var Hn=-1,Ai=$t[0];e:for(;++Hn<qe&&jn.length<cn;){var sr=qn[Hn],Fr=Y?Y(sr):sr;if(sr=te||0!==sr?sr:0,!(Ai?bh(Ai,Fr):Ce(jn,Fr,te))){for(Nt=ut;--Nt;){var Ds=$t[Nt];if(!(Ds?bh(Ds,Fr):Ce(A[Nt],Fr,te)))continue e}Ai&&Ai.push(Fr),jn.push(sr)}}return jn}function ba(A,Y,te){var Ce=null==(A=th(A,Y=Ll(Y,A)))?A:A[Dc(Ui(Y))];return null==Ce?W:cr(Ce,A,te)}function bo(A){return Ma(A)&&Nr(A)==ki}function Gl(A,Y,te,Ce,qe){return A===Y||(null==A||null==Y||!Ma(A)&&!Ma(Y)?A!=A&&Y!=Y:function(A,Y,te,Ce,qe,ut){var Nt=zr(A),$t=zr(Y),cn=Nt?xr:fc(A),jn=$t?xr:fc(Y),qn=(cn=cn==ki?Hs:cn)==Hs,Hn=(jn=jn==ki?Hs:jn)==Hs,Ai=cn==jn;if(Ai&&Ff(A)){if(!Ff(Y))return!1;Nt=!0,qn=!1}if(Ai&&!qn)return ut||(ut=new We),Nt||Zp(A)?Zl(A,Y,te,Ce,qe,ut):function(A,Y,te,Ce,qe,ut,Nt){switch(te){case Yn:if(A.byteLength!=Y.byteLength||A.byteOffset!=Y.byteOffset)return!1;A=A.buffer,Y=Y.buffer;case Sr:return!(A.byteLength!=Y.byteLength||!ut(new md(A),new md(Y)));case Qr:case Vs:case $i:return Wu(+A,+Y);case fa:return A.name==Y.name&&A.message==Y.message;case mr:case po:return A==Y+"";case Gi:var $t=Pu;case Xi:if($t||($t=nc),A.size!=Y.size&&!(1&Ce))return!1;var jn=Nt.get(A);if(jn)return jn==Y;Ce|=2,Nt.set(A,Y);var qn=Zl($t(A),$t(Y),Ce,qe,ut,Nt);return Nt.delete(A),qn;case bc:if(cc)return cc.call(A)==cc.call(Y)}return!1}(A,Y,cn,te,Ce,qe,ut);if(!(1&te)){var sr=qn&&Mr.call(A,"__wrapped__"),Fr=Hn&&Mr.call(Y,"__wrapped__");if(sr||Fr){var Ds=sr?A.value():A,Yr=Fr?Y.value():Y;return ut||(ut=new We),qe(Ds,Yr,te,Ce,ut)}}return!!Ai&&(ut||(ut=new We),function(A,Y,te,Ce,qe,ut){var Nt=1&te,$t=Lm(A),cn=$t.length;if(cn!=Lm(Y).length&&!Nt)return!1;for(var Hn=cn;Hn--;){var Ai=$t[Hn];if(!(Nt?Ai in Y:Mr.call(Y,Ai)))return!1}var sr=ut.get(A),Fr=ut.get(Y);if(sr&&Fr)return sr==Y&&Fr==A;var Ds=!0;ut.set(A,Y),ut.set(Y,A);for(var Yr=Nt;++Hn<cn;){var qs=A[Ai=$t[Hn]],eo=Y[Ai];if(Ce)var uh=Nt?Ce(eo,qs,Ai,Y,A,ut):Ce(qs,eo,Ai,A,Y,ut);if(!(uh===W?qs===eo||qe(qs,eo,te,Ce,ut):uh)){Ds=!1;break}Yr||(Yr="constructor"==Ai)}if(Ds&&!Yr){var Su=A.constructor,dh=Y.constructor;Su!=dh&&"constructor"in A&&"constructor"in Y&&!("function"==typeof Su&&Su instanceof Su&&"function"==typeof dh&&dh instanceof dh)&&(Ds=!1)}return ut.delete(A),ut.delete(Y),Ds}(A,Y,te,Ce,qe,ut))}(A,Y,te,Ce,Gl,qe))}function ws(A,Y,te,Ce){var qe=te.length,ut=qe,Nt=!Ce;if(null==A)return!ut;for(A=Ur(A);qe--;){var $t=te[qe];if(Nt&&$t[2]?$t[1]!==A[$t[0]]:!($t[0]in A))return!1}for(;++qe<ut;){var cn=($t=te[qe])[0],jn=A[cn],qn=$t[1];if(Nt&&$t[2]){if(jn===W&&!(cn in A))return!1}else{var Hn=new We;if(Ce)var Ai=Ce(jn,qn,cn,A,Y,Hn);if(!(Ai===W?Gl(qn,jn,3,Ce,Hn):Ai))return!1}}return!0}function G(A){return!(!Rr(A)||function(A){return!!sp&&sp in A}(A))&&(qu(A)?Op:j).test(Cu(A))}function Ke(A){return"function"==typeof A?A:null==A?Qs:"object"==typeof A?zr(A)?zs(A[0],A[1]):ro(A):j_(A)}function Zt(A){if(!bu(A))return gr(A);var Y=[];for(var te in Ur(A))Mr.call(A,te)&&"constructor"!=te&&Y.push(te);return Y}function Vi(A,Y){return A<Y}function ts(A,Y){var te=-1,Ce=gl(A)?pn(A.length):[];return ps(A,function(qe,ut,Nt){Ce[++te]=Y(qe,ut,Nt)}),Ce}function ro(A){var Y=Ah(A);return 1==Y.length&&Y[0][2]?Ry(Y[0][0],Y[0][1]):function(te){return te===A||ws(te,A,Y)}}function zs(A,Y){return sm(A)&&mc(Y)?Ry(Dc(A),Y):function(te){var Ce=ig(te,A);return Ce===W&&Ce===Y?$l(te,A):Gl(Y,Ce,3)}}function Ho(A,Y,te,Ce,qe){A!==Y&&Vo(Y,function(ut,Nt){if(qe||(qe=new We),Rr(ut))!function(A,Y,te,Ce,qe,ut,Nt){var $t=Gu(A,te),cn=Gu(Y,te),jn=Nt.get(cn);if(jn)kt(A,te,jn);else{var qn=ut?ut($t,cn,te+"",A,Y,Nt):W,Hn=qn===W;if(Hn){var Ai=zr(cn),sr=!Ai&&Ff(cn),Fr=!Ai&&!sr&&Zp(cn);qn=cn,Ai||sr||Fr?zr($t)?qn=$t:_l($t)?qn=hc($t):sr?(Hn=!1,qn=T_(cn,!0)):Fr?(Hn=!1,qn=mf(cn,!0)):qn=[]:Km(cn)||Ca(cn)?(qn=$t,Ca($t)?qn=eg($t):(!Rr($t)||qu($t))&&(qn=eh(cn))):Hn=!1}Hn&&(Nt.set(cn,qn),qe(qn,cn,Ce,ut,Nt),Nt.delete(cn)),kt(A,te,qn)}}(A,Y,Nt,te,Ho,Ce,qe);else{var $t=Ce?Ce(Gu(A,Nt),ut,Nt+"",A,Y,qe):W;$t===W&&($t=ut),kt(A,Nt,$t)}},yl)}function pf(A,Y){var te=A.length;if(te)return ju(Y+=Y<0?te:0,te)?A[Y]:W}function xg(A,Y,te){Y=Y.length?ss(Y,function(ut){return zr(ut)?function(Nt){return Ts(Nt,1===ut.length?ut[0]:ut)}:ut}):[Qs];var Ce=-1;return Y=ss(Y,_o(pr())),function(qt,kn){var pn=qt.length;for(qt.sort(function(ut,Nt){return function(A,Y,te){for(var Ce=-1,qe=A.criteria,ut=Y.criteria,Nt=qe.length,$t=te.length;++Ce<Nt;){var cn=Kf(qe[Ce],ut[Ce]);if(cn)return Ce>=$t?cn:cn*("desc"==te[Ce]?-1:1)}return A.index-Y.index}(ut,Nt,te)});pn--;)qt[pn]=qt[pn].value;return qt}(ts(A,function(ut,Nt,$t){return{criteria:ss(Y,function(jn){return jn(ut)}),index:++Ce,value:ut}}))}function La(A,Y,te){for(var Ce=-1,qe=Y.length,ut={};++Ce<qe;){var Nt=Y[Ce],$t=Ts(A,Nt);te($t,Nt)&&mp(ut,Ll(Nt,A),$t)}return ut}function pp(A,Y,te,Ce){var qe=Ce?nu:ec,ut=-1,Nt=Y.length,$t=A;for(A===Y&&(Y=hc(Y)),te&&($t=ss(A,_o(te)));++ut<Nt;)for(var cn=0,jn=Y[ut],qn=te?te(jn):jn;(cn=qe($t,qn,cn,Ce))>-1;)$t!==A&&cu.call($t,cn,1),cu.call(A,cn,1);return A}function fp(A,Y){for(var te=A?Y.length:0,Ce=te-1;te--;){var qe=Y[te];if(te==Ce||qe!==ut){var ut=qe;ju(qe)?cu.call(A,qe,1):hs(A,qe)}}return A}function pu(A,Y){return A+Ul(Ei()*(Y-A+1))}function Ec(A,Y){var te="";if(!A||Y<1||Y>Pi)return te;do{Y%2&&(te+=A),(Y=Ul(Y/2))&&(A+=A)}while(Y);return te}function yr(A,Y){return zm(Nm(A,Y,Qs),A+"")}function $d(A){return wt(Yt(A))}function Th(A,Y){var te=Yt(A);return Tf(te,Qn(Y,0,te.length))}function mp(A,Y,te,Ce){if(!Rr(A))return A;for(var qe=-1,ut=(Y=Ll(Y,A)).length,Nt=ut-1,$t=A;null!=$t&&++qe<ut;){var cn=Dc(Y[qe]),jn=te;if("__proto__"===cn||"constructor"===cn||"prototype"===cn)return A;if(qe!=Nt){var qn=$t[cn];(jn=Ce?Ce(qn,cn,$t):W)===W&&(jn=Rr(qn)?qn:ju(Y[qe+1])?[]:{})}wn($t,cn,jn),$t=$t[cn]}return A}var Xd=Va?function(A,Y){return Va.set(A,Y),A}:Qs,gp=Gd?function(A,Y){return Gd(A,"toString",{configurable:!0,enumerable:!1,value:ua(Y),writable:!0})}:Qs;function C_(A){return Tf(Yt(A))}function fu(A,Y,te){var Ce=-1,qe=A.length;Y<0&&(Y=-Y>qe?0:qe+Y),(te=te>qe?qe:te)<0&&(te+=qe),qe=Y>te?0:te-Y>>>0,Y>>>=0;for(var ut=pn(qe);++Ce<qe;)ut[Ce]=A[Ce+Y];return ut}function Xf(A,Y){var te;return ps(A,function(Ce,qe,ut){return!(te=Y(Ce,qe,ut))}),!!te}function dc(A,Y,te){var Ce=0,qe=null==A?Ce:A.length;if("number"==typeof Y&&Y==Y&&qe<=2147483647){for(;Ce<qe;){var ut=Ce+qe>>>1,Nt=A[ut];null!==Nt&&!ql(Nt)&&(te?Nt<=Y:Nt<Y)?Ce=ut+1:qe=ut}return qe}return Cg(A,Y,Qs,te)}function Cg(A,Y,te,Ce){var qe=0,ut=null==A?0:A.length;if(0===ut)return 0;for(var Nt=(Y=te(Y))!=Y,$t=null===Y,cn=ql(Y),jn=Y===W;qe<ut;){var qn=Ul((qe+ut)/2),Hn=te(A[qn]),Ai=Hn!==W,sr=null===Hn,Fr=Hn==Hn,Ds=ql(Hn);if(Nt)var Yr=Ce||Fr;else Yr=jn?Fr&&(Ce||Ai):$t?Fr&&Ai&&(Ce||!sr):cn?Fr&&Ai&&!sr&&(Ce||!Ds):!sr&&!Ds&&(Ce?Hn<=Y:Hn<Y);Yr?qe=qn+1:ut=qn}return Er(ut,4294967294)}function M_(A,Y){for(var te=-1,Ce=A.length,qe=0,ut=[];++te<Ce;){var Nt=A[te],$t=Y?Y(Nt):Nt;if(!te||!Wu($t,cn)){var cn=$t;ut[qe++]=0===Nt?0:Nt}}return ut}function fl(A){return"number"==typeof A?A:ql(A)?NaN:+A}function Dr(A){if("string"==typeof A)return A;if(zr(A))return ss(A,Dr)+"";if(ql(A))return du?du.call(A):"";var Y=A+"";return"0"==Y&&1/A==-ni?"-0":Y}function Bu(A,Y,te){var Ce=-1,qe=ya,ut=A.length,Nt=!0,$t=[],cn=$t;if(te)Nt=!1,qe=qa;else if(ut>=200){var jn=Y?null:yf(A);if(jn)return nc(jn);Nt=!1,qe=bh,cn=new _e}else cn=Y?[]:$t;e:for(;++Ce<ut;){var qn=A[Ce],Hn=Y?Y(qn):qn;if(qn=te||0!==qn?qn:0,Nt&&Hn==Hn){for(var Ai=cn.length;Ai--;)if(cn[Ai]===Hn)continue e;Y&&cn.push(Hn),$t.push(qn)}else qe(cn,Hn,te)||(cn!==$t&&cn.push(Hn),$t.push(qn))}return $t}function hs(A,Y){return null==(A=th(A,Y=Ll(Y,A)))||delete A[Dc(Ui(Y))]}function _p(A,Y,te,Ce){return mp(A,Y,te(Ts(A,Y)),Ce)}function Gc(A,Y,te,Ce){for(var qe=A.length,ut=Ce?qe:-1;(Ce?ut--:++ut<qe)&&Y(A[ut],ut,A););return te?fu(A,Ce?0:ut,Ce?ut+1:qe):fu(A,Ce?ut+1:0,Ce?qe:ut)}function _d(A,Y){var te=A;return te instanceof es&&(te=te.value()),Bd(Y,function(Ce,qe){return qe.func.apply(qe.thisArg,$o([Ce],qe.args))},te)}function Il(A,Y,te){var Ce=A.length;if(Ce<2)return Ce?Bu(A[0]):[];for(var qe=-1,ut=pn(Ce);++qe<Ce;)for(var Nt=A[qe],$t=-1;++$t<Ce;)$t!=qe&&(ut[qe]=os(ut[qe]||Nt,A[$t],Y,te));return Bu(ds(ut,1),Y,te)}function Am(A,Y,te){for(var Ce=-1,qe=A.length,ut=Y.length,Nt={};++Ce<qe;)te(Nt,A[Ce],Ce<ut?Y[Ce]:W);return Nt}function Zc(A){return _l(A)?A:[]}function yd(A){return"function"==typeof A?A:Qs}function Ll(A,Y){return zr(A)?A:sm(A,Y)?[A]:Sf(oo(A))}var Qd=yr;function Jd(A,Y,te){var Ce=A.length;return te=te===W?Ce:te,!Y&&te>=Ce?A:fu(A,Y,te)}var Qf=gd||function(A){return ra.clearTimeout(A)};function T_(A,Y){if(Y)return A.slice();var te=A.length,Ce=lp?lp(te):new A.constructor(te);return A.copy(Ce),Ce}function el(A){var Y=new A.constructor(A.byteLength);return new md(Y).set(new md(A)),Y}function mf(A,Y){var te=Y?el(A.buffer):A.buffer;return new A.constructor(te,A.byteOffset,A.length)}function Kf(A,Y){if(A!==Y){var te=A!==W,Ce=null===A,qe=A==A,ut=ql(A),Nt=Y!==W,$t=null===Y,cn=Y==Y,jn=ql(Y);if(!$t&&!jn&&!ut&&A>Y||ut&&Nt&&cn&&!$t&&!jn||Ce&&Nt&&cn||!te&&cn||!qe)return 1;if(!Ce&&!ut&&!jn&&A<Y||jn&&te&&qe&&!Ce&&!ut||$t&&te&&qe||!Nt&&qe||!cn)return-1}return 0}function Im(A,Y,te,Ce){for(var qe=-1,ut=A.length,Nt=te.length,$t=-1,cn=Y.length,jn=js(ut-Nt,0),qn=pn(cn+jn),Hn=!Ce;++$t<cn;)qn[$t]=Y[$t];for(;++qe<Nt;)(Hn||qe<ut)&&(qn[te[qe]]=A[qe]);for(;jn--;)qn[$t++]=A[qe++];return qn}function Mg(A,Y,te,Ce){for(var qe=-1,ut=A.length,Nt=-1,$t=te.length,cn=-1,jn=Y.length,qn=js(ut-$t,0),Hn=pn(qn+jn),Ai=!Ce;++qe<qn;)Hn[qe]=A[qe];for(var sr=qe;++cn<jn;)Hn[sr+cn]=Y[cn];for(;++Nt<$t;)(Ai||qe<ut)&&(Hn[sr+te[Nt]]=A[qe++]);return Hn}function hc(A,Y){var te=-1,Ce=A.length;for(Y||(Y=pn(Ce));++te<Ce;)Y[te]=A[te];return Y}function Qo(A,Y,te,Ce){var qe=!te;te||(te={});for(var ut=-1,Nt=Y.length;++ut<Nt;){var $t=Y[ut],cn=Ce?Ce(te[$t],A[$t],$t,te,A):W;cn===W&&(cn=A[$t]),qe?On(te,$t,cn):wn(te,$t,cn)}return te}function Zr(A,Y){return function(te,Ce){var qe=zr(te)?ip:Ln,ut=Y?Y():{};return qe(te,A,pr(Ce,2),ut)}}function ml(A){return yr(function(Y,te){var Ce=-1,qe=te.length,ut=qe>1?te[qe-1]:W,Nt=qe>2?te[2]:W;for(ut=A.length>3&&"function"==typeof ut?(qe--,ut):W,Nt&&nl(te[0],te[1],Nt)&&(ut=qe<3?W:ut,qe=1),Y=Ur(Y);++Ce<qe;){var $t=te[Ce];$t&&A(Y,$t,Ce,ut)}return Y})}function yp(A,Y){return function(te,Ce){if(null==te)return te;if(!gl(te))return A(te,Ce);for(var qe=te.length,ut=Y?qe:-1,Nt=Ur(te);(Y?ut--:++ut<qe)&&!1!==Ce(Nt[ut],ut,Nt););return te}}function Cs(A){return function(Y,te,Ce){for(var qe=-1,ut=Ur(Y),Nt=Ce(Y),$t=Nt.length;$t--;){var cn=Nt[A?$t:++qe];if(!1===te(ut[cn],cn,ut))break}return Y}}function _f(A){return function(Y){var te=hr(Y=oo(Y))?Xo(Y):W,Ce=te?te[0]:Y.charAt(0),qe=te?Jd(te,1).join(""):Y.slice(1);return Ce[A]()+qe}}function vd(A){return function(Y){return Bd(ca(Xn(Y).replace(Nd,"")),A,"")}}function mu(A){return function(){var Y=arguments;switch(Y.length){case 0:return new A;case 1:return new A(Y[0]);case 2:return new A(Y[0],Y[1]);case 3:return new A(Y[0],Y[1],Y[2]);case 4:return new A(Y[0],Y[1],Y[2],Y[3]);case 5:return new A(Y[0],Y[1],Y[2],Y[3],Y[4]);case 6:return new A(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);case 7:return new A(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6])}var te=uc(A.prototype),Ce=A.apply(te,Y);return Rr(Ce)?Ce:te}}function Rp(A){return function(Y,te,Ce){var qe=Ur(Y);if(!gl(Y)){var ut=pr(te,3);Y=Rl(Y),te=function($t){return ut(qe[$t],$t,qe)}}var Nt=A(Y,te,Ce);return Nt>-1?qe[ut?Y[Nt]:Nt]:W}}function Sh(A){return yu(function(Y){var te=Y.length,Ce=te,qe=Ha.prototype.thru;for(A&&Y.reverse();Ce--;){var ut=Y[Ce];if("function"!=typeof ut)throw new zo(be);if(qe&&!Nt&&"wrapper"==pc(ut))var Nt=new Ha([],!0)}for(Ce=Nt?Ce:te;++Ce<te;){var $t=pc(ut=Y[Ce]),cn="wrapper"==$t?xf(ut):W;Nt=cn&&Fm(cn[0])&&424==cn[1]&&!cn[4].length&&1==cn[9]?Nt[pc(cn[0])].apply(Nt,cn[3]):1==ut.length&&Fm(ut)?Nt[$t]():Nt.thru(ut)}return function(){var jn=arguments,qn=jn[0];if(Nt&&1==jn.length&&zr(qn))return Nt.plant(qn).value();for(var Hn=0,Ai=te?Y[Hn].apply(this,jn):qn;++Hn<te;)Ai=Y[Hn].call(this,Ai);return Ai}})}function Fp(A,Y,te,Ce,qe,ut,Nt,$t,cn,jn){var qn=128&Y,Hn=1&Y,Ai=2&Y,sr=24&Y,Fr=512&Y,Ds=Ai?W:mu(A);return function Yr(){for(var qs=arguments.length,eo=pn(qs),uh=qs;uh--;)eo[uh]=arguments[uh];if(sr)var Su=bd(Yr),dh=Cc(eo,Su);if(Ce&&(eo=Im(eo,Ce,qe,sr)),ut&&(eo=Mg(eo,ut,Nt,sr)),qs-=dh,sr&&qs<jn){var ea=No(eo,Su);return im(A,Y,Fp,Yr.placeholder,te,eo,ea,$t,cn,jn-qs)}var hh=Hn?te:this,Jp=Ai?hh[A]:A;return qs=eo.length,$t?eo=om(eo,$t):Fr&&qs>1&&eo.reverse(),qn&&cn<qs&&(eo.length=cn),this&&this!==ra&&this instanceof Yr&&(Jp=Ds||mu(Jp)),Jp.apply(hh,eo)}}function S_(A,Y){return function(te,Ce){return function(A,Y,te,Ce){return Ri(A,function(qe,ut,Nt){Y(Ce,te(qe),ut,Nt)}),Ce}(te,A,Y(Ce),{})}}function nm(A,Y){return function(te,Ce){var qe;if(te===W&&Ce===W)return Y;if(te!==W&&(qe=te),Ce!==W){if(qe===W)return Ce;"string"==typeof te||"string"==typeof Ce?(te=Dr(te),Ce=Dr(Ce)):(te=fl(te),Ce=fl(Ce)),qe=A(te,Ce)}return qe}}function kh(A){return yu(function(Y){return Y=ss(Y,_o(pr())),yr(function(te){var Ce=this;return A(Y,function(qe){return cr(qe,Ce,te)})})})}function Vu(A,Y){var te=(Y=Y===W?" ":Dr(Y)).length;if(te<2)return te?Ec(Y,A):Y;var Ce=Ec(Y,Dl(A/oa(Y)));return hr(Y)?Jd(Xo(Ce),0,A).join(""):Ce.slice(0,A)}function Eh(A){return function(Y,te,Ce){return Ce&&"number"!=typeof Ce&&nl(Y,te,Ce)&&(te=Ce=W),Y=xp(Y),te===W?(te=Y,Y=0):te=xp(te),function(A,Y,te,Ce){for(var qe=-1,ut=js(Dl((Y-A)/(te||1)),0),Nt=pn(ut);ut--;)Nt[Ce?ut:++qe]=A,A+=te;return Nt}(Y,te,Ce=Ce===W?Y<te?1:-1:xp(Ce),A)}}function Np(A){return function(Y,te){return"string"==typeof Y&&"string"==typeof te||(Y=Tu(Y),te=Tu(te)),A(Y,te)}}function im(A,Y,te,Ce,qe,ut,Nt,$t,cn,jn){var qn=8&Y;Y|=qn?32:64,4&(Y&=~(qn?64:32))||(Y&=-4);var Ds=[A,Y,qe,qn?ut:W,qn?Nt:W,qn?W:ut,qn?W:Nt,$t,cn,jn],Yr=te.apply(W,Ds);return Fm(A)&&wd(Yr,Ds),Yr.placeholder=Ce,nh(Yr,A,Y)}function Pa(A){var Y=Ws[A];return function(te,Ce){if(te=Tu(te),(Ce=null==Ce?0:Er(ir(Ce),292))&&Sc(te)){var qe=(oo(te)+"e").split("e");return+((qe=(oo(Y(qe[0]+"e"+(+qe[1]+Ce)))+"e").split("e"))[0]+"e"+(+qe[1]-Ce))}return Y(te)}}var yf=dl&&1/nc(new dl([,-0]))[1]==ni?function(A){return new dl(A)}:Za;function vf(A){return function(Y){var te=fc(Y);return te==Gi?Pu(Y):te==Xi?function(qt){var kn=-1,pn=Array(qt.size);return qt.forEach(function(Ci){pn[++kn]=[Ci,Ci]}),pn}(Y):function(qt,kn){return ss(kn,function(pn){return[pn,qt[pn]]})}(Y,A(Y))}}function Hu(A,Y,te,Ce,qe,ut,Nt,$t){var cn=2&Y;if(!cn&&"function"!=typeof A)throw new zo(be);var jn=Ce?Ce.length:0;if(jn||(Y&=-97,Ce=qe=W),Nt=Nt===W?Nt:js(ir(Nt),0),$t=$t===W?$t:ir($t),jn-=qe?qe.length:0,64&Y){var qn=Ce,Hn=qe;Ce=qe=W}var Ai=cn?W:xf(A),sr=[A,Y,te,Ce,qe,qn,Hn,ut,Nt,$t];if(Ai&&function(A,Y){var te=A[1],Ce=Y[1],qe=te|Ce;if(!(qe<131||(128==Ce&&8==te||128==Ce&&256==te&&A[7].length<=Y[8]||384==Ce&&Y[7].length<=Y[8]&&8==te)))return A;1&Ce&&(A[2]=Y[2],qe|=1&te?0:4);var $t=Y[3];if($t){var cn=A[3];A[3]=cn?Im(cn,$t,Y[4]):$t,A[4]=cn?No(A[3],He):Y[4]}($t=Y[5])&&(A[5]=(cn=A[5])?Mg(cn,$t,Y[6]):$t,A[6]=cn?No(A[5],He):Y[6]),($t=Y[7])&&(A[7]=$t),128&Ce&&(A[8]=null==A[8]?Y[8]:Er(A[8],Y[8])),null==A[9]&&(A[9]=Y[9]),A[0]=Y[0],A[1]=qe}(sr,Ai),A=sr[0],Y=sr[1],te=sr[2],Ce=sr[3],qe=sr[4],!($t=sr[9]=sr[9]===W?cn?0:A.length:js(sr[9]-jn,0))&&24&Y&&(Y&=-25),Y&&1!=Y)Fr=8==Y||16==Y?function(A,Y,te){var Ce=mu(A);return function qe(){for(var ut=arguments.length,Nt=pn(ut),$t=ut,cn=bd(qe);$t--;)Nt[$t]=arguments[$t];var jn=ut<3&&Nt[0]!==cn&&Nt[ut-1]!==cn?[]:No(Nt,cn);return(ut-=jn.length)<te?im(A,Y,Fp,qe.placeholder,W,Nt,jn,W,W,te-ut):cr(this&&this!==ra&&this instanceof qe?Ce:A,this,Nt)}}(A,Y,$t):32!=Y&&33!=Y||qe.length?Fp.apply(W,sr):function(A,Y,te,Ce){var qe=1&Y,ut=mu(A);return function Nt(){for(var $t=-1,cn=arguments.length,jn=-1,qn=Ce.length,Hn=pn(qn+cn),Ai=this&&this!==ra&&this instanceof Nt?ut:A;++jn<qn;)Hn[jn]=Ce[jn];for(;cn--;)Hn[jn++]=arguments[++$t];return cr(Ai,qe?te:this,Hn)}}(A,Y,te,Ce);else var Fr=function(A,Y,te){var Ce=1&Y,qe=mu(A);return function ut(){return(this&&this!==ra&&this instanceof ut?qe:A).apply(Ce?te:this,arguments)}}(A,Y,te);return nh((Ai?Xd:wd)(Fr,sr),A,Y)}function gu(A,Y,te,Ce){return A===W||Wu(A,Ya[te])&&!Mr.call(Ce,te)?Y:A}function bf(A,Y,te,Ce,qe,ut){return Rr(A)&&Rr(Y)&&(ut.set(Y,A),Ho(A,Y,W,bf,ut),ut.delete(Y)),A}function Dh(A){return Km(A)?W:A}function Zl(A,Y,te,Ce,qe,ut){var Nt=1&te,$t=A.length,cn=Y.length;if($t!=cn&&!(Nt&&cn>$t))return!1;var jn=ut.get(A),qn=ut.get(Y);if(jn&&qn)return jn==Y&&qn==A;var Hn=-1,Ai=!0,sr=2&te?new _e:W;for(ut.set(A,Y),ut.set(Y,A);++Hn<$t;){var Fr=A[Hn],Ds=Y[Hn];if(Ce)var Yr=Nt?Ce(Ds,Fr,Hn,Y,A,ut):Ce(Fr,Ds,Hn,A,Y,ut);if(Yr!==W){if(Yr)continue;Ai=!1;break}if(sr){if(!kl(Y,function(qs,eo){if(!bh(sr,eo)&&(Fr===qs||qe(Fr,qs,te,Ce,ut)))return sr.push(eo)})){Ai=!1;break}}else if(Fr!==Ds&&!qe(Fr,Ds,te,Ce,ut)){Ai=!1;break}}return ut.delete(A),ut.delete(Y),Ai}function yu(A){return zm(Nm(A,W,ie),A+"")}function Lm(A){return io(A,Rl,rm)}function Pm(A){return io(A,yl,Ih)}var xf=Va?function(A){return Va.get(A)}:Za;function pc(A){for(var Y=A.name+"",te=jl[Y],Ce=Mr.call(jl,Y)?te.length:0;Ce--;){var qe=te[Ce],ut=qe.func;if(null==ut||ut==A)return qe.name}return Y}function bd(A){return(Mr.call(tt,"placeholder")?tt:A).placeholder}function pr(){var A=tt.iteratee||$u;return A=A===$u?Ke:A,arguments.length?A(arguments[0],arguments[1]):A}function vu(A,Y){var te=A.__data__;return function(A){var Y=typeof A;return"string"==Y||"number"==Y||"symbol"==Y||"boolean"==Y?"__proto__"!==A:null===A}(Y)?te["string"==typeof Y?"string":"hash"]:te.map}function Ah(A){for(var Y=Rl(A),te=Y.length;te--;){var Ce=Y[te],qe=A[Ce];Y[te]=[Ce,qe,mc(qe)]}return Y}function Uu(A,Y){var te=function(qt,kn){return null==qt?W:qt[kn]}(A,Y);return G(te)?te:W}var rm=Ru?function(A){return null==A?[]:(A=Ur(A),Vl(Ru(A),function(Y){return ac.call(A,Y)}))}:sl,Ih=Ru?function(A){for(var Y=[];A;)$o(Y,rm(A)),A=Us(A);return Y}:sl,fc=Nr;function Rm(A,Y,te){for(var Ce=-1,qe=(Y=Ll(Y,A)).length,ut=!1;++Ce<qe;){var Nt=Dc(Y[Ce]);if(!(ut=null!=A&&te(A,Nt)))break;A=A[Nt]}return ut||++Ce!=qe?ut:!!(qe=null==A?0:A.length)&&Jm(qe)&&ju(Nt,qe)&&(zr(A)||Ca(A))}function eh(A){return"function"!=typeof A.constructor||bu(A)?{}:uc(Us(A))}function wf(A){return zr(A)||Ca(A)||!!(ul&&A&&A[ul])}function ju(A,Y){var te=typeof A;return!!(Y=null==Y?Pi:Y)&&("number"==te||"symbol"!=te&&re.test(A))&&A>-1&&A%1==0&&A<Y}function nl(A,Y,te){if(!Rr(te))return!1;var Ce=typeof Y;return!!("number"==Ce?gl(te)&&ju(Y,te.length):"string"==Ce&&Y in te)&&Wu(te[Y],A)}function sm(A,Y){if(zr(A))return!1;var te=typeof A;return!("number"!=te&&"symbol"!=te&&"boolean"!=te&&null!=A&&!ql(A))||ct.test(A)||!Ze.test(A)||null!=Y&&A in Ur(Y)}function Fm(A){var Y=pc(A),te=tt[Y];if("function"!=typeof te||!(Y in es.prototype))return!1;if(A===te)return!0;var Ce=xf(te);return!!Ce&&A===Ce[0]}(Fs&&fc(new Fs(new ArrayBuffer(1)))!=Yn||Eo&&fc(new Eo)!=Gi||Es&&fc(Es.resolve())!=yi||dl&&fc(new dl)!=Xi||Fu&&fc(new Fu)!=Ls)&&(fc=function(A){var Y=Nr(A),te=Y==Hs?A.constructor:W,Ce=te?Cu(te):"";if(Ce)switch(Ce){case up:return Yn;case uu:return Gi;case Zd:return yi;case Nu:return Xi;case Hc:return Ls}return Y});var Cf=Vc?qu:ch;function bu(A){var Y=A&&A.constructor;return A===("function"==typeof Y&&Y.prototype||Ya)}function mc(A){return A==A&&!Rr(A)}function Ry(A,Y){return function(te){return null!=te&&te[A]===Y&&(Y!==W||A in Ur(te))}}function Nm(A,Y,te){return Y=js(Y===W?A.length-1:Y,0),function(){for(var Ce=arguments,qe=-1,ut=js(Ce.length-Y,0),Nt=pn(ut);++qe<ut;)Nt[qe]=Ce[Y+qe];qe=-1;for(var $t=pn(Y+1);++qe<Y;)$t[qe]=Ce[qe];return $t[Y]=te(Nt),cr(A,this,$t)}}function th(A,Y){return Y.length<2?A:Ts(A,fu(Y,0,-1))}function om(A,Y){for(var te=A.length,Ce=Er(Y.length,te),qe=hc(A);Ce--;){var ut=Y[Ce];A[Ce]=ju(ut,te)?qe[ut]:W}return A}function Gu(A,Y){if(("constructor"!==Y||"function"!=typeof A[Y])&&"__proto__"!=Y)return A[Y]}var wd=Ym(Xd),wu=Ch||function(A,Y){return ra.setTimeout(A,Y)},zm=Ym(gp);function nh(A,Y,te){var Ce=Y+"";return zm(A,function(A,Y){var te=Y.length;if(!te)return A;var Ce=te-1;return Y[Ce]=(te>1?"& ":"")+Y[Ce],Y=Y.join(te>2?", ":" "),A.replace(Xt,"{\n/* [wrapped with "+Y+"] */\n")}(Ce,function(A,Y){return Kr($n,function(te){var Ce="_."+te[0];Y&te[1]&&!ya(A,Ce)&&A.push(Ce)}),A.sort()}(function(A){var Y=A.match(Mn);return Y?Y[1].split(Le):[]}(Ce),te)))}function Ym(A){var Y=0,te=0;return function(){var Ce=Ti(),qe=16-(Ce-te);if(te=Ce,qe>0){if(++Y>=800)return arguments[0]}else Y=0;return A.apply(W,arguments)}}function Tf(A,Y){var te=-1,Ce=A.length,qe=Ce-1;for(Y=Y===W?Ce:Y;++te<Y;){var ut=pu(te,qe),Nt=A[ut];A[ut]=A[te],A[te]=Nt}return A.length=Y,A}var Y,te,Sf=(Y=Wm(function(A){var Y=[];return 46===A.charCodeAt(0)&&Y.push(""),A.replace(bt,function(te,Ce,qe,ut){Y.push(qe?ut.replace(v,"$1"):Ce||te)}),Y},function(Ce){return 500===te.size&&te.clear(),Ce}),te=Y.cache,Y);function Dc(A){if("string"==typeof A||ql(A))return A;var Y=A+"";return"0"==Y&&1/A==-ni?"-0":Y}function Cu(A){if(null!=A){try{return Yo.call(A)}catch(Y){}try{return A+""}catch(Y){}}return""}function Bm(A){if(A instanceof es)return A.clone();var Y=new Ha(A.__wrapped__,A.__chain__);return Y.__actions__=hc(A.__actions__),Y.__index__=A.__index__,Y.__values__=A.__values__,Y}var kg=yr(function(A,Y){return _l(A)?os(A,ds(Y,1,_l,!0)):[]}),Zu=yr(function(A,Y){var te=Ui(Y);return _l(te)&&(te=W),_l(A)?os(A,ds(Y,1,_l,!0),pr(te,2)):[]}),kf=yr(function(A,Y){var te=Ui(Y);return _l(te)&&(te=W),_l(A)?os(A,ds(Y,1,_l,!0),W,te):[]});function L(A,Y,te){var Ce=null==A?0:A.length;if(!Ce)return-1;var qe=null==te?0:ir(te);return qe<0&&(qe=js(Ce+qe,0)),hd(A,pr(Y,3),qe)}function U(A,Y,te){var Ce=null==A?0:A.length;if(!Ce)return-1;var qe=Ce-1;return te!==W&&(qe=ir(te),qe=te<0?js(Ce+qe,0):Er(qe,Ce-1)),hd(A,pr(Y,3),qe,!0)}function ie(A){return null!=A&&A.length?ds(A,1):[]}function lt(A){return A&&A.length?A[0]:W}var bn=yr(function(A){var Y=ss(A,Zc);return Y.length&&Y[0]===A[0]?Ia(Y):[]}),Fn=yr(function(A){var Y=Ui(A),te=ss(A,Zc);return Y===Ui(te)?Y=W:te.pop(),te.length&&te[0]===A[0]?Ia(te,pr(Y,2)):[]}),ii=yr(function(A){var Y=Ui(A),te=ss(A,Zc);return(Y="function"==typeof Y?Y:W)&&te.pop(),te.length&&te[0]===A[0]?Ia(te,W,Y):[]});function Ui(A){var Y=null==A?0:A.length;return Y?A[Y-1]:W}var wa=yr(Ac);function Ac(A,Y){return A&&A.length&&Y&&Y.length?pp(A,Y):A}var Uo=yu(function(A,Y){var te=null==A?0:A.length,Ce=ci(A,Y);return fp(A,ss(Y,function(qe){return ju(qe,te)?+qe:qe}).sort(Kf)),Ce});function Hp(A){return null==A?A:cp.call(A)}var bp=yr(function(A){return Bu(ds(A,1,_l,!0))}),Gm=yr(function(A){var Y=Ui(A);return _l(Y)&&(Y=W),Bu(ds(A,1,_l,!0),pr(Y,2))}),Bv=yr(function(A){var Y=Ui(A);return Y="function"==typeof Y?Y:W,Bu(ds(A,1,_l,!0),W,Y)});function A_(A){if(!A||!A.length)return[];var Y=0;return A=Vl(A,function(te){if(_l(te))return Y=js(te.length,Y),!0}),pd(Y,function(te){return ss(A,Lu(te))})}function By(A,Y){if(!A||!A.length)return[];var te=A_(A);return null==Y?te:ss(te,function(Ce){return cr(Y,W,Ce)})}var Hv=yr(function(A,Y){return _l(A)?os(A,Y):[]}),qr=yr(function(A){return Il(Vl(A,_l))}),Uv=yr(function(A){var Y=Ui(A);return _l(Y)&&(Y=W),Il(Vl(A,_l),pr(Y,2))}),jv=yr(function(A){var Y=Ui(A);return Y="function"==typeof Y?Y:W,Il(Vl(A,_l),W,Y)}),lm=yr(A_),Hy=yr(function(A){var Y=A.length,te=Y>1?A[Y-1]:W;return te="function"==typeof te?(A.pop(),te):W,By(A,te)});function I_(A){var Y=tt(A);return Y.__chain__=!0,Y}function Df(A,Y){return Y(A)}var Zm=yu(function(A){var Y=A.length,te=Y?A[0]:0,Ce=this.__wrapped__,qe=function(ut){return ci(ut,A)};return!(Y>1||this.__actions__.length)&&Ce instanceof es&&ju(te)?((Ce=Ce.slice(te,+te+(Y?1:0))).__actions__.push({func:Df,args:[qe],thisArg:W}),new Ha(Ce,this.__chain__).thru(function(ut){return Y&&!ut.length&&ut.push(W),ut})):this.thru(qe)}),Pg=Zr(function(A,Y,te){Mr.call(A,te)?++A[te]:On(A,te,1)}),Ao=Rp(L),v0=Rp(U);function Og(A,Y){return(zr(A)?Kr:ps)(A,pr(Y,3))}function Uy(A,Y){return(zr(A)?Au:_r)(A,pr(Y,3))}var rh=Zr(function(A,Y,te){Mr.call(A,te)?A[te].push(Y):On(A,te,[Y])}),Gv=yr(function(A,Y,te){var Ce=-1,qe="function"==typeof Y,ut=gl(A)?pn(A.length):[];return ps(A,function(Nt){ut[++Ce]=qe?cr(Y,Nt,te):ba(Nt,Y,te)}),ut}),x0=Zr(function(A,Y,te){On(A,te,Y)});function Rg(A,Y){return(zr(A)?ss:ts)(A,pr(Y,3))}var Zv=Zr(function(A,Y,te){A[te?0:1].push(Y)},function(){return[[],[]]}),P_=yr(function(A,Y){if(null==A)return[];var te=Y.length;return te>1&&nl(A,Y[0],Y[1])?Y=[]:te>2&&nl(Y[0],Y[1],Y[2])&&(Y=[Y[0]]),xg(A,ds(Y,1),[])}),Oh=uf||function(){return ra.Date.now()};function dm(A,Y,te){return Y=te?W:Y,Hu(A,128,W,W,W,W,Y=A&&null==Y?A.length:Y)}function jy(A,Y){var te;if("function"!=typeof Y)throw new zo(be);return A=ir(A),function(){return--A>0&&(te=Y.apply(this,arguments)),A<=1&&(Y=W),te}}var Md=yr(function(A,Y,te){var Ce=1;if(te.length){var qe=No(te,bd(Md));Ce|=32}return Hu(A,Ce,Y,te,qe)}),Lf=yr(function(A,Y,te){var Ce=3;if(te.length){var qe=No(te,bd(Lf));Ce|=32}return Hu(Y,Ce,A,te,qe)});function zg(A,Y,te){var Ce,qe,ut,Nt,$t,cn,jn=0,qn=!1,Hn=!1,Ai=!0;if("function"!=typeof A)throw new zo(be);function sr(ea){var hh=Ce,Jp=qe;return Ce=qe=W,jn=ea,Nt=A.apply(Jp,hh)}function Fr(ea){return jn=ea,$t=wu(qs,Y),qn?sr(ea):Nt}function Yr(ea){var hh=ea-cn;return cn===W||hh>=Y||hh<0||Hn&&ea-jn>=ut}function qs(){var ea=Oh();if(Yr(ea))return eo(ea);$t=wu(qs,function(ea){var rb=Y-(ea-cn);return Hn?Er(rb,ut-(ea-jn)):rb}(ea))}function eo(ea){return $t=W,Ai&&Ce?sr(ea):(Ce=qe=W,Nt)}function dh(){var ea=Oh(),hh=Yr(ea);if(Ce=arguments,qe=this,cn=ea,hh){if($t===W)return Fr(cn);if(Hn)return Qf($t),$t=wu(qs,Y),sr(cn)}return $t===W&&($t=wu(qs,Y)),Nt}return Y=Tu(Y)||0,Rr(te)&&(qn=!!te.leading,ut=(Hn="maxWait"in te)?js(Tu(te.maxWait)||0,Y):ut,Ai="trailing"in te?!!te.trailing:Ai),dh.cancel=function(){$t!==W&&Qf($t),jn=0,Ce=cn=qe=$t=W},dh.flush=function(){return $t===W?Nt:eo(Oh())},dh}var M0=yr(function(A,Y){return jr(A,1,Y)}),T0=yr(function(A,Y,te){return jr(A,Tu(Y)||0,te)});function Wm(A,Y){if("function"!=typeof A||null!=Y&&"function"!=typeof Y)throw new zo(be);var te=function(){var Ce=arguments,qe=Y?Y.apply(this,Ce):Ce[0],ut=te.cache;if(ut.has(qe))return ut.get(qe);var Nt=A.apply(this,Ce);return te.cache=ut.set(qe,Nt)||ut,Nt};return te.cache=new(Wm.Cache||R),te}function Pf(A){if("function"!=typeof A)throw new zo(be);return function(){var Y=arguments;switch(Y.length){case 0:return!A.call(this);case 1:return!A.call(this,Y[0]);case 2:return!A.call(this,Y[0],Y[1]);case 3:return!A.call(this,Y[0],Y[1],Y[2])}return!A.apply(this,Y)}}Wm.Cache=R;var gt=Qd(function(A,Y){var te=(Y=1==Y.length&&zr(Y[0])?ss(Y[0],_o(pr())):ss(ds(Y,1),_o(pr()))).length;return yr(function(Ce){for(var qe=-1,ut=Er(Ce.length,te);++qe<ut;)Ce[qe]=Y[qe].call(this,Ce[qe]);return cr(A,this,Ce)})}),Ss=yr(function(A,Y){var te=No(Y,bd(Ss));return Hu(A,32,W,Y,te)}),oh=yr(function(A,Y){var te=No(Y,bd(oh));return Hu(A,64,W,Y,te)}),Mu=yu(function(A,Y){return Hu(A,256,W,W,W,Y)});function Wu(A,Y){return A===Y||A!=A&&Y!=Y}var Rf=Np(Qa),Qv=Np(function(A,Y){return A>=Y}),Ca=bo(function(){return arguments}())?bo:function(A){return Ma(A)&&Mr.call(A,"callee")&&!ac.call(A,"callee")},zr=pn.isArray,so=dd?_o(dd):function(A){return Ma(A)&&Nr(A)==Sr};function gl(A){return null!=A&&Jm(A.length)&&!qu(A)}function _l(A){return Ma(A)&&gl(A)}var Ff=lc||ch,Vg=wc?_o(wc):function(A){return Ma(A)&&Nr(A)==Vs};function Hg(A){if(!Ma(A))return!1;var Y=Nr(A);return Y==fa||"[object DOMException]"==Y||"string"==typeof A.message&&"string"==typeof A.name&&!Km(A)}function qu(A){if(!Rr(A))return!1;var Y=Nr(A);return Y==nr||Y==ma||"[object AsyncFunction]"==Y||"[object Proxy]"==Y}function ja(A){return"number"==typeof A&&A==ir(A)}function Jm(A){return"number"==typeof A&&A>-1&&A%1==0&&A<=Pi}function Rr(A){var Y=typeof A;return null!=A&&("object"==Y||"function"==Y)}function Ma(A){return null!=A&&"object"==typeof A}var F_=Rs?_o(Rs):function(A){return Ma(A)&&fc(A)==Gi};function Gg(A){return"number"==typeof A||Ma(A)&&Nr(A)==$i}function Km(A){if(!Ma(A)||Nr(A)!=Hs)return!1;var Y=Us(A);if(null===Y)return!0;var te=Mr.call(Y,"constructor")&&Y.constructor;return"function"==typeof te&&te instanceof te&&Yo.call(te)==Ou}var Zg=Tl?_o(Tl):function(A){return Ma(A)&&Nr(A)==mr},Zy=er?_o(er):function(A){return Ma(A)&&fc(A)==Xi};function Nf(A){return"string"==typeof A||!zr(A)&&Ma(A)&&Nr(A)==po}function ql(A){return"symbol"==typeof A||Ma(A)&&Nr(A)==bc}var Zp=np?_o(np):function(A){return Ma(A)&&Jm(A.length)&&!!bs[Nr(A)]},B_=Np(Vi),V_=Np(function(A,Y){return A<=Y});function Wg(A){if(!A)return[];if(gl(A))return Nf(A)?Xo(A):hc(A);if(Tc&&A[Tc])return function(qt){for(var kn,pn=[];!(kn=qt.next()).done;)pn.push(kn.value);return pn}(A[Tc]());var Y=fc(A);return(Y==Gi?Pu:Y==Xi?nc:Yt)(A)}function xp(A){return A?(A=Tu(A))===ni||A===-ni?17976931348623157e292*(A<0?-1:1):A==A?A:0:0===A?A:0}function ir(A){var Y=xp(A),te=Y%1;return Y==Y?te?Y-te:Y:0}function fm(A){return A?Qn(ir(A),0,bi):0}function Tu(A){if("number"==typeof A)return A;if(ql(A))return NaN;if(Rr(A)){var Y="function"==typeof A.valueOf?A.valueOf():A;A=Rr(Y)?Y+"":Y}if("string"!=typeof A)return 0===A?A:+A;A=va(A);var te=O.test(A);return te||Z.test(A)?Yd(A.slice(2),te?2:8):N.test(A)?NaN:+A}function eg(A){return Qo(A,yl(A))}function oo(A){return null==A?"":Dr(A)}var tg=ml(function(A,Y){if(bu(Y)||gl(Y))Qo(Y,Rl(Y),A);else for(var te in Y)Mr.call(Y,te)&&wn(A,te,Y[te])}),Sd=ml(function(A,Y){Qo(Y,yl(Y),A)}),Yf=ml(function(A,Y,te,Ce){Qo(Y,yl(Y),A,Ce)}),mm=ml(function(A,Y,te,Ce){Qo(Y,Rl(Y),A,Ce)}),Fh=yu(ci),H_=yr(function(A,Y){A=Ur(A);var te=-1,Ce=Y.length,qe=Ce>2?Y[2]:W;for(qe&&nl(Y[0],Y[1],qe)&&(Ce=1);++te<Ce;)for(var ut=Y[te],Nt=yl(ut),$t=-1,cn=Nt.length;++$t<cn;){var jn=Nt[$t],qn=A[jn];(qn===W||Wu(qn,Ya[jn])&&!Mr.call(A,jn))&&(A[jn]=ut[jn])}return A}),U_=yr(function(A){return A.push(W,bf),cr(w,W,A)});function ig(A,Y,te){var Ce=null==A?W:Ts(A,Y);return Ce===W?te:Ce}function $l(A,Y){return null!=A&&Rm(A,Y,pl)}var _m=S_(function(A,Y,te){null!=Y&&"function"!=typeof Y.toString&&(Y=oc.call(Y)),A[Y]=te},ua(Qs)),Wy=S_(function(A,Y,te){null!=Y&&"function"!=typeof Y.toString&&(Y=oc.call(Y)),Mr.call(A,Y)?A[Y].push(te):A[Y]=[te]},pr),qy=yr(ba);function Rl(A){return gl(A)?vt(A):Zt(A)}function yl(A){return gl(A)?vt(A,!0):function(A){if(!Rr(A))return function(A){var Y=[];if(null!=A)for(var te in Ur(A))Y.push(te);return Y}(A);var Y=bu(A),te=[];for(var Ce in A)"constructor"==Ce&&(Y||!Mr.call(A,Ce))||te.push(Ce);return te}(A)}var _=ml(function(A,Y,te){Ho(A,Y,te)}),w=ml(function(A,Y,te,Ce){Ho(A,Y,te,Ce)}),I=yu(function(A,Y){var te={};if(null==A)return te;var Ce=!1;Y=ss(Y,function(ut){return ut=Ll(ut,A),Ce||(Ce=ut.length>1),ut}),Qo(A,Pm(A),te),Ce&&(te=Wn(te,7,Dh));for(var qe=Y.length;qe--;)hs(te,Y[qe]);return te}),B=yu(function(A,Y){return null==A?{}:function(A,Y){return La(A,Y,function(te,Ce){return $l(A,Ce)})}(A,Y)});function Q(A,Y){if(null==A)return{};var te=ss(Pm(A),function(Ce){return[Ce]});return Y=pr(Y),La(A,te,function(Ce,qe){return Y(Ce,qe[0])})}var we=vf(Rl),Ie=vf(yl);function Yt(A){return null==A?[]:Os(A,Rl(A))}var mn=vd(function(A,Y,te){return Y=Y.toLowerCase(),A+(te?zn(Y):Y)});function zn(A){return Ra(oo(A).toLowerCase())}function Xn(A){return(A=oo(A))&&A.replace(le,no).replace(Jh,"")}var Vn=vd(function(A,Y,te){return A+(te?"-":"")+Y.toLowerCase()}),Kn=vd(function(A,Y,te){return A+(te?" ":"")+Y.toLowerCase()}),Dn=_f("toLowerCase"),Hi=vd(function(A,Y,te){return A+(te?"_":"")+Y.toLowerCase()}),Oa=vd(function(A,Y,te){return A+(te?" ":"")+Ra(Y)}),Ks=vd(function(A,Y,te){return A+(te?" ":"")+Y.toUpperCase()}),Ra=_f("toUpperCase");function ca(A,Y,te){return A=oo(A),(Y=te?W:Y)===W?function(qt){return Kh.test(qt)}(A)?function(qt){return qt.match(_h)||[]}(A):function(qt){return qt.match(h)||[]}(A):A.match(Y)||[]}var Lo=yr(function(A,Y){try{return cr(A,W,Y)}catch(te){return Hg(te)?te:new Ki(te)}}),Xl=yu(function(A,Y){return Kr(Y,function(te){te=Dc(te),On(A,te,Md(A[te],A))}),A});function ua(A){return function(){return A}}var da=Sh(),Oc=Sh(!0);function Qs(A){return A}function $u(A){return Ke("function"==typeof A?A:Wn(A,1))}var wp=yr(function(A,Y){return function(te){return ba(te,A,Y)}}),Ga=yr(function(A,Y){return function(te){return ba(A,te,Y)}});function Fl(A,Y,te){var Ce=Rl(Y),qe=Gr(Y,Ce);null==te&&(!Rr(Y)||!qe.length&&Ce.length)&&(te=Y,Y=A,A=this,qe=Gr(Y,Rl(Y)));var ut=!(Rr(te)&&"chain"in te&&!te.chain),Nt=qu(A);return Kr(qe,function($t){var cn=Y[$t];A[$t]=cn,Nt&&(A.prototype[$t]=function(){var jn=this.__chain__;if(ut||jn){var qn=A(this.__wrapped__),Hn=qn.__actions__=hc(this.__actions__);return Hn.push({func:cn,args:arguments,thisArg:A}),qn.__chain__=jn,qn}return cn.apply(A,$o([this.value()],arguments))})}),A}function Za(){}var Xu=kh(ss),Co=kh(Sl),lh=kh(kl);function j_(A){return sm(A)?Lu(Dc(A)):function(A){return function(Y){return Ts(Y,A)}}(A)}var Ko=Eh(),rl=Eh(!0);function sl(){return[]}function ch(){return!1}var Xg=nm(function(A,Y){return A+Y},0),Qg=Pa("ceil"),Jg=nm(function(A,Y){return A/Y},1),Qp=Pa("floor"),tb=nm(function(A,Y){return A*Y},1),nb=Pa("round"),A0=nm(function(A,Y){return A-Y},0);return tt.after=function(A,Y){if("function"!=typeof Y)throw new zo(be);return A=ir(A),function(){if(--A<1)return Y.apply(this,arguments)}},tt.ary=dm,tt.assign=tg,tt.assignIn=Sd,tt.assignInWith=Yf,tt.assignWith=mm,tt.at=Fh,tt.before=jy,tt.bind=Md,tt.bindAll=Xl,tt.bindKey=Lf,tt.castArray=function(){if(!arguments.length)return[];var A=arguments[0];return zr(A)?A:[A]},tt.chain=I_,tt.chunk=function(A,Y,te){Y=(te?nl(A,Y,te):Y===W)?1:js(ir(Y),0);var Ce=null==A?0:A.length;if(!Ce||Y<1)return[];for(var qe=0,ut=0,Nt=pn(Dl(Ce/Y));qe<Ce;)Nt[ut++]=fu(A,qe,qe+=Y);return Nt},tt.compact=function(A){for(var Y=-1,te=null==A?0:A.length,Ce=0,qe=[];++Y<te;){var ut=A[Y];ut&&(qe[Ce++]=ut)}return qe},tt.concat=function(){var A=arguments.length;if(!A)return[];for(var Y=pn(A-1),te=arguments[0],Ce=A;Ce--;)Y[Ce-1]=arguments[Ce];return $o(zr(te)?hc(te):[te],ds(Y,1))},tt.cond=function(A){var Y=null==A?0:A.length,te=pr();return A=Y?ss(A,function(Ce){if("function"!=typeof Ce[1])throw new zo(be);return[te(Ce[0]),Ce[1]]}):[],yr(function(Ce){for(var qe=-1;++qe<Y;){var ut=A[qe];if(cr(ut[0],this,Ce))return cr(ut[1],this,Ce)}})},tt.conforms=function(A){return function(A){var Y=Rl(A);return function(te){return Si(te,A,Y)}}(Wn(A,1))},tt.constant=ua,tt.countBy=Pg,tt.create=function(A,Y){var te=uc(A);return null==Y?te:Dt(te,Y)},tt.curry=function $v(A,Y,te){var Ce=Hu(A,8,W,W,W,W,W,Y=te?W:Y);return Ce.placeholder=$v.placeholder,Ce},tt.curryRight=function C0(A,Y,te){var Ce=Hu(A,16,W,W,W,W,W,Y=te?W:Y);return Ce.placeholder=C0.placeholder,Ce},tt.debounce=zg,tt.defaults=H_,tt.defaultsDeep=U_,tt.defer=M0,tt.delay=T0,tt.difference=kg,tt.differenceBy=Zu,tt.differenceWith=kf,tt.drop=function(A,Y,te){var Ce=null==A?0:A.length;return Ce?fu(A,(Y=te||Y===W?1:ir(Y))<0?0:Y,Ce):[]},tt.dropRight=function(A,Y,te){var Ce=null==A?0:A.length;return Ce?fu(A,0,(Y=Ce-(Y=te||Y===W?1:ir(Y)))<0?0:Y):[]},tt.dropRightWhile=function(A,Y){return A&&A.length?Gc(A,pr(Y,3),!0,!0):[]},tt.dropWhile=function(A,Y){return A&&A.length?Gc(A,pr(Y,3),!0):[]},tt.fill=function(A,Y,te,Ce){var qe=null==A?0:A.length;return qe?(te&&"number"!=typeof te&&nl(A,Y,te)&&(te=0,Ce=qe),function(A,Y,te,Ce){var qe=A.length;for((te=ir(te))<0&&(te=-te>qe?0:qe+te),(Ce=Ce===W||Ce>qe?qe:ir(Ce))<0&&(Ce+=qe),Ce=te>Ce?0:fm(Ce);te<Ce;)A[te++]=Y;return A}(A,Y,te,Ce)):[]},tt.filter=function(A,Y){return(zr(A)?Vl:Aa)(A,pr(Y,3))},tt.flatMap=function(A,Y){return ds(Rg(A,Y),1)},tt.flatMapDeep=function(A,Y){return ds(Rg(A,Y),ni)},tt.flatMapDepth=function(A,Y,te){return te=te===W?1:ir(te),ds(Rg(A,Y),te)},tt.flatten=ie,tt.flattenDeep=function(A){return null!=A&&A.length?ds(A,ni):[]},tt.flattenDepth=function(A,Y){return null!=A&&A.length?ds(A,Y=Y===W?1:ir(Y)):[]},tt.flip=function(A){return Hu(A,512)},tt.flow=da,tt.flowRight=Oc,tt.fromPairs=function(A){for(var Y=-1,te=null==A?0:A.length,Ce={};++Y<te;){var qe=A[Y];Ce[qe[0]]=qe[1]}return Ce},tt.functions=function(A){return null==A?[]:Gr(A,Rl(A))},tt.functionsIn=function(A){return null==A?[]:Gr(A,yl(A))},tt.groupBy=rh,tt.initial=function(A){return null!=A&&A.length?fu(A,0,-1):[]},tt.intersection=bn,tt.intersectionBy=Fn,tt.intersectionWith=ii,tt.invert=_m,tt.invertBy=Wy,tt.invokeMap=Gv,tt.iteratee=$u,tt.keyBy=x0,tt.keys=Rl,tt.keysIn=yl,tt.map=Rg,tt.mapKeys=function(A,Y){var te={};return Y=pr(Y,3),Ri(A,function(Ce,qe,ut){On(te,Y(Ce,qe,ut),Ce)}),te},tt.mapValues=function(A,Y){var te={};return Y=pr(Y,3),Ri(A,function(Ce,qe,ut){On(te,qe,Y(Ce,qe,ut))}),te},tt.matches=function(A){return ro(Wn(A,1))},tt.matchesProperty=function(A,Y){return zs(A,Wn(Y,1))},tt.memoize=Wm,tt.merge=_,tt.mergeWith=w,tt.method=wp,tt.methodOf=Ga,tt.mixin=Fl,tt.negate=Pf,tt.nthArg=function(A){return A=ir(A),yr(function(Y){return pf(Y,A)})},tt.omit=I,tt.omitBy=function(A,Y){return Q(A,Pf(pr(Y)))},tt.once=function(A){return jy(2,A)},tt.orderBy=function(A,Y,te,Ce){return null==A?[]:(zr(Y)||(Y=null==Y?[]:[Y]),zr(te=Ce?W:te)||(te=null==te?[]:[te]),xg(A,Y,te))},tt.over=Xu,tt.overArgs=gt,tt.overEvery=Co,tt.overSome=lh,tt.partial=Ss,tt.partialRight=oh,tt.partition=Zv,tt.pick=B,tt.pickBy=Q,tt.property=j_,tt.propertyOf=function(A){return function(Y){return null==A?W:Ts(A,Y)}},tt.pull=wa,tt.pullAll=Ac,tt.pullAllBy=function(A,Y,te){return A&&A.length&&Y&&Y.length?pp(A,Y,pr(te,2)):A},tt.pullAllWith=function(A,Y,te){return A&&A.length&&Y&&Y.length?pp(A,Y,W,te):A},tt.pullAt=Uo,tt.range=Ko,tt.rangeRight=rl,tt.rearg=Mu,tt.reject=function(A,Y){return(zr(A)?Vl:Aa)(A,Pf(pr(Y,3)))},tt.remove=function(A,Y){var te=[];if(!A||!A.length)return te;var Ce=-1,qe=[],ut=A.length;for(Y=pr(Y,3);++Ce<ut;){var Nt=A[Ce];Y(Nt,Ce,A)&&(te.push(Nt),qe.push(Ce))}return fp(A,qe),te},tt.rest=function(A,Y){if("function"!=typeof A)throw new zo(be);return yr(A,Y=Y===W?Y:ir(Y))},tt.reverse=Hp,tt.sampleSize=function(A,Y,te){return Y=(te?nl(A,Y,te):Y===W)?1:ir(Y),(zr(A)?Bt:Th)(A,Y)},tt.set=function(A,Y,te){return null==A?A:mp(A,Y,te)},tt.setWith=function(A,Y,te,Ce){return Ce="function"==typeof Ce?Ce:W,null==A?A:mp(A,Y,te,Ce)},tt.shuffle=function(A){return(zr(A)?Ct:C_)(A)},tt.slice=function(A,Y,te){var Ce=null==A?0:A.length;return Ce?(te&&"number"!=typeof te&&nl(A,Y,te)?(Y=0,te=Ce):(Y=null==Y?0:ir(Y),te=te===W?Ce:ir(te)),fu(A,Y,te)):[]},tt.sortBy=P_,tt.sortedUniq=function(A){return A&&A.length?M_(A):[]},tt.sortedUniqBy=function(A,Y){return A&&A.length?M_(A,pr(Y,2)):[]},tt.split=function(A,Y,te){return te&&"number"!=typeof te&&nl(A,Y,te)&&(Y=te=W),(te=te===W?bi:te>>>0)?(A=oo(A))&&("string"==typeof Y||null!=Y&&!Zg(Y))&&!(Y=Dr(Y))&&hr(A)?Jd(Xo(A),0,te):A.split(Y,te):[]},tt.spread=function(A,Y){if("function"!=typeof A)throw new zo(be);return Y=null==Y?0:js(ir(Y),0),yr(function(te){var Ce=te[Y],qe=Jd(te,0,Y);return Ce&&$o(qe,Ce),cr(A,this,qe)})},tt.tail=function(A){var Y=null==A?0:A.length;return Y?fu(A,1,Y):[]},tt.take=function(A,Y,te){return A&&A.length?fu(A,0,(Y=te||Y===W?1:ir(Y))<0?0:Y):[]},tt.takeRight=function(A,Y,te){var Ce=null==A?0:A.length;return Ce?fu(A,(Y=Ce-(Y=te||Y===W?1:ir(Y)))<0?0:Y,Ce):[]},tt.takeRightWhile=function(A,Y){return A&&A.length?Gc(A,pr(Y,3),!1,!0):[]},tt.takeWhile=function(A,Y){return A&&A.length?Gc(A,pr(Y,3)):[]},tt.tap=function(A,Y){return Y(A),A},tt.throttle=function(A,Y,te){var Ce=!0,qe=!0;if("function"!=typeof A)throw new zo(be);return Rr(te)&&(Ce="leading"in te?!!te.leading:Ce,qe="trailing"in te?!!te.trailing:qe),zg(A,Y,{leading:Ce,maxWait:Y,trailing:qe})},tt.thru=Df,tt.toArray=Wg,tt.toPairs=we,tt.toPairsIn=Ie,tt.toPath=function(A){return zr(A)?ss(A,Dc):ql(A)?[A]:hc(Sf(oo(A)))},tt.toPlainObject=eg,tt.transform=function(A,Y,te){var Ce=zr(A),qe=Ce||Ff(A)||Zp(A);if(Y=pr(Y,4),null==te){var ut=A&&A.constructor;te=qe?Ce?new ut:[]:Rr(A)&&qu(ut)?uc(Us(A)):{}}return(qe?Kr:Ri)(A,function(Nt,$t,cn){return Y(te,Nt,$t,cn)}),te},tt.unary=function(A){return dm(A,1)},tt.union=bp,tt.unionBy=Gm,tt.unionWith=Bv,tt.uniq=function(A){return A&&A.length?Bu(A):[]},tt.uniqBy=function(A,Y){return A&&A.length?Bu(A,pr(Y,2)):[]},tt.uniqWith=function(A,Y){return Y="function"==typeof Y?Y:W,A&&A.length?Bu(A,W,Y):[]},tt.unset=function(A,Y){return null==A||hs(A,Y)},tt.unzip=A_,tt.unzipWith=By,tt.update=function(A,Y,te){return null==A?A:_p(A,Y,yd(te))},tt.updateWith=function(A,Y,te,Ce){return Ce="function"==typeof Ce?Ce:W,null==A?A:_p(A,Y,yd(te),Ce)},tt.values=Yt,tt.valuesIn=function(A){return null==A?[]:Os(A,yl(A))},tt.without=Hv,tt.words=ca,tt.wrap=function(A,Y){return Ss(yd(Y),A)},tt.xor=qr,tt.xorBy=Uv,tt.xorWith=jv,tt.zip=lm,tt.zipObject=function(A,Y){return Am(A||[],Y||[],wn)},tt.zipObjectDeep=function(A,Y){return Am(A||[],Y||[],mp)},tt.zipWith=Hy,tt.entries=we,tt.entriesIn=Ie,tt.extend=Sd,tt.extendWith=Yf,Fl(tt,tt),tt.add=Xg,tt.attempt=Lo,tt.camelCase=mn,tt.capitalize=zn,tt.ceil=Qg,tt.clamp=function(A,Y,te){return te===W&&(te=Y,Y=W),te!==W&&(te=(te=Tu(te))==te?te:0),Y!==W&&(Y=(Y=Tu(Y))==Y?Y:0),Qn(Tu(A),Y,te)},tt.clone=function(A){return Wn(A,4)},tt.cloneDeep=function(A){return Wn(A,5)},tt.cloneDeepWith=function(A,Y){return Wn(A,5,Y="function"==typeof Y?Y:W)},tt.cloneWith=function(A,Y){return Wn(A,4,Y="function"==typeof Y?Y:W)},tt.conformsTo=function(A,Y){return null==Y||Si(A,Y,Rl(Y))},tt.deburr=Xn,tt.defaultTo=function(A,Y){return null==A||A!=A?Y:A},tt.divide=Jg,tt.endsWith=function(A,Y,te){A=oo(A),Y=Dr(Y);var Ce=A.length,qe=te=te===W?Ce:Qn(ir(te),0,Ce);return(te-=Y.length)>=0&&A.slice(te,qe)==Y},tt.eq=Wu,tt.escape=function(A){return(A=oo(A))&&Or.test(A)?A.replace(Ni,sa):A},tt.escapeRegExp=function(A){return(A=oo(A))&&It.test(A)?A.replace(Ft,"\\$&"):A},tt.every=function(A,Y,te){var Ce=zr(A)?Sl:xs;return te&&nl(A,Y,te)&&(Y=W),Ce(A,pr(Y,3))},tt.find=Ao,tt.findIndex=L,tt.findKey=function(A,Y){return Iu(A,pr(Y,3),Ri)},tt.findLast=v0,tt.findLastIndex=U,tt.findLastKey=function(A,Y){return Iu(A,pr(Y,3),Ns)},tt.floor=Qp,tt.forEach=Og,tt.forEachRight=Uy,tt.forIn=function(A,Y){return null==A?A:Vo(A,pr(Y,3),yl)},tt.forInRight=function(A,Y){return null==A?A:hl(A,pr(Y,3),yl)},tt.forOwn=function(A,Y){return A&&Ri(A,pr(Y,3))},tt.forOwnRight=function(A,Y){return A&&Ns(A,pr(Y,3))},tt.get=ig,tt.gt=Rf,tt.gte=Qv,tt.has=function(A,Y){return null!=A&&Rm(A,Y,Ja)},tt.hasIn=$l,tt.head=lt,tt.identity=Qs,tt.includes=function(A,Y,te,Ce){A=gl(A)?A:Yt(A),te=te&&!Ce?ir(te):0;var qe=A.length;return te<0&&(te=js(qe+te,0)),Nf(A)?te<=qe&&A.indexOf(Y,te)>-1:!!qe&&ec(A,Y,te)>-1},tt.indexOf=function(A,Y,te){var Ce=null==A?0:A.length;if(!Ce)return-1;var qe=null==te?0:ir(te);return qe<0&&(qe=js(Ce+qe,0)),ec(A,Y,qe)},tt.inRange=function(A,Y,te){return Y=xp(Y),te===W?(te=Y,Y=0):te=xp(te),function(A,Y,te){return A>=Er(Y,te)&&A<js(Y,te)}(A=Tu(A),Y,te)},tt.invoke=qy,tt.isArguments=Ca,tt.isArray=zr,tt.isArrayBuffer=so,tt.isArrayLike=gl,tt.isArrayLikeObject=_l,tt.isBoolean=function(A){return!0===A||!1===A||Ma(A)&&Nr(A)==Qr},tt.isBuffer=Ff,tt.isDate=Vg,tt.isElement=function(A){return Ma(A)&&1===A.nodeType&&!Km(A)},tt.isEmpty=function(A){if(null==A)return!0;if(gl(A)&&(zr(A)||"string"==typeof A||"function"==typeof A.splice||Ff(A)||Zp(A)||Ca(A)))return!A.length;var Y=fc(A);if(Y==Gi||Y==Xi)return!A.size;if(bu(A))return!Zt(A).length;for(var te in A)if(Mr.call(A,te))return!1;return!0},tt.isEqual=function(A,Y){return Gl(A,Y)},tt.isEqualWith=function(A,Y,te){var Ce=(te="function"==typeof te?te:W)?te(A,Y):W;return Ce===W?Gl(A,Y,W,te):!!Ce},tt.isError=Hg,tt.isFinite=function(A){return"number"==typeof A&&Sc(A)},tt.isFunction=qu,tt.isInteger=ja,tt.isLength=Jm,tt.isMap=F_,tt.isMatch=function(A,Y){return A===Y||ws(A,Y,Ah(Y))},tt.isMatchWith=function(A,Y,te){return te="function"==typeof te?te:W,ws(A,Y,Ah(Y),te)},tt.isNaN=function(A){return Gg(A)&&A!=+A},tt.isNative=function(A){if(Cf(A))throw new Ki("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return G(A)},tt.isNil=function(A){return null==A},tt.isNull=function(A){return null===A},tt.isNumber=Gg,tt.isObject=Rr,tt.isObjectLike=Ma,tt.isPlainObject=Km,tt.isRegExp=Zg,tt.isSafeInteger=function(A){return ja(A)&&A>=-Pi&&A<=Pi},tt.isSet=Zy,tt.isString=Nf,tt.isSymbol=ql,tt.isTypedArray=Zp,tt.isUndefined=function(A){return A===W},tt.isWeakMap=function(A){return Ma(A)&&fc(A)==Ls},tt.isWeakSet=function(A){return Ma(A)&&"[object WeakSet]"==Nr(A)},tt.join=function(A,Y){return null==A?"":vi.call(A,Y)},tt.kebabCase=Vn,tt.last=Ui,tt.lastIndexOf=function(A,Y,te){var Ce=null==A?0:A.length;if(!Ce)return-1;var qe=Ce;return te!==W&&(qe=(qe=ir(te))<0?js(Ce+qe,0):Er(qe,Ce-1)),Y==Y?function(qt,kn,pn){for(var Ci=pn+1;Ci--;)if(qt[Ci]===kn)return Ci;return Ci}(A,Y,qe):hd(A,Ip,qe,!0)},tt.lowerCase=Kn,tt.lowerFirst=Dn,tt.lt=B_,tt.lte=V_,tt.max=function(A){return A&&A.length?Xs(A,Qs,Qa):W},tt.maxBy=function(A,Y){return A&&A.length?Xs(A,pr(Y,2),Qa):W},tt.mean=function(A){return Bc(A,Qs)},tt.meanBy=function(A,Y){return Bc(A,pr(Y,2))},tt.min=function(A){return A&&A.length?Xs(A,Qs,Vi):W},tt.minBy=function(A,Y){return A&&A.length?Xs(A,pr(Y,2),Vi):W},tt.stubArray=sl,tt.stubFalse=ch,tt.stubObject=function(){return{}},tt.stubString=function(){return""},tt.stubTrue=function(){return!0},tt.multiply=tb,tt.nth=function(A,Y){return A&&A.length?pf(A,ir(Y)):W},tt.noConflict=function(){return ra._===this&&(ra._=op),this},tt.noop=Za,tt.now=Oh,tt.pad=function(A,Y,te){A=oo(A);var Ce=(Y=ir(Y))?oa(A):0;if(!Y||Ce>=Y)return A;var qe=(Y-Ce)/2;return Vu(Ul(qe),te)+A+Vu(Dl(qe),te)},tt.padEnd=function(A,Y,te){A=oo(A);var Ce=(Y=ir(Y))?oa(A):0;return Y&&Ce<Y?A+Vu(Y-Ce,te):A},tt.padStart=function(A,Y,te){A=oo(A);var Ce=(Y=ir(Y))?oa(A):0;return Y&&Ce<Y?Vu(Y-Ce,te)+A:A},tt.parseInt=function(A,Y,te){return te||null==Y?Y=0:Y&&(Y=+Y),Ba(oo(A).replace(Kt,""),Y||0)},tt.random=function(A,Y,te){if(te&&"boolean"!=typeof te&&nl(A,Y,te)&&(Y=te=W),te===W&&("boolean"==typeof Y?(te=Y,Y=W):"boolean"==typeof A&&(te=A,A=W)),A===W&&Y===W?(A=0,Y=1):(A=xp(A),Y===W?(Y=A,A=0):Y=xp(Y)),A>Y){var Ce=A;A=Y,Y=Ce}if(te||A%1||Y%1){var qe=Ei();return Er(A+qe*(Y-A+kr("1e-"+((qe+"").length-1))),Y)}return pu(A,Y)},tt.reduce=function(A,Y,te){var Ce=zr(A)?Bd:us,qe=arguments.length<3;return Ce(A,pr(Y,4),te,qe,ps)},tt.reduceRight=function(A,Y,te){var Ce=zr(A)?tu:us,qe=arguments.length<3;return Ce(A,pr(Y,4),te,qe,_r)},tt.repeat=function(A,Y,te){return Y=(te?nl(A,Y,te):Y===W)?1:ir(Y),Ec(oo(A),Y)},tt.replace=function(){var A=arguments,Y=oo(A[0]);return A.length<3?Y:Y.replace(A[1],A[2])},tt.result=function(A,Y,te){var Ce=-1,qe=(Y=Ll(Y,A)).length;for(qe||(qe=1,A=W);++Ce<qe;){var ut=null==A?W:A[Dc(Y[Ce])];ut===W&&(Ce=qe,ut=te),A=qu(ut)?ut.call(A):ut}return A},tt.round=nb,tt.runInContext=qt,tt.sample=function(A){return(zr(A)?wt:$d)(A)},tt.size=function(A){if(null==A)return 0;if(gl(A))return Nf(A)?oa(A):A.length;var Y=fc(A);return Y==Gi||Y==Xi?A.size:Zt(A).length},tt.snakeCase=Hi,tt.some=function(A,Y,te){var Ce=zr(A)?kl:Xf;return te&&nl(A,Y,te)&&(Y=W),Ce(A,pr(Y,3))},tt.sortedIndex=function(A,Y){return dc(A,Y)},tt.sortedIndexBy=function(A,Y,te){return Cg(A,Y,pr(te,2))},tt.sortedIndexOf=function(A,Y){var te=null==A?0:A.length;if(te){var Ce=dc(A,Y);if(Ce<te&&Wu(A[Ce],Y))return Ce}return-1},tt.sortedLastIndex=function(A,Y){return dc(A,Y,!0)},tt.sortedLastIndexBy=function(A,Y,te){return Cg(A,Y,pr(te,2),!0)},tt.sortedLastIndexOf=function(A,Y){if(null!=A&&A.length){var Ce=dc(A,Y,!0)-1;if(Wu(A[Ce],Y))return Ce}return-1},tt.startCase=Oa,tt.startsWith=function(A,Y,te){return A=oo(A),te=null==te?0:Qn(ir(te),0,A.length),Y=Dr(Y),A.slice(te,te+Y.length)==Y},tt.subtract=A0,tt.sum=function(A){return A&&A.length?fo(A,Qs):0},tt.sumBy=function(A,Y){return A&&A.length?fo(A,pr(Y,2)):0},tt.template=function(A,Y,te){var Ce=tt.templateSettings;te&&nl(A,Y,te)&&(Y=W),A=oo(A),Y=Yf({},Y,Ce,gu);var $t,cn,qe=Yf({},Y.imports,Ce.imports,gu),ut=Rl(qe),Nt=Os(qe,ut),jn=0,qn=Y.interpolate||se,Hn="__p += '",Ai=aa((Y.escape||se).source+"|"+qn.source+"|"+(qn===Ne?M:se).source+"|"+(Y.evaluate||se).source+"|$","g"),sr="//# sourceURL="+(Mr.call(Y,"sourceURL")?(Y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ep+"]")+"\n";A.replace(Ai,function(Yr,qs,eo,uh,Su,dh){return eo||(eo=uh),Hn+=A.slice(jn,dh).replace(me,Vd),qs&&($t=!0,Hn+="' +\n__e("+qs+") +\n'"),Su&&(cn=!0,Hn+="';\n"+Su+";\n__p += '"),eo&&(Hn+="' +\n((__t = ("+eo+")) == null ? '' : __t) +\n'"),jn=dh+Yr.length,Yr}),Hn+="';\n";var Fr=Mr.call(Y,"variable")&&Y.variable;if(Fr){if(p.test(Fr))throw new Ki("Invalid `variable` option passed into `_.template`")}else Hn="with (obj) {\n"+Hn+"\n}\n";Hn=(cn?Hn.replace(Wt,""):Hn).replace(hn,"$1").replace(nn,"$1;"),Hn="function("+(Fr||"obj")+") {\n"+(Fr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+($t?", __e = _.escape":"")+(cn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Hn+"return __p\n}";var Ds=Lo(function(){return Cr(ut,sr+"return "+Hn).apply(W,Nt)});if(Ds.source=Hn,Hg(Ds))throw Ds;return Ds},tt.times=function(A,Y){if((A=ir(A))<1||A>Pi)return[];var te=bi,Ce=Er(A,bi);Y=pr(Y),A-=bi;for(var qe=pd(Ce,Y);++te<A;)Y(te);return qe},tt.toFinite=xp,tt.toInteger=ir,tt.toLength=fm,tt.toLower=function(A){return oo(A).toLowerCase()},tt.toNumber=Tu,tt.toSafeInteger=function(A){return A?Qn(ir(A),-Pi,Pi):0===A?A:0},tt.toString=oo,tt.toUpper=function(A){return oo(A).toUpperCase()},tt.trim=function(A,Y,te){if((A=oo(A))&&(te||Y===W))return va(A);if(!A||!(Y=Dr(Y)))return A;var Ce=Xo(A),qe=Xo(Y);return Jd(Ce,rp(Ce,qe),$a(Ce,qe)+1).join("")},tt.trimEnd=function(A,Y,te){if((A=oo(A))&&(te||Y===W))return A.slice(0,ic(A)+1);if(!A||!(Y=Dr(Y)))return A;var Ce=Xo(A);return Jd(Ce,0,$a(Ce,Xo(Y))+1).join("")},tt.trimStart=function(A,Y,te){if((A=oo(A))&&(te||Y===W))return A.replace(Kt,"");if(!A||!(Y=Dr(Y)))return A;var Ce=Xo(A);return Jd(Ce,rp(Ce,Xo(Y))).join("")},tt.truncate=function(A,Y){var te=30,Ce="...";if(Rr(Y)){var qe="separator"in Y?Y.separator:qe;te="length"in Y?ir(Y.length):te,Ce="omission"in Y?Dr(Y.omission):Ce}var ut=(A=oo(A)).length;if(hr(A)){var Nt=Xo(A);ut=Nt.length}if(te>=ut)return A;var $t=te-oa(Ce);if($t<1)return Ce;var cn=Nt?Jd(Nt,0,$t).join(""):A.slice(0,$t);if(qe===W)return cn+Ce;if(Nt&&($t+=cn.length-$t),Zg(qe)){if(A.slice($t).search(qe)){var jn,qn=cn;for(qe.global||(qe=aa(qe.source,oo(E.exec(qe))+"g")),qe.lastIndex=0;jn=qe.exec(qn);)var Hn=jn.index;cn=cn.slice(0,Hn===W?$t:Hn)}}else if(A.indexOf(Dr(qe),$t)!=$t){var Ai=cn.lastIndexOf(qe);Ai>-1&&(cn=cn.slice(0,Ai))}return cn+Ce},tt.unescape=function(A){return(A=oo(A))&&ar.test(A)?A.replace(pi,Mc):A},tt.uniqueId=function(A){var Y=++ou;return oo(A)+Y},tt.upperCase=Ks,tt.upperFirst=Ra,tt.each=Og,tt.eachRight=Uy,tt.first=lt,Fl(tt,function(){var A={};return Ri(tt,function(Y,te){Mr.call(tt.prototype,te)||(A[te]=Y)}),A}(),{chain:!1}),tt.VERSION="4.17.21",Kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){tt[A].placeholder=tt}),Kr(["drop","take"],function(A,Y){es.prototype[A]=function(te){te=te===W?1:js(ir(te),0);var Ce=this.__filtered__&&!Y?new es(this):this.clone();return Ce.__filtered__?Ce.__takeCount__=Er(te,Ce.__takeCount__):Ce.__views__.push({size:Er(te,bi),type:A+(Ce.__dir__<0?"Right":"")}),Ce},es.prototype[A+"Right"]=function(te){return this.reverse()[A](te).reverse()}}),Kr(["filter","map","takeWhile"],function(A,Y){var te=Y+1,Ce=1==te||3==te;es.prototype[A]=function(qe){var ut=this.clone();return ut.__iteratees__.push({iteratee:pr(qe,3),type:te}),ut.__filtered__=ut.__filtered__||Ce,ut}}),Kr(["head","last"],function(A,Y){var te="take"+(Y?"Right":"");es.prototype[A]=function(){return this[te](1).value()[0]}}),Kr(["initial","tail"],function(A,Y){var te="drop"+(Y?"":"Right");es.prototype[A]=function(){return this.__filtered__?new es(this):this[te](1)}}),es.prototype.compact=function(){return this.filter(Qs)},es.prototype.find=function(A){return this.filter(A).head()},es.prototype.findLast=function(A){return this.reverse().find(A)},es.prototype.invokeMap=yr(function(A,Y){return"function"==typeof A?new es(this):this.map(function(te){return ba(te,A,Y)})}),es.prototype.reject=function(A){return this.filter(Pf(pr(A)))},es.prototype.slice=function(A,Y){A=ir(A);var te=this;return te.__filtered__&&(A>0||Y<0)?new es(te):(A<0?te=te.takeRight(-A):A&&(te=te.drop(A)),Y!==W&&(te=(Y=ir(Y))<0?te.dropRight(-Y):te.take(Y-A)),te)},es.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},es.prototype.toArray=function(){return this.take(bi)},Ri(es.prototype,function(A,Y){var te=/^(?:filter|find|map|reject)|While$/.test(Y),Ce=/^(?:head|last)$/.test(Y),qe=tt[Ce?"take"+("last"==Y?"Right":""):Y],ut=Ce||/^find/.test(Y);!qe||(tt.prototype[Y]=function(){var Nt=this.__wrapped__,$t=Ce?[1]:arguments,cn=Nt instanceof es,jn=$t[0],qn=cn||zr(Nt),Hn=function(qs){var eo=qe.apply(tt,$o([qs],$t));return Ce&&Ai?eo[0]:eo};qn&&te&&"function"==typeof jn&&1!=jn.length&&(cn=qn=!1);var Ai=this.__chain__,sr=!!this.__actions__.length,Fr=ut&&!Ai,Ds=cn&&!sr;if(!ut&&qn){Nt=Ds?Nt:new es(this);var Yr=A.apply(Nt,$t);return Yr.__actions__.push({func:Df,args:[Hn],thisArg:W}),new Ha(Yr,Ai)}return Fr&&Ds?A.apply(this,$t):(Yr=this.thru(Hn),Fr?Ce?Yr.value()[0]:Yr.value():Yr)})}),Kr(["pop","push","shift","sort","splice","unshift"],function(A){var Y=su[A],te=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",Ce=/^(?:pop|shift)$/.test(A);tt.prototype[A]=function(){var qe=arguments;if(Ce&&!this.__chain__){var ut=this.value();return Y.apply(zr(ut)?ut:[],qe)}return this[te](function(Nt){return Y.apply(zr(Nt)?Nt:[],qe)})}}),Ri(es.prototype,function(A,Y){var te=tt[Y];if(te){var Ce=te.name+"";Mr.call(jl,Ce)||(jl[Ce]=[]),jl[Ce].push({name:Y,func:te})}}),jl[Fp(W,2).name]=[{name:"wrapper",func:W}],es.prototype.clone=function(){var A=new es(this.__wrapped__);return A.__actions__=hc(this.__actions__),A.__dir__=this.__dir__,A.__filtered__=this.__filtered__,A.__iteratees__=hc(this.__iteratees__),A.__takeCount__=this.__takeCount__,A.__views__=hc(this.__views__),A},es.prototype.reverse=function(){if(this.__filtered__){var A=new es(this);A.__dir__=-1,A.__filtered__=!0}else(A=this.clone()).__dir__*=-1;return A},es.prototype.value=function(){var A=this.__wrapped__.value(),Y=this.__dir__,te=zr(A),Ce=Y<0,qe=te?A.length:0,ut=function(A,Y,te){for(var Ce=-1,qe=te.length;++Ce<qe;){var ut=te[Ce],Nt=ut.size;switch(ut.type){case"drop":A+=Nt;break;case"dropRight":Y-=Nt;break;case"take":Y=Er(Y,A+Nt);break;case"takeRight":A=js(A,Y-Nt)}}return{start:A,end:Y}}(0,qe,this.__views__),Nt=ut.start,$t=ut.end,cn=$t-Nt,jn=Ce?$t:Nt-1,qn=this.__iteratees__,Hn=qn.length,Ai=0,sr=Er(cn,this.__takeCount__);if(!te||!Ce&&qe==cn&&sr==cn)return _d(A,this.__actions__);var Fr=[];e:for(;cn--&&Ai<sr;){for(var Ds=-1,Yr=A[jn+=Y];++Ds<Hn;){var qs=qn[Ds],uh=qs.type,Su=(0,qs.iteratee)(Yr);if(2==uh)Yr=Su;else if(!Su){if(1==uh)continue e;break e}}Fr[Ai++]=Yr}return Fr},tt.prototype.at=Zm,tt.prototype.chain=function(){return I_(this)},tt.prototype.commit=function(){return new Ha(this.value(),this.__chain__)},tt.prototype.next=function(){this.__values__===W&&(this.__values__=Wg(this.value()));var A=this.__index__>=this.__values__.length;return{done:A,value:A?W:this.__values__[this.__index__++]}},tt.prototype.plant=function(A){for(var Y,te=this;te instanceof Wd;){var Ce=Bm(te);Ce.__index__=0,Ce.__values__=W,Y?qe.__wrapped__=Ce:Y=Ce;var qe=Ce;te=te.__wrapped__}return qe.__wrapped__=A,Y},tt.prototype.reverse=function(){var A=this.__wrapped__;if(A instanceof es){var Y=A;return this.__actions__.length&&(Y=new es(this)),(Y=Y.reverse()).__actions__.push({func:Df,args:[Hp],thisArg:W}),new Ha(Y,this.__chain__)}return this.thru(Hp)},tt.prototype.toJSON=tt.prototype.valueOf=tt.prototype.value=function(){return _d(this.__wrapped__,this.__actions__)},tt.prototype.first=tt.prototype.head,Tc&&(tt.prototype[Tc]=function(){return this}),tt}();ra._=fd,(o=function(){return fd}.call(St,De,St,Ht))!==W&&(Ht.exports=o)}.call(this)},2958:function(Ht){Ht.exports=function(){"use strict";var St,De,o;function W(b,ce){if(St)if(De){var be="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+St+")(sharedChunk); ("+De+")(sharedChunk); self.onerror = null;",Te={};St(Te),o=ce(Te),"undefined"!=typeof window&&(o.workerUrl=window.URL.createObjectURL(new Blob([be],{type:"text/javascript"})))}else De=ce;else St=ce}return W(0,function(b){var be=Te;function Te(g,c,_,w){this.cx=3*g,this.bx=3*(_-g)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(w-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=g,this.p1y=w,this.p2x=_,this.p2y=w}Te.prototype.sampleCurveX=function(g){return((this.ax*g+this.bx)*g+this.cx)*g},Te.prototype.sampleCurveY=function(g){return((this.ay*g+this.by)*g+this.cy)*g},Te.prototype.sampleCurveDerivativeX=function(g){return(3*this.ax*g+2*this.bx)*g+this.cx},Te.prototype.solveCurveX=function(g,c){var _,w,I,F,B;for(void 0===c&&(c=1e-6),I=g,B=0;B<8;B++){if(F=this.sampleCurveX(I)-g,Math.abs(F)<c)return I;var Q=this.sampleCurveDerivativeX(I);if(Math.abs(Q)<1e-6)break;I-=F/Q}if((I=g)<(_=0))return _;if(I>(w=1))return w;for(;_<w;){if(F=this.sampleCurveX(I),Math.abs(F-g)<c)return I;g>F?_=I:w=I,I=.5*(w-_)+_}return I},Te.prototype.solve=function(g,c){return this.sampleCurveY(this.solveCurveX(g,c))};var xe=Fe;function Fe(g,c){this.x=g,this.y=c}Fe.prototype={clone:function(){return new Fe(this.x,this.y)},add:function(g){return this.clone()._add(g)},sub:function(g){return this.clone()._sub(g)},multByPoint:function(g){return this.clone()._multByPoint(g)},divByPoint:function(g){return this.clone()._divByPoint(g)},mult:function(g){return this.clone()._mult(g)},div:function(g){return this.clone()._div(g)},rotate:function(g){return this.clone()._rotate(g)},rotateAround:function(g,c){return this.clone()._rotateAround(g,c)},matMult:function(g){return this.clone()._matMult(g)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(g){return this.x===g.x&&this.y===g.y},dist:function(g){return Math.sqrt(this.distSqr(g))},distSqr:function(g){var c=g.x-this.x,_=g.y-this.y;return c*c+_*_},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(g){return Math.atan2(this.y-g.y,this.x-g.x)},angleWith:function(g){return this.angleWithSep(g.x,g.y)},angleWithSep:function(g,c){return Math.atan2(this.x*c-this.y*g,this.x*g+this.y*c)},_matMult:function(g){var c=g[2]*this.x+g[3]*this.y;return this.x=g[0]*this.x+g[1]*this.y,this.y=c,this},_add:function(g){return this.x+=g.x,this.y+=g.y,this},_sub:function(g){return this.x-=g.x,this.y-=g.y,this},_mult:function(g){return this.x*=g,this.y*=g,this},_div:function(g){return this.x/=g,this.y/=g,this},_multByPoint:function(g){return this.x*=g.x,this.y*=g.y,this},_divByPoint:function(g){return this.x/=g.x,this.y/=g.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var g=this.y;return this.y=this.x,this.x=-g,this},_rotate:function(g){var c=Math.cos(g),_=Math.sin(g),w=_*this.x+c*this.y;return this.x=c*this.x-_*this.y,this.y=w,this},_rotateAround:function(g,c){var _=Math.cos(g),w=Math.sin(g),I=c.y+w*(this.x-c.x)+_*(this.y-c.y);return this.x=c.x+_*(this.x-c.x)-w*(this.y-c.y),this.y=I,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Fe.convert=function(g){return g instanceof Fe?g:Array.isArray(g)?new Fe(g[0],g[1]):g};var He="undefined"!=typeof self?self:{};const xt=Math.pow(2,53)-1,ht=Math.PI/180,At=180/Math.PI;function en(g){return g*ht}const Ut=[[0,0],[1,0],[1,1],[0,1]];function at(g){if(g<=0)return 0;if(g>=1)return 1;const c=g*g,_=c*g;return 4*(g<.5?_:3*(g-c)+_-.75)}function ei(g,c,_,w){const I=new be(g,c,_,w);return function(F){return I.solve(F)}}const In=ei(.25,.1,.25,1);function jt(g,c,_){return Math.min(_,Math.max(c,g))}function tr(g,c,_){const w=_-c,I=((g-c)%w+w)%w+c;return I===c?_:I}function rs(g,c,_){if(!g.length)return _(null,[]);let w=g.length;const I=new Array(g.length);let F=null;g.forEach((B,Q)=>{c(B,(ne,he)=>{ne&&(F=ne),I[Q]=he,0==--w&&_(F,I)})})}function oi(g){const c=[];for(const _ in g)c.push(g[_]);return c}function Li(g,...c){for(const _ of c)for(const w in _)g[w]=_[w];return g}let ks=1;function qi(){return ks++}function Pr(){return function g(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,g)}()}function _n(g){return g<=1?1:Math.pow(2,Math.ceil(Math.log(g)/Math.LN2))}function ln(g){return!!g&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(g)}function vn(g,c){g.forEach(_=>{c[_]&&(c[_]=c[_].bind(c))})}function un(g,c){return-1!==g.indexOf(c,g.length-c.length)}function Rn(g,c,_){const w={};for(const I in g)w[I]=c.call(_||this,g[I],I,g);return w}function fn(g,c,_){const w={};for(const I in g)c.call(_||this,g[I],I,g)&&(w[I]=g[I]);return w}function ni(g){return Array.isArray(g)?g.map(ni):"object"==typeof g&&g?Rn(g,ni):g}const Pi={};function Fi(g){Pi[g]||("undefined"!=typeof console&&console.warn(g),Pi[g]=!0)}function ui(g,c,_){return(_.y-g.y)*(c.x-g.x)>(c.y-g.y)*(_.x-g.x)}function bi(g){let c=0;for(let _,w,I=0,F=g.length,B=F-1;I<F;B=I++)_=g[I],w=g[B],c+=(w.x-_.x)*(_.y+w.y);return c}function mi(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function gi(g){const c={};if(g.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(_,w,I,F)=>{const B=I||F;return c[w]=!B||B.toLowerCase(),""}),c["max-age"]){const _=parseInt(c["max-age"],10);isNaN(_)?delete c["max-age"]:c["max-age"]=_}return c}let $n,ki,xr,uo=null;function Qr(g){if(null==uo){const c=g.navigator?g.navigator.userAgent:null;uo=!!g.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return uo}function Vs(g){try{const c=He[g];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch(c){return!1}}const Zs={now:()=>void 0!==xr?xr:He.performance.now(),setNow(g){xr=g},restoreNow(){xr=void 0},frame(g){const c=He.requestAnimationFrame(g);return{cancel:()=>He.cancelAnimationFrame(c)}},getImageData(g,c=0){const _=He.document.createElement("canvas"),w=_.getContext("2d");if(!w)throw new Error("failed to create canvas 2d context");return _.width=g.width,_.height=g.height,w.drawImage(g,0,0,g.width,g.height),w.getImageData(-c,-c,g.width+2*c,g.height+2*c)},resolveURL:g=>($n||($n=He.document.createElement("a")),$n.href=g,$n.href),get devicePixelRatio(){return He.devicePixelRatio},get prefersReducedMotion(){return!!He.matchMedia&&(null==ki&&(ki=He.matchMedia("(prefers-reduced-motion: reduce)")),ki.matches)}};let fa;const nr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==fa){const g=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{fa=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):g}catch(c){fa=g}}return fa},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ma={supported:!1,testSupport:function(g){!ho&&$i&&(Hs?yi(g):Gi=g)}};let Gi,$i,ho=!1,Hs=!1;function yi(g){const c=g.createTexture();g.bindTexture(g.TEXTURE_2D,c);try{if(g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,$i),g.isContextLost())return;ma.supported=!0}catch(_){}g.deleteTexture(c),ho=!0}He.document&&($i=He.document.createElement("img"),$i.onload=function(){Gi&&yi(Gi),Gi=null,Hs=!0},$i.onerror=function(){ho=!0,Gi=null},$i.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const cs="01",mr="NO_ACCESS_TOKEN";function Xi(g){return 0===g.indexOf("mapbox:")}function po(g){return nr.API_URL_REGEX.test(g)}const bc=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Hr(g){const c=g.match(bc);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Ls(g){const c=g.params.length?`?${g.params.join("&")}`:"";return`${g.protocol}://${g.authority}${g.path}${c}`}function Ro(g){if(!g)return null;const c=g.split(".");if(!c||3!==c.length)return null;try{return JSON.parse(decodeURIComponent(He.atob(c[1]).split("").map(_=>"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(_){return null}}class Sr{constructor(c){this.type=c,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(c){const _=Ro(nr.ACCESS_TOKEN);let w="";return w=_&&_.u?He.btoa(encodeURIComponent(_.u).replace(/%([0-9A-F]{2})/g,(I,F)=>String.fromCharCode(Number("0x"+F)))):nr.ACCESS_TOKEN||"",c?`mapbox.eventData.${c}:${w}`:`mapbox.eventData:${w}`}fetchEventData(){const c=Vs("localStorage"),_=this.getStorageKey(),w=this.getStorageKey("uuid");if(c)try{const I=He.localStorage.getItem(_);I&&(this.eventData=JSON.parse(I));const F=He.localStorage.getItem(w);F&&(this.anonId=F)}catch(I){Fi("Unable to read from LocalStorage")}}saveEventData(){const c=Vs("localStorage"),_=this.getStorageKey(),w=this.getStorageKey("uuid");if(c)try{He.localStorage.setItem(w,this.anonId),Object.keys(this.eventData).length>=1&&He.localStorage.setItem(_,JSON.stringify(this.eventData))}catch(I){Fi("Unable to write to LocalStorage")}}processRequests(c){}postEvent(c,_,w,I){if(!nr.EVENTS_URL)return;const F=Hr(nr.EVENTS_URL);F.params.push(`access_token=${I||nr.ACCESS_TOKEN||""}`);const B={event:this.type,created:new Date(c).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.4.1",skuId:cs,userId:this.anonId},Q=_?Li(B,_):B,ne={url:Ls(F),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Q])};this.pendingRequest=Ze(ne,he=>{this.pendingRequest=null,w(he),this.saveEventData(),this.processRequests(I)})}queueRequest(c,_){this.queue.push(c),this.processRequests(_)}}const Yn=new class extends Sr{constructor(g){super("appUserTurnstile"),this._customAccessToken=g}postTurnstileEvent(g,c){nr.EVENTS_URL&&nr.ACCESS_TOKEN&&Array.isArray(g)&&g.some(_=>Xi(_)||po(_))&&this.queueRequest(Date.now(),c)}processRequests(g){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const c=Ro(nr.ACCESS_TOKEN),_=c?c.u:nr.ACCESS_TOKEN;let w=_!==this.eventData.tokenU;ln(this.anonId)||(this.anonId=Pr(),w=!0);const I=this.queue.shift();if(this.eventData.lastSuccess){const F=new Date(this.eventData.lastSuccess),B=new Date(I),Q=(I-this.eventData.lastSuccess)/864e5;w=w||Q>=1||Q<-1||F.getDate()!==B.getDate()}else w=!0;if(!w)return this.processRequests();this.postEvent(I,{"enabled.telemetry":!1},F=>{F||(this.eventData.lastSuccess=I,this.eventData.tokenU=_)},g)}},ji=Yn.postTurnstileEvent.bind(Yn),ll=new class extends Sr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(g,c,_,w){this.skuToken=c,this.errorCb=w,nr.EVENTS_URL&&(_||nr.ACCESS_TOKEN?this.queueRequest({id:g,timestamp:Date.now()},_):this.errorCb(new Error(mr)))}processRequests(g){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:_}=this.queue.shift();c&&this.success[c]||(this.anonId||this.fetchEventData(),ln(this.anonId)||(this.anonId=Pr()),this.postEvent(_,{skuToken:this.skuToken},w=>{w?this.errorCb(w):c&&(this.success[c]=!0)},g))}},Ea=ll.postMapLoadEvent.bind(ll),ga=new class extends Sr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(g,c,_,w){if(!nr.API_URL||!nr.SESSION_PATH)return;const I=Hr(nr.API_URL+nr.SESSION_PATH);I.params.push(`sku=${c||""}`),I.params.push(`access_token=${w||nr.ACCESS_TOKEN||""}`);const F={url:Ls(I),headers:{"Content-Type":"text/plain"}};this.pendingRequest=ct(F,B=>{this.pendingRequest=null,_(B),this.saveEventData(),this.processRequests(w)})}getSessionAPI(g,c,_,w){this.skuToken=c,this.errorCb=w,nr.SESSION_PATH&&nr.API_URL&&(_||nr.ACCESS_TOKEN?this.queueRequest({id:g,timestamp:Date.now()},_):this.errorCb(new Error(mr)))}processRequests(g){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:_}=this.queue.shift();c&&this.success[c]||this.getSession(_,this.skuToken,w=>{w?this.errorCb(w):c&&(this.success[c]=!0)},g)}},gs=ga.getSessionAPI.bind(ga),So=new Set,ko="mapbox-tiles";let Pt,Lt,Wt=500,hn=50;function nn(){He.caches&&!Pt&&(Pt=He.caches.open(ko))}function pi(g){const c=g.indexOf("?");return c<0?g:g.slice(0,c)}let Ni=1/0;const ar={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ar);class Or extends Error{constructor(c,_,w){401===_&&po(w)&&(c+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(c),this.status=_,this.url=w}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const wr=mi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===He.location.protocol?He.parent:He).location.href,st=function(g,c){if(!(/^file:/.test(_=g.url)||/^file:/.test(wr())&&!/^\w+:/.test(_))){if(He.fetch&&He.Request&&He.AbortController&&He.Request.prototype.hasOwnProperty("signal"))return function(w,I){const F=new He.AbortController,B=new He.Request(w.url,{method:w.method||"GET",body:w.body,credentials:w.credentials,headers:w.headers,referrer:wr(),signal:F.signal});let Q=!1,ne=!1;const he=(ye=B.url).indexOf("sku=")>0&&po(ye);var ye;"json"===w.type&&B.headers.set("Accept","application/json");const we=(Ye,Qe,mt)=>{if(ne)return;if(Ye&&"SecurityError"!==Ye.message&&Fi(Ye),Qe&&mt)return Ie(Qe);const Et=Date.now();He.fetch(B).then(Yt=>{if(Yt.ok){const tn=he?Yt.clone():null;return Ie(Yt,tn,Et)}return I(new Or(Yt.statusText,Yt.status,w.url))}).catch(Yt=>{20!==Yt.code&&I(new Error(Yt.message))})},Ie=(Ye,Qe,mt)=>{("arrayBuffer"===w.type?Ye.arrayBuffer():"json"===w.type?Ye.json():Ye.text()).then(Et=>{ne||(Qe&&mt&&function(Yt,tn,rn){if(nn(),!Pt)return;const on={status:tn.status,statusText:tn.statusText,headers:new He.Headers};tn.headers.forEach((mn,zn)=>on.headers.set(zn,mn));const gn=gi(tn.headers.get("Cache-Control")||"");gn["no-store"]||(gn["max-age"]&&on.headers.set("Expires",new Date(rn+1e3*gn["max-age"]).toUTCString()),new Date(on.headers.get("Expires")).getTime()-rn<42e4||function(mn,zn){if(void 0===Lt)try{new Response(new ReadableStream),Lt=!0}catch(Xn){Lt=!1}Lt?zn(mn.body):mn.blob().then(zn)}(tn,mn=>{const zn=new He.Response(mn,on);nn(),Pt&&Pt.then(Xn=>Xn.put(pi(Yt.url),zn)).catch(Xn=>Fi(Xn.message))}))}(B,Qe,mt),Q=!0,I(null,Et,Ye.headers.get("Cache-Control"),Ye.headers.get("Expires")))}).catch(Et=>{ne||I(new Error(Et.message))})};return he?function(Ye,Qe){if(nn(),!Pt)return Qe(null);const mt=pi(Ye.url);Pt.then(Et=>{Et.match(mt).then(Yt=>{const tn=function(rn){if(!rn)return!1;const on=new Date(rn.headers.get("Expires")||0),gn=gi(rn.headers.get("Cache-Control")||"");return on>Date.now()&&!gn["no-cache"]}(Yt);Et.delete(mt),tn&&Et.put(mt,Yt.clone()),Qe(null,Yt,tn)}).catch(Qe)}).catch(Qe)}(B,we):we(null,null),{cancel:()=>{ne=!0,Q||F.abort()}}}(g,c);if(mi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",g,c,void 0,!0)}var _;return function(w,I){const F=new He.XMLHttpRequest;F.open(w.method||"GET",w.url,!0),"arrayBuffer"===w.type&&(F.responseType="arraybuffer");for(const B in w.headers)F.setRequestHeader(B,w.headers[B]);return"json"===w.type&&(F.responseType="text",F.setRequestHeader("Accept","application/json")),F.withCredentials="include"===w.credentials,F.onerror=()=>{I(new Error(F.statusText))},F.onload=()=>{if((F.status>=200&&F.status<300||0===F.status)&&null!==F.response){let B=F.response;if("json"===w.type)try{B=JSON.parse(F.response)}catch(Q){return I(Q)}I(null,B,F.getResponseHeader("Cache-Control"),F.getResponseHeader("Expires"))}else I(new Or(F.statusText,F.status,w.url))},F.send(w.body),{cancel:()=>F.abort()}}(g,c)},Ne=function(g,c){return st(Li(g,{type:"arrayBuffer"}),c)},Ze=function(g,c){return st(Li(g,{method:"POST"}),c)},ct=function(g,c){return st(Li(g,{method:"GET"}),c)};function bt(g){const c=He.document.createElement("a");return c.href=g,c.protocol===He.document.location.protocol&&c.host===He.document.location.host}const Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let It,Kt;It=[],Kt=0;const Vt=function(g,c){if(ma.supported&&(g.headers||(g.headers={}),g.headers.accept="image/webp,*/*"),Kt>=nr.MAX_PARALLEL_IMAGE_REQUESTS){const F={requestParameters:g,callback:c,cancelled:!1,cancel(){this.cancelled=!0}};return It.push(F),F}Kt++;let _=!1;const w=()=>{if(!_)for(_=!0,Kt--;It.length&&Kt<nr.MAX_PARALLEL_IMAGE_REQUESTS;){const F=It.shift(),{requestParameters:B,callback:Q,cancelled:ne}=F;ne||(F.cancel=Vt(B,Q).cancel)}},I=Ne(g,(F,B,Q,ne)=>{w(),F?c(F):B&&(He.createImageBitmap?function(he,ye){const we=new He.Blob([new Uint8Array(he)],{type:"image/png"});He.createImageBitmap(we).then(Ie=>{ye(null,Ie)}).catch(Ie=>{ye(new Error(`Could not load image because of ${Ie.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(B,(he,ye)=>c(he,ye,Q,ne)):function(he,ye){const we=new He.Image,Ie=He.URL;we.onload=()=>{ye(null,we),Ie.revokeObjectURL(we.src),we.onload=null,He.requestAnimationFrame(()=>{we.src=Ft})},we.onerror=()=>ye(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ye=new He.Blob([new Uint8Array(he)],{type:"image/png"});we.src=he.byteLength?Ie.createObjectURL(Ye):Ft}(B,(he,ye)=>c(he,ye,Q,ne)))});return{cancel:()=>{I.cancel(),w()}}};function Xt(g,c,_){_[g]&&-1!==_[g].indexOf(c)||(_[g]=_[g]||[],_[g].push(c))}function Mn(g,c,_){if(_&&_[g]){const w=_[g].indexOf(c);-1!==w&&_[g].splice(w,1)}}class Le{constructor(c,_={}){Li(this,_),this.type=c}}class h extends Le{constructor(c,_={}){super("error",Li({error:c},_))}}class p{on(c,_){return this._listeners=this._listeners||{},Xt(c,_,this._listeners),this}off(c,_){return Mn(c,_,this._listeners),Mn(c,_,this._oneTimeListeners),this}once(c,_){return _?(this._oneTimeListeners=this._oneTimeListeners||{},Xt(c,_,this._oneTimeListeners),this):new Promise(w=>this.once(c,w))}fire(c,_){"string"==typeof c&&(c=new Le(c,_||{}));const w=c.type;if(this.listens(w)){c.target=this;const I=this._listeners&&this._listeners[w]?this._listeners[w].slice():[];for(const Q of I)Q.call(this,c);const F=this._oneTimeListeners&&this._oneTimeListeners[w]?this._oneTimeListeners[w].slice():[];for(const Q of F)Mn(w,Q,this._oneTimeListeners),Q.call(this,c);const B=this._eventedParent;B&&(Li(c,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),B.fire(c))}else c instanceof h&&console.error(c.error);return this}listens(c){return!!(this._listeners&&this._listeners[c]&&this._listeners[c].length>0||this._oneTimeListeners&&this._oneTimeListeners[c]&&this._oneTimeListeners[c].length>0||this._eventedParent&&this._eventedParent.listens(c))}setEventedParent(c,_){return this._eventedParent=c,this._eventedParentData=_,this}}var v={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class M{constructor(c,_,w,I){this.message=(c?`${c}: `:"")+w,I&&(this.identifier=I),null!=_&&_.__line__&&(this.line=_.__line__)}}function E(g){const c=g.value;return c?[new M(g.key,c,"constants have been deprecated as of v8")]:[]}function N(g,...c){for(const _ of c)for(const w in _)g[w]=_[w];return g}function O(g){return g instanceof Number||g instanceof String||g instanceof Boolean?g.valueOf():g}function j(g){if(Array.isArray(g))return g.map(j);if(g instanceof Object&&!(g instanceof Number||g instanceof String||g instanceof Boolean)){const c={};for(const _ in g)c[_]=j(g[_]);return c}return O(g)}class Z extends Error{constructor(c,_){super(_),this.message=_,this.key=c}}class re{constructor(c,_=[]){this.parent=c,this.bindings={};for(const[w,I]of _)this.bindings[w]=I}concat(c){return new re(this,c)}get(c){if(this.bindings[c])return this.bindings[c];if(this.parent)return this.parent.get(c);throw new Error(`${c} not found in scope.`)}has(c){return!!this.bindings[c]||!!this.parent&&this.parent.has(c)}}const le={kind:"null"},se={kind:"number"},me={kind:"string"},Ee={kind:"boolean"},Ae={kind:"color"},Re={kind:"object"},je={kind:"value"},it={kind:"collator"},_t={kind:"formatted"},$={kind:"resolvedImage"};function ue(g,c){return{kind:"array",itemType:g,N:c}}function Oe(g){if("array"===g.kind){const c=Oe(g.itemType);return"number"==typeof g.N?`array<${c}, ${g.N}>`:"value"===g.itemType.kind?"array":`array<${c}>`}return g.kind}const $e=[le,se,me,Ee,Ae,_t,Re,ue(je),$];function ft(g,c){if("error"===c.kind)return null;if("array"===g.kind){if("array"===c.kind&&(0===c.N&&"value"===c.itemType.kind||!ft(g.itemType,c.itemType))&&("number"!=typeof g.N||g.N===c.N))return null}else{if(g.kind===c.kind)return null;if("value"===g.kind)for(const _ of $e)if(!ft(_,c))return null}return`Expected ${Oe(g)} but found ${Oe(c)} instead.`}function sn(g,c){return c.some(_=>_.kind===g.kind)}function Gt(g,c){return c.some(_=>"null"===_?null===g:"array"===_?Array.isArray(g):"object"===_?g&&!Array.isArray(g)&&"object"==typeof g:_===typeof g)}function dn(g){var c={exports:{}};return g(c,c.exports),c.exports}var Nn=dn(function(g,c){var _={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function w(Q){return(Q=Math.round(Q))<0?0:Q>255?255:Q}function I(Q){return w("%"===Q[Q.length-1]?parseFloat(Q)/100*255:parseInt(Q))}function F(Q){return(ne="%"===Q[Q.length-1]?parseFloat(Q)/100:parseFloat(Q))<0?0:ne>1?1:ne;var ne}function B(Q,ne,he){return he<0?he+=1:he>1&&(he-=1),6*he<1?Q+(ne-Q)*he*6:2*he<1?ne:3*he<2?Q+(ne-Q)*(2/3-he)*6:Q}try{c.parseCSSColor=function(Q){var ne,he=Q.replace(/ /g,"").toLowerCase();if(he in _)return _[he].slice();if("#"===he[0])return 4===he.length?(ne=parseInt(he.substr(1),16))>=0&&ne<=4095?[(3840&ne)>>4|(3840&ne)>>8,240&ne|(240&ne)>>4,15&ne|(15&ne)<<4,1]:null:7===he.length&&(ne=parseInt(he.substr(1),16))>=0&&ne<=16777215?[(16711680&ne)>>16,(65280&ne)>>8,255&ne,1]:null;var ye=he.indexOf("("),we=he.indexOf(")");if(-1!==ye&&we+1===he.length){var Ie=he.substr(0,ye),Ye=he.substr(ye+1,we-(ye+1)).split(","),Qe=1;switch(Ie){case"rgba":if(4!==Ye.length)return null;Qe=F(Ye.pop());case"rgb":return 3!==Ye.length?null:[I(Ye[0]),I(Ye[1]),I(Ye[2]),Qe];case"hsla":if(4!==Ye.length)return null;Qe=F(Ye.pop());case"hsl":if(3!==Ye.length)return null;var mt=(parseFloat(Ye[0])%360+360)%360/360,Et=F(Ye[1]),Yt=F(Ye[2]),tn=Yt<=.5?Yt*(Et+1):Yt+Et-Yt*Et,rn=2*Yt-tn;return[w(255*B(rn,tn,mt+1/3)),w(255*B(rn,tn,mt)),w(255*B(rn,tn,mt-1/3)),Qe];default:return null}}return null}}catch(Q){}});class Pn{constructor(c,_,w,I=1){this.r=c,this.g=_,this.b=w,this.a=I}static parse(c){if(!c)return;if(c instanceof Pn)return c;if("string"!=typeof c)return;const _=Nn.parseCSSColor(c);return _?new Pn(_[0]/255*_[3],_[1]/255*_[3],_[2]/255*_[3],_[3]):void 0}toString(){const[c,_,w,I]=this.toArray();return`rgba(${Math.round(c)},${Math.round(_)},${Math.round(w)},${I})`}toArray(){const{r:c,g:_,b:w,a:I}=this;return 0===I?[0,0,0,0]:[255*c/I,255*_/I,255*w/I,I]}}Pn.black=new Pn(0,0,0,1),Pn.white=new Pn(1,1,1,1),Pn.transparent=new Pn(0,0,0,0),Pn.red=new Pn(1,0,0,1),Pn.blue=new Pn(0,0,1,1);class wi{constructor(c,_,w){this.sensitivity=c?_?"variant":"case":_?"accent":"base",this.locale=w,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(c,_){return this.collator.compare(c,_)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class lr{constructor(c,_,w,I,F){this.text=c,this.image=_,this.scale=w,this.fontStack=I,this.textColor=F}}class fi{constructor(c){this.sections=c}static fromString(c){return new fi([new lr(c,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(c=>0!==c.text.length||c.image&&0!==c.image.name.length)}static factory(c){return c instanceof fi?c:fi.fromString(c)}toString(){return 0===this.sections.length?"":this.sections.map(c=>c.text).join("")}serialize(){const c=["format"];for(const _ of this.sections){if(_.image){c.push(["image",_.image.name]);continue}c.push(_.text);const w={};_.fontStack&&(w["text-font"]=["literal",_.fontStack.split(",")]),_.scale&&(w["font-scale"]=_.scale),_.textColor&&(w["text-color"]=["rgba"].concat(_.textColor.toArray())),c.push(w)}return c}}class Oi{constructor(c){this.name=c.name,this.available=c.available}toString(){return this.name}static fromString(c){return c?new Oi({name:c,available:!1}):null}serialize(){return["image",this.name]}}function Tr(g,c,_,w){return"number"==typeof g&&g>=0&&g<=255&&"number"==typeof c&&c>=0&&c<=255&&"number"==typeof _&&_>=0&&_<=255?void 0===w||"number"==typeof w&&w>=0&&w<=1?null:`Invalid rgba value [${[g,c,_,w].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof w?[g,c,_,w]:[g,c,_]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $s(g){if(null===g||"string"==typeof g||"boolean"==typeof g||"number"==typeof g||g instanceof Pn||g instanceof wi||g instanceof fi||g instanceof Oi)return!0;if(Array.isArray(g)){for(const c of g)if(!$s(c))return!1;return!0}if("object"==typeof g){for(const c in g)if(!$s(g[c]))return!1;return!0}return!1}function _s(g){if(null===g)return le;if("string"==typeof g)return me;if("boolean"==typeof g)return Ee;if("number"==typeof g)return se;if(g instanceof Pn)return Ae;if(g instanceof wi)return it;if(g instanceof fi)return _t;if(g instanceof Oi)return $;if(Array.isArray(g)){const c=g.length;let _;for(const w of g){const I=_s(w);if(_){if(_===I)continue;_=je;break}_=I}return ue(_||je,c)}return Re}function Zi(g){const c=typeof g;return null===g?"":"string"===c||"number"===c||"boolean"===c?String(g):g instanceof Pn||g instanceof fi||g instanceof Oi?g.toString():JSON.stringify(g)}class Jr{constructor(c,_){this.type=c,this.value=_}static parse(c,_){if(2!==c.length)return _.error(`'literal' expression requires exactly one argument, but found ${c.length-1} instead.`);if(!$s(c[1]))return _.error("invalid value");const w=c[1];let I=_s(w);const F=_.expectedType;return"array"!==I.kind||0!==I.N||!F||"array"!==F.kind||"number"==typeof F.N&&0!==F.N||(I=F),new Jr(I,w)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Pn?["rgba"].concat(this.value.toArray()):this.value instanceof fi?this.value.serialize():this.value}}class ys{constructor(c){this.name="ExpressionEvaluationError",this.message=c}toJSON(){return this.message}}const _a={string:me,number:se,boolean:Ee,object:Re};class ia{constructor(c,_){this.type=c,this.args=_}static parse(c,_){if(c.length<2)return _.error("Expected at least one argument.");let w,I=1;const F=c[0];if("array"===F){let Q,ne;if(c.length>2){const he=c[1];if("string"!=typeof he||!(he in _a)||"object"===he)return _.error('The item type argument of "array" must be one of string, number, boolean',1);Q=_a[he],I++}else Q=je;if(c.length>3){if(null!==c[2]&&("number"!=typeof c[2]||c[2]<0||c[2]!==Math.floor(c[2])))return _.error('The length argument to "array" must be a positive integer literal',2);ne=c[2],I++}w=ue(Q,ne)}else w=_a[F];const B=[];for(;I<c.length;I++){const Q=_.parse(c[I],I,je);if(!Q)return null;B.push(Q)}return new ia(w,B)}evaluate(c){for(let _=0;_<this.args.length;_++){const w=this.args[_].evaluate(c);if(!ft(this.type,_s(w)))return w;if(_===this.args.length-1)throw new ys(`Expected value to be of type ${Oe(this.type)}, but found ${Oe(_s(w))} instead.`)}return null}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=this.type,_=[c.kind];if("array"===c.kind){const w=c.itemType;if("string"===w.kind||"number"===w.kind||"boolean"===w.kind){_.push(w.kind);const I=c.N;("number"==typeof I||this.args.length>1)&&_.push(I)}}return _.concat(this.args.map(w=>w.serialize()))}}class Js{constructor(c){this.type=_t,this.sections=c}static parse(c,_){if(c.length<2)return _.error("Expected at least one argument.");const w=c[1];if(!Array.isArray(w)&&"object"==typeof w)return _.error("First argument must be an image or text section.");const I=[];let F=!1;for(let B=1;B<=c.length-1;++B){const Q=c[B];if(F&&"object"==typeof Q&&!Array.isArray(Q)){F=!1;let ne=null;if(Q["font-scale"]&&(ne=_.parse(Q["font-scale"],1,se),!ne))return null;let he=null;if(Q["text-font"]&&(he=_.parse(Q["text-font"],1,ue(me)),!he))return null;let ye=null;if(Q["text-color"]&&(ye=_.parse(Q["text-color"],1,Ae),!ye))return null;const we=I[I.length-1];we.scale=ne,we.font=he,we.textColor=ye}else{const ne=_.parse(c[B],1,je);if(!ne)return null;const he=ne.type.kind;if("string"!==he&&"value"!==he&&"null"!==he&&"resolvedImage"!==he)return _.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");F=!0,I.push({content:ne,scale:null,font:null,textColor:null})}}return new Js(I)}evaluate(c){return new fi(this.sections.map(_=>{const w=_.content.evaluate(c);return _s(w)===$?new lr("",w,null,null,null):new lr(Zi(w),null,_.scale?_.scale.evaluate(c):null,_.font?_.font.evaluate(c).join(","):null,_.textColor?_.textColor.evaluate(c):null)}))}eachChild(c){for(const _ of this.sections)c(_.content),_.scale&&c(_.scale),_.font&&c(_.font),_.textColor&&c(_.textColor)}outputDefined(){return!1}serialize(){const c=["format"];for(const _ of this.sections){c.push(_.content.serialize());const w={};_.scale&&(w["font-scale"]=_.scale.serialize()),_.font&&(w["text-font"]=_.font.serialize()),_.textColor&&(w["text-color"]=_.textColor.serialize()),c.push(w)}return c}}class Fo{constructor(c){this.type=$,this.input=c}static parse(c,_){if(2!==c.length)return _.error("Expected two arguments.");const w=_.parse(c[1],1,me);return w?new Fo(w):_.error("No image name provided.")}evaluate(c){const _=this.input.evaluate(c),w=Oi.fromString(_);return w&&c.availableImages&&(w.available=c.availableImages.indexOf(_)>-1),w}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const ad={"to-boolean":Ee,"to-color":Ae,"to-number":se,"to-string":me};class Cl{constructor(c,_){this.type=c,this.args=_}static parse(c,_){if(c.length<2)return _.error("Expected at least one argument.");const w=c[0];if(("to-boolean"===w||"to-string"===w)&&2!==c.length)return _.error("Expected one argument.");const I=ad[w],F=[];for(let B=1;B<c.length;B++){const Q=_.parse(c[B],B,je);if(!Q)return null;F.push(Q)}return new Cl(I,F)}evaluate(c){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(c));if("color"===this.type.kind){let _,w;for(const I of this.args){if(_=I.evaluate(c),w=null,_ instanceof Pn)return _;if("string"==typeof _){const F=c.parseColor(_);if(F)return F}else if(Array.isArray(_)&&(w=_.length<3||_.length>4?`Invalid rbga value ${JSON.stringify(_)}: expected an array containing either three or four numeric values.`:Tr(_[0],_[1],_[2],_[3]),!w))return new Pn(_[0]/255,_[1]/255,_[2]/255,_[3])}throw new ys(w||`Could not parse color from value '${"string"==typeof _?_:String(JSON.stringify(_))}'`)}if("number"===this.type.kind){let _=null;for(const w of this.args){if(_=w.evaluate(c),null===_)return 0;const I=Number(_);if(!isNaN(I))return I}throw new ys(`Could not convert ${JSON.stringify(_)} to number.`)}return"formatted"===this.type.kind?fi.fromString(Zi(this.args[0].evaluate(c))):"resolvedImage"===this.type.kind?Oi.fromString(Zi(this.args[0].evaluate(c))):Zi(this.args[0].evaluate(c))}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Js([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Fo(this.args[0]).serialize();const c=[`to-${this.type.kind}`];return this.eachChild(_=>{c.push(_.serialize())}),c}}const $f=["Unknown","Point","LineString","Polygon"];class Rd{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?$f[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(c){let _=this._parseColorCache[c];return _||(_=this._parseColorCache[c]=Pn.parse(c)),_}}class cl{constructor(c,_,w,I){this.name=c,this.type=_,this._evaluate=w,this.args=I}evaluate(c){return this._evaluate(c,this.args)}eachChild(c){this.args.forEach(c)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(c=>c.serialize()))}static parse(c,_){const w=c[0],I=cl.definitions[w];if(!I)return _.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0);const F=Array.isArray(I)?I[0]:I.type,B=Array.isArray(I)?[[I[1],I[2]]]:I.overloads,Q=B.filter(([he])=>!Array.isArray(he)||he.length===c.length-1);let ne=null;for(const[he,ye]of Q){ne=new ud(_.registry,_.path,null,_.scope);const we=[];let Ie=!1;for(let Ye=1;Ye<c.length;Ye++){const Qe=c[Ye],mt=Array.isArray(he)?he[Ye-1]:he.type,Et=ne.parse(Qe,1+we.length,mt);if(!Et){Ie=!0;break}we.push(Et)}if(!Ie)if(Array.isArray(he)&&he.length!==we.length)ne.error(`Expected ${he.length} arguments, but found ${we.length} instead.`);else{for(let Ye=0;Ye<we.length;Ye++){const Qe=Array.isArray(he)?he[Ye]:he.type,mt=we[Ye];ne.concat(Ye+1).checkSubtype(Qe,mt.type)}if(0===ne.errors.length)return new cl(w,F,ye,we)}}if(1===Q.length)_.errors.push(...ne.errors);else{const he=(Q.length?Q:B).map(([we])=>{return Ie=we,Array.isArray(Ie)?`(${Ie.map(Oe).join(", ")})`:`(${Oe(Ie.type)}...)`;var Ie}).join(" | "),ye=[];for(let we=1;we<c.length;we++){const Ie=_.parse(c[we],1+ye.length);if(!Ie)return null;ye.push(Oe(Ie.type))}_.error(`Expected arguments of type ${he}, but found (${ye.join(", ")}) instead.`)}return null}static register(c,_){cl.definitions=_;for(const w in _)c[w]=cl}}class Qh{constructor(c,_,w){this.type=it,this.locale=w,this.caseSensitive=c,this.diacriticSensitive=_}static parse(c,_){if(2!==c.length)return _.error("Expected one argument.");const w=c[1];if("object"!=typeof w||Array.isArray(w))return _.error("Collator options argument must be an object.");const I=_.parse(void 0!==w["case-sensitive"]&&w["case-sensitive"],1,Ee);if(!I)return null;const F=_.parse(void 0!==w["diacritic-sensitive"]&&w["diacritic-sensitive"],1,Ee);if(!F)return null;let B=null;return w.locale&&(B=_.parse(w.locale,1,me),!B)?null:new Qh(I,F,B)}evaluate(c){return new wi(this.caseSensitive.evaluate(c),this.diacriticSensitive.evaluate(c),this.locale?this.locale.evaluate(c):null)}eachChild(c){c(this.caseSensitive),c(this.diacriticSensitive),this.locale&&c(this.locale)}outputDefined(){return!1}serialize(){const c={};return c["case-sensitive"]=this.caseSensitive.serialize(),c["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(c.locale=this.locale.serialize()),["collator",c]}}const ld=8192;function Ap(g,c){g[0]=Math.min(g[0],c[0]),g[1]=Math.min(g[1],c[1]),g[2]=Math.max(g[2],c[0]),g[3]=Math.max(g[3],c[1])}function Yc(g,c){return!(g[0]<=c[0]||g[2]>=c[2]||g[1]<=c[1]||g[3]>=c[3])}function vs(g,c){const _=(180+g[0])/360,w=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+g[1]*Math.PI/360)))/360,I=Math.pow(2,c.z);return[Math.round(_*I*ld),Math.round(w*I*ld)]}function Fd(g,c,_){const w=g[0]-c[0],I=g[1]-c[1],F=g[0]-_[0],B=g[1]-_[1];return w*B-F*I==0&&w*F<=0&&I*B<=0}function Nd(g,c){let _=!1;for(let B=0,Q=c.length;B<Q;B++){const ne=c[B];for(let he=0,ye=ne.length;he<ye-1;he++){if(Fd(g,ne[he],ne[he+1]))return!1;(I=ne[he])[1]>(w=g)[1]!=(F=ne[he+1])[1]>w[1]&&w[0]<(F[0]-I[0])*(w[1]-I[1])/(F[1]-I[1])+I[0]&&(_=!_)}}var w,I,F;return _}function Jh(g,c){for(let _=0;_<c.length;_++)if(Nd(g,c[_]))return!0;return!1}function zl(g,c,_,w){const I=w[0]-_[0],F=w[1]-_[1],B=(g[0]-_[0])*F-I*(g[1]-_[1]),Q=(c[0]-_[0])*F-I*(c[1]-_[1]);return B>0&&Q<0||B<0&&Q>0}function _h(g,c,_){for(const he of _)for(let ye=0;ye<he.length-1;++ye)if((Q=[(B=he[ye+1])[0]-(F=he[ye])[0],B[1]-F[1]])[0]*(ne=[(I=c)[0]-(w=g)[0],I[1]-w[1]])[1]-Q[1]*ne[0]!=0&&zl(w,I,F,B)&&zl(F,B,w,I))return!0;var w,I,F,B,Q,ne;return!1}function Ml(g,c){for(let _=0;_<g.length;++_)if(!Nd(g[_],c))return!1;for(let _=0;_<g.length-1;++_)if(_h(g[_],g[_+1],c))return!1;return!0}function Kh(g,c){for(let _=0;_<c.length;_++)if(Ml(g,c[_]))return!0;return!1}function qo(g,c,_){const w=[];for(let I=0;I<g.length;I++){const F=[];for(let B=0;B<g[I].length;B++){const Q=vs(g[I][B],_);Ap(c,Q),F.push(Q)}w.push(F)}return w}function ep(g,c,_){const w=[];for(let I=0;I<g.length;I++){const F=qo(g[I],c,_);w.push(F)}return w}function bs(g,c,_,w){if(g[0]<_[0]||g[0]>_[2]){const I=.5*w;let F=g[0]-_[0]>I?-w:_[0]-g[0]>I?w:0;0===F&&(F=g[0]-_[2]>I?-w:_[2]-g[0]>I?w:0),g[0]+=F}Ap(c,g)}function Ps(g,c,_,w){const I=Math.pow(2,w.z)*ld,F=[w.x*ld,w.y*ld],B=[];for(const Q of g)for(const ne of Q){const he=[ne.x+F[0],ne.y+F[1]];bs(he,c,_,I),B.push(he)}return B}function Wi(g,c,_,w){const I=Math.pow(2,w.z)*ld,F=[w.x*ld,w.y*ld],B=[];for(const ne of g){const he=[];for(const ye of ne){const we=[ye.x+F[0],ye.y+F[1]];Ap(c,we),he.push(we)}B.push(he)}if(c[2]-c[0]<=I/2){(Q=c)[0]=Q[1]=1/0,Q[2]=Q[3]=-1/0;for(const ne of B)for(const he of ne)bs(he,c,_,I)}var Q;return B}class Yl{constructor(c,_){this.type=Ee,this.geojson=c,this.geometries=_}static parse(c,_){if(2!==c.length)return _.error(`'within' expression requires exactly one argument, but found ${c.length-1} instead.`);if($s(c[1])){const w=c[1];if("FeatureCollection"===w.type)for(let I=0;I<w.features.length;++I){const F=w.features[I].geometry.type;if("Polygon"===F||"MultiPolygon"===F)return new Yl(w,w.features[I].geometry)}else if("Feature"===w.type){const I=w.geometry.type;if("Polygon"===I||"MultiPolygon"===I)return new Yl(w,w.geometry)}else if("Polygon"===w.type||"MultiPolygon"===w.type)return new Yl(w,w)}return _.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(c){if(null!=c.geometry()&&null!=c.canonicalID()){if("Point"===c.geometryType())return function(_,w){const I=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],B=_.canonicalID();if("Polygon"===w.type){const Q=qo(w.coordinates,F,B),ne=Ps(_.geometry(),I,F,B);if(!Yc(I,F))return!1;for(const he of ne)if(!Nd(he,Q))return!1}if("MultiPolygon"===w.type){const Q=ep(w.coordinates,F,B),ne=Ps(_.geometry(),I,F,B);if(!Yc(I,F))return!1;for(const he of ne)if(!Jh(he,Q))return!1}return!0}(c,this.geometries);if("LineString"===c.geometryType())return function(_,w){const I=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],B=_.canonicalID();if("Polygon"===w.type){const Q=qo(w.coordinates,F,B),ne=Wi(_.geometry(),I,F,B);if(!Yc(I,F))return!1;for(const he of ne)if(!Ml(he,Q))return!1}if("MultiPolygon"===w.type){const Q=ep(w.coordinates,F,B),ne=Wi(_.geometry(),I,F,B);if(!Yc(I,F))return!1;for(const he of ne)if(!Kh(he,Q))return!1}return!0}(c,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function zd(g){if(g instanceof cl&&("get"===g.name&&1===g.args.length||"feature-state"===g.name||"has"===g.name&&1===g.args.length||"properties"===g.name||"geometry-type"===g.name||"id"===g.name||/^filter-/.test(g.name))||g instanceof Yl)return!1;let c=!0;return g.eachChild(_=>{c&&!zd(_)&&(c=!1)}),c}function cd(g){if(g instanceof cl&&"feature-state"===g.name)return!1;let c=!0;return g.eachChild(_=>{c&&!cd(_)&&(c=!1)}),c}function kr(g,c){if(g instanceof cl&&c.indexOf(g.name)>=0)return!1;let _=!0;return g.eachChild(w=>{_&&!kr(w,c)&&(_=!1)}),_}class Yd{constructor(c,_){this.type=_.type,this.name=c,this.boundExpression=_}static parse(c,_){if(2!==c.length||"string"!=typeof c[1])return _.error("'var' expression requires exactly one string literal argument.");const w=c[1];return _.scope.has(w)?new Yd(w,_.scope.get(w)):_.error(`Unknown variable "${w}". Make sure "${w}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(c){return this.boundExpression.evaluate(c)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class ud{constructor(c,_=[],w,I=new re,F=[]){this.registry=c,this.path=_,this.key=_.map(B=>`[${B}]`).join(""),this.scope=I,this.errors=F,this.expectedType=w}parse(c,_,w,I,F={}){return _?this.concat(_,w,I)._parse(c,F):this._parse(c,F)}_parse(c,_){function w(I,F,B){return"assert"===B?new ia(F,[I]):"coerce"===B?new Cl(F,[I]):I}if(null!==c&&"string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c||(c=["literal",c]),Array.isArray(c)){if(0===c.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const I=c[0];if("string"!=typeof I)return this.error(`Expression name must be a string, but found ${typeof I} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const F=this.registry[I];if(F){let B=F.parse(c,this);if(!B)return null;if(this.expectedType){const Q=this.expectedType,ne=B.type;if("string"!==Q.kind&&"number"!==Q.kind&&"boolean"!==Q.kind&&"object"!==Q.kind&&"array"!==Q.kind||"value"!==ne.kind)if("color"!==Q.kind&&"formatted"!==Q.kind&&"resolvedImage"!==Q.kind||"value"!==ne.kind&&"string"!==ne.kind){if(this.checkSubtype(Q,ne))return null}else B=w(B,Q,_.typeAnnotation||"coerce");else B=w(B,Q,_.typeAnnotation||"assert")}if(!(B instanceof Jr)&&"resolvedImage"!==B.type.kind&&tp(B)){const Q=new Rd;try{B=new Jr(B.type,B.evaluate(Q))}catch(ne){return this.error(ne.message),null}}return B}return this.error(`Unknown expression "${I}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===c?"'undefined' value invalid. Use null instead.":"object"==typeof c?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof c} instead.`)}concat(c,_,w){const I="number"==typeof c?this.path.concat(c):this.path,F=w?this.scope.concat(w):this.scope;return new ud(this.registry,I,_||null,F,this.errors)}error(c,..._){const w=`${this.key}${_.map(I=>`[${I}]`).join("")}`;this.errors.push(new Z(w,c))}checkSubtype(c,_){const w=ft(c,_);return w&&this.error(w),w}}function tp(g){if(g instanceof Yd)return tp(g.boundExpression);if(g instanceof cl&&"error"===g.name||g instanceof Qh||g instanceof Yl)return!1;const c=g instanceof Cl||g instanceof ia;let _=!0;return g.eachChild(w=>{_=c?_&&tp(w):_&&w instanceof Jr}),!!_&&zd(g)&&kr(g,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}function ra(g,c){const _=g.length-1;let w,I,F=0,B=_,Q=0;for(;F<=B;)if(Q=Math.floor((F+B)/2),w=g[Q],I=g[Q+1],w<=c){if(Q===_||c<I)return Q;F=Q+1}else{if(!(w>c))throw new ys("Input is not a number.");B=Q-1}return 0}class Na{constructor(c,_,w){this.type=c,this.input=_,this.labels=[],this.outputs=[];for(const[I,F]of w)this.labels.push(I),this.outputs.push(F)}static parse(c,_){if(c.length-1<4)return _.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return _.error("Expected an even number of arguments.");const w=_.parse(c[1],1,se);if(!w)return null;const I=[];let F=null;_.expectedType&&"value"!==_.expectedType.kind&&(F=_.expectedType);for(let B=1;B<c.length;B+=2){const Q=1===B?-1/0:c[B],ne=c[B+1],he=B,ye=B+1;if("number"!=typeof Q)return _.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',he);if(I.length&&I[I.length-1][0]>=Q)return _.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',he);const we=_.parse(ne,ye,F);if(!we)return null;F=F||we.type,I.push([Q,we])}return new Na(F,w,I)}evaluate(c){const _=this.labels,w=this.outputs;if(1===_.length)return w[0].evaluate(c);const I=this.input.evaluate(c);if(I<=_[0])return w[0].evaluate(c);const F=_.length;return I>=_[F-1]?w[F-1].evaluate(c):w[ra(_,I)].evaluate(c)}eachChild(c){c(this.input);for(const _ of this.outputs)c(_)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){const c=["step",this.input.serialize()];for(let _=0;_<this.labels.length;_++)_>0&&c.push(this.labels[_]),c.push(this.outputs[_].serialize());return c}}function di(g,c,_){return g*(1-_)+c*_}var xc=Object.freeze({__proto__:null,number:di,color:function(g,c,_){return new Pn(di(g.r,c.r,_),di(g.g,c.g,_),di(g.b,c.b,_),di(g.a,c.a,_))},array:function(g,c,_){return g.map((w,I)=>di(w,c[I],_))}});const dd=4/29,wc=6/29,Rs=3*wc*wc,Tl=Math.PI/180,er=180/Math.PI;function np(g){return g>.008856451679035631?Math.pow(g,1/3):g/Rs+dd}function cr(g){return g>wc?g*g*g:Rs*(g-dd)}function ip(g){return 255*(g<=.0031308?12.92*g:1.055*Math.pow(g,1/2.4)-.055)}function Kr(g){return(g/=255)<=.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)}function Au(g){const c=Kr(g.r),_=Kr(g.g),w=Kr(g.b),I=np((.4124564*c+.3575761*_+.1804375*w)/.95047),F=np((.2126729*c+.7151522*_+.072175*w)/1);return{l:116*F-16,a:500*(I-F),b:200*(F-np((.0193339*c+.119192*_+.9503041*w)/1.08883)),alpha:g.a}}function Sl(g){let c=(g.l+16)/116,_=isNaN(g.a)?c:c+g.a/500,w=isNaN(g.b)?c:c-g.b/200;return c=1*cr(c),_=.95047*cr(_),w=1.08883*cr(w),new Pn(ip(3.2404542*_-1.5371385*c-.4985314*w),ip(-.969266*_+1.8760108*c+.041556*w),ip(.0556434*_-.2040259*c+1.0572252*w),g.alpha)}function Vl(g,c,_){const w=c-g;return g+_*(w>180||w<-180?w-360*Math.round(w/360):w)}const ya={forward:Au,reverse:Sl,interpolate:function(g,c,_){return{l:di(g.l,c.l,_),a:di(g.a,c.a,_),b:di(g.b,c.b,_),alpha:di(g.alpha,c.alpha,_)}}},qa={forward:function(g){const{l:c,a:_,b:w}=Au(g),I=Math.atan2(w,_)*er;return{h:I<0?I+360:I,c:Math.sqrt(_*_+w*w),l:c,alpha:g.a}},reverse:function(g){const c=g.h*Tl,_=g.c;return Sl({l:g.l,a:Math.cos(c)*_,b:Math.sin(c)*_,alpha:g.alpha})},interpolate:function(g,c,_){return{h:Vl(g.h,c.h,_),c:di(g.c,c.c,_),l:di(g.l,c.l,_),alpha:di(g.alpha,c.alpha,_)}}};var ss=Object.freeze({__proto__:null,lab:ya,hcl:qa});class $o{constructor(c,_,w,I,F){this.type=c,this.operator=_,this.interpolation=w,this.input=I,this.labels=[],this.outputs=[];for(const[B,Q]of F)this.labels.push(B),this.outputs.push(Q)}static interpolationFactor(c,_,w,I){let F=0;if("exponential"===c.name)F=Bd(_,c.base,w,I);else if("linear"===c.name)F=Bd(_,1,w,I);else if("cubic-bezier"===c.name){const B=c.controlPoints;F=new be(B[0],B[1],B[2],B[3]).solve(Bd(_,1,w,I))}return F}static parse(c,_){let[w,I,F,...B]=c;if(!Array.isArray(I)||0===I.length)return _.error("Expected an interpolation type expression.",1);if("linear"===I[0])I={name:"linear"};else if("exponential"===I[0]){const he=I[1];if("number"!=typeof he)return _.error("Exponential interpolation requires a numeric base.",1,1);I={name:"exponential",base:he}}else{if("cubic-bezier"!==I[0])return _.error(`Unknown interpolation type ${String(I[0])}`,1,0);{const he=I.slice(1);if(4!==he.length||he.some(ye=>"number"!=typeof ye||ye<0||ye>1))return _.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);I={name:"cubic-bezier",controlPoints:he}}}if(c.length-1<4)return _.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return _.error("Expected an even number of arguments.");if(F=_.parse(F,2,se),!F)return null;const Q=[];let ne=null;"interpolate-hcl"===w||"interpolate-lab"===w?ne=Ae:_.expectedType&&"value"!==_.expectedType.kind&&(ne=_.expectedType);for(let he=0;he<B.length;he+=2){const ye=B[he],we=B[he+1],Ie=he+3,Ye=he+4;if("number"!=typeof ye)return _.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ie);if(Q.length&&Q[Q.length-1][0]>=ye)return _.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ie);const Qe=_.parse(we,Ye,ne);if(!Qe)return null;ne=ne||Qe.type,Q.push([ye,Qe])}return"number"===ne.kind||"color"===ne.kind||"array"===ne.kind&&"number"===ne.itemType.kind&&"number"==typeof ne.N?new $o(ne,w,I,F,Q):_.error(`Type ${Oe(ne)} is not interpolatable.`)}evaluate(c){const _=this.labels,w=this.outputs;if(1===_.length)return w[0].evaluate(c);const I=this.input.evaluate(c);if(I<=_[0])return w[0].evaluate(c);const F=_.length;if(I>=_[F-1])return w[F-1].evaluate(c);const B=ra(_,I),Q=$o.interpolationFactor(this.interpolation,I,_[B],_[B+1]),ne=w[B].evaluate(c),he=w[B+1].evaluate(c);return"interpolate"===this.operator?xc[this.type.kind.toLowerCase()](ne,he,Q):"interpolate-hcl"===this.operator?qa.reverse(qa.interpolate(qa.forward(ne),qa.forward(he),Q)):ya.reverse(ya.interpolate(ya.forward(ne),ya.forward(he),Q))}eachChild(c){c(this.input);for(const _ of this.outputs)c(_)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){let c;c="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const _=[this.operator,c,this.input.serialize()];for(let w=0;w<this.labels.length;w++)_.push(this.labels[w],this.outputs[w].serialize());return _}}function Bd(g,c,_,w){const I=w-_,F=g-_;return 0===I?0:1===c?F/I:(Math.pow(c,F)-1)/(Math.pow(c,I)-1)}class tu{constructor(c,_){this.type=c,this.args=_}static parse(c,_){if(c.length<2)return _.error("Expectected at least one argument.");let w=null;const I=_.expectedType;I&&"value"!==I.kind&&(w=I);const F=[];for(const Q of c.slice(1)){const ne=_.parse(Q,1+F.length,w,void 0,{typeAnnotation:"omit"});if(!ne)return null;w=w||ne.type,F.push(ne)}const B=I&&F.some(Q=>ft(I,Q.type));return new tu(B?je:w,F)}evaluate(c){let _,w=null,I=0;for(const F of this.args)if(I++,w=F.evaluate(c),w&&w instanceof Oi&&!w.available&&(_||(_=w.name),w=null,I===this.args.length&&(w=_)),null!==w)break;return w}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=["coalesce"];return this.eachChild(_=>{c.push(_.serialize())}),c}}class kl{constructor(c,_){this.type=_.type,this.bindings=[].concat(c),this.result=_}evaluate(c){return this.result.evaluate(c)}eachChild(c){for(const _ of this.bindings)c(_[1]);c(this.result)}static parse(c,_){if(c.length<4)return _.error(`Expected at least 3 arguments, but found ${c.length-1} instead.`);const w=[];for(let F=1;F<c.length-1;F+=2){const B=c[F];if("string"!=typeof B)return _.error(`Expected string, but found ${typeof B} instead.`,F);if(/[^a-zA-Z0-9_]/.test(B))return _.error("Variable names must contain only alphanumeric characters or '_'.",F);const Q=_.parse(c[F+1],F+1);if(!Q)return null;w.push([B,Q])}const I=_.parse(c[c.length-1],c.length-1,_.expectedType,w);return I?new kl(w,I):null}outputDefined(){return this.result.outputDefined()}serialize(){const c=["let"];for(const[_,w]of this.bindings)c.push(_,w.serialize());return c.push(this.result.serialize()),c}}class yh{constructor(c,_,w){this.type=c,this.index=_,this.input=w}static parse(c,_){if(3!==c.length)return _.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const w=_.parse(c[1],1,se),I=_.parse(c[2],2,ue(_.expectedType||je));return w&&I?new yh(I.type.itemType,w,I):null}evaluate(c){const _=this.index.evaluate(c),w=this.input.evaluate(c);if(_<0)throw new ys(`Array index out of bounds: ${_} < 0.`);if(_>=w.length)throw new ys(`Array index out of bounds: ${_} > ${w.length-1}.`);if(_!==Math.floor(_))throw new ys(`Array index must be an integer, but found ${_} instead.`);return w[_]}eachChild(c){c(this.index),c(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Kl{constructor(c,_){this.type=Ee,this.needle=c,this.haystack=_}static parse(c,_){if(3!==c.length)return _.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const w=_.parse(c[1],1,je),I=_.parse(c[2],2,je);return w&&I?sn(w.type,[Ee,me,se,le,je])?new Kl(w,I):_.error(`Expected first argument to be of type boolean, string, number or null, but found ${Oe(w.type)} instead`):null}evaluate(c){const _=this.needle.evaluate(c),w=this.haystack.evaluate(c);if(!w)return!1;if(!Gt(_,["boolean","string","number","null"]))throw new ys(`Expected first argument to be of type boolean, string, number or null, but found ${Oe(_s(_))} instead.`);if(!Gt(w,["string","array"]))throw new ys(`Expected second argument to be of type array or string, but found ${Oe(_s(w))} instead.`);return w.indexOf(_)>=0}eachChild(c){c(this.needle),c(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Ji{constructor(c,_,w){this.type=se,this.needle=c,this.haystack=_,this.fromIndex=w}static parse(c,_){if(c.length<=2||c.length>=5)return _.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const w=_.parse(c[1],1,je),I=_.parse(c[2],2,je);if(!w||!I)return null;if(!sn(w.type,[Ee,me,se,le,je]))return _.error(`Expected first argument to be of type boolean, string, number or null, but found ${Oe(w.type)} instead`);if(4===c.length){const F=_.parse(c[3],3,se);return F?new Ji(w,I,F):null}return new Ji(w,I)}evaluate(c){const _=this.needle.evaluate(c),w=this.haystack.evaluate(c);if(!Gt(_,["boolean","string","number","null"]))throw new ys(`Expected first argument to be of type boolean, string, number or null, but found ${Oe(_s(_))} instead.`);if(!Gt(w,["string","array"]))throw new ys(`Expected second argument to be of type array or string, but found ${Oe(_s(w))} instead.`);if(this.fromIndex){const I=this.fromIndex.evaluate(c);return w.indexOf(_,I)}return w.indexOf(_)}eachChild(c){c(this.needle),c(this.haystack),this.fromIndex&&c(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const c=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),c]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Iu{constructor(c,_,w,I,F,B){this.inputType=c,this.type=_,this.input=w,this.cases=I,this.outputs=F,this.otherwise=B}static parse(c,_){if(c.length<5)return _.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if(c.length%2!=1)return _.error("Expected an even number of arguments.");let w,I;_.expectedType&&"value"!==_.expectedType.kind&&(I=_.expectedType);const F={},B=[];for(let he=2;he<c.length-1;he+=2){let ye=c[he];const we=c[he+1];Array.isArray(ye)||(ye=[ye]);const Ie=_.concat(he);if(0===ye.length)return Ie.error("Expected at least one branch label.");for(const Qe of ye){if("number"!=typeof Qe&&"string"!=typeof Qe)return Ie.error("Branch labels must be numbers or strings.");if("number"==typeof Qe&&Math.abs(Qe)>Number.MAX_SAFE_INTEGER)return Ie.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Qe&&Math.floor(Qe)!==Qe)return Ie.error("Numeric branch labels must be integer values.");if(w){if(Ie.checkSubtype(w,_s(Qe)))return null}else w=_s(Qe);if(void 0!==F[String(Qe)])return Ie.error("Branch labels must be unique.");F[String(Qe)]=B.length}const Ye=_.parse(we,he,I);if(!Ye)return null;I=I||Ye.type,B.push(Ye)}const Q=_.parse(c[1],1,je);if(!Q)return null;const ne=_.parse(c[c.length-1],c.length-1,I);return ne?"value"!==Q.type.kind&&_.concat(1).checkSubtype(w,Q.type)?null:new Iu(w,I,Q,F,B,ne):null}evaluate(c){const _=this.input.evaluate(c);return(_s(_)===this.inputType&&this.outputs[this.cases[_]]||this.otherwise).evaluate(c)}eachChild(c){c(this.input),this.outputs.forEach(c),c(this.otherwise)}outputDefined(){return this.outputs.every(c=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["match",this.input.serialize()],_=Object.keys(this.cases).sort(),w=[],I={};for(const B of _){const Q=I[this.cases[B]];void 0===Q?(I[this.cases[B]]=w.length,w.push([this.cases[B],[B]])):w[Q][1].push(B)}const F=B=>"number"===this.inputType.kind?Number(B):B;for(const[B,Q]of w)c.push(1===Q.length?F(Q[0]):Q.map(F)),c.push(this.outputs[B].serialize());return c.push(this.otherwise.serialize()),c}}class hd{constructor(c,_,w){this.type=c,this.branches=_,this.otherwise=w}static parse(c,_){if(c.length<4)return _.error(`Expected at least 3 arguments, but found only ${c.length-1}.`);if(c.length%2!=0)return _.error("Expected an odd number of arguments.");let w;_.expectedType&&"value"!==_.expectedType.kind&&(w=_.expectedType);const I=[];for(let B=1;B<c.length-1;B+=2){const Q=_.parse(c[B],B,Ee);if(!Q)return null;const ne=_.parse(c[B+1],B+1,w);if(!ne)return null;I.push([Q,ne]),w=w||ne.type}const F=_.parse(c[c.length-1],c.length-1,w);return F?new hd(w,I,F):null}evaluate(c){for(const[_,w]of this.branches)if(_.evaluate(c))return w.evaluate(c);return this.otherwise.evaluate(c)}eachChild(c){for(const[_,w]of this.branches)c(_),c(w);c(this.otherwise)}outputDefined(){return this.branches.every(([c,_])=>_.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["case"];return this.eachChild(_=>{c.push(_.serialize())}),c}}class ec{constructor(c,_,w,I){this.type=c,this.input=_,this.beginIndex=w,this.endIndex=I}static parse(c,_){if(c.length<=2||c.length>=5)return _.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const w=_.parse(c[1],1,je),I=_.parse(c[2],2,se);if(!w||!I)return null;if(!sn(w.type,[ue(je),me,je]))return _.error(`Expected first argument to be of type array or string, but found ${Oe(w.type)} instead`);if(4===c.length){const F=_.parse(c[3],3,se);return F?new ec(w.type,w,I,F):null}return new ec(w.type,w,I)}evaluate(c){const _=this.input.evaluate(c),w=this.beginIndex.evaluate(c);if(!Gt(_,["string","array"]))throw new ys(`Expected first argument to be of type array or string, but found ${Oe(_s(_))} instead.`);if(this.endIndex){const I=this.endIndex.evaluate(c);return _.slice(w,I)}return _.slice(w)}eachChild(c){c(this.input),c(this.beginIndex),this.endIndex&&c(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const c=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),c]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function nu(g,c){return"=="===g||"!="===g?"boolean"===c.kind||"string"===c.kind||"number"===c.kind||"null"===c.kind||"value"===c.kind:"string"===c.kind||"number"===c.kind||"value"===c.kind}function Ip(g,c,_,w){return 0===w.compare(c,_)}function Bc(g,c,_){const w="=="!==g&&"!="!==g;return class dz{constructor(F,B,Q){this.type=Ee,this.lhs=F,this.rhs=B,this.collator=Q,this.hasUntypedArgument="value"===F.type.kind||"value"===B.type.kind}static parse(F,B){if(3!==F.length&&4!==F.length)return B.error("Expected two or three arguments.");const Q=F[0];let ne=B.parse(F[1],1,je);if(!ne)return null;if(!nu(Q,ne.type))return B.concat(1).error(`"${Q}" comparisons are not supported for type '${Oe(ne.type)}'.`);let he=B.parse(F[2],2,je);if(!he)return null;if(!nu(Q,he.type))return B.concat(2).error(`"${Q}" comparisons are not supported for type '${Oe(he.type)}'.`);if(ne.type.kind!==he.type.kind&&"value"!==ne.type.kind&&"value"!==he.type.kind)return B.error(`Cannot compare types '${Oe(ne.type)}' and '${Oe(he.type)}'.`);w&&("value"===ne.type.kind&&"value"!==he.type.kind?ne=new ia(he.type,[ne]):"value"!==ne.type.kind&&"value"===he.type.kind&&(he=new ia(ne.type,[he])));let ye=null;if(4===F.length){if("string"!==ne.type.kind&&"string"!==he.type.kind&&"value"!==ne.type.kind&&"value"!==he.type.kind)return B.error("Cannot use collator to compare non-string types.");if(ye=B.parse(F[3],3,it),!ye)return null}return new dz(ne,he,ye)}evaluate(F){const B=this.lhs.evaluate(F),Q=this.rhs.evaluate(F);if(w&&this.hasUntypedArgument){const ne=_s(B),he=_s(Q);if(ne.kind!==he.kind||"string"!==ne.kind&&"number"!==ne.kind)throw new ys(`Expected arguments for "${g}" to be (string, string) or (number, number), but found (${ne.kind}, ${he.kind}) instead.`)}if(this.collator&&!w&&this.hasUntypedArgument){const ne=_s(B),he=_s(Q);if("string"!==ne.kind||"string"!==he.kind)return c(F,B,Q)}return this.collator?_(F,B,Q,this.collator.evaluate(F)):c(F,B,Q)}eachChild(F){F(this.lhs),F(this.rhs),this.collator&&F(this.collator)}outputDefined(){return!0}serialize(){const F=[g];return this.eachChild(B=>{F.push(B.serialize())}),F}}}const Lu=Bc("==",function(g,c,_){return c===_},Ip),Un=Bc("!=",function(g,c,_){return c!==_},function(g,c,_,w){return!Ip(0,c,_,w)}),us=Bc("<",function(g,c,_){return c<_},function(g,c,_,w){return w.compare(c,_)<0}),vh=Bc(">",function(g,c,_){return c>_},function(g,c,_,w){return w.compare(c,_)>0}),fo=Bc("<=",function(g,c,_){return c<=_},function(g,c,_,w){return w.compare(c,_)<=0}),pd=Bc(">=",function(g,c,_){return c>=_},function(g,c,_,w){return w.compare(c,_)>=0});class Hl{constructor(c,_,w,I,F){this.type=me,this.number=c,this.locale=_,this.currency=w,this.minFractionDigits=I,this.maxFractionDigits=F}static parse(c,_){if(3!==c.length)return _.error("Expected two arguments.");const w=_.parse(c[1],1,se);if(!w)return null;const I=c[2];if("object"!=typeof I||Array.isArray(I))return _.error("NumberFormat options argument must be an object.");let F=null;if(I.locale&&(F=_.parse(I.locale,1,me),!F))return null;let B=null;if(I.currency&&(B=_.parse(I.currency,1,me),!B))return null;let Q=null;if(I["min-fraction-digits"]&&(Q=_.parse(I["min-fraction-digits"],1,se),!Q))return null;let ne=null;return I["max-fraction-digits"]&&(ne=_.parse(I["max-fraction-digits"],1,se),!ne)?null:new Hl(w,F,B,Q,ne)}evaluate(c){return new Intl.NumberFormat(this.locale?this.locale.evaluate(c):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(c):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(c):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(c):void 0}).format(this.number.evaluate(c))}eachChild(c){c(this.number),this.locale&&c(this.locale),this.currency&&c(this.currency),this.minFractionDigits&&c(this.minFractionDigits),this.maxFractionDigits&&c(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const c={};return this.locale&&(c.locale=this.locale.serialize()),this.currency&&(c.currency=this.currency.serialize()),this.minFractionDigits&&(c["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(c["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),c]}}class va{constructor(c){this.type=se,this.input=c}static parse(c,_){if(2!==c.length)return _.error(`Expected 1 argument, but found ${c.length-1} instead.`);const w=_.parse(c[1],1);return w?"array"!==w.type.kind&&"string"!==w.type.kind&&"value"!==w.type.kind?_.error(`Expected argument of type string or array, but found ${Oe(w.type)} instead.`):new va(w):null}evaluate(c){const _=this.input.evaluate(c);if("string"==typeof _||Array.isArray(_))return _.length;throw new ys(`Expected value to be of type string or array, but found ${Oe(_s(_))} instead.`)}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){const c=["length"];return this.eachChild(_=>{c.push(_.serialize())}),c}}const _o={"==":Lu,"!=":Un,">":vh,"<":us,">=":pd,"<=":fo,array:ia,at:yh,boolean:ia,case:hd,coalesce:tu,collator:Qh,format:Js,image:Fo,in:Kl,"index-of":Ji,interpolate:$o,"interpolate-hcl":$o,"interpolate-lab":$o,length:va,let:kl,literal:Jr,match:Iu,number:ia,"number-format":Hl,object:ia,slice:ec,step:Na,string:ia,"to-boolean":Cl,"to-color":Cl,"to-number":Cl,"to-string":Cl,var:Yd,within:Yl};function Os(g,[c,_,w,I]){c=c.evaluate(g),_=_.evaluate(g),w=w.evaluate(g);const F=I?I.evaluate(g):1,B=Tr(c,_,w,F);if(B)throw new ys(B);return new Pn(c/255*F,_/255*F,w/255*F,F)}function bh(g,c){return g in c}function rp(g,c){const _=c[g];return void 0===_?null:_}function $a(g){return{type:g}}function Cc(g){return{result:"success",value:g}}function no(g){return{result:"error",value:g}}function sa(g){return"data-driven"===g["property-type"]||"cross-faded-data-driven"===g["property-type"]}function Vd(g){return!!g.expression&&g.expression.parameters.indexOf("zoom")>-1}function tc(g){return!!g.expression&&g.expression.interpolated}function hr(g){return g instanceof Number?"number":g instanceof String?"string":g instanceof Boolean?"boolean":Array.isArray(g)?"array":null===g?"null":typeof g}function Lp(g){return"object"==typeof g&&null!==g&&!Array.isArray(g)}function xh(g){return g}function Pu(g,c){const _="color"===c.type,w=g.stops&&"object"==typeof g.stops[0][0],I=w||!(w||void 0!==g.property),F=g.type||(tc(c)?"exponential":"interval");if(_&&((g=N({},g)).stops&&(g.stops=g.stops.map(he=>[he[0],Pn.parse(he[1])])),g.default=Pn.parse(g.default?g.default:c.default)),g.colorSpace&&"rgb"!==g.colorSpace&&!ss[g.colorSpace])throw new Error(`Unknown color space: ${g.colorSpace}`);let B,Q,ne;if("exponential"===F)B=wh;else if("interval"===F)B=nc;else if("categorical"===F){B=No,Q=Object.create(null);for(const he of g.stops)Q[he[0]]=he[1];ne=typeof g.stops[0][0]}else{if("identity"!==F)throw new Error(`Unknown function type "${F}"`);B=ru}if(w){const he={},ye=[];for(let Ye=0;Ye<g.stops.length;Ye++){const Qe=g.stops[Ye],mt=Qe[0].zoom;void 0===he[mt]&&(he[mt]={zoom:mt,type:g.type,property:g.property,default:g.default,stops:[]},ye.push(mt)),he[mt].stops.push([Qe[0].value,Qe[1]])}const we=[];for(const Ye of ye)we.push([he[Ye].zoom,Pu(he[Ye],c)]);const Ie={name:"linear"};return{kind:"composite",interpolationType:Ie,interpolationFactor:$o.interpolationFactor.bind(void 0,Ie),zoomStops:we.map(Ye=>Ye[0]),evaluate:({zoom:Ye},Qe)=>wh({stops:we,base:g.base},c,Ye).evaluate(Ye,Qe)}}if(I){const he="exponential"===F?{name:"exponential",base:void 0!==g.base?g.base:1}:null;return{kind:"camera",interpolationType:he,interpolationFactor:$o.interpolationFactor.bind(void 0,he),zoomStops:g.stops.map(ye=>ye[0]),evaluate:({zoom:ye})=>B(g,c,ye,Q,ne)}}return{kind:"source",evaluate(he,ye){const we=ye&&ye.properties?ye.properties[g.property]:void 0;return void 0===we?iu(g.default,c.default):B(g,c,we,Q,ne)}}}function iu(g,c,_){return void 0!==g?g:void 0!==c?c:void 0!==_?_:void 0}function No(g,c,_,w,I){return iu(typeof _===I?w[_]:void 0,g.default,c.default)}function nc(g,c,_){if("number"!==hr(_))return iu(g.default,c.default);const w=g.stops.length;if(1===w||_<=g.stops[0][0])return g.stops[0][1];if(_>=g.stops[w-1][0])return g.stops[w-1][1];const I=ra(g.stops.map(F=>F[0]),_);return g.stops[I][1]}function wh(g,c,_){const w=void 0!==g.base?g.base:1;if("number"!==hr(_))return iu(g.default,c.default);const I=g.stops.length;if(1===I||_<=g.stops[0][0])return g.stops[0][1];if(_>=g.stops[I-1][0])return g.stops[I-1][1];const F=ra(g.stops.map(ye=>ye[0]),_),B=function(ye,we,Ie,Ye){const Qe=Ye-Ie,mt=ye-Ie;return 0===Qe?0:1===we?mt/Qe:(Math.pow(we,mt)-1)/(Math.pow(we,Qe)-1)}(_,w,g.stops[F][0],g.stops[F+1][0]),Q=g.stops[F][1],ne=g.stops[F+1][1];let he=xc[c.type]||xh;if(g.colorSpace&&"rgb"!==g.colorSpace){const ye=ss[g.colorSpace];he=(we,Ie)=>ye.reverse(ye.interpolate(ye.forward(we),ye.forward(Ie),B))}return"function"==typeof Q.evaluate?{evaluate(...ye){const we=Q.evaluate.apply(void 0,ye),Ie=ne.evaluate.apply(void 0,ye);if(void 0!==we&&void 0!==Ie)return he(we,Ie,B)}}:he(Q,ne,B)}function ru(g,c,_){return"color"===c.type?_=Pn.parse(_):"formatted"===c.type?_=fi.fromString(_.toString()):"resolvedImage"===c.type?_=Oi.fromString(_.toString()):hr(_)===c.type||"enum"===c.type&&c.values[_]||(_=void 0),iu(_,g.default,c.default)}cl.register(_o,{error:[{kind:"error"},[me],(g,[c])=>{throw new ys(c.evaluate(g))}],typeof:[me,[je],(g,[c])=>Oe(_s(c.evaluate(g)))],"to-rgba":[ue(se,4),[Ae],(g,[c])=>c.evaluate(g).toArray()],rgb:[Ae,[se,se,se],Os],rgba:[Ae,[se,se,se,se],Os],has:{type:Ee,overloads:[[[me],(g,[c])=>bh(c.evaluate(g),g.properties())],[[me,Re],(g,[c,_])=>bh(c.evaluate(g),_.evaluate(g))]]},get:{type:je,overloads:[[[me],(g,[c])=>rp(c.evaluate(g),g.properties())],[[me,Re],(g,[c,_])=>rp(c.evaluate(g),_.evaluate(g))]]},"feature-state":[je,[me],(g,[c])=>rp(c.evaluate(g),g.featureState||{})],properties:[Re,[],g=>g.properties()],"geometry-type":[me,[],g=>g.geometryType()],id:[je,[],g=>g.id()],zoom:[se,[],g=>g.globals.zoom],"heatmap-density":[se,[],g=>g.globals.heatmapDensity||0],"line-progress":[se,[],g=>g.globals.lineProgress||0],"sky-radial-progress":[se,[],g=>g.globals.skyRadialProgress||0],accumulated:[je,[],g=>void 0===g.globals.accumulated?null:g.globals.accumulated],"+":[se,$a(se),(g,c)=>{let _=0;for(const w of c)_+=w.evaluate(g);return _}],"*":[se,$a(se),(g,c)=>{let _=1;for(const w of c)_*=w.evaluate(g);return _}],"-":{type:se,overloads:[[[se,se],(g,[c,_])=>c.evaluate(g)-_.evaluate(g)],[[se],(g,[c])=>-c.evaluate(g)]]},"/":[se,[se,se],(g,[c,_])=>c.evaluate(g)/_.evaluate(g)],"%":[se,[se,se],(g,[c,_])=>c.evaluate(g)%_.evaluate(g)],ln2:[se,[],()=>Math.LN2],pi:[se,[],()=>Math.PI],e:[se,[],()=>Math.E],"^":[se,[se,se],(g,[c,_])=>Math.pow(c.evaluate(g),_.evaluate(g))],sqrt:[se,[se],(g,[c])=>Math.sqrt(c.evaluate(g))],log10:[se,[se],(g,[c])=>Math.log(c.evaluate(g))/Math.LN10],ln:[se,[se],(g,[c])=>Math.log(c.evaluate(g))],log2:[se,[se],(g,[c])=>Math.log(c.evaluate(g))/Math.LN2],sin:[se,[se],(g,[c])=>Math.sin(c.evaluate(g))],cos:[se,[se],(g,[c])=>Math.cos(c.evaluate(g))],tan:[se,[se],(g,[c])=>Math.tan(c.evaluate(g))],asin:[se,[se],(g,[c])=>Math.asin(c.evaluate(g))],acos:[se,[se],(g,[c])=>Math.acos(c.evaluate(g))],atan:[se,[se],(g,[c])=>Math.atan(c.evaluate(g))],min:[se,$a(se),(g,c)=>Math.min(...c.map(_=>_.evaluate(g)))],max:[se,$a(se),(g,c)=>Math.max(...c.map(_=>_.evaluate(g)))],abs:[se,[se],(g,[c])=>Math.abs(c.evaluate(g))],round:[se,[se],(g,[c])=>{const _=c.evaluate(g);return _<0?-Math.round(-_):Math.round(_)}],floor:[se,[se],(g,[c])=>Math.floor(c.evaluate(g))],ceil:[se,[se],(g,[c])=>Math.ceil(c.evaluate(g))],"filter-==":[Ee,[me,je],(g,[c,_])=>g.properties()[c.value]===_.value],"filter-id-==":[Ee,[je],(g,[c])=>g.id()===c.value],"filter-type-==":[Ee,[me],(g,[c])=>g.geometryType()===c.value],"filter-<":[Ee,[me,je],(g,[c,_])=>{const w=g.properties()[c.value],I=_.value;return typeof w==typeof I&&w<I}],"filter-id-<":[Ee,[je],(g,[c])=>{const _=g.id(),w=c.value;return typeof _==typeof w&&_<w}],"filter->":[Ee,[me,je],(g,[c,_])=>{const w=g.properties()[c.value],I=_.value;return typeof w==typeof I&&w>I}],"filter-id->":[Ee,[je],(g,[c])=>{const _=g.id(),w=c.value;return typeof _==typeof w&&_>w}],"filter-<=":[Ee,[me,je],(g,[c,_])=>{const w=g.properties()[c.value],I=_.value;return typeof w==typeof I&&w<=I}],"filter-id-<=":[Ee,[je],(g,[c])=>{const _=g.id(),w=c.value;return typeof _==typeof w&&_<=w}],"filter->=":[Ee,[me,je],(g,[c,_])=>{const w=g.properties()[c.value],I=_.value;return typeof w==typeof I&&w>=I}],"filter-id->=":[Ee,[je],(g,[c])=>{const _=g.id(),w=c.value;return typeof _==typeof w&&_>=w}],"filter-has":[Ee,[je],(g,[c])=>c.value in g.properties()],"filter-has-id":[Ee,[],g=>null!==g.id()&&void 0!==g.id()],"filter-type-in":[Ee,[ue(me)],(g,[c])=>c.value.indexOf(g.geometryType())>=0],"filter-id-in":[Ee,[ue(je)],(g,[c])=>c.value.indexOf(g.id())>=0],"filter-in-small":[Ee,[me,ue(je)],(g,[c,_])=>_.value.indexOf(g.properties()[c.value])>=0],"filter-in-large":[Ee,[me,ue(je)],(g,[c,_])=>function(w,I,F,B){for(;F<=B;){const Q=F+B>>1;if(I[Q]===w)return!0;I[Q]>w?B=Q-1:F=Q+1}return!1}(g.properties()[c.value],_.value,0,_.value.length-1)],all:{type:Ee,overloads:[[[Ee,Ee],(g,[c,_])=>c.evaluate(g)&&_.evaluate(g)],[$a(Ee),(g,c)=>{for(const _ of c)if(!_.evaluate(g))return!1;return!0}]]},any:{type:Ee,overloads:[[[Ee,Ee],(g,[c,_])=>c.evaluate(g)||_.evaluate(g)],[$a(Ee),(g,c)=>{for(const _ of c)if(_.evaluate(g))return!0;return!1}]]},"!":[Ee,[Ee],(g,[c])=>!c.evaluate(g)],"is-supported-script":[Ee,[me],(g,[c])=>{const _=g.globals&&g.globals.isSupportedScript;return!_||_(c.evaluate(g))}],upcase:[me,[me],(g,[c])=>c.evaluate(g).toUpperCase()],downcase:[me,[me],(g,[c])=>c.evaluate(g).toLowerCase()],concat:[me,$a(je),(g,c)=>c.map(_=>Zi(_.evaluate(g))).join("")],"resolved-locale":[me,[it],(g,[c])=>c.evaluate(g).resolvedLocale()]});class Hd{constructor(c,_){var w;this.expression=c,this._warningHistory={},this._evaluator=new Rd,this._defaultValue=_?"color"===(w=_).type&&Lp(w.default)?new Pn(0,0,0,0):"color"===w.type?Pn.parse(w.default)||null:void 0===w.default?null:w.default:null,this._enumValues=_&&"enum"===_.type?_.values:null}evaluateWithoutErrorHandling(c,_,w,I,F,B){return this._evaluator.globals=c,this._evaluator.feature=_,this._evaluator.featureState=w,this._evaluator.canonical=I,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=B,this.expression.evaluate(this._evaluator)}evaluate(c,_,w,I,F,B){this._evaluator.globals=c,this._evaluator.feature=_||null,this._evaluator.featureState=w||null,this._evaluator.canonical=I,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=B||null;try{const Q=this.expression.evaluate(this._evaluator);if(null==Q||"number"==typeof Q&&Q!=Q)return this._defaultValue;if(this._enumValues&&!(Q in this._enumValues))throw new ys(`Expected value to be one of ${Object.keys(this._enumValues).map(ne=>JSON.stringify(ne)).join(", ")}, but found ${JSON.stringify(Q)} instead.`);return Q}catch(Q){return this._warningHistory[Q.message]||(this._warningHistory[Q.message]=!0,"undefined"!=typeof console&&console.warn(Q.message)),this._defaultValue}}}function oa(g){return Array.isArray(g)&&g.length>0&&"string"==typeof g[0]&&g[0]in _o}function Xo(g,c){const _=new ud(_o,[],c?function(I){const F={color:Ae,string:me,number:se,enum:me,boolean:Ee,formatted:_t,resolvedImage:$};return"array"===I.type?ue(F[I.value]||je,I.length):F[I.type]}(c):void 0),w=_.parse(g,void 0,void 0,void 0,c&&"string"===c.type?{typeAnnotation:"coerce"}:void 0);return w?Cc(new Hd(w,c)):no(_.errors)}class ic{constructor(c,_){this.kind=c,this._styleExpression=_,this.isStateDependent="constant"!==c&&!cd(_.expression)}evaluateWithoutErrorHandling(c,_,w,I,F,B){return this._styleExpression.evaluateWithoutErrorHandling(c,_,w,I,F,B)}evaluate(c,_,w,I,F,B){return this._styleExpression.evaluate(c,_,w,I,F,B)}}class Mc{constructor(c,_,w,I){this.kind=c,this.zoomStops=w,this._styleExpression=_,this.isStateDependent="camera"!==c&&!cd(_.expression),this.interpolationType=I}evaluateWithoutErrorHandling(c,_,w,I,F,B){return this._styleExpression.evaluateWithoutErrorHandling(c,_,w,I,F,B)}evaluate(c,_,w,I,F,B){return this._styleExpression.evaluate(c,_,w,I,F,B)}interpolationFactor(c,_,w){return this.interpolationType?$o.interpolationFactor(this.interpolationType,c,_,w):0}}function Pp(g,c){if("error"===(g=Xo(g,c)).result)return g;const _=g.value.expression,w=zd(_);if(!w&&!sa(c))return no([new Z("","data expressions not supported")]);const I=kr(_,["zoom"]);if(!I&&!Vd(c))return no([new Z("","zoom expressions not supported")]);const F=Xa(_);return F||I?F instanceof Z?no([F]):F instanceof $o&&!tc(c)?no([new Z("",'"interpolate" expressions cannot be used with this property')]):Cc(F?new Mc(w?"camera":"composite",g.value,F.labels,F instanceof $o?F.interpolation:void 0):new ic(w?"constant":"source",g.value)):no([new Z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ud{constructor(c,_){this._parameters=c,this._specification=_,N(this,Pu(this._parameters,this._specification))}static deserialize(c){return new Ud(c._parameters,c._specification)}static serialize(c){return{_parameters:c._parameters,_specification:c._specification}}}function Xa(g){let c=null;if(g instanceof kl)c=Xa(g.result);else if(g instanceof tu){for(const _ of g.args)if(c=Xa(_),c)break}else(g instanceof Na||g instanceof $o)&&g.input instanceof cl&&"zoom"===g.input.name&&(c=g);return c instanceof Z||g.eachChild(_=>{const w=Xa(_);w instanceof Z?c=w:!c&&w?c=new Z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):c&&w&&c!==w&&(c=new Z("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),c}function rc(g){const c=g.key,_=g.value,w=g.valueSpec||{},I=g.objectElementValidators||{},F=g.style,B=g.styleSpec;let Q=[];const ne=hr(_);if("object"!==ne)return[new M(c,_,`object expected, ${ne} found`)];for(const he in _){const ye=he.split(".")[0],we=w[ye]||w["*"];let Ie;if(I[ye])Ie=I[ye];else if(w[ye])Ie=Us;else if(I["*"])Ie=I["*"];else{if(!w["*"]){Q.push(new M(c,_[he],`unknown property "${he}"`));continue}Ie=Us}Q=Q.concat(Ie({key:(c&&`${c}.`)+he,value:_[he],valueSpec:we,style:F,styleSpec:B,object:_,objectKey:he},_))}for(const he in w)I[he]||w[he].required&&void 0===w[he].default&&void 0===_[he]&&Q.push(new M(c,_,`missing required property "${he}"`));return Q}function fd(g){const c=g.value,_=g.valueSpec,w=g.style,I=g.styleSpec,F=g.key,B=g.arrayElementValidator||Us;if("array"!==hr(c))return[new M(F,c,`array expected, ${hr(c)} found`)];if(_.length&&c.length!==_.length)return[new M(F,c,`array length ${_.length} expected, length ${c.length} found`)];if(_["min-length"]&&c.length<_["min-length"])return[new M(F,c,`array length at least ${_["min-length"]} expected, length ${c.length} found`)];let Q={type:_.value,values:_.values,minimum:_.minimum,maximum:_.maximum};I.$version<7&&(Q.function=_.function),"object"===hr(_.value)&&(Q=_.value);let ne=[];for(let he=0;he<c.length;he++)ne=ne.concat(B({array:c,arrayIndex:he,value:c[he],valueSpec:Q,style:w,styleSpec:I,key:`${F}[${he}]`}));return ne}function qt(g){const c=g.key,_=g.value,w=g.valueSpec;let I=hr(_);if("number"===I&&_!=_&&(I="NaN"),"number"!==I)return[new M(c,_,`number expected, ${I} found`)];if("minimum"in w){let F=w.minimum;if("array"===hr(w.minimum)&&(F=w.minimum[g.arrayIndex]),_<F)return[new M(c,_,`${_} is less than the minimum value ${F}`)]}if("maximum"in w){let F=w.maximum;if("array"===hr(w.maximum)&&(F=w.maximum[g.arrayIndex]),_>F)return[new M(c,_,`${_} is greater than the maximum value ${F}`)]}return[]}function kn(g){const c=g.valueSpec,_=O(g.value.type);let w,I,F,B={};const Q="categorical"!==_&&void 0===g.value.property,ne=!Q,he="array"===hr(g.value.stops)&&"array"===hr(g.value.stops[0])&&"object"===hr(g.value.stops[0][0]),ye=rc({key:g.key,value:g.value,valueSpec:g.styleSpec.function,style:g.style,styleSpec:g.styleSpec,objectElementValidators:{stops:function(Ye){if("identity"===_)return[new M(Ye.key,Ye.value,'identity function may not have a "stops" property')];let Qe=[];const mt=Ye.value;return Qe=Qe.concat(fd({key:Ye.key,value:mt,valueSpec:Ye.valueSpec,style:Ye.style,styleSpec:Ye.styleSpec,arrayElementValidator:we})),"array"===hr(mt)&&0===mt.length&&Qe.push(new M(Ye.key,mt,"array must have at least one stop")),Qe},default:function(Ye){return Us({key:Ye.key,value:Ye.value,valueSpec:c,style:Ye.style,styleSpec:Ye.styleSpec})}}});return"identity"===_&&Q&&ye.push(new M(g.key,g.value,'missing required property "property"')),"identity"===_||g.value.stops||ye.push(new M(g.key,g.value,'missing required property "stops"')),"exponential"===_&&g.valueSpec.expression&&!tc(g.valueSpec)&&ye.push(new M(g.key,g.value,"exponential functions not supported")),g.styleSpec.$version>=8&&(ne&&!sa(g.valueSpec)?ye.push(new M(g.key,g.value,"property functions not supported")):Q&&!Vd(g.valueSpec)&&ye.push(new M(g.key,g.value,"zoom functions not supported"))),"categorical"!==_&&!he||void 0!==g.value.property||ye.push(new M(g.key,g.value,'"property" property is required')),ye;function we(Ye){let Qe=[];const mt=Ye.value,Et=Ye.key;if("array"!==hr(mt))return[new M(Et,mt,`array expected, ${hr(mt)} found`)];if(2!==mt.length)return[new M(Et,mt,`array length 2 expected, length ${mt.length} found`)];if(he){if("object"!==hr(mt[0]))return[new M(Et,mt,`object expected, ${hr(mt[0])} found`)];if(void 0===mt[0].zoom)return[new M(Et,mt,"object stop key must have zoom")];if(void 0===mt[0].value)return[new M(Et,mt,"object stop key must have value")];if(F&&F>O(mt[0].zoom))return[new M(Et,mt[0].zoom,"stop zoom values must appear in ascending order")];O(mt[0].zoom)!==F&&(F=O(mt[0].zoom),I=void 0,B={}),Qe=Qe.concat(rc({key:`${Et}[0]`,value:mt[0],valueSpec:{zoom:{}},style:Ye.style,styleSpec:Ye.styleSpec,objectElementValidators:{zoom:qt,value:Ie}}))}else Qe=Qe.concat(Ie({key:`${Et}[0]`,value:mt[0],valueSpec:{},style:Ye.style,styleSpec:Ye.styleSpec},mt));return oa(j(mt[1]))?Qe.concat([new M(`${Et}[1]`,mt[1],"expressions are not allowed in function stops.")]):Qe.concat(Us({key:`${Et}[1]`,value:mt[1],valueSpec:c,style:Ye.style,styleSpec:Ye.styleSpec}))}function Ie(Ye,Qe){const mt=hr(Ye.value),Et=O(Ye.value),Yt=null!==Ye.value?Ye.value:Qe;if(w){if(mt!==w)return[new M(Ye.key,Yt,`${mt} stop domain type must match previous stop domain type ${w}`)]}else w=mt;if("number"!==mt&&"string"!==mt&&"boolean"!==mt)return[new M(Ye.key,Yt,"stop domain value must be a number, string, or boolean")];if("number"!==mt&&"categorical"!==_){let tn=`number expected, ${mt} found`;return sa(c)&&void 0===_&&(tn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new M(Ye.key,Yt,tn)]}return"categorical"!==_||"number"!==mt||isFinite(Et)&&Math.floor(Et)===Et?"categorical"!==_&&"number"===mt&&void 0!==I&&Et<I?[new M(Ye.key,Yt,"stop domain values must appear in ascending order")]:(I=Et,"categorical"===_&&Et in B?[new M(Ye.key,Yt,"stop domain values must be unique")]:(B[Et]=!0,[])):[new M(Ye.key,Yt,`integer expected, found ${Et}`)]}}function pn(g){const c=("property"===g.expressionContext?Pp:Xo)(j(g.value),g.valueSpec);if("error"===c.result)return c.value.map(w=>new M(`${g.key}${w.key}`,g.value,w.message));const _=c.value.expression||c.value._styleExpression.expression;if("property"===g.expressionContext&&"text-font"===g.propertyKey&&!_.outputDefined())return[new M(g.key,g.value,`Invalid data expression for "${g.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===g.expressionContext&&"layout"===g.propertyType&&!cd(_))return[new M(g.key,g.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===g.expressionContext&&!cd(_))return[new M(g.key,g.value,'"feature-state" data expressions are not supported with filters.')];if(g.expressionContext&&0===g.expressionContext.indexOf("cluster")){if(!kr(_,["zoom","feature-state"]))return[new M(g.key,g.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===g.expressionContext&&!zd(_))return[new M(g.key,g.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ci(g){const c=g.key,_=g.value,w=g.valueSpec,I=[];return Array.isArray(w.values)?-1===w.values.indexOf(O(_))&&I.push(new M(c,_,`expected one of [${w.values.join(", ")}], ${JSON.stringify(_)} found`)):-1===Object.keys(w.values).indexOf(O(_))&&I.push(new M(c,_,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(_)} found`)),I}function Ki(g){if(!0===g||!1===g)return!0;if(!Array.isArray(g)||0===g.length)return!1;switch(g[0]){case"has":return g.length>=2&&"$id"!==g[1]&&"$type"!==g[1];case"in":return g.length>=3&&("string"!=typeof g[1]||Array.isArray(g[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==g.length||Array.isArray(g[1])||Array.isArray(g[2]);case"any":case"all":for(const c of g.slice(1))if(!Ki(c)&&"boolean"!=typeof c)return!1;return!0;default:return!0}}const Cr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ws(g){if(null==g)return{filter:()=>!0,needGeometry:!1};Ki(g)||(g=sc(g));const c=Xo(g,Cr);if("error"===c.result)throw new Error(c.value.map(_=>`${_.key}: ${_.message}`).join(", "));return{filter:(_,w,I)=>c.value.evaluate(_,w,{},I),needGeometry:aa(g)}}function Ur(g,c){return g<c?-1:g>c?1:0}function aa(g){if(!Array.isArray(g))return!1;if("within"===g[0])return!0;for(let c=1;c<g.length;c++)if(aa(g[c]))return!0;return!1}function sc(g){if(!g)return!0;const c=g[0];return g.length<=1?"any"!==c:"=="===c?zo(g[1],g[2],"=="):"!="===c?Ya(zo(g[1],g[2],"==")):"<"===c||">"===c||"<="===c||">="===c?zo(g[1],g[2],c):"any"===c?(_=g.slice(1),["any"].concat(_.map(sc))):"all"===c?["all"].concat(g.slice(1).map(sc)):"none"===c?["all"].concat(g.slice(1).map(sc).map(Ya)):"in"===c?su(g[1],g.slice(2)):"!in"===c?Ya(su(g[1],g.slice(2))):"has"===c?jd(g[1]):"!has"===c?Ya(jd(g[1])):"within"!==c||g;var _}function zo(g,c,_){switch(g){case"$type":return[`filter-type-${_}`,c];case"$id":return[`filter-id-${_}`,c];default:return[`filter-${_}`,g,c]}}function su(g,c){if(0===c.length)return!1;switch(g){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(_=>typeof _!=typeof c[0])?["filter-in-large",g,["literal",c.sort(Ur)]]:["filter-in-small",g,["literal",c]]}}function jd(g){switch(g){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",g]}}function Ya(g){return["!",g]}function Vc(g){return Ki(j(g.value))?pn(N({},g,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Yo(g)}function Yo(g){const c=g.value,_=g.key;if("array"!==hr(c))return[new M(_,c,`array expected, ${hr(c)} found`)];const w=g.styleSpec;let I,F=[];if(c.length<1)return[new M(_,c,"filter array must have at least 1 element")];switch(F=F.concat(Ci({key:`${_}[0]`,value:c[0],valueSpec:w.filter_operator,style:g.style,styleSpec:g.styleSpec})),O(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&"$type"===O(c[1])&&F.push(new M(_,c,`"$type" cannot be use with operator "${c[0]}"`));case"==":case"!=":3!==c.length&&F.push(new M(_,c,`filter array for operator "${c[0]}" must have 3 elements`));case"in":case"!in":c.length>=2&&(I=hr(c[1]),"string"!==I&&F.push(new M(`${_}[1]`,c[1],`string expected, ${I} found`)));for(let B=2;B<c.length;B++)I=hr(c[B]),"$type"===O(c[1])?F=F.concat(Ci({key:`${_}[${B}]`,value:c[B],valueSpec:w.geometry_type,style:g.style,styleSpec:g.styleSpec})):"string"!==I&&"number"!==I&&"boolean"!==I&&F.push(new M(`${_}[${B}]`,c[B],`string, number, or boolean expected, ${I} found`));break;case"any":case"all":case"none":for(let B=1;B<c.length;B++)F=F.concat(Yo({key:`${_}[${B}]`,value:c[B],style:g.style,styleSpec:g.styleSpec}));break;case"has":case"!has":I=hr(c[1]),2!==c.length?F.push(new M(_,c,`filter array for "${c[0]}" operator must have 2 elements`)):"string"!==I&&F.push(new M(`${_}[1]`,c[1],`string expected, ${I} found`));break;case"within":I=hr(c[1]),2!==c.length?F.push(new M(_,c,`filter array for "${c[0]}" operator must have 2 elements`)):"object"!==I&&F.push(new M(`${_}[1]`,c[1],`object expected, ${I} found`))}return F}function Mr(g,c){const _=g.key,w=g.style,I=g.styleSpec,F=g.value,B=g.objectKey,Q=I[`${c}_${g.layerType}`];if(!Q)return[];const ne=B.match(/^(.*)-transition$/);if("paint"===c&&ne&&Q[ne[1]]&&Q[ne[1]].transition)return Us({key:_,value:F,valueSpec:I.transition,style:w,styleSpec:I});const he=g.valueSpec||Q[B];if(!he)return[new M(_,F,`unknown property "${B}"`)];let ye;if("string"===hr(F)&&sa(he)&&!he.tokens&&(ye=/^{([^}]+)}$/.exec(F)))return[new M(_,F,`"${B}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ye[1])} }\`.`)];const we=[];return"symbol"===g.layerType&&("text-field"===B&&w&&!w.glyphs&&we.push(new M(_,F,'use of "text-field" requires a style "glyphs" property')),"text-font"===B&&Lp(j(F))&&"identity"===O(F.type)&&we.push(new M(_,F,'"text-font" does not support identity functions'))),we.concat(Us({key:g.key,value:F,valueSpec:he,style:w,styleSpec:I,expressionContext:"property",propertyType:c,propertyKey:B}))}function ou(g){return Mr(g,"paint")}function sp(g){return Mr(g,"layout")}function oc(g){let c=[];const _=g.value,w=g.key,I=g.style,F=g.styleSpec;_.type||_.ref||c.push(new M(w,_,'either "type" or "ref" is required'));let B=O(_.type);const Q=O(_.ref);if(_.id){const ne=O(_.id);for(let he=0;he<g.arrayIndex;he++){const ye=I.layers[he];O(ye.id)===ne&&c.push(new M(w,_.id,`duplicate layer id "${_.id}", previously used at line ${ye.id.__line__}`))}}if("ref"in _){let ne;["type","source","source-layer","filter","layout"].forEach(he=>{he in _&&c.push(new M(w,_[he],`"${he}" is prohibited for ref layers`))}),I.layers.forEach(he=>{O(he.id)===Q&&(ne=he)}),ne?ne.ref?c.push(new M(w,_.ref,"ref cannot reference another ref layer")):B=O(ne.type):c.push(new M(w,_.ref,`ref layer "${Q}" not found`))}else if("background"!==B&&"sky"!==B)if(_.source){const ne=I.sources&&I.sources[_.source],he=ne&&O(ne.type);ne?"vector"===he&&"raster"===B?c.push(new M(w,_.source,`layer "${_.id}" requires a raster source`)):"raster"===he&&"raster"!==B?c.push(new M(w,_.source,`layer "${_.id}" requires a vector source`)):"vector"!==he||_["source-layer"]?"raster-dem"===he&&"hillshade"!==B?c.push(new M(w,_.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==B||!_.paint||!_.paint["line-gradient"]||"geojson"===he&&ne.lineMetrics||c.push(new M(w,_,`layer "${_.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):c.push(new M(w,_,`layer "${_.id}" must specify a "source-layer"`)):c.push(new M(w,_.source,`source "${_.source}" not found`))}else c.push(new M(w,_,'missing required property "source"'));return c=c.concat(rc({key:w,value:_,valueSpec:F.layer,style:g.style,styleSpec:g.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Us({key:`${w}.type`,value:_.type,valueSpec:F.layer.type,style:g.style,styleSpec:g.styleSpec,object:_,objectKey:"type"}),filter:Vc,layout:ne=>rc({layer:_,key:ne.key,value:ne.value,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{"*":he=>sp(N({layerType:B},he))}}),paint:ne=>rc({layer:_,key:ne.key,value:ne.value,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{"*":he=>ou(N({layerType:B},he))}})}})),c}function Ou(g){const c=g.value,_=g.key,w=hr(c);return"string"!==w?[new M(_,c,`string expected, ${w} found`)]:[]}const op={promoteId:function({key:g,value:c}){if("string"===hr(c))return Ou({key:g,value:c});{const _=[];for(const w in c)_.push(...Ou({key:`${g}.${w}`,value:c[w]}));return _}}};function Op(g){const c=g.value,_=g.key,w=g.styleSpec,I=g.style;if(!c.type)return[new M(_,c,'"type" is required')];const F=O(c.type);let B;switch(F){case"vector":case"raster":case"raster-dem":return B=rc({key:_,value:c,valueSpec:w[`source_${F.replace("-","_")}`],style:g.style,styleSpec:w,objectElementValidators:op}),B;case"geojson":if(B=rc({key:_,value:c,valueSpec:w.source_geojson,style:I,styleSpec:w,objectElementValidators:op}),c.cluster)for(const Q in c.clusterProperties){const[ne,he]=c.clusterProperties[Q],ye="string"==typeof ne?[ne,["accumulated"],["get",Q]]:ne;B.push(...pn({key:`${_}.${Q}.map`,value:he,expressionContext:"cluster-map"})),B.push(...pn({key:`${_}.${Q}.reduce`,value:ye,expressionContext:"cluster-reduce"}))}return B;case"video":return rc({key:_,value:c,valueSpec:w.source_video,style:I,styleSpec:w});case"image":return rc({key:_,value:c,valueSpec:w.source_image,style:I,styleSpec:w});case"canvas":return[new M(_,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ci({key:`${_}.type`,value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:I,styleSpec:w})}}function ap(g){const c=g.value,_=g.styleSpec,w=_.light,I=g.style;let F=[];const B=hr(c);if(void 0===c)return F;if("object"!==B)return F=F.concat([new M("light",c,`object expected, ${B} found`)]),F;for(const Q in c){const ne=Q.match(/^(.*)-transition$/);F=F.concat(ne&&w[ne[1]]&&w[ne[1]].transition?Us({key:Q,value:c[Q],valueSpec:_.transition,style:I,styleSpec:_}):w[Q]?Us({key:Q,value:c[Q],valueSpec:w[Q],style:I,styleSpec:_}):[new M(Q,c[Q],`unknown property "${Q}"`)])}return F}function au(g){const c=g.value,_=g.key,w=g.style,I=g.styleSpec,F=I.terrain;let B=[];const Q=hr(c);if(void 0===c)return B;if("object"!==Q)return B=B.concat([new M("terrain",c,`object expected, ${Q} found`)]),B;for(const ne in c){const he=ne.match(/^(.*)-transition$/);B=B.concat(he&&F[he[1]]&&F[he[1]].transition?Us({key:ne,value:c[ne],valueSpec:I.transition,style:w,styleSpec:I}):F[ne]?Us({key:ne,value:c[ne],valueSpec:F[ne],style:w,styleSpec:I}):[new M(ne,c[ne],`unknown property "${ne}"`)])}if(c.source){const ne=w.sources&&w.sources[c.source],he=ne&&O(ne.type);ne?"raster-dem"!==he&&B.push(new M(_,c.source,`terrain cannot be used with a source of type ${he}, it only be used with a "raster-dem" source type`)):B.push(new M(_,c.source,`source "${c.source}" not found`))}else B.push(new M(_,c,'terrain is missing required property "source"'));return B}function md(g){const c=g.value,_=g.style,w=g.styleSpec,I=w.fog;let F=[];const B=hr(c);if(void 0===c)return F;if("object"!==B)return F=F.concat([new M("fog",c,`object expected, ${B} found`)]),F;for(const Q in c){const ne=Q.match(/^(.*)-transition$/);F=F.concat(ne&&I[ne[1]]&&I[ne[1]].transition?Us({key:Q,value:c[Q],valueSpec:w.transition,style:_,styleSpec:w}):I[Q]?Us({key:Q,value:c[Q],valueSpec:I[Q],style:_,styleSpec:w}):[new M(Q,c[Q],`unknown property "${Q}"`)])}return F}const lp={"*":()=>[],array:fd,boolean:function(g){const c=g.value,_=g.key,w=hr(c);return"boolean"!==w?[new M(_,c,`boolean expected, ${w} found`)]:[]},number:qt,color:function(g){const c=g.key,_=g.value,w=hr(_);return"string"!==w?[new M(c,_,`color expected, ${w} found`)]:null===Nn.parseCSSColor(_)?[new M(c,_,`color expected, "${_}" found`)]:[]},constants:E,enum:Ci,filter:Vc,function:kn,layer:oc,object:rc,source:Op,light:ap,terrain:au,fog:md,string:Ou,formatted:function(g){return 0===Ou(g).length?[]:pn(g)},resolvedImage:function(g){return 0===Ou(g).length?[]:pn(g)}};function Us(g){const c=g.value,_=g.valueSpec,w=g.styleSpec;return _.expression&&Lp(O(c))?kn(g):_.expression&&oa(j(c))?pn(g):_.type&&lp[_.type]?lp[_.type](g):rc(N({},g,{valueSpec:_.type?w[_.type]:_}))}function lu(g){const c=g.value,_=g.key,w=Ou(g);return w.length||(-1===c.indexOf("{fontstack}")&&w.push(new M(_,c,'"glyphs" url must include a "{fontstack}" token')),-1===c.indexOf("{range}")&&w.push(new M(_,c,'"glyphs" url must include a "{range}" token'))),w}function ac(g,c=v){let _=[];return _=_.concat(Us({key:"",value:g,valueSpec:c.$root,styleSpec:c,style:g,objectElementValidators:{glyphs:lu,"*":()=>[]}})),g.constants&&(_=_.concat(E({key:"constants",value:g.constants,style:g,styleSpec:c}))),cu(_)}function cu(g){return[].concat(g).sort((c,_)=>c.line-_.line)}function ul(g){return function(...c){return cu(g.apply(this,c))}}ac.source=ul(Op),ac.light=ul(ap),ac.terrain=ul(au),ac.fog=ul(md),ac.layer=ul(oc),ac.filter=ul(Vc),ac.paintProperty=ul(ou),ac.layoutProperty=ul(sp);const Tc=ac,El=Tc.light,Gd=Tc.fog,gd=Tc.paintProperty,uf=Tc.layoutProperty;function Ch(g,c){let _=!1;if(c&&c.length)for(const w of c)g.fire(new h(new Error(w.message))),_=!0;return _}var Dl=Ul;function Ul(g,c,_){var w=this.cells=[];if(g instanceof ArrayBuffer){this.arrayBuffer=g;var I=new Int32Array(this.arrayBuffer);g=I[0],this.d=(c=I[1])+2*(_=I[2]);for(var F=0;F<this.d*this.d;F++){var B=I[3+F],Q=I[3+F+1];w.push(B===Q?null:I.subarray(B,Q))}var ne=I[3+w.length+1];this.keys=I.subarray(I[3+w.length],ne),this.bboxes=I.subarray(ne),this.insert=this._insertReadonly}else{this.d=c+2*_;for(var he=0;he<this.d*this.d;he++)w.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=g,this.padding=_,this.scale=c/g,this.uid=0;var ye=_/c*g;this.min=-ye,this.max=g+ye}Ul.prototype.insert=function(g,c,_,w,I){this._forEachCell(c,_,w,I,this._insertCell,this.uid++),this.keys.push(g),this.bboxes.push(c),this.bboxes.push(_),this.bboxes.push(w),this.bboxes.push(I)},Ul.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ul.prototype._insertCell=function(g,c,_,w,I,F){this.cells[I].push(F)},Ul.prototype.query=function(g,c,_,w,I){var F=this.min,B=this.max;if(g<=F&&c<=F&&B<=_&&B<=w&&!I)return Array.prototype.slice.call(this.keys);var Q=[];return this._forEachCell(g,c,_,w,this._queryCell,Q,{},I),Q},Ul.prototype._queryCell=function(g,c,_,w,I,F,B,Q){var ne=this.cells[I];if(null!==ne)for(var he=this.keys,ye=this.bboxes,we=0;we<ne.length;we++){var Ie=ne[we];if(void 0===B[Ie]){var Ye=4*Ie;(Q?Q(ye[Ye+0],ye[Ye+1],ye[Ye+2],ye[Ye+3]):g<=ye[Ye+2]&&c<=ye[Ye+3]&&_>=ye[Ye+0]&&w>=ye[Ye+1])?(B[Ie]=!0,F.push(he[Ie])):B[Ie]=!1}}},Ul.prototype._forEachCell=function(g,c,_,w,I,F,B,Q){for(var ne=this._convertToCellCoord(g),he=this._convertToCellCoord(c),ye=this._convertToCellCoord(_),we=this._convertToCellCoord(w),Ie=ne;Ie<=ye;Ie++)for(var Ye=he;Ye<=we;Ye++){var Qe=this.d*Ye+Ie;if((!Q||Q(this._convertFromCellCoord(Ie),this._convertFromCellCoord(Ye),this._convertFromCellCoord(Ie+1),this._convertFromCellCoord(Ye+1)))&&I.call(this,g,c,_,w,Qe,F,B,Q))return}},Ul.prototype._convertFromCellCoord=function(g){return(g-this.padding)/this.scale},Ul.prototype._convertToCellCoord=function(g){return Math.max(0,Math.min(this.d-1,Math.floor(g*this.scale)+this.padding))},Ul.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var g=this.cells,c=3+this.cells.length+1+1,_=0,w=0;w<this.cells.length;w++)_+=this.cells[w].length;var I=new Int32Array(c+_+this.keys.length+this.bboxes.length);I[0]=this.extent,I[1]=this.n,I[2]=this.padding;for(var F=c,B=0;B<g.length;B++){var Q=g[B];I[3+B]=F,I.set(Q,F),F+=Q.length}return I[3+g.length]=F,I.set(this.keys,F),I[3+g.length+1]=F+=this.keys.length,I.set(this.bboxes,F),F+=this.bboxes.length,I.buffer};const{ImageData:Ru,ImageBitmap:lc}=He,Sc={};function vi(g,c,_={}){Object.defineProperty(c,"_classRegistryKey",{value:g,writeable:!1}),Sc[g]={klass:c,omit:_.omit||[],shallow:_.shallow||[]}}vi("Object",Object),Dl.serialize=function(g,c){const _=g.toArrayBuffer();return c&&c.push(_),{buffer:_}},Dl.deserialize=function(g){return new Dl(g.buffer)},vi("Grid",Dl),vi("Color",Pn),vi("Error",Error),vi("ResolvedImage",Oi),vi("StylePropertyFunction",Ud),vi("StyleExpression",Hd,{omit:["_evaluator"]}),vi("ZoomDependentExpression",Mc),vi("ZoomConstantExpression",ic),vi("CompoundExpression",cl,{omit:["_evaluate"]});for(const g in _o)_o[g]._classRegistryKey||vi(`Expression_${g}`,_o[g]);function gr(g){return g&&"undefined"!=typeof ArrayBuffer&&(g instanceof ArrayBuffer||g.constructor&&"ArrayBuffer"===g.constructor.name)}function js(g){return lc&&g instanceof lc}function Er(g,c){if(null==g||"boolean"==typeof g||"number"==typeof g||"string"==typeof g||g instanceof Boolean||g instanceof Number||g instanceof String||g instanceof Date||g instanceof RegExp)return g;if(gr(g)||js(g))return c&&c.push(g),g;if(ArrayBuffer.isView(g)){const _=g;return c&&c.push(_.buffer),_}if(g instanceof Ru)return c&&c.push(g.data.buffer),g;if(Array.isArray(g)){const _=[];for(const w of g)_.push(Er(w,c));return _}if("object"==typeof g){const _=g.constructor,w=_._classRegistryKey;if(!w)throw new Error("can't serialize object of unregistered class");const I=_.serialize?_.serialize(g,c):{};if(!_.serialize){for(const F in g){if(!g.hasOwnProperty(F)||Sc[w].omit.indexOf(F)>=0)continue;const B=g[F];I[F]=Sc[w].shallow.indexOf(F)>=0?B:Er(B,c)}g instanceof Error&&(I.message=g.message)}if(I.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==w&&(I.$name=w),I}throw new Error("can't serialize object of type "+typeof g)}function Ti(g){if(null==g||"boolean"==typeof g||"number"==typeof g||"string"==typeof g||g instanceof Boolean||g instanceof Number||g instanceof String||g instanceof Date||g instanceof RegExp||gr(g)||js(g)||ArrayBuffer.isView(g)||g instanceof Ru)return g;if(Array.isArray(g))return g.map(Ti);if("object"==typeof g){const c=g.$name||"Object",{klass:_}=Sc[c];if(!_)throw new Error(`can't deserialize unregistered class ${c}`);if(_.deserialize)return _.deserialize(g);const w=Object.create(_.prototype);for(const I of Object.keys(g)){if("$name"===I)continue;const F=g[I];w[I]=Sc[c].shallow.indexOf(I)>=0?F:Ti(F)}return w}throw new Error("can't deserialize object of type "+typeof g)}class Ba{constructor(){this.first=!0}update(c,_){const w=Math.floor(c);return this.first?(this.first=!1,this.lastIntegerZoom=w,this.lastIntegerZoomTime=0,this.lastZoom=c,this.lastFloorZoom=w,!0):(this.lastFloorZoom>w?(this.lastIntegerZoom=w+1,this.lastIntegerZoomTime=_):this.lastFloorZoom<w&&(this.lastIntegerZoom=w,this.lastIntegerZoomTime=_),c!==this.lastZoom&&(this.lastZoom=c,this.lastFloorZoom=w,!0))}}const Ei=g=>g>=1536&&g<=1791,cp=g=>g>=1872&&g<=1919,Fs=g=>g>=2208&&g<=2303,Eo=g=>g>=11904&&g<=12031,Es=g=>g>=12032&&g<=12255,dl=g=>g>=12272&&g<=12287,Fu=g=>g>=12288&&g<=12351,yo=g=>g>=12352&&g<=12447,Va=g=>g>=12448&&g<=12543,jl=g=>g>=12544&&g<=12591,up=g=>g>=12704&&g<=12735,uu=g=>g>=12736&&g<=12783,Zd=g=>g>=12784&&g<=12799,Nu=g=>g>=12800&&g<=13055,Hc=g=>g>=13056&&g<=13311,Uc=g=>g>=13312&&g<=19903,cc=g=>g>=19968&&g<=40959,du=g=>g>=40960&&g<=42127,tt=g=>g>=42128&&g<=42191,uc=g=>g>=44032&&g<=55215,Wd=g=>g>=63744&&g<=64255,Ha=g=>g>=64336&&g<=65023,es=g=>g>=65040&&g<=65055,dp=g=>g>=65072&&g<=65103,vo=g=>g>=65104&&g<=65135,ai=g=>g>=65136&&g<=65279,Bo=g=>g>=65280&&g<=65519;function zu(g){for(const c of g)if(qd(c.charCodeAt(0)))return!0;return!1}function Da(g){for(const c of g)if(!df(c.charCodeAt(0)))return!1;return!0}function df(g){return!(Ei(g)||cp(g)||Fs(g)||Ha(g)||ai(g))}function qd(g){return!(746!==g&&747!==g&&(g<4352||!(up(g)||jl(g)||dp(g)&&!(g>=65097&&g<=65103)||Wd(g)||Hc(g)||Eo(g)||uu(g)||!(!Fu(g)||g>=12296&&g<=12305||g>=12308&&g<=12319||12336===g)||Uc(g)||cc(g)||Nu(g)||(c=g,c>=12592&&c<=12687)||(c=>c>=43360&&c<=43391)(g)||(c=>c>=55216&&c<=55295)(g)||(c=>c>=4352&&c<=4607)(g)||uc(g)||yo(g)||dl(g)||(c=>c>=12688&&c<=12703)(g)||Es(g)||Zd(g)||Va(g)&&12540!==g||!(!Bo(g)||65288===g||65289===g||65293===g||g>=65306&&g<=65310||65339===g||65341===g||65343===g||g>=65371&&g<=65503||65507===g||g>=65512&&g<=65519)||!(!vo(g)||g>=65112&&g<=65118||g>=65123&&g<=65126)||(c=>c>=5120&&c<=5759)(g)||(c=>c>=6320&&c<=6399)(g)||es(g)||(c=>c>=19904&&c<=19967)(g)||du(g)||tt(g))));var c}function hf(g){return!(qd(g)||(c=g,(_=c)>=128&&_<=255&&(167===c||169===c||174===c||177===c||188===c||189===c||190===c||215===c||247===c)||(_=>_>=8192&&_<=8303)(c)&&(8214===c||8224===c||8225===c||8240===c||8241===c||8251===c||8252===c||8258===c||8263===c||8264===c||8265===c||8273===c)||(_=>_>=8448&&_<=8527)(c)||(_=>_>=8528&&_<=8591)(c)||(_=>_>=8960&&_<=9215)(c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||9003===c||c>=9085&&c<=9114||c>=9150&&c<=9165||9167===c||c>=9169&&c<=9179||c>=9186&&c<=9215)||(_=>_>=9216&&_<=9279)(c)&&9251!==c||(_=>_>=9280&&_<=9311)(c)||(_=>_>=9312&&_<=9471)(c)||(_=>_>=9632&&_<=9727)(c)||(_=>_>=9728&&_<=9983)(c)&&!(c>=9754&&c<=9759)||(_=>_>=11008&&_<=11263)(c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||Fu(c)||Va(c)||(_=>_>=57344&&_<=63743)(c)||dp(c)||vo(c)||Bo(c)||8734===c||8756===c||8757===c||c>=9984&&c<=10087||c>=10102&&c<=10131||65532===c||65533===c));var c,_}function Ua(g){return g>=1424&&g<=2303||Ha(g)||ai(g)}function Mh(g,c){return!(!c&&Ua(g)||g>=2304&&g<=3583||g>=3840&&g<=4255||(_=g,_>=6016&&_<=6143));var _}function hp(g){for(const c of g)if(Ua(c.charCodeAt(0)))return!0;return!1}const P="deferred",f="loading",C="loaded";let R=null,H="unavailable",X=null;const ae=function(g){g&&"string"==typeof g&&g.indexOf("NetworkError")>-1&&(H="error"),R&&R(g)};function fe(){ve.fire(new Le("pluginStateChange",{pluginStatus:H,pluginURL:X}))}const ve=new p,_e=function(){return H},ze=function(){if(H!==P||!X)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");H=f,fe(),X&&Ne({url:X},g=>{g?ae(g):(H=C,fe())})},Ge={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>H===C||null!=Ge.applyArabicShaping,isLoading:()=>H===f,setState(g){H=g.pluginStatus,X=g.pluginURL},isParsed:()=>null!=Ge.applyArabicShaping&&null!=Ge.processBidirectionalText&&null!=Ge.processStyledBidirectionalText,getPluginURL:()=>X};class We{constructor(c,_){this.zoom=c,_?(this.now=_.now,this.fadeDuration=_.fadeDuration,this.zoomHistory=_.zoomHistory,this.transition=_.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ba,this.transition={})}isSupportedScript(c){return function(_,w){for(const I of _)if(!Mh(I.charCodeAt(0),w))return!1;return!0}(c,Ge.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const c=this.zoom,_=c-Math.floor(c),w=this.crossFadingFactor();return c>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:_+(1-_)*w}:{fromScale:.5,toScale:1,t:1-(1-w)*_}}}class Xe{constructor(c,_){this.property=c,this.value=_,this.expression=function(w,I){if(Lp(w))return new Ud(w,I);if(oa(w)){const F=Pp(w,I);if("error"===F.result)throw new Error(F.value.map(B=>`${B.key}: ${B.message}`).join(", "));return F.value}{let F=w;return"string"==typeof w&&"color"===I.type&&(F=Pn.parse(w)),{kind:"constant",evaluate:()=>F}}}(void 0===_?c.specification.default:_,c.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(c,_,w){return this.property.possiblyEvaluate(this,c,_,w)}}class dt{constructor(c){this.property=c,this.value=new Xe(c,void 0)}transitioned(c,_){return new Ot(this.property,this.value,_,Li({},c.transition,this.transition),c.now)}untransitioned(){return new Ot(this.property,this.value,null,{},0)}}class yt{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitionablePropertyValues)}getValue(c){return ni(this._values[c].value.value)}setValue(c,_){this._values.hasOwnProperty(c)||(this._values[c]=new dt(this._values[c].property)),this._values[c].value=new Xe(this._values[c].property,null===_?void 0:ni(_))}getTransition(c){return ni(this._values[c].transition)}setTransition(c,_){this._values.hasOwnProperty(c)||(this._values[c]=new dt(this._values[c].property)),this._values[c].transition=ni(_)||void 0}serialize(){const c={};for(const _ of Object.keys(this._values)){const w=this.getValue(_);void 0!==w&&(c[_]=w);const I=this.getTransition(_);void 0!==I&&(c[`${_}-transition`]=I)}return c}transitioned(c,_){const w=new ot(this._properties);for(const I of Object.keys(this._values))w._values[I]=this._values[I].transitioned(c,_._values[I]);return w}untransitioned(){const c=new ot(this._properties);for(const _ of Object.keys(this._values))c._values[_]=this._values[_].untransitioned();return c}}class Ot{constructor(c,_,w,I,F){const B=I.delay||0,Q=I.duration||0;F=F||0,this.property=c,this.value=_,this.begin=F+B,this.end=this.begin+Q,c.specification.transition&&(I.delay||I.duration)&&(this.prior=w)}possiblyEvaluate(c,_,w){const I=c.now||0,F=this.value.possiblyEvaluate(c,_,w),B=this.prior;if(B){if(I>this.end)return this.prior=null,F;if(this.value.isDataDriven())return this.prior=null,F;if(I<this.begin)return B.possiblyEvaluate(c,_,w);{const Q=(I-this.begin)/(this.end-this.begin);return this.property.interpolate(B.possiblyEvaluate(c,_,w),F,at(Q))}}return F}}class ot{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitioningPropertyValues)}possiblyEvaluate(c,_,w){const I=new Bt(this._properties);for(const F of Object.keys(this._values))I._values[F]=this._values[F].possiblyEvaluate(c,_,w);return I}hasTransition(){for(const c of Object.keys(this._values))if(this._values[c].prior)return!0;return!1}}class vt{constructor(c){this._properties=c,this._values=Object.create(c.defaultPropertyValues)}getValue(c){return ni(this._values[c].value)}setValue(c,_){this._values[c]=new Xe(this._values[c].property,null===_?void 0:ni(_))}serialize(){const c={};for(const _ of Object.keys(this._values)){const w=this.getValue(_);void 0!==w&&(c[_]=w)}return c}possiblyEvaluate(c,_,w){const I=new Bt(this._properties);for(const F of Object.keys(this._values))I._values[F]=this._values[F].possiblyEvaluate(c,_,w);return I}}class wt{constructor(c,_,w){this.property=c,this.value=_,this.parameters=w}isConstant(){return"constant"===this.value.kind}constantOr(c){return"constant"===this.value.kind?this.value.value:c}evaluate(c,_,w,I){return this.property.evaluate(this.value,this.parameters,c,_,w,I)}}class Bt{constructor(c){this._properties=c,this._values=Object.create(c.defaultPossiblyEvaluatedValues)}get(c){return this._values[c]}}class Ct{constructor(c){this.specification=c}possiblyEvaluate(c,_){return c.expression.evaluate(_)}interpolate(c,_,w){const I=xc[this.specification.type];return I?I(c,_,w):c}}class kt{constructor(c,_){this.specification=c,this.overrides=_}possiblyEvaluate(c,_,w,I){return new wt(this,"constant"===c.expression.kind||"camera"===c.expression.kind?{kind:"constant",value:c.expression.evaluate(_,null,{},w,I)}:c.expression,_)}interpolate(c,_,w){if("constant"!==c.value.kind||"constant"!==_.value.kind)return c;if(void 0===c.value.value||void 0===_.value.value)return new wt(this,{kind:"constant",value:void 0},c.parameters);const I=xc[this.specification.type];return I?new wt(this,{kind:"constant",value:I(c.value.value,_.value.value,w)},c.parameters):c}evaluate(c,_,w,I,F,B){return"constant"===c.kind?c.value:c.evaluate(_,w,I,F,B)}}class wn extends kt{possiblyEvaluate(c,_,w,I){if(void 0===c.value)return new wt(this,{kind:"constant",value:void 0},_);if("constant"===c.expression.kind){const F=c.expression.evaluate(_,null,{},w,I),B="resolvedImage"===c.property.specification.type&&"string"!=typeof F?F.name:F,Q=this._calculate(B,B,B,_);return new wt(this,{kind:"constant",value:Q},_)}if("camera"===c.expression.kind){const F=this._calculate(c.expression.evaluate({zoom:_.zoom-1}),c.expression.evaluate({zoom:_.zoom}),c.expression.evaluate({zoom:_.zoom+1}),_);return new wt(this,{kind:"constant",value:F},_)}return new wt(this,c.expression,_)}evaluate(c,_,w,I,F,B){if("source"===c.kind){const Q=c.evaluate(_,w,I,F,B);return this._calculate(Q,Q,Q,_)}return"composite"===c.kind?this._calculate(c.evaluate({zoom:Math.floor(_.zoom)-1},w,I),c.evaluate({zoom:Math.floor(_.zoom)},w,I),c.evaluate({zoom:Math.floor(_.zoom)+1},w,I),_):c.value}_calculate(c,_,w,I){return I.zoom>I.zoomHistory.lastIntegerZoom?{from:c,to:_,other:w}:{from:w,to:_,other:c}}interpolate(c){return c}}class Tn{constructor(c){this.specification=c}possiblyEvaluate(c,_,w,I){if(void 0!==c.value){if("constant"===c.expression.kind){const F=c.expression.evaluate(_,null,{},w,I);return this._calculate(F,F,F,_)}return this._calculate(c.expression.evaluate(new We(Math.floor(_.zoom-1),_)),c.expression.evaluate(new We(Math.floor(_.zoom),_)),c.expression.evaluate(new We(Math.floor(_.zoom+1),_)),_)}}_calculate(c,_,w,I){return I.zoom>I.zoomHistory.lastIntegerZoom?{from:c,to:_}:{from:w,to:_}}interpolate(c){return c}}class Ln{constructor(c){this.specification=c}possiblyEvaluate(c,_,w,I){return!!c.expression.evaluate(_,null,{},w,I)}interpolate(){return!1}}class Dt{constructor(c){this.properties=c,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const _ in c){const w=c[_];w.specification.overridable&&this.overridableProperties.push(_);const I=this.defaultPropertyValues[_]=new Xe(w,void 0),F=this.defaultTransitionablePropertyValues[_]=new dt(w);this.defaultTransitioningPropertyValues[_]=F.untransitioned(),this.defaultPossiblyEvaluatedValues[_]=I.possiblyEvaluate({})}}}function ti(g,c){return 256*(g=jt(Math.floor(g),0,255))+jt(Math.floor(c),0,255)}vi("DataDrivenProperty",kt),vi("DataConstantProperty",Ct),vi("CrossFadedDataDrivenProperty",wn),vi("CrossFadedProperty",Tn),vi("ColorRampProperty",Ln);const On={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ci{constructor(c,_){this._structArray=c,this._pos1=_*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Qn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(c,_){return c._trim(),_&&(c.isTransferred=!0,_.push(c.arrayBuffer)),{length:c.length,arrayBuffer:c.arrayBuffer}}static deserialize(c){const _=Object.create(this.prototype);return _.arrayBuffer=c.arrayBuffer,_.length=c.length,_.capacity=c.arrayBuffer.byteLength/_.bytesPerElement,_._refreshViews(),_}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(c){this.reserve(c),this.length=c}reserve(c){if(c>this.capacity){this.capacity=Math.max(c,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const _=this.uint8;this._refreshViews(),_&&this.uint8.set(_)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Wn(g,c=1){let _=0,w=0;return{members:g.map(I=>{const F=On[I.type].BYTES_PER_ELEMENT,B=_=ur(_,Math.max(c,F)),Q=I.components||1;return w=Math.max(w,F),_+=F*Q,{name:I.name,type:I.type,components:Q,offset:B}}),size:ur(_,Math.max(w,c)),alignment:c}}function ur(g,c){return Math.ceil(g/c)*c}class Si extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_){const w=this.length;return this.resize(w+1),this.emplace(w,c,_)}emplace(c,_,w){const I=2*c;return this.int16[I+0]=_,this.int16[I+1]=w,c}}Si.prototype.bytesPerElement=4,vi("StructArrayLayout2i4",Si);class jr extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_,w,I){const F=this.length;return this.resize(F+1),this.emplace(F,c,_,w,I)}emplace(c,_,w,I,F){const B=4*c;return this.int16[B+0]=_,this.int16[B+1]=w,this.int16[B+2]=I,this.int16[B+3]=F,c}}jr.prototype.bytesPerElement=8,vi("StructArrayLayout4i8",jr);class os extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q){const ne=this.length;return this.resize(ne+1),this.emplace(ne,c,_,w,I,F,B,Q)}emplace(c,_,w,I,F,B,Q,ne){const he=6*c,ye=12*c,we=3*c;return this.int16[he+0]=_,this.int16[he+1]=w,this.uint8[ye+4]=I,this.uint8[ye+5]=F,this.uint8[ye+6]=B,this.uint8[ye+7]=Q,this.float32[we+2]=ne,c}}os.prototype.bytesPerElement=12,vi("StructArrayLayout2i4ub1f12",os);class ps extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,_){const w=this.length;return this.resize(w+1),this.emplace(w,c,_)}emplace(c,_,w){const I=2*c;return this.float32[I+0]=_,this.float32[I+1]=w,c}}ps.prototype.bytesPerElement=8,vi("StructArrayLayout2f8",ps);class _r extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne,he,ye){const we=this.length;return this.resize(we+1),this.emplace(we,c,_,w,I,F,B,Q,ne,he,ye)}emplace(c,_,w,I,F,B,Q,ne,he,ye,we){const Ie=10*c;return this.uint16[Ie+0]=_,this.uint16[Ie+1]=w,this.uint16[Ie+2]=I,this.uint16[Ie+3]=F,this.uint16[Ie+4]=B,this.uint16[Ie+5]=Q,this.uint16[Ie+6]=ne,this.uint16[Ie+7]=he,this.uint16[Ie+8]=ye,this.uint16[Ie+9]=we,c}}_r.prototype.bytesPerElement=20,vi("StructArrayLayout10ui20",_r);class xs extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne){const he=this.length;return this.resize(he+1),this.emplace(he,c,_,w,I,F,B,Q,ne)}emplace(c,_,w,I,F,B,Q,ne,he){const ye=8*c;return this.uint16[ye+0]=_,this.uint16[ye+1]=w,this.uint16[ye+2]=I,this.uint16[ye+3]=F,this.uint16[ye+4]=B,this.uint16[ye+5]=Q,this.uint16[ye+6]=ne,this.uint16[ye+7]=he,c}}xs.prototype.bytesPerElement=16,vi("StructArrayLayout8ui16",xs);class Xs extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne,he,ye,we,Ie){const Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,c,_,w,I,F,B,Q,ne,he,ye,we,Ie)}emplace(c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye){const Qe=12*c;return this.int16[Qe+0]=_,this.int16[Qe+1]=w,this.int16[Qe+2]=I,this.int16[Qe+3]=F,this.uint16[Qe+4]=B,this.uint16[Qe+5]=Q,this.uint16[Qe+6]=ne,this.uint16[Qe+7]=he,this.int16[Qe+8]=ye,this.int16[Qe+9]=we,this.int16[Qe+10]=Ie,this.int16[Qe+11]=Ye,c}}Xs.prototype.bytesPerElement=24,vi("StructArrayLayout4i4ui4i24",Xs);class Al extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,_,w){const I=this.length;return this.resize(I+1),this.emplace(I,c,_,w)}emplace(c,_,w,I){const F=3*c;return this.float32[F+0]=_,this.float32[F+1]=w,this.float32[F+2]=I,c}}Al.prototype.bytesPerElement=12,vi("StructArrayLayout3f12",Al);class Aa extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c){const _=this.length;return this.resize(_+1),this.emplace(_,c)}emplace(c,_){return this.uint32[1*c+0]=_,c}}Aa.prototype.bytesPerElement=4,vi("StructArrayLayout1ul4",Aa);class ds extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne,he,ye){const we=this.length;return this.resize(we+1),this.emplace(we,c,_,w,I,F,B,Q,ne,he,ye)}emplace(c,_,w,I,F,B,Q,ne,he,ye,we){const Ie=16*c,Ye=8*c;return this.int16[Ie+0]=_,this.int16[Ie+1]=w,this.float32[Ye+1]=I,this.float32[Ye+2]=F,this.float32[Ye+3]=B,this.float32[Ye+4]=Q,this.int16[Ie+10]=ne,this.uint32[Ye+6]=he,this.uint16[Ie+14]=ye,this.uint16[Ie+15]=we,c}}ds.prototype.bytesPerElement=32,vi("StructArrayLayout2i4f1i1ul2ui32",ds);class Vo extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B){const Q=this.length;return this.resize(Q+1),this.emplace(Q,c,_,w,I,F,B)}emplace(c,_,w,I,F,B,Q){const ne=6*c;return this.int16[ne+0]=_,this.int16[ne+1]=w,this.int16[ne+2]=I,this.int16[ne+3]=F,this.int16[ne+4]=B,this.int16[ne+5]=Q,c}}Vo.prototype.bytesPerElement=12,vi("StructArrayLayout2i2i2i12",Vo);class hl extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F){const B=this.length;return this.resize(B+1),this.emplace(B,c,_,w,I,F)}emplace(c,_,w,I,F,B){const Q=4*c,ne=8*c;return this.float32[Q+0]=_,this.float32[Q+1]=w,this.float32[Q+2]=I,this.int16[ne+6]=F,this.int16[ne+7]=B,c}}hl.prototype.bytesPerElement=16,vi("StructArrayLayout2f1f2i16",hl);class Ri extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,_,w,I){const F=this.length;return this.resize(F+1),this.emplace(F,c,_,w,I)}emplace(c,_,w,I,F){const B=12*c,Q=3*c;return this.uint8[B+0]=_,this.uint8[B+1]=w,this.float32[Q+1]=I,this.float32[Q+2]=F,c}}Ri.prototype.bytesPerElement=12,vi("StructArrayLayout2ub2f12",Ri);class Ns extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w){const I=this.length;return this.resize(I+1),this.emplace(I,c,_,w)}emplace(c,_,w,I){const F=3*c;return this.uint16[F+0]=_,this.uint16[F+1]=w,this.uint16[F+2]=I,c}}Ns.prototype.bytesPerElement=6,vi("StructArrayLayout3ui6",Ns);class Gr extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn){const rn=this.length;return this.resize(rn+1),this.emplace(rn,c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn)}emplace(c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn,rn){const on=13*c,gn=26*c,mn=52*c;return this.float32[on+0]=_,this.float32[on+1]=w,this.uint16[gn+4]=I,this.uint16[gn+5]=F,this.uint32[on+3]=B,this.uint32[on+4]=Q,this.uint32[on+5]=ne,this.uint16[gn+12]=he,this.uint16[gn+13]=ye,this.uint16[gn+14]=we,this.float32[on+8]=Ie,this.float32[on+9]=Ye,this.uint8[mn+40]=Qe,this.uint8[mn+41]=mt,this.uint8[mn+42]=Et,this.uint32[on+11]=Yt,this.int16[gn+24]=tn,this.uint8[mn+50]=rn,c}}Gr.prototype.bytesPerElement=52,vi("StructArrayLayout2f2ui3ul3ui2f3ub1ul1i1ub52",Gr);class Ts extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn,rn,on,gn,mn,zn,Xn,Bn,ri,An){const Vn=this.length;return this.resize(Vn+1),this.emplace(Vn,c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn,rn,on,gn,mn,zn,Xn,Bn,ri,An)}emplace(c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt,Et,Yt,tn,rn,on,gn,mn,zn,Xn,Bn,ri,An,Vn){const Kn=17*c,Dn=34*c;return this.float32[Kn+0]=_,this.float32[Kn+1]=w,this.int16[Dn+4]=I,this.int16[Dn+5]=F,this.int16[Dn+6]=B,this.int16[Dn+7]=Q,this.int16[Dn+8]=ne,this.int16[Dn+9]=he,this.uint16[Dn+10]=ye,this.uint16[Dn+11]=we,this.uint16[Dn+12]=Ie,this.uint16[Dn+13]=Ye,this.uint16[Dn+14]=Qe,this.uint16[Dn+15]=mt,this.uint16[Dn+16]=Et,this.uint16[Dn+17]=Yt,this.uint16[Dn+18]=tn,this.uint16[Dn+19]=rn,this.uint16[Dn+20]=on,this.uint16[Dn+21]=gn,this.uint16[Dn+22]=mn,this.uint16[Dn+23]=zn,this.uint16[Dn+24]=Xn,this.uint32[Kn+13]=Bn,this.float32[Kn+14]=ri,this.float32[Kn+15]=An,this.float32[Kn+16]=Vn,c}}Ts.prototype.bytesPerElement=68,vi("StructArrayLayout2f6i15ui1ul3f68",Ts);class io extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c){const _=this.length;return this.resize(_+1),this.emplace(_,c)}emplace(c,_){return this.float32[1*c+0]=_,c}}io.prototype.bytesPerElement=4,vi("StructArrayLayout1f4",io);class Nr extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,_,w){const I=this.length;return this.resize(I+1),this.emplace(I,c,_,w)}emplace(c,_,w,I){const F=3*c;return this.int16[F+0]=_,this.int16[F+1]=w,this.int16[F+2]=I,c}}Nr.prototype.bytesPerElement=6,vi("StructArrayLayout3i6",Nr);class Qa extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_,w,I){const F=this.length;return this.resize(F+1),this.emplace(F,c,_,w,I)}emplace(c,_,w,I,F){const B=6*c;return this.uint32[3*c+0]=_,this.uint16[B+2]=w,this.uint16[B+3]=I,this.uint16[B+4]=F,c}}Qa.prototype.bytesPerElement=12,vi("StructArrayLayout1ul3ui12",Qa);class Ja extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,_){const w=this.length;return this.resize(w+1),this.emplace(w,c,_)}emplace(c,_,w){const I=2*c;return this.uint16[I+0]=_,this.uint16[I+1]=w,c}}Ja.prototype.bytesPerElement=4,vi("StructArrayLayout2ui4",Ja);class pl extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c){const _=this.length;return this.resize(_+1),this.emplace(_,c)}emplace(c,_){return this.uint16[1*c+0]=_,c}}pl.prototype.bytesPerElement=2,vi("StructArrayLayout1ui2",pl);class Do extends Qn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,_,w,I){const F=this.length;return this.resize(F+1),this.emplace(F,c,_,w,I)}emplace(c,_,w,I,F){const B=4*c;return this.float32[B+0]=_,this.float32[B+1]=w,this.float32[B+2]=I,this.float32[B+3]=F,c}}Do.prototype.bytesPerElement=16,vi("StructArrayLayout4f16",Do);class Ia extends ci{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new xe(this.anchorPointX,this.anchorPointY)}}Ia.prototype.size=32;class Yu extends ds{get(c){return new Ia(this,c)}}vi("CollisionBoxArray",Yu);class ba extends ci{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+4]}get numGlyphs(){return this._structArray.uint16[this._pos2+5]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineStartIndex(){return this._structArray.uint32[this._pos4+4]}get lineLength(){return this._structArray.uint32[this._pos4+5]}get segment(){return this._structArray.uint16[this._pos2+12]}get lowerSize(){return this._structArray.uint16[this._pos2+13]}get upperSize(){return this._structArray.uint16[this._pos2+14]}get lineOffsetX(){return this._structArray.float32[this._pos4+8]}get lineOffsetY(){return this._structArray.float32[this._pos4+9]}get writingMode(){return this._structArray.uint8[this._pos1+40]}get placedOrientation(){return this._structArray.uint8[this._pos1+41]}set placedOrientation(c){this._structArray.uint8[this._pos1+41]=c}get hidden(){return this._structArray.uint8[this._pos1+42]}set hidden(c){this._structArray.uint8[this._pos1+42]=c}get crossTileID(){return this._structArray.uint32[this._pos4+11]}set crossTileID(c){this._structArray.uint32[this._pos4+11]=c}get associatedIconIndex(){return this._structArray.int16[this._pos2+24]}get flipState(){return this._structArray.uint8[this._pos1+50]}set flipState(c){this._structArray.uint8[this._pos1+50]=c}}ba.prototype.size=52;class bo extends Gr{get(c){return new ba(this,c)}}vi("PlacedSymbolArray",bo);class jc extends ci{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+8]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+9]}get key(){return this._structArray.uint16[this._pos2+10]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get featureIndex(){return this._structArray.uint16[this._pos2+19]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+21]}get numIconVertices(){return this._structArray.uint16[this._pos2+22]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+23]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+24]}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(c){this._structArray.uint32[this._pos4+13]=c}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}jc.prototype.size=68;class hu extends Ts{get(c){return new jc(this,c)}}vi("SymbolInstanceArray",hu);class Gl extends io{getoffsetX(c){return this.float32[1*c+0]}}vi("GlyphOffsetArray",Gl);class Ka extends Nr{getx(c){return this.int16[3*c+0]}gety(c){return this.int16[3*c+1]}gettileUnitDistanceFromAnchor(c){return this.int16[3*c+2]}}vi("SymbolLineVertexArray",Ka);class kc extends ci{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}kc.prototype.size=12;class ws extends Qa{get(c){return new kc(this,c)}}vi("FeatureIndexArray",ws);class G extends ci{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}G.prototype.size=4;class oe extends Ja{get(c){return new G(this,c)}}vi("FillExtrusionCentroidArray",oe);const ke=Wn([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Be=Wn([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Ke=dn(function(g){g.exports=function(c,_){var w,I,F,B,Q,ne,he,ye;for(I=c.length-(w=3&c.length),F=_,Q=3432918353,ne=461845907,ye=0;ye<I;)he=255&c.charCodeAt(ye)|(255&c.charCodeAt(++ye))<<8|(255&c.charCodeAt(++ye))<<16|(255&c.charCodeAt(++ye))<<24,++ye,F=27492+(65535&(B=5*(65535&(F=(F^=he=(65535&(he=(he=(65535&he)*Q+(((he>>>16)*Q&65535)<<16)&4294967295)<<15|he>>>17))*ne+(((he>>>16)*ne&65535)<<16)&4294967295)<<13|F>>>19))+((5*(F>>>16)&65535)<<16)&4294967295))+((58964+(B>>>16)&65535)<<16);switch(he=0,w){case 3:he^=(255&c.charCodeAt(ye+2))<<16;case 2:he^=(255&c.charCodeAt(ye+1))<<8;case 1:F^=he=(65535&(he=(he=(65535&(he^=255&c.charCodeAt(ye)))*Q+(((he>>>16)*Q&65535)<<16)&4294967295)<<15|he>>>17))*ne+(((he>>>16)*ne&65535)<<16)&4294967295}return F^=c.length,F=2246822507*(65535&(F^=F>>>16))+((2246822507*(F>>>16)&65535)<<16)&4294967295,F=3266489909*(65535&(F^=F>>>13))+((3266489909*(F>>>16)&65535)<<16)&4294967295,(F^=F>>>16)>>>0}}),Zt=dn(function(g){g.exports=function(c,_){for(var w,I=c.length,F=_^I,B=0;I>=4;)w=1540483477*(65535&(w=255&c.charCodeAt(B)|(255&c.charCodeAt(++B))<<8|(255&c.charCodeAt(++B))<<16|(255&c.charCodeAt(++B))<<24))+((1540483477*(w>>>16)&65535)<<16),F=1540483477*(65535&F)+((1540483477*(F>>>16)&65535)<<16)^(w=1540483477*(65535&(w^=w>>>24))+((1540483477*(w>>>16)&65535)<<16)),I-=4,++B;switch(I){case 3:F^=(255&c.charCodeAt(B+2))<<16;case 2:F^=(255&c.charCodeAt(B+1))<<8;case 1:F=1540483477*(65535&(F^=255&c.charCodeAt(B)))+((1540483477*(F>>>16)&65535)<<16)}return F=1540483477*(65535&(F^=F>>>13))+((1540483477*(F>>>16)&65535)<<16),(F^=F>>>15)>>>0}}),xn=Ke,Vi=Zt;xn.murmur3=Ke,xn.murmur2=Vi;class ts{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(c,_,w,I){this.ids.push(ro(c)),this.positions.push(_,w,I)}getPositions(c){const _=ro(c);let w=0,I=this.ids.length-1;for(;w<I;){const B=w+I>>1;this.ids[B]>=_?I=B:w=B+1}const F=[];for(;this.ids[w]===_;)F.push({index:this.positions[3*w],start:this.positions[3*w+1],end:this.positions[3*w+2]}),w++;return F}static serialize(c,_){const w=new Float64Array(c.ids),I=new Uint32Array(c.positions);return zs(w,I,0,w.length-1),_&&_.push(w.buffer,I.buffer),{ids:w,positions:I}}static deserialize(c){const _=new ts;return _.ids=c.ids,_.positions=c.positions,_.indexed=!0,_}}function ro(g){const c=+g;return!isNaN(c)&&c<=xt?c:xn(String(g))}function zs(g,c,_,w){for(;_<w;){const I=g[_+w>>1];let F=_-1,B=w+1;for(;;){do{F++}while(g[F]<I);do{B--}while(g[B]>I);if(F>=B)break;Ho(g,F,B),Ho(c,3*F,3*B),Ho(c,3*F+1,3*B+1),Ho(c,3*F+2,3*B+2)}B-_<w-B?(zs(g,c,_,B),_=B+1):(zs(g,c,B+1,w),w=B)}}function Ho(g,c,_){const w=g[c];g[c]=g[_],g[_]=w}vi("FeaturePositionMap",ts);class Ys{constructor(c,_){this.gl=c.gl,this.location=_}}class pf extends Ys{constructor(c,_){super(c,_),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class xg extends Ys{constructor(c,_){super(c,_),this.current=[0,0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3]))}}class w_ extends Ys{constructor(c,_){super(c,_),this.current=Pn.transparent}set(c){c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a))}}const La=new Float32Array(16),wg=new Float32Array(9);function pp(g){return[ti(255*g.r,255*g.g),ti(255*g.b,255*g.a)]}class fp{constructor(c,_,w){this.value=c,this.uniformNames=_.map(I=>`u_${I}`),this.type=w}setUniform(c,_,w){c.set(w.constantOr(this.value))}getBinding(c,_,w){return"color"===this.type?new w_(c,_):new pf(c,_)}}class pu{constructor(c,_){this.uniformNames=_.map(w=>`u_${w}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(c,_){this.pixelRatioFrom=_.pixelRatio,this.pixelRatioTo=c.pixelRatio,this.patternFrom=_.tl.concat(_.br),this.patternTo=c.tl.concat(c.br)}setUniform(c,_,w,I){const F="u_pattern_to"===I||"u_dash_to"===I?this.patternTo:"u_pattern_from"===I||"u_dash_from"===I?this.patternFrom:"u_pixel_ratio_to"===I?this.pixelRatioTo:"u_pixel_ratio_from"===I?this.pixelRatioFrom:null;F&&c.set(F)}getBinding(c,_,w){return"u_pattern_from"===w||"u_pattern_to"===w||"u_dash_from"===w||"u_dash_to"===w?new xg(c,_):new pf(c,_)}}class la{constructor(c,_,w,I){this.expression=c,this.type=w,this.maxValue=0,this.paintVertexAttributes=_.map(F=>({name:`a_${F}`,type:"Float32",components:"color"===w?2:1,offset:0})),this.paintVertexArray=new I}populatePaintArray(c,_,w,I,F){const B=this.paintVertexArray.length,Q=this.expression.evaluate(new We(0),_,{},I,[],F);this.paintVertexArray.resize(c),this._setPaintValue(B,c,Q)}updatePaintArray(c,_,w,I){const F=this.expression.evaluate({zoom:0},w,I);this._setPaintValue(c,_,F)}_setPaintValue(c,_,w){if("color"===this.type){const I=pp(w);for(let F=c;F<_;F++)this.paintVertexArray.emplace(F,I[0],I[1])}else{for(let I=c;I<_;I++)this.paintVertexArray.emplace(I,w);this.maxValue=Math.max(this.maxValue,Math.abs(w))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ec{constructor(c,_,w,I,F,B){this.expression=c,this.uniformNames=_.map(Q=>`u_${Q}_t`),this.type=w,this.useIntegerZoom=I,this.zoom=F,this.maxValue=0,this.paintVertexAttributes=_.map(Q=>({name:`a_${Q}`,type:"Float32",components:"color"===w?4:2,offset:0})),this.paintVertexArray=new B}populatePaintArray(c,_,w,I,F){const B=this.expression.evaluate(new We(this.zoom),_,{},I,[],F),Q=this.expression.evaluate(new We(this.zoom+1),_,{},I,[],F),ne=this.paintVertexArray.length;this.paintVertexArray.resize(c),this._setPaintValue(ne,c,B,Q)}updatePaintArray(c,_,w,I){const F=this.expression.evaluate({zoom:this.zoom},w,I),B=this.expression.evaluate({zoom:this.zoom+1},w,I);this._setPaintValue(c,_,F,B)}_setPaintValue(c,_,w,I){if("color"===this.type){const F=pp(w),B=pp(I);for(let Q=c;Q<_;Q++)this.paintVertexArray.emplace(Q,F[0],F[1],B[0],B[1])}else{for(let F=c;F<_;F++)this.paintVertexArray.emplace(F,w,I);this.maxValue=Math.max(this.maxValue,Math.abs(w),Math.abs(I))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(c,_){const w=this.useIntegerZoom?Math.floor(_.zoom):_.zoom,I=jt(this.expression.interpolationFactor(w,this.zoom,this.zoom+1),0,1);c.set(I)}getBinding(c,_,w){return new pf(c,_)}}class yr{constructor(c,_,w,I,F,B,Q){this.expression=c,this.type=w,this.useIntegerZoom=I,this.zoom=F,this.layerId=Q,this.paintVertexAttributes=("array"===w?Be:ke).members;for(let ne=0;ne<_.length;++ne);this.zoomInPaintVertexArray=new B,this.zoomOutPaintVertexArray=new B}populatePaintArray(c,_,w){const I=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(c),this.zoomOutPaintVertexArray.resize(c),this._setPaintValues(I,c,_.patterns&&_.patterns[this.layerId],w)}updatePaintArray(c,_,w,I,F){this._setPaintValues(c,_,w.patterns&&w.patterns[this.layerId],F)}_setPaintValues(c,_,w,I){if(!I||!w)return;const{min:F,mid:B,max:Q}=w,ne=I[F],he=I[B],ye=I[Q];if(ne&&he&&ye)for(let we=c;we<_;we++)this._setPaintValue(this.zoomInPaintVertexArray,we,he,ne),this._setPaintValue(this.zoomOutPaintVertexArray,we,he,ye)}_setPaintValue(c,_,w,I){c.emplace(_,w.tl[0],w.tl[1],w.br[0],w.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],w.pixelRatio,I.pixelRatio)}upload(c){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=c.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=c.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $d{constructor(c,_,w=(()=>!0)){this.binders={},this._buffers=[];const I=[];for(const F in c.paint._values){if(!w(F))continue;const B=c.paint.get(F);if(!(B instanceof wt&&sa(B.property.specification)))continue;const Q=Xd(F,c.type),ne=B.value,he=B.property.specification.type,ye=B.property.useIntegerZoom,we=B.property.specification["property-type"],Ie="cross-faded"===we||"cross-faded-data-driven"===we,Ye="line-dasharray"===String(F)&&"constant"!==c.layout.get("line-cap").value.kind;if("constant"!==ne.kind||Ye)if("source"===ne.kind||Ye||Ie){const Qe=fu(F,he,"source");this.binders[F]=Ie?new yr(ne,Q,he,ye,_,Qe,c.id):new la(ne,Q,he,Qe),I.push(`/a_${F}`)}else{const Qe=fu(F,he,"composite");this.binders[F]=new Ec(ne,Q,he,ye,_,Qe),I.push(`/z_${F}`)}else this.binders[F]=Ie?new pu(ne.value,Q):new fp(ne.value,Q,he),I.push(`/u_${F}`)}this.cacheKey=I.sort().join("")}getMaxValue(c){const _=this.binders[c];return _ instanceof la||_ instanceof Ec?_.maxValue:0}populatePaintArrays(c,_,w,I,F){for(const B in this.binders){const Q=this.binders[B];(Q instanceof la||Q instanceof Ec||Q instanceof yr)&&Q.populatePaintArray(c,_,w,I,F)}}setConstantPatternPositions(c,_){for(const w in this.binders){const I=this.binders[w];I instanceof pu&&I.setConstantPatternPositions(c,_)}}updatePaintArrays(c,_,w,I,F){let B=!1;for(const Q in c){const ne=_.getPositions(Q);for(const he of ne){const ye=w.feature(he.index);for(const we in this.binders){const Ie=this.binders[we];if((Ie instanceof la||Ie instanceof Ec||Ie instanceof yr)&&!0===Ie.expression.isStateDependent){const Ye=I.paint.get(we);Ie.expression=Ye.value,Ie.updatePaintArray(he.start,he.end,ye,c[Q],F),B=!0}}}}return B}defines(){const c=[];for(const _ in this.binders){const w=this.binders[_];(w instanceof fp||w instanceof pu)&&c.push(...w.uniformNames.map(I=>`#define HAS_UNIFORM_${I}`))}return c}getBinderAttributes(){const c=[];for(const _ in this.binders){const w=this.binders[_];if(w instanceof la||w instanceof Ec||w instanceof yr)for(let I=0;I<w.paintVertexAttributes.length;I++)c.push(w.paintVertexAttributes[I].name)}return c}getBinderUniforms(){const c=[];for(const _ in this.binders){const w=this.binders[_];if(w instanceof fp||w instanceof pu||w instanceof Ec)for(const I of w.uniformNames)c.push(I)}return c}getPaintVertexBuffers(){return this._buffers}getUniforms(c,_){const w=[];for(const I in this.binders){const F=this.binders[I];if(F instanceof fp||F instanceof pu||F instanceof Ec)for(const B of F.uniformNames)if(_[B]){const Q=F.getBinding(c,_[B],B);w.push({name:B,property:I,binding:Q})}}return w}setUniforms(c,_,w,I){for(const{name:F,property:B,binding:Q}of _)this.binders[B].setUniform(Q,I,w.get(B),F)}updatePaintBuffers(c){this._buffers=[];for(const _ in this.binders){const w=this.binders[_];if(c&&w instanceof yr){const I=2===c.fromScale?w.zoomInPaintVertexBuffer:w.zoomOutPaintVertexBuffer;I&&this._buffers.push(I)}else(w instanceof la||w instanceof Ec)&&w.paintVertexBuffer&&this._buffers.push(w.paintVertexBuffer)}}upload(c){for(const _ in this.binders){const w=this.binders[_];(w instanceof la||w instanceof Ec||w instanceof yr)&&w.upload(c)}this.updatePaintBuffers()}destroy(){for(const c in this.binders){const _=this.binders[c];(_ instanceof la||_ instanceof Ec||_ instanceof yr)&&_.destroy()}}}class Th{constructor(c,_,w=(()=>!0)){this.programConfigurations={};for(const I of c)this.programConfigurations[I.id]=new $d(I,_,w);this.needsUpload=!1,this._featureMap=new ts,this._bufferOffset=0}populatePaintArrays(c,_,w,I,F,B){for(const Q in this.programConfigurations)this.programConfigurations[Q].populatePaintArrays(c,_,I,F,B);void 0!==_.id&&this._featureMap.add(_.id,w,this._bufferOffset,c),this._bufferOffset=c,this.needsUpload=!0}updatePaintArrays(c,_,w,I){for(const F of w)this.needsUpload=this.programConfigurations[F.id].updatePaintArrays(c,this._featureMap,_,F,I)||this.needsUpload}get(c){return this.programConfigurations[c]}upload(c){if(this.needsUpload){for(const _ in this.programConfigurations)this.programConfigurations[_].upload(c);this.needsUpload=!1}}destroy(){for(const c in this.programConfigurations)this.programConfigurations[c].destroy()}}const mp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Xd(g,c){return mp[g]||[g.replace(`${c}-`,"").replace(/-/g,"_")]}const gp={"line-pattern":{source:_r,composite:_r},"fill-pattern":{source:_r,composite:_r},"fill-extrusion-pattern":{source:_r,composite:_r},"line-dasharray":{source:xs,composite:xs}},C_={color:{source:ps,composite:Do},number:{source:io,composite:ps}};function fu(g,c,_){const w=gp[g];return w&&w[_]||C_[c][_]}vi("ConstantBinder",fp),vi("CrossFadedConstantBinder",pu),vi("SourceExpressionBinder",la),vi("CrossFadedCompositeBinder",yr),vi("CompositeExpressionBinder",Ec),vi("ProgramConfiguration",$d,{omit:["_buffers"]}),vi("ProgramConfigurationSet",Th);const Xf="-transition";class dc extends p{constructor(c,_){if(super(),this.id=c.id,this.type=c.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==c.type&&(this.metadata=(c=c).metadata,this.minzoom=c.minzoom,this.maxzoom=c.maxzoom,"background"!==c.type&&"sky"!==c.type&&(this.source=c.source,this.sourceLayer=c["source-layer"],this.filter=c.filter),_.layout&&(this._unevaluatedLayout=new vt(_.layout)),_.paint)){this._transitionablePaint=new yt(_.paint);for(const w in c.paint)this.setPaintProperty(w,c.paint[w],{validate:!1});for(const w in c.layout)this.setLayoutProperty(w,c.layout[w],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Bt(_.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(c){return"visibility"===c?this.visibility:this._unevaluatedLayout.getValue(c)}setLayoutProperty(c,_,w={}){null!=_&&this._validate(uf,`layers.${this.id}.layout.${c}`,c,_,w)||("visibility"!==c?this._unevaluatedLayout.setValue(c,_):this.visibility=_)}getPaintProperty(c){return un(c,Xf)?this._transitionablePaint.getTransition(c.slice(0,-Xf.length)):this._transitionablePaint.getValue(c)}setPaintProperty(c,_,w={}){if(null!=_&&this._validate(gd,`layers.${this.id}.paint.${c}`,c,_,w))return!1;if(un(c,Xf))return this._transitionablePaint.setTransition(c.slice(0,-Xf.length),_||void 0),!1;{const I=this._transitionablePaint._values[c],F="cross-faded-data-driven"===I.property.specification["property-type"],B=I.value.isDataDriven(),Q=I.value;this._transitionablePaint.setValue(c,_),this._handleSpecialPaintPropertyUpdate(c);const ne=this._transitionablePaint._values[c].value;return ne.isDataDriven()||B||F||this._handleOverridablePaintPropertyUpdate(c,Q,ne)}}_handleSpecialPaintPropertyUpdate(c){}getProgramIds(){return null}getProgramConfiguration(c){return null}_handleOverridablePaintPropertyUpdate(c,_,w){return!1}isHidden(c){return!!(this.minzoom&&c<this.minzoom)||!!(this.maxzoom&&c>=this.maxzoom)||"none"===this.visibility}updateTransitions(c){this._transitioningPaint=this._transitionablePaint.transitioned(c,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(c,_){c.getCrossfadeParameters&&(this._crossfadeParameters=c.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(c,void 0,_)),this.paint=this._transitioningPaint.possiblyEvaluate(c,void 0,_)}serialize(){const c={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(c.layout=c.layout||{},c.layout.visibility=this.visibility),fn(c,(_,w)=>!(void 0===_||"layout"===w&&!Object.keys(_).length||"paint"===w&&!Object.keys(_).length))}_validate(c,_,w,I,F={}){return(!F||!1!==F.validate)&&Ch(this,c.call(Tc,{key:_,layerType:this.type,objectKey:w,value:I,styleSpec:v,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const c in this.paint._values){const _=this.paint.get(c);if(_ instanceof wt&&sa(_.property.specification)&&("source"===_.value.kind||"composite"===_.value.kind)&&_.value.isStateDependent)return!0}return!1}}const Cg=Wn([{name:"a_pos",components:2,type:"Int16"}],4),{members:M_}=Cg;class fl{constructor(c=[]){this.segments=c}prepareSegment(c,_,w,I){let F=this.segments[this.segments.length-1];return c>fl.MAX_VERTEX_ARRAY_LENGTH&&Fi(`Max vertices per segment is ${fl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${c}`),(!F||F.vertexLength+c>fl.MAX_VERTEX_ARRAY_LENGTH||F.sortKey!==I)&&(F={vertexOffset:_.length,primitiveOffset:w.length,vertexLength:0,primitiveLength:0},void 0!==I&&(F.sortKey=I),this.segments.push(F)),F}get(){return this.segments}destroy(){for(const c of this.segments)for(const _ in c.vaos)c.vaos[_].destroy()}static simpleSegment(c,_,w,I){return new fl([{vertexOffset:c,primitiveOffset:_,vertexLength:w,primitiveLength:I,vaos:{},sortKey:0}])}}fl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,vi("SegmentVector",fl);var Dr=8192;const Bu=Math.pow(2,14)-1,hs=-Bu-1;function _p(g){const c=Dr/g.extent,_=g.loadGeometry();for(let w=0;w<_.length;w++){const I=_[w];for(let F=0;F<I.length;F++){const B=I[F],Q=Math.round(B.x*c),ne=Math.round(B.y*c);B.x=jt(Q,hs,Bu),B.y=jt(ne,hs,Bu),(Q<B.x||Q>B.x+1||ne<B.y||ne>B.y+1)&&Fi("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return _}function Gc(g,c){return{type:g.type,id:g.id,properties:g.properties,geometry:c?_p(g):[]}}function _d(g,c,_,w,I){g.emplaceBack(2*c+(w+1)/2,2*_+(I+1)/2)}class Il{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(_=>_.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new Si,this.indexArray=new Ns,this.segments=new fl,this.programConfigurations=new Th(c.layers,c.zoom),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(c,_,w){const I=this.layers[0],F=[];let B=null;"circle"===I.type&&(B=I.layout.get("circle-sort-key"));for(const{feature:Q,id:ne,index:he,sourceLayerIndex:ye}of c){const we=this.layers[0]._featureFilter.needGeometry,Ie=Gc(Q,we);if(!this.layers[0]._featureFilter.filter(new We(this.zoom),Ie,w))continue;const Ye=B?B.evaluate(Ie,{},w):void 0,Qe={id:ne,properties:Q.properties,type:Q.type,sourceLayerIndex:ye,index:he,geometry:we?Ie.geometry:_p(Q),patterns:{},sortKey:Ye};F.push(Qe)}B&&F.sort((Q,ne)=>Q.sortKey-ne.sortKey);for(const Q of F){const{geometry:ne,index:he,sourceLayerIndex:ye}=Q,we=c[he].feature;this.addFeature(Q,ne,he,w),_.featureIndex.insert(we,ne,he,ye,this.index)}}update(c,_,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,_,this.stateDependentLayers,w)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,M_),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,_,w,I){for(const F of _)for(const B of F){const Q=B.x,ne=B.y;if(Q<0||Q>=Dr||ne<0||ne>=Dr)continue;const he=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,c.sortKey),ye=he.vertexLength;_d(this.layoutVertexArray,Q,ne,-1,-1),_d(this.layoutVertexArray,Q,ne,1,-1),_d(this.layoutVertexArray,Q,ne,1,1),_d(this.layoutVertexArray,Q,ne,-1,1),this.indexArray.emplaceBack(ye,ye+1,ye+2),this.indexArray.emplaceBack(ye,ye+3,ye+2),he.vertexLength+=4,he.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,w,{},I)}}function Am(g,c){for(let _=0;_<g.length;_++)if(tl(c,g[_]))return!0;for(let _=0;_<c.length;_++)if(tl(g,c[_]))return!0;return!!Qd(g,c)}function Zc(g,c,_){return!!tl(g,c)||!!Qf(c,g,_)}function yd(g,c){if(1===g.length)return el(c,g[0]);for(let _=0;_<c.length;_++){const w=c[_];for(let I=0;I<w.length;I++)if(tl(g,w[I]))return!0}for(let _=0;_<g.length;_++)if(el(c,g[_]))return!0;for(let _=0;_<c.length;_++)if(Qd(g,c[_]))return!0;return!1}function Ll(g,c,_){if(g.length>1){if(Qd(g,c))return!0;for(let w=0;w<c.length;w++)if(Qf(c[w],g,_))return!0}for(let w=0;w<g.length;w++)if(Qf(g[w],c,_))return!0;return!1}function Qd(g,c){if(0===g.length||0===c.length)return!1;for(let _=0;_<g.length-1;_++){const w=g[_],I=g[_+1];for(let F=0;F<c.length-1;F++)if(Jd(w,I,c[F],c[F+1]))return!0}return!1}function Jd(g,c,_,w){return ui(g,_,w)!==ui(c,_,w)&&ui(g,c,_)!==ui(g,c,w)}function Qf(g,c,_){const w=_*_;if(1===c.length)return g.distSqr(c[0])<w;for(let I=1;I<c.length;I++)if(T_(g,c[I-1],c[I])<w)return!0;return!1}function T_(g,c,_){const w=c.distSqr(_);if(0===w)return g.distSqr(c);const I=((g.x-c.x)*(_.x-c.x)+(g.y-c.y)*(_.y-c.y))/w;return g.distSqr(I<0?c:I>1?_:_.sub(c)._mult(I)._add(c))}function el(g,c){let _,w,I,F=!1;for(let B=0;B<g.length;B++){_=g[B];for(let Q=0,ne=_.length-1;Q<_.length;ne=Q++)w=_[Q],I=_[ne],w.y>c.y!=I.y>c.y&&c.x<(I.x-w.x)*(c.y-w.y)/(I.y-w.y)+w.x&&(F=!F)}return F}function tl(g,c){let _=!1;for(let w=0,I=g.length-1;w<g.length;I=w++){const F=g[w],B=g[I];F.y>c.y!=B.y>c.y&&c.x<(B.x-F.x)*(c.y-F.y)/(B.y-F.y)+F.x&&(_=!_)}return _}function ff(g,c,_,w,I){for(const B of g)if(c<=B.x&&_<=B.y&&w>=B.x&&I>=B.y)return!0;const F=[new xe(c,_),new xe(c,I),new xe(w,I),new xe(w,_)];if(g.length>2)for(const B of F)if(tl(g,B))return!0;for(let B=0;B<g.length-1;B++)if(Jf(g[B],g[B+1],F))return!0;return!1}function Jf(g,c,_){const w=_[0],I=_[2];if(g.x<w.x&&c.x<w.x||g.x>I.x&&c.x>I.x||g.y<w.y&&c.y<w.y||g.y>I.y&&c.y>I.y)return!1;const F=ui(g,c,_[0]);return F!==ui(g,c,_[1])||F!==ui(g,c,_[2])||F!==ui(g,c,_[3])}function mf(g,c,_){const w=c.paint.get(g).value;return"constant"===w.kind?w.value:_.programConfigurations.get(c.id).getMaxValue(g)}function Kf(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function em(g,c,_,w,I){if(!c[0]&&!c[1])return g;const F=xe.convert(c)._mult(I);"viewport"===_&&F._rotate(-w);const B=[];for(let Q=0;Q<g.length;Q++)B.push(g[Q].sub(F));return B}function Im(g,c,_,w){const I=xe.convert(g)._mult(w);return"viewport"===c&&I._rotate(-_),I}vi("CircleBucket",Il,{omit:["layers"]});const Mg=new Dt({"circle-sort-key":new kt(v.layout_circle["circle-sort-key"])});var hc={paint:new Dt({"circle-radius":new kt(v.paint_circle["circle-radius"]),"circle-color":new kt(v.paint_circle["circle-color"]),"circle-blur":new kt(v.paint_circle["circle-blur"]),"circle-opacity":new kt(v.paint_circle["circle-opacity"]),"circle-translate":new Ct(v.paint_circle["circle-translate"]),"circle-translate-anchor":new Ct(v.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ct(v.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ct(v.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kt(v.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kt(v.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kt(v.paint_circle["circle-stroke-opacity"])}),layout:Mg},Qo="undefined"!=typeof Float32Array?Float32Array:Array;function gf(){var g=new Qo(9);return Qo!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0),g[0]=1,g[4]=1,g[8]=1,g}function xa(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}function Zr(g,c,_){var w=c[0],I=c[1],F=c[2],B=c[3],Q=c[4],ne=c[5],he=c[6],ye=c[7],we=c[8],Ie=c[9],Ye=c[10],Qe=c[11],mt=c[12],Et=c[13],Yt=c[14],tn=c[15],rn=_[0],on=_[1],gn=_[2],mn=_[3];return g[0]=rn*w+on*Q+gn*we+mn*mt,g[1]=rn*I+on*ne+gn*Ie+mn*Et,g[2]=rn*F+on*he+gn*Ye+mn*Yt,g[3]=rn*B+on*ye+gn*Qe+mn*tn,g[4]=(rn=_[4])*w+(on=_[5])*Q+(gn=_[6])*we+(mn=_[7])*mt,g[5]=rn*I+on*ne+gn*Ie+mn*Et,g[6]=rn*F+on*he+gn*Ye+mn*Yt,g[7]=rn*B+on*ye+gn*Qe+mn*tn,g[8]=(rn=_[8])*w+(on=_[9])*Q+(gn=_[10])*we+(mn=_[11])*mt,g[9]=rn*I+on*ne+gn*Ie+mn*Et,g[10]=rn*F+on*he+gn*Ye+mn*Yt,g[11]=rn*B+on*ye+gn*Qe+mn*tn,g[12]=(rn=_[12])*w+(on=_[13])*Q+(gn=_[14])*we+(mn=_[15])*mt,g[13]=rn*I+on*ne+gn*Ie+mn*Et,g[14]=rn*F+on*he+gn*Ye+mn*Yt,g[15]=rn*B+on*ye+gn*Qe+mn*tn,g}Math.hypot||(Math.hypot=function(){for(var g=0,c=arguments.length;c--;)g+=arguments[c]*arguments[c];return Math.sqrt(g)});var ml=Zr;function yp(){var g=new Qo(3);return Qo!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g}function Cs(g){return Math.hypot(g[0],g[1],g[2])}function Kd(g,c,_){var w=new Qo(3);return w[0]=g,w[1]=c,w[2]=_,w}function _f(g,c,_){return g[0]=c[0]-_[0],g[1]=c[1]-_[1],g[2]=c[2]-_[2],g}function vd(g,c,_){return g[0]=c[0]*_[0],g[1]=c[1]*_[1],g[2]=c[2]*_[2],g}function mu(g,c,_,w){return g[0]=c[0]+_[0]*w,g[1]=c[1]+_[1]*w,g[2]=c[2]+_[2]*w,g}function tm(g,c){var _=c[0],w=c[1],I=c[2],F=_*_+w*w+I*I;return F>0&&(F=1/Math.sqrt(F)),g[0]=c[0]*F,g[1]=c[1]*F,g[2]=c[2]*F,g}function Rp(g,c,_){var w=_[0],I=_[1],F=_[2],B=c[0],Q=c[1],ne=c[2],he=I*ne-F*Q,ye=F*B-w*ne,we=w*Q-I*B,Ie=I*we-F*ye,Ye=F*he-w*we,Qe=w*ye-I*he,mt=2*_[3];return ye*=mt,we*=mt,Ye*=2,Qe*=2,g[0]=B+(he*=mt)+(Ie*=2),g[1]=Q+ye+Ye,g[2]=ne+we+Qe,g}var Sh,Fp=_f,S_=vd,nm=Cs;function kh(g,c,_){var w=c[0],I=c[1],F=c[2],B=c[3];return g[0]=_[0]*w+_[4]*I+_[8]*F+_[12]*B,g[1]=_[1]*w+_[5]*I+_[9]*F+_[13]*B,g[2]=_[2]*w+_[6]*I+_[10]*F+_[14]*B,g[3]=_[3]*w+_[7]*I+_[11]*F+_[15]*B,g}function Vu(){var g=new Qo(4);return Qo!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g[3]=1,g}function Pl(g){return g[0]=0,g[1]=0,g[2]=0,g[3]=1,g}function Eh(g,c,_){_*=.5;var w=c[0],I=c[1],F=c[2],B=c[3],Q=Math.sin(_),ne=Math.cos(_);return g[0]=w*ne+B*Q,g[1]=I*ne+F*Q,g[2]=F*ne-I*Q,g[3]=B*ne-w*Q,g}function Np(g,c,_){const w=kh([],[g.x,g.y,c,1],_);return new xe(w[0]/w[3],w[1]/w[3])}yp(),Sh=new Qo(4),Qo!=Float32Array&&(Sh[0]=0,Sh[1]=0,Sh[2]=0,Sh[3]=0),yp(),Kd(1,0,0),Kd(0,1,0),Vu(),Vu(),gf();const im=Kd(0,0,0),Pa=Kd(0,0,1);function yf(g,c){const _=yp();return im[2]=c,g.intersectsPlane(im,Pa,_),new xe(_[0],_[1])}class vf extends Il{}function Hu(g,{width:c,height:_},w,I){if(I){if(I instanceof Uint8ClampedArray)I=new Uint8Array(I.buffer);else if(I.length!==c*_*w)throw new RangeError("mismatched image size")}else I=new Uint8Array(c*_*w);return g.width=c,g.height=_,g.data=I,g}function gu(g,{width:c,height:_},w){if(c===g.width&&_===g.height)return;const I=Hu({},{width:c,height:_},w);bf(g,I,{x:0,y:0},{x:0,y:0},{width:Math.min(g.width,c),height:Math.min(g.height,_)},w),g.width=c,g.height=_,g.data=I.data}function bf(g,c,_,w,I,F){if(0===I.width||0===I.height)return c;if(I.width>g.width||I.height>g.height||_.x>g.width-I.width||_.y>g.height-I.height)throw new RangeError("out of range source coordinates for image copy");if(I.width>c.width||I.height>c.height||w.x>c.width-I.width||w.y>c.height-I.height)throw new RangeError("out of range destination coordinates for image copy");const B=g.data,Q=c.data;for(let ne=0;ne<I.height;ne++){const he=((_.y+ne)*g.width+_.x)*F,ye=((w.y+ne)*c.width+w.x)*F;for(let we=0;we<I.width*F;we++)Q[ye+we]=B[he+we]}return c}vi("HeatmapBucket",vf,{omit:["layers"]});class Dh{constructor(c,_){Hu(this,c,1,_)}resize(c){gu(this,c,1)}clone(){return new Dh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,_,w,I,F){bf(c,_,w,I,F,1)}}class Zl{constructor(c,_){Hu(this,c,4,_)}resize(c){gu(this,c,4)}replace(c,_){_?this.data.set(c):this.data=c instanceof Uint8ClampedArray?new Uint8Array(c.buffer):c}clone(){return new Zl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,_,w,I,F){bf(c,_,w,I,F,4)}}vi("AlphaImage",Dh),vi("RGBAImage",Zl);var Tg={paint:new Dt({"heatmap-radius":new kt(v.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kt(v.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ct(v.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ln(v.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ct(v.paint_heatmap["heatmap-opacity"])})};function _u(g){const c={},_=g.resolution||256,w=g.clips?g.clips.length:1,I=g.image||new Zl({width:_,height:w}),F=(B,Q,ne)=>{c[g.evaluationKey]=ne;const he=g.expression.evaluate(c);I.data[B+Q+0]=Math.floor(255*he.r/he.a),I.data[B+Q+1]=Math.floor(255*he.g/he.a),I.data[B+Q+2]=Math.floor(255*he.b/he.a),I.data[B+Q+3]=Math.floor(255*he.a)};if(g.clips)for(let B=0,Q=0;B<w;++B,Q+=4*_)for(let ne=0,he=0;ne<_;ne++,he+=4){const ye=ne/(_-1),{start:we,end:Ie}=g.clips[B];F(Q,he,we*(1-ye)+Ie*ye)}else for(let B=0,Q=0;B<_;B++,Q+=4)F(0,Q,B/(_-1));return I}var yu={paint:new Dt({"hillshade-illumination-direction":new Ct(v.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ct(v.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ct(v.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ct(v.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ct(v.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ct(v.paint_hillshade["hillshade-accent-color"])})};const Lm=Wn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Pm}=Lm;var xf=bd,pc=bd;function bd(g,c,_){_=_||2;var w,I,F,B,Q,ne,he,ye=c&&c.length,we=ye?c[0]*_:g.length,Ie=pr(g,0,we,_,!0),Ye=[];if(!Ie||Ie.next===Ie.prev)return Ye;if(ye&&(Ie=function(mt,Et,Yt,tn){var rn,on,gn,mn=[];for(rn=0,on=Et.length;rn<on;rn++)(gn=pr(mt,Et[rn]*tn,rn<on-1?Et[rn+1]*tn:mt.length,tn,!1))===gn.next&&(gn.steiner=!0),mn.push(xd(gn));for(mn.sort(fc),rn=0;rn<mn.length;rn++)Om(mn[rn],Yt),Yt=vu(Yt,Yt.next);return Yt}(g,c,Ie,_)),g.length>80*_){w=F=g[0],I=B=g[1];for(var Qe=_;Qe<we;Qe+=_)(Q=g[Qe])<w&&(w=Q),(ne=g[Qe+1])<I&&(I=ne),Q>F&&(F=Q),ne>B&&(B=ne);he=0!==(he=Math.max(F-w,B-I))?1/he:0}return Ah(Ie,Ye,_,w,I,he),Ye}function pr(g,c,_,w,I){var F,B;if(I===mc(g,c,_,w)>0)for(F=c;F<_;F+=w)B=D_(F,g[F],g[F+1],B);else for(F=_-w;F>=c;F-=w)B=D_(F,g[F],g[F+1],B);return B&&wf(B,B.next)&&(Cf(B),B=B.next),B}function vu(g,c){if(!g)return g;c||(c=g);var _,w=g;do{if(_=!1,w.steiner||!wf(w,w.next)&&0!==mo(w.prev,w,w.next))w=w.next;else{if(Cf(w),(w=c=w.prev)===w.next)break;_=!0}}while(_||w!==c);return c}function Ah(g,c,_,w,I,F,B){if(g){!B&&F&&function(ye,we,Ie,Ye){var Qe=ye;do{null===Qe.z&&(Qe.z=Rm(Qe.x,Qe.y,we,Ie,Ye)),Qe.prevZ=Qe.prev,Qe.nextZ=Qe.next,Qe=Qe.next}while(Qe!==ye);Qe.prevZ.nextZ=null,Qe.prevZ=null,function(mt){var Et,Yt,tn,rn,on,gn,mn,zn,Xn=1;do{for(Yt=mt,mt=null,on=null,gn=0;Yt;){for(gn++,tn=Yt,mn=0,Et=0;Et<Xn&&(mn++,tn=tn.nextZ);Et++);for(zn=Xn;mn>0||zn>0&&tn;)0!==mn&&(0===zn||!tn||Yt.z<=tn.z)?(rn=Yt,Yt=Yt.nextZ,mn--):(rn=tn,tn=tn.nextZ,zn--),on?on.nextZ=rn:mt=rn,rn.prevZ=on,on=rn;Yt=tn}on.nextZ=null,Xn*=2}while(gn>1)}(Qe)}(g,w,I,F);for(var Q,ne,he=g;g.prev!==g.next;)if(Q=g.prev,ne=g.next,F?k_(g,w,I,F):Uu(g))c.push(Q.i/_),c.push(g.i/_),c.push(ne.i/_),Cf(g),g=ne.next,he=ne.next;else if((g=ne)===he){B?1===B?Ah(g=rm(vu(g),c,_),c,_,w,I,F,2):2===B&&Ih(g,c,_,w,I,F):Ah(vu(g),c,_,w,I,F,1);break}}}function Uu(g){var c=g.prev,_=g,w=g.next;if(mo(c,_,w)>=0)return!1;for(var I=g.next.next;I!==g.prev;){if(eh(c.x,c.y,_.x,_.y,w.x,w.y,I.x,I.y)&&mo(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function k_(g,c,_,w){var I=g.prev,F=g,B=g.next;if(mo(I,F,B)>=0)return!1;for(var Q=I.x>F.x?I.x>B.x?I.x:B.x:F.x>B.x?F.x:B.x,ne=I.y>F.y?I.y>B.y?I.y:B.y:F.y>B.y?F.y:B.y,he=Rm(I.x<F.x?I.x<B.x?I.x:B.x:F.x<B.x?F.x:B.x,I.y<F.y?I.y<B.y?I.y:B.y:F.y<B.y?F.y:B.y,c,_,w),ye=Rm(Q,ne,c,_,w),we=g.prevZ,Ie=g.nextZ;we&&we.z>=he&&Ie&&Ie.z<=ye;){if(we!==g.prev&&we!==g.next&&eh(I.x,I.y,F.x,F.y,B.x,B.y,we.x,we.y)&&mo(we.prev,we,we.next)>=0||(we=we.prevZ,Ie!==g.prev&&Ie!==g.next&&eh(I.x,I.y,F.x,F.y,B.x,B.y,Ie.x,Ie.y)&&mo(Ie.prev,Ie,Ie.next)>=0))return!1;Ie=Ie.nextZ}for(;we&&we.z>=he;){if(we!==g.prev&&we!==g.next&&eh(I.x,I.y,F.x,F.y,B.x,B.y,we.x,we.y)&&mo(we.prev,we,we.next)>=0)return!1;we=we.prevZ}for(;Ie&&Ie.z<=ye;){if(Ie!==g.prev&&Ie!==g.next&&eh(I.x,I.y,F.x,F.y,B.x,B.y,Ie.x,Ie.y)&&mo(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.nextZ}return!0}function rm(g,c,_){var w=g;do{var I=w.prev,F=w.next.next;!wf(I,F)&&ju(I,w,w.next,F)&&vp(I,F)&&vp(F,I)&&(c.push(I.i/_),c.push(w.i/_),c.push(F.i/_),Cf(w),Cf(w.next),w=g=F),w=w.next}while(w!==g);return vu(w)}function Ih(g,c,_,w,I,F){var B=g;do{for(var Q=B.next.next;Q!==B.prev;){if(B.i!==Q.i&&Wl(B,Q)){var ne=Fm(B,Q);return B=vu(B,B.next),ne=vu(ne,ne.next),Ah(B,c,_,w,I,F),void Ah(ne,c,_,w,I,F)}Q=Q.next}B=B.next}while(B!==g)}function fc(g,c){return g.x-c.x}function Om(g,c){if(c=function(w,I){var F,B=I,Q=w.x,ne=w.y,he=-1/0;do{if(ne<=B.y&&ne>=B.next.y&&B.next.y!==B.y){var ye=B.x+(ne-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(ye<=Q&&ye>he){if(he=ye,ye===Q){if(ne===B.y)return B;if(ne===B.next.y)return B.next}F=B.x<B.next.x?B:B.next}}B=B.next}while(B!==I);if(!F)return null;if(Q===he)return F;var we,Ie=F,Ye=F.x,Qe=F.y,mt=1/0;B=F;do{Q>=B.x&&B.x>=Ye&&Q!==B.x&&eh(ne<Qe?Q:he,ne,Ye,Qe,ne<Qe?he:Q,ne,B.x,B.y)&&(we=Math.abs(ne-B.y)/(Q-B.x),vp(B,w)&&(we<mt||we===mt&&(B.x>F.x||B.x===F.x&&E_(F,B)))&&(F=B,mt=we)),B=B.next}while(B!==Ie);return F}(g,c)){var _=Fm(c,g);vu(c,c.next),vu(_,_.next)}}function E_(g,c){return mo(g.prev,g,c.prev)<0&&mo(c.next,g,g.next)<0}function Rm(g,c,_,w,I){return(g=1431655765&((g=858993459&((g=252645135&((g=16711935&((g=32767*(g-_)*I)|g<<8))|g<<4))|g<<2))|g<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-w)*I)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function xd(g){var c=g,_=g;do{(c.x<_.x||c.x===_.x&&c.y<_.y)&&(_=c),c=c.next}while(c!==g);return _}function eh(g,c,_,w,I,F,B,Q){return(I-B)*(c-Q)-(g-B)*(F-Q)>=0&&(g-B)*(w-Q)-(_-B)*(c-Q)>=0&&(_-B)*(F-Q)-(I-B)*(w-Q)>=0}function Wl(g,c){return g.next.i!==c.i&&g.prev.i!==c.i&&!function(_,w){var I=_;do{if(I.i!==_.i&&I.next.i!==_.i&&I.i!==w.i&&I.next.i!==w.i&&ju(I,I.next,_,w))return!0;I=I.next}while(I!==_);return!1}(g,c)&&(vp(g,c)&&vp(c,g)&&function(_,w){var I=_,F=!1,B=(_.x+w.x)/2,Q=(_.y+w.y)/2;do{I.y>Q!=I.next.y>Q&&I.next.y!==I.y&&B<(I.next.x-I.x)*(Q-I.y)/(I.next.y-I.y)+I.x&&(F=!F),I=I.next}while(I!==_);return F}(g,c)&&(mo(g.prev,g,c.prev)||mo(g,c.prev,c))||wf(g,c)&&mo(g.prev,g,g.next)>0&&mo(c.prev,c,c.next)>0)}function mo(g,c,_){return(c.y-g.y)*(_.x-c.x)-(c.x-g.x)*(_.y-c.y)}function wf(g,c){return g.x===c.x&&g.y===c.y}function ju(g,c,_,w){var I=sm(mo(g,c,_)),F=sm(mo(g,c,w)),B=sm(mo(_,w,g)),Q=sm(mo(_,w,c));return I!==F&&B!==Q||!(0!==I||!nl(g,_,c))||!(0!==F||!nl(g,w,c))||!(0!==B||!nl(_,g,w))||!(0!==Q||!nl(_,c,w))}function nl(g,c,_){return c.x<=Math.max(g.x,_.x)&&c.x>=Math.min(g.x,_.x)&&c.y<=Math.max(g.y,_.y)&&c.y>=Math.min(g.y,_.y)}function sm(g){return g>0?1:g<0?-1:0}function vp(g,c){return mo(g.prev,g,g.next)<0?mo(g,c,g.next)>=0&&mo(g,g.prev,c)>=0:mo(g,c,g.prev)<0||mo(g,g.next,c)<0}function Fm(g,c){var _=new bu(g.i,g.x,g.y),w=new bu(c.i,c.x,c.y),I=g.next,F=c.prev;return g.next=c,c.prev=g,_.next=I,I.prev=_,w.next=_,_.prev=w,F.next=w,w.prev=F,w}function D_(g,c,_,w){var I=new bu(g,c,_);return w?(I.next=w.next,I.prev=w,w.next.prev=I,w.next=I):(I.prev=I,I.next=I),I}function Cf(g){g.next.prev=g.prev,g.prev.next=g.next,g.prevZ&&(g.prevZ.nextZ=g.nextZ),g.nextZ&&(g.nextZ.prevZ=g.prevZ)}function bu(g,c,_){this.i=g,this.x=c,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mc(g,c,_,w){for(var I=0,F=c,B=_-w;F<_;F+=w)I+=(g[B]-g[F])*(g[F+1]+g[B+1]),B=F;return I}function Ry(g,c,_,w,I){Sg(g,c,_||0,w||g.length-1,I||Fy)}function Sg(g,c,_,w,I){for(;w>_;){if(w-_>600){var F=w-_+1,B=c-_+1,Q=Math.log(F),ne=.5*Math.exp(2*Q/3),he=.5*Math.sqrt(Q*ne*(F-ne)/F)*(B-F/2<0?-1:1);Sg(g,c,Math.max(_,Math.floor(c-B*ne/F+he)),Math.min(w,Math.floor(c+(F-B)*ne/F+he)),I)}var ye=g[c],we=_,Ie=w;for(Mf(g,_,c),I(g[w],ye)>0&&Mf(g,_,w);we<Ie;){for(Mf(g,we,Ie),we++,Ie--;I(g[we],ye)<0;)we++;for(;I(g[Ie],ye)>0;)Ie--}0===I(g[_],ye)?Mf(g,_,Ie):Mf(g,++Ie,w),Ie<=c&&(_=Ie+1),c<=Ie&&(w=Ie-1)}}function Mf(g,c,_){var w=g[c];g[c]=g[_],g[_]=w}function Fy(g,c){return g<c?-1:g>c?1:0}function xu(g,c){const _=g.length;if(_<=1)return[g];const w=[];let I,F;for(let B=0;B<_;B++){const Q=bi(g[B]);0!==Q&&(g[B].area=Math.abs(Q),void 0===F&&(F=Q<0),F===Q<0?(I&&w.push(I),I=[g[B]]):I.push(g[B]))}if(I&&w.push(I),c>1)for(let B=0;B<w.length;B++)w[B].length<=c||(Ry(w[B],c,1,w[B].length-1,Nm),w[B]=w[B].slice(0,c));return w}function Nm(g,c){return c.area-g.area}function th(g,c,_){const w=_.patternDependencies;let I=!1;for(const F of c){const B=F.paint.get(`${g}-pattern`);B.isConstant()||(I=!0);const Q=B.constantOr(null);Q&&(I=!0,w[Q.to]=!0,w[Q.from]=!0)}return I}function om(g,c,_,w,I){const F=I.patternDependencies;for(const B of c){const Q=B.paint.get(`${g}-pattern`).value;if("constant"!==Q.kind){let ne=Q.evaluate({zoom:w-1},_,{},I.availableImages),he=Q.evaluate({zoom:w},_,{},I.availableImages),ye=Q.evaluate({zoom:w+1},_,{},I.availableImages);ne=ne&&ne.name?ne.name:ne,he=he&&he.name?he.name:he,ye=ye&&ye.name?ye.name:ye,F[ne]=!0,F[he]=!0,F[ye]=!0,_.patterns[B.id]={min:ne,mid:he,max:ye}}}return _}bd.deviation=function(g,c,_,w){var I=c&&c.length,F=Math.abs(mc(g,0,I?c[0]*_:g.length,_));if(I)for(var B=0,Q=c.length;B<Q;B++)F-=Math.abs(mc(g,c[B]*_,B<Q-1?c[B+1]*_:g.length,_));var ne=0;for(B=0;B<w.length;B+=3){var he=w[B]*_,ye=w[B+1]*_,we=w[B+2]*_;ne+=Math.abs((g[he]-g[we])*(g[ye+1]-g[he+1])-(g[he]-g[ye])*(g[we+1]-g[he+1]))}return 0===F&&0===ne?0:Math.abs((ne-F)/F)},bd.flatten=function(g){for(var c=g[0][0].length,_={vertices:[],holes:[],dimensions:c},w=0,I=0;I<g.length;I++){for(var F=0;F<g[I].length;F++)for(var B=0;B<c;B++)_.vertices.push(g[I][F][B]);I>0&&_.holes.push(w+=g[I-1].length)}return _},xf.default=pc;class Gu{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(_=>_.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Si,this.indexArray=new Ns,this.indexArray2=new Ja,this.programConfigurations=new Th(c.layers,c.zoom),this.segments=new fl,this.segments2=new fl,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(c,_,w){this.hasPattern=th("fill",this.layers,_);const I=this.layers[0].layout.get("fill-sort-key"),F=[];for(const{feature:B,id:Q,index:ne,sourceLayerIndex:he}of c){const ye=this.layers[0]._featureFilter.needGeometry,we=Gc(B,ye);if(!this.layers[0]._featureFilter.filter(new We(this.zoom),we,w))continue;const Ie=I?I.evaluate(we,{},w,_.availableImages):void 0,Ye={id:Q,properties:B.properties,type:B.type,sourceLayerIndex:he,index:ne,geometry:ye?we.geometry:_p(B),patterns:{},sortKey:Ie};F.push(Ye)}I&&F.sort((B,Q)=>B.sortKey-Q.sortKey);for(const B of F){const{geometry:Q,index:ne,sourceLayerIndex:he}=B;if(this.hasPattern){const ye=om("fill",this.layers,B,this.zoom,_);this.patternFeatures.push(ye)}else this.addFeature(B,Q,ne,w,{});_.featureIndex.insert(c[ne].feature,Q,ne,he,this.index)}}update(c,_,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,_,this.stateDependentLayers,w)}addFeatures(c,_,w){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,_,w)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Pm),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.indexBuffer2=c.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(c,_,w,I,F){for(const B of xu(_,500)){let Q=0;for(const Ye of B)Q+=Ye.length;const ne=this.segments.prepareSegment(Q,this.layoutVertexArray,this.indexArray),he=ne.vertexLength,ye=[],we=[];for(const Ye of B){if(0===Ye.length)continue;Ye!==B[0]&&we.push(ye.length/2);const Qe=this.segments2.prepareSegment(Ye.length,this.layoutVertexArray,this.indexArray2),mt=Qe.vertexLength;this.layoutVertexArray.emplaceBack(Ye[0].x,Ye[0].y),this.indexArray2.emplaceBack(mt+Ye.length-1,mt),ye.push(Ye[0].x),ye.push(Ye[0].y);for(let Et=1;Et<Ye.length;Et++)this.layoutVertexArray.emplaceBack(Ye[Et].x,Ye[Et].y),this.indexArray2.emplaceBack(mt+Et-1,mt+Et),ye.push(Ye[Et].x),ye.push(Ye[Et].y);Qe.vertexLength+=Ye.length,Qe.primitiveLength+=Ye.length}const Ie=xf(ye,we);for(let Ye=0;Ye<Ie.length;Ye+=3)this.indexArray.emplaceBack(he+Ie[Ye],he+Ie[Ye+1],he+Ie[Ye+2]);ne.vertexLength+=Q,ne.primitiveLength+=Ie.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,w,F,I)}}vi("FillBucket",Gu,{omit:["layers","patternFeatures"]});const wd=new Dt({"fill-sort-key":new kt(v.layout_fill["fill-sort-key"])});var wu={paint:new Dt({"fill-antialias":new Ct(v.paint_fill["fill-antialias"]),"fill-opacity":new kt(v.paint_fill["fill-opacity"]),"fill-color":new kt(v.paint_fill["fill-color"]),"fill-outline-color":new kt(v.paint_fill["fill-outline-color"]),"fill-translate":new Ct(v.paint_fill["fill-translate"]),"fill-translate-anchor":new Ct(v.paint_fill["fill-translate-anchor"]),"fill-pattern":new wn(v.paint_fill["fill-pattern"])}),layout:wd};const zm=Wn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),nh=Wn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:Ym}=zm;var Tf=Sf;function Sf(g,c,_,w,I){this.properties={},this.extent=_,this.type=0,this._pbf=g,this._geometry=-1,this._keys=w,this._values=I,g.readFields(Dc,this,c)}function Dc(g,c,_){1==g?c.id=_.readVarint():2==g?function(w,I){for(var F=w.readVarint()+w.pos;w.pos<F;){var B=I._keys[w.readVarint()],Q=I._values[w.readVarint()];I.properties[B]=Q}}(_,c):3==g?c.type=_.readVarint():4==g&&(c._geometry=_.pos)}function Cu(g){for(var c,_,w=0,I=0,F=g.length,B=F-1;I<F;B=I++)w+=((_=g[B]).x-(c=g[I]).x)*(c.y+_.y);return w}Sf.types=["Unknown","Point","LineString","Polygon"],Sf.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var c,_=g.readVarint()+g.pos,w=1,I=0,F=0,B=0,Q=[];g.pos<_;){if(I<=0){var ne=g.readVarint();w=7&ne,I=ne>>3}if(I--,1===w||2===w)F+=g.readSVarint(),B+=g.readSVarint(),1===w&&(c&&Q.push(c),c=[]),c.push(new xe(F,B));else{if(7!==w)throw new Error("unknown command "+w);c&&c.push(c[0].clone())}}return c&&Q.push(c),Q},Sf.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var c=g.readVarint()+g.pos,_=1,w=0,I=0,F=0,B=1/0,Q=-1/0,ne=1/0,he=-1/0;g.pos<c;){if(w<=0){var ye=g.readVarint();_=7&ye,w=ye>>3}if(w--,1===_||2===_)(I+=g.readSVarint())<B&&(B=I),I>Q&&(Q=I),(F+=g.readSVarint())<ne&&(ne=F),F>he&&(he=F);else if(7!==_)throw new Error("unknown command "+_)}return[B,ne,Q,he]},Sf.prototype.toGeoJSON=function(g,c,_){var w,I,F=this.extent*Math.pow(2,_),B=this.extent*g,Q=this.extent*c,ne=this.loadGeometry(),he=Sf.types[this.type];function ye(Ye){for(var Qe=0;Qe<Ye.length;Qe++){var mt=Ye[Qe];Ye[Qe]=[360*(mt.x+B)/F-180,360/Math.PI*Math.atan(Math.exp((180-360*(mt.y+Q)/F)*Math.PI/180))-90]}}switch(this.type){case 1:var we=[];for(w=0;w<ne.length;w++)we[w]=ne[w][0];ye(ne=we);break;case 2:for(w=0;w<ne.length;w++)ye(ne[w]);break;case 3:for(ne=function(Ye){var Qe=Ye.length;if(Qe<=1)return[Ye];for(var mt,Et,Yt=[],tn=0;tn<Qe;tn++){var rn=Cu(Ye[tn]);0!==rn&&(void 0===Et&&(Et=rn<0),Et===rn<0?(mt&&Yt.push(mt),mt=[Ye[tn]]):mt.push(Ye[tn]))}return mt&&Yt.push(mt),Yt}(ne),w=0;w<ne.length;w++)for(I=0;I<ne[w].length;I++)ye(ne[w][I])}1===ne.length?ne=ne[0]:he="Multi"+he;var Ie={type:"Feature",geometry:{type:he,coordinates:ne},properties:this.properties};return"id"in this&&(Ie.id=this.id),Ie};var zp=Bm;function Bm(g,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=g,this._keys=[],this._values=[],this._features=[],g.readFields(Vm,this,c),this.length=this._features.length}function Vm(g,c,_){15===g?c.version=_.readVarint():1===g?c.name=_.readString():5===g?c.extent=_.readVarint():2===g?c._features.push(_.pos):3===g?c._keys.push(_.readString()):4===g&&c._values.push(function(w){for(var I=null,F=w.readVarint()+w.pos;w.pos<F;){var B=w.readVarint()>>3;I=1===B?w.readString():2===B?w.readFloat():3===B?w.readDouble():4===B?w.readVarint64():5===B?w.readVarint():6===B?w.readSVarint():7===B?w.readBoolean():null}return I}(_))}function Ny(g,c,_){if(3===g){var w=new zp(_,_.readVarint()+_.pos);w.length&&(c[w.name]=w)}}Bm.prototype.feature=function(g){if(g<0||g>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[g];var c=this._pbf.readVarint()+this._pbf.pos;return new Tf(this._pbf,c,this.extent,this._keys,this._values)};var Yp={VectorTile:function(g,c){this.layers=g.readFields(Ny,{},c)},VectorTileFeature:Tf,VectorTileLayer:zp};const kg=Yp.VectorTileFeature.types,Zu=Math.pow(2,13);function kf(g,c,_,w,I,F,B,Q){g.emplaceBack((c<<1)+B,(_<<1)+F,(Math.floor(w*Zu)<<1)+I,Math.round(Q))}class Eg{constructor(){this.acc=new xe(0,0),this.polyCount=[]}startRing(c){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new xe(c.x,c.y),this.max=new xe(c.x,c.y))}append(c,_){this.currentPolyCount.edges++,this.acc._add(c);let w=!!this.borders;const I=this.min,F=this.max;c.x<I.x?(I.x=c.x,w=!0):c.x>F.x&&(F.x=c.x,w=!0),c.y<I.y?(I.y=c.y,w=!0):c.y>F.y&&(F.y=c.y,w=!0),((0===c.x||c.x===Dr)&&c.x===_.x)!=((0===c.y||c.y===Dr)&&c.y===_.y)&&this.processBorderOverlap(c,_),w&&this.checkBorderIntersection(c,_)}checkBorderIntersection(c,_){_.x<0!=c.x<0&&this.addBorderIntersection(0,di(_.y,c.y,(0-_.x)/(c.x-_.x))),_.x>Dr!=c.x>Dr&&this.addBorderIntersection(1,di(_.y,c.y,(Dr-_.x)/(c.x-_.x))),_.y<0!=c.y<0&&this.addBorderIntersection(2,di(_.x,c.x,(0-_.y)/(c.y-_.y))),_.y>Dr!=c.y>Dr&&this.addBorderIntersection(3,di(_.x,c.x,(Dr-_.y)/(c.y-_.y)))}addBorderIntersection(c,_){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const w=this.borders[c];_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}processBorderOverlap(c,_){if(c.x===_.x){if(c.y===_.y)return;const w=0===c.x?0:1;this.addBorderIntersection(w,_.y),this.addBorderIntersection(w,c.y)}else{const w=0===c.y?2:3;this.addBorderIntersection(w,_.x),this.addBorderIntersection(w,c.x)}}centroid(){const c=this.polyCount.reduce((_,w)=>_+w.edges,0);return 0!==c?this.acc.div(c)._round():new xe(0,0)}span(){return new xe(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((c,_)=>c+ +(_[0]!==Number.MAX_VALUE),0)}}class Bp{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(_=>_.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new jr,this.centroidVertexArray=new oe,this.indexArray=new Ns,this.programConfigurations=new Th(c.layers,c.zoom),this.segments=new fl,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.enableTerrain=c.enableTerrain}populate(c,_,w){this.features=[],this.hasPattern=th("fill-extrusion",this.layers,_),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(I){const F=Math.exp(Math.PI*(1-I.y/(1<<I.z)*2));return 80150034*F/(F*F+1)/Dr/(1<<I.z)}(w);for(const{feature:I,id:F,index:B,sourceLayerIndex:Q}of c){const ne=this.layers[0]._featureFilter.needGeometry,he=Gc(I,ne);if(!this.layers[0]._featureFilter.filter(new We(this.zoom),he,w))continue;const ye={id:F,sourceLayerIndex:Q,index:B,geometry:ne?he.geometry:_p(I),properties:I.properties,type:I.type,patterns:{}},we=this.layoutVertexArray.length;this.hasPattern?this.features.push(om("fill-extrusion",this.layers,ye,this.zoom,_)):this.addFeature(ye,ye.geometry,B,w,{}),_.featureIndex.insert(I,ye.geometry,B,Q,this.index,we)}this.sortBorders()}addFeatures(c,_,w){for(const I of this.features){const{geometry:F}=I;this.addFeature(I,F,I.index,_,w)}this.sortBorders()}update(c,_,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,_,this.stateDependentLayers,w)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Ym),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}uploadCentroid(c){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=c.createVertexBuffer(this.centroidVertexArray,nh.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,_,w,I,F){const B=this.enableTerrain?new Eg:null;for(const ne of xu(_,500)){let he=0,ye=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===ne.length||(Q=ne[0]).every(mt=>mt.x<=0)||Q.every(mt=>mt.x>=Dr)||Q.every(mt=>mt.y<=0)||Q.every(mt=>mt.y>=Dr))continue;for(let mt=0;mt<ne.length;mt++){const Et=ne[mt];if(0===Et.length)continue;he+=Et.length;let Yt=0;B&&B.startRing(Et[0]);for(let tn=0;tn<Et.length;tn++){const rn=Et[tn];if(tn>=1){const on=Et[tn-1];if(!Ef(rn,on)){B&&B.append(rn,on),ye.vertexLength+4>fl.MAX_VERTEX_ARRAY_LENGTH&&(ye=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const gn=rn.sub(on)._perp(),mn=gn.x/(Math.abs(gn.x)+Math.abs(gn.y)),zn=gn.y>0?1:0,Xn=on.dist(rn);Yt+Xn>32768&&(Yt=0),kf(this.layoutVertexArray,rn.x,rn.y,mn,zn,0,0,Yt),kf(this.layoutVertexArray,rn.x,rn.y,mn,zn,0,1,Yt),Yt+=Xn,kf(this.layoutVertexArray,on.x,on.y,mn,zn,0,0,Yt),kf(this.layoutVertexArray,on.x,on.y,mn,zn,0,1,Yt);const Bn=ye.vertexLength;this.indexArray.emplaceBack(Bn,Bn+2,Bn+1),this.indexArray.emplaceBack(Bn+1,Bn+2,Bn+3),ye.vertexLength+=4,ye.primitiveLength+=2}}}}if(ye.vertexLength+he>fl.MAX_VERTEX_ARRAY_LENGTH&&(ye=this.segments.prepareSegment(he,this.layoutVertexArray,this.indexArray)),"Polygon"!==kg[c.type])continue;const we=[],Ie=[],Ye=ye.vertexLength;for(let mt=0;mt<ne.length;mt++){const Et=ne[mt];if(0!==Et.length){Et!==ne[0]&&Ie.push(we.length/2);for(let Yt=0;Yt<Et.length;Yt++){const tn=Et[Yt];kf(this.layoutVertexArray,tn.x,tn.y,0,0,1,1,0),we.push(tn.x),we.push(tn.y),B&&B.currentPolyCount.top++}}}const Qe=xf(we,Ie);for(let mt=0;mt<Qe.length;mt+=3)this.indexArray.emplaceBack(Ye+Qe[mt],Ye+Qe[mt+2],Ye+Qe[mt+1]);ye.primitiveLength+=Qe.length/3,ye.vertexLength+=he}var Q;if(B&&B.polyCount.length>0){if(B.borders){B.vertexArrayOffset=this.centroidVertexArray.length;const ne=B.borders,he=this.featuresOnBorder.push(B)-1;for(let ye=0;ye<4;ye++)ne[ye][0]!==Number.MAX_VALUE&&this.borders[ye].push(he)}this.encodeCentroid(B.borders?void 0:B.centroid(),B)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,w,F,I)}sortBorders(){for(let c=0;c<4;c++)this.borders[c].sort((_,w)=>this.featuresOnBorder[_].borders[c][0]-this.featuresOnBorder[w].borders[c][0])}encodeCentroid(c,_,w=!0){let I,F;if(c)if(0!==c.y){const Q=_.span()._mult(this.tileToMeter);I=(Math.max(c.x,1)<<3)+Math.min(7,Math.round(Q.x/10)),F=(Math.max(c.y,1)<<3)+Math.min(7,Math.round(Q.y/10))}else I=Math.ceil(7*(c.x+450)),F=0;else I=0,F=+w;let B=w?this.centroidVertexArray.length:_.vertexArrayOffset;for(const Q of _.polyCount){w&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*Q.edges+Q.top);for(let ne=0;ne<2*Q.edges;ne++)this.centroidVertexArray.emplace(B++,0,F),this.centroidVertexArray.emplace(B++,I,F);for(let ne=0;ne<Q.top;ne++)this.centroidVertexArray.emplace(B++,I,F)}}}function Ef(g,c){return g.x===c.x&&(g.x<0||g.x>Dr)||g.y===c.y&&(g.y<0||g.y>Dr)}vi("FillExtrusionBucket",Bp,{omit:["layers","features"]}),vi("PartMetadata",Eg);var S={paint:new Dt({"fill-extrusion-opacity":new Ct(v["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kt(v["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ct(v["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ct(v["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new wn(v["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kt(v["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kt(v["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ct(v["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function T(g,c){return g.x*c.x+g.y*c.y}function L(g,c){if(1===g.length){let _=0;const w=c[_++];let I;for(;!I||w.equals(I);)if(I=c[_++],!I)return 1/0;for(;_<c.length;_++){const F=c[_],B=g[0],Q=I.sub(w),ne=F.sub(w),he=B.sub(w),ye=T(Q,Q),we=T(Q,ne),Ie=T(ne,ne),Ye=T(he,Q),Qe=T(he,ne),mt=ye*Ie-we*we,Et=(Ie*Ye-we*Qe)/mt,Yt=(ye*Qe-we*Ye)/mt,tn=w.z*(1-Et-Yt)+I.z*Et+F.z*Yt;if(isFinite(tn))return tn}return 1/0}{let _=1/0;for(const w of c)_=Math.min(_,w.z);return _}}function U(g){const c=new xe(g[0],g[1]);return c.z=g[2],c}function ie(g,c,_,w,I,F,B,Q){const ne=B*I.getElevationAt(g,c,!0,!0),he=0!==F[0],ye=he?0===F[1]?B*(F[0]/7-450):B*function(we,Ie,Ye){const Qe=Math.floor(Ie[0]/8),mt=Math.floor(Ie[1]/8),Et=10*(Ie[0]-8*Qe),Yt=10*(Ie[1]-8*mt),tn=we.getElevationAt(Qe,mt,!0,!0),rn=we.getMeterToDEM(Ye),on=Math.floor(.5*(Et*rn-1)),gn=Math.floor(.5*(Yt*rn-1)),mn=we.tileCoordToPixel(Qe,mt),zn=2*on+1,Xn=2*gn+1,Bn=(Ir=zn,Yi=Xn,[(rr=we).getElevationAtPixel(Ar=mn.x-on,Xr=mn.y-gn,!0),rr.getElevationAtPixel(Ar+Yi,Xr,!0),rr.getElevationAtPixel(Ar,Xr+Yi,!0),rr.getElevationAtPixel(Ar+Ir,Xr+Yi,!0)]),ri=Math.abs(Bn[0]-Bn[1]),An=Math.abs(Bn[2]-Bn[3]),Vn=Math.abs(Bn[0]-Bn[2])+Math.abs(Bn[1]-Bn[3]),Kn=Math.min(.25,.5*rn*(ri+An)/zn),Dn=Math.min(.25,.5*rn*Vn/Xn);var rr,Ar,Xr,Ir,Yi;return tn+Math.max(Kn*Et,Dn*Yt)}(I,F,Q):ne;return{base:ne+(0===_)?-1:_,top:he?Math.max(ye+w,ne+_+2):ne+w}}const ge=Wn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Pe}=ge,et=Wn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:lt}=et,Mt=Yp.VectorTileFeature.types,Rt=Math.cos(Math.PI/180*37.5);class bn{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(_=>_.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(_=>{this.gradients[_.id]={}}),this.layoutVertexArray=new os,this.layoutVertexArray2=new ps,this.indexArray=new Ns,this.programConfigurations=new Th(c.layers,c.zoom),this.segments=new fl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id)}populate(c,_,w){this.hasPattern=th("line",this.layers,_);const I=this.layers[0].layout.get("line-sort-key"),F=[];for(const{feature:he,id:ye,index:we,sourceLayerIndex:Ie}of c){const Ye=this.layers[0]._featureFilter.needGeometry,Qe=Gc(he,Ye);if(!this.layers[0]._featureFilter.filter(new We(this.zoom),Qe,w))continue;const mt=I?I.evaluate(Qe,{},w):void 0,Et={id:ye,properties:he.properties,type:he.type,sourceLayerIndex:Ie,index:we,geometry:Ye?Qe.geometry:_p(he),patterns:{},sortKey:mt};F.push(Et)}I&&F.sort((he,ye)=>he.sortKey-ye.sortKey);const{lineAtlas:B,featureIndex:Q}=_,ne=this.addConstantDashes(B);for(const he of F){const{geometry:ye,index:we,sourceLayerIndex:Ie}=he;if(ne&&this.addFeatureDashes(he,B),this.hasPattern){const Ye=om("line",this.layers,he,this.zoom,_);this.patternFeatures.push(Ye)}else this.addFeature(he,ye,we,w,B.positions);Q.insert(c[we].feature,ye,we,Ie,this.index)}}addConstantDashes(c){let _=!1;for(const w of this.layers){const I=w.paint.get("line-dasharray").value,F=w.layout.get("line-cap").value;if("constant"!==I.kind||"constant"!==F.kind)_=!0;else{const B=F.value,Q=I.value;if(!Q)continue;c.addDash(Q.from,B),c.addDash(Q.to,B),Q.other&&c.addDash(Q.other,B)}}return _}addFeatureDashes(c,_){const w=this.zoom;for(const I of this.layers){const F=I.paint.get("line-dasharray").value,B=I.layout.get("line-cap").value;if("constant"===F.kind&&"constant"===B.kind)continue;let Q,ne,he,ye,we,Ie;if("constant"===F.kind){const Et=F.value;if(!Et)continue;Q=Et.other||Et.to,ne=Et.to,he=Et.from}else Q=F.evaluate({zoom:w-1},c),ne=F.evaluate({zoom:w},c),he=F.evaluate({zoom:w+1},c);"constant"===B.kind?ye=we=Ie=B.value:(ye=B.evaluate({zoom:w-1},c),we=B.evaluate({zoom:w},c),Ie=B.evaluate({zoom:w+1},c)),_.addDash(Q,ye),_.addDash(ne,we),_.addDash(he,Ie);const Ye=_.getKey(Q,ye),Qe=_.getKey(ne,we),mt=_.getKey(he,Ie);c.patterns[I.id]={min:Ye,mid:Qe,max:mt}}}update(c,_,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,_,this.stateDependentLayers,w)}addFeatures(c,_,w){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,_,w)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=c.createVertexBuffer(this.layoutVertexArray2,lt)),this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Pe),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(c){if(c.properties&&c.properties.hasOwnProperty("mapbox_clip_start")&&c.properties.hasOwnProperty("mapbox_clip_end"))return{start:+c.properties.mapbox_clip_start,end:+c.properties.mapbox_clip_end}}addFeature(c,_,w,I,F){const B=this.layers[0].layout,Q=B.get("line-join").evaluate(c,{}),ne=B.get("line-cap").evaluate(c,{}),he=B.get("line-miter-limit"),ye=B.get("line-round-limit");this.lineClips=this.lineFeatureClips(c);for(const we of _)this.addLine(we,c,Q,ne,he,ye);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,w,F,I)}addLine(c,_,w,I,F,B){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Yt=0;Yt<c.length-1;Yt++)this.totalDistance+=c[Yt].dist(c[Yt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Q="Polygon"===Mt[_.type];let ne=c.length;for(;ne>=2&&c[ne-1].equals(c[ne-2]);)ne--;let he=0;for(;he<ne-1&&c[he].equals(c[he+1]);)he++;if(ne<(Q?3:2))return;"bevel"===w&&(F=1.05);const ye=this.overscaling<=16?122880/(512*this.overscaling):0,we=this.segments.prepareSegment(10*ne,this.layoutVertexArray,this.indexArray);let Ie,Ye,Qe,mt,Et;this.e1=this.e2=-1,Q&&(Ie=c[ne-2],Et=c[he].sub(Ie)._unit()._perp());for(let Yt=he;Yt<ne;Yt++){if(Qe=Yt===ne-1?Q?c[he+1]:void 0:c[Yt+1],Qe&&c[Yt].equals(Qe))continue;Et&&(mt=Et),Ie&&(Ye=Ie),Ie=c[Yt],Et=Qe?Qe.sub(Ie)._unit()._perp():mt,mt=mt||Et;let tn=mt.add(Et);0===tn.x&&0===tn.y||tn._unit();const rn=mt.x*Et.x+mt.y*Et.y,on=tn.x*Et.x+tn.y*Et.y,gn=0!==on?1/on:1/0,mn=2*Math.sqrt(2-2*on),zn=on<Rt&&Ye&&Qe,Xn=mt.x*Et.y-mt.y*Et.x>0;if(zn&&Yt>he){const An=Ie.dist(Ye);if(An>2*ye){const Vn=Ie.sub(Ie.sub(Ye)._mult(ye/An)._round());this.updateDistance(Ye,Vn),this.addCurrentVertex(Vn,mt,0,0,we),Ye=Vn}}const Bn=Ye&&Qe;let ri=Bn?w:Q?"butt":I;if(Bn&&"round"===ri&&(gn<B?ri="miter":gn<=2&&(ri="fakeround")),"miter"===ri&&gn>F&&(ri="bevel"),"bevel"===ri&&(gn>2&&(ri="flipbevel"),gn<F&&(ri="miter")),Ye&&this.updateDistance(Ye,Ie),"miter"===ri)tn._mult(gn),this.addCurrentVertex(Ie,tn,0,0,we);else if("flipbevel"===ri){if(gn>100)tn=Et.mult(-1);else{const An=gn*mt.add(Et).mag()/mt.sub(Et).mag();tn._perp()._mult(An*(Xn?-1:1))}this.addCurrentVertex(Ie,tn,0,0,we),this.addCurrentVertex(Ie,tn.mult(-1),0,0,we)}else if("bevel"===ri||"fakeround"===ri){const An=-Math.sqrt(gn*gn-1),Vn=Xn?An:0,Kn=Xn?0:An;if(Ye&&this.addCurrentVertex(Ie,mt,Vn,Kn,we),"fakeround"===ri){const Dn=Math.round(180*mn/Math.PI/20);for(let rr=1;rr<Dn;rr++){let Ar=rr/Dn;if(.5!==Ar){const Ir=Ar-.5;Ar+=Ar*Ir*(Ar-1)*((1.0904+rn*(rn*(3.55645-1.43519*rn)-3.2452))*Ir*Ir+(.848013+rn*(.215638*rn-1.06021)))}const Xr=Et.sub(mt)._mult(Ar)._add(mt)._unit()._mult(Xn?-1:1);this.addHalfVertex(Ie,Xr.x,Xr.y,!1,Xn,0,we)}}Qe&&this.addCurrentVertex(Ie,Et,-Vn,-Kn,we)}else if("butt"===ri)this.addCurrentVertex(Ie,tn,0,0,we);else if("square"===ri){const An=Ye?1:-1;Ye||this.addCurrentVertex(Ie,tn,An,An,we),this.addCurrentVertex(Ie,tn,0,0,we),Ye&&this.addCurrentVertex(Ie,tn,An,An,we)}else"round"===ri&&(Ye&&(this.addCurrentVertex(Ie,mt,0,0,we),this.addCurrentVertex(Ie,mt,1,1,we,!0)),Qe&&(this.addCurrentVertex(Ie,Et,-1,-1,we,!0),this.addCurrentVertex(Ie,Et,0,0,we)));if(zn&&Yt<ne-1){const An=Ie.dist(Qe);if(An>2*ye){const Vn=Ie.add(Qe.sub(Ie)._mult(ye/An)._round());this.updateDistance(Ie,Vn),this.addCurrentVertex(Vn,Et,0,0,we),Ie=Vn}}}}addCurrentVertex(c,_,w,I,F,B=!1){const Q=_.y*I-_.x,ne=-_.y-_.x*I;this.addHalfVertex(c,_.x+_.y*w,_.y-_.x*w,B,!1,w,F),this.addHalfVertex(c,Q,ne,B,!0,-I,F)}addHalfVertex({x:c,y:_},w,I,F,B,Q,ne){this.layoutVertexArray.emplaceBack((c<<1)+(F?1:0),(_<<1)+(B?1:0),Math.round(63*w)+128,Math.round(63*I)+128,1+(0===Q?0:Q<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const he=ne.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,he),ne.primitiveLength++),B?this.e2=he:this.e1=he}updateScaledDistance(){if(this.lineClips){const c=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=c*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(c,_){this.distance+=c.dist(_),this.updateScaledDistance()}}vi("LineBucket",bn,{omit:["layers","patternFeatures"]});const Fn=new Dt({"line-cap":new kt(v.layout_line["line-cap"]),"line-join":new kt(v.layout_line["line-join"]),"line-miter-limit":new Ct(v.layout_line["line-miter-limit"]),"line-round-limit":new Ct(v.layout_line["line-round-limit"]),"line-sort-key":new kt(v.layout_line["line-sort-key"])});var ii={paint:new Dt({"line-opacity":new kt(v.paint_line["line-opacity"]),"line-color":new kt(v.paint_line["line-color"]),"line-translate":new Ct(v.paint_line["line-translate"]),"line-translate-anchor":new Ct(v.paint_line["line-translate-anchor"]),"line-width":new kt(v.paint_line["line-width"]),"line-gap-width":new kt(v.paint_line["line-gap-width"]),"line-offset":new kt(v.paint_line["line-offset"]),"line-blur":new kt(v.paint_line["line-blur"]),"line-dasharray":new wn(v.paint_line["line-dasharray"]),"line-pattern":new wn(v.paint_line["line-pattern"]),"line-gradient":new Ln(v.paint_line["line-gradient"])}),layout:Fn};const Mi=new class extends kt{possiblyEvaluate(g,c){return c=new We(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(g,c)}evaluate(g,c,_,w){return c=Li({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(g,c,_,w)}}(ii.paint.properties["line-width"].specification);function Ui(g,c){return c>0?c+2*g:g}Mi.useIntegerZoom=!0;const Qi=Wn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Wr=Wn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Wn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const wa=Wn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Ac=Wn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Wn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Vp=Wn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Hm=Wn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Wn([{name:"triangle",components:3,type:"Uint16"}]),Wn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Wn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Wn([{type:"Float32",name:"offsetX"}]),Wn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Wc=128;function Hp(g,c){const{expression:_}=c;if("constant"===_.kind)return{kind:"constant",layoutSize:_.evaluate(new We(g+1))};if("source"===_.kind)return{kind:"source"};{const{zoomStops:w,interpolationType:I}=_;let F=0;for(;F<w.length&&w[F]<=g;)F++;F=Math.max(0,F-1);let B=F;for(;B<w.length&&w[B]<g+1;)B++;B=Math.min(w.length-1,B);const Q=w[F],ne=w[B];return"composite"===_.kind?{kind:"composite",minZoom:Q,maxZoom:ne,interpolationType:I}:{kind:"camera",minZoom:Q,maxZoom:ne,minSize:_.evaluate(new We(Q)),maxSize:_.evaluate(new We(ne)),interpolationType:I}}}function Dg(g,{uSize:c,uSizeT:_},{lowerSize:w,upperSize:I}){return"source"===g.kind?w/Wc:"composite"===g.kind?di(w/Wc,I/Wc,_):c}function Um(g,c){let _=0,w=0;if("constant"===g.kind)w=g.layoutSize;else if("source"!==g.kind){const{interpolationType:I,minZoom:F,maxZoom:B}=g,Q=I?jt($o.interpolationFactor(I,c,F,B),0,1):0;"camera"===g.kind?w=di(g.minSize,g.maxSize,Q):_=Q}return{uSizeT:_,uSize:w}}var Ag=Object.freeze({__proto__:null,getSizeData:Hp,evaluateSizeForFeature:Dg,evaluateSizeForZoom:Um,SIZE_PACK_FACTOR:Wc});function Fv(g,c,_){return g.sections.forEach(w=>{w.text=function(I,F,B){const Q=F.layout.get("text-transform").evaluate(B,{});return"uppercase"===Q?I=I.toLocaleUpperCase():"lowercase"===Q&&(I=I.toLocaleLowerCase()),Ge.applyArabicShaping&&(I=Ge.applyArabicShaping(I)),I}(w.text,c,_)}),g}const am={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Nv(g){return"\ufe36"===g||"\ufe48"===g||"\ufe38"===g||"\ufe44"===g||"\ufe42"===g||"\ufe3e"===g||"\ufe3c"===g||"\ufe3a"===g||"\ufe18"===g||"\ufe40"===g||"\ufe10"===g||"\ufe13"===g||"\ufe14"===g||"\uff40"===g||"\uffe3"===g||"\ufe11"===g||"\ufe12"===g}function Jx(g){return"\ufe35"===g||"\ufe47"===g||"\ufe37"===g||"\ufe43"===g||"\ufe41"===g||"\ufe3d"===g||"\ufe3b"===g||"\ufe39"===g||"\ufe17"===g||"\ufe3f"===g}var zy=function(g,c,_,w,I){var F,B,Q=8*I-w-1,ne=(1<<Q)-1,he=ne>>1,ye=-7,we=_?I-1:0,Ie=_?-1:1,Ye=g[c+we];for(we+=Ie,F=Ye&(1<<-ye)-1,Ye>>=-ye,ye+=Q;ye>0;F=256*F+g[c+we],we+=Ie,ye-=8);for(B=F&(1<<-ye)-1,F>>=-ye,ye+=w;ye>0;B=256*B+g[c+we],we+=Ie,ye-=8);if(0===F)F=1-he;else{if(F===ne)return B?NaN:1/0*(Ye?-1:1);B+=Math.pow(2,w),F-=he}return(Ye?-1:1)*B*Math.pow(2,F-w)},zv=function(g,c,_,w,I,F){var B,Q,ne,he=8*F-I-1,ye=(1<<he)-1,we=ye>>1,Ie=23===I?Math.pow(2,-24)-Math.pow(2,-77):0,Ye=w?0:F-1,Qe=w?1:-1,mt=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(Q=isNaN(c)?1:0,B=ye):(B=Math.floor(Math.log(c)/Math.LN2),c*(ne=Math.pow(2,-B))<1&&(B--,ne*=2),(c+=B+we>=1?Ie/ne:Ie*Math.pow(2,1-we))*ne>=2&&(B++,ne/=2),B+we>=ye?(Q=0,B=ye):B+we>=1?(Q=(c*ne-1)*Math.pow(2,I),B+=we):(Q=c*Math.pow(2,we-1)*Math.pow(2,I),B=0));I>=8;g[_+Ye]=255&Q,Ye+=Qe,Q/=256,I-=8);for(B=B<<I|Q,he+=I;he>0;g[_+Ye]=255&B,Ye+=Qe,B/=256,he-=8);g[_+Ye-Qe]|=128*mt},jm=go;function go(g){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(g)?g:new Uint8Array(g||0),this.pos=0,this.type=0,this.length=this.buf.length}go.Varint=0,go.Fixed64=1,go.Bytes=2,go.Fixed32=5;var Yy=4294967296,Cd=1/Yy,Yv="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function bp(g){return g.type===go.Bytes?g.readVarint()+g.pos:g.pos+1}function Bv(g,c,_){var w=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));_.realloc(w);for(var I=_.pos-1;I>=g;I--)_.buf[I+w]=_.buf[I]}function m0(g,c){for(var _=0;_<g.length;_++)c.writeVarint(g[_])}function Vv(g,c){for(var _=0;_<g.length;_++)c.writeSVarint(g[_])}function g0(g,c){for(var _=0;_<g.length;_++)c.writeFloat(g[_])}function A_(g,c){for(var _=0;_<g.length;_++)c.writeDouble(g[_])}function By(g,c){for(var _=0;_<g.length;_++)c.writeBoolean(g[_])}function Hv(g,c){for(var _=0;_<g.length;_++)c.writeFixed32(g[_])}function qr(g,c){for(var _=0;_<g.length;_++)c.writeSFixed32(g[_])}function Uv(g,c){for(var _=0;_<g.length;_++)c.writeFixed64(g[_])}function jv(g,c){for(var _=0;_<g.length;_++)c.writeSFixed64(g[_])}function lm(g,c){return(g[c]|g[c+1]<<8|g[c+2]<<16)+16777216*g[c+3]}function qc(g,c,_){g[_]=c,g[_+1]=c>>>8,g[_+2]=c>>>16,g[_+3]=c>>>24}function Vy(g,c){return(g[c]|g[c+1]<<8|g[c+2]<<16)+(g[c+3]<<24)}function Hy(g,c,_){c.glyphs=[],1===g&&_.readMessage(I_,c)}function I_(g,c,_){if(3===g){const{id:w,bitmap:I,width:F,height:B,left:Q,top:ne,advance:he}=_.readMessage(Up,{});c.glyphs.push({id:w,bitmap:new Dh({width:F+6,height:B+6},I),metrics:{width:F,height:B,left:Q,top:ne,advance:he}})}else 4===g?c.ascender=_.readSVarint():5===g&&(c.descender=_.readSVarint())}function Up(g,c,_){1===g?c.id=_.readVarint():2===g?c.bitmap=_.readBytes():3===g?c.width=_.readVarint():4===g?c.height=_.readVarint():5===g?c.left=_.readSVarint():6===g?c.top=_.readSVarint():7===g&&(c.advance=_.readVarint())}function Df(g){let c=0,_=0;for(const B of g)c+=B.w*B.h,_=Math.max(_,B.w);g.sort((B,Q)=>Q.h-B.h);const w=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),_),h:1/0}];let I=0,F=0;for(const B of g)for(let Q=w.length-1;Q>=0;Q--){const ne=w[Q];if(!(B.w>ne.w||B.h>ne.h)){if(B.x=ne.x,B.y=ne.y,F=Math.max(F,B.y+B.h),I=Math.max(I,B.x+B.w),B.w===ne.w&&B.h===ne.h){const he=w.pop();Q<w.length&&(w[Q]=he)}else B.h===ne.h?(ne.x+=B.w,ne.w-=B.w):B.w===ne.w?(ne.y+=B.h,ne.h-=B.h):(w.push({x:ne.x+B.w,y:ne.y,w:ne.w-B.w,h:B.h}),ne.y+=B.h,ne.h-=B.h);break}}return{w:I,h:F,fill:c/(I*F)||0}}go.prototype={destroy:function(){this.buf=null},readFields:function(g,c,_){for(_=_||this.length;this.pos<_;){var w=this.readVarint(),I=w>>3,F=this.pos;this.type=7&w,g(I,c,this),this.pos===F&&this.skip(w)}return c},readMessage:function(g,c){return this.readFields(g,c,this.readVarint()+this.pos)},readFixed32:function(){var g=lm(this.buf,this.pos);return this.pos+=4,g},readSFixed32:function(){var g=Vy(this.buf,this.pos);return this.pos+=4,g},readFixed64:function(){var g=lm(this.buf,this.pos)+lm(this.buf,this.pos+4)*Yy;return this.pos+=8,g},readSFixed64:function(){var g=lm(this.buf,this.pos)+Vy(this.buf,this.pos+4)*Yy;return this.pos+=8,g},readFloat:function(){var g=zy(this.buf,this.pos,!0,23,4);return this.pos+=4,g},readDouble:function(){var g=zy(this.buf,this.pos,!0,52,8);return this.pos+=8,g},readVarint:function(g){var c,_,w=this.buf;return c=127&(_=w[this.pos++]),_<128?c:(c|=(127&(_=w[this.pos++]))<<7,_<128?c:(c|=(127&(_=w[this.pos++]))<<14,_<128?c:(c|=(127&(_=w[this.pos++]))<<21,_<128?c:function(I,F,B){var Q,ne,he=B.buf;if(Q=(112&(ne=he[B.pos++]))>>4,ne<128||(Q|=(127&(ne=he[B.pos++]))<<3,ne<128)||(Q|=(127&(ne=he[B.pos++]))<<10,ne<128)||(Q|=(127&(ne=he[B.pos++]))<<17,ne<128)||(Q|=(127&(ne=he[B.pos++]))<<24,ne<128)||(Q|=(1&(ne=he[B.pos++]))<<31,ne<128))return function(g,c,_){return _?4294967296*c+(g>>>0):4294967296*(c>>>0)+(g>>>0)}(I,Q,F);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(_=w[this.pos]))<<28,g,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var g=this.readVarint();return g%2==1?(g+1)/-2:g/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var g=this.readVarint()+this.pos,c=this.pos;return this.pos=g,g-c>=12&&Yv?Yv.decode(this.buf.subarray(c,g)):function(_,w,I){for(var F="",B=w;B<I;){var Q,ne,he,ye=_[B],we=null,Ie=ye>239?4:ye>223?3:ye>191?2:1;if(B+Ie>I)break;1===Ie?ye<128&&(we=ye):2===Ie?128==(192&(Q=_[B+1]))&&(we=(31&ye)<<6|63&Q)<=127&&(we=null):3===Ie?(ne=_[B+2],128==(192&(Q=_[B+1]))&&128==(192&ne)&&((we=(15&ye)<<12|(63&Q)<<6|63&ne)<=2047||we>=55296&&we<=57343)&&(we=null)):4===Ie&&(ne=_[B+2],he=_[B+3],128==(192&(Q=_[B+1]))&&128==(192&ne)&&128==(192&he)&&((we=(15&ye)<<18|(63&Q)<<12|(63&ne)<<6|63&he)<=65535||we>=1114112)&&(we=null)),null===we?(we=65533,Ie=1):we>65535&&(we-=65536,F+=String.fromCharCode(we>>>10&1023|55296),we=56320|1023&we),F+=String.fromCharCode(we),B+=Ie}return F}(this.buf,c,g)},readBytes:function(){var g=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,g);return this.pos=g,c},readPackedVarint:function(g,c){if(this.type!==go.Bytes)return g.push(this.readVarint(c));var _=bp(this);for(g=g||[];this.pos<_;)g.push(this.readVarint(c));return g},readPackedSVarint:function(g){if(this.type!==go.Bytes)return g.push(this.readSVarint());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readSVarint());return g},readPackedBoolean:function(g){if(this.type!==go.Bytes)return g.push(this.readBoolean());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readBoolean());return g},readPackedFloat:function(g){if(this.type!==go.Bytes)return g.push(this.readFloat());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readFloat());return g},readPackedDouble:function(g){if(this.type!==go.Bytes)return g.push(this.readDouble());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readDouble());return g},readPackedFixed32:function(g){if(this.type!==go.Bytes)return g.push(this.readFixed32());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readFixed32());return g},readPackedSFixed32:function(g){if(this.type!==go.Bytes)return g.push(this.readSFixed32());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readSFixed32());return g},readPackedFixed64:function(g){if(this.type!==go.Bytes)return g.push(this.readFixed64());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readFixed64());return g},readPackedSFixed64:function(g){if(this.type!==go.Bytes)return g.push(this.readSFixed64());var c=bp(this);for(g=g||[];this.pos<c;)g.push(this.readSFixed64());return g},skip:function(g){var c=7&g;if(c===go.Varint)for(;this.buf[this.pos++]>127;);else if(c===go.Bytes)this.pos=this.readVarint()+this.pos;else if(c===go.Fixed32)this.pos+=4;else{if(c!==go.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(g,c){this.writeVarint(g<<3|c)},realloc:function(g){for(var c=this.length||16;c<this.pos+g;)c*=2;if(c!==this.length){var _=new Uint8Array(c);_.set(this.buf),this.buf=_,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(g){this.realloc(4),qc(this.buf,g,this.pos),this.pos+=4},writeSFixed32:function(g){this.realloc(4),qc(this.buf,g,this.pos),this.pos+=4},writeFixed64:function(g){this.realloc(8),qc(this.buf,-1&g,this.pos),qc(this.buf,Math.floor(g*Cd),this.pos+4),this.pos+=8},writeSFixed64:function(g){this.realloc(8),qc(this.buf,-1&g,this.pos),qc(this.buf,Math.floor(g*Cd),this.pos+4),this.pos+=8},writeVarint:function(g){(g=+g||0)>268435455||g<0?function(c,_){var w,I,F,Q;if(c>=0?(w=c%4294967296|0,I=c/4294967296|0):(I=~(-c/4294967296),4294967295^(w=~(-c%4294967296))?w=w+1|0:(w=0,I=I+1|0)),c>=0x10000000000000000||c<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");_.realloc(10),F=w,(Q=_).buf[Q.pos++]=127&F|128,F>>>=7,Q.buf[Q.pos++]=127&F|128,F>>>=7,Q.buf[Q.pos++]=127&F|128,F>>>=7,Q.buf[Q.pos++]=127&F|128,Q.buf[Q.pos]=127&(F>>>=7),function(F,B){var Q=(7&F)<<4;B.buf[B.pos++]|=Q|((F>>>=3)?128:0),F&&(B.buf[B.pos++]=127&F|((F>>>=7)?128:0),F&&(B.buf[B.pos++]=127&F|((F>>>=7)?128:0),F&&(B.buf[B.pos++]=127&F|((F>>>=7)?128:0),F&&(B.buf[B.pos++]=127&F|((F>>>=7)?128:0),F&&(B.buf[B.pos++]=127&F)))))}(I,_)}(g,this):(this.realloc(4),this.buf[this.pos++]=127&g|(g>127?128:0),g<=127||(this.buf[this.pos++]=127&(g>>>=7)|(g>127?128:0),g<=127||(this.buf[this.pos++]=127&(g>>>=7)|(g>127?128:0),g<=127||(this.buf[this.pos++]=g>>>7&127))))},writeSVarint:function(g){this.writeVarint(g<0?2*-g-1:2*g)},writeBoolean:function(g){this.writeVarint(Boolean(g))},writeString:function(g){g=String(g),this.realloc(4*g.length),this.pos++;var c=this.pos;this.pos=function(w,I,F){for(var B,Q,ne=0;ne<I.length;ne++){if((B=I.charCodeAt(ne))>55295&&B<57344){if(!Q){B>56319||ne+1===I.length?(w[F++]=239,w[F++]=191,w[F++]=189):Q=B;continue}if(B<56320){w[F++]=239,w[F++]=191,w[F++]=189,Q=B;continue}B=Q-55296<<10|B-56320|65536,Q=null}else Q&&(w[F++]=239,w[F++]=191,w[F++]=189,Q=null);B<128?w[F++]=B:(B<2048?w[F++]=B>>6|192:(B<65536?w[F++]=B>>12|224:(w[F++]=B>>18|240,w[F++]=B>>12&63|128),w[F++]=B>>6&63|128),w[F++]=63&B|128)}return F}(this.buf,g,this.pos);var _=this.pos-c;_>=128&&Bv(c,_,this),this.pos=c-1,this.writeVarint(_),this.pos+=_},writeFloat:function(g){this.realloc(4),zv(this.buf,g,this.pos,!0,23,4),this.pos+=4},writeDouble:function(g){this.realloc(8),zv(this.buf,g,this.pos,!0,52,8),this.pos+=8},writeBytes:function(g){var c=g.length;this.writeVarint(c),this.realloc(c);for(var _=0;_<c;_++)this.buf[this.pos++]=g[_]},writeRawMessage:function(g,c){this.pos++;var _=this.pos;g(c,this);var w=this.pos-_;w>=128&&Bv(_,w,this),this.pos=_-1,this.writeVarint(w),this.pos+=w},writeMessage:function(g,c,_){this.writeTag(g,go.Bytes),this.writeRawMessage(c,_)},writePackedVarint:function(g,c){c.length&&this.writeMessage(g,m0,c)},writePackedSVarint:function(g,c){c.length&&this.writeMessage(g,Vv,c)},writePackedBoolean:function(g,c){c.length&&this.writeMessage(g,By,c)},writePackedFloat:function(g,c){c.length&&this.writeMessage(g,g0,c)},writePackedDouble:function(g,c){c.length&&this.writeMessage(g,A_,c)},writePackedFixed32:function(g,c){c.length&&this.writeMessage(g,Hv,c)},writePackedSFixed32:function(g,c){c.length&&this.writeMessage(g,qr,c)},writePackedFixed64:function(g,c){c.length&&this.writeMessage(g,Uv,c)},writePackedSFixed64:function(g,c){c.length&&this.writeMessage(g,jv,c)},writeBytesField:function(g,c){this.writeTag(g,go.Bytes),this.writeBytes(c)},writeFixed32Field:function(g,c){this.writeTag(g,go.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(g,c){this.writeTag(g,go.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(g,c){this.writeTag(g,go.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(g,c){this.writeTag(g,go.Fixed64),this.writeSFixed64(c)},writeVarintField:function(g,c){this.writeTag(g,go.Varint),this.writeVarint(c)},writeSVarintField:function(g,c){this.writeTag(g,go.Varint),this.writeSVarint(c)},writeStringField:function(g,c){this.writeTag(g,go.Bytes),this.writeString(c)},writeFloatField:function(g,c){this.writeTag(g,go.Fixed32),this.writeFloat(c)},writeDoubleField:function(g,c){this.writeTag(g,go.Fixed64),this.writeDouble(c)},writeBooleanField:function(g,c){this.writeVarintField(g,Boolean(c))}};class Zm{constructor(c,{pixelRatio:_,version:w,stretchX:I,stretchY:F,content:B}){this.paddedRect=c,this.pixelRatio=_,this.stretchX=I,this.stretchY=F,this.content=B,this.version=w}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Ig{constructor(c,_){const w={},I={};this.haveRenderCallbacks=[];const F=[];this.addImages(c,w,F),this.addImages(_,I,F);const{w:B,h:Q}=Df(F),ne=new Zl({width:B||1,height:Q||1});for(const he in c){const ye=c[he],we=w[he].paddedRect;Zl.copy(ye.data,ne,{x:0,y:0},{x:we.x+1,y:we.y+1},ye.data)}for(const he in _){const ye=_[he],we=I[he].paddedRect,Ie=we.x+1,Ye=we.y+1,Qe=ye.data.width,mt=ye.data.height;Zl.copy(ye.data,ne,{x:0,y:0},{x:Ie,y:Ye},ye.data),Zl.copy(ye.data,ne,{x:0,y:mt-1},{x:Ie,y:Ye-1},{width:Qe,height:1}),Zl.copy(ye.data,ne,{x:0,y:0},{x:Ie,y:Ye+mt},{width:Qe,height:1}),Zl.copy(ye.data,ne,{x:Qe-1,y:0},{x:Ie-1,y:Ye},{width:1,height:mt}),Zl.copy(ye.data,ne,{x:0,y:0},{x:Ie+Qe,y:Ye},{width:1,height:mt})}this.image=ne,this.iconPositions=w,this.patternPositions=I}addImages(c,_,w){for(const I in c){const F=c[I],B={x:0,y:0,w:F.data.width+2,h:F.data.height+2};w.push(B),_[I]=new Zm(B,F),F.hasRenderCallback&&this.haveRenderCallbacks.push(I)}}patchUpdatedImages(c,_){c.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const w in c.updatedImages)this.patchUpdatedImage(this.iconPositions[w],c.getImage(w),_),this.patchUpdatedImage(this.patternPositions[w],c.getImage(w),_)}patchUpdatedImage(c,_,w){if(!c||!_||c.version===_.version)return;c.version=_.version;const[I,F]=c.tl;w.update(_.data,void 0,{x:I,y:F})}}vi("ImagePosition",Zm),vi("ImageAtlas",Ig);const ih={horizontal:1,vertical:2,horizontalOnly:3};class Lh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(c,_){const w=new Lh;return w.scale=c||1,w.fontStack=_,w}static forImage(c){const _=new Lh;return _.imageName=c,_}}class Lg{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(c,_){const w=new Lg;for(let I=0;I<c.sections.length;I++){const F=c.sections[I];F.image?w.addImageSection(F):w.addTextSection(F,_)}return w}length(){return this.text.length}getSection(c){return this.sections[this.sectionIndex[c]]}getSections(){return this.sections}getSectionIndex(c){return this.sectionIndex[c]}getCharCode(c){return this.text.charCodeAt(c)}verticalizePunctuation(c){this.text=function(_,w){let I="";for(let F=0;F<_.length;F++){const B=_.charCodeAt(F+1)||null,Q=_.charCodeAt(F-1)||null;I+=!w&&(B&&hf(B)&&!am[_[F+1]]||Q&&hf(Q)&&!am[_[F-1]])||!am[_[F]]?_[F]:am[_[F]]}return I}(this.text,c)}trim(){let c=0;for(let w=0;w<this.text.length&&cm[this.text.charCodeAt(w)];w++)c++;let _=this.text.length;for(let w=this.text.length-1;w>=0&&w>=c&&cm[this.text.charCodeAt(w)];w--)_--;this.text=this.text.substring(c,_),this.sectionIndex=this.sectionIndex.slice(c,_)}substring(c,_){const w=new Lg;return w.text=this.text.substring(c,_),w.sectionIndex=this.sectionIndex.slice(c,_),w.sections=this.sections,w}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((c,_)=>Math.max(c,this.sections[_].scale),0)}addTextSection(c,_){this.text+=c.text,this.sections.push(Lh.forText(c.scale,c.fontStack||_));const w=this.sections.length-1;for(let I=0;I<c.text.length;++I)this.sectionIndex.push(w)}addImageSection(c){const _=c.image?c.image.name:"";if(0===_.length)return void Fi("Can't add FormattedSection with an empty image.");const w=this.getNextImageSectionCharCode();w?(this.text+=String.fromCharCode(w),this.sections.push(Lh.forImage(_)),this.sectionIndex.push(this.sections.length-1)):Fi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ph(g,c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt){const Et=Lg.fromFeature(g,I);let Yt;we===ih.vertical&&Et.verticalizePunctuation(Ie);const{processBidirectionalText:tn,processStyledBidirectionalText:rn}=Ge;if(tn&&1===Et.sections.length){Yt=[];const mn=tn(Et.toString(),Af(Et,he,F,c,w,Ye,Qe));for(const zn of mn){const Xn=new Lg;Xn.text=zn,Xn.sections=Et.sections;for(let Bn=0;Bn<zn.length;Bn++)Xn.sectionIndex.push(0);Yt.push(Xn)}}else if(rn){Yt=[];const mn=rn(Et.text,Et.sectionIndex,Af(Et,he,F,c,w,Ye,Qe));for(const zn of mn){const Xn=new Lg;Xn.text=zn[0],Xn.sectionIndex=zn[1],Xn.sections=Et.sections,Yt.push(Xn)}}else Yt=function(mn,zn){const Xn=[],Bn=mn.text;let ri=0;for(const An of zn)Xn.push(mn.substring(ri,An)),ri=An;return ri<Bn.length&&Xn.push(mn.substring(ri,Bn.length)),Xn}(Et,Af(Et,he,F,c,w,Ye,Qe));const on=[],gn={positionedLines:on,text:Et.toString(),top:ye[1],bottom:ye[1],left:ye[0],right:ye[0],writingMode:we,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(mn,zn,Xn,Bn,ri,An,Vn,Kn,Dn,rr,Ar,Xr){let Ir=0,Yi=0,ao=0;const Hi="right"===Kn?1:"left"===Kn?0:.5;let jo=!1;for(const xo of ri){const Jo=xo.getSections();for(const Io of Jo){if(Io.imageName)continue;const il=zn[Io.fontStack];if(il&&(jo=void 0!==il.ascender&&void 0!==il.descender,!jo))break}if(!jo)break}let Oa=0;for(const xo of ri){xo.trim();const Jo=xo.getMaxScale(),Io=24*(Jo-1),il={positionedGlyphs:[],lineOffset:0};mn.positionedLines[Oa]=il;const wo=il.positionedGlyphs;let Ks=0;if(!xo.length()){Yi+=An,++Oa;continue}let Ra=0,ca=0;for(let Xl=0;Xl<xo.length();Xl++){const Wo=xo.getSection(Xl),Pc=xo.getSectionIndex(Xl),ua=xo.getCharCode(Xl);let Ms=Wo.scale,da=null,Oc=null,Qs=null,$u=24,Rc=0;const $p=!(Dn===ih.horizontal||!Ar&&!qd(ua)||Ar&&(cm[ua]||(Ta=ua,Ei(Ta)||cp(Ta)||Fs(Ta)||Ha(Ta)||ai(Ta))));if(Wo.imageName){const wp=Bn[Wo.imageName];if(!wp)continue;Qs=Wo.imageName,mn.iconsInText=mn.iconsInText||!0,Oc=wp.paddedRect;const Ga=wp.displaySize;Ms=24*Ms/Xr,da={width:Ga[0],height:Ga[1],left:1,top:-3,advance:$p?Ga[1]:Ga[0],localGlyph:!1},Rc=jo?-da.height*Ms:24*Jo-17-Ga[1]*Ms,$u=da.advance;const Fl=($p?Ga[0]:Ga[1])*Ms-24*Jo;Fl>0&&Fl>Ks&&(Ks=Fl)}else{const wp=Xn[Wo.fontStack];if(!wp)continue;wp[ua]&&(Oc=wp[ua]);const Ga=zn[Wo.fontStack];if(!Ga)continue;const Fl=Ga.glyphs[ua];if(!Fl)continue;if(da=Fl.metrics,$u=8203!==ua?24:0,jo){const kd=void 0!==Ga.ascender?Math.abs(Ga.ascender):0,Za=void 0!==Ga.descender?Math.abs(Ga.descender):0,Xp=(kd+Za)*Ms;Ra<Xp&&(Ra=Xp,ca=(kd-Za)/2*Ms),Rc=-kd*Ms}else Rc=24*(Jo-Ms)-17}$p?(mn.verticalizable=!0,wo.push({glyph:ua,imageName:Qs,x:Ir,y:Yi+Rc,vertical:$p,scale:Ms,localGlyph:da.localGlyph,fontStack:Wo.fontStack,sectionIndex:Pc,metrics:da,rect:Oc}),Ir+=$u*Ms+rr):(wo.push({glyph:ua,imageName:Qs,x:Ir,y:Yi+Rc,vertical:$p,scale:Ms,localGlyph:da.localGlyph,fontStack:Wo.fontStack,sectionIndex:Pc,metrics:da,rect:Oc}),Ir+=da.advance*Ms+rr)}0!==wo.length&&(ao=Math.max(Ir-rr,ao),jo?If(wo,Hi,Ks,ca,An*Jo/2):If(wo,Hi,Ks,0,An/2)),Ir=0;const Lo=An*Jo+Ks;il.lineOffset=Math.max(Ks,Io),Yi+=Lo,++Oa}var Ta;const vl=Yi,{horizontalAlign:Go,verticalAlign:Zo}=jp(Vn);(function(xo,Jo,Io,il,wo,Ks){const Ra=(Jo-Io)*wo,ca=-Ks*il;for(const Lo of xo)for(const Xl of Lo.positionedGlyphs)Xl.x+=Ra,Xl.y+=ca})(mn.positionedLines,Hi,Go,Zo,ao,vl),mn.top+=-Zo*vl,mn.bottom=mn.top+vl,mn.left+=-Go*ao,mn.right=mn.left+ao,mn.hasBaseline=jo}(gn,c,_,w,Yt,B,Q,ne,we,he,Ie,mt),!function(mn){for(const zn of mn)if(0!==zn.positionedGlyphs.length)return!1;return!0}(on)&&gn}const cm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},L_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Pg(g,c,_,w,I,F){if(c.imageName){const B=w[c.imageName];return B?B.displaySize[0]*c.scale*24/F+I:0}{const B=_[c.fontStack],Q=B&&B.glyphs[g];return Q?Q.metrics.advance*c.scale+I:0}}function _0(g,c,_,w){const I=Math.pow(g-c,2);return w?g<c?I/2:2*I:I+Math.abs(_)*_}function y0(g,c,_){let w=0;return 10===g&&(w-=1e4),_&&(w+=150),40!==g&&65288!==g||(w+=50),41!==c&&65289!==c||(w+=50),w}function Ao(g,c,_,w,I,F){let B=null,Q=_0(c,_,I,F);for(const ne of w){const he=_0(c-ne.x,_,I,F)+ne.badness;he<=Q&&(B=ne,Q=he)}return{index:g,x:c,priorBreak:B,badness:Q}}function v0(g){return g?v0(g.priorBreak).concat(g.index):[]}function Af(g,c,_,w,I,F,B){if("point"!==F)return[];if(!g)return[];const Q=[],ne=function(Ie,Ye,Qe,mt,Et,Yt){let tn=0;for(let rn=0;rn<Ie.length();rn++){const on=Ie.getSection(rn);tn+=Pg(Ie.getCharCode(rn),on,mt,Et,Ye,Yt)}return tn/Math.max(1,Math.ceil(tn/Qe))}(g,c,_,w,I,B),he=g.text.indexOf("\u200b")>=0;let ye=0;for(let Ie=0;Ie<g.length();Ie++){const Ye=g.getSection(Ie),Qe=g.getCharCode(Ie);if(cm[Qe]||(ye+=Pg(Qe,Ye,w,I,c,B)),Ie<g.length()-1){const mt=!((we=Qe)<11904||!(up(we)||jl(we)||dp(we)||Wd(we)||Hc(we)||Eo(we)||uu(we)||Fu(we)||Uc(we)||cc(we)||Nu(we)||Bo(we)||yo(we)||dl(we)||Es(we)||Zd(we)||Va(we)||es(we)||tt(we)||du(we)));(L_[Qe]||mt||Ye.imageName)&&Q.push(Ao(Ie+1,ye,ne,Q,y0(Qe,g.getCharCode(Ie+1),mt&&he),!1))}}var we;return v0(Ao(g.length(),ye,ne,Q,0,!0))}function jp(g){let c=.5,_=.5;switch(g){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(g){case"bottom":case"bottom-right":case"bottom-left":_=1;break;case"top":case"top-right":case"top-left":_=0}return{horizontalAlign:c,verticalAlign:_}}function If(g,c,_,w,I){if(!(c||_||w||I))return;const F=g.length-1,B=g[F],Q=(B.x+B.metrics.advance*B.scale)*c;for(let ne=0;ne<=F;ne++)g[ne].x-=Q,g[ne].y+=_+w+I}function Og(g,c,_){const{horizontalAlign:w,verticalAlign:I}=jp(_),F=c[0]-g.displaySize[0]*w,B=c[1]-g.displaySize[1]*I;return{image:g,top:B,bottom:B+g.displaySize[1],left:F,right:F+g.displaySize[0]}}function Uy(g,c,_,w,I,F){const B=g.image;let Q;if(B.content){const Et=B.content,Yt=B.pixelRatio||1;Q=[Et[0]/Yt,Et[1]/Yt,B.displaySize[0]-Et[2]/Yt,B.displaySize[1]-Et[3]/Yt]}const ne=c.left*F,he=c.right*F;let ye,we,Ie,Ye;"width"===_||"both"===_?(Ye=I[0]+ne-w[3],we=I[0]+he+w[1]):(Ye=I[0]+(ne+he-B.displaySize[0])/2,we=Ye+B.displaySize[0]);const Qe=c.top*F,mt=c.bottom*F;return"height"===_||"both"===_?(ye=I[1]+Qe-w[0],Ie=I[1]+mt+w[2]):(ye=I[1]+(Qe+mt-B.displaySize[1])/2,Ie=ye+B.displaySize[1]),{image:B,top:ye,right:we,bottom:Ie,left:Ye,collisionPadding:Q}}class rh extends xe{constructor(c,_,w,I){super(c,_),this.angle=w,void 0!==I&&(this.segment=I)}clone(){return new rh(this.x,this.y,this.angle,this.segment)}}function b0(g,c,_,w,I){if(void 0===c.segment)return!0;let F=c,B=c.segment+1,Q=0;for(;Q>-_/2;){if(B--,B<0)return!1;Q-=g[B].dist(F),F=g[B]}Q+=g[B].dist(g[B+1]),B++;const ne=[];let he=0;for(;Q<_/2;){const ye=g[B],we=g[B+1];if(!we)return!1;let Ie=g[B-1].angleTo(ye)-ye.angleTo(we);for(Ie=Math.abs((Ie+3*Math.PI)%(2*Math.PI)-Math.PI),ne.push({distance:Q,angleDelta:Ie}),he+=Ie;Q-ne[0].distance>w;)he-=ne.shift().angleDelta;if(he>I)return!1;B++,Q+=ye.dist(we)}return!0}function Gv(g){let c=0;for(let _=0;_<g.length-1;_++)c+=g[_].dist(g[_+1]);return c}function x0(g,c,_){return g?.6*c*_:0}function Rg(g,c){return Math.max(g?g.right-g.left:0,c?c.right-c.left:0)}function w0(g,c,_,w,I,F){const B=x0(_,I,F),Q=Rg(_,w)*F;let ne=0;const he=Gv(g)/2;for(let ye=0;ye<g.length-1;ye++){const we=g[ye],Ie=g[ye+1],Ye=we.dist(Ie);if(ne+Ye>he){const Qe=(he-ne)/Ye,mt=di(we.x,Ie.x,Qe),Et=di(we.y,Ie.y,Qe),Yt=new rh(mt,Et,Ie.angleTo(we),ye);return!B||b0(g,Yt,Q,B,c)?Yt:void 0}ne+=Ye}}function Zv(g,c,_,w,I,F,B,Q,ne){const he=x0(w,F,B),ye=Rg(w,I),we=ye*B,Ie=0===g[0].x||g[0].x===ne||0===g[0].y||g[0].y===ne;return c-we<c/4&&(c=we+c/4),Kx(g,Ie?c/2*Q%c:(ye/2+2*F)*B*Q%c,c,he,_,we,Ie,!1,ne)}function Kx(g,c,_,w,I,F,B,Q,ne){const he=F/2,ye=Gv(g);let we=0,Ie=c-_,Ye=[];for(let Qe=0;Qe<g.length-1;Qe++){const mt=g[Qe],Et=g[Qe+1],Yt=mt.dist(Et),tn=Et.angleTo(mt);for(;Ie+_<we+Yt;){Ie+=_;const rn=(Ie-we)/Yt,on=di(mt.x,Et.x,rn),gn=di(mt.y,Et.y,rn);if(on>=0&&on<ne&&gn>=0&&gn<ne&&Ie-he>=0&&Ie+he<=ye){const mn=new rh(on,gn,tn,Qe);mn._round(),w&&!b0(g,mn,F,w,I)||Ye.push(mn)}}we+=Yt}return Q||Ye.length||B||(Ye=Kx(g,we/2,_,w,I,F,B,!0,ne)),Ye}function um(g,c,_,w,I){const F=[];for(let B=0;B<g.length;B++){const Q=g[B];let ne;for(let he=0;he<Q.length-1;he++){let ye=Q[he],we=Q[he+1];ye.x<c&&we.x<c||(ye.x<c?ye=new xe(c,ye.y+(c-ye.x)/(we.x-ye.x)*(we.y-ye.y))._round():we.x<c&&(we=new xe(c,ye.y+(c-ye.x)/(we.x-ye.x)*(we.y-ye.y))._round()),ye.y<_&&we.y<_||(ye.y<_?ye=new xe(ye.x+(_-ye.y)/(we.y-ye.y)*(we.x-ye.x),_)._round():we.y<_&&(we=new xe(ye.x+(_-ye.y)/(we.y-ye.y)*(we.x-ye.x),_)._round()),ye.x>=w&&we.x>=w||(ye.x>=w?ye=new xe(w,ye.y+(w-ye.x)/(we.x-ye.x)*(we.y-ye.y))._round():we.x>=w&&(we=new xe(w,ye.y+(w-ye.x)/(we.x-ye.x)*(we.y-ye.y))._round()),ye.y>=I&&we.y>=I||(ye.y>=I?ye=new xe(ye.x+(I-ye.y)/(we.y-ye.y)*(we.x-ye.x),I)._round():we.y>=I&&(we=new xe(ye.x+(I-ye.y)/(we.y-ye.y)*(we.x-ye.x),I)._round()),ne&&ye.equals(ne[ne.length-1])||(ne=[ye],F.push(ne)),ne.push(we)))))}}return F}vi("Anchor",rh);var Wv=sh,ew=sh,Fg=1e20;function sh(g,c,_,w,I,F){this.fontSize=g||24,this.buffer=void 0===c?3:c,this.cutoff=w||.25,this.fontFamily=I||"sans-serif",this.fontWeight=F||"normal",this.radius=_||8;var B=this.size=this.fontSize+2*this.buffer,Q=B+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=B,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Q*Q),this.gridInner=new Float64Array(Q*Q),this.f=new Float64Array(Q),this.z=new Float64Array(Q+1),this.v=new Uint16Array(Q),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(B/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Ng(g,c,_,w,I,F){for(var B=0;B<c;B++)qv(g,B,c,_,w,I,F);for(var Q=0;Q<_;Q++)qv(g,Q*c,1,c,w,I,F)}function qv(g,c,_,w,I,F,B){var Q,ne,he,ye;for(F[0]=0,B[0]=-Fg,B[1]=Fg,Q=0;Q<w;Q++)I[Q]=g[c+Q*_];for(Q=1,ne=0,he=0;Q<w;Q++){do{he=(I[Q]-I[ye=F[ne]]+Q*Q-ye*ye)/(Q-ye)/2}while(he<=B[ne]&&--ne>-1);F[++ne]=Q,B[ne]=he,B[ne+1]=Fg}for(Q=0,ne=0;Q<w;Q++){for(;B[ne+1]<Q;)ne++;g[c+Q*_]=I[ye=F[ne]]+(Q-ye)*(Q-ye)}}sh.prototype._draw=function(g,c){var _,w,I,F,B,Q,ne,he,ye,we=this.ctx.measureText(g),Ie=we.width,Ye=2*this.buffer;c&&this.useMetrics?(B=Math.floor(we.actualBoundingBoxAscent),he=this.buffer+Math.ceil(we.actualBoundingBoxAscent),Q=this.buffer,ne=this.buffer,_=(w=Math.min(this.size,Math.ceil(we.actualBoundingBoxRight-we.actualBoundingBoxLeft)))+Ye,I=(F=Math.min(this.size-Q,Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent)))+Ye,this.ctx.textBaseline="alphabetic"):(_=w=this.size,I=F=this.size,B=19*this.fontSize/24,Q=ne=0,he=this.middle,this.ctx.textBaseline="middle"),w&&F&&(this.ctx.clearRect(ne,Q,w,F),this.ctx.fillText(g,this.buffer,he),ye=this.ctx.getImageData(ne,Q,w,F));var Qe=new Uint8ClampedArray(_*I);return function(mt,Et,Yt,tn,rn,on,gn){on.fill(Fg,0,Et*Yt),gn.fill(0,0,Et*Yt);for(var mn=(Et-tn)/2,zn=0;zn<rn;zn++)for(var Xn=0;Xn<tn;Xn++){var Bn=(zn+mn)*Et+Xn+mn,ri=mt.data[4*(zn*tn+Xn)+3]/255;if(1===ri)on[Bn]=0,gn[Bn]=Fg;else if(0===ri)on[Bn]=Fg,gn[Bn]=0;else{var An=Math.max(0,.5-ri),Vn=Math.max(0,ri-.5);on[Bn]=An*An,gn[Bn]=Vn*Vn}}}(ye,_,I,w,F,this.gridOuter,this.gridInner),Ng(this.gridOuter,_,I,this.f,this.v,this.z),Ng(this.gridInner,_,I,this.f,this.v,this.z),function(mt,Et,Yt,tn,rn,on,gn){for(var mn=0;mn<Et*Yt;mn++){var zn=Math.sqrt(tn[mn])-Math.sqrt(rn[mn]);mt[mn]=Math.round(255-255*(zn/on+gn))}}(Qe,_,I,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:Qe,metrics:{width:w,height:F,sdfWidth:_,sdfHeight:I,top:B,left:0,advance:Ie}}},sh.prototype.draw=function(g){return this._draw(g,!1).data},sh.prototype.drawWithMetrics=function(g){return this._draw(g,!0)},Wv.default=ew;const P_={none:0,ideographs:1,all:2};class Oh{constructor(c,_,w){this.requestManager=c,this.localGlyphMode=_,this.localFontFamily=w,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(c){this.url=c}getGlyphs(c,_){const w=[];for(const I in c)for(const F of c[I])w.push({stack:I,id:F});rs(w,({stack:I,id:F},B)=>{let Q=this.entries[I];Q||(Q=this.entries[I]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let ne=Q.glyphs[F];if(void 0!==ne)return void B(null,{stack:I,id:F,glyph:ne});if(ne=this._tinySDF(Q,I,F),ne)return Q.glyphs[F]=ne,void B(null,{stack:I,id:F,glyph:ne});const he=Math.floor(F/256);if(256*he>65535)return void B(new Error("glyphs > 65535 not supported"));if(Q.ranges[he])return void B(null,{stack:I,id:F,glyph:ne});let ye=Q.requests[he];ye||(ye=Q.requests[he]=[],Oh.loadGlyphRange(I,he,this.url,this.requestManager,(we,Ie)=>{if(Ie){Q.ascender=Ie.ascender,Q.descender=Ie.descender;for(const Ye in Ie.glyphs)this._doesCharSupportLocalGlyph(+Ye)||(Q.glyphs[+Ye]=Ie.glyphs[+Ye]);Q.ranges[he]=!0}for(const Ye of ye)Ye(we,Ie);delete Q.requests[he]})),ye.push((we,Ie)=>{we?B(we):Ie&&B(null,{stack:I,id:F,glyph:Ie.glyphs[F]||null})})},(I,F)=>{if(I)_(I);else if(F){const B={};for(const{stack:Q,id:ne,glyph:he}of F)void 0===B[Q]&&(B[Q]={}),void 0===B[Q].glyphs&&(B[Q].glyphs={}),B[Q].glyphs[ne]=he&&{id:he.id,bitmap:he.bitmap.clone(),metrics:he.metrics},B[Q].ascender=this.entries[Q].ascender,B[Q].descender=this.entries[Q].descender;_(null,B)}})}_doesCharSupportLocalGlyph(c){return this.localGlyphMode!==P_.none&&(this.localGlyphMode===P_.all?!!this.localFontFamily:!!this.localFontFamily&&(cc(c)||uc(c)||yo(c)||Va(c))||Fu(c))}_tinySDF(c,_,w){const I=this.localFontFamily;if(!I||!this._doesCharSupportLocalGlyph(w))return;let F=c.tinySDF;if(!F){let mt="400";/bold/i.test(_)?mt="900":/medium/i.test(_)?mt="500":/light/i.test(_)&&(mt="200"),F=c.tinySDF=new Oh.TinySDF(48,6,16,.25,I,mt)}if(this.localGlyphs[F.fontWeight][w])return this.localGlyphs[F.fontWeight][w];const{data:B,metrics:Q}=F.drawWithMetrics(String.fromCharCode(w)),{sdfWidth:ne,sdfHeight:he,width:ye,height:we,left:Ie,top:Ye,advance:Qe}=Q;return this.localGlyphs[F.fontWeight][w]={id:w,bitmap:new Dh({width:ne,height:he},B),metrics:{width:ye/2,height:we/2,left:Ie/2,top:Ye/2-27,advance:Qe/2,localGlyph:!0}}}}function O_(g,c,_,w){const I=[],F=g.image,B=F.pixelRatio,Q=F.paddedRect.w-2,ne=F.paddedRect.h-2,he=g.right-g.left,ye=g.bottom-g.top,we=F.stretchX||[[0,Q]],Ie=F.stretchY||[[0,ne]],Ye=(An,Vn)=>An+Vn[1]-Vn[0],Qe=we.reduce(Ye,0),mt=Ie.reduce(Ye,0),Et=Q-Qe,Yt=ne-mt;let tn=0,rn=Qe,on=0,gn=mt,mn=0,zn=Et,Xn=0,Bn=Yt;if(F.content&&w){const An=F.content;tn=dm(we,0,An[0]),on=dm(Ie,0,An[1]),rn=dm(we,An[0],An[2]),gn=dm(Ie,An[1],An[3]),mn=An[0]-tn,Xn=An[1]-on,zn=An[2]-An[0]-rn,Bn=An[3]-An[1]-gn}const ri=(An,Vn,Kn,Dn)=>{const rr=Md(An.stretch-tn,rn,he,g.left),Ar=Lf(An.fixed-mn,zn,An.stretch,Qe),Xr=Md(Vn.stretch-on,gn,ye,g.top),Ir=Lf(Vn.fixed-Xn,Bn,Vn.stretch,mt),Yi=Md(Kn.stretch-tn,rn,he,g.left),ao=Lf(Kn.fixed-mn,zn,Kn.stretch,Qe),Hi=Md(Dn.stretch-on,gn,ye,g.top),jo=Lf(Dn.fixed-Xn,Bn,Dn.stretch,mt),Oa=new xe(rr,Xr),Ta=new xe(Yi,Xr),vl=new xe(Yi,Hi),Go=new xe(rr,Hi),Zo=new xe(Ar/B,Ir/B),xo=new xe(ao/B,jo/B),Jo=c*Math.PI/180;if(Jo){const wo=Math.sin(Jo),Ks=Math.cos(Jo),Ra=[Ks,-wo,wo,Ks];Oa._matMult(Ra),Ta._matMult(Ra),Go._matMult(Ra),vl._matMult(Ra)}const Io=An.stretch+An.fixed,il=Vn.stretch+Vn.fixed;return{tl:Oa,tr:Ta,bl:Go,br:vl,tex:{x:F.paddedRect.x+1+Io,y:F.paddedRect.y+1+il,w:Kn.stretch+Kn.fixed-Io,h:Dn.stretch+Dn.fixed-il},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Zo,pixelOffsetBR:xo,minFontScaleX:zn/B/he,minFontScaleY:Bn/B/ye,isSDF:_}};if(w&&(F.stretchX||F.stretchY)){const An=jy(we,Et,Qe),Vn=jy(Ie,Yt,mt);for(let Kn=0;Kn<An.length-1;Kn++){const Dn=An[Kn],rr=An[Kn+1];for(let Ar=0;Ar<Vn.length-1;Ar++)I.push(ri(Dn,Vn[Ar],rr,Vn[Ar+1]))}}else I.push(ri({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Q+1},{fixed:0,stretch:ne+1}));return I}function dm(g,c,_){let w=0;for(const I of g)w+=Math.max(c,Math.min(_,I[1]))-Math.max(c,Math.min(_,I[0]));return w}function jy(g,c,_){const w=[{fixed:-1,stretch:0}];for(const[I,F]of g){const B=w[w.length-1];w.push({fixed:I-B.stretch,stretch:B.stretch}),w.push({fixed:I-B.stretch,stretch:B.stretch+(F-I)})}return w.push({fixed:c+1,stretch:_}),w}function Md(g,c,_,w){return g/c*_+w}function Lf(g,c,_,w){return g-c*_/w}function $v(g,c,_,w){const I=c+g.positionedLines[w].lineOffset;return 0===w?_+I/2:_+(I+(c+g.positionedLines[w-1].lineOffset))/2}Oh.loadGlyphRange=function(g,c,_,w,I){const F=256*c,B=F+255,Q=w.transformRequest(w.normalizeGlyphsURL(_).replace("{fontstack}",g).replace("{range}",`${F}-${B}`),ar.Glyphs);Ne(Q,(ne,he)=>{if(ne)I(ne);else if(he){const ye={},we=new jm(he).readFields(Hy,{});for(const Ie of we.glyphs)ye[Ie.id]=Ie;I(null,{glyphs:ye,ascender:we.ascender,descender:we.descender})}})},Oh.TinySDF=Wv;class C0{constructor(c=[],_=zg){if(this.data=c,this.length=this.data.length,this.compare=_,this.length>0)for(let w=(this.length>>1)-1;w>=0;w--)this._down(w)}push(c){this.data.push(c),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const c=this.data[0],_=this.data.pop();return this.length--,this.length>0&&(this.data[0]=_,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:_,compare:w}=this,I=_[c];for(;c>0;){const F=c-1>>1,B=_[F];if(w(I,B)>=0)break;_[c]=B,c=F}_[c]=I}_down(c){const{data:_,compare:w}=this,I=this.length>>1,F=_[c];for(;c<I;){let B=1+(c<<1),Q=_[B];const ne=B+1;if(ne<this.length&&w(_[ne],Q)<0&&(B=ne,Q=_[ne]),w(Q,F)>=0)break;_[c]=Q,c=B}_[c]=F}}function zg(g,c){return g<c?-1:g>c?1:0}function M0(g,c=1,_=!1){let w=1/0,I=1/0,F=-1/0,B=-1/0;const Q=g[0];for(let Ye=0;Ye<Q.length;Ye++){const Qe=Q[Ye];(!Ye||Qe.x<w)&&(w=Qe.x),(!Ye||Qe.y<I)&&(I=Qe.y),(!Ye||Qe.x>F)&&(F=Qe.x),(!Ye||Qe.y>B)&&(B=Qe.y)}const ne=Math.min(F-w,B-I);let he=ne/2;const ye=new C0([],T0);if(0===ne)return new xe(w,I);for(let Ye=w;Ye<F;Ye+=ne)for(let Qe=I;Qe<B;Qe+=ne)ye.push(new Gp(Ye+he,Qe+he,he,g));let we=function(Ye){let Qe=0,mt=0,Et=0;const Yt=Ye[0];for(let tn=0,rn=Yt.length,on=rn-1;tn<rn;on=tn++){const gn=Yt[tn],mn=Yt[on],zn=gn.x*mn.y-mn.x*gn.y;mt+=(gn.x+mn.x)*zn,Et+=(gn.y+mn.y)*zn,Qe+=3*zn}return new Gp(mt/Qe,Et/Qe,0,Ye)}(g),Ie=ye.length;for(;ye.length;){const Ye=ye.pop();(Ye.d>we.d||!we.d)&&(we=Ye,_&&console.log("found best %d after %d probes",Math.round(1e4*Ye.d)/1e4,Ie)),Ye.max-we.d<=c||(he=Ye.h/2,ye.push(new Gp(Ye.p.x-he,Ye.p.y-he,he,g)),ye.push(new Gp(Ye.p.x+he,Ye.p.y-he,he,g)),ye.push(new Gp(Ye.p.x-he,Ye.p.y+he,he,g)),ye.push(new Gp(Ye.p.x+he,Ye.p.y+he,he,g)),Ie+=4)}return _&&(console.log(`num probes: ${Ie}`),console.log(`best distance: ${we.d}`)),we.p}function T0(g,c){return c.max-g.max}function Gp(g,c,_,w){this.p=new xe(g,c),this.h=_,this.d=function(I,F){let B=!1,Q=1/0;for(let ne=0;ne<F.length;ne++){const he=F[ne];for(let ye=0,we=he.length,Ie=we-1;ye<we;Ie=ye++){const Ye=he[ye],Qe=he[Ie];Ye.y>I.y!=Qe.y>I.y&&I.x<(Qe.x-Ye.x)*(I.y-Ye.y)/(Qe.y-Ye.y)+Ye.x&&(B=!B),Q=Math.min(Q,T_(I,Ye,Qe))}}return(B?1:-1)*Math.sqrt(Q)}(this.p,w),this.max=this.d+this.h*Math.SQRT2}const Wm=Number.POSITIVE_INFINITY,Pf=Math.sqrt(2);function hm(g,c){return c[1]!==Wm?function(_,w,I){let F=0,B=0;switch(w=Math.abs(w),I=Math.abs(I),_){case"top-right":case"top-left":case"top":B=I-7;break;case"bottom-right":case"bottom-left":case"bottom":B=7-I}switch(_){case"top-right":case"bottom-right":case"right":F=-w;break;case"top-left":case"bottom-left":case"left":F=w}return[F,B]}(g,c[0],c[1]):function(_,w){let I=0,F=0;w<0&&(w=0);const B=w/Pf;switch(_){case"top-right":case"top-left":F=B-7;break;case"bottom-right":case"bottom-left":F=7-B;break;case"bottom":F=7-w;break;case"top":F=w-7}switch(_){case"top-right":case"bottom-right":I=-B;break;case"top-left":case"bottom-left":I=B;break;case"left":I=w;break;case"right":I=-w}return[I,F]}(g,c[0])}function gt(g,c,_,w,I,F,B,Q){g.createArrays(),g.tilePixelRatio=Dr/(512*g.overscaling),g.compareText={},g.iconsNeedLinear=!1;const ne=g.layers[0].layout,he=g.layers[0]._unevaluatedLayout._values,ye={};if("composite"===g.textSizeData.kind){const{minZoom:Ye,maxZoom:Qe}=g.textSizeData;ye.compositeTextSizes=[he["text-size"].possiblyEvaluate(new We(Ye),B),he["text-size"].possiblyEvaluate(new We(Qe),B)]}if("composite"===g.iconSizeData.kind){const{minZoom:Ye,maxZoom:Qe}=g.iconSizeData;ye.compositeIconSizes=[he["icon-size"].possiblyEvaluate(new We(Ye),B),he["icon-size"].possiblyEvaluate(new We(Qe),B)]}ye.layoutTextSize=he["text-size"].possiblyEvaluate(new We(Q+1),B),ye.layoutIconSize=he["icon-size"].possiblyEvaluate(new We(Q+1),B),ye.textMaxSize=he["text-size"].possiblyEvaluate(new We(18),B);const we="map"===ne.get("text-rotation-alignment")&&"point"!==ne.get("symbol-placement"),Ie=ne.get("text-size");for(const Ye of g.features){const Qe=ne.get("text-font").evaluate(Ye,{},B).join(","),mt=Ie.evaluate(Ye,{},B),Et=ye.layoutTextSize.evaluate(Ye,{},B),Yt=(ye.layoutIconSize.evaluate(Ye,{},B),{horizontal:{},vertical:void 0}),tn=Ye.text;let rn,on=[0,0];if(tn){const zn=tn.toString(),Xn=24*ne.get("text-letter-spacing").evaluate(Ye,{},B),Bn=24*ne.get("text-line-height").evaluate(Ye,{},B),ri=Da(zn)?Xn:0,An=ne.get("text-anchor").evaluate(Ye,{},B),Vn=ne.get("text-variable-anchor");if(!Vn){const Ir=ne.get("text-radial-offset").evaluate(Ye,{},B);on=Ir?hm(An,[24*Ir,Wm]):ne.get("text-offset").evaluate(Ye,{},B).map(Yi=>24*Yi)}let Kn=we?"center":ne.get("text-justify").evaluate(Ye,{},B);const Dn=ne.get("symbol-placement"),rr="point"===Dn,Ar="point"===Dn?24*ne.get("text-max-width").evaluate(Ye,{},B):0,Xr=Ir=>{g.allowVerticalPlacement&&zu(zn)&&(Yt.vertical=Ph(tn,c,_,I,Qe,Ar,Bn,An,Ir,ri,on,ih.vertical,!0,Dn,Et,mt))};if(!we&&Vn){const Ir="auto"===Kn?Vn.map(ao=>Ss(ao)):[Kn];let Yi=!1;for(let ao=0;ao<Ir.length;ao++){const Hi=Ir[ao];if(!Yt.horizontal[Hi])if(Yi)Yt.horizontal[Hi]=Yt.horizontal[0];else{const jo=Ph(tn,c,_,I,Qe,Ar,Bn,"center",Hi,ri,on,ih.horizontal,!1,Dn,Et,mt);jo&&(Yt.horizontal[Hi]=jo,Yi=1===jo.positionedLines.length)}}Xr("left")}else{if("auto"===Kn&&(Kn=Ss(An)),rr||ne.get("text-writing-mode").indexOf("horizontal")>=0||!zu(zn)){const Ir=Ph(tn,c,_,I,Qe,Ar,Bn,An,Kn,ri,on,ih.horizontal,!1,Dn,Et,mt);Ir&&(Yt.horizontal[Kn]=Ir)}Xr("point"===Dn?"left":Kn)}}let gn=!1;if(Ye.icon&&Ye.icon.name){const zn=w[Ye.icon.name];zn&&(rn=Og(I[Ye.icon.name],ne.get("icon-offset").evaluate(Ye,{},B),ne.get("icon-anchor").evaluate(Ye,{},B)),gn=zn.sdf,void 0===g.sdfIcons?g.sdfIcons=zn.sdf:g.sdfIcons!==zn.sdf&&Fi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(zn.pixelRatio!==g.pixelRatio||0!==ne.get("icon-rotate").constantOr(1))&&(g.iconsNeedLinear=!0))}const mn=R_(Yt.horizontal)||Yt.vertical;g.iconsInText||(g.iconsInText=!!mn&&mn.iconsInText),(mn||rn)&&oh(g,Ye,Yt,rn,w,ye,Et,0,on,gn,B)}F&&g.generateCollisionDebugBuffers(Q,g.collisionBoxArray)}function Ss(g){switch(g){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function oh(g,c,_,w,I,F,B,Q,ne,he,ye){let we=F.textMaxSize.evaluate(c,{},ye);void 0===we&&(we=B);const Ie=g.layers[0].layout,Ye=Ie.get("icon-offset").evaluate(c,{},ye),Qe=R_(_.horizontal)||_.vertical,mt=B/24,Et=g.tilePixelRatio*we/24,Yt=g.tilePixelRatio*Ie.get("symbol-spacing"),tn=Ie.get("text-padding")*g.tilePixelRatio,rn=Ie.get("icon-padding")*g.tilePixelRatio,on=en(Ie.get("text-max-angle")),gn="map"===Ie.get("text-rotation-alignment")&&"point"!==Ie.get("symbol-placement"),mn="map"===Ie.get("icon-rotation-alignment")&&"point"!==Ie.get("symbol-placement"),zn=Ie.get("symbol-placement"),Xn=Yt/2,Bn=Ie.get("icon-text-fit");let ri;w&&"none"!==Bn&&(g.allowVerticalPlacement&&_.vertical&&(ri=Uy(w,_.vertical,Bn,Ie.get("icon-text-fit-padding"),Ye,mt)),Qe&&(w=Uy(w,Qe,Bn,Ie.get("icon-text-fit-padding"),Ye,mt)));const An=(Vn,Kn)=>{Kn.x<0||Kn.x>=Dr||Kn.y<0||Kn.y>=Dr||function(Dn,rr,Ar,Xr,Ir,Yi,ao,Hi,jo,Oa,Ta,vl,Go,Zo,xo,Jo,Io,il,wo,Ks,Ra,ca,Lo,Xl){const Wo=Dn.addToLineVertexArray(rr,Ar);let Pc,ua,Ms,da,Oc,Qs,$u,Rc=0,$p=0,wp=0,Ga=0,Fl=-1,kd=-1;const Za={};let Xp=xn(""),Xu=0,Co=0;if(void 0===Hi._unevaluatedLayout.getValue("text-radial-offset")?[Xu,Co]=Hi.layout.get("text-offset").evaluate(Ks,{},Lo).map(Ko=>24*Ko):(Xu=24*Hi.layout.get("text-radial-offset").evaluate(Ks,{},Lo),Co=Wm),Dn.allowVerticalPlacement&&Xr.vertical){const Ko=Xr.vertical;if(Zo)Qs=zi(Ko),ao&&($u=zi(ao));else{const rl=Hi.layout.get("text-rotate").evaluate(Ks,{},Lo)+90;Ms=Yg(jo,rr,Oa,Ta,vl,Ko,Go,rl,xo),ao&&(da=Yg(jo,rr,Oa,Ta,vl,ao,Io,rl))}}if(Ir){const Ko=Hi.layout.get("icon-rotate").evaluate(Ks,{},Lo),rl="none"!==Hi.layout.get("icon-text-fit"),sl=O_(Ir,Ko,ca,rl),ch=ao?O_(ao,Ko,ca,rl):void 0;ua=Yg(jo,rr,Oa,Ta,vl,Ir,Io,Ko),Rc=4*sl.length;const $g=Dn.iconSizeData;let _c=null;"source"===$g.kind?(_c=[Wc*Hi.layout.get("icon-size").evaluate(Ks,{},Lo)],_c[0]>Mu&&Fi(`${Dn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===$g.kind&&(_c=[Wc*Ra.compositeIconSizes[0].evaluate(Ks,{},Lo),Wc*Ra.compositeIconSizes[1].evaluate(Ks,{},Lo)],(_c[0]>Mu||_c[1]>Mu)&&Fi(`${Dn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Dn.addSymbols(Dn.icon,sl,_c,wo,il,Ks,!1,rr,Wo.lineStartIndex,Wo.lineLength,-1,Lo),Fl=Dn.icon.placedSymbolArray.length-1,ch&&($p=4*ch.length,Dn.addSymbols(Dn.icon,ch,_c,wo,il,Ks,ih.vertical,rr,Wo.lineStartIndex,Wo.lineLength,-1,Lo),kd=Dn.icon.placedSymbolArray.length-1)}for(const Ko in Xr.horizontal){const rl=Xr.horizontal[Ko];Pc||(Xp=xn(rl.text),Zo?Oc=zi(rl):Pc=Yg(jo,rr,Oa,Ta,vl,rl,Go,Hi.layout.get("text-rotate").evaluate(Ks,{},Lo),xo));const sl=1===rl.positionedLines.length;if(wp+=Xv(Dn,rr,rl,Yi,Hi,Zo,Ks,xo,Wo,Xr.vertical?ih.horizontal:ih.horizontalOnly,sl?Object.keys(Xr.horizontal):[Ko],Za,Fl,Ra,Lo),sl)break}Xr.vertical&&(Ga+=Xv(Dn,rr,Xr.vertical,Yi,Hi,Zo,Ks,xo,Wo,ih.vertical,["vertical"],Za,kd,Ra,Lo));let lh=-1;const j_=(Ko,rl)=>Ko?Math.max(Ko,rl):rl;lh=j_(Oc,lh),lh=j_(Qs,lh),lh=j_($u,lh);const G_=lh>-1?1:0;G_&&(lh*=Xl/24),Dn.glyphOffsetArray.length>=Rf.MAX_GLYPHS&&Fi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Ks.sortKey&&Dn.addToSortKeyRanges(Dn.symbolInstances.length,Ks.sortKey),Dn.symbolInstances.emplaceBack(rr.x,rr.y,Za.right>=0?Za.right:-1,Za.center>=0?Za.center:-1,Za.left>=0?Za.left:-1,Za.vertical>=0?Za.vertical:-1,Fl,kd,Xp,void 0!==Pc?Pc:Dn.collisionBoxArray.length,void 0!==Pc?Pc+1:Dn.collisionBoxArray.length,void 0!==Ms?Ms:Dn.collisionBoxArray.length,void 0!==Ms?Ms+1:Dn.collisionBoxArray.length,void 0!==ua?ua:Dn.collisionBoxArray.length,void 0!==ua?ua+1:Dn.collisionBoxArray.length,da||Dn.collisionBoxArray.length,da?da+1:Dn.collisionBoxArray.length,Oa,wp,Ga,Rc,$p,G_,0,Xu,Co,lh)}(g,Kn,Vn,_,w,I,ri,g.layers[0],g.collisionBoxArray,c.index,c.sourceLayerIndex,g.index,tn,gn,ne,0,rn,mn,Ye,c,F,he,ye,B)};if("line"===zn)for(const Vn of um(c.geometry,0,0,Dr,Dr)){const Kn=Zv(Vn,Yt,on,_.vertical||Qe,w,24,Et,g.overscaling,Dr);for(const Dn of Kn){const rr=Qe;rr&&Bg(g,rr.text,Xn,Dn)||An(Vn,Dn)}}else if("line-center"===zn){for(const Vn of c.geometry)if(Vn.length>1){const Kn=w0(Vn,on,_.vertical||Qe,w,24,Et);Kn&&An(Vn,Kn)}}else if("Polygon"===c.type)for(const Vn of xu(c.geometry,0)){const Kn=M0(Vn,16);An(Vn[0],new rh(Kn.x,Kn.y,0))}else if("LineString"===c.type)for(const Vn of c.geometry)An(Vn,new rh(Vn[0].x,Vn[0].y,0));else if("Point"===c.type)for(const Vn of c.geometry)for(const Kn of Vn)An([Kn],new rh(Kn.x,Kn.y,0))}const Mu=32640;function Xv(g,c,_,w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe){const mt=function(tn,rn,on,gn,mn,zn,Xn,Bn){const ri=[];if(0===rn.positionedLines.length)return ri;const An=gn.layout.get("text-rotate").evaluate(zn,{})*Math.PI/180,Vn=function(Xr){const Ir=Xr[0],Yi=Xr[1],ao=Ir*Yi;return ao>0?[Ir,-Yi]:ao<0?[-Ir,Yi]:0===Ir?[Yi,Ir]:[Yi,-Ir]}(on);let Kn=Math.abs(rn.top-rn.bottom);for(const Xr of rn.positionedLines)Kn-=Xr.lineOffset;const Dn=rn.positionedLines.length,rr=Kn/Dn;let Ar=rn.top-on[1];for(let Xr=0;Xr<Dn;++Xr){const Ir=rn.positionedLines[Xr];Ar=$v(rn,rr,Ar,Xr);for(const Yi of Ir.positionedGlyphs){if(!Yi.rect)continue;const ao=Yi.rect||{};let Hi=4,jo=!0,Oa=1,Ta=0;const vl=(mn||Bn)&&Yi.vertical,Go=Yi.metrics.advance*Yi.scale/2,Zo=Yi.metrics,xo=Yi.rect;if(null===xo)continue;if(Bn&&rn.verticalizable&&(Ta=Yi.imageName?Go-Yi.metrics.width*Yi.scale/2:0),Yi.imageName){const Ms=Xn[Yi.imageName];if(!Ms)continue;jo=Ms.sdf,Oa=Ms.pixelRatio,Hi=1/Oa}const Jo=mn?[Yi.x+Go,Yi.y]:[0,0];let Io=[0,0],il=[0,0],wo=!1;mn||(vl?(il=[Yi.x+Go+Vn[0],Yi.y+Vn[1]-Ta],wo=!0):Io=[Yi.x+Go+on[0],Yi.y+on[1]-Ta]);const Ks=xo.w*Yi.scale/(Oa*(Yi.localGlyph?2:1)),Ra=xo.h*Yi.scale/(Oa*(Yi.localGlyph?2:1));let ca,Lo,Xl,Wo;if(vl){const Ms=Yi.y-Ar,da=new xe(-Go,Go-Ms),Oc=-Math.PI/2,Qs=new xe(...il);ca=new xe(-Go+Io[0],Io[1]),ca._rotateAround(Oc,da)._add(Qs),ca.x+=-Ms+Go,ca.y-=(Zo.left-Hi)*Yi.scale;const $u=Yi.imageName?Zo.advance*Yi.scale:24*Yi.scale,Rc=String.fromCharCode(Yi.glyph);Nv(Rc)?ca.x+=(1-Hi)*Yi.scale:Jx(Rc)?ca.x+=$u-Zo.height*Yi.scale+(-Hi-1)*Yi.scale:ca.x+=Yi.imageName||Zo.width+2*Hi===xo.w&&Zo.height+2*Hi===xo.h?($u-Ra)/2:($u-(Zo.height+2*Hi)*Yi.scale)/2,Lo=new xe(ca.x,ca.y-Ks),Xl=new xe(ca.x+Ra,ca.y),Wo=new xe(ca.x+Ra,ca.y-Ks)}else{const Ms=(Zo.left-Hi)*Yi.scale-Go+Io[0],da=(-Zo.top-Hi)*Yi.scale+Io[1],Oc=Ms+Ks,Qs=da+Ra;ca=new xe(Ms,da),Lo=new xe(Oc,da),Xl=new xe(Ms,Qs),Wo=new xe(Oc,Qs)}if(An){let Ms;Ms=mn?new xe(0,0):wo?new xe(Vn[0],Vn[1]):new xe(on[0],on[1]),ca._rotateAround(An,Ms),Lo._rotateAround(An,Ms),Xl._rotateAround(An,Ms),Wo._rotateAround(An,Ms)}const Pc=new xe(0,0),ua=new xe(0,0);ri.push({tl:ca,tr:Lo,bl:Xl,br:Wo,tex:ao,writingMode:rn.writingMode,glyphOffset:Jo,sectionIndex:Yi.sectionIndex,isSDF:jo,pixelOffsetTL:Pc,pixelOffsetBR:ua,minFontScaleX:0,minFontScaleY:0})}}return ri}(0,_,Q,I,F,B,w,g.allowVerticalPlacement),Et=g.textSizeData;let Yt=null;"source"===Et.kind?(Yt=[Wc*I.layout.get("text-size").evaluate(B,{},Qe)],Yt[0]>Mu&&Fi(`${g.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===Et.kind&&(Yt=[Wc*Ye.compositeTextSizes[0].evaluate(B,{},Qe),Wc*Ye.compositeTextSizes[1].evaluate(B,{},Qe)],(Yt[0]>Mu||Yt[1]>Mu)&&Fi(`${g.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),g.addSymbols(g.text,mt,Yt,Q,F,B,he,c,ne.lineStartIndex,ne.lineLength,Ie,Qe);for(const tn of ye)we[tn]=g.text.placedSymbolArray.length-1;return 4*mt.length}function R_(g){for(const c in g)return g[c];return null}function Yg(g,c,_,w,I,F,B,Q,ne){let he=F.top,ye=F.bottom,we=F.left,Ie=F.right;const Ye=F.collisionPadding;if(Ye&&(we-=Ye[0],he-=Ye[1],Ie+=Ye[2],ye+=Ye[3]),Q){const Qe=new xe(we,he),mt=new xe(Ie,he),Et=new xe(we,ye),Yt=new xe(Ie,ye),tn=en(Q);let rn=new xe(0,0);ne&&(rn=new xe(ne[0],ne[1])),Qe._rotateAround(tn,rn),mt._rotateAround(tn,rn),Et._rotateAround(tn,rn),Yt._rotateAround(tn,rn),we=Math.min(Qe.x,mt.x,Et.x,Yt.x),Ie=Math.max(Qe.x,mt.x,Et.x,Yt.x),he=Math.min(Qe.y,mt.y,Et.y,Yt.y),ye=Math.max(Qe.y,mt.y,Et.y,Yt.y)}return g.emplaceBack(c.x,c.y,we,he,Ie,ye,B,_,w,I),g.length-1}function zi(g){g.collisionPadding&&(g.top-=g.collisionPadding[1],g.bottom+=g.collisionPadding[3]);const c=g.bottom-g.top;return c>0?Math.max(10,c):null}function Bg(g,c,_,w){const I=g.compareText;if(c in I){const F=I[c];for(let B=F.length-1;B>=0;B--)if(w.dist(F[B])<_)return!0}else I[c]=[];return I[c].push(w),!1}const $r=Yp.VectorTileFeature.types,pm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function qm(g,c,_,w,I,F,B,Q,ne,he,ye,we,Ie){const Ye=Q?Math.min(Mu,Math.round(Q[0])):0,Qe=Q?Math.min(Mu,Math.round(Q[1])):0;g.emplaceBack(c,_,Math.round(32*w),Math.round(32*I),F,B,(Ye<<1)+(ne?1:0),Qe,16*he,16*ye,256*we,256*Ie)}function Of(g,c,_){g.emplaceBack(c.x,c.y,_),g.emplaceBack(c.x,c.y,_),g.emplaceBack(c.x,c.y,_),g.emplaceBack(c.x,c.y,_)}function tw(g){for(const c of g.sections)if(hp(c.text))return!0;return!1}class $m{constructor(c){this.layoutVertexArray=new Xs,this.indexArray=new Ns,this.programConfigurations=c,this.segments=new fl,this.dynamicLayoutVertexArray=new Al,this.opacityVertexArray=new Aa,this.placedSymbolArray=new bo}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(c,_,w,I){this.isEmpty()||(w&&(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Qi.members),this.indexBuffer=c.createIndexBuffer(this.indexArray,_),this.dynamicLayoutVertexBuffer=c.createVertexBuffer(this.dynamicLayoutVertexArray,Wr.members,!0),this.opacityVertexBuffer=c.createVertexBuffer(this.opacityVertexArray,pm,!0),this.opacityVertexBuffer.itemSize=1),(w||I)&&this.programConfigurations.upload(c))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}vi("SymbolBuffers",$m);class Wu{constructor(c,_,w){this.layoutVertexArray=new c,this.layoutAttributes=_,this.indexArray=new w,this.segments=new fl,this.collisionVertexArray=new Ri,this.collisionVertexArrayExt=new Al}upload(c){this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=c.createVertexBuffer(this.collisionVertexArray,wa.members,!0),this.collisionVertexBufferExt=c.createVertexBuffer(this.collisionVertexArrayExt,Ac.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}vi("CollisionBuffers",Wu);class Rf{constructor(c){this.collisionBoxArray=c.collisionBoxArray,this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(B=>B.id),this.index=c.index,this.pixelRatio=c.pixelRatio,this.sourceLayerIndex=c.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xa([]),this.placementViewportMatrix=xa([]);const _=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Hp(this.zoom,_["text-size"]),this.iconSizeData=Hp(this.zoom,_["icon-size"]);const w=this.layers[0].layout,I=w.get("symbol-sort-key"),F=w.get("symbol-z-order");this.canOverlap=w.get("text-allow-overlap")||w.get("icon-allow-overlap")||w.get("text-ignore-placement")||w.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==F&&void 0!==I.constantOr(1),this.sortFeaturesByY=("viewport-y"===F||"auto"===F&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=w.get("text-writing-mode").map(B=>ih[B]),this.stateDependentLayerIds=this.layers.filter(B=>B.isStateDependent()).map(B=>B.id),this.sourceID=c.sourceID}createArrays(){this.text=new $m(new Th(this.layers,this.zoom,c=>/^text/.test(c))),this.icon=new $m(new Th(this.layers,this.zoom,c=>/^icon/.test(c))),this.glyphOffsetArray=new Gl,this.lineVertexArray=new Ka,this.symbolInstances=new hu}calculateGlyphDependencies(c,_,w,I,F){for(let B=0;B<c.length;B++)if(_[c.charCodeAt(B)]=!0,I&&F){const Q=am[c.charAt(B)];Q&&(_[Q.charCodeAt(0)]=!0)}}populate(c,_,w){const I=this.layers[0],F=I.layout,B=F.get("text-font"),Q=F.get("text-field"),ne=F.get("icon-image"),he=("constant"!==Q.value.kind||Q.value.value instanceof fi&&!Q.value.value.isEmpty()||Q.value.value.toString().length>0)&&("constant"!==B.value.kind||B.value.value.length>0),ye="constant"!==ne.value.kind||!!ne.value.value||Object.keys(ne.parameters).length>0,we=F.get("symbol-sort-key");if(this.features=[],!he&&!ye)return;const Ie=_.iconDependencies,Ye=_.glyphDependencies,Qe=_.availableImages,mt=new We(this.zoom);for(const{feature:Et,id:Yt,index:tn,sourceLayerIndex:rn}of c){const on=I._featureFilter.needGeometry,gn=Gc(Et,on);if(!I._featureFilter.filter(mt,gn,w))continue;let mn,zn;if(on||(gn.geometry=_p(Et)),he){const Bn=I.getValueAndResolveTokens("text-field",gn,w,Qe),ri=fi.factory(Bn);tw(ri)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===_e()||this.hasRTLText&&Ge.isParsed())&&(mn=Fv(ri,I,gn))}if(ye){const Bn=I.getValueAndResolveTokens("icon-image",gn,w,Qe);zn=Bn instanceof Oi?Bn:Oi.fromString(Bn)}if(!mn&&!zn)continue;const Xn=this.sortFeaturesByKey?we.evaluate(gn,{},w):void 0;if(this.features.push({id:Yt,text:mn,icon:zn,index:tn,sourceLayerIndex:rn,geometry:gn.geometry,properties:Et.properties,type:$r[Et.type],sortKey:Xn}),zn&&(Ie[zn.name]=!0),mn){const Bn=B.evaluate(gn,{},w).join(","),ri="map"===F.get("text-rotation-alignment")&&"point"!==F.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ih.vertical)>=0;for(const An of mn.sections)if(An.image)Ie[An.image.name]=!0;else{const Vn=zu(mn.toString()),Kn=An.fontStack||Bn,Dn=Ye[Kn]=Ye[Kn]||{};this.calculateGlyphDependencies(An.text,Dn,ri,this.allowVerticalPlacement,Vn)}}}"line"===F.get("symbol-placement")&&(this.features=function(Et){const Yt={},tn={},rn=[];let on=0;function gn(Bn){rn.push(Et[Bn]),on++}function mn(Bn,ri,An){const Vn=tn[Bn];return delete tn[Bn],tn[ri]=Vn,rn[Vn].geometry[0].pop(),rn[Vn].geometry[0]=rn[Vn].geometry[0].concat(An[0]),Vn}function zn(Bn,ri,An){const Vn=Yt[ri];return delete Yt[ri],Yt[Bn]=Vn,rn[Vn].geometry[0].shift(),rn[Vn].geometry[0]=An[0].concat(rn[Vn].geometry[0]),Vn}function Xn(Bn,ri,An){const Vn=An?ri[0][ri[0].length-1]:ri[0][0];return`${Bn}:${Vn.x}:${Vn.y}`}for(let Bn=0;Bn<Et.length;Bn++){const ri=Et[Bn],An=ri.geometry,Vn=ri.text?ri.text.toString():null;if(!Vn){gn(Bn);continue}const Kn=Xn(Vn,An),Dn=Xn(Vn,An,!0);if(Kn in tn&&Dn in Yt&&tn[Kn]!==Yt[Dn]){const rr=zn(Kn,Dn,An),Ar=mn(Kn,Dn,rn[rr].geometry);delete Yt[Kn],delete tn[Dn],tn[Xn(Vn,rn[Ar].geometry,!0)]=Ar,rn[rr].geometry=null}else Kn in tn?mn(Kn,Dn,An):Dn in Yt?zn(Kn,Dn,An):(gn(Bn),Yt[Kn]=on-1,tn[Dn]=on-1)}return rn.filter(Bn=>Bn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Et,Yt)=>Et.sortKey-Yt.sortKey)}update(c,_,w){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(c,_,this.layers,w),this.icon.programConfigurations.updatePaintArrays(c,_,this.layers,w))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(c){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(c),this.iconCollisionBox.upload(c)),this.text.upload(c,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(c,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(c,_){const w=this.lineVertexArray.length;if(void 0!==c.segment){let I=c.dist(_[c.segment+1]),F=c.dist(_[c.segment]);const B={};for(let Q=c.segment+1;Q<_.length;Q++)B[Q]={x:_[Q].x,y:_[Q].y,tileUnitDistanceFromAnchor:I},Q<_.length-1&&(I+=_[Q+1].dist(_[Q]));for(let Q=c.segment||0;Q>=0;Q--)B[Q]={x:_[Q].x,y:_[Q].y,tileUnitDistanceFromAnchor:F},Q>0&&(F+=_[Q-1].dist(_[Q]));for(let Q=0;Q<_.length;Q++){const ne=B[Q];this.lineVertexArray.emplaceBack(ne.x,ne.y,ne.tileUnitDistanceFromAnchor)}}return{lineStartIndex:w,lineLength:this.lineVertexArray.length-w}}addSymbols(c,_,w,I,F,B,Q,ne,he,ye,we,Ie){const Ye=c.indexArray,Qe=c.layoutVertexArray,mt=c.segments.prepareSegment(4*_.length,Qe,Ye,this.canOverlap?B.sortKey:void 0),Et=this.glyphOffsetArray.length,Yt=mt.vertexLength,tn=this.allowVerticalPlacement&&Q===ih.vertical?Math.PI/2:0,rn=B.text&&B.text.sections;for(let on=0;on<_.length;on++){const{tl:gn,tr:mn,bl:zn,br:Xn,tex:Bn,pixelOffsetTL:ri,pixelOffsetBR:An,minFontScaleX:Vn,minFontScaleY:Kn,glyphOffset:Dn,isSDF:rr,sectionIndex:Ar}=_[on],Xr=mt.vertexLength,Ir=Dn[1];qm(Qe,ne.x,ne.y,gn.x,Ir+gn.y,Bn.x,Bn.y,w,rr,ri.x,ri.y,Vn,Kn),qm(Qe,ne.x,ne.y,mn.x,Ir+mn.y,Bn.x+Bn.w,Bn.y,w,rr,An.x,ri.y,Vn,Kn),qm(Qe,ne.x,ne.y,zn.x,Ir+zn.y,Bn.x,Bn.y+Bn.h,w,rr,ri.x,An.y,Vn,Kn),qm(Qe,ne.x,ne.y,Xn.x,Ir+Xn.y,Bn.x+Bn.w,Bn.y+Bn.h,w,rr,An.x,An.y,Vn,Kn),Of(c.dynamicLayoutVertexArray,ne,tn),Ye.emplaceBack(Xr,Xr+1,Xr+2),Ye.emplaceBack(Xr+1,Xr+2,Xr+3),mt.vertexLength+=4,mt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Dn[0]),on!==_.length-1&&Ar===_[on+1].sectionIndex||c.programConfigurations.populatePaintArrays(Qe.length,B,B.index,{},Ie,rn&&rn[Ar])}c.placedSymbolArray.emplaceBack(ne.x,ne.y,Et,this.glyphOffsetArray.length-Et,Yt,he,ye,ne.segment,w?w[0]:0,w?w[1]:0,I[0],I[1],Q,0,!1,0,we,0)}_commitLayoutVertex(c,_,w,I,F){c.emplaceBack(_.x,_.y,w,I,Math.round(F.x),Math.round(F.y))}_addCollisionDebugVertices(c,_,w,I,F){const B=w.segments.prepareSegment(4,w.layoutVertexArray,w.indexArray),Q=B.vertexLength,ne=F.anchorX,he=F.anchorY;for(let we=0;we<4;we++)w.collisionVertexArray.emplaceBack(0,0,0,0);w.collisionVertexArrayExt.emplaceBack(_,-c.padding,-c.padding),w.collisionVertexArrayExt.emplaceBack(_,c.padding,-c.padding),w.collisionVertexArrayExt.emplaceBack(_,c.padding,c.padding),w.collisionVertexArrayExt.emplaceBack(_,-c.padding,c.padding),this._commitLayoutVertex(w.layoutVertexArray,I,ne,he,new xe(c.x1,c.y1)),this._commitLayoutVertex(w.layoutVertexArray,I,ne,he,new xe(c.x2,c.y1)),this._commitLayoutVertex(w.layoutVertexArray,I,ne,he,new xe(c.x2,c.y2)),this._commitLayoutVertex(w.layoutVertexArray,I,ne,he,new xe(c.x1,c.y2)),B.vertexLength+=4;const ye=w.indexArray;ye.emplaceBack(Q,Q+1),ye.emplaceBack(Q+1,Q+2),ye.emplaceBack(Q+2,Q+3),ye.emplaceBack(Q+3,Q),B.primitiveLength+=4}_addTextDebugCollisionBoxes(c,_,w,I,F,B){for(let Q=I;Q<F;Q++){const ne=w.get(Q),he=this.getSymbolInstanceTextSize(c,B,_,Q);this._addCollisionDebugVertices(ne,he,this.textCollisionBox,ne.anchorPoint,B)}}_addIconDebugCollisionBoxes(c,_,w,I,F,B){for(let Q=I;Q<F;Q++){const ne=w.get(Q),he=this.getSymbolInstanceIconSize(c,_,Q);this._addCollisionDebugVertices(ne,he,this.iconCollisionBox,ne.anchorPoint,B)}}generateCollisionDebugBuffers(c,_){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Wu(Vo,Vp.members,Ja),this.iconCollisionBox=new Wu(Vo,Vp.members,Ja);const w=Um(this.iconSizeData,c),I=Um(this.textSizeData,c);for(let F=0;F<this.symbolInstances.length;F++){const B=this.symbolInstances.get(F);this._addTextDebugCollisionBoxes(I,c,_,B.textBoxStartIndex,B.textBoxEndIndex,B),this._addTextDebugCollisionBoxes(I,c,_,B.verticalTextBoxStartIndex,B.verticalTextBoxEndIndex,B),this._addIconDebugCollisionBoxes(w,c,_,B.iconBoxStartIndex,B.iconBoxEndIndex,B),this._addIconDebugCollisionBoxes(w,c,_,B.verticalIconBoxStartIndex,B.verticalIconBoxEndIndex,B)}}getSymbolInstanceTextSize(c,_,w,I){const F=this.text.placedSymbolArray.get(_.rightJustifiedTextSymbolIndex>=0?_.rightJustifiedTextSymbolIndex:_.centerJustifiedTextSymbolIndex>=0?_.centerJustifiedTextSymbolIndex:_.leftJustifiedTextSymbolIndex>=0?_.leftJustifiedTextSymbolIndex:_.verticalPlacedTextSymbolIndex>=0?_.verticalPlacedTextSymbolIndex:I),B=Dg(this.textSizeData,c,F)/24;return this.tilePixelRatio*B}getSymbolInstanceIconSize(c,_,w){const I=this.icon.placedSymbolArray.get(w),F=Dg(this.iconSizeData,c,I);return this.tilePixelRatio*F}_commitDebugCollisionVertexUpdate(c,_,w){c.emplaceBack(_,-w,-w),c.emplaceBack(_,w,-w),c.emplaceBack(_,w,w),c.emplaceBack(_,-w,w)}_updateTextDebugCollisionBoxes(c,_,w,I,F,B){for(let Q=I;Q<F;Q++){const ne=w.get(Q),he=this.getSymbolInstanceTextSize(c,B,_,Q);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,he,ne.padding)}}_updateIconDebugCollisionBoxes(c,_,w,I,F){for(let B=I;B<F;B++){const Q=w.get(B),ne=this.getSymbolInstanceIconSize(c,_,B);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ne,Q.padding)}}updateCollisionDebugBuffers(c,_){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const w=Um(this.iconSizeData,c),I=Um(this.textSizeData,c);for(let F=0;F<this.symbolInstances.length;F++){const B=this.symbolInstances.get(F);this._updateTextDebugCollisionBoxes(I,c,_,B.textBoxStartIndex,B.textBoxEndIndex,B),this._updateTextDebugCollisionBoxes(I,c,_,B.verticalTextBoxStartIndex,B.verticalTextBoxEndIndex,B),this._updateIconDebugCollisionBoxes(w,c,_,B.iconBoxStartIndex,B.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(w,c,_,B.verticalIconBoxStartIndex,B.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(c,_,w,I,F,B,Q,ne,he){const ye={};for(let we=_;we<w;we++){const Ie=c.get(we);ye.textBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,padding:Ie.padding,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},ye.textFeatureIndex=Ie.featureIndex;break}for(let we=I;we<F;we++){const Ie=c.get(we);ye.verticalTextBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,padding:Ie.padding,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},ye.verticalTextFeatureIndex=Ie.featureIndex;break}for(let we=B;we<Q;we++){const Ie=c.get(we);ye.iconBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,padding:Ie.padding,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},ye.iconFeatureIndex=Ie.featureIndex;break}for(let we=ne;we<he;we++){const Ie=c.get(we);ye.verticalIconBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,padding:Ie.padding,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},ye.verticalIconFeatureIndex=Ie.featureIndex;break}return ye}deserializeCollisionBoxes(c){this.collisionArrays=[];for(let _=0;_<this.symbolInstances.length;_++){const w=this.symbolInstances.get(_);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(c,w.textBoxStartIndex,w.textBoxEndIndex,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w.iconBoxStartIndex,w.iconBoxEndIndex,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(c,_){const w=c.placedSymbolArray.get(_),I=w.vertexStartIndex+4*w.numGlyphs;for(let F=w.vertexStartIndex;F<I;F+=4)c.indexArray.emplaceBack(F,F+1,F+2),c.indexArray.emplaceBack(F+1,F+2,F+3)}getSortedSymbolIndexes(c){if(this.sortedAngle===c&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const _=Math.sin(c),w=Math.cos(c),I=[],F=[],B=[];for(let Q=0;Q<this.symbolInstances.length;++Q){B.push(Q);const ne=this.symbolInstances.get(Q);I.push(0|Math.round(_*ne.anchorX+w*ne.anchorY)),F.push(ne.featureIndex)}return B.sort((Q,ne)=>I[Q]-I[ne]||F[ne]-F[Q]),B}addToSortKeyRanges(c,_){const w=this.sortKeyRanges[this.sortKeyRanges.length-1];w&&w.sortKey===_?w.symbolInstanceEnd=c+1:this.sortKeyRanges.push({sortKey:_,symbolInstanceStart:c,symbolInstanceEnd:c+1})}sortFeatures(c){if(this.sortFeaturesByY&&this.sortedAngle!==c&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(c),this.sortedAngle=c,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const _ of this.symbolInstanceIndexes){const w=this.symbolInstances.get(_);this.featureSortOrder.push(w.featureIndex),[w.rightJustifiedTextSymbolIndex,w.centerJustifiedTextSymbolIndex,w.leftJustifiedTextSymbolIndex].forEach((I,F,B)=>{I>=0&&B.indexOf(I)===F&&this.addIndicesForPlacedSymbol(this.text,I)}),w.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,w.verticalPlacedTextSymbolIndex),w.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,w.placedIconSymbolIndex),w.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,w.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}vi("SymbolBucket",Rf,{omit:["layers","collisionBoxArray","features","compareText"]}),Rf.MAX_GLYPHS=65535,Rf.addDynamicAttributes=Of;const Qv=new Dt({"symbol-placement":new Ct(v.layout_symbol["symbol-placement"]),"symbol-spacing":new Ct(v.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ct(v.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kt(v.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ct(v.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ct(v.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ct(v.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ct(v.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ct(v.layout_symbol["icon-rotation-alignment"]),"icon-size":new kt(v.layout_symbol["icon-size"]),"icon-text-fit":new Ct(v.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ct(v.layout_symbol["icon-text-fit-padding"]),"icon-image":new kt(v.layout_symbol["icon-image"]),"icon-rotate":new kt(v.layout_symbol["icon-rotate"]),"icon-padding":new Ct(v.layout_symbol["icon-padding"]),"icon-keep-upright":new Ct(v.layout_symbol["icon-keep-upright"]),"icon-offset":new kt(v.layout_symbol["icon-offset"]),"icon-anchor":new kt(v.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ct(v.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ct(v.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ct(v.layout_symbol["text-rotation-alignment"]),"text-field":new kt(v.layout_symbol["text-field"]),"text-font":new kt(v.layout_symbol["text-font"]),"text-size":new kt(v.layout_symbol["text-size"]),"text-max-width":new kt(v.layout_symbol["text-max-width"]),"text-line-height":new kt(v.layout_symbol["text-line-height"]),"text-letter-spacing":new kt(v.layout_symbol["text-letter-spacing"]),"text-justify":new kt(v.layout_symbol["text-justify"]),"text-radial-offset":new kt(v.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ct(v.layout_symbol["text-variable-anchor"]),"text-anchor":new kt(v.layout_symbol["text-anchor"]),"text-max-angle":new Ct(v.layout_symbol["text-max-angle"]),"text-writing-mode":new Ct(v.layout_symbol["text-writing-mode"]),"text-rotate":new kt(v.layout_symbol["text-rotate"]),"text-padding":new Ct(v.layout_symbol["text-padding"]),"text-keep-upright":new Ct(v.layout_symbol["text-keep-upright"]),"text-transform":new kt(v.layout_symbol["text-transform"]),"text-offset":new kt(v.layout_symbol["text-offset"]),"text-allow-overlap":new Ct(v.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ct(v.layout_symbol["text-ignore-placement"]),"text-optional":new Ct(v.layout_symbol["text-optional"])});var Ca={paint:new Dt({"icon-opacity":new kt(v.paint_symbol["icon-opacity"]),"icon-color":new kt(v.paint_symbol["icon-color"]),"icon-halo-color":new kt(v.paint_symbol["icon-halo-color"]),"icon-halo-width":new kt(v.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kt(v.paint_symbol["icon-halo-blur"]),"icon-translate":new Ct(v.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ct(v.paint_symbol["icon-translate-anchor"]),"text-opacity":new kt(v.paint_symbol["text-opacity"]),"text-color":new kt(v.paint_symbol["text-color"],{runtimeType:Ae,getOverride:g=>g.textColor,hasOverride:g=>!!g.textColor}),"text-halo-color":new kt(v.paint_symbol["text-halo-color"]),"text-halo-width":new kt(v.paint_symbol["text-halo-width"]),"text-halo-blur":new kt(v.paint_symbol["text-halo-blur"]),"text-translate":new Ct(v.paint_symbol["text-translate"]),"text-translate-anchor":new Ct(v.paint_symbol["text-translate-anchor"])}),layout:Qv};class zr{constructor(c){this.type=c.property.overrides?c.property.overrides.runtimeType:le,this.defaultValue=c}evaluate(c){if(c.formattedSection){const _=this.defaultValue.property.overrides;if(_&&_.hasOverride(c.formattedSection))return _.getOverride(c.formattedSection)}return c.feature&&c.featureState?this.defaultValue.evaluate(c.feature,c.featureState):this.defaultValue.property.specification.default}eachChild(c){this.defaultValue.isConstant()||c(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}vi("FormatSectionOverride",zr,{omit:["defaultValue"]});class so extends dc{constructor(c){super(c,Ca)}recalculate(c,_){super.recalculate(c,_),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const w=this.layout.get("text-writing-mode");if(w){const I=[];for(const F of w)I.indexOf(F)<0&&I.push(F);this.layout._values["text-writing-mode"]=I}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(c,_,w,I){const F=this.layout.get(c).evaluate(_,{},w,I),B=this._unevaluatedLayout._values[c];return B.isDataDriven()||oa(B.value)||!F?F:(Q=_.properties,F.replace(/{([^{}]+)}/g,(he,ye)=>ye in Q?String(Q[ye]):""));var Q}createBucket(c){return new Rf(c)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const c of Ca.paint.overridableProperties){if(!so.hasPaintOverride(this.layout,c))continue;const _=this.paint.get(c),w=new zr(_),I=new Hd(w,_.property.specification);let F=null;F="constant"===_.value.kind||"source"===_.value.kind?new ic("source",I):new Mc("composite",I,_.value.zoomStops,_.value._interpolationType),this.paint._values[c]=new wt(_.property,F,_.parameters)}}_handleOverridablePaintPropertyUpdate(c,_,w){return!(!this.layout||_.isDataDriven()||w.isDataDriven())&&so.hasPaintOverride(this.layout,c)}static hasPaintOverride(c,_){const w=c.get("text-field"),I=Ca.paint.properties[_];let F=!1;const B=Q=>{for(const ne of Q)if(I.overrides&&I.overrides.hasOverride(ne))return void(F=!0)};if("constant"===w.value.kind&&w.value.value instanceof fi)B(w.value.value.sections);else if("source"===w.value.kind){const Q=he=>{F||(he instanceof Jr&&_s(he.value)===_t?B(he.value.sections):he instanceof Js?B(he.sections):he.eachChild(Q))},ne=w.value;ne._styleExpression&&Q(ne._styleExpression.expression)}return F}getProgramConfiguration(c){return new $d(this,c)}}var gl={paint:new Dt({"background-color":new Ct(v.paint_background["background-color"]),"background-pattern":new Tn(v.paint_background["background-pattern"]),"background-opacity":new Ct(v.paint_background["background-opacity"])})},_l={paint:new Dt({"raster-opacity":new Ct(v.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ct(v.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ct(v.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ct(v.paint_raster["raster-brightness-max"]),"raster-saturation":new Ct(v.paint_raster["raster-saturation"]),"raster-contrast":new Ct(v.paint_raster["raster-contrast"]),"raster-resampling":new Ct(v.paint_raster["raster-resampling"]),"raster-fade-duration":new Ct(v.paint_raster["raster-fade-duration"])})};class nw extends dc{constructor(c){super(c,{}),this.implementation=c}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(c){this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)}onRemove(c){this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)}}var Ff={paint:new Dt({"sky-type":new Ct(v.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ct(v.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ct(v.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ct(v.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ct(v.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ln(v.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ct(v.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ct(v.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ct(v.paint_sky["sky-opacity"])})};function Vg(g,c,_){const w=Kd(0,0,1),I=Pl(Vu());return function(F,B,Q){Q*=.5;var ne=B[0],he=B[1],ye=B[2],we=B[3],Ie=Math.sin(Q),Ye=Math.cos(Q);F[0]=ne*Ye-ye*Ie,F[1]=he*Ye+we*Ie,F[2]=ye*Ye+ne*Ie,F[3]=we*Ye-he*Ie}(I,I,_?-en(g)+Math.PI:en(g)),Eh(I,I,-en(c)),Rp(w,w,I),tm(w,w)}const iw={circle:class extends dc{constructor(g){super(g,hc)}createBucket(g){return new Il(g)}queryRadius(g){const c=g;return mf("circle-radius",this,c)+mf("circle-stroke-width",this,c)+Kf(this.paint.get("circle-translate"))}queryIntersectsFeature(g,c,_,w,I,F,B,Q){const ne="map"===this.paint.get("circle-pitch-alignment");if(ne&&g.queryGeometry.isAboveHorizon)return!1;const he=Im(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,g.pixelToTileUnitsFactor),ye=this.paint.get("circle-radius").evaluate(c,_)+this.paint.get("circle-stroke-width").evaluate(c,_),we=ne?ye*g.pixelToTileUnitsFactor:ye;for(const Ie of w)for(const Ye of Ie){const Qe=Ye.add(he),mt=Q&&F.elevation?F.elevation.exaggeration()*Q.getElevationAt(Qe.x,Qe.y,!0):0,Et=ne?Qe:Np(Qe,mt,B),Yt=ne?g.tilespaceRays.map(on=>yf(on,mt)):g.queryGeometry.screenGeometry;let tn=we;const rn=kh([],[Ye.x,Ye.y,mt,1],B);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?tn*=rn[3]/F.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(tn*=F.cameraToCenterDistance/rn[3]),Zc(Yt,Et,tn))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(g){return new $d(this,g)}},heatmap:class extends dc{createBucket(g){return new vf(g)}constructor(g){super(g,Tg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(g){"heatmap-color"===g&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=_u({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(g){return new $d(this,g)}},hillshade:class extends dc{constructor(g){super(g,yu)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(g){return new $d(this,g)}},fill:class extends dc{constructor(g){super(g,wu)}getProgramIds(){const g=this.paint.get("fill-pattern"),c=g&&g.constantOr(1),_=[c?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&_.push(c&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),_}getProgramConfiguration(g){return new $d(this,g)}recalculate(g,c){super.recalculate(g,c);const _=this.paint._values["fill-outline-color"];"constant"===_.value.kind&&void 0===_.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(g){return new Gu(g)}queryRadius(){return Kf(this.paint.get("fill-translate"))}queryIntersectsFeature(g,c,_,w,I,F){return!g.queryGeometry.isAboveHorizon&&yd(em(g.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,g.pixelToTileUnitsFactor),w)}isTileClipped(){return!0}},"fill-extrusion":class extends dc{constructor(g){super(g,S)}createBucket(g){return new Bp(g)}queryRadius(){return Kf(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(g){return new $d(this,g)}queryIntersectsFeature(g,c,_,w,I,F,B,Q,ne){const he=Im(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,g.pixelToTileUnitsFactor),ye=this.paint.get("fill-extrusion-height").evaluate(c,_),we=this.paint.get("fill-extrusion-base").evaluate(c,_),Ie=[0,0],Ye=Q&&F.elevation,Qe=F.elevation?F.elevation.exaggeration():1;if(Ye){const Yt=g.tile.getBucket(this).centroidVertexArray,tn=ne+1;if(tn<Yt.length){const rn=Yt.get(tn);Ie[0]=rn.a_centroid_pos0,Ie[1]=rn.a_centroid_pos1}}if(0===Ie[0]&&1===Ie[1])return!1;const mt=(Yt=w,tn=we,rn=ye,on=he,gn=B,(mn=Ye?Q:null)?function(ri,An,Vn,Kn,Dn,rr,Ar,Xr,Ir){const Yi=[],ao=[],Hi=[0,0,0,1];for(const jo of ri){const Oa=[],Ta=[];for(const vl of jo){const Go=vl.x+Kn.x,Zo=vl.y+Kn.y,xo=ie(Go,Zo,An,Vn,rr,Ar,Xr,Ir);Hi[0]=Go,Hi[1]=Zo,Hi[2]=xo.base,Hi[3]=1,kh(Hi,Hi,Dn),Hi[3]=Math.max(Hi[3],1e-5);const Jo=U([Hi[0]/Hi[3],Hi[1]/Hi[3],Hi[2]/Hi[3]]);Hi[0]=Go,Hi[1]=Zo,Hi[2]=xo.top,Hi[3]=1,kh(Hi,Hi,Dn),Hi[3]=Math.max(Hi[3],1e-5);const Io=U([Hi[0]/Hi[3],Hi[1]/Hi[3],Hi[2]/Hi[3]]);Oa.push(Jo),Ta.push(Io)}Yi.push(Oa),ao.push(Ta)}return[Yi,ao]}(Yt,tn,rn,on,gn,mn,Ie,Qe,F.center.lat):function(ri,An,Vn,Kn,Dn){const rr=[],Ar=[],Xr=Dn[8]*An,Ir=Dn[9]*An,Yi=Dn[10]*An,ao=Dn[11]*An,Hi=Dn[8]*Vn,jo=Dn[9]*Vn,Oa=Dn[10]*Vn,Ta=Dn[11]*Vn;for(const vl of ri){const Go=[],Zo=[];for(const xo of vl){const Jo=xo.x+Kn.x,Io=xo.y+Kn.y,il=Dn[0]*Jo+Dn[4]*Io+Dn[12],wo=Dn[1]*Jo+Dn[5]*Io+Dn[13],Ks=Dn[2]*Jo+Dn[6]*Io+Dn[14],Ra=Dn[3]*Jo+Dn[7]*Io+Dn[15],ca=il+Xr,Lo=wo+Ir,Xl=Ks+Yi,Wo=Math.max(Ra+ao,1e-5),Pc=il+Hi,ua=wo+jo,Ms=Ks+Oa,da=Math.max(Ra+Ta,1e-5),Oc=new xe(ca/Wo,Lo/Wo);Oc.z=Xl/Wo,Go.push(Oc);const Qs=new xe(Pc/da,ua/da);Qs.z=Ms/da,Zo.push(Qs)}rr.push(Go),Ar.push(Zo)}return[rr,Ar]}(Yt,tn,rn,on,gn)),Et=g.queryGeometry;var Yt,tn,rn,on,gn,mn;return function(Yt,tn,rn){let on=1/0;yd(rn,tn)&&(on=L(rn,tn[0]));for(let gn=0;gn<tn.length;gn++){const mn=tn[gn],zn=Yt[gn];for(let Xn=0;Xn<mn.length-1;Xn++){const Bn=mn[Xn],ri=[Bn,mn[Xn+1],zn[Xn+1],zn[Xn],Bn];Am(rn,ri)&&(on=Math.min(on,L(rn,ri)))}}return on!==1/0&&on}(mt[0],mt[1],Et.isPointQuery()?Et.screenBounds:Et.screenGeometry)}},line:class extends dc{constructor(g){super(g,ii),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(g){if("line-gradient"===g){const c=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=c._styleExpression&&c._styleExpression.expression instanceof Na,this.gradientVersion=(this.gradientVersion+1)%xt}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(g,c){super.recalculate(g,c),this.paint._values["line-floorwidth"]=Mi.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,g)}createBucket(g){return new bn(g)}getProgramIds(){const g=this.paint.get("line-dasharray"),c=this.paint.get("line-pattern").constantOr(1),_=this.paint.get("line-gradient");return[c?"linePattern":g?"lineSDF":_?"lineGradient":"line"]}getProgramConfiguration(g){return new $d(this,g)}queryRadius(g){const c=g,_=Ui(mf("line-width",this,c),mf("line-gap-width",this,c)),w=mf("line-offset",this,c);return _/2+Math.abs(w)+Kf(this.paint.get("line-translate"))}queryIntersectsFeature(g,c,_,w,I,F){if(g.queryGeometry.isAboveHorizon)return!1;const B=em(g.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,g.pixelToTileUnitsFactor),Q=g.pixelToTileUnitsFactor/2*Ui(this.paint.get("line-width").evaluate(c,_),this.paint.get("line-gap-width").evaluate(c,_)),ne=this.paint.get("line-offset").evaluate(c,_);return ne&&(w=function(he,ye){const we=[],Ie=new xe(0,0);for(let Ye=0;Ye<he.length;Ye++){const Qe=he[Ye],mt=[];for(let Et=0;Et<Qe.length;Et++){const Yt=Qe[Et-1],tn=Qe[Et],rn=Qe[Et+1],on=0===Et?Ie:tn.sub(Yt)._unit()._perp(),gn=Et===Qe.length-1?Ie:rn.sub(tn)._unit()._perp(),mn=on._add(gn)._unit();mn._mult(1/(mn.x*gn.x+mn.y*gn.y)),mt.push(mn._mult(ye)._add(tn))}we.push(mt)}return we}(w,ne*g.pixelToTileUnitsFactor)),function(he,ye,we){for(let Ie=0;Ie<ye.length;Ie++){const Ye=ye[Ie];if(he.length>=3)for(let Qe=0;Qe<Ye.length;Qe++)if(tl(he,Ye[Qe]))return!0;if(Ll(he,Ye,we))return!0}return!1}(B,w,Q)}isTileClipped(){return!0}},symbol:so,background:class extends dc{constructor(g){super(g,gl)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends dc{constructor(g){super(g,_l)}getProgramIds(){return["raster"]}},sky:class extends dc{constructor(g){super(g,Ff),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(g){"sky-gradient"===g?this._updateColorRamp():"sky-atmosphere-sun"!==g&&"sky-atmosphere-halo-color"!==g&&"sky-atmosphere-color"!==g&&"sky-atmosphere-sun-intensity"!==g||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=_u({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(g){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const c=g.style.light.properties.get("position");return this._lightPosition.azimuthal!==c.azimuthal||this._lightPosition.polar!==c.polar}}getCenter(g,c){const _=this.paint.get("sky-type");if("atmosphere"===_){const w=this.paint.get("sky-atmosphere-sun"),I=!w,F=g.style.light,B=F.properties.get("position");return I&&"viewport"===F.properties.get("anchor")&&Fi("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),I?Vg(B.azimuthal,90-B.polar,c):Vg(w[0],90-w[1],c)}if("gradient"===_){const w=this.paint.get("sky-gradient-center");return Vg(w[0],90-w[1],c)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(g){this._skyboxInvalidated=!1,this._lightPosition=g.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const g=this.paint.get("sky-type");return"atmosphere"===g?["skyboxCapture","skybox"]:"gradient"===g?["skyboxGradient"]:null}}},{HTMLImageElement:Gy,HTMLCanvasElement:Xm,HTMLVideoElement:Qm,ImageData:Hg,ImageBitmap:gc}=He;class qu{constructor(c,_,w,I){this.context=c,this.format=w,this.texture=c.gl.createTexture(),this.update(_,I)}update(c,_,w){const{width:I,height:F}=c,B=!(this.size&&this.size[0]===I&&this.size[1]===F||w),{context:Q}=this,{gl:ne}=Q;if(this.useMipmap=Boolean(_&&_.useMipmap),ne.bindTexture(ne.TEXTURE_2D,this.texture),Q.pixelStoreUnpackFlipY.set(!1),Q.pixelStoreUnpack.set(1),Q.pixelStoreUnpackPremultiplyAlpha.set(this.format===ne.RGBA&&(!_||!1!==_.premultiply)),B)this.size=[I,F],c instanceof Gy||c instanceof Xm||c instanceof Qm||c instanceof Hg||gc&&c instanceof gc?ne.texImage2D(ne.TEXTURE_2D,0,this.format,this.format,ne.UNSIGNED_BYTE,c):ne.texImage2D(ne.TEXTURE_2D,0,this.format,I,F,0,this.format,ne.UNSIGNED_BYTE,c.data);else{const{x:he,y:ye}=w||{x:0,y:0};c instanceof Gy||c instanceof Xm||c instanceof Qm||c instanceof Hg||gc&&c instanceof gc?ne.texSubImage2D(ne.TEXTURE_2D,0,he,ye,ne.RGBA,ne.UNSIGNED_BYTE,c):ne.texSubImage2D(ne.TEXTURE_2D,0,he,ye,I,F,ne.RGBA,ne.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ne.generateMipmap(ne.TEXTURE_2D)}bind(c,_,w){const{context:I}=this,{gl:F}=I;F.bindTexture(F.TEXTURE_2D,this.texture),w!==F.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(w=F.LINEAR),c!==this.filter&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,c),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,w||c),this.filter=c),_!==this.wrap&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,_),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,_),this.wrap=_)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}class ja{constructor(c,_){c&&(_?this.setSouthWest(c).setNorthEast(_):4===c.length?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1]))}setNorthEast(c){return this._ne=c instanceof Rr?new Rr(c.lng,c.lat):Rr.convert(c),this}setSouthWest(c){return this._sw=c instanceof Rr?new Rr(c.lng,c.lat):Rr.convert(c),this}extend(c){const _=this._sw,w=this._ne;let I,F;if(c instanceof Rr)I=c,F=c;else{if(!(c instanceof ja))return Array.isArray(c)?4===c.length||c.every(Array.isArray)?this.extend(ja.convert(c)):this.extend(Rr.convert(c)):this;if(I=c._sw,F=c._ne,!I||!F)return this}return _||w?(_.lng=Math.min(I.lng,_.lng),_.lat=Math.min(I.lat,_.lat),w.lng=Math.max(F.lng,w.lng),w.lat=Math.max(F.lat,w.lat)):(this._sw=new Rr(I.lng,I.lat),this._ne=new Rr(F.lng,F.lat)),this}getCenter(){return new Rr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Rr(this.getWest(),this.getNorth())}getSouthEast(){return new Rr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:_,lat:w}=Rr.convert(c);let I=this._sw.lng<=_&&_<=this._ne.lng;return this._sw.lng>this._ne.lng&&(I=this._sw.lng>=_&&_>=this._ne.lng),this._sw.lat<=w&&w<=this._ne.lat&&I}static convert(c){return!c||c instanceof ja?c:new ja(c)}}const Jm=6371008.8;class Rr{constructor(c,_){if(isNaN(c)||isNaN(_))throw new Error(`Invalid LngLat object: (${c}, ${_})`);if(this.lng=+c,this.lat=+_,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Rr(tr(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(c){const _=Math.PI/180,w=this.lat*_,I=c.lat*_,F=Math.sin(w)*Math.sin(I)+Math.cos(w)*Math.cos(I)*Math.cos((c.lng-this.lng)*_);return Jm*Math.acos(Math.min(F,1))}toBounds(c=0){const _=360*c/40075017,w=_/Math.cos(Math.PI/180*this.lat);return new ja(new Rr(this.lng-w,this.lat-_),new Rr(this.lng+w,this.lat+_))}static convert(c){if(c instanceof Rr)return c;if(Array.isArray(c)&&(2===c.length||3===c.length))return new Rr(Number(c[0]),Number(c[1]));if(!Array.isArray(c)&&"object"==typeof c&&null!==c)return new Rr(Number("lng"in c?c.lng:c.lon),Number(c.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ma=2*Math.PI*Jm;function F_(g){return Ma*Math.cos(g*Math.PI/180)}function N_(g){return(180+g)/360}function z_(g){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+g*Math.PI/360)))/360}function Ug(g,c){return g/F_(c)}function Td(g){return 360/Math.PI*Math.atan(Math.exp((180-360*g)*Math.PI/180))-90}function jg(g,c){return g*F_(Td(c))}class Rh{constructor(c,_,w=0){this.x=+c,this.y=+_,this.z=+w}static fromLngLat(c,_=0){const w=Rr.convert(c);return new Rh(N_(w.lng),z_(w.lat),Ug(_,w.lat))}toLngLat(){return new Rr(360*this.x-180,Td(this.y))}toAltitude(){return jg(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ma*(c=Td(this.y),1/Math.cos(c*Math.PI/180));var c}}class Gg{constructor(c,_){this.width=c,this.height=_,this.nextRow=0,this.image=new Dh({width:c,height:_}),this.positions={},this.uploaded=!1}getDash(c,_){const w=this.getKey(c,_);return this.positions[w]}trim(){const c=this.width,_=this.height=_n(this.nextRow);this.image.resize({width:c,height:_})}getKey(c,_){return c.join(",")+_}getDashRanges(c,_,w){const I=[];let F=c.length%2==1?-c[c.length-1]*w:0,B=c[0]*w,Q=!0;I.push({left:F,right:B,isDash:Q,zeroLength:0===c[0]});let ne=c[0];for(let he=1;he<c.length;he++){Q=!Q;const ye=c[he];F=ne*w,ne+=ye,B=ne*w,I.push({left:F,right:B,isDash:Q,zeroLength:0===ye})}return I}addRoundDash(c,_,w){const I=_/2;for(let F=-w;F<=w;F++){const B=this.width*(this.nextRow+w+F);let Q=0,ne=c[Q];for(let he=0;he<this.width;he++){he/ne.right>1&&(ne=c[++Q]);const ye=Math.abs(he-ne.left),we=Math.abs(he-ne.right),Ie=Math.min(ye,we);let Ye;const Qe=F/w*(I+1);if(ne.isDash){const mt=I-Math.abs(Qe);Ye=Math.sqrt(Ie*Ie+mt*mt)}else Ye=I-Math.sqrt(Ie*Ie+Qe*Qe);this.image.data[B+he]=Math.max(0,Math.min(255,Ye+128))}}}addRegularDash(c,_){for(let ne=c.length-1;ne>=0;--ne){const he=c[ne],ye=c[ne+1];he.zeroLength?c.splice(ne,1):ye&&ye.isDash===he.isDash&&(ye.left=he.left,c.splice(ne,1))}const w=c[0],I=c[c.length-1];w.isDash===I.isDash&&(w.left=I.left-this.width,I.right=w.right+this.width);const F=this.width*this.nextRow;let B=0,Q=c[B];for(let ne=0;ne<this.width;ne++){ne/Q.right>1&&(Q=c[++B]);const he=Math.abs(ne-Q.left),ye=Math.abs(ne-Q.right),we=Math.min(he,ye);this.image.data[F+ne]=Math.max(0,Math.min(255,(Q.isDash?we:-we)+_+128))}}addDash(c,_){const w=this.getKey(c,_);if(this.positions[w])return this.positions[w];const I="round"===_,F=I?7:0,B=2*F+1;if(this.nextRow+B>this.height)return Fi("LineAtlas out of space"),null;0===c.length&&c.push(1);let Q=0;for(let ye=0;ye<c.length;ye++)c[ye]<0&&(Fi("Negative value is found in line dasharray, replacing values with 0"),c[ye]=0),Q+=c[ye];if(0!==Q){const ye=this.width/Q,we=this.getDashRanges(c,this.width,ye);I?this.addRoundDash(we,ye,F):this.addRegularDash(we,"square"===_?.5*ye:0)}const ne=this.nextRow+F;this.nextRow+=B;const he={tl:[ne,F],br:[Q,0]};return this.positions[w]=he,he}}vi("LineAtlas",Gg);class Km{constructor(c){this._callback=c,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Zg=He.performance;function Jv(g){const c=g?g.url.toString():void 0;return Zg.getEntriesByName(c)}class Zy{constructor(){this.tasks={},this.taskQueue=[],vn(["process"],this),this.invoker=new Km(this.process),this.nextId=0}add(c,_){const w=this.nextId++,I=function({type:F,isSymbolTile:B,zoom:Q}){return Q=Q||0,"message"===F?0:"maybePrepare"!==F||B?"parseTile"!==F||B?"parseTile"===F&&B?300-Q:"maybePrepare"===F&&B?400-Q:500:200-Q:100-Q}(_);if(0===I){mi();try{c()}finally{}return{cancel:()=>{}}}return this.tasks[w]={fn:c,metadata:_,priority:I,id:w},this.taskQueue.push(w),this.invoker.trigger(),{cancel:()=>{delete this.tasks[w]}}}process(){mi();try{if(this.taskQueue=this.taskQueue.filter(w=>!!this.tasks[w]),!this.taskQueue.length)return;const c=this.pick();if(null===c)return;const _=this.tasks[c];if(delete this.tasks[c],this.taskQueue.length&&this.invoker.trigger(),!_)return;_.fn()}finally{}}pick(){let c=null,_=1/0;for(let I=0;I<this.taskQueue.length;I++){const F=this.tasks[this.taskQueue[I]];F.priority<_&&(_=F.priority,c=I)}if(null===c)return null;const w=this.taskQueue[c];return this.taskQueue.splice(c,1),w}remove(){this.invoker.remove()}}function Nf(g,c,_){var w=2*Math.PI*6378137/256/Math.pow(2,_);return[g*w-2*Math.PI*6378137/2,c*w-2*Math.PI*6378137/2]}class ql{constructor(c,_,w){this.z=c,this.x=_,this.y=w,this.key=zf(0,c,c,_,w)}equals(c){return this.z===c.z&&this.x===c.x&&this.y===c.y}url(c,_){const w=(F=this.y,B=this.z,Q=Nf(256*(I=this.x),256*(F=Math.pow(2,B)-F-1),B),ne=Nf(256*(I+1),256*(F+1),B),Q[0]+","+Q[1]+","+ne[0]+","+ne[1]);var I,F,B,Q,ne;const he=function(ye,we,Ie){let Ye,Qe="";for(let mt=ye;mt>0;mt--)Ye=1<<mt-1,Qe+=(we&Ye?1:0)+(Ie&Ye?2:0);return Qe}(this.z,this.x,this.y);return c[(this.x+this.y)%c.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===_?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",he).replace("{bbox-epsg-3857}",w)}getTilePoint(c){const _=Math.pow(2,this.z);return new xe((c.x*_-this.x)*Dr,(c.y*_-this.y)*Dr)}getTileVec3(c){const _=Math.pow(2,this.z);return Kd((c.x*_-this.x)*Dr,(c.y*_-this.y)*Dr,jg(c.z,c.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Zp{constructor(c,_){this.wrap=c,this.canonical=_,this.key=zf(c,_.z,_.z,_.x,_.y)}}class Ic{constructor(c,_,w,I,F){this.overscaledZ=c,this.wrap=_,this.canonical=new ql(w,+I,+F),this.key=0===_&&c===w?this.canonical.key:zf(_,c,w,I,F)}equals(c){return this.overscaledZ===c.overscaledZ&&this.wrap===c.wrap&&this.canonical.equals(c.canonical)}scaledTo(c){const _=this.canonical.z-c;return c>this.canonical.z?new Ic(c,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ic(c,this.wrap,c,this.canonical.x>>_,this.canonical.y>>_)}calculateScaledKey(c,_=!0){if(this.overscaledZ===c&&_)return this.key;if(c>this.canonical.z)return zf(this.wrap*+_,c,this.canonical.z,this.canonical.x,this.canonical.y);{const w=this.canonical.z-c;return zf(this.wrap*+_,c,c,this.canonical.x>>w,this.canonical.y>>w)}}isChildOf(c){if(c.wrap!==this.wrap)return!1;const _=this.canonical.z-c.canonical.z;return 0===c.overscaledZ||c.overscaledZ<this.overscaledZ&&c.canonical.x===this.canonical.x>>_&&c.canonical.y===this.canonical.y>>_}children(c){if(this.overscaledZ>=c)return[new Ic(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const _=this.canonical.z+1,w=2*this.canonical.x,I=2*this.canonical.y;return[new Ic(_,this.wrap,_,w,I),new Ic(_,this.wrap,_,w+1,I),new Ic(_,this.wrap,_,w,I+1),new Ic(_,this.wrap,_,w+1,I+1)]}isLessThan(c){return this.wrap<c.wrap||!(this.wrap>c.wrap)&&(this.overscaledZ<c.overscaledZ||!(this.overscaledZ>c.overscaledZ)&&(this.canonical.x<c.canonical.x||!(this.canonical.x>c.canonical.x)&&this.canonical.y<c.canonical.y))}wrapped(){return new Ic(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(c){return new Ic(this.overscaledZ,c,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Zp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(c){return this.canonical.getTilePoint(new Rh(c.x-this.wrap,c.y))}getTileVec3(c){return this.canonical.getTileVec3(new Rh(c.x-this.wrap,c.y,c.z))}}function zf(g,c,_,w,I){const F=1<<Math.min(_,22);let B=F*(I%F)+w%F;return g&&_<22&&(B+=F*F*((g<0?-2*g-1:2*g)%(1<<2*(22-_)))),16*(32*B+_)+(c-_)}vi("CanonicalTileID",ql),vi("OverscaledTileID",Ic,{omit:["projMatrix"]});class Y_{constructor(c){this._stringToNumber={},this._numberToString=[];for(let _=0;_<c.length;_++){const w=c[_];this._stringToNumber[w]=_,this._numberToString[_]=w}}encode(c){return this._stringToNumber[c]}decode(c){return this._numberToString[c]}}class B_{constructor(c,_,w,I,F){this.type="Feature",this._vectorTileFeature=c,c._z=_,c._x=w,c._y=I,this.properties=c.properties,this.id=F}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(c){this._geometry=c}toJSON(){const c={geometry:this.geometry};for(const _ in this)"_geometry"!==_&&"_vectorTileFeature"!==_&&(c[_]=this[_]);return c}}var V_=Wn([{name:"a_pos",type:"Int16",components:2}]);class Wg{constructor(c,_,w){this.tileID=c,this.uid=qi(),this.uses=0,this.tileSize=_,this.tileZoom=w,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const _=c+this.timeAdded;_<Zs.now()||this.fadeEndTime&&_<this.fadeEndTime||(this.fadeEndTime=_)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(c,_,w){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(I,F){const B={};if(!F)return B;for(const Q of I){const ne=Q.layerIds.map(he=>F.getLayer(he)).filter(Boolean);if(0!==ne.length){Q.layers=ne,Q.stateDependentLayerIds&&(Q.stateDependentLayers=Q.stateDependentLayerIds.map(he=>ne.filter(ye=>ye.id===he)[0]));for(const he of ne)B[he.id]=Q}}return B}(c.buckets,_.style),this.hasSymbolBuckets=!1;for(const I in this.buckets){const F=this.buckets[I];if(F instanceof Rf){if(this.hasSymbolBuckets=!0,!w)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const I in this.buckets){const F=this.buckets[I];if(F instanceof Rf&&F.hasRTLText){this.hasRTLText=!0,Ge.isLoading()||Ge.isLoaded()||"deferred"!==_e()||ze();break}}this.queryPadding=0;for(const I in this.buckets){const F=this.buckets[I];this.queryPadding=Math.max(this.queryPadding,_.style.getLayer(I).queryRadius(F))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),c.lineAtlas&&(this.lineAtlas=c.lineAtlas)}else this.collisionBoxArray=new Yu}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const w in this.buckets){const I=this.buckets[w];I.uploadPending()&&I.upload(c)}const _=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new qu(c,this.imageAtlas.image,_.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new qu(c,this.glyphAtlasImage,_.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new qu(c,this.lineAtlas.image,_.ALPHA),this.lineAtlas.uploaded=!0)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,_,w,I,F,B,Q,ne){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:I,pixelPosMatrix:Q,transform:B,params:F},c,_,w):{}}querySourceFeatures(c,_){const w=this.latestFeatureIndex;if(!w||!w.rawTileData)return;const I=w.loadVTLayers(),F=_?_.sourceLayer:"",B=I._geojsonTileLayer||I[F];if(!B)return;const Q=Ws(_&&_.filter),{z:ne,x:he,y:ye}=this.tileID.canonical,we={z:ne,x:he,y:ye};for(let Ie=0;Ie<B.length;Ie++){const Ye=B.feature(Ie);if(Q.needGeometry){const Et=Gc(Ye,!0);if(!Q.filter(new We(this.tileID.overscaledZ),Et,this.tileID.canonical))continue}else if(!Q.filter(new We(this.tileID.overscaledZ),Ye))continue;const Qe=w.getId(Ye,F),mt=new B_(Ye,ne,he,ye,Qe);mt.tile=we,c.push(mt)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const _=this.expirationTime;if(c.cacheControl){const w=gi(c.cacheControl);w["max-age"]&&(this.expirationTime=Date.now()+1e3*w["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const w=Date.now();let I=!1;if(this.expirationTime>w)I=!1;else if(_)if(this.expirationTime<_)I=!0;else{const F=this.expirationTime-_;F?this.expirationTime=w+Math.max(F,3e4):I=!0}else I=!0;I?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(c,_){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(c).length)return;const w=this.latestFeatureIndex.loadVTLayers();for(const I in this.buckets){if(!_.style.hasLayer(I))continue;const F=this.buckets[I],B=F.layers[0].sourceLayer||"_geojsonTileLayer",Q=w[B],ne=c[B];if(!Q||!ne||0===Object.keys(ne).length)continue;F.update(ne,Q,this.imageAtlas&&this.imageAtlas.patternPositions||{});const he=_&&_.style&&_.style.getLayer(I);he&&(this.queryPadding=Math.max(this.queryPadding,he.queryRadius(F)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Zs.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=Zs.now()+c}setDependencies(c,_){const w={};for(const I of _)w[I]=!0;this.dependencies[c]=w}hasDependency(c,_){for(const w of c){const I=this.dependencies[w];if(I)for(const F of _)if(I[F])return!0}return!1}clearQueryDebugViz(){}}class xp{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,_,w){const I=String(_);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][I]=this.stateChanges[c][I]||{},Li(this.stateChanges[c][I],w),null===this.deletedStates[c]){this.deletedStates[c]={};for(const F in this.state[c])F!==I&&(this.deletedStates[c][F]=null)}else if(this.deletedStates[c]&&null===this.deletedStates[c][I]){this.deletedStates[c][I]={};for(const F in this.state[c][I])w[F]||(this.deletedStates[c][I][F]=null)}else for(const F in w)this.deletedStates[c]&&this.deletedStates[c][I]&&null===this.deletedStates[c][I][F]&&delete this.deletedStates[c][I][F]}removeFeatureState(c,_,w){if(null===this.deletedStates[c])return;const I=String(_);if(this.deletedStates[c]=this.deletedStates[c]||{},w&&void 0!==_)null!==this.deletedStates[c][I]&&(this.deletedStates[c][I]=this.deletedStates[c][I]||{},this.deletedStates[c][I][w]=null);else if(void 0!==_)if(this.stateChanges[c]&&this.stateChanges[c][I])for(w in this.deletedStates[c][I]={},this.stateChanges[c][I])this.deletedStates[c][I][w]=null;else this.deletedStates[c][I]=null;else this.deletedStates[c]=null}getState(c,_){const w=String(_),I=Li({},(this.state[c]||{})[w],(this.stateChanges[c]||{})[w]);if(null===this.deletedStates[c])return{};if(this.deletedStates[c]){const F=this.deletedStates[c][_];if(null===F)return{};for(const B in F)delete I[B]}return I}initializeTileState(c,_){c.setFeatureState(this.state,_)}coalesceChanges(c,_){const w={};for(const I in this.stateChanges){this.state[I]=this.state[I]||{};const F={};for(const B in this.stateChanges[I])this.state[I][B]||(this.state[I][B]={}),Li(this.state[I][B],this.stateChanges[I][B]),F[B]=this.state[I][B];w[I]=F}for(const I in this.deletedStates){this.state[I]=this.state[I]||{};const F={};if(null===this.deletedStates[I])for(const B in this.state[I])F[B]={},this.state[I][B]={};else for(const B in this.deletedStates[I]){if(null===this.deletedStates[I][B])this.state[I][B]={};else for(const Q of Object.keys(this.deletedStates[I][B]))delete this.state[I][B][Q];F[B]=this.state[I][B]}w[I]=w[I]||{},Li(w[I],F)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(w).length)for(const I in c)c[I].setFeatureState(w,_)}}class ir{constructor(c){this.size=c,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(c,_){const w=this.toIdx(c,_);return{min:this.minimums[w],max:this.maximums[w]}}isLeaf(c,_){return this.leaves[this.toIdx(c,_)]}toIdx(c,_){return _*this.size+c}}function fm(g,c,_,w){let I=0,F=Number.MAX_VALUE;for(let B=0;B<3;B++)if(Math.abs(w[B])<1e-15){if(_[B]<g[B]||_[B]>c[B])return null}else{const Q=1/w[B];let ne=(g[B]-_[B])*Q,he=(c[B]-_[B])*Q;if(ne>he){const ye=ne;ne=he,he=ye}if(ne>I&&(I=ne),he<F&&(F=he),I>F)return null}return I}function Tu(g,c,_,w,I,F,B,Q,ne,he,ye){const we=w-g,Ie=I-c,Ye=F-_,Qe=B-g,mt=Q-c,Et=ne-_,Yt=ye[1]*Et-ye[2]*mt,tn=ye[2]*Qe-ye[0]*Et,rn=ye[0]*mt-ye[1]*Qe,on=we*Yt+Ie*tn+Ye*rn;if(Math.abs(on)<1e-15)return null;const gn=1/on,mn=he[0]-g,zn=he[1]-c,Xn=he[2]-_,Bn=(mn*Yt+zn*tn+Xn*rn)*gn;if(Bn<0||Bn>1)return null;const ri=zn*Ye-Xn*Ie,An=Xn*we-mn*Ye,Vn=mn*Ie-zn*we,Kn=(ye[0]*ri+ye[1]*An+ye[2]*Vn)*gn;return Kn<0||Bn+Kn>1?null:(Qe*ri+mt*An+Et*Vn)*gn}function eg(g,c,_){return(g-c)/(_-c)}function Kv(g,c,_,w,I,F,B,Q,ne){const he=1<<_,ye=F-w,we=B-I,Ie=(g+1)/he*ye+w,Ye=(c+0)/he*we+I,Qe=(c+1)/he*we+I;Q[0]=(g+0)/he*ye+w,Q[1]=Ye,ne[0]=Ie,ne[1]=Qe}class oo{constructor(c){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=c,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const _=function(F){const B=Math.ceil(Math.log2(F.dim/8)),Q=[];let ne=Math.ceil(Math.pow(2,B));const he=1/ne,ye=(Ye,Qe,mt,Et,Yt)=>{const tn=Et?1:0,rn=(Ye+1)*mt-tn,on=Qe*mt,gn=(Qe+1)*mt-tn;Yt[0]=Ye*mt,Yt[1]=on,Yt[2]=rn,Yt[3]=gn};let we=new ir(ne);const Ie=[];for(let Ye=0;Ye<ne*ne;Ye++){ye(Ye%ne,Math.floor(Ye/ne),he,!1,Ie);const Qe=Sd(Ie[0],Ie[1],F),mt=Sd(Ie[2],Ie[1],F),Et=Sd(Ie[2],Ie[3],F),Yt=Sd(Ie[0],Ie[3],F);we.minimums.push(Math.min(Qe,mt,Et,Yt)),we.maximums.push(Math.max(Qe,mt,Et,Yt)),we.leaves.push(1)}for(Q.push(we),ne/=2;ne>=1;ne/=2){const Ye=Q[Q.length-1];we=new ir(ne);for(let Qe=0;Qe<ne*ne;Qe++){ye(Qe%ne,Math.floor(Qe/ne),2,!0,Ie);const mt=Ye.getElevation(Ie[0],Ie[1]),Et=Ye.getElevation(Ie[2],Ie[1]),Yt=Ye.getElevation(Ie[2],Ie[3]),tn=Ye.getElevation(Ie[0],Ie[3]),rn=Ye.isLeaf(Ie[0],Ie[1]),on=Ye.isLeaf(Ie[2],Ie[1]),gn=Ye.isLeaf(Ie[2],Ie[3]),mn=Ye.isLeaf(Ie[0],Ie[3]),zn=Math.min(mt.min,Et.min,Yt.min,tn.min),Xn=Math.max(mt.max,Et.max,Yt.max,tn.max),Bn=rn&&on&&gn&&mn;we.maximums.push(Xn),we.minimums.push(zn),we.leaves.push(Xn-zn<=5&&Bn?1:0)}Q.push(we)}return Q}(this.dem),w=_.length-1,I=_[w];this._addNode(I.minimums[0],I.maximums[0],I.leaves[0]),this._construct(_,0,0,w,0)}raycastRoot(c,_,w,I,F,B,Q=1){return fm([c,_,-100],[w,I,this.maximums[0]*Q],F,B)}raycast(c,_,w,I,F,B,Q=1){if(!this.nodeCount)return null;const ne=this.raycastRoot(c,_,w,I,F,B,Q);if(null==ne)return null;const he=[],ye=[],we=[],Ie=[],Ye=[{idx:0,t:ne,nodex:0,nodey:0,depth:0}];for(;Ye.length>0;){const{idx:Qe,t:mt,nodex:Et,nodey:Yt,depth:tn}=Ye.pop();if(this.leaves[Qe]){Kv(Et,Yt,tn,c,_,w,I,we,Ie);const on=1<<tn,gn=(Et+0)/on,mn=(Et+1)/on,zn=(Yt+0)/on,Xn=(Yt+1)/on,Bn=Sd(gn,zn,this.dem)*Q,ri=Sd(mn,zn,this.dem)*Q,An=Sd(mn,Xn,this.dem)*Q,Vn=Sd(gn,Xn,this.dem)*Q,Kn=Tu(we[0],we[1],Bn,Ie[0],we[1],ri,Ie[0],Ie[1],An,F,B),Dn=Tu(Ie[0],Ie[1],An,we[0],Ie[1],Vn,we[0],we[1],Bn,F,B),rr=Math.min(null!==Kn?Kn:Number.MAX_VALUE,null!==Dn?Dn:Number.MAX_VALUE);if(rr!==Number.MAX_VALUE)return rr;{const Ar=mu([],F,B,mt);if(tg(Bn,ri,Vn,An,eg(Ar[0],we[0],Ie[0]),eg(Ar[1],we[1],Ie[1]))>=Ar[2])return mt}continue}let rn=0;for(let on=0;on<this._siblingOffset.length;on++){Kv((Et<<1)+this._siblingOffset[on][0],(Yt<<1)+this._siblingOffset[on][1],tn+1,c,_,w,I,we,Ie),we[2]=-100,Ie[2]=this.maximums[this.childOffsets[Qe]+on]*Q;const gn=fm(we,Ie,F,B);if(null!=gn){const mn=gn;he[on]=mn;let zn=!1;for(let Xn=0;Xn<rn&&!zn;Xn++)mn>=he[ye[Xn]]&&(ye.splice(Xn,0,on),zn=!0);zn||(ye[rn]=on),rn++}}for(let on=0;on<rn;on++){const gn=ye[on];Ye.push({idx:this.childOffsets[Qe]+gn,t:he[gn],nodex:(Et<<1)+this._siblingOffset[gn][0],nodey:(Yt<<1)+this._siblingOffset[gn][1],depth:tn+1})}}return null}_addNode(c,_,w){return this.minimums.push(c),this.maximums.push(_),this.leaves.push(w),this.childOffsets.push(0),this.nodeCount++}_construct(c,_,w,I,F){if(1===c[I].isLeaf(_,w))return;this.childOffsets[F]||(this.childOffsets[F]=this.nodeCount);const B=I-1,Q=c[B];let ne,he=0;for(let ye=0;ye<this._siblingOffset.length;ye++){const we=2*_+this._siblingOffset[ye][0],Ie=2*w+this._siblingOffset[ye][1],Ye=Q.getElevation(we,Ie),Qe=Q.isLeaf(we,Ie),mt=this._addNode(Ye.min,Ye.max,Qe);Qe&&(he|=1<<ye),ne||(ne=mt)}for(let ye=0;ye<this._siblingOffset.length;ye++)he&1<<ye||this._construct(c,2*_+this._siblingOffset[ye][0],2*w+this._siblingOffset[ye][1],B,ne+ye)}}function tg(g,c,_,w,I,F){return di(di(g,_,F),di(c,w,F),I)}function Sd(g,c,_){const w=_.dim,I=jt(g*w-.5,0,w-1),F=jt(c*w-.5,0,w-1),B=Math.floor(I),Q=Math.floor(F),ne=Math.min(B+1,w-1),he=Math.min(Q+1,w-1);return tg(_.get(B,Q),_.get(ne,Q),_.get(B,he),_.get(ne,he),I-B,F-Q)}const Yf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class mm{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(c,_,w,I=!1,F=!1){if(this.uid=c,_.height!==_.width)throw new RangeError("DEM tiles must be square");if(w&&"mapbox"!==w&&"terrarium"!==w)return Fi(`"${w}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=_.height;const B=this.dim=_.height-2;if(this.data=new Uint32Array(_.data.buffer),this.encoding=w||"mapbox",this.borderReady=I,!I){for(let Q=0;Q<B;Q++)this.data[this._idx(-1,Q)]=this.data[this._idx(0,Q)],this.data[this._idx(B,Q)]=this.data[this._idx(B-1,Q)],this.data[this._idx(Q,-1)]=this.data[this._idx(Q,0)],this.data[this._idx(Q,B)]=this.data[this._idx(Q,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],F&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new oo(this)}get(c,_,w=!1){const I=new Uint8Array(this.data.buffer);w&&(c=jt(c,-1,this.dim),_=jt(_,-1,this.dim));const F=4*this._idx(c,_);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(I[F],I[F+1],I[F+2])}static getUnpackVector(c){return Yf[c]}get unpackVector(){return Yf[this.encoding]}_idx(c,_){if(c<-1||c>=this.dim+1||_<-1||_>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(_+1)*this.stride+(c+1)}_unpackMapbox(c,_,w){return(256*c*256+256*_+w)/10-1e4}_unpackTerrarium(c,_,w){return 256*c+_+w/256-32768}static pack(c,_){const w=[0,0,0,0],I=mm.getUnpackVector(_);let F=Math.floor((c+I[3])/I[2]);return w[2]=F%256,F=Math.floor(F/256),w[1]=F%256,F=Math.floor(F/256),w[0]=F,w}getPixels(){return new Zl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(c,_,w){if(this.dim!==c.dim)throw new Error("dem dimension mismatch");let I=_*this.dim,F=_*this.dim+this.dim,B=w*this.dim,Q=w*this.dim+this.dim;switch(_){case-1:I=F-1;break;case 1:F=I+1}switch(w){case-1:B=Q-1;break;case 1:Q=B+1}const ne=-_*this.dim,he=-w*this.dim;for(let ye=B;ye<Q;ye++)for(let we=I;we<F;we++)this.data[this._idx(we,ye)]=c.data[this._idx(we+ne,ye+he)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}vi("DEMData",mm),vi("DemMinMaxQuadTree",oo,{omit:["dem"]});class Fh{constructor(c,_){this.max=c,this.onRemove=_,this.reset()}reset(){for(const c in this.data)for(const _ of this.data[c])_.timeout&&clearTimeout(_.timeout),this.onRemove(_.value);return this.data={},this.order=[],this}add(c,_,w){const I=c.wrapped().key;void 0===this.data[I]&&(this.data[I]=[]);const F={value:_,timeout:void 0};if(void 0!==w&&(F.timeout=setTimeout(()=>{this.remove(c,F)},w)),this.data[I].push(F),this.order.push(I),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const _=this.data[c].shift();return _.timeout&&clearTimeout(_.timeout),0===this.data[c].length&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),_.value}getByKey(c){const _=this.data[c];return _?_[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,_){if(!this.has(c))return this;const w=c.wrapped().key,I=void 0===_?0:this.data[w].indexOf(_),F=this.data[w][I];return this.data[w].splice(I,1),F.timeout&&clearTimeout(F.timeout),0===this.data[w].length&&delete this.data[w],this.onRemove(F.value),this.order.splice(this.order.indexOf(w),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const _=this._getAndRemoveByKey(this.order[0]);_&&this.onRemove(_)}return this}filter(c){const _=[];for(const w in this.data)for(const I of this.data[w])c(I.value)||_.push(I);for(const w of _)this.remove(w.value.tileID,w)}}class Nh{constructor(c,_,w){this.func=c,this.mask=_,this.range=w}}Nh.ReadOnly=!1,Nh.ReadWrite=!0,Nh.disabled=new Nh(519,Nh.ReadOnly,[0,1]);class U_{constructor(c,_,w,I,F,B){this.test=c,this.ref=_,this.mask=w,this.fail=I,this.depthFail=F,this.pass=B}}U_.disabled=new U_({func:519,mask:0},0,0,7680,7680,7680);class Wp{constructor(c,_,w){this.blendFunction=c,this.blendColor=_,this.mask=w}}Wp.Replace=[1,0],Wp.disabled=new Wp(Wp.Replace,Pn.transparent,[!1,!1,!1,!1]),Wp.unblended=new Wp(Wp.Replace,Pn.transparent,[!0,!0,!0,!0]),Wp.alphaBlended=new Wp([1,771],Pn.transparent,[!0,!0,!0,!0]);class Lc{constructor(c,_,w){this.enable=c,this.mode=_,this.frontFace=w}}Lc.disabled=new Lc(!1,1029,2305),Lc.backCCW=new Lc(!0,1029,2305),Lc.backCW=new Lc(!0,1029,2304),Lc.frontCW=new Lc(!0,1028,2304),Lc.frontCCW=new Lc(!0,1028,2305);class ah extends p{constructor(c,_,w){super(),this.id=c,this._onlySymbols=w,_.on("data",I=>{"source"===I.dataType&&"metadata"===I.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===I.dataType&&"content"===I.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),_.on("error",()=>{this._sourceErrored=!0}),this._source=_,this._tiles={},this._cache=new Fh(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xp}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const _=this._tiles[c];if("loaded"!==_.state&&"errored"!==_.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(c,_){return c.isSymbolTile=this._onlySymbols,this._source.loadTile(c,_)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){if(this._source.abortTile)return this._source.abortTile(c,()=>{})}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const _ in this._tiles){const w=this._tiles[_];w.upload(c),w.prepare(this.map.style.imageManager)}}getIds(){return oi(this._tiles).map(c=>c.tileID).sort(eb).map(c=>c.key)}getRenderableIds(c){const _=[];for(const w in this._tiles)this._isIdRenderable(+w,c)&&_.push(this._tiles[w]);return c?_.sort((w,I)=>{const F=w.tileID,B=I.tileID,Q=new xe(F.canonical.x,F.canonical.y)._rotate(this.transform.angle),ne=new xe(B.canonical.x,B.canonical.y)._rotate(this.transform.angle);return F.overscaledZ-B.overscaledZ||ne.y-Q.y||ne.x-Q.x}).map(w=>w.tileID.key):_.map(w=>w.tileID).sort(eb).map(w=>w.key)}hasRenderableParent(c){const _=this.findLoadedParent(c,0);return!!_&&this._isIdRenderable(_.tileID.key)}_isIdRenderable(c,_){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(_||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)"errored"!==this._tiles[c].state&&this._reloadTile(+c,"reloading")}}_reloadTile(c,_){const w=this._tiles[c];w&&("loading"!==w.state&&(w.state=_),this._loadTile(w,this._tileLoaded.bind(this,w,c,_)))}_tileLoaded(c,_,w,I){if(I)return c.state="errored",void(404!==I.status?this._source.fire(new h(I,{tile:c})):this.update(this.transform));c.timeAdded=Zs.now(),"expired"===w&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(_,c),"raster-dem"===this.getSource().type&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),this._source.fire(new Le("data",{dataType:"source",tile:c,coord:c.tileID,sourceCacheId:this.id}))}_backfillDEM(c){const _=this.getRenderableIds();for(let I=0;I<_.length;I++){const F=_[I];if(c.neighboringTiles&&c.neighboringTiles[F]){const B=this.getTileByID(F);w(c,B),w(B,c)}}function w(I,F){if(!I.dem||I.dem.borderReady)return;I.needsHillshadePrepare=!0,I.needsDEMTextureUpload=!0;let B=F.tileID.canonical.x-I.tileID.canonical.x;const Q=F.tileID.canonical.y-I.tileID.canonical.y,ne=Math.pow(2,I.tileID.canonical.z),he=F.tileID.key;0===B&&0===Q||Math.abs(Q)>1||(Math.abs(B)>1&&(1===Math.abs(B+ne)?B+=ne:1===Math.abs(B-ne)&&(B-=ne)),F.dem&&I.dem&&(I.dem.backfillBorder(F.dem,B,Q),I.neighboringTiles&&I.neighboringTiles[he]&&(I.neighboringTiles[he].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,_,w,I){for(const F in this._tiles){let B=this._tiles[F];if(I[F]||!B.hasData()||B.tileID.overscaledZ<=_||B.tileID.overscaledZ>w)continue;let Q=B.tileID;for(;B&&B.tileID.overscaledZ>_+1;){const he=B.tileID.scaledTo(B.tileID.overscaledZ-1);B=this._tiles[he.key],B&&B.hasData()&&(Q=he)}let ne=Q;for(;ne.overscaledZ>_;)if(ne=ne.scaledTo(ne.overscaledZ-1),c[ne.key]){I[Q.key]=Q;break}}}findLoadedParent(c,_){if(c.key in this._loadedParentTiles){const w=this._loadedParentTiles[c.key];return w&&w.tileID.overscaledZ>=_?w:null}for(let w=c.overscaledZ-1;w>=_;w--){const I=c.scaledTo(w),F=this._getLoadedTile(I);if(F)return F}}_getLoadedTile(c){const _=this._tiles[c.key];return _&&_.hasData()?_:this._cache.getByKey(this._source.reparseOverscaled?c.wrapped().key:c.canonical.key)}updateCacheSize(c,_){_=_||this._source.tileSize;const w=Math.ceil(c.width/_)+1,I=Math.ceil(c.height/_)+1,F=Math.floor(w*I*5),B="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,F):F;this._cache.setMaxSize(B)}handleWrapJump(c){const _=Math.round((c-(void 0===this._prevLng?c:this._prevLng))/360);if(this._prevLng=c,_){const w={};for(const I in this._tiles){const F=this._tiles[I];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+_),w[F.tileID.key]=F}this._tiles=w;for(const I in this._timers)clearTimeout(this._timers[I]),delete this._timers[I];for(const I in this._tiles)this._setTileReloadTimer(+I,this._tiles[I])}}update(c,_,w){if(this.transform=c,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!w)return;let I;this.updateCacheSize(c,_),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?I=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new Ic(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y)):(I=c.coveringTiles({tileSize:_||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!w,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(I=I.filter(Q=>this._source.hasTile(Q)))):I=[];const F=this._updateRetainedTiles(I);if(ng(this._source.type)&&0!==I.length){const Q={},ne={},he=Object.keys(F);for(const we of he){const Ie=F[we],Ye=this._tiles[we];if(!Ye||Ye.fadeEndTime&&Ye.fadeEndTime<=Zs.now())continue;const Qe=this.findLoadedParent(Ie,Math.max(Ie.overscaledZ-ah.maxOverzooming,this._source.minzoom));Qe&&(this._addTile(Qe.tileID),Q[Qe.tileID.key]=Qe.tileID),ne[we]=Ie}const ye=I[I.length-1].overscaledZ;for(const we in this._tiles){const Ie=this._tiles[we];if(F[we]||!Ie.hasData())continue;let Ye=Ie.tileID;for(;Ye.overscaledZ>ye;){Ye=Ye.scaledTo(Ye.overscaledZ-1);const Qe=this._tiles[Ye.key];if(Qe&&Qe.hasData()&&ne[Ye.key]){F[we]=Ie.tileID;break}}}for(const we in Q)F[we]||(this._coveredTiles[we]=!0,F[we]=Q[we])}for(const Q in F)this._tiles[Q].clearFadeHold();const B=function(Q,ne){const he=[];for(const ye in Q)ye in ne||he.push(ye);return he}(this._tiles,F);for(const Q of B){const ne=this._tiles[Q];ne.hasSymbolBuckets&&!ne.holdingForFade()?ne.setHoldDuration(this.map._fadeDuration):ne.hasSymbolBuckets&&!ne.symbolFadeFinished()||this._removeTile(+Q)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(+c)}_updateRetainedTiles(c){const _={};if(0===c.length)return _;const w={},I=c[c.length-1].overscaledZ,F=c[0].overscaledZ,B=Math.max(F-ah.maxOverzooming,this._source.minzoom),Q=Math.max(F+ah.maxUnderzooming,this._source.minzoom),ne={};for(const he of c){const ye=this._addTile(he);_[he.key]=he,ye.hasData()||I<this._source.maxzoom&&(ne[he.key]=he)}this._retainLoadedChildren(ne,I,Q,_);for(const he of c){let ye=this._tiles[he.key];if(ye.hasData())continue;if(he.canonical.z>=this._source.maxzoom){const Ie=he.children(this._source.maxzoom)[0],Ye=this.getTile(Ie);if(Ye&&Ye.hasData()){_[Ie.key]=Ie;continue}}else{const Ie=he.children(this._source.maxzoom);if(_[Ie[0].key]&&_[Ie[1].key]&&_[Ie[2].key]&&_[Ie[3].key])continue}let we=ye.wasRequested();for(let Ie=he.overscaledZ-1;Ie>=B;--Ie){const Ye=he.scaledTo(Ie);if(w[Ye.key]||(w[Ye.key]=!0,ye=this.getTile(Ye),!ye&&we&&(ye=this._addTile(Ye)),ye&&(_[Ye.key]=Ye,we=ye.wasRequested(),ye.hasData())))break}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const _=[];let w,I=this._tiles[c].tileID;for(;I.overscaledZ>0;){if(I.key in this._loadedParentTiles){w=this._loadedParentTiles[I.key];break}_.push(I.key);const F=I.scaledTo(I.overscaledZ-1);if(w=this._getLoadedTile(F),w)break;I=F}for(const F of _)this._loadedParentTiles[F]=w}}_addTile(c){let _=this._tiles[c.key];if(_)return _;_=this._cache.getAndRemove(c),_&&(this._setTileReloadTimer(c.key,_),_.tileID=c,this._state.initializeTileState(_,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,_)));const w=Boolean(_);return w||(_=new Wg(c,this._source.tileSize*c.overscaleFactor(),this.transform.tileZoom),this._loadTile(_,this._tileLoaded.bind(this,_,c.key,_.state))),_?(_.uses++,this._tiles[c.key]=_,w||this._source.fire(new Le("dataloading",{tile:_,coord:_.tileID,dataType:"source"})),_):null}_setTileReloadTimer(c,_){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const w=_.getExpiryTimeout();w&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},w))}_removeTile(c){const _=this._tiles[c];_&&(_.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),_.uses>0||(_.hasData()&&"reloading"!==_.state?this._cache.add(_.tileID,_,_.getExpiryTimeout()):(_.aborted=!0,this._abortTile(_),this._unloadTile(_))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(+c);this._cache.reset()}tilesIn(c,_,w){const I=[],F=this.transform;if(!F)return I;for(const B in this._tiles){const Q=this._tiles[B];if(w&&Q.clearQueryDebugViz(),Q.holdingForFade())continue;const ne=c.containsTile(Q,F,_);ne&&I.push(ne)}return I}getVisibleCoordinates(c){const _=this.getRenderableIds(c).map(w=>this._tiles[w].tileID);for(const w of _)w.projMatrix=this.transform.calculateProjMatrix(w.toUnwrapped());return _}hasTransition(){if(this._source.hasTransition())return!0;if(ng(this._source.type))for(const c in this._tiles){const _=this._tiles[c];if(void 0!==_.fadeEndTime&&_.fadeEndTime>=Zs.now())return!0}return!1}setFeatureState(c,_,w){this._state.updateState(c=c||"_geojsonTileLayer",_,w)}removeFeatureState(c,_,w){this._state.removeFeatureState(c=c||"_geojsonTileLayer",_,w)}getFeatureState(c,_){return this._state.getState(c=c||"_geojsonTileLayer",_)}setDependencies(c,_,w){const I=this._tiles[c];I&&I.setDependencies(_,w)}reloadTilesForDependencies(c,_){for(const w in this._tiles)this._tiles[w].hasDependency(c,_)&&this._reloadTile(+w,"reloading");this._cache.filter(w=>!w.hasDependency(c,_))}}function eb(g,c){const _=Math.abs(2*g.wrap)-+(g.wrap<0),w=Math.abs(2*c.wrap)-+(c.wrap<0);return g.overscaledZ-c.overscaledZ||w-_||c.canonical.y-g.canonical.y||c.canonical.x-g.canonical.x}function ng(g){return"raster"===g||"image"===g||"video"===g}ah.maxOverzooming=10,ah.maxUnderzooming=3;class gm{constructor(c,_,w){this._demTile=c,this._dem=this._demTile.dem,this._scale=_,this._offset=w}static create(c,_,w){const I=w||c.findDEMTileFor(_);if(!I||!I.dem)return;const F=I.dem,B=I.tileID,Q=1<<_.canonical.z-B.canonical.z;return new gm(I,I.tileSize/Dr/Q,[(_.canonical.x/Q-B.canonical.x)*F.dim,(_.canonical.y/Q-B.canonical.y)*F.dim])}tileCoordToPixel(c,_){const w=_*this._scale+this._offset[1],I=Math.floor(c*this._scale+this._offset[0]),F=Math.floor(w);return new xe(I,F)}getElevationAt(c,_,w,I){const F=c*this._scale+this._offset[0],B=_*this._scale+this._offset[1],Q=Math.floor(F),ne=Math.floor(B),he=this._dem;return I=!!I,w?di(di(he.get(Q,ne,I),he.get(Q,ne+1,I),B-ne),di(he.get(Q+1,ne,I),he.get(Q+1,ne+1,I),B-ne),F-Q):he.get(Q,ne,I)}getElevationAtPixel(c,_,w){return this._dem.get(c,_,!!w)}getMeterToDEM(c){return(1<<this._demTile.tileID.canonical.z)*Ug(1,c)*this._dem.stride}}class ig{constructor(c,_){this.tileID=c,this.x=c.canonical.x,this.y=c.canonical.y,this.z=c.canonical.z,this.grid=new Dl(Dr,16,0),this.featureIndexArray=new ws,this.promoteId=_}insert(c,_,w,I,F,B=0){const Q=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(w,I,F,B);const ne=this.grid;for(let he=0;he<_.length;he++){const ye=_[he],we=[1/0,1/0,-1/0,-1/0];for(let Ie=0;Ie<ye.length;Ie++){const Ye=ye[Ie];we[0]=Math.min(we[0],Ye.x),we[1]=Math.min(we[1],Ye.y),we[2]=Math.max(we[2],Ye.x),we[3]=Math.max(we[3],Ye.y)}we[0]<Dr&&we[1]<Dr&&we[2]>=0&&we[3]>=0&&ne.insert(Q,we[0],we[1],we[2],we[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Yp.VectorTile(new jm(this.rawTileData)).layers,this.sourceLayerCoder=new Y_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(c,_,w,I){this.loadVTLayers();const F=c.params||{},B=Ws(F.filter),Q=c.tileResult,ne=c.transform,he=Q.bufferedTilespaceBounds,ye=this.grid.query(he.min.x,he.min.y,he.max.x,he.max.y,(Qe,mt,Et,Yt)=>ff(Q.bufferedTilespaceGeometry,Qe,mt,Et,Yt));ye.sort($l);let we=null;ne.elevation&&ye.length>0&&(we=gm.create(ne.elevation,this.tileID));const Ie={};let Ye;for(let Qe=0;Qe<ye.length;Qe++){const mt=ye[Qe];if(mt===Ye)continue;Ye=mt;const Et=this.featureIndexArray.get(mt);let Yt=null;this.loadMatchingFeature(Ie,Et,B,F.layers,F.availableImages,_,w,I,(tn,rn,on,gn=0)=>(Yt||(Yt=_p(tn)),rn.queryIntersectsFeature(Q,tn,on,Yt,this.z,c.transform,c.pixelPosMatrix,we,gn)))}return Ie}loadMatchingFeature(c,_,w,I,F,B,Q,ne,he){const{featureIndex:ye,bucketIndex:we,sourceLayerIndex:Ie,layoutVertexArrayOffset:Ye}=_,Qe=this.bucketLayerIDs[we];if(I&&!function(tn,rn){for(let on=0;on<tn.length;on++)if(rn.indexOf(tn[on])>=0)return!0;return!1}(I,Qe))return;const mt=this.sourceLayerCoder.decode(Ie),Et=this.vtLayers[mt].feature(ye);if(w.needGeometry){const tn=Gc(Et,!0);if(!w.filter(new We(this.tileID.overscaledZ),tn,this.tileID.canonical))return}else if(!w.filter(new We(this.tileID.overscaledZ),Et))return;const Yt=this.getId(Et,mt);for(let tn=0;tn<Qe.length;tn++){const rn=Qe[tn];if(I&&I.indexOf(rn)<0)continue;const on=B[rn];if(!on)continue;let gn={};void 0!==Yt&&ne&&(gn=ne.getState(on.sourceLayer||"_geojsonTileLayer",Yt));const mn=Li({},Q[rn]);mn.paint=Ol(mn.paint,on.paint,Et,gn,F),mn.layout=Ol(mn.layout,on.layout,Et,gn,F);const zn=!he||he(Et,on,gn,Ye);if(!zn)continue;const Xn=new B_(Et,this.z,this.x,this.y,Yt);Xn.layer=mn;let Bn=c[rn];void 0===Bn&&(Bn=c[rn]=[]),Bn.push({featureIndex:ye,feature:Xn,intersectionZ:zn})}}lookupSymbolFeatures(c,_,w,I,F,B,Q,ne){const he={};this.loadVTLayers();const ye=Ws(F);for(const we of c)this.loadMatchingFeature(he,{bucketIndex:w,sourceLayerIndex:I,featureIndex:we,layoutVertexArrayOffset:0},ye,B,Q,ne,_);return he}hasLayer(c){for(const _ of this.bucketLayerIDs)for(const w of _)if(c===w)return!0;return!1}getId(c,_){let w=c.id;return this.promoteId&&(w=c.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[_]],"boolean"==typeof w&&(w=Number(w))),w}}function Ol(g,c,_,w,I){return Rn(g,(F,B)=>{const Q=c instanceof Bt?c.get(B):null;return Q&&Q.evaluate?Q.evaluate(_,w,I):Q})}function $l(g,c){return c-g}vi("FeatureIndex",ig,{omit:["rawTileData","sourceLayerCoder"]});class _m{constructor(c){const _={},w=[];for(const Q in c){const ne=c[Q],he=_[Q]={};for(const ye in ne.glyphs){const we=ne.glyphs[+ye];if(!we||0===we.bitmap.width||0===we.bitmap.height)continue;const Ie=we.metrics.localGlyph?2:1,Ye={x:0,y:0,w:we.bitmap.width+2*Ie,h:we.bitmap.height+2*Ie};w.push(Ye),he[ye]=Ye}}const{w:I,h:F}=Df(w),B=new Dh({width:I||1,height:F||1});for(const Q in c){const ne=c[Q];for(const he in ne.glyphs){const ye=ne.glyphs[+he];if(!ye||0===ye.bitmap.width||0===ye.bitmap.height)continue;const we=_[Q][he],Ie=ye.metrics.localGlyph?2:1;Dh.copy(ye.bitmap,B,{x:0,y:0},{x:we.x+Ie,y:we.y+Ie},ye.bitmap)}}this.image=B,this.positions=_}}vi("GlyphAtlas",_m);class Wy{constructor(c){this.tileID=new Ic(c.tileID.overscaledZ,c.tileID.wrap,c.tileID.canonical.z,c.tileID.canonical.x,c.tileID.canonical.y),this.tileZoom=c.tileZoom,this.uid=c.uid,this.zoom=c.zoom,this.pixelRatio=c.pixelRatio,this.tileSize=c.tileSize,this.source=c.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=c.showCollisionBoxes,this.collectResourceTiming=!!c.collectResourceTiming,this.returnDependencies=!!c.returnDependencies,this.promoteId=c.promoteId,this.enableTerrain=!!c.enableTerrain,this.isSymbolTile=c.isSymbolTile}parse(c,_,w,I,F){this.status="parsing",this.data=c,this.collisionBoxArray=new Yu;const B=new Y_(Object.keys(c.layers).sort()),Q=new ig(this.tileID,this.promoteId);Q.bucketLayerIDs=[];const ne={},he=new Gg(256,256),ye={featureIndex:Q,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:he,availableImages:w},we=_.familiesBySource[this.source];for(const gn in we){const mn=c.layers[gn];if(!mn)continue;let zn=!1,Xn=!1;for(const An of we[gn])"symbol"===An[0].type?zn=!0:Xn=!0;if(!0===this.isSymbolTile&&!zn||!1===this.isSymbolTile&&!Xn)continue;1===mn.version&&Fi(`Vector tile source "${this.source}" layer "${gn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Bn=B.encode(gn),ri=[];for(let An=0;An<mn.length;An++){const Vn=mn.feature(An),Kn=Q.getId(Vn,gn);ri.push({feature:Vn,id:Kn,index:An,sourceLayerIndex:Bn})}for(const An of we[gn]){const Vn=An[0];void 0!==this.isSymbolTile&&"symbol"===Vn.type!==this.isSymbolTile||Vn.minzoom&&this.zoom<Math.floor(Vn.minzoom)||Vn.maxzoom&&this.zoom>=Vn.maxzoom||"none"!==Vn.visibility&&(qy(An,this.zoom,w),(ne[Vn.id]=Vn.createBucket({index:Q.bucketLayerIDs.length,layers:An,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bn,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(ri,ye,this.tileID.canonical),Q.bucketLayerIDs.push(An.map(Kn=>Kn.id)))}}let Ie,Ye,Qe,mt;he.trim();const Et={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Yt=Rn(ye.glyphDependencies,gn=>Object.keys(gn).map(Number));Object.keys(Yt).length?I.send("getGlyphs",{uid:this.uid,stacks:Yt},(gn,mn)=>{Ie||(Ie=gn,Ye=mn,on.call(this))},void 0,!1,Et):Ye={};const tn=Object.keys(ye.iconDependencies);tn.length?I.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},(gn,mn)=>{Ie||(Ie=gn,Qe=mn,on.call(this))},void 0,!1,Et):Qe={};const rn=Object.keys(ye.patternDependencies);function on(){if(Ie)return F(Ie);if(Ye&&Qe&&mt){const gn=new _m(Ye),mn=new Ig(Qe,mt);for(const zn in ne){const Xn=ne[zn];Xn instanceof Rf?(qy(Xn.layers,this.zoom,w),gt(Xn,Ye,gn.positions,Qe,mn.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):Xn.hasPattern&&(Xn instanceof bn||Xn instanceof Gu||Xn instanceof Bp)&&(qy(Xn.layers,this.zoom,w),Xn.addFeatures(ye,this.tileID.canonical,mn.patternPositions))}this.status="done",F(null,{buckets:oi(ne).filter(zn=>!zn.isEmpty()),featureIndex:Q,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gn.image,lineAtlas:he,imageAtlas:mn,glyphMap:this.returnDependencies?Ye:null,iconMap:this.returnDependencies?Qe:null,glyphPositions:this.returnDependencies?gn.positions:null})}}rn.length?I.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"patterns"},(gn,mn)=>{Ie||(Ie=gn,mt=mn,on.call(this))},void 0,!1,Et):mt={},on.call(this)}}function qy(g,c,_){const w=new We(c);for(const I of g)I.recalculate(w,_)}class Rl{constructor(c){this.entries={},this.scheduler=c}request(c,_,w,I){const F=this.entries[c]=this.entries[c]||{callbacks:[]};if(F.result){const[B,Q]=F.result;return this.scheduler?this.scheduler.add(()=>{I(B,Q)},_):I(B,Q),()=>{}}return F.callbacks.push(I),F.cancel||(F.cancel=w((B,Q)=>{F.result=[B,Q];for(const ne of F.callbacks)this.scheduler?this.scheduler.add(()=>{ne(B,Q)},_):ne(B,Q);setTimeout(()=>delete this.entries[c],3e3)})),()=>{F.result||(F.callbacks=F.callbacks.filter(B=>B!==I),F.callbacks.length||(F.cancel(),delete this.entries[c]))}}}function yl(g,c,_){const w=JSON.stringify(g.request);return g.data&&(this.deduped.entries[w]={result:[null,g.data]}),this.deduped.request(w,{type:"parseTile",isSymbolTile:g.isSymbolTile,zoom:g.tileZoom},I=>{const F=Ne(g.request,(B,Q,ne,he)=>{B?I(B):Q&&I(null,{vectorTile:_?void 0:new Yp.VectorTile(new jm(Q)),rawData:Q,cacheControl:ne,expires:he})});return()=>{F.cancel(),I()}},c)}b.ARRAY_TYPE=Qo,b.AUTH_ERR_MSG=mr,b.Actor=class{constructor(g,c,_){this.target=g,this.parent=c,this.mapId=_,this.callbacks={},this.cancelCallbacks={},vn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=mi()?g:He,this.scheduler=new Zy}send(g,c,_,w,I=!1,F){const B=Math.round(1e18*Math.random()).toString(36).substring(0,10);_&&(_.metadata=F,this.callbacks[B]=_);const Q=Qr(this.globalScope)?void 0:[];return this.target.postMessage({id:B,type:g,hasCallback:!!_,targetMapId:w,mustQueue:I,sourceMapId:this.mapId,data:Er(c,Q)},Q),{cancel:()=>{_&&delete this.callbacks[B],this.target.postMessage({id:B,type:"<cancel>",targetMapId:w,sourceMapId:this.mapId})}}}receive(g){const c=g.data,_=c.id;if(_&&(!c.targetMapId||this.mapId===c.targetMapId))if("<cancel>"===c.type){const w=this.cancelCallbacks[_];delete this.cancelCallbacks[_],w&&w.cancel()}else if(c.mustQueue||mi()){const w=this.callbacks[_];this.cancelCallbacks[_]=this.scheduler.add(()=>this.processTask(_,c),w&&w.metadata||{type:"message"})}else this.processTask(_,c)}processTask(g,c){if("<response>"===c.type){const _=this.callbacks[g];delete this.callbacks[g],_&&(c.error?_(Ti(c.error)):_(null,Ti(c.data)))}else{const _=Qr(this.globalScope)?void 0:[],w=c.hasCallback?(F,B)=>{delete this.cancelCallbacks[g],this.target.postMessage({id:g,type:"<response>",sourceMapId:this.mapId,error:F?Er(F):null,data:Er(B,_)},_)}:F=>{},I=Ti(c.data);if(this.parent[c.type])this.parent[c.type](c.sourceMapId,I,w);else if(this.parent.getWorkerSource){const F=c.type.split(".");this.parent.getWorkerSource(c.sourceMapId,F[0],I.source)[F[1]](I,w)}else w(new Error(`Could not find function ${c.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},b.CanonicalTileID=ql,b.Color=Pn,b.ColorMode=Wp,b.CullFaceMode=Lc,b.DEMData=mm,b.DataConstantProperty=Ct,b.DedupedRequest=Rl,b.DepthMode=Nh,b.EXTENT=Dr,b.Elevation=class{getAtPointOrZero(g,c=0){return this.getAtPoint(g,c)||0}getAtPoint(g,c,_=!0){null==c&&(c=null);const w=this._source();if(!w||g.y<0||g.y>1)return c;const I=w.getSource().maxzoom,F=1<<I,B=Math.floor(g.x),Q=g.x-B,ne=new Ic(I,B,I,Math.floor(Q*F),Math.floor(g.y*F)),he=this.findDEMTileFor(ne);if(!he||!he.dem)return c;const ye=he.dem,we=1<<he.tileID.canonical.z,Ie=(Q*we-he.tileID.canonical.x)*ye.dim,Ye=(g.y*we-he.tileID.canonical.y)*ye.dim,Qe=Math.floor(Ie),mt=Math.floor(Ye);return(_?this.exaggeration():1)*di(di(ye.get(Qe,mt),ye.get(Qe,mt+1),Ye-mt),di(ye.get(Qe+1,mt),ye.get(Qe+1,mt+1),Ye-mt),Ie-Qe)}getAtTileOffset(g,c,_){const w=1<<g.canonical.z;return this.getAtPointOrZero(new Rh(g.wrap+(g.canonical.x+c/Dr)/w,(g.canonical.y+_/Dr)/w))}getForTilePoints(g,c,_,w){const I=gm.create(this,g,w);return!!I&&(c.forEach(F=>{F[2]=this.exaggeration()*I.getElevationAt(F[0],F[1],_)}),!0)}getMinMaxForTile(g){const c=this.findDEMTileFor(g);if(!c||!c.dem)return null;const _=c.dem.tree,w=c.tileID,I=1<<g.canonical.z-w.canonical.z;let F=g.canonical.x/I-w.canonical.x,B=g.canonical.y/I-w.canonical.y,Q=0;for(let ne=0;ne<g.canonical.z-w.canonical.z&&!_.leaves[Q];ne++){F*=2,B*=2;const he=2*Math.floor(B)+Math.floor(F);Q=_.childOffsets[Q]+he,F%=1,B%=1}return{min:this.exaggeration()*_.minimums[Q],max:this.exaggeration()*_.maximums[Q]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(g,c,_){throw new Error("Pure virtual method called.")}pointCoordinate(g){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(g){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},b.ErrorEvent=h,b.EvaluationParameters=We,b.Event=Le,b.Evented=p,b.GlyphManager=Oh,b.ImagePosition=Zm,b.LineAtlas=Gg,b.LngLat=Rr,b.LngLatBounds=ja,b.LocalGlyphMode=P_,b.MAX_SAFE_INTEGER=xt,b.MercatorCoordinate=Rh,b.ONE_EM=24,b.OverscaledTileID=Ic,b.Properties=Dt,b.RGBAImage=Zl,b.RequestManager=class{constructor(g,c,_){this._transformRequestFn=g,this._customAccessToken=c,this._silenceAuthErrors=!!_,this._createSkuToken()}_createSkuToken(){const g=function(){let c="";for(let _=0;_<10;_++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",cs,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=g.token,this._skuTokenExpiresAt=g.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(g,c){return this._transformRequestFn&&this._transformRequestFn(g,c)||{url:g}}normalizeStyleURL(g,c){if(!Xi(g))return g;const _=Hr(g);return _.path=`/styles/v1${_.path}`,this._makeAPIURL(_,this._customAccessToken||c)}normalizeGlyphsURL(g,c){if(!Xi(g))return g;const _=Hr(g);return _.path=`/fonts/v1${_.path}`,this._makeAPIURL(_,this._customAccessToken||c)}normalizeSourceURL(g,c){if(!Xi(g))return g;const _=Hr(g);return _.path=`/v4/${_.authority}.json`,_.params.push("secure"),this._makeAPIURL(_,this._customAccessToken||c)}normalizeSpriteURL(g,c,_,w){const I=Hr(g);return Xi(g)?(I.path=`/styles/v1${I.path}/sprite${c}${_}`,this._makeAPIURL(I,this._customAccessToken||w)):(I.path+=`${c}${_}`,Ls(I))}normalizeTileURL(g,c,_){if(this._isSkuTokenExpired()&&this._createSkuToken(),g&&!Xi(g))return g;const w=Hr(g);w.path=w.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${c||_&&"raster"!==w.authority&&512===_?"@2x":""}${ma.supported?".webp":"$1"}`),"raster"===w.authority?w.path=`/${nr.RASTER_URL_PREFIX}${w.path}`:(w.path=w.path.replace(/^.+\/v4\//,"/"),w.path=`/${nr.TILE_URL_VERSION}${w.path}`);const I=this._customAccessToken||function(F){for(const B of F){const Q=B.match(/^access_token=(.*)$/);if(Q)return Q[1]}return null}(w.params)||nr.ACCESS_TOKEN;return nr.REQUIRE_ACCESS_TOKEN&&I&&this._skuToken&&w.params.push(`sku=${this._skuToken}`),this._makeAPIURL(w,I)}canonicalizeTileURL(g,c){const _=Hr(g);if(!_.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!_.path.match(/\.[\w]+$/))return g;let w="mapbox://";_.path.match(/^\/raster\/v1\//)?w+=`raster/${_.path.replace(`/${nr.RASTER_URL_PREFIX}/`,"")}`:w+=`tiles/${_.path.replace(`/${nr.TILE_URL_VERSION}/`,"")}`;let I=_.params;return c&&(I=I.filter(F=>!F.match(/^access_token=/))),I.length&&(w+=`?${I.join("&")}`),w}canonicalizeTileset(g,c){const _=!!c&&Xi(c),w=[];for(const I of g.tiles||[])po(I)?w.push(this.canonicalizeTileURL(I,_)):w.push(I);return w}_makeAPIURL(g,c){const _="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",w=Hr(nr.API_URL);if(g.protocol=w.protocol,g.authority=w.authority,"http"===g.protocol){const I=g.params.indexOf("secure");I>=0&&g.params.splice(I,1)}if("/"!==w.path&&(g.path=`${w.path}${g.path}`),!nr.REQUIRE_ACCESS_TOKEN)return Ls(g);if(c=c||nr.ACCESS_TOKEN,!this._silenceAuthErrors){if(!c)throw new Error(`An API access token is required to use Mapbox GL. ${_}`);if("s"===c[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${_}`)}return g.params=g.params.filter(I=>-1===I.indexOf("access_token")),g.params.push(`access_token=${c||""}`),Ls(g)}},b.ResourceType=ar,b.SegmentVector=fl,b.SourceCache=ah,b.StencilMode=U_,b.StructArrayLayout1ui2=pl,b.StructArrayLayout2f1f2i16=hl,b.StructArrayLayout2i4=Si,b.StructArrayLayout2ui4=Ja,b.StructArrayLayout3f12=Al,b.StructArrayLayout3ui6=Ns,b.StructArrayLayout4i8=jr,b.Texture=qu,b.Tile=Wg,b.Transitionable=yt,b.Uniform1f=pf,b.Uniform1i=class extends Ys{constructor(g,c){super(g,c),this.current=0}set(g){this.current!==g&&(this.current=g,this.gl.uniform1i(this.location,g))}},b.Uniform2f=class extends Ys{constructor(g,c){super(g,c),this.current=[0,0]}set(g){g[0]===this.current[0]&&g[1]===this.current[1]||(this.current=g,this.gl.uniform2f(this.location,g[0],g[1]))}},b.Uniform3f=class extends Ys{constructor(g,c){super(g,c),this.current=[0,0,0]}set(g){g[0]===this.current[0]&&g[1]===this.current[1]&&g[2]===this.current[2]||(this.current=g,this.gl.uniform3f(this.location,g[0],g[1],g[2]))}},b.Uniform4f=xg,b.UniformColor=w_,b.UniformMatrix3f=class extends Ys{constructor(g,c){super(g,c),this.current=wg}set(g){for(let c=0;c<9;c++)if(g[c]!==this.current[c]){this.current=g,this.gl.uniformMatrix3fv(this.location,!1,g);break}}},b.UniformMatrix4f=class extends Ys{constructor(g,c){super(g,c),this.current=La}set(g){if(g[12]!==this.current[12]||g[0]!==this.current[0])return this.current=g,void this.gl.uniformMatrix4fv(this.location,!1,g);for(let c=1;c<16;c++)if(g[c]!==this.current[c]){this.current=g,this.gl.uniformMatrix4fv(this.location,!1,g);break}}},b.UnwrappedTileID=Zp,b.ValidationError=M,b.VectorTileWorkerSource=class extends p{constructor(g,c,_,w,I){super(),this.actor=g,this.layerIndex=c,this.availableImages=_,this.loadVectorData=I||yl,this.loading={},this.loaded={},this.deduped=new Rl(g.scheduler),this.isSpriteLoaded=w,this.scheduler=g.scheduler}loadTile(g,c){const _=g.uid,w=g&&g.request,I=w&&w.collectResourceTiming,F=this.loading[_]=new Wy(g);F.abort=this.loadVectorData(g,(B,Q)=>{const ne=!this.loading[_];if(delete this.loading[_],ne||B||!Q)return F.status="done",ne||(this.loaded[_]=F),c(B);const he=Q.rawData,ye={};Q.expires&&(ye.expires=Q.expires),Q.cacheControl&&(ye.cacheControl=Q.cacheControl),F.vectorTile=Q.vectorTile||new Yp.VectorTile(new jm(he));const we=()=>{F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ie,Ye)=>{if(Ie||!Ye)return c(Ie);const Qe={};if(I){const mt=Jv(w);mt.length>0&&(Qe.resourceTiming=JSON.parse(JSON.stringify(mt)))}c(null,Li({rawTileData:he.slice(0)},Ye,ye,Qe))})};this.isSpriteLoaded?we():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(we,{type:"parseTile",isSymbolTile:g.isSymbolTile,zoom:g.tileZoom}):we()}),this.loaded=this.loaded||{},this.loaded[_]=F})}reloadTile(g,c){const _=this.loaded,w=g.uid,I=this;if(_&&_[w]){const F=_[w];F.showCollisionBoxes=g.showCollisionBoxes,F.enableTerrain=!!g.enableTerrain;const B=(Q,ne)=>{const he=F.reloadCallback;he&&(delete F.reloadCallback,F.parse(F.vectorTile,I.layerIndex,this.availableImages,I.actor,he)),c(Q,ne)};"parsing"===F.status?F.reloadCallback=B:"done"===F.status&&(F.vectorTile?F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,B):B())}}abortTile(g,c){const _=g.uid,w=this.loading[_];w&&(w.abort&&w.abort(),delete this.loading[_]),c()}removeTile(g,c){const _=this.loaded,w=g.uid;_&&_[w]&&delete _[w],c()}},b.WritingMode=ih,b.ZoomHistory=Ba,b.add=function(g,c,_){return g[0]=c[0]+_[0],g[1]=c[1]+_[1],g[2]=c[2]+_[2],g},b.addDynamicAttributes=Of,b.altitudeFromMercatorZ=jg,b.asyncAll=rs,b.bezier=ei,b.bindAll=vn,b.bufferConvexPolygon=function(g,c){const _=[];for(let w=0;w<g.length;w++){const I=tr(w-1,-1,g.length-1),F=tr(w+1,-1,g.length-1),B=g[w],Q=g[F],ne=g[I].sub(B).unit(),he=Q.sub(B).unit(),ye=he.angleWithSep(ne.x,ne.y),we=ne.add(he).unit().mult(-1*c/Math.sin(ye/2));_.push(B.add(we))}return _},b.cacheEntryPossiblyAdded=function(g){Ni++,Ni>hn&&(g.getActor().send("enforceCacheSizeLimit",Wt),Ni=0)},b.clamp=jt,b.clearTileCache=function(g){const c=He.caches.delete(ko);g&&c.catch(g).then(()=>g())},b.clipLine=um,b.clone=function(g){var c=new Qo(3);return c[0]=g[0],c[1]=g[1],c[2]=g[2],c},b.clone$1=function(g){var c=new Qo(16);return c[0]=g[0],c[1]=g[1],c[2]=g[2],c[3]=g[3],c[4]=g[4],c[5]=g[5],c[6]=g[6],c[7]=g[7],c[8]=g[8],c[9]=g[9],c[10]=g[10],c[11]=g[11],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15],c},b.clone$2=ni,b.collisionCircleLayout=Hm,b.config=nr,b.conjugate=function(g,c){return g[0]=-c[0],g[1]=-c[1],g[2]=-c[2],g[3]=c[3],g},b.copy=function(g,c){return g[0]=c[0],g[1]=c[1],g[2]=c[2],g},b.create=yp,b.create$1=function(){var g=new Qo(16);return Qo!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=0,g[13]=0,g[14]=0),g[0]=1,g[5]=1,g[10]=1,g[15]=1,g},b.create$2=gf,b.createExpression=Xo,b.createFilter=Ws,b.createLayout=Wn,b.createStyleLayer=function(g){return"custom"===g.type?new nw(g):new iw[g.type](g)},b.cross=function(g,c,_){var w=c[0],I=c[1],F=c[2],B=_[0],Q=_[1],ne=_[2];return g[0]=I*ne-F*Q,g[1]=F*B-w*ne,g[2]=w*Q-I*B,g},b.degToRad=en,b.div=function(g,c,_){return g[0]=c[0]/_[0],g[1]=c[1]/_[1],g[2]=c[2]/_[2],g},b.dot=function(g,c){return g[0]*c[0]+g[1]*c[1]+g[2]*c[2]},b.dot$1=function(g,c){return g[0]*c[0]+g[1]*c[1]+g[2]*c[2]+g[3]*c[3]},b.ease=In,b.easeCubicInOut=at,b.emitValidationErrors=Ch,b.endsWith=un,b.enforceCacheSizeLimit=function(g){nn(),Pt&&Pt.then(c=>{c.keys().then(_=>{for(let w=0;w<_.length-g;w++)c.delete(_[w])})})},b.evaluateSizeForFeature=Dg,b.evaluateSizeForZoom=Um,b.evaluateVariableOffset=hm,b.evented=ve,b.exactEquals=function(g,c){return g[0]===c[0]&&g[1]===c[1]&&g[2]===c[2]&&g[3]===c[3]},b.exactEquals$1=function(g,c){return g[0]===c[0]&&g[1]===c[1]&&g[2]===c[2]},b.exported=Zs,b.exported$1=ma,b.extend=Li,b.filterObject=fn,b.fromMat4=function(g,c){return g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[4],g[4]=c[5],g[5]=c[6],g[6]=c[8],g[7]=c[9],g[8]=c[10],g},b.fromQuat=function(g,c){var _=c[0],w=c[1],I=c[2],F=c[3],B=_+_,Q=w+w,ne=I+I,he=_*B,ye=w*B,we=w*Q,Ie=I*B,Ye=I*Q,Qe=I*ne,mt=F*B,Et=F*Q,Yt=F*ne;return g[0]=1-we-Qe,g[1]=ye+Yt,g[2]=Ie-Et,g[3]=0,g[4]=ye-Yt,g[5]=1-he-Qe,g[6]=Ye+mt,g[7]=0,g[8]=Ie+Et,g[9]=Ye-mt,g[10]=1-he-we,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g},b.fromRotation=function(g,c){var _=Math.sin(c),w=Math.cos(c);return g[0]=w,g[1]=_,g[2]=0,g[3]=-_,g[4]=w,g[5]=0,g[6]=0,g[7]=0,g[8]=1,g},b.fromScaling=function(g,c){return g[0]=c[0],g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=c[1],g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=c[2],g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g},b.furthestTileCorner=function(g){const c=Math.round((g+45+360)%360/90)%4;return Ut[c]},b.getAABBPointSquareDist=function(g,c,_){let w=0;for(let I=0;I<2;++I){const F=_?_[I]:0;g[I]>F&&(w+=(g[I]-F)*(g[I]-F)),c[I]<F&&(w+=(F-c[I])*(F-c[I]))}return w},b.getAnchorAlignment=jp,b.getAnchorJustification=Ss,b.getBounds=function(g){let c=1/0,_=1/0,w=-1/0,I=-1/0;for(const F of g)c=Math.min(c,F.x),_=Math.min(_,F.y),w=Math.max(w,F.x),I=Math.max(I,F.y);return{min:new xe(c,_),max:new xe(w,I)}},b.getImage=Vt,b.getJSON=function(g,c){return st(Li(g,{type:"json"}),c)},b.getMapSessionAPI=gs,b.getPerformanceMeasurement=Jv,b.getRTLTextPluginStatus=_e,b.getReferrer=wr,b.getVideo=function(g,c){const _=He.document.createElement("video");_.muted=!0,_.onloadstart=function(){c(null,_)};for(let w=0;w<g.length;w++){const I=He.document.createElement("source");bt(g[w])||(_.crossOrigin="Anonymous"),I.src=g[w],_.appendChild(I)}return{cancel:()=>{}}},b.identity=xa,b.identity$1=Pl,b.invert=function(g,c){var _=c[0],w=c[1],I=c[2],F=c[3],B=c[4],Q=c[5],ne=c[6],he=c[7],ye=c[8],we=c[9],Ie=c[10],Ye=c[11],Qe=c[12],mt=c[13],Et=c[14],Yt=c[15],tn=_*Q-w*B,rn=_*ne-I*B,on=_*he-F*B,gn=w*ne-I*Q,mn=w*he-F*Q,zn=I*he-F*ne,Xn=ye*mt-we*Qe,Bn=ye*Et-Ie*Qe,ri=ye*Yt-Ye*Qe,An=we*Et-Ie*mt,Vn=we*Yt-Ye*mt,Kn=Ie*Yt-Ye*Et,Dn=tn*Kn-rn*Vn+on*An+gn*ri-mn*Bn+zn*Xn;return Dn?(g[0]=(Q*Kn-ne*Vn+he*An)*(Dn=1/Dn),g[1]=(I*Vn-w*Kn-F*An)*Dn,g[2]=(mt*zn-Et*mn+Yt*gn)*Dn,g[3]=(Ie*mn-we*zn-Ye*gn)*Dn,g[4]=(ne*ri-B*Kn-he*Bn)*Dn,g[5]=(_*Kn-I*ri+F*Bn)*Dn,g[6]=(Et*on-Qe*zn-Yt*rn)*Dn,g[7]=(ye*zn-Ie*on+Ye*rn)*Dn,g[8]=(B*Vn-Q*ri+he*Xn)*Dn,g[9]=(w*ri-_*Vn-F*Xn)*Dn,g[10]=(Qe*mn-mt*on+Yt*tn)*Dn,g[11]=(we*on-ye*mn-Ye*tn)*Dn,g[12]=(Q*Bn-B*An-ne*Xn)*Dn,g[13]=(_*An-w*Bn+I*Xn)*Dn,g[14]=(mt*rn-Qe*gn-Et*tn)*Dn,g[15]=(ye*gn-we*rn+Ie*tn)*Dn,g):null},b.isMapAuthenticated=function(g){return So.has(g)},b.isMapboxURL=Xi,b.latFromMercatorY=Td,b.len=nm,b.length=Cs,b.length$1=function(g){return Math.hypot(g[0],g[1],g[2],g[3])},b.loadVectorTile=yl,b.makeRequest=st,b.mercatorXfromLng=N_,b.mercatorYfromLat=z_,b.mercatorZfromAltitude=Ug,b.mul=function(g,c,_){return g[0]=c[0]*_[0],g[1]=c[1]*_[1],g[2]=c[2]*_[2],g[3]=c[3]*_[3],g},b.mul$1=ml,b.mul$2=S_,b.multiply=Zr,b.multiply$1=vd,b.nextPowerOfTwo=_n,b.normalize=tm,b.normalize$1=function(g,c){var _=c[0],w=c[1],I=c[2],F=c[3],B=_*_+w*w+I*I+F*F;return B>0&&(B=1/Math.sqrt(B)),g[0]=_*B,g[1]=w*B,g[2]=I*B,g[3]=F*B,g},b.number=di,b.ortho=function(g,c,_,w,I,F,B){var Q=1/(c-_),ne=1/(w-I),he=1/(F-B);return g[0]=-2*Q,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=-2*ne,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=2*he,g[11]=0,g[12]=(c+_)*Q,g[13]=(I+w)*ne,g[14]=(B+F)*he,g[15]=1,g},b.pbf=jm,b.perspective=function(g,c,_,w,I){var F,B=1/Math.tan(c/2);return g[0]=B/_,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=B,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=-1,g[12]=0,g[13]=0,g[15]=0,null!=I&&I!==1/0?(g[10]=(I+w)*(F=1/(w-I)),g[14]=2*I*w*F):(g[10]=-1,g[14]=-2*w),g},b.pick=function(g,c){const _={};for(let w=0;w<c.length;w++){const I=c[w];I in g&&(_[I]=g[I])}return _},b.plugin=Ge,b.pointGeometry=xe,b.polygonIntersectsBox=ff,b.polygonIntersectsPolygon=Am,b.polygonizeBounds=function(g,c,_=0,w=!0){const I=new xe(_,_),F=g.sub(I),B=c.add(I),Q=[F,new xe(B.x,F.y),B,new xe(F.x,B.y)];return w&&Q.push(F),Q},b.posAttributes=V_,b.postMapLoadEvent=Ea,b.postTurnstileEvent=ji,b.potpack=Df,b.prevPowerOfTwo=function(g){return g<=1?1:Math.pow(2,Math.floor(Math.log(g)/Math.LN2))},b.radToDeg=function(g){return g*At},b.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],b.registerForPluginStateChange=function(g){return g({pluginStatus:H,pluginURL:X}),ve.on("pluginStateChange",g),g},b.removeAuthState=function(g){So.delete(g)},b.renderColorRamp=_u,b.rotateX=function(g,c,_){var w=Math.sin(_),I=Math.cos(_),F=c[4],B=c[5],Q=c[6],ne=c[7],he=c[8],ye=c[9],we=c[10],Ie=c[11];return c!==g&&(g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]),g[4]=F*I+he*w,g[5]=B*I+ye*w,g[6]=Q*I+we*w,g[7]=ne*I+Ie*w,g[8]=he*I-F*w,g[9]=ye*I-B*w,g[10]=we*I-Q*w,g[11]=Ie*I-ne*w,g},b.rotateX$1=Eh,b.rotateY=function(g,c,_){var w=Math.sin(_),I=Math.cos(_),F=c[0],B=c[1],Q=c[2],ne=c[3],he=c[8],ye=c[9],we=c[10],Ie=c[11];return c!==g&&(g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]),g[0]=F*I-he*w,g[1]=B*I-ye*w,g[2]=Q*I-we*w,g[3]=ne*I-Ie*w,g[8]=F*w+he*I,g[9]=B*w+ye*I,g[10]=Q*w+we*I,g[11]=ne*w+Ie*I,g},b.rotateZ=function(g,c,_){var w=Math.sin(_),I=Math.cos(_),F=c[0],B=c[1],Q=c[2],ne=c[3],he=c[4],ye=c[5],we=c[6],Ie=c[7];return c!==g&&(g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]),g[0]=F*I+he*w,g[1]=B*I+ye*w,g[2]=Q*I+we*w,g[3]=ne*I+Ie*w,g[4]=he*I-F*w,g[5]=ye*I-B*w,g[6]=we*I-Q*w,g[7]=Ie*I-ne*w,g},b.rotateZ$1=function(g,c,_){_*=.5;var w=c[0],I=c[1],F=c[2],B=c[3],Q=Math.sin(_),ne=Math.cos(_);return g[0]=w*ne+I*Q,g[1]=I*ne-w*Q,g[2]=F*ne+B*Q,g[3]=B*ne-F*Q,g},b.scale=function(g,c,_){return g[0]=c[0]*_,g[1]=c[1]*_,g[2]=c[2]*_,g},b.scale$1=function(g,c,_){var w=_[0],I=_[1],F=_[2];return g[0]=c[0]*w,g[1]=c[1]*w,g[2]=c[2]*w,g[3]=c[3]*w,g[4]=c[4]*I,g[5]=c[5]*I,g[6]=c[6]*I,g[7]=c[7]*I,g[8]=c[8]*F,g[9]=c[9]*F,g[10]=c[10]*F,g[11]=c[11]*F,g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15],g},b.scale$2=function(g,c,_){return g[0]=c[0]*_,g[1]=c[1]*_,g[2]=c[2]*_,g[3]=c[3]*_,g},b.scaleAndAdd=mu,b.setCacheLimits=function(g,c){Wt=g,hn=c},b.setRTLTextPlugin=function(g,c,_=!1){if(H===P||H===f||H===C)throw new Error("setRTLTextPlugin cannot be called multiple times.");X=Zs.resolveURL(g),H=P,R=c,fe(),_||ze()},b.smoothstep=function(g,c,_){return(_=jt((_-g)/(c-g),0,1))*_*(3-2*_)},b.spec=v,b.storeAuthState=function(g,c){c?So.add(g):So.delete(g)},b.sub=Fp,b.subtract=_f,b.symbolSize=Ag,b.transformMat3=function(g,c,_){var w=c[0],I=c[1],F=c[2];return g[0]=w*_[0]+I*_[3]+F*_[6],g[1]=w*_[1]+I*_[4]+F*_[7],g[2]=w*_[2]+I*_[5]+F*_[8],g},b.transformMat4=kh,b.transformMat4$1=function(g,c,_){var w=c[0],I=c[1],F=c[2],B=_[3]*w+_[7]*I+_[11]*F+_[15];return g[0]=(_[0]*w+_[4]*I+_[8]*F+_[12])/(B=B||1),g[1]=(_[1]*w+_[5]*I+_[9]*F+_[13])/B,g[2]=(_[2]*w+_[6]*I+_[10]*F+_[14])/B,g},b.transformQuat=Rp,b.translate=function(g,c,_){var w,I,F,B,Q,ne,he,ye,we,Ie,Ye,Qe,mt=_[0],Et=_[1],Yt=_[2];return c===g?(g[12]=c[0]*mt+c[4]*Et+c[8]*Yt+c[12],g[13]=c[1]*mt+c[5]*Et+c[9]*Yt+c[13],g[14]=c[2]*mt+c[6]*Et+c[10]*Yt+c[14],g[15]=c[3]*mt+c[7]*Et+c[11]*Yt+c[15]):(I=c[1],F=c[2],B=c[3],Q=c[4],ne=c[5],he=c[6],ye=c[7],we=c[8],Ie=c[9],Ye=c[10],Qe=c[11],g[0]=w=c[0],g[1]=I,g[2]=F,g[3]=B,g[4]=Q,g[5]=ne,g[6]=he,g[7]=ye,g[8]=we,g[9]=Ie,g[10]=Ye,g[11]=Qe,g[12]=w*mt+Q*Et+we*Yt+c[12],g[13]=I*mt+ne*Et+Ie*Yt+c[13],g[14]=F*mt+he*Et+Ye*Yt+c[14],g[15]=B*mt+ye*Et+Qe*Yt+c[15]),g},b.triggerPluginCompletionEvent=ae,b.uniqueId=qi,b.validateCustomStyleLayer=function(g){const c=[],_=g.id;return void 0===_&&c.push({message:`layers.${_}: missing required property "id"`}),void 0===g.render&&c.push({message:`layers.${_}: missing required method "render"`}),g.renderingMode&&"2d"!==g.renderingMode&&"3d"!==g.renderingMode&&c.push({message:`layers.${_}: property "renderingMode" must be either "2d" or "3d"`}),c},b.validateFog=Gd,b.validateLight=El,b.validateStyle=Tc,b.values=oi,b.vectorTile=Yp,b.version="2.4.1",b.warnOnce=Fi,b.window=He,b.wrap=tr}),W(0,function(b){function ce(st){const Ne=typeof st;if("number"===Ne||"boolean"===Ne||"string"===Ne||null==st)return JSON.stringify(st);if(Array.isArray(st)){let bt="[";for(const Ft of st)bt+=`${ce(Ft)},`;return`${bt}]`}const Ze=Object.keys(st).sort();let ct="{";for(let bt=0;bt<Ze.length;bt++)ct+=`${JSON.stringify(Ze[bt])}:${ce(st[Ze[bt]])},`;return`${ct}}`}function be(st){let Ne="";for(const Ze of b.refProperties)Ne+=`/${ce(st[Ze])}`;return Ne}class Te{constructor(Ne){this.keyCache={},Ne&&this.replace(Ne)}replace(Ne){this._layerConfigs={},this._layers={},this.update(Ne,[])}update(Ne,Ze){for(const bt of Ne){this._layerConfigs[bt.id]=bt;const Ft=this._layers[bt.id]=b.createStyleLayer(bt);Ft._featureFilter=b.createFilter(Ft.filter),this.keyCache[bt.id]&&delete this.keyCache[bt.id]}for(const bt of Ze)delete this.keyCache[bt],delete this._layerConfigs[bt],delete this._layers[bt];this.familiesBySource={};const ct=function(bt,Ft){const It={};for(let Vt=0;Vt<bt.length;Vt++){const Xt=Ft&&Ft[bt[Vt].id]||be(bt[Vt]);Ft&&(Ft[bt[Vt].id]=Xt);let Mn=It[Xt];Mn||(Mn=It[Xt]=[]),Mn.push(bt[Vt])}const Kt=[];for(const Vt in It)Kt.push(It[Vt]);return Kt}(b.values(this._layerConfigs),this.keyCache);for(const bt of ct){const Ft=bt.map(Le=>this._layers[Le.id]),It=Ft[0];if("none"===It.visibility)continue;const Kt=It.source||"";let Vt=this.familiesBySource[Kt];Vt||(Vt=this.familiesBySource[Kt]={});const Xt=It.sourceLayer||"_geojsonTileLayer";let Mn=Vt[Xt];Mn||(Mn=Vt[Xt]=[]),Mn.push(Ft)}}}const{ImageBitmap:xe}=b.window;class Fe{loadTile(Ne,Ze){const{uid:ct,encoding:bt,rawImageData:Ft,padding:It,buildQuadTree:Kt}=Ne,Vt=xe&&Ft instanceof xe?this.getImageData(Ft,It):Ft;Ze(null,new b.DEMData(ct,Vt,bt,It<1,Kt))}getImageData(Ne,Ze){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ne.width,Ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ne.width,this.offscreenCanvas.height=Ne.height,this.offscreenCanvasContext.drawImage(Ne,0,0,Ne.width,Ne.height);const ct=this.offscreenCanvasContext.getImageData(-Ze,-Ze,Ne.width+2*Ze,Ne.height+2*Ze);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new b.RGBAImage({width:ct.width,height:ct.height},ct.data)}}var He=function st(Ne,Ze){var ct,bt=Ne&&Ne.type;if("FeatureCollection"===bt)for(ct=0;ct<Ne.features.length;ct++)st(Ne.features[ct],Ze);else if("GeometryCollection"===bt)for(ct=0;ct<Ne.geometries.length;ct++)st(Ne.geometries[ct],Ze);else if("Feature"===bt)st(Ne.geometry,Ze);else if("Polygon"===bt)xt(Ne.coordinates,Ze);else if("MultiPolygon"===bt)for(ct=0;ct<Ne.coordinates.length;ct++)xt(Ne.coordinates[ct],Ze);return Ne};function xt(st,Ne){if(0!==st.length){ht(st[0],Ne);for(var Ze=1;Ze<st.length;Ze++)ht(st[Ze],!Ne)}}function ht(st,Ne){for(var Ze=0,ct=0,bt=st.length,Ft=bt-1;ct<bt;Ft=ct++)Ze+=(st[ct][0]-st[Ft][0])*(st[Ft][1]+st[ct][1]);Ze>=0!=!!Ne&&st.reverse()}const At=b.vectorTile.VectorTileFeature.prototype.toGeoJSON;class en{constructor(Ne){this._feature=Ne,this.extent=b.EXTENT,this.type=Ne.type,this.properties=Ne.tags,"id"in Ne&&!isNaN(Ne.id)&&(this.id=parseInt(Ne.id,10))}loadGeometry(){if(1===this._feature.type){const Ne=[];for(const Ze of this._feature.geometry)Ne.push([new b.pointGeometry(Ze[0],Ze[1])]);return Ne}{const Ne=[];for(const Ze of this._feature.geometry){const ct=[];for(const bt of Ze)ct.push(new b.pointGeometry(bt[0],bt[1]));Ne.push(ct)}return Ne}}toGeoJSON(Ne,Ze,ct){return At.call(this,Ne,Ze,ct)}}class Ut{constructor(Ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=b.EXTENT,this.length=Ne.length,this._features=Ne}feature(Ne){return new en(this._features[Ne])}}var at=b.vectorTile.VectorTileFeature,ei=In;function In(st,Ne){this.options=Ne||{},this.features=st,this.length=st.length}function jt(st,Ne){this.id="number"==typeof st.id?st.id:void 0,this.type=st.type,this.rawGeometry=1===st.type?[st.geometry]:st.geometry,this.properties=st.tags,this.extent=Ne||4096}In.prototype.feature=function(st){return new jt(this.features[st],this.options.extent)},jt.prototype.loadGeometry=function(){var st=this.rawGeometry;this.geometry=[];for(var Ne=0;Ne<st.length;Ne++){for(var Ze=st[Ne],ct=[],bt=0;bt<Ze.length;bt++)ct.push(new b.pointGeometry(Ze[bt][0],Ze[bt][1]));this.geometry.push(ct)}return this.geometry},jt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var st=this.geometry,Ne=1/0,Ze=-1/0,ct=1/0,bt=-1/0,Ft=0;Ft<st.length;Ft++)for(var It=st[Ft],Kt=0;Kt<It.length;Kt++){var Vt=It[Kt];Ne=Math.min(Ne,Vt.x),Ze=Math.max(Ze,Vt.x),ct=Math.min(ct,Vt.y),bt=Math.max(bt,Vt.y)}return[Ne,ct,Ze,bt]},jt.prototype.toGeoJSON=at.prototype.toGeoJSON;var tr=oi,rs=ei;function oi(st){var Ne=new b.pbf;return function(Ze,ct){for(var bt in Ze.layers)ct.writeMessage(3,Li,Ze.layers[bt])}(st,Ne),Ne.finish()}function Li(st,Ne){var Ze;Ne.writeVarintField(15,st.version||1),Ne.writeStringField(1,st.name||""),Ne.writeVarintField(5,st.extent||4096);var ct={keys:[],values:[],keycache:{},valuecache:{}};for(Ze=0;Ze<st.length;Ze++)ct.feature=st.feature(Ze),Ne.writeMessage(2,ks,ct);var bt=ct.keys;for(Ze=0;Ze<bt.length;Ze++)Ne.writeStringField(3,bt[Ze]);var Ft=ct.values;for(Ze=0;Ze<Ft.length;Ze++)Ne.writeMessage(4,vn,Ft[Ze])}function ks(st,Ne){var Ze=st.feature;void 0!==Ze.id&&Ne.writeVarintField(1,Ze.id),Ne.writeMessage(2,qi,st),Ne.writeVarintField(3,Ze.type),Ne.writeMessage(4,ln,Ze)}function qi(st,Ne){var Ze=st.feature,ct=st.keys,bt=st.values,Ft=st.keycache,It=st.valuecache;for(var Kt in Ze.properties){var Vt=Ft[Kt];void 0===Vt&&(ct.push(Kt),Ft[Kt]=Vt=ct.length-1),Ne.writeVarint(Vt);var Xt=Ze.properties[Kt],Mn=typeof Xt;"string"!==Mn&&"boolean"!==Mn&&"number"!==Mn&&(Xt=JSON.stringify(Xt));var Le=Mn+":"+Xt,h=It[Le];void 0===h&&(bt.push(Xt),It[Le]=h=bt.length-1),Ne.writeVarint(h)}}function Pr(st,Ne){return(Ne<<3)+(7&st)}function _n(st){return st<<1^st>>31}function ln(st,Ne){for(var Ze=st.loadGeometry(),ct=st.type,bt=0,Ft=0,It=Ze.length,Kt=0;Kt<It;Kt++){var Vt=Ze[Kt],Xt=1;1===ct&&(Xt=Vt.length),Ne.writeVarint(Pr(1,Xt));for(var Mn=3===ct?Vt.length-1:Vt.length,Le=0;Le<Mn;Le++){1===Le&&1!==ct&&Ne.writeVarint(Pr(2,Mn-1));var h=Vt[Le].x-bt,p=Vt[Le].y-Ft;Ne.writeVarint(_n(h)),Ne.writeVarint(_n(p)),bt+=h,Ft+=p}3===ct&&Ne.writeVarint(Pr(7,1))}}function vn(st,Ne){var Ze=typeof st;"string"===Ze?Ne.writeStringField(1,st):"boolean"===Ze?Ne.writeBooleanField(7,st):"number"===Ze&&(st%1!=0?Ne.writeDoubleField(3,st):st<0?Ne.writeSVarintField(6,st):Ne.writeVarintField(5,st))}function un(st,Ne,Ze,ct,bt,Ft){if(bt-ct<=Ze)return;const It=ct+bt>>1;Rn(st,Ne,It,ct,bt,Ft%2),un(st,Ne,Ze,ct,It-1,Ft+1),un(st,Ne,Ze,It+1,bt,Ft+1)}function Rn(st,Ne,Ze,ct,bt,Ft){for(;bt>ct;){if(bt-ct>600){const Xt=bt-ct+1,Mn=Ze-ct+1,Le=Math.log(Xt),h=.5*Math.exp(2*Le/3),p=.5*Math.sqrt(Le*h*(Xt-h)/Xt)*(Mn-Xt/2<0?-1:1);Rn(st,Ne,Ze,Math.max(ct,Math.floor(Ze-Mn*h/Xt+p)),Math.min(bt,Math.floor(Ze+(Xt-Mn)*h/Xt+p)),Ft)}const It=Ne[2*Ze+Ft];let Kt=ct,Vt=bt;for(fn(st,Ne,ct,Ze),Ne[2*bt+Ft]>It&&fn(st,Ne,ct,bt);Kt<Vt;){for(fn(st,Ne,Kt,Vt),Kt++,Vt--;Ne[2*Kt+Ft]<It;)Kt++;for(;Ne[2*Vt+Ft]>It;)Vt--}Ne[2*ct+Ft]===It?fn(st,Ne,ct,Vt):(Vt++,fn(st,Ne,Vt,bt)),Vt<=Ze&&(ct=Vt+1),Ze<=Vt&&(bt=Vt-1)}}function fn(st,Ne,Ze,ct){ni(st,Ze,ct),ni(Ne,2*Ze,2*ct),ni(Ne,2*Ze+1,2*ct+1)}function ni(st,Ne,Ze){const ct=st[Ne];st[Ne]=st[Ze],st[Ze]=ct}function Pi(st,Ne,Ze,ct){const bt=st-Ze,Ft=Ne-ct;return bt*bt+Ft*Ft}tr.fromVectorTileJs=oi,tr.fromGeojsonVt=function(st,Ne){Ne=Ne||{};var Ze={};for(var ct in st)Ze[ct]=new ei(st[ct].features,Ne),Ze[ct].name=ct,Ze[ct].version=Ne.version,Ze[ct].extent=Ne.extent;return oi({layers:Ze})},tr.GeoJSONWrapper=rs;const Fi=st=>st[0],ui=st=>st[1];class bi{constructor(Ne,Ze=Fi,ct=ui,bt=64,Ft=Float64Array){this.nodeSize=bt,this.points=Ne;const It=Ne.length<65536?Uint16Array:Uint32Array,Kt=this.ids=new It(Ne.length),Vt=this.coords=new Ft(2*Ne.length);for(let Xt=0;Xt<Ne.length;Xt++)Kt[Xt]=Xt,Vt[2*Xt]=Ze(Ne[Xt]),Vt[2*Xt+1]=ct(Ne[Xt]);un(Kt,Vt,bt,0,Kt.length-1,0)}range(Ne,Ze,ct,bt){return function(Ft,It,Kt,Vt,Xt,Mn,Le){const h=[0,Ft.length-1,0],p=[];let v,M;for(;h.length;){const E=h.pop(),N=h.pop(),O=h.pop();if(N-O<=Le){for(let re=O;re<=N;re++)v=It[2*re],M=It[2*re+1],v>=Kt&&v<=Xt&&M>=Vt&&M<=Mn&&p.push(Ft[re]);continue}const j=Math.floor((O+N)/2);v=It[2*j],M=It[2*j+1],v>=Kt&&v<=Xt&&M>=Vt&&M<=Mn&&p.push(Ft[j]);const Z=(E+1)%2;(0===E?Kt<=v:Vt<=M)&&(h.push(O),h.push(j-1),h.push(Z)),(0===E?Xt>=v:Mn>=M)&&(h.push(j+1),h.push(N),h.push(Z))}return p}(this.ids,this.coords,Ne,Ze,ct,bt,this.nodeSize)}within(Ne,Ze,ct){return function(bt,Ft,It,Kt,Vt,Xt){const Mn=[0,bt.length-1,0],Le=[],h=Vt*Vt;for(;Mn.length;){const p=Mn.pop(),v=Mn.pop(),M=Mn.pop();if(v-M<=Xt){for(let Z=M;Z<=v;Z++)Pi(Ft[2*Z],Ft[2*Z+1],It,Kt)<=h&&Le.push(bt[Z]);continue}const E=Math.floor((M+v)/2),N=Ft[2*E],O=Ft[2*E+1];Pi(N,O,It,Kt)<=h&&Le.push(bt[E]);const j=(p+1)%2;(0===p?It-Vt<=N:Kt-Vt<=O)&&(Mn.push(M),Mn.push(E-1),Mn.push(j)),(0===p?It+Vt>=N:Kt+Vt>=O)&&(Mn.push(E+1),Mn.push(v),Mn.push(j))}return Le}(this.ids,this.coords,Ne,Ze,ct,this.nodeSize)}}const mi={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:st=>st},gi=Math.fround||($n=new Float32Array(1),st=>($n[0]=+st,$n[0]));var $n;class ki{constructor(Ne){this.options=ma(Object.create(mi),Ne),this.trees=new Array(this.options.maxZoom+1)}load(Ne){const{log:Ze,minZoom:ct,maxZoom:bt,nodeSize:Ft}=this.options;Ze&&console.time("total time");const It=`prepare ${Ne.length} points`;Ze&&console.time(It),this.points=Ne;let Kt=[];for(let Vt=0;Vt<Ne.length;Vt++)Ne[Vt].geometry&&Kt.push(uo(Ne[Vt],Vt));this.trees[bt+1]=new bi(Kt,Gi,$i,Ft,Float32Array),Ze&&console.timeEnd(It);for(let Vt=bt;Vt>=ct;Vt--){const Xt=+Date.now();Kt=this._cluster(Kt,Vt),this.trees[Vt]=new bi(Kt,Gi,$i,Ft,Float32Array),Ze&&console.log("z%d: %d clusters in %dms",Vt,Kt.length,+Date.now()-Xt)}return Ze&&console.timeEnd("total time"),this}getClusters(Ne,Ze){let ct=((Ne[0]+180)%360+360)%360-180;const bt=Math.max(-90,Math.min(90,Ne[1]));let Ft=180===Ne[2]?180:((Ne[2]+180)%360+360)%360-180;const It=Math.max(-90,Math.min(90,Ne[3]));if(Ne[2]-Ne[0]>=360)ct=-180,Ft=180;else if(ct>Ft){const Mn=this.getClusters([ct,bt,180,It],Ze),Le=this.getClusters([-180,bt,Ft,It],Ze);return Mn.concat(Le)}const Kt=this.trees[this._limitZoom(Ze)],Vt=Kt.range(Zs(ct),fa(It),Zs(Ft),fa(bt)),Xt=[];for(const Mn of Vt){const Le=Kt.points[Mn];Xt.push(Le.numPoints?Qr(Le):this.points[Le.index])}return Xt}getChildren(Ne){const Ze=this._getOriginId(Ne),ct=this._getOriginZoom(Ne),bt="No cluster with the specified id.",Ft=this.trees[ct];if(!Ft)throw new Error(bt);const It=Ft.points[Ze];if(!It)throw new Error(bt);const Kt=this.options.radius/(this.options.extent*Math.pow(2,ct-1)),Vt=Ft.within(It.x,It.y,Kt),Xt=[];for(const Mn of Vt){const Le=Ft.points[Mn];Le.parentId===Ne&&Xt.push(Le.numPoints?Qr(Le):this.points[Le.index])}if(0===Xt.length)throw new Error(bt);return Xt}getLeaves(Ne,Ze,ct){const bt=[];return this._appendLeaves(bt,Ne,Ze=Ze||10,ct=ct||0,0),bt}getTile(Ne,Ze,ct){const bt=this.trees[this._limitZoom(Ne)],Ft=Math.pow(2,Ne),{extent:It,radius:Kt}=this.options,Vt=Kt/It,Xt=(ct-Vt)/Ft,Mn=(ct+1+Vt)/Ft,Le={features:[]};return this._addTileFeatures(bt.range((Ze-Vt)/Ft,Xt,(Ze+1+Vt)/Ft,Mn),bt.points,Ze,ct,Ft,Le),0===Ze&&this._addTileFeatures(bt.range(1-Vt/Ft,Xt,1,Mn),bt.points,Ft,ct,Ft,Le),Ze===Ft-1&&this._addTileFeatures(bt.range(0,Xt,Vt/Ft,Mn),bt.points,-1,ct,Ft,Le),Le.features.length?Le:null}getClusterExpansionZoom(Ne){let Ze=this._getOriginZoom(Ne)-1;for(;Ze<=this.options.maxZoom;){const ct=this.getChildren(Ne);if(Ze++,1!==ct.length)break;Ne=ct[0].properties.cluster_id}return Ze}_appendLeaves(Ne,Ze,ct,bt,Ft){const It=this.getChildren(Ze);for(const Kt of It){const Vt=Kt.properties;if(Vt&&Vt.cluster?Ft+Vt.point_count<=bt?Ft+=Vt.point_count:Ft=this._appendLeaves(Ne,Vt.cluster_id,ct,bt,Ft):Ft<bt?Ft++:Ne.push(Kt),Ne.length===ct)break}return Ft}_addTileFeatures(Ne,Ze,ct,bt,Ft,It){for(const Kt of Ne){const Vt=Ze[Kt],Xt=Vt.numPoints;let Mn,Le,h;if(Xt)Mn=Vs(Vt),Le=Vt.x,h=Vt.y;else{const M=this.points[Vt.index];Mn=M.properties,Le=Zs(M.geometry.coordinates[0]),h=fa(M.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(Le*Ft-ct)),Math.round(this.options.extent*(h*Ft-bt))]],tags:Mn};let v;Xt?v=Vt.id:this.options.generateId?v=Vt.index:this.points[Vt.index].id&&(v=this.points[Vt.index].id),void 0!==v&&(p.id=v),It.features.push(p)}}_limitZoom(Ne){return Math.max(this.options.minZoom,Math.min(+Ne,this.options.maxZoom+1))}_cluster(Ne,Ze){const ct=[],{radius:bt,extent:Ft,reduce:It,minPoints:Kt}=this.options,Vt=bt/(Ft*Math.pow(2,Ze));for(let Xt=0;Xt<Ne.length;Xt++){const Mn=Ne[Xt];if(Mn.zoom<=Ze)continue;Mn.zoom=Ze;const Le=this.trees[Ze+1],h=Le.within(Mn.x,Mn.y,Vt),p=Mn.numPoints||1;let v=p;for(const M of h){const E=Le.points[M];E.zoom>Ze&&(v+=E.numPoints||1)}if(v>=Kt){let M=Mn.x*p,E=Mn.y*p,N=It&&p>1?this._map(Mn,!0):null;const O=(Xt<<5)+(Ze+1)+this.points.length;for(const j of h){const Z=Le.points[j];if(Z.zoom<=Ze)continue;Z.zoom=Ze;const re=Z.numPoints||1;M+=Z.x*re,E+=Z.y*re,Z.parentId=O,It&&(N||(N=this._map(Mn,!0)),It(N,this._map(Z)))}Mn.parentId=O,ct.push(xr(M/v,E/v,O,v,N))}else if(ct.push(Mn),v>1)for(const M of h){const E=Le.points[M];E.zoom<=Ze||(E.zoom=Ze,ct.push(E))}}return ct}_getOriginId(Ne){return Ne-this.points.length>>5}_getOriginZoom(Ne){return(Ne-this.points.length)%32}_map(Ne,Ze){if(Ne.numPoints)return Ze?ma({},Ne.properties):Ne.properties;const ct=this.points[Ne.index].properties,bt=this.options.map(ct);return Ze&&bt===ct?ma({},bt):bt}}function xr(st,Ne,Ze,ct,bt){return{x:gi(st),y:gi(Ne),zoom:1/0,id:Ze,parentId:-1,numPoints:ct,properties:bt}}function uo(st,Ne){const[Ze,ct]=st.geometry.coordinates;return{x:gi(Zs(Ze)),y:gi(fa(ct)),zoom:1/0,index:Ne,parentId:-1}}function Qr(st){return{type:"Feature",id:st.id,properties:Vs(st),geometry:{type:"Point",coordinates:[(Ne=st.x,360*(Ne-.5)),nr(st.y)]}};var Ne}function Vs(st){const Ne=st.numPoints,Ze=Ne>=1e4?`${Math.round(Ne/1e3)}k`:Ne>=1e3?Math.round(Ne/100)/10+"k":Ne;return ma(ma({},st.properties),{cluster:!0,cluster_id:st.id,point_count:Ne,point_count_abbreviated:Ze})}function Zs(st){return st/360+.5}function fa(st){const Ne=Math.sin(st*Math.PI/180),Ze=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return Ze<0?0:Ze>1?1:Ze}function nr(st){const Ne=(180-360*st)*Math.PI/180;return 360*Math.atan(Math.exp(Ne))/Math.PI-90}function ma(st,Ne){for(const Ze in Ne)st[Ze]=Ne[Ze];return st}function Gi(st){return st.x}function $i(st){return st.y}function ho(st,Ne,Ze,ct){for(var bt,Ft=ct,It=Ze-Ne>>1,Kt=Ze-Ne,Vt=st[Ne],Xt=st[Ne+1],Mn=st[Ze],Le=st[Ze+1],h=Ne+3;h<Ze;h+=3){var p=Hs(st[h],st[h+1],Vt,Xt,Mn,Le);if(p>Ft)bt=h,Ft=p;else if(p===Ft){var v=Math.abs(h-It);v<Kt&&(bt=h,Kt=v)}}Ft>ct&&(bt-Ne>3&&ho(st,Ne,bt,ct),st[bt+2]=Ft,Ze-bt>3&&ho(st,bt,Ze,ct))}function Hs(st,Ne,Ze,ct,bt,Ft){var It=bt-Ze,Kt=Ft-ct;if(0!==It||0!==Kt){var Vt=((st-Ze)*It+(Ne-ct)*Kt)/(It*It+Kt*Kt);Vt>1?(Ze=bt,ct=Ft):Vt>0&&(Ze+=It*Vt,ct+=Kt*Vt)}return(It=st-Ze)*It+(Kt=Ne-ct)*Kt}function yi(st,Ne,Ze,ct){var bt={id:void 0===st?null:st,type:Ne,geometry:Ze,tags:ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ft){var It=Ft.geometry,Kt=Ft.type;if("Point"===Kt||"MultiPoint"===Kt||"LineString"===Kt)cs(Ft,It);else if("Polygon"===Kt||"MultiLineString"===Kt)for(var Vt=0;Vt<It.length;Vt++)cs(Ft,It[Vt]);else if("MultiPolygon"===Kt)for(Vt=0;Vt<It.length;Vt++)for(var Xt=0;Xt<It[Vt].length;Xt++)cs(Ft,It[Vt][Xt])}(bt),bt}function cs(st,Ne){for(var Ze=0;Ze<Ne.length;Ze+=3)st.minX=Math.min(st.minX,Ne[Ze]),st.minY=Math.min(st.minY,Ne[Ze+1]),st.maxX=Math.max(st.maxX,Ne[Ze]),st.maxY=Math.max(st.maxY,Ne[Ze+1])}function mr(st,Ne,Ze,ct){if(Ne.geometry){var bt=Ne.geometry.coordinates,Ft=Ne.geometry.type,It=Math.pow(Ze.tolerance/((1<<Ze.maxZoom)*Ze.extent),2),Kt=[],Vt=Ne.id;if(Ze.promoteId?Vt=Ne.properties[Ze.promoteId]:Ze.generateId&&(Vt=ct||0),"Point"===Ft)Xi(bt,Kt);else if("MultiPoint"===Ft)for(var Xt=0;Xt<bt.length;Xt++)Xi(bt[Xt],Kt);else if("LineString"===Ft)po(bt,Kt,It,!1);else if("MultiLineString"===Ft){if(Ze.lineMetrics){for(Xt=0;Xt<bt.length;Xt++)po(bt[Xt],Kt=[],It,!1),st.push(yi(Vt,"LineString",Kt,Ne.properties));return}bc(bt,Kt,It,!1)}else if("Polygon"===Ft)bc(bt,Kt,It,!0);else{if("MultiPolygon"!==Ft){if("GeometryCollection"===Ft){for(Xt=0;Xt<Ne.geometry.geometries.length;Xt++)mr(st,{id:Vt,geometry:Ne.geometry.geometries[Xt],properties:Ne.properties},Ze,ct);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Xt=0;Xt<bt.length;Xt++){var Mn=[];bc(bt[Xt],Mn,It,!0),Kt.push(Mn)}}st.push(yi(Vt,Ft,Kt,Ne.properties))}}function Xi(st,Ne){Ne.push(Hr(st[0])),Ne.push(Ls(st[1])),Ne.push(0)}function po(st,Ne,Ze,ct){for(var bt,Ft,It=0,Kt=0;Kt<st.length;Kt++){var Vt=Hr(st[Kt][0]),Xt=Ls(st[Kt][1]);Ne.push(Vt),Ne.push(Xt),Ne.push(0),Kt>0&&(It+=ct?(bt*Xt-Vt*Ft)/2:Math.sqrt(Math.pow(Vt-bt,2)+Math.pow(Xt-Ft,2))),bt=Vt,Ft=Xt}var Mn=Ne.length-3;Ne[2]=1,ho(Ne,0,Mn,Ze),Ne[Mn+2]=1,Ne.size=Math.abs(It),Ne.start=0,Ne.end=Ne.size}function bc(st,Ne,Ze,ct){for(var bt=0;bt<st.length;bt++){var Ft=[];po(st[bt],Ft,Ze,ct),Ne.push(Ft)}}function Hr(st){return st/360+.5}function Ls(st){var Ne=Math.sin(st*Math.PI/180),Ze=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return Ze<0?0:Ze>1?1:Ze}function Ro(st,Ne,Ze,ct,bt,Ft,It,Kt){if(ct/=Ne,Ft>=(Ze/=Ne)&&It<ct)return st;if(It<Ze||Ft>=ct)return null;for(var Vt=[],Xt=0;Xt<st.length;Xt++){var Mn=st[Xt],Le=Mn.geometry,h=Mn.type,p=0===bt?Mn.minX:Mn.minY,v=0===bt?Mn.maxX:Mn.maxY;if(p>=Ze&&v<ct)Vt.push(Mn);else if(!(v<Ze||p>=ct)){var M=[];if("Point"===h||"MultiPoint"===h)Sr(Le,M,Ze,ct,bt);else if("LineString"===h)Yn(Le,M,Ze,ct,bt,!1,Kt.lineMetrics);else if("MultiLineString"===h)ll(Le,M,Ze,ct,bt,!1);else if("Polygon"===h)ll(Le,M,Ze,ct,bt,!0);else if("MultiPolygon"===h)for(var E=0;E<Le.length;E++){var N=[];ll(Le[E],N,Ze,ct,bt,!0),N.length&&M.push(N)}if(M.length){if(Kt.lineMetrics&&"LineString"===h){for(E=0;E<M.length;E++)Vt.push(yi(Mn.id,h,M[E],Mn.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===M.length?(h="LineString",M=M[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===M.length?"Point":"MultiPoint"),Vt.push(yi(Mn.id,h,M,Mn.tags))}}}return Vt.length?Vt:null}function Sr(st,Ne,Ze,ct,bt){for(var Ft=0;Ft<st.length;Ft+=3){var It=st[Ft+bt];It>=Ze&&It<=ct&&(Ne.push(st[Ft]),Ne.push(st[Ft+1]),Ne.push(st[Ft+2]))}}function Yn(st,Ne,Ze,ct,bt,Ft,It){for(var Kt,Vt,Xt=ji(st),Mn=0===bt?ga:gs,Le=st.start,h=0;h<st.length-3;h+=3){var p=st[h],v=st[h+1],M=st[h+2],E=st[h+3],N=st[h+4],O=0===bt?p:v,j=0===bt?E:N,Z=!1;It&&(Kt=Math.sqrt(Math.pow(p-E,2)+Math.pow(v-N,2))),O<Ze?j>Ze&&(Vt=Mn(Xt,p,v,E,N,Ze),It&&(Xt.start=Le+Kt*Vt)):O>ct?j<ct&&(Vt=Mn(Xt,p,v,E,N,ct),It&&(Xt.start=Le+Kt*Vt)):Ea(Xt,p,v,M),j<Ze&&O>=Ze&&(Vt=Mn(Xt,p,v,E,N,Ze),Z=!0),j>ct&&O<=ct&&(Vt=Mn(Xt,p,v,E,N,ct),Z=!0),!Ft&&Z&&(It&&(Xt.end=Le+Kt*Vt),Ne.push(Xt),Xt=ji(st)),It&&(Le+=Kt)}var re=st.length-3;p=st[re],v=st[re+1],M=st[re+2],(O=0===bt?p:v)>=Ze&&O<=ct&&Ea(Xt,p,v,M),re=Xt.length-3,Ft&&re>=3&&(Xt[re]!==Xt[0]||Xt[re+1]!==Xt[1])&&Ea(Xt,Xt[0],Xt[1],Xt[2]),Xt.length&&Ne.push(Xt)}function ji(st){var Ne=[];return Ne.size=st.size,Ne.start=st.start,Ne.end=st.end,Ne}function ll(st,Ne,Ze,ct,bt,Ft){for(var It=0;It<st.length;It++)Yn(st[It],Ne,Ze,ct,bt,Ft,!1)}function Ea(st,Ne,Ze,ct){st.push(Ne),st.push(Ze),st.push(ct)}function ga(st,Ne,Ze,ct,bt,Ft){var It=(Ft-Ne)/(ct-Ne);return st.push(Ft),st.push(Ze+(bt-Ze)*It),st.push(1),It}function gs(st,Ne,Ze,ct,bt,Ft){var It=(Ft-Ze)/(bt-Ze);return st.push(Ne+(ct-Ne)*It),st.push(Ft),st.push(1),It}function So(st,Ne){for(var Ze=[],ct=0;ct<st.length;ct++){var bt,Ft=st[ct],It=Ft.type;if("Point"===It||"MultiPoint"===It||"LineString"===It)bt=ko(Ft.geometry,Ne);else if("MultiLineString"===It||"Polygon"===It){bt=[];for(var Kt=0;Kt<Ft.geometry.length;Kt++)bt.push(ko(Ft.geometry[Kt],Ne))}else if("MultiPolygon"===It)for(bt=[],Kt=0;Kt<Ft.geometry.length;Kt++){for(var Vt=[],Xt=0;Xt<Ft.geometry[Kt].length;Xt++)Vt.push(ko(Ft.geometry[Kt][Xt],Ne));bt.push(Vt)}Ze.push(yi(Ft.id,It,bt,Ft.tags))}return Ze}function ko(st,Ne){var Ze=[];Ze.size=st.size,void 0!==st.start&&(Ze.start=st.start,Ze.end=st.end);for(var ct=0;ct<st.length;ct+=3)Ze.push(st[ct]+Ne,st[ct+1],st[ct+2]);return Ze}function Pt(st,Ne){if(st.transformed)return st;var Ze,ct,bt,Ft=1<<st.z,It=st.x,Kt=st.y;for(Ze=0;Ze<st.features.length;Ze++){var Vt=st.features[Ze],Xt=Vt.geometry,Mn=Vt.type;if(Vt.geometry=[],1===Mn)for(ct=0;ct<Xt.length;ct+=2)Vt.geometry.push(Lt(Xt[ct],Xt[ct+1],Ne,Ft,It,Kt));else for(ct=0;ct<Xt.length;ct++){var Le=[];for(bt=0;bt<Xt[ct].length;bt+=2)Le.push(Lt(Xt[ct][bt],Xt[ct][bt+1],Ne,Ft,It,Kt));Vt.geometry.push(Le)}}return st.transformed=!0,st}function Lt(st,Ne,Ze,ct,bt,Ft){return[Math.round(Ze*(st*ct-bt)),Math.round(Ze*(Ne*ct-Ft))]}function Wt(st,Ne,Ze,ct,bt){for(var Ft=Ne===bt.maxZoom?0:bt.tolerance/((1<<Ne)*bt.extent),It={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ze,y:ct,z:Ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Kt=0;Kt<st.length;Kt++){It.numFeatures++,hn(It,st[Kt],Ft,bt);var Vt=st[Kt].minX,Xt=st[Kt].minY,Mn=st[Kt].maxX,Le=st[Kt].maxY;Vt<It.minX&&(It.minX=Vt),Xt<It.minY&&(It.minY=Xt),Mn>It.maxX&&(It.maxX=Mn),Le>It.maxY&&(It.maxY=Le)}return It}function hn(st,Ne,Ze,ct){var bt=Ne.geometry,Ft=Ne.type,It=[];if("Point"===Ft||"MultiPoint"===Ft)for(var Kt=0;Kt<bt.length;Kt+=3)It.push(bt[Kt]),It.push(bt[Kt+1]),st.numPoints++,st.numSimplified++;else if("LineString"===Ft)nn(It,bt,st,Ze,!1,!1);else if("MultiLineString"===Ft||"Polygon"===Ft)for(Kt=0;Kt<bt.length;Kt++)nn(It,bt[Kt],st,Ze,"Polygon"===Ft,0===Kt);else if("MultiPolygon"===Ft)for(var Vt=0;Vt<bt.length;Vt++){var Xt=bt[Vt];for(Kt=0;Kt<Xt.length;Kt++)nn(It,Xt[Kt],st,Ze,!0,0===Kt)}if(It.length){var Mn=Ne.tags||null;if("LineString"===Ft&&ct.lineMetrics){for(var Le in Mn={},Ne.tags)Mn[Le]=Ne.tags[Le];Mn.mapbox_clip_start=bt.start/bt.size,Mn.mapbox_clip_end=bt.end/bt.size}var h={geometry:It,type:"Polygon"===Ft||"MultiPolygon"===Ft?3:"LineString"===Ft||"MultiLineString"===Ft?2:1,tags:Mn};null!==Ne.id&&(h.id=Ne.id),st.features.push(h)}}function nn(st,Ne,Ze,ct,bt,Ft){var It=ct*ct;if(ct>0&&Ne.size<(bt?It:ct))Ze.numPoints+=Ne.length/3;else{for(var Kt=[],Vt=0;Vt<Ne.length;Vt+=3)(0===ct||Ne[Vt+2]>It)&&(Ze.numSimplified++,Kt.push(Ne[Vt]),Kt.push(Ne[Vt+1])),Ze.numPoints++;bt&&function(Xt,Mn){for(var Le=0,h=0,p=Xt.length,v=p-2;h<p;v=h,h+=2)Le+=(Xt[h]-Xt[v])*(Xt[h+1]+Xt[v+1]);if(Le>0===Mn)for(h=0,p=Xt.length;h<p/2;h+=2){var M=Xt[h],E=Xt[h+1];Xt[h]=Xt[p-2-h],Xt[h+1]=Xt[p-1-h],Xt[p-2-h]=M,Xt[p-1-h]=E}}(Kt,Ft),st.push(Kt)}}function pi(st,Ne){var Ze=(Ne=this.options=function(bt,Ft){for(var It in Ft)bt[It]=Ft[It];return bt}(Object.create(this.options),Ne)).debug;if(Ze&&console.time("preprocess data"),Ne.maxZoom<0||Ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ne.promoteId&&Ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var bt,Ft,It,Kt,Vt,Xt,ct=function(bt,Ft){var It=[];if("FeatureCollection"===bt.type)for(var Kt=0;Kt<bt.features.length;Kt++)mr(It,bt.features[Kt],Ft,Kt);else mr(It,"Feature"===bt.type?bt:{geometry:bt},Ft);return It}(st,Ne);this.tiles={},this.tileCoords=[],Ze&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ne.indexMaxZoom,Ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(bt=ct,Ft=Ne,It=Ft.buffer/Ft.extent,Kt=bt,Vt=Ro(bt,1,-1-It,It,0,-1,2,Ft),Xt=Ro(bt,1,1-It,2+It,0,-1,2,Ft),(Vt||Xt)&&(Kt=Ro(bt,1,-It,1+It,0,-1,2,Ft)||[],Vt&&(Kt=So(Vt,1).concat(Kt)),Xt&&(Kt=Kt.concat(So(Xt,-1)))),ct=Kt).length&&this.splitTile(ct,0,0,0),Ze&&(ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ni(st,Ne,Ze){return 32*((1<<st)*Ze+Ne)+st}function ar(st,Ne){const Ze=st.tileID.canonical;if(!this._geoJSONIndex)return Ne(null,null);const ct=this._geoJSONIndex.getTile(Ze.z,Ze.x,Ze.y);if(!ct)return Ne(null,null);const bt=new Ut(ct.features);let Ft=tr(bt);0===Ft.byteOffset&&Ft.byteLength===Ft.buffer.byteLength||(Ft=new Uint8Array(Ft)),Ne(null,{vectorTile:bt,rawData:Ft.buffer})}pi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pi.prototype.splitTile=function(st,Ne,Ze,ct,bt,Ft,It){for(var Kt=[st,Ne,Ze,ct],Vt=this.options,Xt=Vt.debug;Kt.length;){ct=Kt.pop(),Ze=Kt.pop(),Ne=Kt.pop(),st=Kt.pop();var Mn=1<<Ne,Le=Ni(Ne,Ze,ct),h=this.tiles[Le];if(!h&&(Xt>1&&console.time("creation"),h=this.tiles[Le]=Wt(st,Ne,Ze,ct,Vt),this.tileCoords.push({z:Ne,x:Ze,y:ct}),Xt)){Xt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ne,Ze,ct,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+Ne;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=st,bt){if(Ne===Vt.maxZoom||Ne===bt)continue;var v=1<<bt-Ne;if(Ze!==Math.floor(Ft/v)||ct!==Math.floor(It/v))continue}else if(Ne===Vt.indexMaxZoom||h.numPoints<=Vt.indexMaxPoints)continue;if(h.source=null,0!==st.length){Xt>1&&console.time("clipping");var M,E,N,O,j,Z,re=.5*Vt.buffer/Vt.extent,le=.5-re,se=.5+re,me=1+re;M=E=N=O=null,j=Ro(st,Mn,Ze-re,Ze+se,0,h.minX,h.maxX,Vt),Z=Ro(st,Mn,Ze+le,Ze+me,0,h.minX,h.maxX,Vt),st=null,j&&(M=Ro(j,Mn,ct-re,ct+se,1,h.minY,h.maxY,Vt),E=Ro(j,Mn,ct+le,ct+me,1,h.minY,h.maxY,Vt),j=null),Z&&(N=Ro(Z,Mn,ct-re,ct+se,1,h.minY,h.maxY,Vt),O=Ro(Z,Mn,ct+le,ct+me,1,h.minY,h.maxY,Vt),Z=null),Xt>1&&console.timeEnd("clipping"),Kt.push(M||[],Ne+1,2*Ze,2*ct),Kt.push(E||[],Ne+1,2*Ze,2*ct+1),Kt.push(N||[],Ne+1,2*Ze+1,2*ct),Kt.push(O||[],Ne+1,2*Ze+1,2*ct+1)}}},pi.prototype.getTile=function(st,Ne,Ze){var ct=this.options,bt=ct.extent,Ft=ct.debug;if(st<0||st>24)return null;var It=1<<st,Kt=Ni(st,Ne=(Ne%It+It)%It,Ze);if(this.tiles[Kt])return Pt(this.tiles[Kt],bt);Ft>1&&console.log("drilling down to z%d-%d-%d",st,Ne,Ze);for(var Vt,Xt=st,Mn=Ne,Le=Ze;!Vt&&Xt>0;)Xt--,Mn=Math.floor(Mn/2),Le=Math.floor(Le/2),Vt=this.tiles[Ni(Xt,Mn,Le)];return Vt&&Vt.source?(Ft>1&&console.log("found parent tile z%d-%d-%d",Xt,Mn,Le),Ft>1&&console.time("drilling down"),this.splitTile(Vt.source,Xt,Mn,Le,st,Ne,Ze),Ft>1&&console.timeEnd("drilling down"),this.tiles[Kt]?Pt(this.tiles[Kt],bt):null):null};class Or extends b.VectorTileWorkerSource{constructor(Ne,Ze,ct,bt,Ft){super(Ne,Ze,ct,bt,ar),Ft&&(this.loadGeoJSON=Ft)}loadData(Ne,Ze){const ct=Ne&&Ne.request,bt=ct&&ct.collectResourceTiming;this.loadGeoJSON(Ne,(Ft,It)=>{if(Ft||!It)return Ze(Ft);if("object"!=typeof It)return Ze(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`));{He(It,!0);try{if(Ne.filter){const Vt=b.createExpression(Ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Vt.result)throw new Error(Vt.value.map(Mn=>`${Mn.key}: ${Mn.message}`).join(", "));const Xt=It.features.filter(Mn=>Vt.value.evaluate({zoom:0},Mn));It={type:"FeatureCollection",features:Xt}}this._geoJSONIndex=Ne.cluster?new ki(function({superclusterOptions:Vt,clusterProperties:Xt}){if(!Xt||!Vt)return Vt;const Mn={},Le={},h={accumulated:null,zoom:0},p={properties:null},v=Object.keys(Xt);for(const M of v){const[E,N]=Xt[M],O=b.createExpression(N),j=b.createExpression("string"==typeof E?[E,["accumulated"],["get",M]]:E);Mn[M]=O.value,Le[M]=j.value}return Vt.map=M=>{p.properties=M;const E={};for(const N of v)E[N]=Mn[N].evaluate(h,p);return E},Vt.reduce=(M,E)=>{p.properties=E;for(const N of v)h.accumulated=M[N],M[N]=Le[N].evaluate(h,p)},Vt}(Ne)).load(It.features):new pi(Vt=It,Ne.geojsonVtOptions)}catch(Vt){return Ze(Vt)}this.loaded={};const Kt={};if(bt){const Vt=b.getPerformanceMeasurement(ct);Vt&&(Kt.resourceTiming={},Kt.resourceTiming[Ne.source]=JSON.parse(JSON.stringify(Vt)))}Ze(null,Kt)}var Vt})}reloadTile(Ne,Ze){const ct=this.loaded;return ct&&ct[Ne.uid]?super.reloadTile(Ne,Ze):this.loadTile(Ne,Ze)}loadGeoJSON(Ne,Ze){if(Ne.request)b.getJSON(Ne.request,Ze);else{if("string"!=typeof Ne.data)return Ze(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`));try{return Ze(null,JSON.parse(Ne.data))}catch(ct){return Ze(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Ne,Ze){try{Ze(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(ct){Ze(ct)}}getClusterChildren(Ne,Ze){try{Ze(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(ct){Ze(ct)}}getClusterLeaves(Ne,Ze){try{Ze(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(ct){Ze(ct)}}}class wr{constructor(Ne){this.self=Ne,this.actor=new b.Actor(Ne,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:b.VectorTileWorkerSource,geojson:Or},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ze,ct)=>{if(this.workerSourceTypes[Ze])throw new Error(`Worker source with name "${Ze}" already registered.`);this.workerSourceTypes[Ze]=ct},this.self.registerRTLTextPlugin=Ze=>{if(b.plugin.isParsed())throw new Error("RTL text plugin already registered.");b.plugin.applyArabicShaping=Ze.applyArabicShaping,b.plugin.processBidirectionalText=Ze.processBidirectionalText,b.plugin.processStyledBidirectionalText=Ze.processStyledBidirectionalText}}checkIfReady(Ne,Ze,ct){ct()}setReferrer(Ne,Ze){this.referrer=Ze}spriteLoaded(Ne,Ze){this.isSpriteLoaded=Ze;for(const ct in this.workerSources[Ne]){const bt=this.workerSources[Ne][ct];for(const Ft in bt)bt[Ft]instanceof b.VectorTileWorkerSource&&(bt[Ft].isSpriteLoaded=Ze,bt[Ft].fire(new b.Event("isSpriteLoaded")))}}setImages(Ne,Ze,ct){this.availableImages[Ne]=Ze;for(const bt in this.workerSources[Ne]){const Ft=this.workerSources[Ne][bt];for(const It in Ft)Ft[It].availableImages=Ze}ct()}enableTerrain(Ne,Ze,ct){this.terrain=Ze,ct()}setLayers(Ne,Ze,ct){this.getLayerIndex(Ne).replace(Ze),ct()}updateLayers(Ne,Ze,ct){this.getLayerIndex(Ne).update(Ze.layers,Ze.removedIds),ct()}loadTile(Ne,Ze,ct){const bt=this.enableTerrain?b.extend({enableTerrain:this.terrain},Ze):Ze;this.getWorkerSource(Ne,Ze.type,Ze.source).loadTile(bt,ct)}loadDEMTile(Ne,Ze,ct){const bt=this.enableTerrain?b.extend({buildQuadTree:this.terrain},Ze):Ze;this.getDEMWorkerSource(Ne,Ze.source).loadTile(bt,ct)}reloadTile(Ne,Ze,ct){const bt=this.enableTerrain?b.extend({enableTerrain:this.terrain},Ze):Ze;this.getWorkerSource(Ne,Ze.type,Ze.source).reloadTile(bt,ct)}abortTile(Ne,Ze,ct){this.getWorkerSource(Ne,Ze.type,Ze.source).abortTile(Ze,ct)}removeTile(Ne,Ze,ct){this.getWorkerSource(Ne,Ze.type,Ze.source).removeTile(Ze,ct)}removeSource(Ne,Ze,ct){if(!this.workerSources[Ne]||!this.workerSources[Ne][Ze.type]||!this.workerSources[Ne][Ze.type][Ze.source])return;const bt=this.workerSources[Ne][Ze.type][Ze.source];delete this.workerSources[Ne][Ze.type][Ze.source],void 0!==bt.removeSource?bt.removeSource(Ze,ct):ct()}loadWorkerSource(Ne,Ze,ct){try{this.self.importScripts(Ze.url),ct()}catch(bt){ct(bt.toString())}}syncRTLPluginState(Ne,Ze,ct){try{b.plugin.setState(Ze);const bt=b.plugin.getPluginURL();if(b.plugin.isLoaded()&&!b.plugin.isParsed()&&null!=bt){this.self.importScripts(bt);const Ft=b.plugin.isParsed();ct(Ft?void 0:new Error(`RTL Text Plugin failed to import scripts from ${bt}`),Ft)}}catch(bt){ct(bt.toString())}}getAvailableImages(Ne){let Ze=this.availableImages[Ne];return Ze||(Ze=[]),Ze}getLayerIndex(Ne){let Ze=this.layerIndexes[Ne];return Ze||(Ze=this.layerIndexes[Ne]=new Te),Ze}getWorkerSource(Ne,Ze,ct){return this.workerSources[Ne]||(this.workerSources[Ne]={}),this.workerSources[Ne][Ze]||(this.workerSources[Ne][Ze]={}),this.workerSources[Ne][Ze][ct]||(this.workerSources[Ne][Ze][ct]=new this.workerSourceTypes[Ze]({send:(bt,Ft,It,Kt,Vt,Xt)=>{this.actor.send(bt,Ft,It,Ne,Vt,Xt)},scheduler:this.actor.scheduler},this.getLayerIndex(Ne),this.getAvailableImages(Ne),this.isSpriteLoaded)),this.workerSources[Ne][Ze][ct]}getDEMWorkerSource(Ne,Ze){return this.demWorkerSources[Ne]||(this.demWorkerSources[Ne]={}),this.demWorkerSources[Ne][Ze]||(this.demWorkerSources[Ne][Ze]=new Fe),this.demWorkerSources[Ne][Ze]}enforceCacheSizeLimit(Ne,Ze){b.enforceCacheSizeLimit(Ze)}getWorkerPerformanceMetrics(Ne,Ze,ct){ct(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new wr(self)),wr}),W(0,function(b){var ce=be;function be(P){return f=P,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var R,H,X=new Blob([""],{type:"text/javascript"}),ae=URL.createObjectURL(X);try{H=new Worker(ae),R=!0}catch(fe){R=!1}return H&&H.terminate(),URL.revokeObjectURL(ae),R}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var R=document.createElement("canvas");R.width=R.height=1;var H=R.getContext("2d");if(!H)return!1;var X=H.getImageData(0,0,1,1);return X&&X.width===R.width}()||(void 0===Te[C=f&&f.failIfMajorPerformanceCaveat]&&(Te[C]=function(R){var H,ae,fe,ve,X=(ae=R,fe=document.createElement("canvas"),(ve=Object.create(be.webGLContextAttributes)).failIfMajorPerformanceCaveat=ae,fe.getContext("webgl",ve)||fe.getContext("experimental-webgl",ve));if(!X)return!1;try{H=X.createShader(X.VERTEX_SHADER)}catch(ae){return!1}return!(!H||X.isContextLost())&&(X.shaderSource(H,"void main() {}"),X.compileShader(H),!0===X.getShaderParameter(H,X.COMPILE_STATUS))}(C)),!Te[C]||document.documentMode));var f,C}var Te={};function xe(P,f){if(Array.isArray(P)){if(!Array.isArray(f)||P.length!==f.length)return!1;for(let C=0;C<P.length;C++)if(!xe(P[C],f[C]))return!1;return!0}if("object"==typeof P&&null!==P&&null!==f){if("object"!=typeof f||Object.keys(P).length!==Object.keys(f).length)return!1;for(const C in P)if(!xe(P[C],f[C]))return!1;return!0}return P===f}be.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Fe={create:function(P,f,C){const R=b.window.document.createElement(P);return void 0!==f&&(R.className=f),C&&C.appendChild(R),R},createNS:function(P,f){return b.window.document.createElementNS(P,f)}},He=b.window.document&&b.window.document.documentElement.style,xt=He&&void 0!==He.userSelect?"userSelect":"WebkitUserSelect";let ht;Fe.disableDrag=function(){He&&xt&&(ht=He[xt],He[xt]="none")},Fe.enableDrag=function(){He&&xt&&(He[xt]=ht)},Fe.setTransform=function(P,f){P.style.transform=f};let At=!1;try{const P=Object.defineProperty({},"passive",{get(){At=!0}});b.window.addEventListener("test",P,P),b.window.removeEventListener("test",P,P)}catch(P){At=!1}Fe.addEventListener=function(P,f,C,R={}){P.addEventListener(f,C,"passive"in R&&At?R:R.capture)},Fe.removeEventListener=function(P,f,C,R={}){P.removeEventListener(f,C,"passive"in R&&At?R:R.capture)};const en=function(P){P.preventDefault(),P.stopPropagation(),b.window.removeEventListener("click",en,!0)};function Ut(P,f,C){const R=P.offsetWidth===f.width?1:P.offsetWidth/f.width;return new b.pointGeometry((C.clientX-f.left)*R,(C.clientY-f.top)*R)}Fe.suppressClick=function(){b.window.addEventListener("click",en,!0),b.window.setTimeout(()=>{b.window.removeEventListener("click",en,!0)},0)},Fe.mousePos=function(P,f){const C=P.getBoundingClientRect();return Ut(P,C,f)},Fe.touchPos=function(P,f){const C=P.getBoundingClientRect(),R=[];for(let H=0;H<f.length;H++)R.push(Ut(P,C,f[H]));return R},Fe.mouseButton=function(P){return void 0!==b.window.InstallTrigger&&2===P.button&&P.ctrlKey&&b.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:P.button},Fe.remove=function(P){P.parentNode&&P.parentNode.removeChild(P)};class at{constructor(f,C){this.pos=f,this.dir=C}intersectsPlane(f,C,R){const H=b.dot(C,this.dir);if(Math.abs(H)<1e-6)return!1;const X=b.dot(b.sub(b.create(),f,this.pos),C)/H,ae=b.scaleAndAdd(b.create(),this.pos,this.dir,X);return b.copy(R,ae),!0}}class ei{constructor(f,C){this.points=f,this.planes=C}static fromInvProjectionMatrix(f,C,R){const H=Math.pow(2,R),X=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(fe=>{const ve=b.transformMat4([],fe,f),_e=1/ve[3]/C*H;return b.mul(ve,ve,[_e,_e,1/ve[3],_e])}),ae=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(fe=>{const ve=b.sub([],X[fe[0]],X[fe[1]]),_e=b.sub([],X[fe[2]],X[fe[1]]),ze=b.normalize([],b.cross([],ve,_e)),Ge=-b.dot(ze,X[fe[1]]);return ze.concat(Ge)});return new ei(X,ae)}}class In{constructor(f,C){this.min=f,this.max=C,this.center=b.scale([],b.add([],this.min,this.max),.5)}quadrant(f){const C=[f%2==0,f<2],R=b.clone(this.min),H=b.clone(this.max);for(let X=0;X<C.length;X++)R[X]=C[X]?this.min[X]:this.center[X],H[X]=C[X]?this.center[X]:this.max[X];return H[2]=this.max[2],new In(R,H)}distanceX(f){return Math.max(Math.min(this.max[0],f[0]),this.min[0])-f[0]}distanceY(f){return Math.max(Math.min(this.max[1],f[1]),this.min[1])-f[1]}distanceZ(f){return Math.max(Math.min(this.max[2],f[2]),this.min[2])-f[2]}intersects(f){const C=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let R=!0;for(let H=0;H<f.planes.length;H++){const X=f.planes[H];let ae=0;for(let fe=0;fe<C.length;fe++)ae+=b.dot$1(X,C[fe])>=0;if(0===ae)return 0;ae!==C.length&&(R=!1)}if(R)return 2;for(let H=0;H<3;H++){let X=Number.MAX_VALUE,ae=-Number.MAX_VALUE;for(let fe=0;fe<f.points.length;fe++){const ve=f.points[fe][H]-this.min[H];X=Math.min(X,ve),ae=Math.max(ae,ve)}if(ae<0||X>this.max[H]-this.min[H])return 0}return 1}}function jt(P){const{userImage:f}=P;return!!(f&&f.render&&f.render())&&(P.data.replace(new Uint8Array(f.data.buffer)),!0)}class tr extends b.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new b.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(f){if(this.loaded!==f&&(this.loaded=f,f)){for(const{ids:C,callback:R}of this.requestors)this._notify(C,R);this.requestors=[]}}getImage(f){return this.images[f]}addImage(f,C){this._validate(f,C)&&(this.images[f]=C)}_validate(f,C){let R=!0;return this._validateStretch(C.stretchX,C.data&&C.data.width)||(this.fire(new b.ErrorEvent(new Error(`Image "${f}" has invalid "stretchX" value`))),R=!1),this._validateStretch(C.stretchY,C.data&&C.data.height)||(this.fire(new b.ErrorEvent(new Error(`Image "${f}" has invalid "stretchY" value`))),R=!1),this._validateContent(C.content,C)||(this.fire(new b.ErrorEvent(new Error(`Image "${f}" has invalid "content" value`))),R=!1),R}_validateStretch(f,C){if(!f)return!0;let R=0;for(const H of f){if(H[0]<R||H[1]<H[0]||C<H[1])return!1;R=H[1]}return!0}_validateContent(f,C){return!(f&&(4!==f.length||f[0]<0||C.data.width<f[0]||f[1]<0||C.data.height<f[1]||f[2]<0||C.data.width<f[2]||f[3]<0||C.data.height<f[3]||f[2]<f[0]||f[3]<f[1]))}updateImage(f,C){C.version=this.images[f].version+1,this.images[f]=C,this.updatedImages[f]=!0}removeImage(f){const C=this.images[f];delete this.images[f],delete this.patterns[f],C.userImage&&C.userImage.onRemove&&C.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(f,C){let R=!0;if(!this.isLoaded())for(const H of f)this.images[H]||(R=!1);this.isLoaded()||R?this._notify(f,C):this.requestors.push({ids:f,callback:C})}_notify(f,C){const R={};for(const H of f){this.images[H]||this.fire(new b.Event("styleimagemissing",{id:H}));const X=this.images[H];X?R[H]={data:X.data.clone(),pixelRatio:X.pixelRatio,sdf:X.sdf,version:X.version,stretchX:X.stretchX,stretchY:X.stretchY,content:X.content,hasRenderCallback:Boolean(X.userImage&&X.userImage.render)}:b.warnOnce(`Image "${H}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}C(null,R)}getPixelSize(){const{width:f,height:C}=this.atlasImage;return{width:f,height:C}}getPattern(f){const C=this.patterns[f],R=this.getImage(f);if(!R)return null;if(C&&C.position.version===R.version)return C.position;if(C)C.position.version=R.version;else{const H={w:R.data.width+2,h:R.data.height+2,x:0,y:0},X=new b.ImagePosition(H,R);this.patterns[f]={bin:H,position:X}}return this._updatePatternAtlas(),this.patterns[f].position}bind(f){const C=f.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new b.Texture(f,this.atlasImage,C.RGBA),this.atlasTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE)}_updatePatternAtlas(){const f=[];for(const X in this.patterns)f.push(this.patterns[X].bin);const{w:C,h:R}=b.potpack(f),H=this.atlasImage;H.resize({width:C||1,height:R||1});for(const X in this.patterns){const{bin:ae}=this.patterns[X],fe=ae.x+1,ve=ae.y+1,_e=this.images[X].data,ze=_e.width,Ge=_e.height;b.RGBAImage.copy(_e,H,{x:0,y:0},{x:fe,y:ve},{width:ze,height:Ge}),b.RGBAImage.copy(_e,H,{x:0,y:Ge-1},{x:fe,y:ve-1},{width:ze,height:1}),b.RGBAImage.copy(_e,H,{x:0,y:0},{x:fe,y:ve+Ge},{width:ze,height:1}),b.RGBAImage.copy(_e,H,{x:ze-1,y:0},{x:fe-1,y:ve},{width:1,height:Ge}),b.RGBAImage.copy(_e,H,{x:0,y:0},{x:fe+ze,y:ve},{width:1,height:Ge})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(f){for(const C of f){if(this.callbackDispatchedThisFrame[C])continue;this.callbackDispatchedThisFrame[C]=!0;const R=this.images[C];jt(R)&&this.updateImage(C,R)}}}const rs=new b.Properties({anchor:new b.DataConstantProperty(b.spec.light.anchor),position:new class{constructor(){this.specification=b.spec.light.position}possiblyEvaluate(P,f){return function([C,R,H]){const X=b.degToRad(R+90),ae=b.degToRad(H);return{x:C*Math.cos(X)*Math.sin(ae),y:C*Math.sin(X)*Math.sin(ae),z:C*Math.cos(ae),azimuthal:R,polar:H}}(P.expression.evaluate(f))}interpolate(P,f,C){return{x:b.number(P.x,f.x,C),y:b.number(P.y,f.y,C),z:b.number(P.z,f.z,C),azimuthal:b.number(P.azimuthal,f.azimuthal,C),polar:b.number(P.polar,f.polar,C)}}},color:new b.DataConstantProperty(b.spec.light.color),intensity:new b.DataConstantProperty(b.spec.light.intensity)}),oi="-transition";class Li extends b.Evented{constructor(f){super(),this._transitionable=new b.Transitionable(rs),this.setLight(f),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(f,C={}){if(!this._validate(b.validateLight,f,C))for(const R in f){const H=f[R];b.endsWith(R,oi)?this._transitionable.setTransition(R.slice(0,-oi.length),H):this._transitionable.setValue(R,H)}}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,C,R){return(!R||!1!==R.validate)&&b.emitValidationErrors(this,f.call(b.validateStyle,b.extend({value:C,style:{glyphs:!0,sprite:!0},styleSpec:b.spec})))}}const ks=new b.Properties({source:new b.DataConstantProperty(b.spec.terrain.source),exaggeration:new b.DataConstantProperty(b.spec.terrain.exaggeration)}),qi="-transition";class Pr extends b.Evented{constructor(f){super(),this._transitionable=new b.Transitionable(ks),this.set(f),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(f){for(const C in f){const R=f[C];b.endsWith(C,qi)?this._transitionable.setTransition(C.slice(0,-qi.length),R):this._transitionable.setValue(C,R)}}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}}function _n(P,f,C,R){const H=b.smoothstep(45,65,C),[X,ae]=ln(P,R),fe=b.length(f);let ve=1-Math.min(1,Math.exp((fe-X)/(ae-X)*-6));return ve*=ve*ve,ve=Math.min(1,1.00747*ve),ve*H*P.alpha}function ln(P,f){const C=.5/Math.tan(.5*f);return[P.range[0]+C,P.range[1]+C]}const vn=new b.Properties({range:new b.DataConstantProperty(b.spec.fog.range),color:new b.DataConstantProperty(b.spec.fog.color),"horizon-blend":new b.DataConstantProperty(b.spec.fog["horizon-blend"])}),un="-transition";class Rn extends b.Evented{constructor(f){super(),this._transitionable=new b.Transitionable(vn),this.set(f),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(f,C={}){if(!this._validate(b.validateFog,f,C))for(const R in f){const H=f[R];b.endsWith(R,un)?this._transitionable.setTransition(R.slice(0,-un.length),H):this._transitionable.setValue(R,H)}}getOpacity(f){const C=this.properties&&this.properties.get("color")||1;return b.smoothstep(45,65,f)*C.a}getOpacityAtLatLng(f,C){return function(R,H,X){const ae=b.MercatorCoordinate.fromLngLat(H),fe=X.elevation?X.elevation.getAtPointOrZero(ae):0,ve=[ae.x,ae.y,fe];return b.transformMat4$1(ve,ve,X.mercatorFogMatrix),_n(R,ve,X.pitch,X._fov)}(this.state,f,C)}getFovAdjustedRange(f){return ln(this.state,f)}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}_validate(f,C,R){return(!R||!1!==R.validate)&&b.emitValidationErrors(this,f.call(b.validateStyle,b.extend({value:C,style:{glyphs:!0,sprite:!0},styleSpec:b.spec})))}}class fn{constructor(f,C){this.workerPool=f,this.actors=[],this.currentActor=0,this.id=b.uniqueId();const R=this.workerPool.acquire(this.id);for(let H=0;H<R.length;H++){const X=new fn.Actor(R[H],C,this.id);X.name=`Worker ${H}`,this.actors.push(X)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(f,C,R){b.asyncAll(this.actors,(H,X)=>{H.send(f,C,X)},R=R||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(f=>{f.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ni(P,f,C){return f*(b.EXTENT/(P.tileSize*Math.pow(2,C-P.tileID.overscaledZ)))}fn.Actor=b.Actor;class Pi{constructor(f,C,R,H){this.screenBounds=f,this.cameraPoint=C,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=R,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(X=>H.pointCoordinate3D(X)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(f,C){let R,H;if(f instanceof b.pointGeometry||"number"==typeof f[0]){const X=b.pointGeometry.convert(f);R=[b.pointGeometry.convert(f)],H=C.isPointAboveHorizon(X)}else{const X=b.pointGeometry.convert(f[0]),ae=b.pointGeometry.convert(f[1]);R=[X,ae],H=b.polygonizeBounds(X,ae).every(fe=>C.isPointAboveHorizon(fe))}return new Pi(R,C.getCameraPoint(),H,C)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(f){return b.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],f)}bufferedCameraGeometry(f){const C=this.screenBounds[0],R=1===this.screenBounds.length?this.screenBounds[0].add(new b.pointGeometry(1,1)):this.screenBounds[1],H=b.polygonizeBounds(C,R,0,!1);return this.cameraPoint.y>R.y&&(this.cameraPoint.x>C.x&&this.cameraPoint.x<R.x?H.splice(3,0,this.cameraPoint):this.cameraPoint.x>=R.x?H[2]=this.cameraPoint:this.cameraPoint.x<=C.x&&(H[3]=this.cameraPoint)),b.bufferConvexPolygon(H,f)}containsTile(f,C,R){const H=f.queryPadding+1,X=R?this._bufferedCameraMercator(H,C).map(Xe=>f.tileID.getTilePoint(Xe)):this._bufferedScreenMercator(H,C).map(Xe=>f.tileID.getTilePoint(Xe)),ae=this.screenGeometryMercator.map(Xe=>f.tileID.getTileVec3(Xe)),fe=ae.map(Xe=>new b.pointGeometry(Xe[0],Xe[1])),ve=C.getFreeCameraOptions().position||new b.MercatorCoordinate(0,0,0),_e=f.tileID.getTileVec3(ve),ze=ae.map(Xe=>{const dt=b.sub(Xe,Xe,_e);return b.normalize(dt,dt),new at(_e,dt)}),Ge=ni(f,1,C.zoom);if(b.polygonIntersectsBox(X,0,0,b.EXTENT,b.EXTENT))return{queryGeometry:this,tilespaceGeometry:fe,tilespaceRays:ze,bufferedTilespaceGeometry:X,bufferedTilespaceBounds:(We=b.getBounds(X),We.min.x=b.clamp(We.min.x,0,b.EXTENT),We.min.y=b.clamp(We.min.y,0,b.EXTENT),We.max.x=b.clamp(We.max.x,0,b.EXTENT),We.max.y=b.clamp(We.max.y,0,b.EXTENT),We),tile:f,tileID:f.tileID,pixelToTileUnitsFactor:Ge};var We}_bufferedScreenMercator(f,C){const R=Fi(f);if(this._screenRaycastCache[R])return this._screenRaycastCache[R];{const H=this.bufferedScreenGeometry(f).map(X=>C.pointCoordinate3D(X));return this._screenRaycastCache[R]=H,H}}_bufferedCameraMercator(f,C){const R=Fi(f);if(this._cameraRaycastCache[R])return this._cameraRaycastCache[R];{const H=this.bufferedCameraGeometry(f).map(X=>C.pointCoordinate3D(X));return this._cameraRaycastCache[R]=H,H}}}function Fi(P){return 100*P|0}function ui(P,f,C){const R=function(H,X){if(H)return C(H);if(X){const ae=b.pick(b.extend(X,P),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);X.vector_layers&&(ae.vectorLayers=X.vector_layers,ae.vectorLayerIds=ae.vectorLayers.map(fe=>fe.id)),ae.tiles=f.canonicalizeTileset(ae,P.url),C(null,ae)}};return P.url?b.getJSON(f.transformRequest(f.normalizeSourceURL(P.url),b.ResourceType.Source),R):b.exported.frame(()=>R(null,P))}class bi{constructor(f,C,R){this.bounds=b.LngLatBounds.convert(this.validateBounds(f)),this.minzoom=C||0,this.maxzoom=R||24}validateBounds(f){return Array.isArray(f)&&4===f.length?[Math.max(-180,f[0]),Math.max(-90,f[1]),Math.min(180,f[2]),Math.min(90,f[3])]:[-180,-90,180,90]}contains(f){const C=Math.pow(2,f.z),R=Math.floor(b.mercatorXfromLng(this.bounds.getWest())*C),H=Math.floor(b.mercatorYfromLat(this.bounds.getNorth())*C),X=Math.ceil(b.mercatorXfromLng(this.bounds.getEast())*C),ae=Math.ceil(b.mercatorYfromLat(this.bounds.getSouth())*C);return f.x>=R&&f.x<X&&f.y>=H&&f.y<ae}}class mi{constructor(f,C,R){this.context=f;const H=f.gl;this.buffer=H.createBuffer(),this.dynamicDraw=Boolean(R),this.context.unbindVAO(),f.bindElementBuffer.set(this.buffer),H.bufferData(H.ELEMENT_ARRAY_BUFFER,C.arrayBuffer,this.dynamicDraw?H.DYNAMIC_DRAW:H.STATIC_DRAW),this.dynamicDraw||delete C.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(f){const C=this.context.gl;this.context.unbindVAO(),this.bind(),C.bufferSubData(C.ELEMENT_ARRAY_BUFFER,0,f.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const gi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class $n{constructor(f,C,R,H){this.length=C.length,this.attributes=R,this.itemSize=C.bytesPerElement,this.dynamicDraw=H,this.context=f;const X=f.gl;this.buffer=X.createBuffer(),f.bindVertexBuffer.set(this.buffer),X.bufferData(X.ARRAY_BUFFER,C.arrayBuffer,this.dynamicDraw?X.DYNAMIC_DRAW:X.STATIC_DRAW),this.dynamicDraw||delete C.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(f){const C=this.context.gl;this.bind(),C.bufferSubData(C.ARRAY_BUFFER,0,f.arrayBuffer)}enableAttributes(f,C){for(let R=0;R<this.attributes.length;R++){const H=C.attributes[this.attributes[R].name];void 0!==H&&f.enableVertexAttribArray(H)}}setVertexAttribPointers(f,C,R){for(let H=0;H<this.attributes.length;H++){const X=this.attributes[H],ae=C.attributes[X.name];void 0!==ae&&f.vertexAttribPointer(ae,X.components,f[gi[X.type]],!1,this.itemSize,X.offset+this.itemSize*(R||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ki{constructor(f){this.gl=f.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(f){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class xr extends ki{getDefault(){return b.Color.transparent}set(f){const C=this.current;(f.r!==C.r||f.g!==C.g||f.b!==C.b||f.a!==C.a||this.dirty)&&(this.gl.clearColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)}}class uo extends ki{getDefault(){return 1}set(f){(f!==this.current||this.dirty)&&(this.gl.clearDepth(f),this.current=f,this.dirty=!1)}}class Qr extends ki{getDefault(){return 0}set(f){(f!==this.current||this.dirty)&&(this.gl.clearStencil(f),this.current=f,this.dirty=!1)}}class Vs extends ki{getDefault(){return[!0,!0,!0,!0]}set(f){const C=this.current;(f[0]!==C[0]||f[1]!==C[1]||f[2]!==C[2]||f[3]!==C[3]||this.dirty)&&(this.gl.colorMask(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)}}class Zs extends ki{getDefault(){return!0}set(f){(f!==this.current||this.dirty)&&(this.gl.depthMask(f),this.current=f,this.dirty=!1)}}class fa extends ki{getDefault(){return 255}set(f){(f!==this.current||this.dirty)&&(this.gl.stencilMask(f),this.current=f,this.dirty=!1)}}class nr extends ki{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(f){const C=this.current;(f.func!==C.func||f.ref!==C.ref||f.mask!==C.mask||this.dirty)&&(this.gl.stencilFunc(f.func,f.ref,f.mask),this.current=f,this.dirty=!1)}}class ma extends ki{getDefault(){const f=this.gl;return[f.KEEP,f.KEEP,f.KEEP]}set(f){const C=this.current;(f[0]!==C[0]||f[1]!==C[1]||f[2]!==C[2]||this.dirty)&&(this.gl.stencilOp(f[0],f[1],f[2]),this.current=f,this.dirty=!1)}}class Gi extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;f?C.enable(C.STENCIL_TEST):C.disable(C.STENCIL_TEST),this.current=f,this.dirty=!1}}class $i extends ki{getDefault(){return[0,1]}set(f){const C=this.current;(f[0]!==C[0]||f[1]!==C[1]||this.dirty)&&(this.gl.depthRange(f[0],f[1]),this.current=f,this.dirty=!1)}}class ho extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;f?C.enable(C.DEPTH_TEST):C.disable(C.DEPTH_TEST),this.current=f,this.dirty=!1}}class Hs extends ki{getDefault(){return this.gl.LESS}set(f){(f!==this.current||this.dirty)&&(this.gl.depthFunc(f),this.current=f,this.dirty=!1)}}class yi extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;f?C.enable(C.BLEND):C.disable(C.BLEND),this.current=f,this.dirty=!1}}class cs extends ki{getDefault(){const f=this.gl;return[f.ONE,f.ZERO]}set(f){const C=this.current;(f[0]!==C[0]||f[1]!==C[1]||this.dirty)&&(this.gl.blendFunc(f[0],f[1]),this.current=f,this.dirty=!1)}}class mr extends ki{getDefault(){return b.Color.transparent}set(f){const C=this.current;(f.r!==C.r||f.g!==C.g||f.b!==C.b||f.a!==C.a||this.dirty)&&(this.gl.blendColor(f.r,f.g,f.b,f.a),this.current=f,this.dirty=!1)}}class Xi extends ki{getDefault(){return this.gl.FUNC_ADD}set(f){(f!==this.current||this.dirty)&&(this.gl.blendEquation(f),this.current=f,this.dirty=!1)}}class po extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;f?C.enable(C.CULL_FACE):C.disable(C.CULL_FACE),this.current=f,this.dirty=!1}}class bc extends ki{getDefault(){return this.gl.BACK}set(f){(f!==this.current||this.dirty)&&(this.gl.cullFace(f),this.current=f,this.dirty=!1)}}class Hr extends ki{getDefault(){return this.gl.CCW}set(f){(f!==this.current||this.dirty)&&(this.gl.frontFace(f),this.current=f,this.dirty=!1)}}class Ls extends ki{getDefault(){return null}set(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)}}class Ro extends ki{getDefault(){return this.gl.TEXTURE0}set(f){(f!==this.current||this.dirty)&&(this.gl.activeTexture(f),this.current=f,this.dirty=!1)}}class Sr extends ki{getDefault(){const f=this.gl;return[0,0,f.drawingBufferWidth,f.drawingBufferHeight]}set(f){const C=this.current;(f[0]!==C[0]||f[1]!==C[1]||f[2]!==C[2]||f[3]!==C[3]||this.dirty)&&(this.gl.viewport(f[0],f[1],f[2],f[3]),this.current=f,this.dirty=!1)}}class Yn extends ki{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,f),this.current=f,this.dirty=!1}}class ji extends ki{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.bindRenderbuffer(C.RENDERBUFFER,f),this.current=f,this.dirty=!1}}class ll extends ki{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.bindTexture(C.TEXTURE_2D,f),this.current=f,this.dirty=!1}}class Ea extends ki{getDefault(){return null}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.bindBuffer(C.ARRAY_BUFFER,f),this.current=f,this.dirty=!1}}class ga extends ki{getDefault(){return null}set(f){const C=this.gl;C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,f),this.current=f,this.dirty=!1}}class gs extends ki{constructor(f){super(f),this.vao=f.extVertexArrayObject}getDefault(){return null}set(f){this.vao&&(f!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(f),this.current=f,this.dirty=!1)}}class So extends ki{getDefault(){return 4}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.pixelStorei(C.UNPACK_ALIGNMENT,f),this.current=f,this.dirty=!1}}class ko extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),this.current=f,this.dirty=!1}}class Pt extends ki{getDefault(){return!1}set(f){if(f===this.current&&!this.dirty)return;const C=this.gl;C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,f),this.current=f,this.dirty=!1}}class Lt extends ki{constructor(f,C){super(f),this.context=f,this.parent=C}getDefault(){return null}}class Wt extends Lt{setDirty(){this.dirty=!0}set(f){if(f===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const C=this.gl;C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f,0),this.current=f,this.dirty=!1}}class hn extends Lt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(f){if(f===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const C=this.gl;C.framebufferRenderbuffer(C.FRAMEBUFFER,this.attachment(),C.RENDERBUFFER,f),this.current=f,this.dirty=!1}}class nn extends hn{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class pi{constructor(f,C,R,H){this.context=f,this.width=C,this.height=R;const X=this.framebuffer=f.gl.createFramebuffer();this.colorAttachment=new Wt(f,X),H&&(this.depthAttachment=new hn(f,X))}destroy(){const f=this.context.gl,C=this.colorAttachment.get();if(C&&f.deleteTexture(C),this.depthAttachment){const R=this.depthAttachment.get();R&&f.deleteRenderbuffer(R)}f.deleteFramebuffer(this.framebuffer)}}class Ni{constructor(f){this.gl=f,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new xr(this),this.clearDepth=new uo(this),this.clearStencil=new Qr(this),this.colorMask=new Vs(this),this.depthMask=new Zs(this),this.stencilMask=new fa(this),this.stencilFunc=new nr(this),this.stencilOp=new ma(this),this.stencilTest=new Gi(this),this.depthRange=new $i(this),this.depthTest=new ho(this),this.depthFunc=new Hs(this),this.blend=new yi(this),this.blendFunc=new cs(this),this.blendColor=new mr(this),this.blendEquation=new Xi(this),this.cullFace=new po(this),this.cullFaceSide=new bc(this),this.frontFace=new Hr(this),this.program=new Ls(this),this.activeTexture=new Ro(this),this.viewport=new Sr(this),this.bindFramebuffer=new Yn(this),this.bindRenderbuffer=new ji(this),this.bindTexture=new ll(this),this.bindVertexBuffer=new Ea(this),this.bindElementBuffer=new ga(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new gs(this),this.pixelStoreUnpack=new So(this),this.pixelStoreUnpackPremultiplyAlpha=new ko(this),this.pixelStoreUnpackFlipY=new Pt(this),this.extTextureFilterAnisotropic=f.getExtension("EXT_texture_filter_anisotropic")||f.getExtension("MOZ_EXT_texture_filter_anisotropic")||f.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=f.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=f.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(f.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=f.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=f.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(f,C){return new mi(this,f,C)}createVertexBuffer(f,C,R){return new $n(this,f,C,R)}createRenderbuffer(f,C,R){const H=this.gl,X=H.createRenderbuffer();return this.bindRenderbuffer.set(X),H.renderbufferStorage(H.RENDERBUFFER,f,C,R),this.bindRenderbuffer.set(null),X}createFramebuffer(f,C,R){return new pi(this,f,C,R)}clear({color:f,depth:C,stencil:R}){const H=this.gl;let X=0;f&&(X|=H.COLOR_BUFFER_BIT,this.clearColor.set(f),this.colorMask.set([!0,!0,!0,!0])),void 0!==C&&(X|=H.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(C),this.depthMask.set(!0)),void 0!==R&&(X|=H.STENCIL_BUFFER_BIT,this.clearStencil.set(R),this.stencilMask.set(255)),H.clear(X)}setCullFace(f){!1===f.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(f.mode),this.frontFace.set(f.frontFace))}setDepthMode(f){f.func!==this.gl.ALWAYS||f.mask?(this.depthTest.set(!0),this.depthFunc.set(f.func),this.depthMask.set(f.mask),this.depthRange.set(f.range)):this.depthTest.set(!1)}setStencilMode(f){f.test.func!==this.gl.ALWAYS||f.mask?(this.stencilTest.set(!0),this.stencilMask.set(f.mask),this.stencilOp.set([f.fail,f.depthFail,f.pass]),this.stencilFunc.set({func:f.test.func,ref:f.ref,mask:f.test.mask})):this.stencilTest.set(!1)}setColorMode(f){xe(f.blendFunction,b.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(f.blendFunction),this.blendColor.set(f.blendColor)),this.colorMask.set(f.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ar extends b.Evented{constructor(f,C,R,H){super(),this.id=f,this.dispatcher=R,this.setEventedParent(H),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=b.extend({type:"raster"},C),b.extend(this,b.pick(C,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new b.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ui(this._options,this.map._requestManager,(f,C)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new b.ErrorEvent(f)):C&&(b.extend(this,C),C.bounds&&(this.tileBounds=new bi(C.bounds,this.minzoom,this.maxzoom)),b.postTurnstileEvent(C.tiles),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(f){this.map=f,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return b.extend({},this._options)}hasTile(f){return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f,C){const R=b.exported.devicePixelRatio>=2,H=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),R,this.tileSize);f.request=b.getImage(this.map._requestManager.transformRequest(H,b.ResourceType.Tile),(X,ae,fe,ve)=>{if(delete f.request,f.aborted)f.state="unloaded",C(null);else if(X)f.state="errored",C(X);else if(ae){this.map._refreshExpiredTiles&&f.setExpiryData({cacheControl:fe,expires:ve});const _e=this.map.painter.context,ze=_e.gl;f.texture=this.map.painter.getTileTexture(ae.width),f.texture?f.texture.update(ae,{useMipmap:!0}):(f.texture=new b.Texture(_e,ae,ze.RGBA,{useMipmap:!0}),f.texture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),_e.extTextureFilterAnisotropic&&ze.texParameterf(ze.TEXTURE_2D,_e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_e.extTextureFilterAnisotropicMax)),f.state="loaded",b.cacheEntryPossiblyAdded(this.dispatcher),C(null)}})}abortTile(f,C){f.request&&(f.request.cancel(),delete f.request),C()}unloadTile(f,C){f.texture&&this.map.painter.saveTileTexture(f.texture),C()}hasTransition(){return!1}}let Or;var wr=b.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class st extends b.Evented{constructor(f,C,R,H){super(),this.id=f,this.dispatcher=R,this.coordinates=C.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(H),this.options=C}load(f,C){this._loaded=!1,this.fire(new b.Event("dataloading",{dataType:"source"})),this.url=this.options.url,b.getImage(this.map._requestManager.transformRequest(this.url,b.ResourceType.Image),(R,H)=>{this._loaded=!0,R?this.fire(new b.ErrorEvent(R)):H&&(this.image=b.exported.getImageData(H),f&&(this.coordinates=f),C&&C(),this._finishLoading())})}loaded(){return this._loaded}updateImage(f){return this.image&&f.url?(this.options.url=f.url,this.load(f.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(f){this.map=f,this.load()}setCoordinates(f){this.coordinates=f;const C=f.map(b.MercatorCoordinate.fromLngLat);this.tileID=function(H){let X=1/0,ae=1/0,fe=-1/0,ve=-1/0;for(const We of H)X=Math.min(X,We.x),ae=Math.min(ae,We.y),fe=Math.max(fe,We.x),ve=Math.max(ve,We.y);const _e=Math.max(fe-X,ve-ae),ze=Math.max(0,Math.floor(-Math.log(_e)/Math.LN2)),Ge=Math.pow(2,ze);return new b.CanonicalTileID(ze,Math.floor((X+fe)/2*Ge),Math.floor((ae+ve)/2*Ge))}(C),this.minzoom=this.maxzoom=this.tileID.z;const R=C.map(H=>this.tileID.getTilePoint(H)._round());return this._boundsArray=new b.StructArrayLayout4i8,this._boundsArray.emplaceBack(R[0].x,R[0].y,0,0),this._boundsArray.emplaceBack(R[1].x,R[1].y,b.EXTENT,0),this._boundsArray.emplaceBack(R[3].x,R[3].y,0,b.EXTENT),this._boundsArray.emplaceBack(R[2].x,R[2].y,b.EXTENT,b.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const f=this.map.painter.context,C=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,wr.members)),this.boundsSegments||(this.boundsSegments=b.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new b.Texture(f,this.image,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE));for(const R in this.tiles){const H=this.tiles[R];"loaded"!==H.state&&(H.state="loaded",H.texture=this.texture)}}loadTile(f,C){this.tileID&&this.tileID.equals(f.tileID.canonical)?(this.tiles[String(f.tileID.wrap)]=f,f.buckets={},C(null)):(f.state="errored",C(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ne={vector:class extends b.Evented{constructor(P,f,C,R){if(super(),this.id=P,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,b.extend(this,b.pick(f,["url","scheme","tileSize","promoteId"])),this._options=b.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(R),this._tileWorkers={},this._deduped=new b.DedupedRequest}load(){this._loaded=!1,this.fire(new b.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ui(this._options,this.map._requestManager,(P,f)=>{this._tileJSONRequest=null,this._loaded=!0,P?this.fire(new b.ErrorEvent(P)):f&&(b.extend(this,f),f.bounds&&(this.tileBounds=new bi(f.bounds,this.minzoom,this.maxzoom)),b.postTurnstileEvent(f.tiles,this.map._requestManager._customAccessToken),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new b.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(P){return!this.tileBounds||this.tileBounds.contains(P.canonical)}onAdd(P){this.map=P,this.load()}setSourceProperty(P){this._tileJSONRequest&&this._tileJSONRequest.cancel(),P();const f=this.map.style._getSourceCaches(this.id);for(const C of f)C.clearTiles();this.load()}setTiles(P){return this.setSourceProperty(()=>{this._options.tiles=P}),this}setUrl(P){return this.setSourceProperty(()=>{this.url=P,this._options.url=P}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return b.extend({},this._options)}loadTile(P,f){const C=this.map._requestManager.normalizeTileURL(P.tileID.canonical.url(this.tiles,this.scheme)),R={request:this.map._requestManager.transformRequest(C,b.ResourceType.Tile),data:void 0,uid:P.uid,tileID:P.tileID,tileZoom:P.tileZoom,zoom:P.tileID.overscaledZ,tileSize:this.tileSize*P.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:b.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:P.isSymbolTile};if(R.request.collectResourceTiming=this._collectResourceTiming,P.actor&&"expired"!==P.state)"loading"===P.state?P.reloadCallback=f:P.request=P.actor.send("reloadTile",R,H.bind(this));else if(P.actor=this._tileWorkers[C]=this._tileWorkers[C]||this.dispatcher.getActor(),this.dispatcher.ready)P.request=P.actor.send("loadTile",R,H.bind(this),void 0,!0);else{const X=b.loadVectorTile.call({deduped:this._deduped},R,(ae,fe)=>{ae||!fe?H.call(this,ae):(R.data={cacheControl:fe.cacheControl,expires:fe.expires,rawData:fe.rawData.slice(0)},P.actor&&P.actor.send("loadTile",R,H.bind(this),void 0,!0))},!0);P.request={cancel:X}}function H(X,ae){return delete P.request,P.aborted?f(null):X&&404!==X.status?f(X):(ae&&ae.resourceTiming&&(P.resourceTiming=ae.resourceTiming),this.map._refreshExpiredTiles&&ae&&P.setExpiryData(ae),P.loadVectorData(ae,this.map.painter),b.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(P.reloadCallback&&(this.loadTile(P,P.reloadCallback),P.reloadCallback=null)))}}abortTile(P){P.request&&(P.request.cancel(),delete P.request),P.actor&&P.actor.send("abortTile",{uid:P.uid,type:this.type,source:this.id})}unloadTile(P){P.unloadVectorData(),P.actor&&P.actor.send("removeTile",{uid:P.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:ar,"raster-dem":class extends ar{constructor(P,f,C,R){super(P,f,C,R),this.type="raster-dem",this.maxzoom=22,this._options=b.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}loadTile(P,f){const C=this.map._requestManager.normalizeTileURL(P.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function R(H,X){H&&(P.state="errored",f(H)),X&&(P.dem=X,P.dem.onDeserialize(),P.needsHillshadePrepare=!0,P.needsDEMTextureUpload=!0,P.state="loaded",f(null))}P.request=b.getImage(this.map._requestManager.transformRequest(C,b.ResourceType.Tile),function(H,X,ae,fe){if(delete P.request,P.aborted)P.state="unloaded",f(null);else if(H)P.state="errored",f(H);else if(X){this.map._refreshExpiredTiles&&P.setExpiryData({cacheControl:ae,expires:fe});const ve=b.window.ImageBitmap&&X instanceof b.window.ImageBitmap&&(null==Or&&(Or=b.window.OffscreenCanvas&&new b.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof b.window.createImageBitmap),Or),_e=1-(X.width-b.prevPowerOfTwo(X.width))/2;_e<1||P.neighboringTiles||(P.neighboringTiles=this._getNeighboringTiles(P.tileID));const ze=ve?X:b.exported.getImageData(X,_e),Ge={uid:P.uid,coord:P.tileID,source:this.id,rawImageData:ze,encoding:this.encoding,padding:_e};P.actor&&"expired"!==P.state||(P.actor=this.dispatcher.getActor(),P.actor.send("loadDEMTile",Ge,R.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(P){const f=P.canonical,C=Math.pow(2,f.z),R=(f.x-1+C)%C,H=0===f.x?P.wrap-1:P.wrap,X=(f.x+1+C)%C,ae=f.x+1===C?P.wrap+1:P.wrap,fe={};return fe[new b.OverscaledTileID(P.overscaledZ,H,f.z,R,f.y).key]={backfilled:!1},fe[new b.OverscaledTileID(P.overscaledZ,ae,f.z,X,f.y).key]={backfilled:!1},f.y>0&&(fe[new b.OverscaledTileID(P.overscaledZ,H,f.z,R,f.y-1).key]={backfilled:!1},fe[new b.OverscaledTileID(P.overscaledZ,P.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},fe[new b.OverscaledTileID(P.overscaledZ,ae,f.z,X,f.y-1).key]={backfilled:!1}),f.y+1<C&&(fe[new b.OverscaledTileID(P.overscaledZ,H,f.z,R,f.y+1).key]={backfilled:!1},fe[new b.OverscaledTileID(P.overscaledZ,P.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},fe[new b.OverscaledTileID(P.overscaledZ,ae,f.z,X,f.y+1).key]={backfilled:!1}),fe}unloadTile(P){P.demTexture&&this.map.painter.saveTileTexture(P.demTexture),P.fbo&&(P.fbo.destroy(),delete P.fbo),P.dem&&delete P.dem,delete P.neighboringTiles,P.state="unloaded"}},geojson:class extends b.Evented{constructor(P,f,C,R){super(),this.id=P,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=C.getActor(),this.setEventedParent(R),this._data=f.data,this._options=b.extend({},f),this._collectResourceTiming=f.collectResourceTiming,void 0!==f.maxzoom&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const H=b.EXTENT/this.tileSize;this.workerOptions=b.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(void 0!==f.buffer?f.buffer:128)*H,tolerance:(void 0!==f.tolerance?f.tolerance:.375)*H,extent:b.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:void 0!==f.clusterMaxZoom?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:b.EXTENT,radius:(void 0!==f.clusterRadius?f.clusterRadius:50)*H,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions)}onAdd(P){this.map=P,this.setData(this._data)}setData(P){return this._data=P,this._updateWorkerData(),this}getClusterExpansionZoom(P,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:P,source:this.id},f),this}getClusterChildren(P,f){return this.actor.send("geojson.getClusterChildren",{clusterId:P,source:this.id},f),this}getClusterLeaves(P,f,C,R){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:P,limit:f,offset:C},R),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new b.Event("dataloading",{dataType:"source"})),this._loaded=!1;const P=b.extend({},this.workerOptions),f=this._data;"string"==typeof f?(P.request=this.map._requestManager.transformRequest(b.exported.resolveURL(f),b.ResourceType.Source),P.request.collectResourceTiming=this._collectResourceTiming):P.data=JSON.stringify(f),this._pendingLoad=this.actor.send(`${this.type}.loadData`,P,(C,R)=>{if(this._loaded=!0,this._pendingLoad=null,C)this.fire(new b.ErrorEvent(C));else{const H={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&R&&R.resourceTiming&&R.resourceTiming[this.id]&&(H.resourceTiming=R.resourceTiming[this.id]),this.fire(new b.Event("data",H)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(P,f){const C=P.actor?"reloadTile":"loadTile";P.actor=this.actor,P.request=this.actor.send(C,{type:this.type,uid:P.uid,tileID:P.tileID,tileZoom:P.tileZoom,zoom:P.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:b.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(R,H)=>(delete P.request,P.unloadVectorData(),P.aborted?f(null):R?f(R):(P.loadVectorData(H,this.map.painter,"reloadTile"===C),f(null))),void 0,"loadTile"===C)}abortTile(P){P.request&&(P.request.cancel(),delete P.request),P.aborted=!0}unloadTile(P){P.unloadVectorData(),this.actor.send("removeTile",{uid:P.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return b.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends st{constructor(P,f,C,R){super(P,f,C,R),this.roundZoom=!0,this.type="video",this.options=f}load(){this._loaded=!1;const P=this.options;this.urls=[];for(const f of P.urls)this.urls.push(this.map._requestManager.transformRequest(f,b.ResourceType.Source).url);b.getVideo(this.urls,(f,C)=>{this._loaded=!0,f?this.fire(new b.ErrorEvent(f)):C&&(this.video=C,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(P){if(this.video){const f=this.video.seekable;P<f.start(0)||P>f.end(0)?this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=P}}getVideo(){return this.video}onAdd(P){this.map||(this.map=P,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const P=this.map.painter.context,f=P.gl;this.boundsBuffer||(this.boundsBuffer=P.createVertexBuffer(this._boundsArray,wr.members)),this.boundsSegments||(this.boundsSegments=b.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new b.Texture(P,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));for(const C in this.tiles){const R=this.tiles[C];"loaded"!==R.state&&(R.state="loaded",R.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:st,canvas:class extends st{constructor(P,f,C,R){super(P,f,C,R),f.coordinates?Array.isArray(f.coordinates)&&4===f.coordinates.length&&!f.coordinates.some(H=>!Array.isArray(H)||2!==H.length||H.some(X=>"number"!=typeof X))||this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${P}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${P}`,null,'missing required property "coordinates"'))),f.animate&&"boolean"!=typeof f.animate&&this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${P}`,null,'optional "animate" property must be a boolean value'))),f.canvas?"string"==typeof f.canvas||f.canvas instanceof b.window.HTMLCanvasElement||this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${P}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new b.ErrorEvent(new b.ValidationError(`sources.${P}`,null,'missing required property "canvas"'))),this.options=f,this.animate=void 0===f.animate||f.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof b.window.HTMLCanvasElement?this.options.canvas:b.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new b.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(P){this.map=P,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let P=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,P=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,P=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const f=this.map.painter.context,C=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,wr.members)),this.boundsSegments||(this.boundsSegments=b.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(P||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new b.Texture(f,this.canvas,C.RGBA,{premultiply:!0});for(const R in this.tiles){const H=this.tiles[R];"loaded"!==H.state&&(H.state="loaded",H.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const P of[this.canvas.width,this.canvas.height])if(isNaN(P)||P<=0)return!0;return!1}}},Ze=function(P,f,C,R){const H=new Ne[f.type](P,f,C,R);if(H.id!==P)throw new Error(`Expected Source id to be ${P} instead of ${H.id}`);return b.bindAll(["load","abort","unload","serialize","prepare"],H),H};function ct(P,f){const C=b.identity([]);return b.scale$1(C,C,[.5*P.width,.5*-P.height,1]),b.translate(C,C,[1,-1,0]),b.multiply(C,C,P.calculateProjMatrix(f.toUnwrapped()))}function bt(P,f,C,R,H,X,ae,fe=!1){const ve=P.tilesIn(R,ae,fe);ve.sort(It);const _e=[];for(const Ge of ve)_e.push({wrappedTileID:Ge.tile.tileID.wrapped().key,queryResults:Ge.tile.queryRenderedFeatures(f,C,P._state,Ge,H,X,ct(P.transform,Ge.tile.tileID),fe)});const ze=function(Ge){const We={},Xe={};for(const dt of Ge){const yt=dt.queryResults,Ot=dt.wrappedTileID,ot=Xe[Ot]=Xe[Ot]||{};for(const vt in yt){const wt=yt[vt],Bt=ot[vt]=ot[vt]||{},Ct=We[vt]=We[vt]||[];for(const kt of wt)Bt[kt.featureIndex]||(Bt[kt.featureIndex]=!0,Ct.push(kt))}}return We}(_e);for(const Ge in ze)ze[Ge].forEach(We=>{const Xe=We.feature,dt=P.getFeatureState(Xe.layer["source-layer"],Xe.id);Xe.source=Xe.layer.source,Xe.layer["source-layer"]&&(Xe.sourceLayer=Xe.layer["source-layer"]),Xe.state=dt});return ze}function Ft(P,f){const C=P.getRenderableIds().map(X=>P.getTileByID(X)),R=[],H={};for(let X=0;X<C.length;X++){const ae=C[X],fe=ae.tileID.canonical.key;H[fe]||(H[fe]=!0,ae.querySourceFeatures(R,f))}return R}function It(P,f){const C=P.tileID,R=f.tileID;return C.overscaledZ-R.overscaledZ||C.canonical.y-R.canonical.y||C.wrap-R.wrap||C.canonical.x-R.canonical.x}function Kt(){return null!=hp.workerClass?new hp.workerClass:new b.window.Worker(hp.workerUrl)}const Vt="mapboxgl_preloaded_worker_pool";class Xt{constructor(){this.active={}}acquire(f){if(!this.workers)for(this.workers=[];this.workers.length<Xt.workerCount;)this.workers.push(new Kt);return this.active[f]=!0,this.workers.slice()}release(f){delete this.active[f],0===this.numActive()&&(this.workers.forEach(C=>{C.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Vt]}numActive(){return Object.keys(this.active).length}}let Mn;function Le(){return Mn||(Mn=new Xt),Mn}function h(P,f){const C={};for(const R in P)"ref"!==R&&(C[R]=P[R]);return b.refProperties.forEach(R=>{R in f&&(C[R]=f[R])}),C}function p(P){P=P.slice();const f=Object.create(null);for(let C=0;C<P.length;C++)f[P[C].id]=P[C];for(let C=0;C<P.length;C++)"ref"in P[C]&&(P[C]=h(P[C],f[P[C].ref]));return P}Xt.workerCount=2;const v={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function M(P,f,C){C.push({command:v.addSource,args:[P,f[P]]})}function E(P,f,C){f.push({command:v.removeSource,args:[P]}),C[P]=!0}function N(P,f,C,R){E(P,C,R),M(P,f,C)}function O(P,f,C){let R;for(R in P[C])if(P[C].hasOwnProperty(R)&&"data"!==R&&!xe(P[C][R],f[C][R]))return!1;for(R in f[C])if(f[C].hasOwnProperty(R)&&"data"!==R&&!xe(P[C][R],f[C][R]))return!1;return!0}function j(P,f,C,R,H,X){let ae;for(ae in f=f||{},P=P||{})P.hasOwnProperty(ae)&&(xe(P[ae],f[ae])||C.push({command:X,args:[R,ae,f[ae],H]}));for(ae in f)f.hasOwnProperty(ae)&&!P.hasOwnProperty(ae)&&(xe(P[ae],f[ae])||C.push({command:X,args:[R,ae,f[ae],H]}))}function Z(P){return P.id}function re(P,f){return P[f.id]=f,P}class le{constructor(f,C){this.reset(f,C)}reset(f,C){this.points=f||[],this._distances=[0];for(let R=1;R<this.points.length;R++)this._distances[R]=this._distances[R-1]+this.points[R].dist(this.points[R-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(C||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(f){if(1===this.points.length)return this.points[0];f=b.clamp(f,0,1);let C=1,R=this._distances[C];const H=f*this.paddedLength+this.padding;for(;R<H&&C<this._distances.length;)R=this._distances[++C];const X=C-1,ae=this._distances[X],fe=R-ae,ve=fe>0?(H-ae)/fe:0;return this.points[X].mult(1-ve).add(this.points[C].mult(ve))}}class se{constructor(f,C,R){const H=this.boxCells=[],X=this.circleCells=[];this.xCellCount=Math.ceil(f/R),this.yCellCount=Math.ceil(C/R);for(let ae=0;ae<this.xCellCount*this.yCellCount;ae++)H.push([]),X.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=f,this.height=C,this.xScale=this.xCellCount/f,this.yScale=this.yCellCount/C,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(f,C,R,H,X){this._forEachCell(C,R,H,X,this._insertBoxCell,this.boxUid++),this.boxKeys.push(f),this.bboxes.push(C),this.bboxes.push(R),this.bboxes.push(H),this.bboxes.push(X)}insertCircle(f,C,R,H){this._forEachCell(C-H,R-H,C+H,R+H,this._insertCircleCell,this.circleUid++),this.circleKeys.push(f),this.circles.push(C),this.circles.push(R),this.circles.push(H)}_insertBoxCell(f,C,R,H,X,ae){this.boxCells[X].push(ae)}_insertCircleCell(f,C,R,H,X,ae){this.circleCells[X].push(ae)}_query(f,C,R,H,X,ae){if(R<0||f>this.width||H<0||C>this.height)return!X&&[];const fe=[];if(f<=0&&C<=0&&this.width<=R&&this.height<=H){if(X)return!0;for(let ve=0;ve<this.boxKeys.length;ve++)fe.push({key:this.boxKeys[ve],x1:this.bboxes[4*ve],y1:this.bboxes[4*ve+1],x2:this.bboxes[4*ve+2],y2:this.bboxes[4*ve+3]});for(let ve=0;ve<this.circleKeys.length;ve++){const _e=this.circles[3*ve],ze=this.circles[3*ve+1],Ge=this.circles[3*ve+2];fe.push({key:this.circleKeys[ve],x1:_e-Ge,y1:ze-Ge,x2:_e+Ge,y2:ze+Ge})}return ae?fe.filter(ae):fe}return this._forEachCell(f,C,R,H,this._queryCell,fe,{hitTest:X,seenUids:{box:{},circle:{}}},ae),X?fe.length>0:fe}_queryCircle(f,C,R,H,X){const ae=f-R,fe=f+R,ve=C-R,_e=C+R;if(fe<0||ae>this.width||_e<0||ve>this.height)return!H&&[];const ze=[];return this._forEachCell(ae,ve,fe,_e,this._queryCellCircle,ze,{hitTest:H,circle:{x:f,y:C,radius:R},seenUids:{box:{},circle:{}}},X),H?ze.length>0:ze}query(f,C,R,H,X){return this._query(f,C,R,H,!1,X)}hitTest(f,C,R,H,X){return this._query(f,C,R,H,!0,X)}hitTestCircle(f,C,R,H){return this._queryCircle(f,C,R,!0,H)}_queryCell(f,C,R,H,X,ae,fe,ve){const _e=fe.seenUids,ze=this.boxCells[X];if(null!==ze){const We=this.bboxes;for(const Xe of ze)if(!_e.box[Xe]){_e.box[Xe]=!0;const dt=4*Xe;if(f<=We[dt+2]&&C<=We[dt+3]&&R>=We[dt+0]&&H>=We[dt+1]&&(!ve||ve(this.boxKeys[Xe]))){if(fe.hitTest)return ae.push(!0),!0;ae.push({key:this.boxKeys[Xe],x1:We[dt],y1:We[dt+1],x2:We[dt+2],y2:We[dt+3]})}}}const Ge=this.circleCells[X];if(null!==Ge){const We=this.circles;for(const Xe of Ge)if(!_e.circle[Xe]){_e.circle[Xe]=!0;const dt=3*Xe;if(this._circleAndRectCollide(We[dt],We[dt+1],We[dt+2],f,C,R,H)&&(!ve||ve(this.circleKeys[Xe]))){if(fe.hitTest)return ae.push(!0),!0;{const yt=We[dt],Ot=We[dt+1],ot=We[dt+2];ae.push({key:this.circleKeys[Xe],x1:yt-ot,y1:Ot-ot,x2:yt+ot,y2:Ot+ot})}}}}}_queryCellCircle(f,C,R,H,X,ae,fe,ve){const _e=fe.circle,ze=fe.seenUids,Ge=this.boxCells[X];if(null!==Ge){const Xe=this.bboxes;for(const dt of Ge)if(!ze.box[dt]){ze.box[dt]=!0;const yt=4*dt;if(this._circleAndRectCollide(_e.x,_e.y,_e.radius,Xe[yt+0],Xe[yt+1],Xe[yt+2],Xe[yt+3])&&(!ve||ve(this.boxKeys[dt])))return ae.push(!0),!0}}const We=this.circleCells[X];if(null!==We){const Xe=this.circles;for(const dt of We)if(!ze.circle[dt]){ze.circle[dt]=!0;const yt=3*dt;if(this._circlesCollide(Xe[yt],Xe[yt+1],Xe[yt+2],_e.x,_e.y,_e.radius)&&(!ve||ve(this.circleKeys[dt])))return ae.push(!0),!0}}}_forEachCell(f,C,R,H,X,ae,fe,ve){const _e=this._convertToXCellCoord(f),ze=this._convertToYCellCoord(C),Ge=this._convertToXCellCoord(R),We=this._convertToYCellCoord(H);for(let Xe=_e;Xe<=Ge;Xe++)for(let dt=ze;dt<=We;dt++)if(X.call(this,f,C,R,H,this.xCellCount*dt+Xe,ae,fe,ve))return}_convertToXCellCoord(f){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(f*this.xScale)))}_convertToYCellCoord(f){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(f*this.yScale)))}_circlesCollide(f,C,R,H,X,ae){const fe=H-f,ve=X-C,_e=R+ae;return _e*_e>fe*fe+ve*ve}_circleAndRectCollide(f,C,R,H,X,ae,fe){const ve=(ae-H)/2,_e=Math.abs(f-(H+ve));if(_e>ve+R)return!1;const ze=(fe-X)/2,Ge=Math.abs(C-(X+ze));if(Ge>ze+R)return!1;if(_e<=ve||Ge<=ze)return!0;const We=_e-ve,Xe=Ge-ze;return We*We+Xe*Xe<=R*R}}const me=Math.tan(85*Math.PI/180);function Ee(P,f,C,R,H){const X=b.create$1();return f?(b.scale$1(X,X,[1/H,1/H,1]),C||b.rotateZ(X,X,R.angle)):b.multiply(X,R.labelPlaneMatrix,P),X}function Ae(P,f,C,R,H){if(f){const X=b.clone$1(P);return b.scale$1(X,X,[H,H,1]),C||b.rotateZ(X,X,-R.angle),X}return R.glCoordMatrix}function Re(P,f,C=0){const R=[P.x,P.y,C,1];C?b.transformMat4(R,R,f):dn(R,R,f);const H=R[3];return{point:new b.pointGeometry(R[0]/H,R[1]/H),signedDistanceFromCamera:H}}function je(P,f){return Math.min(.5+P/f*.5,1.5)}function it(P,f){const C=P[0]/P[3],R=P[1]/P[3];return C>=-f[0]&&C<=f[0]&&R>=-f[1]&&R<=f[1]}function _t(P,f,C,R,H,X,ae,fe,ve){const _e=R?P.textSizeData:P.iconSizeData,ze=b.evaluateSizeForZoom(_e,C.transform.zoom),Ge=[256/C.width*2+1,256/C.height*2+1],We=R?P.text.dynamicLayoutVertexArray:P.icon.dynamicLayoutVertexArray;We.clear();const Xe=P.lineVertexArray,dt=R?P.text.placedSymbolArray:P.icon.placedSymbolArray,yt=C.transform.width/C.transform.height;let Ot=!1;for(let ot=0;ot<dt.length;ot++){const vt=dt.get(ot);if(vt.writingMode!==b.WritingMode.vertical||Ot||0!==ot&&dt.get(ot-1).writingMode===b.WritingMode.horizontal||(Ot=!0),vt.hidden||vt.writingMode===b.WritingMode.vertical&&!Ot){Gt(vt.numGlyphs,We);continue}Ot=!1;const wt=ve?ve({x:vt.anchorX,y:vt.anchorY}):0,Bt=[vt.anchorX,vt.anchorY,wt,1];if(b.transformMat4(Bt,Bt,f),!it(Bt,Ge)){Gt(vt.numGlyphs,We);continue}const Ct=je(C.transform.cameraToCenterDistance,Bt[3]),kt=b.evaluateSizeForFeature(_e,ze,vt),wn=ae?kt/Ct:kt*Ct,Tn=new b.pointGeometry(vt.anchorX,vt.anchorY),Ln=Re(Tn,H,wt);if(Ln.signedDistanceFromCamera<=0){Gt(vt.numGlyphs,We);continue}const Dt=Ln.point;let ti={};const On=ae?null:ve,ci=Oe(vt,wn,!1,fe,f,H,X,P.glyphOffsetArray,Xe,We,Dt,Tn,ti,yt,On);Ot=ci.useVertical,On&&ci.needsFlipping&&(ti={}),(ci.notEnoughRoom||Ot||ci.needsFlipping&&Oe(vt,wn,!0,fe,f,H,X,P.glyphOffsetArray,Xe,We,Dt,Tn,ti,yt,On).notEnoughRoom)&&Gt(vt.numGlyphs,We)}R?P.text.dynamicLayoutVertexBuffer.updateData(We):P.icon.dynamicLayoutVertexBuffer.updateData(We)}function $(P,f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We){const Xe=fe.glyphStartIndex+fe.numGlyphs,dt=fe.lineStartIndex,yt=fe.lineStartIndex+fe.lineLength,Ot=f.getoffsetX(fe.glyphStartIndex),ot=f.getoffsetX(Xe-1),vt=ft(P*Ot,C,R,H,X,ae,fe.segment,dt,yt,ve,_e,ze,Ge,We,!0);if(!vt)return null;const wt=ft(P*ot,C,R,H,X,ae,fe.segment,dt,yt,ve,_e,ze,Ge,We,!0);return wt?{first:vt,last:wt}:null}function ue(P,f,C,R){return P.writingMode===b.WritingMode.horizontal&&Math.abs(C.y-f.y)>Math.abs(C.x-f.x)*R?{useVertical:!0}:P.writingMode===b.WritingMode.vertical?f.y<C.y?{needsFlipping:!0}:null:0!==P.flipState&&function(H,X,ae){const fe=(X.x-H.x)*ae;return 0===fe||Math.abs((X.y-H.y)/fe)>me}(f,C,R)?1===P.flipState?{needsFlipping:!0}:null:f.x>C.x?{needsFlipping:!0}:null}function Oe(P,f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We,Xe,dt){const yt=f/24,Ot=P.lineOffsetX*yt,ot=P.lineOffsetY*yt;let vt;if(P.numGlyphs>1){const wt=P.glyphStartIndex+P.numGlyphs,Bt=P.lineStartIndex,Ct=P.lineStartIndex+P.lineLength,kt=$(yt,fe,Ot,ot,C,ze,Ge,P,ve,X,We,dt);if(!kt)return{notEnoughRoom:!0};const wn=Re(kt.first.point,ae).point,Tn=Re(kt.last.point,ae).point;if(R&&!C){const Ln=ue(P,wn,Tn,Xe);if(P.flipState=Ln&&Ln.needsFlipping?1:2,Ln)return Ln}vt=[kt.first];for(let Ln=P.glyphStartIndex+1;Ln<wt-1;Ln++)vt.push(ft(yt*fe.getoffsetX(Ln),Ot,ot,C,ze,Ge,P.segment,Bt,Ct,ve,X,We,dt));vt.push(kt.last)}else{if(R&&!C){const Bt=Re(Ge,H).point,Ct=P.lineStartIndex+P.segment+1,kt=new b.pointGeometry(ve.getx(Ct),ve.gety(Ct)),wn=Re(kt,H),Tn=ue(P,Bt,wn.signedDistanceFromCamera>0?wn.point:$e(Ge,kt,Bt,1,H),Xe);if(P.flipState=Tn&&Tn.needsFlipping?1:2,Tn)return Tn}const wt=ft(yt*fe.getoffsetX(P.glyphStartIndex),Ot,ot,C,ze,Ge,P.segment,P.lineStartIndex,P.lineStartIndex+P.lineLength,ve,X,We,dt);if(!wt)return{notEnoughRoom:!0};vt=[wt]}for(const wt of vt)b.addDynamicAttributes(_e,wt.point,wt.angle);return{}}function $e(P,f,C,R,H,X){const ae=P.add(P.sub(f)._unit()),fe=Re(ae,H,X?X(ae):0).point,ve=C.sub(fe);return C.add(ve._mult(R/ve.mag()))}function ft(P,f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We,Xe,dt){const yt=R?P-f:P+f;let Ot=yt>0?1:-1,ot=0;R&&(Ot*=-1,ot=Math.PI),Ot<0&&(ot+=Math.PI);let vt=Ot>0?fe+ae:fe+ae+1,wt=H,Bt=H,Ct=0,kt=0;const wn=Math.abs(yt),Tn=[],Ln=[];let Dt=X;const ti=()=>{const Si=vt-Ot;return 0===Ct?X:new b.pointGeometry(_e.getx(Si),_e.gety(Si))},On=()=>$e(ti(),Dt,Bt,wn-Ct+1,ze,We);for(;Ct+kt<=wn;){if(vt+=Ot,vt<fe||vt>=ve)return null;if(Bt=wt,Tn.push(wt),Xe&&Ln.push(Dt||ti()),wt=Ge[vt],void 0===wt){Dt=new b.pointGeometry(_e.getx(vt),_e.gety(vt));const Si=Re(Dt,ze,We?We(Dt):0);wt=Si.signedDistanceFromCamera>0?Ge[vt]=Si.point:On()}else Dt=null;Ct+=kt,kt=Bt.dist(wt)}dt&&We&&(Dt=Dt||new b.pointGeometry(_e.getx(vt),_e.gety(vt)),Ge[vt]=wt=void 0===Ge[vt]?wt:On(),kt=Bt.dist(wt));const ci=(wn-Ct)/kt,Qn=wt.sub(Bt),Wn=Qn.mult(ci)._add(Bt);C&&Wn._add(Qn._unit()._perp()._mult(C*Ot));const ur=ot+Math.atan2(wt.y-Bt.y,wt.x-Bt.x);return Tn.push(Wn),Xe&&(Dt=Dt||new b.pointGeometry(_e.getx(vt),_e.gety(vt)),Ln.push(function(Si,jr,os){const ps=1-os;return new b.pointGeometry(Si.x*ps+jr.x*os,Si.y*ps+jr.y*os)}(Ln.length>0?Ln[Ln.length-1]:Dt,Dt,ci))),{point:Wn,angle:ur,path:Tn,tilePath:Ln}}const sn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Gt(P,f){for(let C=0;C<P;C++){const R=f.length;f.resize(R+4),f.float32.set(sn,3*R)}}function dn(P,f,C){const R=f[0],H=f[1];return P[0]=C[0]*R+C[4]*H+C[12],P[1]=C[1]*R+C[5]*H+C[13],P[3]=C[3]*R+C[7]*H+C[15],P}const Nn=100;class Pn{constructor(f,C,R=new se(f.width+200,f.height+200,25),H=new se(f.width+200,f.height+200,25)){this.transform=f,this.grid=R,this.ignoredGrid=H,this.pitchfactor=Math.cos(f._pitch)*f.cameraToCenterDistance,this.screenRightBoundary=f.width+Nn,this.screenBottomBoundary=f.height+Nn,this.gridRightBoundary=f.width+200,this.gridBottomBoundary=f.height+200,this.fogState=C}placeCollisionBox(f,C,R,H,X,ae,fe){const ve=this.projectAndGetPerspectiveRatio(ae,C.anchorPointX,C.anchorPointY,C.elevation,C.tileID),_e=X*ve.perspectiveRatio,ze=(C.x1*f+R.x-C.padding)*_e+ve.point.x,Ge=(C.y1*f+R.y-C.padding)*_e+ve.point.y,We=(C.x2*f+R.x+C.padding)*_e+ve.point.x,Xe=(C.y2*f+R.y+C.padding)*_e+ve.point.y,dt=ve.perspectiveRatio<=.55||ve.aboveHorizon;return!this.isInsideGrid(ze,Ge,We,Xe)||!H&&this.grid.hitTest(ze,Ge,We,Xe,fe)||dt?{box:[],offscreen:!1}:{box:[ze,Ge,We,Xe],offscreen:this.isOffscreen(ze,Ge,We,Xe)}}placeCollisionCircles(f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We,Xe,dt){const yt=[],Ot=this.transform.elevation,ot=Ot?On=>Ot.getAtTileOffset(dt,On.x,On.y):On=>0,vt=new b.pointGeometry(C.anchorX,C.anchorY),wt=ot(vt),Bt=this.projectAndGetPerspectiveRatio(ae,vt.x,vt.y,wt,dt),{perspectiveRatio:Ct}=Bt,kt=(ze?X/Ct:X*Ct)/b.ONE_EM,wn=Re(vt,fe,wt).point,Tn=Bt.signedDistanceFromCamera>0?$(kt,H,C.lineOffsetX*kt,C.lineOffsetY*kt,!1,wn,vt,C,R,fe,{},Ot&&!ze?ot:null,ze&&!!Ot):null;let Ln=!1,Dt=!1,ti=!0;if(Tn&&!Bt.aboveHorizon){const On=.5*We*Ct+Xe,ci=new b.pointGeometry(-100,-100),Qn=new b.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Wn=new le,ur=Tn.first,Si=Tn.last;let jr=[];for(let _r=ur.path.length-1;_r>=1;_r--)jr.push(ur.path[_r]);for(let _r=1;_r<Si.path.length;_r++)jr.push(Si.path[_r]);const os=2.5*On;if(ve){const _r=jr.map(Ot?(xs,Xs)=>{const Al=ot(Xs<ur.path.length-1?ur.tilePath[ur.path.length-1-Xs]:Si.tilePath[Xs-ur.path.length+2]);return Re(xs,ve,Al)}:xs=>Re(xs,ve));jr=_r.some(xs=>xs.signedDistanceFromCamera<=0)?[]:_r.map(xs=>xs.point)}let ps=[];if(jr.length>0){const _r=jr[0].clone(),xs=jr[0].clone();for(let Xs=1;Xs<jr.length;Xs++)_r.x=Math.min(_r.x,jr[Xs].x),_r.y=Math.min(_r.y,jr[Xs].y),xs.x=Math.max(xs.x,jr[Xs].x),xs.y=Math.max(xs.y,jr[Xs].y);ps=_r.x>=ci.x&&xs.x<=Qn.x&&_r.y>=ci.y&&xs.y<=Qn.y?[jr]:xs.x<ci.x||_r.x>Qn.x||xs.y<ci.y||_r.y>Qn.y?[]:b.clipLine([jr],ci.x,ci.y,Qn.x,Qn.y)}for(const _r of ps){Wn.reset(_r,.25*On);let xs=0;xs=Wn.length<=.5*On?1:Math.ceil(Wn.paddedLength/os)+1;for(let Xs=0;Xs<xs;Xs++){const Al=Xs/Math.max(xs-1,1),Aa=Wn.lerp(Al),ds=Aa.x+Nn,Vo=Aa.y+Nn;yt.push(ds,Vo,On,0);const hl=ds-On,Ri=Vo-On,Ns=ds+On,Gr=Vo+On;if(ti=ti&&this.isOffscreen(hl,Ri,Ns,Gr),Dt=Dt||this.isInsideGrid(hl,Ri,Ns,Gr),!f&&this.grid.hitTestCircle(ds,Vo,On,Ge)&&(Ln=!0,!_e))return{circles:[],offscreen:!1,collisionDetected:Ln}}}}return{circles:!_e&&Ln||!Dt?[]:yt,offscreen:ti,collisionDetected:Ln}}queryRenderedSymbols(f){if(0===f.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const C=[];let R=1/0,H=1/0,X=-1/0,ae=-1/0;for(const ze of f){const Ge=new b.pointGeometry(ze.x+Nn,ze.y+Nn);R=Math.min(R,Ge.x),H=Math.min(H,Ge.y),X=Math.max(X,Ge.x),ae=Math.max(ae,Ge.y),C.push(Ge)}const fe=this.grid.query(R,H,X,ae).concat(this.ignoredGrid.query(R,H,X,ae)),ve={},_e={};for(const ze of fe){const Ge=ze.key;if(void 0===ve[Ge.bucketInstanceId]&&(ve[Ge.bucketInstanceId]={}),ve[Ge.bucketInstanceId][Ge.featureIndex])continue;const We=[new b.pointGeometry(ze.x1,ze.y1),new b.pointGeometry(ze.x2,ze.y1),new b.pointGeometry(ze.x2,ze.y2),new b.pointGeometry(ze.x1,ze.y2)];b.polygonIntersectsPolygon(C,We)&&(ve[Ge.bucketInstanceId][Ge.featureIndex]=!0,void 0===_e[Ge.bucketInstanceId]&&(_e[Ge.bucketInstanceId]=[]),_e[Ge.bucketInstanceId].push(Ge.featureIndex))}return _e}insertCollisionBox(f,C,R,H,X){(C?this.ignoredGrid:this.grid).insert({bucketInstanceId:R,featureIndex:H,collisionGroupID:X},f[0],f[1],f[2],f[3])}insertCollisionCircles(f,C,R,H,X){const ae=C?this.ignoredGrid:this.grid,fe={bucketInstanceId:R,featureIndex:H,collisionGroupID:X};for(let ve=0;ve<f.length;ve+=4)ae.insertCircle(fe,f[ve],f[ve+1],f[ve+2])}projectAndGetPerspectiveRatio(f,C,R,H,X){const ae=[C,R,H||0,1];let fe=!1;if(H||this.transform.pitch>0){b.transformMat4(ae,ae,f);let ve=!1;this.fogState&&X&&(ve=function(_e,ze,Ge,We,Xe,dt){const yt=dt.calculateFogTileMatrix(Xe),Ot=[ze,Ge,We];return b.transformMat4$1(Ot,Ot,yt),_n(_e,Ot,dt.pitch,dt._fov)}(this.fogState,C,R,H||0,X.toUnwrapped(),this.transform)>.9),fe=ae[2]>ae[3]||ve}else dn(ae,ae,f);return{point:new b.pointGeometry((ae[0]/ae[3]+1)/2*this.transform.width+Nn,(-ae[1]/ae[3]+1)/2*this.transform.height+Nn),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/ae[3]*.5,1.5),signedDistanceFromCamera:ae[3],aboveHorizon:fe}}isOffscreen(f,C,R,H){return R<Nn||f>=this.screenRightBoundary||H<Nn||C>this.screenBottomBoundary}isInsideGrid(f,C,R,H){return R>=0&&f<this.gridRightBoundary&&H>=0&&C<this.gridBottomBoundary}getViewportMatrix(){const f=b.identity([]);return b.translate(f,f,[-100,-100,0]),f}}class wi{constructor(f,C,R,H){this.opacity=f?Math.max(0,Math.min(1,f.opacity+(f.placed?C:-C))):H&&R?1:0,this.placed=R}isHidden(){return 0===this.opacity&&!this.placed}}class lr{constructor(f,C,R,H,X){this.text=new wi(f?f.text:null,C,R,X),this.icon=new wi(f?f.icon:null,C,H,X)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class fi{constructor(f,C,R){this.text=f,this.icon=C,this.skipFade=R}}class Oi{constructor(){this.invProjMatrix=b.create$1(),this.viewportMatrix=b.create$1(),this.circles=[]}}class Tr{constructor(f,C,R,H,X){this.bucketInstanceId=f,this.featureIndex=C,this.sourceLayerIndex=R,this.bucketIndex=H,this.tileID=X}}class $s{constructor(f){this.crossSourceCollisions=f,this.maxGroupID=0,this.collisionGroups={}}get(f){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[f]){const C=++this.maxGroupID;this.collisionGroups[f]={ID:C,predicate:R=>R.collisionGroupID===C}}return this.collisionGroups[f]}}function _s(P,f,C,R,H){const{horizontalAlign:X,verticalAlign:ae}=b.getAnchorAlignment(P),fe=-(X-.5)*f,ve=-(ae-.5)*C,_e=b.evaluateVariableOffset(P,R);return new b.pointGeometry(fe+_e[0]*H,ve+_e[1]*H)}function Zi(P,f,C,R,H){const X=new b.pointGeometry(P,f);return C&&X._rotate(R?H:-H),X}class Jr{constructor(f,C,R,H,X){this.transform=f.clone(),this.collisionIndex=new Pn(this.transform,X),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=C,this.retainedQueryData={},this.collisionGroups=new $s(R),this.collisionCircleArrays={},this.prevPlacement=H,H&&(H.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(f,C,R,H){const X=R.getBucket(C),ae=R.latestFeatureIndex;if(!X||!ae||C.id!==X.layerIds[0])return;const fe=R.collisionBoxArray,ve=X.layers[0].layout,_e=Math.pow(2,this.transform.zoom-R.tileID.overscaledZ),ze=R.tileSize/b.EXTENT,Ge=this.transform.calculateProjMatrix(R.tileID.toUnwrapped()),We="map"===ve.get("text-pitch-alignment"),Xe="map"===ve.get("text-rotation-alignment"),dt=ni(R,1,this.transform.zoom),yt=Ee(Ge,We,Xe,this.transform,dt);let Ot=null;if(We){const vt=Ae(Ge,We,Xe,this.transform,dt);Ot=b.multiply([],this.transform.labelPlaneMatrix,vt)}this.retainedQueryData[X.bucketInstanceId]=new Tr(X.bucketInstanceId,ae,X.sourceLayerIndex,X.index,R.tileID);const ot={bucket:X,layout:ve,posMatrix:Ge,textLabelPlaneMatrix:yt,labelToScreenMatrix:Ot,scale:_e,textPixelRatio:ze,holdingForFade:R.holdingForFade(),collisionBoxArray:fe,partiallyEvaluatedTextSize:b.evaluateSizeForZoom(X.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:b.evaluateSizeForZoom(X.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(X.sourceID)};if(H)for(const vt of X.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:Bt,symbolInstanceEnd:Ct}=vt;f.push({sortKey:wt,symbolInstanceStart:Bt,symbolInstanceEnd:Ct,parameters:ot})}else f.push({symbolInstanceStart:0,symbolInstanceEnd:X.symbolInstances.length,parameters:ot})}attemptAnchorPlacement(f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We,Xe,dt,yt,Ot,ot,vt){const wt=[We.textOffset0,We.textOffset1],Bt=_s(f,R,H,wt,X),Ct=this.collisionIndex.placeCollisionBox(X,C,Zi(Bt.x,Bt.y,ae,fe,this.transform.angle),Ge,ve,_e,ze.predicate);if((!Ot||0!==this.collisionIndex.placeCollisionBox(dt.getSymbolInstanceIconSize(vt,this.transform.zoom,Xe),Ot,Zi(Bt.x,Bt.y,ae,fe,this.transform.angle),Ge,ve,_e,ze.predicate).box.length)&&Ct.box.length>0){let kt;return this.prevPlacement&&this.prevPlacement.variableOffsets[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID].text&&(kt=this.prevPlacement.variableOffsets[We.crossTileID].anchor),this.variableOffsets[We.crossTileID]={textOffset:wt,width:R,height:H,anchor:f,textScale:X,prevAnchor:kt},this.markUsedJustification(dt,f,We,yt),dt.allowVerticalPlacement&&(this.markUsedOrientation(dt,yt,We),this.placedOrientations[We.crossTileID]=yt),{shift:Bt,placedGlyphBoxes:Ct}}}placeLayerBucketPart(f,C,R){const{bucket:H,layout:X,posMatrix:ae,textLabelPlaneMatrix:fe,labelToScreenMatrix:ve,textPixelRatio:_e,holdingForFade:ze,collisionBoxArray:Ge,partiallyEvaluatedTextSize:We,partiallyEvaluatedIconSize:Xe,collisionGroup:dt}=f.parameters,yt=X.get("text-optional"),Ot=X.get("icon-optional"),ot=X.get("text-allow-overlap"),vt=X.get("icon-allow-overlap"),wt="map"===X.get("text-rotation-alignment"),Bt="map"===X.get("text-pitch-alignment"),Ct="none"!==X.get("icon-text-fit"),kt="viewport-y"===X.get("symbol-z-order"),wn=ot&&(vt||!H.hasIconData()||Ot),Tn=vt&&(ot||!H.hasTextData()||yt);!H.collisionArrays&&Ge&&H.deserializeCollisionBoxes(Ge),R&&H.updateCollisionDebugBuffers(this.transform.zoom,Ge);const Ln=(Dt,ti,On)=>{if(C[Dt.crossTileID])return;if(ze)return void(this.placements[Dt.crossTileID]=new fi(!1,!1,!1));let ci=!1,Qn=!1,Wn=!0,ur=null,Si={box:null,offscreen:null},jr={box:null,offscreen:null},os=null,ps=null,_r=null,xs=0,Xs=0,Al=0;On.textFeatureIndex?xs=On.textFeatureIndex:Dt.useRuntimeCollisionCircles&&(xs=Dt.featureIndex),On.verticalTextFeatureIndex&&(Xs=On.verticalTextFeatureIndex);const Aa=Ri=>{Ri.tileID=this.retainedQueryData[H.bucketInstanceId].tileID,(this.transform.elevation||Ri.elevation)&&(Ri.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[H.bucketInstanceId].tileID,Ri.anchorPointX,Ri.anchorPointY):0)},ds=On.textBox;if(ds){Aa(ds);const Ri=Gr=>{let Ts=b.WritingMode.horizontal;if(H.allowVerticalPlacement&&!Gr&&this.prevPlacement){const io=this.prevPlacement.placedOrientations[Dt.crossTileID];io&&(this.placedOrientations[Dt.crossTileID]=io,Ts=io,this.markUsedOrientation(H,Ts,Dt))}return Ts},Ns=(Gr,Ts)=>{if(H.allowVerticalPlacement&&Dt.numVerticalGlyphVertices>0&&On.verticalTextBox){for(const io of H.writingModes)if(io===b.WritingMode.vertical?(Si=Ts(),jr=Si):Si=Gr(),Si&&Si.box&&Si.box.length)break}else Si=Gr()};if(X.get("text-variable-anchor")){let Gr=X.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Dt.crossTileID]){const Nr=this.prevPlacement.variableOffsets[Dt.crossTileID];Gr.indexOf(Nr.anchor)>0&&(Gr=Gr.filter(Qa=>Qa!==Nr.anchor),Gr.unshift(Nr.anchor))}const Ts=(Nr,Qa,Ja)=>{const pl=H.getSymbolInstanceTextSize(We,Dt,this.transform.zoom,ti),Do=(Nr.x2-Nr.x1)*pl+2*Nr.padding,Ia=(Nr.y2-Nr.y1)*pl+2*Nr.padding,Yu=Ct&&!vt?Qa:null;Yu&&Aa(Yu);let ba={box:[],offscreen:!1};const bo=ot?2*Gr.length:Gr.length;for(let jc=0;jc<bo;++jc){const hu=this.attemptAnchorPlacement(Gr[jc%Gr.length],Nr,Do,Ia,pl,wt,Bt,_e,ae,dt,jc>=Gr.length,Dt,ti,H,Ja,Yu,We,Xe);if(hu&&(ba=hu.placedGlyphBoxes,ba&&ba.box&&ba.box.length)){ci=!0,ur=hu.shift;break}}return ba};Ns(()=>Ts(ds,On.iconBox,b.WritingMode.horizontal),()=>{const Nr=On.verticalTextBox;return Nr&&Aa(Nr),H.allowVerticalPlacement&&!(Si&&Si.box&&Si.box.length)&&Dt.numVerticalGlyphVertices>0&&Nr?Ts(Nr,On.verticalIconBox,b.WritingMode.vertical):{box:null,offscreen:null}}),Si&&(ci=Si.box,Wn=Si.offscreen);const io=Ri(Si&&Si.box);if(!ci&&this.prevPlacement){const Nr=this.prevPlacement.variableOffsets[Dt.crossTileID];Nr&&(this.variableOffsets[Dt.crossTileID]=Nr,this.markUsedJustification(H,Nr.anchor,Dt,io))}}else{const Gr=(Ts,io)=>{const Nr=H.getSymbolInstanceTextSize(We,Dt,this.transform.zoom,ti),Qa=this.collisionIndex.placeCollisionBox(Nr,Ts,new b.pointGeometry(0,0),ot,_e,ae,dt.predicate);return Qa&&Qa.box&&Qa.box.length&&(this.markUsedOrientation(H,io,Dt),this.placedOrientations[Dt.crossTileID]=io),Qa};Ns(()=>Gr(ds,b.WritingMode.horizontal),()=>{const Ts=On.verticalTextBox;return H.allowVerticalPlacement&&Dt.numVerticalGlyphVertices>0&&Ts?(Aa(Ts),Gr(Ts,b.WritingMode.vertical)):{box:null,offscreen:null}}),Ri(Si&&Si.box&&Si.box.length)}}if(os=Si,ci=os&&os.box&&os.box.length>0,Wn=os&&os.offscreen,Dt.useRuntimeCollisionCircles){const Ri=H.text.placedSymbolArray.get(Dt.centerJustifiedTextSymbolIndex>=0?Dt.centerJustifiedTextSymbolIndex:Dt.verticalPlacedTextSymbolIndex),Ns=b.evaluateSizeForFeature(H.textSizeData,We,Ri),Gr=X.get("text-padding");ps=this.collisionIndex.placeCollisionCircles(ot,Ri,H.lineVertexArray,H.glyphOffsetArray,Ns,ae,fe,ve,R,Bt,dt.predicate,Dt.collisionCircleDiameter,Gr,this.retainedQueryData[H.bucketInstanceId].tileID),ci=ot||ps.circles.length>0&&!ps.collisionDetected,Wn=Wn&&ps.offscreen}if(On.iconFeatureIndex&&(Al=On.iconFeatureIndex),On.iconBox){const Ri=Ns=>{Aa(Ns);const Gr=Ct&&ur?Zi(ur.x,ur.y,wt,Bt,this.transform.angle):new b.pointGeometry(0,0),Ts=H.getSymbolInstanceIconSize(Xe,this.transform.zoom,ti);return this.collisionIndex.placeCollisionBox(Ts,Ns,Gr,vt,_e,ae,dt.predicate)};jr&&jr.box&&jr.box.length&&On.verticalIconBox?(_r=Ri(On.verticalIconBox),Qn=_r.box.length>0):(_r=Ri(On.iconBox),Qn=_r.box.length>0),Wn=Wn&&_r.offscreen}const Vo=yt||0===Dt.numHorizontalGlyphVertices&&0===Dt.numVerticalGlyphVertices,hl=Ot||0===Dt.numIconVertices;if(Vo||hl?hl?Vo||(Qn=Qn&&ci):ci=Qn&&ci:Qn=ci=Qn&&ci,ci&&os&&os.box&&this.collisionIndex.insertCollisionBox(os.box,X.get("text-ignore-placement"),H.bucketInstanceId,jr&&jr.box&&Xs?Xs:xs,dt.ID),Qn&&_r&&this.collisionIndex.insertCollisionBox(_r.box,X.get("icon-ignore-placement"),H.bucketInstanceId,Al,dt.ID),ps&&(ci&&this.collisionIndex.insertCollisionCircles(ps.circles,X.get("text-ignore-placement"),H.bucketInstanceId,xs,dt.ID),R)){const Ri=H.bucketInstanceId;let Ns=this.collisionCircleArrays[Ri];void 0===Ns&&(Ns=this.collisionCircleArrays[Ri]=new Oi);for(let Gr=0;Gr<ps.circles.length;Gr+=4)Ns.circles.push(ps.circles[Gr+0]),Ns.circles.push(ps.circles[Gr+1]),Ns.circles.push(ps.circles[Gr+2]),Ns.circles.push(ps.collisionDetected?1:0)}this.placements[Dt.crossTileID]=new fi(ci||wn,Qn||Tn,Wn||H.justReloaded),C[Dt.crossTileID]=!0};if(kt){const Dt=H.getSortedSymbolIndexes(this.transform.angle);for(let ti=Dt.length-1;ti>=0;--ti){const On=Dt[ti];Ln(H.symbolInstances.get(On),On,H.collisionArrays[On])}}else for(let Dt=f.symbolInstanceStart;Dt<f.symbolInstanceEnd;Dt++)Ln(H.symbolInstances.get(Dt),Dt,H.collisionArrays[Dt]);if(R&&H.bucketInstanceId in this.collisionCircleArrays){const Dt=this.collisionCircleArrays[H.bucketInstanceId];b.invert(Dt.invProjMatrix,ae),Dt.viewportMatrix=this.collisionIndex.getViewportMatrix()}H.justReloaded=!1}markUsedJustification(f,C,R,H){let X;X=H===b.WritingMode.vertical?R.verticalPlacedTextSymbolIndex:{left:R.leftJustifiedTextSymbolIndex,center:R.centerJustifiedTextSymbolIndex,right:R.rightJustifiedTextSymbolIndex}[b.getAnchorJustification(C)];const ae=[R.leftJustifiedTextSymbolIndex,R.centerJustifiedTextSymbolIndex,R.rightJustifiedTextSymbolIndex,R.verticalPlacedTextSymbolIndex];for(const fe of ae)fe>=0&&(f.text.placedSymbolArray.get(fe).crossTileID=X>=0&&fe!==X?0:R.crossTileID)}markUsedOrientation(f,C,R){const H=C===b.WritingMode.horizontal||C===b.WritingMode.horizontalOnly?C:0,X=C===b.WritingMode.vertical?C:0,ae=[R.leftJustifiedTextSymbolIndex,R.centerJustifiedTextSymbolIndex,R.rightJustifiedTextSymbolIndex];for(const fe of ae)f.text.placedSymbolArray.get(fe).placedOrientation=H;R.verticalPlacedTextSymbolIndex&&(f.text.placedSymbolArray.get(R.verticalPlacedTextSymbolIndex).placedOrientation=X)}commit(f){this.commitTime=f,this.zoomAtLastRecencyCheck=this.transform.zoom;const C=this.prevPlacement;let R=!1;this.prevZoomAdjustment=C?C.zoomAdjustment(this.transform.zoom):0;const H=C?C.symbolFadeChange(f):1,X=C?C.opacities:{},ae=C?C.variableOffsets:{},fe=C?C.placedOrientations:{};for(const ve in this.placements){const _e=this.placements[ve],ze=X[ve];ze?(this.opacities[ve]=new lr(ze,H,_e.text,_e.icon),R=R||_e.text!==ze.text.placed||_e.icon!==ze.icon.placed):(this.opacities[ve]=new lr(null,H,_e.text,_e.icon,_e.skipFade),R=R||_e.text||_e.icon)}for(const ve in X){const _e=X[ve];if(!this.opacities[ve]){const ze=new lr(_e,H,!1,!1);ze.isHidden()||(this.opacities[ve]=ze,R=R||_e.text.placed||_e.icon.placed)}}for(const ve in ae)this.variableOffsets[ve]||!this.opacities[ve]||this.opacities[ve].isHidden()||(this.variableOffsets[ve]=ae[ve]);for(const ve in fe)this.placedOrientations[ve]||!this.opacities[ve]||this.opacities[ve].isHidden()||(this.placedOrientations[ve]=fe[ve]);R?this.lastPlacementChangeTime=f:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=C?C.lastPlacementChangeTime:f)}updateLayerOpacities(f,C){const R={};for(const H of C){const X=H.getBucket(f);X&&H.latestFeatureIndex&&f.id===X.layerIds[0]&&this.updateBucketOpacities(X,R,H.collisionBoxArray)}}updateBucketOpacities(f,C,R){f.hasTextData()&&f.text.opacityVertexArray.clear(),f.hasIconData()&&f.icon.opacityVertexArray.clear(),f.hasIconCollisionBoxData()&&f.iconCollisionBox.collisionVertexArray.clear(),f.hasTextCollisionBoxData()&&f.textCollisionBox.collisionVertexArray.clear();const H=f.layers[0].layout,X=new lr(null,0,!1,!1,!0),ae=H.get("text-allow-overlap"),fe=H.get("icon-allow-overlap"),ve=H.get("text-variable-anchor"),_e="map"===H.get("text-rotation-alignment"),ze="map"===H.get("text-pitch-alignment"),Ge="none"!==H.get("icon-text-fit"),We=new lr(null,0,ae&&(fe||!f.hasIconData()||H.get("icon-optional")),fe&&(ae||!f.hasTextData()||H.get("text-optional")),!0);!f.collisionArrays&&R&&(f.hasIconCollisionBoxData()||f.hasTextCollisionBoxData())&&f.deserializeCollisionBoxes(R);const Xe=(dt,yt,Ot)=>{for(let ot=0;ot<yt/4;ot++)dt.opacityVertexArray.emplaceBack(Ot)};for(let dt=0;dt<f.symbolInstances.length;dt++){const yt=f.symbolInstances.get(dt),{numHorizontalGlyphVertices:Ot,numVerticalGlyphVertices:ot,crossTileID:vt}=yt;let wt=this.opacities[vt];C[vt]?wt=X:wt||(wt=We,this.opacities[vt]=wt),C[vt]=!0;const Bt=yt.numIconVertices>0,Ct=this.placedOrientations[yt.crossTileID],kt=Ct===b.WritingMode.vertical,wn=Ct===b.WritingMode.horizontal||Ct===b.WritingMode.horizontalOnly;if(Ot>0||ot>0){const Tn=Rd(wt.text);Xe(f.text,Ot,kt?cl:Tn),Xe(f.text,ot,wn?cl:Tn);const Ln=wt.text.isHidden();[yt.rightJustifiedTextSymbolIndex,yt.centerJustifiedTextSymbolIndex,yt.leftJustifiedTextSymbolIndex].forEach(On=>{On>=0&&(f.text.placedSymbolArray.get(On).hidden=Ln||kt?1:0)}),yt.verticalPlacedTextSymbolIndex>=0&&(f.text.placedSymbolArray.get(yt.verticalPlacedTextSymbolIndex).hidden=Ln||wn?1:0);const Dt=this.variableOffsets[yt.crossTileID];Dt&&this.markUsedJustification(f,Dt.anchor,yt,Ct);const ti=this.placedOrientations[yt.crossTileID];ti&&(this.markUsedJustification(f,"left",yt,ti),this.markUsedOrientation(f,ti,yt))}if(Bt){const Tn=Rd(wt.icon);yt.placedIconSymbolIndex>=0&&(Xe(f.icon,yt.numIconVertices,kt?cl:Tn),f.icon.placedSymbolArray.get(yt.placedIconSymbolIndex).hidden=wt.icon.isHidden()),yt.verticalPlacedIconSymbolIndex>=0&&(Xe(f.icon,yt.numVerticalIconVertices,wn?cl:Tn),f.icon.placedSymbolArray.get(yt.verticalPlacedIconSymbolIndex).hidden=wt.icon.isHidden())}if(f.hasIconCollisionBoxData()||f.hasTextCollisionBoxData()){const Tn=f.collisionArrays[dt];if(Tn){let Ln=new b.pointGeometry(0,0);if(Tn.textBox||Tn.verticalTextBox){let ti=!0;if(ve){const On=this.variableOffsets[vt];On?(Ln=_s(On.anchor,On.width,On.height,On.textOffset,On.textScale),_e&&Ln._rotate(ze?this.transform.angle:-this.transform.angle)):ti=!1}Tn.textBox&&ys(f.textCollisionBox.collisionVertexArray,wt.text.placed,!ti||kt,Ln.x,Ln.y),Tn.verticalTextBox&&ys(f.textCollisionBox.collisionVertexArray,wt.text.placed,!ti||wn,Ln.x,Ln.y)}const Dt=Boolean(!wn&&Tn.verticalIconBox);Tn.iconBox&&ys(f.iconCollisionBox.collisionVertexArray,wt.icon.placed,Dt,Ge?Ln.x:0,Ge?Ln.y:0),Tn.verticalIconBox&&ys(f.iconCollisionBox.collisionVertexArray,wt.icon.placed,!Dt,Ge?Ln.x:0,Ge?Ln.y:0)}}}if(f.sortFeatures(this.transform.angle),this.retainedQueryData[f.bucketInstanceId]&&(this.retainedQueryData[f.bucketInstanceId].featureSortOrder=f.featureSortOrder),f.hasTextData()&&f.text.opacityVertexBuffer&&f.text.opacityVertexBuffer.updateData(f.text.opacityVertexArray),f.hasIconData()&&f.icon.opacityVertexBuffer&&f.icon.opacityVertexBuffer.updateData(f.icon.opacityVertexArray),f.hasIconCollisionBoxData()&&f.iconCollisionBox.collisionVertexBuffer&&f.iconCollisionBox.collisionVertexBuffer.updateData(f.iconCollisionBox.collisionVertexArray),f.hasTextCollisionBoxData()&&f.textCollisionBox.collisionVertexBuffer&&f.textCollisionBox.collisionVertexBuffer.updateData(f.textCollisionBox.collisionVertexArray),f.bucketInstanceId in this.collisionCircleArrays){const dt=this.collisionCircleArrays[f.bucketInstanceId];f.placementInvProjMatrix=dt.invProjMatrix,f.placementViewportMatrix=dt.viewportMatrix,f.collisionCircleArray=dt.circles,delete this.collisionCircleArrays[f.bucketInstanceId]}}symbolFadeChange(f){return 0===this.fadeDuration?1:(f-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(f){return Math.max(0,(this.transform.zoom-f)/1.5)}hasTransitions(f){return this.stale||f-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(f,C){const R=this.zoomAtLastRecencyCheck===C?1-this.zoomAdjustment(C):1;return this.zoomAtLastRecencyCheck=C,this.commitTime+this.fadeDuration*R>f}setStale(){this.stale=!0}}function ys(P,f,C,R,H){P.emplaceBack(f?1:0,C?1:0,R||0,H||0),P.emplaceBack(f?1:0,C?1:0,R||0,H||0),P.emplaceBack(f?1:0,C?1:0,R||0,H||0),P.emplaceBack(f?1:0,C?1:0,R||0,H||0)}const _a=Math.pow(2,25),ia=Math.pow(2,24),Js=Math.pow(2,17),Fo=Math.pow(2,16),ad=Math.pow(2,9),Cl=Math.pow(2,8),$f=Math.pow(2,1);function Rd(P){if(0===P.opacity&&!P.placed)return 0;if(1===P.opacity&&P.placed)return 4294967295;const f=P.placed?1:0,C=Math.floor(127*P.opacity);return C*_a+f*ia+C*Js+f*Fo+C*ad+f*Cl+C*$f+f}const cl=0;class Qh{constructor(f){this._sortAcrossTiles="viewport-y"!==f.layout.get("symbol-z-order")&&void 0!==f.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(f,C,R,H,X){const ae=this._bucketParts;for(;this._currentTileIndex<f.length;)if(C.getBucketParts(ae,H,f[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,X())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ae.sort((fe,ve)=>fe.sortKey-ve.sortKey));this._currentPartIndex<ae.length;)if(C.placeLayerBucketPart(ae[this._currentPartIndex],this._seenCrossTileIDs,R),this._currentPartIndex++,X())return!0;return!1}}class ld{constructor(f,C,R,H,X,ae,fe,ve){this.placement=new Jr(f,X,ae,fe,ve),this._currentPlacementIndex=C.length-1,this._forceFullPlacement=R,this._showCollisionBoxes=H,this._done=!1}isDone(){return this._done}continuePlacement(f,C,R){const H=b.exported.now(),X=()=>{const ae=b.exported.now()-H;return!this._forceFullPlacement&&ae>2};for(;this._currentPlacementIndex>=0;){const ae=C[f[this._currentPlacementIndex]],fe=this.placement.collisionIndex.transform.zoom;if("symbol"===ae.type&&(!ae.minzoom||ae.minzoom<=fe)&&(!ae.maxzoom||ae.maxzoom>fe)){if(this._inProgressLayer||(this._inProgressLayer=new Qh(ae)),this._inProgressLayer.continuePlacement(R[ae.source],this.placement,this._showCollisionBoxes,ae,X))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(f){return this.placement.commit(f),this.placement}}const Ap=512/b.EXTENT/2;class Yc{constructor(f,C,R){this.tileID=f,this.indexedSymbolInstances={},this.bucketInstanceId=R;for(let H=0;H<C.length;H++){const X=C.get(H),ae=X.key;this.indexedSymbolInstances[ae]||(this.indexedSymbolInstances[ae]=[]),this.indexedSymbolInstances[ae].push({crossTileID:X.crossTileID,coord:this.getScaledCoordinates(X,f)})}}getScaledCoordinates(f,C){const R=Ap/Math.pow(2,C.canonical.z-this.tileID.canonical.z);return{x:Math.floor((C.canonical.x*b.EXTENT+f.anchorX)*R),y:Math.floor((C.canonical.y*b.EXTENT+f.anchorY)*R)}}findMatches(f,C,R){const H=this.tileID.canonical.z<C.canonical.z?1:Math.pow(2,this.tileID.canonical.z-C.canonical.z);for(let X=0;X<f.length;X++){const ae=f.get(X);if(ae.crossTileID)continue;const fe=this.indexedSymbolInstances[ae.key];if(!fe)continue;const ve=this.getScaledCoordinates(ae,C);for(const _e of fe)if(Math.abs(_e.coord.x-ve.x)<=H&&Math.abs(_e.coord.y-ve.y)<=H&&!R[_e.crossTileID]){R[_e.crossTileID]=!0,ae.crossTileID=_e.crossTileID;break}}}}class vs{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Fd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(f){const C=Math.round((f-this.lng)/360);if(0!==C)for(const R in this.indexes){const H=this.indexes[R],X={};for(const ae in H){const fe=H[ae];fe.tileID=fe.tileID.unwrapTo(fe.tileID.wrap+C),X[fe.tileID.key]=fe}this.indexes[R]=X}this.lng=f}addBucket(f,C,R){if(this.indexes[f.overscaledZ]&&this.indexes[f.overscaledZ][f.key]){if(this.indexes[f.overscaledZ][f.key].bucketInstanceId===C.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(f.overscaledZ,this.indexes[f.overscaledZ][f.key])}for(let X=0;X<C.symbolInstances.length;X++)C.symbolInstances.get(X).crossTileID=0;this.usedCrossTileIDs[f.overscaledZ]||(this.usedCrossTileIDs[f.overscaledZ]={});const H=this.usedCrossTileIDs[f.overscaledZ];for(const X in this.indexes){const ae=this.indexes[X];if(Number(X)>f.overscaledZ)for(const fe in ae){const ve=ae[fe];ve.tileID.isChildOf(f)&&ve.findMatches(C.symbolInstances,f,H)}else{const fe=ae[f.scaledTo(Number(X)).key];fe&&fe.findMatches(C.symbolInstances,f,H)}}for(let X=0;X<C.symbolInstances.length;X++){const ae=C.symbolInstances.get(X);ae.crossTileID||(ae.crossTileID=R.generate(),H[ae.crossTileID]=!0)}return void 0===this.indexes[f.overscaledZ]&&(this.indexes[f.overscaledZ]={}),this.indexes[f.overscaledZ][f.key]=new Yc(f,C.symbolInstances,C.bucketInstanceId),!0}removeBucketCrossTileIDs(f,C){for(const R in C.indexedSymbolInstances)for(const H of C.indexedSymbolInstances[R])delete this.usedCrossTileIDs[f][H.crossTileID]}removeStaleBuckets(f){let C=!1;for(const R in this.indexes){const H=this.indexes[R];for(const X in H)f[H[X].bucketInstanceId]||(this.removeBucketCrossTileIDs(R,H[X]),delete H[X],C=!0)}return C}}class Nd{constructor(){this.layerIndexes={},this.crossTileIDs=new vs,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(f,C,R){let H=this.layerIndexes[f.id];void 0===H&&(H=this.layerIndexes[f.id]=new Fd);let X=!1;const ae={};H.handleWrapJump(R);for(const fe of C){const ve=fe.getBucket(f);ve&&f.id===ve.layerIds[0]&&(ve.bucketInstanceId||(ve.bucketInstanceId=++this.maxBucketInstanceId),H.addBucket(fe.tileID,ve,this.crossTileIDs)&&(X=!0),ae[ve.bucketInstanceId]=!0)}return H.removeStaleBuckets(ae)&&(X=!0),X}pruneUnusedLayers(f){const C={};f.forEach(R=>{C[R]=!0});for(const R in this.layerIndexes)C[R]||delete this.layerIndexes[R]}}const Jh=(P,f)=>b.emitValidationErrors(P,f&&f.filter(C=>"source.canvas"!==C.identifier)),zl=b.pick(v,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),_h=b.pick(v,["setCenter","setZoom","setBearing","setPitch"]),Ml=function(){const P={},f=b.spec.$version;for(const C in b.spec.$root){const R=b.spec.$root[C];if(R.required){let H=null;H="version"===C?f:"array"===R.type?[]:{},null!=H&&(P[C]=H)}}return P}(),Kh={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class qo extends b.Evented{constructor(f,C={}){super(),this.map=f,this.dispatcher=new fn(Le(),this),this.imageManager=new tr,this.imageManager.setEventedParent(this),this.glyphManager=new b.GlyphManager(f._requestManager,C.localFontFamily?b.LocalGlyphMode.all:C.localIdeographFontFamily?b.LocalGlyphMode.ideographs:b.LocalGlyphMode.none,C.localFontFamily||C.localIdeographFontFamily),this.lineAtlas=new b.LineAtlas(256,512),this.crossTileSymbolIndex=new Nd,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new b.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",b.getReferrer());const R=this;this._rtlTextPluginCallback=qo.registerForPluginStateChange(H=>{R.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:H.pluginStatus,pluginURL:H.pluginURL},(X,ae)=>{if(b.triggerPluginCompletionEvent(X),ae&&ae.every(fe=>fe))for(const fe in R._sourceCaches){const ve=R._sourceCaches[fe],_e=ve.getSource().type;"vector"!==_e&&"geojson"!==_e||ve.reload()}})}),this.on("data",H=>{if("source"!==H.dataType||"metadata"!==H.sourceDataType)return;const X=this.getSource(H.sourceId);if(X&&X.vectorLayerIds)for(const ae in this._layers){const fe=this._layers[ae];fe.source===X.id&&this._validateLayer(fe)}})}loadURL(f,C={}){this.fire(new b.Event("dataloading",{dataType:"style"}));const R="boolean"==typeof C.validate?C.validate:!b.isMapboxURL(f);f=this.map._requestManager.normalizeStyleURL(f,C.accessToken);const H=this.map._requestManager.transformRequest(f,b.ResourceType.Style);this._request=b.getJSON(H,(X,ae)=>{this._request=null,X?this.fire(new b.ErrorEvent(X)):ae&&this._load(ae,R)})}loadJSON(f,C={}){this.fire(new b.Event("dataloading",{dataType:"style"})),this._request=b.exported.frame(()=>{this._request=null,this._load(f,!1!==C.validate)})}loadEmpty(){this.fire(new b.Event("dataloading",{dataType:"style"})),this._load(Ml,!1)}_updateLayerCount(f,C){const R=C?1:-1;f.is3D()&&(this._num3DLayers+=R),"circle"===f.type&&(this._numCircleLayers+=R),"symbol"===f.type&&(this._numSymbolLayers+=R)}_load(f,C){if(C&&Jh(this,b.validateStyle(f)))return;this._loaded=!0,this.stylesheet=f;for(const H in f.sources)this.addSource(H,f.sources[H],{validate:!1});this._changed=!1,f.sprite?this._loadSprite(f.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(f.glyphs);const R=p(this.stylesheet.layers);this._order=R.map(H=>H.id),this._layers={},this._serializedLayers={};for(let H of R)H=b.createStyleLayer(H),H.setEventedParent(this,{layer:{id:H.id}}),this._layers[H.id]=H,this._serializedLayers[H.id]=H.serialize(),this._updateLayerCount(H,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Li(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new b.Event("data",{dataType:"style"})),this.fire(new b.Event("style.load"))}_loadSprite(f){this._spriteRequest=function(C,R,H){let X,ae,fe;const ve=b.exported.devicePixelRatio>1?"@2x":"";let _e=b.getJSON(R.transformRequest(R.normalizeSpriteURL(C,ve,".json"),b.ResourceType.SpriteJSON),(We,Xe)=>{_e=null,fe||(fe=We,X=Xe,Ge())}),ze=b.getImage(R.transformRequest(R.normalizeSpriteURL(C,ve,".png"),b.ResourceType.SpriteImage),(We,Xe)=>{ze=null,fe||(fe=We,ae=Xe,Ge())});function Ge(){if(fe)H(fe);else if(X&&ae){const We=b.exported.getImageData(ae),Xe={};for(const dt in X){const{width:yt,height:Ot,x:ot,y:vt,sdf:wt,pixelRatio:Bt,stretchX:Ct,stretchY:kt,content:wn}=X[dt],Tn=new b.RGBAImage({width:yt,height:Ot});b.RGBAImage.copy(We,Tn,{x:ot,y:vt},{x:0,y:0},{width:yt,height:Ot}),Xe[dt]={data:Tn,pixelRatio:Bt,sdf:wt,stretchX:Ct,stretchY:kt,content:wn}}H(null,Xe)}}return{cancel(){_e&&(_e.cancel(),_e=null),ze&&(ze.cancel(),ze=null)}}}(f,this.map._requestManager,(C,R)=>{if(this._spriteRequest=null,C)this.fire(new b.ErrorEvent(C));else if(R)for(const H in R)this.imageManager.addImage(H,R[H]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new b.Event("data",{dataType:"style"}))})}_validateLayer(f){const C=this.getSource(f.source);if(!C)return;const R=f.sourceLayer;R&&("geojson"===C.type||C.vectorLayerIds&&-1===C.vectorLayerIds.indexOf(R))&&this.fire(new b.ErrorEvent(new Error(`Source layer "${R}" does not exist on source "${C.id}" as specified by style layer "${f.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const f in this._sourceCaches)if(!this._sourceCaches[f].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(f){const C=[];for(const R of f){const H=this._layers[R];"custom"!==H.type&&C.push(H.serialize())}return C}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const f in this._sourceCaches)if(this._sourceCaches[f].hasTransition())return!0;for(const f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(f){return!!this.terrain&&Kh[f.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(f){if(!this._loaded)return;const C=this._changed;if(this._changed){const H=Object.keys(this._updatedLayers),X=Object.keys(this._removedLayers);(H.length||X.length)&&this._updateWorkerLayers(H,X);for(const ae in this._updatedSources){const fe=this._updatedSources[ae];"reload"===fe?this._reloadSource(ae):"clear"===fe&&this._clearSource(ae)}this._updateTilesForChangedImages();for(const ae in this._updatedPaintProps)this._layers[ae].updateTransitions(f);this.light.updateTransitions(f),this.fog&&this.fog.updateTransitions(f),this._resetUpdates()}const R={};for(const H in this._sourceCaches){const X=this._sourceCaches[H];R[H]=X.used,X.used=!1}for(const H of this._order){const X=this._layers[H];if(X.recalculate(f,this._availableImages),!X.isHidden(f.zoom)){const fe=this._getLayerSourceCache(X);fe&&(fe.used=!0)}const ae=this.map.painter;if(ae){const fe=X.getProgramIds();if(!fe)continue;const ve=X.getProgramConfiguration(f.zoom);for(const _e of fe)ae.useProgram(_e,ve)}}for(const H in R){const X=this._sourceCaches[H];R[H]!==X.used&&X.getSource().fire(new b.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:X.getSource().id}))}this.light.recalculate(f),this.terrain&&this.terrain.recalculate(f),this.fog&&this.fog.recalculate(f),this.z=f.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),C&&this.fire(new b.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const f=Object.keys(this._changedImages);if(f.length){for(const C in this._sourceCaches)this._sourceCaches[C].reloadTilesForDependencies(["icons","patterns"],f);this._changedImages={}}}_updateWorkerLayers(f,C){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(f),removedIds:C})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(f){if(this._checkLoaded(),Jh(this,b.validateStyle(f)))return!1;(f=b.clone$2(f)).layers=p(f.layers);const C=function(H,X){if(!H)return[{command:v.setStyle,args:[X]}];let ae=[];try{if(!xe(H.version,X.version))return[{command:v.setStyle,args:[X]}];xe(H.center,X.center)||ae.push({command:v.setCenter,args:[X.center]}),xe(H.zoom,X.zoom)||ae.push({command:v.setZoom,args:[X.zoom]}),xe(H.bearing,X.bearing)||ae.push({command:v.setBearing,args:[X.bearing]}),xe(H.pitch,X.pitch)||ae.push({command:v.setPitch,args:[X.pitch]}),xe(H.sprite,X.sprite)||ae.push({command:v.setSprite,args:[X.sprite]}),xe(H.glyphs,X.glyphs)||ae.push({command:v.setGlyphs,args:[X.glyphs]}),xe(H.transition,X.transition)||ae.push({command:v.setTransition,args:[X.transition]}),xe(H.light,X.light)||ae.push({command:v.setLight,args:[X.light]}),xe(H.fog,X.fog)||ae.push({command:v.setFog,args:[X.fog]});const fe={},ve=[];!function(Ge,We,Xe,dt){let yt;for(yt in We=We||{},Ge=Ge||{})Ge.hasOwnProperty(yt)&&(We.hasOwnProperty(yt)||E(yt,Xe,dt));for(yt in We)We.hasOwnProperty(yt)&&(Ge.hasOwnProperty(yt)?xe(Ge[yt],We[yt])||("geojson"===Ge[yt].type&&"geojson"===We[yt].type&&O(Ge,We,yt)?Xe.push({command:v.setGeoJSONSourceData,args:[yt,We[yt].data]}):N(yt,We,Xe,dt)):M(yt,We,Xe))}(H.sources,X.sources,ve,fe);const _e=[];H.layers&&H.layers.forEach(Ge=>{fe[Ge.source]?ae.push({command:v.removeLayer,args:[Ge.id]}):_e.push(Ge)});let ze=H.terrain;ze&&fe[ze.source]&&(ae.push({command:v.setTerrain,args:[void 0]}),ze=void 0),ae=ae.concat(ve),xe(ze,X.terrain)||ae.push({command:v.setTerrain,args:[X.terrain]}),function(Ge,We,Xe){We=We||[];const dt=(Ge=Ge||[]).map(Z),yt=We.map(Z),Ot=Ge.reduce(re,{}),ot=We.reduce(re,{}),vt=dt.slice(),wt=Object.create(null);let Bt,Ct,kt,wn,Tn,Ln,Dt;for(Bt=0,Ct=0;Bt<dt.length;Bt++)kt=dt[Bt],ot.hasOwnProperty(kt)?Ct++:(Xe.push({command:v.removeLayer,args:[kt]}),vt.splice(vt.indexOf(kt,Ct),1));for(Bt=0,Ct=0;Bt<yt.length;Bt++)kt=yt[yt.length-1-Bt],vt[vt.length-1-Bt]!==kt&&(Ot.hasOwnProperty(kt)?(Xe.push({command:v.removeLayer,args:[kt]}),vt.splice(vt.lastIndexOf(kt,vt.length-Ct),1)):Ct++,Ln=vt[vt.length-Bt],Xe.push({command:v.addLayer,args:[ot[kt],Ln]}),vt.splice(vt.length-Bt,0,kt),wt[kt]=!0);for(Bt=0;Bt<yt.length;Bt++)if(kt=yt[Bt],wn=Ot[kt],Tn=ot[kt],!wt[kt]&&!xe(wn,Tn))if(xe(wn.source,Tn.source)&&xe(wn["source-layer"],Tn["source-layer"])&&xe(wn.type,Tn.type)){for(Dt in j(wn.layout,Tn.layout,Xe,kt,null,v.setLayoutProperty),j(wn.paint,Tn.paint,Xe,kt,null,v.setPaintProperty),xe(wn.filter,Tn.filter)||Xe.push({command:v.setFilter,args:[kt,Tn.filter]}),xe(wn.minzoom,Tn.minzoom)&&xe(wn.maxzoom,Tn.maxzoom)||Xe.push({command:v.setLayerZoomRange,args:[kt,Tn.minzoom,Tn.maxzoom]}),wn)wn.hasOwnProperty(Dt)&&"layout"!==Dt&&"paint"!==Dt&&"filter"!==Dt&&"metadata"!==Dt&&"minzoom"!==Dt&&"maxzoom"!==Dt&&(0===Dt.indexOf("paint.")?j(wn[Dt],Tn[Dt],Xe,kt,Dt.slice(6),v.setPaintProperty):xe(wn[Dt],Tn[Dt])||Xe.push({command:v.setLayerProperty,args:[kt,Dt,Tn[Dt]]}));for(Dt in Tn)Tn.hasOwnProperty(Dt)&&!wn.hasOwnProperty(Dt)&&"layout"!==Dt&&"paint"!==Dt&&"filter"!==Dt&&"metadata"!==Dt&&"minzoom"!==Dt&&"maxzoom"!==Dt&&(0===Dt.indexOf("paint.")?j(wn[Dt],Tn[Dt],Xe,kt,Dt.slice(6),v.setPaintProperty):xe(wn[Dt],Tn[Dt])||Xe.push({command:v.setLayerProperty,args:[kt,Dt,Tn[Dt]]}))}else Xe.push({command:v.removeLayer,args:[kt]}),Ln=vt[vt.lastIndexOf(kt)+1],Xe.push({command:v.addLayer,args:[Tn,Ln]})}(_e,X.layers,ae)}catch(fe){console.warn("Unable to compute style diff:",fe),ae=[{command:v.setStyle,args:[X]}]}return ae}(this.serialize(),f).filter(H=>!(H.command in _h));if(0===C.length)return!1;const R=C.filter(H=>!(H.command in zl));if(R.length>0)throw new Error(`Unimplemented: ${R.map(H=>H.command).join(", ")}.`);return C.forEach(H=>{"setTransition"!==H.command&&this[H.command].apply(this,H.args)}),this.stylesheet=f,!0}addImage(f,C){if(this.getImage(f))return this.fire(new b.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(f,C),this._afterImageUpdated(f)}updateImage(f,C){this.imageManager.updateImage(f,C)}getImage(f){return this.imageManager.getImage(f)}removeImage(f){if(!this.getImage(f))return this.fire(new b.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(f),this._afterImageUpdated(f)}_afterImageUpdated(f){this._availableImages=this.imageManager.listImages(),this._changedImages[f]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new b.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(f,C,R={}){if(this._checkLoaded(),void 0!==this.getSource(f))throw new Error("There is already a source with this ID");if(!C.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(C).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(C.type)>=0&&this._validate(b.validateStyle.source,`sources.${f}`,C,null,R))return;this.map&&this.map._collectResourceTiming&&(C.collectResourceTiming=!0);const H=Ze(f,C,this.dispatcher,this);H.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:H.serialize(),sourceId:f}));const X=ae=>{const fe=(ae?"symbol:":"other:")+f,ve=this._sourceCaches[fe]=new b.SourceCache(fe,H,ae);(ae?this._symbolSourceCaches:this._otherSourceCaches)[f]=ve,ve.style=this,ve.onAdd(this.map)};X(!1),"vector"!==C.type&&"geojson"!==C.type||X(!0),H.onAdd&&H.onAdd(this.map),this._changed=!0}removeSource(f){this._checkLoaded();const C=this.getSource(f);if(void 0===C)throw new Error("There is no source with this ID");for(const H in this._layers)if(this._layers[H].source===f)return this.fire(new b.ErrorEvent(new Error(`Source "${f}" cannot be removed while layer "${H}" is using it.`)));if(this.terrain&&this.terrain.get().source===f)return this.fire(new b.ErrorEvent(new Error(`Source "${f}" cannot be removed while terrain is using it.`)));const R=this._getSourceCaches(f);for(const H of R)delete this._sourceCaches[H.id],delete this._updatedSources[H.id],H.fire(new b.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:H.getSource().id})),H.setEventedParent(null),H.clearTiles();delete this._otherSourceCaches[f],delete this._symbolSourceCaches[f],C.setEventedParent(null),C.onRemove&&C.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(f,C){this._checkLoaded(),this.getSource(f).setData(C),this._changed=!0}getSource(f){const C=this._getSourceCache(f);return C&&C.getSource()}addLayer(f,C,R={}){this._checkLoaded();const H=f.id;if(this.getLayer(H))return void this.fire(new b.ErrorEvent(new Error(`Layer with id "${H}" already exists on this map`)));let X;if("custom"===f.type){if(Jh(this,b.validateCustomStyleLayer(f)))return;X=b.createStyleLayer(f)}else{if("object"==typeof f.source&&(this.addSource(H,f.source),f=b.clone$2(f),f=b.extend(f,{source:H})),this._validate(b.validateStyle.layer,`layers.${H}`,f,{arrayIndex:-1},R))return;X=b.createStyleLayer(f),this._validateLayer(X),X.setEventedParent(this,{layer:{id:H}}),this._serializedLayers[X.id]=X.serialize(),this._updateLayerCount(X,!0)}const ae=C?this._order.indexOf(C):this._order.length;if(C&&-1===ae)return void this.fire(new b.ErrorEvent(new Error(`Layer with id "${C}" does not exist on this map.`)));this._order.splice(ae,0,H),this._layerOrderChanged=!0,this._layers[H]=X;const fe=this._getLayerSourceCache(X);if(this._removedLayers[H]&&X.source&&fe&&"custom"!==X.type){const ve=this._removedLayers[H];delete this._removedLayers[H],ve.type!==X.type?this._updatedSources[X.source]="clear":(this._updatedSources[X.source]="reload",fe.pause())}this._updateLayer(X),X.onAdd&&X.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(f,C){if(this._checkLoaded(),this._changed=!0,!this._layers[f])return void this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot be moved.`)));if(f===C)return;const R=this._order.indexOf(f);this._order.splice(R,1);const H=C?this._order.indexOf(C):this._order.length;C&&-1===H?this.fire(new b.ErrorEvent(new Error(`Layer with id "${C}" does not exist on this map.`))):(this._order.splice(H,0,f),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(f){this._checkLoaded();const C=this._layers[f];if(!C)return void this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot be removed.`)));C.setEventedParent(null),this._updateLayerCount(C,!1);const R=this._order.indexOf(f);this._order.splice(R,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[f]=C,delete this._layers[f],delete this._serializedLayers[f],delete this._updatedLayers[f],delete this._updatedPaintProps[f],C.onRemove&&C.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(f){return this._layers[f]}hasLayer(f){return f in this._layers}hasLayerType(f){for(const C in this._layers)if(this._layers[C].type===f)return!0;return!1}setLayerZoomRange(f,C,R){this._checkLoaded();const H=this.getLayer(f);H?H.minzoom===C&&H.maxzoom===R||(null!=C&&(H.minzoom=C),null!=R&&(H.maxzoom=R),this._updateLayer(H)):this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(f,C,R={}){this._checkLoaded();const H=this.getLayer(f);if(H){if(!xe(H.filter,C))return null==C?(H.filter=void 0,void this._updateLayer(H)):void(this._validate(b.validateStyle.filter,`layers.${H.id}.filter`,C,null,R)||(H.filter=b.clone$2(C),this._updateLayer(H)))}else this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot be filtered.`)))}getFilter(f){return b.clone$2(this.getLayer(f).filter)}setLayoutProperty(f,C,R,H={}){this._checkLoaded();const X=this.getLayer(f);X?xe(X.getLayoutProperty(C),R)||(X.setLayoutProperty(C,R,H),this._updateLayer(X)):this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(f,C){const R=this.getLayer(f);if(R)return R.getLayoutProperty(C);this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style.`)))}setPaintProperty(f,C,R,H={}){this._checkLoaded();const X=this.getLayer(f);X?xe(X.getPaintProperty(C),R)||(X.setPaintProperty(C,R,H)&&this._updateLayer(X),this._changed=!0,this._updatedPaintProps[f]=!0):this.fire(new b.ErrorEvent(new Error(`The layer '${f}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(f,C){return this.getLayer(f).getPaintProperty(C)}setFeatureState(f,C){this._checkLoaded();const R=f.source,H=f.sourceLayer,X=this.getSource(R);if(void 0===X)return void this.fire(new b.ErrorEvent(new Error(`The source '${R}' does not exist in the map's style.`)));const ae=X.type;if("geojson"===ae&&H)return void this.fire(new b.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===ae&&!H)return void this.fire(new b.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===f.id&&this.fire(new b.ErrorEvent(new Error("The feature id parameter must be provided.")));const fe=this._getSourceCaches(R);for(const ve of fe)ve.setFeatureState(H,f.id,C)}removeFeatureState(f,C){this._checkLoaded();const R=f.source,H=this.getSource(R);if(void 0===H)return void this.fire(new b.ErrorEvent(new Error(`The source '${R}' does not exist in the map's style.`)));const X=H.type,ae="vector"===X?f.sourceLayer:void 0;if("vector"===X&&!ae)return void this.fire(new b.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(C&&"string"!=typeof f.id&&"number"!=typeof f.id)return void this.fire(new b.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const fe=this._getSourceCaches(R);for(const ve of fe)ve.removeFeatureState(ae,f.id,C)}getFeatureState(f){this._checkLoaded();const C=f.source,R=f.sourceLayer,H=this.getSource(C);if(void 0!==H){if("vector"!==H.type||R)return void 0===f.id&&this.fire(new b.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(C)[0].getFeatureState(R,f.id);this.fire(new b.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new b.ErrorEvent(new Error(`The source '${C}' does not exist in the map's style.`)))}getTransition(){return b.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const f={};for(const C in this._sourceCaches){const R=this._sourceCaches[C].getSource();f[R.id]||(f[R.id]=R.serialize())}return b.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:f,layers:this._serializeLayers(this._order)},C=>void 0!==C)}_updateLayer(f){this._updatedLayers[f.id]=!0;const C=this._getLayerSourceCache(f);f.source&&!this._updatedSources[f.source]&&C&&"raster"!==C.getSource().type&&(this._updatedSources[f.source]="reload",C.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(f){const C=ae=>"fill-extrusion"===this._layers[ae].type,R={},H=[];for(let ae=this._order.length-1;ae>=0;ae--){const fe=this._order[ae];if(C(fe)){R[fe]=ae;for(const ve of f){const _e=ve[fe];if(_e)for(const ze of _e)H.push(ze)}}}H.sort((ae,fe)=>fe.intersectionZ-ae.intersectionZ);const X=[];for(let ae=this._order.length-1;ae>=0;ae--){const fe=this._order[ae];if(C(fe))for(let ve=H.length-1;ve>=0;ve--){const _e=H[ve].feature;if(R[_e.layer.id]<ae)break;X.push(_e),H.pop()}else for(const ve of f){const _e=ve[fe];if(_e)for(const ze of _e)X.push(ze.feature)}}return X}queryRenderedFeatures(f,C,R){C&&C.filter&&this._validate(b.validateStyle.filter,"queryRenderedFeatures.filter",C.filter,null,C);const H={};if(C&&C.layers){if(!Array.isArray(C.layers))return this.fire(new b.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ve of C.layers){const _e=this._layers[ve];if(!_e)return this.fire(new b.ErrorEvent(new Error(`The layer '${ve}' does not exist in the map's style and cannot be queried for features.`))),[];H[_e.source]=!0}}const X=[];C.availableImages=this._availableImages;const ae=C&&C.layers?C.layers.some(ve=>{const _e=this.getLayer(ve);return _e&&_e.is3D()}):this.has3DLayers(),fe=Pi.createFromScreenPoints(f,R);for(const ve in this._sourceCaches){const _e=this._sourceCaches[ve].getSource().id;C.layers&&!H[_e]||X.push(bt(this._sourceCaches[ve],this._layers,this._serializedLayers,fe,C,R,ae,!!this.map._showQueryGeometry))}return this.placement&&X.push(function(ve,_e,ze,Ge,We,Xe,dt){const yt={},Ot=Xe.queryRenderedSymbols(Ge),ot=[];for(const vt of Object.keys(Ot).map(Number))ot.push(dt[vt]);ot.sort(It);for(const vt of ot){const wt=vt.featureIndex.lookupSymbolFeatures(Ot[vt.bucketInstanceId],_e,vt.bucketIndex,vt.sourceLayerIndex,We.filter,We.layers,We.availableImages,ve);for(const Bt in wt){const Ct=yt[Bt]=yt[Bt]||[],kt=wt[Bt];kt.sort((wn,Tn)=>{const Ln=vt.featureSortOrder;if(Ln){const Dt=Ln.indexOf(wn.featureIndex);return Ln.indexOf(Tn.featureIndex)-Dt}return Tn.featureIndex-wn.featureIndex});for(const wn of kt)Ct.push(wn)}}for(const vt in yt)yt[vt].forEach(wt=>{const Bt=wt.feature,Ct=ze(ve[vt]).getFeatureState(Bt.layer["source-layer"],Bt.id);Bt.source=Bt.layer.source,Bt.layer["source-layer"]&&(Bt.sourceLayer=Bt.layer["source-layer"]),Bt.state=Ct});return yt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),fe.screenGeometry,C,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(X)}querySourceFeatures(f,C){C&&C.filter&&this._validate(b.validateStyle.filter,"querySourceFeatures.filter",C.filter,null,C);const R=this._getSourceCaches(f);let H=[];for(const X of R)H=H.concat(Ft(X,C));return H}addSourceType(f,C,R){return qo.getSourceType(f)?R(new Error(`A source type called "${f}" already exists.`)):(qo.setSourceType(f,C),C.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:f,url:C.workerSourceURL},R):R(null,null))}getLight(){return this.light.getLight()}setLight(f,C={}){this._checkLoaded();const R=this.light.getLight();let H=!1;for(const ae in f)if(!xe(f[ae],R[ae])){H=!0;break}if(!H)return;const X={now:b.exported.now(),transition:b.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(f,C),this.light.updateTransitions(X)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(f){if(this._checkLoaded(),!f)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof f.source){const C="terrain-dem-src";this.addSource(C,f.source),f=b.clone$2(f),f=b.extend(f,{source:C})}if(!this._validate(b.validateStyle.terrain,"terrain",f)){if(this.terrain){const C=this.terrain,R=C.get();for(const H in f)if(!xe(f[H],R[H])){C.set(f),this.stylesheet.terrain=f;const X={now:b.exported.now(),transition:b.extend({duration:0},this.stylesheet.transition)};C.updateTransitions(X);break}}else this._createTerrain(f);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(f){const C=this.fog=new Rn(f);this.stylesheet.fog=f;const R={now:b.exported.now(),transition:b.extend({duration:0},this.stylesheet.transition)};C.updateTransitions(R)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const f of this.map._markers)f._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(f){if(this._checkLoaded(),!f)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const C=this.fog,R=C.get();for(const H in f)if(!xe(f[H],R[H])){C.set(f),this.stylesheet.fog=f;const X={now:b.exported.now(),transition:b.extend({duration:0},this.stylesheet.transition)};C.updateTransitions(X);break}}else this._createFog(f);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const f=this._order.filter(R=>this.isLayerDraped(this._layers[R])),C=this._order.filter(R=>!this.isLayerDraped(this._layers[R]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...f),this._drapedFirstOrder.push(...C)}_createTerrain(f){const C=this.terrain=new Pr(f);this.stylesheet.terrain=f,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const R={now:b.exported.now(),transition:b.extend({duration:0},this.stylesheet.transition)};C.updateTransitions(R)}_force3DLayerUpdate(){for(const f in this._layers){const C=this._layers[f];"fill-extrusion"===C.type&&this._updateLayer(C)}}_validate(f,C,R,H,X={}){return(!X||!1!==X.validate)&&Jh(this,f.call(b.validateStyle,b.extend({key:C,style:this.serialize(),value:R,styleSpec:b.spec},H)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),b.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this._sourceCaches)this._sourceCaches[f].clearTiles(),this._sourceCaches[f].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(f){const C=this._getSourceCaches(f);for(const R of C)R.clearTiles()}_reloadSource(f){const C=this._getSourceCaches(f);for(const R of C)R.resume(),R.reload()}_updateSources(f){for(const C in this._sourceCaches)this._sourceCaches[C].update(f)}_generateCollisionBoxes(){for(const f in this._sourceCaches){const C=this._sourceCaches[f];C.resume(),C.reload()}}_updatePlacement(f,C,R,H,X=!1){let ae=!1,fe=!1;const ve={};for(const _e of this._order){const ze=this._layers[_e];if("symbol"!==ze.type)continue;if(!ve[ze.source]){const We=this._getLayerSourceCache(ze);if(!We)continue;ve[ze.source]=We.getRenderableIds(!0).map(Xe=>We.getTileByID(Xe)).sort((Xe,dt)=>dt.tileID.overscaledZ-Xe.tileID.overscaledZ||(Xe.tileID.isLessThan(dt.tileID)?-1:1))}const Ge=this.crossTileSymbolIndex.addLayer(ze,ve[ze.source],f.center.lng);ae=ae||Ge}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),X=X||this._layerOrderChanged||0===R,this._layerOrderChanged&&this.fire(new b.Event("neworder")),(X||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(b.exported.now(),f.zoom))&&(this.pauseablePlacement=new ld(f,this._order,X,C,R,H,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ve),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(b.exported.now()),fe=!0),ae&&this.pauseablePlacement.placement.setStale()),fe||ae)for(const _e of this._order){const ze=this._layers[_e];"symbol"===ze.type&&this.placement.updateLayerOpacities(ze,ve[ze.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(b.exported.now())}_releaseSymbolFadeTiles(){for(const f in this._sourceCaches)this._sourceCaches[f].releaseSymbolFadeTiles()}getImages(f,C,R){this.imageManager.getImages(C.icons,R),this._updateTilesForChangedImages();const H=X=>{X&&X.setDependencies(C.tileID.key,C.type,C.icons)};H(this._otherSourceCaches[C.source]),H(this._symbolSourceCaches[C.source])}getGlyphs(f,C,R){this.glyphManager.getGlyphs(C.stacks,R)}getResource(f,C,R){return b.makeRequest(C,R)}_getSourceCache(f){return this._otherSourceCaches[f]}_getLayerSourceCache(f){return"symbol"===f.type?this._symbolSourceCaches[f.source]:this._otherSourceCaches[f.source]}_getSourceCaches(f){const C=[];return this._otherSourceCaches[f]&&C.push(this._otherSourceCaches[f]),this._symbolSourceCaches[f]&&C.push(this._symbolSourceCaches[f]),C}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}qo.getSourceType=function(P){return Ne[P]},qo.setSourceType=function(P,f){Ne[P]=f},qo.registerForPluginStateChange=b.registerForPluginStateChange;var ep="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",bs="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Ps={},Wi={};Ps=kr("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),Wi=kr("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const Yl=kr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),zd=ep;var cd={background:kr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:kr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:kr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:kr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:kr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:kr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:kr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:kr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:kr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:kr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:kr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:kr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:kr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:kr("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:kr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);\n#else\nvec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:kr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:kr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:kr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineGradient:kr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:kr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineSDF:kr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:kr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:kr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:kr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:kr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:kr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:kr("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:kr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",bs),skyboxGradient:kr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",bs),skyboxCapture:kr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function kr(P,f,C){const R=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,H=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,X=f.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),ae=P.match(H),fe=f.match(H),ve=ep.match(H);let _e=fe?fe.concat(ae):ae;C||(Ps.staticUniforms&&(_e=Ps.staticUniforms.concat(_e)),Wi.staticUniforms&&(_e=Wi.staticUniforms.concat(_e))),_e&&(_e=_e.concat(ve));const ze={};return{fragmentSource:P=P.replace(R,(Ge,We,Xe,dt,yt)=>(ze[yt]=!0,"define"===We?`\n#ifndef HAS_UNIFORM_u_${yt}\nvarying ${Xe} ${dt} ${yt};\n#else\nuniform ${Xe} ${dt} u_${yt};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${yt}\n    ${Xe} ${dt} ${yt} = u_${yt};\n#endif\n`)),vertexSource:f=f.replace(R,(Ge,We,Xe,dt,yt)=>{const Ot="float"===dt?"vec2":"vec4",ot=yt.match(/color/)?"color":Ot;return ze[yt]?"define"===We?`\n#ifndef HAS_UNIFORM_u_${yt}\nuniform lowp float u_${yt}_t;\nattribute ${Xe} ${Ot} a_${yt};\nvarying ${Xe} ${dt} ${yt};\n#else\nuniform ${Xe} ${dt} u_${yt};\n#endif\n`:"vec4"===ot?`\n#ifndef HAS_UNIFORM_u_${yt}\n    ${yt} = a_${yt};\n#else\n    ${Xe} ${dt} ${yt} = u_${yt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${yt}\n    ${yt} = unpack_mix_${ot}(a_${yt}, u_${yt}_t);\n#else\n    ${Xe} ${dt} ${yt} = u_${yt};\n#endif\n`:"define"===We?`\n#ifndef HAS_UNIFORM_u_${yt}\nuniform lowp float u_${yt}_t;\nattribute ${Xe} ${Ot} a_${yt};\n#else\nuniform ${Xe} ${dt} u_${yt};\n#endif\n`:"vec4"===ot?`\n#ifndef HAS_UNIFORM_u_${yt}\n    ${Xe} ${dt} ${yt} = a_${yt};\n#else\n    ${Xe} ${dt} ${yt} = u_${yt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${yt}\n    ${Xe} ${dt} ${yt} = unpack_mix_${ot}(a_${yt}, u_${yt}_t);\n#else\n    ${Xe} ${dt} ${yt} = u_${yt};\n#endif\n`}),staticAttributes:X,staticUniforms:_e}}class Yd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(f,C,R,H,X,ae,fe,ve){this.context=f;let _e=this.boundPaintVertexBuffers.length!==H.length;for(let ze=0;!_e&&ze<H.length;ze++)this.boundPaintVertexBuffers[ze]!==H[ze]&&(_e=!0);f.extVertexArrayObject&&this.vao&&this.boundProgram===C&&this.boundLayoutVertexBuffer===R&&!_e&&this.boundIndexBuffer===X&&this.boundVertexOffset===ae&&this.boundDynamicVertexBuffer===fe&&this.boundDynamicVertexBuffer2===ve?(f.bindVertexArrayOES.set(this.vao),fe&&fe.bind(),X&&X.dynamicDraw&&X.bind(),ve&&ve.bind()):this.freshBind(C,R,H,X,ae,fe,ve)}freshBind(f,C,R,H,X,ae,fe){let ve;const _e=f.numAttributes,ze=this.context,Ge=ze.gl;if(ze.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ze.extVertexArrayObject.createVertexArrayOES(),ze.bindVertexArrayOES.set(this.vao),ve=0,this.boundProgram=f,this.boundLayoutVertexBuffer=C,this.boundPaintVertexBuffers=R,this.boundIndexBuffer=H,this.boundVertexOffset=X,this.boundDynamicVertexBuffer=ae,this.boundDynamicVertexBuffer2=fe;else{ve=ze.currentNumAttributes||0;for(let We=_e;We<ve;We++)Ge.disableVertexAttribArray(We)}C.enableAttributes(Ge,f);for(const We of R)We.enableAttributes(Ge,f);ae&&ae.enableAttributes(Ge,f),fe&&fe.enableAttributes(Ge,f),C.bind(),C.setVertexAttribPointers(Ge,f,X);for(const We of R)We.bind(),We.setVertexAttribPointers(Ge,f,X);ae&&(ae.bind(),ae.setVertexAttribPointers(Ge,f,X)),H&&H.bind(),fe&&(fe.bind(),fe.setVertexAttribPointers(Ge,f,X)),ze.currentNumAttributes=_e}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ud(P,f){const C=Math.pow(2,f.canonical.z),R=f.canonical.y;return[new b.MercatorCoordinate(0,R/C).toLngLat().lat,new b.MercatorCoordinate(0,(R+1)/C).toLngLat().lat]}function tp(P,f,C,R,H,X,ae){const fe=P.context,ve=fe.gl,_e=C.fbo;if(!_e)return;P.prepareDrawTile(f);const ze=P.useProgram("hillshade");fe.activeTexture.set(ve.TEXTURE0),ve.bindTexture(ve.TEXTURE_2D,_e.colorAttachment.get());const Ge=((We,Xe,dt,yt)=>{const Ot=dt.paint.get("hillshade-shadow-color"),ot=dt.paint.get("hillshade-highlight-color"),vt=dt.paint.get("hillshade-accent-color");let wt=dt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===dt.paint.get("hillshade-illumination-anchor")&&(wt-=We.transform.angle);const Bt=!We.options.moving;return{u_matrix:yt||We.transform.calculateProjMatrix(Xe.tileID.toUnwrapped(),Bt),u_image:0,u_latrange:ud(0,Xe.tileID),u_light:[dt.paint.get("hillshade-exaggeration"),wt],u_shadow:Ot,u_highlight:ot,u_accent:vt}})(P,C,R,P.terrain?f.projMatrix:null);P.prepareDrawProgram(fe,ze,f.toUnwrapped()),ze.draw(fe,ve.TRIANGLES,H,X,ae,b.CullFaceMode.disabled,Ge,R.id,P.rasterBoundsBuffer,P.quadTriangleIndexBuffer,P.rasterBoundsSegments)}function ra(P,f,C){if(!f.needsDEMTextureUpload)return;const R=P.context,H=R.gl;R.pixelStoreUnpackPremultiplyAlpha.set(!1),f.demTexture=f.demTexture||P.getTileTexture(C.stride);const X=C.getPixels();f.demTexture?f.demTexture.update(X,{premultiply:!1}):f.demTexture=new b.Texture(R,X,H.RGBA,{premultiply:!1}),f.needsDEMTextureUpload=!1}function Na(P,f,C,R,H,X){const ae=P.context,fe=ae.gl;if(!f.dem)return;const ve=f.dem;if(ae.activeTexture.set(fe.TEXTURE1),ra(P,f,ve),!f.demTexture)return;f.demTexture.bind(fe.NEAREST,fe.CLAMP_TO_EDGE);const _e=ve.dim;ae.activeTexture.set(fe.TEXTURE0);let ze=f.fbo;if(!ze){const Ge=new b.Texture(ae,{width:_e,height:_e,data:null},fe.RGBA);Ge.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),ze=f.fbo=ae.createFramebuffer(_e,_e,!0),ze.colorAttachment.set(Ge.texture)}ae.bindFramebuffer.set(ze.framebuffer),ae.viewport.set([0,0,_e,_e]),P.useProgram("hillshadePrepare").draw(ae,fe.TRIANGLES,R,H,X,b.CullFaceMode.disabled,((Ge,We)=>{const Xe=We.stride,dt=b.create$1();return b.ortho(dt,0,b.EXTENT,-b.EXTENT,0,0,1),b.translate(dt,dt,[0,-b.EXTENT,0]),{u_matrix:dt,u_image:1,u_dimension:[Xe,Xe],u_zoom:Ge.overscaledZ,u_unpack:We.unpackVector}})(f.tileID,ve),C.id,P.rasterBoundsBuffer,P.quadTriangleIndexBuffer,P.rasterBoundsSegments),f.needsHillshadePrepare=!1}const di=(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_image0:new b.Uniform1i(P,f.u_image0),u_skirt_height:new b.Uniform1f(P,f.u_skirt_height)}),xc=(P,f)=>({u_matrix:P,u_image0:0,u_skirt_height:f}),Bl=new class{constructor(){this.operations={}}newMorphing(P,f,C,R,H){if(P in this.operations){const X=this.operations[P];X.to.tileID.key!==C.tileID.key&&(X.queued=C)}else this.operations[P]={startTime:R,phase:0,duration:H,from:f,to:C,queued:null}}getMorphValuesForProxy(P){if(!(P in this.operations))return null;const f=this.operations[P];return{from:f.from,to:f.to,phase:f.phase}}update(P){for(const f in this.operations){const C=this.operations[f];for(C.phase=(P-C.startTime)/C.duration;C.phase>=1||!this._validOp(C);)if(!this._nextOp(C,P)){delete this.operations[f];break}}}_nextOp(P,f){return!!P.queued&&(P.from=P.to,P.to=P.queued,P.queued=null,P.phase=0,P.startTime=f,!0)}_validOp(P){return P.from.hasData()&&P.to.hasData()}},za={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function dd(P,f){const C=1<<P.z;return!f&&(0===P.x||P.x===C-1)||0===P.y||P.y===C-1}const wc=P=>({u_matrix:P});function Rs(P,f,C,R,H){if(H>0){const X=b.exported.now(),ae=(X-P.timeAdded)/H,fe=f?(X-f.timeAdded)/H:-1,ve=C.getSource(),_e=R.coveringZoomLevel({tileSize:ve.tileSize,roundZoom:ve.roundZoom}),ze=!f||Math.abs(f.tileID.overscaledZ-_e)>Math.abs(P.tileID.overscaledZ-_e),Ge=ze&&P.refreshedUponExpiration?1:b.clamp(ze?ae:1-fe,0,1);return P.refreshedUponExpiration&&ae>=1&&(P.refreshedUponExpiration=!1),f?{opacity:1,mix:1-Ge}:{opacity:Ge,mix:0}}return{opacity:1,mix:0}}class Tl extends b.SourceCache{constructor(f){const C=Ze("proxy",{type:"geojson",maxzoom:f.transform.maxZoom},new fn(Le(),null),f.style);super("proxy",C,!1),C.setEventedParent(this),this.map=this.getSource().map=f,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(f,C,R){if(f.freezeTileCoverage)return;this.transform=f;const H=f.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((X,ae)=>{if(X[ae.key]="",!this._tiles[ae.key]){const fe=new b.Tile(ae,this._source.tileSize*ae.overscaleFactor(),f.tileZoom);fe.state="loaded",this._tiles[ae.key]=fe}return X},{});for(const X in this._tiles)X in H||(this.freeFBO(X),this._tiles[X].state="unloaded",delete this._tiles[X])}freeFBO(f){const C=this.proxyCachedFBO[f];if(void 0!==C){const R=Object.values(C);this.renderCachePool.push(...R),delete this.proxyCachedFBO[f]}}deallocRenderCache(){this.renderCache.forEach(f=>f.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class er extends b.OverscaledTileID{constructor(f,C,R){super(f.overscaledZ,f.wrap,f.canonical.z,f.canonical.x,f.canonical.y),this.proxyTileKey=C,this.projMatrix=R}}class np extends b.Elevation{constructor(f,C){super(),this.painter=f,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[R,H,X]=function(ve){const _e=new b.StructArrayLayout4i8,ze=new b.StructArrayLayout3ui6;_e.reserve(17161),ze.reserve(33800);const We=b.EXTENT/128,Xe=b.EXTENT+We/2,dt=Xe+We;for(let Ot=-We;Ot<dt;Ot+=We)for(let ot=-We;ot<dt;ot+=We){const vt=ot<0||ot>Xe||Ot<0||Ot>Xe?24575:0,wt=b.clamp(Math.round(ot),0,b.EXTENT),Bt=b.clamp(Math.round(Ot),0,b.EXTENT);_e.emplaceBack(wt+vt,Bt,wt,Bt)}const yt=(Ot,ot)=>{const vt=131*ot+Ot;ze.emplaceBack(vt+1,vt,vt+131),ze.emplaceBack(vt+131,vt+131+1,vt+1)};for(let Ot=1;Ot<129;Ot++)for(let ot=1;ot<129;ot++)yt(ot,Ot);return[0,129].forEach(Ot=>{for(let ot=0;ot<130;ot++)yt(ot,Ot),yt(Ot,ot)}),[_e,ze,32768]}(),ae=f.context;this.gridBuffer=ae.createVertexBuffer(R,wr.members),this.gridIndexBuffer=ae.createIndexBuffer(H),this.gridSegments=b.SegmentVector.simpleSegment(0,0,R.length,H.length),this.gridNoSkirtSegments=b.SegmentVector.simpleSegment(0,0,R.length,X),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Tl(C.map),this.orthoMatrix=b.create$1(),b.ortho(this.orthoMatrix,0,b.EXTENT,0,b.EXTENT,0,1);const fe=ae.gl;this._overlapStencilMode=new b.StencilMode({func:fe.GEQUAL,mask:255},0,255,fe.KEEP,fe.KEEP,fe.REPLACE),this._previousZoom=f.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=C,this._useVertexMorphing=!0,this._exaggeration=1}set style(f){f.on("data",this._onStyleDataEvent.bind(this)),f.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=f,this._checkRenderCacheEfficiency()}update(f,C,R){if(f&&f.terrain){this._style!==f&&(this.style=f),this.enabled=!0;const H=f.terrain.properties;this.sourceCache=f._getSourceCache(H.get("source")),this._exaggeration=H.get("exaggeration");const X=()=>{this.sourceCache.used&&b.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ae=this.sourceCache.getSource().tileSize/128,fe=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(C,ae*fe,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,X(),this._initializing=!0),X(),C.updateElevation(!R),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(C),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const f=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==f.efficiency&&b.warnOnce(`Terrain render cache efficiency is not optimal (${f.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${f.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(f){f.coord&&"source"===f.dataType?this._clearRenderCacheForTile(f.sourceCacheId,f.coord):"style"===f.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const f in this._style._sourceCaches)this._style._sourceCaches[f].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(f=>f.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const f=2*this.proxySourceCache.getSource().tileSize;return[f,f]}set useVertexMorphing(f){this._useVertexMorphing=f}updateTileBinding(f){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const C=this.proxySourceCache,R=this.painter.transform;this._initializing&&(this._initializing=0===R._centerAltitude&&-1===this.getAtPointOrZero(b.MercatorCoordinate.fromLngLat(R.center),-1),this._emptyDEMTextureDirty=!this._initializing);const H=this.proxyCoords=C.getIds().map(ve=>{const _e=C.getTileByID(ve).tileID;return _e.projMatrix=R.calculateProjMatrix(_e.toUnwrapped()),_e});(function(ve,_e){const ze=_e.transform.pointCoordinate(_e.transform.getCameraPoint()),Ge=new b.pointGeometry(ze.x,ze.y);ve.sort((We,Xe)=>{if(Xe.overscaledZ-We.overscaledZ)return Xe.overscaledZ-We.overscaledZ;const dt=new b.pointGeometry(We.canonical.x+(1<<We.canonical.z)*We.wrap,We.canonical.y),yt=new b.pointGeometry(Xe.canonical.x+(1<<Xe.canonical.z)*Xe.wrap,Xe.canonical.y),Ot=Ge.mult(1<<We.canonical.z);return Ot.x-=.5,Ot.y-=.5,Ot.distSqr(dt)-Ot.distSqr(yt)})})(H,this.painter),this._previousZoom=R.zoom;const X=this.proxyToSource||{};this.proxyToSource={},H.forEach(ve=>{this.proxyToSource[ve.key]={}}),this.terrainTileForTile={};const ae=this._style._sourceCaches;for(const ve in ae){const _e=ae[ve];if(!_e.used||(_e!==this.sourceCache&&(this._findCoveringTileCache[_e.id]={}),this._setupProxiedCoordsForOrtho(_e,f[ve],X),_e.usedForTerrain))continue;const ze=f[ve];_e.getSource().reparseOverscaled&&this._assignTerrainTiles(ze)}this.proxiedCoords[C.id]=H.map(ve=>new er(ve,ve.key,this.orthoMatrix)),this._assignTerrainTiles(H),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(X),this.renderingToTexture=!1,this._updateTimestamp=b.exported.now();const fe={};this._visibleDemTiles=[];for(const ve of this.proxyCoords){const _e=this.terrainTileForTile[ve.key];if(!_e)continue;const ze=_e.tileID.key;ze in fe||(this._visibleDemTiles.push(_e),fe[ze]=ze)}}_assignTerrainTiles(f){this._initializing||f.forEach(C=>{if(this.terrainTileForTile[C.key])return;const R=this._findTileCoveringTileID(C,this.sourceCache);R&&(this.terrainTileForTile[C.key]=R)})}_prepareDEMTextures(){const f=this.painter.context,C=f.gl;for(const R in this.terrainTileForTile){const H=this.terrainTileForTile[R],X=H.dem;!X||H.demTexture&&!H.needsDEMTextureUpload||(f.activeTexture.set(C.TEXTURE1),ra(this.painter,H,X))}}_prepareDemTileUniforms(f,C,R,H){if(!C||null==C.demTexture)return!1;const X=f.tileID.canonical,ae=Math.pow(2,C.tileID.canonical.z-X.z),fe=H||"";return R[`u_dem_tl${fe}`]=[X.x*ae%1,X.y*ae%1],R[`u_dem_scale${fe}`]=ae,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let f=0;const C=this._visibleDemTiles.reduce((R,H)=>{if(!H.dem)return R;const X=H.dem.tree.minimums[0];return X>0&&f++,R+X},0);return f?C/f:0}_updateEmptyDEMTexture(){const f=this.painter.context,C=f.gl;f.activeTexture.set(C.TEXTURE2);const R=this._getLoadedAreaMinimum(),H={width:1,height:1,data:new Uint8Array(b.DEMData.pack(R,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let X=this._emptyDEMTexture;return X?X.update(H,{premultiply:!1}):X=this._emptyDEMTexture=new b.Texture(f,H,C.RGBA,{premultiply:!1}),X}setupElevationDraw(f,C,R){const H=this.painter.context,X=H.gl,ae=(fe=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:b.DEMData.getUnpackVector(fe),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var fe;ae.u_dem_size=this.sourceCache.getSource().tileSize,ae.u_exaggeration=this.exaggeration();let ve=null,_e=null,ze=1;if(R&&R.morphing&&this._useVertexMorphing){const Ge=R.morphing.srcDemTile,We=R.morphing.dstDemTile;ze=R.morphing.phase,Ge&&We&&(this._prepareDemTileUniforms(f,Ge,ae,"_prev")&&(_e=Ge),this._prepareDemTileUniforms(f,We,ae)&&(ve=We))}if(_e&&ve?(H.activeTexture.set(X.TEXTURE2),ve.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),H.activeTexture.set(X.TEXTURE4),_e.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),ae.u_dem_lerp=ze):(ve=this.terrainTileForTile[f.tileID.key],H.activeTexture.set(X.TEXTURE2),(this._prepareDemTileUniforms(f,ve,ae)?ve.demTexture:this.emptyDEMTexture).bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST)),R&&R.useDepthForOcclusion&&(H.activeTexture.set(X.TEXTURE3),this._depthTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),ae.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),R&&R.useMeterToDem&&ve){const Ge=(1<<ve.tileID.canonical.z)*b.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ae.u_meter_to_dem=Ge}R&&R.labelPlaneMatrixInv&&(ae.u_label_plane_matrix_inv=R.labelPlaneMatrixInv),C.setTerrainUniformValues(H,ae)}renderToBackBuffer(f){const C=this.painter,R=this.painter.context;0!==f.length&&(R.bindFramebuffer.set(null),R.viewport.set([0,0,C.width,C.height]),this.renderingToTexture=!1,function(H,X,ae,fe,ve){const _e=H.context,ze=_e.gl;let Ge,We;const Xe=H.options.showTerrainWireframe?2:0,dt=(wt,Bt)=>{if(We===wt)return;const Ct=[za[wt]];Bt&&Ct.push(za[Xe]),Ge=H.useProgram("terrainRaster",null,Ct),We=wt},yt=H.colorModeForRenderPass(),Ot=new b.DepthMode(ze.LEQUAL,b.DepthMode.ReadWrite,H.depthRangeFor3D);Bl.update(ve);const ot=H.transform,vt=6*Math.pow(1.5,22-ot.zoom)*X.exaggeration();(Xe?[!1,!0]:[!1]).forEach(wt=>{We=-1;const Bt=wt?ze.LINES:ze.TRIANGLES,[Ct,kt]=wt?X.getWirefameBuffer():[X.gridIndexBuffer,X.gridSegments];for(const Ln of fe){const Dt=ae.getTile(Ln),ti=b.StencilMode.disabled,On=X.prevTerrainTileForTile[Ln.key],ci=X.terrainTileForTile[Ln.key];Tn=ci,null!=(wn=On)&&null!=Tn&&wn.hasData()&&Tn.hasData()&&null!=wn.demTexture&&null!=Tn.demTexture&&wn.tileID.key!==Tn.tileID.key&&Bl.newMorphing(Ln.key,On,ci,ve,250),_e.activeTexture.set(ze.TEXTURE0),Dt.texture.bind(ze.LINEAR,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);const Qn=Bl.getMorphValuesForProxy(Ln.key),Wn=Qn?1:0;let ur;Qn&&(ur={morphing:{srcDemTile:Qn.from,dstDemTile:Qn.to,phase:b.easeCubicInOut(Qn.phase)}});const Si=xc(Ln.projMatrix,dd(Ln.canonical,ot.renderWorldCopies)?vt/10:vt);dt(Wn,wt),X.setupElevationDraw(Dt,Ge,ur),H.prepareDrawProgram(_e,Ge,Ln.toUnwrapped()),Ge.draw(_e,Bt,Ot,ti,yt,b.CullFaceMode.backCCW,Si,"terrain_raster",X.gridBuffer,Ct,kt)}var wn,Tn})}(C,this,this.proxySourceCache,f,this._updateTimestamp),this.renderingToTexture=!0,f.splice(0,f.length))}renderBatch(f){if(0===this._drapedRenderBatches.length)return f+1;this.renderingToTexture=!0;const C=this.painter,R=this.painter.context,H=this.proxySourceCache,X=this.proxiedCoords[H.id],ae=this._drapedRenderBatches.shift(),fe=[],ve=C.style.order;let _e=0;for(const ze of X){const Ge=H.getTileByID(ze.proxyTileKey),We=H.proxyCachedFBO[ze.key]?H.proxyCachedFBO[ze.key][f]:void 0,Xe=void 0!==We?H.renderCache[We]:this.pool[_e++],dt=void 0!==We;if(Ge.texture=Xe.tex,dt&&!Xe.dirty){fe.push(Ge.tileID);continue}let yt;R.bindFramebuffer.set(Xe.fb.framebuffer),this.renderedToTile=!1,Xe.dirty&&(R.clear({color:b.Color.transparent}),Xe.dirty=!1);for(let Ot=ae.start;Ot<=ae.end;++Ot){const ot=C.style._layers[ve[Ot]];if(ot.isHidden(C.transform.zoom))continue;const vt=C.style._getLayerSourceCache(ot),wt=vt?this.proxyToSource[ze.key][vt.id]:[ze];if(!wt)continue;const Bt=wt;R.viewport.set([0,0,Xe.fb.width,Xe.fb.height]),yt!==(vt?vt.id:null)&&(this._setupStencil(Xe,wt,ot,vt),yt=vt?vt.id:null),C.renderLayer(C,vt,ot,Bt)}this.renderedToTile?(Xe.dirty=!0,fe.push(Ge.tileID)):dt||--_e,5===_e&&(_e=0,this.renderToBackBuffer(fe))}return this.renderToBackBuffer(fe),this.renderingToTexture=!1,R.bindFramebuffer.set(null),R.viewport.set([0,0,C.width,C.height]),ae.end+1}postRender(){}renderCacheEfficiency(f){const C=f.order.length;if(0===C)return{efficiency:100};let R,H=0,X=0,ae=!1;for(let fe=0;fe<C;++fe){const ve=f._layers[f.order[fe]];this._style.isLayerDraped(ve)?(ae&&++H,++X):ae||(ae=!0,R=ve.id)}return 0===X?{efficiency:100}:{efficiency:100*(1-H/X),firstUndrapedLayer:R}}getMinElevationBelowMSL(){let f=0;return this._visibleDemTiles.filter(C=>C.dem).forEach(C=>{f=Math.min(f,C.dem.tree.minimums[0])}),0===f?f:(f-30)*this._exaggeration}raycast(f,C,R){if(!this._visibleDemTiles)return null;const H=this._visibleDemTiles.filter(X=>X.dem).map(X=>{const ae=X.tileID,fe=Math.pow(2,ae.overscaledZ),{x:ve,y:_e}=ae.canonical,ze=ve/fe,Ge=(ve+1)/fe,We=_e/fe,Xe=(_e+1)/fe;return{minx:ze,miny:We,maxx:Ge,maxy:Xe,t:X.dem.tree.raycastRoot(ze,We,Ge,Xe,f,C,R),tile:X}});H.sort((X,ae)=>(null!==X.t?X.t:Number.MAX_VALUE)-(null!==ae.t?ae.t:Number.MAX_VALUE));for(const X of H){if(null==X.t)return null;const ae=X.tile.dem.tree.raycast(X.minx,X.miny,X.maxx,X.maxy,f,C,R);if(null!=ae)return ae}return null}_createFBO(){const f=this.painter.context,C=f.gl,R=this.drapeBufferSize;f.activeTexture.set(C.TEXTURE0);const H=new b.Texture(f,{width:R[0],height:R[1],data:null},C.RGBA);H.bind(C.LINEAR,C.CLAMP_TO_EDGE);const X=f.createFramebuffer(R[0],R[1],!1);return X.colorAttachment.set(H.texture),X.depthAttachment=new nn(f,X.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=f.createRenderbuffer(f.gl.DEPTH_STENCIL,R[0],R[1]),this._stencilRef=0,X.depthAttachment.set(this._sharedDepthStencil),f.clear({stencil:0})):X.depthAttachment.set(this._sharedDepthStencil),f.extTextureFilterAnisotropic&&!f.extTextureFilterAnisotropicForceOff&&C.texParameterf(C.TEXTURE_2D,f.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,f.extTextureFilterAnisotropicMax),{fb:X,tex:H,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const f in this._style._sourceCaches)if(this._style._sourceCaches[f].hasTransition())return!0;return this._style.order.some(f=>{const C=this._style._layers[f],R=C.isHidden(this.painter.transform.zoom),H=C.getCrossfadeParameters(),X=!!H&&1!==H.t,ae=C.hasTransition();return"custom"!==C.type&&!R&&(X||ae)})}_clearRasterFadeFromRenderCache(){let f=!1;for(const C in this._style._sourceCaches)if(this._style._sourceCaches[C]._source instanceof ar){f=!0;break}if(f)for(let C=0;C<this._style.order.length;++C){const R=this._style._layers[this._style.order[C]],H=R.isHidden(this.painter.transform.zoom),X=this._style._getLayerSourceCache(R);if("raster"!==R.type||H||!X)continue;const ae=R.paint.get("raster-fade-duration");for(const fe of this.proxyCoords){const ve=this.proxyToSource[fe.key][X.id];if(ve)for(const _e of ve){const ze=Rs(X.getTile(_e),X.findLoadedParent(_e,0),X,this.painter.transform,ae);(1!==ze.opacity||0!==ze.mix)&&this._clearRenderCacheForTile(X.id,_e)}}}}_setupDrapedRenderBatches(){const f=this._style.order,C=f.length;if(0===C)return;const R=[];let H,X=0,ae=this._style._layers[f[X]];for(;!this._style.isLayerDraped(ae)&&ae.isHidden(this.painter.transform.zoom)&&++X<C;)ae=this._style._layers[f[X]];for(;X<C;++X){const fe=this._style._layers[f[X]];fe.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(fe)?void 0===H&&(H=X):void 0!==H&&(R.push({start:H,end:X-1}),H=void 0))}void 0!==H&&R.push({start:H,end:X-1}),this._drapedRenderBatches=R}_setupRenderCache(f){const C=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,C.renderCache.length>C.renderCachePool.length){const ae=Object.values(C.proxyCachedFBO);C.proxyCachedFBO={};for(let fe=0;fe<ae.length;++fe){const ve=Object.values(ae[fe]);C.renderCachePool.push(...ve)}}return}this._clearRasterFadeFromRenderCache();const R=this.proxyCoords,H=this._tilesDirty;for(let ae=R.length-1;ae>=0;ae--){const fe=R[ae];if(C.getTileByID(fe.key),void 0!==C.proxyCachedFBO[fe.key]){const ve=f[fe.key],_e=this.proxyToSource[fe.key];let ze=0;for(const Ge in _e){const We=_e[Ge],Xe=ve[Ge];if(!Xe||Xe.length!==We.length||We.some((dt,yt)=>dt!==Xe[yt]||H[Ge]&&H[Ge].hasOwnProperty(dt.key))){ze=-1;break}++ze}for(const Ge in C.proxyCachedFBO[fe.key])C.renderCache[C.proxyCachedFBO[fe.key][Ge]].dirty=ze<0||ze!==Object.values(ve).length}}const X=[...this._drapedRenderBatches];X.sort((ae,fe)=>fe.end-fe.start-(ae.end-ae.start));for(const ae of X)for(const fe of R){if(C.proxyCachedFBO[fe.key])continue;let ve=C.renderCachePool.pop();void 0===ve&&C.renderCache.length<50&&(ve=C.renderCache.length,C.renderCache.push(this._createFBO())),void 0!==ve&&(C.proxyCachedFBO[fe.key]={},C.proxyCachedFBO[fe.key][ae.start]=ve,C.renderCache[ve].dirty=!0)}this._tilesDirty={}}_setupStencil(f,C,R,H){if(!H||!this._sourceTilesOverlap[H.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const X=this.painter.context,ae=X.gl;if(C.length<=1)return void(this._overlapStencilType=!1);let fe;if(R.isTileClipped())fe=C.length,this._overlapStencilMode.test={func:ae.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(C[0].overscaledZ>C[C.length-1].overscaledZ))return void(this._overlapStencilType=!1);fe=1,this._overlapStencilMode.test={func:ae.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+fe>255&&(X.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=fe,this._overlapStencilMode.ref=this._stencilRef,R.isTileClipped()&&this._renderTileClippingMasks(C,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(f){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[f.key]),this._overlapStencilMode):b.StencilMode.disabled}_renderTileClippingMasks(f,C){const R=this.painter,H=this.painter.context,X=H.gl;R._tileClippingMaskIDs={},H.setColorMode(b.ColorMode.disabled),H.setDepthMode(b.DepthMode.disabled);const ae=R.useProgram("clippingMask");for(const fe of f){const ve=R._tileClippingMaskIDs[fe.key]=--C;ae.draw(H,X.TRIANGLES,b.DepthMode.disabled,new b.StencilMode({func:X.ALWAYS,mask:0},ve,255,X.KEEP,X.KEEP,X.REPLACE),b.ColorMode.disabled,b.CullFaceMode.disabled,wc(fe.projMatrix),"$clipping",R.tileExtentBuffer,R.quadTriangleIndexBuffer,R.tileExtentSegments)}}pointCoordinate(f){const C=this.painter.transform;if(f.x<0||f.x>C.width||f.y<0||f.y>C.height)return null;const R=[f.x,f.y,1,1];b.transformMat4(R,R,C.pixelMatrixInverse),b.scale$2(R,R,1/R[3]),R[0]/=C.worldSize,R[1]/=C.worldSize;const H=C._camera.position,X=b.mercatorZfromAltitude(1,C.center.lat),ae=[H[0],H[1],H[2]/X,0],fe=b.subtract([],R.slice(0,3),ae);b.normalize(fe,fe);const ve=this.raycast(ae,fe,this._exaggeration);return null!==ve&&ve?(b.scaleAndAdd(ae,ae,fe,ve),ae[3]=ae[2],ae[2]*=X,ae):null}drawDepth(){const f=this.painter,C=f.context,R=this.proxySourceCache,H=Math.ceil(f.width),X=Math.ceil(f.height);if(!this._depthFBO||this._depthFBO.width===H&&this._depthFBO.height===X||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const ae=C.gl,fe=C.createFramebuffer(H,X,!0);C.activeTexture.set(ae.TEXTURE0);const ve=new b.Texture(C,{width:H,height:X,data:null},ae.RGBA);ve.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),fe.colorAttachment.set(ve.texture);const _e=C.createRenderbuffer(C.gl.DEPTH_COMPONENT16,H,X);fe.depthAttachment.set(_e),this._depthFBO=fe,this._depthTexture=ve}C.bindFramebuffer.set(this._depthFBO.framebuffer),C.viewport.set([0,0,H,X]),function(ae,fe,ve,_e){const ze=ae.context,Ge=ze.gl;ze.clear({depth:1});const We=ae.useProgram("terrainDepth"),Xe=new b.DepthMode(Ge.LESS,b.DepthMode.ReadWrite,ae.depthRangeFor3D);for(const dt of _e){const yt=ve.getTile(dt),Ot=xc(dt.projMatrix,0);fe.setupElevationDraw(yt,We),We.draw(ze,Ge.TRIANGLES,Xe,b.StencilMode.disabled,b.ColorMode.unblended,b.CullFaceMode.backCCW,Ot,"terrain_depth",fe.gridBuffer,fe.gridIndexBuffer,fe.gridNoSkirtSegments)}}(f,this,R,this.proxyCoords)}_setupProxiedCoordsForOrtho(f,C,R){if(f.getSource()instanceof st)return this._setupProxiedCoordsForImageSource(f,C,R);this._findCoveringTileCache[f.id]=this._findCoveringTileCache[f.id]||{};const H=this.proxiedCoords[f.id]=[],X=this.proxyCoords;for(let fe=0;fe<X.length;fe++){const ve=X[fe],_e=this._findTileCoveringTileID(ve,f);if(_e){const ze=this._createProxiedId(ve,_e,R[ve.key]&&R[ve.key][f.id]);H.push(ze),this.proxyToSource[ve.key][f.id]=[ze]}}let ae=!1;for(let fe=0;fe<C.length;fe++){const ve=f.getTile(C[fe]);if(!ve||!ve.hasData())continue;const _e=this._findTileCoveringTileID(ve.tileID,this.proxySourceCache);if(_e&&_e.tileID.canonical.z!==ve.tileID.canonical.z){const ze=this.proxyToSource[_e.tileID.key][f.id],Ge=this._createProxiedId(_e.tileID,ve,R[_e.tileID.key]&&R[_e.tileID.key][f.id]);ze?ze.splice(ze.length-1,0,Ge):this.proxyToSource[_e.tileID.key][f.id]=[Ge],H.push(Ge),ae=!0}}this._sourceTilesOverlap[f.id]=ae}_setupProxiedCoordsForImageSource(f,C,R){if(!f.getSource().loaded())return;const H=this.proxiedCoords[f.id]=[],X=this.proxyCoords,ae=f.getSource(),fe=new b.pointGeometry(ae.tileID.x,ae.tileID.y)._div(1<<ae.tileID.z),ve=ae.coordinates.map(b.MercatorCoordinate.fromLngLat).reduce((ze,Ge)=>(ze.min.x=Math.min(ze.min.x,Ge.x-fe.x),ze.min.y=Math.min(ze.min.y,Ge.y-fe.y),ze.max.x=Math.max(ze.max.x,Ge.x-fe.x),ze.max.y=Math.max(ze.max.y,Ge.y-fe.y),ze),{min:new b.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new b.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),_e=(ze,Ge)=>{const We=ze.wrap+ze.canonical.x/(1<<ze.canonical.z),Xe=ze.canonical.y/(1<<ze.canonical.z),dt=b.EXTENT/(1<<ze.canonical.z),yt=Ge.wrap+Ge.canonical.x/(1<<Ge.canonical.z),Ot=Ge.canonical.y/(1<<Ge.canonical.z);return We+dt<yt+ve.min.x||We>yt+ve.max.x||Xe+dt<Ot+ve.min.y||Xe>Ot+ve.max.y};for(let ze=0;ze<X.length;ze++){const Ge=X[ze];for(let We=0;We<C.length;We++){const Xe=f.getTile(C[We]);if(!Xe||!Xe.hasData()||_e(Ge,Xe.tileID))continue;const dt=this._createProxiedId(Ge,Xe,R[Ge.key]&&R[Ge.key][f.id]),yt=this.proxyToSource[Ge.key][f.id];yt?yt.push(dt):this.proxyToSource[Ge.key][f.id]=[dt],H.push(dt)}}}_createProxiedId(f,C,R){let H=this.orthoMatrix;if(R){const X=R.find(ae=>ae.key===C.tileID.key);if(X)return X}if(C.tileID.key!==f.key){const X=f.canonical.z-C.tileID.canonical.z;let ae,fe,ve;H=b.create$1();const _e=C.tileID.wrap-f.wrap<<f.overscaledZ;X>0?(ae=b.EXTENT>>X,fe=ae*((C.tileID.canonical.x<<X)-f.canonical.x+_e),ve=ae*((C.tileID.canonical.y<<X)-f.canonical.y)):(ae=b.EXTENT<<-X,fe=b.EXTENT*(C.tileID.canonical.x-(f.canonical.x+_e<<-X)),ve=b.EXTENT*(C.tileID.canonical.y-(f.canonical.y<<-X))),b.ortho(H,0,ae,0,ae,0,1),b.translate(H,H,[fe,ve,0])}return new er(C.tileID,f.key,H)}_findTileCoveringTileID(f,C){let R=C.getTile(f);if(R&&R.hasData())return R;const H=this._findCoveringTileCache[C.id],X=H[f.key];if(R=X?C.getTileByID(X):null,R&&R.hasData()||null===X)return R;let ae=R?R.tileID:f,fe=ae.overscaledZ;const ve=C.getSource().minzoom,_e=[];if(!X){const Ge=C.getSource().maxzoom;if(f.canonical.z>=Ge){const We=f.canonical.z-Ge;C.getSource().reparseOverscaled?(fe=Math.max(f.canonical.z+2,C.transform.tileZoom),ae=new b.OverscaledTileID(fe,f.wrap,Ge,f.canonical.x>>We,f.canonical.y>>We)):0!==We&&(fe=Ge,ae=new b.OverscaledTileID(fe,f.wrap,Ge,f.canonical.x>>We,f.canonical.y>>We))}ae.key!==f.key&&(_e.push(ae.key),R=C.getTile(ae))}const ze=Ge=>{_e.forEach(We=>{H[We]=Ge}),_e.length=0};for(fe-=1;fe>=ve&&(!R||!R.hasData());fe--){R&&ze(R.tileID.key);const Ge=ae.calculateScaledKey(fe);if(R=C.getTileByID(Ge),R&&R.hasData())break;const We=H[Ge];if(null===We)break;void 0===We?_e.push(Ge):R=C.getTileByID(We)}return ze(R?R.tileID.key:null),R&&R.hasData()?R:null}findDEMTileFor(f){return this.enabled?this._findTileCoveringTileID(f,this.sourceCache):null}prepareDrawTile(f){this.renderedToTile=!0}_clearRenderCacheForTile(f,C){let R=this._tilesDirty[f];R||(R=this._tilesDirty[f]={}),R[C.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const f=function(C){let R,H,X;const ae=new b.StructArrayLayout2ui4;for(H=1;H<129;H++){for(R=1;R<129;R++)X=131*H+R,ae.emplaceBack(X,X+1),ae.emplaceBack(X,X+131),ae.emplaceBack(X+1,X+131),128===H&&ae.emplaceBack(X+131,X+131+1);ae.emplaceBack(X+1,X+1+131)}return ae}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(f),this.wireframeSegments=b.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,f.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function cr(P){const f=[];for(let C=0;C<P.length;C++){if(null===P[C])continue;const R=P[C].split(" ");f.push(R.pop())}return f}class ip{static cacheKey(f,C,R){let H=`${f}${R?R.cacheKey:""}`;for(const X of C)H+=`/${X}`;return H}constructor(f,C,R,H,X,ae){const fe=f.gl;this.program=fe.createProgram();const ve=cr(R.staticAttributes),_e=H?H.getBinderAttributes():[],ze=ve.concat(_e),Ge=R.staticUniforms?cr(R.staticUniforms):[],We=H?H.getBinderUniforms():[],Xe=Ge.concat(We),dt=[];for(const Ct of Xe)dt.indexOf(Ct)<0&&dt.push(Ct);let yt=H?H.defines():[];yt=yt.concat(ae.map(Ct=>`#define ${Ct}`));const Ot=yt.concat(Yl.fragmentSource,zd,Wi.fragmentSource,R.fragmentSource).join("\n"),ot=yt.concat(Yl.vertexSource,zd,Wi.vertexSource,Ps.vertexSource,R.vertexSource).join("\n"),vt=fe.createShader(fe.FRAGMENT_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);fe.shaderSource(vt,Ot),fe.compileShader(vt),fe.attachShader(this.program,vt);const wt=fe.createShader(fe.VERTEX_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);fe.shaderSource(wt,ot),fe.compileShader(wt),fe.attachShader(this.program,wt),this.attributes={};const Bt={};this.numAttributes=ze.length;for(let Ct=0;Ct<this.numAttributes;Ct++)ze[Ct]&&(fe.bindAttribLocation(this.program,Ct,ze[Ct]),this.attributes[ze[Ct]]=Ct);fe.linkProgram(this.program),fe.deleteShader(wt),fe.deleteShader(vt);for(let Ct=0;Ct<dt.length;Ct++){const kt=dt[Ct];if(kt&&!Bt[kt]){const wn=fe.getUniformLocation(this.program,kt);wn&&(Bt[kt]=wn)}}var Ct,kt;this.fixedUniforms=X(f,Bt),this.binderUniforms=H?H.getUniforms(f,Bt):[],-1!==ae.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new b.Uniform1i(Ct=f,(kt=Bt).u_dem),u_dem_prev:new b.Uniform1i(Ct,kt.u_dem_prev),u_dem_unpack:new b.Uniform4f(Ct,kt.u_dem_unpack),u_dem_tl:new b.Uniform2f(Ct,kt.u_dem_tl),u_dem_scale:new b.Uniform1f(Ct,kt.u_dem_scale),u_dem_tl_prev:new b.Uniform2f(Ct,kt.u_dem_tl_prev),u_dem_scale_prev:new b.Uniform1f(Ct,kt.u_dem_scale_prev),u_dem_size:new b.Uniform1f(Ct,kt.u_dem_size),u_dem_lerp:new b.Uniform1f(Ct,kt.u_dem_lerp),u_exaggeration:new b.Uniform1f(Ct,kt.u_exaggeration),u_depth:new b.Uniform1i(Ct,kt.u_depth),u_depth_size_inv:new b.Uniform2f(Ct,kt.u_depth_size_inv),u_meter_to_dem:new b.Uniform1f(Ct,kt.u_meter_to_dem),u_label_plane_matrix_inv:new b.UniformMatrix4f(Ct,kt.u_label_plane_matrix_inv)}),-1!==ae.indexOf("FOG")&&(this.fogUniforms=((Ct,kt)=>({u_fog_matrix:new b.UniformMatrix4f(Ct,kt.u_fog_matrix),u_fog_range:new b.Uniform2f(Ct,kt.u_fog_range),u_fog_color:new b.Uniform4f(Ct,kt.u_fog_color),u_fog_horizon_blend:new b.Uniform1f(Ct,kt.u_fog_horizon_blend),u_fog_temporal_offset:new b.Uniform1f(Ct,kt.u_fog_temporal_offset)}))(f,Bt))}setTerrainUniformValues(f,C){if(!this.terrainUniforms)return;const R=this.terrainUniforms;if(!this.failedToCreate){f.program.set(this.program);for(const H in C)R[H].set(C[H])}}setFogUniformValues(f,C){if(!this.fogUniforms)return;const R=this.fogUniforms;if(!this.failedToCreate){f.program.set(this.program);for(const H in C)R[H].location&&R[H].set(C[H])}}draw(f,C,R,H,X,ae,fe,ve,_e,ze,Ge,We,Xe,dt,yt,Ot){const ot=f.gl;if(this.failedToCreate)return;f.program.set(this.program),f.setDepthMode(R),f.setStencilMode(H),f.setColorMode(X),f.setCullFace(ae);for(const wt in this.fixedUniforms)this.fixedUniforms[wt].set(fe[wt]);dt&&dt.setUniforms(f,this.binderUniforms,We,{zoom:Xe});const vt={[ot.LINES]:2,[ot.TRIANGLES]:3,[ot.LINE_STRIP]:1}[C];for(const wt of Ge.get()){const Bt=wt.vaos||(wt.vaos={});(Bt[ve]||(Bt[ve]=new Yd)).bind(f,this,_e,dt?dt.getPaintVertexBuffers():[],ze,wt.vertexOffset,yt,Ot),ot.drawElements(C,wt.primitiveLength*vt,ot.UNSIGNED_SHORT,wt.primitiveOffset*vt*2)}}}function Kr(P,f,C){const R=1/ni(C,1,f.transform.tileZoom),H=Math.pow(2,C.tileID.overscaledZ),X=C.tileSize*Math.pow(2,f.transform.tileZoom)/H,ae=X*(C.tileID.canonical.x+C.tileID.wrap*H),fe=X*C.tileID.canonical.y;return{u_image:0,u_texsize:C.imageAtlasTexture.size,u_scale:[R,P.fromScale,P.toScale],u_fade:P.t,u_pixel_coord_upper:[ae>>16,fe>>16],u_pixel_coord_lower:[65535&ae,65535&fe]}}const Au=(P,f,C,R)=>{const H=f.style.light,X=H.properties.get("position"),ae=[X.x,X.y,X.z],fe=b.create$2();"viewport"===H.properties.get("anchor")&&(b.fromRotation(fe,-f.transform.angle),b.transformMat3(ae,ae,fe));const ve=H.properties.get("color");return{u_matrix:P,u_lightpos:ae,u_lightintensity:H.properties.get("intensity"),u_lightcolor:[ve.r,ve.g,ve.b],u_vertical_gradient:+C,u_opacity:R}},Sl=(P,f,C,R,H,X,ae)=>b.extend(Au(P,f,C,R),Kr(X,f,ae),{u_height_factor:-Math.pow(2,H.overscaledZ)/ae.tileSize/8}),Vl=P=>({u_matrix:P}),ya=(P,f,C,R)=>b.extend(Vl(P),Kr(C,f,R)),qa=(P,f)=>({u_matrix:P,u_world:f}),ss=(P,f,C,R,H)=>b.extend(ya(P,f,C,R),{u_world:H}),$o=(P,f,C,R)=>{const H=P.transform;let X;if("map"===R.paint.get("circle-pitch-alignment")){const ae=ni(C,1,H.zoom);X=[ae,ae]}else X=H.pixelsToGLUnits;return{u_camera_to_center_distance:H.cameraToCenterDistance,u_matrix:P.translatePosMatrix(f.projMatrix,C,R.paint.get("circle-translate"),R.paint.get("circle-translate-anchor")),u_device_pixel_ratio:b.exported.devicePixelRatio,u_extrude_scale:X}},Bd=P=>{const f=[];return"map"===P.paint.get("circle-pitch-alignment")&&f.push("PITCH_WITH_MAP"),"map"===P.paint.get("circle-pitch-scale")&&f.push("SCALE_WITH_MAP"),f},tu=(P,f,C)=>{const R=b.EXTENT/C.tileSize;return{u_matrix:P,u_camera_to_center_distance:f.cameraToCenterDistance,u_extrude_scale:[f.pixelsToGLUnits[0]/R,f.pixelsToGLUnits[1]/R]}},kl=(P,f,C=1)=>({u_matrix:P,u_color:f,u_overlay:0,u_overlay_scale:C}),yh=(P,f,C,R)=>({u_matrix:P,u_extrude_scale:ni(f,1,C),u_intensity:R}),Kl=(P,f,C,R)=>{const H=P.transform;return{u_matrix:nu(P,f,C,R),u_ratio:1/ni(f,1,H.zoom),u_device_pixel_ratio:b.exported.devicePixelRatio,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]]}},Ji=(P,f,C,R,H)=>b.extend(Kl(P,f,C,R),{u_image:0,u_image_height:H}),Iu=(P,f,C,R,H)=>{const X=P.transform,ae=ec(f,X);return{u_matrix:nu(P,f,C,H),u_texsize:f.imageAtlasTexture.size,u_ratio:1/ni(f,1,X.zoom),u_device_pixel_ratio:b.exported.devicePixelRatio,u_image:0,u_scale:[ae,R.fromScale,R.toScale],u_fade:R.t,u_units_to_pixels:[1/X.pixelsToGLUnits[0],1/X.pixelsToGLUnits[1]]}},hd=(P,f,C,R,H)=>{const X=ec(f,P.transform);return b.extend(Kl(P,f,C,H),{u_texsize:f.lineAtlasTexture.size,u_scale:[X,R.fromScale,R.toScale],u_image:0,u_mix:R.t})};function ec(P,f){return 1/ni(P,1,f.tileZoom)}function nu(P,f,C,R){return P.translatePosMatrix(R||f.tileID.projMatrix,f,C.paint.get("line-translate"),C.paint.get("line-translate-anchor"))}const Ip=(P,f,C,R,H)=>{return{u_matrix:P,u_tl_parent:f,u_scale_parent:C,u_buffer_scale:1,u_fade_t:R.mix,u_opacity:R.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:(ae=H.paint.get("raster-saturation"),ae>0?1-1/(1.001-ae):-ae),u_contrast_factor:(X=H.paint.get("raster-contrast"),X>0?1/(1-X):1+X),u_spin_weights:Bc(H.paint.get("raster-hue-rotate"))};var X,ae};function Bc(P){P*=Math.PI/180;const f=Math.sin(P),C=Math.cos(P);return[(2*C+1)/3,(-Math.sqrt(3)*f-C+1)/3,(Math.sqrt(3)*f-C+1)/3]}const Lu=(P,f,C,R,H,X,ae,fe,ve,_e)=>{const ze=H.transform;return{u_is_size_zoom_constant:+("constant"===P||"source"===P),u_is_size_feature_constant:+("constant"===P||"camera"===P),u_size_t:f?f.uSizeT:0,u_size:f?f.uSize:0,u_camera_to_center_distance:ze.cameraToCenterDistance,u_pitch:ze.pitch/360*2*Math.PI,u_rotate_symbol:+C,u_aspect_ratio:ze.width/ze.height,u_fade_change:H.options.fadeDuration?H.symbolFadeChange:1,u_matrix:X,u_label_plane_matrix:ae,u_coord_matrix:fe,u_is_text:+ve,u_pitch_with_map:+R,u_texsize:_e,u_texture:0}},Un=(P,f,C,R,H,X,ae,fe,ve,_e,ze)=>{const{cameraToCenterDistance:Ge,_pitch:We}=H.transform;return b.extend(Lu(P,f,C,R,H,X,ae,fe,ve,_e),{u_gamma_scale:R?Ge*Math.cos(H.terrain?0:We):1,u_device_pixel_ratio:b.exported.devicePixelRatio,u_is_halo:+ze})},us=(P,f,C,R,H,X,ae,fe,ve,_e)=>b.extend(Un(P,f,C,R,H,X,ae,fe,!0,ve,!0),{u_texsize_icon:_e,u_texture_icon:1}),vh=(P,f,C)=>({u_matrix:P,u_opacity:f,u_color:C}),fo=(P,f,C,R,H,X)=>b.extend(function(ae,fe,ve,_e){const ze=ve.imageManager.getPattern(ae.from.toString()),Ge=ve.imageManager.getPattern(ae.to.toString()),{width:We,height:Xe}=ve.imageManager.getPixelSize(),dt=Math.pow(2,_e.tileID.overscaledZ),yt=_e.tileSize*Math.pow(2,ve.transform.tileZoom)/dt,Ot=yt*(_e.tileID.canonical.x+_e.tileID.wrap*dt),ot=yt*_e.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ze.tl,u_pattern_br_a:ze.br,u_pattern_tl_b:Ge.tl,u_pattern_br_b:Ge.br,u_texsize:[We,Xe],u_mix:fe.t,u_pattern_size_a:ze.displaySize,u_pattern_size_b:Ge.displaySize,u_scale_a:fe.fromScale,u_scale_b:fe.toScale,u_tile_units_to_pixels:1/ni(_e,1,ve.transform.tileZoom),u_pixel_coord_upper:[Ot>>16,ot>>16],u_pixel_coord_lower:[65535&Ot,65535&ot]}}(R,X,C,H),{u_matrix:P,u_opacity:f}),pd={fillExtrusion:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_lightpos:new b.Uniform3f(P,f.u_lightpos),u_lightintensity:new b.Uniform1f(P,f.u_lightintensity),u_lightcolor:new b.Uniform3f(P,f.u_lightcolor),u_vertical_gradient:new b.Uniform1f(P,f.u_vertical_gradient),u_opacity:new b.Uniform1f(P,f.u_opacity)}),fillExtrusionPattern:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_lightpos:new b.Uniform3f(P,f.u_lightpos),u_lightintensity:new b.Uniform1f(P,f.u_lightintensity),u_lightcolor:new b.Uniform3f(P,f.u_lightcolor),u_vertical_gradient:new b.Uniform1f(P,f.u_vertical_gradient),u_height_factor:new b.Uniform1f(P,f.u_height_factor),u_image:new b.Uniform1i(P,f.u_image),u_texsize:new b.Uniform2f(P,f.u_texsize),u_pixel_coord_upper:new b.Uniform2f(P,f.u_pixel_coord_upper),u_pixel_coord_lower:new b.Uniform2f(P,f.u_pixel_coord_lower),u_scale:new b.Uniform3f(P,f.u_scale),u_fade:new b.Uniform1f(P,f.u_fade),u_opacity:new b.Uniform1f(P,f.u_opacity)}),fill:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix)}),fillPattern:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_image:new b.Uniform1i(P,f.u_image),u_texsize:new b.Uniform2f(P,f.u_texsize),u_pixel_coord_upper:new b.Uniform2f(P,f.u_pixel_coord_upper),u_pixel_coord_lower:new b.Uniform2f(P,f.u_pixel_coord_lower),u_scale:new b.Uniform3f(P,f.u_scale),u_fade:new b.Uniform1f(P,f.u_fade)}),fillOutline:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_world:new b.Uniform2f(P,f.u_world)}),fillOutlinePattern:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_world:new b.Uniform2f(P,f.u_world),u_image:new b.Uniform1i(P,f.u_image),u_texsize:new b.Uniform2f(P,f.u_texsize),u_pixel_coord_upper:new b.Uniform2f(P,f.u_pixel_coord_upper),u_pixel_coord_lower:new b.Uniform2f(P,f.u_pixel_coord_lower),u_scale:new b.Uniform3f(P,f.u_scale),u_fade:new b.Uniform1f(P,f.u_fade)}),circle:(P,f)=>({u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_extrude_scale:new b.Uniform2f(P,f.u_extrude_scale),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_matrix:new b.UniformMatrix4f(P,f.u_matrix)}),collisionBox:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_extrude_scale:new b.Uniform2f(P,f.u_extrude_scale)}),collisionCircle:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_inv_matrix:new b.UniformMatrix4f(P,f.u_inv_matrix),u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_viewport_size:new b.Uniform2f(P,f.u_viewport_size)}),debug:(P,f)=>({u_color:new b.UniformColor(P,f.u_color),u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_overlay:new b.Uniform1i(P,f.u_overlay),u_overlay_scale:new b.Uniform1f(P,f.u_overlay_scale)}),clippingMask:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix)}),heatmap:(P,f)=>({u_extrude_scale:new b.Uniform1f(P,f.u_extrude_scale),u_intensity:new b.Uniform1f(P,f.u_intensity),u_matrix:new b.UniformMatrix4f(P,f.u_matrix)}),heatmapTexture:(P,f)=>({u_image:new b.Uniform1i(P,f.u_image),u_color_ramp:new b.Uniform1i(P,f.u_color_ramp),u_opacity:new b.Uniform1f(P,f.u_opacity)}),hillshade:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_image:new b.Uniform1i(P,f.u_image),u_latrange:new b.Uniform2f(P,f.u_latrange),u_light:new b.Uniform2f(P,f.u_light),u_shadow:new b.UniformColor(P,f.u_shadow),u_highlight:new b.UniformColor(P,f.u_highlight),u_accent:new b.UniformColor(P,f.u_accent)}),hillshadePrepare:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_image:new b.Uniform1i(P,f.u_image),u_dimension:new b.Uniform2f(P,f.u_dimension),u_zoom:new b.Uniform1f(P,f.u_zoom),u_unpack:new b.Uniform4f(P,f.u_unpack)}),line:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_ratio:new b.Uniform1f(P,f.u_ratio),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_units_to_pixels:new b.Uniform2f(P,f.u_units_to_pixels)}),lineGradient:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_ratio:new b.Uniform1f(P,f.u_ratio),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_units_to_pixels:new b.Uniform2f(P,f.u_units_to_pixels),u_image:new b.Uniform1i(P,f.u_image),u_image_height:new b.Uniform1f(P,f.u_image_height)}),linePattern:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_texsize:new b.Uniform2f(P,f.u_texsize),u_ratio:new b.Uniform1f(P,f.u_ratio),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_image:new b.Uniform1i(P,f.u_image),u_units_to_pixels:new b.Uniform2f(P,f.u_units_to_pixels),u_scale:new b.Uniform3f(P,f.u_scale),u_fade:new b.Uniform1f(P,f.u_fade)}),lineSDF:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_texsize:new b.Uniform2f(P,f.u_texsize),u_ratio:new b.Uniform1f(P,f.u_ratio),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_units_to_pixels:new b.Uniform2f(P,f.u_units_to_pixels),u_image:new b.Uniform1i(P,f.u_image),u_scale:new b.Uniform3f(P,f.u_scale),u_mix:new b.Uniform1f(P,f.u_mix)}),raster:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_tl_parent:new b.Uniform2f(P,f.u_tl_parent),u_scale_parent:new b.Uniform1f(P,f.u_scale_parent),u_buffer_scale:new b.Uniform1f(P,f.u_buffer_scale),u_fade_t:new b.Uniform1f(P,f.u_fade_t),u_opacity:new b.Uniform1f(P,f.u_opacity),u_image0:new b.Uniform1i(P,f.u_image0),u_image1:new b.Uniform1i(P,f.u_image1),u_brightness_low:new b.Uniform1f(P,f.u_brightness_low),u_brightness_high:new b.Uniform1f(P,f.u_brightness_high),u_saturation_factor:new b.Uniform1f(P,f.u_saturation_factor),u_contrast_factor:new b.Uniform1f(P,f.u_contrast_factor),u_spin_weights:new b.Uniform3f(P,f.u_spin_weights)}),symbolIcon:(P,f)=>({u_is_size_zoom_constant:new b.Uniform1i(P,f.u_is_size_zoom_constant),u_is_size_feature_constant:new b.Uniform1i(P,f.u_is_size_feature_constant),u_size_t:new b.Uniform1f(P,f.u_size_t),u_size:new b.Uniform1f(P,f.u_size),u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_pitch:new b.Uniform1f(P,f.u_pitch),u_rotate_symbol:new b.Uniform1i(P,f.u_rotate_symbol),u_aspect_ratio:new b.Uniform1f(P,f.u_aspect_ratio),u_fade_change:new b.Uniform1f(P,f.u_fade_change),u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_label_plane_matrix:new b.UniformMatrix4f(P,f.u_label_plane_matrix),u_coord_matrix:new b.UniformMatrix4f(P,f.u_coord_matrix),u_is_text:new b.Uniform1i(P,f.u_is_text),u_pitch_with_map:new b.Uniform1i(P,f.u_pitch_with_map),u_texsize:new b.Uniform2f(P,f.u_texsize),u_texture:new b.Uniform1i(P,f.u_texture)}),symbolSDF:(P,f)=>({u_is_size_zoom_constant:new b.Uniform1i(P,f.u_is_size_zoom_constant),u_is_size_feature_constant:new b.Uniform1i(P,f.u_is_size_feature_constant),u_size_t:new b.Uniform1f(P,f.u_size_t),u_size:new b.Uniform1f(P,f.u_size),u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_pitch:new b.Uniform1f(P,f.u_pitch),u_rotate_symbol:new b.Uniform1i(P,f.u_rotate_symbol),u_aspect_ratio:new b.Uniform1f(P,f.u_aspect_ratio),u_fade_change:new b.Uniform1f(P,f.u_fade_change),u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_label_plane_matrix:new b.UniformMatrix4f(P,f.u_label_plane_matrix),u_coord_matrix:new b.UniformMatrix4f(P,f.u_coord_matrix),u_is_text:new b.Uniform1i(P,f.u_is_text),u_pitch_with_map:new b.Uniform1i(P,f.u_pitch_with_map),u_texsize:new b.Uniform2f(P,f.u_texsize),u_texture:new b.Uniform1i(P,f.u_texture),u_gamma_scale:new b.Uniform1f(P,f.u_gamma_scale),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_is_halo:new b.Uniform1i(P,f.u_is_halo)}),symbolTextAndIcon:(P,f)=>({u_is_size_zoom_constant:new b.Uniform1i(P,f.u_is_size_zoom_constant),u_is_size_feature_constant:new b.Uniform1i(P,f.u_is_size_feature_constant),u_size_t:new b.Uniform1f(P,f.u_size_t),u_size:new b.Uniform1f(P,f.u_size),u_camera_to_center_distance:new b.Uniform1f(P,f.u_camera_to_center_distance),u_pitch:new b.Uniform1f(P,f.u_pitch),u_rotate_symbol:new b.Uniform1i(P,f.u_rotate_symbol),u_aspect_ratio:new b.Uniform1f(P,f.u_aspect_ratio),u_fade_change:new b.Uniform1f(P,f.u_fade_change),u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_label_plane_matrix:new b.UniformMatrix4f(P,f.u_label_plane_matrix),u_coord_matrix:new b.UniformMatrix4f(P,f.u_coord_matrix),u_is_text:new b.Uniform1i(P,f.u_is_text),u_pitch_with_map:new b.Uniform1i(P,f.u_pitch_with_map),u_texsize:new b.Uniform2f(P,f.u_texsize),u_texsize_icon:new b.Uniform2f(P,f.u_texsize_icon),u_texture:new b.Uniform1i(P,f.u_texture),u_texture_icon:new b.Uniform1i(P,f.u_texture_icon),u_gamma_scale:new b.Uniform1f(P,f.u_gamma_scale),u_device_pixel_ratio:new b.Uniform1f(P,f.u_device_pixel_ratio),u_is_halo:new b.Uniform1i(P,f.u_is_halo)}),background:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_opacity:new b.Uniform1f(P,f.u_opacity),u_color:new b.UniformColor(P,f.u_color)}),backgroundPattern:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_opacity:new b.Uniform1f(P,f.u_opacity),u_image:new b.Uniform1i(P,f.u_image),u_pattern_tl_a:new b.Uniform2f(P,f.u_pattern_tl_a),u_pattern_br_a:new b.Uniform2f(P,f.u_pattern_br_a),u_pattern_tl_b:new b.Uniform2f(P,f.u_pattern_tl_b),u_pattern_br_b:new b.Uniform2f(P,f.u_pattern_br_b),u_texsize:new b.Uniform2f(P,f.u_texsize),u_mix:new b.Uniform1f(P,f.u_mix),u_pattern_size_a:new b.Uniform2f(P,f.u_pattern_size_a),u_pattern_size_b:new b.Uniform2f(P,f.u_pattern_size_b),u_scale_a:new b.Uniform1f(P,f.u_scale_a),u_scale_b:new b.Uniform1f(P,f.u_scale_b),u_pixel_coord_upper:new b.Uniform2f(P,f.u_pixel_coord_upper),u_pixel_coord_lower:new b.Uniform2f(P,f.u_pixel_coord_lower),u_tile_units_to_pixels:new b.Uniform1f(P,f.u_tile_units_to_pixels)}),terrainRaster:di,terrainDepth:di,skybox:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_sun_direction:new b.Uniform3f(P,f.u_sun_direction),u_cubemap:new b.Uniform1i(P,f.u_cubemap),u_opacity:new b.Uniform1f(P,f.u_opacity),u_temporal_offset:new b.Uniform1f(P,f.u_temporal_offset)}),skyboxGradient:(P,f)=>({u_matrix:new b.UniformMatrix4f(P,f.u_matrix),u_color_ramp:new b.Uniform1i(P,f.u_color_ramp),u_center_direction:new b.Uniform3f(P,f.u_center_direction),u_radius:new b.Uniform1f(P,f.u_radius),u_opacity:new b.Uniform1f(P,f.u_opacity),u_temporal_offset:new b.Uniform1f(P,f.u_temporal_offset)}),skyboxCapture:(P,f)=>({u_matrix_3f:new b.UniformMatrix3f(P,f.u_matrix_3f),u_sun_direction:new b.Uniform3f(P,f.u_sun_direction),u_sun_intensity:new b.Uniform1f(P,f.u_sun_intensity),u_color_tint_r:new b.Uniform4f(P,f.u_color_tint_r),u_color_tint_m:new b.Uniform4f(P,f.u_color_tint_m),u_luminance:new b.Uniform1f(P,f.u_luminance)})};let Hl;function va(P,f,C,R,H,X,ae){const fe=P.context,ve=fe.gl,_e=P.useProgram("collisionBox"),ze=[];let Ge=0,We=0;for(let wt=0;wt<R.length;wt++){const Bt=R[wt],Ct=f.getTile(Bt),kt=Ct.getBucket(C);if(!kt)continue;let wn=Bt.projMatrix;0===H[0]&&0===H[1]||(wn=P.translatePosMatrix(Bt.projMatrix,Ct,H,X));const Tn=ae?kt.textCollisionBox:kt.iconCollisionBox,Ln=kt.collisionCircleArray;if(Ln.length>0){const Dt=b.create$1(),ti=wn;b.mul$1(Dt,kt.placementInvProjMatrix,P.transform.glCoordMatrix),b.mul$1(Dt,Dt,kt.placementViewportMatrix),ze.push({circleArray:Ln,circleOffset:We,transform:ti,invTransform:Dt}),Ge+=Ln.length/4,We=Ge}Tn&&(P.terrain&&P.terrain.setupElevationDraw(Ct,_e),_e.draw(fe,ve.LINES,b.DepthMode.disabled,b.StencilMode.disabled,P.colorModeForRenderPass(),b.CullFaceMode.disabled,tu(wn,P.transform,Ct),C.id,Tn.layoutVertexBuffer,Tn.indexBuffer,Tn.segments,null,P.transform.zoom,null,Tn.collisionVertexBuffer,Tn.collisionVertexBufferExt))}if(!ae||!ze.length)return;const Xe=P.useProgram("collisionCircle"),dt=new b.StructArrayLayout2f1f2i16;dt.resize(4*Ge),dt._trim();let yt=0;for(const wt of ze)for(let Bt=0;Bt<wt.circleArray.length/4;Bt++){const Ct=4*Bt,kt=wt.circleArray[Ct+0],wn=wt.circleArray[Ct+1],Tn=wt.circleArray[Ct+2],Ln=wt.circleArray[Ct+3];dt.emplace(yt++,kt,wn,Tn,Ln,0),dt.emplace(yt++,kt,wn,Tn,Ln,1),dt.emplace(yt++,kt,wn,Tn,Ln,2),dt.emplace(yt++,kt,wn,Tn,Ln,3)}(!Hl||Hl.length<2*Ge)&&(Hl=function(wt){const Bt=2*wt,Ct=new b.StructArrayLayout3ui6;Ct.resize(Bt),Ct._trim();for(let kt=0;kt<Bt;kt++){const wn=6*kt;Ct.uint16[wn+0]=4*kt+0,Ct.uint16[wn+1]=4*kt+1,Ct.uint16[wn+2]=4*kt+2,Ct.uint16[wn+3]=4*kt+2,Ct.uint16[wn+4]=4*kt+3,Ct.uint16[wn+5]=4*kt+0}return Ct}(Ge));const Ot=fe.createIndexBuffer(Hl,!0),ot=fe.createVertexBuffer(dt,b.collisionCircleLayout.members,!0);for(const wt of ze){const Bt={u_matrix:wt.transform,u_inv_matrix:wt.invTransform,u_camera_to_center_distance:(vt=P.transform).cameraToCenterDistance,u_viewport_size:[vt.width,vt.height]};Xe.draw(fe,ve.TRIANGLES,b.DepthMode.disabled,b.StencilMode.disabled,P.colorModeForRenderPass(),b.CullFaceMode.disabled,Bt,C.id,ot,Ot,b.SegmentVector.simpleSegment(0,2*wt.circleOffset,wt.circleArray.length,wt.circleArray.length/2),null,P.transform.zoom,null,null,null)}var vt;ot.destroy(),Ot.destroy()}const _o=b.identity(new Float32Array(16));function Os(P,f,C,R,H,X){const{horizontalAlign:ae,verticalAlign:fe}=b.getAnchorAlignment(P),ve=-(ae-.5)*f,_e=-(fe-.5)*C,ze=b.evaluateVariableOffset(P,R);return new b.pointGeometry((ve/H+ze[0])*X,(_e/H+ze[1])*X)}function bh(P,f,C,R,H,X,ae,fe,ve,_e,ze,Ge){const We=P.text.placedSymbolArray,Xe=P.text.dynamicLayoutVertexArray,dt=P.icon.dynamicLayoutVertexArray,yt={};Xe.clear();for(let Ot=0;Ot<We.length;Ot++){const ot=We.get(Ot),vt=P.allowVerticalPlacement&&!ot.placedOrientation,wt=ot.hidden||!ot.crossTileID||vt?null:R[ot.crossTileID];if(wt){const Bt=new b.pointGeometry(ot.anchorX,ot.anchorY),Ct=Ge(Bt),kt=Re(Bt,C?fe:ae,Ct),wn=je(X.cameraToCenterDistance,kt.signedDistanceFromCamera);let Tn=H.evaluateSizeForFeature(P.textSizeData,_e,ot)*wn/b.ONE_EM;C&&(Tn*=P.tilePixelRatio/ve);const{width:Ln,height:Dt,anchor:ti,textOffset:On,textScale:ci}=wt,Qn=Os(ti,Ln,Dt,On,ci,Tn),Wn=C?Re(Bt.add(Qn),ae,Ct).point:kt.point.add(f?Qn.rotate(-X.angle):Qn),ur=P.allowVerticalPlacement&&ot.placedOrientation===b.WritingMode.vertical?Math.PI/2:0;for(let Si=0;Si<ot.numGlyphs;Si++)b.addDynamicAttributes(Xe,Wn,ur);ze&&ot.associatedIconIndex>=0&&(yt[ot.associatedIconIndex]={shiftedAnchor:Wn,angle:ur})}else Gt(ot.numGlyphs,Xe)}if(ze){dt.clear();const Ot=P.icon.placedSymbolArray;for(let ot=0;ot<Ot.length;ot++){const vt=Ot.get(ot);if(vt.hidden)Gt(vt.numGlyphs,dt);else{const wt=yt[ot];if(wt)for(let Bt=0;Bt<vt.numGlyphs;Bt++)b.addDynamicAttributes(dt,wt.shiftedAnchor,wt.angle);else Gt(vt.numGlyphs,dt)}}P.icon.dynamicLayoutVertexBuffer.updateData(dt)}P.text.dynamicLayoutVertexBuffer.updateData(Xe)}function rp(P,f,C){return C.iconsInText&&f?"symbolTextAndIcon":P?"symbolSDF":"symbolIcon"}function $a(P,f,C,R,H,X,ae,fe,ve,_e,ze,Ge){const We=P.context,Xe=We.gl,dt=P.transform,yt="map"===fe,Ot="map"===ve,ot=yt&&"point"!==C.layout.get("symbol-placement"),vt=yt&&!Ot&&!ot,wt=void 0!==C.layout.get("symbol-sort-key").constantOr(1);let Bt=!1;const Ct=P.depthModeForSublayer(0,b.DepthMode.ReadOnly),kt=C.layout.get("text-variable-anchor"),wn=[],Tn=P.terrain&&Ot?["PITCH_WITH_MAP_TERRAIN"]:null;for(const Ln of R){const Dt=f.getTile(Ln),ti=Dt.getBucket(C);if(!ti)continue;const On=H?ti.text:ti.icon;if(!On||!On.segments.get().length)continue;const ci=On.programConfigurations.get(C.id),Qn=H||ti.sdfIcons,Wn=H?ti.textSizeData:ti.iconSizeData,ur=Ot||0!==dt.pitch,Si=P.useProgram(rp(Qn,H,ti),ci,Tn),jr=b.evaluateSizeForZoom(Wn,dt.zoom);let os,ps,_r,xs,Xs=[0,0],Al=null;if(H){if(ps=Dt.glyphAtlasTexture,_r=Xe.LINEAR,os=Dt.glyphAtlasTexture.size,ti.iconsInText){Xs=Dt.imageAtlasTexture.size,Al=Dt.imageAtlasTexture;const pl="composite"===Wn.kind||"camera"===Wn.kind;xs=ur||P.options.rotating||P.options.zooming||pl?Xe.LINEAR:Xe.NEAREST}}else{const pl=1!==C.layout.get("icon-size").constantOr(0)||ti.iconsNeedLinear;ps=Dt.imageAtlasTexture,_r=Qn||P.options.rotating||P.options.zooming||pl||ur?Xe.LINEAR:Xe.NEAREST,os=Dt.imageAtlasTexture.size}const Aa=ni(Dt,1,P.transform.zoom),ds=Ee(Ln.projMatrix,Ot,yt,P.transform,Aa),Vo=P.terrain&&Ot&&ot?b.invert(new Float32Array(16),ds):_o,hl=Ae(Ln.projMatrix,Ot,yt,P.transform,Aa),Ri=kt&&ti.hasTextData(),Ns="none"!==C.layout.get("icon-text-fit")&&Ri&&ti.hasIconData();if(ot){const pl=dt.elevation;_t(ti,Ln.projMatrix,P,H,ds,hl,Ot,_e,pl?Do=>pl.getAtTileOffset(Ln,Do.x,Do.y):null)}const Gr=P.translatePosMatrix(Ln.projMatrix,Dt,X,ae),Ts=ot||H&&kt||Ns?_o:ds,io=P.translatePosMatrix(hl,Dt,X,ae,!0),Nr=Qn&&0!==C.paint.get(H?"text-halo-width":"icon-halo-width").constantOr(1);let Qa;Qa=Qn?ti.iconsInText?us(Wn.kind,jr,vt,Ot,P,Gr,Ts,io,os,Xs):Un(Wn.kind,jr,vt,Ot,P,Gr,Ts,io,H,os,!0):Lu(Wn.kind,jr,vt,Ot,P,Gr,Ts,io,H,os);const Ja={program:Si,buffers:On,uniformValues:Qa,atlasTexture:ps,atlasTextureIcon:Al,atlasInterpolation:_r,atlasInterpolationIcon:xs,isSDF:Qn,hasHalo:Nr,tile:Dt,labelPlaneMatrixInv:Vo};if(wt&&ti.canOverlap){Bt=!0;const pl=On.segments.get();for(const Do of pl)wn.push({segments:new b.SegmentVector([Do]),sortKey:Do.sortKey,state:Ja})}else wn.push({segments:On.segments,sortKey:0,state:Ja})}Bt&&wn.sort((Ln,Dt)=>Ln.sortKey-Dt.sortKey);for(const Ln of wn){const Dt=Ln.state;if(P.terrain&&P.terrain.setupElevationDraw(Dt.tile,Dt.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:Dt.labelPlaneMatrixInv}),We.activeTexture.set(Xe.TEXTURE0),Dt.atlasTexture.bind(Dt.atlasInterpolation,Xe.CLAMP_TO_EDGE),Dt.atlasTextureIcon&&(We.activeTexture.set(Xe.TEXTURE1),Dt.atlasTextureIcon&&Dt.atlasTextureIcon.bind(Dt.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),Dt.isSDF){const ti=Dt.uniformValues;Dt.hasHalo&&(ti.u_is_halo=1,Cc(Dt.buffers,Ln.segments,C,P,Dt.program,Ct,ze,Ge,ti)),ti.u_is_halo=0}Cc(Dt.buffers,Ln.segments,C,P,Dt.program,Ct,ze,Ge,Dt.uniformValues)}}function Cc(P,f,C,R,H,X,ae,fe,ve){const _e=R.context;H.draw(_e,_e.gl.TRIANGLES,X,ae,fe,b.CullFaceMode.disabled,ve,C.id,P.layoutVertexBuffer,P.indexBuffer,f,C.paint,R.transform.zoom,P.programConfigurations.get(C.id),P.dynamicLayoutVertexBuffer,P.opacityVertexBuffer)}function no(P,f,C,R,H,X,ae){const fe=P.context.gl,ve=C.paint.get("fill-pattern"),_e=ve&&ve.constantOr(1),ze=C.getCrossfadeParameters();let Ge,We,Xe,dt,yt;ae?(We=_e&&!C.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ge=fe.LINES):(We=_e?"fillPattern":"fill",Ge=fe.TRIANGLES);for(const Ot of R){const ot=f.getTile(Ot);if(_e&&!ot.patternsLoaded())continue;const vt=ot.getBucket(C);if(!vt)continue;P.prepareDrawTile(Ot);const wt=vt.programConfigurations.get(C.id),Bt=P.useProgram(We,wt);_e&&(P.context.activeTexture.set(fe.TEXTURE0),ot.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),wt.updatePaintBuffers(ze));const Ct=ve.constantOr(null);if(Ct&&ot.imageAtlas){const wn=ot.imageAtlas,Tn=wn.patternPositions[Ct.to.toString()],Ln=wn.patternPositions[Ct.from.toString()];Tn&&Ln&&wt.setConstantPatternPositions(Tn,Ln)}const kt=P.translatePosMatrix(Ot.projMatrix,ot,C.paint.get("fill-translate"),C.paint.get("fill-translate-anchor"));if(ae){dt=vt.indexBuffer2,yt=vt.segments2;const wn=P.terrain&&P.terrain.renderingToTexture?P.terrain.drapeBufferSize:[fe.drawingBufferWidth,fe.drawingBufferHeight];Xe="fillOutlinePattern"===We&&_e?ss(kt,P,ze,ot,wn):qa(kt,wn)}else dt=vt.indexBuffer,yt=vt.segments,Xe=_e?ya(kt,P,ze,ot):Vl(kt);P.prepareDrawProgram(P.context,Bt,Ot.toUnwrapped()),Bt.draw(P.context,Ge,H,P.stencilModeForClipping(Ot),X,b.CullFaceMode.disabled,Xe,C.id,vt.layoutVertexBuffer,dt,yt,C.paint,P.transform.zoom,wt)}}function sa(P,f,C,R,H,X,ae){const fe=P.context,ve=fe.gl,_e=C.paint.get("fill-extrusion-pattern"),ze=_e.constantOr(1),Ge=C.getCrossfadeParameters(),We=C.paint.get("fill-extrusion-opacity");for(const Xe of R){const dt=f.getTile(Xe),yt=dt.getBucket(C);if(!yt)continue;const Ot=yt.programConfigurations.get(C.id),ot=P.useProgram(ze?"fillExtrusionPattern":"fillExtrusion",Ot);if(P.terrain){const kt=P.terrain;if(!yt.enableTerrain)continue;if(kt.setupElevationDraw(dt,ot,{useMeterToDem:!0}),Vd(fe,f,Xe,yt,C,kt),!yt.centroidVertexBuffer){const wn=ot.attributes.a_centroid_pos;void 0!==wn&&ve.vertexAttrib2f(wn,0,0)}}ze&&(P.context.activeTexture.set(ve.TEXTURE0),dt.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),Ot.updatePaintBuffers(Ge));const vt=_e.constantOr(null);if(vt&&dt.imageAtlas){const kt=dt.imageAtlas,wn=kt.patternPositions[vt.to.toString()],Tn=kt.patternPositions[vt.from.toString()];wn&&Tn&&Ot.setConstantPatternPositions(wn,Tn)}const wt=P.translatePosMatrix(Xe.projMatrix,dt,C.paint.get("fill-extrusion-translate"),C.paint.get("fill-extrusion-translate-anchor")),Bt=C.paint.get("fill-extrusion-vertical-gradient"),Ct=ze?Sl(wt,P,Bt,We,Xe,Ge,dt):Au(wt,P,Bt,We);P.prepareDrawProgram(fe,ot,Xe.toUnwrapped()),ot.draw(fe,fe.gl.TRIANGLES,H,X,ae,b.CullFaceMode.backCCW,Ct,C.id,yt.layoutVertexBuffer,yt.indexBuffer,yt.segments,C.paint,P.transform.zoom,Ot,P.terrain?yt.centroidVertexBuffer:null)}}function Vd(P,f,C,R,H,X){const ae=[ot=>{let vt=ot.canonical.x-1,wt=ot.wrap;return vt<0&&(vt=(1<<ot.canonical.z)-1,wt--),new b.OverscaledTileID(ot.overscaledZ,wt,ot.canonical.z,vt,ot.canonical.y)},ot=>{let vt=ot.canonical.x+1,wt=ot.wrap;return vt===1<<ot.canonical.z&&(vt=0,wt++),new b.OverscaledTileID(ot.overscaledZ,wt,ot.canonical.z,vt,ot.canonical.y)},ot=>new b.OverscaledTileID(ot.overscaledZ,ot.wrap,ot.canonical.z,ot.canonical.x,(0===ot.canonical.y?1<<ot.canonical.z:ot.canonical.y)-1),ot=>new b.OverscaledTileID(ot.overscaledZ,ot.wrap,ot.canonical.z,ot.canonical.x,ot.canonical.y===(1<<ot.canonical.z)-1?0:ot.canonical.y+1)],fe=ot=>{const vt=f.getSource().maxzoom,wt=wn=>{const Tn=f.getTileByID(wn);if(Tn&&Tn.hasData())return Tn.getBucket(H)};let Bt,Ct,kt;return(ot.overscaledZ===ot.canonical.z||ot.overscaledZ>=vt)&&(Bt=wt(ot.key)),ot.overscaledZ>=vt&&(Ct=wt(ot.calculateScaledKey(ot.overscaledZ+1))),ot.overscaledZ>vt&&(kt=wt(ot.calculateScaledKey(ot.overscaledZ-1))),Bt||Ct||kt},ve=[0,0,0],_e=(ot,vt)=>(ve[0]=Math.min(ot.min.y,vt.min.y),ve[1]=Math.max(ot.max.y,vt.max.y),ve[2]=b.EXTENT-vt.min.x>ot.max.x?vt.min.x-b.EXTENT:ot.max.x,ve),ze=(ot,vt)=>(ve[0]=Math.min(ot.min.x,vt.min.x),ve[1]=Math.max(ot.max.x,vt.max.x),ve[2]=b.EXTENT-vt.min.y>ot.max.y?vt.min.y-b.EXTENT:ot.max.y,ve),Ge=[(ot,vt)=>_e(ot,vt),(ot,vt)=>_e(vt,ot),(ot,vt)=>ze(ot,vt),(ot,vt)=>ze(vt,ot)],We=new b.pointGeometry(0,0);let Xe,dt,yt;const Ot=(ot,vt,wt,Bt,Ct)=>{const kt=[[Bt?wt:ot,Bt?ot:wt,0],[Bt?wt:vt,Bt?vt:wt,0]],wn=Ct<0?b.EXTENT+Ct:Ct,Tn=[Bt?wn:(ot+vt)/2,Bt?(ot+vt)/2:wn,0];return 0===wt&&Ct<0||0!==wt&&Ct>0?X.getForTilePoints(yt,[Tn],!0,dt):kt.push(Tn),X.getForTilePoints(C,kt,!0,Xe),Math.max(kt[0][2],kt[1][2],Tn[2])/X.exaggeration()};for(let ot=0;ot<4;ot++){const vt=R.borders[ot];if(0===vt.length&&(R.borderDone[ot]=!0),R.borderDone[ot])continue;const wt=yt=ae[ot](C),Bt=fe(wt);if(!(Bt&&Bt.enableTerrain&&(dt=X.findDEMTileFor(wt),dt&&dt.dem)))continue;if(!Xe){const Tn=X.findDEMTileFor(C);if(!Tn||!Tn.dem)return;Xe=Tn}const Ct=(ot<2?1:5)-ot,kt=Bt.borders[Ct];let wn=0;for(let Tn=0;Tn<vt.length;Tn++){const Ln=R.featuresOnBorder[vt[Tn]],Dt=Ln.borders[ot];let ti;for(;wn<kt.length&&(ti=Bt.featuresOnBorder[kt[wn]],!(ti.borders[Ct][1]>Dt[0]+3));)Bt.borderDone[Ct]||Bt.encodeCentroid(void 0,ti,!1),wn++;if(ti&&wn<kt.length){const On=wn;let ci=0;for(;!(ti.borders[Ct][0]>Dt[1]-3)&&(ci++,++wn!==kt.length);)ti=Bt.featuresOnBorder[kt[wn]];if(ti=Bt.featuresOnBorder[kt[On]],Ln.intersectsCount()>1||ti.intersectsCount()>1||1!==ci){1!==ci&&(wn=On),R.encodeCentroid(void 0,Ln,!1),Bt.borderDone[Ct]||Bt.encodeCentroid(void 0,ti,!1);continue}const Qn=Ge[ot](Ln,ti),Wn=ot%2?b.EXTENT-1:0;We.x=Ot(Qn[0],Math.min(b.EXTENT-1,Qn[1]),Wn,ot<2,Qn[2]),We.y=0,R.encodeCentroid(We,Ln,!1),Bt.borderDone[Ct]||Bt.encodeCentroid(We,ti,!1)}else R.encodeCentroid(void 0,Ln,!1)}R.borderDone[ot]=R.needsCentroidUpdate=!0,Bt.borderDone[Ct]||(Bt.borderDone[Ct]=Bt.needsCentroidUpdate=!0)}(R.needsCentroidUpdate||!R.centroidVertexBuffer&&0!==R.centroidVertexArray.length)&&R.uploadCentroid(P)}const tc=new b.Color(1,0,0,1),hr=new b.Color(0,1,0,1),Lp=new b.Color(0,0,1,1),xh=new b.Color(1,0,1,1),Pu=new b.Color(0,1,1,1);function iu(P,f,C,R){nc(P,0,f+C/2,P.transform.width,C,R)}function No(P,f,C,R){nc(P,f-C/2,0,C,P.transform.height,R)}function nc(P,f,C,R,H,X){const ae=P.context,fe=ae.gl;fe.enable(fe.SCISSOR_TEST),fe.scissor(f*b.exported.devicePixelRatio,C*b.exported.devicePixelRatio,R*b.exported.devicePixelRatio,H*b.exported.devicePixelRatio),ae.clear({color:X}),fe.disable(fe.SCISSOR_TEST)}function wh(P,f,C){const R=P.context,H=R.gl,X=C.projMatrix,ae=P.useProgram("debug"),fe=f.getTileByID(C.key);P.terrain&&P.terrain.setupElevationDraw(fe,ae);const ve=b.DepthMode.disabled,_e=b.StencilMode.disabled,ze=P.colorModeForRenderPass();R.activeTexture.set(H.TEXTURE0),P.emptyTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ae.draw(R,H.LINE_STRIP,ve,_e,ze,b.CullFaceMode.disabled,kl(X,b.Color.red),"$debug",P.debugBuffer,P.tileBorderIndexBuffer,P.debugSegments);const We=fe.latestRawTileData,Xe=Math.floor((We&&We.byteLength||0)/1024),dt=f.getTile(C).tileSize,yt=512/Math.min(dt,512)*(C.overscaledZ/P.transform.zoom)*.5;let Ot=C.canonical.toString();C.overscaledZ!==C.canonical.z&&(Ot+=` => ${C.overscaledZ}`),function(ot,vt){ot.initDebugOverlayCanvas();const wt=ot.debugOverlayCanvas,Bt=ot.context.gl,Ct=ot.debugOverlayCanvas.getContext("2d");Ct.clearRect(0,0,wt.width,wt.height),Ct.shadowColor="white",Ct.shadowBlur=2,Ct.lineWidth=1.5,Ct.strokeStyle="white",Ct.textBaseline="top",Ct.font="bold 36px Open Sans, sans-serif",Ct.fillText(vt,5,5),Ct.strokeText(vt,5,5),ot.debugOverlayTexture.update(wt),ot.debugOverlayTexture.bind(Bt.LINEAR,Bt.CLAMP_TO_EDGE)}(P,`${Ot} ${Xe}kb`),ae.draw(R,H.TRIANGLES,ve,_e,b.ColorMode.alphaBlended,b.CullFaceMode.disabled,kl(X,b.Color.transparent,yt),"$debug",P.debugBuffer,P.quadTriangleIndexBuffer,P.debugSegments)}const ru=b.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Hd}=ru;function oa(P,f,C,R){P.emplaceBack(f,C,R)}class Xo{constructor(f){this.vertexArray=new b.StructArrayLayout3f12,this.indices=new b.StructArrayLayout3ui6,oa(this.vertexArray,-1,-1,1),oa(this.vertexArray,1,-1,1),oa(this.vertexArray,-1,1,1),oa(this.vertexArray,1,1,1),oa(this.vertexArray,-1,-1,-1),oa(this.vertexArray,1,-1,-1),oa(this.vertexArray,-1,1,-1),oa(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=f.createVertexBuffer(this.vertexArray,Hd),this.indexBuffer=f.createIndexBuffer(this.indices),this.segment=b.SegmentVector.simpleSegment(0,0,36,12)}}function ic(P,f,C,R,H,X){const ae=P.gl,fe=f.paint.get("sky-atmosphere-color"),ve=f.paint.get("sky-atmosphere-halo-color"),_e=f.paint.get("sky-atmosphere-sun-intensity"),ze={u_matrix_3f:b.fromMat4([],R),u_sun_direction:H,u_sun_intensity:_e,u_color_tint_r:[(dt=fe).r,dt.g,dt.b,dt.a],u_color_tint_m:[(yt=ve).r,yt.g,yt.b,yt.a],u_luminance:5e-5};var dt,yt;ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+X,f.skyboxTexture,0),C.draw(P,ae.TRIANGLES,b.DepthMode.disabled,b.StencilMode.disabled,b.ColorMode.unblended,b.CullFaceMode.frontCW,ze,"skyboxCapture",f.skyboxGeometry.vertexBuffer,f.skyboxGeometry.indexBuffer,f.skyboxGeometry.segment)}const Mc={symbol:function(P,f,C,R,H){if("translucent"!==P.renderPass)return;const X=b.StencilMode.disabled,ae=P.colorModeForRenderPass();C.layout.get("text-variable-anchor")&&function(fe,ve,_e,ze,Ge,We,Xe){const dt=ve.transform,yt="map"===Ge,Ot="map"===We;for(const ot of fe){const vt=ze.getTile(ot),wt=vt.getBucket(_e);if(!wt||!wt.text||!wt.text.segments.get().length)continue;const Bt=b.evaluateSizeForZoom(wt.textSizeData,dt.zoom),Ct=ni(vt,1,ve.transform.zoom),kt=Ee(ot.projMatrix,Ot,yt,ve.transform,Ct),wn="none"!==_e.layout.get("icon-text-fit")&&wt.hasIconData();if(Bt){const Tn=Math.pow(2,dt.zoom-vt.tileID.overscaledZ),Ln=dt.elevation;bh(wt,yt,Ot,Xe,b.symbolSize,dt,kt,ot.projMatrix,Tn,Bt,wn,Ln?Dt=>Ln.getAtTileOffset(ot,Dt.x,Dt.y):Dt=>0)}}}(R,P,C,f,C.layout.get("text-rotation-alignment"),C.layout.get("text-pitch-alignment"),H),0!==C.paint.get("icon-opacity").constantOr(1)&&$a(P,f,C,R,!1,C.paint.get("icon-translate"),C.paint.get("icon-translate-anchor"),C.layout.get("icon-rotation-alignment"),C.layout.get("icon-pitch-alignment"),C.layout.get("icon-keep-upright"),X,ae),0!==C.paint.get("text-opacity").constantOr(1)&&$a(P,f,C,R,!0,C.paint.get("text-translate"),C.paint.get("text-translate-anchor"),C.layout.get("text-rotation-alignment"),C.layout.get("text-pitch-alignment"),C.layout.get("text-keep-upright"),X,ae),f.map.showCollisionBoxes&&(va(P,f,C,R,C.paint.get("text-translate"),C.paint.get("text-translate-anchor"),!0),va(P,f,C,R,C.paint.get("icon-translate"),C.paint.get("icon-translate-anchor"),!1))},circle:function(P,f,C,R){if("translucent"!==P.renderPass)return;const H=C.paint.get("circle-opacity"),X=C.paint.get("circle-stroke-width"),ae=C.paint.get("circle-stroke-opacity"),fe=void 0!==C.layout.get("circle-sort-key").constantOr(1);if(0===H.constantOr(1)&&(0===X.constantOr(1)||0===ae.constantOr(1)))return;const ve=P.context,_e=ve.gl,ze=P.depthModeForSublayer(0,b.DepthMode.ReadOnly),Ge=b.StencilMode.disabled,We=P.colorModeForRenderPass(),Xe=[];for(let dt=0;dt<R.length;dt++){const yt=R[dt],Ot=f.getTile(yt),ot=Ot.getBucket(C);if(!ot)continue;const vt=ot.programConfigurations.get(C.id),wt=Bd(C),Bt={programConfiguration:vt,program:P.useProgram("circle",vt,wt),layoutVertexBuffer:ot.layoutVertexBuffer,indexBuffer:ot.indexBuffer,uniformValues:$o(P,yt,Ot,C),tile:Ot};if(fe){const Ct=ot.segments.get();for(const kt of Ct)Xe.push({segments:new b.SegmentVector([kt]),sortKey:kt.sortKey,state:Bt})}else Xe.push({segments:ot.segments,sortKey:0,state:Bt})}fe&&Xe.sort((dt,yt)=>dt.sortKey-yt.sortKey);for(const dt of Xe){const{programConfiguration:yt,program:Ot,layoutVertexBuffer:ot,indexBuffer:vt,uniformValues:wt,tile:Bt}=dt.state,Ct=dt.segments;P.terrain&&P.terrain.setupElevationDraw(Bt,Ot,{useDepthForOcclusion:!0}),P.prepareDrawProgram(ve,Ot,Bt.tileID.toUnwrapped()),Ot.draw(ve,_e.TRIANGLES,ze,Ge,We,b.CullFaceMode.disabled,wt,C.id,ot,vt,Ct,C.paint,P.transform.zoom,yt)}},heatmap:function(P,f,C,R){if(0!==C.paint.get("heatmap-opacity"))if("offscreen"===P.renderPass){const H=P.context,X=H.gl,ae=b.StencilMode.disabled,fe=new b.ColorMode([X.ONE,X.ONE],b.Color.transparent,[!0,!0,!0,!0]);(function(ve,_e,ze){const Ge=ve.gl;ve.activeTexture.set(Ge.TEXTURE1),ve.viewport.set([0,0,_e.width/4,_e.height/4]);let We=ze.heatmapFbo;if(We)Ge.bindTexture(Ge.TEXTURE_2D,We.colorAttachment.get()),ve.bindFramebuffer.set(We.framebuffer);else{const Xe=Ge.createTexture();Ge.bindTexture(Ge.TEXTURE_2D,Xe),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_S,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_WRAP_T,Ge.CLAMP_TO_EDGE),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MIN_FILTER,Ge.LINEAR),Ge.texParameteri(Ge.TEXTURE_2D,Ge.TEXTURE_MAG_FILTER,Ge.LINEAR),We=ze.heatmapFbo=ve.createFramebuffer(_e.width/4,_e.height/4,!1),function(dt,yt,Ot,ot){const vt=dt.gl;vt.texImage2D(vt.TEXTURE_2D,0,vt.RGBA,yt.width/4,yt.height/4,0,vt.RGBA,dt.extRenderToTextureHalfFloat?dt.extTextureHalfFloat.HALF_FLOAT_OES:vt.UNSIGNED_BYTE,null),ot.colorAttachment.set(Ot)}(ve,_e,Xe,We)}})(H,P,C),H.clear({color:b.Color.transparent});for(let ve=0;ve<R.length;ve++){const _e=R[ve];if(f.hasRenderableParent(_e))continue;const ze=f.getTile(_e),Ge=ze.getBucket(C);if(!Ge)continue;const We=Ge.programConfigurations.get(C.id),Xe=P.useProgram("heatmap",We),{zoom:dt}=P.transform;P.terrain&&P.terrain.setupElevationDraw(ze,Xe),P.prepareDrawProgram(H,Xe,_e.toUnwrapped()),Xe.draw(H,X.TRIANGLES,b.DepthMode.disabled,ae,fe,b.CullFaceMode.disabled,yh(_e.projMatrix,ze,dt,C.paint.get("heatmap-intensity")),C.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,C.paint,P.transform.zoom,We)}H.viewport.set([0,0,P.width,P.height])}else"translucent"===P.renderPass&&(P.context.setColorMode(P.colorModeForRenderPass()),function(H,X){const ae=H.context,fe=ae.gl,ve=X.heatmapFbo;if(!ve)return;ae.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,ve.colorAttachment.get()),ae.activeTexture.set(fe.TEXTURE1);let _e=X.colorRampTexture;_e||(_e=X.colorRampTexture=new b.Texture(ae,X.colorRamp,fe.RGBA)),_e.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),H.useProgram("heatmapTexture").draw(ae,fe.TRIANGLES,b.DepthMode.disabled,b.StencilMode.disabled,H.colorModeForRenderPass(),b.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:X.paint.get("heatmap-opacity")},X.id,H.viewportBuffer,H.quadTriangleIndexBuffer,H.viewportSegments,X.paint,H.transform.zoom)}(P,C))},line:function(P,f,C,R){if("translucent"!==P.renderPass)return;const H=C.paint.get("line-opacity"),X=C.paint.get("line-width");if(0===H.constantOr(1)||0===X.constantOr(1))return;const ae=P.depthModeForSublayer(0,b.DepthMode.ReadOnly),fe=P.colorModeForRenderPass(),ve=C.paint.get("line-dasharray"),_e=ve.constantOr(1),ze=C.layout.get("line-cap"),Ge=C.paint.get("line-pattern"),We=Ge.constantOr(1),Xe=C.paint.get("line-gradient"),dt=C.getCrossfadeParameters(),yt=We?"linePattern":_e?"lineSDF":Xe?"lineGradient":"line",Ot=P.context,ot=Ot.gl;for(const vt of R){const wt=f.getTile(vt);if(We&&!wt.patternsLoaded())continue;const Bt=wt.getBucket(C);if(!Bt)continue;P.prepareDrawTile(vt);const Ct=Bt.programConfigurations.get(C.id),kt=P.useProgram(yt,Ct),wn=Ge.constantOr(null);if(wn&&wt.imageAtlas){const On=wt.imageAtlas,ci=On.patternPositions[wn.to.toString()],Qn=On.patternPositions[wn.from.toString()];ci&&Qn&&Ct.setConstantPatternPositions(ci,Qn)}const Tn=ve.constantOr(null),Ln=ze.constantOr(null);if(!We&&Tn&&Ln&&wt.lineAtlas){const On=wt.lineAtlas,ci=On.getDash(Tn.to,Ln),Qn=On.getDash(Tn.from,Ln);ci&&Qn&&Ct.setConstantPatternPositions(ci,Qn)}const Dt=P.terrain?vt.projMatrix:null,ti=We?Iu(P,wt,C,dt,Dt):_e?hd(P,wt,C,dt,Dt):Xe?Ji(P,wt,C,Dt,Bt.lineClipsArray.length):Kl(P,wt,C,Dt);if(We)Ot.activeTexture.set(ot.TEXTURE0),wt.imageAtlasTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),Ct.updatePaintBuffers(dt);else if(_e)Ot.activeTexture.set(ot.TEXTURE0),wt.lineAtlasTexture.bind(ot.LINEAR,ot.REPEAT),Ct.updatePaintBuffers(dt);else if(Xe){const On=Bt.gradients[C.id];let ci=On.texture;if(C.gradientVersion!==On.version){let Qn=256;if(C.stepInterpolant){const Wn=f.getSource().maxzoom,ur=vt.canonical.z===Wn?Math.ceil(1<<P.transform.maxZoom-vt.canonical.z):1;Qn=b.clamp(b.nextPowerOfTwo(Bt.maxLineLength/b.EXTENT*1024*ur),256,Ot.maxTextureSize)}On.gradient=b.renderColorRamp({expression:C.gradientExpression(),evaluationKey:"lineProgress",resolution:Qn,image:On.gradient||void 0,clips:Bt.lineClipsArray}),On.texture?On.texture.update(On.gradient):On.texture=new b.Texture(Ot,On.gradient,ot.RGBA),On.version=C.gradientVersion,ci=On.texture}Ot.activeTexture.set(ot.TEXTURE0),ci.bind(C.stepInterpolant?ot.NEAREST:ot.LINEAR,ot.CLAMP_TO_EDGE)}P.prepareDrawProgram(Ot,kt,vt.toUnwrapped()),kt.draw(Ot,ot.TRIANGLES,ae,P.stencilModeForClipping(vt),fe,b.CullFaceMode.disabled,ti,C.id,Bt.layoutVertexBuffer,Bt.indexBuffer,Bt.segments,C.paint,P.transform.zoom,Ct,Bt.layoutVertexBuffer2)}},fill:function(P,f,C,R){const H=C.paint.get("fill-color"),X=C.paint.get("fill-opacity");if(0===X.constantOr(1))return;const ae=P.colorModeForRenderPass(),fe=C.paint.get("fill-pattern"),ve=P.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&1===H.constantOr(b.Color.transparent).a&&1===X.constantOr(0)?"opaque":"translucent";if(P.renderPass===ve){const _e=P.depthModeForSublayer(1,"opaque"===P.renderPass?b.DepthMode.ReadWrite:b.DepthMode.ReadOnly);no(P,f,C,R,_e,ae,!1)}if("translucent"===P.renderPass&&C.paint.get("fill-antialias")){const _e=P.depthModeForSublayer(C.getPaintProperty("fill-outline-color")?2:0,b.DepthMode.ReadOnly);no(P,f,C,R,_e,ae,!0)}},"fill-extrusion":function(P,f,C,R){const H=C.paint.get("fill-extrusion-opacity");if(0!==H&&"translucent"===P.renderPass){const X=new b.DepthMode(P.context.gl.LEQUAL,b.DepthMode.ReadWrite,P.depthRangeFor3D);if(1!==H||C.paint.get("fill-extrusion-pattern").constantOr(1))sa(P,f,C,R,X,b.StencilMode.disabled,b.ColorMode.disabled),sa(P,f,C,R,X,P.stencilModeFor3D(),P.colorModeForRenderPass());else{const ae=P.colorModeForRenderPass();sa(P,f,C,R,X,b.StencilMode.disabled,ae)}}},hillshade:function(P,f,C,R){if("offscreen"!==P.renderPass&&"translucent"!==P.renderPass)return;const H=P.context,X=P.depthModeForSublayer(0,b.DepthMode.ReadOnly),ae=P.colorModeForRenderPass(),fe=P.terrain&&P.terrain.renderingToTexture,[ve,_e]="translucent"!==P.renderPass||fe?[{},R]:P.stencilConfigForOverlap(R);for(const ze of _e){const Ge=f.getTile(ze);if(Ge.needsHillshadePrepare&&"offscreen"===P.renderPass)Na(P,Ge,C,X,b.StencilMode.disabled,ae);else if("translucent"===P.renderPass){const We=fe&&P.terrain?P.terrain.stencilModeForRTTOverlap(ze):ve[ze.overscaledZ];tp(P,ze,Ge,C,X,We,ae)}}H.viewport.set([0,0,P.width,P.height])},raster:function(P,f,C,R,H,X){if("translucent"!==P.renderPass||0===C.paint.get("raster-opacity")||!R.length)return;const ae=P.context,fe=ae.gl,ve=f.getSource(),_e=P.useProgram("raster"),ze=P.colorModeForRenderPass(),Ge=P.terrain&&P.terrain.renderingToTexture,[We,Xe]=ve instanceof st||Ge?[{},R]:P.stencilConfigForOverlap(R),dt=Xe[Xe.length-1].overscaledZ,yt=!P.options.moving;for(const Ot of Xe){const ot=Ge?b.DepthMode.disabled:P.depthModeForSublayer(Ot.overscaledZ-dt,1===C.paint.get("raster-opacity")?b.DepthMode.ReadWrite:b.DepthMode.ReadOnly,fe.LESS),vt=Ot.toUnwrapped(),wt=f.getTile(Ot);if(Ge&&(!wt||!wt.hasData()))continue;const Bt=Ge?Ot.projMatrix:P.transform.calculateProjMatrix(vt,yt),Ct=P.terrain&&Ge?P.terrain.stencilModeForRTTOverlap(Ot):We[Ot.overscaledZ],kt=X?0:C.paint.get("raster-fade-duration");wt.registerFadeDuration(kt);const wn=f.findLoadedParent(Ot,0),Tn=Rs(wt,wn,f,P.transform,kt);let Ln,Dt;P.terrain&&P.terrain.prepareDrawTile(Ot);const ti="nearest"===C.paint.get("raster-resampling")?fe.NEAREST:fe.LINEAR;ae.activeTexture.set(fe.TEXTURE0),wt.texture.bind(ti,fe.CLAMP_TO_EDGE,fe.LINEAR_MIPMAP_NEAREST),ae.activeTexture.set(fe.TEXTURE1),wn?(wn.texture.bind(ti,fe.CLAMP_TO_EDGE,fe.LINEAR_MIPMAP_NEAREST),Ln=Math.pow(2,wn.tileID.overscaledZ-wt.tileID.overscaledZ),Dt=[wt.tileID.canonical.x*Ln%1,wt.tileID.canonical.y*Ln%1]):wt.texture.bind(ti,fe.CLAMP_TO_EDGE,fe.LINEAR_MIPMAP_NEAREST);const On=Ip(Bt,Dt||[0,0],Ln||1,Tn,C);P.prepareDrawProgram(ae,_e,vt),ve instanceof st?_e.draw(ae,fe.TRIANGLES,ot,b.StencilMode.disabled,ze,b.CullFaceMode.disabled,On,C.id,ve.boundsBuffer,P.quadTriangleIndexBuffer,ve.boundsSegments):_e.draw(ae,fe.TRIANGLES,ot,Ct,ze,b.CullFaceMode.disabled,On,C.id,P.rasterBoundsBuffer,P.quadTriangleIndexBuffer,P.rasterBoundsSegments)}},background:function(P,f,C,R){const H=C.paint.get("background-color"),X=C.paint.get("background-opacity");if(0===X)return;const ae=P.context,fe=ae.gl,ve=P.transform,_e=ve.tileSize,ze=C.paint.get("background-pattern");if(P.isPatternMissing(ze))return;const Ge=!ze&&1===H.a&&1===X&&P.opaquePassEnabledForLayer()?"opaque":"translucent";if(P.renderPass!==Ge)return;const We=b.StencilMode.disabled,Xe=P.depthModeForSublayer(0,"opaque"===Ge?b.DepthMode.ReadWrite:b.DepthMode.ReadOnly),dt=P.colorModeForRenderPass(),yt=P.useProgram(ze?"backgroundPattern":"background"),Ot=R||ve.coveringTiles({tileSize:_e});ze&&(ae.activeTexture.set(fe.TEXTURE0),P.imageManager.bind(P.context));const ot=C.getCrossfadeParameters();for(const vt of Ot){const wt=vt.toUnwrapped(),Bt=R?vt.projMatrix:P.transform.calculateProjMatrix(wt);P.prepareDrawTile(vt);const Ct=ze?fo(Bt,X,P,ze,{tileID:vt,tileSize:_e},ot):vh(Bt,X,H);P.prepareDrawProgram(ae,yt,wt),yt.draw(ae,fe.TRIANGLES,Xe,We,dt,b.CullFaceMode.disabled,Ct,C.id,P.tileExtentBuffer,P.quadTriangleIndexBuffer,P.tileExtentSegments)}},sky:function(P,f,C){const R=C.paint.get("sky-opacity");if(0===R)return;const H=P.context,X=C.paint.get("sky-type"),ae=new b.DepthMode(H.gl.LEQUAL,b.DepthMode.ReadOnly,[0,1]),fe=P.frameCounter/1e3%1;"atmosphere"===X?"offscreen"===P.renderPass?C.needsSkyboxCapture(P)&&(function(ve,_e,ze,Ge){const We=ve.context,Xe=We.gl;let dt=_e.skyboxFbo;if(!dt){dt=_e.skyboxFbo=We.createFramebuffer(32,32,!1),_e.skyboxGeometry=new Xo(We),_e.skyboxTexture=We.gl.createTexture(),Xe.bindTexture(Xe.TEXTURE_CUBE_MAP,_e.skyboxTexture),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_WRAP_S,Xe.CLAMP_TO_EDGE),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_WRAP_T,Xe.CLAMP_TO_EDGE),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_MIN_FILTER,Xe.LINEAR),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_MAG_FILTER,Xe.LINEAR);for(let vt=0;vt<6;++vt)Xe.texImage2D(Xe.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,Xe.RGBA,32,32,0,Xe.RGBA,Xe.UNSIGNED_BYTE,null)}We.bindFramebuffer.set(dt.framebuffer),We.viewport.set([0,0,32,32]);const yt=_e.getCenter(ve,!0),Ot=ve.useProgram("skyboxCapture"),ot=new Float64Array(16);b.identity(ot),b.rotateY(ot,ot,.5*-Math.PI),ic(We,_e,Ot,ot,yt,0),b.identity(ot),b.rotateY(ot,ot,.5*Math.PI),ic(We,_e,Ot,ot,yt,1),b.identity(ot),b.rotateX(ot,ot,.5*-Math.PI),ic(We,_e,Ot,ot,yt,2),b.identity(ot),b.rotateX(ot,ot,.5*Math.PI),ic(We,_e,Ot,ot,yt,3),b.identity(ot),ic(We,_e,Ot,ot,yt,4),b.identity(ot),b.rotateY(ot,ot,Math.PI),ic(We,_e,Ot,ot,yt,5),We.viewport.set([0,0,ve.width,ve.height])}(P,C),C.markSkyboxValid(P)):"sky"===P.renderPass&&function(ve,_e,ze,Ge,We){const Xe=ve.context,dt=Xe.gl,yt=ve.transform,Ot=ve.useProgram("skybox");Xe.activeTexture.set(dt.TEXTURE0),dt.bindTexture(dt.TEXTURE_CUBE_MAP,_e.skyboxTexture);const ot={u_matrix:yt.skyboxMatrix,u_sun_direction:_e.getCenter(ve,!1),u_cubemap:0,u_opacity:Ge,u_temporal_offset:We};ve.prepareDrawProgram(Xe,Ot),Ot.draw(Xe,dt.TRIANGLES,ze,b.StencilMode.disabled,ve.colorModeForRenderPass(),b.CullFaceMode.backCW,ot,"skybox",_e.skyboxGeometry.vertexBuffer,_e.skyboxGeometry.indexBuffer,_e.skyboxGeometry.segment)}(P,C,ae,R,fe):"gradient"===X&&"sky"===P.renderPass&&function(ve,_e,ze,Ge,We){const Xe=ve.context,dt=Xe.gl,yt=ve.transform,Ot=ve.useProgram("skyboxGradient");_e.skyboxGeometry||(_e.skyboxGeometry=new Xo(Xe)),Xe.activeTexture.set(dt.TEXTURE0);let ot=_e.colorRampTexture;ot||(ot=_e.colorRampTexture=new b.Texture(Xe,_e.colorRamp,dt.RGBA)),ot.bind(dt.LINEAR,dt.CLAMP_TO_EDGE);const vt=(wt=yt.skyboxMatrix,Bt=_e.getCenter(ve,!1),Ct=_e.paint.get("sky-gradient-radius"),kt=Ge,wn=We,{u_matrix:wt,u_color_ramp:0,u_center_direction:Bt,u_radius:b.degToRad(Ct),u_opacity:kt,u_temporal_offset:wn});var wt,Bt,Ct,kt,wn;ve.prepareDrawProgram(Xe,Ot),Ot.draw(Xe,dt.TRIANGLES,ze,b.StencilMode.disabled,ve.colorModeForRenderPass(),b.CullFaceMode.backCW,vt,"skyboxGradient",_e.skyboxGeometry.vertexBuffer,_e.skyboxGeometry.indexBuffer,_e.skyboxGeometry.segment)}(P,C,ae,R,fe)},debug:function(P,f,C){for(let R=0;R<C.length;R++)wh(P,f,C[R])},custom:function(P,f,C){const R=P.context,H=C.implementation;if("offscreen"===P.renderPass){const X=H.prerender;X&&(P.setCustomLayerDefaults(),R.setColorMode(P.colorModeForRenderPass()),X.call(H,R.gl,P.transform.customLayerMatrix()),R.setDirty(),P.setBaseState())}else if("translucent"===P.renderPass){P.setCustomLayerDefaults(),R.setColorMode(P.colorModeForRenderPass()),R.setStencilMode(b.StencilMode.disabled);const X="3d"===H.renderingMode?new b.DepthMode(P.context.gl.LEQUAL,b.DepthMode.ReadWrite,P.depthRangeFor3D):P.depthModeForSublayer(0,b.DepthMode.ReadOnly);R.setDepthMode(X),H.render(R.gl,P.transform.customLayerMatrix()),R.setDirty(),P.setBaseState(),R.bindFramebuffer.set(null)}}};class Pp{constructor(f,C){this.context=new Ni(f),this.transform=C,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=b.SourceCache.maxUnderzooming+b.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nd,this.gpuTimers={},this.frameCounter=0}updateTerrain(f,C){const R=!!f&&!!f.terrain;if(!(R||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new np(this,f));const H=this._terrain;this.transform.elevation=R?H:null,H.update(f,this.transform,C)}_updateFog(f){const C=f.fog;if(!C||C.getOpacity(this.transform.pitch)<1||C.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[R,H]=C.getFovAdjustedRange(this.transform._fov);if(R>H)return void(this.transform.fogCullDistSq=null);const X=R+.78*(H-R);this.transform.fogCullDistSq=X*X}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(f,C){if(this.width=f*b.exported.devicePixelRatio,this.height=C*b.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const R of this.style.order)this.style._layers[R].resize()}setup(){const f=this.context,C=new b.StructArrayLayout2i4;C.emplaceBack(0,0),C.emplaceBack(b.EXTENT,0),C.emplaceBack(0,b.EXTENT),C.emplaceBack(b.EXTENT,b.EXTENT),this.tileExtentBuffer=f.createVertexBuffer(C,b.posAttributes.members),this.tileExtentSegments=b.SegmentVector.simpleSegment(0,0,4,2);const R=new b.StructArrayLayout2i4;R.emplaceBack(0,0),R.emplaceBack(b.EXTENT,0),R.emplaceBack(0,b.EXTENT),R.emplaceBack(b.EXTENT,b.EXTENT),this.debugBuffer=f.createVertexBuffer(R,b.posAttributes.members),this.debugSegments=b.SegmentVector.simpleSegment(0,0,4,5);const H=new b.StructArrayLayout4i8;H.emplaceBack(0,0,0,0),H.emplaceBack(b.EXTENT,0,b.EXTENT,0),H.emplaceBack(0,b.EXTENT,0,b.EXTENT),H.emplaceBack(b.EXTENT,b.EXTENT,b.EXTENT,b.EXTENT),this.rasterBoundsBuffer=f.createVertexBuffer(H,wr.members),this.rasterBoundsSegments=b.SegmentVector.simpleSegment(0,0,4,2);const X=new b.StructArrayLayout2i4;X.emplaceBack(-1,-1),X.emplaceBack(1,-1),X.emplaceBack(-1,1),X.emplaceBack(1,1),this.viewportBuffer=f.createVertexBuffer(X,b.posAttributes.members),this.viewportSegments=b.SegmentVector.simpleSegment(0,0,4,2);const ae=new b.StructArrayLayout1ui2;ae.emplaceBack(0),ae.emplaceBack(1),ae.emplaceBack(3),ae.emplaceBack(2),ae.emplaceBack(0),this.tileBorderIndexBuffer=f.createIndexBuffer(ae);const fe=new b.StructArrayLayout3ui6;fe.emplaceBack(0,1,2),fe.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=f.createIndexBuffer(fe),this.emptyTexture=new b.Texture(f,{width:1,height:1,data:new Uint8Array([0,0,0,0])},f.gl.RGBA),this.identityMat=b.create$1();const ve=this.context.gl;this.stencilClearMode=new b.StencilMode({func:ve.ALWAYS,mask:0},0,255,ve.ZERO,ve.ZERO,ve.ZERO),this.loadTimeStamps.push(b.window.performance.now())}clearStencil(){const f=this.context,C=f.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(f,C.TRIANGLES,b.DepthMode.disabled,this.stencilClearMode,b.ColorMode.disabled,b.CullFaceMode.disabled,wc(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(f,C,R){if(!(C&&this.currentStencilSource!==C.id&&f.isTileClipped()&&R&&R.length))return;this.currentStencilSource=C.id;const H=this.context,X=H.gl;this.nextStencilID+R.length>256&&this.clearStencil(),H.setColorMode(b.ColorMode.disabled),H.setDepthMode(b.DepthMode.disabled);const ae=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const fe of R){const ve=this._tileClippingMaskIDs[fe.key]=this.nextStencilID++;ae.draw(H,X.TRIANGLES,b.DepthMode.disabled,new b.StencilMode({func:X.ALWAYS,mask:0},ve,255,X.KEEP,X.KEEP,X.REPLACE),b.ColorMode.disabled,b.CullFaceMode.disabled,wc(fe.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const f=this.nextStencilID++,C=this.context.gl;return new b.StencilMode({func:C.NOTEQUAL,mask:255},f,255,C.KEEP,C.KEEP,C.REPLACE)}stencilModeForClipping(f){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(f);const C=this.context.gl;return new b.StencilMode({func:C.EQUAL,mask:255},this._tileClippingMaskIDs[f.key],0,C.KEEP,C.KEEP,C.REPLACE)}stencilConfigForOverlap(f){const C=this.context.gl,R=f.sort((ae,fe)=>fe.overscaledZ-ae.overscaledZ),H=R[R.length-1].overscaledZ,X=R[0].overscaledZ-H+1;if(X>1){this.currentStencilSource=void 0,this.nextStencilID+X>256&&this.clearStencil();const ae={};for(let fe=0;fe<X;fe++)ae[fe+H]=new b.StencilMode({func:C.GEQUAL,mask:255},fe+this.nextStencilID,255,C.KEEP,C.KEEP,C.REPLACE);return this.nextStencilID+=X,[ae,R]}return[{[H]:b.StencilMode.disabled},R]}colorModeForRenderPass(){const f=this.context.gl;if(this._showOverdrawInspector){const C=1/8;return new b.ColorMode([f.CONSTANT_COLOR,f.ONE],new b.Color(C,C,C,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?b.ColorMode.unblended:b.ColorMode.alphaBlended}depthModeForSublayer(f,C,R){if(!this.opaquePassEnabledForLayer())return b.DepthMode.disabled;const H=1-((1+this.currentLayer)*this.numSublayers+f)*this.depthEpsilon;return new b.DepthMode(R||this.context.gl.LEQUAL,C,[H,H])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(f,C){this.style=f,this.options=C,this.lineAtlas=f.lineAtlas,this.imageManager=f.imageManager,this.glyphManager=f.glyphManager,this.symbolFadeChange=f.placement.symbolFadeChange(b.exported.now()),this.imageManager.beginFrame();const R=this.style.order,H=this.style._sourceCaches;for(const _e in H){const ze=H[_e];ze.used&&ze.prepare(this.context)}const X={},ae={},fe={};for(const _e in H){const ze=H[_e];X[_e]=ze.getVisibleCoordinates(),ae[_e]=X[_e].slice().reverse(),fe[_e]=ze.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let _e=0;_e<R.length;_e++)if(this.style._layers[R[_e]].is3D()){this.opaquePassCutoff=_e;break}if(this.terrain&&(this.terrain.updateTileBinding(fe),this.opaquePassCutoff=0),!b.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const _e of R){const ze=this.style._layers[_e],Ge=f._getLayerSourceCache(ze);if(!ze.hasOffscreenPass()||ze.isHidden(this.transform.zoom))continue;const We=Ge?ae[Ge.id]:void 0;("custom"===ze.type||ze.isSky()||We&&We.length)&&this.renderLayer(this,Ge,ze,We)}this.depthRangeFor3D=[0,1-(f.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let ve=b.Color.transparent;if(this.style.fog&&(ve=this.style.fog.properties.get("color")),this.context.clear({color:C.showOverdrawInspector?b.Color.black:ve,depth:1}),this.clearStencil(),this._showOverdrawInspector=C.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const _e=this.style._layers[R[this.currentLayer]],ze=f._getLayerSourceCache(_e);if(_e.isSky())continue;const Ge=ze?ae[ze.id]:void 0;this._renderTileClippingMasks(_e,ze,Ge),this.renderLayer(this,ze,_e,Ge)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const _e=this.style._layers[R[this.currentLayer]],ze=f._getLayerSourceCache(_e);_e.isSky()&&this.renderLayer(this,ze,_e,ze?ae[ze.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<R.length;){const _e=this.style._layers[R[this.currentLayer]],ze=f._getLayerSourceCache(_e);if(_e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(_e)){if(_e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ge=ze?("symbol"===_e.type?fe:ae)[ze.id]:void 0;this._renderTileClippingMasks(_e,ze,ze?X[ze.id]:void 0),this.renderLayer(this,ze,_e,Ge),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let _e=null;b.values(this.style._layers).forEach(ze=>{const Ge=f._getLayerSourceCache(ze);Ge&&!ze.isHidden(this.transform.zoom)&&(!_e||_e.getSource().maxzoom<Ge.getSource().maxzoom)&&(_e=Ge)}),_e&&this.options.showTileBoundaries&&Mc.debug(this,_e,_e.getVisibleCoordinates())}this.options.showPadding&&function(_e){const ze=_e.transform.padding;iu(_e,_e.transform.height-(ze.top||0),3,tc),iu(_e,ze.bottom||0,3,hr),No(_e,ze.left||0,3,Lp),No(_e,_e.transform.width-(ze.right||0),3,xh);const Ge=_e.transform.centerPoint;var We,Xe,dt,yt;nc(We=_e,(Xe=Ge.x)-1,(dt=_e.transform.height-Ge.y)-10,2,20,yt=Pu),nc(We,Xe-10,dt-1,20,2,yt)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%b.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(b.window.performance.now()),this.saveCanvasCopy())}renderLayer(f,C,R,H){R.isHidden(this.transform.zoom)||("background"===R.type||"sky"===R.type||"custom"===R.type||H&&H.length)&&(this.id=R.id,this.gpuTimingStart(R),Mc[R.type](f,C,R,H,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(f){if(!this.options.gpuTiming)return;const C=this.context.extTimerQuery;let R=this.gpuTimers[f.id];R||(R=this.gpuTimers[f.id]={calls:0,cpuTime:0,query:C.createQueryEXT()}),R.calls++,C.beginQueryEXT(C.TIME_ELAPSED_EXT,R.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;f.endQueryEXT(f.TIME_ELAPSED_EXT)}collectGpuTimers(){const f=this.gpuTimers;return this.gpuTimers={},f}queryGpuTimers(f){const C={};for(const R in f){const H=f[R],X=this.context.extTimerQuery,ae=X.getQueryObjectEXT(H.query,X.QUERY_RESULT_EXT)/1e6;X.deleteQueryEXT(H.query),C[R]=ae}return C}translatePosMatrix(f,C,R,H,X){if(!R[0]&&!R[1])return f;const ae=X?"map"===H?this.transform.angle:0:"viewport"===H?-this.transform.angle:0;if(ae){const _e=Math.sin(ae),ze=Math.cos(ae);R=[R[0]*ze-R[1]*_e,R[0]*_e+R[1]*ze]}const fe=[X?R[0]:ni(C,R[0],this.transform.zoom),X?R[1]:ni(C,R[1],this.transform.zoom),0],ve=new Float32Array(16);return b.translate(ve,f,fe),ve}saveTileTexture(f){const C=this._tileTextures[f.size[0]];C?C.push(f):this._tileTextures[f.size[0]]=[f]}getTileTexture(f){const C=this._tileTextures[f];return C&&C.length>0?C.pop():null}isPatternMissing(f){if(!f)return!1;if(!f.from||!f.to)return!0;const C=this.imageManager.getPattern(f.from.toString()),R=this.imageManager.getPattern(f.to.toString());return!C||!R}currentGlobalDefines(){const f=this.terrain&&this.terrain.renderingToTexture,C=this.style&&this.style.fog,R=[];return this.terrain&&!this.terrain.renderingToTexture&&R.push("TERRAIN"),C&&!f&&0!==C.getOpacity(this.transform.pitch)&&R.push("FOG"),f&&R.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&R.push("OVERDRAW_INSPECTOR"),R}useProgram(f,C,R){this.cache=this.cache||{};const H=R||[],X=this.currentGlobalDefines().concat(H),ae=ip.cacheKey(f,X,C);return this.cache[ae]||(this.cache[ae]=new ip(this.context,f,cd[f],C,pd[f],X)),this.cache[ae]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const f=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(f.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=b.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new b.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(f){this.terrain&&this.terrain.prepareDrawTile(f)}prepareDrawProgram(f,C,R){if(this.terrain&&this.terrain.renderingToTexture)return;const H=this.style.fog;if(H){const X=H.getOpacity(this.transform.pitch);0!==X&&C.setFogUniformValues(f,((ae,fe,ve,_e)=>{const ze=fe.properties.get("color"),Ge=ae.frameCounter/1e3%1,We=[ze.r/ze.a,ze.g/ze.a,ze.b/ze.a,_e];return{u_fog_matrix:ve?ae.transform.calculateFogTileMatrix(ve):ae.identityMat,u_fog_range:fe.getFovAdjustedRange(ae.transform._fov),u_fog_color:We,u_fog_horizon_blend:fe.properties.get("horizon-blend"),u_fog_temporal_offset:Ge}})(this,H,R,X))}}setTileLoadedFlag(f){this.tileLoaded=f}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const f=this.context.gl,C=f.createTexture();return f.bindTexture(f.TEXTURE_2D,C),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGBA,0,0,f.drawingBufferWidth,f.drawingBufferHeight,0),C}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const f=this.style&&this.style.fog;return!!f&&0!==f.getOpacity(this.transform.pitch)}}class Ud{constructor(f=0,C=0,R=0,H=0){if(isNaN(f)||f<0||isNaN(C)||C<0||isNaN(R)||R<0||isNaN(H)||H<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=f,this.bottom=C,this.left=R,this.right=H}interpolate(f,C,R){return null!=C.top&&null!=f.top&&(this.top=b.number(f.top,C.top,R)),null!=C.bottom&&null!=f.bottom&&(this.bottom=b.number(f.bottom,C.bottom,R)),null!=C.left&&null!=f.left&&(this.left=b.number(f.left,C.left,R)),null!=C.right&&null!=f.right&&(this.right=b.number(f.right,C.right,R)),this}getCenter(f,C){const R=b.clamp((this.left+f-this.right)/2,0,f),H=b.clamp((this.top+C-this.bottom)/2,0,C);return new b.pointGeometry(R,H)}equals(f){return this.top===f.top&&this.bottom===f.bottom&&this.left===f.left&&this.right===f.right}clone(){return new Ud(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Xa(P,f){return[P[4*f],P[4*f+1],P[4*f+2],P[4*f+3]]}function rc(P,f,C){P[4*f+0]=C[0],P[4*f+1]=C[1],P[4*f+2]=C[2],P[4*f+3]=C[3]}function fd(P,f){const C=Xa(P,3);b.fromQuat(P,f),rc(P,3,C)}function qt(P,f){rc(P,3,[f[0],f[1],f[2],1])}function kn(P,f){const C=b.identity$1([]);return b.rotateZ$1(C,C,-f),b.rotateX$1(C,C,-P),C}function pn(P,f){const C=[P[0],P[1],0],R=[f[0],f[1],0];if(b.length(C)>=1e-15){const ae=b.normalize([],C);b.scale(R,ae,b.dot(R,ae)),f[0]=R[0],f[1]=R[1]}const H=b.cross([],f,P);if(b.len(H)<1e-15)return null;const X=Math.atan2(-H[1],H[0]);return kn(Math.atan2(Math.sqrt(P[0]*P[0]+P[1]*P[1]),-P[2]),X)}class Ci{constructor(f,C){this.position=f,this.orientation=C}get position(){return this._position}set position(f){this._position=this._renderWorldCopies?function(C){if(!C)return;const R=Array.isArray(C)?new b.MercatorCoordinate(C[0],C[1],C[2]):C;return R.x=b.wrap(R.x,0,1),R}(f):f}lookAtPoint(f,C){if(this.orientation=null,!this.position)return;const R=this._elevation?this._elevation.getAtPointOrZero(b.MercatorCoordinate.fromLngLat(f)):0,H=this.position,X=b.MercatorCoordinate.fromLngLat(f,R),ae=[X.x-H.x,X.y-H.y,X.z-H.z];C||(C=[0,0,1]),C[2]=Math.abs(C[2]),this.orientation=pn(ae,C)}setPitchBearing(f,C){this.orientation=kn(b.degToRad(f),b.degToRad(-C))}}class Ki{constructor(f,C){this._transform=b.identity([]),this._orientation=b.identity$1([]),C&&(this._orientation=C,fd(this._transform,this._orientation)),f&&qt(this._transform,f)}get mercatorPosition(){const f=this.position;return new b.MercatorCoordinate(f[0],f[1],f[2])}get position(){const f=Xa(this._transform,3);return[f[0],f[1],f[2]]}set position(f){qt(this._transform,f)}get orientation(){return this._orientation}set orientation(f){this._orientation=f,fd(this._transform,this._orientation)}getPitchBearing(){const f=this.forward(),C=this.right();return{bearing:Math.atan2(-C[1],C[0]),pitch:Math.atan2(Math.sqrt(f[0]*f[0]+f[1]*f[1]),-f[2])}}setPitchBearing(f,C){this._orientation=kn(f,C),fd(this._transform,this._orientation)}forward(){const f=Xa(this._transform,2);return[-f[0],-f[1],-f[2]]}up(){const f=Xa(this._transform,1);return[-f[0],-f[1],-f[2]]}right(){const f=Xa(this._transform,0);return[f[0],f[1],f[2]]}getCameraToWorld(f,C){const R=new Float64Array(16);return b.invert(R,this.getWorldToCamera(f,C)),R}getWorldToCameraPosition(f,C,R){const H=this.position;b.scale(H,H,-f);const X=new Float64Array(16);return b.fromScaling(X,[R,R,R]),b.translate(X,X,H),X[10]*=C,X}getWorldToCamera(f,C){const R=new Float64Array(16),H=new Float64Array(4),X=this.position;return b.conjugate(H,this._orientation),b.scale(X,X,-f),b.fromQuat(R,H),b.translate(R,R,X),R[1]*=-1,R[5]*=-1,R[9]*=-1,R[13]*=-1,R[8]*=C,R[9]*=C,R[10]*=C,R[11]*=C,R}getCameraToClipPerspective(f,C,R,H){const X=new Float64Array(16);return b.perspective(X,f,C,R,H),X}getDistanceToElevation(f){const C=0===f?0:b.mercatorZfromAltitude(f,this.position[1]),R=this.forward();return(C-this.position[2])/R[2]}clone(){return new Ki([...this.position],[...this.orientation])}}class Cr{constructor(f,C,R,H,X){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===X||X,this._minZoom=f||0,this._maxZoom=C||22,this._minPitch=null==R?0:R,this._maxPitch=null==H?60:H,this.setMaxBounds(),this.width=0,this.height=0,this._center=new b.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ud,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new Ki,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const f=new Cr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return f._elevation=this._elevation,f._centerAltitude=this._centerAltitude,f.tileSize=this.tileSize,f.latRange=this.latRange,f.width=this.width,f.height=this.height,f.cameraElevationReference=this.cameraElevationReference,f._center=this._center,f._setZoom(this.zoom),f._cameraZoom=this._cameraZoom,f.angle=this.angle,f._fov=this._fov,f._pitch=this._pitch,f._averageElevation=this._averageElevation,f._unmodified=this._unmodified,f._edgeInsets=this._edgeInsets.clone(),f._camera=this._camera.clone(),f._calcMatrices(),f.freezeTileCoverage=this.freezeTileCoverage,f}get elevation(){return this._elevation}set elevation(f){this._elevation!==f&&(this._elevation=f,f?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(f){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),f&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(f){this._minZoom!==f&&(this._minZoom=f,this.zoom=Math.max(this.zoom,f))}get maxZoom(){return this._maxZoom}set maxZoom(f){this._maxZoom!==f&&(this._maxZoom=f,this.zoom=Math.min(this.zoom,f))}get minPitch(){return this._minPitch}set minPitch(f){this._minPitch!==f&&(this._minPitch=f,this.pitch=Math.max(this.pitch,f))}get maxPitch(){return this._maxPitch}set maxPitch(f){this._maxPitch!==f&&(this._maxPitch=f,this.pitch=Math.min(this.pitch,f))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(f){void 0===f?f=!0:null===f&&(f=!1),this._renderWorldCopies=f}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const f=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(f))}get pixelsPerMeter(){return b.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return b.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new b.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(f){const C=-b.wrap(f,-180,180)*Math.PI/180;var R,H,X,ae,fe,ve,_e,ze,Ge,We;this.angle!==C&&(this._unmodified=!1,this.angle=C,this._calcMatrices(),this.rotationMatrix=(R=new b.ARRAY_TYPE(4),b.ARRAY_TYPE!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R),H=this.rotationMatrix,ae=this.angle,fe=(X=this.rotationMatrix)[0],ve=X[1],_e=X[2],ze=X[3],Ge=Math.sin(ae),We=Math.cos(ae),H[0]=fe*We+_e*Ge,H[1]=ve*We+ze*Ge,H[2]=fe*-Ge+_e*We,H[3]=ve*-Ge+ze*We)}get pitch(){return this._pitch/Math.PI*180}set pitch(f){const C=b.clamp(f,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==C&&(this._unmodified=!1,this._pitch=C,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(f){f=Math.max(.01,Math.min(60,f)),this._fov!==f&&(this._unmodified=!1,this._fov=f/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(f){this._averageElevation=f,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(f){const C=Math.min(Math.max(f,this.minZoom),this.maxZoom);this._zoom!==C&&(this._unmodified=!1,this._setZoom(C),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(f){this._zoom=f,this.scale=this.zoomScale(f),this.tileZoom=Math.floor(f),this.zoomFraction=f-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const f=this._elevation.getAtPointOrZero(b.MercatorCoordinate.fromLngLat(this.center),-1);return-1===f?(this._cameraZoom=null,!1):(this._centerAltitude=f,!0)}_updateCameraOnTerrain(){const f=this.cameraToCenterDistance/this.worldSize,C=b.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(C+f)}sampleAverageElevation(){if(!this._elevation)return 0;const f=this._elevation,C=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],R=this.horizonLineFromTop();let H=0,X=0;for(let ae=0;ae<C.length;ae++){const fe=new b.pointGeometry(C[ae][0]*this.width,R+C[ae][1]*(this.height-R)),ve=f.pointCoordinate(fe);if(!ve)continue;const _e=1/Math.hypot(ve[0]-this._camera.position[0],ve[1]-this._camera.position[1]);H+=ve[3]*_e,X+=_e}return 0===X?NaN:H/X}get center(){return this._center}set center(f){f.lat===this._center.lat&&f.lng===this._center.lng||(this._unmodified=!1,this._center=f,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const f=this._cameraZoom,C=this._elevation.getAtPointOrZero(b.MercatorCoordinate.fromLngLat(this.center)),R=b.mercatorZfromAltitude(C,this.center.lat),H=this._mercatorZfromZoom(f),X=this._mercatorZfromZoom(this._maxZoom),ae=Math.max(H-R,X);this._setZoom(this._zoomFromMercatorZ(ae))}get padding(){return this._edgeInsets.toJSON()}set padding(f){this._edgeInsets.equals(f)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,f,1),this._calcMatrices())}computeZoomRelativeTo(f){const C=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,f.toAltitude()));let R;R=f.z<this._camera.position[2]?[C.x,C.y,C.z]:[f.x,f.y,f.z];const H=b.length(b.sub([],this._camera.position,R));return b.clamp(this._zoomFromMercatorZ(H),this._minZoom,this._maxZoom)}setFreeCameraOptions(f){if(!this.height||!f.position&&!f.orientation)return;this._updateCameraState();let C=!1;if(f.orientation&&!b.exactEquals(f.orientation,this._camera.orientation)&&(C=this._setCameraOrientation(f.orientation)),f.position){const R=[f.position.x,f.position.y,f.position.z];b.exactEquals$1(R,this._camera.position)||(this._setCameraPosition(R),C=!0)}C&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const f=this._camera.position,C=new Ci;return C.position=new b.MercatorCoordinate(f[0],f[1],f[2]),C.orientation=this._camera.orientation,C._elevation=this.elevation,C._renderWorldCopies=this._renderWorldCopies,C}_setCameraOrientation(f){if(!b.length$1(f))return!1;b.normalize$1(f,f);const C=b.transformQuat([],[0,0,-1],f),R=b.transformQuat([],[0,-1,0],f);if(R[2]<0)return!1;const H=pn(C,R);return!!H&&(this._camera.orientation=H,!0)}_setCameraPosition(f){const C=this.zoomScale(this.minZoom)*this.tileSize,R=this.zoomScale(this.maxZoom)*this.tileSize,H=this.cameraToCenterDistance;f[2]=b.clamp(f[2],H/R,H/C),this._camera.position=f}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(f){return this._edgeInsets.equals(f)}interpolatePadding(f,C,R){this._unmodified=!1,this._edgeInsets.interpolate(f,C,R),this._constrain(),this._calcMatrices()}coveringZoomLevel(f){const C=(f.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/f.tileSize));return Math.max(0,C)}getVisibleUnwrappedCoordinates(f){const C=[new b.UnwrappedTileID(0,f)];if(this._renderWorldCopies){const R=this.pointCoordinate(new b.pointGeometry(0,0)),H=this.pointCoordinate(new b.pointGeometry(this.width,0)),X=this.pointCoordinate(new b.pointGeometry(this.width,this.height)),ae=this.pointCoordinate(new b.pointGeometry(0,this.height)),fe=Math.floor(Math.min(R.x,H.x,X.x,ae.x)),ve=Math.floor(Math.max(R.x,H.x,X.x,ae.x)),_e=1;for(let ze=fe-_e;ze<=ve+_e;ze++)0!==ze&&C.push(new b.UnwrappedTileID(ze,f))}return C}coveringTiles(f){let C=this.coveringZoomLevel(f);const R=C,H=this.elevation&&!f.isTerrainDEM;if(void 0!==f.minzoom&&C<f.minzoom)return[];void 0!==f.maxzoom&&C>f.maxzoom&&(C=f.maxzoom);const X=b.MercatorCoordinate.fromLngLat(this.center),ae=1<<C,fe=[ae*X.x,ae*X.y,0],ve=ei.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,C),_e=this.pointCoordinate(this.getCameraPoint()),ze=ae*b.mercatorZfromAltitude(1,this.center.lat),Ge=this._camera.position[2]/b.mercatorZfromAltitude(1,this.center.lat),We=[ae*_e.x,ae*_e.y,Ge],Xe=this.cameraToCenterDistance/f.tileSize*(f.roundZoom?1:.502),dt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?C:0,yt=f.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ot=f.isTerrainDEM?-yt:this._elevation?this._elevation.getMinElevationBelowMSL():0,ot=Dt=>({aabb:new In([Dt*ae,0,Ot],[(Dt+1)*ae,ae,yt]),zoom:0,x:0,y:0,wrap:Dt,fullyVisible:!1}),vt=[],wt=[],Bt=C,Ct=f.reparseOverscaled?R:C,kt=Dt=>{if(!this._elevation||!Dt.tileID)return;const ti=this._elevation.getMinMaxForTile(Dt.tileID),On=Dt.aabb;ti?(On.min[2]=ti.min,On.max[2]=ti.max,On.center[2]=(On.min[2]+On.max[2])/2):(Dt.shouldSplit=Ln(Dt),Dt.shouldSplit||(On.min[2]=On.max[2]=On.center[2]=this._centerAltitude))},wn=Dt=>Dt*Dt,Tn=wn((Ge-this._centerAltitude)*ze),Ln=Dt=>{if(Dt.zoom<dt)return!0;if(Dt.zoom===Bt)return!1;if(null!=Dt.shouldSplit)return Dt.shouldSplit;const ti=Dt.aabb.distanceX(We),On=Dt.aabb.distanceY(We);let ci=Tn;H&&(ci=wn(Dt.aabb.distanceZ(We)*ze));const Qn=ti*ti+On*On+ci;return Qn<wn((1<<Bt-Dt.zoom)*Xe*((Wn,ur)=>{if(ur*wn(.707)<Wn)return 1;const Si=Math.sqrt(ur/Wn);return Si/(1.4144271570014144+(Math.pow(1.1,Si-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ci,Tn),Qn))};if(this._renderWorldCopies)for(let Dt=1;Dt<=3;Dt++)vt.push(ot(-Dt)),vt.push(ot(Dt));for(vt.push(ot(0));vt.length>0;){const Dt=vt.pop(),ti=Dt.x,On=Dt.y;let ci=Dt.fullyVisible;if(!ci){const Qn=Dt.aabb.intersects(ve);if(0===Qn)continue;ci=2===Qn}if(Dt.zoom!==Bt&&Ln(Dt))for(let Qn=0;Qn<4;Qn++){const Wn=(ti<<1)+Qn%2,ur=(On<<1)+(Qn>>1),Si={aabb:Dt.aabb.quadrant(Qn),zoom:Dt.zoom+1,x:Wn,y:ur,wrap:Dt.wrap,fullyVisible:ci,tileID:void 0,shouldSplit:void 0};H&&(Si.tileID=new b.OverscaledTileID(Dt.zoom+1===Bt?Ct:Dt.zoom+1,Dt.wrap,Dt.zoom+1,Wn,ur),kt(Si)),vt.push(Si)}else{const Qn=Dt.zoom===Bt?Ct:Dt.zoom;if(f.minzoom&&f.minzoom>Qn)continue;const Wn=fe[0]-(.5+ti+(Dt.wrap<<Dt.zoom))*(1<<C-Dt.zoom),ur=fe[1]-.5-On,Si=Dt.tileID?Dt.tileID:new b.OverscaledTileID(Qn,Dt.wrap,Dt.zoom,ti,On);wt.push({tileID:Si,distanceSq:Wn*Wn+ur*ur})}}if(this.fogCullDistSq){const Dt=this.fogCullDistSq;wt.splice(0,wt.length,...wt.filter(ti=>{const On=[0,0,0,1],ci=[b.EXTENT,b.EXTENT,0,1],Qn=this.calculateFogTileMatrix(ti.tileID.toUnwrapped());b.transformMat4(On,On,Qn),b.transformMat4(ci,ci,Qn);const Wn=b.getAABBPointSquareDist(On,ci);if(0===Wn)return!0;let ur=!1;const Si=this.horizonLineFromTop();if(Wn>Dt&&0!==Si){const jr=this.calculateProjMatrix(ti.tileID.toUnwrapped());let os;H&&this._elevation&&(os=this._elevation.getMinMaxForTile(ti.tileID)),os||(os={min:Ot,max:yt});const ps=b.furthestTileCorner(this.bearing),_r=[ps[0]*b.EXTENT,ps[1]*b.EXTENT,os.max];b.transformMat4$1(_r,_r,jr),ur=(1-_r[1])*this.height*.5<Si}return Wn<Dt||ur}))}return wt.sort((Dt,ti)=>Dt.distanceSq-ti.distanceSq).map(Dt=>Dt.tileID)}resize(f,C){this.width=f,this.height=C,this.pixelsToGLUnits=[2/f,-2/C],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(f){return Math.pow(2,f)}scaleZoom(f){return Math.log(f)/Math.LN2}project(f){const C=b.clamp(f.lat,-this.maxValidLatitude,this.maxValidLatitude);return new b.pointGeometry(b.mercatorXfromLng(f.lng)*this.worldSize,b.mercatorYfromLat(C)*this.worldSize)}unproject(f){return new b.MercatorCoordinate(f.x/this.worldSize,f.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(f,C){const R=this.pointCoordinate(C),H=this.pointCoordinate(this.centerPoint),X=this.locationCoordinate(f),ae=new b.MercatorCoordinate(X.x-(R.x-H.x),X.y-(R.y-H.y));this.center=this.coordinateLocation(ae),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(f){this.center=this.coordinateLocation(f),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(f){return this._coordinatePoint(this.locationCoordinate(f),!1)}locationPoint3D(f){return this._coordinatePoint(this.locationCoordinate(f),!0)}pointLocation(f){return this.coordinateLocation(this.pointCoordinate(f))}pointLocation3D(f){return this.coordinateLocation(this.pointCoordinate3D(f))}locationCoordinate(f){return b.MercatorCoordinate.fromLngLat(f)}coordinateLocation(f){return f.toLngLat()}pointRayIntersection(f,C){const R=null!=C?C:this._centerAltitude,H=[f.x,f.y,0,1],X=[f.x,f.y,1,1];b.transformMat4(H,H,this.pixelMatrixInverse),b.transformMat4(X,X,this.pixelMatrixInverse);const ae=X[3];b.scale$2(H,H,1/H[3]),b.scale$2(X,X,1/ae);const fe=H[2],ve=X[2];return{p0:H,p1:X,t:fe===ve?0:(R-fe)/(ve-fe)}}screenPointToMercatorRay(f){const C=[f.x,f.y,0,1],R=[f.x,f.y,1,1];return b.transformMat4(C,C,this.pixelMatrixInverse),b.transformMat4(R,R,this.pixelMatrixInverse),b.scale$2(C,C,1/C[3]),b.scale$2(R,R,1/R[3]),C[2]=b.mercatorZfromAltitude(C[2],this._center.lat)*this.worldSize,R[2]=b.mercatorZfromAltitude(R[2],this._center.lat)*this.worldSize,b.scale$2(C,C,1/this.worldSize),b.scale$2(R,R,1/this.worldSize),new at([C[0],C[1],C[2]],b.normalize([],b.sub([],R,C)))}rayIntersectionCoordinate(f){const{p0:C,p1:R,t:H}=f,X=b.mercatorZfromAltitude(C[2],this._center.lat),ae=b.mercatorZfromAltitude(R[2],this._center.lat);return new b.MercatorCoordinate(b.number(C[0],R[0],H)/this.worldSize,b.number(C[1],R[1],H)/this.worldSize,b.number(X,ae,H))}pointCoordinate(f){const C=this.horizonLineFromTop(!1),R=new b.pointGeometry(f.x,Math.max(C,f.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(R))}pointCoordinate3D(f){if(!this.elevation)return this.pointCoordinate(f);const C=this.elevation;let R=this.elevation.pointCoordinate(f);if(R)return new b.MercatorCoordinate(R[0],R[1],R[2]);let H=0,X=this.horizonLineFromTop();if(f.y>X)return this.pointCoordinate(f);const ae=.02*X,fe=f.clone();for(let ve=0;ve<10&&X-H>ae;ve++){fe.y=b.number(H,X,.66);const _e=C.pointCoordinate(fe);_e?(X=fe.y,R=_e):H=fe.y}return R?new b.MercatorCoordinate(R[0],R[1],R[2]):this.pointCoordinate(f)}isPointAboveHorizon(f){if(this.elevation)return!this.elevation.pointCoordinate(f);{const C=this.horizonLineFromTop();return f.y<C}}_coordinatePoint(f,C){const R=C&&this.elevation?this.elevation.getAtPointOrZero(f,this._centerAltitude):this._centerAltitude,H=[f.x*this.worldSize,f.y*this.worldSize,R+f.toAltitude(),1];return b.transformMat4(H,H,this.pixelMatrix),H[3]>0?new b.pointGeometry(H[0]/H[3],H[1]/H[3]):new b.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new b.LngLatBounds).extend(this.pointLocation(new b.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new b.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new b.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new b.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const f=this.elevation,C=f.visibleDemTiles.reduce((H,X)=>{if(X.dem){const ae=X.dem.tree;H.min=Math.min(H.min,ae.minimums[0]),H.max=Math.max(H.max,ae.maximums[0])}return H},{min:Number.MAX_VALUE,max:0});C.min*=f.exaggeration(),C.max*=f.exaggeration();const R=this.horizonLineFromTop();return[new b.pointGeometry(0,R),new b.pointGeometry(this.width,R),new b.pointGeometry(this.width,this.height),new b.pointGeometry(0,this.height)].reduce((H,X)=>H.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(X,C.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(X,C.max)))),new b.LngLatBounds)}horizonLineFromTop(f=!0){const C=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,R=this.height/2-.97*C;return f?Math.max(0,R):R}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new b.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(f){f?(this.lngRange=[f.getWest(),f.getEast()],this.latRange=[f.getSouth(),f.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(f,C){const R=f.canonical,H=C/this.zoomScale(R.z),X=R.x+Math.pow(2,R.z)*f.wrap,ae=b.identity(new Float64Array(16));return b.translate(ae,ae,[X*H,R.y*H,0]),b.scale$1(ae,ae,[H/b.EXTENT,H/b.EXTENT,1]),ae}calculateFogTileMatrix(f){const C=f.key,R=this._fogTileMatrixCache;if(R[C])return R[C];const H=this.calculatePosMatrix(f,this.cameraWorldSize);return b.multiply(H,this.worldToFogMatrix,H),R[C]=new Float32Array(H),R[C]}calculateProjMatrix(f,C=!1){const R=f.key,H=C?this._alignedProjMatrixCache:this._projMatrixCache;if(H[R])return H[R];const X=this.calculatePosMatrix(f,this.worldSize);return b.multiply(X,C?this.alignedProjMatrix:this.projMatrix,X),H[R]=new Float32Array(X),H[R]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const f=this._elevation;this._updateCameraState();const C=this._camera.position,R=this._camera.forward();if(C[2]<=0||R[2]>=0)return;const H=b.mercatorZfromAltitude(1,this._center.lat);C[2]/=H,R[2]/=H,b.normalize(R,R);const X=f.raycast(C,R,f.exaggeration());if(X){const ae=b.scaleAndAdd([],C,R,X),fe=new b.MercatorCoordinate(ae[0],ae[1],b.mercatorZfromAltitude(ae[2],b.latFromMercatorY(ae[1]))),ve=this._camera.position,_e=fe.z+b.length([fe.x-ve[0],fe.y-ve[1],fe.z-ve[2]]);this._cameraZoom=this._zoomFromMercatorZ(_e),this._centerAltitude=fe.toAltitude(),this._center=fe.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const f=this._elevation;this._updateCameraState();const C=f.getAtPointOrZero(this._camera.mercatorPosition),R=this._minimumHeightOverTerrain()*Math.cos(b.degToRad(this._maxPitch)),H=b.mercatorZfromAltitude(C,this._center.lat),X=this._camera.position[2]-H;if(X<R){const ae=b.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),fe=this._camera.mercatorPosition,ve=[ae.x-fe.x,ae.y-fe.y,ae.z-fe.z],_e=b.length(ve);ve[2]-=R-X;const ze=b.length(ve);if(0===ze)return;b.scale(ve,ve,_e/ze),this._camera.position=[ae.x-ve[0],ae.y-ve[1],ae.z-ve[2]],this._camera.orientation=pn(ve,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let f,C,R,H,X=-90,ae=90,fe=-180,ve=180;const _e=this.size,ze=this._unmodified;if(this.latRange){const Xe=this.latRange;X=b.mercatorYfromLat(Xe[1])*this.worldSize,ae=b.mercatorYfromLat(Xe[0])*this.worldSize,f=ae-X<_e.y?_e.y/(ae-X):0}if(this.lngRange){const Xe=this.lngRange;fe=b.mercatorXfromLng(Xe[0])*this.worldSize,ve=b.mercatorXfromLng(Xe[1])*this.worldSize,C=ve-fe<_e.x?_e.x/(ve-fe):0}const Ge=this.point,We=Math.max(C||0,f||0);if(We)return this.center=this.unproject(new b.pointGeometry(C?(ve+fe)/2:Ge.x,f?(ae+X)/2:Ge.y)),this.zoom+=this.scaleZoom(We),this._unmodified=ze,void(this._constraining=!1);if(this.latRange){const Xe=Ge.y,dt=_e.y/2;Xe-dt<X&&(H=X+dt),Xe+dt>ae&&(H=ae-dt)}if(this.lngRange){const Xe=Ge.x,dt=_e.x/2;Xe-dt<fe&&(R=fe+dt),Xe+dt>ve&&(R=ve-dt)}void 0===R&&void 0===H||(this.center=this.unproject(new b.pointGeometry(void 0!==R?R:Ge.x,void 0!==H?H:Ge.y))),this._constrainCameraAltitude(),this._unmodified=ze,this._constraining=!1}_minZoomForBounds(){const f=(H,X)=>Math.log2(H/(this.tileSize*Math.abs(X[1]-X[0])));let C=0;if(this.latRange){const H=this.latRange;C=f(this.height,[b.mercatorYfromLat(H[0]),b.mercatorYfromLat(H[1])])}let R=0;if(this.lngRange){const H=this.lngRange;R=f(this.width,[b.mercatorXfromLng(H[0]),b.mercatorXfromLng(H[1])])}return Math.max(C,R)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const f=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const C=this.pixelsPerMeter;this._updateCameraState();const R=Math.PI/2+this._pitch,H=this.fovAboveCenter,X=this.elevation?this.elevation.getMinElevationBelowMSL()*C:0,ae=(this._camera.position[2]*this.worldSize-X)/Math.cos(this._pitch),fe=Math.sin(H)*ae/Math.sin(b.clamp(Math.PI-R-H,.01,Math.PI-.01)),ve=this.point,_e=ve.x,ze=ve.y,Ge=Math.cos(Math.PI/2-this._pitch)*fe+ae,We=Math.min(1.01*Ge,ae*(1/this._horizonShift)),Xe=this.height/50,dt=this._camera.getWorldToCamera(this.worldSize,C),yt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,Xe,We);yt[8]=2*-f.x/this.width,yt[9]=2*f.y/this.height;let Ot=b.mul$1([],yt,dt);this.mercatorMatrix=b.scale$1([],Ot,[this.worldSize,this.worldSize,this.worldSize/C]),this.projMatrix=Ot,this.invProjMatrix=b.invert(new Float64Array(16),this.projMatrix);const ot=new Float32Array(16);b.identity(ot),b.scale$1(ot,ot,[1,-1,1]),b.rotateX(ot,ot,this._pitch),b.rotateZ(ot,ot,this.angle);const vt=b.perspective(new Float32Array(16),this._fov,this.width/this.height,Xe,We),wt=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;vt[8]=2*-f.x/this.width,vt[9]=2*(f.y+wt)/this.height,this.skyboxMatrix=b.multiply(ot,vt,ot);const Bt=this.width%2/2,Ct=this.height%2/2,kt=Math.cos(this.angle),wn=Math.sin(this.angle),Tn=_e-Math.round(_e)+kt*Bt+wn*Ct,Ln=ze-Math.round(ze)+kt*Ct+wn*Bt,Dt=new Float64Array(Ot);if(b.translate(Dt,Dt,[Tn>.5?Tn-1:Tn,Ln>.5?Ln-1:Ln,0]),this.alignedProjMatrix=Dt,Ot=b.create$1(),b.scale$1(Ot,Ot,[this.width/2,-this.height/2,1]),b.translate(Ot,Ot,[1,-1,0]),this.labelPlaneMatrix=Ot,Ot=b.create$1(),b.scale$1(Ot,Ot,[1,-1,1]),b.translate(Ot,Ot,[-1,-1,0]),b.scale$1(Ot,Ot,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ot,this.pixelMatrix=b.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),Ot=b.invert(new Float64Array(16),this.pixelMatrix),!Ot)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ot,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const f=this.cameraWorldSize,C=this.cameraPixelsPerMeter,R=this._camera.position,H=1/this.height,X=[f,f,C];b.scale(X,X,H),b.scale(R,R,-1),b.multiply$1(R,R,X);const ae=b.create$1();b.translate(ae,ae,R),b.scale$1(ae,ae,X),this.mercatorFogMatrix=ae,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(f,C,H)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const f=this._camera.forward(),C=this.cameraToCenterDistance,R=this.point,H=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-b.mercatorZfromAltitude(this._centerAltitude,this.center.lat),X=this.cameraToCenterDistance/H;this._camera.position=[R.x/this.worldSize-f[0]*C/X,R.y/this.worldSize-f[1]*C/X,b.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-f[2]*C/X]}_translateCameraConstrained(f){const C=this._maxCameraBoundsDistance()*Math.cos(this._pitch),R=f[2];let H=1;R>0&&(H=Math.min((C-this._camera.position[2])/R,1)),this._camera.position=b.scaleAndAdd([],this._camera.position,f,H),this._updateStateFromCamera()}_updateStateFromCamera(){const f=this._camera.position,C=this._camera.forward(),{pitch:R,bearing:H}=this._camera.getPitchBearing(),X=b.mercatorZfromAltitude(this._centerAltitude,this.center.lat),ae=this._mercatorZfromZoom(this._maxZoom)*Math.cos(b.degToRad(this._maxPitch)),fe=Math.max((f[2]-X)/Math.cos(R),ae),ve=this._zoomFromMercatorZ(fe);b.scaleAndAdd(f,f,C,fe),this._pitch=b.clamp(R,b.degToRad(this.minPitch),b.degToRad(this.maxPitch)),this.angle=b.wrap(H,-Math.PI,Math.PI),this._setZoom(b.clamp(ve,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new b.MercatorCoordinate(f[0],f[1],f[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(f){return Math.pow(2,f)*this.tileSize}_mercatorZfromZoom(f){return this.cameraToCenterDistance/this._worldSizeFromZoom(f)}_minimumHeightOverTerrain(){const f=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(f)}_zoomFromMercatorZ(f){return this.scaleZoom(this.cameraToCenterDistance/(f*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(f,C){const R=Math.min(f.x,C.x),H=Math.max(f.x,C.x),X=Math.min(f.y,C.y),ae=Math.max(f.y,C.y),fe=[new b.pointGeometry(R,X),new b.pointGeometry(H,ae),new b.pointGeometry(R,ae),new b.pointGeometry(H,X)],ve=this._renderWorldCopies?-3:0,_e=this._renderWorldCopies?4:1;for(const ze of fe){const Ge=this.pointRayIntersection(ze);if(Ge.t<0)return!0;const We=this.rayIntersectionCoordinate(Ge);if(We.x<ve||We.y<0||We.x>_e||We.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+b.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new b.pointGeometry(0,0),new b.pointGeometry(this.width,this.height))}zoomDeltaToMovement(f,C){const R=b.length(b.sub([],this._camera.position,f)),H=this._zoomFromMercatorZ(R)+C;return R-this._mercatorZfromZoom(H)}getCameraPoint(){const f=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new b.pointGeometry(0,f))}}function Ws(P,f){let C=!1,R=null;const H=()=>{R=null,C&&(P(),R=setTimeout(H,f),C=!1)};return()=>(C=!0,R||H(),R)}class Ur{constructor(f){this._hashName=f&&encodeURIComponent(f),b.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ws(this._updateHashUnthrottled.bind(this),300)}addTo(f){return this._map=f,b.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return b.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(f){const C=this._map.getCenter(),R=Math.round(100*this._map.getZoom())/100,H=Math.ceil((R*Math.LN2+Math.log(512/360/.5))/Math.LN10),X=Math.pow(10,H),ae=Math.round(C.lng*X)/X,fe=Math.round(C.lat*X)/X,ve=this._map.getBearing(),_e=this._map.getPitch();let ze="";if(ze+=f?`/${ae}/${fe}/${R}`:`${R}/${fe}/${ae}`,(ve||_e)&&(ze+="/"+Math.round(10*ve)/10),_e&&(ze+=`/${Math.round(_e)}`),this._hashName){const Ge=this._hashName;let We=!1;const Xe=b.window.location.hash.slice(1).split("&").map(dt=>{const yt=dt.split("=")[0];return yt===Ge?(We=!0,`${yt}=${ze}`):dt}).filter(dt=>dt);return We||Xe.push(`${Ge}=${ze}`),`#${Xe.join("&")}`}return`#${ze}`}_getCurrentHash(){const f=b.window.location.hash.replace("#","");if(this._hashName){let C;return f.split("&").map(R=>R.split("=")).forEach(R=>{R[0]===this._hashName&&(C=R)}),(C&&C[1]||"").split("/")}return f.split("/")}_onHashChange(){const f=this._getCurrentHash();if(f.length>=3&&!f.some(C=>isNaN(C))){const C=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:C,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){const f=b.window.location.href.replace(/(#.+)?$/,this.getHashString());b.window.history.replaceState(b.window.history.state,null,f)}}const aa={linearity:.3,easing:b.bezier(0,0,.3,1)},sc=b.extend({deceleration:2500,maxSpeed:1400},aa),zo=b.extend({deceleration:20,maxSpeed:1400},aa),su=b.extend({deceleration:1e3,maxSpeed:360},aa),jd=b.extend({deceleration:1e3,maxSpeed:90},aa);class Ya{constructor(f){this._map=f,this.clear()}clear(){this._inertiaBuffer=[]}record(f){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:b.exported.now(),settings:f})}_drainInertiaBuffer(){const f=this._inertiaBuffer,C=b.exported.now();for(;f.length>0&&C-f[0].time>160;)f.shift()}_onMoveEnd(f){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const C={zoom:0,bearing:0,pitch:0,pan:new b.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:X}of this._inertiaBuffer)C.zoom+=X.zoomDelta||0,C.bearing+=X.bearingDelta||0,C.pitch+=X.pitchDelta||0,X.panDelta&&C.pan._add(X.panDelta),X.around&&(C.around=X.around),X.pinchAround&&(C.pinchAround=X.pinchAround);const R=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,H={};if(C.pan.mag()){const X=Yo(C.pan.mag(),R,b.extend({},sc,f||{}));H.offset=C.pan.mult(X.amount/C.pan.mag()),H.center=this._map.transform.center,Vc(H,X)}if(C.zoom){const X=Yo(C.zoom,R,zo);H.zoom=this._map.transform.zoom+X.amount,Vc(H,X)}if(C.bearing){const X=Yo(C.bearing,R,su);H.bearing=this._map.transform.bearing+b.clamp(X.amount,-179,179),Vc(H,X)}if(C.pitch){const X=Yo(C.pitch,R,jd);H.pitch=this._map.transform.pitch+X.amount,Vc(H,X)}if(H.zoom||H.bearing){const X=void 0===C.pinchAround?C.around:C.pinchAround;H.around=X?this._map.unproject(X):this._map.getCenter()}return this.clear(),b.extend(H,{noMoveStart:!0})}}function Vc(P,f){(!P.duration||P.duration<f.duration)&&(P.duration=f.duration,P.easing=f.easing)}function Yo(P,f,C){const{maxSpeed:R,linearity:H,deceleration:X}=C,ae=b.clamp(P*H/(f/1e3),-R,R),fe=Math.abs(ae)/(X*H);return{easing:C.easing,duration:1e3*fe,amount:ae*(fe/2)}}class Mr extends b.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,C,R,H={}){const X=Fe.mousePos(C.getCanvasContainer(),R),ae=C.unproject(X);super(f,b.extend({point:X,lngLat:ae,originalEvent:R},H)),this._defaultPrevented=!1,this.target=C}}class ou extends b.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,C,R){const H="touchend"===f?R.changedTouches:R.touches,X=Fe.touchPos(C.getCanvasContainer(),H),ae=X.map(ve=>C.unproject(ve)),fe=X.reduce((ve,_e,ze,Ge)=>ve.add(_e.div(Ge.length)),new b.pointGeometry(0,0));super(f,{points:X,point:fe,lngLats:ae,lngLat:C.unproject(fe),originalEvent:R}),this._defaultPrevented=!1}}class sp extends b.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(f,C,R){super(f,{originalEvent:R}),this._defaultPrevented=!1}}class oc{constructor(f,C){this._map=f,this._clickTolerance=C.clickTolerance}reset(){delete this._mousedownPos}wheel(f){return this._firePreventable(new sp(f.type,this._map,f))}mousedown(f,C){return this._mousedownPos=C,this._firePreventable(new Mr(f.type,this._map,f))}mouseup(f){this._map.fire(new Mr(f.type,this._map,f))}click(f,C){this._mousedownPos&&this._mousedownPos.dist(C)>=this._clickTolerance||this._map.fire(new Mr(f.type,this._map,f))}dblclick(f){return this._firePreventable(new Mr(f.type,this._map,f))}mouseover(f){this._map.fire(new Mr(f.type,this._map,f))}mouseout(f){this._map.fire(new Mr(f.type,this._map,f))}touchstart(f){return this._firePreventable(new ou(f.type,this._map,f))}touchmove(f){this._map.fire(new ou(f.type,this._map,f))}touchend(f){this._map.fire(new ou(f.type,this._map,f))}touchcancel(f){this._map.fire(new ou(f.type,this._map,f))}_firePreventable(f){if(this._map.fire(f),f.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ou{constructor(f){this._map=f}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(f){this._map.fire(new Mr(f.type,this._map,f))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Mr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(f){this._delayContextMenu?this._contextMenuEvent=f:this._map.fire(new Mr(f.type,this._map,f)),this._map.listens("contextmenu")&&f.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class op{constructor(f,C){this._map=f,this._el=f.getCanvasContainer(),this._container=f.getContainer(),this._clickTolerance=C.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(f,C){this.isEnabled()&&f.shiftKey&&0===f.button&&(Fe.disableDrag(),this._startPos=this._lastPos=C,this._active=!0)}mousemoveWindow(f,C){if(!this._active)return;const R=C;if(this._lastPos.equals(R)||!this._box&&R.dist(this._startPos)<this._clickTolerance)return;const H=this._startPos;this._lastPos=R,this._box||(this._box=Fe.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",f));const X=Math.min(H.x,R.x),ae=Math.max(H.x,R.x),fe=Math.min(H.y,R.y),ve=Math.max(H.y,R.y);this._map._requestDomTask(()=>{this._box&&(Fe.setTransform(this._box,`translate(${X}px,${fe}px)`),this._box.style.width=ae-X+"px",this._box.style.height=ve-fe+"px")})}mouseupWindow(f,C){if(!this._active||0!==f.button)return;const R=this._startPos,H=C;if(this.reset(),Fe.suppressClick(),R.x!==H.x||R.y!==H.y)return this._map.fire(new b.Event("boxzoomend",{originalEvent:f})),{cameraAnimation:X=>X.fitScreenCoordinates(R,H,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",f)}keydown(f){this._active&&27===f.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",f))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(Fe.remove(this._box),this._box=null),Fe.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(f,C){return this._map.fire(new b.Event(f,{originalEvent:C}))}}function Op(P,f){const C={};for(let R=0;R<P.length;R++)C[P[R].identifier]=f[R];return C}class ap{constructor(f){this.reset(),this.numTouches=f.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(f,C,R){(this.centroid||R.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=f.timeStamp),R.length===this.numTouches&&(this.centroid=function(H){const X=new b.pointGeometry(0,0);for(const ae of H)X._add(ae);return X.div(H.length)}(C),this.touches=Op(R,C)))}touchmove(f,C,R){if(this.aborted||!this.centroid)return;const H=Op(R,C);for(const X in this.touches){const ae=this.touches[X],fe=H[X];(!fe||fe.dist(ae)>30)&&(this.aborted=!0)}}touchend(f,C,R){if((!this.centroid||f.timeStamp-this.startTime>500)&&(this.aborted=!0),0===R.length){const H=!this.aborted&&this.centroid;if(this.reset(),H)return H}}}class au{constructor(f){this.singleTap=new ap(f),this.numTaps=f.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(f,C,R){this.singleTap.touchstart(f,C,R)}touchmove(f,C,R){this.singleTap.touchmove(f,C,R)}touchend(f,C,R){const H=this.singleTap.touchend(f,C,R);if(H){const X=f.timeStamp-this.lastTime<500,ae=!this.lastTap||this.lastTap.dist(H)<30;if(X&&ae||this.reset(),this.count++,this.lastTime=f.timeStamp,this.lastTap=H,this.count===this.numTaps)return this.reset(),H}}}class md{constructor(){this._zoomIn=new au({numTouches:1,numTaps:2}),this._zoomOut=new au({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(f,C,R){this._zoomIn.touchstart(f,C,R),this._zoomOut.touchstart(f,C,R)}touchmove(f,C,R){this._zoomIn.touchmove(f,C,R),this._zoomOut.touchmove(f,C,R)}touchend(f,C,R){const H=this._zoomIn.touchend(f,C,R),X=this._zoomOut.touchend(f,C,R);return H?(this._active=!0,f.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(H)},{originalEvent:f})}):X?(this._active=!0,f.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(X)},{originalEvent:f})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const lp={0:1,2:2};class Us{constructor(f){this.reset(),this._clickTolerance=f.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(f,C){return!1}_move(f,C){return{}}mousedown(f,C){if(this._lastPoint)return;const R=Fe.mouseButton(f);this._correctButton(f,R)&&(this._lastPoint=C,this._eventButton=R)}mousemoveWindow(f,C){const R=this._lastPoint;if(R)if(f.preventDefault(),function(H,X){const ae=lp[X];return void 0===H.buttons||(H.buttons&ae)!==ae}(f,this._eventButton))this.reset();else if(this._moved||!(C.dist(R)<this._clickTolerance))return this._moved=!0,this._lastPoint=C,this._move(R,C)}mouseupWindow(f){this._lastPoint&&Fe.mouseButton(f)===this._eventButton&&(this._moved&&Fe.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lu extends Us{mousedown(f,C){super.mousedown(f,C),this._lastPoint&&(this._active=!0)}_correctButton(f,C){return 0===C&&!f.ctrlKey}_move(f,C){return{around:C,panDelta:C.sub(f)}}}class ac extends Us{_correctButton(f,C){return 0===C&&f.ctrlKey||2===C}_move(f,C){const R=.8*(C.x-f.x);if(R)return this._active=!0,{bearingDelta:R}}contextmenu(f){f.preventDefault()}}class cu extends Us{_correctButton(f,C){return 0===C&&f.ctrlKey||2===C}_move(f,C){const R=-.5*(C.y-f.y);if(R)return this._active=!0,{pitchDelta:R}}contextmenu(f){f.preventDefault()}}class ul{constructor(f){this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new b.pointGeometry(0,0)}touchstart(f,C,R){return this._calculateTransform(f,C,R)}touchmove(f,C,R){if(this._active&&!(R.length<this._minTouches))return f.preventDefault(),this._calculateTransform(f,C,R)}touchend(f,C,R){this._calculateTransform(f,C,R),this._active&&R.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(f,C,R){R.length>0&&(this._active=!0);const H=Op(R,C),X=new b.pointGeometry(0,0),ae=new b.pointGeometry(0,0);let fe=0;for(const _e in H){const ze=H[_e],Ge=this._touches[_e];Ge&&(X._add(ze),ae._add(ze.sub(Ge)),fe++,H[_e]=ze)}if(this._touches=H,fe<this._minTouches||!ae.mag())return;const ve=ae.div(fe);return this._sum._add(ve),this._sum.mag()<this._clickTolerance?void 0:{around:X.div(fe),panDelta:ve}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(f){}_move(f,C,R){return{}}touchstart(f,C,R){this._firstTwoTouches||R.length<2||(this._firstTwoTouches=[R[0].identifier,R[1].identifier],this._start([C[0],C[1]]))}touchmove(f,C,R){if(!this._firstTwoTouches)return;f.preventDefault();const[H,X]=this._firstTwoTouches,ae=El(R,C,H),fe=El(R,C,X);if(!ae||!fe)return;const ve=this._aroundCenter?null:ae.add(fe).div(2);return this._move([ae,fe],ve,f)}touchend(f,C,R){if(!this._firstTwoTouches)return;const[H,X]=this._firstTwoTouches,ae=El(R,C,H),fe=El(R,C,X);ae&&fe||(this._active&&Fe.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(f){this._enabled=!0,this._aroundCenter=!!f&&"center"===f.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function El(P,f,C){for(let R=0;R<P.length;R++)if(P[R].identifier===C)return f[R]}function Gd(P,f){return Math.log(P/f)/Math.LN2}class gd extends Tc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(f){this._startDistance=this._distance=f[0].dist(f[1])}_move(f,C){const R=this._distance;if(this._distance=f[0].dist(f[1]),this._active||!(Math.abs(Gd(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Gd(this._distance,R),pinchAround:C}}}function uf(P,f){return 180*P.angleWith(f)/Math.PI}class Ch extends Tc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(f){this._startVector=this._vector=f[0].sub(f[1]),this._minDiameter=f[0].dist(f[1])}_move(f,C){const R=this._vector;if(this._vector=f[0].sub(f[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:uf(this._vector,R),pinchAround:C}}_isBelowThreshold(f){this._minDiameter=Math.min(this._minDiameter,f.mag());const C=25/(Math.PI*this._minDiameter)*360,R=uf(f,this._startVector);return Math.abs(R)<C}}function Dl(P){return Math.abs(P.y)>Math.abs(P.x)}class Ul extends Tc{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(f){this._lastPoints=f,Dl(f[0].sub(f[1]))&&(this._valid=!1)}_move(f,C,R){const H=f[0].sub(this._lastPoints[0]),X=f[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(H,X,R.timeStamp),this._valid)return this._lastPoints=f,this._active=!0,{pitchDelta:(H.y+X.y)/2*-.5}}gestureBeginsVertically(f,C,R){if(void 0!==this._valid)return this._valid;const H=f.mag()>=2,X=C.mag()>=2;if(!H&&!X)return;if(!H||!X)return void 0===this._firstMove&&(this._firstMove=R),R-this._firstMove<100&&void 0;const ae=f.y>0==C.y>0;return Dl(f)&&Dl(C)&&ae}}const Ru={panStep:100,bearingStep:15,pitchStep:10};class lc{constructor(){const f=Ru;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(f){if(f.altKey||f.ctrlKey||f.metaKey)return;let C=0,R=0,H=0,X=0,ae=0;switch(f.keyCode){case 61:case 107:case 171:case 187:C=1;break;case 189:case 109:case 173:C=-1;break;case 37:f.shiftKey?R=-1:(f.preventDefault(),X=-1);break;case 39:f.shiftKey?R=1:(f.preventDefault(),X=1);break;case 38:f.shiftKey?H=1:(f.preventDefault(),ae=-1);break;case 40:f.shiftKey?H=-1:(f.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(R=0,H=0),{cameraAnimation:fe=>{const ve=fe.getZoom();fe.easeTo({duration:300,easeId:"keyboardHandler",easing:Sc,zoom:C?Math.round(ve)+C*(f.shiftKey?2:1):ve,bearing:fe.getBearing()+R*this._bearingStep,pitch:fe.getPitch()+H*this._pitchStep,offset:[-X*this._panStep,-ae*this._panStep],center:fe.getCenter()},{originalEvent:f})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sc(P){return P*(2-P)}const vi=4.000244140625;class gr{constructor(f,C){this._map=f,this._el=f.getCanvasContainer(),this._handler=C,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,b.bindAll(["_onTimeout"],this)}setZoomRate(f){this._defaultZoomRate=f}setWheelZoomRate(f){this._wheelZoomRate=f}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(f){this.isEnabled()||(this._enabled=!0,this._aroundCenter=f&&"center"===f.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(f){if(!this.isEnabled())return;let C=f.deltaMode===b.window.WheelEvent.DOM_DELTA_LINE?40*f.deltaY:f.deltaY;const R=b.exported.now(),H=R-(this._lastWheelEventTime||0);this._lastWheelEventTime=R,0!==C&&C%vi==0?this._type="wheel":0!==C&&Math.abs(C)<4?this._type="trackpad":H>400?(this._type=null,this._lastValue=C,this._timeout=setTimeout(this._onTimeout,40,f)):this._type||(this._type=Math.abs(H*C)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,C+=this._lastValue)),f.shiftKey&&C&&(C/=4),this._type&&(this._lastWheelEvent=f,this._delta-=C,this._active||this._start(f)),f.preventDefault()}_onTimeout(f){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)}_start(f){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const C=Fe.mousePos(this._el,f);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:C,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const f=this._map.transform,C=()=>f._terrainEnabled()?f.computeZoomRelativeTo(this._aroundCoord):f.zoom;if(0!==this._delta){const ve="wheel"===this._type&&Math.abs(this._delta)>vi?this._wheelZoomRate:this._defaultZoomRate;let _e=2/(1+Math.exp(-Math.abs(this._delta*ve)));this._delta<0&&0!==_e&&(_e=1/_e);const ze=C(),Ge=Math.pow(2,ze),We="number"==typeof this._targetZoom?f.zoomScale(this._targetZoom):Ge;this._targetZoom=Math.min(f.maxZoom,Math.max(f.minZoom,f.scaleZoom(We*_e))),"wheel"===this._type&&(this._startZoom=C(),this._easing=this._smoothOutEasing(200)),this._delta=0}const R="number"==typeof this._targetZoom?this._targetZoom:C(),H=this._startZoom,X=this._easing;let ae,fe=!1;if("wheel"===this._type&&H&&X){const ve=Math.min((b.exported.now()-this._lastWheelEventTime)/200,1),_e=X(ve);ae=b.number(H,R,_e),ve<1?this._frameId||(this._frameId=!0):fe=!0}else ae=R,fe=!0;return this._active=!0,fe&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!fe,zoomDelta:ae-C(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(f){let C=b.ease;if(this._prevEase){const R=this._prevEase,H=(b.exported.now()-R.start)/R.duration,X=R.easing(H+.01)-R.easing(H),ae=.27/Math.sqrt(X*X+1e-4)*.01,fe=Math.sqrt(.0729-ae*ae);C=b.bezier(ae,fe,.25,1)}return this._prevEase={start:b.exported.now(),duration:f,easing:C},C}reset(){this._active=!1}}class js{constructor(f,C){this._clickZoom=f,this._tapZoom=C}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Er{constructor(){this.reset()}reset(){this._active=!1}dblclick(f,C){return f.preventDefault(),{cameraAnimation:R=>{R.easeTo({duration:300,zoom:R.getZoom()+(f.shiftKey?-1:1),around:R.unproject(C)},{originalEvent:f})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ti{constructor(){this._tap=new au({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(f,C,R){this._swipePoint||(this._tapTime&&f.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?R.length>0&&(this._swipePoint=C[0],this._swipeTouch=R[0].identifier):this._tap.touchstart(f,C,R))}touchmove(f,C,R){if(this._tapTime){if(this._swipePoint){if(R[0].identifier!==this._swipeTouch)return;const H=C[0],X=H.y-this._swipePoint.y;return this._swipePoint=H,f.preventDefault(),this._active=!0,{zoomDelta:X/128}}}else this._tap.touchmove(f,C,R)}touchend(f,C,R){this._tapTime?this._swipePoint&&0===R.length&&this.reset():this._tap.touchend(f,C,R)&&(this._tapTime=f.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ba{constructor(f,C,R){this._el=f,this._mousePan=C,this._touchPan=R}enable(f){this._inertiaOptions=f||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ei{constructor(f,C,R){this._pitchWithRotate=f.pitchWithRotate,this._mouseRotate=C,this._mousePitch=R}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class cp{constructor(f,C,R,H){this._el=f,this._touchZoom=C,this._touchRotate=R,this._tapDragZoom=H,this._rotationDisabled=!1,this._enabled=!0}enable(f){this._touchZoom.enable(f),this._rotationDisabled||this._touchRotate.enable(f),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Fs=P=>P.zoom||P.drag||P.pitch||P.rotate;class Eo extends b.Event{}class Es{constructor(){this.constants=[1,1,.01],this.radius=0}setup(f,C){const R=b.sub([],C,f);this.radius=b.length(R[2]<0?b.div([],R,this.constants):[R[0],R[1],0])}projectRay(f){b.div(f,f,this.constants),b.normalize(f,f),b.mul$2(f,f,this.constants);const C=b.scale([],f,this.radius);if(C[2]>0){const R=b.scale([],[0,0,1],b.dot(C,[0,0,1])),H=b.scale([],b.normalize([],[C[0],C[1],0]),this.radius),X=b.add([],C,b.scale([],b.sub([],b.add([],H,R),C),2));C[0]=X[0],C[1]=X[1]}return C}}function dl(P){return P.panDelta&&P.panDelta.mag()||P.zoomDelta||P.bearingDelta||P.pitchDelta}class Fu{constructor(f,C){this._map=f,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ya(f),this._bearingSnap=C.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Es,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(C),b.bindAll(["handleEvent","handleWindowEvent"],this);const R=this._el;this._listeners=[[R,"touchstart",{passive:!0}],[R,"touchmove",{passive:!1}],[R,"touchend",void 0],[R,"touchcancel",void 0],[R,"mousedown",void 0],[R,"mousemove",void 0],[R,"mouseup",void 0],[b.window.document,"mousemove",{capture:!0}],[b.window.document,"mouseup",void 0],[R,"mouseover",void 0],[R,"mouseout",void 0],[R,"dblclick",void 0],[R,"click",void 0],[R,"keydown",{capture:!1}],[R,"keyup",void 0],[R,"wheel",{passive:!1}],[R,"contextmenu",void 0],[b.window,"blur",void 0]];for(const[H,X,ae]of this._listeners)Fe.addEventListener(H,X,H===b.window.document?this.handleWindowEvent:this.handleEvent,ae)}destroy(){for(const[f,C,R]of this._listeners)Fe.removeEventListener(f,C,f===b.window.document?this.handleWindowEvent:this.handleEvent,R)}_addDefaultHandlers(f){const C=this._map,R=C.getCanvasContainer();this._add("mapEvent",new oc(C,f));const H=C.boxZoom=new op(C,f);this._add("boxZoom",H);const X=new md,ae=new Er;C.doubleClickZoom=new js(ae,X),this._add("tapZoom",X),this._add("clickZoom",ae);const fe=new Ti;this._add("tapDragZoom",fe);const ve=C.touchPitch=new Ul;this._add("touchPitch",ve);const _e=new ac(f),ze=new cu(f);C.dragRotate=new Ei(f,_e,ze),this._add("mouseRotate",_e,["mousePitch"]),this._add("mousePitch",ze,["mouseRotate"]);const Ge=new lu(f),We=new ul(f);C.dragPan=new Ba(R,Ge,We),this._add("mousePan",Ge),this._add("touchPan",We,["touchZoom","touchRotate"]);const Xe=new Ch,dt=new gd;C.touchZoomRotate=new cp(R,dt,Xe,fe),this._add("touchRotate",Xe,["touchPan","touchZoom"]),this._add("touchZoom",dt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ou(C));const yt=C.scrollZoom=new gr(C,this);this._add("scrollZoom",yt,["mousePan"]);const Ot=C.keyboard=new lc;this._add("keyboard",Ot);for(const ot of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])f.interactive&&f[ot]&&C[ot].enable(f[ot])}_add(f,C,R){this._handlers.push({handlerName:f,handler:C,allowed:R}),this._handlersById[f]=C}stop(f){if(!this._updatingCamera){for(const{handler:C}of this._handlers)C.reset();this._inertia.clear(),this._fireEvents({},{},f),this._changes=[]}}isActive(){for(const{handler:f}of this._handlers)if(f.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Fs(this._eventsInProgress))||this.isZooming()}_blockedByActive(f,C,R){for(const H in f)if(H!==R&&(!C||C.indexOf(H)<0))return!0;return!1}handleWindowEvent(f){this.handleEvent(f,`${f.type}Window`)}_getMapTouches(f){const C=[];for(const R of f)this._el.contains(R.target)&&C.push(R);return C}handleEvent(f,C){if("blur"===f.type)return void this.stop(!0);this._updatingCamera=!0;const R="renderFrame"===f.type,H=R?void 0:f,X={needsRenderFrame:!1},ae={},fe={},ve=f.touches?this._getMapTouches(f.touches):void 0,_e=ve?Fe.touchPos(this._el,ve):R?void 0:Fe.mousePos(this._el,f);for(const{handlerName:We,handler:Xe,allowed:dt}of this._handlers){if(!Xe.isEnabled())continue;let yt;this._blockedByActive(fe,dt,We)?Xe.reset():Xe[C||f.type]&&(yt=Xe[C||f.type](f,_e,ve),this.mergeHandlerResult(X,ae,yt,We,H),yt&&yt.needsRenderFrame&&this._triggerRenderFrame()),(yt||Xe.isActive())&&(fe[We]=Xe)}const ze={};for(const We in this._previousActiveHandlers)fe[We]||(ze[We]=H);this._previousActiveHandlers=fe,(Object.keys(ze).length||dl(X))&&(this._changes.push([X,ae,ze]),this._triggerRenderFrame()),(Object.keys(fe).length||dl(X))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ge}=X;Ge&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ge(this._map))}mergeHandlerResult(f,C,R,H,X){if(!R)return;b.extend(f,R);const ae={handlerName:H,originalEvent:R.originalEvent||X};void 0!==R.zoomDelta&&(C.zoom=ae),void 0!==R.panDelta&&(C.drag=ae),void 0!==R.pitchDelta&&(C.pitch=ae),void 0!==R.bearingDelta&&(C.rotate=ae)}_applyChanges(){const f={},C={},R={};for(const[H,X,ae]of this._changes)H.panDelta&&(f.panDelta=(f.panDelta||new b.pointGeometry(0,0))._add(H.panDelta)),H.zoomDelta&&(f.zoomDelta=(f.zoomDelta||0)+H.zoomDelta),H.bearingDelta&&(f.bearingDelta=(f.bearingDelta||0)+H.bearingDelta),H.pitchDelta&&(f.pitchDelta=(f.pitchDelta||0)+H.pitchDelta),void 0!==H.around&&(f.around=H.around),void 0!==H.aroundCoord&&(f.aroundCoord=H.aroundCoord),void 0!==H.pinchAround&&(f.pinchAround=H.pinchAround),H.noInertia&&(f.noInertia=H.noInertia),b.extend(C,X),b.extend(R,ae);this._updateMapTransform(f,C,R),this._changes=[]}_updateMapTransform(f,C,R){const H=this._map,X=H.transform,ae=vt=>[vt.x,vt.y,vt.z];if((vt=>{const wt=this._eventsInProgress.drag;return wt&&!this._handlersById[wt.handlerName].isActive()})()&&!dl(f)){const vt=X.zoom;X.cameraElevationReference="sea",X.recenterOnTerrain(),X.cameraElevationReference="ground",vt!==X.zoom&&this._map._update(!0)}if(!dl(f))return this._fireEvents(C,R,!0);let{panDelta:fe,zoomDelta:ve,bearingDelta:_e,pitchDelta:ze,around:Ge,aroundCoord:We,pinchAround:Xe}=f;void 0!==Xe&&(Ge=Xe),(vt=>C.drag&&!this._eventsInProgress.drag)()&&Ge&&(this._dragOrigin=ae(X.pointCoordinate3D(Ge)),this._trackingEllipsoid.setup(X._camera.position,this._dragOrigin)),X.cameraElevationReference="sea",H._stop(!0),Ge=Ge||H.transform.centerPoint,_e&&(X.bearing+=_e),ze&&(X.pitch+=ze),X._updateCameraState();const dt=[0,0,0];if(fe){const vt=X.screenPointToMercatorRay(Ge),wt=X.screenPointToMercatorRay(Ge.sub(fe)),Bt=this._trackingEllipsoid.projectRay(vt.dir),Ct=this._trackingEllipsoid.projectRay(wt.dir);dt[0]=Ct[0]-Bt[0],dt[1]=Ct[1]-Bt[1]}const yt=X.zoom,Ot=[0,0,0];if(ve){const vt=ae(We||X.pointCoordinate3D(Ge)),wt={dir:b.normalize([],b.sub([],vt,X._camera.position))},Bt=X.screenPointToMercatorRay(X.centerPoint);if(wt.dir[2]<0){const Ct=b.altitudeFromMercatorZ(vt[2],vt[1]),kt=X.rayIntersectionCoordinate(X.pointRayIntersection(X.centerPoint,Ct)),wn=X.zoomDeltaToMovement(ae(kt),ve)*(Bt.dir[2]/wt.dir[2]);b.scale(Ot,wt.dir,wn)}else if(X._terrainEnabled()){const Ct=X.zoomDeltaToMovement(vt,ve);b.scale(Ot,wt.dir,Ct)}}const ot=b.add(dt,dt,Ot);X._translateCameraConstrained(ot),ve&&Math.abs(X.zoom-yt)>1e-4&&X.recenterOnTerrain(),X.cameraElevationReference="ground",this._map._update(),f.noInertia||this._inertia.record(f),this._fireEvents(C,R,!0)}_fireEvents(f,C,R){const H=Fs(this._eventsInProgress),X=Fs(f),ae={};for(const ze in f){const{originalEvent:Ge}=f[ze];this._eventsInProgress[ze]||(ae[`${ze}start`]=Ge),this._eventsInProgress[ze]=f[ze]}!H&&X&&this._fireEvent("movestart",X.originalEvent);for(const ze in ae)this._fireEvent(ze,ae[ze]);X&&this._fireEvent("move",X.originalEvent);for(const ze in f){const{originalEvent:Ge}=f[ze];this._fireEvent(ze,Ge)}const fe={};let ve;for(const ze in this._eventsInProgress){const{handlerName:Ge,originalEvent:We}=this._eventsInProgress[ze];this._handlersById[Ge].isActive()||(delete this._eventsInProgress[ze],ve=C[Ge]||We,fe[`${ze}end`]=ve)}for(const ze in fe)this._fireEvent(ze,fe[ze]);const _e=Fs(this._eventsInProgress);if(R&&(H||X)&&!_e){this._updatingCamera=!0;const ze=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ge=We=>0!==We&&-this._bearingSnap<We&&We<this._bearingSnap;ze?(Ge(ze.bearing||this._map.getBearing())&&(ze.bearing=0),this._map.easeTo(ze,{originalEvent:ve})):(this._map.fire(new b.Event("moveend",{originalEvent:ve})),Ge(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(f,C){this._map.fire(new b.Event(f,C?{originalEvent:C}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(f=>{delete this._frameId,this.handleEvent(new Eo("renderFrame",{timeStamp:f})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class yo extends b.Evented{constructor(f,C){super(),this._moving=!1,this._zooming=!1,this.transform=f,this._bearingSnap=C.bearingSnap,b.bindAll(["_renderFrameCallback"],this)}getCenter(){return new b.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(f,C){return this.jumpTo({center:f},C)}panBy(f,C,R){return f=b.pointGeometry.convert(f).mult(-1),this.panTo(this.transform.center,b.extend({offset:f},C),R)}panTo(f,C,R){return this.easeTo(b.extend({center:f},C),R)}getZoom(){return this.transform.zoom}setZoom(f,C){return this.jumpTo({zoom:f},C),this}zoomTo(f,C,R){return this.easeTo(b.extend({zoom:f},C),R)}zoomIn(f,C){return this.zoomTo(this.getZoom()+1,f,C),this}zoomOut(f,C){return this.zoomTo(this.getZoom()-1,f,C),this}getBearing(){return this.transform.bearing}setBearing(f,C){return this.jumpTo({bearing:f},C),this}getPadding(){return this.transform.padding}setPadding(f,C){return this.jumpTo({padding:f},C),this}rotateTo(f,C,R){return this.easeTo(b.extend({bearing:f},C),R)}resetNorth(f,C){return this.rotateTo(0,b.extend({duration:1e3},f),C),this}resetNorthPitch(f,C){return this.easeTo(b.extend({bearing:0,pitch:0,duration:1e3},f),C),this}snapToNorth(f,C){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(f,C):this}getPitch(){return this.transform.pitch}setPitch(f,C){return this.jumpTo({pitch:f},C),this}cameraForBounds(f,C){f=b.LngLatBounds.convert(f);const R=C&&C.bearing||0;return this._cameraForBoxAndBearing(f.getNorthWest(),f.getSouthEast(),R,C)}_extendCameraOptions(f){const C={top:0,bottom:0,right:0,left:0};if("number"==typeof(f=b.extend({padding:C,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding){const R=f.padding;f.padding={top:R,bottom:R,right:R,left:R}}return f.padding=b.extend(C,f.padding),f}_cameraForBoxAndBearing(f,C,R,H){const X=this._extendCameraOptions(H),ae=this.transform,fe=ae.padding,ve=ae.project(b.LngLat.convert(f)),_e=ae.project(b.LngLat.convert(C)),ze=ve.rotate(-b.degToRad(R)),Ge=_e.rotate(-b.degToRad(R)),We=new b.pointGeometry(Math.max(ze.x,Ge.x),Math.max(ze.y,Ge.y)),Xe=new b.pointGeometry(Math.min(ze.x,Ge.x),Math.min(ze.y,Ge.y)),dt=We.sub(Xe),yt=(ae.width-(fe.left+fe.right+X.padding.left+X.padding.right))/dt.x,Ot=(ae.height-(fe.top+fe.bottom+X.padding.top+X.padding.bottom))/dt.y;if(Ot<0||yt<0)return void b.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ot=Math.min(ae.scaleZoom(ae.scale*Math.min(yt,Ot)),X.maxZoom),vt="number"==typeof X.offset.x?new b.pointGeometry(X.offset.x,X.offset.y):b.pointGeometry.convert(X.offset),wt=new b.pointGeometry((X.padding.left-X.padding.right)/2,(X.padding.top-X.padding.bottom)/2).rotate(R*Math.PI/180),Bt=vt.add(wt).mult(ae.scale/ae.zoomScale(ot));return{center:ae.unproject(ve.add(_e).div(2).sub(Bt)),zoom:ot,bearing:R}}_cameraForBox(f,C,R,H,X){const ae=this._extendCameraOptions(X);R=R||0,H=H||0,f=b.LngLat.convert(f),C=b.LngLat.convert(C);const fe=this.transform.clone();fe.padding=ae.padding;const ve=this.getFreeCameraOptions(),_e=new b.LngLat(.5*(f.lng+C.lng),.5*(f.lat+C.lat)),ze=.5*(R+H);if(fe._camera.position[2]<b.mercatorZfromAltitude(ze,_e.lat))return void b.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");ve.lookAtPoint(_e),fe.setFreeCameraOptions(ve);const Ge=b.MercatorCoordinate.fromLngLat(f),We=b.MercatorCoordinate.fromLngLat(C),Xe=fe.pointRayIntersection(fe.centerPoint,ze),dt=[(yt=fe.rayIntersectionCoordinate(Xe)).x,yt.y,yt.z];var yt;const Ot=fe.screenPointToMercatorRay(fe.centerPoint);let ot,vt=0;do{const wt=Math.floor(fe.zoom),Bt=1<<wt,Ct=Math.min(Bt*Ge.x,Bt*We.x),kt=Math.min(Bt*Ge.y,Bt*We.y),wn=Math.max(Bt*Ge.x,Bt*We.x),Tn=Math.max(Bt*Ge.y,Bt*We.y),Ln=new In([Ct,kt,R],[wn,Tn,H]),Dt=ei.fromInvProjectionMatrix(fe.invProjMatrix,fe.worldSize,wt);if(2!==Ln.intersects(Dt)){ot&&(fe._camera.position=b.scaleAndAdd([],fe._camera.position,Ot.dir,-ot),fe._updateStateFromCamera());break}const ti=b.sub([],fe._camera.position,dt);ot=.5*b.length(ti),fe._camera.position=b.scaleAndAdd([],fe._camera.position,Ot.dir,ot);try{fe._updateStateFromCamera()}catch(On){return void b.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++vt<10);return{center:fe.center,zoom:fe.zoom,bearing:fe.bearing,pitch:fe.pitch}}fitBounds(f,C,R){return this._fitInternal(this.cameraForBounds(f,C),C,R)}_raycastElevationBox(f,C){const R=this.transform.elevation;if(!R)return;const H=new b.pointGeometry(f.x,C.y),X=new b.pointGeometry(C.x,f.y),ae=R.pointCoordinate(f);if(!ae)return;const fe=R.pointCoordinate(C);if(!fe)return;const ve=R.pointCoordinate(H);if(!ve)return;const _e=R.pointCoordinate(X);if(!_e)return;const ze=new b.MercatorCoordinate(ae[0],ae[1]).toLngLat(),Ge=new b.MercatorCoordinate(fe[0],fe[1]).toLngLat(),We=new b.MercatorCoordinate(ve[0],ve[1]).toLngLat(),Xe=new b.MercatorCoordinate(_e[0],_e[1]).toLngLat(),dt=Math.min(ze.lng,Math.min(Ge.lng,Math.min(We.lng,Xe.lng))),yt=Math.min(ze.lat,Math.min(Ge.lat,Math.min(We.lat,Xe.lat))),Ot=Math.max(ze.lng,Math.max(Ge.lng,Math.max(We.lng,Xe.lng))),ot=Math.max(ze.lat,Math.max(Ge.lat,Math.max(We.lat,Xe.lat))),vt=Math.min(ae[3],Math.min(fe[3],Math.min(ve[3],_e[3]))),wt=Math.max(ae[3],Math.max(fe[3],Math.max(ve[3],_e[3])));return{minLngLat:new b.LngLat(dt,yt),maxLngLat:new b.LngLat(Ot,ot),minAltitude:vt,maxAltitude:wt}}fitScreenCoordinates(f,C,R,H,X){let ae,fe,ve,_e;const ze=b.pointGeometry.convert(f),Ge=b.pointGeometry.convert(C),We=this._raycastElevationBox(ze,Ge);if(We)ae=We.minLngLat,fe=We.maxLngLat,ve=We.minAltitude,_e=We.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(ze,Ge))return this;ae=this.transform.pointLocation(ze),fe=this.transform.pointLocation(Ge)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(b.pointGeometry.convert(f)),this.transform.pointLocation(b.pointGeometry.convert(C)),R,H):this._cameraForBox(ae,fe,ve,_e,H),H,X)}_fitInternal(f,C,R){return f?(delete(C=b.extend(f,C)).padding,C.linear?this.easeTo(C,R):this.flyTo(C,R)):this}jumpTo(f,C){this.stop();const R=this.transform;let H=!1,X=!1,ae=!1;return"zoom"in f&&R.zoom!==+f.zoom&&(H=!0,R.zoom=+f.zoom),void 0!==f.center&&(R.center=b.LngLat.convert(f.center)),"bearing"in f&&R.bearing!==+f.bearing&&(X=!0,R.bearing=+f.bearing),"pitch"in f&&R.pitch!==+f.pitch&&(ae=!0,R.pitch=+f.pitch),null==f.padding||R.isPaddingEqual(f.padding)||(R.padding=f.padding),this.fire(new b.Event("movestart",C)).fire(new b.Event("move",C)),H&&this.fire(new b.Event("zoomstart",C)).fire(new b.Event("zoom",C)).fire(new b.Event("zoomend",C)),X&&this.fire(new b.Event("rotatestart",C)).fire(new b.Event("rotate",C)).fire(new b.Event("rotateend",C)),ae&&this.fire(new b.Event("pitchstart",C)).fire(new b.Event("pitch",C)).fire(new b.Event("pitchend",C)),this.fire(new b.Event("moveend",C))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(f,C){this.stop();const R=this.transform,H=R.zoom,X=R.pitch,ae=R.bearing;R.setFreeCameraOptions(f);const fe=H!==R.zoom,ve=X!==R.pitch,_e=ae!==R.bearing;return this.fire(new b.Event("movestart",C)).fire(new b.Event("move",C)),fe&&this.fire(new b.Event("zoomstart",C)).fire(new b.Event("zoom",C)).fire(new b.Event("zoomend",C)),_e&&this.fire(new b.Event("rotatestart",C)).fire(new b.Event("rotate",C)).fire(new b.Event("rotateend",C)),ve&&this.fire(new b.Event("pitchstart",C)).fire(new b.Event("pitch",C)).fire(new b.Event("pitchend",C)),this.fire(new b.Event("moveend",C)),this}easeTo(f,C){this._stop(!1,f.easeId),(!1===(f=b.extend({offset:[0,0],duration:500,easing:b.ease},f)).animate||!f.essential&&b.exported.prefersReducedMotion)&&(f.duration=0);const R=this.transform,H=this.getZoom(),X=this.getBearing(),ae=this.getPitch(),fe=this.getPadding(),ve="zoom"in f?+f.zoom:H,_e="bearing"in f?this._normalizeBearing(f.bearing,X):X,ze="pitch"in f?+f.pitch:ae,Ge="padding"in f?f.padding:R.padding,We=b.pointGeometry.convert(f.offset);let Xe=R.centerPoint.add(We);const dt=R.pointLocation(Xe),yt=b.LngLat.convert(f.center||dt);this._normalizeCenter(yt);const Ot=R.project(dt),ot=R.project(yt).sub(Ot),vt=R.zoomScale(ve-H);let wt,Bt;f.around&&(wt=b.LngLat.convert(f.around),Bt=R.locationPoint(wt));const Ct={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ve!==H,this._rotating=this._rotating||X!==_e,this._pitching=this._pitching||ze!==ae,this._padding=!R.isPaddingEqual(Ge),this._easeId=f.easeId,this._prepareEase(C,f.noMoveStart,Ct),this._ease(kt=>{if(this._zooming&&(R.zoom=b.number(H,ve,kt)),this._rotating&&(R.bearing=b.number(X,_e,kt)),this._pitching&&(R.pitch=b.number(ae,ze,kt)),this._padding&&(R.interpolatePadding(fe,Ge,kt),Xe=R.centerPoint.add(We)),wt)R.setLocationAtPoint(wt,Bt);else{const wn=R.zoomScale(R.zoom-H),Tn=ve>H?Math.min(2,vt):Math.max(.5,vt),Ln=Math.pow(Tn,1-kt),Dt=R.unproject(Ot.add(ot.mult(kt*Ln)).mult(wn));R.setLocationAtPoint(R.renderWorldCopies?Dt.wrap():Dt,Xe)}this._fireMoveEvents(C)},kt=>{R.recenterOnTerrain(),this._afterEase(C,kt)},f),this}_prepareEase(f,C,R={}){this._moving=!0,this.transform.cameraElevationReference="sea",C||R.moving||this.fire(new b.Event("movestart",f)),this._zooming&&!R.zooming&&this.fire(new b.Event("zoomstart",f)),this._rotating&&!R.rotating&&this.fire(new b.Event("rotatestart",f)),this._pitching&&!R.pitching&&this.fire(new b.Event("pitchstart",f))}_fireMoveEvents(f){this.fire(new b.Event("move",f)),this._zooming&&this.fire(new b.Event("zoom",f)),this._rotating&&this.fire(new b.Event("rotate",f)),this._pitching&&this.fire(new b.Event("pitch",f))}_afterEase(f,C){if(this._easeId&&C&&this._easeId===C)return;delete this._easeId,this.transform.cameraElevationReference="ground";const R=this._zooming,H=this._rotating,X=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,R&&this.fire(new b.Event("zoomend",f)),H&&this.fire(new b.Event("rotateend",f)),X&&this.fire(new b.Event("pitchend",f)),this.fire(new b.Event("moveend",f))}flyTo(f,C){if(!f.essential&&b.exported.prefersReducedMotion){const Wn=b.pick(f,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Wn,C)}this.stop(),f=b.extend({offset:[0,0],speed:1.2,curve:1.42,easing:b.ease},f);const R=this.transform,H=this.getZoom(),X=this.getBearing(),ae=this.getPitch(),fe=this.getPadding(),ve="zoom"in f?b.clamp(+f.zoom,R.minZoom,R.maxZoom):H,_e="bearing"in f?this._normalizeBearing(f.bearing,X):X,ze="pitch"in f?+f.pitch:ae,Ge="padding"in f?f.padding:R.padding,We=R.zoomScale(ve-H),Xe=b.pointGeometry.convert(f.offset);let dt=R.centerPoint.add(Xe);const yt=R.pointLocation(dt),Ot=b.LngLat.convert(f.center||yt);this._normalizeCenter(Ot);const ot=R.project(yt),vt=R.project(Ot).sub(ot);let wt=f.curve;const Bt=Math.max(R.width,R.height),Ct=Bt/We,kt=vt.mag();if("minZoom"in f){const Wn=b.clamp(Math.min(f.minZoom,H,ve),R.minZoom,R.maxZoom),ur=Bt/R.zoomScale(Wn-H);wt=Math.sqrt(ur/kt*2)}const wn=wt*wt;function Tn(Wn){const ur=(Ct*Ct-Bt*Bt+(Wn?-1:1)*wn*wn*kt*kt)/(2*(Wn?Ct:Bt)*wn*kt);return Math.log(Math.sqrt(ur*ur+1)-ur)}function Ln(Wn){return(Math.exp(Wn)-Math.exp(-Wn))/2}function Dt(Wn){return(Math.exp(Wn)+Math.exp(-Wn))/2}const ti=Tn(0);let On=function(Wn){return Dt(ti)/Dt(ti+wt*Wn)},ci=function(Wn){return Bt*((Dt(ti)*(Ln(ur=ti+wt*Wn)/Dt(ur))-Ln(ti))/wn)/kt;var ur},Qn=(Tn(1)-ti)/wt;if(Math.abs(kt)<1e-6||!isFinite(Qn)){if(Math.abs(Bt-Ct)<1e-6)return this.easeTo(f,C);const Wn=Ct<Bt?-1:1;Qn=Math.abs(Math.log(Ct/Bt))/wt,ci=function(){return 0},On=function(ur){return Math.exp(Wn*wt*ur)}}return f.duration="duration"in f?+f.duration:1e3*Qn/("screenSpeed"in f?+f.screenSpeed/wt:+f.speed),f.maxDuration&&f.duration>f.maxDuration&&(f.duration=0),this._zooming=!0,this._rotating=X!==_e,this._pitching=ze!==ae,this._padding=!R.isPaddingEqual(Ge),this._prepareEase(C,!1),this._ease(Wn=>{const ur=Wn*Qn,Si=1/On(ur);R.zoom=1===Wn?ve:H+R.scaleZoom(Si),this._rotating&&(R.bearing=b.number(X,_e,Wn)),this._pitching&&(R.pitch=b.number(ae,ze,Wn)),this._padding&&(R.interpolatePadding(fe,Ge,Wn),dt=R.centerPoint.add(Xe));const jr=1===Wn?Ot:R.unproject(ot.add(vt.mult(ci(ur))).mult(Si));R.setLocationAtPoint(R.renderWorldCopies?jr.wrap():jr,dt),R._updateCenterElevation(),this._fireMoveEvents(C)},()=>this._afterEase(C),f),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(f,C){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const R=this._onEaseEnd;delete this._onEaseEnd,R.call(this,C)}if(!f){const R=this.handlers;R&&R.stop(!1)}return this}_ease(f,C,R){!1===R.animate||0===R.duration?(f(1),C()):(this._easeStart=b.exported.now(),this._easeOptions=R,this._onEaseFrame=f,this._onEaseEnd=C,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const f=Math.min((b.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(f,C){f=b.wrap(f,-180,180);const R=Math.abs(f-C);return Math.abs(f-360-C)<R&&(f-=360),Math.abs(f+360-C)<R&&(f+=360),f}_normalizeCenter(f){const C=this.transform;if(!C.renderWorldCopies||C.lngRange)return;const R=f.lng-C.center.lng;f.lng+=R>180?-360:R<-180?360:0}}class Va{constructor(f={}){this.options=f,b.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(f){const C=this.options&&this.options.compact;return this._map=f,this._container=Fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Fe.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Fe.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),C&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===C&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){Fe.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(f,C){const R=this._map._getUIString(`AttributionControl.${C}`);f.title=R,f.setAttribute("aria-label",R)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let f=this._editLink;f||(f=this._editLink=this._container.querySelector(".mapbox-improve-map"));const C=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||b.config.ACCESS_TOKEN}];if(f){const R=C.reduce((H,X,ae)=>(X.value&&(H+=`${X.key}=${X.value}${ae<C.length-1?"&":""}`),H),"?");f.href=`${b.config.FEEDBACK_URL}/${R}${this._map._hash?this._map._hash.getHashString(!0):""}`,f.rel="noopener nofollow",this._setElementTitle(f,"MapFeedback")}}_updateData(f){!f||"metadata"!==f.sourceDataType&&"visibility"!==f.sourceDataType&&"style"!==f.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let f=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?f=f.concat(this.options.customAttribution.map(H=>"string"!=typeof H?"":H)):"string"==typeof this.options.customAttribution&&f.push(this.options.customAttribution)),this._map.style.stylesheet){const H=this._map.style.stylesheet;this.styleOwner=H.owner,this.styleId=H.id}const C=this._map.style._sourceCaches;for(const H in C){const X=C[H];if(X.used){const ae=X.getSource();ae.attribution&&f.indexOf(ae.attribution)<0&&f.push(ae.attribution)}}f.sort((H,X)=>H.length-X.length),f=f.filter((H,X)=>{for(let ae=X+1;ae<f.length;ae++)if(f[ae].indexOf(H)>=0)return!1;return!0});const R=f.join(" | ");R!==this._attribHTML&&(this._attribHTML=R,f.length?(this._innerContainer.innerHTML=R,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class jl{constructor(){b.bindAll(["_updateLogo"],this),b.bindAll(["_updateCompact"],this)}onAdd(f){this._map=f,this._container=Fe.create("div","mapboxgl-ctrl");const C=Fe.create("a","mapboxgl-ctrl-logo");return C.target="_blank",C.rel="noopener nofollow",C.href="https://www.mapbox.com/",C.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),C.setAttribute("rel","noopener nofollow"),this._container.appendChild(C),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Fe.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(f){f&&"metadata"!==f.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const f=this._map.style._sourceCaches;if(0===Object.entries(f).length)return!0;for(const C in f){const R=f[C].getSource();if(R.hasOwnProperty("mapbox_logo")&&!R.mapbox_logo)return!1}return!0}_updateCompact(){const f=this._container.children;if(f.length){const C=f[0];this._map.getCanvasContainer().offsetWidth<250?C.classList.add("mapboxgl-compact"):C.classList.remove("mapboxgl-compact")}}}class up{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(f){const C=++this._id;return this._queue.push({callback:f,id:C,cancelled:!1}),C}remove(f){const C=this._currentlyRunning,R=C?this._queue.concat(C):this._queue;for(const H of R)if(H.id===f)return void(H.cancelled=!0)}run(f=0){const C=this._currentlyRunning=this._queue;this._queue=[];for(const R of C)if(!R.cancelled&&(R.callback(f),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function uu(P,f,C){if(P=new b.LngLat(P.lng,P.lat),f){const R=new b.LngLat(P.lng-360,P.lat),H=new b.LngLat(P.lng+360,P.lat),X=360*Math.ceil(Math.abs(P.lng-C.center.lng)/360),ae=C.locationPoint(P).distSqr(f),fe=f.x<0||f.y<0||f.x>C.width||f.y>C.height;C.locationPoint(R).distSqr(f)<ae&&(fe||Math.abs(R.lng-C.center.lng)<X)?P=R:C.locationPoint(H).distSqr(f)<ae&&(fe||Math.abs(H.lng-C.center.lng)<X)&&(P=H)}for(;Math.abs(P.lng-C.center.lng)>180;){const R=C.locationPoint(P);if(R.x>=0&&R.y>=0&&R.x<=C.width&&R.y<=C.height)break;P.lng>C.center.lng?P.lng-=360:P.lng+=360}return P}const Zd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nu(P,f,C){const R=P.classList;for(const H in Zd)R.remove(`mapboxgl-${C}-anchor-${H}`);R.add(`mapboxgl-${C}-anchor-${f}`)}class Hc extends b.Evented{constructor(f,C){if(super(),(f instanceof b.window.HTMLElement||C)&&(f=b.extend({element:f},C)),b.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=f&&f.anchor||"center",this._color=f&&f.color||"#3FB1CE",this._scale=f&&f.scale||1,this._draggable=f&&f.draggable||!1,this._clickTolerance=f&&f.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=f&&f.rotation||0,this._rotationAlignment=f&&f.rotationAlignment||"auto",this._pitchAlignment=f&&f.pitchAlignment&&"auto"!==f.pitchAlignment?f.pitchAlignment:this._rotationAlignment,f&&f.element)this._element=f.element,this._offset=b.pointGeometry.convert(f&&f.offset||[0,0]);else{this._defaultMarker=!0,this._element=Fe.create("div"),this._element.setAttribute("aria-label","Map marker");const R=Fe.createNS("http://www.w3.org/2000/svg","svg"),H=41,X=27;R.setAttributeNS(null,"display","block"),R.setAttributeNS(null,"height",`${H}px`),R.setAttributeNS(null,"width",`${X}px`),R.setAttributeNS(null,"viewBox",`0 0 ${X} ${H}`);const ae=Fe.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"stroke","none"),ae.setAttributeNS(null,"stroke-width","1"),ae.setAttributeNS(null,"fill","none"),ae.setAttributeNS(null,"fill-rule","evenodd");const fe=Fe.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"fill-rule","nonzero");const ve=Fe.createNS("http://www.w3.org/2000/svg","g");ve.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ve.setAttributeNS(null,"fill","#000000");const _e=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const vt of _e){const wt=Fe.createNS("http://www.w3.org/2000/svg","ellipse");wt.setAttributeNS(null,"opacity","0.04"),wt.setAttributeNS(null,"cx","10.5"),wt.setAttributeNS(null,"cy","5.80029008"),wt.setAttributeNS(null,"rx",vt.rx),wt.setAttributeNS(null,"ry",vt.ry),ve.appendChild(wt)}const ze=Fe.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"fill",this._color);const Ge=Fe.createNS("http://www.w3.org/2000/svg","path");Ge.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ze.appendChild(Ge);const We=Fe.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"opacity","0.25"),We.setAttributeNS(null,"fill","#000000");const Xe=Fe.createNS("http://www.w3.org/2000/svg","path");Xe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),We.appendChild(Xe);const dt=Fe.createNS("http://www.w3.org/2000/svg","g");dt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),dt.setAttributeNS(null,"fill","#FFFFFF");const yt=Fe.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ot=Fe.createNS("http://www.w3.org/2000/svg","circle");Ot.setAttributeNS(null,"fill","#000000"),Ot.setAttributeNS(null,"opacity","0.25"),Ot.setAttributeNS(null,"cx","5.5"),Ot.setAttributeNS(null,"cy","5.5"),Ot.setAttributeNS(null,"r","5.4999962");const ot=Fe.createNS("http://www.w3.org/2000/svg","circle");ot.setAttributeNS(null,"fill","#FFFFFF"),ot.setAttributeNS(null,"cx","5.5"),ot.setAttributeNS(null,"cy","5.5"),ot.setAttributeNS(null,"r","5.4999962"),yt.appendChild(Ot),yt.appendChild(ot),fe.appendChild(ve),fe.appendChild(ze),fe.appendChild(We),fe.appendChild(dt),fe.appendChild(yt),R.appendChild(fe),R.setAttributeNS(null,"height",H*this._scale+"px"),R.setAttributeNS(null,"width",X*this._scale+"px"),this._element.appendChild(R),this._offset=b.pointGeometry.convert(f&&f.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",R=>{R.preventDefault()}),this._element.addEventListener("mousedown",R=>{R.preventDefault()}),Nu(this._element,this._anchor,"marker"),this._popup=null}addTo(f){return this.remove(),this._map=f,f.getCanvasContainer().appendChild(this._element),f.on("move",this._update),f.on("moveend",this._update),f.on("remove",this._clearFadeTimer),f._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),Fe.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(f){return this._lngLat=b.LngLat.convert(f),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(f){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),f){if(!("offset"in f.options)){const C=38.1,R=13.5,H=Math.sqrt(Math.pow(R,2)/2);f.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-C],"bottom-left":[H,-1*(C-R+H)],"bottom-right":[-H,-1*(C-R+H)],left:[R,-1*(C-R)],right:[-R,-1*(C-R)]}:this._offset}this._popup=f,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(f){const C=f.code,R=f.charCode||f.keyCode;"Space"!==C&&"Enter"!==C&&32!==R&&13!==R||this.togglePopup()}_onMapClick(f){const C=f.originalEvent.target,R=this._element;this._popup&&(C===R||R.contains(C))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const f=this._popup;return f?(f.isOpen()?f.remove():f.addTo(this._map),this):this}_evaluateOpacity(){const f=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(f))return void this._clearFadeTimer();const C=this._map.unproject(f);let R=!1;if(this._map.getTerrain()){const X=this._map.getFreeCameraOptions();if(X.position){const ae=X.position.toLngLat();R=ae.distanceTo(C)<.9*ae.distanceTo(this._lngLat)}}const H=(1-this._map._queryFogOpacity(C))*(R?.2:1);this._element.style.opacity=`${H}`,this._popup&&this._popup._setOpacity(`${H}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(f){const C=this._map.transform;return!!f&&f.x>=0&&f.x<C.width&&f.y>=0&&f.y<C.height}_update(f){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=uu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let C="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?C=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(C=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let R="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?R="rotateX(0deg)":"map"===this._pitchAlignment&&(R=`rotateX(${this._map.getPitch()}deg)`),f&&"moveend"!==f.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&Fe.setTransform(this._element,`${Zd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${R} ${C}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const f=this._map.transform,C=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&C._rotate(f.angle),"map"===this._pitchAlignment&&(C.y*=Math.cos(f._pitch)),C}getOffset(){return this._offset}setOffset(f){return this._offset=b.pointGeometry.convert(f),this._update(),this}_onMove(f){if(!this._isDragging){const C=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new b.Event("dragstart"))),this.fire(new b.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new b.Event("dragend")),this._state="inactive"}_addDragHandler(f){this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(f){return this._draggable=!!f,this._map&&(f?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(f){return this._rotation=f||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(f){return this._rotationAlignment=f||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(f){return this._pitchAlignment=f&&"auto"!==f?f:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class Uc{constructor(f){this.jumpTo(f)}getValue(f){if(f<=this._startTime)return this._start;if(f>=this._endTime)return this._end;const C=b.easeCubicInOut((f-this._startTime)/(this._endTime-this._startTime));return this._start*(1-C)+this._end*C}isEasing(f){return f>=this._startTime&&f<=this._endTime}jumpTo(f){this._startTime=-1/0,this._endTime=-1/0,this._start=f,this._end=f}easeTo(f,C,R){this._start=this.getValue(C),this._end=f,this._startTime=C,this._endTime=C+R}}const cc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:du,HTMLElement:tt,ImageBitmap:uc}=b.window,Wd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Ha(P){P.parentNode&&P.parentNode.removeChild(P)}const es={showCompass:!0,showZoom:!0,visualizePitch:!1};class dp{constructor(f,C,R=!1){this._clickTolerance=10,this.element=C,this.mouseRotate=new ac({clickTolerance:f.dragRotate._mouseRotate._clickTolerance}),this.map=f,R&&(this.mousePitch=new cu({clickTolerance:f.dragRotate._mousePitch._clickTolerance})),b.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),Fe.addEventListener(C,"mousedown",this.mousedown),Fe.addEventListener(C,"touchstart",this.touchstart,{passive:!1}),Fe.addEventListener(C,"touchmove",this.touchmove),Fe.addEventListener(C,"touchend",this.touchend),Fe.addEventListener(C,"touchcancel",this.reset)}down(f,C){this.mouseRotate.mousedown(f,C),this.mousePitch&&this.mousePitch.mousedown(f,C),Fe.disableDrag()}move(f,C){const R=this.map,H=this.mouseRotate.mousemoveWindow(f,C);if(H&&H.bearingDelta&&R.setBearing(R.getBearing()+H.bearingDelta),this.mousePitch){const X=this.mousePitch.mousemoveWindow(f,C);X&&X.pitchDelta&&R.setPitch(R.getPitch()+X.pitchDelta)}}off(){const f=this.element;Fe.removeEventListener(f,"mousedown",this.mousedown),Fe.removeEventListener(f,"touchstart",this.touchstart,{passive:!1}),Fe.removeEventListener(f,"touchmove",this.touchmove),Fe.removeEventListener(f,"touchend",this.touchend),Fe.removeEventListener(f,"touchcancel",this.reset),this.offTemp()}offTemp(){Fe.enableDrag(),Fe.removeEventListener(b.window,"mousemove",this.mousemove),Fe.removeEventListener(b.window,"mouseup",this.mouseup)}mousedown(f){this.down(b.extend({},f,{ctrlKey:!0,preventDefault:()=>f.preventDefault()}),Fe.mousePos(this.element,f)),Fe.addEventListener(b.window,"mousemove",this.mousemove),Fe.addEventListener(b.window,"mouseup",this.mouseup)}mousemove(f){this.move(f,Fe.mousePos(this.element,f))}mouseup(f){this.mouseRotate.mouseupWindow(f),this.mousePitch&&this.mousePitch.mouseupWindow(f),this.offTemp()}touchstart(f){1!==f.targetTouches.length?this.reset():(this._startPos=this._lastPos=Fe.touchPos(this.element,f.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>f.preventDefault()},this._startPos))}touchmove(f){1!==f.targetTouches.length?this.reset():(this._lastPos=Fe.touchPos(this.element,f.targetTouches)[0],this.move({preventDefault:()=>f.preventDefault()},this._lastPos))}touchend(f){0===f.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const vo={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let ai,Bo=0,zu=!1;const Da={maxWidth:100,unit:"metric"};function df(P,f,C){const R=C&&C.maxWidth||100,H=P._container.clientHeight/2,X=P.unproject([0,H]),ae=P.unproject([R,H]),fe=X.distanceTo(ae);if(C&&"imperial"===C.unit){const ve=3.2808*fe;ve>5280?qd(f,R,ve/5280,P._getUIString("ScaleControl.Miles"),P):qd(f,R,ve,P._getUIString("ScaleControl.Feet"),P)}else C&&"nautical"===C.unit?qd(f,R,fe/1852,P._getUIString("ScaleControl.NauticalMiles"),P):fe>=1e3?qd(f,R,fe/1e3,P._getUIString("ScaleControl.Kilometers"),P):qd(f,R,fe,P._getUIString("ScaleControl.Meters"),P)}function qd(P,f,C,R,H){const X=function(fe){const ve=Math.pow(10,`${Math.floor(fe)}`.length-1);let _e=fe/ve;return _e=_e>=10?10:_e>=5?5:_e>=3?3:_e>=2?2:_e>=1?1:function(ze){const Ge=Math.pow(10,Math.ceil(-Math.log(ze)/Math.LN10));return Math.round(ze*Ge)/Ge}(_e),ve*_e}(C),ae=X/C;H._requestDomTask(()=>{P.style.width=f*ae+"px",P.innerHTML=`${X}&nbsp;${R}`})}const hf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ua=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Mh(P){if(P){if("number"==typeof P){const f=Math.round(Math.sqrt(.5*Math.pow(P,2)));return{center:new b.pointGeometry(0,0),top:new b.pointGeometry(0,P),"top-left":new b.pointGeometry(f,f),"top-right":new b.pointGeometry(-f,f),bottom:new b.pointGeometry(0,-P),"bottom-left":new b.pointGeometry(f,-f),"bottom-right":new b.pointGeometry(-f,-f),left:new b.pointGeometry(P,0),right:new b.pointGeometry(-P,0)}}if(P instanceof b.pointGeometry||Array.isArray(P)){const f=b.pointGeometry.convert(P);return{center:f,top:f,"top-left":f,"top-right":f,bottom:f,"bottom-left":f,"bottom-right":f,left:f,right:f}}return{center:b.pointGeometry.convert(P.center||[0,0]),top:b.pointGeometry.convert(P.top||[0,0]),"top-left":b.pointGeometry.convert(P["top-left"]||[0,0]),"top-right":b.pointGeometry.convert(P["top-right"]||[0,0]),bottom:b.pointGeometry.convert(P.bottom||[0,0]),"bottom-left":b.pointGeometry.convert(P["bottom-left"]||[0,0]),"bottom-right":b.pointGeometry.convert(P["bottom-right"]||[0,0]),left:b.pointGeometry.convert(P.left||[0,0]),right:b.pointGeometry.convert(P.right||[0,0])}}return Mh(new b.pointGeometry(0,0))}const hp={version:b.version,supported:ce,setRTLTextPlugin:b.setRTLTextPlugin,getRTLTextPluginStatus:b.getRTLTextPluginStatus,Map:class extends yo{constructor(P){if(null!=(P=b.extend({},Wd,P)).minZoom&&null!=P.maxZoom&&P.minZoom>P.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=P.minPitch&&null!=P.maxPitch&&P.minPitch>P.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=P.minPitch&&P.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=P.maxPitch&&P.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Cr(P.minZoom,P.maxZoom,P.minPitch,P.maxPitch,P.renderWorldCopies),P),this._interactive=P.interactive,this._maxTileCacheSize=P.maxTileCacheSize,this._failIfMajorPerformanceCaveat=P.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=P.preserveDrawingBuffer,this._antialias=P.antialias,this._trackResize=P.trackResize,this._bearingSnap=P.bearingSnap,this._refreshExpiredTiles=P.refreshExpiredTiles,this._fadeDuration=P.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=P.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=P.collectResourceTiming,this._optimizeForTerrain=P.optimizeForTerrain,this._renderTaskQueue=new up,this._domRenderTaskQueue=new up,this._controls=[],this._markers=[],this._mapId=b.uniqueId(),this._locale=b.extend({},cc,P.locale),this._clickTolerance=P.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new Uc(0),this._requestManager=new b.RequestManager(P.transformRequest,P.accessToken,P.testMode),this._silenceAuthErrors=!!P.testMode,"string"==typeof P.container){if(this._container=b.window.document.getElementById(P.container),!this._container)throw new Error(`Container '${P.container}' not found.`)}else{if(!(P.container instanceof tt))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=P.container}if(P.maxBounds&&this.setMaxBounds(P.maxBounds),b.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==b.window&&(b.window.addEventListener("online",this._onWindowOnline,!1),b.window.addEventListener("resize",this._onWindowResize,!1),b.window.addEventListener("orientationchange",this._onWindowResize,!1),b.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new Fu(this,P),this._hash=P.hash&&new Ur("string"==typeof P.hash&&P.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:P.center,zoom:P.zoom,bearing:P.bearing,pitch:P.pitch}),P.bounds&&(this.resize(),this.fitBounds(P.bounds,b.extend({},P.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=P.localFontFamily,this._localIdeographFontFamily=P.localIdeographFontFamily,P.style&&this.setStyle(P.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),P.attributionControl&&this.addControl(new Va({customAttribution:P.customAttribution})),this._logoControl=new jl,this.addControl(this._logoControl,P.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",f=>{this._update("style"===f.dataType),this.fire(new b.Event(`${f.dataType}data`,f))}),this.on("dataloading",f=>{this.fire(new b.Event(`${f.dataType}dataloading`,f))})}_getMapId(){return this._mapId}addControl(P,f){if(void 0===f&&(f=P.getDefaultPosition?P.getDefaultPosition():"top-right"),!P||!P.onAdd)return this.fire(new b.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const C=P.onAdd(this);this._controls.push(P);const R=this._controlPositions[f];return-1!==f.indexOf("bottom")?R.insertBefore(C,R.firstChild):R.appendChild(C),this}removeControl(P){if(!P||!P.onRemove)return this.fire(new b.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const f=this._controls.indexOf(P);return f>-1&&this._controls.splice(f,1),P.onRemove(this),this}hasControl(P){return this._controls.indexOf(P)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(P){const f=this._containerDimensions(),C=f[0],R=f[1];this._resizeCanvas(C,R),this.transform.resize(C,R),this.painter.resize(C,R);const H=!this._moving;return H&&(this.stop(),this.fire(new b.Event("movestart",P)).fire(new b.Event("move",P))),this.fire(new b.Event("resize",P)),H&&this.fire(new b.Event("moveend",P)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(P){return this.transform.setMaxBounds(b.LngLatBounds.convert(P)),this._update()}setMinZoom(P){if((P=null==P?-2:P)>=-2&&P<=this.transform.maxZoom)return this.transform.minZoom=P,this._update(),this.getZoom()<P&&this.setZoom(P),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(P){if((P=null==P?22:P)>=this.transform.minZoom)return this.transform.maxZoom=P,this._update(),this.getZoom()>P&&this.setZoom(P),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(P){if((P=null==P?0:P)<0)throw new Error("minPitch must be greater than or equal to 0");if(P>=0&&P<=this.transform.maxPitch)return this.transform.minPitch=P,this._update(),this.getPitch()<P&&this.setPitch(P),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(P){if((P=null==P?85:P)>85)throw new Error("maxPitch must be less than or equal to 85");if(P>=this.transform.minPitch)return this.transform.maxPitch=P,this._update(),this.getPitch()>P&&this.setPitch(P),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(P){return this.transform.renderWorldCopies=P,this._update()}project(P){return this.transform.locationPoint3D(b.LngLat.convert(P))}unproject(P){return this.transform.pointLocation3D(b.pointGeometry.convert(P))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(P,f,C){if("mouseenter"===P||"mouseover"===P){let R=!1;return{layer:f,listener:C,delegates:{mousemove:X=>{const ae=this.getLayer(f)?this.queryRenderedFeatures(X.point,{layers:[f]}):[];ae.length?R||(R=!0,C.call(this,new Mr(P,this,X.originalEvent,{features:ae}))):R=!1},mouseout:()=>{R=!1}}}}if("mouseleave"===P||"mouseout"===P){let R=!1;return{layer:f,listener:C,delegates:{mousemove:ae=>{(this.getLayer(f)?this.queryRenderedFeatures(ae.point,{layers:[f]}):[]).length?R=!0:R&&(R=!1,C.call(this,new Mr(P,this,ae.originalEvent)))},mouseout:ae=>{R&&(R=!1,C.call(this,new Mr(P,this,ae.originalEvent)))}}}}{const R=H=>{const X=this.getLayer(f)?this.queryRenderedFeatures(H.point,{layers:[f]}):[];X.length&&(H.features=X,C.call(this,H),delete H.features)};return{layer:f,listener:C,delegates:{[P]:R}}}}on(P,f,C){if(void 0===C)return super.on(P,f);const R=this._createDelegatedListener(P,f,C);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[P]=this._delegatedListeners[P]||[],this._delegatedListeners[P].push(R);for(const H in R.delegates)this.on(H,R.delegates[H]);return this}once(P,f,C){if(void 0===C)return super.once(P,f);const R=this._createDelegatedListener(P,f,C);for(const H in R.delegates)this.once(H,R.delegates[H]);return this}off(P,f,C){return void 0===C?super.off(P,f):(this._delegatedListeners&&this._delegatedListeners[P]&&(R=>{const H=this._delegatedListeners[P];for(let X=0;X<H.length;X++){const ae=H[X];if(ae.layer===f&&ae.listener===C){for(const fe in ae.delegates)this.off(fe,ae.delegates[fe]);return H.splice(X,1),this}}})(),this)}queryRenderedFeatures(P,f){return this.style?(void 0!==f||void 0===P||P instanceof b.pointGeometry||Array.isArray(P)||(f=P,P=void 0),this.style.queryRenderedFeatures(P=P||[[0,0],[this.transform.width,this.transform.height]],f=f||{},this.transform)):[]}querySourceFeatures(P,f){return this.style.querySourceFeatures(P,f)}queryTerrainElevation(P,f){const C=this.transform.elevation;return C?(f=b.extend({},{exaggerated:!0},f),C.getAtPoint(b.MercatorCoordinate.fromLngLat(P),null,f.exaggerated)):null}setStyle(P,f){return!1!==(f=b.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},f)).diff&&f.localIdeographFontFamily===this._localIdeographFontFamily&&f.localFontFamily===this._localFontFamily&&this.style&&P?(this._diffStyle(P,f),this):(this._localIdeographFontFamily=f.localIdeographFontFamily,this._localFontFamily=f.localFontFamily,this._updateStyle(P,f))}_getUIString(P){const f=this._locale[P];if(null==f)throw new Error(`Missing UI string '${P}'`);return f}_updateStyle(P,f){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),P&&(this.style=new qo(this,f||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof P?this.style.loadURL(P):this.style.loadJSON(P)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new qo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(P,f){if("string"==typeof P){const C=this._requestManager.normalizeStyleURL(P),R=this._requestManager.transformRequest(C,b.ResourceType.Style);b.getJSON(R,(H,X)=>{H?this.fire(new b.ErrorEvent(H)):X&&this._updateDiff(X,f)})}else"object"==typeof P&&this._updateDiff(P,f)}_updateDiff(P,f){try{this.style.setState(P)&&this._update(!0)}catch(C){b.warnOnce(`Unable to perform style diff: ${C.message||C.error||C}.  Rebuilding the style from scratch.`),this._updateStyle(P,f)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():b.warnOnce("There is no style added to the map.")}addSource(P,f){return this._lazyInitEmptyStyle(),this.style.addSource(P,f),this._update(!0)}isSourceLoaded(P){const f=this.style&&this.style._getSourceCaches(P);if(0!==f.length)return f.every(C=>C.loaded());this.fire(new b.ErrorEvent(new Error(`There is no source with ID '${P}'`)))}areTilesLoaded(){const P=this.style&&this.style._sourceCaches;for(const f in P){const C=P[f]._tiles;for(const R in C){const H=C[R];if("loaded"!==H.state&&"errored"!==H.state)return!1}}return!0}addSourceType(P,f,C){return this._lazyInitEmptyStyle(),this.style.addSourceType(P,f,C)}removeSource(P){return this.style.removeSource(P),this._updateTerrain(),this._update(!0)}getSource(P){return this.style.getSource(P)}addImage(P,f,{pixelRatio:C=1,sdf:R=!1,stretchX:H,stretchY:X,content:ae}={}){if(this._lazyInitEmptyStyle(),f instanceof du||uc&&f instanceof uc){const{width:fe,height:ve,data:_e}=b.exported.getImageData(f);this.style.addImage(P,{data:new b.RGBAImage({width:fe,height:ve},_e),pixelRatio:C,stretchX:H,stretchY:X,content:ae,sdf:R,version:0})}else{if(void 0===f.width||void 0===f.height)return this.fire(new b.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:fe,height:ve,data:_e}=f,ze=f;this.style.addImage(P,{data:new b.RGBAImage({width:fe,height:ve},new Uint8Array(_e)),pixelRatio:C,stretchX:H,stretchY:X,content:ae,sdf:R,version:0,userImage:ze}),ze.onAdd&&ze.onAdd(this,P)}}}updateImage(P,f){const C=this.style.getImage(P);if(!C)return this.fire(new b.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const R=f instanceof du||uc&&f instanceof uc?b.exported.getImageData(f):f,{width:H,height:X,data:ae}=R;return void 0===H||void 0===X?this.fire(new b.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):H!==C.data.width||X!==C.data.height?this.fire(new b.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(C.data.replace(ae,!(f instanceof du||uc&&f instanceof uc)),void this.style.updateImage(P,C))}hasImage(P){return P?!!this.style.getImage(P):(this.fire(new b.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(P){this.style.removeImage(P)}loadImage(P,f){b.getImage(this._requestManager.transformRequest(P,b.ResourceType.Image),(C,R)=>{f(C,R instanceof du?b.exported.getImageData(R):R)})}listImages(){return this.style.listImages()}addLayer(P,f){return this._lazyInitEmptyStyle(),this.style.addLayer(P,f),this._update(!0)}moveLayer(P,f){return this.style.moveLayer(P,f),this._update(!0)}removeLayer(P){return this.style.removeLayer(P),this._update(!0)}getLayer(P){return this.style.getLayer(P)}setLayerZoomRange(P,f,C){return this.style.setLayerZoomRange(P,f,C),this._update(!0)}setFilter(P,f,C={}){return this.style.setFilter(P,f,C),this._update(!0)}getFilter(P){return this.style.getFilter(P)}setPaintProperty(P,f,C,R={}){return this.style.setPaintProperty(P,f,C,R),this._update(!0)}getPaintProperty(P,f){return this.style.getPaintProperty(P,f)}setLayoutProperty(P,f,C,R={}){return this.style.setLayoutProperty(P,f,C,R),this._update(!0)}getLayoutProperty(P,f){return this.style.getLayoutProperty(P,f)}setLight(P,f={}){return this._lazyInitEmptyStyle(),this.style.setLight(P,f),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(P){return this._lazyInitEmptyStyle(),this.style.setTerrain(P),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(P){return this._lazyInitEmptyStyle(),this.style.setFog(P),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(P){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(b.LngLat.convert(P),this.transform):0}setFeatureState(P,f){return this.style.setFeatureState(P,f),this._update()}removeFeatureState(P,f){return this.style.removeFeatureState(P,f),this._update()}getFeatureState(P){return this.style.getFeatureState(P)}_containerDimensions(){let P=0,f=0;return this._container&&(P=this._container.clientWidth||400,f=this._container.clientHeight||300),[P,f]}_detectMissingCSS(){"rgb(250, 128, 114)"!==b.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&b.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const P=this._container;P.classList.add("mapboxgl-map"),(this._missingCSSCanary=Fe.create("div","mapboxgl-canary",P)).style.visibility="hidden",this._detectMissingCSS();const f=this._canvasContainer=Fe.create("div","mapboxgl-canvas-container",P);this._interactive&&f.classList.add("mapboxgl-interactive"),this._canvas=Fe.create("canvas","mapboxgl-canvas",f),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const C=this._containerDimensions();this._resizeCanvas(C[0],C[1]);const R=this._controlContainer=Fe.create("div","mapboxgl-control-container",P),H=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(X=>{H[X]=Fe.create("div",`mapboxgl-ctrl-${X}`,R)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(P,f){const C=b.exported.devicePixelRatio||1;this._canvas.width=C*P,this._canvas.height=C*f,this._canvas.style.width=`${P}px`,this._canvas.style.height=`${f}px`}_addMarker(P){this._markers.push(P)}_removeMarker(P){const f=this._markers.indexOf(P);-1!==f&&this._markers.splice(f,1)}_setupPainter(){const P=b.extend({},ce.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),f=this._canvas.getContext("webgl",P)||this._canvas.getContext("experimental-webgl",P);f?(b.storeAuthState(f,!0),this.painter=new Pp(f,this.transform),this.on("data",C=>{"source"===C.dataType&&this.painter.setTileLoadedFlag(!0)}),b.exported$1.testSupport(f)):this.fire(new b.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(P){P.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new b.Event("webglcontextlost",{originalEvent:P}))}_contextRestored(P){this._setupPainter(),this.resize(),this._update(),this.fire(new b.Event("webglcontextrestored",{originalEvent:P}))}_onMapScroll(P){if(P.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(P){return this.style?(this._styleDirty=this._styleDirty||P,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(P){return this._update(),this._renderTaskQueue.add(P)}_cancelRenderFrame(P){this._renderTaskQueue.remove(P)}_requestDomTask(P){!this.isMoving()&&this.loaded()?P():this._domRenderTaskQueue.add(P)}_render(P){let f;const C=this.painter.context.extTimerQuery,R=b.exported.now();this.listens("gpu-timing-frame")&&(f=C.createQueryEXT(),C.beginQueryEXT(C.TIME_ELAPSED_EXT,f));let H=this._updateAverageElevation(R);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(P),this._domRenderTaskQueue.run(P),this._removed)return;let X=!1;const ae=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const ve=this.transform.zoom,_e=b.exported.now();this.style.zoomHistory.update(ve,_e);const ze=new b.EvaluationParameters(ve,{now:_e,fadeDuration:ae,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ge=ze.crossFadingFactor();1===Ge&&Ge===this._crossFadingFactor||(X=!0,this._crossFadingFactor=Ge),this.style.update(ze)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,ae,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:ae,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new b.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new b.Event("load"))),this.style&&(this.style.hasTransitions()||X)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const ve=b.exported.now()-R;C.endQueryEXT(C.TIME_ELAPSED_EXT,f),setTimeout(()=>{const _e=C.getQueryObjectEXT(f,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(f),this.fire(new b.Event("gpu-timing-frame",{cpuTime:ve,gpuTime:_e}))},50)}if(this.listens("gpu-timing-layer")){const ve=this.painter.collectGpuTimers();setTimeout(()=>{const _e=this.painter.queryGpuTimers(ve);this.fire(new b.Event("gpu-timing-layer",{layerTimes:_e}))},50)}const fe=this._sourcesDirty||this._styleDirty||this._placementDirty||H;if(fe||this._repaint)this.triggerRepaint();else{const ve=!this.isMoving()&&this.loaded();if(ve&&(H=this._updateAverageElevation(R,!0)),H)this.triggerRepaint();else if(this._triggerFrame(!1),ve&&(this.fire(new b.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const _e=this._calculateSpeedIndex();this.fire(new b.Event("speedindexcompleted",{speedIndex:_e})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||fe||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(P,f=!1){const C=R=>(this.transform.averageElevation=R,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&C(0);if((f||P-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(P)){const R=this.transform.averageElevation;let H=this.transform.sampleAverageElevation();isNaN(H)?H=0:this._averageElevationLastSampledAt=P;const X=Math.abs(R-H);if(X>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(H),C(H);this._averageElevation.easeTo(H,P,300)}else if(X>1e-4)return this._averageElevation.jumpTo(H),C(H)}return!!this._averageElevation.isEasing(P)&&C(this._averageElevation.getValue(P))}_authenticate(){b.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,P=>{if(P&&(P.message===b.AUTH_ERR_MSG||401===P.status)){const f=this.painter.context.gl;b.storeAuthState(f,!1),this._logoControl instanceof jl&&this._logoControl._updateLogo(),f&&f.clear(f.DEPTH_BUFFER_BIT|f.COLOR_BUFFER_BIT|f.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new b.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),b.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const P=this.painter.canvasCopy(),f=this.painter.getCanvasCopiesAndTimestamps();f.timeStamps.push(performance.now());const C=this.painter.context.gl,R=C.createFramebuffer();function H(X){C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,X,0);const ae=new Uint8Array(C.drawingBufferWidth*C.drawingBufferHeight*4);return C.readPixels(0,0,C.drawingBufferWidth,C.drawingBufferHeight,C.RGBA,C.UNSIGNED_BYTE,ae),ae}return C.bindFramebuffer(C.FRAMEBUFFER,R),this._canvasPixelComparison(H(P),f.canvasCopies.map(H),f.timeStamps)}_canvasPixelComparison(P,f,C){let R=C[1]-C[0];const H=P.length/4;for(let X=0;X<f.length;X++){const ae=f[X];let fe=0;for(let ve=0;ve<ae.length;ve+=4)ae[ve]===P[ve]&&ae[ve+1]===P[ve+1]&&ae[ve+2]===P[ve+2]&&ae[ve+3]===P[ve+3]&&(fe+=1);R+=(C[X+2]-C[X+1])*(1-fe/H)}return R}remove(){this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==b.window&&(b.window.removeEventListener("resize",this._onWindowResize,!1),b.window.removeEventListener("orientationchange",this._onWindowResize,!1),b.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),b.window.removeEventListener("online",this._onWindowOnline,!1));const P=this.painter.context.gl.getExtension("WEBGL_lose_context");P&&P.loseContext(),Ha(this._canvasContainer),Ha(this._controlContainer),Ha(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),b.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new b.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(P){this._renderNextFrame=this._renderNextFrame||P,this.style&&!this._frame&&(this._frame=b.exported.frame(f=>{const C=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,C&&this._render(f)}))}_onWindowOnline(){this._update()}_onWindowResize(P){this._trackResize&&this.resize({originalEvent:P})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(P){this._showTileBoundaries!==P&&(this._showTileBoundaries=P,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(P){this._showTerrainWireframe!==P&&(this._showTerrainWireframe=P,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(P){this._speedIndexTiming!==P&&(this._speedIndexTiming=P,this._update())}get showPadding(){return!!this._showPadding}set showPadding(P){this._showPadding!==P&&(this._showPadding=P,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(P){this._showCollisionBoxes!==P&&(this._showCollisionBoxes=P,P?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(P){this._showOverdrawInspector!==P&&(this._showOverdrawInspector=P,this._update())}get repaint(){return!!this._repaint}set repaint(P){this._repaint!==P&&(this._repaint=P,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(P){this._vertices=P,this._update()}_setCacheLimits(P,f){b.setCacheLimits(P,f)}get version(){return b.version}},NavigationControl:class{constructor(P){this.options=b.extend({},es,P),this._container=Fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",f=>f.preventDefault()),this.options.showZoom&&(b.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",f=>this._map.zoomIn({},{originalEvent:f})),Fe.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",f=>this._map.zoomOut({},{originalEvent:f})),Fe.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(b.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",f=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:f}):this._map.resetNorth({},{originalEvent:f})}),this._compassIcon=Fe.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const P=this._map.getZoom(),f=P===this._map.getMaxZoom(),C=P===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=C,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",C.toString())}_rotateCompassArrow(){const P=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=P)})}onAdd(P){return this._map=P,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new dp(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Fe.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(P,f){const C=Fe.create("button",P,this._container);return C.type="button",C.addEventListener("click",f),C}_setButtonTitle(P,f){const C=this._map._getUIString(`NavigationControl.${f}`);P.title=C,P.setAttribute("aria-label",C)}},GeolocateControl:class extends b.Evented{constructor(P){super(),this.options=b.extend({},vo,P),b.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Ws(this._updateMarkerRotation,20)}onAdd(P){var f;return this._map=P,this._container=Fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),f=this._setupUI,void 0!==ai?f(ai):void 0!==b.window.navigator.permissions?b.window.navigator.permissions.query({name:"geolocation"}).then(C=>{ai="denied"!==C.state,f(ai)}):(ai=!!b.window.navigator.geolocation,f(ai)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(b.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Fe.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bo=0,zu=!1}_isOutOfMapMaxBounds(P){const f=this._map.getMaxBounds(),C=P.coords;return f&&(C.longitude<f.getWest()||C.longitude>f.getEast()||C.latitude<f.getSouth()||C.latitude>f.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(P){if(this._map){if(this._isOutOfMapMaxBounds(P))return this._setErrorState(),this.fire(new b.Event("outofmaxbounds",P)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=P,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(P),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(P),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new b.Event("geolocate",P)),this._finish()}}_updateCamera(P){const f=new b.LngLat(P.coords.longitude,P.coords.latitude),C=P.coords.accuracy,R=this._map.getBearing(),H=b.extend({bearing:R},this.options.fitBoundsOptions);this._map.fitBounds(f.toBounds(C),H,{geolocateSource:!0})}_updateMarker(P){if(P){const f=new b.LngLat(P.coords.longitude,P.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=P.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const P=this._map._container.clientHeight/2,f=this._map.unproject([0,P]),C=this._map.unproject([100,P]),R=f.distanceTo(C)/100,H=Math.ceil(2*this._accuracy/R);this._circleElement.style.width=`${H}px`,this._circleElement.style.height=`${H}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(P){if(this._map){if(this.options.trackUserLocation)if(1===P.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===P.code&&zu)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new b.Event("error",P)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(P){if(this._container.addEventListener("contextmenu",f=>f.preventDefault()),this._geolocateButton=Fe.create("button","mapboxgl-ctrl-geolocate",this._container),Fe.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===P){b.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Fe.create("div","mapboxgl-user-location"),this._dotElement.appendChild(Fe.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Fe.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Hc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Fe.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Hc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{f.geolocateSource||"ACTIVE_LOCK"!==this._watchState||f.originalEvent&&"resize"===f.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new b.Event("trackuserlocationend")))})}_onDeviceOrientation(P){this._userLocationDotMarker&&(P.webkitCompassHeading?this._heading=P.webkitCompassHeading:!0===P.absolute&&(this._heading=-1*P.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return b.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new b.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bo--,zu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new b.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new b.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let P;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Bo++,Bo>1?(P={maximumAge:6e5,timeout:0},zu=!0):(P=this.options.positionOptions,zu=!1),this._geolocationWatchID=b.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,P),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else b.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const P=()=>{b.window.addEventListener("ondeviceorientationabsolute"in b.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==b.window.DeviceMotionEvent&&"function"==typeof b.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(f=>{"granted"===f&&P()}).catch(console.error):P()}_clearWatch(){b.window.navigator.geolocation.clearWatch(this._geolocationWatchID),b.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),b.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Va,ScaleControl:class{constructor(P){this.options=b.extend({},Da,P),b.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){df(this._map,this._container,this.options)}onAdd(P){return this._map=P,this._container=Fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",P.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Fe.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(P){this.options.unit=P,df(this._map,this._container,this.options)}},FullscreenControl:class{constructor(P){this._fullscreen=!1,P&&P.container&&(P.container instanceof b.window.HTMLElement?this._container=P.container:b.warnOnce("Full screen control 'container' must be a DOM element.")),b.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in b.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in b.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(P){return this._map=P,this._container||(this._container=this._map.getContainer()),this._controlContainer=Fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",b.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){Fe.remove(this._controlContainer),this._map=null,b.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!b.window.document.fullscreenEnabled&&!b.window.document.webkitFullscreenEnabled)}_setupUI(){const P=this._fullscreenButton=Fe.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Fe.create("span","mapboxgl-ctrl-icon",P).setAttribute("aria-hidden",!0),P.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),b.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const P=this._getTitle();this._fullscreenButton.setAttribute("aria-label",P),this._fullscreenButton.title=P}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(b.window.document.fullscreenElement||b.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?b.window.document.exitFullscreen?b.window.document.exitFullscreen():b.window.document.webkitCancelFullScreen&&b.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends b.Evented{constructor(P){super(),this.options=b.extend(Object.create(hf),P),b.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(P){return this._map&&this.remove(),this._map=P,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new b.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&Fe.remove(this._content),this._container&&(Fe.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new b.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(P){return this._lngLat=b.LngLat.convert(P),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(P){return this.setDOMContent(b.window.document.createTextNode(P))}setHTML(P){const f=b.window.document.createDocumentFragment(),C=b.window.document.createElement("body");let R;for(C.innerHTML=P;R=C.firstChild,R;)f.appendChild(R);return this.setDOMContent(f)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(P){return this.options.maxWidth=P,this._update(),this}setDOMContent(P){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Fe.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(P),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(P){this._container&&this._container.classList.add(P)}removeClassName(P){this._container&&this._container.classList.remove(P)}setOffset(P){return this.options.offset=P,this._update(),this}toggleClassName(P){if(this._container)return this._container.classList.toggle(P)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Fe.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(P){this._update(P.point)}_onMouseMove(P){this._update(P.point)}_onDrag(P){this._update(P.point)}_update(P){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=Fe.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=Fe.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(X=>this._container.classList.add(X)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=uu(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!P))return;const f=this._pos=this._trackPointer&&P?P:this._map.project(this._lngLat);let C=this.options.anchor;const R=Mh(this.options.offset);if(!C){const X=this._container.offsetWidth,ae=this._container.offsetHeight;let fe;fe=f.y+R.bottom.y<ae?["top"]:f.y>this._map.transform.height-ae?["bottom"]:[],f.x<X/2?fe.push("left"):f.x>this._map.transform.width-X/2&&fe.push("right"),C=0===fe.length?"bottom":fe.join("-")}const H=f.add(R[C]).round();this._map._requestDomTask(()=>{this._container&&C&&(Fe.setTransform(this._container,`${Zd[C]} translate(${H.x}px,${H.y}px)`),Nu(this._container,C,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const P=this._container.querySelector(Ua);P&&P.focus()}_onClose(){this.remove()}_setOpacity(P){this._content&&(this._content.style.opacity=P),this._tip&&(this._tip.style.opacity=P)}},Marker:Hc,Style:qo,LngLat:b.LngLat,LngLatBounds:b.LngLatBounds,Point:b.pointGeometry,MercatorCoordinate:b.MercatorCoordinate,FreeCameraOptions:Ci,Evented:b.Evented,config:b.config,prewarm:function(){Le().acquire(Vt)},clearPrewarmedResources:function(){const P=Mn;P&&(P.isPreloaded()&&1===P.numActive()?(P.release(Vt),Mn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return b.config.ACCESS_TOKEN},set accessToken(P){b.config.ACCESS_TOKEN=P},get baseApiUrl(){return b.config.API_URL},set baseApiUrl(P){b.config.API_URL=P},get workerCount(){return Xt.workerCount},set workerCount(P){Xt.workerCount=P},get maxParallelImageRequests(){return b.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(P){b.config.MAX_PARALLEL_IMAGE_REQUESTS=P},clearStorage(P){b.clearTileCache(P)},workerUrl:"",workerClass:null,setNow:b.exported.setNow,restoreNow:b.exported.restoreNow};return hp}),o}()},6431:function(Ht,St,De){!function(o){"use strict";o.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(J){return/^nm$/i.test(J)},meridiem:function(J,b,ce){return J<12?ce?"vm":"VM":ce?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(J){return J+(1===J||8===J||J>=20?"ste":"de")},week:{dow:1,doy:4}})}(De(6738))},1616:function(Ht,St,De){!function(o){"use strict";var W=function(Te){return 0===Te?0:1===Te?1:2===Te?2:Te%100>=3&&Te%100<=10?3:Te%100>=11?4:5},J={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},b=function(Te){return function(xe,Fe,He,xt){var ht=W(xe),At=J[Te][W(xe)];return 2===ht&&(At=At[Fe?0:1]),At.replace(/%d/i,xe)}},ce=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-dz",{months:ce,monthsShort:ce,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Te){return"\u0645"===Te},meridiem:function(Te,xe,Fe){return Te<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:b("s"),ss:b("s"),m:b("m"),mm:b("m"),h:b("h"),hh:b("h"),d:b("d"),dd:b("d"),M:b("M"),MM:b("M"),y:b("y"),yy:b("y")},postformat:function(Te){return Te.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(De(6738))},9759:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(De(6738))},3160:function(Ht,St,De){!function(o){"use strict";var W={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},J=function(xe){return 0===xe?0:1===xe?1:2===xe?2:xe%100>=3&&xe%100<=10?3:xe%100>=11?4:5},b={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},ce=function(xe){return function(Fe,He,xt,ht){var At=J(Fe),en=b[xe][J(Fe)];return 2===At&&(en=en[He?0:1]),en.replace(/%d/i,Fe)}},be=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-ly",{months:be,monthsShort:be,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(xe){return"\u0645"===xe},meridiem:function(xe,Fe,He){return xe<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:ce("s"),ss:ce("s"),m:ce("m"),mm:ce("m"),h:ce("h"),hh:ce("h"),d:ce("d"),dd:ce("d"),M:ce("M"),MM:ce("M"),y:ce("y"),yy:ce("y")},preparse:function(xe){return xe.replace(/\u060c/g,",")},postformat:function(xe){return xe.replace(/\d/g,function(Fe){return W[Fe]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(De(6738))},2551:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(De(6738))},9989:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},J={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};o.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ce){return"\u0645"===ce},meridiem:function(ce,be,Te){return ce<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(ce){return ce.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(be){return J[be]}).replace(/\u060c/g,",")},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(De(6738))},6962:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(De(6738))},1286:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},J={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},b=function(Fe){return 0===Fe?0:1===Fe?1:2===Fe?2:Fe%100>=3&&Fe%100<=10?3:Fe%100>=11?4:5},ce={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},be=function(Fe){return function(He,xt,ht,At){var en=b(He),Ut=ce[Fe][b(He)];return 2===en&&(Ut=Ut[xt?0:1]),Ut.replace(/%d/i,He)}},Te=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar",{months:Te,monthsShort:Te,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Fe){return"\u0645"===Fe},meridiem:function(Fe,He,xt){return Fe<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:be("s"),ss:be("s"),m:be("m"),mm:be("m"),h:be("h"),hh:be("h"),d:be("d"),dd:be("d"),M:be("M"),MM:be("M"),y:be("y"),yy:be("y")},preparse:function(Fe){return Fe.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(He){return J[He]}).replace(/\u060c/g,",")},postformat:function(Fe){return Fe.replace(/\d/g,function(He){return W[He]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(De(6738))},5887:function(Ht,St,De){!function(o){"use strict";var W={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};o.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(b){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(b)},meridiem:function(b,ce,be){return b<4?"gec\u0259":b<12?"s\u0259h\u0259r":b<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(b){if(0===b)return b+"-\u0131nc\u0131";var ce=b%10;return b+(W[ce]||W[b%100-ce]||W[b>=100?100:null])},week:{dow:1,doy:7}})}(De(6738))},4572:function(Ht,St,De){!function(o){"use strict";function J(ce,be,Te){return"m"===Te?be?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===Te?be?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":ce+" "+function(ce,be){var Te=ce.split("_");return be%10==1&&be%100!=11?Te[0]:be%10>=2&&be%10<=4&&(be%100<10||be%100>=20)?Te[1]:Te[2]}({ss:be?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:be?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:be?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[Te],+ce)}o.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:J,mm:J,h:J,hh:J,d:"\u0434\u0437\u0435\u043d\u044c",dd:J,M:"\u043c\u0435\u0441\u044f\u0446",MM:J,y:"\u0433\u043e\u0434",yy:J},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(ce){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(ce)},meridiem:function(ce,be,Te){return ce<4?"\u043d\u043e\u0447\u044b":ce<12?"\u0440\u0430\u043d\u0456\u0446\u044b":ce<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(ce,be){switch(be){case"M":case"d":case"DDD":case"w":case"W":return ce%10!=2&&ce%10!=3||ce%100==12||ce%100==13?ce+"-\u044b":ce+"-\u0456";case"D":return ce+"-\u0433\u0430";default:return ce}},week:{dow:1,doy:7}})}(De(6738))},3276:function(Ht,St,De){!function(o){"use strict";o.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(J){var b=J%10,ce=J%100;return 0===J?J+"-\u0435\u0432":0===ce?J+"-\u0435\u043d":ce>10&&ce<20?J+"-\u0442\u0438":1===b?J+"-\u0432\u0438":2===b?J+"-\u0440\u0438":7===b||8===b?J+"-\u043c\u0438":J+"-\u0442\u0438"},week:{dow:1,doy:7}})}(De(6738))},3344:function(Ht,St,De){!function(o){"use strict";o.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(De(6738))},3990:function(Ht,St,De){!function(o){"use strict";var W={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},J={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(ce){return ce.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u09b0\u09be\u09a4"===be?ce<4?ce:ce+12:"\u09ad\u09cb\u09b0"===be||"\u09b8\u0995\u09be\u09b2"===be?ce:"\u09a6\u09c1\u09aa\u09c1\u09b0"===be?ce>=3?ce:ce+12:"\u09ac\u09bf\u0995\u09be\u09b2"===be||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===be?ce+12:void 0},meridiem:function(ce,be,Te){return ce<4?"\u09b0\u09be\u09a4":ce<6?"\u09ad\u09cb\u09b0":ce<12?"\u09b8\u0995\u09be\u09b2":ce<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":ce<18?"\u09ac\u09bf\u0995\u09be\u09b2":ce<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(De(6738))},8985:function(Ht,St,De){!function(o){"use strict";var W={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},J={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(ce){return ce.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u09b0\u09be\u09a4"===be&&ce>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===be&&ce<5||"\u09ac\u09bf\u0995\u09be\u09b2"===be?ce+12:ce},meridiem:function(ce,be,Te){return ce<4?"\u09b0\u09be\u09a4":ce<10?"\u09b8\u0995\u09be\u09b2":ce<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":ce<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(De(6738))},4391:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},J={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};o.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(ce){return ce.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===be&&ce>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===be&&ce<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===be?ce+12:ce},meridiem:function(ce,be,Te){return ce<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":ce<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":ce<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":ce<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(De(6738))},6728:function(Ht,St,De){!function(o){"use strict";function W(Ut,at,ei){return Ut+" "+function(Ut,at){return 2===at?function(Ut){var at={m:"v",b:"v",d:"z"};return void 0===at[Ut.charAt(0)]?Ut:at[Ut.charAt(0)]+Ut.substring(1)}(Ut):Ut}({mm:"munutenn",MM:"miz",dd:"devezh"}[ei],Ut)}function b(Ut){return Ut>9?b(Ut%10):Ut}var Te=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],xe=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,At=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];o.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:At,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:At,monthsRegex:xe,monthsShortRegex:xe,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Te,longMonthsParse:Te,shortMonthsParse:Te,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:W,h:"un eur",hh:"%d eur",d:"un devezh",dd:W,M:"ur miz",MM:W,y:"ur bloaz",yy:function(Ut){switch(b(Ut)){case 1:case 3:case 4:case 5:case 9:return Ut+" bloaz";default:return Ut+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(Ut){return Ut+(1===Ut?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(Ut){return"g.m."===Ut},meridiem:function(Ut,at,ei){return Ut<12?"a.m.":"g.m."}})}(De(6738))},5536:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be){var Te=b+" ";switch(be){case"ss":return Te+(1===b?"sekunda":2===b||3===b||4===b?"sekunde":"sekundi");case"m":return ce?"jedna minuta":"jedne minute";case"mm":return Te+(1===b?"minuta":2===b||3===b||4===b?"minute":"minuta");case"h":return ce?"jedan sat":"jednog sata";case"hh":return Te+(1===b?"sat":2===b||3===b||4===b?"sata":"sati");case"dd":return Te+(1===b?"dan":"dana");case"MM":return Te+(1===b?"mjesec":2===b||3===b||4===b?"mjeseca":"mjeseci");case"yy":return Te+(1===b?"godina":2===b||3===b||4===b?"godine":"godina")}}o.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:W,m:W,mm:W,h:W,hh:W,d:"dan",dd:W,M:"mjesec",MM:W,y:"godinu",yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},1043:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(J,b){var ce=1===J?"r":2===J?"n":3===J?"r":4===J?"t":"\xe8";return("w"===b||"W"===b)&&(ce="a"),J+ce},week:{dow:1,doy:4}})}(De(6738))},420:function(Ht,St,De){!function(o){"use strict";var W="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),J="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),b=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],ce=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function be(Fe){return Fe>1&&Fe<5&&1!=~~(Fe/10)}function Te(Fe,He,xt,ht){var At=Fe+" ";switch(xt){case"s":return He||ht?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return He||ht?At+(be(Fe)?"sekundy":"sekund"):At+"sekundami";case"m":return He?"minuta":ht?"minutu":"minutou";case"mm":return He||ht?At+(be(Fe)?"minuty":"minut"):At+"minutami";case"h":return He?"hodina":ht?"hodinu":"hodinou";case"hh":return He||ht?At+(be(Fe)?"hodiny":"hodin"):At+"hodinami";case"d":return He||ht?"den":"dnem";case"dd":return He||ht?At+(be(Fe)?"dny":"dn\xed"):At+"dny";case"M":return He||ht?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return He||ht?At+(be(Fe)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):At+"m\u011bs\xedci";case"y":return He||ht?"rok":"rokem";case"yy":return He||ht?At+(be(Fe)?"roky":"let"):At+"lety"}}o.defineLocale("cs",{months:W,monthsShort:J,monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:Te,ss:Te,m:Te,mm:Te,h:Te,hh:Te,d:Te,dd:Te,M:Te,MM:Te,y:Te,yy:Te},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},3513:function(Ht,St,De){!function(o){"use strict";o.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(J){return J+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(J)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(J)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(De(6738))},6771:function(Ht,St,De){!function(o){"use strict";o.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(J){var ce="";return J>20?ce=40===J||50===J||60===J||80===J||100===J?"fed":"ain":J>0&&(ce=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][J]),J+ce},week:{dow:1,doy:4}})}(De(6738))},7978:function(Ht,St,De){!function(o){"use strict";o.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},5204:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[b+" Tage",b+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[b+" Monate",b+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[b+" Jahre",b+" Jahren"]};return ce?xe[be][0]:xe[be][1]}o.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:W,mm:"%d Minuten",h:W,hh:"%d Stunden",d:W,dd:W,w:W,ww:"%d Wochen",M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},2653:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[b+" Tage",b+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[b+" Monate",b+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[b+" Jahre",b+" Jahren"]};return ce?xe[be][0]:xe[be][1]}o.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:W,mm:"%d Minuten",h:W,hh:"%d Stunden",d:W,dd:W,w:W,ww:"%d Wochen",M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},6061:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[b+" Tage",b+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[b+" Monate",b+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[b+" Jahre",b+" Jahren"]};return ce?xe[be][0]:xe[be][1]}o.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:W,mm:"%d Minuten",h:W,hh:"%d Stunden",d:W,dd:W,w:W,ww:"%d Wochen",M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},85:function(Ht,St,De){!function(o){"use strict";var W=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],J=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];o.defineLocale("dv",{months:W,monthsShort:W,weekdays:J,weekdaysShort:J,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(ce){return"\u0789\u078a"===ce},meridiem:function(ce,be,Te){return ce<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(ce){return ce.replace(/\u060c/g,",")},postformat:function(ce){return ce.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(De(6738))},8579:function(Ht,St,De){!function(o){"use strict";o.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(b,ce){return b?"string"==typeof ce&&/D/.test(ce.substring(0,ce.indexOf("MMMM")))?this._monthsGenitiveEl[b.month()]:this._monthsNominativeEl[b.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(b,ce,be){return b>11?be?"\u03bc\u03bc":"\u039c\u039c":be?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(b){return"\u03bc"===(b+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(b,ce){var be=this._calendarEl[b],Te=ce&&ce.hours();return function(b){return"undefined"!=typeof Function&&b instanceof Function||"[object Function]"===Object.prototype.toString.call(b)}(be)&&(be=be.apply(ce)),be.replace("{}",Te%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(De(6738))},5724:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:0,doy:4}})}(De(6738))},525:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}})}(De(6738))},2847:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},7216:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},9305:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}})}(De(6738))},3364:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:0,doy:6}})}(De(6738))},9130:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},1161:function(Ht,St,De){!function(o){"use strict";o.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},802:function(Ht,St,De){!function(o){"use strict";o.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(J){return"p"===J.charAt(0).toLowerCase()},meridiem:function(J,b,ce){return J>11?ce?"p.t.m.":"P.T.M.":ce?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(De(6738))},5551:function(Ht,St,De){!function(o){"use strict";var W="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),J="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),b=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ce=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},5615:function(Ht,St,De){!function(o){"use strict";var W="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),J="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),b=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ce=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(De(6738))},4790:function(Ht,St,De){!function(o){"use strict";var W="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),J="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),b=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ce=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(De(6738))},328:function(Ht,St,De){!function(o){"use strict";var W="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),J="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),b=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ce=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(De(6738))},6389:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[b+"sekundi",b+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[b+" minuti",b+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[b+" tunni",b+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[b+" kuu",b+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[b+" aasta",b+" aastat"]};return ce?xe[be][2]?xe[be][2]:xe[be][1]:Te?xe[be][0]:xe[be][1]}o.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:W,ss:W,m:W,mm:W,h:W,hh:W,d:W,dd:"%d p\xe4eva",M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},2961:function(Ht,St,De){!function(o){"use strict";o.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},6151:function(Ht,St,De){!function(o){"use strict";var W={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},J={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};o.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(ce){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(ce)},meridiem:function(ce,be,Te){return ce<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(ce){return ce.replace(/[\u06f0-\u06f9]/g,function(be){return J[be]}).replace(/\u060c/g,",")},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(De(6738))},7997:function(Ht,St,De){!function(o){"use strict";var W="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),J=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",W[7],W[8],W[9]];function b(Te,xe,Fe,He){var xt="";switch(Fe){case"s":return He?"muutaman sekunnin":"muutama sekunti";case"ss":xt=He?"sekunnin":"sekuntia";break;case"m":return He?"minuutin":"minuutti";case"mm":xt=He?"minuutin":"minuuttia";break;case"h":return He?"tunnin":"tunti";case"hh":xt=He?"tunnin":"tuntia";break;case"d":return He?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":xt=He?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return He?"kuukauden":"kuukausi";case"MM":xt=He?"kuukauden":"kuukautta";break;case"y":return He?"vuoden":"vuosi";case"yy":xt=He?"vuoden":"vuotta"}return function(Te,xe){return Te<10?xe?J[Te]:W[Te]:Te}(Te,He)+" "+xt}o.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:b,ss:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},8898:function(Ht,St,De){!function(o){"use strict";o.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(J){return J},week:{dow:1,doy:4}})}(De(6738))},7779:function(Ht,St,De){!function(o){"use strict";o.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},3287:function(Ht,St,De){!function(o){"use strict";o.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(J,b){switch(b){default:case"M":case"Q":case"D":case"DDD":case"d":return J+(1===J?"er":"e");case"w":case"W":return J+(1===J?"re":"e")}}})}(De(6738))},8867:function(Ht,St,De){!function(o){"use strict";o.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(J,b){switch(b){default:case"M":case"Q":case"D":case"DDD":case"d":return J+(1===J?"er":"e");case"w":case"W":return J+(1===J?"re":"e")}},week:{dow:1,doy:4}})}(De(6738))},8174:function(Ht,St,De){!function(o){"use strict";var b=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,ce=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];o.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:b,monthsShortRegex:b,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:ce,longMonthsParse:ce,shortMonthsParse:ce,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(Te,xe){switch(xe){case"D":return Te+(1===Te?"er":"");default:case"M":case"Q":case"DDD":case"d":return Te+(1===Te?"er":"e");case"w":case"W":return Te+(1===Te?"re":"e")}},week:{dow:1,doy:4}})}(De(6738))},452:function(Ht,St,De){!function(o){"use strict";var W="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),J="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");o.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(ce,be){return ce?/-MMM-/.test(be)?J[ce.month()]:W[ce.month()]:W},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(ce){return ce+(1===ce||8===ce||ce>=20?"ste":"de")},week:{dow:1,doy:4}})}(De(6738))},5014:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(xe){return xe+(1===xe?"d":xe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(De(6738))},4127:function(Ht,St,De){!function(o){"use strict";o.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(xe){return xe+(1===xe?"d":xe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(De(6738))},2124:function(Ht,St,De){!function(o){"use strict";o.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(J){return 0===J.indexOf("un")?"n"+J:"en "+J},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},6444:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[b+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",b+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[b+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",b+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[b+" \u0935\u0930\u093e\u0902\u0928\u0940",b+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[b+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",b+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[b+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",b+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[b+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",b+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return Te?xe[be][0]:xe[be][1]}o.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:W,ss:W,m:W,mm:W,h:W,hh:W,d:W,dd:W,M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(b,ce){switch(ce){case"D":return b+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return b}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(b,ce){return 12===b&&(b=0),"\u0930\u093e\u0924\u0940"===ce?b<4?b:b+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===ce?b:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===ce?b>12?b:b+12:"\u0938\u093e\u0902\u091c\u0947"===ce?b+12:void 0},meridiem:function(b,ce,be){return b<4?"\u0930\u093e\u0924\u0940":b<12?"\u0938\u0915\u093e\u0933\u0940\u0902":b<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":b<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(De(6738))},7953:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe={s:["thoddea sekondamni","thodde sekond"],ss:[b+" sekondamni",b+" sekond"],m:["eka mintan","ek minut"],mm:[b+" mintamni",b+" mintam"],h:["eka voran","ek vor"],hh:[b+" voramni",b+" voram"],d:["eka disan","ek dis"],dd:[b+" disamni",b+" dis"],M:["eka mhoinean","ek mhoino"],MM:[b+" mhoineamni",b+" mhoine"],y:["eka vorsan","ek voros"],yy:[b+" vorsamni",b+" vorsam"]};return Te?xe[be][0]:xe[be][1]}o.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:W,ss:W,m:W,mm:W,h:W,hh:W,d:W,dd:W,M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(b,ce){switch(ce){case"D":return b+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return b}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(b,ce){return 12===b&&(b=0),"rati"===ce?b<4?b:b+12:"sokallim"===ce?b:"donparam"===ce?b>12?b:b+12:"sanje"===ce?b+12:void 0},meridiem:function(b,ce,be){return b<4?"rati":b<12?"sokallim":b<16?"donparam":b<20?"sanje":"rati"}})}(De(6738))},6604:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},J={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};o.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(ce){return ce.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0ab0\u0abe\u0aa4"===be?ce<4?ce:ce+12:"\u0ab8\u0ab5\u0abe\u0ab0"===be?ce:"\u0aac\u0aaa\u0acb\u0ab0"===be?ce>=10?ce:ce+12:"\u0ab8\u0abe\u0a82\u0a9c"===be?ce+12:void 0},meridiem:function(ce,be,Te){return ce<4?"\u0ab0\u0abe\u0aa4":ce<10?"\u0ab8\u0ab5\u0abe\u0ab0":ce<17?"\u0aac\u0aaa\u0acb\u0ab0":ce<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(De(6738))},1222:function(Ht,St,De){!function(o){"use strict";o.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(J){return 2===J?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":J+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(J){return 2===J?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":J+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(J){return 2===J?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":J+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(J){return 2===J?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":J%10==0&&10!==J?J+" \u05e9\u05e0\u05d4":J+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(J){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(J)},meridiem:function(J,b,ce){return J<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":J<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":J<12?ce?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":J<18?ce?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(De(6738))},4235:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},J={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},b=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];o.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:b,longMonthsParse:b,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(Te){return Te.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(xe){return J[xe]})},postformat:function(Te){return Te.replace(/\d/g,function(xe){return W[xe]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(Te,xe){return 12===Te&&(Te=0),"\u0930\u093e\u0924"===xe?Te<4?Te:Te+12:"\u0938\u0941\u092c\u0939"===xe?Te:"\u0926\u094b\u092a\u0939\u0930"===xe?Te>=10?Te:Te+12:"\u0936\u093e\u092e"===xe?Te+12:void 0},meridiem:function(Te,xe,Fe){return Te<4?"\u0930\u093e\u0924":Te<10?"\u0938\u0941\u092c\u0939":Te<17?"\u0926\u094b\u092a\u0939\u0930":Te<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(De(6738))},622:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be){var Te=b+" ";switch(be){case"ss":return Te+(1===b?"sekunda":2===b||3===b||4===b?"sekunde":"sekundi");case"m":return ce?"jedna minuta":"jedne minute";case"mm":return Te+(1===b?"minuta":2===b||3===b||4===b?"minute":"minuta");case"h":return ce?"jedan sat":"jednog sata";case"hh":return Te+(1===b?"sat":2===b||3===b||4===b?"sata":"sati");case"dd":return Te+(1===b?"dan":"dana");case"MM":return Te+(1===b?"mjesec":2===b||3===b||4===b?"mjeseca":"mjeseci");case"yy":return Te+(1===b?"godina":2===b||3===b||4===b?"godine":"godina")}}o.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:W,m:W,mm:W,h:W,hh:W,d:"dan",dd:W,M:"mjesec",MM:W,y:"godinu",yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},7735:function(Ht,St,De){!function(o){"use strict";var W="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function J(be,Te,xe,Fe){var He=be;switch(xe){case"s":return Fe||Te?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return He+(Fe||Te)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(Fe||Te?" perc":" perce");case"mm":return He+(Fe||Te?" perc":" perce");case"h":return"egy"+(Fe||Te?" \xf3ra":" \xf3r\xe1ja");case"hh":return He+(Fe||Te?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(Fe||Te?" nap":" napja");case"dd":return He+(Fe||Te?" nap":" napja");case"M":return"egy"+(Fe||Te?" h\xf3nap":" h\xf3napja");case"MM":return He+(Fe||Te?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(Fe||Te?" \xe9v":" \xe9ve");case"yy":return He+(Fe||Te?" \xe9v":" \xe9ve")}return""}function b(be){return(be?"":"[m\xfalt] ")+"["+W[this.day()]+"] LT[-kor]"}o.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(be){return"u"===be.charAt(1).toLowerCase()},meridiem:function(be,Te,xe){return be<12?!0===xe?"de":"DE":!0===xe?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return b.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return b.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:J,ss:J,m:J,mm:J,h:J,hh:J,d:J,dd:J,M:J,MM:J,y:J,yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},402:function(Ht,St,De){!function(o){"use strict";o.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(J){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(J)},meridiem:function(J){return J<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":J<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":J<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(J,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===J?J+"-\u056b\u0576":J+"-\u0580\u0564";default:return J}},week:{dow:1,doy:7}})}(De(6738))},9187:function(Ht,St,De){!function(o){"use strict";o.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(J,b){return 12===J&&(J=0),"pagi"===b?J:"siang"===b?J>=11?J:J+12:"sore"===b||"malam"===b?J+12:void 0},meridiem:function(J,b,ce){return J<11?"pagi":J<15?"siang":J<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(De(6738))},536:function(Ht,St,De){!function(o){"use strict";function W(ce){return ce%100==11||ce%10!=1}function J(ce,be,Te,xe){var Fe=ce+" ";switch(Te){case"s":return be||xe?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return W(ce)?Fe+(be||xe?"sek\xfandur":"sek\xfandum"):Fe+"sek\xfanda";case"m":return be?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return W(ce)?Fe+(be||xe?"m\xedn\xfatur":"m\xedn\xfatum"):be?Fe+"m\xedn\xfata":Fe+"m\xedn\xfatu";case"hh":return W(ce)?Fe+(be||xe?"klukkustundir":"klukkustundum"):Fe+"klukkustund";case"d":return be?"dagur":xe?"dag":"degi";case"dd":return W(ce)?be?Fe+"dagar":Fe+(xe?"daga":"d\xf6gum"):be?Fe+"dagur":Fe+(xe?"dag":"degi");case"M":return be?"m\xe1nu\xf0ur":xe?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return W(ce)?be?Fe+"m\xe1nu\xf0ir":Fe+(xe?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):be?Fe+"m\xe1nu\xf0ur":Fe+(xe?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return be||xe?"\xe1r":"\xe1ri";case"yy":return W(ce)?Fe+(be||xe?"\xe1r":"\xe1rum"):Fe+(be||xe?"\xe1r":"\xe1ri")}}o.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:J,ss:J,m:J,mm:J,h:"klukkustund",hh:J,d:J,dd:J,M:J,MM:J,y:J,yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},4667:function(Ht,St,De){!function(o){"use strict";o.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(J){return(/^[0-9].+$/.test(J)?"tra":"in")+" "+J},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},5007:function(Ht,St,De){!function(o){"use strict";o.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},2093:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(J,b){return"\u5143"===b[1]?1:parseInt(b[1]||J,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(J){return"\u5348\u5f8c"===J},meridiem:function(J,b,ce){return J<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(J){return J.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(J){return this.week()!==J.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(J,b){switch(b){case"y":return 1===J?"\u5143\u5e74":J+"\u5e74";case"d":case"D":case"DDD":return J+"\u65e5";default:return J}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(De(6738))},59:function(Ht,St,De){!function(o){"use strict";o.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(J,b){return 12===J&&(J=0),"enjing"===b?J:"siyang"===b?J>=11?J:J+12:"sonten"===b||"ndalu"===b?J+12:void 0},meridiem:function(J,b,ce){return J<11?"enjing":J<15?"siyang":J<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(De(6738))},6870:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(J){return J.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(b,ce,be){return"\u10d8"===be?ce+"\u10e8\u10d8":ce+be+"\u10e8\u10d8"})},past:function(J){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(J)?J.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(J)?J.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):J},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(J){return 0===J?J:1===J?J+"-\u10da\u10d8":J<20||J<=100&&J%20==0||J%100==0?"\u10db\u10d4-"+J:J+"-\u10d4"},week:{dow:1,doy:7}})}(De(6738))},880:function(Ht,St,De){!function(o){"use strict";var W={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};o.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(b){return b+(W[b]||W[b%10]||W[b>=100?100:null])},week:{dow:1,doy:7}})}(De(6738))},1083:function(Ht,St,De){!function(o){"use strict";var W={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},J={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};o.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(ce){return"\u179b\u17d2\u1784\u17b6\u1785"===ce},meridiem:function(ce,be,Te){return ce<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(ce){return ce.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},week:{dow:1,doy:4}})}(De(6738))},8785:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},J={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};o.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(ce){return ce.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===be?ce<4?ce:ce+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===be?ce:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===be?ce>=10?ce:ce+12:"\u0cb8\u0c82\u0c9c\u0cc6"===be?ce+12:void 0},meridiem:function(ce,be,Te){return ce<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":ce<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":ce<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":ce<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(ce){return ce+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(De(6738))},1721:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"\uc77c";case"M":return J+"\uc6d4";case"w":case"W":return J+"\uc8fc";default:return J}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(J){return"\uc624\ud6c4"===J},meridiem:function(J,b,ce){return J<12?"\uc624\uc804":"\uc624\ud6c4"}})}(De(6738))},7851:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},J={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},b=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];o.defineLocale("ku",{months:b,monthsShort:b,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(be){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(be)},meridiem:function(be,Te,xe){return be<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(be){return be.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Te){return J[Te]}).replace(/\u060c/g,",")},postformat:function(be){return be.replace(/\d/g,function(Te){return W[Te]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(De(6738))},1727:function(Ht,St,De){!function(o){"use strict";var W={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};o.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(b){return b+(W[b]||W[b%10]||W[b>=100?100:null])},week:{dow:1,doy:7}})}(De(6738))},346:function(Ht,St,De){!function(o){"use strict";function W(Te,xe,Fe,He){var xt={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return xe?xt[Fe][0]:xt[Fe][1]}function ce(Te){if(Te=parseInt(Te,10),isNaN(Te))return!1;if(Te<0)return!0;if(Te<10)return 4<=Te&&Te<=7;if(Te<100){var xe=Te%10;return ce(0===xe?Te/10:xe)}if(Te<1e4){for(;Te>=10;)Te/=10;return ce(Te)}return ce(Te/=1e3)}o.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(Te){return ce(Te.substr(0,Te.indexOf(" ")))?"a "+Te:"an "+Te},past:function(Te){return ce(Te.substr(0,Te.indexOf(" ")))?"viru "+Te:"virun "+Te},s:"e puer Sekonnen",ss:"%d Sekonnen",m:W,mm:"%d Minutten",h:W,hh:"%d Stonnen",d:W,dd:"%d Deeg",M:W,MM:"%d M\xe9int",y:W,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},3002:function(Ht,St,De){!function(o){"use strict";o.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(J){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===J},meridiem:function(J,b,ce){return J<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(J){return"\u0e97\u0eb5\u0ec8"+J}})}(De(6738))},4035:function(Ht,St,De){!function(o){"use strict";var W={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function b(Fe,He,xt,ht){return He?be(xt)[0]:ht?be(xt)[1]:be(xt)[2]}function ce(Fe){return Fe%10==0||Fe>10&&Fe<20}function be(Fe){return W[Fe].split("_")}function Te(Fe,He,xt,ht){var At=Fe+" ";return 1===Fe?At+b(0,He,xt[0],ht):He?At+(ce(Fe)?be(xt)[1]:be(xt)[0]):ht?At+be(xt)[1]:At+(ce(Fe)?be(xt)[1]:be(xt)[2])}o.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(Fe,He,xt,ht){return He?"kelios sekund\u0117s":ht?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:Te,m:b,mm:Te,h:b,hh:Te,d:b,dd:Te,M:b,MM:Te,y:b,yy:Te},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(Fe){return Fe+"-oji"},week:{dow:1,doy:4}})}(De(6738))},6927:function(Ht,St,De){!function(o){"use strict";var W={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function J(xe,Fe,He){return He?Fe%10==1&&Fe%100!=11?xe[2]:xe[3]:Fe%10==1&&Fe%100!=11?xe[0]:xe[1]}function b(xe,Fe,He){return xe+" "+J(W[He],xe,Fe)}function ce(xe,Fe,He){return J(W[He],xe,Fe)}o.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(xe,Fe){return Fe?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:b,m:ce,mm:b,h:ce,hh:b,d:ce,dd:b,M:ce,MM:b,y:ce,yy:b},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},5634:function(Ht,St,De){!function(o){"use strict";var W={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(b,ce){return 1===b?ce[0]:b>=2&&b<=4?ce[1]:ce[2]},translate:function(b,ce,be){var Te=W.words[be];return 1===be.length?ce?Te[0]:Te[1]:b+" "+W.correctGrammaticalCase(b,Te)}};o.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:W.translate,m:W.translate,mm:W.translate,h:W.translate,hh:W.translate,d:"dan",dd:W.translate,M:"mjesec",MM:W.translate,y:"godinu",yy:W.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},4173:function(Ht,St,De){!function(o){"use strict";o.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},6320:function(Ht,St,De){!function(o){"use strict";o.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(J){var b=J%10,ce=J%100;return 0===J?J+"-\u0435\u0432":0===ce?J+"-\u0435\u043d":ce>10&&ce<20?J+"-\u0442\u0438":1===b?J+"-\u0432\u0438":2===b?J+"-\u0440\u0438":7===b||8===b?J+"-\u043c\u0438":J+"-\u0442\u0438"},week:{dow:1,doy:7}})}(De(6738))},1705:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(J,b){return 12===J&&(J=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===b&&J>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===b||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===b?J+12:J},meridiem:function(J,b,ce){return J<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":J<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":J<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":J<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(De(6738))},1062:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){switch(be){case"s":return ce?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return b+(ce?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return b+(ce?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return b+(ce?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return b+(ce?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return b+(ce?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return b+(ce?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return b}}o.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(b){return"\u04ae\u0425"===b},meridiem:function(b,ce,be){return b<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:W,ss:W,m:W,mm:W,h:W,hh:W,d:W,dd:W,M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(b,ce){switch(ce){case"d":case"D":case"DDD":return b+" \u04e9\u0434\u04e9\u0440";default:return b}}})}(De(6738))},2805:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},J={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function b(be,Te,xe,Fe){var He="";if(Te)switch(xe){case"s":He="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":He="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":He="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":He="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":He="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":He="%d \u0924\u093e\u0938";break;case"d":He="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":He="%d \u0926\u093f\u0935\u0938";break;case"M":He="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":He="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":He="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":He="%d \u0935\u0930\u094d\u0937\u0947"}else switch(xe){case"s":He="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":He="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":He="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":He="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":He="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":He="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":He="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":He="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":He="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":He="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":He="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":He="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return He.replace(/%d/i,be)}o.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:b,ss:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},preparse:function(be){return be.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Te){return J[Te]})},postformat:function(be){return be.replace(/\d/g,function(Te){return W[Te]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(be,Te){return 12===be&&(be=0),"\u092a\u0939\u093e\u091f\u0947"===Te||"\u0938\u0915\u093e\u0933\u0940"===Te?be:"\u0926\u0941\u092a\u093e\u0930\u0940"===Te||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===Te||"\u0930\u093e\u0924\u094d\u0930\u0940"===Te?be>=12?be:be+12:void 0},meridiem:function(be,Te,xe){return be>=0&&be<6?"\u092a\u0939\u093e\u091f\u0947":be<12?"\u0938\u0915\u093e\u0933\u0940":be<17?"\u0926\u0941\u092a\u093e\u0930\u0940":be<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(De(6738))},9900:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(J,b){return 12===J&&(J=0),"pagi"===b?J:"tengahari"===b?J>=11?J:J+12:"petang"===b||"malam"===b?J+12:void 0},meridiem:function(J,b,ce){return J<11?"pagi":J<15?"tengahari":J<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(De(6738))},1341:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(J,b){return 12===J&&(J=0),"pagi"===b?J:"tengahari"===b?J>=11?J:J+12:"petang"===b||"malam"===b?J+12:void 0},meridiem:function(J,b,ce){return J<11?"pagi":J<15?"tengahari":J<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(De(6738))},7734:function(Ht,St,De){!function(o){"use strict";o.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},9034:function(Ht,St,De){!function(o){"use strict";var W={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},J={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};o.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(ce){return ce.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},week:{dow:1,doy:4}})}(De(6738))},9324:function(Ht,St,De){!function(o){"use strict";o.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},6495:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},J={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};o.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(ce){return ce.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0930\u093e\u0924\u093f"===be?ce<4?ce:ce+12:"\u092c\u093f\u0939\u093e\u0928"===be?ce:"\u0926\u093f\u0909\u0901\u0938\u094b"===be?ce>=10?ce:ce+12:"\u0938\u093e\u0901\u091d"===be?ce+12:void 0},meridiem:function(ce,be,Te){return ce<3?"\u0930\u093e\u0924\u093f":ce<12?"\u092c\u093f\u0939\u093e\u0928":ce<16?"\u0926\u093f\u0909\u0901\u0938\u094b":ce<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(De(6738))},6272:function(Ht,St,De){!function(o){"use strict";var W="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),J="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),b=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ce=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Te){return Te+(1===Te||8===Te||Te>=20?"ste":"de")},week:{dow:1,doy:4}})}(De(6738))},673:function(Ht,St,De){!function(o){"use strict";var W="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),J="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),b=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ce=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Te,xe){return Te?/-MMM-/.test(xe)?J[Te.month()]:W[Te.month()]:W},monthsRegex:ce,monthsShortRegex:ce,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Te){return Te+(1===Te||8===Te||Te>=20?"ste":"de")},week:{dow:1,doy:4}})}(De(6738))},2486:function(Ht,St,De){!function(o){"use strict";o.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},6219:function(Ht,St,De){!function(o){"use strict";o.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(J,b){var ce=1===J?"r":2===J?"n":3===J?"r":4===J?"t":"\xe8";return("w"===b||"W"===b)&&(ce="a"),J+ce},week:{dow:1,doy:4}})}(De(6738))},2829:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},J={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};o.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(ce){return ce.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0a30\u0a3e\u0a24"===be?ce<4?ce:ce+12:"\u0a38\u0a35\u0a47\u0a30"===be?ce:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===be?ce>=10?ce:ce+12:"\u0a38\u0a3c\u0a3e\u0a2e"===be?ce+12:void 0},meridiem:function(ce,be,Te){return ce<4?"\u0a30\u0a3e\u0a24":ce<10?"\u0a38\u0a35\u0a47\u0a30":ce<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":ce<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(De(6738))},8444:function(Ht,St,De){!function(o){"use strict";var W="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),J="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),b=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function ce(xe){return xe%10<5&&xe%10>1&&~~(xe/10)%10!=1}function be(xe,Fe,He){var xt=xe+" ";switch(He){case"ss":return xt+(ce(xe)?"sekundy":"sekund");case"m":return Fe?"minuta":"minut\u0119";case"mm":return xt+(ce(xe)?"minuty":"minut");case"h":return Fe?"godzina":"godzin\u0119";case"hh":return xt+(ce(xe)?"godziny":"godzin");case"ww":return xt+(ce(xe)?"tygodnie":"tygodni");case"MM":return xt+(ce(xe)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return xt+(ce(xe)?"lata":"lat")}}o.defineLocale("pl",{months:function(xe,Fe){return xe?/D MMMM/.test(Fe)?J[xe.month()]:W[xe.month()]:W},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:b,longMonthsParse:b,shortMonthsParse:b,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:be,m:be,mm:be,h:be,hh:be,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:be,M:"miesi\u0105c",MM:be,y:"rok",yy:be},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},6117:function(Ht,St,De){!function(o){"use strict";o.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(De(6738))},3170:function(Ht,St,De){!function(o){"use strict";o.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(De(6738))},6587:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be){var xe=" ";return(b%100>=20||b>=100&&b%100==0)&&(xe=" de "),b+xe+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[be]}o.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:W,m:"un minut",mm:W,h:"o or\u0103",hh:W,d:"o zi",dd:W,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:W,M:"o lun\u0103",MM:W,y:"un an",yy:W},week:{dow:1,doy:7}})}(De(6738))},9264:function(Ht,St,De){!function(o){"use strict";function J(be,Te,xe){return"m"===xe?Te?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":be+" "+function(be,Te){var xe=be.split("_");return Te%10==1&&Te%100!=11?xe[0]:Te%10>=2&&Te%10<=4&&(Te%100<10||Te%100>=20)?xe[1]:xe[2]}({ss:Te?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Te?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[xe],+be)}var b=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];o.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:b,longMonthsParse:b,shortMonthsParse:b,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(be){if(be.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(be){if(be.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:J,m:J,mm:J,h:"\u0447\u0430\u0441",hh:J,d:"\u0434\u0435\u043d\u044c",dd:J,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:J,M:"\u043c\u0435\u0441\u044f\u0446",MM:J,y:"\u0433\u043e\u0434",yy:J},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(be){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(be)},meridiem:function(be,Te,xe){return be<4?"\u043d\u043e\u0447\u0438":be<12?"\u0443\u0442\u0440\u0430":be<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(be,Te){switch(Te){case"M":case"d":case"DDD":return be+"-\u0439";case"D":return be+"-\u0433\u043e";case"w":case"W":return be+"-\u044f";default:return be}},week:{dow:1,doy:4}})}(De(6738))},2135:function(Ht,St,De){!function(o){"use strict";var W=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],J=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];o.defineLocale("sd",{months:W,monthsShort:W,weekdays:J,weekdaysShort:J,weekdaysMin:J,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(ce){return"\u0634\u0627\u0645"===ce},meridiem:function(ce,be,Te){return ce<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(ce){return ce.replace(/\u060c/g,",")},postformat:function(ce){return ce.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(De(6738))},5366:function(Ht,St,De){!function(o){"use strict";o.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},3379:function(Ht,St,De){!function(o){"use strict";o.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(J){return J+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(J){return"\u0db4.\u0dc0."===J||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===J},meridiem:function(J,b,ce){return J>11?ce?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":ce?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(De(6738))},6143:function(Ht,St,De){!function(o){"use strict";var W="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),J="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function b(Te){return Te>1&&Te<5}function ce(Te,xe,Fe,He){var xt=Te+" ";switch(Fe){case"s":return xe||He?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return xe||He?xt+(b(Te)?"sekundy":"sek\xfand"):xt+"sekundami";case"m":return xe?"min\xfata":He?"min\xfatu":"min\xfatou";case"mm":return xe||He?xt+(b(Te)?"min\xfaty":"min\xfat"):xt+"min\xfatami";case"h":return xe?"hodina":He?"hodinu":"hodinou";case"hh":return xe||He?xt+(b(Te)?"hodiny":"hod\xedn"):xt+"hodinami";case"d":return xe||He?"de\u0148":"d\u0148om";case"dd":return xe||He?xt+(b(Te)?"dni":"dn\xed"):xt+"d\u0148ami";case"M":return xe||He?"mesiac":"mesiacom";case"MM":return xe||He?xt+(b(Te)?"mesiace":"mesiacov"):xt+"mesiacmi";case"y":return xe||He?"rok":"rokom";case"yy":return xe||He?xt+(b(Te)?"roky":"rokov"):xt+"rokmi"}}o.defineLocale("sk",{months:W,monthsShort:J,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ce,ss:ce,m:ce,mm:ce,h:ce,hh:ce,d:ce,dd:ce,M:ce,MM:ce,y:ce,yy:ce},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},196:function(Ht,St,De){!function(o){"use strict";function W(b,ce,be,Te){var xe=b+" ";switch(be){case"s":return ce||Te?"nekaj sekund":"nekaj sekundami";case"ss":return xe+(1===b?ce?"sekundo":"sekundi":2===b?ce||Te?"sekundi":"sekundah":b<5?ce||Te?"sekunde":"sekundah":"sekund");case"m":return ce?"ena minuta":"eno minuto";case"mm":return xe+(1===b?ce?"minuta":"minuto":2===b?ce||Te?"minuti":"minutama":b<5?ce||Te?"minute":"minutami":ce||Te?"minut":"minutami");case"h":return ce?"ena ura":"eno uro";case"hh":return xe+(1===b?ce?"ura":"uro":2===b?ce||Te?"uri":"urama":b<5?ce||Te?"ure":"urami":ce||Te?"ur":"urami");case"d":return ce||Te?"en dan":"enim dnem";case"dd":return xe+(1===b?ce||Te?"dan":"dnem":2===b?ce||Te?"dni":"dnevoma":ce||Te?"dni":"dnevi");case"M":return ce||Te?"en mesec":"enim mesecem";case"MM":return xe+(1===b?ce||Te?"mesec":"mesecem":2===b?ce||Te?"meseca":"mesecema":b<5?ce||Te?"mesece":"meseci":ce||Te?"mesecev":"meseci");case"y":return ce||Te?"eno leto":"enim letom";case"yy":return xe+(1===b?ce||Te?"leto":"letom":2===b?ce||Te?"leti":"letoma":b<5?ce||Te?"leta":"leti":ce||Te?"let":"leti")}}o.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:W,ss:W,m:W,mm:W,h:W,hh:W,d:W,dd:W,M:W,MM:W,y:W,yy:W},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},1082:function(Ht,St,De){!function(o){"use strict";o.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(J){return"M"===J.charAt(0)},meridiem:function(J,b,ce){return J<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},8963:function(Ht,St,De){!function(o){"use strict";var W={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(b,ce){return 1===b?ce[0]:b>=2&&b<=4?ce[1]:ce[2]},translate:function(b,ce,be){var Te=W.words[be];return 1===be.length?ce?Te[0]:Te[1]:b+" "+W.correctGrammaticalCase(b,Te)}};o.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:W.translate,m:W.translate,mm:W.translate,h:W.translate,hh:W.translate,d:"\u0434\u0430\u043d",dd:W.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:W.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:W.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},1621:function(Ht,St,De){!function(o){"use strict";var W={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(b,ce){return 1===b?ce[0]:b>=2&&b<=4?ce[1]:ce[2]},translate:function(b,ce,be){var Te=W.words[be];return 1===be.length?ce?Te[0]:Te[1]:b+" "+W.correctGrammaticalCase(b,Te)}};o.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:W.translate,m:W.translate,mm:W.translate,h:W.translate,hh:W.translate,d:"dan",dd:W.translate,M:"mesec",MM:W.translate,y:"godinu",yy:W.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(De(6738))},1404:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(J,b,ce){return J<11?"ekuseni":J<15?"emini":J<19?"entsambama":"ebusuku"},meridiemHour:function(J,b){return 12===J&&(J=0),"ekuseni"===b?J:"emini"===b?J>=11?J:J+12:"entsambama"===b||"ebusuku"===b?0===J?0:J+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(De(6738))},5685:function(Ht,St,De){!function(o){"use strict";o.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?":e":1===b||2===b?":a":":e")},week:{dow:1,doy:4}})}(De(6738))},6490:function(Ht,St,De){!function(o){"use strict";o.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(De(6738))},4106:function(Ht,St,De){!function(o){"use strict";var W={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},J={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};o.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(ce){return ce+"\u0bb5\u0ba4\u0bc1"},preparse:function(ce){return ce.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(be){return J[be]})},postformat:function(ce){return ce.replace(/\d/g,function(be){return W[be]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(ce,be,Te){return ce<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":ce<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":ce<10?" \u0b95\u0bbe\u0bb2\u0bc8":ce<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":ce<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":ce<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(ce,be){return 12===ce&&(ce=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===be?ce<2?ce:ce+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===be||"\u0b95\u0bbe\u0bb2\u0bc8"===be||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===be&&ce>=10?ce:ce+12},week:{dow:0,doy:6}})}(De(6738))},9204:function(Ht,St,De){!function(o){"use strict";o.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===b?J<4?J:J+12:"\u0c09\u0c26\u0c2f\u0c02"===b?J:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===b?J>=10?J:J+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===b?J+12:void 0},meridiem:function(J,b,ce){return J<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":J<10?"\u0c09\u0c26\u0c2f\u0c02":J<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":J<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(De(6738))},3692:function(Ht,St,De){!function(o){"use strict";o.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},6361:function(Ht,St,De){!function(o){"use strict";var W={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};o.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(b,ce){return 12===b&&(b=0),"\u0448\u0430\u0431"===ce?b<4?b:b+12:"\u0441\u0443\u0431\u04b3"===ce?b:"\u0440\u04ef\u0437"===ce?b>=11?b:b+12:"\u0431\u0435\u0433\u043e\u04b3"===ce?b+12:void 0},meridiem:function(b,ce,be){return b<4?"\u0448\u0430\u0431":b<11?"\u0441\u0443\u0431\u04b3":b<16?"\u0440\u04ef\u0437":b<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(b){return b+(W[b]||W[b%10]||W[b>=100?100:null])},week:{dow:1,doy:7}})}(De(6738))},1735:function(Ht,St,De){!function(o){"use strict";o.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(J){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===J},meridiem:function(J,b,ce){return J<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(De(6738))},1568:function(Ht,St,De){!function(o){"use strict";var W={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};o.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(b,ce){switch(ce){case"d":case"D":case"Do":case"DD":return b;default:if(0===b)return b+"'unjy";var be=b%10;return b+(W[be]||W[b%100-be]||W[b>=100?100:null])}},week:{dow:1,doy:7}})}(De(6738))},6129:function(Ht,St,De){!function(o){"use strict";o.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(J){return J},week:{dow:1,doy:4}})}(De(6738))},3759:function(Ht,St,De){!function(o){"use strict";var W="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function ce(xe,Fe,He,xt){var ht=function(xe){var Fe=Math.floor(xe%1e3/100),He=Math.floor(xe%100/10),xt=xe%10,ht="";return Fe>0&&(ht+=W[Fe]+"vatlh"),He>0&&(ht+=(""!==ht?" ":"")+W[He]+"maH"),xt>0&&(ht+=(""!==ht?" ":"")+W[xt]),""===ht?"pagh":ht}(xe);switch(He){case"ss":return ht+" lup";case"mm":return ht+" tup";case"hh":return ht+" rep";case"dd":return ht+" jaj";case"MM":return ht+" jar";case"yy":return ht+" DIS"}}o.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(xe){var Fe=xe;return-1!==xe.indexOf("jaj")?Fe.slice(0,-3)+"leS":-1!==xe.indexOf("jar")?Fe.slice(0,-3)+"waQ":-1!==xe.indexOf("DIS")?Fe.slice(0,-3)+"nem":Fe+" pIq"},past:function(xe){var Fe=xe;return-1!==xe.indexOf("jaj")?Fe.slice(0,-3)+"Hu\u2019":-1!==xe.indexOf("jar")?Fe.slice(0,-3)+"wen":-1!==xe.indexOf("DIS")?Fe.slice(0,-3)+"ben":Fe+" ret"},s:"puS lup",ss:ce,m:"wa\u2019 tup",mm:ce,h:"wa\u2019 rep",hh:ce,d:"wa\u2019 jaj",dd:ce,M:"wa\u2019 jar",MM:ce,y:"wa\u2019 DIS",yy:ce},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},1644:function(Ht,St,De){!function(o){"use strict";var W={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};o.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(b,ce,be){return b<12?be?"\xf6\xf6":"\xd6\xd6":be?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(b){return"\xf6s"===b||"\xd6S"===b},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(b,ce){switch(ce){case"d":case"D":case"Do":case"DD":return b;default:if(0===b)return b+"'\u0131nc\u0131";var be=b%10;return b+(W[be]||W[b%100-be]||W[b>=100?100:null])}},week:{dow:1,doy:7}})}(De(6738))},875:function(Ht,St,De){!function(o){"use strict";function J(b,ce,be,Te){var xe={s:["viensas secunds","'iensas secunds"],ss:[b+" secunds",b+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[b+" m\xeduts",b+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[b+" \xfeoras",b+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[b+" ziuas",b+" ziuas"],M:["'n mes","'iens mes"],MM:[b+" mesen",b+" mesen"],y:["'n ar","'iens ar"],yy:[b+" ars",b+" ars"]};return Te||ce?xe[be][0]:xe[be][1]}o.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(b){return"d'o"===b.toLowerCase()},meridiem:function(b,ce,be){return b>11?be?"d'o":"D'O":be?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:J,ss:J,m:J,mm:J,h:J,hh:J,d:J,dd:J,M:J,MM:J,y:J,yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(De(6738))},1041:function(Ht,St,De){!function(o){"use strict";o.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(De(6738))},6878:function(Ht,St,De){!function(o){"use strict";o.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(De(6738))},4357:function(Ht,St,De){!function(o){"use strict";o.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===b||"\u0633\u06d5\u06be\u06d5\u0631"===b||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===b?J:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===b||"\u0643\u06d5\u0686"===b?J+12:J>=11?J:J+12},meridiem:function(J,b,ce){var be=100*J+b;return be<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":be<900?"\u0633\u06d5\u06be\u06d5\u0631":be<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":be<1230?"\u0686\u06c8\u0634":be<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return J+"-\u06be\u06d5\u067e\u062a\u06d5";default:return J}},preparse:function(J){return J.replace(/\u060c/g,",")},postformat:function(J){return J.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(De(6738))},4810:function(Ht,St,De){!function(o){"use strict";function J(Te,xe,Fe){return"m"===Fe?xe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===Fe?xe?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":Te+" "+function(Te,xe){var Fe=Te.split("_");return xe%10==1&&xe%100!=11?Fe[0]:xe%10>=2&&xe%10<=4&&(xe%100<10||xe%100>=20)?Fe[1]:Fe[2]}({ss:xe?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:xe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:xe?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[Fe],+Te)}function ce(Te){return function(){return Te+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}o.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(Te,xe){var Fe={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===Te?Fe.nominative.slice(1,7).concat(Fe.nominative.slice(0,1)):Te?Fe[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(xe)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(xe)?"genitive":"nominative"][Te.day()]:Fe.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:ce("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:ce("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:ce("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:ce("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ce("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return ce("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:J,m:J,mm:J,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:J,d:"\u0434\u0435\u043d\u044c",dd:J,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:J,y:"\u0440\u0456\u043a",yy:J},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(Te){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(Te)},meridiem:function(Te,xe,Fe){return Te<4?"\u043d\u043e\u0447\u0456":Te<12?"\u0440\u0430\u043d\u043a\u0443":Te<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(Te,xe){switch(xe){case"M":case"d":case"DDD":case"w":case"W":return Te+"-\u0439";case"D":return Te+"-\u0433\u043e";default:return Te}},week:{dow:1,doy:7}})}(De(6738))},6794:function(Ht,St,De){!function(o){"use strict";var W=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],J=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];o.defineLocale("ur",{months:W,monthsShort:W,weekdays:J,weekdaysShort:J,weekdaysMin:J,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(ce){return"\u0634\u0627\u0645"===ce},meridiem:function(ce,be,Te){return ce<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(ce){return ce.replace(/\u060c/g,",")},postformat:function(ce){return ce.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(De(6738))},7959:function(Ht,St,De){!function(o){"use strict";o.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(De(6738))},8966:function(Ht,St,De){!function(o){"use strict";o.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(De(6738))},5386:function(Ht,St,De){!function(o){"use strict";o.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(J){return/^ch$/i.test(J)},meridiem:function(J,b,ce){return J<12?ce?"sa":"SA":ce?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(J){return J},week:{dow:1,doy:4}})}(De(6738))},3156:function(Ht,St,De){!function(o){"use strict";o.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(J){var b=J%10;return J+(1==~~(J%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(De(6738))},8028:function(Ht,St,De){!function(o){"use strict";o.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(De(6738))},9330:function(Ht,St,De){!function(o){"use strict";o.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u51cc\u6668"===b||"\u65e9\u4e0a"===b||"\u4e0a\u5348"===b?J:"\u4e0b\u5348"===b||"\u665a\u4e0a"===b?J+12:J>=11?J:J+12},meridiem:function(J,b,ce){var be=100*J+b;return be<600?"\u51cc\u6668":be<900?"\u65e9\u4e0a":be<1130?"\u4e0a\u5348":be<1230?"\u4e2d\u5348":be<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(J){return J.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(J){return this.week()!==J.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"\u65e5";case"M":return J+"\u6708";case"w":case"W":return J+"\u5468";default:return J}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(De(6738))},9380:function(Ht,St,De){!function(o){"use strict";o.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u51cc\u6668"===b||"\u65e9\u4e0a"===b||"\u4e0a\u5348"===b?J:"\u4e2d\u5348"===b?J>=11?J:J+12:"\u4e0b\u5348"===b||"\u665a\u4e0a"===b?J+12:void 0},meridiem:function(J,b,ce){var be=100*J+b;return be<600?"\u51cc\u6668":be<900?"\u65e9\u4e0a":be<1200?"\u4e0a\u5348":1200===be?"\u4e2d\u5348":be<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"\u65e5";case"M":return J+"\u6708";case"w":case"W":return J+"\u9031";default:return J}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(De(6738))},874:function(Ht,St,De){!function(o){"use strict";o.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u51cc\u6668"===b||"\u65e9\u4e0a"===b||"\u4e0a\u5348"===b?J:"\u4e2d\u5348"===b?J>=11?J:J+12:"\u4e0b\u5348"===b||"\u665a\u4e0a"===b?J+12:void 0},meridiem:function(J,b,ce){var be=100*J+b;return be<600?"\u51cc\u6668":be<900?"\u65e9\u4e0a":be<1130?"\u4e0a\u5348":be<1230?"\u4e2d\u5348":be<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"\u65e5";case"M":return J+"\u6708";case"w":case"W":return J+"\u9031";default:return J}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(De(6738))},6508:function(Ht,St,De){!function(o){"use strict";o.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(J,b){return 12===J&&(J=0),"\u51cc\u6668"===b||"\u65e9\u4e0a"===b||"\u4e0a\u5348"===b?J:"\u4e2d\u5348"===b?J>=11?J:J+12:"\u4e0b\u5348"===b||"\u665a\u4e0a"===b?J+12:void 0},meridiem:function(J,b,ce){var be=100*J+b;return be<600?"\u51cc\u6668":be<900?"\u65e9\u4e0a":be<1130?"\u4e0a\u5348":be<1230?"\u4e2d\u5348":be<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(J,b){switch(b){case"d":case"D":case"DDD":return J+"\u65e5";case"M":return J+"\u6708";case"w":case"W":return J+"\u9031";default:return J}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(De(6738))},6738:function(Ht,St,De){(Ht=De.nmd(Ht)).exports=function(){"use strict";var o,at;function W(){return o.apply(null,arguments)}function b(G){return G instanceof Array||"[object Array]"===Object.prototype.toString.call(G)}function ce(G){return null!=G&&"[object Object]"===Object.prototype.toString.call(G)}function be(G,oe){return Object.prototype.hasOwnProperty.call(G,oe)}function Te(G){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(G).length;var oe;for(oe in G)if(be(G,oe))return!1;return!0}function xe(G){return void 0===G}function Fe(G){return"number"==typeof G||"[object Number]"===Object.prototype.toString.call(G)}function He(G){return G instanceof Date||"[object Date]"===Object.prototype.toString.call(G)}function xt(G,oe){var Be,ke=[];for(Be=0;Be<G.length;++Be)ke.push(oe(G[Be],Be));return ke}function ht(G,oe){for(var ke in oe)be(oe,ke)&&(G[ke]=oe[ke]);return be(oe,"toString")&&(G.toString=oe.toString),be(oe,"valueOf")&&(G.valueOf=oe.valueOf),G}function At(G,oe,ke,Be){return _o(G,oe,ke,Be,!0).utc()}function Ut(G){return null==G._pf&&(G._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),G._pf}function ei(G){if(null==G._isValid){var oe=Ut(G),ke=at.call(oe.parsedDateParts,function(Ke){return null!=Ke}),Be=!isNaN(G._d.getTime())&&oe.overflow<0&&!oe.empty&&!oe.invalidEra&&!oe.invalidMonth&&!oe.invalidWeekday&&!oe.weekdayMismatch&&!oe.nullInput&&!oe.invalidFormat&&!oe.userInvalidated&&(!oe.meridiem||oe.meridiem&&ke);if(G._strict&&(Be=Be&&0===oe.charsLeftOver&&0===oe.unusedTokens.length&&void 0===oe.bigHour),null!=Object.isFrozen&&Object.isFrozen(G))return Be;G._isValid=Be}return G._isValid}function In(G){var oe=At(NaN);return null!=G?ht(Ut(oe),G):Ut(oe).userInvalidated=!0,oe}at=Array.prototype.some?Array.prototype.some:function(G){var Be,oe=Object(this),ke=oe.length>>>0;for(Be=0;Be<ke;Be++)if(Be in oe&&G.call(this,oe[Be],Be,oe))return!0;return!1};var jt=W.momentProperties=[],tr=!1;function rs(G,oe){var ke,Be,Ke;if(xe(oe._isAMomentObject)||(G._isAMomentObject=oe._isAMomentObject),xe(oe._i)||(G._i=oe._i),xe(oe._f)||(G._f=oe._f),xe(oe._l)||(G._l=oe._l),xe(oe._strict)||(G._strict=oe._strict),xe(oe._tzm)||(G._tzm=oe._tzm),xe(oe._isUTC)||(G._isUTC=oe._isUTC),xe(oe._offset)||(G._offset=oe._offset),xe(oe._pf)||(G._pf=Ut(oe)),xe(oe._locale)||(G._locale=oe._locale),jt.length>0)for(ke=0;ke<jt.length;ke++)xe(Ke=oe[Be=jt[ke]])||(G[Be]=Ke);return G}function oi(G){rs(this,G),this._d=new Date(null!=G._d?G._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===tr&&(tr=!0,W.updateOffset(this),tr=!1)}function Li(G){return G instanceof oi||null!=G&&null!=G._isAMomentObject}function ks(G){!1===W.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+G)}function qi(G,oe){var ke=!0;return ht(function(){if(null!=W.deprecationHandler&&W.deprecationHandler(null,G),ke){var Ke,Zt,xn,Be=[];for(Zt=0;Zt<arguments.length;Zt++){if(Ke="","object"==typeof arguments[Zt]){for(xn in Ke+="\n["+Zt+"] ",arguments[0])be(arguments[0],xn)&&(Ke+=xn+": "+arguments[0][xn]+", ");Ke=Ke.slice(0,-2)}else Ke=arguments[Zt];Be.push(Ke)}ks(G+"\nArguments: "+Array.prototype.slice.call(Be).join("")+"\n"+(new Error).stack),ke=!1}return oe.apply(this,arguments)},oe)}var fn,Pr={};function _n(G,oe){null!=W.deprecationHandler&&W.deprecationHandler(G,oe),Pr[G]||(ks(oe),Pr[G]=!0)}function ln(G){return"undefined"!=typeof Function&&G instanceof Function||"[object Function]"===Object.prototype.toString.call(G)}function un(G,oe){var Be,ke=ht({},G);for(Be in oe)be(oe,Be)&&(ce(G[Be])&&ce(oe[Be])?(ke[Be]={},ht(ke[Be],G[Be]),ht(ke[Be],oe[Be])):null!=oe[Be]?ke[Be]=oe[Be]:delete ke[Be]);for(Be in G)be(G,Be)&&!be(oe,Be)&&ce(G[Be])&&(ke[Be]=ht({},ke[Be]));return ke}function Rn(G){null!=G&&this.set(G)}W.suppressDeprecationWarnings=!1,W.deprecationHandler=null,fn=Object.keys?Object.keys:function(G){var oe,ke=[];for(oe in G)be(G,oe)&&ke.push(oe);return ke};function Fi(G,oe,ke){var Be=""+Math.abs(G);return(G>=0?ke?"+":"":"-")+Math.pow(10,Math.max(0,oe-Be.length)).toString().substr(1)+Be}var ui=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,bi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mi={},gi={};function $n(G,oe,ke,Be){var Ke=Be;"string"==typeof Be&&(Ke=function(){return this[Be]()}),G&&(gi[G]=Ke),oe&&(gi[oe[0]]=function(){return Fi(Ke.apply(this,arguments),oe[1],oe[2])}),ke&&(gi[ke]=function(){return this.localeData().ordinal(Ke.apply(this,arguments),G)})}function ki(G){return G.match(/\[[\s\S]/)?G.replace(/^\[|\]$/g,""):G.replace(/\\/g,"")}function uo(G,oe){return G.isValid()?(oe=Qr(oe,G.localeData()),mi[oe]=mi[oe]||function(G){var ke,Be,oe=G.match(ui);for(ke=0,Be=oe.length;ke<Be;ke++)oe[ke]=gi[oe[ke]]?gi[oe[ke]]:ki(oe[ke]);return function(Ke){var xn,Zt="";for(xn=0;xn<Be;xn++)Zt+=ln(oe[xn])?oe[xn].call(Ke,G):oe[xn];return Zt}}(oe),mi[oe](G)):G.localeData().invalidDate()}function Qr(G,oe){var ke=5;function Be(Ke){return oe.longDateFormat(Ke)||Ke}for(bi.lastIndex=0;ke>=0&&bi.test(G);)G=G.replace(bi,Be),bi.lastIndex=0,ke-=1;return G}var cs={};function mr(G,oe){var ke=G.toLowerCase();cs[ke]=cs[ke+"s"]=cs[oe]=G}function Xi(G){return"string"==typeof G?cs[G]||cs[G.toLowerCase()]:void 0}function po(G){var ke,Be,oe={};for(Be in G)be(G,Be)&&(ke=Xi(Be))&&(oe[ke]=G[Be]);return oe}var bc={};function Hr(G,oe){bc[G]=oe}function Ro(G){return G%4==0&&G%100!=0||G%400==0}function Sr(G){return G<0?Math.ceil(G)||0:Math.floor(G)}function Yn(G){var oe=+G,ke=0;return 0!==oe&&isFinite(oe)&&(ke=Sr(oe)),ke}function ji(G,oe){return function(ke){return null!=ke?(Ea(this,G,ke),W.updateOffset(this,oe),this):ll(this,G)}}function ll(G,oe){return G.isValid()?G._d["get"+(G._isUTC?"UTC":"")+oe]():NaN}function Ea(G,oe,ke){G.isValid()&&!isNaN(ke)&&("FullYear"===oe&&Ro(G.year())&&1===G.month()&&29===G.date()?(ke=Yn(ke),G._d["set"+(G._isUTC?"UTC":"")+oe](ke,G.month(),Ee(ke,G.month()))):G._d["set"+(G._isUTC?"UTC":"")+oe](ke))}var Ft,So=/\d/,ko=/\d\d/,Pt=/\d{3}/,Lt=/\d{4}/,Wt=/[+-]?\d{6}/,hn=/\d\d?/,nn=/\d\d\d\d?/,pi=/\d\d\d\d\d\d?/,Ni=/\d{1,3}/,ar=/\d{1,4}/,Or=/[+-]?\d{1,6}/,wr=/\d+/,st=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,Ze=/Z|[+-]\d\d(?::?\d\d)?/gi,bt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function It(G,oe,ke){Ft[G]=ln(oe)?oe:function(Be,Ke){return Be&&ke?ke:oe}}function Kt(G,oe){return be(Ft,G)?Ft[G](oe._strict,oe._locale):new RegExp(function(G){return Xt(G.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(oe,ke,Be,Ke,Zt){return ke||Be||Ke||Zt}))}(G))}function Xt(G){return G.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Ft={};var Mn={};function Le(G,oe){var ke,Be=oe;for("string"==typeof G&&(G=[G]),Fe(oe)&&(Be=function(Ke,Zt){Zt[oe]=Yn(Ke)}),ke=0;ke<G.length;ke++)Mn[G[ke]]=Be}function h(G,oe){Le(G,function(ke,Be,Ke,Zt){Ke._w=Ke._w||{},oe(ke,Ke._w,Ke,Zt)})}function p(G,oe,ke){null!=oe&&be(Mn,G)&&Mn[G](oe,ke._a,ke,G)}var me;function Ee(G,oe){if(isNaN(G)||isNaN(oe))return NaN;var ke=function(G,oe){return(G%oe+oe)%oe}(oe,12);return G+=(oe-ke)/12,1===ke?Ro(G)?29:28:31-ke%7%2}me=Array.prototype.indexOf?Array.prototype.indexOf:function(G){var oe;for(oe=0;oe<this.length;++oe)if(this[oe]===G)return oe;return-1},$n("M",["MM",2],"Mo",function(){return this.month()+1}),$n("MMM",0,0,function(G){return this.localeData().monthsShort(this,G)}),$n("MMMM",0,0,function(G){return this.localeData().months(this,G)}),mr("month","M"),Hr("month",8),It("M",hn),It("MM",hn,ko),It("MMM",function(G,oe){return oe.monthsShortRegex(G)}),It("MMMM",function(G,oe){return oe.monthsRegex(G)}),Le(["M","MM"],function(G,oe){oe[1]=Yn(G)-1}),Le(["MMM","MMMM"],function(G,oe,ke,Be){var Ke=ke._locale.monthsParse(G,Be,ke._strict);null!=Ke?oe[1]=Ke:Ut(ke).invalidMonth=G});var Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=bt,_t=bt;function Oe(G,oe,ke){var Be,Ke,Zt,xn=G.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Be=0;Be<12;++Be)Zt=At([2e3,Be]),this._shortMonthsParse[Be]=this.monthsShort(Zt,"").toLocaleLowerCase(),this._longMonthsParse[Be]=this.months(Zt,"").toLocaleLowerCase();return ke?"MMM"===oe?-1!==(Ke=me.call(this._shortMonthsParse,xn))?Ke:null:-1!==(Ke=me.call(this._longMonthsParse,xn))?Ke:null:"MMM"===oe?-1!==(Ke=me.call(this._shortMonthsParse,xn))||-1!==(Ke=me.call(this._longMonthsParse,xn))?Ke:null:-1!==(Ke=me.call(this._longMonthsParse,xn))||-1!==(Ke=me.call(this._shortMonthsParse,xn))?Ke:null}function ft(G,oe){var ke;if(!G.isValid())return G;if("string"==typeof oe)if(/^\d+$/.test(oe))oe=Yn(oe);else if(!Fe(oe=G.localeData().monthsParse(oe)))return G;return ke=Math.min(G.date(),Ee(G.year(),oe)),G._d["set"+(G._isUTC?"UTC":"")+"Month"](oe,ke),G}function sn(G){return null!=G?(ft(this,G),W.updateOffset(this,!0),this):ll(this,"Month")}function Pn(){function G(xn,Vi){return Vi.length-xn.length}var Ke,Zt,oe=[],ke=[],Be=[];for(Ke=0;Ke<12;Ke++)Zt=At([2e3,Ke]),oe.push(this.monthsShort(Zt,"")),ke.push(this.months(Zt,"")),Be.push(this.months(Zt,"")),Be.push(this.monthsShort(Zt,""));for(oe.sort(G),ke.sort(G),Be.sort(G),Ke=0;Ke<12;Ke++)oe[Ke]=Xt(oe[Ke]),ke[Ke]=Xt(ke[Ke]);for(Ke=0;Ke<24;Ke++)Be[Ke]=Xt(Be[Ke]);this._monthsRegex=new RegExp("^("+Be.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ke.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+oe.join("|")+")","i")}function wi(G){return Ro(G)?366:365}$n("Y",0,0,function(){var G=this.year();return G<=9999?Fi(G,4):"+"+G}),$n(0,["YY",2],0,function(){return this.year()%100}),$n(0,["YYYY",4],0,"year"),$n(0,["YYYYY",5],0,"year"),$n(0,["YYYYYY",6,!0],0,"year"),mr("year","y"),Hr("year",1),It("Y",st),It("YY",hn,ko),It("YYYY",ar,Lt),It("YYYYY",Or,Wt),It("YYYYYY",Or,Wt),Le(["YYYYY","YYYYYY"],0),Le("YYYY",function(G,oe){oe[0]=2===G.length?W.parseTwoDigitYear(G):Yn(G)}),Le("YY",function(G,oe){oe[0]=W.parseTwoDigitYear(G)}),Le("Y",function(G,oe){oe[0]=parseInt(G,10)}),W.parseTwoDigitYear=function(G){return Yn(G)+(Yn(G)>68?1900:2e3)};var lr=ji("FullYear",!0);function Oi(G,oe,ke,Be,Ke,Zt,xn){var Vi;return G<100&&G>=0?(Vi=new Date(G+400,oe,ke,Be,Ke,Zt,xn),isFinite(Vi.getFullYear())&&Vi.setFullYear(G)):Vi=new Date(G,oe,ke,Be,Ke,Zt,xn),Vi}function Tr(G){var oe,ke;return G<100&&G>=0?((ke=Array.prototype.slice.call(arguments))[0]=G+400,oe=new Date(Date.UTC.apply(null,ke)),isFinite(oe.getUTCFullYear())&&oe.setUTCFullYear(G)):oe=new Date(Date.UTC.apply(null,arguments)),oe}function $s(G,oe,ke){var Be=7+oe-ke;return-(7+Tr(G,0,Be).getUTCDay()-oe)%7+Be-1}function _s(G,oe,ke,Be,Ke){var ts,ro,Vi=1+7*(oe-1)+(7+ke-Be)%7+$s(G,Be,Ke);return Vi<=0?ro=wi(ts=G-1)+Vi:Vi>wi(G)?(ts=G+1,ro=Vi-wi(G)):(ts=G,ro=Vi),{year:ts,dayOfYear:ro}}function Zi(G,oe,ke){var Zt,xn,Be=$s(G.year(),oe,ke),Ke=Math.floor((G.dayOfYear()-Be-1)/7)+1;return Ke<1?Zt=Ke+Jr(xn=G.year()-1,oe,ke):Ke>Jr(G.year(),oe,ke)?(Zt=Ke-Jr(G.year(),oe,ke),xn=G.year()+1):(xn=G.year(),Zt=Ke),{week:Zt,year:xn}}function Jr(G,oe,ke){var Be=$s(G,oe,ke),Ke=$s(G+1,oe,ke);return(wi(G)-Be+Ke)/7}$n("w",["ww",2],"wo","week"),$n("W",["WW",2],"Wo","isoWeek"),mr("week","w"),mr("isoWeek","W"),Hr("week",5),Hr("isoWeek",5),It("w",hn),It("ww",hn,ko),It("W",hn),It("WW",hn,ko),h(["w","ww","W","WW"],function(G,oe,ke,Be){oe[Be.substr(0,1)]=Yn(G)});function Rd(G,oe){return G.slice(oe,7).concat(G.slice(0,oe))}$n("d",0,"do","day"),$n("dd",0,0,function(G){return this.localeData().weekdaysMin(this,G)}),$n("ddd",0,0,function(G){return this.localeData().weekdaysShort(this,G)}),$n("dddd",0,0,function(G){return this.localeData().weekdays(this,G)}),$n("e",0,0,"weekday"),$n("E",0,0,"isoWeekday"),mr("day","d"),mr("weekday","e"),mr("isoWeekday","E"),Hr("day",11),Hr("weekday",11),Hr("isoWeekday",11),It("d",hn),It("e",hn),It("E",hn),It("dd",function(G,oe){return oe.weekdaysMinRegex(G)}),It("ddd",function(G,oe){return oe.weekdaysShortRegex(G)}),It("dddd",function(G,oe){return oe.weekdaysRegex(G)}),h(["dd","ddd","dddd"],function(G,oe,ke,Be){var Ke=ke._locale.weekdaysParse(G,Be,ke._strict);null!=Ke?oe.d=Ke:Ut(ke).invalidWeekday=G}),h(["d","e","E"],function(G,oe,ke,Be){oe[Be]=Yn(G)});var cl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qh="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ld="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ap=bt,Yc=bt,vs=bt;function zl(G,oe,ke){var Be,Ke,Zt,xn=G.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Be=0;Be<7;++Be)Zt=At([2e3,1]).day(Be),this._minWeekdaysParse[Be]=this.weekdaysMin(Zt,"").toLocaleLowerCase(),this._shortWeekdaysParse[Be]=this.weekdaysShort(Zt,"").toLocaleLowerCase(),this._weekdaysParse[Be]=this.weekdays(Zt,"").toLocaleLowerCase();return ke?"dddd"===oe?-1!==(Ke=me.call(this._weekdaysParse,xn))?Ke:null:"ddd"===oe?-1!==(Ke=me.call(this._shortWeekdaysParse,xn))?Ke:null:-1!==(Ke=me.call(this._minWeekdaysParse,xn))?Ke:null:"dddd"===oe?-1!==(Ke=me.call(this._weekdaysParse,xn))||-1!==(Ke=me.call(this._shortWeekdaysParse,xn))||-1!==(Ke=me.call(this._minWeekdaysParse,xn))?Ke:null:"ddd"===oe?-1!==(Ke=me.call(this._shortWeekdaysParse,xn))||-1!==(Ke=me.call(this._weekdaysParse,xn))||-1!==(Ke=me.call(this._minWeekdaysParse,xn))?Ke:null:-1!==(Ke=me.call(this._minWeekdaysParse,xn))||-1!==(Ke=me.call(this._weekdaysParse,xn))||-1!==(Ke=me.call(this._shortWeekdaysParse,xn))?Ke:null}function Wi(){function G(zs,Ho){return Ho.length-zs.length}var Zt,xn,Vi,ts,ro,oe=[],ke=[],Be=[],Ke=[];for(Zt=0;Zt<7;Zt++)xn=At([2e3,1]).day(Zt),Vi=Xt(this.weekdaysMin(xn,"")),ts=Xt(this.weekdaysShort(xn,"")),ro=Xt(this.weekdays(xn,"")),oe.push(Vi),ke.push(ts),Be.push(ro),Ke.push(Vi),Ke.push(ts),Ke.push(ro);oe.sort(G),ke.sort(G),Be.sort(G),Ke.sort(G),this._weekdaysRegex=new RegExp("^("+Ke.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Be.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ke.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+oe.join("|")+")","i")}function Yl(){return this.hours()%12||12}function cd(G,oe){$n(G,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),oe)})}function kr(G,oe){return oe._meridiemParse}$n("H",["HH",2],0,"hour"),$n("h",["hh",2],0,Yl),$n("k",["kk",2],0,function(){return this.hours()||24}),$n("hmm",0,0,function(){return""+Yl.apply(this)+Fi(this.minutes(),2)}),$n("hmmss",0,0,function(){return""+Yl.apply(this)+Fi(this.minutes(),2)+Fi(this.seconds(),2)}),$n("Hmm",0,0,function(){return""+this.hours()+Fi(this.minutes(),2)}),$n("Hmmss",0,0,function(){return""+this.hours()+Fi(this.minutes(),2)+Fi(this.seconds(),2)}),cd("a",!0),cd("A",!1),mr("hour","h"),Hr("hour",13),It("a",kr),It("A",kr),It("H",hn),It("h",hn),It("k",hn),It("HH",hn,ko),It("hh",hn,ko),It("kk",hn,ko),It("hmm",nn),It("hmmss",pi),It("Hmm",nn),It("Hmmss",pi),Le(["H","HH"],3),Le(["k","kk"],function(G,oe,ke){var Be=Yn(G);oe[3]=24===Be?0:Be}),Le(["a","A"],function(G,oe,ke){ke._isPm=ke._locale.isPM(G),ke._meridiem=G}),Le(["h","hh"],function(G,oe,ke){oe[3]=Yn(G),Ut(ke).bigHour=!0}),Le("hmm",function(G,oe,ke){var Be=G.length-2;oe[3]=Yn(G.substr(0,Be)),oe[4]=Yn(G.substr(Be)),Ut(ke).bigHour=!0}),Le("hmmss",function(G,oe,ke){var Be=G.length-4,Ke=G.length-2;oe[3]=Yn(G.substr(0,Be)),oe[4]=Yn(G.substr(Be,2)),oe[5]=Yn(G.substr(Ke)),Ut(ke).bigHour=!0}),Le("Hmm",function(G,oe,ke){var Be=G.length-2;oe[3]=Yn(G.substr(0,Be)),oe[4]=Yn(G.substr(Be))}),Le("Hmmss",function(G,oe,ke){var Be=G.length-4,Ke=G.length-2;oe[3]=Yn(G.substr(0,Be)),oe[4]=Yn(G.substr(Be,2)),oe[5]=Yn(G.substr(Ke))});var tp=ji("Hours",!0);var Bl,Na={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Re,week:{dow:0,doy:6},weekdays:cl,weekdaysMin:ld,weekdaysShort:Qh,meridiemParse:/[ap]\.?m?\.?/i},di={},xc={};function za(G,oe){var ke,Be=Math.min(G.length,oe.length);for(ke=0;ke<Be;ke+=1)if(G[ke]!==oe[ke])return ke;return Be}function dd(G){return G&&G.toLowerCase().replace("_","-")}function Rs(G){var oe=null;if(void 0===di[G]&&Ht&&Ht.exports)try{oe=Bl._abbr,De(6700)("./"+G),Tl(oe)}catch(Be){di[G]=null}return di[G]}function Tl(G,oe){var ke;return G&&((ke=xe(oe)?cr(G):er(G,oe))?Bl=ke:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+G+" not found. Did you forget to load it?")),Bl._abbr}function er(G,oe){if(null!==oe){var ke,Be=Na;if(oe.abbr=G,null!=di[G])_n("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Be=di[G]._config;else if(null!=oe.parentLocale)if(null!=di[oe.parentLocale])Be=di[oe.parentLocale]._config;else{if(null==(ke=Rs(oe.parentLocale)))return xc[oe.parentLocale]||(xc[oe.parentLocale]=[]),xc[oe.parentLocale].push({name:G,config:oe}),null;Be=ke._config}return di[G]=new Rn(un(Be,oe)),xc[G]&&xc[G].forEach(function(Ke){er(Ke.name,Ke.config)}),Tl(G),di[G]}return delete di[G],null}function cr(G){var oe;if(G&&G._locale&&G._locale._abbr&&(G=G._locale._abbr),!G)return Bl;if(!b(G)){if(oe=Rs(G))return oe;G=[G]}return function(G){for(var ke,Be,Ke,Zt,oe=0;oe<G.length;){for(ke=(Zt=dd(G[oe]).split("-")).length,Be=(Be=dd(G[oe+1]))?Be.split("-"):null;ke>0;){if(Ke=Rs(Zt.slice(0,ke).join("-")))return Ke;if(Be&&Be.length>=ke&&za(Zt,Be)>=ke-1)break;ke--}oe++}return Bl}(G)}function Kr(G){var oe,ke=G._a;return ke&&-2===Ut(G).overflow&&(oe=ke[1]<0||ke[1]>11?1:ke[2]<1||ke[2]>Ee(ke[0],ke[1])?2:ke[3]<0||ke[3]>24||24===ke[3]&&(0!==ke[4]||0!==ke[5]||0!==ke[6])?3:ke[4]<0||ke[4]>59?4:ke[5]<0||ke[5]>59?5:ke[6]<0||ke[6]>999?6:-1,Ut(G)._overflowDayOfYear&&(oe<0||oe>2)&&(oe=2),Ut(G)._overflowWeeks&&-1===oe&&(oe=7),Ut(G)._overflowWeekday&&-1===oe&&(oe=8),Ut(G).overflow=oe),G}var Au=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vl=/Z|[+-]\d\d(?::?\d\d)?/,ya=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ss=/^\/?Date\((-?\d+)/i,$o=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bd={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function tu(G){var oe,ke,Zt,xn,Vi,ts,Be=G._i,Ke=Au.exec(Be)||Sl.exec(Be);if(Ke){for(Ut(G).iso=!0,oe=0,ke=ya.length;oe<ke;oe++)if(ya[oe][1].exec(Ke[1])){xn=ya[oe][0],Zt=!1!==ya[oe][2];break}if(null==xn)return void(G._isValid=!1);if(Ke[3]){for(oe=0,ke=qa.length;oe<ke;oe++)if(qa[oe][1].exec(Ke[3])){Vi=(Ke[2]||" ")+qa[oe][0];break}if(null==Vi)return void(G._isValid=!1)}if(!Zt&&null!=Vi)return void(G._isValid=!1);if(Ke[4]){if(!Vl.exec(Ke[4]))return void(G._isValid=!1);ts="Z"}G._f=xn+(Vi||"")+(ts||""),Un(G)}else G._isValid=!1}function yh(G){var oe=parseInt(G,10);return oe<=49?2e3+oe:oe<=999?1900+oe:oe}function hd(G){var ke,oe=$o.exec(function(G){return G.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(G._i));if(oe){if(ke=function(G,oe,ke,Be,Ke,Zt){var xn=[yh(G),Re.indexOf(oe),parseInt(ke,10),parseInt(Be,10),parseInt(Ke,10)];return Zt&&xn.push(parseInt(Zt,10)),xn}(oe[4],oe[3],oe[2],oe[5],oe[6],oe[7]),!function(G,oe,ke){return!G||Qh.indexOf(G)===new Date(oe[0],oe[1],oe[2]).getDay()||(Ut(ke).weekdayMismatch=!0,ke._isValid=!1,!1)}(oe[1],ke,G))return;G._a=ke,G._tzm=function(G,oe,ke){if(G)return Bd[G];if(oe)return 0;var Be=parseInt(ke,10),Ke=Be%100;return(Be-Ke)/100*60+Ke}(oe[8],oe[9],oe[10]),G._d=Tr.apply(null,G._a),G._d.setUTCMinutes(G._d.getUTCMinutes()-G._tzm),Ut(G).rfc2822=!0}else G._isValid=!1}function nu(G,oe,ke){return null!=G?G:null!=oe?oe:ke}function Bc(G){var oe,ke,Ke,Zt,xn,Be=[];if(!G._d){for(Ke=function(G){var oe=new Date(W.now());return G._useUTC?[oe.getUTCFullYear(),oe.getUTCMonth(),oe.getUTCDate()]:[oe.getFullYear(),oe.getMonth(),oe.getDate()]}(G),G._w&&null==G._a[2]&&null==G._a[1]&&function(G){var oe,ke,Be,Ke,Zt,xn,Vi,ts,ro;null!=(oe=G._w).GG||null!=oe.W||null!=oe.E?(Zt=1,xn=4,ke=nu(oe.GG,G._a[0],Zi(Os(),1,4).year),Be=nu(oe.W,1),((Ke=nu(oe.E,1))<1||Ke>7)&&(ts=!0)):(Zt=G._locale._week.dow,xn=G._locale._week.doy,ro=Zi(Os(),Zt,xn),ke=nu(oe.gg,G._a[0],ro.year),Be=nu(oe.w,ro.week),null!=oe.d?((Ke=oe.d)<0||Ke>6)&&(ts=!0):null!=oe.e?(Ke=oe.e+Zt,(oe.e<0||oe.e>6)&&(ts=!0)):Ke=Zt),Be<1||Be>Jr(ke,Zt,xn)?Ut(G)._overflowWeeks=!0:null!=ts?Ut(G)._overflowWeekday=!0:(Vi=_s(ke,Be,Ke,Zt,xn),G._a[0]=Vi.year,G._dayOfYear=Vi.dayOfYear)}(G),null!=G._dayOfYear&&(xn=nu(G._a[0],Ke[0]),(G._dayOfYear>wi(xn)||0===G._dayOfYear)&&(Ut(G)._overflowDayOfYear=!0),ke=Tr(xn,0,G._dayOfYear),G._a[1]=ke.getUTCMonth(),G._a[2]=ke.getUTCDate()),oe=0;oe<3&&null==G._a[oe];++oe)G._a[oe]=Be[oe]=Ke[oe];for(;oe<7;oe++)G._a[oe]=Be[oe]=null==G._a[oe]?2===oe?1:0:G._a[oe];24===G._a[3]&&0===G._a[4]&&0===G._a[5]&&0===G._a[6]&&(G._nextDay=!0,G._a[3]=0),G._d=(G._useUTC?Tr:Oi).apply(null,Be),Zt=G._useUTC?G._d.getUTCDay():G._d.getDay(),null!=G._tzm&&G._d.setUTCMinutes(G._d.getUTCMinutes()-G._tzm),G._nextDay&&(G._a[3]=24),G._w&&void 0!==G._w.d&&G._w.d!==Zt&&(Ut(G).weekdayMismatch=!0)}}function Un(G){if(G._f!==W.ISO_8601)if(G._f!==W.RFC_2822){G._a=[],Ut(G).empty=!0;var ke,Be,Ke,Zt,xn,ro,oe=""+G._i,Vi=oe.length,ts=0;for(Ke=Qr(G._f,G._locale).match(ui)||[],ke=0;ke<Ke.length;ke++)(Be=(oe.match(Kt(Zt=Ke[ke],G))||[])[0])&&((xn=oe.substr(0,oe.indexOf(Be))).length>0&&Ut(G).unusedInput.push(xn),oe=oe.slice(oe.indexOf(Be)+Be.length),ts+=Be.length),gi[Zt]?(Be?Ut(G).empty=!1:Ut(G).unusedTokens.push(Zt),p(Zt,Be,G)):G._strict&&!Be&&Ut(G).unusedTokens.push(Zt);Ut(G).charsLeftOver=Vi-ts,oe.length>0&&Ut(G).unusedInput.push(oe),G._a[3]<=12&&!0===Ut(G).bigHour&&G._a[3]>0&&(Ut(G).bigHour=void 0),Ut(G).parsedDateParts=G._a.slice(0),Ut(G).meridiem=G._meridiem,G._a[3]=function(G,oe,ke){var Be;return null==ke?oe:null!=G.meridiemHour?G.meridiemHour(oe,ke):(null!=G.isPM&&((Be=G.isPM(ke))&&oe<12&&(oe+=12),!Be&&12===oe&&(oe=0)),oe)}(G._locale,G._a[3],G._meridiem),null!==(ro=Ut(G).era)&&(G._a[0]=G._locale.erasConvertYear(ro,G._a[0])),Bc(G),Kr(G)}else hd(G);else tu(G)}function Hl(G){var oe=G._i,ke=G._f;return G._locale=G._locale||cr(G._l),null===oe||void 0===ke&&""===oe?In({nullInput:!0}):("string"==typeof oe&&(G._i=oe=G._locale.preparse(oe)),Li(oe)?new oi(Kr(oe)):(He(oe)?G._d=oe:b(ke)?function(G){var oe,ke,Be,Ke,Zt,xn,Vi=!1;if(0===G._f.length)return Ut(G).invalidFormat=!0,void(G._d=new Date(NaN));for(Ke=0;Ke<G._f.length;Ke++)Zt=0,xn=!1,oe=rs({},G),null!=G._useUTC&&(oe._useUTC=G._useUTC),oe._f=G._f[Ke],Un(oe),ei(oe)&&(xn=!0),Zt+=Ut(oe).charsLeftOver,Zt+=10*Ut(oe).unusedTokens.length,Ut(oe).score=Zt,Vi?Zt<Be&&(Be=Zt,ke=oe):(null==Be||Zt<Be||xn)&&(Be=Zt,ke=oe,xn&&(Vi=!0));ht(G,ke||oe)}(G):ke?Un(G):function(G){var oe=G._i;xe(oe)?G._d=new Date(W.now()):He(oe)?G._d=new Date(oe.valueOf()):"string"==typeof oe?function(G){var oe=ss.exec(G._i);null===oe?(tu(G),!1===G._isValid&&(delete G._isValid,hd(G),!1===G._isValid&&(delete G._isValid,G._strict?G._isValid=!1:W.createFromInputFallback(G)))):G._d=new Date(+oe[1])}(G):b(oe)?(G._a=xt(oe.slice(0),function(ke){return parseInt(ke,10)}),Bc(G)):ce(oe)?function(G){if(!G._d){var oe=po(G._i);G._a=xt([oe.year,oe.month,void 0===oe.day?oe.date:oe.day,oe.hour,oe.minute,oe.second,oe.millisecond],function(Be){return Be&&parseInt(Be,10)}),Bc(G)}}(G):Fe(oe)?G._d=new Date(oe):W.createFromInputFallback(G)}(G),ei(G)||(G._d=null),G))}function _o(G,oe,ke,Be,Ke){var Zt={};return(!0===oe||!1===oe)&&(Be=oe,oe=void 0),(!0===ke||!1===ke)&&(Be=ke,ke=void 0),(ce(G)&&Te(G)||b(G)&&0===G.length)&&(G=void 0),Zt._isAMomentObject=!0,Zt._useUTC=Zt._isUTC=Ke,Zt._l=ke,Zt._i=G,Zt._f=oe,Zt._strict=Be,function(G){var oe=new oi(Kr(Hl(G)));return oe._nextDay&&(oe.add(1,"d"),oe._nextDay=void 0),oe}(Zt)}function Os(G,oe,ke,Be){return _o(G,oe,ke,Be,!1)}W.createFromInputFallback=qi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(G){G._d=new Date(G._i+(G._useUTC?" UTC":""))}),W.ISO_8601=function(){},W.RFC_2822=function(){};var bh=qi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var G=Os.apply(null,arguments);return this.isValid()&&G.isValid()?G<this?this:G:In()}),rp=qi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var G=Os.apply(null,arguments);return this.isValid()&&G.isValid()?G>this?this:G:In()});function $a(G,oe){var ke,Be;if(1===oe.length&&b(oe[0])&&(oe=oe[0]),!oe.length)return Os();for(ke=oe[0],Be=1;Be<oe.length;++Be)(!oe[Be].isValid()||oe[Be][G](ke))&&(ke=oe[Be]);return ke}var Vd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xh(G){var oe=po(G),ke=oe.year||0,Be=oe.quarter||0,Ke=oe.month||0,Zt=oe.week||oe.isoWeek||0,xn=oe.day||0,Vi=oe.hour||0,ts=oe.minute||0,ro=oe.second||0,zs=oe.millisecond||0;this._isValid=function(G){var oe,Be,ke=!1;for(oe in G)if(be(G,oe)&&(-1===me.call(Vd,oe)||null!=G[oe]&&isNaN(G[oe])))return!1;for(Be=0;Be<Vd.length;++Be)if(G[Vd[Be]]){if(ke)return!1;parseFloat(G[Vd[Be]])!==Yn(G[Vd[Be]])&&(ke=!0)}return!0}(oe),this._milliseconds=+zs+1e3*ro+6e4*ts+1e3*Vi*60*60,this._days=+xn+7*Zt,this._months=+Ke+3*Be+12*ke,this._data={},this._locale=cr(),this._bubble()}function Pu(G){return G instanceof xh}function iu(G){return G<0?-1*Math.round(-1*G):Math.round(G)}function nc(G,oe){$n(G,0,0,function(){var ke=this.utcOffset(),Be="+";return ke<0&&(ke=-ke,Be="-"),Be+Fi(~~(ke/60),2)+oe+Fi(~~ke%60,2)})}nc("Z",":"),nc("ZZ",""),It("Z",Ze),It("ZZ",Ze),Le(["Z","ZZ"],function(G,oe,ke){ke._useUTC=!0,ke._tzm=ru(Ze,G)});var wh=/([\+\-]|\d\d)/gi;function ru(G,oe){var Ke,Zt,ke=(oe||"").match(G);return null===ke?null:0===(Zt=60*(Ke=((ke[ke.length-1]||[])+"").match(wh)||["-",0,0])[1]+Yn(Ke[2]))?0:"+"===Ke[0]?Zt:-Zt}function Hd(G,oe){var ke,Be;return oe._isUTC?(ke=oe.clone(),Be=(Li(G)||He(G)?G.valueOf():Os(G).valueOf())-ke.valueOf(),ke._d.setTime(ke._d.valueOf()+Be),W.updateOffset(ke,!1),ke):Os(G).local()}function oa(G){return-Math.round(G._d.getTimezoneOffset())}function pn(){return!!this.isValid()&&this._isUTC&&0===this._offset}W.updateOffset=function(){};var Ci=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(G,oe){var Ke,Zt,xn,ke=G,Be=null;return Pu(G)?ke={ms:G._milliseconds,d:G._days,M:G._months}:Fe(G)||!isNaN(+G)?(ke={},oe?ke[oe]=+G:ke.milliseconds=+G):(Be=Ci.exec(G))?(Ke="-"===Be[1]?-1:1,ke={y:0,d:Yn(Be[2])*Ke,h:Yn(Be[3])*Ke,m:Yn(Be[4])*Ke,s:Yn(Be[5])*Ke,ms:Yn(iu(1e3*Be[6]))*Ke}):(Be=Ki.exec(G))?ke={y:Ws(Be[2],Ke="-"===Be[1]?-1:1),M:Ws(Be[3],Ke),w:Ws(Be[4],Ke),d:Ws(Be[5],Ke),h:Ws(Be[6],Ke),m:Ws(Be[7],Ke),s:Ws(Be[8],Ke)}:null==ke?ke={}:"object"==typeof ke&&("from"in ke||"to"in ke)&&(xn=function(G,oe){var ke;return G.isValid()&&oe.isValid()?(oe=Hd(oe,G),G.isBefore(oe)?ke=Ur(G,oe):((ke=Ur(oe,G)).milliseconds=-ke.milliseconds,ke.months=-ke.months),ke):{milliseconds:0,months:0}}(Os(ke.from),Os(ke.to)),(ke={}).ms=xn.milliseconds,ke.M=xn.months),Zt=new xh(ke),Pu(G)&&be(G,"_locale")&&(Zt._locale=G._locale),Pu(G)&&be(G,"_isValid")&&(Zt._isValid=G._isValid),Zt}function Ws(G,oe){var ke=G&&parseFloat(G.replace(",","."));return(isNaN(ke)?0:ke)*oe}function Ur(G,oe){var ke={};return ke.months=oe.month()-G.month()+12*(oe.year()-G.year()),G.clone().add(ke.months,"M").isAfter(oe)&&--ke.months,ke.milliseconds=+oe-+G.clone().add(ke.months,"M"),ke}function sc(G,oe){return function(ke,Be){var Zt;return null!==Be&&!isNaN(+Be)&&(_n(oe,"moment()."+oe+"(period, number) is deprecated. Please use moment()."+oe+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Zt=ke,ke=Be,Be=Zt),zo(this,Cr(ke,Be),G),this}}function zo(G,oe,ke,Be){var Ke=oe._milliseconds,Zt=iu(oe._days),xn=iu(oe._months);!G.isValid()||(Be=null==Be||Be,xn&&ft(G,ll(G,"Month")+xn*ke),Zt&&Ea(G,"Date",ll(G,"Date")+Zt*ke),Ke&&G._d.setTime(G._d.valueOf()+Ke*ke),Be&&W.updateOffset(G,Zt||xn))}Cr.fn=xh.prototype,Cr.invalid=function(){return Cr(NaN)};var su=sc(1,"add"),jd=sc(-1,"subtract");function Ya(G){return"string"==typeof G||G instanceof String}function Vc(G){return Li(G)||He(G)||Ya(G)||Fe(G)||function(G){var oe=b(G),ke=!1;return oe&&(ke=0===G.filter(function(Be){return!Fe(Be)&&Ya(G)}).length),oe&&ke}(G)||function(G){var Ke,oe=ce(G)&&!Te(G),ke=!1,Be=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(Ke=0;Ke<Be.length;Ke+=1)ke=ke||be(G,Be[Ke]);return oe&&ke}(G)||null==G}function ou(G){var Ke,oe=ce(G)&&!Te(G),ke=!1,Be=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(Ke=0;Ke<Be.length;Ke+=1)ke=ke||be(G,Be[Ke]);return oe&&ke}function lu(G,oe){if(G.date()<oe.date())return-lu(oe,G);var ke=12*(oe.year()-G.year())+(oe.month()-G.month()),Be=G.clone().add(ke,"months");return-(ke+(oe-Be<0?(oe-Be)/(Be-G.clone().add(ke-1,"months")):(oe-Be)/(G.clone().add(ke+1,"months")-Be)))||0}function Ch(G){var oe;return void 0===G?this._locale._abbr:(null!=(oe=cr(G))&&(this._locale=oe),this)}W.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",W.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Dl=qi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(G){return void 0===G?this.localeData():this.locale(G)});function Ul(){return this._locale}var lc=6e4,Sc=60*lc,vi=3506328*Sc;function gr(G,oe){return(G%oe+oe)%oe}function js(G,oe,ke){return G<100&&G>=0?new Date(G+400,oe,ke)-vi:new Date(G,oe,ke).valueOf()}function Er(G,oe,ke){return G<100&&G>=0?Date.UTC(G+400,oe,ke)-vi:Date.UTC(G,oe,ke)}function Wd(G,oe){return oe.erasAbbrRegex(G)}function vo(){var Ke,Zt,G=[],oe=[],ke=[],Be=[],xn=this.eras();for(Ke=0,Zt=xn.length;Ke<Zt;++Ke)oe.push(Xt(xn[Ke].name)),G.push(Xt(xn[Ke].abbr)),ke.push(Xt(xn[Ke].narrow)),Be.push(Xt(xn[Ke].name)),Be.push(Xt(xn[Ke].abbr)),Be.push(Xt(xn[Ke].narrow));this._erasRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+oe.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+G.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ke.join("|")+")","i")}function ai(G,oe){$n(0,[G,G.length],0,oe)}function Ua(G,oe,ke,Be,Ke){var Zt;return null==G?Zi(this,Be,Ke).year:(oe>(Zt=Jr(G,Be,Ke))&&(oe=Zt),Mh.call(this,G,oe,ke,Be,Ke))}function Mh(G,oe,ke,Be,Ke){var Zt=_s(G,oe,ke,Be,Ke),xn=Tr(Zt.year,0,Zt.dayOfYear);return this.year(xn.getUTCFullYear()),this.month(xn.getUTCMonth()),this.date(xn.getUTCDate()),this}$n("N",0,0,"eraAbbr"),$n("NN",0,0,"eraAbbr"),$n("NNN",0,0,"eraAbbr"),$n("NNNN",0,0,"eraName"),$n("NNNNN",0,0,"eraNarrow"),$n("y",["y",1],"yo","eraYear"),$n("y",["yy",2],0,"eraYear"),$n("y",["yyy",3],0,"eraYear"),$n("y",["yyyy",4],0,"eraYear"),It("N",Wd),It("NN",Wd),It("NNN",Wd),It("NNNN",function(G,oe){return oe.erasNameRegex(G)}),It("NNNNN",function(G,oe){return oe.erasNarrowRegex(G)}),Le(["N","NN","NNN","NNNN","NNNNN"],function(G,oe,ke,Be){var Ke=ke._locale.erasParse(G,Be,ke._strict);Ke?Ut(ke).era=Ke:Ut(ke).invalidEra=G}),It("y",wr),It("yy",wr),It("yyy",wr),It("yyyy",wr),It("yo",function(G,oe){return oe._eraYearOrdinalRegex||wr}),Le(["y","yy","yyy","yyyy"],0),Le(["yo"],function(G,oe,ke,Be){var Ke;ke._locale._eraYearOrdinalRegex&&(Ke=G.match(ke._locale._eraYearOrdinalRegex)),oe[0]=ke._locale.eraYearOrdinalParse?ke._locale.eraYearOrdinalParse(G,Ke):parseInt(G,10)}),$n(0,["gg",2],0,function(){return this.weekYear()%100}),$n(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ai("gggg","weekYear"),ai("ggggg","weekYear"),ai("GGGG","isoWeekYear"),ai("GGGGG","isoWeekYear"),mr("weekYear","gg"),mr("isoWeekYear","GG"),Hr("weekYear",1),Hr("isoWeekYear",1),It("G",st),It("g",st),It("GG",hn,ko),It("gg",hn,ko),It("GGGG",ar,Lt),It("gggg",ar,Lt),It("GGGGG",Or,Wt),It("ggggg",Or,Wt),h(["gggg","ggggg","GGGG","GGGGG"],function(G,oe,ke,Be){oe[Be.substr(0,2)]=Yn(G)}),h(["gg","GG"],function(G,oe,ke,Be){oe[Be]=W.parseTwoDigitYear(G)}),$n("Q",0,"Qo","quarter"),mr("quarter","Q"),Hr("quarter",7),It("Q",So),Le("Q",function(G,oe){oe[1]=3*(Yn(G)-1)}),$n("D",["DD",2],"Do","date"),mr("date","D"),Hr("date",9),It("D",hn),It("DD",hn,ko),It("Do",function(G,oe){return G?oe._dayOfMonthOrdinalParse||oe._ordinalParse:oe._dayOfMonthOrdinalParseLenient}),Le(["D","DD"],2),Le("Do",function(G,oe){oe[2]=Yn(G.match(hn)[0])});var P=ji("Date",!0);$n("DDD",["DDDD",3],"DDDo","dayOfYear"),mr("dayOfYear","DDD"),Hr("dayOfYear",4),It("DDD",Ni),It("DDDD",Pt),Le(["DDD","DDDD"],function(G,oe,ke){ke._dayOfYear=Yn(G)}),$n("m",["mm",2],0,"minute"),mr("minute","m"),Hr("minute",14),It("m",hn),It("mm",hn,ko),Le(["m","mm"],4);var C=ji("Minutes",!1);$n("s",["ss",2],0,"second"),mr("second","s"),Hr("second",15),It("s",hn),It("ss",hn,ko),Le(["s","ss"],5);var H,X,R=ji("Seconds",!1);for($n("S",0,0,function(){return~~(this.millisecond()/100)}),$n(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$n(0,["SSS",3],0,"millisecond"),$n(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$n(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$n(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$n(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$n(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$n(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),mr("millisecond","ms"),Hr("millisecond",16),It("S",Ni,So),It("SS",Ni,ko),It("SSS",Ni,Pt),H="SSSS";H.length<=9;H+="S")It(H,wr);function ae(G,oe){oe[6]=Yn(1e3*("0."+G))}for(H="S";H.length<=9;H+="S")Le(H,ae);X=ji("Milliseconds",!1),$n("z",0,0,"zoneAbbr"),$n("zz",0,0,"zoneName");var _e=oi.prototype;function We(G){return G}_e.add=su,_e.calendar=function(G,oe){1===arguments.length&&(arguments[0]?Vc(arguments[0])?(G=arguments[0],oe=void 0):ou(arguments[0])&&(oe=arguments[0],G=void 0):(G=void 0,oe=void 0));var ke=G||Os(),Be=Hd(ke,this).startOf("day"),Ke=W.calendarFormat(this,Be)||"sameElse",Zt=oe&&(ln(oe[Ke])?oe[Ke].call(this,ke):oe[Ke]);return this.format(Zt||this.localeData().calendar(Ke,this,Os(ke)))},_e.clone=function(){return new oi(this)},_e.diff=function(G,oe,ke){var Be,Ke,Zt;if(!this.isValid())return NaN;if(!(Be=Hd(G,this)).isValid())return NaN;switch(Ke=6e4*(Be.utcOffset()-this.utcOffset()),oe=Xi(oe)){case"year":Zt=lu(this,Be)/12;break;case"month":Zt=lu(this,Be);break;case"quarter":Zt=lu(this,Be)/3;break;case"second":Zt=(this-Be)/1e3;break;case"minute":Zt=(this-Be)/6e4;break;case"hour":Zt=(this-Be)/36e5;break;case"day":Zt=(this-Be-Ke)/864e5;break;case"week":Zt=(this-Be-Ke)/6048e5;break;default:Zt=this-Be}return ke?Zt:Sr(Zt)},_e.endOf=function(G){var oe,ke;if(void 0===(G=Xi(G))||"millisecond"===G||!this.isValid())return this;switch(ke=this._isUTC?Er:js,G){case"year":oe=ke(this.year()+1,0,1)-1;break;case"quarter":oe=ke(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":oe=ke(this.year(),this.month()+1,1)-1;break;case"week":oe=ke(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":oe=ke(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":oe=ke(this.year(),this.month(),this.date()+1)-1;break;case"hour":oe=this._d.valueOf(),oe+=Sc-gr(oe+(this._isUTC?0:this.utcOffset()*lc),Sc)-1;break;case"minute":oe=this._d.valueOf(),oe+=lc-gr(oe,lc)-1;break;case"second":oe=this._d.valueOf(),oe+=1e3-gr(oe,1e3)-1}return this._d.setTime(oe),W.updateOffset(this,!0),this},_e.format=function(G){G||(G=this.isUtc()?W.defaultFormatUtc:W.defaultFormat);var oe=uo(this,G);return this.localeData().postformat(oe)},_e.from=function(G,oe){return this.isValid()&&(Li(G)&&G.isValid()||Os(G).isValid())?Cr({to:this,from:G}).locale(this.locale()).humanize(!oe):this.localeData().invalidDate()},_e.fromNow=function(G){return this.from(Os(),G)},_e.to=function(G,oe){return this.isValid()&&(Li(G)&&G.isValid()||Os(G).isValid())?Cr({from:this,to:G}).locale(this.locale()).humanize(!oe):this.localeData().invalidDate()},_e.toNow=function(G){return this.to(Os(),G)},_e.get=function(G){return ln(this[G=Xi(G)])?this[G]():this},_e.invalidAt=function(){return Ut(this).overflow},_e.isAfter=function(G,oe){var ke=Li(G)?G:Os(G);return!(!this.isValid()||!ke.isValid())&&("millisecond"===(oe=Xi(oe)||"millisecond")?this.valueOf()>ke.valueOf():ke.valueOf()<this.clone().startOf(oe).valueOf())},_e.isBefore=function(G,oe){var ke=Li(G)?G:Os(G);return!(!this.isValid()||!ke.isValid())&&("millisecond"===(oe=Xi(oe)||"millisecond")?this.valueOf()<ke.valueOf():this.clone().endOf(oe).valueOf()<ke.valueOf())},_e.isBetween=function(G,oe,ke,Be){var Ke=Li(G)?G:Os(G),Zt=Li(oe)?oe:Os(oe);return!!(this.isValid()&&Ke.isValid()&&Zt.isValid())&&("("===(Be=Be||"()")[0]?this.isAfter(Ke,ke):!this.isBefore(Ke,ke))&&(")"===Be[1]?this.isBefore(Zt,ke):!this.isAfter(Zt,ke))},_e.isSame=function(G,oe){var Be,ke=Li(G)?G:Os(G);return!(!this.isValid()||!ke.isValid())&&("millisecond"===(oe=Xi(oe)||"millisecond")?this.valueOf()===ke.valueOf():(Be=ke.valueOf(),this.clone().startOf(oe).valueOf()<=Be&&Be<=this.clone().endOf(oe).valueOf()))},_e.isSameOrAfter=function(G,oe){return this.isSame(G,oe)||this.isAfter(G,oe)},_e.isSameOrBefore=function(G,oe){return this.isSame(G,oe)||this.isBefore(G,oe)},_e.isValid=function(){return ei(this)},_e.lang=Dl,_e.locale=Ch,_e.localeData=Ul,_e.max=rp,_e.min=bh,_e.parsingFlags=function(){return ht({},Ut(this))},_e.set=function(G,oe){if("object"==typeof G){var Be,ke=function(G){var ke,oe=[];for(ke in G)be(G,ke)&&oe.push({unit:ke,priority:bc[ke]});return oe.sort(function(Be,Ke){return Be.priority-Ke.priority}),oe}(G=po(G));for(Be=0;Be<ke.length;Be++)this[ke[Be].unit](G[ke[Be].unit])}else if(ln(this[G=Xi(G)]))return this[G](oe);return this},_e.startOf=function(G){var oe,ke;if(void 0===(G=Xi(G))||"millisecond"===G||!this.isValid())return this;switch(ke=this._isUTC?Er:js,G){case"year":oe=ke(this.year(),0,1);break;case"quarter":oe=ke(this.year(),this.month()-this.month()%3,1);break;case"month":oe=ke(this.year(),this.month(),1);break;case"week":oe=ke(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":oe=ke(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":oe=ke(this.year(),this.month(),this.date());break;case"hour":oe=this._d.valueOf(),oe-=gr(oe+(this._isUTC?0:this.utcOffset()*lc),Sc);break;case"minute":oe=this._d.valueOf(),oe-=gr(oe,lc);break;case"second":oe=this._d.valueOf(),oe-=gr(oe,1e3)}return this._d.setTime(oe),W.updateOffset(this,!0),this},_e.subtract=jd,_e.toArray=function(){var G=this;return[G.year(),G.month(),G.date(),G.hour(),G.minute(),G.second(),G.millisecond()]},_e.toObject=function(){var G=this;return{years:G.year(),months:G.month(),date:G.date(),hours:G.hours(),minutes:G.minutes(),seconds:G.seconds(),milliseconds:G.milliseconds()}},_e.toDate=function(){return new Date(this.valueOf())},_e.toISOString=function(G){if(!this.isValid())return null;var oe=!0!==G,ke=oe?this.clone().utc():this;return ke.year()<0||ke.year()>9999?uo(ke,oe?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ln(Date.prototype.toISOString)?oe?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",uo(ke,"Z")):uo(ke,oe?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var ke,Be,G="moment",oe="";return this.isLocal()||(G=0===this.utcOffset()?"moment.utc":"moment.parseZone",oe="Z"),ke="["+G+'("]',Be=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(ke+Be+"-MM-DD[T]HH:mm:ss.SSS"+oe+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(_e[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),_e.toJSON=function(){return this.isValid()?this.toISOString():null},_e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_e.unix=function(){return Math.floor(this.valueOf()/1e3)},_e.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_e.eraName=function(){var G,oe,ke,Be=this.localeData().eras();for(G=0,oe=Be.length;G<oe;++G)if(ke=this.clone().startOf("day").valueOf(),Be[G].since<=ke&&ke<=Be[G].until||Be[G].until<=ke&&ke<=Be[G].since)return Be[G].name;return""},_e.eraNarrow=function(){var G,oe,ke,Be=this.localeData().eras();for(G=0,oe=Be.length;G<oe;++G)if(ke=this.clone().startOf("day").valueOf(),Be[G].since<=ke&&ke<=Be[G].until||Be[G].until<=ke&&ke<=Be[G].since)return Be[G].narrow;return""},_e.eraAbbr=function(){var G,oe,ke,Be=this.localeData().eras();for(G=0,oe=Be.length;G<oe;++G)if(ke=this.clone().startOf("day").valueOf(),Be[G].since<=ke&&ke<=Be[G].until||Be[G].until<=ke&&ke<=Be[G].since)return Be[G].abbr;return""},_e.eraYear=function(){var G,oe,ke,Be,Ke=this.localeData().eras();for(G=0,oe=Ke.length;G<oe;++G)if(ke=Ke[G].since<=Ke[G].until?1:-1,Be=this.clone().startOf("day").valueOf(),Ke[G].since<=Be&&Be<=Ke[G].until||Ke[G].until<=Be&&Be<=Ke[G].since)return(this.year()-W(Ke[G].since).year())*ke+Ke[G].offset;return this.year()},_e.year=lr,_e.isLeapYear=function(){return Ro(this.year())},_e.weekYear=function(G){return Ua.call(this,G,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_e.isoWeekYear=function(G){return Ua.call(this,G,this.isoWeek(),this.isoWeekday(),1,4)},_e.quarter=_e.quarters=function(G){return null==G?Math.ceil((this.month()+1)/3):this.month(3*(G-1)+this.month()%3)},_e.month=sn,_e.daysInMonth=function(){return Ee(this.year(),this.month())},_e.week=_e.weeks=function(G){var oe=this.localeData().week(this);return null==G?oe:this.add(7*(G-oe),"d")},_e.isoWeek=_e.isoWeeks=function(G){var oe=Zi(this,1,4).week;return null==G?oe:this.add(7*(G-oe),"d")},_e.weeksInYear=function(){var G=this.localeData()._week;return Jr(this.year(),G.dow,G.doy)},_e.weeksInWeekYear=function(){var G=this.localeData()._week;return Jr(this.weekYear(),G.dow,G.doy)},_e.isoWeeksInYear=function(){return Jr(this.year(),1,4)},_e.isoWeeksInISOWeekYear=function(){return Jr(this.isoWeekYear(),1,4)},_e.date=P,_e.day=_e.days=function(G){if(!this.isValid())return null!=G?this:NaN;var oe=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=G?(G=function(G,oe){return"string"!=typeof G?G:isNaN(G)?"number"==typeof(G=oe.weekdaysParse(G))?G:null:parseInt(G,10)}(G,this.localeData()),this.add(G-oe,"d")):oe},_e.weekday=function(G){if(!this.isValid())return null!=G?this:NaN;var oe=(this.day()+7-this.localeData()._week.dow)%7;return null==G?oe:this.add(G-oe,"d")},_e.isoWeekday=function(G){if(!this.isValid())return null!=G?this:NaN;if(null!=G){var oe=function(G,oe){return"string"==typeof G?oe.weekdaysParse(G)%7||7:isNaN(G)?null:G}(G,this.localeData());return this.day(this.day()%7?oe:oe-7)}return this.day()||7},_e.dayOfYear=function(G){var oe=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==G?oe:this.add(G-oe,"d")},_e.hour=_e.hours=tp,_e.minute=_e.minutes=C,_e.second=_e.seconds=R,_e.millisecond=_e.milliseconds=X,_e.utcOffset=function(G,oe,ke){var Ke,Be=this._offset||0;if(!this.isValid())return null!=G?this:NaN;if(null!=G){if("string"==typeof G){if(null===(G=ru(Ze,G)))return this}else Math.abs(G)<16&&!ke&&(G*=60);return!this._isUTC&&oe&&(Ke=oa(this)),this._offset=G,this._isUTC=!0,null!=Ke&&this.add(Ke,"m"),Be!==G&&(!oe||this._changeInProgress?zo(this,Cr(G-Be,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,W.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?Be:oa(this)},_e.utc=function(G){return this.utcOffset(0,G)},_e.local=function(G){return this._isUTC&&(this.utcOffset(0,G),this._isUTC=!1,G&&this.subtract(oa(this),"m")),this},_e.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var G=ru(Ne,this._i);null!=G?this.utcOffset(G):this.utcOffset(0,!0)}return this},_e.hasAlignedHourOffset=function(G){return!!this.isValid()&&(G=G?Os(G).utcOffset():0,(this.utcOffset()-G)%60==0)},_e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_e.isLocal=function(){return!!this.isValid()&&!this._isUTC},_e.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_e.isUtc=pn,_e.isUTC=pn,_e.zoneAbbr=function(){return this._isUTC?"UTC":""},_e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_e.dates=qi("dates accessor is deprecated. Use date instead.",P),_e.months=qi("months accessor is deprecated. Use month instead",sn),_e.years=qi("years accessor is deprecated. Use year instead",lr),_e.zone=qi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(G,oe){return null!=G?("string"!=typeof G&&(G=-G),this.utcOffset(G,oe),this):-this.utcOffset()}),_e.isDSTShifted=qi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!xe(this._isDSTShifted))return this._isDSTShifted;var oe,G={};return rs(G,this),(G=Hl(G))._a?(oe=G._isUTC?At(G._a):Os(G._a),this._isDSTShifted=this.isValid()&&function(G,oe,ke){var xn,Be=Math.min(G.length,oe.length),Ke=Math.abs(G.length-oe.length),Zt=0;for(xn=0;xn<Be;xn++)(ke&&G[xn]!==oe[xn]||!ke&&Yn(G[xn])!==Yn(oe[xn]))&&Zt++;return Zt+Ke}(G._a,oe.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Xe=Rn.prototype;function dt(G,oe,ke,Be){var Ke=cr(),Zt=At().set(Be,oe);return Ke[ke](Zt,G)}function yt(G,oe,ke){if(Fe(G)&&(oe=G,G=void 0),G=G||"",null!=oe)return dt(G,oe,ke,"month");var Be,Ke=[];for(Be=0;Be<12;Be++)Ke[Be]=dt(G,Be,ke,"month");return Ke}function Ot(G,oe,ke,Be){"boolean"==typeof G?(Fe(oe)&&(ke=oe,oe=void 0),oe=oe||""):(ke=oe=G,G=!1,Fe(oe)&&(ke=oe,oe=void 0),oe=oe||"");var xn,Ke=cr(),Zt=G?Ke._week.dow:0,Vi=[];if(null!=ke)return dt(oe,(ke+Zt)%7,Be,"day");for(xn=0;xn<7;xn++)Vi[xn]=dt(oe,(xn+Zt)%7,Be,"day");return Vi}Xe.calendar=function(G,oe,ke){var Be=this._calendar[G]||this._calendar.sameElse;return ln(Be)?Be.call(oe,ke):Be},Xe.longDateFormat=function(G){var oe=this._longDateFormat[G],ke=this._longDateFormat[G.toUpperCase()];return oe||!ke?oe:(this._longDateFormat[G]=ke.match(ui).map(function(Be){return"MMMM"===Be||"MM"===Be||"DD"===Be||"dddd"===Be?Be.slice(1):Be}).join(""),this._longDateFormat[G])},Xe.invalidDate=function(){return this._invalidDate},Xe.ordinal=function(G){return this._ordinal.replace("%d",G)},Xe.preparse=We,Xe.postformat=We,Xe.relativeTime=function(G,oe,ke,Be){var Ke=this._relativeTime[ke];return ln(Ke)?Ke(G,oe,ke,Be):Ke.replace(/%d/i,G)},Xe.pastFuture=function(G,oe){var ke=this._relativeTime[G>0?"future":"past"];return ln(ke)?ke(oe):ke.replace(/%s/i,oe)},Xe.set=function(G){var oe,ke;for(ke in G)be(G,ke)&&(ln(oe=G[ke])?this[ke]=oe:this["_"+ke]=oe);this._config=G,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Xe.eras=function(G,oe){var ke,Be,Ke,Zt=this._eras||cr("en")._eras;for(ke=0,Be=Zt.length;ke<Be;++ke){switch(typeof Zt[ke].since){case"string":Ke=W(Zt[ke].since).startOf("day"),Zt[ke].since=Ke.valueOf()}switch(typeof Zt[ke].until){case"undefined":Zt[ke].until=1/0;break;case"string":Ke=W(Zt[ke].until).startOf("day").valueOf(),Zt[ke].until=Ke.valueOf()}}return Zt},Xe.erasParse=function(G,oe,ke){var Be,Ke,xn,Vi,ts,Zt=this.eras();for(G=G.toUpperCase(),Be=0,Ke=Zt.length;Be<Ke;++Be)if(xn=Zt[Be].name.toUpperCase(),Vi=Zt[Be].abbr.toUpperCase(),ts=Zt[Be].narrow.toUpperCase(),ke)switch(oe){case"N":case"NN":case"NNN":if(Vi===G)return Zt[Be];break;case"NNNN":if(xn===G)return Zt[Be];break;case"NNNNN":if(ts===G)return Zt[Be]}else if([xn,Vi,ts].indexOf(G)>=0)return Zt[Be]},Xe.erasConvertYear=function(G,oe){var ke=G.since<=G.until?1:-1;return void 0===oe?W(G.since).year():W(G.since).year()+(oe-G.offset)*ke},Xe.erasAbbrRegex=function(G){return be(this,"_erasAbbrRegex")||vo.call(this),G?this._erasAbbrRegex:this._erasRegex},Xe.erasNameRegex=function(G){return be(this,"_erasNameRegex")||vo.call(this),G?this._erasNameRegex:this._erasRegex},Xe.erasNarrowRegex=function(G){return be(this,"_erasNarrowRegex")||vo.call(this),G?this._erasNarrowRegex:this._erasRegex},Xe.months=function(G,oe){return G?b(this._months)?this._months[G.month()]:this._months[(this._months.isFormat||je).test(oe)?"format":"standalone"][G.month()]:b(this._months)?this._months:this._months.standalone},Xe.monthsShort=function(G,oe){return G?b(this._monthsShort)?this._monthsShort[G.month()]:this._monthsShort[je.test(oe)?"format":"standalone"][G.month()]:b(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Xe.monthsParse=function(G,oe,ke){var Be,Ke,Zt;if(this._monthsParseExact)return Oe.call(this,G,oe,ke);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Be=0;Be<12;Be++){if(Ke=At([2e3,Be]),ke&&!this._longMonthsParse[Be]&&(this._longMonthsParse[Be]=new RegExp("^"+this.months(Ke,"").replace(".","")+"$","i"),this._shortMonthsParse[Be]=new RegExp("^"+this.monthsShort(Ke,"").replace(".","")+"$","i")),!ke&&!this._monthsParse[Be]&&(Zt="^"+this.months(Ke,"")+"|^"+this.monthsShort(Ke,""),this._monthsParse[Be]=new RegExp(Zt.replace(".",""),"i")),ke&&"MMMM"===oe&&this._longMonthsParse[Be].test(G))return Be;if(ke&&"MMM"===oe&&this._shortMonthsParse[Be].test(G))return Be;if(!ke&&this._monthsParse[Be].test(G))return Be}},Xe.monthsRegex=function(G){return this._monthsParseExact?(be(this,"_monthsRegex")||Pn.call(this),G?this._monthsStrictRegex:this._monthsRegex):(be(this,"_monthsRegex")||(this._monthsRegex=_t),this._monthsStrictRegex&&G?this._monthsStrictRegex:this._monthsRegex)},Xe.monthsShortRegex=function(G){return this._monthsParseExact?(be(this,"_monthsRegex")||Pn.call(this),G?this._monthsShortStrictRegex:this._monthsShortRegex):(be(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&G?this._monthsShortStrictRegex:this._monthsShortRegex)},Xe.week=function(G){return Zi(G,this._week.dow,this._week.doy).week},Xe.firstDayOfYear=function(){return this._week.doy},Xe.firstDayOfWeek=function(){return this._week.dow},Xe.weekdays=function(G,oe){var ke=b(this._weekdays)?this._weekdays:this._weekdays[G&&!0!==G&&this._weekdays.isFormat.test(oe)?"format":"standalone"];return!0===G?Rd(ke,this._week.dow):G?ke[G.day()]:ke},Xe.weekdaysMin=function(G){return!0===G?Rd(this._weekdaysMin,this._week.dow):G?this._weekdaysMin[G.day()]:this._weekdaysMin},Xe.weekdaysShort=function(G){return!0===G?Rd(this._weekdaysShort,this._week.dow):G?this._weekdaysShort[G.day()]:this._weekdaysShort},Xe.weekdaysParse=function(G,oe,ke){var Be,Ke,Zt;if(this._weekdaysParseExact)return zl.call(this,G,oe,ke);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Be=0;Be<7;Be++){if(Ke=At([2e3,1]).day(Be),ke&&!this._fullWeekdaysParse[Be]&&(this._fullWeekdaysParse[Be]=new RegExp("^"+this.weekdays(Ke,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Be]=new RegExp("^"+this.weekdaysShort(Ke,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Be]=new RegExp("^"+this.weekdaysMin(Ke,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Be]||(Zt="^"+this.weekdays(Ke,"")+"|^"+this.weekdaysShort(Ke,"")+"|^"+this.weekdaysMin(Ke,""),this._weekdaysParse[Be]=new RegExp(Zt.replace(".",""),"i")),ke&&"dddd"===oe&&this._fullWeekdaysParse[Be].test(G))return Be;if(ke&&"ddd"===oe&&this._shortWeekdaysParse[Be].test(G))return Be;if(ke&&"dd"===oe&&this._minWeekdaysParse[Be].test(G))return Be;if(!ke&&this._weekdaysParse[Be].test(G))return Be}},Xe.weekdaysRegex=function(G){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||Wi.call(this),G?this._weekdaysStrictRegex:this._weekdaysRegex):(be(this,"_weekdaysRegex")||(this._weekdaysRegex=Ap),this._weekdaysStrictRegex&&G?this._weekdaysStrictRegex:this._weekdaysRegex)},Xe.weekdaysShortRegex=function(G){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||Wi.call(this),G?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(be(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yc),this._weekdaysShortStrictRegex&&G?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Xe.weekdaysMinRegex=function(G){return this._weekdaysParseExact?(be(this,"_weekdaysRegex")||Wi.call(this),G?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(be(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vs),this._weekdaysMinStrictRegex&&G?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Xe.isPM=function(G){return"p"===(G+"").toLowerCase().charAt(0)},Xe.meridiem=function(G,oe,ke){return G>11?ke?"pm":"PM":ke?"am":"AM"},Tl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(G){var oe=G%10;return G+(1===Yn(G%100/10)?"th":1===oe?"st":2===oe?"nd":3===oe?"rd":"th")}}),W.lang=qi("moment.lang is deprecated. Use moment.locale instead.",Tl),W.langData=qi("moment.langData is deprecated. Use moment.localeData instead.",cr);var kt=Math.abs;function Tn(G,oe,ke,Be){var Ke=Cr(oe,ke);return G._milliseconds+=Be*Ke._milliseconds,G._days+=Be*Ke._days,G._months+=Be*Ke._months,G._bubble()}function ti(G){return G<0?Math.floor(G):Math.ceil(G)}function ci(G){return 4800*G/146097}function Qn(G){return 146097*G/4800}function Si(G){return function(){return this.as(G)}}var jr=Si("ms"),os=Si("s"),ps=Si("m"),_r=Si("h"),xs=Si("d"),Xs=Si("w"),Al=Si("M"),Aa=Si("Q"),ds=Si("y");function Ri(G){return function(){return this.isValid()?this._data[G]:NaN}}var Ns=Ri("milliseconds"),Gr=Ri("seconds"),Ts=Ri("minutes"),io=Ri("hours"),Nr=Ri("days"),Qa=Ri("months"),Ja=Ri("years");var Do=Math.round,Ia={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yu(G,oe,ke,Be,Ke){return Ke.relativeTime(oe||1,!!ke,G,Be)}var Gl=Math.abs;function Ka(G){return(G>0)-(G<0)||+G}function kc(){if(!this.isValid())return this.localeData().invalidDate();var Be,Ke,Zt,xn,ts,ro,zs,Ho,G=Gl(this._milliseconds)/1e3,oe=Gl(this._days),ke=Gl(this._months),Vi=this.asSeconds();return Vi?(Be=Sr(G/60),Ke=Sr(Be/60),G%=60,Be%=60,Zt=Sr(ke/12),ke%=12,xn=G?G.toFixed(3).replace(/\.?0+$/,""):"",ts=Vi<0?"-":"",ro=Ka(this._months)!==Ka(Vi)?"-":"",zs=Ka(this._days)!==Ka(Vi)?"-":"",Ho=Ka(this._milliseconds)!==Ka(Vi)?"-":"",ts+"P"+(Zt?ro+Zt+"Y":"")+(ke?ro+ke+"M":"")+(oe?zs+oe+"D":"")+(Ke||Be||G?"T":"")+(Ke?Ho+Ke+"H":"")+(Be?Ho+Be+"M":"")+(G?Ho+xn+"S":"")):"P0D"}var ws=xh.prototype;return ws.isValid=function(){return this._isValid},ws.abs=function(){var G=this._data;return this._milliseconds=kt(this._milliseconds),this._days=kt(this._days),this._months=kt(this._months),G.milliseconds=kt(G.milliseconds),G.seconds=kt(G.seconds),G.minutes=kt(G.minutes),G.hours=kt(G.hours),G.months=kt(G.months),G.years=kt(G.years),this},ws.add=function(G,oe){return Tn(this,G,oe,1)},ws.subtract=function(G,oe){return Tn(this,G,oe,-1)},ws.as=function(G){if(!this.isValid())return NaN;var oe,ke,Be=this._milliseconds;if("month"===(G=Xi(G))||"quarter"===G||"year"===G)switch(oe=this._days+Be/864e5,ke=this._months+ci(oe),G){case"month":return ke;case"quarter":return ke/3;case"year":return ke/12}else switch(oe=this._days+Math.round(Qn(this._months)),G){case"week":return oe/7+Be/6048e5;case"day":return oe+Be/864e5;case"hour":return 24*oe+Be/36e5;case"minute":return 1440*oe+Be/6e4;case"second":return 86400*oe+Be/1e3;case"millisecond":return Math.floor(864e5*oe)+Be;default:throw new Error("Unknown unit "+G)}},ws.asMilliseconds=jr,ws.asSeconds=os,ws.asMinutes=ps,ws.asHours=_r,ws.asDays=xs,ws.asWeeks=Xs,ws.asMonths=Al,ws.asQuarters=Aa,ws.asYears=ds,ws.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Yn(this._months/12):NaN},ws._bubble=function(){var Ke,Zt,xn,Vi,ts,G=this._milliseconds,oe=this._days,ke=this._months,Be=this._data;return G>=0&&oe>=0&&ke>=0||G<=0&&oe<=0&&ke<=0||(G+=864e5*ti(Qn(ke)+oe),oe=0,ke=0),Be.milliseconds=G%1e3,Ke=Sr(G/1e3),Be.seconds=Ke%60,Zt=Sr(Ke/60),Be.minutes=Zt%60,xn=Sr(Zt/60),Be.hours=xn%24,oe+=Sr(xn/24),ke+=ts=Sr(ci(oe)),oe-=ti(Qn(ts)),Vi=Sr(ke/12),ke%=12,Be.days=oe,Be.months=ke,Be.years=Vi,this},ws.clone=function(){return Cr(this)},ws.get=function(G){return G=Xi(G),this.isValid()?this[G+"s"]():NaN},ws.milliseconds=Ns,ws.seconds=Gr,ws.minutes=Ts,ws.hours=io,ws.days=Nr,ws.weeks=function(){return Sr(this.days()/7)},ws.months=Qa,ws.years=Ja,ws.humanize=function(G,oe){if(!this.isValid())return this.localeData().invalidDate();var Ke,Zt,ke=!1,Be=Ia;return"object"==typeof G&&(oe=G,G=!1),"boolean"==typeof G&&(ke=G),"object"==typeof oe&&(Be=Object.assign({},Ia,oe),null!=oe.s&&null==oe.ss&&(Be.ss=oe.s-1)),Zt=function(G,oe,ke,Be){var Ke=Cr(G).abs(),Zt=Do(Ke.as("s")),xn=Do(Ke.as("m")),Vi=Do(Ke.as("h")),ts=Do(Ke.as("d")),ro=Do(Ke.as("M")),zs=Do(Ke.as("w")),Ho=Do(Ke.as("y")),Ys=Zt<=ke.ss&&["s",Zt]||Zt<ke.s&&["ss",Zt]||xn<=1&&["m"]||xn<ke.m&&["mm",xn]||Vi<=1&&["h"]||Vi<ke.h&&["hh",Vi]||ts<=1&&["d"]||ts<ke.d&&["dd",ts];return null!=ke.w&&(Ys=Ys||zs<=1&&["w"]||zs<ke.w&&["ww",zs]),(Ys=Ys||ro<=1&&["M"]||ro<ke.M&&["MM",ro]||Ho<=1&&["y"]||["yy",Ho])[2]=oe,Ys[3]=+G>0,Ys[4]=Be,Yu.apply(null,Ys)}(this,!ke,Be,Ke=this.localeData()),ke&&(Zt=Ke.pastFuture(+this,Zt)),Ke.postformat(Zt)},ws.toISOString=kc,ws.toString=kc,ws.toJSON=kc,ws.locale=Ch,ws.localeData=Ul,ws.toIsoString=qi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",kc),ws.lang=Dl,$n("X",0,0,"unix"),$n("x",0,0,"valueOf"),It("x",st),It("X",/[+-]?\d+(\.\d{1,3})?/),Le("X",function(G,oe,ke){ke._d=new Date(1e3*parseFloat(G))}),Le("x",function(G,oe,ke){ke._d=new Date(Yn(G))}),W.version="2.29.1",o=Os,W.fn=_e,W.min=function(){return $a("isBefore",[].slice.call(arguments,0))},W.max=function(){return $a("isAfter",[].slice.call(arguments,0))},W.now=function(){return Date.now?Date.now():+new Date},W.utc=At,W.unix=function(G){return Os(1e3*G)},W.months=function(G,oe){return yt(G,oe,"months")},W.isDate=He,W.locale=Tl,W.invalid=In,W.duration=Cr,W.isMoment=Li,W.weekdays=function(G,oe,ke){return Ot(G,oe,ke,"weekdays")},W.parseZone=function(){return Os.apply(null,arguments).parseZone()},W.localeData=cr,W.isDuration=Pu,W.monthsShort=function(G,oe){return yt(G,oe,"monthsShort")},W.weekdaysMin=function(G,oe,ke){return Ot(G,oe,ke,"weekdaysMin")},W.defineLocale=er,W.updateLocale=function(G,oe){if(null!=oe){var ke,Be,Ke=Na;null!=di[G]&&null!=di[G].parentLocale?di[G].set(un(di[G]._config,oe)):(null!=(Be=Rs(G))&&(Ke=Be._config),oe=un(Ke,oe),null==Be&&(oe.abbr=G),(ke=new Rn(oe)).parentLocale=di[G],di[G]=ke),Tl(G)}else null!=di[G]&&(null!=di[G].parentLocale?(di[G]=di[G].parentLocale,G===Tl()&&Tl(G)):null!=di[G]&&delete di[G]);return di[G]},W.locales=function(){return fn(di)},W.weekdaysShort=function(G,oe,ke){return Ot(G,oe,ke,"weekdaysShort")},W.normalizeUnits=Xi,W.relativeTimeRounding=function(G){return void 0===G?Do:"function"==typeof G&&(Do=G,!0)},W.relativeTimeThreshold=function(G,oe){return void 0!==Ia[G]&&(void 0===oe?Ia[G]:(Ia[G]=oe,"s"===G&&(Ia.ss=oe-1),!0))},W.calendarFormat=function(G,oe){var ke=G.diff(oe,"days",!0);return ke<-6?"sameElse":ke<-1?"lastWeek":ke<0?"lastDay":ke<1?"sameDay":ke<2?"nextDay":ke<7?"nextWeek":"sameElse"},W.prototype=_e,W.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},W}()},3098:(Ht,St,De)=>{"use strict";De.d(St,{P:()=>ce});var o=De(9193),W=De(5917),J=De(205);class ce{constructor(Te,xe,Fe){this.kind=Te,this.value=xe,this.error=Fe,this.hasValue="N"===Te}observe(Te){switch(this.kind){case"N":return Te.next&&Te.next(this.value);case"E":return Te.error&&Te.error(this.error);case"C":return Te.complete&&Te.complete()}}do(Te,xe,Fe){switch(this.kind){case"N":return Te&&Te(this.value);case"E":return xe&&xe(this.error);case"C":return Fe&&Fe()}}accept(Te,xe,Fe){return Te&&"function"==typeof Te.next?this.observe(Te):this.do(Te,xe,Fe)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return(0,J._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(Te){return void 0!==Te?new ce("N",Te):ce.undefinedValueNotification}static createError(Te){return new ce("E",void 0,Te)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},7574:(Ht,St,De)=>{"use strict";De.d(St,{y:()=>xt});var o=De(7393),J=De(9181),b=De(799),be=De(6554),Te=De(4487);var He=De(2494);let xt=(()=>{class At{constructor(Ut){this._isScalar=!1,Ut&&(this._subscribe=Ut)}lift(Ut){const at=new At;return at.source=this,at.operator=Ut,at}subscribe(Ut,at,ei){const{operator:In}=this,jt=function(At,en,Ut){if(At){if(At instanceof o.L)return At;if(At[J.b])return At[J.b]()}return At||en||Ut?new o.L(At,en,Ut):new o.L(b.c)}(Ut,at,ei);if(jt.add(In?In.call(jt,this.source):this.source||He.v.useDeprecatedSynchronousErrorHandling&&!jt.syncErrorThrowable?this._subscribe(jt):this._trySubscribe(jt)),He.v.useDeprecatedSynchronousErrorHandling&&jt.syncErrorThrowable&&(jt.syncErrorThrowable=!1,jt.syncErrorThrown))throw jt.syncErrorValue;return jt}_trySubscribe(Ut){try{return this._subscribe(Ut)}catch(at){He.v.useDeprecatedSynchronousErrorHandling&&(Ut.syncErrorThrown=!0,Ut.syncErrorValue=at),function(At){for(;At;){const{closed:en,destination:Ut,isStopped:at}=At;if(en||at)return!1;At=Ut&&Ut instanceof o.L?Ut:null}return!0}(Ut)?Ut.error(at):console.warn(at)}}forEach(Ut,at){return new(at=ht(at))((ei,In)=>{let jt;jt=this.subscribe(tr=>{try{Ut(tr)}catch(rs){In(rs),jt&&jt.unsubscribe()}},In,ei)})}_subscribe(Ut){const{source:at}=this;return at&&at.subscribe(Ut)}[be.L](){return this}pipe(...Ut){return 0===Ut.length?this:function(At){return 0===At.length?Te.y:1===At.length?At[0]:function(Ut){return At.reduce((at,ei)=>ei(at),Ut)}}(Ut)(this)}toPromise(Ut){return new(Ut=ht(Ut))((at,ei)=>{let In;this.subscribe(jt=>In=jt,jt=>ei(jt),()=>at(In))})}}return At.create=en=>new At(en),At})();function ht(At){if(At||(At=He.v.Promise||Promise),!At)throw new Error("no Promise impl found");return At}},799:(Ht,St,De)=>{"use strict";De.d(St,{c:()=>J});var o=De(2494),W=De(4449);const J={closed:!0,next(b){},error(b){if(o.v.useDeprecatedSynchronousErrorHandling)throw b;(0,W.z)(b)},complete(){}}},9765:(Ht,St,De)=>{"use strict";De.d(St,{Yc:()=>Te,xQ:()=>xe});var o=De(7574),W=De(7393),J=De(5319),b=De(7971),ce=De(8858),be=De(9181);class Te extends W.L{constructor(xt){super(xt),this.destination=xt}}let xe=(()=>{class He extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[be.b](){return new Te(this)}lift(ht){const At=new Fe(this,this);return At.operator=ht,At}next(ht){if(this.closed)throw new b.N;if(!this.isStopped){const{observers:At}=this,en=At.length,Ut=At.slice();for(let at=0;at<en;at++)Ut[at].next(ht)}}error(ht){if(this.closed)throw new b.N;this.hasError=!0,this.thrownError=ht,this.isStopped=!0;const{observers:At}=this,en=At.length,Ut=At.slice();for(let at=0;at<en;at++)Ut[at].error(ht);this.observers.length=0}complete(){if(this.closed)throw new b.N;this.isStopped=!0;const{observers:ht}=this,At=ht.length,en=ht.slice();for(let Ut=0;Ut<At;Ut++)en[Ut].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ht){if(this.closed)throw new b.N;return super._trySubscribe(ht)}_subscribe(ht){if(this.closed)throw new b.N;return this.hasError?(ht.error(this.thrownError),J.w.EMPTY):this.isStopped?(ht.complete(),J.w.EMPTY):(this.observers.push(ht),new ce.W(this,ht))}asObservable(){const ht=new o.y;return ht.source=this,ht}}return He.create=(xt,ht)=>new Fe(xt,ht),He})();class Fe extends xe{constructor(xt,ht){super(),this.destination=xt,this.source=ht}next(xt){const{destination:ht}=this;ht&&ht.next&&ht.next(xt)}error(xt){const{destination:ht}=this;ht&&ht.error&&this.destination.error(xt)}complete(){const{destination:xt}=this;xt&&xt.complete&&this.destination.complete()}_subscribe(xt){const{source:ht}=this;return ht?this.source.subscribe(xt):J.w.EMPTY}}},8858:(Ht,St,De)=>{"use strict";De.d(St,{W:()=>W});var o=De(5319);class W extends o.w{constructor(b,ce){super(),this.subject=b,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const b=this.subject,ce=b.observers;if(this.subject=null,!ce||0===ce.length||b.isStopped||b.closed)return;const be=ce.indexOf(this.subscriber);-1!==be&&ce.splice(be,1)}}},7393:(Ht,St,De)=>{"use strict";De.d(St,{L:()=>Te});var o=De(9105),W=De(799),J=De(5319),b=De(9181),ce=De(2494),be=De(4449);class Te extends J.w{constructor(He,xt,ht){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=W.c;break;case 1:if(!He){this.destination=W.c;break}if("object"==typeof He){He instanceof Te?(this.syncErrorThrowable=He.syncErrorThrowable,this.destination=He,He.add(this)):(this.syncErrorThrowable=!0,this.destination=new xe(this,He));break}default:this.syncErrorThrowable=!0,this.destination=new xe(this,He,xt,ht)}}[b.b](){return this}static create(He,xt,ht){const At=new Te(He,xt,ht);return At.syncErrorThrowable=!1,At}next(He){this.isStopped||this._next(He)}error(He){this.isStopped||(this.isStopped=!0,this._error(He))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(He){this.destination.next(He)}_error(He){this.destination.error(He),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:He}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=He,this}}class xe extends Te{constructor(He,xt,ht,At){super(),this._parentSubscriber=He;let en,Ut=this;(0,o.m)(xt)?en=xt:xt&&(en=xt.next,ht=xt.error,At=xt.complete,xt!==W.c&&(Ut=Object.create(xt),(0,o.m)(Ut.unsubscribe)&&this.add(Ut.unsubscribe.bind(Ut)),Ut.unsubscribe=this.unsubscribe.bind(this))),this._context=Ut,this._next=en,this._error=ht,this._complete=At}next(He){if(!this.isStopped&&this._next){const{_parentSubscriber:xt}=this;ce.v.useDeprecatedSynchronousErrorHandling&&xt.syncErrorThrowable?this.__tryOrSetError(xt,this._next,He)&&this.unsubscribe():this.__tryOrUnsub(this._next,He)}}error(He){if(!this.isStopped){const{_parentSubscriber:xt}=this,{useDeprecatedSynchronousErrorHandling:ht}=ce.v;if(this._error)ht&&xt.syncErrorThrowable?(this.__tryOrSetError(xt,this._error,He),this.unsubscribe()):(this.__tryOrUnsub(this._error,He),this.unsubscribe());else if(xt.syncErrorThrowable)ht?(xt.syncErrorValue=He,xt.syncErrorThrown=!0):(0,be.z)(He),this.unsubscribe();else{if(this.unsubscribe(),ht)throw He;(0,be.z)(He)}}}complete(){if(!this.isStopped){const{_parentSubscriber:He}=this;if(this._complete){const xt=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&He.syncErrorThrowable?(this.__tryOrSetError(He,xt),this.unsubscribe()):(this.__tryOrUnsub(xt),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(He,xt){try{He.call(this._context,xt)}catch(ht){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw ht;(0,be.z)(ht)}}__tryOrSetError(He,xt,ht){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{xt.call(this._context,ht)}catch(At){return ce.v.useDeprecatedSynchronousErrorHandling?(He.syncErrorValue=At,He.syncErrorThrown=!0,!0):((0,be.z)(At),!0)}return!1}_unsubscribe(){const{_parentSubscriber:He}=this;this._context=null,this._parentSubscriber=null,He.unsubscribe()}}},5319:(Ht,St,De)=>{"use strict";De.d(St,{w:()=>be});var o=De(9796),W=De(1555),J=De(9105);const ce=(()=>{function xe(Fe){return Error.call(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((He,xt)=>`${xt+1}) ${He.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe,this}return xe.prototype=Object.create(Error.prototype),xe})();class be{constructor(Fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=Fe)}unsubscribe(){let Fe;if(this.closed)return;let{_parentOrParents:He,_ctorUnsubscribe:xt,_unsubscribe:ht,_subscriptions:At}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,He instanceof be)He.remove(this);else if(null!==He)for(let en=0;en<He.length;++en)He[en].remove(this);if((0,J.m)(ht)){xt&&(this._unsubscribe=void 0);try{ht.call(this)}catch(en){Fe=en instanceof ce?Te(en.errors):[en]}}if((0,o.k)(At)){let en=-1,Ut=At.length;for(;++en<Ut;){const at=At[en];if((0,W.K)(at))try{at.unsubscribe()}catch(ei){Fe=Fe||[],ei instanceof ce?Fe=Fe.concat(Te(ei.errors)):Fe.push(ei)}}}if(Fe)throw new ce(Fe)}add(Fe){let He=Fe;if(!Fe)return be.EMPTY;switch(typeof Fe){case"function":He=new be(Fe);case"object":if(He===this||He.closed||"function"!=typeof He.unsubscribe)return He;if(this.closed)return He.unsubscribe(),He;if(!(He instanceof be)){const At=He;He=new be,He._subscriptions=[At]}break;default:throw new Error("unrecognized teardown "+Fe+" added to Subscription.")}let{_parentOrParents:xt}=He;if(null===xt)He._parentOrParents=this;else if(xt instanceof be){if(xt===this)return He;He._parentOrParents=[xt,this]}else{if(-1!==xt.indexOf(this))return He;xt.push(this)}const ht=this._subscriptions;return null===ht?this._subscriptions=[He]:ht.push(He),He}remove(Fe){const He=this._subscriptions;if(He){const xt=He.indexOf(Fe);-1!==xt&&He.splice(xt,1)}}}var xe;function Te(xe){return xe.reduce((Fe,He)=>Fe.concat(He instanceof ce?He.errors:He),[])}be.EMPTY=((xe=new be).closed=!0,xe)},2494:(Ht,St,De)=>{"use strict";De.d(St,{v:()=>W});let o=!1;const W={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const b=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+b.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=J},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Ht,St,De)=>{"use strict";De.d(St,{IY:()=>b,Ds:()=>be,ft:()=>xe});var o=De(7393),W=De(7574),J=De(7444);class b extends o.L{constructor(He){super(),this.parent=He}_next(He){this.parent.notifyNext(He)}_error(He){this.parent.notifyError(He),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class be extends o.L{notifyNext(He){this.destination.next(He)}notifyError(He){this.destination.error(He)}notifyComplete(){this.destination.complete()}}function xe(Fe,He){if(He.closed)return;if(Fe instanceof W.y)return Fe.subscribe(He);let xt;try{xt=(0,J.s)(Fe)(He)}catch(ht){He.error(ht)}return xt}},2441:(Ht,St,De)=>{"use strict";De.d(St,{c:()=>ce,N:()=>be});var o=De(9765),W=De(7574),J=De(5319),b=De(1307);class ce extends W.y{constructor(xt,ht){super(),this.source=xt,this.subjectFactory=ht,this._refCount=0,this._isComplete=!1}_subscribe(xt){return this.getSubject().subscribe(xt)}getSubject(){const xt=this._subject;return(!xt||xt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let xt=this._connection;return xt||(this._isComplete=!1,xt=this._connection=new J.w,xt.add(this.source.subscribe(new Te(this.getSubject(),this))),xt.closed&&(this._connection=null,xt=J.w.EMPTY)),xt}refCount(){return(0,b.x)()(this)}}const be=(()=>{const He=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:He._subscribe},_isComplete:{value:He._isComplete,writable:!0},getSubject:{value:He.getSubject},connect:{value:He.connect},refCount:{value:He.refCount}}})();class Te extends o.Yc{constructor(xt,ht){super(xt),this.connectable=ht}_error(xt){this._unsubscribe(),super._error(xt)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const xt=this.connectable;if(xt){this.connectable=null;const ht=xt._connection;xt._refCount=0,xt._subject=null,xt._connection=null,ht&&ht.unsubscribe()}}}},9193:(Ht,St,De)=>{"use strict";De.d(St,{E:()=>W,c:()=>J});var o=De(7574);const W=new o.y(ce=>ce.complete());function J(ce){return ce?function(ce){return new o.y(be=>ce.schedule(()=>be.complete()))}(ce):W}},4402:(Ht,St,De)=>{"use strict";De.d(St,{D:()=>Ut});var o=De(7574),W=De(7444),J=De(5319),b=De(6554),Te=De(4087),xe=De(377),xt=De(4072),ht=De(9489);function Ut(at,ei){return ei?function(at,ei){if(null!=at){if(function(at){return at&&"function"==typeof at[b.L]}(at))return function(at,ei){return new o.y(In=>{const jt=new J.w;return jt.add(ei.schedule(()=>{const tr=at[b.L]();jt.add(tr.subscribe({next(rs){jt.add(ei.schedule(()=>In.next(rs)))},error(rs){jt.add(ei.schedule(()=>In.error(rs)))},complete(){jt.add(ei.schedule(()=>In.complete()))}}))})),jt})}(at,ei);if((0,xt.t)(at))return function(at,ei){return new o.y(In=>{const jt=new J.w;return jt.add(ei.schedule(()=>at.then(tr=>{jt.add(ei.schedule(()=>{In.next(tr),jt.add(ei.schedule(()=>In.complete()))}))},tr=>{jt.add(ei.schedule(()=>In.error(tr)))}))),jt})}(at,ei);if((0,ht.z)(at))return(0,Te.r)(at,ei);if(function(at){return at&&"function"==typeof at[xe.hZ]}(at)||"string"==typeof at)return function(at,ei){if(!at)throw new Error("Iterable cannot be null");return new o.y(In=>{const jt=new J.w;let tr;return jt.add(()=>{tr&&"function"==typeof tr.return&&tr.return()}),jt.add(ei.schedule(()=>{tr=at[xe.hZ](),jt.add(ei.schedule(function(){if(In.closed)return;let rs,oi;try{const Li=tr.next();rs=Li.value,oi=Li.done}catch(Li){return void In.error(Li)}oi?In.complete():(In.next(rs),this.schedule())}))})),jt})}(at,ei)}throw new TypeError((null!==at&&typeof at||at)+" is not observable")}(at,ei):at instanceof o.y?at:new o.y((0,W.s)(at))}},6693:(Ht,St,De)=>{"use strict";De.d(St,{n:()=>b});var o=De(7574),W=De(5015),J=De(4087);function b(ce,be){return be?(0,J.r)(ce,be):new o.y((0,W.V)(ce))}},6682:(Ht,St,De)=>{"use strict";De.d(St,{T:()=>ce});var o=De(7574),W=De(4869),J=De(3282),b=De(6693);function ce(...be){let Te=Number.POSITIVE_INFINITY,xe=null,Fe=be[be.length-1];return(0,W.K)(Fe)?(xe=be.pop(),be.length>1&&"number"==typeof be[be.length-1]&&(Te=be.pop())):"number"==typeof Fe&&(Te=be.pop()),null===xe&&1===be.length&&be[0]instanceof o.y?be[0]:(0,J.J)(Te)((0,b.n)(be,xe))}},5917:(Ht,St,De)=>{"use strict";De.d(St,{of:()=>b});var o=De(4869),W=De(6693),J=De(4087);function b(...ce){let be=ce[ce.length-1];return(0,o.K)(be)?(ce.pop(),(0,J.r)(ce,be)):(0,W.n)(ce)}},205:(Ht,St,De)=>{"use strict";De.d(St,{_:()=>W});var o=De(7574);function W(b,ce){return new o.y(ce?be=>ce.schedule(J,0,{error:b,subscriber:be}):be=>be.error(b))}function J({error:b,subscriber:ce}){ce.error(b)}},8002:(Ht,St,De)=>{"use strict";De.d(St,{U:()=>W});var o=De(7393);function W(ce,be){return function(xe){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return xe.lift(new J(ce,be))}}class J{constructor(be,Te){this.project=be,this.thisArg=Te}call(be,Te){return Te.subscribe(new b(be,this.project,this.thisArg))}}class b extends o.L{constructor(be,Te,xe){super(be),this.project=Te,this.count=0,this.thisArg=xe||this}_next(be){let Te;try{Te=this.project.call(this.thisArg,be,this.count++)}catch(xe){return void this.destination.error(xe)}this.destination.next(Te)}}},3282:(Ht,St,De)=>{"use strict";De.d(St,{J:()=>J});var o=De(9773),W=De(4487);function J(b=Number.POSITIVE_INFINITY){return(0,o.zg)(W.y,b)}},9773:(Ht,St,De)=>{"use strict";De.d(St,{zg:()=>b});var o=De(8002),W=De(4402),J=De(5345);function b(xe,Fe,He=Number.POSITIVE_INFINITY){return"function"==typeof Fe?xt=>xt.pipe(b((ht,At)=>(0,W.D)(xe(ht,At)).pipe((0,o.U)((en,Ut)=>Fe(ht,en,At,Ut))),He)):("number"==typeof Fe&&(He=Fe),xt=>xt.lift(new ce(xe,He)))}class ce{constructor(Fe,He=Number.POSITIVE_INFINITY){this.project=Fe,this.concurrent=He}call(Fe,He){return He.subscribe(new be(Fe,this.project,this.concurrent))}}class be extends J.Ds{constructor(Fe,He,xt=Number.POSITIVE_INFINITY){super(Fe),this.project=He,this.concurrent=xt,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Fe){this.active<this.concurrent?this._tryNext(Fe):this.buffer.push(Fe)}_tryNext(Fe){let He;const xt=this.index++;try{He=this.project(Fe,xt)}catch(ht){return void this.destination.error(ht)}this.active++,this._innerSub(He)}_innerSub(Fe){const He=new J.IY(this),xt=this.destination;xt.add(He);const ht=(0,J.ft)(Fe,He);ht!==He&&xt.add(ht)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Fe){this.destination.next(Fe)}notifyComplete(){const Fe=this.buffer;this.active--,Fe.length>0?this._next(Fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ht,St,De)=>{"use strict";De.d(St,{QV:()=>J,ht:()=>ce});var o=De(7393),W=De(3098);function J(Te,xe=0){return function(He){return He.lift(new b(Te,xe))}}class b{constructor(xe,Fe=0){this.scheduler=xe,this.delay=Fe}call(xe,Fe){return Fe.subscribe(new ce(xe,this.scheduler,this.delay))}}class ce extends o.L{constructor(xe,Fe,He=0){super(xe),this.scheduler=Fe,this.delay=He}static dispatch(xe){const{notification:Fe,destination:He}=xe;Fe.observe(He),this.unsubscribe()}scheduleMessage(xe){this.destination.add(this.scheduler.schedule(ce.dispatch,this.delay,new be(xe,this.destination)))}_next(xe){this.scheduleMessage(W.P.createNext(xe))}_error(xe){this.scheduleMessage(W.P.createError(xe)),this.unsubscribe()}_complete(){this.scheduleMessage(W.P.createComplete()),this.unsubscribe()}}class be{constructor(xe,Fe){this.notification=xe,this.destination=Fe}}},1307:(Ht,St,De)=>{"use strict";De.d(St,{x:()=>W});var o=De(7393);function W(){return function(be){return be.lift(new J(be))}}class J{constructor(be){this.connectable=be}call(be,Te){const{connectable:xe}=this;xe._refCount++;const Fe=new b(be,xe),He=Te.subscribe(Fe);return Fe.closed||(Fe.connection=xe.connect()),He}}class b extends o.L{constructor(be,Te){super(be),this.connectable=Te}_unsubscribe(){const{connectable:be}=this;if(!be)return void(this.connection=null);this.connectable=null;const Te=be._refCount;if(Te<=0)return void(this.connection=null);if(be._refCount=Te-1,Te>1)return void(this.connection=null);const{connection:xe}=this,Fe=be._connection;this.connection=null,Fe&&(!xe||Fe===xe)&&Fe.unsubscribe()}}},8819:(Ht,St,De)=>{"use strict";De.d(St,{B:()=>Te});var o=De(2441);var b=De(1307),ce=De(9765);function be(){return new ce.xQ}function Te(){return xe=>(0,b.x)()(function(xe,Fe){return function(xt){let ht;ht="function"==typeof xe?xe:function(){return xe};const At=Object.create(xt,o.N);return At.source=xt,At.subjectFactory=ht,At}}(be)(xe))}},9673:(Ht,St,De)=>{"use strict";De.d(St,{R:()=>ce});var o=De(7574),W=De(4581),J=De(6561);class b extends o.y{constructor(xe,Fe=0,He=W.e){super(),this.source=xe,this.delayTime=Fe,this.scheduler=He,(!(0,J.k)(Fe)||Fe<0)&&(this.delayTime=0),(!He||"function"!=typeof He.schedule)&&(this.scheduler=W.e)}static create(xe,Fe=0,He=W.e){return new b(xe,Fe,He)}static dispatch(xe){const{source:Fe,subscriber:He}=xe;return this.add(Fe.subscribe(He))}_subscribe(xe){return this.scheduler.schedule(b.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function ce(Te,xe=0){return function(He){return He.lift(new be(Te,xe))}}class be{constructor(xe,Fe){this.scheduler=xe,this.delay=Fe}call(xe,Fe){return new b(Fe,this.delay,this.scheduler).subscribe(xe)}}},3342:(Ht,St,De)=>{"use strict";De.d(St,{b:()=>b});var o=De(7393);function W(){}var J=De(9105);function b(Te,xe,Fe){return function(xt){return xt.lift(new ce(Te,xe,Fe))}}class ce{constructor(xe,Fe,He){this.nextOrObserver=xe,this.error=Fe,this.complete=He}call(xe,Fe){return Fe.subscribe(new be(xe,this.nextOrObserver,this.error,this.complete))}}class be extends o.L{constructor(xe,Fe,He,xt){super(xe),this._tapNext=W,this._tapError=W,this._tapComplete=W,this._tapError=He||W,this._tapComplete=xt||W,(0,J.m)(Fe)?(this._context=this,this._tapNext=Fe):Fe&&(this._context=Fe,this._tapNext=Fe.next||W,this._tapError=Fe.error||W,this._tapComplete=Fe.complete||W)}_next(xe){try{this._tapNext.call(this._context,xe)}catch(Fe){return void this.destination.error(Fe)}this.destination.next(xe)}_error(xe){try{this._tapError.call(this._context,xe)}catch(Fe){return void this.destination.error(Fe)}this.destination.error(xe)}_complete(){try{this._tapComplete.call(this._context)}catch(xe){return void this.destination.error(xe)}return this.destination.complete()}}},4087:(Ht,St,De)=>{"use strict";De.d(St,{r:()=>J});var o=De(7574),W=De(5319);function J(b,ce){return new o.y(be=>{const Te=new W.w;let xe=0;return Te.add(ce.schedule(function(){xe!==b.length?(be.next(b[xe++]),be.closed||Te.add(this.schedule())):be.complete()})),Te})}},6465:(Ht,St,De)=>{"use strict";De.d(St,{o:()=>J});var o=De(5319);class W extends o.w{constructor(ce,be){super()}schedule(ce,be=0){return this}}class J extends W{constructor(ce,be){super(ce,be),this.scheduler=ce,this.work=be,this.pending=!1}schedule(ce,be=0){if(this.closed)return this;this.state=ce;const Te=this.id,xe=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(xe,Te,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(xe,this.id,be),this}requestAsyncId(ce,be,Te=0){return setInterval(ce.flush.bind(ce,this),Te)}recycleAsyncId(ce,be,Te=0){if(null!==Te&&this.delay===Te&&!1===this.pending)return be;clearInterval(be)}execute(ce,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(ce,be);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,be){let xe,Te=!1;try{this.work(ce)}catch(Fe){Te=!0,xe=!!Fe&&Fe||new Error(Fe)}if(Te)return this.unsubscribe(),xe}_unsubscribe(){const ce=this.id,be=this.scheduler,Te=be.actions,xe=Te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==xe&&Te.splice(xe,1),null!=ce&&(this.id=this.recycleAsyncId(be,ce,null)),this.delay=null}}},6102:(Ht,St,De)=>{"use strict";De.d(St,{v:()=>W});let o=(()=>{class J{constructor(ce,be=J.now){this.SchedulerAction=ce,this.now=be}schedule(ce,be=0,Te){return new this.SchedulerAction(this,ce).schedule(Te,be)}}return J.now=()=>Date.now(),J})();class W extends o{constructor(b,ce=o.now){super(b,()=>W.delegate&&W.delegate!==this?W.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(b,ce=0,be){return W.delegate&&W.delegate!==this?W.delegate.schedule(b,ce,be):super.schedule(b,ce,be)}flush(b){const{actions:ce}=this;if(this.active)return void ce.push(b);let be;this.active=!0;do{if(be=b.execute(b.state,b.delay))break}while(b=ce.shift());if(this.active=!1,be){for(;b=ce.shift();)b.unsubscribe();throw be}}}},4581:(Ht,St,De)=>{"use strict";De.d(St,{e:()=>ht,E:()=>xt});let o=1;const W=Promise.resolve(),J={};function b(At){return At in J&&(delete J[At],!0)}const ce={setImmediate(At){const en=o++;return J[en]=!0,W.then(()=>b(en)&&At()),en},clearImmediate(At){b(At)}};var Te=De(6465),Fe=De(6102);const xt=new class extends Fe.v{flush(en){this.active=!0,this.scheduled=void 0;const{actions:Ut}=this;let at,ei=-1,In=Ut.length;en=en||Ut.shift();do{if(at=en.execute(en.state,en.delay))break}while(++ei<In&&(en=Ut.shift()));if(this.active=!1,at){for(;++ei<In&&(en=Ut.shift());)en.unsubscribe();throw at}}}(class extends Te.o{constructor(en,Ut){super(en,Ut),this.scheduler=en,this.work=Ut}requestAsyncId(en,Ut,at=0){return null!==at&&at>0?super.requestAsyncId(en,Ut,at):(en.actions.push(this),en.scheduled||(en.scheduled=ce.setImmediate(en.flush.bind(en,null))))}recycleAsyncId(en,Ut,at=0){if(null!==at&&at>0||null===at&&this.delay>0)return super.recycleAsyncId(en,Ut,at);0===en.actions.length&&(ce.clearImmediate(Ut),en.scheduled=void 0)}}),ht=xt},3637:(Ht,St,De)=>{"use strict";De.d(St,{z:()=>J,P:()=>b});var o=De(6465);const J=new(De(6102).v)(o.o),b=J},7771:(Ht,St,De)=>{"use strict";De.d(St,{c:()=>be,N:()=>ce});var o=De(6465),J=De(6102);const ce=new class extends J.v{}(class extends o.o{constructor(xe,Fe){super(xe,Fe),this.scheduler=xe,this.work=Fe}schedule(xe,Fe=0){return Fe>0?super.schedule(xe,Fe):(this.delay=Fe,this.state=xe,this.scheduler.flush(this),this)}execute(xe,Fe){return Fe>0||this.closed?super.execute(xe,Fe):this._execute(xe,Fe)}requestAsyncId(xe,Fe,He=0){return null!==He&&He>0||null===He&&this.delay>0?super.requestAsyncId(xe,Fe,He):xe.flush(this)}}),be=ce},377:(Ht,St,De)=>{"use strict";De.d(St,{hZ:()=>W});const W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ht,St,De)=>{"use strict";De.d(St,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ht,St,De)=>{"use strict";De.d(St,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ht,St,De)=>{"use strict";De.d(St,{N:()=>W});const W=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(Ht,St,De)=>{"use strict";function o(W){setTimeout(()=>{throw W},0)}De.d(St,{z:()=>o})},4487:(Ht,St,De)=>{"use strict";function o(W){return W}De.d(St,{y:()=>o})},9796:(Ht,St,De)=>{"use strict";De.d(St,{k:()=>o});const o=Array.isArray||(W=>W&&"number"==typeof W.length)},9489:(Ht,St,De)=>{"use strict";De.d(St,{z:()=>o});const o=W=>W&&"number"==typeof W.length&&"function"!=typeof W},9105:(Ht,St,De)=>{"use strict";function o(W){return"function"==typeof W}De.d(St,{m:()=>o})},6561:(Ht,St,De)=>{"use strict";De.d(St,{k:()=>W});var o=De(9796);function W(J){return!(0,o.k)(J)&&J-parseFloat(J)+1>=0}},1555:(Ht,St,De)=>{"use strict";function o(W){return null!==W&&"object"==typeof W}De.d(St,{K:()=>o})},4072:(Ht,St,De)=>{"use strict";function o(W){return!!W&&"function"!=typeof W.subscribe&&"function"==typeof W.then}De.d(St,{t:()=>o})},4869:(Ht,St,De)=>{"use strict";function o(W){return W&&"function"==typeof W.schedule}De.d(St,{K:()=>o})},7444:(Ht,St,De)=>{"use strict";De.d(St,{s:()=>xt});var o=De(5015),W=De(4449),b=De(377),be=De(6554),xe=De(9489),Fe=De(4072),He=De(1555);const xt=ht=>{if(ht&&"function"==typeof ht[be.L])return(ht=>At=>{const en=ht[be.L]();if("function"!=typeof en.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return en.subscribe(At)})(ht);if((0,xe.z)(ht))return(0,o.V)(ht);if((0,Fe.t)(ht))return(ht=>At=>(ht.then(en=>{At.closed||(At.next(en),At.complete())},en=>At.error(en)).then(null,W.z),At))(ht);if(ht&&"function"==typeof ht[b.hZ])return(ht=>At=>{const en=ht[b.hZ]();for(;;){let Ut;try{Ut=en.next()}catch(at){return At.error(at),At}if(Ut.done){At.complete();break}if(At.next(Ut.value),At.closed)break}return"function"==typeof en.return&&At.add(()=>{en.return&&en.return()}),At})(ht);{const en=`You provided ${(0,He.K)(ht)?"an invalid object":`'${ht}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(en)}}},5015:(Ht,St,De)=>{"use strict";De.d(St,{V:()=>o});const o=W=>J=>{for(let b=0,ce=W.length;b<ce&&!J.closed;b++)J.next(W[b]);J.complete()}},3102:(Ht,St,De)=>{"use strict";var o=De(7716);let W=null;function J(){return W}const Te=new o.OlP("DocumentToken");let xe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:Fe,token:t,providedIn:"platform"}),t})();function Fe(){return(0,o.LFG)(xt)}const He=new o.OlP("Location Initialized");let xt=(()=>{class t extends xe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(e){const s=J().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=J().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){ht()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){ht()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:At,token:t,providedIn:"platform"}),t})();function ht(){return!!window.history.pushState}function At(){return new xt((0,o.LFG)(Te))}function en(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function Ut(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function at(t){return t&&"?"!==t[0]?"?"+t:t}let ei=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:In,token:t,providedIn:"root"}),t})();function In(t){const i=(0,o.LFG)(Te).location;return new tr((0,o.LFG)(xe),i&&i.origin||"")}const jt=new o.OlP("appBaseHref");let tr=(()=>{class t extends ei{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return en(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+at(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,l){const y=this.prepareExternalUrl(a+at(l));this._platformLocation.pushState(e,s,y)}replaceState(e,s,a,l){const y=this.prepareExternalUrl(a+at(l));this._platformLocation.replaceState(e,s,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(xe),o.LFG(jt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),rs=(()=>{class t extends ei{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=en(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,l){let y=this.prepareExternalUrl(a+at(l));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(e,s,y)}replaceState(e,s,a,l){let y=this.prepareExternalUrl(a+at(l));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(xe),o.LFG(jt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(e,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ut(qi(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+at(s))}normalize(e){return t.stripTrailingSlash(function(t,i){return t&&i.startsWith(t)?i.substring(t.length):i}(this._baseHref,qi(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ei),o.LFG(xe))},t.normalizeQueryParams=at,t.joinWithSlash=en,t.stripTrailingSlash=Ut,t.\u0275prov=(0,o.Yz7)({factory:Li,token:t,providedIn:"root"}),t})();function Li(){return new oi((0,o.LFG)(ei),(0,o.LFG)(xe))}function qi(t){return t.replace(/\/index.html$/,"")}const Pr={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var _n=(()=>((_n=_n||{})[_n.Decimal=0]="Decimal",_n[_n.Percent=1]="Percent",_n[_n.Currency=2]="Currency",_n[_n.Scientific=3]="Scientific",_n))(),ln=(()=>((ln=ln||{})[ln.Zero=0]="Zero",ln[ln.One=1]="One",ln[ln.Two=2]="Two",ln[ln.Few=3]="Few",ln[ln.Many=4]="Many",ln[ln.Other=5]="Other",ln))(),fn=(()=>((fn=fn||{})[fn.Decimal=0]="Decimal",fn[fn.Group=1]="Group",fn[fn.List=2]="List",fn[fn.PercentSign=3]="PercentSign",fn[fn.PlusSign=4]="PlusSign",fn[fn.MinusSign=5]="MinusSign",fn[fn.Exponential=6]="Exponential",fn[fn.SuperscriptingExponent=7]="SuperscriptingExponent",fn[fn.PerMille=8]="PerMille",fn[fn.Infinity=9]="Infinity",fn[fn.NaN=10]="NaN",fn[fn.TimeSeparator=11]="TimeSeparator",fn[fn.CurrencyDecimal=12]="CurrencyDecimal",fn[fn.CurrencyGroup=13]="CurrencyGroup",fn))();function Qr(t,i){const e=(0,o.cg1)(t),s=e[o.wAp.NumberSymbols][i];if(void 0===s){if(i===fn.CurrencyDecimal)return e[o.wAp.NumberSymbols][fn.Decimal];if(i===fn.CurrencyGroup)return e[o.wAp.NumberSymbols][fn.Group]}return s}const Gi=o.kL8;const Xt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,h="0";function j(t,i,e,s,a){const y=function(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=t.split(";"),a=s[0],l=s[1],y=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf(h)+1),a.substring(a.lastIndexOf(h)+1)],k=y[0],V=y[1]||"";e.posPre=k.substr(0,k.indexOf("#"));for(let pe=0;pe<V.length;pe++){const Se=V.charAt(pe);Se===h?e.minFrac=e.maxFrac=pe+1:"#"===Se?e.maxFrac=pe+1:e.posSuf+=Se}const K=k.split(",");if(e.gSize=K[1]?K[1].length:0,e.lgSize=K[2]||K[1]?(K[2]||K[1]).length:0,l){const pe=a.length-e.posPre.length-e.posSuf.length,Se=l.indexOf("#");e.negPre=l.substr(0,Se).replace(/'/g,""),e.negSuf=l.substr(Se+pe).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}(function(t,i){return(0,o.cg1)(t)[o.wAp.NumberFormats][i]}(i,_n.Currency),Qr(i,fn.MinusSign));return y.minFrac=function(t){let i;const e=Pr[t];return e&&(i=e[2]),"number"==typeof i?i:2}(s),y.maxFrac=y.minFrac,function(t,i,e,s,a,l,y=!1){let k="",V=!1;if(isFinite(t)){let K=function(t){let s,a,l,y,k,i=Math.abs(t)+"",e=0;for((a=i.indexOf("."))>-1&&(i=i.replace(".","")),(l=i.search(/e/i))>0?(a<0&&(a=l),a+=+i.slice(l+1),i=i.substring(0,l)):a<0&&(a=i.length),l=0;i.charAt(l)===h;l++);if(l===(k=i.length))s=[0],a=1;else{for(k--;i.charAt(k)===h;)k--;for(a-=l,s=[],y=0;l<=k;l++,y++)s[y]=Number(i.charAt(l))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(t);y&&(K=function(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(K));let pe=i.minInt,Se=i.minFrac,Ue=i.maxFrac;if(l){const Jn=l.match(Xt);if(null===Jn)throw new Error(`${l} is not a valid digit info`);const Zn=Jn[1],Di=Jn[3],Bi=Jn[5];null!=Zn&&(pe=Ae(Zn)),null!=Di&&(Se=Ae(Di)),null!=Bi?Ue=Ae(Bi):null!=Di&&Se>Ue&&(Ue=Se)}!function(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let s=t.digits,a=s.length-t.integerLen;const l=Math.min(Math.max(i,a),e);let y=l+t.integerLen,k=s[y];if(y>0){s.splice(Math.max(t.integerLen,y));for(let Se=y;Se<s.length;Se++)s[Se]=0}else{a=Math.max(0,a),t.integerLen=1,s.length=Math.max(1,y=l+1),s[0]=0;for(let Se=1;Se<y;Se++)s[Se]=0}if(k>=5)if(y-1<0){for(let Se=0;Se>y;Se--)s.unshift(0),t.integerLen++;s.unshift(1),t.integerLen++}else s[y-1]++;for(;a<Math.max(0,l);a++)s.push(0);let V=0!==l;const K=i+t.integerLen,pe=s.reduceRight(function(Se,Ue,Je,rt){return rt[Je]=(Ue+=Se)<10?Ue:Ue-10,V&&(0===rt[Je]&&Je>=K?rt.pop():V=!1),Ue>=10?1:0},0);pe&&(s.unshift(pe),t.integerLen++)}(K,Se,Ue);let Je=K.digits,rt=K.integerLen;const Tt=K.exponent;let Qt=[];for(V=Je.every(Jn=>!Jn);rt<pe;rt++)Je.unshift(0);for(;rt<0;rt++)Je.unshift(0);rt>0?Qt=Je.splice(rt,Je.length):(Qt=Je,Je=[0]);const Cn=[];for(Je.length>=i.lgSize&&Cn.unshift(Je.splice(-i.lgSize,Je.length).join(""));Je.length>i.gSize;)Cn.unshift(Je.splice(-i.gSize,Je.length).join(""));Je.length&&Cn.unshift(Je.join("")),k=Cn.join(Qr(e,s)),Qt.length&&(k+=Qr(e,a)+Qt.join("")),Tt&&(k+=Qr(e,fn.Exponential)+"+"+Tt)}else k=Qr(e,fn.Infinity);return k=t<0&&!V?i.negPre+k+i.negSuf:i.posPre+k+i.posSuf,k}(t,y,i,fn.CurrencyGroup,fn.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}function Ae(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}class Re{}let it=(()=>{class t extends Re{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Gi(s||this.locale)(e)){case ln.Zero:return"zero";case ln.One:return"one";case ln.Two:return"two";case ln.Few:return"few";case ln.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.soG))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function $(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const s=e.indexOf("="),[a,l]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let ue=(()=>{class t{constructor(e,s,a,l){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class $e{constructor(i,e,s,a){this.$implicit=i,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((a,l,y)=>{if(null==a.previousIndex){const k=this._viewContainer.createEmbeddedView(this._template,new $e(null,this._ngForOf,-1,-1),null===y?void 0:y),V=new sn(a,k);s.push(V)}else if(null==y)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const k=this._viewContainer.get(l);this._viewContainer.move(k,y);const V=new sn(a,k);s.push(V)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const y=this._viewContainer.get(a);y.context.index=a,y.context.count=l,y.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class sn{constructor(i,e){this.record=i,this.view=e}}let dn=(()=>{class t{constructor(e,s){this._viewContainer=e,this._context=new Nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Pn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Pn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Nn{constructor(){this.$implicit=null,this.ngIf=null}}function Pn(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class wi{constructor(i,e){this._viewContainerRef=i,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let lr=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),fi=(()=>{class t{constructor(e,s,a){this.ngSwitch=a,a._addCase(),this._view=new wi(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(lr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Oi=(()=>{class t{constructor(e,s,a){a._addDefault(new wi(e,s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(lr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Zi=(()=>{class t{constructor(e,s,a){this._ngEl=e,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[a,l]=e.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Jr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),t})();function _a(t,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(t)}'`)}class ia{createSubscription(i,e){return i.subscribe({next:e,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class Js{createSubscription(i,e){return i.then(e,s=>{throw s})}dispose(i){}onDestroy(i){}}const Fo=new Js,ad=new ia;let Cl=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,o.QGY)(e))return Fo;if((0,o.F4k)(e))return ad;throw _a(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO,16))},t.\u0275pipe=o.Yjl({name:"async",type:t,pure:!1}),t})(),Fd=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"json",type:t,pure:!1}),t})(),Kh=(()=>{class t{constructor(e,s="USD"){this._locale=e,this._defaultCurrencyCode=s}transform(e,s=this._defaultCurrencyCode,a="symbol",l,y){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;y=y||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let k=s||this._defaultCurrencyCode;"code"!==a&&(k="symbol"===a||"symbol-narrow"===a?function(t,i,e="en"){const s=function(t){return(0,o.cg1)(t)[o.wAp.Currencies]}(e)[t]||Pr[t]||[],a=s[1];return"narrow"===i&&"string"==typeof a?a:s[0]||t}(k,"symbol"===a?"wide":"narrow",y):a);try{return j(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),y,k,s,l)}catch(V){throw _a(t,V.message)}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},t.\u0275pipe=o.Yjl({name:"currency",type:t,pure:!0}),t})();let Wi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:Re,useClass:it}]}),t})();function ud(t){return"server"===t}let di=(()=>{class t{}return t.\u0275prov=(0,o.Yz7)({token:t,providedIn:"root",factory:()=>new xc((0,o.LFG)(Te),window)}),t})();class xc{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const y=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(y)return y}a=s.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Bl(this.window.history)||Bl(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Bl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class wc{}class Tl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Tl,W||(W=t)}onAndCancel(i,e,s){return i.addEventListener(e,s,!1),()=>{i.removeEventListener(e,s,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=(er=er||document.querySelector("base"),er?er.getAttribute("href"):null);return null==e?null:function(t){cr=cr||document.createElement("a"),cr.setAttribute("href",t);const i=cr.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){er=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return $(document.cookie,i)}}let cr,er=null;const Kr=new o.OlP("TRANSITION_ID"),Sl=[{provide:o.ip1,useFactory:function(t,i,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const s=J();Array.prototype.slice.apply(i.querySelectorAll("style[ng-transition]")).filter(l=>l.getAttribute("ng-transition")===t).forEach(l=>s.remove(l))})}},deps:[Kr,Te,o.zs3],multi:!0}];class Vl{static init(){(0,o.VLi)(new Vl)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,y=!1;const k=function(V){y=y||V,l--,0==l&&s(y)};a.forEach(function(V){V.whenStable(k)})})}findTestabilityInTree(i,e,s){if(null==e)return null;const a=i.getTestability(e);return null!=a?a:s?J().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null}}let ya=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Lu=new o.OlP("EventManagerPlugins");let Un=(()=>{class t{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const y=a[l];if(y.supports(e))return this._eventNameToPlugin.set(e,y),y}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Lu),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class us{constructor(i){this._doc=i}addGlobalEventListener(i,e,s){const a=J().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let vh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),fo=(()=>{class t extends vh{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(l=>{const y=this._doc.createElement("style");y.textContent=l,a.push(s.appendChild(y))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(pd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(pd))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function pd(t){J().remove(t)}const Hl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},va=/%COMP%/g;function no(t,i,e){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?no(t,a,e):(a=a.replace(va,t),e.push(a))}return e}function sa(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let tc=(()=>{class t{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new hr(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new iu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case o.ifc.ShadowDom:return new No(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=no(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Un),o.LFG(fo),o.LFG(o.AFp))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class hr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,e){return e?document.createElementNS(Hl[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){i.appendChild(e)}insertBefore(i,e,s){i&&i.insertBefore(e,s)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return e||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,s,a){if(a){e=a+":"+e;const l=Hl[a];l?i.setAttributeNS(l,e,s):i.setAttribute(e,s)}else i.setAttribute(e,s)}removeAttribute(i,e,s){if(s){const a=Hl[s];a?i.removeAttributeNS(a,e):i.removeAttribute(`${s}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(e,s,a&o.JOm.Important?"important":""):i.style[e]=s}removeStyle(i,e,s){s&o.JOm.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,s){i[e]=s}setValue(i,e){i.nodeValue=e}listen(i,e,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,sa(s)):this.eventManager.addEventListener(i,e,sa(s))}}class iu extends hr{constructor(i,e,s,a){super(i),this.component=s;const l=no(a+"-"+s.id,s.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(va,a+"-"+s.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(va,t)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,e){const s=super.createElement(i,e);return super.setAttribute(s,this.contentAttr,""),s}}class No extends hr{constructor(i,e,s,a){super(i),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=no(a.id,a.styles,[]);for(let y=0;y<l.length;y++){const k=document.createElement("style");k.textContent=l[y],this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,s){return super.insertBefore(this.nodeOrShadowRoot(i),e,s)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let nc=(()=>{class t extends us{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Xa=["alt","control","meta","shift"],fd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ws=(()=>{class t extends us{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,s,a){const l=t.parseEventName(s),y=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(e,l.domEventName,y))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(s.pop());let y="";if(Xa.forEach(V=>{const K=s.indexOf(V);K>-1&&(s.splice(K,1),y+=V+".")}),y+=l,0!=s.length||0===l.length)return null;const k={};return k.domEventName=a,k.fullKey=y,k}static getEventFullKey(e){let s="",a=function(t){let i=t.key;if(null==i){if(i=t.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===t.location&&qt.hasOwnProperty(i)&&(i=qt[i]))}return fd[i]||i}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Xa.forEach(l=>{l!=a&&Cr[l](e)&&(s+=l+".")}),s+=a,s}static eventCallback(e,s,a){return l=>{t.getEventFullKey(l)===e&&a.runGuarded(()=>s(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(zo)},token:t,providedIn:"root"}),t})(),zo=(()=>{class t extends aa{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return function(t){return new zo(t.get(Te))}((0,o.LFG)(o.gxx))},token:t,providedIn:"root"}),t})();const oc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Tl.makeCurrent(),Vl.init()},multi:!0},{provide:Te,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),Ou=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Lu,useClass:nc,multi:!0,deps:[Te,o.R0b,o.Lbi]},{provide:Lu,useClass:Ws,multi:!0,deps:[Te]},[],{provide:tc,useClass:tc,deps:[Un,fo,o.AFp]},{provide:o.FYo,useExisting:tc},{provide:vh,useExisting:fo},{provide:fo,useClass:fo,deps:[Te]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Un,useClass:Un,deps:[Lu,o.R0b]},{provide:wc,useClass:ya,deps:[]},[]];let op=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:o.AFp,useValue:e.appId},{provide:Kr,useExisting:o.AFp},Sl]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(t,12))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:Ou,imports:[Wi,o.hGG]}),t})();"undefined"!=typeof window&&window;const vi_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var gr=De(57),js=De(3637),Er=De(7574),Ti=De(5917),Ba=De(6682),Ei=De(8002),cp=De(8819),Fs=De(4402),Eo=De(5345);function Es(t,i){return"function"==typeof i?e=>e.pipe(Es((s,a)=>(0,Fs.D)(t(s,a)).pipe((0,Ei.U)((l,y)=>i(s,l,a,y))))):e=>e.lift(new dl(t))}class dl{constructor(i){this.project=i}call(i,e){return e.subscribe(new Fu(i,this.project))}}class Fu extends Eo.Ds{constructor(i,e){super(i),this.project=e,this.index=0}_next(i){let e;const s=this.index++;try{e=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(i){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Eo.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Eo.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var yo=De(7393);function Va(t,i){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new jl(t,i,e))}}class jl{constructor(i,e,s=!1){this.accumulator=i,this.seed=e,this.hasSeed=s}call(i,e){return e.subscribe(new up(i,this.accumulator,this.seed,this.hasSeed))}}class up extends yo.L{constructor(i,e,s,a){super(i),this.accumulator=e,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const e=this.index++;let s;try{s=this.accumulator(this.seed,i,e)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function uu(t,i){return e=>e.lift(new Zd(t,i))}class Zd{constructor(i,e){this.compare=i,this.keySelector=e}call(i,e){return e.subscribe(new Nu(i,this.compare,this.keySelector))}}class Nu extends yo.L{constructor(i,e,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(i,e){return i===e}_next(i){let e;try{const{keySelector:a}=this;e=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=e,this.destination.next(i))}}class Hc extends yo.L{notifyNext(i,e,s,a,l){this.destination.next(e)}notifyError(i,e){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class Uc extends yo.L{constructor(i,e,s){super(),this.parent=i,this.outerValue=e,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var cc=De(7444);function du(t,i,e,s,a=new Uc(t,e,s)){if(!a.closed)return i instanceof Er.y?i.subscribe(a):(0,cc.s)(i)(a)}class uc{constructor(i,e){this.observables=i,this.project=e}call(i,e){return e.subscribe(new Wd(i,this.observables,this.project))}}class Wd extends Hc{constructor(i,e,s){super(i),this.observables=e,this.project=s,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(du(this,e[l],void 0,l))}notifyNext(i,e,s){this.values[s]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const e=[i,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(i){let e;try{e=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class es{constructor(i){this.predicate=i}call(i,e){return e.subscribe(new dp(i,this.predicate))}}class dp extends yo.L{constructor(i,e){super(i),this.predicate=e,this.skipping=!0,this.index=0}_next(i){const e=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||e.next(i)}tryCallPredicate(i){try{const e=this.predicate(i,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}De(9192);var ai=De(9765),Bo=De(9746),zu=De(7771),Da=De(5319),df=De(7971),qd=De(8858);class hf extends ai.xQ{constructor(i=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const e=this._events;e.push(i),e.length>this._bufferSize&&e.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new Ua(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let y;if(this.closed)throw new df.N;if(this.isStopped||this.hasError?y=Da.w.EMPTY:(this.observers.push(i),y=new qd.W(this,i)),a&&i.add(i=new Bo.ht(i,a)),e)for(let k=0;k<l&&!i.closed;k++)i.next(s[k]);else for(let k=0;k<l&&!i.closed;k++)i.next(s[k].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),y}_getNow(){return(this.scheduler||zu.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),e=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let y=0;for(;y<l&&!(i-a[y].time<s);)y++;return l>e&&(y=Math.max(y,l-e)),y>0&&a.splice(0,y),a}}class Ua{constructor(i,e){this.time=i,this.value=e}}function Mh(t,i,e){let s;return s=t&&"object"==typeof t?t:{bufferSize:t,windowTime:i,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let a,y,l=0,k=!1,V=!1;return function(pe){let Se;l++,!a||k?(k=!1,a=new hf(t,i,s),Se=a.subscribe(this),y=pe.subscribe({next(Ue){a.next(Ue)},error(Ue){k=!0,a.error(Ue)},complete(){V=!0,y=void 0,a.complete()}}),V&&(y=void 0)):Se=a.subscribe(this),this.add(()=>{l--,Se.unsubscribe(),Se=void 0,y&&!V&&e&&0===l&&(y.unsubscribe(),y=void 0,a=void 0)})}}(s))}const f=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function C(t,i){return function(s){return s.lift(new R(t,i))}}class R{constructor(i,e){this.predicate=i,this.thisArg=e}call(i,e){return e.subscribe(new H(i,this.predicate,this.thisArg))}}class H extends yo.L{constructor(i,e,s){super(i),this.predicate=e,this.thisArg=s,this.count=0}_next(i){let e;try{e=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(i)}}const ae=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var fe=De(9193);function ve(t){return i=>0===t?(0,fe.c)():i.lift(new _e(t))}class _e{constructor(i){if(this.total=i,this.total<0)throw new ae}call(i,e){return e.subscribe(new ze(i,this.total))}}class ze extends yo.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){const e=this.total,s=++this.count;s<=e&&(this.destination.next(i),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Ge(t=null){return i=>i.lift(new We(t))}class We{constructor(i){this.defaultValue=i}call(i,e){return e.subscribe(new Xe(i,this.defaultValue))}}class Xe extends yo.L{constructor(i,e){super(i),this.defaultValue=e,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function dt(t=ot){return i=>i.lift(new yt(t))}class yt{constructor(i){this.errorFactory=i}call(i,e){return e.subscribe(new Ot(i,this.errorFactory))}}class Ot extends yo.L{constructor(i,e){super(i),this.errorFactory=e,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(e){i=e}this.destination.error(i)}}}function ot(){return new f}var vt=De(4487);function wt(t,i){const e=arguments.length>=2;return s=>s.pipe(t?C((a,l)=>t(a,l,s)):vt.y,ve(1),e?Ge(i):dt(()=>new f))}function Bt(t,i){return i?Es(()=>t,i):Es(()=>t)}var Ct=De(9673);const wn=new o.OlP("angularfire2.auth.use-emulator"),Tn=new o.OlP("angularfire2.auth.settings"),Ln=new o.OlP("angularfire2.auth.tenant-id"),Dt=new o.OlP("angularfire2.auth.langugage-code"),ti=new o.OlP("angularfire2.auth.use-device-language"),On=new o.OlP("angularfire.auth.persistence");let ci=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe,Se){const Ue=new gr.HU(l),Je=(0,gr.ss)(Ue),rt=new ai.xQ,Tt=(0,Ti.of)(void 0).pipe((0,Bo.QV)(Ue.outsideAngular),Es(()=>l.runOutsideAngular(()=>De.e(336).then(De.bind(De,1336)))),(0,Ei.U)(()=>(0,gr.on)(e,l,s)),(0,Ei.U)(Qt=>l.runOutsideAngular(()=>{const Cn=y,Jn=k;return(0,gr.sI)(`${Qt.name}.auth`,"AngularFireAuth",Qt,()=>{const Zn=l.runOutsideAngular(()=>Qt.auth());if(Cn&&Zn.useEmulator(`http://${Cn.join(":")}`),V&&(Zn.tenantId=V),Zn.languageCode=K,pe&&Zn.useDeviceLanguage(),Jn)for(const[Di,Bi]of Object.entries(Jn))Zn.settings[Di]=Bi;return Se&&Zn.setPersistence(Se),Zn},[Cn,V,K,pe,Jn,Se])})),Mh({bufferSize:1,refCount:!1}));if(ud(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ti.of)(null);else{Tt.pipe(wt()).subscribe();const Cn=Tt.pipe(Es(Bi=>Bi.getRedirectResult().then(ls=>ls,()=>null)),Je,Mh({bufferSize:1,refCount:!1})),Jn=Bi=>new Er.y(ls=>({unsubscribe:l.runOutsideAngular(()=>Bi(ls))})),Zn=Tt.pipe(Es(Bi=>Jn(Bi.onAuthStateChanged.bind(Bi)))),Di=Tt.pipe(Es(Bi=>Jn(Bi.onIdTokenChanged.bind(Bi))));this.authState=Cn.pipe(Bt(Zn),(0,Ct.R)(Ue.outsideAngular),(0,Bo.QV)(Ue.insideAngular)),this.user=Cn.pipe(Bt(Di),(0,Ct.R)(Ue.outsideAngular),(0,Bo.QV)(Ue.insideAngular)),this.idToken=this.user.pipe(Es(Bi=>Bi?(0,Fs.D)(Bi.getIdToken()):(0,Ti.of)(null))),this.idTokenResult=this.user.pipe(Es(Bi=>Bi?(0,Fs.D)(Bi.getIdTokenResult()):(0,Ti.of)(null))),this.credential=(0,Ba.T)(Cn,rt,this.authState.pipe(C(Bi=>!Bi))).pipe((0,Ei.U)(Bi=>(null==Bi?void 0:Bi.user)?Bi:null),(0,Ct.R)(Ue.outsideAngular),(0,Bo.QV)(Ue.insideAngular))}return(0,gr.pX)(this,Tt,l,{spy:{apply:(Qt,Cn,Jn)=>{(Qt.startsWith("signIn")||Qt.startsWith("createUser"))&&Jn.then(Zn=>rt.next(Zn))}}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn,8),o.LFG(Tn,8),o.LFG(Ln,8),o.LFG(Dt,8),o.LFG(ti,8),o.LFG(On,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(wn,8),o.LFG(Tn,8),o.LFG(Ln,8),o.LFG(Dt,8),o.LFG(ti,8),o.LFG(On,8))},token:t,providedIn:"any"}),t})();var Wn=De(2329);function jr(t){return null==t}function os(t){return"function"==typeof t.set}function ps(t,i){return os(i)?i:t.ref(i)}function _r(t,i){if(function(t){return"string"==typeof t}(t))return i.stringCase();if(os(t))return i.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function xs(t,i,e="on",s=js.z){return new Er.y(a=>{let l=null;return l=t[e](i,(y,k)=>{s.schedule(()=>{a.next({snapshot:y,prevKey:k})}),"once"===e&&s.schedule(()=>a.complete())},y=>{s.schedule(()=>a.error(y))}),"on"===e?{unsubscribe(){null!=l&&t.off(i,l)}}:{unsubscribe(){}}}).pipe((0,Ei.U)(a=>{const{snapshot:l,prevKey:y}=a;let k=null;return l.exists()&&(k=l.key),{type:i,payload:l,prevKey:y,key:k}}),(0,cp.B)())}function Al(t,i){const e=t.length;for(let s=0;s<e;s++)if(t[s].payload.key===i)return s;return-1}function ds(t,i){const{payload:e,prevKey:s,key:a}=i,l=Al(t,a),y=function(t,i){if(jr(i))return 0;{const e=Al(t,i);return-1===e?t.length:e+1}}(t,s);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let k=null;i.payload.forEach(V=>{const K={payload:V,type:"value",prevKey:k,key:V.key};return k=V.key,t=[...t,K],!1})}return t;case"child_added":if(l>-1){const k=t[l-1];(k&&k.key||null)!==s&&(t=t.filter(V=>V.payload.key!==e.key)).splice(y,0,i)}else{if(null==s)return[i,...t];(t=t.slice()).splice(y,0,i)}return t;case"child_removed":return t.filter(k=>k.payload.key!==e.key);case"child_changed":return t.map(k=>k.payload.key===a?i:k);case"child_moved":if(l>-1){const k=t.splice(l,1)[0];return(t=t.slice()).splice(y,0,k),t}return t;default:return t}}function Vo(t){return(jr(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function hl(t,i,e){return function(t,i,e){return xs(t,"value","once",e).pipe(Es(s=>{const a=[(0,Ti.of)(s)];return i.forEach(l=>a.push(xs(t,l,"on",e))),(0,Ba.T)(...a).pipe(Va(ds,[]))}),uu())}(t,i=Vo(i),e)}function Ri(t,i,e){const s=(i=Vo(i)).map(a=>xs(t,a,"on",e));return(0,Ba.T)(...s)}function io(t,i){return function(s,a){return _r(s,{stringCase:()=>t.child(s)[i](a),firebaseCase:()=>s[i](a),snapshotCase:()=>s.ref[i](a)})}}function Nr(t){return function(e){return e?_r(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function Ja(t,i){return function(){return xs(t,"value","on",i)}}const Do=new o.OlP("angularfire2.realtimeDatabaseURL"),Ia=new o.OlP("angularfire2.database.use-emulator");let Yu=(()=>{class t{constructor(e,s,a,l,y,k,V){this.schedulers=new gr.HU(y),this.keepUnstableUntilFirst=(0,gr.ss)(this.schedulers);const K=k,pe=(0,gr.on)(e,y,s);!Wn.Z.auth&&V&&(0,gr.yq)(),this.database=(0,gr.sI)(`${pe.name}.database.${a}`,"AngularFireDatabase",pe,()=>{const Se=y.runOutsideAngular(()=>pe.database(a||void 0));return K&&Se.useEmulator(...K),Se},[K])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>ps(this.database,e));let l=a;return s&&(l=s(a)),function(t,i){const e=i.schedulers.outsideAngular,s=i.schedulers.ngZone.run(()=>t.ref);return{query:t,update:io(s,"update"),set:io(s,"set"),push:a=>s.push(a),remove:Nr(s),snapshotChanges:a=>hl(t,a,e).pipe(i.keepUnstableUntilFirst),stateChanges:a=>Ri(t,a,e).pipe(i.keepUnstableUntilFirst),auditTrail:a=>function(t,i,e){return function(t,i,e){return function(t,i){return xs(t,"value","on",i).pipe((0,Ei.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(t,e).pipe(function(...t){return i=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),i.lift(new uc(t,e))}}(i),(0,Ei.U)(([a,l])=>{const y=a.lastKeyToLoad,k=l.map(V=>V.key);return{actions:l,lastKeyToLoad:y,loadedKeys:k}}),function(t){return i=>i.lift(new es(t))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ei.U)(a=>a.actions))}(t,Ri(t,i).pipe(Va((a,l)=>[...a,l],[])),e)}(t,a,e).pipe(i.keepUnstableUntilFirst),valueChanges:(a,l)=>hl(t,a,e).pipe((0,Ei.U)(k=>k.map(V=>l&&l.idField?Object.assign(Object.assign({},V.payload.val()),{[l.idField]:V.key}):V.payload.val())),i.keepUnstableUntilFirst)}}(l,this)}object(e){return function(t,i){return{query:t,snapshotChanges:()=>Ja(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>Ja(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,(0,Ei.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ps(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(Do,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ia,8),o.LFG(wn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(Do,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ia,8),o.LFG(wn,8))},token:t,providedIn:"any"}),t})(),ba=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Yu]}),t})();class bo extends ai.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return e&&!e.closed&&i.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new df.N;return this._value}next(i){super.next(this._value=i)}}var jc=De(4869),hu=De(9796),Gl=De(6693);const Ka={};function kc(...t){let i,e;return(0,jc.K)(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&(0,hu.k)(t[0])&&(t=t[0]),(0,Gl.n)(t,e).lift(new ws(i))}class ws{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new G(i,this.resultSelector))}}class G extends Hc{constructor(i,e){super(i),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(Ka),this.observables.push(i)}_complete(){const i=this.observables,e=i.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(du(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,e,s){const a=this.values,y=this.toRespond?a[s]===Ka?--this.toRespond:this.toRespond:0;a[s]=e,0===y&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var oe=De(3282);function Be(...t){return(0,oe.J)(1)((0,Ti.of)(...t))}function Ke(t){return new Er.y(i=>{let e;try{e=t()}catch(a){return void i.error(a)}return(e?(0,Fs.D)(e):(0,fe.c)()).subscribe(i)})}var Zt=De(2441);function xn(...t){const i=t[t.length-1];return(0,jc.K)(i)?(t.pop(),e=>Be(t,e,i)):e=>Be(t,e)}function Vi(t){return function(e){const s=new ts(t),a=e.lift(s);return s.caught=a}}class ts{constructor(i){this.selector=i}call(i,e){return e.subscribe(new ro(i,this.selector,this.caught))}}class ro extends Eo.Ds{constructor(i,e,s){super(i),this.selector=e,this.caught=s}error(i){if(!this.isStopped){let e;try{e=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new Eo.IY(this);this.add(s);const a=(0,Eo.ft)(e,s);a!==s&&this.add(a)}}}var zs=De(9773);function Ho(t,i){return(0,zs.zg)(t,i,1)}function Ys(t){return function(e){return 0===t?(0,fe.c)():e.lift(new pf(t))}}class pf{constructor(i){if(this.total=i,this.total<0)throw new ae}call(i,e){return e.subscribe(new xg(i,this.total))}}class xg extends yo.L{constructor(i,e){super(i),this.total=e,this.ring=new Array,this.count=0}_next(i){const e=this.ring,s=this.total,a=this.count++;e.length<s?e.push(i):e[a%s]=i}_complete(){const i=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const y=e++%s;i.next(a[y])}}i.complete()}}var La=De(3342),wg=De(1307);function pp(t){return i=>i.lift(new fp(t))}class fp{constructor(i){this.callback=i}call(i,e){return e.subscribe(new pu(i,this.callback))}}class pu extends yo.L{constructor(i,e){super(i),this.add(new Da.w(e))}}class la{constructor(i,e){this.id=i,this.url=e}}class Ec extends la{constructor(i,e,s="imperative",a=null){super(i,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yr extends la{constructor(i,e,s){super(i,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $d extends la{constructor(i,e,s){super(i,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Th extends la{constructor(i,e,s){super(i,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mp extends la{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xd extends la{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gp extends la{constructor(i,e,s,a,l){super(i,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C_ extends la{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu extends la{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dc{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cg{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M_{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fl{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bu{constructor(i,e,s){this.routerEvent=i,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const hs="primary";class _p{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gc(t){return new _p(t)}const _d="ngNavigationCancelingError";function Il(t){const i=Error("NavigationCancelingError: "+t);return i[_d]=!0,i}function Zc(t,i,e){const s=e.path.split("/");if(s.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||s.length<t.length))return null;const a={};for(let l=0;l<s.length;l++){const y=s[l],k=t[l];if(y.startsWith(":"))a[y.substring(1)]=k;else if(y!==k.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function Ll(t,i){const e=t?Object.keys(t):void 0,s=i?Object.keys(i):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!Qd(t[a],i[a]))return!1;return!0}function Qd(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),s=[...i].sort();return e.every((a,l)=>s[l]===a)}return t===i}function Jd(t){return Array.prototype.concat.apply([],t)}function Qf(t){return t.length>0?t[t.length-1]:null}function el(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function tl(t){return(0,o.CqO)(t)?t:(0,o.QGY)(t)?(0,Fs.D)(Promise.resolve(t)):(0,Ti.of)(t)}const Jf={exact:function Im(t,i,e){if(!Cs(t.segments,i.segments)||!gf(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!Im(t.children[s],i.children[s],e))return!1;return!0},subset:hc},mf={exact:function(t,i){return Ll(t,i)},subset:function(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>Qd(t[e],i[e]))},ignored:()=>!0};function Kf(t,i,e){return Jf[e.paths](t.root,i.root,e.matrixParams)&&mf[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function hc(t,i,e){return Qo(t,i,i.segments,e)}function Qo(t,i,e,s){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Cs(a,e)||i.hasChildren()||!gf(a,e,s))}if(t.segments.length===e.length){if(!Cs(t.segments,e)||!gf(t.segments,e,s))return!1;for(const a in i.children)if(!t.children[a]||!hc(t.children[a],i.children[a],s))return!1;return!0}{const a=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!!(Cs(t.segments,a)&&gf(t.segments,a,s)&&t.children[hs])&&Qo(t.children[hs],i,l,s)}}function gf(t,i,e){return i.every((s,a)=>mf[e](t[a].parameters,s.parameters))}class xa{constructor(i,e,s){this.root=i,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return mu.serialize(this)}}class Zr{constructor(i,e){this.segments=i,this.children=e,this.parent=null,el(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tm(this)}}class ml{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gc(this.parameters)),this._parameterMap}toString(){return Pl(this)}}function Cs(t,i){return t.length===i.length&&t.every((e,s)=>e.path===i[s].path)}class _f{}class vd{parse(i){const e=new bf(i);return new xa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){var t;return`${`/${Rp(i.root,!0)}`}${function(t){const i=Object.keys(t).map(e=>{const s=t[e];return Array.isArray(s)?s.map(a=>`${Fp(e)}=${Fp(a)}`).join("&"):`${Fp(e)}=${Fp(s)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${t=i.fragment,encodeURI(t)}`:""}`}}const mu=new vd;function tm(t){return t.segments.map(i=>Pl(i)).join("/")}function Rp(t,i){if(!t.hasChildren())return tm(t);if(i){const e=t.children[hs]?Rp(t.children[hs],!1):"",s=[];return el(t.children,(a,l)=>{l!==hs&&s.push(`${l}:${Rp(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(t,i){let e=[];return el(t.children,(s,a)=>{a===hs&&(e=e.concat(i(s,a)))}),el(t.children,(s,a)=>{a!==hs&&(e=e.concat(i(s,a)))}),e}(t,(s,a)=>a===hs?[Rp(t.children[hs],!1)]:[`${a}:${Rp(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[hs]?`${tm(t)}/${e[0]}`:`${tm(t)}/(${e.join("//")})`}}function Sh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fp(t){return Sh(t).replace(/%3B/gi,";")}function nm(t){return Sh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kh(t){return decodeURIComponent(t)}function Vu(t){return kh(t.replace(/\+/g,"%20"))}function Pl(t){return`${nm(t.path)}${function(t){return Object.keys(t).map(i=>`;${nm(i)}=${nm(t[i])}`).join("")}(t.parameters)}`}const im=/^[^\/()?;=#]+/;function Pa(t){const i=t.match(im);return i?i[0]:""}const yf=/^[^=?&#]+/,Hu=/^[^?&#]+/;class bf{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zr([],{}):new Zr([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(s[hs]=new Zr(i,e)),s}parseSegment(){const i=Pa(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new ml(kh(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=Pa(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Pa(this.remaining);a&&(s=a,this.capture(s))}i[kh(e)]=kh(s)}parseQueryParam(i){const e=function(t){const i=t.match(yf);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const y=function(t){const i=t.match(Hu);return i?i[0]:""}(this.remaining);y&&(s=y,this.capture(s))}const a=Vu(e),l=Vu(s);if(i.hasOwnProperty(a)){let y=i[a];Array.isArray(y)||(y=[y],i[a]=y),y.push(l)}else i[a]=l}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Pa(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=hs);const y=this.parseChildren();e[l]=1===Object.keys(y).length?y[hs]:new Zr([],y),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class Dh{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=Zl(i,this._root);return e?e.children.map(s=>s.value):[]}firstChild(i){const e=Zl(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=Tg(i,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return Tg(i,this._root).map(e=>e.value)}}function Zl(t,i){if(t===i.value)return i;for(const e of i.children){const s=Zl(t,e);if(s)return s}return null}function Tg(t,i){if(t===i.value)return[i];for(const e of i.children){const s=Tg(t,e);if(s.length)return s.unshift(i),s}return[]}class _u{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function yu(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class Lm extends Dh{constructor(i,e){super(i),this.snapshot=e,Uu(this,i)}toString(){return this.snapshot.toString()}}function Pm(t,i){const e=function(t,i){const y=new vu([],{},{},"",{},hs,i,null,t.root,-1,{});return new Ah("",new _u(y,[]))}(t,i),s=new bo([new ml("",{})]),a=new bo({}),l=new bo({}),y=new bo({}),k=new bo(""),V=new pc(s,a,y,k,l,hs,i,e.root);return V.snapshot=e.root,new Lm(new _u(V,[]),e)}class pc{constructor(i,e,s,a,l,y,k,V){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=y,this.component=k,this._futureSnapshot=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ei.U)(i=>Gc(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ei.U)(i=>Gc(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bd(t,i="emptyOnly"){const e=t.pathFromRoot;let s=0;if("always"!==i)for(s=e.length-1;s>=1;){const a=e[s],l=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(t){return t.reduce((i,e)=>({params:Object.assign(Object.assign({},i.params),e.params),data:Object.assign(Object.assign({},i.data),e.data),resolve:Object.assign(Object.assign({},i.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class vu{constructor(i,e,s,a,l,y,k,V,K,pe,Se){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=y,this.component=k,this.routeConfig=V,this._urlSegment=K,this._lastPathIndex=pe,this._resolve=Se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ah extends Dh{constructor(i,e){super(e),this.url=i,Uu(this,e)}toString(){return k_(this._root)}}function Uu(t,i){i.value._routerState=t,i.children.forEach(e=>Uu(t,e))}function k_(t){const i=t.children.length>0?` { ${t.children.map(k_).join(", ")} } `:"";return`${t.value}${i}`}function rm(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ll(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),Ll(i.params,e.params)||t.params.next(e.params),function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Ll(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),Ll(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ih(t,i){return Ll(t.params,i.params)&&function(t,i){return Cs(t,i)&&t.every((e,s)=>Ll(e.parameters,i[s].parameters))}(t.url,i.url)&&!(!t.parent!=!i.parent)&&(!t.parent||Ih(t.parent,i.parent))}function Om(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=i.value;const a=function(t,i,e){return i.children.map(s=>{for(const a of e.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return Om(t,s,a);return Om(t,s)})}(t,i,e);return new _u(s,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const y=l.route;return E_(i,y),y}}const s=function(t){return new pc(new bo(t.url),new bo(t.params),new bo(t.queryParams),new bo(t.fragment),new bo(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>Om(t,l));return new _u(s,a)}}function E_(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let e=0;e<t.children.length;++e)E_(t.children[e],i.children[e])}function Wl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mo(t){return"object"==typeof t&&null!=t&&t.outlets}function wf(t,i,e,s,a){let l={};return s&&el(s,(y,k)=>{l[k]=Array.isArray(y)?y.map(V=>`${V}`):`${y}`}),new xa(e.root===t?i:ju(e.root,t,i),l,a)}function ju(t,i,e){const s={};return el(t.children,(a,l)=>{s[l]=a===i?e:ju(a,i,e)}),new Zr(t.segments,s)}class nl{constructor(i,e,s){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=s,i&&s.length>0&&Wl(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(mo);if(a&&a!==Qf(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vp{constructor(i,e,s){this.segmentGroup=i,this.processChildren=e,this.index=s}}function bu(t,i,e){if(t||(t=new Zr([],{})),0===t.segments.length&&t.hasChildren())return mc(t,i,e);const s=function(t,i,e){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=e.length)return l;const y=t.segments[a],k=e[s];if(mo(k))break;const V=`${k}`,K=s<e.length-1?e[s+1]:null;if(a>0&&void 0===V)break;if(V&&K&&"object"==typeof K&&void 0===K.outlets){if(!xu(V,K,y))return l;s+=2}else{if(!xu(V,{},y))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,i,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const l=new Zr(t.segments.slice(0,s.pathIndex),{});return l.children[hs]=new Zr(t.segments.slice(s.pathIndex),t.children),mc(l,0,a)}return s.match&&0===a.length?new Zr(t.segments,{}):s.match&&!t.hasChildren()?Sg(t,i,e):s.match?mc(t,0,a):Sg(t,i,e)}function mc(t,i,e){if(0===e.length)return new Zr(t.segments,{});{const s=function(t){return mo(t[0])?t[0].outlets:{[hs]:t}}(e),a={};return el(s,(l,y)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[y]=bu(t.children[y],i,l))}),el(t.children,(l,y)=>{void 0===s[y]&&(a[y]=l)}),new Zr(t.segments,a)}}function Sg(t,i,e){const s=t.segments.slice(0,i);let a=0;for(;a<e.length;){const l=e[a];if(mo(l)){const V=Mf(l.outlets);return new Zr(s,V)}if(0===a&&Wl(e[0])){s.push(new ml(t.segments[i].path,Fy(e[0]))),a++;continue}const y=mo(l)?l.outlets[hs]:`${l}`,k=a<e.length-1?e[a+1]:null;y&&k&&Wl(k)?(s.push(new ml(y,Fy(k))),a+=2):(s.push(new ml(y,{})),a++)}return new Zr(s,{})}function Mf(t){const i={};return el(t,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[s]=Sg(new Zr([],{}),0,e))}),i}function Fy(t){const i={};return el(t,(e,s)=>i[s]=`${e}`),i}function xu(t,i,e){return t==e.path&&Ll(i,e.parameters)}class th{constructor(i,e,s,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(i){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,i),rm(this.futureState.root),this.activateChildRoutes(e,s,i)}deactivateChildRoutes(i,e,s){const a=yu(e);i.children.forEach(l=>{const y=l.value.outlet;this.deactivateRoutes(l,a[y],s),delete a[y]}),el(a,(l,y)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(a===l)if(a.component){const y=s.getContext(a.outlet);y&&this.deactivateChildRoutes(i,e,y.children)}else this.deactivateChildRoutes(i,e,s);else l&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(i,e){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const s=e.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,e){const s=e.getContext(i.value.outlet),a=s&&i.value.component?s.children:e,l=yu(i);for(const y of Object.keys(l))this.deactivateRouteAndItsChildren(l[y],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,e,s){const a=yu(e);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new Dr(l.value.snapshot))}),i.children.length&&this.forwardEvent(new M_(i.value.snapshot))}activateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(rm(a),a===l)if(a.component){const y=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,e,y.children)}else this.activateChildRoutes(i,e,s);else if(a.component){const y=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const k=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),y.children.onOutletReAttached(k.contexts),y.attachRef=k.componentRef,y.route=k.route.value,y.outlet&&y.outlet.attach(k.componentRef,k.route.value),om(k.route)}else{const k=function(t){for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),V=k?k.module.componentFactoryResolver:null;y.attachRef=null,y.route=a,y.resolver=V,y.outlet&&y.outlet.activateWith(a,V),this.activateChildRoutes(i,null,y.children)}}else this.activateChildRoutes(i,null,s)}}function om(t){rm(t.value),t.children.forEach(om)}class wd{constructor(i,e){this.routes=i,this.module=e}}function wu(t){return"function"==typeof t}function nh(t){return t instanceof xa}const Cu=Symbol("INITIAL_VALUE");function zp(){return Es(t=>kc(t.map(i=>i.pipe(ve(1),xn(Cu)))).pipe(Va((i,e)=>{let s=!1;return e.reduce((a,l,y)=>a!==Cu?a:(l===Cu&&(s=!0),s||!1!==l&&y!==e.length-1&&!nh(l)?a:l),i)},Cu),C(i=>i!==Cu),(0,Ei.U)(i=>nh(i)?i:!0===i),ve(1)))}let Bm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:function(){return[rh]},encapsulation:2}),t})();function Vm(t,i=""){for(let e=0;e<t.length;e++){const s=t[e];Ny(s,Yp(i,s))}}function Ny(t,i){t.children&&Vm(t.children,i)}function Yp(t,i){return i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t}function kg(t){const i=t.children&&t.children.map(kg),e=i?Object.assign(Object.assign({},t),{children:i}):Object.assign({},t);return!e.component&&(i||e.loadChildren)&&e.outlet&&e.outlet!==hs&&(e.component=Bm),e}function Zu(t){return t.outlet||hs}function kf(t,i){const e=t.filter(s=>Zu(s)===i);return e.push(...t.filter(s=>Zu(s)!==i)),e}const Eg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bp(t,i,e){var s;if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},Eg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||Zc)(e,t,i);if(!l)return Object.assign({},Eg);const y={};el(l.posParams,(V,K)=>{y[K]=V.path});const k=l.consumed.length>0?Object.assign(Object.assign({},y),l.consumed[l.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:k,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Ef(t,i,e,s,a="corrected"){if(e.length>0&&function(t,i,e){return e.some(s=>ie(t,i,s)&&Zu(s)!==hs)}(t,e,s)){const y=new Zr(i,function(t,i,e,s){const a={};a[hs]=s,s._sourceSegment=t,s._segmentIndexShift=i.length;for(const l of e)if(""===l.path&&Zu(l)!==hs){const y=new Zr([],{});y._sourceSegment=t,y._segmentIndexShift=i.length,a[Zu(l)]=y}return a}(t,i,s,new Zr(e,t.children)));return y._sourceSegment=t,y._segmentIndexShift=i.length,{segmentGroup:y,slicedSegments:[]}}if(0===e.length&&function(t,i,e){return e.some(s=>ie(t,i,s))}(t,e,s)){const y=new Zr(t.segments,function(t,i,e,s,a,l){const y={};for(const k of s)if(ie(t,e,k)&&!a[Zu(k)]){const V=new Zr([],{});V._sourceSegment=t,V._segmentIndexShift="legacy"===l?t.segments.length:i.length,y[Zu(k)]=V}return Object.assign(Object.assign({},a),y)}(t,i,e,s,t.children,a));return y._sourceSegment=t,y._segmentIndexShift=i.length,{segmentGroup:y,slicedSegments:e}}const l=new Zr(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:e}}function ie(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function ge(t,i,e,s){return!!(Zu(t)===s||s!==hs&&ie(i,e,t))&&("**"===t.path||Bp(i,t,e).matched)}function Pe(t,i,e){return 0===i.length&&!t.children[e]}class et{constructor(i){this.segmentGroup=i||null}}class lt{constructor(i){this.urlTree=i}}function Mt(t){return new Er.y(i=>i.error(new et(t)))}function Rt(t){return new Er.y(i=>i.error(new lt(t)))}function bn(t){return new Er.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Mi{constructor(i,e,s,a,l){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=Ef(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zr(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,e,hs).pipe((0,Ei.U)(l=>this.createUrlTree(Qi(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vi(l=>{if(l instanceof lt)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof et?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,hs).pipe((0,Ei.U)(a=>this.createUrlTree(Qi(a),i.queryParams,i.fragment))).pipe(Vi(a=>{throw a instanceof et?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,e,s){const a=i.segments.length>0?new Zr([],{[hs]:i}):i;return new xa(a,e,s)}expandSegmentGroup(i,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,e,s).pipe((0,Ei.U)(l=>new Zr([],l))):this.expandSegment(i,s,e,s.segments,a,!0)}expandChildren(i,e,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Fs.D)(a).pipe(Ho(l=>{const y=s.children[l],k=kf(e,l);return this.expandSegmentGroup(i,k,y,l).pipe((0,Ei.U)(V=>({segment:V,outlet:l})))}),Va((l,y)=>(l[y.outlet]=y.segment,l),{}),function(t,i){const e=arguments.length>=2;return s=>s.pipe(t?C((a,l)=>t(a,l,s)):vt.y,Ys(1),e?Ge(i):dt(()=>new f))}())}expandSegment(i,e,s,a,l,y){return(0,Fs.D)(s).pipe(Ho(k=>this.expandSegmentAgainstRoute(i,e,s,k,a,l,y).pipe(Vi(K=>{if(K instanceof et)return(0,Ti.of)(null);throw K}))),wt(k=>!!k),Vi((k,V)=>{if(k instanceof f||"EmptyError"===k.name){if(Pe(e,a,l))return(0,Ti.of)(new Zr([],{}));throw new et(e)}throw k}))}expandSegmentAgainstRoute(i,e,s,a,l,y,k){return ge(a,e,l,y)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,e,a,l,y):k&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,y):Mt(e):Mt(e)}expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,y){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,y):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Rt(l):this.lineralizeSegments(s,l).pipe((0,zs.zg)(y=>{const k=new Zr(y,{});return this.expandSegment(i,k,e,y,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,y){const{matched:k,consumedSegments:V,lastChild:K,positionalParamSegments:pe}=Bp(e,a,l);if(!k)return Mt(e);const Se=this.applyRedirectCommands(V,a.redirectTo,pe);return a.redirectTo.startsWith("/")?Rt(Se):this.lineralizeSegments(a,Se).pipe((0,zs.zg)(Ue=>this.expandSegment(i,e,s,Ue.concat(l.slice(K)),y,!1)))}matchSegmentAgainstRoute(i,e,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Ti.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,Ei.U)(Ue=>(s._loadedConfig=Ue,new Zr(a,{})))):(0,Ti.of)(new Zr(a,{}));const{matched:y,consumedSegments:k,lastChild:V}=Bp(e,s,a);if(!y)return Mt(e);const K=a.slice(V);return this.getChildConfig(i,s,a).pipe((0,zs.zg)(Se=>{const Ue=Se.module,Je=Se.routes,{segmentGroup:rt,slicedSegments:Tt}=Ef(e,k,K,Je),Qt=new Zr(rt.segments,rt.children);if(0===Tt.length&&Qt.hasChildren())return this.expandChildren(Ue,Je,Qt).pipe((0,Ei.U)(Di=>new Zr(k,Di)));if(0===Je.length&&0===Tt.length)return(0,Ti.of)(new Zr(k,{}));const Cn=Zu(s)===l;return this.expandSegment(Ue,Qt,Je,Tt,Cn?hs:l,!0).pipe((0,Ei.U)(Zn=>new Zr(k.concat(Zn.segments),Zn.children)))}))}getChildConfig(i,e,s){return e.children?(0,Ti.of)(new wd(e.children,i)):e.loadChildren?void 0!==e._loadedConfig?(0,Ti.of)(e._loadedConfig):this.runCanLoadGuards(i.injector,e,s).pipe((0,zs.zg)(a=>{return a?this.configLoader.load(i.injector,e).pipe((0,Ei.U)(l=>(e._loadedConfig=l,l))):(t=e,new Er.y(i=>i.error(Il(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,Ti.of)(new wd([],i))}runCanLoadGuards(i,e,s){const a=e.canLoad;if(!a||0===a.length)return(0,Ti.of)(!0);const l=a.map(y=>{const k=i.get(y);let V;if((t=k)&&wu(t.canLoad))V=k.canLoad(e,s);else{if(!wu(k))throw new Error("Invalid CanLoad guard");V=k(e,s)}var t;return tl(V)});return(0,Ti.of)(l).pipe(zp(),(0,La.b)(y=>{if(!nh(y))return;const k=Il(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw k.url=y,k}),(0,Ei.U)(y=>!0===y))}lineralizeSegments(i,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Ti.of)(s);if(a.numberOfChildren>1||!a.children[hs])return bn(i.redirectTo);a=a.children[hs]}}applyRedirectCommands(i,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),i,s)}applyRedirectCreatreUrlTree(i,e,s,a){const l=this.createSegmentGroup(i,e.root,s,a);return new xa(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const s={};return el(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const k=a.substring(1);s[l]=e[k]}else s[l]=a}),s}createSegmentGroup(i,e,s,a){const l=this.createSegments(i,e.segments,s,a);let y={};return el(e.children,(k,V)=>{y[V]=this.createSegmentGroup(i,k,s,a)}),new Zr(l,y)}createSegments(i,e,s,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${e.path}'.`);return a}findOrReturn(i,e){let s=0;for(const a of e){if(a.path===i.path)return e.splice(s),a;s++}return i}}function Qi(t){const i={};for(const s of Object.keys(t.children)){const l=Qi(t.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(t){if(1===t.numberOfChildren&&t.children[hs]){const i=t.children[hs];return new Zr(t.segments.concat(i.segments),i.children)}return t}(new Zr(t.segments,i))}class wa{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Ac{constructor(i,e){this.component=i,this.route=e}}function Vp(t,i,e){const s=t._root;return Hp(s,i?i._root:null,e,[s.value])}function Uo(t,i,e){const s=function(t){if(!t)return null;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(i);return(s?s.module.injector:e).get(t)}function Hp(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=yu(i);return t.children.forEach(y=>{(function(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,y=i?i.value:null,k=e?e.getContext(t.value.outlet):null;if(y&&l.routeConfig===y.routeConfig){const V=function(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Cs(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Cs(t.url,i.url)||!Ll(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(t,i)||!Ll(t.queryParams,i.queryParams);case"paramsChange":default:return!Ih(t,i)}}(y,l,l.routeConfig.runGuardsAndResolvers);V?a.canActivateChecks.push(new wa(s)):(l.data=y.data,l._resolvedData=y._resolvedData),Hp(t,i,l.component?k?k.children:null:e,s,a),V&&k&&k.outlet&&k.outlet.isActivated&&a.canDeactivateChecks.push(new Ac(k.outlet.component,y))}else y&&Ag(i,k,a),a.canActivateChecks.push(new wa(s)),Hp(t,null,l.component?k?k.children:null:e,s,a)})(y,l[y.value.outlet],e,s.concat([y.value]),a),delete l[y.value.outlet]}),el(l,(y,k)=>Ag(y,e.getContext(k),a)),a}function Ag(t,i,e){const s=yu(t),a=t.value;el(s,(l,y)=>{Ag(l,a.component?i?i.children.getContext(y):null:i,e)}),e.canDeactivateChecks.push(new Ac(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class Yy{}function Cd(t){return new Er.y(i=>i.error(t))}class bp{constructor(i,e,s,a,l,y){this.rootComponentType=i,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=y}recognize(){const i=Ef(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,i,hs);if(null===e)return null;const s=new vu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hs,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new _u(s,e),l=new Ah(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const e=i.value,s=bd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(i,e):this.processSegment(i,e,e.segments,s)}processChildren(i,e){const s=[];for(const l of Object.keys(e.children)){const y=e.children[l],k=kf(i,l),V=this.processSegmentGroup(k,y,l);if(null===V)return null;s.push(...V)}const a=Vv(s);return a.sort((i,e)=>i.value.outlet===hs?-1:e.value.outlet===hs?1:i.value.outlet.localeCompare(e.value.outlet)),a}processSegment(i,e,s,a){for(const l of i){const y=this.processSegmentAgainstRoute(l,e,s,a);if(null!==y)return y}return Pe(e,s,a)?[]:null}processSegmentAgainstRoute(i,e,s,a){if(i.redirectTo||!ge(i,e,s,a))return null;let l,y=[],k=[];if("**"===i.path){const Je=s.length>0?Qf(s).parameters:{};l=new vu(s,Je,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hv(i),Zu(i),i.component,i,A_(e),By(e)+s.length,qr(i))}else{const Je=Bp(e,i,s);if(!Je.matched)return null;y=Je.consumedSegments,k=s.slice(Je.lastChild),l=new vu(y,Je.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hv(i),Zu(i),i.component,i,A_(e),By(e)+y.length,qr(i))}const V=(t=i).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:K,slicedSegments:pe}=Ef(e,y,k,V.filter(Je=>void 0===Je.redirectTo),this.relativeLinkResolution);var t;if(0===pe.length&&K.hasChildren()){const Je=this.processChildren(V,K);return null===Je?null:[new _u(l,Je)]}if(0===V.length&&0===pe.length)return[new _u(l,[])];const Se=Zu(i)===a,Ue=this.processSegment(V,K,pe,Se?hs:a);return null===Ue?null:[new _u(l,Ue)]}}function m0(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function Vv(t){const i=[],e=new Set;for(const s of t){if(!m0(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):i.push(s)}for(const s of e){const a=Vv(s.children);i.push(new _u(s.value,a))}return i.filter(s=>!e.has(s))}function A_(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function By(t){let i=t,e=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift?i._segmentIndexShift:0;return e-1}function Hv(t){return t.data||{}}function qr(t){return t.resolve||{}}function Hy(t){return Es(i=>{const e=t(i);return e?(0,Fs.D)(e).pipe((0,Ei.U)(()=>i)):(0,Ti.of)(i)})}class Df extends class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}{}const Zm=new o.OlP("ROUTES");class Ig{constructor(i,e,s,a){this.loader=i,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Ei.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const y=l.create(i);return new wd(Jd(y.injector.get(Zm,void 0,o.XFs.Self|o.XFs.Optional)).map(kg),y)}),Vi(l=>{throw e._loader$=void 0,l}));return e._loader$=new Zt.c(a,()=>new ai.xQ).pipe((0,wg.x)()),e._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Fs.D)(this.loader.load(i)):tl(i()).pipe((0,zs.zg)(e=>e instanceof o.YKP?(0,Ti.of)(e):(0,Fs.D)(this.compiler.compileModuleAsync(e))))}}class ih{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lh,this.attachRef=null}}class Lh{constructor(){this.contexts=new Map}onChildOutletCreated(i,e){const s=this.getOrCreateContext(i);s.outlet=e,this.contexts.set(i,s)}onChildOutletDestroyed(i){const e=this.getContext(i);e&&(e.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let e=this.getContext(i);return e||(e=new ih,this.contexts.set(i,e)),e}getContext(i){return this.contexts.get(i)||null}}class Ph{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,e){return i}}function cm(t){throw t}function L_(t,i,e){return i.parse("/")}function Pg(t,i){return(0,Ti.of)(null)}const _0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ao=(()=>{class t{constructor(e,s,a,l,y,k,V,K){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=K,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ai.xQ,this.errorHandler=cm,this.malformedUriErrorHandler=L_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pg,afterPreactivation:Pg},this.urlHandlingStrategy=new Ph,this.routeReuseStrategy=new Df,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(o.h0i),this.console=y.get(o.c2e);const Ue=y.get(o.R0b);this.isNgZoneEnabled=Ue instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(K),this.currentUrlTree=new xa(new Zr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ig(k,V,Je=>this.triggerEvent(new Xf(Je)),Je=>this.triggerEvent(new dc(Je))),this.routerState=Pm(this.currentUrlTree,this.rootComponentType),this.transitions=new bo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(C(a=>0!==a.id),(0,Ei.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Es(a=>{let l=!1,y=!1;return(0,Ti.of)(a).pipe((0,La.b)(k=>{this.currentNavigation={id:k.id,initialUrl:k.currentRawUrl,extractedUrl:k.extractedUrl,trigger:k.source,extras:k.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Es(k=>{const V=!this.navigated||k.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||V)&&this.urlHandlingStrategy.shouldProcessUrl(k.rawUrl))return(0,Ti.of)(k).pipe(Es(pe=>{const Se=this.transitions.getValue();return s.next(new Ec(pe.id,this.serializeUrl(pe.extractedUrl),pe.source,pe.restoredState)),Se!==this.transitions.getValue()?fe.E:Promise.resolve(pe)}),function(t,i,e,s){return Es(a=>function(t,i,e,s,a){return new Mi(t,i,e,s,a).apply()}(t,i,e,a.extractedUrl,s).pipe((0,Ei.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,La.b)(pe=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:pe.urlAfterRedirects})}),function(t,i,e,s,a){return(0,zs.zg)(l=>function(t,i,e,s,a="emptyOnly",l="legacy"){try{const y=new bp(t,i,e,s,a,l).recognize();return null===y?Cd(new Yy):(0,Ti.of)(y)}catch(y){return Cd(y)}}(t,i,l.urlAfterRedirects,e(l.urlAfterRedirects),s,a).pipe((0,Ei.U)(y=>Object.assign(Object.assign({},l),{targetSnapshot:y}))))}(this.rootComponentType,this.config,pe=>this.serializeUrl(pe),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,La.b)(pe=>{"eager"===this.urlUpdateStrategy&&(pe.extras.skipLocationChange||this.setBrowserUrl(pe.urlAfterRedirects,pe),this.browserUrlTree=pe.urlAfterRedirects);const Se=new mp(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot);s.next(Se)}));if(V&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Se,extractedUrl:Ue,source:Je,restoredState:rt,extras:Tt}=k,Qt=new Ec(Se,this.serializeUrl(Ue),Je,rt);s.next(Qt);const Cn=Pm(Ue,this.rootComponentType).snapshot;return(0,Ti.of)(Object.assign(Object.assign({},k),{targetSnapshot:Cn,urlAfterRedirects:Ue,extras:Object.assign(Object.assign({},Tt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=k.rawUrl,this.browserUrlTree=k.urlAfterRedirects,k.resolve(null),fe.E}),Hy(k=>{const{targetSnapshot:V,id:K,extractedUrl:pe,rawUrl:Se,extras:{skipLocationChange:Ue,replaceUrl:Je}}=k;return this.hooks.beforePreactivation(V,{navigationId:K,appliedUrlTree:pe,rawUrlTree:Se,skipLocationChange:!!Ue,replaceUrl:!!Je})}),(0,La.b)(k=>{const V=new Xd(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(V)}),(0,Ei.U)(k=>Object.assign(Object.assign({},k),{guards:Vp(k.targetSnapshot,k.currentSnapshot,this.rootContexts)})),function(t,i){return(0,zs.zg)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:y}}=e;return 0===y.length&&0===l.length?(0,Ti.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,i,e,s){return(0,Fs.D)(t).pipe((0,zs.zg)(a=>function(t,i,e,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ti.of)(!0);const y=l.map(k=>{const V=Uo(k,i,a);let K;if(function(t){return t&&wu(t.canDeactivate)}(V))K=tl(V.canDeactivate(t,i,e,s));else{if(!wu(V))throw new Error("Invalid CanDeactivate guard");K=tl(V(t,i,e,s))}return K.pipe(wt())});return(0,Ti.of)(y).pipe(zp())}(a.component,a.route,e,i,s)),wt(a=>!0!==a,!0))}(y,s,a,t).pipe((0,zs.zg)(k=>k&&function(t){return"boolean"==typeof t}(k)?function(t,i,e,s){return(0,Fs.D)(i).pipe(Ho(a=>Be(function(t,i){return null!==t&&i&&i(new Cg(t)),(0,Ti.of)(!0)}(a.route.parent,s),function(t,i){return null!==t&&i&&i(new fl(t)),(0,Ti.of)(!0)}(a.route,s),function(t,i,e){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(y=>function(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(y)).filter(y=>null!==y).map(y=>Ke(()=>{const k=y.guards.map(V=>{const K=Uo(V,y.node,e);let pe;if(function(t){return t&&wu(t.canActivateChild)}(K))pe=tl(K.canActivateChild(s,t));else{if(!wu(K))throw new Error("Invalid CanActivateChild guard");pe=tl(K(s,t))}return pe.pipe(wt())});return(0,Ti.of)(k).pipe(zp())}));return(0,Ti.of)(l).pipe(zp())}(t,a.path,e),function(t,i,e){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Ti.of)(!0);const a=s.map(l=>Ke(()=>{const y=Uo(l,i,e);let k;if(function(t){return t&&wu(t.canActivate)}(y))k=tl(y.canActivate(i,t));else{if(!wu(y))throw new Error("Invalid CanActivate guard");k=tl(y(i,t))}return k.pipe(wt())}));return(0,Ti.of)(a).pipe(zp())}(t,a.route,e))),wt(a=>!0!==a,!0))}(s,l,t,i):(0,Ti.of)(k)),(0,Ei.U)(k=>Object.assign(Object.assign({},e),{guardsResult:k})))})}(this.ngModule.injector,k=>this.triggerEvent(k)),(0,La.b)(k=>{if(nh(k.guardsResult)){const K=Il(`Redirecting to "${this.serializeUrl(k.guardsResult)}"`);throw K.url=k.guardsResult,K}const V=new gp(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot,!!k.guardsResult);this.triggerEvent(V)}),C(k=>!!k.guardsResult||(this.restoreHistory(k),this.cancelNavigationTransition(k,""),!1)),Hy(k=>{if(k.guards.canActivateChecks.length)return(0,Ti.of)(k).pipe((0,La.b)(V=>{const K=new C_(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);this.triggerEvent(K)}),Es(V=>{let K=!1;return(0,Ti.of)(V).pipe(function(t,i){return(0,zs.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ti.of)(e);let l=0;return(0,Fs.D)(a).pipe(Ho(y=>function(t,i,e,s){return function(t,i,e,s){const a=Object.keys(t);if(0===a.length)return(0,Ti.of)({});const l={};return(0,Fs.D)(a).pipe((0,zs.zg)(y=>function(t,i,e,s){const a=Uo(t,i,s);return tl(a.resolve?a.resolve(i,e):a(i,e))}(t[y],i,e,s).pipe((0,La.b)(k=>{l[y]=k}))),Ys(1),(0,zs.zg)(()=>Object.keys(l).length===a.length?(0,Ti.of)(l):fe.E))}(t._resolve,t,i,s).pipe((0,Ei.U)(l=>(t._resolvedData=l,t.data=Object.assign(Object.assign({},t.data),bd(t,e).resolve),null)))}(y.route,s,t,i)),(0,La.b)(()=>l++),Ys(1),(0,zs.zg)(y=>l===a.length?(0,Ti.of)(e):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,La.b)({next:()=>K=!0,complete:()=>{K||(this.restoreHistory(V),this.cancelNavigationTransition(V,"At least one route resolver didn't emit any value."))}}))}),(0,La.b)(V=>{const K=new fu(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);this.triggerEvent(K)}))}),Hy(k=>{const{targetSnapshot:V,id:K,extractedUrl:pe,rawUrl:Se,extras:{skipLocationChange:Ue,replaceUrl:Je}}=k;return this.hooks.afterPreactivation(V,{navigationId:K,appliedUrlTree:pe,rawUrlTree:Se,skipLocationChange:!!Ue,replaceUrl:!!Je})}),(0,Ei.U)(k=>{const V=function(t,i,e){const s=Om(t,i._root,e?e._root:void 0);return new Lm(s,i)}(this.routeReuseStrategy,k.targetSnapshot,k.currentRouterState);return Object.assign(Object.assign({},k),{targetRouterState:V})}),(0,La.b)(k=>{this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects)}),((t,i,e)=>(0,Ei.U)(s=>(new th(i,s.targetRouterState,s.currentRouterState,e).activate(t),s)))(this.rootContexts,this.routeReuseStrategy,k=>this.triggerEvent(k)),(0,La.b)({next(){l=!0},complete(){l=!0}}),pp(()=>{if(!l&&!y){const k=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,k)):this.cancelNavigationTransition(a,k)}this.currentNavigation=null}),Vi(k=>{if(y=!0,function(t){return t&&t[_d]}(k)){const V=nh(k.url);V||(this.navigated=!0,this.restoreHistory(a,!0));const K=new $d(a.id,this.serializeUrl(a.extractedUrl),k.message);s.next(K),V?setTimeout(()=>{const pe=this.urlHandlingStrategy.merge(k.url,this.rawUrlTree);this.scheduleNavigation(pe,"imperative",null,{skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const V=new Th(a.id,this.serializeUrl(a.extractedUrl),k);s.next(V);try{a.resolve(this.errorHandler(k))}catch(K){a.reject(K)}}return fe.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:y}=s,k={replaceUrl:!0};if(l){const V=Object.assign({},l);delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(k.state=V)}this.scheduleNavigation(y,a,l,k)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const a=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!a||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Vm(e),this.config=e.map(kg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:l,fragment:y,queryParamsHandling:k,preserveFragment:V}=s,K=a||this.routerState.root,pe=V?this.currentUrlTree.fragment:y;let Se=null;switch(k){case"merge":Se=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":Se=this.currentUrlTree.queryParams;break;default:Se=l||null}return null!==Se&&(Se=this.removeEmptyProps(Se)),function(t,i,e,s,a){if(0===e.length)return wf(i.root,i.root,i,s,a);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nl(!0,0,t);let i=0,e=!1;const s=t.reduce((a,l,y)=>{if("object"==typeof l&&null!=l){if(l.outlets){const k={};return el(l.outlets,(V,K)=>{k[K]="string"==typeof V?V.split("/"):V}),[...a,{outlets:k}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===y?(l.split("/").forEach((k,V)=>{0==V&&"."===k||(0==V&&""===k?e=!0:".."===k?i++:""!=k&&a.push(k))}),a):[...a,l]},[]);return new nl(e,i,s)}(e);if(l.toRoot())return wf(i.root,new Zr([],{}),i,s,a);const y=function(t,i,e){if(t.isAbsolute)return new vp(i.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new vp(l,l===i.root,0)}const s=Wl(t.commands[0])?0:1;return function(t,i,e){let s=t,a=i,l=e;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new vp(s,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,t.numberOfDoubleDots)}(l,i,t),k=y.processChildren?mc(y.segmentGroup,y.index,l.commands):bu(y.segmentGroup,y.index,l.commands);return wf(y.segmentGroup,k,i,s,a)}(K,this.currentUrlTree,e,Se,null!=pe?pe:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=nh(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${i}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},_0):!1===s?Object.assign({},y0):s,nh(e))return Kf(this.currentUrlTree,e,a);const l=this.parseUrl(e);return Kf(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const l=e[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new yr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,a,l,y){var k,V;if(this.disposed)return Promise.resolve(!1);const K=this.getTransition(),pe="imperative"!==s&&"imperative"===(null==K?void 0:K.source),Je=(this.lastSuccessfulId===K.id||this.currentNavigation?K.rawUrl:K.urlAfterRedirects).toString()===e.toString();if(pe&&Je)return Promise.resolve(!0);let rt,Tt,Qt;y?(rt=y.resolve,Tt=y.reject,Qt=y.promise):Qt=new Promise((Zn,Di)=>{rt=Zn,Tt=Di});const Cn=++this.navigationId;let Jn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Jn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(k=this.browserPageId)&&void 0!==k?k:0:(null!==(V=this.browserPageId)&&void 0!==V?V:0)+1):Jn=0,this.setTransition({id:Cn,targetPageId:Jn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:rt,reject:Tt,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(Zn=>Promise.reject(Zn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===y?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===y&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new $d(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.DyG),o.LFG(_f),o.LFG(Lh),o.LFG(oi),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Af=(()=>{class t{constructor(e,s,a,l,y){this.router=e,this.route=s,this.commands=[],this.onChanges=new ai.xQ,null==a&&l.setAttribute(y.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:If(this.skipLocationChange),replaceUrl:If(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:If(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ao),o.Y36(pc),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})(),jp=(()=>{class t{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new ai.xQ,this.subscription=e.events.subscribe(l=>{l instanceof yr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,l,y){if(0!==e||s||a||l||y||"string"==typeof this.target&&"_self"!=this.target)return!0;const k={skipLocationChange:If(this.skipLocationChange),replaceUrl:If(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,k),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:If(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ao),o.Y36(pc),o.Y36(ei))},t.\u0275dir=o.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&(o.Ikx("href",s.href,o.LSH),o.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})();function If(t){return""===t||!!t}let Og=(()=>{class t{constructor(e,s,a,l,y,k){this.router=e,this.element=s,this.renderer=a,this.cdr=l,this.link=y,this.linkWithHref=k,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(V=>{V instanceof yr&&this.update()})}ngAfterContentInit(){(0,Ti.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ti.of)(null)).pipe((0,oe.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,Fs.D)(s).pipe((0,oe.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(e){const s=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>e.isActive(a.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ao),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Af,8),o.Y36(jp,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,Af,5),o.Suo(a,jp,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.links=l),o.iGM(l=o.CRH())&&(s.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.TTD]}),t})(),rh=(()=>{class t{constructor(e,s,a,l,y){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||hs,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const y=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),k=this.parentContexts.getOrCreateContext(this.name).children,V=new b0(e,k,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,V),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Lh),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},t.\u0275dir=o.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class b0{constructor(i,e,s){this.route=i,this.childContexts=e,this.parent=s}get(i,e){return i===pc?this.route:i===Lh?this.childContexts:this.parent.get(i,e)}}class Gv{}class Rg{preload(i,e){return(0,Ti.of)(null)}}let w0=(()=>{class t{constructor(e,s,a,l,y){this.router=e,this.injector=l,this.preloadingStrategy=y,this.loader=new Ig(s,a,K=>e.triggerEvent(new Xf(K)),K=>e.triggerEvent(new dc(K)))}setUpPreloading(){this.subscription=this.router.events.pipe(C(e=>e instanceof yr),Ho(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const y=l._loadedConfig;a.push(this.processRoutes(y.module,y.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,Fs.D)(a).pipe((0,oe.J)(),(0,Ei.U)(l=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Ti.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,zs.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ao),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Gv))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Zv=(()=>{class t{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Bu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Bu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ao),o.LFG(di),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const um=new o.OlP("ROUTER_CONFIGURATION"),Wv=new o.OlP("ROUTER_FORROOT_GUARD"),Fg=[oi,{provide:_f,useClass:vd},{provide:Ao,useFactory:function(t,i,e,s,a,l,y,k={},V,K){const pe=new Ao(null,t,i,e,s,a,l,Jd(y));return V&&(pe.urlHandlingStrategy=V),K&&(pe.routeReuseStrategy=K),function(t,i){t.errorHandler&&(i.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(i.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(i.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(i.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(i.urlUpdateStrategy=t.urlUpdateStrategy)}(k,pe),k.enableTracing&&pe.events.subscribe(Se=>{var Ue,Je;null===(Ue=console.group)||void 0===Ue||Ue.call(console,`Router Event: ${Se.constructor.name}`),console.log(Se.toString()),console.log(Se),null===(Je=console.groupEnd)||void 0===Je||Je.call(console)}),pe},deps:[_f,Lh,oi,o.zs3,o.v3s,o.Sil,Zm,um,[class{},new o.FiY],[class{},new o.FiY]]},Lh,{provide:pc,useFactory:function(t){return t.routerState.root},deps:[Ao]},{provide:o.v3s,useClass:o.EAV},w0,Rg,class{preload(i,e){return e().pipe(Vi(()=>(0,Ti.of)(null)))}},{provide:um,useValue:{enableTracing:!1}}];function sh(){return new o.PXZ("Router",Ao)}let Ng=(()=>{class t{constructor(e,s){}static forRoot(e,s){return{ngModule:t,providers:[Fg,O_(e),{provide:Wv,useFactory:Oh,deps:[[Ao,new o.FiY,new o.tp0]]},{provide:um,useValue:s||{}},{provide:ei,useFactory:P_,deps:[xe,[new o.tBr(jt),new o.FiY],um]},{provide:Zv,useFactory:qv,deps:[Ao,di,um]},{provide:Gv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Rg},{provide:o.PXZ,multi:!0,useFactory:sh},[Lf,{provide:o.ip1,multi:!0,useFactory:$v,deps:[Lf]},{provide:zg,useFactory:C0,deps:[Lf]},{provide:o.tb,multi:!0,useExisting:zg}]]}}static forChild(e){return{ngModule:t,providers:[O_(e)]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Wv,8),o.LFG(Ao,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();function qv(t,i,e){return e.scrollOffset&&i.setOffset(e.scrollOffset),new Zv(t,i,e)}function P_(t,i,e={}){return e.useHash?new rs(t,i):new tr(t,i)}function Oh(t){return"guarded"}function O_(t){return[{provide:o.deG,multi:!0,useValue:t},{provide:Zm,multi:!0,useValue:t}]}let Lf=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ai.xQ}appInitializer(){return this.injector.get(He,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(k=>s=k),l=this.injector.get(Ao),y=this.injector.get(um);return"disabled"===y.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ti.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(um),a=this.injector.get(w0),l=this.injector.get(Zv),y=this.injector.get(Ao),k=this.injector.get(o.z2F);e===k.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&y.initialNavigation(),a.setUpPreloading(),l.init(),y.resetRootComponentType(k.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function $v(t){return t.appInitializer.bind(t)}function C0(t){return t.bootstrapListener.bind(t)}const zg=new o.OlP("Router Initializer");function Gp(){return t=>t.lift(new Wm)}class Wm{call(i,e){return e.subscribe(new Pf(i))}}class Pf extends yo.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let e;this.hasPrev?e=[this.prev,i]:this.hasPrev=!0,this.prev=i,e&&this.destination.next(e)}}var hm=De(4969),gt=De(4762),Ss=De(4685),oh=De(300),Mu=function(t,i){return(Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])})(t,i)};function R_(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],s=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var zi,Yg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bg=Bg||{},$r=Yg||self;function pm(){}function qm(t){var i=typeof t;return"array"==(i="object"!=i?i:t?Array.isArray(t)?"array":i:"null")||"object"==i&&"number"==typeof t.length}function Of(t){var i=typeof t;return"object"==i&&null!=t||"function"==i}var $m="closure_uid_"+(1e9*Math.random()>>>0),Wu=0;function Rf(t,i,e){return t.call.apply(t.bind,arguments)}function Qv(t,i,e){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),t.apply(i,a)}}return function(){return t.apply(i,arguments)}}function Ca(t,i,e){return(Ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rf:Qv).apply(null,arguments)}function zr(t,i){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function so(t,i){function e(){}e.prototype=i.prototype,t.Z=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Vb=function(s,a,l){for(var y=Array(arguments.length-2),k=2;k<arguments.length;k++)y[k-2]=arguments[k];return i.prototype[a].apply(s,y)}}function gl(){this.s=this.s,this.o=this.o}var nw={};gl.prototype.s=!1,gl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,$m)&&t[$m]||(t[$m]=++Wu)}(this);delete nw[t]}},gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ff=Array.prototype.indexOf?function(t,i){return Array.prototype.indexOf.call(t,i,void 0)}:function(t,i){if("string"==typeof t)return"string"!=typeof i||1!=i.length?-1:t.indexOf(i,0);for(var e=0;e<t.length;e++)if(e in t&&t[e]===i)return e;return-1},Vg=Array.prototype.forEach?function(t,i,e){Array.prototype.forEach.call(t,i,e)}:function(t,i,e){for(var s=t.length,a="string"==typeof t?t.split(""):t,l=0;l<s;l++)l in a&&i.call(e,a[l],l,t)};function Gy(t){return Array.prototype.concat.apply([],arguments)}function Xm(t){var i=t.length;if(0<i){for(var e=Array(i),s=0;s<i;s++)e[s]=t[s];return e}return[]}function Qm(t){return/^[\s\xa0]*$/.test(t)}var ja,Hg=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gc(t,i){return-1!=t.indexOf(i)}function qu(t,i){return t<i?-1:t>i?1:0}e:{var Jm=$r.navigator;if(Jm){var Rr=Jm.userAgent;if(Rr){ja=Rr;break e}}ja=""}function Ma(t,i,e){for(var s in t)i.call(e,t[s],s,t)}function F_(t){var i={};for(var e in t)i[e]=t[e];return i}var N_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z_(t,i){for(var e,s,a=1;a<arguments.length;a++){for(e in s=arguments[a])t[e]=s[e];for(var l=0;l<N_.length;l++)e=N_[l],Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}}function Ug(t){return Ug[" "](t),t}Ug[" "]=pm;var Nf,t,jg=gc(ja,"Opera"),Rh=gc(ja,"Trident")||gc(ja,"MSIE"),Gg=gc(ja,"Edge"),Km=Gg||Rh,Zg=gc(ja,"Gecko")&&!(gc(ja.toLowerCase(),"webkit")&&!gc(ja,"Edge"))&&!(gc(ja,"Trident")||gc(ja,"MSIE"))&&!gc(ja,"Edge"),Jv=gc(ja.toLowerCase(),"webkit")&&!gc(ja,"Edge");function Zy(){var t=$r.document;return t?t.documentMode:void 0}e:{var ql="",Zp=(t=ja,Zg?/rv:([^\);]+)(\)|;)/.exec(t):Gg?/Edge\/([\d\.]+)/.exec(t):Rh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Jv?/WebKit\/(\S+)/.exec(t):jg?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Zp&&(ql=Zp?Zp[1]:""),Rh){var Ic=Zy();if(null!=Ic&&Ic>parseFloat(ql)){Nf=String(Ic);break e}}Nf=ql}var zf={};function Y_(){return i=zf,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var t=0,i=Hg(String(Nf)).split("."),e=Hg("9").split("."),s=Math.max(i.length,e.length),a=0;0==t&&a<s;a++){var l=i[a]||"",y=e[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==l[0].length&&0==y[0].length)break;t=qu(0==l[1].length?0:parseInt(l[1],10),0==y[1].length?0:parseInt(y[1],10))||qu(0==l[2].length,0==y[2].length)||qu(l[2],y[2]),l=l[3],y=y[3]}while(0==t)}return 0<=t}();var i}var Wg=$r.document&&Rh&&(Zy()||parseInt(Nf,10))||void 0,xp=function(){if(!$r.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$r.addEventListener("test",pm,i),$r.removeEventListener("test",pm,i)}catch(e){}return t}();function ir(t,i){this.type=t,this.g=this.target=i,this.defaultPrevented=!1}function fm(t,i){if(ir.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var e=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=i,i=t.relatedTarget){if(Zg){e:{try{Ug(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==e?i=t.fromElement:"mouseout"==e&&(i=t.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Tu[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fm.Z.h.call(this)}}ir.prototype.h=function(){this.defaultPrevented=!0},so(fm,ir);var Tu={2:"touch",3:"pen",4:"mouse"};fm.prototype.h=function(){fm.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var eg="closure_listenable_"+(1e6*Math.random()|0),Kv=0;function oo(t,i,e,s,a){this.listener=t,this.proxy=null,this.src=i,this.type=e,this.capture=!!s,this.ia=a,this.key=++Kv,this.ca=this.fa=!1}function tg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Sd(t){this.src=t,this.g={},this.h=0}function Yf(t,i){var e=i.type;if(e in t.g){var l,s=t.g[e],a=Ff(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(tg(i),0==t.g[e].length&&(delete t.g[e],t.h--))}}function mm(t,i,e,s){for(var a=0;a<t.length;++a){var l=t[a];if(!l.ca&&l.listener==i&&l.capture==!!e&&l.ia==s)return a}return-1}Sd.prototype.add=function(t,i,e,s,a){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var y=mm(t,i,s,a);return-1<y?(i=t[y],e||(i.fa=!1)):((i=new oo(i,this.src,l,!!s,a)).fa=e,t.push(i)),i};var Fh="closure_lm_"+(1e6*Math.random()|0),Nh={};function H_(t,i,e,s,a){if(s&&s.once)return qp(t,i,e,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)H_(t,i[l],e,s,a);return null}return e=ig(e),t&&t[eg]?t.N(i,e,Of(s)?!!s.capture:!!s,a):U_(t,i,e,!1,s,a)}function U_(t,i,e,s,a,l){if(!i)throw Error("Invalid event type");var y=Of(a)?!!a.capture:!!a,k=ng(t);if(k||(t[Fh]=k=new Sd(t)),(e=k.add(i,e,s,y,l)).proxy)return e;if(s=function(){var i=eb;return function t(e){return i.call(t.src,t.listener,e)}}(),e.proxy=s,s.src=t,s.listener=e,t.addEventListener)xp||(a=y),void 0===a&&(a=!1),t.addEventListener(i.toString(),s,a);else if(t.attachEvent)t.attachEvent(ah(i.toString()),s);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(s)}return e}function qp(t,i,e,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)qp(t,i[l],e,s,a);return null}return e=ig(e),t&&t[eg]?t.O(i,e,Of(s)?!!s.capture:!!s,a):U_(t,i,e,!0,s,a)}function qg(t,i,e,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)qg(t,i[l],e,s,a);else s=Of(s)?!!s.capture:!!s,e=ig(e),t&&t[eg]?(t=t.i,(i=String(i).toString())in t.g&&-1<(e=mm(l=t.g[i],e,s,a))&&(tg(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete t.g[i],t.h--))):t&&(t=ng(t))&&(i=t.g[i.toString()],t=-1,i&&(t=mm(i,e,s,a)),(e=-1<t?i[t]:null)&&Lc(e))}function Lc(t){if("number"!=typeof t&&t&&!t.ca){var i=t.src;if(i&&i[eg])Yf(i.i,t);else{var e=t.type,s=t.proxy;i.removeEventListener?i.removeEventListener(e,s,t.capture):i.detachEvent?i.detachEvent(ah(e),s):i.addListener&&i.removeListener&&i.removeListener(s),(e=ng(i))?(Yf(e,t),0==e.h&&(e.src=null,i[Fh]=null)):tg(t)}}}function ah(t){return t in Nh?Nh[t]:Nh[t]="on"+t}function eb(t,i){if(t.ca)t=!0;else{i=new fm(i,this);var e=t.listener,s=t.ia||t.src;t.fa&&Lc(t),t=e.call(s,i)}return t}function ng(t){return(t=t[Fh])instanceof Sd?t:null}var gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ig(t){return"function"==typeof t?t:(t[gm]||(t[gm]=function(i){return t.handleEvent(i)}),t[gm])}function Ol(){gl.call(this),this.i=new Sd(this),this.P=this,this.I=null}function $l(t,i){var e,s=t.I;if(s)for(e=[];s;s=s.I)e.push(s);if(t=t.P,s=i.type||i,"string"==typeof i)i=new ir(i,t);else if(i instanceof ir)i.target=i.target||t;else{var a=i;z_(i=new ir(s,t),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var y=i.g=e[l];a=_m(y,s,!0,i)&&a}if(a=_m(y=i.g=t,s,!0,i)&&a,a=_m(y,s,!1,i)&&a,e)for(l=0;l<e.length;l++)a=_m(y=i.g=e[l],s,!1,i)&&a}function _m(t,i,e,s){if(!(i=t.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var y=i[l];if(y&&!y.ca&&y.capture==e){var k=y.listener,V=y.ia||y.src;y.fa&&Yf(t.i,y),a=!1!==k.call(V,s)&&a}}return a&&!s.defaultPrevented}so(Ol,gl),Ol.prototype[eg]=!0,Ol.prototype.removeEventListener=function(t,i,e,s){qg(this,t,i,e,s)},Ol.prototype.M=function(){if(Ol.Z.M.call(this),this.i){var i,t=this.i;for(i in t.g){for(var e=t.g[i],s=0;s<e.length;s++)tg(e[s]);delete t.g[i],t.h--}}this.I=null},Ol.prototype.N=function(t,i,e,s){return this.i.add(String(t),i,!1,e,s)},Ol.prototype.O=function(t,i,e,s){return this.i.add(String(t),i,!0,e,s)};var Wy=$r.JSON.stringify;function qy(){var t=B,i=null;return t.g&&(i=t.g,t.g=t.g.next,t.g||(t.h=null),i.next=null),i}var w,Rl=function(){function t(){this.h=this.g=null}return t.prototype.add=function(i,e){var s=yl.get();s.set(i,e),this.h?this.h.next=s:this.g=s,this.h=s},t}(),yl=new(function(){function t(i,e){this.i=i,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},t}())(function(){return new g},function(t){return t.reset()}),g=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(i,e){this.h=i,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function c(t){$r.setTimeout(function(){throw t},0)}function _(t,i){w||function(){var t=$r.Promise.resolve(void 0);w=function(){t.then(Q)}}(),F||(w(),F=!0),B.add(t,i)}var F=!1,B=new Rl;function Q(){for(var t;t=qy();){try{t.h.call(t.g)}catch(e){c(e)}var i=yl;i.j(t),100>i.h&&(i.h++,t.next=i.g,i.g=t)}F=!1}function ne(t,i){Ol.call(this),this.h=t||1,this.g=i||$r,this.j=Ca(this.kb,this),this.l=Date.now()}function he(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ye(t,i,e){if("function"==typeof t)e&&(t=Ca(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ca(t.handleEvent,t)}return 2147483647<Number(i)?-1:$r.setTimeout(t,i||0)}function we(t){t.g=ye(function(){t.g=null,t.i&&(t.i=!1,we(t))},t.j);var i=t.h;t.h=null,t.m.apply(null,i)}so(ne,Ol),(zi=ne.prototype).da=!1,zi.S=null,zi.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$l(this,"tick"),this.da&&(he(this),this.start()))}},zi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zi.M=function(){ne.Z.M.call(this),he(this),delete this.g};var Ie=function(t){function i(e,s){var a=t.call(this)||this;return a.m=e,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}Mu(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,t),i.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:we(this)},i.prototype.M=function(){t.prototype.M.call(this),this.g&&($r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(gl);function Ye(t){gl.call(this),this.h=t,this.g={}}so(Ye,gl);var Qe=[];function mt(t,i,e,s){Array.isArray(e)||(e&&(Qe[0]=e.toString()),e=Qe);for(var a=0;a<e.length;a++){var l=H_(i,e[a],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function Et(t){Ma(t.g,function(i,e){this.g.hasOwnProperty(e)&&Lc(i)},t),t.g={}}function Yt(){this.g=!0}function on(t,i,e,s){t.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(t,i){if(!t.g)return i;if(!i)return null;try{var e=JSON.parse(i);if(e)for(t=0;t<e.length;t++)if(Array.isArray(e[t])){var s=e[t];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var y=1;y<a.length;y++)a[y]=""}}}return Wy(e)}catch(k){return i}}(t,e)+(s?" "+s:"")})}Ye.prototype.M=function(){Ye.Z.M.call(this),Et(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Aa=function(){this.g=!1},Yt.prototype.info=function(){};var zn={},Xn=null;function Bn(){return Xn=Xn||new Ol}function ri(t){ir.call(this,zn.Ma,t)}function An(t){var i=Bn();$l(i,new ri(i,t))}function Vn(t,i){ir.call(this,zn.STAT_EVENT,t),this.stat=i}function Kn(t){var i=Bn();$l(i,new Vn(i,t))}function Dn(t,i){ir.call(this,zn.Na,t),this.size=i}function rr(t,i){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $r.setTimeout(function(){t()},i)}zn.Ma="serverreachability",so(ri,ir),zn.STAT_EVENT="statevent",so(Vn,ir),zn.Na="timingevent",so(Dn,ir);var Ar={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ir(){}function ao(){}Ir.prototype.h=null;var Ta,Hi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jo(){ir.call(this,"d")}function Oa(){ir.call(this,"c")}function vl(){}function Go(t,i,e,s){this.l=t,this.j=i,this.m=e,this.X=s||1,this.V=new Ye(this),this.P=xo,this.W=new ne(t=Km?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zo}function Zo(){this.i=null,this.g="",this.h=!1}so(jo,ir),so(Oa,ir),so(vl,Ir),vl.prototype.g=function(){return new XMLHttpRequest},vl.prototype.i=function(){return{}},Ta=new vl;var xo=45e3,Jo={},Io={};function il(t,i,e){t.K=1,t.v=lh(Fl(i)),t.s=e,t.U=!0,wo(t,null)}function wo(t,i){t.F=Date.now(),Lo(t),t.A=Fl(t.v);var e=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Jg(e.h,"t",s),t.C=0,e=t.l.H,t.h=new Zo,t.g=XT(t.l,e?i:null,!t.s),0<t.O&&(t.L=new Ie(Ca(t.Ia,t,t.g),t.O)),mt(t.V,t.g,"readystatechange",t.gb),i=t.H?F_(t.H):{},t.s?(t.u||(t.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,i)):(t.u="GET",t.g.ea(t.A,t.u,null,i)),An(1),function(t,i,e,s,a,l){t.info(function(){if(t.g)if(l)for(var y="",k=l.split("&"),V=0;V<k.length;V++){var K=k[V].split("=");if(1<K.length){var pe=K[0];K=K[1];var Se=pe.split("_");y=2<=Se.length&&"type"==Se[1]?y+(pe+"=")+K+"&":y+(pe+"=redacted&")}}else y=null;else y=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+e+"\n"+y})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ks(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ra(t,i,e){for(var a,s=!0;!t.I&&t.C<e.length;){if((a=ca(t,e))==Io){4==i&&(t.o=4,Kn(14),s=!1),on(t.j,t.m,null,"[Incomplete Response]");break}if(a==Jo){t.o=4,Kn(15),on(t.j,t.m,e,"[Invalid Chunk]"),s=!1;break}on(t.j,t.m,a,null),Ms(t,a)}Ks(t)&&a!=Io&&a!=Jo&&(t.h.g="",t.C=0),4!=i||0!=e.length||t.h.h||(t.o=1,Kn(16),s=!1),t.i=t.i&&s,s?0<e.length&&!t.aa&&(t.aa=!0,(i=t.l).g==t&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),nC(i),i.L=!0,Kn(11))):(on(t.j,t.m,e,"[Invalid Chunked Response]"),ua(t),Pc(t))}function ca(t,i){var e=t.C,s=i.indexOf("\n",e);return-1==s?Io:(e=Number(i.substring(e,s)),isNaN(e)?Jo:(s+=1)+e>i.length?Io:(i=i.substr(s,e),t.C=s+e,i))}function Lo(t){t.Y=Date.now()+t.P,Xl(t,t.P)}function Xl(t,i){if(null!=t.B)throw Error("WatchDog timer not null");t.B=rr(Ca(t.eb,t),i)}function Wo(t){t.B&&($r.clearTimeout(t.B),t.B=null)}function Pc(t){0==t.l.G||t.I||WT(t.l,t)}function ua(t){Wo(t);var i=t.L;i&&"function"==typeof i.na&&i.na(),t.L=null,he(t.W),Et(t.V),t.g&&(i=t.g,t.g=null,i.abort(),i.na())}function Ms(t,i){try{var e=t.l;if(0!=e.G&&(e.g==t||tb(e.i,t)))if(e.I=t.N,!t.J&&tb(e.i,t)&&3==e.G){try{var s=e.Ca.g.parse(i)}catch(Qt){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=rr(Ca(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<t.F))break e;lw(e),ow(e)}ab(e),Kn(18)}if(1>=D0(e.i)&&e.ka){try{e.ka()}catch(Qt){}e.ka=void 0}}else $y(e,11)}else if((t.J||e.g==t)&&lw(e),!Qm(i))for(a=e.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(e.U=l[0],l=l[1],2==e.G)if("c"==l[0]){e.J=l[1],e.la=l[2];var y=l[3];null!=y&&(e.ma=y,e.h.info("VER="+e.ma));var k=l[4];null!=k&&(e.za=k,e.h.info("SVER="+e.za));var V=l[5];null!=V&&"number"==typeof V&&0<V&&(e.K=s=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var K=t.g;if(K){var pe=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pe){var Se=s.i;!Se.g&&(gc(pe,"spdy")||gc(pe,"quic")||gc(pe,"h2"))&&(Se.j=Se.l,Se.g=new Set,Se.h&&(nb(Se,Se.h),Se.h=null))}if(s.D){var Ue=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ue&&(s.sa=Ue,Co(s.F,s.D,Ue))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-t.F,e.h.info("Handshake RTT: "+e.O+"ms"));var Je=t;if((s=e).oa=rC(s,s.H?s.la:null,s.W),Je.J){A0(s.i,Je);var rt=Je,Tt=s.K;Tt&&rt.setTimeout(Tt),rt.B&&(Wo(rt),Lo(rt)),s.g=Je}else tC(s);0<e.l.length&&aw(e)}else"stop"!=l[0]&&"close"!=l[0]||$y(e,7);else 3==e.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?$y(e,7):UT(e):"noop"!=l[0]&&e.j&&e.j.wa(l),e.A=0)}An(4)}catch(Qt){}}function Oc(t,i){if(t.forEach&&"function"==typeof t.forEach)t.forEach(i,void 0);else if(qm(t)||"string"==typeof t)Vg(t,i,void 0);else{if(t.T&&"function"==typeof t.T)var e=t.T();else if(t.R&&"function"==typeof t.R)e=void 0;else if(qm(t)||"string"==typeof t){e=[];for(var s=t.length,a=0;a<s;a++)e.push(a)}else for(a in e=[],s=0,t)e[s++]=a;a=(s=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(qm(t)){for(var i=[],e=t.length,s=0;s<e;s++)i.push(t[s]);return i}for(s in i=[],e=0,t)i[e++]=t[s];return i}(t)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],e&&e[l],t)}}function Qs(t,i){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof Qs)for(e=t.T(),s=0;s<e.length;s++)this.set(e[s],t.get(e[s]));else for(s in t)this.set(s,t[s])}function $u(t){if(t.i!=t.g.length){for(var i=0,e=0;i<t.g.length;){var s=t.g[i];Rc(t.h,s)&&(t.g[e++]=s),i++}t.g.length=e}if(t.i!=t.g.length){var a={};for(e=i=0;i<t.g.length;)Rc(a,s=t.g[i])||(t.g[e++]=s,a[s]=1),i++;t.g.length=e}}function Rc(t,i){return Object.prototype.hasOwnProperty.call(t,i)}(zi=Go.prototype).setTimeout=function(t){this.P=t},zi.gb=function(t){t=t.target;var i=this.L;i&&3==ea(t)?i.l():this.Ia(t)},zi.Ia=function(t){try{if(t==this.g)e:{var i=ea(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||Km||this.g&&(this.h.h||this.g.ga()||hh(this.g)))){this.I||4!=i||7==e||An(8==e||0>=s?3:2),Wo(this);var a=this.g.ba();this.N=a;t:if(Ks(this)){var l=hh(this.g);t="";var y=l.length,k=4==ea(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ua(this),Pc(this);var V="";break t}this.h.i=new $r.TextDecoder}for(e=0;e<y;e++)this.h.h=!0,t+=this.h.i.decode(l[e],{stream:k&&e==y-1});l.splice(0,y),this.h.g+=t,this.C=0,V=this.h.g}else V=this.g.ga();if(this.i=200==a,function(t,i,e,s,a,l,y){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+e+"\n"+l+" "+y})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var K,pe=this.g;if((K=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qm(K)){var Se=K;break t}}Se=null}if(!(a=Se)){this.i=!1,this.o=3,Kn(12),ua(this),Pc(this);break e}on(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,a)}this.U?(Ra(this,i,V),Km&&this.i&&3==i&&(mt(this.V,this.W,"tick",this.fb),this.W.start())):(on(this.j,this.m,V,null),Ms(this,V)),4==i&&ua(this),this.i&&!this.I&&(4==i?WT(this.l,this):(this.i=!1,Lo(this)))}else 400==a&&0<V.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),ua(this),Pc(this)}}}catch(Ue){}},zi.fb=function(){if(this.g){var t=ea(this.g),i=this.g.ga();this.C<i.length&&(Wo(this),Ra(this,t,i),this.i&&4!=t&&Lo(this))}},zi.cancel=function(){this.I=!0,ua(this)},zi.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,i){t.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(An(3),Kn(17)),ua(this),this.o=2,Pc(this)):Xl(this,this.Y-t)},(zi=Qs.prototype).R=function(){$u(this);for(var t=[],i=0;i<this.g.length;i++)t.push(this.h[this.g[i]]);return t},zi.T=function(){return $u(this),this.g.concat()},zi.get=function(t,i){return Rc(this.h,t)?this.h[t]:i},zi.set=function(t,i){Rc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=i},zi.forEach=function(t,i){for(var e=this.T(),s=0;s<e.length;s++){var a=e[s],l=this.get(a);t.call(i,l,a,this)}};var $p=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ga(t,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ga){this.g=void 0!==i?i:t.g,kd(this,t.j),this.s=t.s,Za(this,t.i),Xp(this,t.m),this.l=t.l,i=t.h;var e=new Bf;e.i=i.i,i.g&&(e.g=new Qs(i.g),e.h=i.h),Xu(this,e),this.o=t.o}else t&&(e=String(t).match($p))?(this.g=!!i,kd(this,e[1]||"",!0),this.s=Ko(e[2]||""),Za(this,e[3]||"",!0),Xp(this,e[4]),this.l=Ko(e[5]||"",!0),Xu(this,e[6]||"",!0),this.o=Ko(e[7]||"")):(this.g=!!i,this.h=new Bf(null,this.g))}function Fl(t){return new Ga(t)}function kd(t,i,e){t.j=e?Ko(i,!0):i,t.j&&(t.j=t.j.replace(/:$/,""))}function Za(t,i,e){t.i=e?Ko(i,!0):i}function Xp(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.m=i}else t.m=null}function Xu(t,i,e){i instanceof Bf?(t.h=i,function(t,i){i&&!t.j&&(zh(t),t.i=null,t.g.forEach(function(e,s){var a=s.toLowerCase();s!=a&&(Xg(this,s),Jg(this,a,e))},t)),t.j=i}(t.h,t.g)):(e||(i=rl(i,S0)),t.h=new Bf(i,t.g))}function Co(t,i,e){t.h.set(i,e)}function lh(t){return Co(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ko(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,i,e){return"string"==typeof t?(t=encodeURI(t).replace(i,sl),e&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ga.prototype.toString=function(){var t=[],i=this.j;i&&t.push(rl(i,ch,!0),":");var e=this.i;return(e||"file"==i)&&(t.push("//"),(i=this.s)&&t.push(rl(i,ch,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&t.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&t.push("/"),t.push(rl(e,"/"==e.charAt(0)?_c:$g,!0))),(e=this.h.toString())&&t.push("?",e),(e=this.o)&&t.push("#",rl(e,Z_)),t.join("")};var ch=/[#\/\?@]/g,$g=/[#\?:]/g,_c=/[#\?]/g,S0=/[#\?@]/g,Z_=/#/g;function Bf(t,i){this.h=this.g=null,this.i=t||null,this.j=!!i}function zh(t){t.g||(t.g=new Qs,t.h=0,t.i&&function(t,i){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var s=t[e].indexOf("="),a=null;if(0<=s){var l=t[e].substring(0,s);a=t[e].substring(s+1)}else l=t[e];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(i,e){t.add(decodeURIComponent(i.replace(/\+/g," ")),e)}))}function Xg(t,i){zh(t),i=Qp(t,i),Rc(t.g.h,i)&&(t.i=null,t.h-=t.g.get(i).length,Rc((t=t.g).h,i)&&(delete t.h[i],t.i--,t.g.length>2*t.i&&$u(t)))}function Qg(t,i){return zh(t),i=Qp(t,i),Rc(t.g.h,i)}function Jg(t,i,e){Xg(t,i),0<e.length&&(t.i=null,t.g.set(Qp(t,i),Xm(e)),t.h+=e.length)}function Qp(t,i){return i=String(i),t.j&&(i=i.toLowerCase()),i}(zi=Bf.prototype).add=function(t,i){zh(this),this.i=null,t=Qp(this,t);var e=this.g.get(t);return e||this.g.set(t,e=[]),e.push(i),this.h+=1,this},zi.forEach=function(t,i){zh(this),this.g.forEach(function(e,s){Vg(e,function(a){t.call(i,a,s,this)},this)},this)},zi.T=function(){zh(this);for(var t=this.g.R(),i=this.g.T(),e=[],s=0;s<i.length;s++)for(var a=t[s],l=0;l<a.length;l++)e.push(i[s]);return e},zi.R=function(t){zh(this);var i=[];if("string"==typeof t)Qg(this,t)&&(i=Gy(i,this.g.get(Qp(this,t))));else{t=this.g.R();for(var e=0;e<t.length;e++)i=Gy(i,t[e])}return i},zi.set=function(t,i){return zh(this),this.i=null,Qg(this,t=Qp(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[i]),this.h+=1,this},zi.get=function(t,i){return t&&0<(t=this.R(t)).length?String(t[0]):i},zi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],i=this.g.T(),e=0;e<i.length;e++){var s=i[e],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var y=a;""!==s[l]&&(y+="="+encodeURIComponent(String(s[l]))),t.push(y)}}return this.i=t.join("&")};var q_=function(i,e){this.h=i,this.g=e};function k0(t){this.l=t||rw,t=$r.PerformanceNavigationTiming?0<(t=$r.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($r.g&&$r.g.Ea&&$r.g.Ea()&&$r.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rw=10;function E0(t){return!!t.h||!!t.g&&t.g.size>=t.j}function D0(t){return t.h?1:t.g?t.g.size:0}function tb(t,i){return t.h?t.h==i:!!t.g&&t.g.has(i)}function nb(t,i){t.g?t.g.add(i):t.h=i}function A0(t,i){t.h&&t.h==i?t.h=null:t.g&&t.g.has(i)&&t.g.delete(i)}function I0(t){var i,e;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var s=t.i;try{for(var a=R_(t.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(k){i={error:k}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return s}return Xm(t.i)}function ib(){}function A(){this.g=new ib}function Y(t,i,e){var s=e||"";try{Oc(t,function(a,l){var y=a;Of(a)&&(y=Wy(a)),i.push(s+l+"="+encodeURIComponent(y))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ce(t,i,e,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function qe(t){this.l=t.$b||null,this.j=t.ib||!1}function ut(t,i){Ol.call(this),this.D=t,this.u=i,this.m=void 0,this.readyState=Nt,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}k0.prototype.cancel=function(){var t,i;if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=R_(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}this.g.clear()}},ib.prototype.stringify=function(t){return $r.JSON.stringify(t,void 0)},ib.prototype.parse=function(t){return $r.JSON.parse(t,void 0)},so(qe,Ir),qe.prototype.g=function(){return new ut(this.l,this.j)},qe.prototype.i=function(t){return function(){return t}}({}),so(ut,Ol);var Nt=0;function $t(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jn(t)}function jn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(zi=ut.prototype).open=function(t,i){if(this.readyState!=Nt)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=i,this.readyState=1,jn(this)},zi.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(i.body=t),(this.D||$r).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},zi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cn(this)),this.readyState=Nt},zi.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$t(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},zi.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var i=t.value?t.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!t.done}))&&(this.response=this.responseText+=i)}t.done?cn(this):jn(this),3==this.readyState&&$t(this)}},zi.Ua=function(t){this.g&&(this.response=this.responseText=t,cn(this))},zi.Ta=function(t){this.g&&(this.response=t,cn(this))},zi.ha=function(){this.g&&cn(this)},zi.setRequestHeader=function(t,i){this.v.append(t,i)},zi.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},zi.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],i=this.h.entries(),e=i.next();!e.done;)t.push((e=e.value)[0]+": "+e[1]),e=i.next();return t.join("\r\n")},Object.defineProperty(ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qn=$r.JSON.parse;function Hn(t){Ol.call(this),this.headers=new Qs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ai,this.K=this.L=!1}so(Hn,Ol);var Ai="",sr=/^https?$/i,Fr=["POST","PUT"];function Yr(t){return"content-type"==t.toLowerCase()}function qs(t,i){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=i,t.m=5,eo(t),Su(t)}function eo(t){t.D||(t.D=!0,$l(t,"complete"),$l(t,"error"))}function uh(t){if(t.h&&void 0!==Bg&&(!t.C[1]||4!=ea(t)||2!=t.ba()))if(t.v&&4==ea(t))ye(t.Fa,0,t);else if($l(t,"readystatechange"),4==ea(t)){t.h=!1;try{var s,i=t.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var a;if(a=0===i){var l=String(t.H).match($p)[1]||null;if(!l&&$r.self&&$r.self.location){var y=$r.self.location.protocol;l=y.substr(0,y.length-1)}a=!sr.test(l?l.toLowerCase():"")}s=a}if(s)$l(t,"complete"),$l(t,"success");else{t.m=6;try{var k=2<ea(t)?t.g.statusText:""}catch(V){k=""}t.j=k+" ["+t.ba()+"]",eo(t)}}finally{Su(t)}}}function Su(t,i){if(t.g){dh(t);var e=t.g,s=t.C[0]?pm:null;t.g=null,t.C=null,i||$l(t,"ready");try{e.onreadystatechange=s}catch(a){}}}function dh(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&($r.clearTimeout(t.A),t.A=null)}function ea(t){return t.g?t.g.readyState:0}function hh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ai:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(i){return null}}function rb(t,i,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(t){var i="";return Ma(t,function(e,s){i+=s,i+=":",i+=e,i+="\r\n"}),i}(e),"string"==typeof t?null!=e&&encodeURIComponent(String(e)):Co(t,i,e))}function sw(t,i,e){return e&&e.internalChannelParams&&e.internalChannelParams[t]||i}function pA(t){this.za=0,this.l=[],this.h=new Yt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sw("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sw("baseRetryDelayMs",5e3,t),this.$a=sw("retryDelaySeedMs",1e4,t),this.Ya=sw("forwardChannelMaxRetries",2,t),this.ra=sw("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new k0(t&&t.concurrentRequestLimit),this.Ca=new A,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function UT(t){if(eC(t),3==t.G){var i=t.V++,e=Fl(t.F);Co(e,"SID",t.J),Co(e,"RID",i),Co(e,"TYPE","terminate"),ob(t,e),(i=new Go(t,t.h,i,void 0)).K=2,i.v=lh(Fl(e)),e=!1,$r.navigator&&$r.navigator.sendBeacon&&(e=$r.navigator.sendBeacon(i.v.toString(),"")),!e&&$r.Image&&((new Image).src=i.v,e=!0),e||(i.g=XT(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Lo(i)}$T(t)}function ow(t){t.g&&(nC(t),t.g.cancel(),t.g=null)}function eC(t){ow(t),t.u&&($r.clearTimeout(t.u),t.u=null),lw(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$r.clearTimeout(t.m),t.m=null)}function jT(t,i){t.l.push(new q_(t.Za++,i)),3==t.G&&aw(t)}function aw(t){E0(t.i)||t.m||(t.m=!0,_(t.Ha,t),t.C=0)}function GT(t,i){var e;e=i?i.m:t.V++;var s=Fl(t.F);Co(s,"SID",t.J),Co(s,"RID",e),Co(s,"AID",t.U),ob(t,s),t.o&&t.s&&rb(s,t.o,t.s),e=new Go(t,t.h,e,t.C+1),null===t.o&&(e.H=t.s),i&&(t.l=i.D.concat(t.l)),i=ZT(t,e,1e3),e.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),nb(t.i,e),il(e,s,i)}function ob(t,i){t.j&&Oc({},function(e,s){Co(i,s,e)})}function ZT(t,i,e){e=Math.min(t.l.length,e);var s=t.j?Ca(t.j.Oa,t.j,t):null;e:for(var a=t.l,l=-1;;){var y=["count="+e];-1==l?0<e?y.push("ofs="+(l=a[0].h)):l=0:y.push("ofs="+l);for(var k=!0,V=0;V<e;V++){var K=a[V].h,pe=a[V].g;if(0>(K-=l))l=Math.max(0,a[V].h-100),k=!1;else try{Y(pe,y,"req"+K+"_")}catch(Se){s&&s(pe)}}if(k){s=y.join("&");break e}}return t=t.l.splice(0,e),i.D=t,s}function tC(t){t.g||t.u||(t.Y=1,_(t.Ga,t),t.A=0)}function ab(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=rr(Ca(t.Ga,t),qT(t,t.A)),t.A++,0))}function nC(t){null!=t.B&&($r.clearTimeout(t.B),t.B=null)}function iC(t){t.g=new Go(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var i=Fl(t.oa);Co(i,"RID","rpc"),Co(i,"SID",t.J),Co(i,"CI",t.N?"0":"1"),Co(i,"AID",t.U),ob(t,i),Co(i,"TYPE","xmlhttp"),t.o&&t.s&&rb(i,t.o,t.s),t.K&&t.g.setTimeout(t.K);var e=t.g;t=t.la,e.K=1,e.v=lh(Fl(i)),e.s=null,e.U=!0,wo(e,t)}function lw(t){null!=t.v&&($r.clearTimeout(t.v),t.v=null)}function WT(t,i){var e=null;if(t.g==i){lw(t),nC(t),t.g=null;var s=2}else{if(!tb(t.i,i))return;e=i.D,A0(t.i,i),s=1}if(t.I=i.N,0!=t.G)if(i.i)if(1==s){e=i.s?i.s.length:0,i=Date.now()-i.F;var a=t.C;$l(s=Bn(),new Dn(s,e,i,a)),aw(t)}else tC(t);else if(3==(a=i.o)||0==a&&0<t.I||!(1==s&&function(t,i){return!(D0(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=i.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=rr(Ca(t.Ha,t,i),qT(t,t.C)),t.C++,0)))}(t,i)||2==s&&ab(t)))switch(e&&0<e.length&&(i=t.i,i.i=i.i.concat(e)),a){case 1:$y(t,5);break;case 4:$y(t,10);break;case 3:$y(t,6);break;default:$y(t,2)}}function qT(t,i){var e=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(e*=2),e*i}function $y(t,i){if(t.h.info("Error code "+i),2==i){var e=null;t.j&&(e=null);var s=Ca(t.jb,t);e||(e=new Ga("//www.google.com/images/cleardot.gif"),$r.location&&"http"==$r.location.protocol||kd(e,"https"),lh(e)),function(t,i){var e=new Yt;if($r.Image){var s=new Image;s.onload=zr(Ce,e,s,"TestLoadImage: loaded",!0,i),s.onerror=zr(Ce,e,s,"TestLoadImage: error",!1,i),s.onabort=zr(Ce,e,s,"TestLoadImage: abort",!1,i),s.ontimeout=zr(Ce,e,s,"TestLoadImage: timeout",!1,i),$r.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else i(!1)}(e.toString(),s)}else Kn(2);t.G=0,t.j&&t.j.va(i),$T(t),eC(t)}function $T(t){t.G=0,t.I=-1,t.j&&((0!=I0(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Xm(t.l),t.l.length=0),t.j.ua())}function rC(t,i,e){var s=function(t){return t instanceof Ga?Fl(t):new Ga(t,void 0)}(e);if(""!=s.i)i&&Za(s,i+"."+s.i),Xp(s,s.m);else{var a=$r.location;s=function(t,i,e,s){var a=new Ga(null,void 0);return t&&kd(a,t),i&&Za(a,i),e&&Xp(a,e),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,e)}return t.aa&&Ma(t.aa,function(l,y){Co(s,y,l)}),e=t.sa,(i=t.D)&&e&&Co(s,i,e),Co(s,"VER",t.ma),ob(t,s),s}function XT(t,i,e){if(i&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Hn(e&&t.Ba&&!t.qa?new qe({ib:!0}):t.qa)).L=t.H,i}function sC(){}function L0(){if(Rh&&!(10<=Number(Wg)))throw Error("Environmental error: no available transport.")}function Yh(t,i){Ol.call(this),this.g=new pA(i),this.l=t,this.h=i&&i.messageUrlParams||null,t=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(t?t["X-WebChannel-Content-Type"]=i.messageContentType:t={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(t?t["X-WebChannel-Client-Profile"]=i.ya:t={"X-WebChannel-Client-Profile":i.ya}),this.g.P=t,(t=i&&i.httpHeadersOverwriteParam)&&!Qm(t)&&(this.g.o=t),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Qm(i)&&(this.g.D=i,null!==(t=this.h)&&i in t&&i in(t=this.h)&&delete t[i]),this.j=new lb(this)}function fA(t){jo.call(this);var i=t.__sm__;if(i){e:{for(var e in i){t=e;break e}t=void 0}(this.i=t)&&(t=this.i,i=null!==i&&t in i?i[t]:void 0),this.data=i}else this.data=t}function cw(){Oa.call(this),this.status=1}function lb(t){this.g=t}(zi=Hn.prototype).ea=function(t,i,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);i=i?i.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ta.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ta),this.g.onreadystatechange=Ca(this.Fa,this);try{this.F=!0,this.g.open(i,String(t),!0),this.F=!1}catch(l){return void qs(this,l)}t=e||"";var a=new Qs(this.headers);s&&Oc(s,function(l,y){a.set(y,l)}),s=function(t){e:{for(var i=Yr,e=t.length,s="string"==typeof t?t.split(""):t,a=0;a<e;a++)if(a in s&&i.call(void 0,s[a],a,t)){i=a;break e}i=-1}return 0>i?null:"string"==typeof t?t.charAt(i):t[i]}(a.T()),e=$r.FormData&&t instanceof $r.FormData,!(0<=Ff(Fr,i))||s||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,y){this.g.setRequestHeader(y,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dh(this),0<this.B&&((this.K=function(t){return Rh&&Y_()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ca(this.pa,this)):this.A=ye(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){qs(this,l)}},zi.pa=function(){void 0!==Bg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$l(this,"timeout"),this.abort(8))},zi.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$l(this,"complete"),$l(this,"abort"),Su(this))},zi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Su(this,!0)),Hn.Z.M.call(this)},zi.Fa=function(){this.s||(this.F||this.v||this.l?uh(this):this.cb())},zi.cb=function(){uh(this)},zi.ba=function(){try{return 2<ea(this)?this.g.status:-1}catch(t){return-1}},zi.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},zi.Qa=function(t){if(this.g){var i=this.g.responseText;return t&&0==i.indexOf(t)&&(i=i.substring(t.length)),qn(i)}},zi.Da=function(){return this.m},zi.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(zi=pA.prototype).ma=8,zi.G=1,zi.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(i){}},zi.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var i=new Go(this,this.h,t,void 0),e=this.s;if(this.P&&(e?z_(e=F_(e),this.P):e=this.P),null===this.o&&(i.H=e),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=ZT(this,i,s),Co(a=Fl(this.F),"RID",t),Co(a,"CVER",22),this.D&&Co(a,"X-HTTP-Session-Id",this.D),ob(this,a),this.o&&e&&rb(a,this.o,e),nb(this.i,i),this.Ra&&Co(a,"TYPE","init"),this.ja?(Co(a,"$req",s),Co(a,"SID","null"),i.$=!0,il(i,a,null)):il(i,a,s),this.G=2}}else 3==this.G&&(t?GT(this,t):0==this.l.length||E0(this.i)||GT(this))},zi.Ga=function(){if(this.u=null,iC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=rr(Ca(this.bb,this),t)}},zi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),ow(this),iC(this))},zi.ab=function(){null!=this.v&&(this.v=null,ow(this),ab(this),Kn(19))},zi.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},(zi=sC.prototype).xa=function(){},zi.wa=function(){},zi.va=function(){},zi.ua=function(){},zi.Oa=function(){},L0.prototype.g=function(t,i){return new Yh(t,i)},so(Yh,Ol),Yh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,i=this.l,e=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),_(Ca(t.hb,t,i))),Kn(0),t.W=i,t.aa=e||{},t.N=t.X,t.F=rC(t,null,t.W),aw(t)},Yh.prototype.close=function(){UT(this.g)},Yh.prototype.u=function(t){if("string"==typeof t){var i={};i.__data__=t,jT(this.g,i)}else this.v?((i={}).__data__=Wy(t),jT(this.g,i)):jT(this.g,t)},Yh.prototype.M=function(){this.g.j=null,delete this.j,UT(this.g),delete this.g,Yh.Z.M.call(this)},so(fA,jo),so(cw,Oa),so(lb,sC),lb.prototype.xa=function(){$l(this.g,"a")},lb.prototype.wa=function(t){$l(this.g,new fA(t))},lb.prototype.va=function(t){$l(this.g,new cw(t))},lb.prototype.ua=function(){$l(this.g,"b")},L0.prototype.createWebChannel=L0.prototype.g,Yh.prototype.send=Yh.prototype.u,Yh.prototype.open=Yh.prototype.m,Yh.prototype.close=Yh.prototype.close,Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Xr.COMPLETE="complete",ao.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",Ol.prototype.listen=Ol.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var uw=Ar,dw=Xr,hw=zn,oC_PROXY=10,oC_NOPROXY=11,pw=qe,Xy=ao,aC=Hn,Bh=function(){function t(i,e){var s=this;this.previousValue=i,e&&(e.sequenceNumberHandler=function(a){return s.t(a)},this.i=function(a){return e.writeSequenceNumber(a)})}return t.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},t.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},t}();Bh.o=-1;var En={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},li=function(t){function i(e,s){var a=this;return(a=t.call(this,s)||this).code=e,a.message=s,a.name="FirebaseError",a.toString=function(){return a.name+": [code="+a.code+"]: "+a.message},a}return(0,gt.ZT)(i,t),i}(Error),Vf=new oh.Yd("@firebase/firestore");function P0(){return Vf.logLevel}function xi(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Vf.logLevel<=oh.in.DEBUG){var s=i.map(O0);Vf.debug.apply(Vf,(0,gt.ev)(["Firestore (8.8.1): "+t],s))}}function yc(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Vf.logLevel<=oh.in.ERROR){var s=i.map(O0);Vf.error.apply(Vf,(0,gt.ev)(["Firestore (8.8.1): "+t],s))}}function Qy(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Vf.logLevel<=oh.in.WARN){var s=i.map(O0);Vf.warn.apply(Vf,(0,gt.ev)(["Firestore (8.8.1): "+t],s))}}function O0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function fr(t){void 0===t&&(t="Unexpected state");var i="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw yc(i),new Error(i)}function ns(t,i){t||fr()}function Ii(t,i){return t}function lC(t){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(e);else for(var s=0;s<t;s++)e[s]=Math.floor(256*Math.random());return e}var cC=function(){function t(){}return t.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/i.length)*i.length,s="";s.length<20;)for(var a=lC(40),l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=i.charAt(a[l]%i.length));return s},t}();function lo(t,i){return t<i?-1:t>i?1:0}function Jy(t,i,e){return t.length===i.length&&t.every(function(s,a){return e(s,i[a])})}function uC(t){return t+"\0"}var ph=function(){function t(i,e){if(this.seconds=i,this.nanoseconds=e,e<0)throw new li(En.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new li(En.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(i<-62135596800)throw new li(En.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new li(En.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(i){return t.fromMillis(i.getTime())},t.fromMillis=function(i){var e=Math.floor(i/1e3);return new t(e,Math.floor(1e6*(i-1e3*e)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(i){return this.seconds===i.seconds?lo(this.nanoseconds,i.nanoseconds):lo(this.seconds,i.seconds)},t.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Bs=function(){function t(i){this.timestamp=i}return t.fromTimestamp=function(i){return new t(i)},t.min=function(){return new t(new ph(0,0))},t.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},t.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function dC(t){var i=0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i++;return i}function $_(t,i){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i(e,t[e])}function hC(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}var pC=function(){function t(i,e,s){void 0===e?e=0:e>i.length&&fr(),void 0===s?s=i.length-e:s>i.length-e&&fr(),this.segments=i,this.offset=e,this.len=s}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return 0===t.comparator(this,i)},t.prototype.child=function(i){var e=this.segments.slice(this.offset,this.limit());return i instanceof t?i.forEach(function(s){e.push(s)}):e.push(i),this.construct(e)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(i){return this.segments[this.offset+i]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.forEach=function(i){for(var e=this.offset,s=this.limit();e<s;e++)i(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(i,e){for(var s=Math.min(i.length,e.length),a=0;a<s;a++){var l=i.get(a),y=e.get(a);if(l<y)return-1;if(l>y)return 1}return i.length<e.length?-1:i.length>e.length?1:0},t}(),Po=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];for(var a=[],l=0,y=e;l<y.length;l++){var k=y[l];if(k.indexOf("//")>=0)throw new li(En.INVALID_ARGUMENT,"Invalid segment ("+k+"). Paths must not contain // in them.");a.push.apply(a,k.split("/").filter(function(V){return V.length>0}))}return new i(a)},i.emptyPath=function(){return new i([])},i}(pC),QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hf=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.isValidIdentifier=function(e){return QT.test(e)},i.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(e){for(var s=[],a="",l=0,y=function(){if(0===a.length)throw new li(En.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(a),a=""},k=!1;l<e.length;){var V=e[l];if("\\"===V){if(l+1===e.length)throw new li(En.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var K=e[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new li(En.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=K,l+=2}else"`"===V?(k=!k,l++):"."!==V||k?(a+=V,l++):(y(),l++)}if(y(),k)throw new li(En.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(s)},i.emptyPath=function(){return new i([])},i}(pC),Ky=function(){function t(i){this.fields=i,i.sort(Hf.comparator)}return t.prototype.covers=function(i){for(var e=0,s=this.fields;e<s.length;e++)if(s[e].isPrefixOf(i))return!0;return!1},t.prototype.isEqual=function(i){return Jy(this.fields,i.fields,function(e,s){return e.isEqual(s)})},t}(),Cp=function(){function t(i){this.binaryString=i}return t.fromBase64String=function(i){return new t(atob(i))},t.fromUint8Array=function(i){return new t(function(e){for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return s}(i))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(i){for(var e=new Uint8Array(i.length),s=0;s<i.length;s++)e[s]=i.charCodeAt(s);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(i){return lo(this.binaryString,i.binaryString)},t.prototype.isEqual=function(i){return this.binaryString===i.binaryString},t}();Cp.EMPTY_BYTE_STRING=new Cp("");var gA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function X_(t){if(ns(!!t),"string"==typeof t){var i=0,e=gA.exec(t);if(ns(!!e),e[1]){var s=e[1];s=(s+"000000000").substr(0,9),i=Number(s)}var a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:i}}return{seconds:Fc(t.seconds),nanos:Fc(t.nanos)}}function Fc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ub(t){return"string"==typeof t?Cp.fromBase64String(t):Cp.fromUint8Array(t)}function Nc(t){var i,e;return"server_timestamp"===(null===(e=((null===(i=null==t?void 0:t.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function fC(t){var i=t.mapValue.fields.__previous_value__;return Nc(i)?fC(i):i}function R0(t){var i=X_(t.mapValue.fields.__local_write_time__.timestampValue);return new ph(i.seconds,i.nanos)}function ev(t){return null==t}function F0(t){return 0===t&&1/t==-1/0}function JT(t){return"number"==typeof t&&Number.isInteger(t)&&!F0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var vr=function(){function t(i){this.path=i}return t.fromPath=function(i){return new t(Po.fromString(i))},t.fromName=function(i){return new t(Po.fromString(i).popFirst(5))},t.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},t.prototype.isEqual=function(i){return null!==i&&0===Po.comparator(this.path,i.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(i,e){return Po.comparator(i.path,e.path)},t.isDocumentKey=function(i){return i.length%2==0},t.fromSegments=function(i){return new t(new Po(i.slice()))},t}();function Q_(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nc(t)?4:10:fr()}function Vh(t,i){var a,e=Q_(t);if(e!==Q_(i))return!1;switch(e){case 0:return!0;case 1:return t.booleanValue===i.booleanValue;case 4:return R0(t).isEqual(R0(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;var l=X_(s.timestampValue),y=X_(a.timestampValue);return l.seconds===y.seconds&&l.nanos===y.nanos}(t,i);case 5:return t.stringValue===i.stringValue;case 6:return a=i,ub(t.bytesValue).isEqual(ub(a.bytesValue));case 7:return t.referenceValue===i.referenceValue;case 8:return function(s,a){return Fc(s.geoPointValue.latitude)===Fc(a.geoPointValue.latitude)&&Fc(s.geoPointValue.longitude)===Fc(a.geoPointValue.longitude)}(t,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Fc(s.integerValue)===Fc(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){var l=Fc(s.doubleValue),y=Fc(a.doubleValue);return l===y?F0(l)===F0(y):isNaN(l)&&isNaN(y)}return!1}(t,i);case 9:return Jy(t.arrayValue.values||[],i.arrayValue.values||[],Vh);case 10:return function(s,a){var l=s.mapValue.fields||{},y=a.mapValue.fields||{};if(dC(l)!==dC(y))return!1;for(var k in l)if(l.hasOwnProperty(k)&&(void 0===y[k]||!Vh(l[k],y[k])))return!1;return!0}(t,i);default:return fr()}}function N0(t,i){return void 0!==(t.values||[]).find(function(e){return Vh(e,i)})}function db(t,i){var a,l,y,k,e=Q_(t),s=Q_(i);if(e!==s)return lo(e,s);switch(e){case 0:return 0;case 1:return lo(t.booleanValue,i.booleanValue);case 2:return l=i,(y=Fc((a=t).integerValue||a.doubleValue))<(k=Fc(l.integerValue||l.doubleValue))?-1:y>k?1:y===k?0:isNaN(y)?isNaN(k)?0:-1:1;case 3:return mC(t.timestampValue,i.timestampValue);case 4:return mC(R0(t),R0(i));case 5:return lo(t.stringValue,i.stringValue);case 6:return function(a,l){var y=ub(a),k=ub(l);return y.compareTo(k)}(t.bytesValue,i.bytesValue);case 7:return function(a,l){for(var y=a.split("/"),k=l.split("/"),V=0;V<y.length&&V<k.length;V++){var K=lo(y[V],k[V]);if(0!==K)return K}return lo(y.length,k.length)}(t.referenceValue,i.referenceValue);case 8:return function(a,l){var y=lo(Fc(a.latitude),Fc(l.latitude));return 0!==y?y:lo(Fc(a.longitude),Fc(l.longitude))}(t.geoPointValue,i.geoPointValue);case 9:return function(a,l){for(var y=a.values||[],k=l.values||[],V=0;V<y.length&&V<k.length;++V){var K=db(y[V],k[V]);if(K)return K}return lo(y.length,k.length)}(t.arrayValue,i.arrayValue);case 10:return function(a,l){var y=a.fields||{},k=Object.keys(y),V=l.fields||{},K=Object.keys(V);k.sort(),K.sort();for(var pe=0;pe<k.length&&pe<K.length;++pe){var Se=lo(k[pe],K[pe]);if(0!==Se)return Se;var Ue=db(y[k[pe]],V[K[pe]]);if(0!==Ue)return Ue}return lo(k.length,K.length)}(t.mapValue,i.mapValue);default:throw fr()}}function mC(t,i){if("string"==typeof t&&"string"==typeof i&&t.length===i.length)return lo(t,i);var e=X_(t),s=X_(i),a=lo(e.seconds,s.seconds);return 0!==a?a:lo(e.nanos,s.nanos)}function gC(t){return fw(t)}function fw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(a=X_(t.timestampValue)).seconds+","+a.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?ub(t.bytesValue).toBase64():"referenceValue"in t?vr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(i=t.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in t?function(s){for(var a="[",l=!0,y=0,k=s.values||[];y<k.length;y++)l?l=!1:a+=",",a+=fw(k[y]);return a+"]"}(t.arrayValue):"mapValue"in t?function(s){for(var a="{",l=!0,y=0,k=Object.keys(s.fields||{}).sort();y<k.length;y++){var V=k[y];l?l=!1:a+=",",a+=V+":"+fw(s.fields[V])}return a+"}"}(t.mapValue):fr();var a,i}function _C(t,i){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+i.path.canonicalString()}}function z0(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function Uf(t){return!!t&&"nullValue"in t}function KT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function B0(t){return!!t&&"mapValue"in t}function Mp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var i={mapValue:{fields:{}}};return $_(t.mapValue.fields,function(a,l){return i.mapValue.fields[a]=Mp(l)}),i}if(t.arrayValue){for(var e={arrayValue:{values:[]}},s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Mp(t.arrayValue.values[s]);return e}return Object.assign({},t)}var Ql=function(){function t(i){this.value=i}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(i){if(i.isEmpty())return this.value;for(var e=this.value,s=0;s<i.length-1;++s)if(!B0(e=(e.mapValue.fields||{})[i.get(s)]))return null;return(e=(e.mapValue.fields||{})[i.lastSegment()])||null},t.prototype.set=function(i,e){this.getFieldsMap(i.popLast())[i.lastSegment()]=Mp(e)},t.prototype.setAll=function(i){var e=this,s=Hf.emptyPath(),a={},l=[];i.forEach(function(k,V){if(!s.isImmediateParentOf(V)){var K=e.getFieldsMap(s);e.applyChanges(K,a,l),a={},l=[],s=V.popLast()}k?a[V.lastSegment()]=Mp(k):l.push(V.lastSegment())});var y=this.getFieldsMap(s);this.applyChanges(y,a,l)},t.prototype.delete=function(i){var e=this.field(i.popLast());B0(e)&&e.mapValue.fields&&delete e.mapValue.fields[i.lastSegment()]},t.prototype.isEqual=function(i){return Vh(this.value,i.value)},t.prototype.getFieldsMap=function(i){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var s=0;s<i.length;++s){var a=e.mapValue.fields[i.get(s)];B0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[i.get(s)]=a),e=a}return e.mapValue.fields},t.prototype.applyChanges=function(i,e,s){$_(e,function(k,V){return i[k]=V});for(var a=0,l=s;a<l.length;a++)delete i[l[a]]},t.prototype.clone=function(){return new t(Mp(this.value))},t}();function jf(t){var i=[];return $_(t.fields,function(e,s){var a=new Hf([e]);if(B0(s)){var l=jf(s.mapValue).fields;if(0===l.length)i.push(a);else for(var y=0,k=l;y<k.length;y++)i.push(a.child(k[y]))}else i.push(a)}),new Ky(i)}var Qu=function(){function t(i,e,s,a,l){this.key=i,this.documentType=e,this.version=s,this.data=a,this.documentState=l}return t.newInvalidDocument=function(i){return new t(i,0,Bs.min(),Ql.empty(),0)},t.newFoundDocument=function(i,e,s){return new t(i,1,e,s,0)},t.newNoDocument=function(i,e){return new t(i,2,e,Ql.empty(),0)},t.newUnknownDocument=function(i,e){return new t(i,3,e,Ql.empty(),2)},t.prototype.convertToFoundDocument=function(i,e){return this.version=i,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=Ql.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=Ql.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(i){return i instanceof t&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),eS=function(t,i,e,s,a,l,y){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===y&&(y=null),this.path=t,this.collectionGroup=i,this.orderBy=e,this.filters=s,this.limit=a,this.startAt=l,this.endAt=y,this.h=null};function tS(t,i,e,s,a,l,y){return void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===y&&(y=null),new eS(t,i,e,s,a,l,y)}function V0(t){var i=Ii(t);if(null===i.h){var e=i.path.canonicalString();null!==i.collectionGroup&&(e+="|cg:"+i.collectionGroup),e+="|f:",e+=i.filters.map(function(s){return(a=s).field.canonicalString()+a.op.toString()+gC(a.value);var a}).join(","),e+="|ob:",e+=i.orderBy.map(function(s){return(a=s).field.canonicalString()+a.dir;var a}).join(","),ev(i.limit)||(e+="|l:",e+=i.limit),i.startAt&&(e+="|lb:",e+=U0(i.startAt)),i.endAt&&(e+="|ub:",e+=U0(i.endAt)),i.h=e}return i.h}function mw(t,i){if(t.limit!==i.limit||t.orderBy.length!==i.orderBy.length)return!1;for(var e=0;e<t.orderBy.length;e++)if(!yw(t.orderBy[e],i.orderBy[e]))return!1;if(t.filters.length!==i.filters.length)return!1;for(var s=0;s<t.filters.length;s++)if((a=t.filters[s]).op!==(l=i.filters[s]).op||!a.field.isEqual(l.field)||!Vh(a.value,l.value))return!1;var a,l;return t.collectionGroup===i.collectionGroup&&!!t.path.isEqual(i.path)&&!!yC(t.startAt,i.startAt)&&yC(t.endAt,i.endAt)}function gw(t){return vr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hh=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).field=e,l.op=s,l.value=a,l}return(0,gt.ZT)(i,t),i.create=function(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.l(e,s,a):new H0(e,s,a):"array-contains"===s?new rS(e,a):"in"===s?new sS(e,a):"not-in"===s?new _w(e,a):"array-contains-any"===s?new yA(e,a):new i(e,s,a)},i.l=function(e,s,a){return"in"===s?new _A(e,a):new nS(e,a)},i.prototype.matches=function(e){var s=e.data.field(this.field);return"!="===this.op?null!==s&&this.m(db(s,this.value)):null!==s&&Q_(this.value)===Q_(s)&&this.m(db(s,this.value))},i.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fr()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),H0=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,a)||this).key=vr.fromName(a.referenceValue),l}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){var s=vr.comparator(e.key,this.key);return this.m(s)},i}(Hh),_A=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"in",s)||this).keys=iS(0,s),a}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){return this.keys.some(function(s){return s.isEqual(e.key)})},i}(Hh),nS=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"not-in",s)||this).keys=iS(0,s),a}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){return!this.keys.some(function(s){return s.isEqual(e.key)})},i}(Hh);function iS(t,i){var e;return((null===(e=i.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(s){return vr.fromName(s.referenceValue)})}var rS=function(t){function i(e,s){return t.call(this,e,"array-contains",s)||this}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return Y0(s)&&N0(s.arrayValue,this.value)},i}(Hh),sS=function(t){function i(e,s){return t.call(this,e,"in",s)||this}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return null!==s&&N0(this.value.arrayValue,s)},i}(Hh),_w=function(t){function i(e,s){return t.call(this,e,"not-in",s)||this}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){if(N0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=e.data.field(this.field);return null!==s&&!N0(this.value.arrayValue,s)},i}(Hh),yA=function(t){function i(e,s){return t.call(this,e,"array-contains-any",s)||this}return(0,gt.ZT)(i,t),i.prototype.matches=function(e){var s=this,a=e.data.field(this.field);return!(!Y0(a)||!a.arrayValue.values)&&a.arrayValue.values.some(function(l){return N0(s.value.arrayValue,l)})},i}(Hh),hb=function(t,i){this.position=t,this.before=i};function U0(t){return(t.before?"b":"a")+":"+t.position.map(function(i){return gC(i)}).join(",")}var J_=function(t,i){void 0===i&&(i="asc"),this.field=t,this.dir=i};function yw(t,i){return t.dir===i.dir&&t.field.isEqual(i.field)}function vw(t,i,e){for(var s=0,a=0;a<t.position.length;a++){var l=i[a],y=t.position[a];if(s=l.field.isKeyField()?vr.comparator(vr.fromName(y.referenceValue),e.key):db(y,e.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return t.before?s<=0:s<0}function yC(t,i){if(null===t)return null===i;if(null===i||t.before!==i.before||t.position.length!==i.position.length)return!1;for(var e=0;e<t.position.length;e++)if(!Vh(t.position[e],i.position[e]))return!1;return!0}var rg=function(t,i,e,s,a,l,y,k){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l="F"),void 0===y&&(y=null),void 0===k&&(k=null),this.path=t,this.collectionGroup=i,this.explicitOrderBy=e,this.filters=s,this.limit=a,this.limitType=l,this.startAt=y,this.endAt=k,this.p=null,this.T=null};function bw(t,i,e,s,a,l,y,k){return new rg(t,i,e,s,a,l,y,k)}function tv(t){return new rg(t)}function j0(t){return!ev(t.limit)&&"F"===t.limitType}function G0(t){return!ev(t.limit)&&"L"===t.limitType}function xw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ww(t){for(var i=0,e=t.filters;i<e.length;i++){var s=e[i];if(s.g())return s.field}return null}function vC(t){return null!==t.collectionGroup}function pb(t){var i=Ii(t);if(null===i.p){i.p=[];var e=ww(i),s=xw(i);if(null!==e&&null===s)e.isKeyField()||i.p.push(new J_(e)),i.p.push(new J_(Hf.keyField(),"asc"));else{for(var a=!1,l=0,y=i.explicitOrderBy;l<y.length;l++){var k=y[l];i.p.push(k),k.field.isKeyField()&&(a=!0)}if(!a){var V=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new J_(Hf.keyField(),V))}}}return i.p}function Gf(t){var i=Ii(t);if(!i.T)if("F"===i.limitType)i.T=tS(i.path,i.collectionGroup,pb(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var e=[],s=0,a=pb(i);s<a.length;s++){var l=a[s];e.push(new J_(l.field,"desc"===l.dir?"asc":"desc"))}var k=i.endAt?new hb(i.endAt.position,!i.endAt.before):null,V=i.startAt?new hb(i.startAt.position,!i.startAt.before):null;i.T=tS(i.path,i.collectionGroup,e,i.filters,i.limit,k,V)}return i.T}function oS(t,i,e){return new rg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),i,e,t.startAt,t.endAt)}function Z0(t,i){return mw(Gf(t),Gf(i))&&t.limitType===i.limitType}function aS(t){return V0(Gf(t))+"|lt:"+t.limitType}function bC(t){return"Query(target="+(e=(i=Gf(t)).path.canonicalString(),null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=", filters: ["+i.filters.map(function(s){return(a=s).field.canonicalString()+" "+a.op+" "+gC(a.value);var a}).join(", ")+"]"),ev(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=", orderBy: ["+i.orderBy.map(function(s){return(a=s).field.canonicalString()+" ("+a.dir+")";var a}).join(", ")+"]"),i.startAt&&(e+=", startAt: "+U0(i.startAt)),i.endAt&&(e+=", endAt: "+U0(i.endAt)),"Target("+e+"); limitType=")+t.limitType+")";var i,e}function W0(t,i){return i.isFoundDocument()&&(a=(s=i).key.path,null!==(e=t).collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):vr.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,s){for(var a=0,l=e.explicitOrderBy;a<l.length;a++){var y=l[a];if(!y.field.isKeyField()&&null===s.data.field(y.field))return!1}return!0}(t,i)&&function(e,s){for(var a=0,l=e.filters;a<l.length;a++)if(!l[a].matches(s))return!1;return!0}(t,i)&&function(e,s){return!(e.startAt&&!vw(e.startAt,pb(e),s)||e.endAt&&vw(e.endAt,pb(e),s))}(t,i);var e,s,a}function lS(t){return function(i,e){for(var s=!1,a=0,l=pb(t);a<l.length;a++){var y=l[a],k=vA(y,i,e);if(0!==k)return k;s=s||y.field.isKeyField()}return 0}}function vA(t,i,e){var a,y,k,V,s=t.field.isKeyField()?vr.comparator(i.key,e.key):(y=e,k=i.data.field(a=t.field),V=y.data.field(a),null!==k&&null!==V?db(k,V):fr());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return fr()}}function cS(t,i){if(t.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F0(i)?"-0":i}}function uS(t){return{integerValue:""+t}}function dS(t,i){return JT(i)?uS(i):cS(t,i)}var Cw=function(){this._=void 0};function bA(t,i,e){return t instanceof nv?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=e).seconds,nanos:s.nanoseconds}}}},(a=i)&&(l.fields.__previous_value__=a),{mapValue:l}):t instanceof K_?xC(t,i):t instanceof ey?wC(t,i):function(s,a){var l=hS(s,a),y=CC(l)+CC(s.A);return z0(l)&&z0(s.A)?uS(y):cS(s.R,y)}(t,i);var s,a,l}function xA(t,i,e){return t instanceof K_?xC(t,i):t instanceof ey?wC(t,i):e}function hS(t,i){return t instanceof iv?z0(e=i)||(s=e)&&"doubleValue"in s?i:{integerValue:0}:null;var s,e}var nv=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i}(Cw),K_=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,gt.ZT)(i,t),i}(Cw);function xC(t,i){for(var e=MC(i),s=function(y){e.some(function(k){return Vh(k,y)})||e.push(y)},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var ey=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,gt.ZT)(i,t),i}(Cw);function wC(t,i){for(var e=MC(i),s=function(y){e=e.filter(function(k){return!Vh(k,y)})},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var iv=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).R=e,a.A=s,a}return(0,gt.ZT)(i,t),i}(Cw);function CC(t){return Fc(t.integerValue||t.doubleValue)}function MC(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var fb=function(t,i){this.field=t,this.transform=i},TC=function(t,i){this.version=t,this.transformResults=i},Ju=function(){function t(i,e){this.updateTime=i,this.exists=e}return t.none=function(){return new t},t.exists=function(i){return new t(void 0,i)},t.updateTime=function(i){return new t(i)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},t}();function sg(t,i){return void 0!==t.updateTime?i.isFoundDocument()&&i.version.isEqual(t.updateTime):void 0===t.exists||t.exists===i.isFoundDocument()}var Mw=function(){};function wA(t,i,e){var s,a,l,y,k;t instanceof mb?(a=i,l=e,y=(s=t).value.clone(),k=Lr(s.fieldTransforms,a,l.transformResults),y.setAll(k),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()):t instanceof Kg?function(s,a,l){if(sg(s.precondition,a)){var y=Lr(s.fieldTransforms,a,l.transformResults),k=a.data;k.setAll(MA(s)),k.setAll(y),a.convertToFoundDocument(l.version,k).setHasCommittedMutations()}else a.convertToUnknownDocument(l.version)}(t,i,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,i,e)}function ty(t,i,e){var a;t instanceof mb?function(s,a,l){if(sg(s.precondition,a)){var y=s.value.clone(),k=pS(s.fieldTransforms,l,a);y.setAll(k),a.convertToFoundDocument(CA(a),y).setHasLocalMutations()}}(t,i,e):t instanceof Kg?function(s,a,l){if(sg(s.precondition,a)){var y=pS(s.fieldTransforms,l,a),k=a.data;k.setAll(MA(s)),k.setAll(y),a.convertToFoundDocument(CA(a),k).setHasLocalMutations()}}(t,i,e):sg(t.precondition,a=i)&&a.convertToNoDocument(Bs.min())}function K2(t,i){for(var e=null,s=0,a=t.fieldTransforms;s<a.length;s++){var l=a[s],y=i.data.field(l.field),k=hS(l.transform,y||null);null!=k&&(null==e&&(e=Ql.empty()),e.set(l.field,k))}return e||null}function Tw(t,i){return t.type===i.type&&!!t.key.isEqual(i.key)&&!!t.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(e=t.fieldTransforms)&&void 0===s||e&&s&&Jy(e,s,function(a,l){return(y=a).field.isEqual((k=l).field)&&(K=k.transform,(V=y.transform)instanceof K_&&K instanceof K_||V instanceof ey&&K instanceof ey?Jy(V.elements,K.elements,Vh):V instanceof iv&&K instanceof iv?Vh(V.A,K.A):V instanceof nv&&K instanceof nv);var y,k,V,K})))&&(0===t.type?t.value.isEqual(i.value):1!==t.type||t.data.isEqual(i.data)&&t.fieldMask.isEqual(i.fieldMask));var e,s}function CA(t){return t.isFoundDocument()?t.version:Bs.min()}var mb=function(t){function i(e,s,a,l){void 0===l&&(l=[]);var y=this;return(y=t.call(this)||this).key=e,y.value=s,y.precondition=a,y.fieldTransforms=l,y.type=0,y}return(0,gt.ZT)(i,t),i}(Mw),Kg=function(t){function i(e,s,a,l,y){void 0===y&&(y=[]);var k=this;return(k=t.call(this)||this).key=e,k.data=s,k.fieldMask=a,k.precondition=l,k.fieldTransforms=y,k.type=1,k}return(0,gt.ZT)(i,t),i}(Mw);function MA(t){var i=new Map;return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var s=t.data.field(e);i.set(e,s)}}),i}function Lr(t,i,e){var s=new Map;ns(t.length===e.length);for(var a=0;a<e.length;a++){var l=t[a],y=l.transform,k=i.data.field(l.field);s.set(l.field,xA(y,k,e[a]))}return s}function pS(t,i,e){for(var s=new Map,a=0,l=t;a<l.length;a++){var y=l[a],k=y.transform,V=e.data.field(y.field);s.set(y.field,bA(k,V,i))}return s}var $c,Mo,ny=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=2,a.fieldTransforms=[],a}return(0,gt.ZT)(i,t),i}(Mw),SC=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=3,a.fieldTransforms=[],a}return(0,gt.ZT)(i,t),i}(Mw),Sw=function(t){this.count=t};function q0(t){switch(t){case En.OK:return fr();case En.CANCELLED:case En.UNKNOWN:case En.DEADLINE_EXCEEDED:case En.RESOURCE_EXHAUSTED:case En.INTERNAL:case En.UNAVAILABLE:case En.UNAUTHENTICATED:return!1;case En.INVALID_ARGUMENT:case En.NOT_FOUND:case En.ALREADY_EXISTS:case En.PERMISSION_DENIED:case En.FAILED_PRECONDITION:case En.ABORTED:case En.OUT_OF_RANGE:case En.UNIMPLEMENTED:case En.DATA_LOSS:return!0;default:return fr()}}function Jl(t){if(void 0===t)return yc("GRPC error has no .code"),En.UNKNOWN;switch(t){case $c.OK:return En.OK;case $c.CANCELLED:return En.CANCELLED;case $c.UNKNOWN:return En.UNKNOWN;case $c.DEADLINE_EXCEEDED:return En.DEADLINE_EXCEEDED;case $c.RESOURCE_EXHAUSTED:return En.RESOURCE_EXHAUSTED;case $c.INTERNAL:return En.INTERNAL;case $c.UNAVAILABLE:return En.UNAVAILABLE;case $c.UNAUTHENTICATED:return En.UNAUTHENTICATED;case $c.INVALID_ARGUMENT:return En.INVALID_ARGUMENT;case $c.NOT_FOUND:return En.NOT_FOUND;case $c.ALREADY_EXISTS:return En.ALREADY_EXISTS;case $c.PERMISSION_DENIED:return En.PERMISSION_DENIED;case $c.FAILED_PRECONDITION:return En.FAILED_PRECONDITION;case $c.ABORTED:return En.ABORTED;case $c.OUT_OF_RANGE:return En.OUT_OF_RANGE;case $c.UNIMPLEMENTED:return En.UNIMPLEMENTED;case $c.DATA_LOSS:return En.DATA_LOSS;default:return fr()}}(Mo=$c||($c={}))[Mo.OK=0]="OK",Mo[Mo.CANCELLED=1]="CANCELLED",Mo[Mo.UNKNOWN=2]="UNKNOWN",Mo[Mo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mo[Mo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mo[Mo.NOT_FOUND=5]="NOT_FOUND",Mo[Mo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mo[Mo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mo[Mo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mo[Mo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mo[Mo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mo[Mo.ABORTED=10]="ABORTED",Mo[Mo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mo[Mo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mo[Mo.INTERNAL=13]="INTERNAL",Mo[Mo.UNAVAILABLE=14]="UNAVAILABLE",Mo[Mo.DATA_LOSS=15]="DATA_LOSS";var Uh=function(){function t(i,e){this.comparator=i,this.root=e||og.EMPTY}return t.prototype.insert=function(i,e){return new t(this.comparator,this.root.insert(i,e,this.comparator).copy(null,null,og.BLACK,null,null))},t.prototype.remove=function(i){return new t(this.comparator,this.root.remove(i,this.comparator).copy(null,null,og.BLACK,null,null))},t.prototype.get=function(i){for(var e=this.root;!e.isEmpty();){var s=this.comparator(i,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null},t.prototype.indexOf=function(i){for(var e=0,s=this.root;!s.isEmpty();){var a=this.comparator(i,s.key);if(0===a)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},t.prototype.forEach=function(i){this.inorderTraversal(function(e,s){return i(e,s),!1})},t.prototype.toString=function(){var i=[];return this.inorderTraversal(function(e,s){return i.push(e+":"+s),!1}),"{"+i.join(", ")+"}"},t.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},t.prototype.getIterator=function(){return new $0(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(i){return new $0(this.root,i,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new $0(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(i){return new $0(this.root,i,this.comparator,!0)},t}(),$0=function(){function t(i,e,s,a){this.isReverse=a,this.nodeStack=[];for(var l=1;!i.isEmpty();)if(l=e?s(i.key,e):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return t.prototype.getNext=function(){var i=this.nodeStack.pop(),e={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},t}(),og=function(){function t(i,e,s,a,l){this.key=i,this.value=e,this.color=null!=s?s:t.RED,this.left=null!=a?a:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(i,e,s,a,l){return new t(null!=i?i:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},t.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(i,e,s){var a=this,l=s(i,a.key);return(a=l<0?a.copy(null,null,null,a.left.insert(i,e,s),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(i,e,s))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},t.prototype.remove=function(i,e){var s,a=this;if(e(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(i,a.key)){if(a.right.isEmpty())return t.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,e))}return a.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},t.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},t.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},t.prototype.rotateLeft=function(){var i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},t.prototype.rotateRight=function(){var i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},t.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,e)},t.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fr();var i=this.left.check();if(i!==this.right.check())throw fr();return i+(this.isRed()?0:1)},t}();og.EMPTY=null,og.RED=!0,og.BLACK=!1,og.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(i,e,s,a,l){return this},t.prototype.insert=function(i,e,s){return new og(i,e)},t.prototype.remove=function(i,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(i){return!1},t.prototype.reverseTraversal=function(i){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ku=function(){function t(i){this.comparator=i,this.data=new Uh(this.comparator)}return t.prototype.has=function(i){return null!==this.data.get(i)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(i){return this.data.indexOf(i)},t.prototype.forEach=function(i){this.data.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.forEachInRange=function(i,e){for(var s=this.data.getIteratorFrom(i[0]);s.hasNext();){var a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;e(a.key)}},t.prototype.forEachWhile=function(i,e){var s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return},t.prototype.firstAfterOrEqual=function(i){var e=this.data.getIteratorFrom(i);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new kC(this.data.getIterator())},t.prototype.getIteratorFrom=function(i){return new kC(this.data.getIteratorFrom(i))},t.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},t.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(i){var e=this;return e.size<i.size&&(e=i,i=this),i.forEach(function(s){e=e.add(s)}),e},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.data.getIterator(),s=i.data.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0},t.prototype.toArray=function(){var i=[];return this.forEach(function(e){i.push(e)}),i},t.prototype.toString=function(){var i=[];return this.forEach(function(e){return i.push(e)}),"SortedSet("+i.toString()+")"},t.prototype.copy=function(i){var e=new t(this.comparator);return e.data=i,e},t}(),kC=function(){function t(i){this.iter=i}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),fS=new Uh(vr.comparator);function Kp(){return fS}var mS=new Uh(vr.comparator);function EC(){return mS}var TA=new Uh(vr.comparator);function gS(){return TA}var X0=new ku(vr.comparator);function Sa(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=X0,s=0,a=t;s<a.length;s++){var l=a[s];e=e.add(l)}return e}var SA=new ku(lo);function kw(){return SA}var gb=function(){function t(i,e,s,a,l){this.snapshotVersion=i,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}return t.createSynthesizedRemoteEventForCurrentChange=function(i,e){var s=new Map;return s.set(i,Ew.createSynthesizedTargetChangeForCurrentChange(i,e)),new t(Bs.min(),s,kw(),Kp(),Sa())},t}(),Ew=function(){function t(i,e,s,a,l){this.resumeToken=i,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}return t.createSynthesizedTargetChangeForCurrentChange=function(i,e){return new t(Cp.EMPTY_BYTE_STRING,e,Sa(),Sa(),Sa())},t}(),Q0=function(t,i,e,s){this.v=t,this.removedTargetIds=i,this.key=e,this.P=s},DC=function(t,i){this.targetId=t,this.V=i},_S=function(t,i,e,s){void 0===e&&(e=Cp.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=t,this.targetIds=i,this.resumeToken=e,this.cause=s},_b=function(){function t(){this.S=0,this.D=vS(),this.C=Cp.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(i){i.approximateByteSize()>0&&(this.F=!0,this.C=i)},t.prototype.M=function(){var i=Sa(),e=Sa(),s=Sa();return this.D.forEach(function(a,l){switch(l){case 0:i=i.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:fr()}}),new Ew(this.C,this.N,i,e,s)},t.prototype.L=function(){this.F=!1,this.D=vS()},t.prototype.B=function(i,e){this.F=!0,this.D=this.D.insert(i,e)},t.prototype.q=function(i){this.F=!0,this.D=this.D.remove(i)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),J0=function(){function t(i){this.W=i,this.G=new Map,this.H=Kp(),this.J=yS(),this.Y=new ku(lo)}return t.prototype.X=function(i){for(var e=0,s=i.v;e<s.length;e++){var a=s[e];i.P&&i.P.isFoundDocument()?this.Z(a,i.P):this.tt(a,i.key,i.P)}for(var l=0,y=i.removedTargetIds;l<y.length;l++)this.tt(a=y[l],i.key,i.P)},t.prototype.et=function(i){var e=this;this.forEachTarget(i,function(s){var a=e.nt(s);switch(i.state){case 0:e.st(s)&&a.O(i.resumeToken);break;case 1:a.K(),a.k||a.L(),a.O(i.resumeToken);break;case 2:a.K(),a.k||e.removeTarget(s);break;case 3:e.st(s)&&(a.j(),a.O(i.resumeToken));break;case 4:e.st(s)&&(e.it(s),a.O(i.resumeToken));break;default:fr()}})},t.prototype.forEachTarget=function(i,e){var s=this;i.targetIds.length>0?i.targetIds.forEach(e):this.G.forEach(function(a,l){s.st(l)&&e(l)})},t.prototype.rt=function(i){var e=i.targetId,s=i.V.count,a=this.ot(e);if(a){var l=a.target;if(gw(l))if(0===s){var y=new vr(l.path);this.tt(e,y,Qu.newNoDocument(y,Bs.min()))}else ns(1===s);else this.ct(e)!==s&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(i){var e=this,s=new Map;this.G.forEach(function(y,k){var V=e.ot(k);if(V){if(y.current&&gw(V.target)){var K=new vr(V.target.path);null!==e.H.get(K)||e.at(k,K)||e.tt(k,K,Qu.newNoDocument(K,i))}y.$&&(s.set(k,y.M()),y.L())}});var a=Sa();this.J.forEach(function(y,k){var V=!0;k.forEachWhile(function(K){var pe=e.ot(K);return!pe||2===pe.purpose||(V=!1,!1)}),V&&(a=a.add(y))});var l=new gb(i,s,this.Y,this.H,a);return this.H=Kp(),this.J=yS(),this.Y=new ku(lo),l},t.prototype.Z=function(i,e){if(this.st(i)){var s=this.at(i,e.key)?2:0;this.nt(i).B(e.key,s),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(i))}},t.prototype.tt=function(i,e,s){if(this.st(i)){var a=this.nt(i);this.at(i,e)?a.B(e,1):a.q(e),this.J=this.J.insert(e,this.ht(e).delete(i)),s&&(this.H=this.H.insert(e,s))}},t.prototype.removeTarget=function(i){this.G.delete(i)},t.prototype.ct=function(i){var e=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(i){this.nt(i).U()},t.prototype.nt=function(i){var e=this.G.get(i);return e||(e=new _b,this.G.set(i,e)),e},t.prototype.ht=function(i){var e=this.J.get(i);return e||(e=new ku(lo),this.J=this.J.insert(i,e)),e},t.prototype.st=function(i){var e=null!==this.ot(i);return e||xi("WatchChangeAggregator","Detected inactive target",i),e},t.prototype.ot=function(i){var e=this.G.get(i);return e&&e.k?null:this.W.lt(i)},t.prototype.it=function(i){var e=this;this.G.set(i,new _b),this.W.getRemoteKeysForTarget(i).forEach(function(s){e.tt(i,s,null)})},t.prototype.at=function(i,e){return this.W.getRemoteKeysForTarget(i).has(e)},t}();function yS(){return new Uh(vr.comparator)}function vS(){return new Uh(vr.comparator)}var kA={asc:"ASCENDING",desc:"DESCENDING"},bS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xS=function(t,i){this.databaseId=t,this.I=i};function yb(t,i){return t.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function wS(t,i){return t.I?i.toBase64():i.toUint8Array()}function CS(t,i){return yb(t,i.toTimestamp())}function Ku(t){return ns(!!t),Bs.fromTimestamp((e=X_(t),new ph(e.seconds,e.nanos)));var e}function AC(t,i){return(e=t,new Po(["projects",e.projectId,"databases",e.database])).child("documents").child(i).canonicalString();var e}function EA(t){var i=Po.fromString(t);return ns(OC(i)),i}function Dw(t,i){return AC(t.databaseId,i.path)}function e_(t,i){var e=EA(i);if(e.get(1)!==t.databaseId.projectId)throw new li(En.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new li(En.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new vr(TS(e))}function MS(t,i){return AC(t.databaseId,i)}function IC(t){var i=EA(t);return 4===i.length?Po.emptyPath():TS(i)}function iy(t){return new Po(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TS(t){return ns(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function SS(t,i,e){return{name:Dw(t,i),fields:e.value.mapValue.fields}}function LC(t,i,e){var s=e_(t,i.name),a=Ku(i.updateTime),l=new Ql({mapValue:{fields:i.fields}}),y=Qu.newFoundDocument(s,a,l);return e&&y.setHasCommittedMutations(),e?y.setHasCommittedMutations():y}function ry(t,i){var e,a;if(i instanceof mb)e={update:SS(t,i.key,i.value)};else if(i instanceof ny)e={delete:Dw(t,i.key)};else if(i instanceof Kg)e={update:SS(t,i.key,i.data),updateMask:IA(i.fieldMask)};else{if(!(i instanceof SC))return fr();e={verify:Dw(t,i.key)}}return i.fieldTransforms.length>0&&(e.updateTransforms=i.fieldTransforms.map(function(s){return function(a,l){var y=l.transform;if(y instanceof nv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof K_)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ey)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof iv)return{fieldPath:l.field.canonicalString(),increment:y.A};throw fr()}(0,s)})),i.precondition.isNone||(e.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:CS(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:fr()),e}function kS(t,i){var K,e=i.currentDocument?void 0!==(K=i.currentDocument).updateTime?Ju.updateTime(Ku(K.updateTime)):void 0!==K.exists?Ju.exists(K.exists):Ju.none():Ju.none(),s=i.updateTransforms?i.updateTransforms.map(function(K){return function(pe,Se){var Ue=null;"setToServerValue"in Se?(ns("REQUEST_TIME"===Se.setToServerValue),Ue=new nv):"appendMissingElements"in Se?Ue=new K_(Se.appendMissingElements.values||[]):"removeAllFromArray"in Se?Ue=new ey(Se.removeAllFromArray.values||[]):"increment"in Se?Ue=new iv(pe,Se.increment):fr();var Tt=Hf.fromServerFormat(Se.fieldPath);return new fb(Tt,Ue)}(t,K)}):[];if(i.update){var a=e_(t,i.update.name),l=new Ql({mapValue:{fields:i.update.fields}});if(i.updateMask){var y=function(K){return new Ky((K.fieldPaths||[]).map(function(Se){return Hf.fromServerFormat(Se)}))}(i.updateMask);return new Kg(a,l,y,e,s)}return new mb(a,l,e,s)}if(i.delete){var k=e_(t,i.delete);return new ny(k,e)}if(i.verify){var V=e_(t,i.verify);return new SC(V,e)}return fr()}function ES(t,i){return{documents:[MS(t,i.path)]}}function DS(t,i){var e={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(e.parent=MS(t,s),e.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(e.parent=MS(t,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);var a=function(k){if(0!==k.length){var V=k.map(function(K){return function(pe){if("=="===pe.op){if(KT(pe.value))return{unaryFilter:{field:bb(pe.field),op:"IS_NAN"}};if(Uf(pe.value))return{unaryFilter:{field:bb(pe.field),op:"IS_NULL"}}}else if("!="===pe.op){if(KT(pe.value))return{unaryFilter:{field:bb(pe.field),op:"IS_NOT_NAN"}};if(Uf(pe.value))return{unaryFilter:{field:bb(pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bb(pe.field),op:vb(pe.op),value:pe.value}}}(K)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(i.filters);a&&(e.structuredQuery.where=a);var l=function(k){if(0!==k.length)return k.map(function(V){return{field:bb((K=V).field),direction:DA(K.dir)};var K})}(i.orderBy);l&&(e.structuredQuery.orderBy=l);var V,y=(V=i.limit,t.I||ev(V)?V:{value:V});return null!==y&&(e.structuredQuery.limit=y),i.startAt&&(e.structuredQuery.startAt=PC(i.startAt)),i.endAt&&(e.structuredQuery.endAt=PC(i.endAt)),e}function AS(t){var i=IC(t.parent),e=t.structuredQuery,s=e.from?e.from.length:0,a=null;if(s>0){ns(1===s);var l=e.from[0];l.allDescendants?a=l.collectionId:i=i.child(l.collectionId)}var y=[];e.where&&(y=IS(e.where));var k=[];e.orderBy&&(k=e.orderBy.map(function(Se){return new J_(rv((Ue=Se).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));var Se,Ue,V=null;e.limit&&(V=ev(Ue="object"==typeof(Se=e.limit)?Se.value:Se)?null:Ue);var K=null;e.startAt&&(K=LS(e.startAt));var pe=null;return e.endAt&&(pe=LS(e.endAt)),bw(i,a,k,y,V,"F",K,pe)}function IS(t){return t?void 0!==t.unaryFilter?[PS(t)]:void 0!==t.fieldFilter?[AA(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(i){return IS(i)}).reduce(function(i,e){return i.concat(e)}):fr():[]}function PC(t){return{before:t.before,values:t.position}}function LS(t){return new hb(t.values||[],!!t.before)}function DA(t){return kA[t]}function vb(t){return bS[t]}function bb(t){return{fieldPath:t.canonicalString()}}function rv(t){return Hf.fromServerFormat(t.fieldPath)}function AA(t){return Hh.create(rv(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fr()}}(t.fieldFilter.op),t.fieldFilter.value)}function PS(t){switch(t.unaryFilter.op){case"IS_NAN":var i=rv(t.unaryFilter.field);return Hh.create(i,"==",{doubleValue:NaN});case"IS_NULL":var e=rv(t.unaryFilter.field);return Hh.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=rv(t.unaryFilter.field);return Hh.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=rv(t.unaryFilter.field);return Hh.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fr()}}function IA(t){var i=[];return t.fields.forEach(function(e){return i.push(e.canonicalString())}),{fieldPaths:i}}function OC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ym(t){for(var i="",e=0;e<t.length;e++)i.length>0&&(i=OS(i)),i=RC(t.get(e),i);return OS(i)}function RC(t,i){for(var e=i,s=t.length,a=0;a<s;a++){var l=t.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function OS(t){return t+"\x01\x01"}function ag(t){var i=t.length;if(ns(i>=2),2===i)return ns("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Po.emptyPath();for(var e=i-2,s=[],a="",l=0;l<i;){var y=t.indexOf("\x01",l);switch((y<0||y>e)&&fr(),t.charAt(y+1)){case"\x01":var k=t.substring(l,y),V=void 0;0===a.length?V=k:(V=a+=k,a=""),s.push(V);break;case"\x10":a+=t.substring(l,y),a+="\0";break;case"\x11":a+=t.substring(l,y+1);break;default:fr()}l=y+2}return new Po(s)}var RS=function(t,i){this.seconds=t,this.nanoseconds=i},ef=function(t,i,e){this.ownerId=t,this.allowTabSynchronization=i,this.leaseTimestampMs=e};ef.store="owner",ef.key="owner";var sy=function(t,i,e){this.userId=t,this.lastAcknowledgedBatchId=i,this.lastStreamToken=e};sy.store="mutationQueues",sy.keyPath="userId";var bl=function(t,i,e,s,a){this.userId=t,this.batchId=i,this.localWriteTimeMs=e,this.baseMutations=s,this.mutations=a};bl.store="mutations",bl.keyPath="batchId",bl.userMutationsIndex="userMutationsIndex",bl.userMutationsKeyPath=["userId","batchId"];var ed=function(){function t(){}return t.prefixForUser=function(i){return[i]},t.prefixForPath=function(i,e){return[i,ym(e)]},t.key=function(i,e,s){return[i,ym(e),s]},t}();ed.store="documentMutations",ed.PLACEHOLDER=new ed;var LA=function(t,i){this.path=t,this.readTime=i},FS=function(t,i){this.path=t,this.version=i},vc=function(t,i,e,s,a,l){this.unknownDocument=t,this.noDocument=i,this.document=e,this.hasCommittedMutations=s,this.readTime=a,this.parentPath=l};vc.store="remoteDocuments",vc.readTimeIndex="readTimeIndex",vc.readTimeIndexPath="readTime",vc.collectionReadTimeIndex="collectionReadTimeIndex",vc.collectionReadTimeIndexPath=["parentPath","readTime"];var lg=function(t){this.byteSize=t};lg.store="remoteDocumentGlobal",lg.key="remoteDocumentGlobalKey";var Tp=function(t,i,e,s,a,l,y){this.targetId=t,this.canonicalId=i,this.readTime=e,this.resumeToken=s,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=l,this.query=y};Tp.store="targets",Tp.keyPath="targetId",Tp.queryTargetsIndexName="queryTargetsIndex",Tp.queryTargetsKeyPath=["canonicalId","targetId"];var Ed=function(t,i,e){this.targetId=t,this.path=i,this.sequenceNumber=e};Ed.store="targetDocuments",Ed.keyPath=["targetId","path"],Ed.documentTargetsIndex="documentTargetsIndex",Ed.documentTargetsKeyPath=["path","targetId"];var tf=function(t,i,e,s){this.highestTargetId=t,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=e,this.targetCount=s};tf.key="targetGlobalKey",tf.store="targetGlobal";var sv=function(t,i){this.collectionId=t,this.parent=i};sv.store="collectionParents",sv.keyPath=["collectionId","parent"];var t_=function(t,i,e,s){this.clientId=t,this.updateTimeMs=i,this.networkEnabled=e,this.inForeground=s};t_.store="clientMetadata",t_.keyPath="clientId";var xb=function(t,i,e){this.bundleId=t,this.createTime=i,this.version=e};xb.store="bundles",xb.keyPath="bundleId";var ov=function(t,i,e){this.name=t,this.readTime=i,this.bundledQuery=e};ov.store="namedQueries",ov.keyPath="name";var NS=(0,gt.ev)((0,gt.ev)([],(0,gt.ev)((0,gt.ev)([],(0,gt.ev)((0,gt.ev)([],(0,gt.ev)((0,gt.ev)([],[sy.store,bl.store,ed.store,vc.store,Tp.store,ef.store,tf.store,Ed.store]),[t_.store])),[lg.store])),[sv.store])),[xb.store,ov.store]),zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},t}(),Dd=function(){var t=this;this.promise=new Promise(function(i,e){t.resolve=i,t.reject=e})},_i=function(){function t(i){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(s){e.isDone=!0,e.result=s,e.nextCallback&&e.nextCallback(s)},function(s){e.isDone=!0,e.error=s,e.catchCallback&&e.catchCallback(s)})}return t.prototype.catch=function(i){return this.next(void 0,i)},t.prototype.next=function(i,e){var s=this;return this.callbackAttached&&fr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(i,this.result):new t(function(a,l){s.nextCallback=function(y){s.wrapSuccess(i,y).next(a,l)},s.catchCallback=function(y){s.wrapFailure(e,y).next(a,l)}})},t.prototype.toPromise=function(){var i=this;return new Promise(function(e,s){i.next(e,s)})},t.prototype.wrapUserFunction=function(i){try{var e=i();return e instanceof t?e:t.resolve(e)}catch(s){return t.reject(s)}},t.prototype.wrapSuccess=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.resolve(e)},t.prototype.wrapFailure=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.reject(e)},t.resolve=function(i){return new t(function(e,s){e(i)})},t.reject=function(i){return new t(function(e,s){s(i)})},t.waitFor=function(i){return new t(function(e,s){var a=0,l=0,y=!1;i.forEach(function(k){++a,k.next(function(){++l,y&&l===a&&e()},function(V){return s(V)})}),y=!0,l===a&&e()})},t.or=function(i){for(var e=t.resolve(!1),s=function(y){e=e.next(function(k){return k?t.resolve(k):y()})},a=0,l=i;a<l.length;a++)s(l[a]);return e},t.forEach=function(i,e){var s=this,a=[];return i.forEach(function(l,y){a.push(e.call(s,l,y))}),this.waitFor(a)},t}(),BS=function(){function t(i,e){var s=this;this.action=i,this.transaction=e,this.aborted=!1,this.ft=new Dd,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){e.error?s.ft.reject(new av(i,e.error)):s.ft.resolve()},this.transaction.onerror=function(a){var l=K0(a.target.error);s.ft.reject(new av(i,l))}}return t.open=function(i,e,s,a){try{return new t(e,i.transaction(a,s))}catch(l){throw new av(e,l)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(xi("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(i){var e=this.transaction.objectStore(i);return new NC(e)},t}(),wb=function(){function t(i,e,s){this.name=i,this.version=e,this.wt=s,12.2===t._t((0,Ss.z$)())&&yc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(i){return xi("SimpleDb","Removing database:",i),lv(window.indexedDB.deleteDatabase(i)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var i=(0,Ss.z$)(),e=t._t(i),s=0<e&&e<10,a=t.Et(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)},t.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},t.It=function(i,e){return i.store(e)},t._t=function(i){var e=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)},t.Et=function(i){var e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)},t.prototype.At=function(i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return this.db?[3,2]:(xi("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(l,y){var k=indexedDB.open(s.name,s.version);k.onsuccess=function(V){l(V.target.result)},k.onblocked=function(){y(new av(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},k.onerror=function(V){var K=V.target.error;y("VersionError"===K.name?new li(En.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new av(i,K))},k.onupgradeneeded=function(V){xi("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',V.oldVersion),s.wt.Rt(V.target.result,k.transaction,V.oldVersion,s.version).next(function(){xi("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:e.db=a.sent(),a.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(l){return s.bt(l)}),this.db)]}})})},t.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(e){return i(e)})},t.prototype.runTransaction=function(i,e,s,a){return(0,gt.mG)(this,void 0,void 0,function(){var l,y,k,V,K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:l="readonly"===e,y=0,k=function(){var Se,Ue,Je,rt,Tt;return(0,gt.Jh)(this,function(Qt){switch(Qt.label){case 0:++y,Qt.label=1;case 1:return Qt.trys.push([1,4,,5]),[4,V.At(i)];case 2:return V.db=Qt.sent(),Se=BS.open(V.db,i,l?"readonly":"readwrite",s),Ue=a(Se).catch(function(Cn){return Se.abort(Cn),_i.reject(Cn)}).toPromise(),Je={},Ue.catch(function(){}),[4,Se.dt];case 3:return[2,(Je.value=(Qt.sent(),Ue),Je)];case 4:return xi("SimpleDb","Transaction failed with error:",(rt=Qt.sent()).message,"Retrying:",Tt="FirebaseError"!==rt.name&&y<3),V.close(),Tt?[3,5]:[2,{value:Promise.reject(rt)}];case 5:return[2]}})},V=this,pe.label=1;case 1:return[5,k()];case 2:if("object"==typeof(K=pe.sent()))return[2,K.value];pe.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),FC=function(){function t(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(i){this.St=i},t.prototype.delete=function(){return lv(this.Pt.delete())},t}(),av=function(t){function i(e,s){var a=this;return(a=t.call(this,En.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+s)||this).name="IndexedDbTransactionError",a}return(0,gt.ZT)(i,t),i}(li);function oy(t){return"IndexedDbTransactionError"===t.name}var NC=function(){function t(i){this.store=i}return t.prototype.put=function(i,e){var s;return void 0!==e?(xi("SimpleDb","PUT",this.store.name,i,e),s=this.store.put(e,i)):(xi("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),lv(s)},t.prototype.add=function(i){return xi("SimpleDb","ADD",this.store.name,i,i),lv(this.store.add(i))},t.prototype.get=function(i){var e=this;return lv(this.store.get(i)).next(function(s){return void 0===s&&(s=null),xi("SimpleDb","GET",e.store.name,i,s),s})},t.prototype.delete=function(i){return xi("SimpleDb","DELETE",this.store.name,i),lv(this.store.delete(i))},t.prototype.count=function(){return xi("SimpleDb","COUNT",this.store.name),lv(this.store.count())},t.prototype.Nt=function(i,e){var s=this.cursor(this.options(i,e)),a=[];return this.xt(s,function(l,y){a.push(y)}).next(function(){return a})},t.prototype.Ft=function(i,e){xi("SimpleDb","DELETE ALL",this.store.name);var s=this.options(i,e);s.kt=!1;var a=this.cursor(s);return this.xt(a,function(l,y,k){return k.delete()})},t.prototype.$t=function(i,e){var s;e?s=i:(s={},e=i);var a=this.cursor(s);return this.xt(a,e)},t.prototype.Ot=function(i){var e=this.cursor({});return new _i(function(s,a){e.onerror=function(l){var y=K0(l.target.error);a(y)},e.onsuccess=function(l){var y=l.target.result;y?i(y.primaryKey,y.value).next(function(k){k?y.continue():s()}):s()}})},t.prototype.xt=function(i,e){var s=[];return new _i(function(a,l){i.onerror=function(y){l(y.target.error)},i.onsuccess=function(y){var k=y.target.result;if(k){var V=new FC(k),K=e(k.primaryKey,k.value,V);if(K instanceof _i){var pe=K.catch(function(Se){return V.done(),_i.reject(Se)});s.push(pe)}V.isDone?a():null===V.Dt?k.continue():k.continue(V.Dt)}else a()}}).next(function(){return _i.waitFor(s)})},t.prototype.options=function(i,e){var s;return void 0!==i&&("string"==typeof i?s=i:e=i),{index:s,range:e}},t.prototype.cursor=function(i){var e="next";if(i.reverse&&(e="prev"),i.index){var s=this.store.index(i.index);return i.kt?s.openKeyCursor(i.range,e):s.openCursor(i.range,e)}return this.store.openCursor(i.range,e)},t}();function lv(t){return new _i(function(i,e){t.onsuccess=function(s){i(s.target.result)},t.onerror=function(s){var a=K0(s.target.error);e(a)}})}var VS=!1;function K0(t){var i=wb._t((0,Ss.z$)());if(i>=12.2&&i<13){var e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){var s=new li("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return VS||(VS=!0,setTimeout(function(){throw s},0)),s}}return t}var HS=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Mt=e,a.currentSequenceNumber=s,a}return(0,gt.ZT)(i,t),i}(YS);function jh(t,i){var e=Ii(t);return wb.It(e.Mt,i)}var zC=function(){function t(i,e,s,a){this.batchId=i,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}return t.prototype.applyToRemoteDocument=function(i,e){for(var s=e.mutationResults,a=0;a<this.mutations.length;a++){var l=this.mutations[a];l.key.isEqual(i.key)&&wA(l,i,s[a])}},t.prototype.applyToLocalView=function(i){for(var e=0,s=this.baseMutations;e<s.length;e++)(y=s[e]).key.isEqual(i.key)&&ty(y,i,this.localWriteTime);for(var a=0,l=this.mutations;a<l.length;a++){var y;(y=l[a]).key.isEqual(i.key)&&ty(y,i,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(i){var e=this;this.mutations.forEach(function(s){var a=i.get(s.key),l=a;e.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(Bs.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(i,e){return i.add(e.key)},Sa())},t.prototype.isEqual=function(i){return this.batchId===i.batchId&&Jy(this.mutations,i.mutations,function(e,s){return Tw(e,s)})&&Jy(this.baseMutations,i.baseMutations,function(e,s){return Tw(e,s)})},t}(),US=function(){function t(i,e,s,a){this.batch=i,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}return t.from=function(i,e,s){ns(i.mutations.length===s.length);for(var a=gS(),l=i.mutations,y=0;y<l.length;y++)a=a.insert(l[y].key,s[y].version);return new t(i,e,s,a)},t}(),ex=function(){function t(i,e,s,a,l,y,k){void 0===l&&(l=Bs.min()),void 0===y&&(y=Bs.min()),void 0===k&&(k=Cp.EMPTY_BYTE_STRING),this.target=i,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=k}return t.prototype.withSequenceNumber=function(i){return new t(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(i,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,i)},t.prototype.withLastLimboFreeSnapshotVersion=function(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},t}(),YC=function(t){this.Lt=t};function jS(t,i){if(i.document)return LC(t.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var e=vr.fromSegments(i.noDocument.path),s=i_(i.noDocument.readTime),a=Qu.newNoDocument(e,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){var l=vr.fromSegments(i.unknownDocument.path);return s=i_(i.unknownDocument.version),Qu.newUnknownDocument(l,s)}return fr()}function GS(t,i,e){var Se,Ue,s=n_(e),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){var l={name:Dw(Se=t.Lt,(Ue=i).key),fields:Ue.data.value.mapValue.fields,updateTime:yb(Se,Ue.version.toTimestamp())},y=i.hasCommittedMutations;return new vc(null,null,l,y,s,a)}if(i.isNoDocument()){var k=i.key.path.toArray(),V=ay(i.version);return y=i.hasCommittedMutations,new vc(null,new LA(k,V),null,y,s,a)}if(i.isUnknownDocument()){var K=i.key.path.toArray(),pe=ay(i.version);return new vc(new FS(K,pe),null,null,!0,s,a)}return fr()}function n_(t){var i=t.toTimestamp();return[i.seconds,i.nanoseconds]}function PA(t){var i=new ph(t[0],t[1]);return Bs.fromTimestamp(i)}function ay(t){var i=t.toTimestamp();return new RS(i.seconds,i.nanoseconds)}function i_(t){var i=new ph(t.seconds,t.nanoseconds);return Bs.fromTimestamp(i)}function Cb(t,i){for(var e=(i.baseMutations||[]).map(function(V){return kS(t.Lt,V)}),s=0;s<i.mutations.length-1;++s)s+1<i.mutations.length&&void 0!==i.mutations[s+1].transform&&(i.mutations[s].updateTransforms=i.mutations[s+1].transform.fieldTransforms,i.mutations.splice(s+1,1),++s);var y=i.mutations.map(function(V){return kS(t.Lt,V)}),k=ph.fromMillis(i.localWriteTimeMs);return new zC(i.batchId,k,e,y)}function cg(t){var i,e,s=i_(t.readTime),a=void 0!==t.lastLimboFreeSnapshotVersion?i_(t.lastLimboFreeSnapshotVersion):Bs.min();return void 0!==t.query.documents?(ns(1===(e=t.query).documents.length),i=Gf(tv(IC(e.documents[0])))):i=Gf(AS(t.query)),new ex(i,t.targetId,0,t.lastListenSequenceNumber,s,a,Cp.fromBase64String(t.resumeToken))}function ZS(t,i){var e,s=ay(i.snapshotVersion),a=ay(i.lastLimboFreeSnapshotVersion);e=gw(i.target)?ES(t.Lt,i.target):DS(t.Lt,i.target);var l=i.resumeToken.toBase64();return new Tp(i.targetId,V0(i.target),s,l,i.sequenceNumber,a,e)}function WS(t){var i=AS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?oS(i,i.limit,"L"):i}var OA=function(){function t(){}return t.prototype.getBundleMetadata=function(i,e){return vm(i).get(e).next(function(s){if(s)return{id:(a=s).bundleId,createTime:i_(a.createTime),version:a.version};var a})},t.prototype.saveBundleMetadata=function(i,e){return vm(i).put({bundleId:(s=e).id,createTime:ay(Ku(s.createTime)),version:s.version});var s},t.prototype.getNamedQuery=function(i,e){return BC(i).get(e).next(function(s){if(s)return{name:(a=s).name,query:WS(a.bundledQuery),readTime:i_(a.readTime)};var a})},t.prototype.saveNamedQuery=function(i,e){return BC(i).put({name:(s=e).name,readTime:ay(Ku(s.readTime)),bundledQuery:s.bundledQuery});var s},t}();function vm(t){return jh(t,xb.store)}function BC(t){return jh(t,ov.store)}var eP=function(){function t(){this.Bt=new Mb}return t.prototype.addToCollectionParentIndex=function(i,e){return this.Bt.add(e),_i.resolve()},t.prototype.getCollectionParents=function(i,e){return _i.resolve(this.Bt.getEntries(e))},t}(),Mb=function(){function t(){this.index={}}return t.prototype.add=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e]||new ku(Po.comparator),l=!a.has(s);return this.index[e]=a.add(s),l},t.prototype.has=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e];return a&&a.has(s)},t.prototype.getEntries=function(i){return(this.index[i]||new ku(Po.comparator)).toArray()},t}(),RA=function(){function t(){this.qt=new Mb}return t.prototype.addToCollectionParentIndex=function(i,e){var s=this;if(!this.qt.has(e)){var a=e.lastSegment(),l=e.popLast();i.addOnCommittedListener(function(){s.qt.add(e)});var y={collectionId:a,parent:ym(l)};return qS(i).put(y)}return _i.resolve()},t.prototype.getCollectionParents=function(i,e){var s=[],a=IDBKeyRange.bound([e,""],[uC(e),""],!1,!0);return qS(i).Nt(a).next(function(l){for(var y=0,k=l;y<k.length;y++){var V=k[y];if(V.collectionId!==e)break;s.push(ag(V.parent))}return s})},t}();function qS(t){return jh(t,sv.store)}var FA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ug=function(){function t(i,e,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}return t.withCacheSize=function(i){return new t(i,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function $S(t,i,e){var s=t.store(bl.store),a=t.store(ed.store),l=[],y=IDBKeyRange.only(e.batchId),k=0,V=s.$t({range:y},function(rt,Tt,Qt){return k++,Qt.delete()});l.push(V.next(function(){ns(1===k)}));for(var K=[],pe=0,Se=e.mutations;pe<Se.length;pe++){var Ue=Se[pe],Je=ed.key(i,Ue.key.path,e.batchId);l.push(a.delete(Je)),K.push(Ue.key)}return _i.waitFor(l).next(function(){return K})}function Aw(t){if(!t)return 0;var i;if(t.document)i=t.document;else if(t.unknownDocument)i=t.unknownDocument;else{if(!t.noDocument)throw fr();i=t.noDocument}return JSON.stringify(i).length}ug.DEFAULT_COLLECTION_PERCENTILE=10,ug.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ug.DEFAULT=new ug(41943040,ug.DEFAULT_COLLECTION_PERCENTILE,ug.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ug.DISABLED=new ug(-1,0,0);var VC=function(){function t(i,e,s,a){this.userId=i,this.R=e,this.Ut=s,this.referenceDelegate=a,this.Kt={}}return t.Qt=function(i,e,s,a){return ns(""!==i.uid),new t(i.isAuthenticated()?i.uid:"",e,s,a)},t.prototype.checkEmpty=function(i){var e=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dg(i).$t({index:bl.userMutationsIndex,range:s},function(a,l,y){e=!1,y.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(i,e,s,a){var l=this,y=cv(i),k=dg(i);return k.add({}).next(function(V){ns("number"==typeof V);for(var K=new zC(V,e,s,a),pe=function(Cn,Jn,Zn){var Di=Zn.baseMutations.map(function(ls){return ry(Cn.Lt,ls)}),Bi=Zn.mutations.map(function(ls){return ry(Cn.Lt,ls)});return new bl(Jn,Zn.batchId,Zn.localWriteTime.toMillis(),Di,Bi)}(l.R,l.userId,K),Se=[],Ue=new ku(function(Cn,Jn){return lo(Cn.canonicalString(),Jn.canonicalString())}),Je=0,rt=a;Je<rt.length;Je++){var Tt=rt[Je],Qt=ed.key(l.userId,Tt.key.path,V);Ue=Ue.add(Tt.key.path.popLast()),Se.push(k.put(pe)),Se.push(y.put(Qt,ed.PLACEHOLDER))}return Ue.forEach(function(Cn){Se.push(l.Ut.addToCollectionParentIndex(i,Cn))}),i.addOnCommittedListener(function(){l.Kt[V]=K.keys()}),_i.waitFor(Se).next(function(){return K})})},t.prototype.lookupMutationBatch=function(i,e){var s=this;return dg(i).get(e).next(function(a){return a?(ns(a.userId===s.userId),Cb(s.R,a)):null})},t.prototype.jt=function(i,e){var s=this;return this.Kt[e]?_i.resolve(this.Kt[e]):this.lookupMutationBatch(i,e).next(function(a){if(a){var l=a.keys();return s.Kt[e]=l,l}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var s=this,a=e+1,l=IDBKeyRange.lowerBound([this.userId,a]),y=null;return dg(i).$t({index:bl.userMutationsIndex,range:l},function(k,V,K){V.userId===s.userId&&(ns(V.batchId>=a),y=Cb(s.R,V)),K.done()}).next(function(){return y})},t.prototype.getHighestUnacknowledgedBatchId=function(i){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return dg(i).$t({index:bl.userMutationsIndex,range:e,reverse:!0},function(a,l,y){s=l.batchId,y.done()}).next(function(){return s})},t.prototype.getAllMutationBatches=function(i){var e=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dg(i).Nt(bl.userMutationsIndex,s).next(function(a){return a.map(function(l){return Cb(e.R,l)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=ed.prefixForPath(this.userId,e.path),l=IDBKeyRange.lowerBound(a),y=[];return cv(i).$t({range:l},function(k,V,K){var pe=k[0],Ue=k[2],Je=ag(k[1]);if(pe===s.userId&&e.path.isEqual(Je))return dg(i).get(Ue).next(function(rt){if(!rt)throw fr();ns(rt.userId===s.userId),y.push(Cb(s.R,rt))});K.done()}).next(function(){return y})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new ku(lo),l=[];return e.forEach(function(y){var k=ed.prefixForPath(s.userId,y.path),V=IDBKeyRange.lowerBound(k),K=cv(i).$t({range:V},function(pe,Se,Ue){var Je=pe[0],Tt=pe[2],Qt=ag(pe[1]);Je===s.userId&&y.path.isEqual(Qt)?a=a.add(Tt):Ue.done()});l.push(K)}),_i.waitFor(l).next(function(){return s.Wt(i,a)})},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=this,a=e.path,l=a.length+1,y=ed.prefixForPath(this.userId,a),k=IDBKeyRange.lowerBound(y),V=new ku(lo);return cv(i).$t({range:k},function(K,pe,Se){var Ue=K[0],rt=K[2],Tt=ag(K[1]);Ue===s.userId&&a.isPrefixOf(Tt)?Tt.length===l&&(V=V.add(rt)):Se.done()}).next(function(){return s.Wt(i,V)})},t.prototype.Wt=function(i,e){var s=this,a=[],l=[];return e.forEach(function(y){l.push(dg(i).get(y).next(function(k){if(null===k)throw fr();ns(k.userId===s.userId),a.push(Cb(s.R,k))}))}),_i.waitFor(l).next(function(){return a})},t.prototype.removeMutationBatch=function(i,e){var s=this;return $S(i.Mt,this.userId,e).next(function(a){return i.addOnCommittedListener(function(){s.Gt(e.batchId)}),_i.forEach(a,function(l){return s.referenceDelegate.markPotentiallyOrphaned(i,l)})})},t.prototype.Gt=function(i){delete this.Kt[i]},t.prototype.performConsistencyCheck=function(i){var e=this;return this.checkEmpty(i).next(function(s){if(!s)return _i.resolve();var a=IDBKeyRange.lowerBound(ed.prefixForUser(e.userId)),l=[];return cv(i).$t({range:a},function(y,k,V){if(y[0]===e.userId){var K=ag(y[1]);l.push(K)}else V.done()}).next(function(){ns(0===l.length)})})},t.prototype.containsKey=function(i,e){return HC(i,this.userId,e)},t.prototype.zt=function(i){var e=this;return XS(i).get(this.userId).next(function(s){return s||new sy(e.userId,-1,"")})},t}();function HC(t,i,e){var s=ed.prefixForPath(i,e.path),a=s[1],l=IDBKeyRange.lowerBound(s),y=!1;return cv(t).$t({range:l,kt:!0},function(k,V,K){k[0]===i&&k[1]===a&&(y=!0),K.done()}).next(function(){return y})}function dg(t){return jh(t,bl.store)}function cv(t){return jh(t,ed.store)}function XS(t){return jh(t,sy.store)}var UC=function(){function t(i){this.Ht=i}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),NA=function(){function t(i,e){this.referenceDelegate=i,this.R=e}return t.prototype.allocateTargetId=function(i){var e=this;return this.Xt(i).next(function(s){var a=new UC(s.highestTargetId);return s.highestTargetId=a.next(),e.Zt(i,s).next(function(){return s.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(e){return Bs.fromTimestamp(new ph(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(e){return e.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(i,e,s){var a=this;return this.Xt(i).next(function(l){return l.highestListenSequenceNumber=e,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),e>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=e),a.Zt(i,l)})},t.prototype.addTargetData=function(i,e){var s=this;return this.te(i,e).next(function(){return s.Xt(i).next(function(a){return a.targetCount+=1,s.ee(e,a),s.Zt(i,a)})})},t.prototype.updateTargetData=function(i,e){return this.te(i,e)},t.prototype.removeTargetData=function(i,e){var s=this;return this.removeMatchingKeysForTargetId(i,e.targetId).next(function(){return Tb(i).delete(e.targetId)}).next(function(){return s.Xt(i)}).next(function(a){return ns(a.targetCount>0),a.targetCount-=1,s.Zt(i,a)})},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,y=[];return Tb(i).$t(function(k,V){var K=cg(V);K.sequenceNumber<=e&&null===s.get(K.targetId)&&(l++,y.push(a.removeTargetData(i,K)))}).next(function(){return _i.waitFor(y)}).next(function(){return l})},t.prototype.forEachTarget=function(i,e){return Tb(i).$t(function(s,a){var l=cg(a);e(l)})},t.prototype.Xt=function(i){return QS(i).get(tf.key).next(function(e){return ns(null!==e),e})},t.prototype.Zt=function(i,e){return QS(i).put(tf.key,e)},t.prototype.te=function(i,e){return Tb(i).put(ZS(this.R,e))},t.prototype.ee=function(i,e){var s=!1;return i.targetId>e.highestTargetId&&(e.highestTargetId=i.targetId,s=!0),i.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=i.sequenceNumber,s=!0),s},t.prototype.getTargetCount=function(i){return this.Xt(i).next(function(e){return e.targetCount})},t.prototype.getTargetData=function(i,e){var s=V0(e),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),l=null;return Tb(i).$t({range:a,index:Tp.queryTargetsIndexName},function(y,k,V){var K=cg(k);mw(e,K.target)&&(l=K,V.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(i,e,s){var a=this,l=[],y=r_(i);return e.forEach(function(k){var V=ym(k.path);l.push(y.put(new Ed(s,V))),l.push(a.referenceDelegate.addReference(i,s,k))}),_i.waitFor(l)},t.prototype.removeMatchingKeys=function(i,e,s){var a=this,l=r_(i);return _i.forEach(e,function(y){var k=ym(y.path);return _i.waitFor([l.delete([s,k]),a.referenceDelegate.removeReference(i,s,y)])})},t.prototype.removeMatchingKeysForTargetId=function(i,e){var s=r_(i),a=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(a)},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=IDBKeyRange.bound([e],[e+1],!1,!0),a=r_(i),l=Sa();return a.$t({range:s,kt:!0},function(y,k,V){var K=ag(y[1]),pe=new vr(K);l=l.add(pe)}).next(function(){return l})},t.prototype.containsKey=function(i,e){var s=ym(e.path),a=IDBKeyRange.bound([s],[uC(s)],!1,!0),l=0;return r_(i).$t({index:Ed.documentTargetsIndex,kt:!0,range:a},function(y,k,V){0!==y[0]&&(l++,V.done())}).next(function(){return l>0})},t.prototype.lt=function(i,e){return Tb(i).get(e).next(function(s){return s?cg(s):null})},t}();function Tb(t){return jh(t,Tp.store)}function QS(t){return jh(t,tf.store)}function r_(t){return jh(t,Ed.store)}function ly(t){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){if(t.code!==En.FAILED_PRECONDITION||t.message!==zS)throw t;return xi("LocalStore","Unexpectedly lost primary lease"),[2]})})}function jC(t,i){var s=t[1],l=i[1],y=lo(t[0],i[0]);return 0===y?lo(s,l):y}var zA=function(){function t(i){this.ne=i,this.buffer=new ku(jC),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(i){var e=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var s=this.buffer.last();jC(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),YA=function(){function t(i,e){this.garbageCollector=i,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(i){var e=this,s=this.oe?3e5:6e4;xi("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,gt.mG)(e,void 0,void 0,function(){var a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:this.ce=null,this.oe=!0,l.label=1;case 1:return l.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return l.sent(),[3,7];case 3:return oy(a=l.sent())?(xi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a),[3,6]):[3,4];case 4:return[4,ly(a)];case 5:l.sent(),l.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return l.sent(),[2]}})})})},t}(),JS=function(){function t(i,e){this.ae=i,this.params=e}return t.prototype.calculateTargetCount=function(i,e){return this.ae.he(i).next(function(s){return Math.floor(e/100*s)})},t.prototype.nthSequenceNumber=function(i,e){var s=this;if(0===e)return _i.resolve(Bh.o);var a=new zA(e);return this.ae.forEachTarget(i,function(l){return a.re(l.sequenceNumber)}).next(function(){return s.ae.le(i,function(l){return a.re(l)})}).next(function(){return a.maxValue})},t.prototype.removeTargets=function(i,e,s){return this.ae.removeTargets(i,e,s)},t.prototype.removeOrphanedDocuments=function(i,e){return this.ae.removeOrphanedDocuments(i,e)},t.prototype.collect=function(i,e){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(xi("LruGarbageCollector","Garbage collection skipped; disabled"),_i.resolve(FA)):this.getCacheSize(i).next(function(a){return a<s.params.cacheSizeCollectionThreshold?(xi("LruGarbageCollector","Garbage collection skipped; Cache size "+a+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),FA):s.fe(i,e)})},t.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},t.prototype.fe=function(i,e){var s,a,l,y,k,V,K,pe=this,Se=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(Ue){return Ue>pe.params.maximumSequenceNumbersToCollect?(xi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+pe.params.maximumSequenceNumbersToCollect+" from "+Ue),a=pe.params.maximumSequenceNumbersToCollect):a=Ue,y=Date.now(),pe.nthSequenceNumber(i,a)}).next(function(Ue){return s=Ue,k=Date.now(),pe.removeTargets(i,s,e)}).next(function(Ue){return l=Ue,V=Date.now(),pe.removeOrphanedDocuments(i,s)}).next(function(Ue){return K=Date.now(),P0()<=oh.in.DEBUG&&xi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(y-Se)+"ms\n\tDetermined least recently used "+a+" in "+(k-y)+"ms\n\tRemoved "+l+" targets in "+(V-k)+"ms\n\tRemoved "+Ue+" documents in "+(K-V)+"ms\nTotal Duration: "+(K-Se)+"ms"),_i.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:Ue})})},t}(),Iw=function(){function t(i,e){this.db=i,this.garbageCollector=new JS(this,e)}return t.prototype.he=function(i){var e=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(s){return e.next(function(a){return s+a})})},t.prototype.de=function(i){var e=0;return this.le(i,function(s){e++}).next(function(){return e})},t.prototype.forEachTarget=function(i,e){return this.db.getTargetCache().forEachTarget(i,e)},t.prototype.le=function(i,e){return this.we(i,function(s,a){return e(a)})},t.prototype.addReference=function(i,e,s){return Lw(i,s)},t.prototype.removeReference=function(i,e,s){return Lw(i,s)},t.prototype.removeTargets=function(i,e,s){return this.db.getTargetCache().removeTargets(i,e,s)},t.prototype.markPotentiallyOrphaned=function(i,e){return Lw(i,e)},t.prototype._e=function(i,e){return a=e,l=!1,XS(s=i).Ot(function(y){return HC(s,y,a).next(function(k){return k&&(l=!0),_i.resolve(!k)})}).next(function(){return l});var s,a,l},t.prototype.removeOrphanedDocuments=function(i,e){var s=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[],y=0;return this.we(i,function(k,V){if(V<=e){var K=s._e(i,k).next(function(pe){if(!pe)return y++,a.getEntry(i,k).next(function(){return a.removeEntry(k),r_(i).delete([0,ym(k.path)])})});l.push(K)}}).next(function(){return _i.waitFor(l)}).next(function(){return a.apply(i)}).next(function(){return y})},t.prototype.removeTarget=function(i,e){var s=e.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)},t.prototype.updateLimboDocument=function(i,e){return Lw(i,e)},t.prototype.we=function(i,e){var s,a=r_(i),l=Bh.o;return a.$t({index:Ed.documentTargetsIndex},function(y,k){var K=k.path,pe=k.sequenceNumber;0===y[0]?(l!==Bh.o&&e(new vr(ag(s)),l),l=pe,s=K):l=Bh.o}).next(function(){l!==Bh.o&&e(new vr(ag(s)),l)})},t.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},t}();function Lw(t,i){return r_(t).put((s=t.currentSequenceNumber,new Ed(0,ym(i.path),s)));var s}var uv=function(){function t(i,e){this.mapKeyFn=i,this.equalsFn=e,this.inner={}}return t.prototype.get=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0!==s)for(var a=0,l=s;a<l.length;a++){var y=l[a],V=y[1];if(this.equalsFn(y[0],i))return V}},t.prototype.has=function(i){return void 0!==this.get(i)},t.prototype.set=function(i,e){var s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(var l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,e]);a.push([i,e])}else this.inner[s]=[[i,e]]},t.prototype.delete=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0===s)return!1;for(var a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[e]:s.splice(a,1),!0;return!1},t.prototype.forEach=function(i){$_(this.inner,function(e,s){for(var a=0,l=s;a<l.length;a++){var y=l[a];i(y[0],y[1])}})},t.prototype.isEmpty=function(){return hC(this.inner)},t}(),tx=function(){function t(){this.changes=new uv(function(i){return i.toString()},function(i,e){return i.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(i){var e=this.changes.get(i);return e?e.readTime:Bs.min()},t.prototype.addEntry=function(i,e){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:e})},t.prototype.removeEntry=function(i,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(i,{document:Qu.newInvalidDocument(i),readTime:e})},t.prototype.getEntry=function(i,e){this.assertNotApplied();var s=this.changes.get(e);return void 0!==s?_i.resolve(s.document):this.getFromCache(i,e)},t.prototype.getEntries=function(i,e){return this.getAllFromCache(i,e)},t.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},t.prototype.assertNotApplied=function(){},t}(),Pw=function(){function t(i,e){this.R=i,this.Ut=e}return t.prototype.addEntry=function(i,e,s){return cy(i).put(GC(e),s)},t.prototype.removeEntry=function(i,e){var s=cy(i),a=GC(e);return s.delete(a)},t.prototype.updateMetadata=function(i,e){var s=this;return this.getMetadata(i).next(function(a){return a.byteSize+=e,s.me(i,a)})},t.prototype.getEntry=function(i,e){var s=this;return cy(i).get(GC(e)).next(function(a){return s.ye(e,a)})},t.prototype.ge=function(i,e){var s=this;return cy(i).get(GC(e)).next(function(a){return{document:s.ye(e,a),size:Aw(a)}})},t.prototype.getEntries=function(i,e){var s=this,a=Kp();return this.pe(i,e,function(l,y){var k=s.ye(l,y);a=a.insert(l,k)}).next(function(){return a})},t.prototype.Ee=function(i,e){var s=this,a=Kp(),l=new Uh(vr.comparator);return this.pe(i,e,function(y,k){var V=s.ye(y,k);a=a.insert(y,V),l=l.insert(y,Aw(k))}).next(function(){return{documents:a,Te:l}})},t.prototype.pe=function(i,e,s){if(e.isEmpty())return _i.resolve();var a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator(),y=l.getNext();return cy(i).$t({range:a},function(k,V,K){for(var pe=vr.fromSegments(k);y&&vr.comparator(y,pe)<0;)s(y,null),y=l.getNext();y&&y.isEqual(pe)&&(s(y,V),y=l.hasNext()?l.getNext():null),y?K.Ct(y.path.toArray()):K.done()}).next(function(){for(;y;)s(y,null),y=l.hasNext()?l.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){var a=this,l=Kp(),y=e.path.length+1,k={};if(s.isEqual(Bs.min())){var V=e.path.toArray();k.range=IDBKeyRange.lowerBound(V)}else{var K=e.path.toArray(),pe=n_(s);k.range=IDBKeyRange.lowerBound([K,pe],!0),k.index=vc.collectionReadTimeIndex}return cy(i).$t(k,function(Se,Ue,Je){if(Se.length===y){var rt=jS(a.R,Ue);e.path.isPrefixOf(rt.key.path)?W0(e,rt)&&(l=l.insert(rt.key,rt)):Je.done()}}).next(function(){return l})},t.prototype.newChangeBuffer=function(i){return new nx(this,!!i&&i.trackRemovals)},t.prototype.getSize=function(i){return this.getMetadata(i).next(function(e){return e.byteSize})},t.prototype.getMetadata=function(i){return KS(i).get(lg.key).next(function(e){return ns(!!e),e})},t.prototype.me=function(i,e){return KS(i).put(lg.key,e)},t.prototype.ye=function(i,e){if(e){var s=jS(this.R,e);if(!s.isNoDocument()||!s.version.isEqual(Bs.min()))return s}return Qu.newInvalidDocument(i)},t}(),nx=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Ie=e,a.trackRemovals=s,a.Ae=new uv(function(l){return l.toString()},function(l,y){return l.isEqual(y)}),a}return(0,gt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[],l=0,y=new ku(function(k,V){return lo(k.canonicalString(),V.canonicalString())});return this.changes.forEach(function(k,V){var K=s.Ae.get(k);if(V.document.isValidDocument()){var pe=GS(s.Ie.R,V.document,s.getReadTime(k));y=y.add(k.path.popLast());var Se=Aw(pe);l+=Se-K,a.push(s.Ie.addEntry(e,k,pe))}else if(l-=K,s.trackRemovals){var Ue=GS(s.Ie.R,Qu.newNoDocument(k,Bs.min()),s.getReadTime(k));a.push(s.Ie.addEntry(e,k,Ue))}else a.push(s.Ie.removeEntry(e,k))}),y.forEach(function(k){a.push(s.Ie.Ut.addToCollectionParentIndex(e,k))}),a.push(this.Ie.updateMetadata(e,l)),_i.waitFor(a)},i.prototype.getFromCache=function(e,s){var a=this;return this.Ie.ge(e,s).next(function(l){return a.Ae.set(s,l.size),l.document})},i.prototype.getAllFromCache=function(e,s){var a=this;return this.Ie.Ee(e,s).next(function(l){var y=l.documents;return l.Te.forEach(function(k,V){a.Ae.set(k,V)}),y})},i}(tx);function KS(t){return jh(t,lg.store)}function cy(t){return jh(t,vc.store)}function GC(t){return t.path.toArray()}var BA=function(){function t(i){this.R=i}return t.prototype.Rt=function(i,e,s,a){var l=this;ns(s<a&&s>=0&&a<=11);var V,y=new BS("createOrUpgrade",e);s<1&&a>=1&&(i.createObjectStore(ef.store),(V=i).createObjectStore(sy.store,{keyPath:sy.keyPath}),V.createObjectStore(bl.store,{keyPath:bl.keyPath,autoIncrement:!0}).createIndex(bl.userMutationsIndex,bl.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ed.store),ek(i),function(V){V.createObjectStore(vc.store)}(i));var k=_i.resolve();return s<3&&a>=3&&(0!==s&&(function(V){V.deleteObjectStore(Ed.store),V.deleteObjectStore(Tp.store),V.deleteObjectStore(tf.store)}(i),ek(i)),k=k.next(function(){return function(V){var K=V.store(tf.store),pe=new tf(0,0,Bs.min().toTimestamp(),0);return K.put(tf.key,pe)}(y)})),s<4&&a>=4&&(0!==s&&(k=k.next(function(){return function(V,K){return K.store(bl.store).Nt().next(function(pe){V.deleteObjectStore(bl.store),V.createObjectStore(bl.store,{keyPath:bl.keyPath,autoIncrement:!0}).createIndex(bl.userMutationsIndex,bl.userMutationsKeyPath,{unique:!0});var Se=K.store(bl.store),Ue=pe.map(function(Je){return Se.put(Je)});return _i.waitFor(Ue)})}(i,y)})),k=k.next(function(){!function(V){V.createObjectStore(t_.store,{keyPath:t_.keyPath})}(i)})),s<5&&a>=5&&(k=k.next(function(){return l.Re(y)})),s<6&&a>=6&&(k=k.next(function(){return function(V){V.createObjectStore(lg.store)}(i),l.be(y)})),s<7&&a>=7&&(k=k.next(function(){return l.ve(y)})),s<8&&a>=8&&(k=k.next(function(){return l.Pe(i,y)})),s<9&&a>=9&&(k=k.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(i),function(V){var K=V.objectStore(vc.store);K.createIndex(vc.readTimeIndex,vc.readTimeIndexPath,{unique:!1}),K.createIndex(vc.collectionReadTimeIndex,vc.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&a>=10&&(k=k.next(function(){return l.Ve(y)})),s<11&&a>=11&&(k=k.next(function(){(function(V){V.createObjectStore(xb.store,{keyPath:xb.keyPath})})(i),function(V){V.createObjectStore(ov.store,{keyPath:ov.keyPath})}(i)})),k},t.prototype.be=function(i){var e=0;return i.store(vc.store).$t(function(s,a){e+=Aw(a)}).next(function(){var s=new lg(e);return i.store(lg.store).put(lg.key,s)})},t.prototype.Re=function(i){var e=this,s=i.store(sy.store),a=i.store(bl.store);return s.Nt().next(function(l){return _i.forEach(l,function(y){var k=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.Nt(bl.userMutationsIndex,k).next(function(V){return _i.forEach(V,function(K){ns(K.userId===y.userId);var pe=Cb(e.R,K);return $S(i,y.userId,pe).next(function(){})})})})})},t.prototype.ve=function(i){var e=i.store(Ed.store),s=i.store(vc.store);return i.store(tf.store).get(tf.key).next(function(a){var l=[];return s.$t(function(y,k){var V=new Po(y),K=[0,ym(V)];l.push(e.get(K).next(function(pe){return pe?_i.resolve():e.put(new Ed(0,ym(V),a.highestListenSequenceNumber))}))}).next(function(){return _i.waitFor(l)})})},t.prototype.Pe=function(i,e){i.createObjectStore(sv.store,{keyPath:sv.keyPath});var s=e.store(sv.store),a=new Mb,l=function(y){if(a.add(y)){var k=y.lastSegment(),V=y.popLast();return s.put({collectionId:k,parent:ym(V)})}};return e.store(vc.store).$t({kt:!0},function(y,k){var V=new Po(y);return l(V.popLast())}).next(function(){return e.store(ed.store).$t({kt:!0},function(y,k){var K=ag(y[1]);return l(K.popLast())})})},t.prototype.Ve=function(i){var e=this,s=i.store(Tp.store);return s.$t(function(a,l){var y=cg(l),k=ZS(e.R,y);return s.put(k)})},t}();function ek(t){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath}).createIndex(Ed.documentTargetsIndex,Ed.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tp.store,{keyPath:Tp.keyPath}).createIndex(Tp.queryTargetsIndexName,Tp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(tf.store)}var ZC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VA=function(){function t(i,e,s,a,l,y,k,V,K,pe){if(this.allowTabSynchronization=i,this.persistenceKey=e,this.clientId=s,this.Se=l,this.window=y,this.document=k,this.De=K,this.Ce=pe,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(Se){return Promise.resolve()},!t.yt())throw new li(En.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iw(this,a),this.Le=e+"main",this.R=new YC(V),this.Be=new wb(this.Le,11,new BA(this.R)),this.qe=new NA(this.referenceDelegate,this.R),this.Ut=new RA,this.Ue=new Pw(this.R,this.Ut),this.Ke=new OA,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===pe&&yc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new li(En.FAILED_PRECONDITION,ZC);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return i.qe.getHighestSequenceNumber(e)})}).then(function(e){i.Ne=new Bh(e,i.De)}).then(function(){i.xe=!0}).catch(function(e){return i.Be&&i.Be.close(),Promise.reject(e)})},t.prototype.He=function(i){var e=this;return this.Me=function(s){return(0,gt.mG)(e,void 0,void 0,function(){return(0,gt.Jh)(this,function(a){return this.started?[2,i(s)]:[2]})})},i(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(i){var e=this;this.Be.vt(function(s){return(0,gt.mG)(e,void 0,void 0,function(){return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return null===s.newVersion?[4,i()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(i){var e=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,gt.mG)(e,void 0,void 0,function(){return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ow(e).put(new t_(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(e).next(function(s){s||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(e)}).next(function(s){return i.isPrimary&&!s?i.Xe(e).next(function(){return!1}):!!s&&i.Ze(e).next(function(){return!0})})}).catch(function(e){if(oy(e))return xi("IndexedDbPersistence","Failed to extend owner lease: ",e),i.isPrimary;if(!i.allowTabSynchronization)throw e;return xi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){i.isPrimary!==e&&i.Se.enqueueRetryable(function(){return i.Me(e)}),i.isPrimary=e})},t.prototype.Je=function(i){var e=this;return ix(i).get(ef.key).next(function(s){return _i.resolve(e.tn(s))})},t.prototype.en=function(i){return Ow(i).delete(this.clientId)},t.prototype.nn=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s,l=this;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(k){var V=jh(k,t_.store);return V.Nt().next(function(K){var pe=l.rn(K,18e5),Se=K.filter(function(Ue){return-1===pe.indexOf(Ue)});return _i.forEach(Se,function(Ue){return V.delete(Ue.clientId)}).next(function(){return Se})})}).catch(function(){return[]})]);case 1:if(i=y.sent(),this.Qe)for(e=0,s=i;e<s.length;e++)this.Qe.removeItem(this.on(s[e].clientId));y.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},t.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},t.prototype.Ye=function(i){var e=this;return this.Ce?_i.resolve(!0):ix(i).get(ef.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)){if(e.tn(s)&&e.networkEnabled)return!0;if(!e.tn(s)){if(!s.allowTabSynchronization)throw new li(En.FAILED_PRECONDITION,ZC);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ow(i).Nt().next(function(a){return void 0===e.rn(a,5e3).find(function(l){return!(e.clientId===l.clientId||!(!e.networkEnabled&&l.networkEnabled||!e.inForeground&&l.inForeground&&e.networkEnabled===l.networkEnabled))})})}).next(function(s){return e.isPrimary!==s&&xi("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},t.prototype.shutdown=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i=this;return(0,gt.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ef.store,t_.store],function(s){var a=new HS(s,Bh.o);return i.Xe(a).next(function(){return i.en(a)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(i,e){var s=this;return i.filter(function(a){return s.sn(a.updateTimeMs,e)&&!s.cn(a.clientId)})},t.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ow(e).Nt().next(function(s){return i.rn(s,18e5).map(function(a){return a.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(i){return VC.Qt(i,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var l,a=this;return xi("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===e?"readonly":"readwrite",NS,function(k){return l=new HS(k,a.Ne?a.Ne.next():Bh.o),"readwrite-primary"===e?a.Je(l).next(function(V){return!!V||a.Ye(l)}).next(function(V){if(!V)throw yc("Failed to obtain primary lease for action '"+i+"'."),a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}),new li(En.FAILED_PRECONDITION,zS);return s(l)}).next(function(V){return a.Ze(l).next(function(){return V})}):a.dn(l).next(function(){return s(l)})}).then(function(k){return l.raiseOnCommittedEvent(),k})},t.prototype.dn=function(i){var e=this;return ix(i).get(ef.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)&&!e.tn(s)&&!(e.Ce||e.allowTabSynchronization&&s.allowTabSynchronization))throw new li(En.FAILED_PRECONDITION,ZC)})},t.prototype.Ze=function(i){var e=new ef(this.clientId,this.allowTabSynchronization,Date.now());return ix(i).put(ef.key,e)},t.yt=function(){return wb.yt()},t.prototype.Xe=function(i){var e=this,s=ix(i);return s.get(ef.key).next(function(a){return e.tn(a)?(xi("IndexedDbPersistence","Releasing primary lease."),s.delete(ef.key)):_i.resolve()})},t.prototype.sn=function(i,e){var s=Date.now();return!(i<s-e||i>s&&(yc("Detected an update time that is in the future: "+i+" > "+s),1))},t.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var i,e=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Fe=function(){e.un(),(0,Ss.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(i){var e;try{var s=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(i)));return xi("IndexedDbPersistence","Client '"+i+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(a){return yc("IndexedDbPersistence","Failed to get zombied client id.",a),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){yc("Failed to set zombie client id.",i)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},t.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},t}();function ix(t){return jh(t,ef.store)}function Ow(t){return jh(t,t_.store)}function WC(t,i){var e=t.projectId;return t.isDefaultDatabase||(e+="."+t.database),"firestore/"+i+"/"+e+"/"}var HA=function(t,i){this.progress=t,this.wn=i},tk=function(){function t(i,e,s){this.Ue=i,this._n=e,this.Ut=s}return t.prototype.mn=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,e).next(function(a){return s.yn(i,e,a)})},t.prototype.yn=function(i,e,s){return this.Ue.getEntry(i,e).next(function(a){for(var l=0,y=s;l<y.length;l++)y[l].applyToLocalView(a);return a})},t.prototype.gn=function(i,e){i.forEach(function(s,a){for(var l=0,y=e;l<y.length;l++)y[l].applyToLocalView(a)})},t.prototype.pn=function(i,e){var s=this;return this.Ue.getEntries(i,e).next(function(a){return s.En(i,a).next(function(){return a})})},t.prototype.En=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,e).next(function(a){return s.gn(e,a)})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){return vr.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Tn(i,e.path):vC(e)?this.In(i,e,s):this.An(i,e,s);var a},t.prototype.Tn=function(i,e){return this.mn(i,new vr(e)).next(function(s){var a=EC();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})},t.prototype.In=function(i,e,s){var a=this,l=e.collectionGroup,y=EC();return this.Ut.getCollectionParents(i,l).next(function(k){return _i.forEach(k,function(V){var pe,Se,K=(pe=e,Se=V.child(l),new rg(Se,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));return a.An(i,K,s).next(function(pe){pe.forEach(function(Se,Ue){y=y.insert(Se,Ue)})})}).next(function(){return y})})},t.prototype.An=function(i,e,s){var a,l,y=this;return this.Ue.getDocumentsMatchingQuery(i,e,s).next(function(k){return a=k,y._n.getAllMutationBatchesAffectingQuery(i,e)}).next(function(k){return y.Rn(i,l=k,a).next(function(V){a=V;for(var K=0,pe=l;K<pe.length;K++)for(var Se=pe[K],Ue=0,Je=Se.mutations;Ue<Je.length;Ue++){var rt=Je[Ue],Tt=rt.key,Qt=a.get(Tt);null==Qt&&(Qt=Qu.newInvalidDocument(Tt),a=a.insert(Tt,Qt)),ty(rt,Qt,Se.localWriteTime),Qt.isFoundDocument()||(a=a.remove(Tt))}})}).next(function(){return a.forEach(function(k,V){W0(e,V)||(a=a.remove(k))}),a})},t.prototype.Rn=function(i,e,s){for(var a=Sa(),l=0,y=e;l<y.length;l++)for(var k=0,V=y[l].mutations;k<V.length;k++){var K=V[k];K instanceof Kg&&null===s.get(K.key)&&(a=a.add(K.key))}var pe=s;return this.Ue.getEntries(i,a).next(function(Se){return Se.forEach(function(Ue,Je){Je.isFoundDocument()&&(pe=pe.insert(Ue,Je))}),pe})},t}(),tP=function(){function t(i,e,s,a){this.targetId=i,this.fromCache=e,this.bn=s,this.vn=a}return t.Pn=function(i,e){for(var s=Sa(),a=Sa(),l=0,y=e.docChanges;l<y.length;l++){var k=y[l];switch(k.type){case 0:s=s.add(k.doc.key);break;case 1:a=a.add(k.doc.key)}}return new t(i,e.fromCache,s,a)},t}(),nk=function(){function t(){}return t.prototype.Vn=function(i){this.Sn=i},t.prototype.getDocumentsMatchingQuery=function(i,e,s,a){var y,l=this;return 0===(y=e).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||s.isEqual(Bs.min())?this.Dn(i,e):this.Sn.pn(i,a).next(function(y){var k=l.Cn(e,y);return(j0(e)||G0(e))&&l.Nn(e.limitType,k,a,s)?l.Dn(i,e):(P0()<=oh.in.DEBUG&&xi("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bC(e)),l.Sn.getDocumentsMatchingQuery(i,e,s).next(function(V){return k.forEach(function(K){V=V.insert(K.key,K)}),V}))})},t.prototype.Cn=function(i,e){var s=new ku(lS(i));return e.forEach(function(a,l){W0(i,l)&&(s=s.add(l))}),s},t.prototype.Nn=function(i,e,s,a){if(s.size!==e.size)return!0;var l="F"===i?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)},t.prototype.Dn=function(i,e){return P0()<=oh.in.DEBUG&&xi("QueryEngine","Using full collection scan to execute query:",bC(e)),this.Sn.getDocumentsMatchingQuery(i,e,Bs.min())},t}(),rx=function(){function t(i,e,s,a){this.persistence=i,this.xn=e,this.R=a,this.Fn=new Uh(lo),this.kn=new uv(function(l){return V0(l)},mw),this.$n=Bs.min(),this._n=i.getMutationQueue(s),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new tk(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(i){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return i.collect(s,e.Fn)})},t}();function ik(t,i,e,s){return new rx(t,i,e,s)}function rk(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a,l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return e=Ii(t),s=e._n,a=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(k){var V;return e._n.getAllMutationBatches(k).next(function(K){return V=K,s=e.persistence.getMutationQueue(i),a=new tk(e.On,s,e.persistence.getIndexManager()),s.getAllMutationBatches(k)}).next(function(K){for(var pe=[],Se=[],Ue=Sa(),Je=0,rt=V;Je<rt.length;Je++){var Tt=rt[Je];pe.push(Tt.batchId);for(var Qt=0,Cn=Tt.mutations;Qt<Cn.length;Qt++)Ue=Ue.add(Cn[Qt].key)}for(var Zn=0,Di=K;Zn<Di.length;Zn++){var Bi=Di[Zn];Se.push(Bi.batchId);for(var ls=0,co=Bi.mutations;ls<co.length;ls++)Ue=Ue.add(co[ls].key)}return a.pn(k,Ue).next(function(wl){return{Ln:wl,removedBatchIds:pe,addedBatchIds:Se}})})})];case 1:return l=y.sent(),[2,(e._n=s,e.Mn=a,e.xn.Vn(e.Mn),l)]}})})}function UA(t,i){var e=Ii(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var y,k,V,K,pe,Se,Ue,a=i.batch.keys(),l=e.On.newChangeBuffer({trackRemovals:!0});return(y=e,k=s,V=i,K=l,pe=V.batch,Se=pe.keys(),Ue=_i.resolve(),Se.forEach(function(Je){Ue=Ue.next(function(){return K.getEntry(k,Je)}).next(function(rt){var Tt=V.docVersions.get(Je);ns(null!==Tt),rt.version.compareTo(Tt)<0&&(pe.applyToRemoteDocument(rt,V),rt.isValidDocument()&&K.addEntry(rt,V.commitVersion))})}),Ue.next(function(){return y._n.removeMutationBatch(k,pe)})).next(function(){return l.apply(s)}).next(function(){return e._n.performConsistencyCheck(s)}).next(function(){return e.Mn.pn(s,a)})})}function sx(t){var i=Ii(t);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return i.qe.getLastRemoteSnapshotVersion(e)})}function dv(t,i){var e=Ii(t),s=i.snapshotVersion,a=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(l){var y=e.On.newChangeBuffer({trackRemovals:!0});a=e.Fn;var k=[];i.targetChanges.forEach(function(pe,Se){var Tt,Qt,Cn,Ue=a.get(Se);if(Ue){k.push(e.qe.removeMatchingKeys(l,pe.removedDocuments,Se).next(function(){return e.qe.addMatchingKeys(l,pe.addedDocuments,Se)}));var Je=pe.resumeToken;if(Je.approximateByteSize()>0){var rt=Ue.withResumeToken(Je,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(Se,rt),Tt=Ue,Cn=pe,ns((Qt=rt).resumeToken.approximateByteSize()>0),(0===Tt.resumeToken.approximateByteSize()||Qt.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&k.push(e.qe.updateTargetData(l,rt))}}});var V=Kp();if(i.documentUpdates.forEach(function(pe,Se){i.resolvedLimboDocuments.has(pe)&&k.push(e.persistence.referenceDelegate.updateLimboDocument(l,pe))}),k.push(qC(l,y,i.documentUpdates,s,void 0).next(function(pe){V=pe})),!s.isEqual(Bs.min())){var K=e.qe.getLastRemoteSnapshotVersion(l).next(function(pe){return e.qe.setTargetsMetadata(l,l.currentSequenceNumber,s)});k.push(K)}return _i.waitFor(k).next(function(){return y.apply(l)}).next(function(){return e.Mn.En(l,V)}).next(function(){return V})}).then(function(l){return e.Fn=a,l})}function qC(t,i,e,s,a){var l=Sa();return e.forEach(function(y){return l=l.add(y)}),i.getEntries(t,l).next(function(y){var k=Kp();return e.forEach(function(V,K){var pe=y.get(V),Se=(null==a?void 0:a.get(V))||s;K.isNoDocument()&&K.version.isEqual(Bs.min())?(i.removeEntry(V,Se),k=k.insert(V,K)):!pe.isValidDocument()||K.version.compareTo(pe.version)>0||0===K.version.compareTo(pe.version)&&pe.hasPendingWrites?(i.addEntry(K,Se),k=k.insert(V,K)):xi("LocalStore","Ignoring outdated watch update for ",V,". Current version:",pe.version," Watch version:",K.version)}),k})}function jA(t,i){var e=Ii(t);return e.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===i&&(i=-1),e._n.getNextMutationBatchAfterBatchId(s,i)})}function ox(t,i){var e=Ii(t);return e.persistence.runTransaction("Allocate target","readwrite",function(s){var a;return e.qe.getTargetData(s,i).next(function(l){return l?_i.resolve(a=l):e.qe.allocateTargetId(s).next(function(y){return a=new ex(i,y,0,s.currentSequenceNumber),e.qe.addTargetData(s,a).next(function(){return a})})})}).then(function(s){var a=e.Fn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(s.targetId,s),e.kn.set(i,s.targetId)),s})}function Sb(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:s=Ii(t),a=s.Fn.get(i),l=e?"readwrite":"readwrite-primary",k.label=1;case 1:return k.trys.push([1,4,,5]),e?[3,3]:[4,s.persistence.runTransaction("Release target",l,function(V){return s.persistence.referenceDelegate.removeTarget(V,a)})];case 2:k.sent(),k.label=3;case 3:return[3,5];case 4:if(!oy(y=k.sent()))throw y;return xi("LocalStore","Failed to update sequence numbers for target "+i+": "+y),[3,5];case 5:return s.Fn=s.Fn.remove(i),s.kn.delete(a.target),[2]}})})}function hv(t,i,e){var s=Ii(t),a=Bs.min(),l=Sa();return s.persistence.runTransaction("Execute query","readonly",function(y){return(k=s,V=y,K=Gf(i),pe=Ii(k),Se=pe.kn.get(K),void 0!==Se?_i.resolve(pe.Fn.get(Se)):pe.qe.getTargetData(V,K)).next(function(k){if(k)return a=k.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(y,k.targetId).next(function(V){l=V})}).next(function(){return s.xn.getDocumentsMatchingQuery(y,i,e?a:Bs.min(),e?l:Sa())}).next(function(k){return{documents:k,Bn:l}});var k,V,K,pe,Se})}function sk(t,i){var e=Ii(t),s=Ii(e.qe),a=e.Fn.get(i);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",function(l){return s.lt(l,i).next(function(y){return y?y.target:null})})}function ok(t){var i=Ii(t);return i.persistence.runTransaction("Get new document changes","readonly",function(e){return a=e,l=i.$n,y=Ii(i.On),k=Kp(),V=n_(l),K=cy(a),pe=IDBKeyRange.lowerBound(V,!0),K.$t({index:vc.readTimeIndex,range:pe},function(Se,Ue){var Je=jS(y.R,Ue);k=k.insert(Je.key,Je),V=Ue.readTime}).next(function(){return{wn:k,readTime:PA(V)}});var a,l,y,k,V,K,pe}).then(function(e){var s=e.wn;return i.$n=e.readTime,s})}function ak(t){return(0,gt.mG)(this,void 0,void 0,function(){var i;return(0,gt.Jh)(this,function(e){return[2,(i=Ii(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return l=cy(s),y=Bs.min(),l.$t({index:vc.readTimeIndex,reverse:!0},function(k,V,K){V.readTime&&(y=PA(V.readTime)),K.done()}).next(function(){return y});var l,y}).then(function(s){i.$n=s})]})})}function lk(t,i,e,s){return(0,gt.mG)(this,void 0,void 0,function(){var a,l,y,k,V,K,pe,Se,Ue,Je;return(0,gt.Jh)(this,function(rt){switch(rt.label){case 0:for(a=Ii(t),l=Sa(),y=Kp(),k=gS(),V=0,K=e;V<K.length;V++)Se=i.qn((pe=K[V]).metadata.name),pe.document&&(l=l.add(Se)),y=y.insert(Se,i.Un(pe)),k=k.insert(Se,i.Kn(pe.metadata.readTime));return Ue=a.On.newChangeBuffer({trackRemovals:!0}),[4,ox(a,(Tt=s,Gf(tv(Po.fromString("__bundle__/docs/"+Tt)))))];case 1:return Je=rt.sent(),[2,a.persistence.runTransaction("Apply bundle documents","readwrite",function(Tt){return qC(Tt,Ue,y,Bs.min(),k).next(function(Qt){return Ue.apply(Tt),Qt}).next(function(Qt){return a.qe.removeMatchingKeysForTargetId(Tt,Je.targetId).next(function(){return a.qe.addMatchingKeys(Tt,l,Je.targetId)}).next(function(){return a.Mn.En(Tt,Qt)}).next(function(){return Qt})})})]}var Tt})})}function $C(t,i,e){return void 0===e&&(e=Sa()),(0,gt.mG)(this,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,ox(t,Gf(WS(i.bundledQuery)))];case 1:return s=l.sent(),[2,(a=Ii(t)).persistence.runTransaction("Save named query","readwrite",function(y){var k=Ku(i.readTime);if(s.snapshotVersion.compareTo(k)>=0)return a.Ke.saveNamedQuery(y,i);var V=s.withResumeToken(Cp.EMPTY_BYTE_STRING,k);return a.Fn=a.Fn.insert(V.targetId,V),a.qe.updateTargetData(y,V).next(function(){return a.qe.removeMatchingKeysForTargetId(y,s.targetId)}).next(function(){return a.qe.addMatchingKeys(y,e,s.targetId)}).next(function(){return a.Ke.saveNamedQuery(y,i)})})]}})})}var ck=function(){function t(i){this.R=i,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(i,e){return _i.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(i,e){var s;return this.Qn.set(e.id,{id:(s=e).id,version:s.version,createTime:Ku(s.createTime)}),_i.resolve()},t.prototype.getNamedQuery=function(i,e){return _i.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(i,e){return this.jn.set(e.name,{name:(s=e).name,query:WS(s.bundledQuery),readTime:Ku(s.readTime)}),_i.resolve();var s},t}(),Rw=function(){function t(){this.Wn=new ku(td.Gn),this.zn=new ku(td.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(i,e){var s=new td(i,e);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},t.prototype.Jn=function(i,e){var s=this;i.forEach(function(a){return s.addReference(a,e)})},t.prototype.removeReference=function(i,e){this.Yn(new td(i,e))},t.prototype.Xn=function(i,e){var s=this;i.forEach(function(a){return s.removeReference(a,e)})},t.prototype.Zn=function(i){var e=this,s=new vr(new Po([])),a=new td(s,i),l=new td(s,i+1),y=[];return this.zn.forEachInRange([a,l],function(k){e.Yn(k),y.push(k.key)}),y},t.prototype.ts=function(){var i=this;this.Wn.forEach(function(e){return i.Yn(e)})},t.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},t.prototype.es=function(i){var e=new vr(new Po([])),s=new td(e,i),a=new td(e,i+1),l=Sa();return this.zn.forEachInRange([s,a],function(y){l=l.add(y.key)}),l},t.prototype.containsKey=function(i){var e=new td(i,0),s=this.Wn.firstAfterOrEqual(e);return null!==s&&i.isEqual(s.key)},t}(),td=function(){function t(i,e){this.key=i,this.ns=e}return t.Gn=function(i,e){return vr.comparator(i.key,e.key)||lo(i.ns,e.ns)},t.Hn=function(i,e){return lo(i.ns,e.ns)||vr.comparator(i.key,e.key)},t}(),GA=function(){function t(i,e){this.Ut=i,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ku(td.Gn)}return t.prototype.checkEmpty=function(i){return _i.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(i,e,s,a){var l=this.ss;this.ss++;var y=new zC(l,e,s,a);this._n.push(y);for(var k=0,V=a;k<V.length;k++){var K=V[k];this.rs=this.rs.add(new td(K.key,l)),this.Ut.addToCollectionParentIndex(i,K.key.path.popLast())}return _i.resolve(y)},t.prototype.lookupMutationBatch=function(i,e){return _i.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var a=this.cs(e+1),l=a<0?0:a;return _i.resolve(this._n.length>l?this._n[l]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return _i.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(i){return _i.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=new td(e,0),l=new td(e,Number.POSITIVE_INFINITY),y=[];return this.rs.forEachInRange([a,l],function(k){var V=s.os(k.ns);y.push(V)}),_i.resolve(y)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new ku(lo);return e.forEach(function(l){var y=new td(l,0),k=new td(l,Number.POSITIVE_INFINITY);s.rs.forEachInRange([y,k],function(V){a=a.add(V.ns)})}),_i.resolve(this.us(a))},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=e.path,a=s.length+1,l=s;vr.isDocumentKey(l)||(l=l.child(""));var y=new td(new vr(l),0),k=new ku(lo);return this.rs.forEachWhile(function(V){var K=V.key.path;return!!s.isPrefixOf(K)&&(K.length===a&&(k=k.add(V.ns)),!0)},y),_i.resolve(this.us(k))},t.prototype.us=function(i){var e=this,s=[];return i.forEach(function(a){var l=e.os(a);null!==l&&s.push(l)}),s},t.prototype.removeMutationBatch=function(i,e){var s=this;ns(0===this.hs(e.batchId,"removed")),this._n.shift();var a=this.rs;return _i.forEach(e.mutations,function(l){var y=new td(l.key,e.batchId);return a=a.delete(y),s.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(function(){s.rs=a})},t.prototype.Gt=function(i){},t.prototype.containsKey=function(i,e){var s=new td(e,0),a=this.rs.firstAfterOrEqual(s);return _i.resolve(e.isEqual(a&&a.key))},t.prototype.performConsistencyCheck=function(i){return _i.resolve()},t.prototype.hs=function(i,e){return this.cs(i)},t.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},t.prototype.os=function(i){var e=this.cs(i);return e<0||e>=this._n.length?null:this._n[e]},t}(),uk=function(){function t(i,e){this.Ut=i,this.ls=e,this.docs=new Uh(vr.comparator),this.size=0}return t.prototype.addEntry=function(i,e,s){var a=e.key,l=this.docs.get(a),y=l?l.size:0,k=this.ls(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:k,readTime:s}),this.size+=k-y,this.Ut.addToCollectionParentIndex(i,a.path.popLast())},t.prototype.removeEntry=function(i){var e=this.docs.get(i);e&&(this.docs=this.docs.remove(i),this.size-=e.size)},t.prototype.getEntry=function(i,e){var s=this.docs.get(e);return _i.resolve(s?s.document.clone():Qu.newInvalidDocument(e))},t.prototype.getEntries=function(i,e){var s=this,a=Kp();return e.forEach(function(l){var y=s.docs.get(l);a=a.insert(l,y?y.document.clone():Qu.newInvalidDocument(l))}),_i.resolve(a)},t.prototype.getDocumentsMatchingQuery=function(i,e,s){for(var a=Kp(),l=new vr(e.path.child("")),y=this.docs.getIteratorFrom(l);y.hasNext();){var k=y.getNext(),K=k.value,pe=K.document,Se=K.readTime;if(!e.path.isPrefixOf(k.key.path))break;Se.compareTo(s)<=0||W0(e,pe)&&(a=a.insert(pe.key,pe.clone()))}return _i.resolve(a)},t.prototype.fs=function(i,e){return _i.forEach(this.docs,function(s){return e(s)})},t.prototype.newChangeBuffer=function(i){return new ZA(this)},t.prototype.getSize=function(i){return _i.resolve(this.size)},t}(),ZA=function(t){function i(e){var s=this;return(s=t.call(this)||this).Ie=e,s}return(0,gt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[];return this.changes.forEach(function(l,y){y.document.isValidDocument()?a.push(s.Ie.addEntry(e,y.document,s.getReadTime(l))):s.Ie.removeEntry(l)}),_i.waitFor(a)},i.prototype.getFromCache=function(e,s){return this.Ie.getEntry(e,s)},i.prototype.getAllFromCache=function(e,s){return this.Ie.getEntries(e,s)},i}(tx),dk=function(){function t(i){this.persistence=i,this.ds=new uv(function(e){return V0(e)},mw),this.lastRemoteSnapshotVersion=Bs.min(),this.highestTargetId=0,this.ws=0,this._s=new Rw,this.targetCount=0,this.ys=UC.Jt()}return t.prototype.forEachTarget=function(i,e){return this.ds.forEach(function(s,a){return e(a)}),_i.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(i){return _i.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(i){return _i.resolve(this.ws)},t.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),_i.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(i,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ws&&(this.ws=e),_i.resolve()},t.prototype.te=function(i){this.ds.set(i.target,i);var e=i.targetId;e>this.highestTargetId&&(this.ys=new UC(e),this.highestTargetId=e),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},t.prototype.addTargetData=function(i,e){return this.te(e),this.targetCount+=1,_i.resolve()},t.prototype.updateTargetData=function(i,e){return this.te(e),_i.resolve()},t.prototype.removeTargetData=function(i,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,_i.resolve()},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,y=[];return this.ds.forEach(function(k,V){V.sequenceNumber<=e&&null===s.get(V.targetId)&&(a.ds.delete(k),y.push(a.removeMatchingKeysForTargetId(i,V.targetId)),l++)}),_i.waitFor(y).next(function(){return l})},t.prototype.getTargetCount=function(i){return _i.resolve(this.targetCount)},t.prototype.getTargetData=function(i,e){var s=this.ds.get(e)||null;return _i.resolve(s)},t.prototype.addMatchingKeys=function(i,e,s){return this._s.Jn(e,s),_i.resolve()},t.prototype.removeMatchingKeys=function(i,e,s){this._s.Xn(e,s);var a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(function(y){l.push(a.markPotentiallyOrphaned(i,y))}),_i.waitFor(l)},t.prototype.removeMatchingKeysForTargetId=function(i,e){return this._s.Zn(e),_i.resolve()},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=this._s.es(e);return _i.resolve(s)},t.prototype.containsKey=function(i,e){return _i.resolve(this._s.containsKey(e))},t}(),Fw=function(){function t(i,e){var s=this;this.gs={},this.Ne=new Bh(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new dk(this),this.Ut=new eP,this.Ue=new uk(this.Ut,function(y){return s.referenceDelegate.ps(y)}),this.R=new YC(e),this.Ke=new ck(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(i){var e=this.gs[i.toKey()];return e||(e=new GA(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var a=this;xi("MemoryPersistence","Starting transaction:",i);var l=new Nw(this.Ne.next());return this.referenceDelegate.Es(),s(l).next(function(y){return a.referenceDelegate.Ts(l).next(function(){return y})}).toPromise().then(function(y){return l.raiseOnCommittedEvent(),y})},t.prototype.Is=function(i,e){return _i.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(i,e)}}))},t}(),Nw=function(t){function i(e){var s=this;return(s=t.call(this)||this).currentSequenceNumber=e,s}return(0,gt.ZT)(i,t),i}(YS),nP=function(){function t(i){this.persistence=i,this.As=new Rw,this.Rs=null}return t.bs=function(i){return new t(i)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw fr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(i,e,s){return this.As.addReference(s,e),this.vs.delete(s.toString()),_i.resolve()},t.prototype.removeReference=function(i,e,s){return this.As.removeReference(s,e),this.vs.add(s.toString()),_i.resolve()},t.prototype.markPotentiallyOrphaned=function(i,e){return this.vs.add(e.toString()),_i.resolve()},t.prototype.removeTarget=function(i,e){var s=this;this.As.Zn(e.targetId).forEach(function(l){return s.vs.add(l.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(i,e.targetId).next(function(l){l.forEach(function(y){return s.vs.add(y.toString())})}).next(function(){return a.removeTargetData(i,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(i){var e=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _i.forEach(this.vs,function(a){var l=vr.fromPath(a);return e.Ps(i,l).next(function(y){y||s.removeEntry(l)})}).next(function(){return e.Rs=null,s.apply(i)})},t.prototype.updateLimboDocument=function(i,e){var s=this;return this.Ps(i,e).next(function(a){a?s.vs.delete(e.toString()):s.vs.add(e.toString())})},t.prototype.ps=function(i){return 0},t.prototype.Ps=function(i,e){var s=this;return _i.or([function(){return _i.resolve(s.As.containsKey(e))},function(){return s.persistence.getTargetCache().containsKey(i,e)},function(){return s.persistence.Is(i,e)}])},t}(),nd=function(){function t(i){this.uid=i}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(i){return i.uid===this.uid},t}();function ta(t,i){return"firestore_clients_"+t+"_"+i}function s_(t,i,e){var s="firestore_mutations_"+t+"_"+e;return i.isAuthenticated()&&(s+="_"+i.uid),s}function uy(t,i){return"firestore_targets_"+t+"_"+i}nd.UNAUTHENTICATED=new nd(null),nd.GOOGLE_CREDENTIALS=new nd("google-credentials-uid"),nd.FIRST_PARTY=new nd("first-party-uid");var kb=function(){function t(i,e,s,a){this.user=i,this.batchId=e,this.state=s,this.error=a}return t.Vs=function(i,e,s){var a,l=JSON.parse(s),y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(a=new li(l.error.code,l.error.message)),y?new t(i,e,l.state,a):(yc("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+s),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),hk=function(){function t(i,e,s){this.targetId=i,this.state=e,this.error=s}return t.Vs=function(i,e){var s,a=JSON.parse(e),l="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return l&&a.error&&(l="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(s=new li(a.error.code,a.error.message)),l?new t(i,a.state,s):(yc("SharedClientState","Failed to parse target state for ID '"+i+"': "+e),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),fs=function(){function t(i,e){this.clientId=i,this.activeTargetIds=e}return t.Vs=function(i,e){for(var s=JSON.parse(e),a="object"==typeof s&&s.activeTargetIds instanceof Array,l=kw(),y=0;a&&y<s.activeTargetIds.length;++y)a=JT(s.activeTargetIds[y]),l=l.add(s.activeTargetIds[y]);return a?new t(i,l):(yc("SharedClientState","Failed to parse client data for instance '"+i+"': "+e),null)},t}(),Zf=function(){function t(i,e){this.clientId=i,this.onlineState=e}return t.Vs=function(i){var e=JSON.parse(i);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new t(e.clientId,e.onlineState):(yc("SharedClientState","Failed to parse online state: "+i),null)},t}(),ax=function(){function t(){this.activeTargetIds=kw()}return t.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},t.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},t.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},t}(),o_=function(){function t(i,e,s,a,l){this.window=i,this.Se=e,this.persistenceKey=s,this.Ns=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Uh(lo),this.started=!1,this.$s=[];var y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Os=ta(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new ax),this.Ls=new RegExp("^firestore_clients_"+y+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+y+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+y+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(k){return"firestore_bundle_loaded_"+k}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(i){return!(!i||!i.localStorage)},t.prototype.start=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s,a,l,y,k,V,K,pe,Ue=this;return(0,gt.Jh)(this,function(Je){switch(Je.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=Je.sent(),e=0,s=i;e<s.length;e++)(a=s[e])!==this.Ns&&(l=this.getItem(ta(this.persistenceKey,a)))&&(y=fs.Vs(a,l))&&(this.ks=this.ks.insert(y.clientId,y));for(this.Qs(),(k=this.storage.getItem(this.Us))&&(V=this.js(k))&&this.Ws(V),K=0,pe=this.$s;K<pe.length;K++)this.Fs(pe[K]);return this.$s=[],this.window.addEventListener("pagehide",function(){return Ue.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(i){var e=!1;return this.ks.forEach(function(s,a){a.activeTargetIds.has(i)&&(e=!0)}),e},t.prototype.addPendingMutation=function(i){this.zs(i,"pending")},t.prototype.updateMutationState=function(i,e,s){this.zs(i,e,s),this.Hs(i)},t.prototype.addLocalQueryTarget=function(i){var e="not-current";if(this.isActiveQueryTarget(i)){var s=this.storage.getItem(uy(this.persistenceKey,i));if(s){var a=hk.Vs(i,s);a&&(e=a.state)}}return this.Js.Ds(i),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},t.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){this.removeItem(uy(this.persistenceKey,i))},t.prototype.updateQueryState=function(i,e,s){this.Ys(i,e,s)},t.prototype.handleUserChange=function(i,e,s){var a=this;e.forEach(function(l){a.Hs(l)}),this.currentUser=i,s.forEach(function(l){a.addPendingMutation(l)})},t.prototype.setOnlineState=function(i){this.Xs(i)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(i){var e=this.storage.getItem(i);return xi("SharedClientState","READ",i,e),e},t.prototype.setItem=function(i,e){xi("SharedClientState","SET",i,e),this.storage.setItem(i,e)},t.prototype.removeItem=function(i){xi("SharedClientState","REMOVE",i),this.storage.removeItem(i)},t.prototype.Fs=function(i){var e=this,s=i;if(s.storageArea===this.storage){if(xi("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void yc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,gt.mG)(e,void 0,void 0,function(){var a,l,y,k,V,K;return(0,gt.Jh)(this,function(pe){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return a=this.ti(s.key),[2,this.ei(a,null)];if(l=this.ni(s.key,s.newValue))return[2,this.ei(l.clientId,l)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(y=this.si(s.key,s.newValue)))return[2,this.ii(y)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(k=this.ri(s.key,s.newValue)))return[2,this.oi(k)]}else if(s.key===this.Us){if(null!==s.newValue&&(V=this.js(s.newValue)))return[2,this.Ws(V)]}else if(s.key===this.Ms)(K=function(Se){var Ue=Bh.o;if(null!=Se)try{var Je=JSON.parse(Se);ns("number"==typeof Je),Ue=Je}catch(rt){yc("SharedClientState","Failed to read sequence number from WebStorage",rt)}return Ue}(s.newValue))!==Bh.o&&this.sequenceNumberHandler(K);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(i,e,s){var a=new kb(this.currentUser,i,e,s),l=s_(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Ss())},t.prototype.Hs=function(i){var e=s_(this.persistenceKey,this.currentUser,i);this.removeItem(e)},t.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},t.prototype.Ys=function(i,e,s){var a=uy(this.persistenceKey,i),l=new hk(i,e,s);this.setItem(a,l.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(i){var e=this.Ls.exec(i);return e?e[1]:null},t.prototype.ni=function(i,e){var s=this.ti(i);return fs.Vs(s,e)},t.prototype.si=function(i,e){var s=this.Bs.exec(i),a=Number(s[1]);return kb.Vs(new nd(void 0!==s[2]?s[2]:null),a,e)},t.prototype.ri=function(i,e){var s=this.qs.exec(i),a=Number(s[1]);return hk.Vs(a,e)},t.prototype.js=function(i){return Zf.Vs(i)},t.prototype.ii=function(i){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(e){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(xi("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},t.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},t.prototype.ei=function(i,e){var s=this,a=e?this.ks.insert(i,e):this.ks.remove(i),l=this.Gs(this.ks),y=this.Gs(a),k=[],V=[];return y.forEach(function(K){l.has(K)||k.push(K)}),l.forEach(function(K){y.has(K)||V.push(K)}),this.syncEngine.hi(k,V).then(function(){s.ks=a})},t.prototype.Ws=function(i){this.ks.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},t.prototype.Gs=function(i){var e=kw();return i.forEach(function(s,a){e=e.unionWith(a.activeTargetIds)}),e},t}(),WA=function(){function t(){this.li=new ax,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(i){},t.prototype.updateMutationState=function(i,e,s){},t.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},t.prototype.updateQueryState=function(i,e,s){this.fi[i]=e},t.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},t.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){delete this.fi[i]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.start=function(){return this.li=new ax,Promise.resolve()},t.prototype.handleUserChange=function(i,e,s){},t.prototype.setOnlineState=function(i){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(i){},t.prototype.notifyBundleLoaded=function(){},t}(),pk=function(){function t(){}return t.prototype.di=function(i){},t.prototype.shutdown=function(){},t}(),XC=function(){function t(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return t.prototype.di=function(i){this.gi.push(i)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){xi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(0)},t.prototype.yi=function(){xi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qA=function(){function t(i){this.Ei=i.Ei,this.Ti=i.Ti}return t.prototype.Ii=function(i){this.Ai=i},t.prototype.Ri=function(i){this.bi=i},t.prototype.onMessage=function(i){this.vi=i},t.prototype.close=function(){this.Ti()},t.prototype.send=function(i){this.Ei(i)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(i){this.bi(i)},t.prototype.Si=function(i){this.vi(i)},t}(),$A=function(t){function i(e){var s=this;return(s=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,s.autoDetectLongPolling=e.autoDetectLongPolling,s.useFetchStreams=e.useFetchStreams,s}return(0,gt.ZT)(i,t),i.prototype.ki=function(e,s,a,l){return new Promise(function(y,k){var V=new aC;V.listenOnce(dw.COMPLETE,function(){try{switch(V.getLastErrorCode()){case uw.NO_ERROR:var pe=V.getResponseJson();xi("Connection","XHR received:",JSON.stringify(pe)),y(pe);break;case uw.TIMEOUT:xi("Connection",'RPC "'+e+'" timed out'),k(new li(En.DEADLINE_EXCEEDED,"Request time out"));break;case uw.HTTP_ERROR:var Se=V.getStatus();if(xi("Connection",'RPC "'+e+'" failed with status:',Se,"response text:",V.getResponseText()),Se>0){var Ue=V.getResponseJson().error;if(Ue&&Ue.status&&Ue.message){var Je=(Tt=Ue.status.toLowerCase().replace(/_/g,"-"),Object.values(En).indexOf(Tt)>=0?Tt:En.UNKNOWN);k(new li(Je,Ue.message))}else k(new li(En.UNKNOWN,"Server responded with status "+V.getStatus()))}else k(new li(En.UNAVAILABLE,"Connection failed."));break;default:fr()}}finally{xi("Connection",'RPC "'+e+'" completed.')}var Tt});var K=JSON.stringify(l);V.send(s,"POST",K,a,15)})},i.prototype.Oi=function(e,s){var a=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=new L0,y=Bn(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new pw({})),this.Fi(k.initMessageHeaders,s),(0,Ss.uI)()||(0,Ss.b$)()||(0,Ss.d)()||(0,Ss.w1)()||(0,Ss.Mn)()||(0,Ss.ru)()||(k.httpHeadersOverwriteParam="$httpHeaders");var V=a.join("");xi("Connection","Creating WebChannel: "+V,k);var K=l.createWebChannel(V,k),pe=!1,Se=!1,Ue=new qA({Ei:function(rt){Se?xi("Connection","Not sending because WebChannel is closed:",rt):(pe||(xi("Connection","Opening WebChannel transport."),K.open(),pe=!0),xi("Connection","WebChannel sending:",rt),K.send(rt))},Ti:function(){return K.close()}}),Je=function(rt,Tt,Qt){rt.listen(Tt,function(Cn){try{Qt(Cn)}catch(Jn){setTimeout(function(){throw Jn},0)}})};return Je(K,Xy.EventType.OPEN,function(){Se||xi("Connection","WebChannel transport opened.")}),Je(K,Xy.EventType.CLOSE,function(){Se||(Se=!0,xi("Connection","WebChannel transport closed"),Ue.Vi())}),Je(K,Xy.EventType.ERROR,function(rt){Se||(Se=!0,Qy("Connection","WebChannel transport errored:",rt),Ue.Vi(new li(En.UNAVAILABLE,"The operation could not be completed")))}),Je(K,Xy.EventType.MESSAGE,function(rt){var Tt;if(!Se){var Qt=rt.data[0];ns(!!Qt);var Jn=Qt.error||(null===(Tt=Qt[0])||void 0===Tt?void 0:Tt.error);if(Jn){xi("Connection","WebChannel received error:",Jn);var Zn=Jn.status,Di=function(ls){var co=$c[ls];if(void 0!==co)return Jl(co)}(Zn),Bi=Jn.message;void 0===Di&&(Di=En.INTERNAL,Bi="Unknown error status: "+Zn+" with message "+Jn.message),Se=!0,Ue.Vi(new li(Di,Bi)),K.close()}else xi("Connection","WebChannel received:",Qt),Ue.Si(Qt)}}),Je(y,hw.STAT_EVENT,function(rt){rt.stat===oC_PROXY?xi("Connection","Detected buffering proxy"):rt.stat===oC_NOPROXY&&xi("Connection","Detected no buffering proxy")}),setTimeout(function(){Ue.Pi()},0),Ue},i}(function(){function t(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(i,e,s,a){var l=this.xi(i,e);xi("RestConnection","Sending: ",l,s);var y={};return this.Fi(y,a),this.ki(i,l,y,s).then(function(k){return xi("RestConnection","Received: ",k),k},function(k){throw Qy("RestConnection",i+" failed with error: ",k,"url: ",l,"request:",s),k})},t.prototype.$i=function(i,e,s,a){return this.Ni(i,e,s,a)},t.prototype.Fi=function(i,e){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var s in e.authHeaders)e.authHeaders.hasOwnProperty(s)&&(i[s]=e.authHeaders[s])},t.prototype.xi=function(i,e){return this.Di+"/v1/"+e+":"+iP[i]},t}());function nf(){return"undefined"!=typeof window?window:null}function ol(){return"undefined"!=typeof document?document:null}function Gh(t){return new xS(t,!0)}var zw=function(){function t(i,e,s,a,l){void 0===s&&(s=1e3),void 0===a&&(a=1.5),void 0===l&&(l=6e4),this.Se=i,this.timerId=e,this.Mi=s,this.Li=a,this.Bi=l,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(i){var e=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),a=Math.max(0,Date.now()-this.Ki),l=Math.max(0,s-a);l>0&&xi("ExponentialBackoff","Backing off for "+l+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+a+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,l,function(){return e.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),fk=function(){function t(i,e,s,a,l,y){this.Se=i,this.zi=s,this.Hi=a,this.Ji=l,this.listener=y,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zw(i,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},t.prototype.cr=function(i){this.ur(),this.stream.send(i)},t.prototype.rr=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(i,e){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():e&&e.code===En.RESOURCE_EXHAUSTED?(yc(e.toString()),yc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===En.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(e)];case 1:return s.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var i=this;this.state=1;var e=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(a){i.Yi===s&&i.lr(a)},function(a){e(function(){var l=new li(En.UNKNOWN,"Fetching auth token failed: "+a.message);return i.dr(l)})})},t.prototype.lr=function(i){var e=this,s=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){s(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(a){s(function(){return e.dr(a)})}),this.stream.onMessage(function(a){s(function(){return e.onMessage(a)})})},t.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,gt.mG)(i,void 0,void 0,function(){return(0,gt.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(i){return xi("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},t.prototype.hr=function(i){var e=this;return function(s){e.Se.enqueueAndForget(function(){return e.Yi===i?s():(xi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),mk=function(t){function i(e,s,a,l,y){var k=this;return(k=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",s,a,y)||this).R=l,k}return(0,gt.ZT)(i,t),i.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},i.prototype.onMessage=function(e){this.Zi.reset();var s=function(l,y){var k,Qt;if("targetChange"in y){var V="NO_CHANGE"===(Qt=y.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Qt?1:"REMOVE"===Qt?2:"CURRENT"===Qt?3:"RESET"===Qt?4:fr(),K=y.targetChange.targetIds||[],pe=function(Qt,Cn){return Qt.I?(ns(void 0===Cn||"string"==typeof Cn),Cp.fromBase64String(Cn||"")):(ns(void 0===Cn||Cn instanceof Uint8Array),Cp.fromUint8Array(Cn||new Uint8Array))}(l,y.targetChange.resumeToken),Se=(Ue=y.targetChange.cause)&&function(Qt){var Cn=void 0===Qt.code?En.UNKNOWN:Jl(Qt.code);return new li(Cn,Qt.message||"")}(Ue);k=new _S(V,K,pe,Se||null)}else if("documentChange"in y){K=e_(l,(V=y.documentChange).document.name),pe=Ku(V.document.updateTime);var Ue=new Ql({mapValue:{fields:V.document.fields}}),Je=(Se=Qu.newFoundDocument(K,pe,Ue),V.targetIds||[]);k=new Q0(Je,V.removedTargetIds||[],Se.key,Se)}else if("documentDelete"in y)K=e_(l,(V=y.documentDelete).document),pe=V.readTime?Ku(V.readTime):Bs.min(),Ue=Qu.newNoDocument(K,pe),k=new Q0([],Se=V.removedTargetIds||[],Ue.key,Ue);else if("documentRemove"in y)K=e_(l,(V=y.documentRemove).document),k=new Q0([],pe=V.removedTargetIds||[],K,null);else{if(!("filter"in y))return fr();var Tt=y.filter;K=new Sw(V=Tt.count||0),k=new DC(pe=Tt.targetId,K)}return k}(this.R,e),a=function(l){if(!("targetChange"in l))return Bs.min();var y=l.targetChange;return y.targetIds&&y.targetIds.length?Bs.min():y.readTime?Ku(y.readTime):Bs.min()}(e);return this.listener._r(s,a)},i.prototype.mr=function(e){var l,y,k,V,s={};s.database=iy(this.R),s.addTarget=(l=this.R,(k=gw(V=(y=e).target)?{documents:ES(l,V)}:{query:DS(l,V)}).targetId=y.targetId,y.resumeToken.approximateByteSize()>0?k.resumeToken=wS(l,y.resumeToken):y.snapshotVersion.compareTo(Bs.min())>0&&(k.readTime=yb(l,y.snapshotVersion.toTimestamp())),k);var a=function(l,y){var k=function(V,K){switch(K){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fr()}}(0,y.purpose);return null==k?null:{"goog-listen-tags":k}}(0,e);a&&(s.labels=a),this.cr(s)},i.prototype.yr=function(e){var s={};s.database=iy(this.R),s.removeTarget=e,this.cr(s)},i}(fk),QC=function(t){function i(e,s,a,l,y){var k=this;return(k=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",s,a,y)||this).R=l,k.gr=!1,k}return(0,gt.ZT)(i,t),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(e){return this.Hi.Oi("Write",e)},i.prototype.onMessage=function(e){if(ns(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var s=(y=e.commitTime,(l=e.writeResults)&&l.length>0?(ns(void 0!==y),l.map(function(k){return K=y,(pe=Ku((V=k).updateTime?V.updateTime:K)).isEqual(Bs.min())&&(pe=Ku(K)),new TC(pe,V.transformResults||[]);var V,K,pe})):[]),a=Ku(e.commitTime);return this.listener.Tr(a,s)}var l,y;return ns(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var e={};e.database=iy(this.R),this.cr(e)},i.prototype.Er=function(e){var s=this,a={streamToken:this.lastStreamToken,writes:e.map(function(l){return ry(s.R,l)})};this.cr(a)},i}(fk),Eb=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).credentials=e,l.Hi=s,l.R=a,l.Rr=!1,l}return(0,gt.ZT)(i,t),i.prototype.br=function(){if(this.Rr)throw new li(En.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(y){return l.Hi.Ni(e,s,a,y)}).catch(function(y){throw"FirebaseError"===y.name?(y.code===En.UNAUTHENTICATED&&l.credentials.invalidateToken(),y):new li(En.UNKNOWN,y.toString())})},i.prototype.$i=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(y){return l.Hi.$i(e,s,a,y)}).catch(function(y){throw"FirebaseError"===y.name?(y.code===En.UNAUTHENTICATED&&l.credentials.invalidateToken(),y):new li(En.UNKNOWN,y.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),lx=function(){function t(i,e){this.asyncQueue=i,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},t.prototype.set=function(i){this.Fr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},t.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},t.prototype.Cr=function(i){var e="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yc(e),this.Vr=!1):xi("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),XA=function(t,i,e,s,a){var l=this;this.localStore=t,this.datastore=i,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=a,this.Lr.di(function(y){e.enqueueAndForget(function(){return(0,gt.mG)(l,void 0,void 0,function(){return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return hy(this)?(xi("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return(0,gt.mG)(this,void 0,void 0,function(){var K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:return(K=Ii(V)).Or.add(4),[4,Db(K)];case 1:return pe.sent(),K.Br.set("Unknown"),K.Or.delete(4),[4,bm(K)];case 2:return pe.sent(),[2]}})})}(this)]):[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})})}),this.Br=new lx(e,s)};function bm(t){return(0,gt.mG)(this,void 0,void 0,function(){var i,e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:if(!hy(t))return[3,4];i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Db(t){return(0,gt.mG)(this,void 0,void 0,function(){var i,e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function cx(t,i){var e=Ii(t);e.$r.has(i.targetId)||(e.$r.set(i.targetId,i),dy(e)?Bw(e):Ab(e).er()&&fv(e,i))}function pv(t,i){var e=Ii(t),s=Ab(e);e.$r.delete(i),s.er()&&Yw(e,i),0===e.$r.size&&(s.er()?s.ir():hy(e)&&e.Br.set("Unknown"))}function fv(t,i){t.qr.U(i.targetId),Ab(t).mr(i)}function Yw(t,i){t.qr.U(i),Ab(t).yr(i)}function Bw(t){t.qr=new J0({getRemoteKeysForTarget:function(i){return t.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return t.$r.get(i)||null}}),Ab(t).start(),t.Br.Sr()}function dy(t){return hy(t)&&!Ab(t).tr()&&t.$r.size>0}function hy(t){return 0===Ii(t).Or.size}function ux(t){t.qr=void 0}function gk(t){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){return t.$r.forEach(function(e,s){fv(t,e)}),[2]})})}function _k(t,i){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(e){return ux(t),dy(t)?(t.Br.Nr(i),Bw(t)):t.Br.set("Unknown"),[2]})})}function yk(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:if(t.Br.set("Online"),!(i instanceof _S&&2===i.state&&i.cause))return[3,6];y.label=1;case 1:return y.trys.push([1,3,,5]),[4,function(k,V){return(0,gt.mG)(this,void 0,void 0,function(){var K,pe,Se,Ue;return(0,gt.Jh)(this,function(Je){switch(Je.label){case 0:K=V.cause,pe=0,Se=V.targetIds,Je.label=1;case 1:return pe<Se.length?k.$r.has(Ue=Se[pe])?[4,k.remoteSyncer.rejectListen(Ue,K)]:[3,3]:[3,5];case 2:Je.sent(),k.$r.delete(Ue),k.qr.removeTarget(Ue),Je.label=3;case 3:Je.label=4;case 4:return pe++,[3,1];case 5:return[2]}})})}(t,i)];case 2:return y.sent(),[3,5];case 3:return s=y.sent(),xi("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),[4,mv(t,s)];case 4:return y.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Q0?t.qr.X(i):i instanceof DC?t.qr.rt(i):t.qr.et(i),e.isEqual(Bs.min()))return[3,13];y.label=7;case 7:return y.trys.push([7,11,,13]),[4,sx(t.localStore)];case 8:return a=y.sent(),e.compareTo(a)>=0?[4,(k=t,V=e,K=k.qr.ut(V),K.targetChanges.forEach(function(pe,Se){if(pe.resumeToken.approximateByteSize()>0){var Ue=k.$r.get(Se);Ue&&k.$r.set(Se,Ue.withResumeToken(pe.resumeToken,V))}}),K.targetMismatches.forEach(function(pe){var Se=k.$r.get(pe);if(Se){k.$r.set(pe,Se.withResumeToken(Cp.EMPTY_BYTE_STRING,Se.snapshotVersion)),Yw(k,pe);var Ue=new ex(Se.target,pe,1,Se.sequenceNumber);fv(k,Ue)}}),k.remoteSyncer.applyRemoteEvent(K))]:[3,10];case 9:y.sent(),y.label=10;case 10:return[3,13];case 11:return xi("RemoteStore","Failed to raise snapshot:",l=y.sent()),[4,mv(t,l)];case 12:return y.sent(),[3,13];case 13:return[2]}var k,V,K})})}function mv(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s=this;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:if(!oy(i))throw i;return t.Or.add(1),[4,Db(t)];case 1:return a.sent(),t.Br.set("Offline"),e||(e=function(){return sx(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,gt.mG)(s,void 0,void 0,function(){return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return xi("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return l.sent(),t.Or.delete(1),[4,bm(t)];case 2:return l.sent(),[2]}})})}),[2]}})})}function vk(t,i){return i().catch(function(e){return mv(t,e,i)})}function py(t){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:i=Ii(t),e=fy(i),s=i.kr.length>0?i.kr[i.kr.length-1].batchId:-1,y.label=1;case 1:if(!(hy(k=i)&&k.kr.length<10))return[3,7];y.label=2;case 2:return y.trys.push([2,4,,6]),[4,jA(i.localStore,s)];case 3:return null===(a=y.sent())?(0===i.kr.length&&e.ir(),[3,7]):(s=a.batchId,function(k,V){k.kr.push(V);var K=fy(k);K.er()&&K.pr&&K.Er(V.mutations)}(i,a),[3,6]);case 4:return l=y.sent(),[4,mv(i,l)];case 5:return y.sent(),[3,6];case 6:return[3,1];case 7:return Vw(i)&&QA(i),[2]}var k})})}function Vw(t){return hy(t)&&!fy(t).tr()&&t.kr.length>0}function QA(t){fy(t).start()}function rP(t){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){return fy(t).Ar(),[2]})})}function ms(t){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s;return(0,gt.Jh)(this,function(l){for(i=fy(t),e=0,s=t.kr;e<s.length;e++)i.Er(s[e].mutations);return[2]})})}function sP(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return s=t.kr.shift(),a=US.from(s,i,e),[4,vk(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)})];case 1:return l.sent(),[4,py(t)];case 2:return l.sent(),[2]}})})}function dx(t,i){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(e){switch(e.label){case 0:return i&&fy(t).pr?[4,function(s,a){return(0,gt.mG)(this,void 0,void 0,function(){var l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return q0(y=a.code)&&y!==En.ABORTED?(l=s.kr.shift(),fy(s).sr(),[4,vk(s,function(){return s.remoteSyncer.rejectFailedWrite(l.batchId,a)})]):[3,3];case 1:return k.sent(),[4,py(s)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}(t,i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return Vw(t)&&QA(t),[2]}})})}function JC(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return e=Ii(t),i?(e.Or.delete(2),[4,bm(e)]):[3,2];case 1:return s.sent(),[3,5];case 2:return i?[3,4]:(e.Or.add(2),[4,Db(e)]);case 3:s.sent(),e.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function Ab(t){var e,s,a,l,i=this;return t.Ur||(t.Ur=(e=t.datastore,s=t.asyncQueue,a={Ii:gk.bind(null,t),Ri:_k.bind(null,t),_r:yk.bind(null,t)},(l=Ii(e)).br(),new mk(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,gt.mG)(i,void 0,void 0,function(){return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Ur.sr(),dy(t)?Bw(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:s.sent(),ux(t),s.label=3;case 3:return[2]}})})})),t.Ur}function fy(t){var e,s,a,l,i=this;return t.Kr||(t.Kr=(e=t.datastore,s=t.asyncQueue,a={Ii:rP.bind(null,t),Ri:dx.bind(null,t),Ir:ms.bind(null,t),Tr:sP.bind(null,t)},(l=Ii(e)).br(),new QC(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,gt.mG)(i,void 0,void 0,function(){return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Kr.sr(),[4,py(t)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:s.sent(),t.kr.length>0&&(xi("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),s.label=4;case 4:return[2]}})})})),t.Kr}var oP=function(){function t(i,e,s,a,l){this.asyncQueue=i,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Dd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(y){})}return t.createAndSchedule=function(i,e,s,a,l){var y=new t(i,e,Date.now()+s,a,l);return y.start(s),y},t.prototype.start=function(i){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},i)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new li(En.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},t.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(e){return i.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hx(t,i){if(yc("AsyncQueue",i+": "+t),oy(t))return new li(En.UNAVAILABLE,i+": "+t);throw t}var bk=function(){function t(i){this.comparator=i?function(e,s){return i(e,s)||vr.comparator(e.key,s.key)}:function(e,s){return vr.comparator(e.key,s.key)},this.keyedMap=EC(),this.sortedSet=new Uh(this.comparator)}return t.emptySet=function(i){return new t(i.comparator)},t.prototype.has=function(i){return null!=this.keyedMap.get(i)},t.prototype.get=function(i){return this.keyedMap.get(i)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(i){var e=this.keyedMap.get(i);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.add=function(i){var e=this.delete(i.key);return e.copy(e.keyedMap.insert(i.key,i),e.sortedSet.insert(i,null))},t.prototype.delete=function(i){var e=this.get(i);return e?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0},t.prototype.toString=function(){var i=[];return this.forEach(function(e){i.push(e.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},t.prototype.copy=function(i,e){var s=new t;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=e,s},t}(),Ad=function(){function t(){this.Qr=new Uh(vr.comparator)}return t.prototype.track=function(i){var e=i.doc.key,s=this.Qr.get(e);s?0!==i.type&&3===s.type?this.Qr=this.Qr.insert(e,i):3===i.type&&1!==s.type?this.Qr=this.Qr.insert(e,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Qr=this.Qr.insert(e,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Qr=this.Qr.remove(e):1===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):fr():this.Qr=this.Qr.insert(e,i)},t.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(e,s){i.push(s)}),i},t}(),Hw=function(){function t(i,e,s,a,l,y,k,V){this.query=i,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=y,this.syncStateChanged=k,this.excludesMetadataChanges=V}return t.fromInitialDocuments=function(i,e,s,a){var l=[];return e.forEach(function(y){l.push({type:0,doc:y})}),new t(i,e,bk.emptySet(e),l,s,a,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Z0(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var e=this.docChanges,s=i.docChanges;if(e.length!==s.length)return!1;for(var a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0},t}(),JA=function(){this.Wr=void 0,this.listeners=[]},KC=function(){this.queries=new uv(function(t){return aS(t)},Z0),this.onlineState="Unknown",this.Gr=new Set};function eM(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a,l,y,k,V;return(0,gt.Jh)(this,function(K){switch(K.label){case 0:if(e=Ii(t),a=!1,(l=e.queries.get(s=i.query))||(a=!0,l=new JA),!a)return[3,4];K.label=1;case 1:return K.trys.push([1,3,,4]),y=l,[4,e.onListen(s)];case 2:return y.Wr=K.sent(),[3,4];case 3:return k=K.sent(),V=hx(k,"Initialization of query '"+bC(i.query)+"' failed"),[2,void i.onError(V)];case 4:return e.queries.set(s,l),l.listeners.push(i),i.zr(e.onlineState),l.Wr&&i.Hr(l.Wr)&&nM(e),[2]}})})}function tM(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a,l,y;return(0,gt.Jh)(this,function(k){return e=Ii(t),a=!1,(l=e.queries.get(s=i.query))&&(y=l.listeners.indexOf(i))>=0&&(l.listeners.splice(y,1),a=0===l.listeners.length),a?[2,(e.queries.delete(s),e.onUnlisten(s))]:[2]})})}function KA(t,i){for(var e=Ii(t),s=!1,a=0,l=i;a<l.length;a++){var y=l[a],V=e.queries.get(y.query);if(V){for(var K=0,pe=V.listeners;K<pe.length;K++)pe[K].Hr(y)&&(s=!0);V.Wr=y}}s&&nM(e)}function eI(t,i,e){var s=Ii(t),a=s.queries.get(i);if(a)for(var l=0,y=a.listeners;l<y.length;l++)y[l].onError(e);s.queries.delete(i)}function nM(t){t.Gr.forEach(function(i){i.next()})}var iM=function(){function t(i,e,s){this.query=i,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return t.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var e=[],s=0,a=i.docChanges;s<a.length;s++){var l=a[s];3!==l.type&&e.push(l)}i=new Hw(i.query,i.docs,i.oldDocs,e,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var y=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),y=!0):this.eo(i,this.onlineState)&&(this.no(i),y=!0),this.Xr=i,y},t.prototype.onError=function(i){this.Jr.error(i)},t.prototype.zr=function(i){this.onlineState=i;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(i,e){return!i.fromCache||!(this.options.so&&"Offline"!==e||i.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(i){i=Hw.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},t}(),rM=function(){function t(i,e){this.payload=i,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),xk=function(){function t(i){this.R=i}return t.prototype.qn=function(i){return e_(this.R,i)},t.prototype.Un=function(i){return i.metadata.exists?LC(this.R,i.document,!1):Qu.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},t.prototype.Kn=function(i){return Ku(i)},t}();!function(){function t(i,e,s){this.ro=i,this.localStore=e,this.R=s,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)}t.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var e=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++e):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(i){for(var e=new Map,s=new xk(this.R),a=0,l=i;a<l.length;a++){var y=l[a];if(y.metadata.queries)for(var k=s.qn(y.metadata.name),V=0,K=y.metadata.queries;V<K.length;V++){var pe=K[V],Se=(e.get(pe)||Sa()).add(k);e.set(pe,Se)}}return e},t.prototype.complete=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return[4,lk(this.localStore,new xk(this.R),this.documents,this.ro.id)];case 1:i=y.sent(),e=this.co(this.documents),s=0,a=this.queries,y.label=2;case 2:return s<a.length?[4,$C(this.localStore,l=a[s],e.get(l.name))]:[3,5];case 3:y.sent(),y.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new HA(Object.assign({},this.progress),i))]}})})}}();var Uw=function(t){this.key=t},wk=function(t){this.key=t},nI=function(){function t(i,e){this.query=i,this.uo=e,this.ao=null,this.current=!1,this.ho=Sa(),this.mutatedKeys=Sa(),this.lo=lS(i),this.fo=new bk(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(i,e){var s=this,a=e?e.mo:new Ad,l=e?e.fo:this.fo,y=e?e.mutatedKeys:this.mutatedKeys,k=l,V=!1,K=j0(this.query)&&l.size===this.query.limit?l.last():null,pe=G0(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal(function(Ue,Je){var rt=l.get(Ue),Tt=W0(s.query,Je)?Je:null,Qt=!!rt&&s.mutatedKeys.has(rt.key),Cn=!!Tt&&(Tt.hasLocalMutations||s.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations),Jn=!1;rt&&Tt?rt.data.isEqual(Tt.data)?Qt!==Cn&&(a.track({type:3,doc:Tt}),Jn=!0):s.yo(rt,Tt)||(a.track({type:2,doc:Tt}),Jn=!0,(K&&s.lo(Tt,K)>0||pe&&s.lo(Tt,pe)<0)&&(V=!0)):!rt&&Tt?(a.track({type:0,doc:Tt}),Jn=!0):rt&&!Tt&&(a.track({type:1,doc:rt}),Jn=!0,(K||pe)&&(V=!0)),Jn&&(Tt?(k=k.add(Tt),y=Cn?y.add(Ue):y.delete(Ue)):(k=k.delete(Ue),y=y.delete(Ue)))}),j0(this.query)||G0(this.query))for(;k.size>this.query.limit;){var Se=j0(this.query)?k.last():k.first();k=k.delete(Se.key),y=y.delete(Se.key),a.track({type:1,doc:Se})}return{fo:k,mo:a,Nn:V,mutatedKeys:y}},t.prototype.yo=function(i,e){return i.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(i,e,s){var a=this,l=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var y=i.mo.jr();y.sort(function(pe,Se){return Je=Se.type,(rt=function(Tt){switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fr()}})(pe.type)-rt(Je)||a.lo(pe.doc,Se.doc);var Je,rt}),this.po(s);var k=e?this.Eo():[],V=0===this.ho.size&&this.current?1:0,K=V!==this.ao;return this.ao=V,0!==y.length||K?{snapshot:new Hw(this.query,i.fo,l,y,i.mutatedKeys,0===V,K,!1),To:k}:{To:k}},t.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ad,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},t.prototype.po=function(i){var e=this;i&&(i.addedDocuments.forEach(function(s){return e.uo=e.uo.add(s)}),i.modifiedDocuments.forEach(function(s){}),i.removedDocuments.forEach(function(s){return e.uo=e.uo.delete(s)}),this.current=i.current)},t.prototype.Eo=function(){var i=this;if(!this.current)return[];var e=this.ho;this.ho=Sa(),this.fo.forEach(function(a){i.Io(a.key)&&(i.ho=i.ho.add(a.key))});var s=[];return e.forEach(function(a){i.ho.has(a)||s.push(new wk(a))}),this.ho.forEach(function(a){e.has(a)||s.push(new Uw(a))}),s},t.prototype.Ao=function(i){this.uo=i.Bn,this.ho=Sa();var e=this._o(i.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Hw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),iI=function(t,i,e){this.query=t,this.targetId=i,this.view=e},rI=function(t){this.key=t,this.bo=!1},sI=function(){function t(i,e,s,a,l,y){this.localStore=i,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=y,this.vo={},this.Po=new uv(function(k){return aS(k)},Z0),this.Vo=new Map,this.So=new Set,this.Do=new Uh(vr.comparator),this.Co=new Map,this.No=new Rw,this.xo={},this.Fo=new Map,this.ko=UC.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function oI(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,a,l,y,k;return(0,gt.Jh)(this,function(V){switch(V.label){case 0:return e=mx(t),(l=e.Po.get(i))?(e.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Ro(),[3,4]):[3,1];case 1:return[4,ox(e.localStore,Gf(i))];case 2:return y=V.sent(),k=e.sharedClientState.addLocalQueryTarget(y.targetId),[4,oM(e,i,y.targetId,"current"===k)];case 3:a=V.sent(),e.isPrimaryClient&&cx(e.remoteStore,y),V.label=4;case 4:return[2,a]}})})}function oM(t,i,e,s){return(0,gt.mG)(this,void 0,void 0,function(){var a,l,y,k,V,K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:return t.Oo=function(Se,Ue,Je){return function(rt,Tt,Qt,Cn){return(0,gt.mG)(this,void 0,void 0,function(){var Jn,Zn,Di;return(0,gt.Jh)(this,function(Bi){switch(Bi.label){case 0:return(Jn=Tt.view._o(Qt)).Nn?[4,hv(rt.localStore,Tt.query,!1).then(function(ls){return Tt.view._o(ls.documents,Jn)})]:[3,2];case 1:Jn=Bi.sent(),Bi.label=2;case 2:return Zn=Cn&&Cn.targetChanges.get(Tt.targetId),Di=Tt.view.applyChanges(Jn,rt.isPrimaryClient,Zn),[2,(cM(rt,Tt.targetId,Di.To),Di.snapshot)]}})})}(t,Se,Ue,Je)},[4,hv(t.localStore,i,!0)];case 1:return a=pe.sent(),l=new nI(i,a.Bn),y=l._o(a.documents),k=Ew.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==t.onlineState),V=l.applyChanges(y,t.isPrimaryClient,k),cM(t,e,V.To),K=new iI(i,e,l),[2,(t.Po.set(i,K),t.Vo.has(e)?t.Vo.get(e).push(i):t.Vo.set(e,[i]),V.snapshot)]}})})}function aI(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return e=Ii(t),s=e.Po.get(i),(a=e.Vo.get(s.targetId)).length>1?[2,(e.Vo.set(s.targetId,a.filter(function(y){return!Z0(y,i)})),void e.Po.delete(i))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,Sb(e.localStore,s.targetId,!1).then(function(){e.sharedClientState.clearQueryState(s.targetId),pv(e.remoteStore,s.targetId),Ib(e,s.targetId)}).catch(ly)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return Ib(e,s.targetId),[4,Sb(e.localStore,s.targetId,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})}function px(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:s=hM(t),k.label=1;case 1:return k.trys.push([1,5,,6]),[4,(V=s.localStore,K=i,Se=Ii(V),Ue=ph.now(),Je=K.reduce(function(rt,Tt){return rt.add(Tt.key)},Sa()),Se.persistence.runTransaction("Locally write mutations","readwrite",function(rt){return Se.Mn.pn(rt,Je).next(function(Tt){pe=Tt;for(var Qt=[],Cn=0,Jn=K;Cn<Jn.length;Cn++){var Zn=Jn[Cn],Di=K2(Zn,pe.get(Zn.key));null!=Di&&Qt.push(new Kg(Zn.key,Di,jf(Di.value.mapValue),Ju.exists(!0)))}return Se._n.addMutationBatch(rt,Ue,Qt,K)})}).then(function(rt){return rt.applyToLocalDocumentSet(pe),{batchId:rt.batchId,changes:pe}}))];case 2:return a=k.sent(),s.sharedClientState.addPendingMutation(a.batchId),function(V,K,pe){var Se=V.xo[V.currentUser.toKey()];Se||(Se=new Uh(lo)),Se=Se.insert(K,pe),V.xo[V.currentUser.toKey()]=Se}(s,a.batchId,e),[4,a_(s,a.changes)];case 3:return k.sent(),[4,py(s.remoteStore)];case 4:return k.sent(),[3,6];case 5:return l=k.sent(),y=hx(l,"Failed to persist write"),e.reject(y),[3,6];case 6:return[2]}var V,K,pe,Se,Ue,Je})})}function Ck(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:e=Ii(t),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,dv(e.localStore,i)];case 2:return s=a.sent(),i.targetChanges.forEach(function(l,y){var k=e.Co.get(y);k&&(ns(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?k.bo=!0:l.modifiedDocuments.size>0?ns(k.bo):l.removedDocuments.size>0&&(ns(k.bo),k.bo=!1))}),[4,a_(e,s,i)];case 3:return a.sent(),[3,6];case 4:return[4,ly(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function Mk(t,i,e){var s=Ii(t);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){var a=[];s.Po.forEach(function(l,y){var k=y.view.zr(i);k.snapshot&&a.push(k.snapshot)}),function(l,y){var k=Ii(l);k.onlineState=y;var V=!1;k.queries.forEach(function(K,pe){for(var Se=0,Ue=pe.listeners;Se<Ue.length;Se++)Ue[Se].zr(y)&&(V=!0)}),V&&nM(k)}(s.eventManager,i),a.length&&s.vo._r(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function Tk(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y,k,V;return(0,gt.Jh)(this,function(K){switch(K.label){case 0:return(s=Ii(t)).sharedClientState.updateQueryState(i,"rejected",e),a=s.Co.get(i),(l=a&&a.key)?(y=(y=new Uh(vr.comparator)).insert(l,Qu.newNoDocument(l,Bs.min())),k=Sa().add(l),V=new gb(Bs.min(),new Map,new ku(lo),y,k),[4,Ck(s,V)]):[3,2];case 1:return K.sent(),s.Do=s.Do.remove(l),s.Co.delete(i),uM(s),[3,4];case 2:return[4,Sb(s.localStore,i,!1).then(function(){return Ib(s,i,e)}).catch(ly)];case 3:K.sent(),K.label=4;case 4:return[2]}})})}function fx(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:e=Ii(t),s=i.batch.batchId,l.label=1;case 1:return l.trys.push([1,4,,6]),[4,UA(e.localStore,i)];case 2:return a=l.sent(),lM(e,s,null),aM(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),[4,a_(e,a)];case 3:return l.sent(),[3,6];case 4:return[4,ly(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}})})}function aP(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:s=Ii(t),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,(y=s.localStore,k=i,V=Ii(y),V.persistence.runTransaction("Reject batch","readwrite-primary",function(K){var pe;return V._n.lookupMutationBatch(K,k).next(function(Se){return ns(null!==Se),pe=Se.keys(),V._n.removeMutationBatch(K,Se)}).next(function(){return V._n.performConsistencyCheck(K)}).next(function(){return V.Mn.pn(K,pe)})}))];case 2:return a=l.sent(),lM(s,i,e),aM(s,i),s.sharedClientState.updateMutationState(i,"rejected",e),[4,a_(s,a)];case 3:return l.sent(),[3,6];case 4:return[4,ly(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}var y,k,V})})}function Sk(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a,l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:hy((e=Ii(t)).remoteStore)||xi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,(V=e.localStore,K=Ii(V),K.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(pe){return K._n.getHighestUnacknowledgedBatchId(pe)}))];case 2:return-1===(s=k.sent())?[2,void i.resolve()]:((a=e.Fo.get(s)||[]).push(i),e.Fo.set(s,a),[3,4]);case 3:return l=k.sent(),y=hx(l,"Initialization of waitForPendingWrites() operation failed"),i.reject(y),[3,4];case 4:return[2]}var V,K})})}function aM(t,i){(t.Fo.get(i)||[]).forEach(function(e){e.resolve()}),t.Fo.delete(i)}function lM(t,i,e){var s=Ii(t),a=s.xo[s.currentUser.toKey()];if(a){var l=a.get(i);l&&(e?l.reject(e):l.resolve(),a=a.remove(i)),s.xo[s.currentUser.toKey()]=a}}function Ib(t,i,e){void 0===e&&(e=null),t.sharedClientState.removeLocalQueryTarget(i);for(var s=0,a=t.Vo.get(i);s<a.length;s++){var l=a[s];t.Po.delete(l),e&&t.vo.Mo(l,e)}t.Vo.delete(i),t.isPrimaryClient&&t.No.Zn(i).forEach(function(y){t.No.containsKey(y)||kk(t,y)})}function kk(t,i){t.So.delete(i.path.canonicalString());var e=t.Do.get(i);null!==e&&(pv(t.remoteStore,e),t.Do=t.Do.remove(i),t.Co.delete(e),uM(t))}function cM(t,i,e){for(var s=0,a=e;s<a.length;s++){var l=a[s];l instanceof Uw?(t.No.addReference(l.key,i),Ek(t,l)):l instanceof wk?(xi("SyncEngine","Document no longer in limbo: "+l.key),t.No.removeReference(l.key,i),t.No.containsKey(l.key)||kk(t,l.key)):fr()}}function Ek(t,i){var e=i.key,s=e.path.canonicalString();t.Do.get(e)||t.So.has(s)||(xi("SyncEngine","New document in limbo: "+e),t.So.add(s),uM(t))}function uM(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var i=t.So.values().next().value;t.So.delete(i);var e=new vr(Po.fromString(i)),s=t.ko.next();t.Co.set(s,new rI(e)),t.Do=t.Do.insert(e,s),cx(t.remoteStore,new ex(Gf(tv(e.path)),s,2,Bh.o))}}function a_(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return s=Ii(t),a=[],l=[],y=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(V,K){y.push(s.Oo(K,i,e).then(function(pe){if(pe){s.isPrimaryClient&&s.sharedClientState.updateQueryState(K.targetId,pe.fromCache?"not-current":"current"),a.push(pe);var Se=tP.Pn(K.targetId,pe);l.push(Se)}}))}),[4,Promise.all(y)]);case 1:return k.sent(),s.vo._r(a),[4,function(V,K){return(0,gt.mG)(this,void 0,void 0,function(){var pe,Se,Ue,Je,rt,Tt,Qt,Jn;return(0,gt.Jh)(this,function(Zn){switch(Zn.label){case 0:pe=Ii(V),Zn.label=1;case 1:return Zn.trys.push([1,3,,4]),[4,pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Di){return _i.forEach(K,function(Bi){return _i.forEach(Bi.bn,function(ls){return pe.persistence.referenceDelegate.addReference(Di,Bi.targetId,ls)}).next(function(){return _i.forEach(Bi.vn,function(ls){return pe.persistence.referenceDelegate.removeReference(Di,Bi.targetId,ls)})})})})];case 2:return Zn.sent(),[3,4];case 3:if(!oy(Se=Zn.sent()))throw Se;return xi("LocalStore","Failed to update sequence numbers: "+Se),[3,4];case 4:for(Ue=0,Je=K;Ue<Je.length;Ue++)Tt=(rt=Je[Ue]).targetId,rt.fromCache||(Qt=pe.Fn.get(Tt),Jn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion),pe.Fn=pe.Fn.insert(Tt,Jn));return[2]}})})}(s.localStore,l)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}function lP(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return(e=Ii(t)).currentUser.isEqual(i)?[3,3]:(xi("SyncEngine","User change. New user:",i.toKey()),[4,rk(e.localStore,i)]);case 1:return s=a.sent(),e.currentUser=i,(l=e).Fo.forEach(function(k){k.forEach(function(V){V.reject(new li(En.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Fo.clear(),e.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),[4,a_(e,s.Ln)];case 2:a.sent(),a.label=3;case 3:return[2]}var l})})}function cP(t,i){var e=Ii(t),s=e.Co.get(i);if(s&&s.bo)return Sa().add(s.key);var a=Sa(),l=e.Vo.get(i);if(!l)return a;for(var y=0,k=l;y<k.length;y++){var K=e.Po.get(k[y]);a=a.unionWith(K.view.wo)}return a}function uP(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,hv((e=Ii(t)).localStore,i.query,!0)];case 1:return s=l.sent(),a=i.view.Ao(s),[2,(e.isPrimaryClient&&cM(e,i.targetId,a.To),a)]}})})}function dM(t){return(0,gt.mG)(this,void 0,void 0,function(){var i;return(0,gt.Jh)(this,function(e){return[2,ok((i=Ii(t)).localStore).then(function(s){return a_(i,s)})]})})}function lI(t,i,e,s){return(0,gt.mG)(this,void 0,void 0,function(){var a,l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return[4,(k=(a=Ii(t)).localStore,V=i,K=Ii(k),pe=Ii(K._n),K.persistence.runTransaction("Lookup mutation documents","readonly",function(Se){return pe.jt(Se,V).next(function(Ue){return Ue?K.Mn.pn(Se,Ue):_i.resolve(null)})}))];case 1:return null===(l=y.sent())?[3,6]:"pending"!==e?[3,3]:[4,py(a.remoteStore)];case 2:return y.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(lM(a,i,s||null),aM(a,i),function(k,V){Ii(Ii(k)._n).Gt(V)}(a.localStore,i)):fr(),y.label=4;case 4:return[4,a_(a,l)];case 5:return y.sent(),[3,7];case 6:xi("SyncEngine","Cannot apply mutation batch with id: "+i),y.label=7;case 7:return[2]}var k,V,K,pe})})}function cI(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a,l,y,V,K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:return mx(e=Ii(t)),hM(e),!0!==i||!0===e.$o?[3,3]:(s=e.sharedClientState.getAllActiveQueryTargets(),[4,Dk(e,s.toArray())]);case 1:return a=pe.sent(),e.$o=!0,[4,JC(e.remoteStore,!0)];case 2:for(pe.sent(),l=0,y=a;l<y.length;l++)cx(e.remoteStore,y[l]);return[3,7];case 3:return!1!==i||!1===e.$o?[3,7]:(V=[],K=Promise.resolve(),e.Vo.forEach(function(Se,Ue){e.sharedClientState.isLocalQueryTarget(Ue)?V.push(Ue):K=K.then(function(){return Ib(e,Ue),Sb(e.localStore,Ue,!0)}),pv(e.remoteStore,Ue)}),[4,K]);case 4:return pe.sent(),[4,Dk(e,V)];case 5:return pe.sent(),(Ue=Ii(e)).Co.forEach(function(Je,rt){pv(Ue.remoteStore,rt)}),Ue.No.ts(),Ue.Co=new Map,Ue.Do=new Uh(vr.comparator),e.$o=!1,[4,JC(e.remoteStore,!1)];case 6:pe.sent(),pe.label=7;case 7:return[2]}var Ue})})}function Dk(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y,k,V,K,pe,Se,Ue,rt,Tt,Qt;return(0,gt.Jh)(this,function(Cn){switch(Cn.label){case 0:s=Ii(t),a=[],l=[],y=0,k=i,Cn.label=1;case 1:return y<k.length?(K=void 0,(pe=s.Vo.get(V=k[y]))&&0!==pe.length?[4,ox(s.localStore,Gf(pe[0]))]:[3,7]):[3,13];case 2:K=Cn.sent(),Se=0,Ue=pe,Cn.label=3;case 3:return Se<Ue.length?(rt=s.Po.get(Ue[Se]),[4,uP(s,rt)]):[3,6];case 4:(Tt=Cn.sent()).snapshot&&l.push(Tt.snapshot),Cn.label=5;case 5:return Se++,[3,3];case 6:return[3,11];case 7:return[4,sk(s.localStore,V)];case 8:return Qt=Cn.sent(),[4,ox(s.localStore,Qt)];case 9:return K=Cn.sent(),[4,oM(s,Ak(Qt),V,!1)];case 10:Cn.sent(),Cn.label=11;case 11:a.push(K),Cn.label=12;case 12:return y++,[3,1];case 13:return[2,(s.vo._r(l),a)]}})})}function Ak(t){return bw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uI(t){var i=Ii(t);return Ii(Ii(i.localStore).persistence).fn()}function dI(t,i,e,s){return(0,gt.mG)(this,void 0,void 0,function(){var a,l,y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return(a=Ii(t)).$o?(xi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!a.Vo.has(i))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ok(a.localStore)];case 3:return l=k.sent(),y=gb.createSynthesizedRemoteEventForCurrentChange(i,"current"===e),[4,a_(a,l,y)];case 4:return k.sent(),[3,8];case 5:return[4,Sb(a.localStore,i,!0)];case 6:return k.sent(),Ib(a,i,s),[3,8];case 7:fr(),k.label=8;case 8:return[2]}})})}function Ik(t,i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a,l,y,k,V,K,pe,Se;return(0,gt.Jh)(this,function(Je){switch(Je.label){case 0:if(!(s=mx(t)).$o)return[3,10];a=0,l=i,Je.label=1;case 1:return a<l.length?s.Vo.has(y=l[a])?(xi("SyncEngine","Adding an already active target "+y),[3,5]):[4,sk(s.localStore,y)]:[3,6];case 2:return k=Je.sent(),[4,ox(s.localStore,k)];case 3:return V=Je.sent(),[4,oM(s,Ak(k),V.targetId,!1)];case 4:Je.sent(),cx(s.remoteStore,V),Je.label=5;case 5:return a++,[3,1];case 6:K=function(rt){return(0,gt.Jh)(this,function(Tt){switch(Tt.label){case 0:return s.Vo.has(rt)?[4,Sb(s.localStore,rt,!1).then(function(){pv(s.remoteStore,rt),Ib(s,rt)}).catch(ly)]:[3,2];case 1:Tt.sent(),Tt.label=2;case 2:return[2]}})},pe=0,Se=e,Je.label=7;case 7:return pe<Se.length?[5,K(Se[pe])]:[3,10];case 8:Je.sent(),Je.label=9;case 9:return pe++,[3,7];case 10:return[2]}})})}function mx(t){var i=Ii(t);return i.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=cP.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,i),i.vo._r=KA.bind(null,i.eventManager),i.vo.Mo=eI.bind(null,i.eventManager),i}function hM(t){var i=Ii(t);return i.remoteStore.remoteSyncer.applySuccessfulWrite=fx.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=aP.bind(null,i),i}var Id=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(i){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(e){switch(e.label){case 0:return this.R=Gh(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},t.prototype.Uo=function(i){return null},t.prototype.Ko=function(i){return ik(this.persistence,new nk,i.initialUser,this.R)},t.prototype.qo=function(i){return new Fw(nP.bs,this.R)},t.prototype.Bo=function(i){return new WA},t.prototype.terminate=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},t}(),pM=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).Qo=e,l.cacheSizeBytes=s,l.forceOwnership=a,l.synchronizeTabs=!1,l}return(0,gt.ZT)(i,t),i.prototype.initialize=function(e){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,ak(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,e)];case 3:return s.sent(),[4,hM(this.Qo.syncEngine)];case 4:return s.sent(),[4,py(this.Qo.remoteStore)];case 5:return s.sent(),[2]}})})},i.prototype.Ko=function(e){return ik(this.persistence,new nk,e.initialUser,this.R)},i.prototype.Uo=function(e){return new YA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},i.prototype.qo=function(e){var s=WC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ug.withCacheSize(this.cacheSizeBytes):ug.DEFAULT;return new VA(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,nf(),ol(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(e){return new WA},i}(Id),xm=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s,!1)||this).Qo=e,a.cacheSizeBytes=s,a.synchronizeTabs=!0,a}return(0,gt.ZT)(i,t),i.prototype.initialize=function(e){return(0,gt.mG)(this,void 0,void 0,function(){var s,a=this;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return l.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof o_?(this.sharedClientState.syncEngine={ui:lI.bind(null,s),ai:dI.bind(null,s),hi:Ik.bind(null,s),fn:uI.bind(null,s),ci:dM.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:l.sent(),l.label=3;case 3:return[4,this.persistence.He(function(y){return(0,gt.mG)(a,void 0,void 0,function(){return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return[4,cI(this.Qo.syncEngine,y)];case 1:return k.sent(),this.gcScheduler&&(y&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):y||this.gcScheduler.stop()),[2]}})})})];case 4:return l.sent(),[2]}})})},i.prototype.Bo=function(e){var s=nf();if(!o_.yt(s))throw new li(En.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var a=WC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new o_(s,e.asyncQueue,a,e.clientId,e.initialUser)},i}(pM),gx=function(){function t(){}return t.prototype.initialize=function(i,e){return(0,gt.mG)(this,void 0,void 0,function(){var s=this;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return Mk(s.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lP.bind(null,this.syncEngine),[4,JC(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(i){return new KC},t.prototype.createDatastore=function(i){var s=Gh(i.databaseInfo.databaseId),a=new $A(i.databaseInfo);return new Eb(i.credentials,a,s)},t.prototype.createRemoteStore=function(i){var e,s,a,l,y,k=this;return e=this.localStore,s=this.datastore,a=i.asyncQueue,l=function(V){return Mk(k.syncEngine,V,0)},y=XC.yt()?new XC:new pk,new XA(e,s,a,l,y)},t.prototype.createSyncEngine=function(i,e){return K=e,pe=new sI(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),K&&(pe.$o=!0),pe;var K,pe},t.prototype.terminate=function(){return function(i){return(0,gt.mG)(this,void 0,void 0,function(){var e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return e=Ii(i),xi("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Db(e)];case 1:return s.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),_x=function(){function t(i){this.observer=i,this.muted=!1}return t.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},t.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(i,e){var s=this;this.muted||setTimeout(function(){s.muted||i(e)},0)},t}(),Ok=(function(){function t(i,e){var s=this;this.Go=i,this.R=e,this.metadata=new Dd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(a){a&&a.io()?s.metadata.resolve(a.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==a?void 0:a.payload)))},function(a){return s.metadata.reject(a)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e,s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,this.Jo()];case 1:return null===(i=l.sent())?[2,null]:(e=this.zo.decode(i),s=Number(e),isNaN(s)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(s)]);case 2:return a=l.sent(),[2,new rM(JSON.parse(a),i.length+s)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),e)])}})})},t.prototype.Xo=function(i){return(0,gt.mG)(this,void 0,void 0,function(){var e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),e)]}})})},t.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},t.prototype.tc=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(i=s.sent()).done||((e=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),e.set(i.value,this.buffer.length),this.buffer=e),[2,i.done]}})})}}(),function(){function t(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new li(En.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(l,y){return(0,gt.mG)(this,void 0,void 0,function(){var k,V,K,pe,Se,Ue;return(0,gt.Jh)(this,function(Je){switch(Je.label){case 0:return k=Ii(l),V=iy(k.R)+"/documents",K={documents:y.map(function(rt){return Dw(k.R,rt)})},[4,k.$i("BatchGetDocuments",V,K)];case 1:return pe=Je.sent(),Se=new Map,pe.forEach(function(rt){var Qt,Cn,Tt=(Qt=k.R,"found"in(Cn=rt)?function(Jn,Zn){ns(!!Zn.found);var Di=e_(Jn,Zn.found.name),Bi=Ku(Zn.found.updateTime),ls=new Ql({mapValue:{fields:Zn.found.fields}});return Qu.newFoundDocument(Di,Bi,ls)}(Qt,Cn):"missing"in Cn?function(Jn,Zn){ns(!!Zn.missing),ns(!!Zn.readTime);var Di=e_(Jn,Zn.missing),Bi=Ku(Zn.readTime);return Qu.newNoDocument(Di,Bi)}(Qt,Cn):fr());Se.set(Tt.key.toString(),Tt)}),Ue=[],[2,(y.forEach(function(rt){var Tt=Se.get(rt.toString());ns(!!Tt),Ue.push(Tt)}),Ue)]}})})}(this.datastore,i)];case 1:return[2,((e=a.sent()).forEach(function(l){return s.recordVersion(l)}),e)]}})})},t.prototype.set=function(i,e){this.write(e.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.update=function(i,e){try{this.write(e.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())},t.prototype.delete=function(i){this.write(new ny(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.commit=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(a){i.delete(a.key.toString())}),i.forEach(function(a,l){var y=vr.fromPath(l);e.mutations.push(new SC(y,e.precondition(y)))}),[4,function(a,l){return(0,gt.mG)(this,void 0,void 0,function(){var y,k,V;return(0,gt.Jh)(this,function(K){switch(K.label){case 0:return y=Ii(a),k=iy(y.R)+"/documents",V={writes:l.map(function(pe){return ry(y.R,pe)})},[4,y.Ni("Commit",k,V)];case 1:return K.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(i){var e;if(i.isFoundDocument())e=i.version;else{if(!i.isNoDocument())throw fr();e=Bs.min()}var s=this.readVersions.get(i.key.toString());if(s){if(!e.isEqual(s))throw new li(En.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),e)},t.prototype.precondition=function(i){var e=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&e?Ju.updateTime(e):Ju.none()},t.prototype.preconditionForUpdate=function(i){var e=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&e){if(e.isEqual(Bs.min()))throw new li(En.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ju.updateTime(e)}return Ju.exists(!0)},t.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},t.prototype.ensureCommitNotCalled=function(){},t}()),hI=function(){function t(i,e,s,a){this.asyncQueue=i,this.datastore=e,this.updateFunction=s,this.deferred=a,this.ec=5,this.Zi=new zw(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,gt.mG)(i,void 0,void 0,function(){var e,s,a=this;return(0,gt.Jh)(this,function(l){return e=new Ok(this.datastore),(s=this.sc(e))&&s.then(function(y){a.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){a.deferred.resolve(y)}).catch(function(k){a.ic(k)})})}).catch(function(y){a.ic(y)}),[2]})})})},t.prototype.sc=function(i){try{var e=this.updateFunction(i);return!ev(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},t.prototype.ic=function(i){var e=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(i)},t.prototype.rc=function(i){if("FirebaseError"===i.name){var e=i.code;return"aborted"===e||"failed-precondition"===e||!q0(e)}return!1},t}(),pI=function(){function t(i,e,s){var a=this;this.credentials=i,this.asyncQueue=e,this.databaseInfo=s,this.user=nd.UNAUTHENTICATED,this.clientId=cC.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(l){return(0,gt.mG)(a,void 0,void 0,function(){return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return xi("FirestoreClient","Received user=",l.uid),[4,this.credentialListener(l)];case 1:return y.sent(),this.user=l,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new li(En.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var e=new Dd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,gt.mG)(i,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:l.sent(),l.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return s=l.sent(),a=hx(s,"Failed to shutdown persistence"),e.reject(a),[3,6];case 6:return[2]}})})}),e.promise},t}();function Rk(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s,a=this;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return t.asyncQueue.verifyOperationInProgress(),xi("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return e=l.sent(),[4,i.initialize(e)];case 2:return l.sent(),s=e.initialUser,t.setCredentialChangeListener(function(y){return(0,gt.mG)(a,void 0,void 0,function(){return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return s.isEqual(y)?[3,2]:[4,rk(i.localStore,y)];case 1:k.sent(),s=y,k.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=i,[2]}})})}function fM(t,i){return(0,gt.mG)(this,void 0,void 0,function(){var e,s;return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,mM(t)];case 1:return e=a.sent(),xi("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return s=a.sent(),[4,i.initialize(e,s)];case 3:return a.sent(),t.setCredentialChangeListener(function(l){return function(y,k){return(0,gt.mG)(this,void 0,void 0,function(){var V,K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:return(V=Ii(y)).asyncQueue.verifyOperationInProgress(),xi("RemoteStore","RemoteStore received new credentials"),K=hy(V),V.Or.add(3),[4,Db(V)];case 1:return pe.sent(),K&&V.Br.set("Unknown"),[4,V.remoteSyncer.handleCredentialChange(k)];case 2:return pe.sent(),V.Or.delete(3),[4,bm(V)];case 3:return pe.sent(),[2]}})})}(i.remoteStore,l)}),t.onlineComponents=i,[2]}})})}function mM(t){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){switch(i.label){case 0:return t.offlineComponents?[3,2]:(xi("FirestoreClient","Using default OfflineComponentProvider"),[4,Rk(t,new Id)]);case 1:i.sent(),i.label=2;case 2:return[2,t.offlineComponents]}})})}function gM(t){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(i){switch(i.label){case 0:return t.onlineComponents?[3,2]:(xi("FirestoreClient","Using default OnlineComponentProvider"),[4,fM(t,new gx)]);case 1:i.sent(),i.label=2;case 2:return[2,t.onlineComponents]}})})}function Fk(t){return mM(t).then(function(i){return i.persistence})}function _M(t){return mM(t).then(function(i){return i.localStore})}function gv(t){return gM(t).then(function(i){return i.remoteStore})}function Nk(t){return gM(t).then(function(i){return i.syncEngine})}function _v(t){return(0,gt.mG)(this,void 0,void 0,function(){var i,e;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:return[4,gM(t)];case 1:return i=s.sent(),[2,((e=i.eventManager).onListen=oI.bind(null,i.syncEngine),e.onUnlisten=aI.bind(null,i.syncEngine),e)]}})})}function zk(t,i,e){var s=this;void 0===e&&(e={});var a=new Dd;return t.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(s,void 0,void 0,function(){var l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return l=function(k,V,K,pe,Se){var Ue=new _x({next:function(rt){V.enqueueAndForget(function(){return tM(k,Je)});var Tt=rt.docs.has(K);!Tt&&rt.fromCache?Se.reject(new li(En.UNAVAILABLE,"Failed to get document because the client is offline.")):Tt&&rt.fromCache&&pe&&"server"===pe.source?Se.reject(new li(En.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Se.resolve(rt)},error:function(rt){return Se.reject(rt)}}),Je=new iM(tv(K.path),Ue,{includeMetadataChanges:!0,so:!0});return eM(k,Je)},[4,_v(t)];case 1:return[2,l.apply(void 0,[y.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}function fI(t,i,e){var s=this;void 0===e&&(e={});var a=new Dd;return t.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(s,void 0,void 0,function(){var l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return l=function(k,V,K,pe,Se){var Ue=new _x({next:function(rt){V.enqueueAndForget(function(){return tM(k,Je)}),rt.fromCache&&"server"===pe.source?Se.reject(new li(En.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Se.resolve(rt)},error:function(rt){return Se.reject(rt)}}),Je=new iM(K,Ue,{includeMetadataChanges:!0,so:!0});return eM(k,Je)},[4,_v(t)];case 1:return[2,l.apply(void 0,[y.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}var Yk=function(t,i,e,s,a,l,y,k){this.databaseId=t,this.appId=i,this.persistenceKey=e,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=y,this.useFetchStreams=k},jw=function(){function t(i,e){this.projectId=i,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return i instanceof t&&i.projectId===this.projectId&&i.database===this.database},t}(),Gw=new Map,yM=function(t,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},vM=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){this.changeListener=e,i.enqueueRetryable(function(){return e(nd.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Bk=function(){function t(i){this.token=i,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){var s=this;this.changeListener=e,i.enqueueRetryable(function(){return e(s.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vk=function(){function t(i){var e=this;this.currentUser=nd.UNAUTHENTICATED,this.oc=new Dd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var s=function(a){xi("FirebaseCredentialsProvider","Auth detected"),e.auth=a,e.auth.addAuthTokenListener(e.uc)};i.onInit(function(a){return s(a)}),setTimeout(function(){if(!e.auth){var a=i.getImmediate({optional:!0});a?s(a):(xi("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var i=this,e=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(a){return i.cc!==e?(xi("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):a?(ns("string"==typeof a.accessToken),new yM(a.accessToken,i.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(i,e){var s=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,gt.mG)(s,void 0,void 0,function(){return(0,gt.Jh)(this,function(a){switch(a.label){case 0:return[4,this.oc.promise];case 1:return a.sent(),[4,e(this.currentUser)];case 2:return a.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return ns(null===i||"string"==typeof i),new nd(i)},t}(),Hk=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s,this.type="FirstParty",this.user=nd.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(i.Authorization=e),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),t}(),Uk=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s}return t.prototype.getToken=function(){return Promise.resolve(new Hk(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(i,e){i.enqueueRetryable(function(){return e(nd.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zw(t,i,e){if(!e)throw new li(En.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+i+".")}function Ww(t,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new li(En.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return i}function jk(t,i,e,s){if(!0===i&&!0===s)throw new li(En.INVALID_ARGUMENT,t+" and "+e+" cannot be used together.")}function bM(t){if(!vr.isDocumentKey(t))throw new li(En.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Pb(t){if(vr.isDocumentKey(t))throw new li(En.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function yx(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var i=function(e){if(e.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(s&&s.length>1)return s[1]}return null}(t);return i?"a custom "+i+" object":"an object"}return"function"==typeof t?"a function":fr()}function Oo(t,i){if("_delegate"in t&&(t=t._delegate),!(t instanceof i)){if(i.name===t.constructor.name)throw new li(En.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=yx(t);throw new li(En.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+e)}return t}function xM(t,i){if(i<=0)throw new li(En.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+i+".")}var wM=function(){function t(i){var e;if(void 0===i.host){if(void 0!==i.ssl)throw new li(En.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(e=i.ssl)||void 0===e||e;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new li(En.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,jk("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},t}(),Ob=function(){function t(i,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wM({}),this._settingsFrozen=!1,i instanceof jw?(this._databaseId=i,this._credentials=new vM):(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new li(En.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jw(s.options.projectId)}(i),this._credentials=new Vk(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new li(En.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(i){if(this._settingsFrozen)throw new li(En.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wM(i),void 0!==i.credentials&&(this._credentials=function(e){if(!e)return new vM;switch(e.type){case"gapi":var s=e.client;return ns(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Uk(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new li(En.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(e=Gw.get(this))&&(xi("ComponentProvider","Removing Datastore"),Gw.delete(this),e.terminate()),Promise.resolve();var e},t}(),Nl=function(){function t(i,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=i}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new l_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(i){return new t(this.firestore,i,this._key)},t}(),Sp=function(){function t(i,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=i}return t.prototype.withConverter=function(i){return new t(this.firestore,i,this._query)},t}(),l_=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,tv(a))||this)._path=a,l.type="collection",l}return(0,gt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Nl(this.firestore,null,new vr(e))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._path)},i}(Sp);function CM(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ss.m9)(t),Zw("collection","path",i),t instanceof Ob)return Pb(e=Po.fromString.apply(Po,(0,gt.ev)([i],s))),new l_(t,null,e);if(!(t instanceof Nl||t instanceof l_))throw new li(En.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pb(e=Po.fromString.apply(Po,(0,gt.ev)([t.path],s)).child(Po.fromString(i))),new l_(t.firestore,null,e)}function qw(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ss.m9)(t),1===arguments.length&&(i=cC.u()),Zw("doc","path",i),t instanceof Ob)return bM(e=Po.fromString.apply(Po,(0,gt.ev)([i],s))),new Nl(t,null,new vr(e));if(!(t instanceof Nl||t instanceof l_))throw new li(En.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bM(e=t._path.child(Po.fromString.apply(Po,(0,gt.ev)([i],s)))),new Nl(t.firestore,t instanceof l_?t.converter:null,new vr(e))}function Gk(t,i){return t=(0,Ss.m9)(t),i=(0,Ss.m9)(i),(t instanceof Nl||t instanceof l_)&&(i instanceof Nl||i instanceof l_)&&t.firestore===i.firestore&&t.path===i.path&&t.converter===i.converter}function Zk(t,i){return t=(0,Ss.m9)(t),i=(0,Ss.m9)(i),t instanceof Sp&&i instanceof Sp&&t.firestore===i.firestore&&Z0(t._query,i._query)&&t.converter===i.converter}var vx=function(){function t(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zw(this,"async_queue_retry"),this.Ic=function(){var s=ol();s&&xi("AsyncQueue","Visibility state changed to "+s.visibilityState),i.Zi.Gi()};var e=ol();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(i){this.enqueue(i)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},t.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var e=ol();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(i){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new Dd;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(i().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},t.prototype.enqueueRetryable=function(i){var e=this;this.enqueueAndForget(function(){return e.wc.push(i),e.bc()})},t.prototype.bc=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,gt.Jh)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!oy(i=s.sent()))throw i;return xi("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),s.label=5;case 5:return[2]}})})},t.prototype.Rc=function(i){var e=this,s=this.dc.then(function(){return e.gc=!0,i().catch(function(a){throw e.yc=a,e.gc=!1,yc("INTERNAL UNHANDLED ERROR: ",(y=(l=a).message||"",l.stack&&(y=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),y)),a;var l,y}).then(function(a){return e.gc=!1,a})});return this.dc=s,s},t.prototype.enqueueAfterDelay=function(i,e,s){var a=this;this.Ac(),this.Tc.indexOf(i)>-1&&(e=0);var l=oP.createAndSchedule(this,i,e,s,function(y){return a.vc(y)});return this.mc.push(l),l},t.prototype.Ac=function(){this.yc&&fr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,gt.mG)(this,void 0,void 0,function(){var i;return(0,gt.Jh)(this,function(e){switch(e.label){case 0:return[4,i=this.dc];case 1:e.sent(),e.label=2;case 2:if(i!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(i){for(var e=0,s=this.mc;e<s.length;e++)if(s[e].timerId===i)return!0;return!1},t.prototype.Sc=function(i){var e=this;return this.Pc().then(function(){e.mc.sort(function(y,k){return y.targetTimeMs-k.targetTimeMs});for(var s=0,a=e.mc;s<a.length;s++){var l=a[s];if(l.skipDelay(),"all"!==i&&l.timerId===i)break}return e.Pc()})},t.prototype.Dc=function(i){this.Tc.push(i)},t.prototype.vc=function(i){var e=this.mc.indexOf(i);this.mc.splice(e,1)},t}();function hg(t){return function(i,e){if("object"!=typeof i||null===i)return!1;for(var s=i,a=0,l=["next","error","complete"];a<l.length;a++){var y=l[a];if(y in s&&"function"==typeof s[y])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Dd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(i,e,s){this._progressObserver={next:i,error:e,complete:s}},t.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},t.prototype.then=function(i,e){return this._taskCompletionResolver.promise.then(i,e)},t.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},t.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},t.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var ha=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).type="firestore",a._queue=new vx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,gt.ZT)(i,t),i.prototype._terminate=function(){return this._firestoreClient||Rb(this),this._firestoreClient.terminate()},i}(Ob);function id(t){return t._firestoreClient||Rb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rb(t){var i,l,k,e=t._freezeSettings(),s=(l=(null===(i=t._app)||void 0===i?void 0:i.options.appId)||"",new Yk(t._databaseId,l,t._persistenceKey,(k=e).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));t._firestoreClient=new pI(t._credentials,t._queue,s)}function Wk(t,i,e){var s=this,a=new Dd;return t.asyncQueue.enqueue(function(){return(0,gt.mG)(s,void 0,void 0,function(){var l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),[4,Rk(t,e)];case 1:return y.sent(),[4,fM(t,i)];case 2:return y.sent(),a.resolve(),[3,4];case 3:if(!("FirebaseError"===(k=l=y.sent()).name?k.code===En.FAILED_PRECONDITION||k.code===En.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&k instanceof DOMException)||22===k.code||20===k.code||11===k.code))throw l;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l),[3,4];case 4:return[2]}var k})})}).then(function(){return a.promise})}function qk(t){if(t._initialized||t._terminated)throw new li(En.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var c_=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var s=0;s<i.length;++s)if(0===i[s].length)throw new li(En.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hf(i)}return t.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},t}(),u_=function(){function t(i){this._byteString=i}return t.fromBase64String=function(i){try{return new t(Cp.fromBase64String(i))}catch(e){throw new li(En.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(i){return new t(Cp.fromUint8Array(i))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},t}(),d_=function(t){this._methodName=t},bx=function(){function t(i,e){if(!isFinite(i)||i<-90||i>90)throw new li(En.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(e)||e<-180||e>180)throw new li(En.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=i,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(i){return lo(this._lat,i._lat)||lo(this._long,i._long)},t}(),TM=/^__.*__$/,SM=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return null!==this.fieldMask?new Kg(i,this.data,this.fieldMask,e,this.fieldTransforms):new mb(i,this.data,e,this.fieldTransforms)},t}(),$k=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return new Kg(i,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Xk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fr()}}var Qk=function(){function t(i,e,s,a,l,y){this.settings=i,this.databaseId=e,this.R=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Cc(),this.fieldTransforms=l||[],this.fieldMask=y||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(i){return new t(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.$c(i),a},t.prototype.Oc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.Cc(),a},t.prototype.Mc=function(i){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(i){return yy(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(e){return i.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return i.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},t.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(Xk(this.Nc)&&TM.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),gI=function(){function t(i,e,s){this.databaseId=i,this.ignoreUndefinedProperties=e,this.R=s||Gh(i)}return t.prototype.Uc=function(i,e,s,a){return void 0===a&&(a=!1),new Qk({Nc:i,methodName:e,qc:s,path:Hf.emptyPath(),kc:!1,Bc:a},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function my(t){var i=t._freezeSettings(),e=Gh(t._databaseId);return new gI(t._databaseId,!!i.ignoreUndefinedProperties,e)}function Fb(t,i,e,s,a,l){void 0===l&&(l={});var y=t.Uc(l.merge||l.mergeFields?2:0,i,e,a);_y("Data must be an object, but it was:",y,s);var k,V,K=yI(s,y);if(l.merge)k=new Ky(y.fieldMask),V=y.fieldTransforms;else if(l.mergeFields){for(var pe=[],Se=0,Ue=l.mergeFields;Se<Ue.length;Se++){var Je=AM(i,Ue[Se],e);if(!y.contains(Je))throw new li(En.INVALID_ARGUMENT,"Field '"+Je+"' is specified in your field mask but missing from your input data.");nE(pe,Je)||pe.push(Je)}k=new Ky(pe),V=y.fieldTransforms.filter(function(rt){return k.covers(rt.field)})}else k=null,V=y.fieldTransforms;return new SM(new Ql(K),k,V)}var $w=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},i.prototype.isEqual=function(e){return e instanceof i},i}(d_);function kM(t,i,e){return new Qk({Nc:3,qc:i.settings.qc,methodName:t._methodName,kc:e},i.databaseId,i.R,i.ignoreUndefinedProperties)}var Jk=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype._toFieldTransform=function(e){return new fb(e.path,new nv)},i.prototype.isEqual=function(e){return e instanceof i},i}(d_),Kk=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,gt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=kM(this,e,!0),a=this.Kc.map(function(y){return gy(y,s)}),l=new K_(a);return new fb(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(d_),_I=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,gt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=kM(this,e,!0),a=this.Kc.map(function(y){return gy(y,s)}),l=new ey(a);return new fb(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(d_),eE=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Qc=s,a}return(0,gt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=new iv(e.R,dS(e.R,this.Qc));return new fb(e.path,s)},i.prototype.isEqual=function(e){return this===e},i}(d_);function Xw(t,i,e,s){var a=t.Uc(1,i,e);_y("Data must be an object, but it was:",a,s);var l=[],y=Ql.empty();$_(s,function(V,K){var pe=tE(i,V,e);K=(0,Ss.m9)(K);var Se=a.Oc(pe);if(K instanceof $w)l.push(pe);else{var Ue=gy(K,Se);null!=Ue&&(l.push(pe),y.set(pe,Ue))}});var k=new Ky(l);return new $k(y,k,a.fieldTransforms)}function EM(t,i,e,s,a,l){var y=t.Uc(1,i,e),k=[AM(i,s,e)],V=[a];if(l.length%2!=0)throw new li(En.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var K=0;K<l.length;K+=2)k.push(AM(i,l[K])),V.push(l[K+1]);for(var pe=[],Se=Ql.empty(),Ue=k.length-1;Ue>=0;--Ue)if(!nE(pe,k[Ue])){var Je=k[Ue],rt=V[Ue];rt=(0,Ss.m9)(rt);var Tt=y.Oc(Je);if(rt instanceof $w)pe.push(Je);else{var Qt=gy(rt,Tt);null!=Qt&&(pe.push(Je),Se.set(Je,Qt))}}var Cn=new Ky(pe);return new $k(Se,Cn,y.fieldTransforms)}function DM(t,i,e,s){return void 0===s&&(s=!1),gy(e,t.Uc(s?4:3,i))}function gy(t,i){if(fh(t=(0,Ss.m9)(t)))return _y("Unsupported field value:",i,t),yI(t,i);if(t instanceof d_)return function(e,s){if(!Xk(s.Nc))throw s.Lc(e._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(e._methodName+"() is not currently supported inside arrays");var a=e._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,i),null;if(void 0===t&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),t instanceof Array){if(i.settings.kc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(e,s){for(var a=[],l=0,y=0,k=e;y<k.length;y++){var V=gy(k[y],s.Mc(l));null==V&&(V={nullValue:"NULL_VALUE"}),a.push(V),l++}return{arrayValue:{values:a}}}(t,i)}return function(e,s){if(null===(e=(0,Ss.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dS(s.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var a=ph.fromDate(e);return{timestampValue:yb(s.R,a)}}if(e instanceof ph)return a=new ph(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:yb(s.R,a)};if(e instanceof bx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof u_)return{bytesValue:wS(s.R,e._byteString)};if(e instanceof Nl){var l=e.firestore._databaseId;if(!l.isEqual(a=s.databaseId))throw s.Lc("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+a.projectId+"/"+a.database);return{referenceValue:AC(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Lc("Unsupported field value: "+yx(e))}(t,i)}function yI(t,i){var e={};return hC(t)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):$_(t,function(s,a){var l=gy(a,i.Fc(s));null!=l&&(e[s]=l)}),{mapValue:{fields:e}}}function fh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ph||t instanceof bx||t instanceof u_||t instanceof Nl||t instanceof d_)}function _y(t,i,e){if(!fh(e)||"object"!=typeof(a=e)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){var s=yx(e);throw i.Lc("an object"===s?t+" a custom object":t+" "+s)}var a}function AM(t,i,e){if((i=(0,Ss.m9)(i))instanceof c_)return i._internalPath;if("string"==typeof i)return tE(t,i);throw yy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,e)}var vI=new RegExp("[~\\*/\\[\\]]");function tE(t,i,e){if(i.search(vI)>=0)throw yy("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,e);try{return(new(c_.bind.apply(c_,(0,gt.ev)([void 0],i.split(".")))))._internalPath}catch(s){throw yy("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,e)}}function yy(t,i,e,s,a){var l=s&&!s.isEmpty(),y=void 0!==a,k="Function "+i+"() called with invalid data";e&&(k+=" (via `toFirestore()`)");var V="";return(l||y)&&(V+=" (found",l&&(V+=" in field "+s),y&&(V+=" in document "+a),V+=")"),new li(En.INVALID_ARGUMENT,(k+=". ")+t+V)}function nE(t,i){return t.some(function(e){return e.isEqual(i)})}var yv=function(){function t(i,e,s,a,l){this._firestore=i,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nl(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var i=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(i){if(this._document){var e=this._document.data.field(xx("DocumentSnapshot.get",i));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),bI=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype.data=function(){return t.prototype.data.call(this)},i}(yv);function xx(t,i){return"string"==typeof i?tE(t,i):i instanceof c_?i._internalPath:i._delegate._internalPath}var vv=function(){function t(i,e){this.hasPendingWrites=i,this.fromCache=e}return t.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},t}(),h_=function(t){function i(e,s,a,l,y,k){var V=this;return(V=t.call(this,e,s,a,l,k)||this)._firestore=e,V._firestoreImpl=e,V.metadata=y,V}return(0,gt.ZT)(i,t),i.prototype.exists=function(){return t.prototype.exists.call(this)},i.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var s=new bv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},i.prototype.get=function(e,s){if(void 0===s&&(s={}),this._document){var a=this._document.data.field(xx("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}},i}(yv),bv=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},i}(h_),p_=function(){function t(i,e,s,a){this._firestore=i,this._userDataWriter=e,this._snapshot=a,this.metadata=new vv(a.hasPendingWrites,a.fromCache),this.query=s}return Object.defineProperty(t.prototype,"docs",{get:function(){var i=[];return this.forEach(function(e){return i.push(e)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i,e){var s=this;this._snapshot.docs.forEach(function(a){i.call(e,new bv(s._firestore,s._userDataWriter,a.key,a,new vv(s._snapshot.mutatedKeys.has(a.key),s._snapshot.fromCache),s.query.converter))})},t.prototype.docChanges=function(i){void 0===i&&(i={});var e=!!i.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new li(En.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){var l=0;return s._snapshot.docChanges.map(function(k){return{type:"added",doc:new bv(s._firestore,s._userDataWriter,k.doc.key,k.doc,new vv(s._snapshot.mutatedKeys.has(k.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}})}var y=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(k){return a||3!==k.type}).map(function(k){var V=new bv(s._firestore,s._userDataWriter,k.doc.key,k.doc,new vv(s._snapshot.mutatedKeys.has(k.doc.key),s._snapshot.fromCache),s.query.converter),K=-1,pe=-1;return 0!==k.type&&(K=y.indexOf(k.doc.key),y=y.delete(k.doc.key)),1!==k.type&&(pe=(y=y.add(k.doc)).indexOf(k.doc.key)),{type:iE(k.type),doc:V,oldIndex:K,newIndex:pe}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function iE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fr()}}function wx(t,i){return t instanceof h_&&i instanceof h_?t._firestore===i._firestore&&t._key.isEqual(i._key)&&(null===t._document?null===i._document:t._document.isEqual(i._document))&&t._converter===i._converter:t instanceof p_&&i instanceof p_&&t._firestore===i._firestore&&Zk(t.query,i.query)&&t.metadata.isEqual(i.metadata)&&t._snapshot.isEqual(i._snapshot)}function Qw(t){if(G0(t)&&0===t.explicitOrderBy.length)throw new li(En.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jw=function(){};function f_(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var s=0,a=i;s<a.length;s++){var l=a[s];t=l._apply(t)}return t}var xI=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).jc=e,l.Wc=s,l.Gc=a,l.type="where",l}return(0,gt.ZT)(i,t),i.prototype._apply=function(e){var l,k,s=my(e.firestore),a=function(l,y,k,V,K,pe,Se){var Ue;if(K.isKeyField()){if("array-contains"===pe||"array-contains-any"===pe)throw new li(En.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+pe+"' queries on FieldPath.documentId().");if("in"===pe||"not-in"===pe){oE(Se,pe);for(var Je=[],rt=0,Tt=Se;rt<Tt.length;rt++)Je.push(e1(V,l,Tt[rt]));Ue={arrayValue:{values:Je}}}else Ue=e1(V,l,Se)}else"in"!==pe&&"not-in"!==pe&&"array-contains-any"!==pe||oE(Se,pe),Ue=DM(k,"where",Se,"in"===pe||"not-in"===pe);var Cn=Hh.create(K,pe,Ue);return function(Jn,Zn){if(Zn.g()){var Di=ww(Jn);if(null!==Di&&!Di.isEqual(Zn.field))throw new li(En.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Di.toString()+"' and '"+Zn.field.toString()+"'");var Bi=xw(Jn);null!==Bi&&aE(0,Zn.field,Bi)}var ls=function(co,zc){for(var wl=0,mh=co.filters;wl<mh.length;wl++){var BT=mh[wl];if(zc.indexOf(BT.op)>=0)return BT.op}return null}(Jn,function(co){switch(co){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Zn.op));if(null!==ls)throw new li(En.INVALID_ARGUMENT,ls===Zn.op?"Invalid query. You cannot use more than one '"+Zn.op.toString()+"' filter.":"Invalid query. You cannot use '"+Zn.op.toString()+"' filters with '"+ls.toString()+"' filters.")}(l,Cn),Cn}(e._query,0,s,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Sp(e.firestore,e.converter,(k=(l=e._query).filters.concat([a]),new rg(l.path,l.collectionGroup,l.explicitOrderBy.slice(),k,l.limit,l.limitType,l.startAt,l.endAt)))},i}(Jw),rE=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).jc=e,a.zc=s,a.type="orderBy",a}return(0,gt.ZT)(i,t),i.prototype._apply=function(e){var a,y,s=function(a,l,y){if(null!==a.startAt)throw new li(En.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new li(En.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var k=new J_(l,y);return function(V,K){if(null===xw(V)){var pe=ww(V);null!==pe&&aE(0,pe,K.field)}}(a,k),k}(e._query,this.jc,this.zc);return new Sp(e.firestore,e.converter,(y=(a=e._query).explicitOrderBy.concat([s]),new rg(a.path,a.collectionGroup,y,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)))},i}(Jw),Cx=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Hc=s,l.Jc=a,l}return(0,gt.ZT)(i,t),i.prototype._apply=function(e){return new Sp(e.firestore,e.converter,oS(e._query,this.Hc,this.Jc))},i}(Jw),IM=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,gt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=Kw(e,this.type,this.Yc,this.Xc);return new Sp(e.firestore,e.converter,(l=s,new rg((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)))},i}(Jw),sE=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,gt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=Kw(e,this.type,this.Yc,this.Xc);return new Sp(e.firestore,e.converter,(l=s,new rg((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)))},i}(Jw);function Kw(t,i,e,s){if(e[0]=(0,Ss.m9)(e[0]),e[0]instanceof yv)return function(l,y,k,V,K){if(!V)throw new li(En.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+k+"().");for(var pe=[],Se=0,Ue=pb(l);Se<Ue.length;Se++){var Je=Ue[Se];if(Je.field.isKeyField())pe.push(_C(y,V.key));else{var rt=V.data.field(Je.field);if(Nc(rt))throw new li(En.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Je.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===rt){var Tt=Je.field.canonicalString();throw new li(En.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Tt+"' (used as the orderBy) does not exist.")}pe.push(rt)}}return new hb(pe,K)}(t._query,t.firestore._databaseId,i,e[0]._document,s);var a=my(t.firestore);return function(l,y,k,V,K,pe){var Se=l.explicitOrderBy;if(K.length>Se.length)throw new li(En.INVALID_ARGUMENT,"Too many arguments provided to "+V+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Ue=[],Je=0;Je<K.length;Je++){var rt=K[Je];if(Se[Je].field.isKeyField()){if("string"!=typeof rt)throw new li(En.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+V+"(), but got a "+typeof rt);if(!vC(l)&&-1!==rt.indexOf("/"))throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+V+"() must be a plain document ID, but '"+rt+"' contains a slash.");var Tt=l.path.child(Po.fromString(rt));if(!vr.isDocumentKey(Tt))throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+V+"() must result in a valid document path, but '"+Tt+"' is not because it contains an odd number of segments.");var Qt=new vr(Tt);Ue.push(_C(y,Qt))}else{var Cn=DM(k,V,rt);Ue.push(Cn)}}return new hb(Ue,pe)}(t._query,t.firestore._databaseId,a,i,e,s)}function e1(t,i,e){if("string"==typeof(e=(0,Ss.m9)(e))){if(""===e)throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vC(i)&&-1!==e.indexOf("/"))throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var s=i.path.child(Po.fromString(e));if(!vr.isDocumentKey(s))throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return _C(t,new vr(s))}if(e instanceof Nl)return _C(t,e._key);throw new li(En.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yx(e)+".")}function oE(t,i){if(!Array.isArray(t)||0===t.length)throw new li(En.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(t.length>10)throw new li(En.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function aE(t,i,e){if(!e.isEqual(i))throw new li(En.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var t1=function(){function t(){}return t.prototype.convertValue=function(i,e){switch(void 0===e&&(e="none"),Q_(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Fc(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,e);case 5:return i.stringValue;case 6:return this.convertBytes(ub(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,e);case 10:return this.convertObject(i.mapValue,e);default:throw fr()}},t.prototype.convertObject=function(i,e){var s=this,a={};return $_(i.fields,function(l,y){a[l]=s.convertValue(y,e)}),a},t.prototype.convertGeoPoint=function(i){return new bx(Fc(i.latitude),Fc(i.longitude))},t.prototype.convertArray=function(i,e){var s=this;return(i.values||[]).map(function(a){return s.convertValue(a,e)})},t.prototype.convertServerTimestamp=function(i,e){switch(e){case"previous":var s=fC(i);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(R0(i));default:return null}},t.prototype.convertTimestamp=function(i){var e=X_(i);return new ph(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(i,e){var s=Po.fromString(i);ns(OC(s));var a=new jw(s.get(1),s.get(3)),l=new vr(s.popFirst(5));return a.isEqual(e)||yc("Document "+l+" contains a document reference within a different database ("+a.projectId+"/"+a.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),l},t}();function Mx(t,i,e){return t?e&&(e.merge||e.mergeFields)?t.toFirestore(i,e):t.toFirestore(i):i}var lE=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,gt.ZT)(i,t),i.prototype.convertBytes=function(e){return new u_(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Nl(this.firestore,null,s)},i}(t1),wI=function(){function t(i,e){this._firestore=i,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=my(i)}return t.prototype.set=function(i,e,s){this._verifyNotCommitted();var a=m_(i,this._firestore),l=Mx(a.converter,e,s),y=Fb(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(y.toMutation(a._key,Ju.none())),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];this._verifyNotCommitted();var y,k=m_(i,this._firestore);return y="string"==typeof(e=(0,Ss.m9)(e))||e instanceof c_?EM(this._dataReader,"WriteBatch.update",k._key,e,s,a):Xw(this._dataReader,"WriteBatch.update",k._key,e),this._mutations.push(y.toMutation(k._key,Ju.exists(!0))),this},t.prototype.delete=function(i){this._verifyNotCommitted();var e=m_(i,this._firestore);return this._mutations=this._mutations.concat(new ny(e._key,Ju.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new li(En.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function m_(t,i){if((t=(0,Ss.m9)(t)).firestore!==i)throw new li(En.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var vy=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,gt.ZT)(i,t),i.prototype.convertBytes=function(e){return new u_(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Nl(this.firestore,null,s)},i}(t1);function cE(t,i,e){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];t=Oo(t,Nl);var l=Oo(t.firestore,ha),y=my(l);return Nb(l,[("string"==typeof(i=(0,Ss.m9)(i))||i instanceof c_?EM(y,"updateDoc",t._key,i,e,s):Xw(y,"updateDoc",t._key,i)).toMutation(t._key,Ju.exists(!0))])}function uE(t){for(var i,e,s,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];t=(0,Ss.m9)(t);var y={includeMetadataChanges:!1},k=0;"object"!=typeof a[k]||hg(a[k])||(y=a[k],k++);var V,K,pe,Se={includeMetadataChanges:y.includeMetadataChanges};if(hg(a[k])){var Ue=a[k];a[k]=null===(i=Ue.next)||void 0===i?void 0:i.bind(Ue),a[k+1]=null===(e=Ue.error)||void 0===e?void 0:e.bind(Ue),a[k+2]=null===(s=Ue.complete)||void 0===s?void 0:s.bind(Ue)}if(t instanceof Nl)K=Oo(t.firestore,ha),pe=tv(t._key.path),V={next:function(Tt){a[k]&&a[k](LM(K,t,Tt))},error:a[k+1],complete:a[k+2]};else{var Je=Oo(t,Sp);K=Oo(Je.firestore,ha),pe=Je._query;var rt=new vy(K);V={next:function(Tt){a[k]&&a[k](new p_(K,rt,Je,Tt))},error:a[k+1],complete:a[k+2]},Qw(t._query)}return function(Tt,Qt,Cn,Jn){var Zn=this,Di=new _x(Jn),Bi=new iM(Qt,Di,Cn);return Tt.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(Zn,void 0,void 0,function(){var ls;return(0,gt.Jh)(this,function(co){switch(co.label){case 0:return ls=eM,[4,_v(Tt)];case 1:return[2,ls.apply(void 0,[co.sent(),Bi])]}})})}),function(){Di.Wo(),Tt.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(Zn,void 0,void 0,function(){var ls;return(0,gt.Jh)(this,function(co){switch(co.label){case 0:return ls=tM,[4,_v(Tt)];case 1:return[2,ls.apply(void 0,[co.sent(),Bi])]}})})})}}(id(K),pe,Se,V)}function Nb(t,i){return function(e,s){var a=this,l=new Dd;return e.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(a,void 0,void 0,function(){var y;return(0,gt.Jh)(this,function(k){switch(k.label){case 0:return y=px,[4,Nk(e)];case 1:return[2,y.apply(void 0,[k.sent(),s,l])]}})})}),l.promise}(id(t),i)}function LM(t,i,e){var s=e.docs.get(i._key),a=new vy(t);return new h_(t,a,i._key,s,new vv(e.hasPendingWrites,e.fromCache),i.converter)}var dE=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this)._firestore=e,a}return(0,gt.ZT)(i,t),i.prototype.get=function(e){var s=this,a=m_(e,this._firestore),l=new vy(this._firestore);return t.prototype.get.call(this,e).then(function(y){return new h_(s._firestore,l,a._key,y._document,new vv(!1,!1),a.converter)})},i}(function(){function t(i,e){this._firestore=i,this._transaction=e,this._dataReader=my(i)}return t.prototype.get=function(i){var e=this,s=m_(i,this._firestore),a=new lE(this._firestore);return this._transaction.lookup([s._key]).then(function(l){if(!l||1!==l.length)return fr();var y=l[0];if(y.isFoundDocument())return new yv(e._firestore,a,y.key,y,s.converter);if(y.isNoDocument())return new yv(e._firestore,a,s._key,null,s.converter);throw fr()})},t.prototype.set=function(i,e,s){var a=m_(i,this._firestore),l=Mx(a.converter,e,s),y=Fb(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,y),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var y,k=m_(i,this._firestore);return y="string"==typeof(e=(0,Ss.m9)(e))||e instanceof c_?EM(this._dataReader,"Transaction.update",k._key,e,s,a):Xw(this._dataReader,"Transaction.update",k._key,e),this._transaction.update(k._key,y),this},t.prototype.delete=function(i){var e=m_(i,this._firestore);return this._transaction.delete(e._key),this},t}());function PM(){if("undefined"==typeof Uint8Array)throw new li(En.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function OM(){if("undefined"==typeof atob)throw new li(En.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var RM=function(){function t(i){this._delegate=i}return t.fromBase64String=function(i){return OM(),new t(u_.fromBase64String(i))},t.fromUint8Array=function(i){return PM(),new t(u_.fromUint8Array(i))},t.prototype.toBase64=function(){return OM(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return PM(),this._delegate.toUint8Array()},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),CI=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(i,e){return function(s,a){qk(s=Oo(s,ha));var l=id(s),y=s._freezeSettings(),k=new gx;return Wk(l,k,new pM(k,y.cacheSizeBytes,null==a?void 0:a.forceOwnership))}(i._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(e){qk(e=Oo(e,ha));var s=id(e),a=e._freezeSettings(),l=new gx;return Wk(s,l,new xm(l,a.cacheSizeBytes))}(i._delegate)},t.prototype.clearIndexedDbPersistence=function(i){return function(e){var s=this;if(e._initialized&&!e._terminated)throw new li(En.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var a=new Dd;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,gt.mG)(s,void 0,void 0,function(){var l;return(0,gt.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,function(k){return(0,gt.mG)(this,void 0,void 0,function(){return(0,gt.Jh)(this,function(K){switch(K.label){case 0:return wb.yt()?[4,wb.delete(k+"main")]:[2,Promise.resolve()];case 1:return K.sent(),[2]}})})}(WC(e._databaseId,e._persistenceKey))];case 1:return y.sent(),a.resolve(),[3,3];case 2:return l=y.sent(),a.reject(l),[3,3];case 3:return[2]}})})}),a.promise}(i._delegate)},t}(),hE=function(){function t(i,e,s){var a=this;this._delegate=e,this.Zc=s,this.INTERNAL={delete:function(){return a.terminate()}},i instanceof jw||(this.tu=i)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(i){var e=this._delegate._getSettings();i.merge||e.host===i.host||Qy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},e),i)).merge,this._delegate._setSettings(i)},t.prototype.useEmulator=function(i,e,s){void 0===s&&(s={}),function(a,l,y,k){void 0===k&&(k={});var V=(a=Oo(a,Ob))._getSettings();if("firestore.googleapis.com"!==V.host&&V.host!==l&&Qy("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},V),{host:l+":"+y,ssl:!1})),k.mockUserToken){var K=(0,Ss.Sg)(k.mockUserToken),pe=k.mockUserToken.sub||k.mockUserToken.user_id;if(!pe)throw new li(En.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a._credentials=new Bk(new yM(K,new nd(pe)))}}(this._delegate,i,e,s)},t.prototype.enableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,gt.mG)(e,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,Fk(i)];case 1:return s=l.sent(),[4,gv(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!0),y=a,k=Ii(y),k.Or.delete(0),bm(k))]}var y,k})})})}(id(Oo(this._delegate,ha)))},t.prototype.disableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,gt.mG)(e,void 0,void 0,function(){var s,a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return[4,Fk(i)];case 1:return s=l.sent(),[4,gv(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!1),function(y){return(0,gt.mG)(this,void 0,void 0,function(){var k;return(0,gt.Jh)(this,function(V){switch(V.label){case 0:return(k=Ii(y)).Or.add(0),[4,Db(k)];case 1:return V.sent(),k.Br.set("Offline"),[2]}})})}(a))]}})})})}(id(Oo(this._delegate,ha)))},t.prototype.enablePersistence=function(i){var e=!1,s=!1;return i&&jk("synchronizeTabs",e=!!i.synchronizeTabs,"experimentalForceOwningTab",s=!!i.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(i){var e=this,s=new Dd;return i.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(e,void 0,void 0,function(){var a;return(0,gt.Jh)(this,function(l){switch(l.label){case 0:return a=Sk,[4,Nk(i)];case 1:return[2,a.apply(void 0,[l.sent(),s])]}})})}),s.promise}(id(Oo(this._delegate,ha)))},t.prototype.onSnapshotsInSync=function(i){return s=i,function(a,l){var y=this,k=new _x(l);return a.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(y,void 0,void 0,function(){var V;return(0,gt.Jh)(this,function(K){switch(K.label){case 0:return V=function(pe,Se){Ii(pe).Gr.add(Se),Se.next()},[4,_v(a)];case 1:return[2,V.apply(void 0,[K.sent(),k])]}})})}),function(){k.Wo(),a.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(y,void 0,void 0,function(){var V;return(0,gt.Jh)(this,function(K){switch(K.label){case 0:return V=function(pe,Se){Ii(pe).Gr.delete(Se)},[4,_v(a)];case 1:return[2,V.apply(void 0,[K.sent(),k])]}})})})}}(id(Oo(this._delegate,ha)),hg(s)?s:{next:s});var s},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new li(En.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new NM(this,CM(this._delegate,i))}catch(e){throw kp(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(i){try{return new zb(this,qw(this._delegate,i))}catch(e){throw kp(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(i){try{return new o1(this,function(e,s){if(e=Oo(e,Ob),Zw("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new li(En.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sp(e,null,(a=s,new rg(Po.emptyPath(),a)));var a}(this._delegate,i))}catch(e){throw kp(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(i){var s,e=this;return function(l,y){var k=this,V=new Dd;return l.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(k,void 0,void 0,function(){var K;return(0,gt.Jh)(this,function(pe){switch(pe.label){case 0:return[4,(Se=l,gM(Se).then(function(Ue){return Ue.datastore}))];case 1:return K=pe.sent(),new hI(l.asyncQueue,K,y,V).run(),[2]}var Se})})}),V.promise}(id(s=this._delegate),function(l){return function(s){return i(new MI(e,s))}(new dE(s,l))})},t.prototype.batch=function(){var i=this;return id(this._delegate),new TI(new wI(this._delegate,function(e){return Nb(i._delegate,e)}))},t.prototype.loadBundle=function(i){throw new li(En.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(i){throw new li(En.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),n1=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,gt.ZT)(i,t),i.prototype.convertBytes=function(e){return new RM(new u_(e))},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return zb.eu(s,this.firestore,null)},i}(t1),MI=function(){function t(i,e){this._firestore=i,this._delegate=e,this._userDataWriter=new n1(i)}return t.prototype.get=function(i){var e=this,s=Yb(i);return this._delegate.get(s).then(function(a){return new r1(e._firestore,new h_(e._firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,s.converter))})},t.prototype.set=function(i,e,s){var a=Yb(i);return s?(Ww("Transaction.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],y=3;y<arguments.length;y++)l[y-3]=arguments[y];var k=Yb(i);return 2===arguments.length?this._delegate.update(k,e):(a=this._delegate).update.apply(a,(0,gt.ev)([k,e,s],l)),this},t.prototype.delete=function(i){var e=Yb(i);return this._delegate.delete(e),this},t}(),TI=function(){function t(i){this._delegate=i}return t.prototype.set=function(i,e,s){var a=Yb(i);return s?(Ww("WriteBatch.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],y=3;y<arguments.length;y++)l[y-3]=arguments[y];var k=Yb(i);return 2===arguments.length?this._delegate.update(k,e):(a=this._delegate).update.apply(a,(0,gt.ev)([k,e,s],l)),this},t.prototype.delete=function(i){var e=Yb(i);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),FM=function(){function t(i,e,s){this._firestore=i,this._userDataWriter=e,this._delegate=s}return t.prototype.fromFirestore=function(i,e){var s=new bv(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new s1(this._firestore,s),null!=e?e:{})},t.prototype.toFirestore=function(i,e){return e?this._delegate.toFirestore(i,e):this._delegate.toFirestore(i)},t.nu=function(i,e){var s=t.su,a=s.get(i);a||(a=new WeakMap,s.set(i,a));var l=a.get(e);return l||(l=new t(i,new n1(i),e),a.set(e,l)),l},t}();FM.su=new WeakMap;var zb=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new n1(i)}return t.iu=function(i,e,s){if(i.length%2!=0)throw new li(En.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new t(e,new Nl(e._delegate,s,new vr(i)))},t.eu=function(i,e,s){return new t(e,new Nl(e._delegate,s,i))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new NM(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new NM(this.firestore,CM(this._delegate,i))}catch(e){throw kp(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(i){return(i=(0,Ss.m9)(i))instanceof Nl&&Gk(this._delegate,i)},t.prototype.set=function(i,e){e=Ww("DocumentReference.set",e);try{return function(s,a,l){s=Oo(s,Nl);var y=Oo(s.firestore,ha),k=Mx(s.converter,a,l);return Nb(y,[Fb(my(y),"setDoc",s._key,k,null!==s.converter,l).toMutation(s._key,Ju.none())])}(this._delegate,i,e)}catch(s){throw kp(s,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(i,e){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];try{return 1===arguments.length?cE(this._delegate,i):cE.apply(void 0,(0,gt.ev)([this._delegate,i,e],s))}catch(l){throw kp(l,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Nb(Oo((i=this._delegate).firestore,ha),[new ny(i._key,Ju.none())]);var i},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=SI(e),l=kI(e,function(y){return new r1(i.firestore,new h_(i.firestore._delegate,i._userDataWriter,y._key,y._document,y.metadata,i._delegate.converter))});return uE(this._delegate,a,l)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=Oo(s,Nl);var a=Oo(s.firestore,ha),l=id(a),y=new vy(a);return function(k,V){var K=this,pe=new Dd;return k.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(K,void 0,void 0,function(){var Se;return(0,gt.Jh)(this,function(Ue){switch(Ue.label){case 0:return Se=function(Je,rt,Tt){return(0,gt.mG)(this,void 0,void 0,function(){var Qt,Cn;return(0,gt.Jh)(this,function(Jn){switch(Jn.label){case 0:return Jn.trys.push([0,2,,3]),[4,(Zn=Je,Di=rt,Bi=Ii(Zn),Bi.persistence.runTransaction("read document","readonly",function(ls){return Bi.Mn.mn(ls,Di)}))];case 1:return(Cn=Jn.sent()).isFoundDocument()?Tt.resolve(Cn):Cn.isNoDocument()?Tt.resolve(null):Tt.reject(new li(En.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Qt=Jn.sent(),Cn=hx(Qt,"Failed to get document '"+rt+" from cache"),Tt.reject(Cn),[3,3];case 3:return[2]}var Zn,Di,Bi})})},[4,_M(k)];case 1:return[2,Se.apply(void 0,[Ue.sent(),V,pe])]}})})}),pe.promise}(l,s._key).then(function(k){return new h_(a,y,s._key,k,new vv(null!==k&&k.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=Oo(s,Nl);var a=Oo(s.firestore,ha);return zk(id(a),s._key,{source:"server"}).then(function(l){return LM(a,s,l)})}(this._delegate):function(s){s=Oo(s,Nl);var a=Oo(s.firestore,ha);return zk(id(a),s._key).then(function(l){return LM(a,s,l)})}(this._delegate)).then(function(s){return new r1(e.firestore,new h_(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))})},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?FM.nu(this.firestore,i):null))},t}();function kp(t,i,e){return t.message=t.message.replace(i,e),t}function SI(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];if("object"==typeof s&&!hg(s))return s}return{}}function kI(t,i){var e,s,a;return{next:function(l){a.next&&a.next(i(l))},error:null===(e=(a=hg(t[0])?t[0]:hg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===e?void 0:e.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}var r1=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new zb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(i){return this._delegate.data(i)},t.prototype.get=function(i,e){return this._delegate.get(i,e)},t.prototype.isEqual=function(i){return wx(this._delegate,i._delegate)},t}(),s1=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,gt.ZT)(i,t),i.prototype.data=function(e){return this._delegate.data(e)},i}(r1),o1=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new n1(i)}return t.prototype.where=function(i,e,s){try{return new t(this.firestore,f_(this._delegate,(y=s,k=e,V=xx("where",a=i),new xI(V,k,y))))}catch(a){throw kp(a,/(orderBy|where)\(\)/,"Query.$1()")}var a,y,k,V},t.prototype.orderBy=function(i,e){try{return new t(this.firestore,f_(this._delegate,function(s,a){void 0===a&&(a="asc");var l=a,y=xx("orderBy",s);return new rE(y,l)}(i,e)))}catch(s){throw kp(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(i){try{return new t(this.firestore,f_(this._delegate,(xM("limit",e=i),new Cx("limit",e,"F"))))}catch(e){throw kp(e,"limit()","Query.limit()")}var e},t.prototype.limitToLast=function(i){try{return new t(this.firestore,f_(this._delegate,(xM("limitToLast",e=i),new Cx("limitToLast",e,"L"))))}catch(e){throw kp(e,"limitToLast()","Query.limitToLast()")}var e},t.prototype.startAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,f_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new IM("startAt",s,!0)}.apply(void 0,i)))}catch(s){throw kp(s,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,f_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new IM("startAfter",s,!1)}.apply(void 0,i)))}catch(s){throw kp(s,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,f_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new sE("endBefore",s,!0)}.apply(void 0,i)))}catch(s){throw kp(s,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,f_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new sE("endAt",s,!1)}.apply(void 0,i)))}catch(s){throw kp(s,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(i){return Zk(this._delegate,i._delegate)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=Oo(s,Sp);var a=Oo(s.firestore,ha),l=id(a),y=new vy(a);return function(k,V){var K=this,pe=new Dd;return k.asyncQueue.enqueueAndForget(function(){return(0,gt.mG)(K,void 0,void 0,function(){var Se;return(0,gt.Jh)(this,function(Ue){switch(Ue.label){case 0:return Se=function(Je,rt,Tt){return(0,gt.mG)(this,void 0,void 0,function(){var Qt,Cn,Jn,Zn,Di;return(0,gt.Jh)(this,function(Bi){switch(Bi.label){case 0:return Bi.trys.push([0,2,,3]),[4,hv(Je,rt,!0)];case 1:return Di=Bi.sent(),Qt=new nI(rt,Di.Bn),Cn=Qt._o(Di.documents),Jn=Qt.applyChanges(Cn,!1),Tt.resolve(Jn.snapshot),[3,3];case 2:return Zn=Bi.sent(),Di=hx(Zn,"Failed to execute query '"+rt+" against cache"),Tt.reject(Di),[3,3];case 3:return[2]}})})},[4,_M(k)];case 1:return[2,Se.apply(void 0,[Ue.sent(),V,pe])]}})})}),pe.promise}(l,s._query).then(function(k){return new p_(a,y,s,k)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=Oo(s,Sp);var a=Oo(s.firestore,ha),l=id(a),y=new vy(a);return fI(l,s._query,{source:"server"}).then(function(k){return new p_(a,y,s,k)})}(this._delegate):function(s){s=Oo(s,Sp);var a=Oo(s.firestore,ha),l=id(a),y=new vy(a);return Qw(s._query),fI(l,s._query).then(function(k){return new p_(a,y,s,k)})}(this._delegate)).then(function(s){return new fE(e.firestore,new p_(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))})},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=SI(e),l=kI(e,function(y){return new fE(i.firestore,new p_(i.firestore._delegate,i._userDataWriter,i._delegate,y._snapshot))});return uE(this._delegate,a,l)},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?FM.nu(this.firestore,i):null))},t}(),dP=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new s1(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),fE=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new o1(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(e){return new s1(i._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(i){var e=this;return this._delegate.docChanges(i).map(function(s){return new dP(e._firestore,s)})},t.prototype.forEach=function(i,e){var s=this;this._delegate.forEach(function(a){i.call(e,new s1(s._firestore,a))})},t.prototype.isEqual=function(i){return wx(this._delegate,i._delegate)},t}(),NM=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).firestore=e,a._delegate=s,a}return(0,gt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new zb(this.firestore,e):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(e){try{return new zb(this.firestore,void 0===e?qw(this._delegate):qw(this._delegate,e))}catch(s){throw kp(s,"doc()","CollectionReference.doc()")}},i.prototype.add=function(e){var a,l,y,k,V,s=this;return(a=this._delegate,l=e,y=Oo(a.firestore,ha),k=qw(a),V=Mx(a.converter,l),Nb(y,[Fb(my(a.firestore),"addDoc",k._key,V,null!==a.converter,{}).toMutation(k._key,Ju.exists(!1))]).then(function(){return k})).then(function(a){return new zb(s.firestore,a)})},i.prototype.isEqual=function(e){return Gk(this._delegate,e._delegate)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?FM.nu(this.firestore,e):null))},i}(o1);function Yb(t){return Oo(t,Nl)}var hP=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];this._delegate=new(c_.bind.apply(c_,(0,gt.ev)([void 0],i)))}return t.documentId=function(){return new t(Hf.keyField().canonicalString())},t.prototype.isEqual=function(i){return(i=(0,Ss.m9)(i))instanceof c_&&this._delegate._internalPath.isEqual(i._internalPath)},t}(),pP=function(){function t(i){this._delegate=i}return t.serverTimestamp=function(){var i=new Jk("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new t(i)},t.delete=function(){var i=new $w("deleteField");return i._methodName="FieldValue.delete",new t(i)},t.arrayUnion=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new Kk("arrayUnion",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayUnion",new t(s)},t.arrayRemove=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new _I("arrayRemove",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayRemove",new t(s)},t.increment=function(i){var e=new eE("increment",i);return e._methodName="FieldValue.increment",new t(e)},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t}(),EI=De(6034),DI={Firestore:hE,GeoPoint:bx,Timestamp:ph,Blob:RM,Transaction:MI,WriteBatch:TI,DocumentReference:zb,DocumentSnapshot:r1,Query:o1,QueryDocumentSnapshot:s1,QuerySnapshot:fE,CollectionReference:NM,FieldPath:hP,FieldValue:pP,setLogLevel:function(t){Vf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function AI(t,i){return function(t,i=js.z){return new Er.y(e=>{let s;return null!=i?i.schedule(()=>{s=t.onSnapshot({includeMetadataChanges:!0},e)}):s=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(t,i)}function zM(t,i){return AI(t,i).pipe((0,Ei.U)(e=>({payload:e,type:"query"})))}function a1(t,i){return zM(t,i).pipe(xn(void 0),Gp(),(0,Ei.U)(([e,s])=>{const a=s.payload.docChanges(),l=a.map(y=>({type:y.type,payload:y}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((y,k)=>{const V=a.find(pe=>pe.doc.ref.isEqual(y.ref)),K=null==e?void 0:e.payload.docs.find(pe=>pe.ref.isEqual(y.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(y.metadata)||!V&&K&&JSON.stringify(K.metadata)===JSON.stringify(y.metadata)||l.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:y}})}),l}))}function LI(t,i,e){return a1(t,e).pipe(Va((s,a)=>function(t,i,e){return i.forEach(s=>{e.indexOf(s.type)>-1&&(t=function(t,i){switch(i.type){case"added":if(!t[i.newIndex]||!t[i.newIndex].doc.ref.isEqual(i.doc.ref))return mE(t,i.newIndex,0,i);break;case"modified":if(null==t[i.oldIndex]||t[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const e=t.slice();return e.splice(i.oldIndex,1),e.splice(i.newIndex,0,i),e}return mE(t,i.newIndex,1,i)}break;case"removed":if(t[i.oldIndex]&&t[i.oldIndex].doc.ref.isEqual(i.doc.ref))return mE(t,i.oldIndex,1)}return t}(t,s))}),t}(s,a.map(l=>l.payload),i),[]),uu(),(0,Ei.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function mE(t,i,e,...s){const a=t.slice();return a.splice(i,e,...s),a}function gE(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){t.INTERNAL.registerComponent(new EI.wA("firestore",function(s){return i=s.getProvider("app").getImmediate(),e=s.getProvider("auth-internal"),new hE(i,new ha(i,e),new CI);var i,e},"PUBLIC").setServiceProps(Object.assign({},DI))),t.registerVersion("@firebase/firestore","2.3.10")}(hm.Z);class PI{constructor(i,e,s){this.ref=i,this.query=e,this.afs=s}stateChanges(i){let e=a1(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(e=e.pipe((0,Ei.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),e.pipe(xn(void 0),Gp(),C(([s,a])=>a.length>0||!s),(0,Ei.U)(([s,a])=>a),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Va((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=gE(i);return LI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return zM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ei.U)(e=>e.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Fs.D)(this.query.get(i)).pipe((0,Bo.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new _E(this.ref.doc(i),this.afs)}}class _E{constructor(i,e){this.ref=i,this.afs=e}set(i,e){return this.ref.set(i,e)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,e){const s=this.ref.collection(i),{ref:a,query:l}=c1(s,e);return new PI(a,l,this.afs)}snapshotChanges(){return function(t,i){return AI(t,i).pipe(xn(void 0),Gp(),(0,Ei.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Ei.U)(({payload:e})=>i.idField?Object.assign(Object.assign({},e.data()),{[i.idField]:e.id}):e.data()))}get(i){return(0,Fs.D)(this.ref.get(i)).pipe((0,Bo.QV)(this.afs.schedulers.insideAngular))}}class YM{constructor(i,e){this.query=i,this.afs=e}stateChanges(i){return i&&0!==i.length?a1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ei.U)(e=>e.filter(s=>i.indexOf(s.type)>-1)),C(e=>e.length>0),this.afs.keepUnstableUntilFirst):a1(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Va((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=gE(i);return LI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return zM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ei.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Fs.D)(this.query.get(i)).pipe((0,Bo.QV)(this.afs.schedulers.insideAngular))}}const by=new o.OlP("angularfire2.enableFirestorePersistence"),l1=new o.OlP("angularfire2.firestore.persistenceSettings"),yE=new o.OlP("angularfire2.firestore.settings"),vE=new o.OlP("angularfire2.firestore.use-emulator");function c1(t,i=(e=>e)){return{query:i(t),ref:t}}let al=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe){this.schedulers=new gr.HU(k),this.keepUnstableUntilFirst=(0,gr.ss)(this.schedulers);const Se=(0,gr.on)(e,k,s);!Wn.Z.auth&&pe&&(0,gr.yq)();const Ue=K;[this.firestore,this.persistenceEnabled$]=(0,gr.sI)(`${Se.name}.firestore`,"AngularFirestore",Se,()=>{const Je=k.runOutsideAngular(()=>Se.firestore());if(l&&Je.settings(l),Ue&&Je.useEmulator(...Ue),a&&!ud(y)){const rt=()=>{try{return(0,Fs.D)(Je.enablePersistence(V||void 0).then(()=>!0,()=>!1))}catch(Tt){return"undefined"!=typeof console&&console.warn(Tt),(0,Ti.of)(!1)}};return[Je,k.runOutsideAngular(rt)]}return[Je,(0,Ti.of)(!1)]},[l,Ue,a])}collection(e,s){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:y}=c1(a,s),k=this.schedulers.ngZone.run(()=>l);return new PI(k,y,this)}collectionGroup(e,s){const a=s||(y=>y),l=this.firestore.collectionGroup(e);return new YM(a(l),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>s);return new _E(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(by,8),o.LFG(yE,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(l1,8),o.LFG(vE,8),o.LFG(wn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(by,8),o.LFG(yE,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(l1,8),o.LFG(vE,8),o.LFG(wn,8))},token:t,providedIn:"any"}),t})(),bE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:by,useValue:!0},{provide:l1,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[al]}),t})(),Bb=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let y=null==l?void 0:l.uid;this.username$=this.af.collection("Supplier").doc(y).valueChanges(),this.username$.subscribe(k=>{console.log(k)})})}ngOnInit(){}logout(){this.fauth.signOut(),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(Ao),o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-suppliernavbarpage"]],decls:32,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/supplierpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/supplierpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/supplierproduct",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/supplierprofile",1,"dropdown-item"],["routerLink","/supplierorder",1,"dropdown-item"],["routerLink","/suppliertracking",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Product"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Order"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o.NdJ("click",function(){return s.logout()}),o._uU(31,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#557A95"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.compname," ")}},directives:[jp,Og],pipes:[Cl],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})(),vP=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-home-page"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"app-suppliernavbarpage")},directives:[Bb],styles:[""]}),t})();function BM(t,i,e,s,a,l,y){try{var k=t[l](y),V=k.value}catch(K){return void e(K)}k.done?i(V):Promise.resolve(V).then(s,a)}function Fa(t){return function(){var i=this,e=arguments;return new Promise(function(s,a){var l=t.apply(i,e);function y(V){BM(l,s,a,y,k,"next",V)}function k(V){BM(l,s,a,y,k,"throw",V)}y(void 0)})}}let g_=(()=>{class t{constructor(e,s,a,l){this.fauth=e,this.route=s,this.router=a,this.firestore=l,this.tempo="",this.user$=this.fauth.authState,this.user$.subscribe(y=>{this.uid=null==y?void 0:y.uid,console.log("User Logged in "+this.uid)}),e.setPersistence("local").then(y=>{console.log("local session")})}login(e,s){var a=this;return Fa(function*(){return new Promise(l=>{a.fauth.signInWithEmailAndPassword(e,s).then(y=>{var k,V;a.uid=null===(k=y.user)||void 0===k?void 0:k.uid,a.firestore.collection("Admin").doc(a.uid).valueChanges().subscribe(K=>{K&&a.router.navigateByUrl("/adminpage")}),a.firestore.collection("Student").doc(a.uid).valueChanges().subscribe(K=>{K&&a.router.navigateByUrl("/studentpage")}),a.firestore.collection("Supplier").doc(a.uid).valueChanges().subscribe(K=>{K&&a.router.navigateByUrl("/supplierpage")}),(null===(V=y.user)||void 0===V?void 0:V.emailVerified)||(a.emailVerified=!1),l(!0)}).catch(y=>{"auth/wrong-password"===y.code&&(console.log("wrong password"),a.passwordVerified=!1,a.passwordVerified||(a.passwordVerified=!1)),"auth/user-not-found"===y.code&&(a.userVerified=!1),l(!1)})})})()}register(e,s,a,l,y,k,V,K,pe){var Se=this;return Fa(function*(){return new Promise((Ue,Je)=>{Se.fauth.createUserWithEmailAndPassword(e,s).then(rt=>{var Tt,Qt;console.log(rt),Ue({validate:!0}),Se.fauth.currentUser.then(Cn=>{null==Cn||Cn.sendEmailVerification()}).then(Cn=>{console.log(Cn)}),"1"===a?(console.log("student"),Se.firestore.collection("Student").doc(null===(Tt=rt.user)||void 0===Tt?void 0:Tt.uid).set({name:l,email:e,dob:y,phone:k,gender:V,matrixid:K,isStudent:!1})):"2"===a&&(console.log("supplier"),Se.firestore.collection("Supplier").doc(null===(Qt=rt.user)||void 0===Qt?void 0:Qt.uid).set({name:l,email:e,dob:y,phone:k,gender:V,compname:pe,isSupplier:!1}))}).catch(rt=>{console.log(rt),"auth/email-already-in-use"===rt.code&&Ue({validate:!1})})})})()}getAdminStatus(){var e=this;return Fa(function*(){return new Promise(s=>{e.admin$=e.firestore.collection("Admin").doc(e.uid).valueChanges(),e.admin$.subscribe(a=>{s(null==a?void 0:a.isAdmin)})})})()}getStudentStatus(){var e=this;return Fa(function*(){return new Promise(s=>{e.student$=e.firestore.collection("Student").doc(e.uid).valueChanges(),e.student$.subscribe(a=>{s(null==a?void 0:a.isStudent)})})})()}getSupplierStatus(){var e=this;return Fa(function*(){return new Promise(s=>{e.supplier$=e.firestore.collection("Supplier").doc(e.uid).valueChanges(),e.supplier$.subscribe(a=>{s(null==a?void 0:a.isSupplier)})})})()}verificationemail(){this.fauth.user.subscribe(e=>{null==e||e.sendEmailVerification(),console.log("Verification email sent")},e=>{console.log(e)})}checkExistedEmail(e){var s=this;return Fa(function*(){return new Promise(a=>{s.fauth.fetchSignInMethodsForEmail(e).then(l=>{console.log(l),s.emailExistedStatus=!0,a(!0)},l=>{console.log(l)})})})()}forgotPassword(e){var s=this;return Fa(function*(){return new Promise(a=>{s.fauth.sendPasswordResetEmail(e).then(l=>{console.log("success"),a(!0)},l=>{console.log(l.code),"auth/user-not-found"===l.code&&a(!1)})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ci),o.LFG(pc),o.LFG(Ao),o.LFG(al))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tx=(()=>{class t{constructor(e,s){this.auth=e,this.router=s}canActivate(e,s){var a=this;return Fa(function*(){let l=yield a.auth.getAdminStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(g_),o.LFG(Ao))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var xE=De(6738);let GM,__=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let y=null==l?void 0:l.uid;this.username$=this.af.collection("Admin").doc(y).valueChanges()})}ngOnInit(){}logout(){this.fauth.signOut(),localStorage.removeItem("admin"),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(Ao),o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-adminnavbarpage"]],decls:35,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/adminpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/adminpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/adminmanageinv",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/adminprofile",1,"dropdown-item"],["routerLink","/adminpermissionpage",1,"dropdown-item"],["routerLink","/adminmenupage",1,"dropdown-item"],["routerLink","/admintrackingpage",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Inventory"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Permission"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Menu"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o._uU(31,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(32,"li"),o.TgZ(33,"a",18),o.NdJ("click",function(){return s.logout()}),o._uU(34,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#b8ab97"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.username," ")}},directives:[jp,Og],pipes:[Cl],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})(),OI=(()=>{class t{constructor(e,s,a,l){this.fauth=e,this.router=s,this.af=a,this.aR=l;const y=xE();this.aR.queryParams.subscribe(k=>{this.productname=k.productname,this.productprice=k.amount,this.action=k.action,this.tracking_number=k.trackingnumber}),"success"==this.action?(this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete(),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(this.tracking_number).update({status:"paid",ordertimestamp:y.format("MMMM Do YYYY, h:mm a")})):"cancel"==this.action&&this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete()}ngAfterViewInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(Ao),o.Y36(al),o.Y36(pc))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-home-page"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"app-adminnavbarpage")},directives:[__],styles:["mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}body[_ngcontent-%COMP%]{background:#f0f0f0}.chart[_ngcontent-%COMP%]{background:black;display:flex;justify-content:center}.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:999}"]}),t})();function Gs(t){return null!=t&&"false"!=`${t}`}function Xc(t,i=0){return wE(t)?Number(t):i}function wE(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function VM(t){return Array.isArray(t)?t:[t]}function Eu(t){return null==t?"":"string"==typeof t?t:`${t}px`}function wm(t){return t instanceof o.SBq?t.nativeElement:t}function y_(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Sx(t,i=js.P){return e=>e.lift(new tL(t,i))}class tL{constructor(i,e){this.dueTime=i,this.scheduler=e}call(i,e){return e.subscribe(new pO(i,this.dueTime,this.scheduler))}}class pO extends yo.L{constructor(i,e,s){super(i),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nL,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function nL(t){t.debouncedNext()}try{GM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){GM=!1}let wv,pa=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(t){return"browser"===t}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.Lbi))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.Lbi))},token:t,providedIn:"root"}),t})(),v_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const iL=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function RE(){if(wv)return wv;if("object"!=typeof document||!document)return wv=new Set(iL),wv;let t=document.createElement("input");return wv=new Set(iL.filter(i=>(t.setAttribute("type",i),t.type===i))),wv}let g1,jb,Cv,NE;function _1(t){return function(){if(null==g1&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>g1=!0}))}finally{g1=g1||!1}return g1}()?t:!!t.capture}function FE(){if(null==Cv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Cv=!1,Cv;if("scrollBehavior"in document.documentElement.style)Cv=!0;else{const t=Element.prototype.scrollTo;Cv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Cv}function kx(){if("object"!=typeof document||!document)return 0;if(null==jb){const t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const e=document.createElement("div"),s=e.style;s.width="2px",s.height="1px",t.appendChild(e),document.body.appendChild(t),jb=0,0===t.scrollLeft&&(t.scrollLeft=1,jb=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return jb}function zE(t){if(function(){if(null==NE){const t="undefined"!=typeof document?document.head:null;NE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return NE}()){const i=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}let ZM=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Wf=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=wm(e);return new Er.y(a=>{const y=this._observeElement(s).subscribe(a);return()=>{y.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new ai.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:a}=this._observedElements.get(e);s&&s.disconnect(),a.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ZM))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(ZM))},token:t,providedIn:"root"}),t})(),sL=(()=>{class t{constructor(e,s,a){this._contentObserver=e,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Gs(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Xc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Sx(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Wf),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),y1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[ZM]}),t})();function Ex(t,i){return(t.getAttribute(i)||"").match(/\S+/g)||[]}const v1="cdk-describedby-message-container",b1="cdk-describedby-message",Gb="cdk-describedby-host";let x1=0;const sf=new Map;let rd=null,WM=(()=>{class t{constructor(e){this._document=e}describe(e,s,a){if(!this._canBeDescribed(e,s))return;const l=qM(s,a);"string"!=typeof s?(HE(s),sf.set(l,{messageElement:s,referenceCount:0})):sf.has(l)||this._createMessageElement(s,a),this._isElementDescribedByMessage(e,l)||this._addMessageReference(e,l)}removeDescription(e,s,a){if(!s||!this._isElementNode(e))return;const l=qM(s,a);if(this._isElementDescribedByMessage(e,l)&&this._removeMessageReference(e,l),"string"==typeof s){const y=sf.get(l);y&&0===y.referenceCount&&this._deleteMessageElement(l)}rd&&0===rd.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Gb}]`);for(let s=0;s<e.length;s++)this._removeCdkDescribedByReferenceIds(e[s]),e[s].removeAttribute(Gb);rd&&this._deleteMessagesContainer(),sf.clear()}_createMessageElement(e,s){const a=this._document.createElement("div");HE(a),a.textContent=e,s&&a.setAttribute("role",s),this._createMessagesContainer(),rd.appendChild(a),sf.set(qM(e,s),{messageElement:a,referenceCount:0})}_deleteMessageElement(e){const s=sf.get(e),a=s&&s.messageElement;rd&&a&&rd.removeChild(a),sf.delete(e)}_createMessagesContainer(){if(!rd){const e=this._document.getElementById(v1);e&&e.parentNode&&e.parentNode.removeChild(e),rd=this._document.createElement("div"),rd.id=v1,rd.style.visibility="hidden",rd.classList.add("cdk-visually-hidden"),this._document.body.appendChild(rd)}}_deleteMessagesContainer(){rd&&rd.parentNode&&(rd.parentNode.removeChild(rd),rd=null)}_removeCdkDescribedByReferenceIds(e){const s=Ex(e,"aria-describedby").filter(a=>0!=a.indexOf(b1));e.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(e,s){const a=sf.get(s);(function(t,i,e){const s=Ex(t,i);s.some(a=>a.trim()==e.trim())||(s.push(e.trim()),t.setAttribute(i,s.join(" ")))})(e,"aria-describedby",a.messageElement.id),e.setAttribute(Gb,""),a.referenceCount++}_removeMessageReference(e,s){const a=sf.get(s);a.referenceCount--,function(t,i,e){const a=Ex(t,i).filter(l=>l!=e.trim());a.length?t.setAttribute(i,a.join(" ")):t.removeAttribute(i)}(e,"aria-describedby",a.messageElement.id),e.removeAttribute(Gb)}_isElementDescribedByMessage(e,s){const a=Ex(e,"aria-describedby"),l=sf.get(s),y=l&&l.messageElement.id;return!!y&&-1!=a.indexOf(y)}_canBeDescribed(e,s){if(!this._isElementNode(e))return!1;if(s&&"object"==typeof s)return!0;const a=null==s?"":`${s}`.trim(),l=e.getAttribute("aria-label");return!(!a||l&&l.trim()===a)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Te))},token:t,providedIn:"root"}),t})();function qM(t,i){return"string"==typeof t?`${i||""}/${t}`:t}function HE(t){t.id||(t.id=`${b1}-${x1++}`)}class $M{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ai.xQ,this._typeaheadSubscription=Da.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ai.xQ,this.change=new ai.xQ,i instanceof o.n_E&&i.changes.subscribe(e=>{if(this._activeItem){const a=e.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,La.b)(e=>this._pressedLetters.push(e)),Sx(i),C(()=>this._pressedLetters.length>0),(0,Ei.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,y=s[l];if(!this._skipPredicateFn(y)&&0===y.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const e=this._activeItem;this.updateActiveItem(i),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){const e=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||y_(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const e=this._getItemsArray(),s="number"==typeof i?i:e.indexOf(i),a=e[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const a=(this._activeItemIndex+i*s+e.length)%e.length;if(!this._skipPredicateFn(e[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=e])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class oL extends $M{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class UE extends $M{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let w1=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(t){try{return t.frameElement}catch(i){return null}}(function(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(s&&(-1===Ax(s)||!this.isVisible(s)))return!1;let a=e.nodeName.toLowerCase(),l=Ax(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||QM(t))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pa))},token:t,providedIn:"root"}),t})();function QM(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function Ax(t){if(!QM(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class dL{constructor(i,e,s,a,l=!1){this._element=i,this._checker=e,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement()))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const e=this._getFirstTabbableElement(i);return null==e||e.focus(),!!e}return i.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const i=this._getRegionBoundary("start");return i&&i.focus(),!!i}focusLastTabbableElement(){const i=this._getRegionBoundary("end");return i&&i.focus(),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=0;s<e.length;s++){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=e.length-1;s>=0;s--){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(ve(1)).subscribe(i)}}let JM=(()=>{class t{constructor(e,s,a){this._checker=e,this._ngZone=s,this._document=a}create(e,s=!1){return new dL(e,this._checker,this._ngZone,this._document,s)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(w1),o.LFG(o.R0b),o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(w1),(0,o.LFG)(o.R0b),(0,o.LFG)(Te))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const eT=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),WE=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let T1=(()=>{class t{constructor(e,s,a,l){this._ngZone=s,this._defaultOptions=l,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...s){const a=this._defaultOptions;let l,y;return 1===s.length&&"number"==typeof s[0]?y=s[0]:[l,y]=s,this.clear(),clearTimeout(this._previousTimeout),l||(l=a&&a.politeness?a.politeness:"polite"),null==y&&a&&(y=a.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>new Promise(k=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,k(),"number"==typeof y&&(this._previousTimeout=setTimeout(()=>this.clear(),y))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",s=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let l=0;l<s.length;l++)s[l].parentNode.removeChild(s[l]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(eT,8),o.LFG(o.R0b),o.LFG(Te),o.LFG(WE,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(eT,8),(0,o.LFG)(o.R0b),(0,o.LFG)(Te),(0,o.LFG)(WE,8))},token:t,providedIn:"root"}),t})();function Mm(t){return 0===t.buttons}function Mv(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const Lx=new o.OlP("cdk-focus-monitor-default-options"),Wh=_1({passive:!0,capture:!0});let fg=(()=>{class t{constructor(e,s,a,l){this._ngZone=e,this._platform=s,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=y=>{if(!this._lastTouchTarget){const k=Mm(y)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(k)}},this._documentTouchstartListener=y=>{Mv(y)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=S1(y),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=y=>{const k=S1(y),V="focus"===y.type?this._onFocus:this._onBlur;for(let K=k;K;K=K.parentElement)V.call(this,y,K)},this._document=a,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(e,s=!1){const a=wm(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Ti.of)(null);const l=zE(a)||this._getDocument(),y=this._elementInfo.get(a);if(y)return s&&(y.checkChildren=!0),y.subject;const k={checkChildren:s,subject:new ai.xQ,rootNode:l};return this._elementInfo.set(a,k),this._registerGlobalListeners(k),k.subject}stopMonitoring(e){const s=wm(e),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(e,s,a){const l=wm(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([k,V])=>this._originChanged(k,s,V)):(this._setOriginForCurrentEventQueue(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,a){a?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const s=S1(e);return this._lastTouchTarget instanceof Node&&s instanceof Node&&(s===this._lastTouchTarget||s.contains(this._lastTouchTarget))}_onFocus(e,s){const a=this._elementInfo.get(s);!a||!a.checkChildren&&s!==S1(e)||this._originChanged(s,this._getFocusOrigin(e),a)}_onBlur(e,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wh),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wh)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const l=this._getDocument(),y=this._getWindow();l.addEventListener("keydown",this._documentKeydownListener,Wh),l.addEventListener("mousedown",this._documentMousedownListener,Wh),l.addEventListener("touchstart",this._documentTouchstartListener,Wh),y.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wh),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wh),this._rootNodeFocusListenerCount.delete(s))}if(!--this._monitoredElementCount){const a=this._getDocument(),l=this._getWindow();a.removeEventListener("keydown",this._documentKeydownListener,Wh),a.removeEventListener("mousedown",this._documentMousedownListener,Wh),a.removeEventListener("touchstart",this._documentTouchstartListener,Wh),l.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,s,a){this._setClasses(e,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((a,l)=>{(l===e||a.checkChildren&&l.contains(e))&&s.push([l,a])}),s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(pa),o.LFG(Te,8),o.LFG(Lx,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(pa),(0,o.LFG)(Te,8),(0,o.LFG)(Lx,8))},token:t,providedIn:"root"}),t})();function S1(t){return t.composedPath?t.composedPath()[0]:t.target}const tT="cdk-high-contrast-black-on-white",nT="cdk-high-contrast-white-on-black",k1="cdk-high-contrast-active";let iT=(()=>{class t{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(e):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(k1),e.remove(tT),e.remove(nT);const s=this.getHighContrastMode();1===s?(e.add(k1),e.add(tT)):2===s&&(e.add(k1),e.add(nT))}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pa),o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pa),(0,o.LFG)(Te))},token:t,providedIn:"root"}),t})(),E1=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(iT))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[v_,y1]]}),t})();const qE=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(Te)}});let of=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const a=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(qE,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(qE,8))},token:t,providedIn:"root"}),t})(),Tv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const $E=new o.GfV("11.2.13");class XE{}const wy="*";function ka(t,i){return{type:7,name:t,definitions:i,options:{}}}function as(t,i=null){return{type:4,styles:i,timings:t}}function QE(t,i=null){return{type:2,steps:t,options:i}}function si(t){return{type:6,styles:t,offset:null}}function To(t,i,e){return{type:0,name:t,styles:i,options:e}}function Sv(t){return{type:5,steps:t}}function Br(t,i,e=null){return{type:1,expr:t,animation:i,options:e}}function Cy(t,i=null){return{type:8,animation:t,options:i}}function rT(t=null){return{type:9,options:t}}function qb(t,i=null){return{type:10,animation:t,options:i}}function sT(t,i,e=null){return{type:11,selector:t,animation:i,options:e}}function u(t){Promise.resolve(null).then(t)}class d{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){u(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class m{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,s=0,a=0;const l=this.players.length;0==l?u(()=>this._onFinish()):this.players.forEach(y=>{y.onDone(()=>{++e==l&&this._onFinish()}),y.onDestroy(()=>{++s==l&&this._onDestroy()}),y.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((y,k)=>Math.max(y,k.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}function D(){return"undefined"!=typeof window&&void 0!==window.document}function z(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function q(t){switch(t.length){case 0:return new d;case 1:return t[0];default:return new m(t)}}function ee(t,i,e,s,a={},l={}){const y=[],k=[];let V=-1,K=null;if(s.forEach(pe=>{const Se=pe.offset,Ue=Se==V,Je=Ue&&K||{};Object.keys(pe).forEach(rt=>{let Tt=rt,Qt=pe[rt];if("offset"!==rt)switch(Tt=i.normalizePropertyName(Tt,y),Qt){case"!":Qt=a[rt];break;case wy:Qt=l[rt];break;default:Qt=i.normalizeStyleValue(rt,Tt,Qt,y)}Je[Tt]=Qt}),Ue||k.push(Je),K=Je,V=Se}),y.length){const pe="\n - ";throw new Error(`Unable to animate due to the following errors:${pe}${y.join(pe)}`)}return k}function de(t,i,e,s){switch(i){case"start":t.onStart(()=>s(e&&Me(e,"start",t)));break;case"done":t.onDone(()=>s(e&&Me(e,"done",t)));break;case"destroy":t.onDestroy(()=>s(e&&Me(e,"destroy",t)))}}function Me(t,i,e){const s=e.totalTime,l=Ve(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,null==s?t.totalTime:s,!!e.disabled),y=t._data;return null!=y&&(l._data=y),l}function Ve(t,i,e,s,a="",l=0,y){return{element:t,triggerName:i,fromState:e,toState:s,phaseName:a,totalTime:l,disabled:!!y}}function nt(t,i,e){let s;return t instanceof Map?(s=t.get(i),s||t.set(i,s=e)):(s=t[i],s||(s=t[i]=e)),s}function pt(t){const i=t.indexOf(":");return[t.substring(1,i),t.substr(i+1)]}let zt=(t,i)=>!1,Sn=(t,i)=>!1,hi=(t,i,e)=>[];const dr=z();(dr||"undefined"!=typeof Element)&&(zt=D()?(t,i)=>{for(;i&&i!==document.documentElement;){if(i===t)return!0;i=i.parentNode||i.host}return!1}:(t,i)=>t.contains(i),Sn=(()=>{if(dr||Element.prototype.matches)return(t,i)=>t.matches(i);{const t=Element.prototype,i=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return i?(e,s)=>i.apply(e,[s]):Sn}})(),hi=(t,i,e)=>{let s=[];if(e){const a=t.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=t.querySelector(i);a&&s.push(a)}return s});let As=null,Qc=!1;function Ep(t){As||(As=("undefined"!=typeof document?document.body:null)||{},Qc=!!As.style&&"WebkitAppearance"in As.style);let i=!0;return As.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in As.style,!i&&Qc&&(i="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in As.style)),i}const My=Sn,Ty=zt,Sy=hi;function D1(t){const i={};return Object.keys(t).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=t[e]}),i}let A1=(()=>{class t{validateStyleProperty(e){return Ep(e)}matchesElement(e,s){return My(e,s)}containsElement(e,s){return Ty(e,s)}query(e,s,a){return Sy(e,s,a)}computeStyle(e,s,a){return a||""}animate(e,s,a,l,y,k=[],V){return new d(a,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class $b{}$b.NOOP=new A1;const fL="ng-enter",JE="ng-leave",KE="ng-trigger",eD=".ng-trigger",kO="ng-animating",mL=".ng-animating";function Ox(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:gL(parseFloat(i[1]),i[2])}function gL(t,i){switch(i){case"s":return 1e3*t;default:return t}}function tD(t,i,e){return t.hasOwnProperty("duration")?t:function(t,i,e){let a,l=0,y="";if("string"==typeof t){const k=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===k)return i.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};a=gL(parseFloat(k[1]),k[2]);const V=k[3];null!=V&&(l=gL(parseFloat(V),k[4]));const K=k[5];K&&(y=K)}else a=t;if(!e){let k=!1,V=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),k=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),k=!0),k&&i.splice(V,0,`The provided timing value "${t}" is invalid.`)}return{duration:a,delay:l,easing:y}}(t,i,e)}function L1(t,i={}){return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function Xb(t,i,e={}){if(i)for(let s in t)e[s]=t[s];else L1(t,e);return e}function DO(t,i,e){return e?i+":"+e+";":""}function AO(t){let i="";for(let e=0;e<t.style.length;e++){const s=t.style.item(e);i+=DO(0,s,t.style.getPropertyValue(s))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(i+=DO(0,Vz(e),t.style[e]));t.setAttribute("style",i)}function ky(t,i,e){t.style&&(Object.keys(i).forEach(s=>{const a=yL(s);e&&!e.hasOwnProperty(s)&&(e[s]=t.style[a]),t.style[a]=i[s]}),z()&&AO(t))}function Rx(t,i){t.style&&(Object.keys(i).forEach(e=>{const s=yL(e);t.style[s]=""}),z()&&AO(t))}function aT(t){return Array.isArray(t)?1==t.length?t[0]:QE(t):t}const _L=new RegExp("{{\\s*(.+?)\\s*}}","g");function IO(t){let i=[];if("string"==typeof t){let e;for(;e=_L.exec(t);)i.push(e[1]);_L.lastIndex=0}return i}function nD(t,i,e){const s=t.toString(),a=s.replace(_L,(l,y)=>{let k=i[y];return i.hasOwnProperty(y)||(e.push(`Please provide a value for the animation param ${y}`),k=""),k.toString()});return a==s?t:a}function iD(t){const i=[];let e=t.next();for(;!e.done;)i.push(e.value),e=t.next();return i}const Bz=/-+([a-z0-9])/g;function yL(t){return t.replace(Bz,(...i)=>i[1].toUpperCase())}function Vz(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function LO(t,i){return 0===t||0===i}function PO(t,i,e){const s=Object.keys(e);if(s.length&&i.length){let l=i[0],y=[];if(s.forEach(k=>{l.hasOwnProperty(k)||y.push(k),l[k]=e[k]}),y.length)for(var a=1;a<i.length;a++){let k=i[a];y.forEach(function(V){k[V]=vL(t,V)})}}return i}function Tm(t,i,e){switch(i.type){case 7:return t.visitTrigger(i,e);case 0:return t.visitState(i,e);case 1:return t.visitTransition(i,e);case 2:return t.visitSequence(i,e);case 3:return t.visitGroup(i,e);case 4:return t.visitAnimate(i,e);case 5:return t.visitKeyframes(i,e);case 6:return t.visitStyle(i,e);case 8:return t.visitReference(i,e);case 9:return t.visitAnimateChild(i,e);case 10:return t.visitAnimateRef(i,e);case 11:return t.visitQuery(i,e);case 12:return t.visitStagger(i,e);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function vL(t,i){return window.getComputedStyle(t)[i]}function Hz(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(s=>function(t,i,e){if(":"==t[0]){const V=function(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return i.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof V)return void i.push(V);t=V}const s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${t}" is not supported`),i;const a=s[1],l=s[2],y=s[3];i.push(OO(a,y));"<"==l[0]&&!("*"==a&&"*"==y)&&i.push(OO(y,a))}(s,e,i)):e.push(t),e}const sD=new Set(["true","1"]),oD=new Set(["false","0"]);function OO(t,i){const e=sD.has(t)||oD.has(t),s=sD.has(i)||oD.has(i);return(a,l)=>{let y="*"==t||t==a,k="*"==i||i==l;return!y&&e&&"boolean"==typeof a&&(y=a?sD.has(t):oD.has(t)),!k&&s&&"boolean"==typeof l&&(k=l?sD.has(i):oD.has(i)),y&&k}}const Gz=new RegExp("s*:selfs*,?","g");function bL(t,i,e){return new Zz(t).build(i,e)}class Zz{constructor(i){this._driver=i}build(i,e){const s=new $z(e);return this._resetContextStyleTimingState(s),Tm(this,aT(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,e){let s=e.queryCount=0,a=e.depCount=0;const l=[],y=[];return"@"==i.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(k=>{if(this._resetContextStyleTimingState(e),0==k.type){const V=k,K=V.name;K.toString().split(/\s*,\s*/).forEach(pe=>{V.name=pe,l.push(this.visitState(V,e))}),V.name=K}else if(1==k.type){const V=this.visitTransition(k,e);s+=V.queryCount,a+=V.depCount,y.push(V)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:y,queryCount:s,depCount:a,options:null}}visitState(i,e){const s=this.visitStyle(i.styles,e),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,y=a||{};if(s.styles.forEach(k=>{if(aD(k)){const V=k;Object.keys(V).forEach(K=>{IO(V[K]).forEach(pe=>{y.hasOwnProperty(pe)||l.add(pe)})})}}),l.size){const k=iD(l.values());e.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${k.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const s=Tm(this,aT(i.animation),e);return{type:1,matchers:Hz(i.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:Fx(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(s=>Tm(this,s,e)),options:Fx(i.options)}}visitGroup(i,e){const s=e.currentTime;let a=0;const l=i.steps.map(y=>{e.currentTime=s;const k=Tm(this,y,e);return a=Math.max(a,e.currentTime),k});return e.currentTime=a,{type:3,steps:l,options:Fx(i.options)}}visitAnimate(i,e){const s=function(t,i){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return xL(tD(t,i).duration,0,"");const s=t;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=xL(0,0,"");return l.dynamic=!0,l.strValue=s,l}return e=e||tD(s,i),xL(e.duration,e.delay,e.easing)}(i.timings,e.errors);e.currentAnimateTimings=s;let a,l=i.styles?i.styles:si({});if(5==l.type)a=this.visitKeyframes(l,e);else{let y=i.styles,k=!1;if(!y){k=!0;const K={};s.easing&&(K.easing=s.easing),y=si(K)}e.currentTime+=s.duration+s.delay;const V=this.visitStyle(y,e);V.isEmptyStep=k,a=V}return e.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,e){const s=this._makeStyleAst(i,e);return this._validateStyleAst(s,e),s}_makeStyleAst(i,e){const s=[];Array.isArray(i.styles)?i.styles.forEach(y=>{"string"==typeof y?y==wy?s.push(y):e.errors.push(`The provided style string value ${y} is not allowed.`):s.push(y)}):s.push(i.styles);let a=!1,l=null;return s.forEach(y=>{if(aD(y)){const k=y,V=k.easing;if(V&&(l=V,delete k.easing),!a)for(let K in k)if(k[K].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,e){const s=e.currentAnimateTimings;let a=e.currentTime,l=e.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(y=>{"string"!=typeof y&&Object.keys(y).forEach(k=>{if(!this._driver.validateStyleProperty(k))return void e.errors.push(`The provided animation property "${k}" is not a supported CSS property for animations`);const V=e.collectedStyles[e.currentQuerySelector],K=V[k];let pe=!0;K&&(l!=a&&l>=K.startTime&&a<=K.endTime&&(e.errors.push(`The CSS property "${k}" that exists between the times of "${K.startTime}ms" and "${K.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),pe=!1),l=K.startTime),pe&&(V[k]={startTime:l,endTime:a}),e.options&&function(t,i,e){const s=i.params||{},a=IO(t);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(y[k],e.options,e.errors)})})}visitKeyframes(i,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const y=[];let k=!1,V=!1,K=0;const pe=i.steps.map(Cn=>{const Jn=this._makeStyleAst(Cn,e);let Zn=null!=Jn.offset?Jn.offset:function(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(aD(e)&&e.hasOwnProperty("offset")){const s=e;i=parseFloat(s.offset),delete s.offset}});else if(aD(t)&&t.hasOwnProperty("offset")){const e=t;i=parseFloat(e.offset),delete e.offset}return i}(Jn.styles),Di=0;return null!=Zn&&(l++,Di=Jn.offset=Zn),V=V||Di<0||Di>1,k=k||Di<K,K=Di,y.push(Di),Jn});V&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),k&&e.errors.push("Please ensure that all keyframe offsets are in order");const Se=i.steps.length;let Ue=0;l>0&&l<Se?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(Ue=1/(Se-1));const Je=Se-1,rt=e.currentTime,Tt=e.currentAnimateTimings,Qt=Tt.duration;return pe.forEach((Cn,Jn)=>{const Zn=Ue>0?Jn==Je?1:Ue*Jn:y[Jn],Di=Zn*Qt;e.currentTime=rt+Tt.delay+Di,Tt.duration=Di,this._validateStyleAst(Cn,e),Cn.offset=Zn,s.styles.push(Cn)}),s}visitReference(i,e){return{type:8,animation:Tm(this,aT(i.animation),e),options:Fx(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:Fx(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:Fx(i.options)}}visitQuery(i,e){const s=e.currentQuerySelector,a=i.options||{};e.queryCount++,e.currentQuery=i;const[l,y]=function(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(Gz,"")),[t=t.replace(/@\*/g,eD).replace(/@\w+/g,e=>eD+"-"+e.substr(1)).replace(/:animating/g,mL),i]}(i.selector);e.currentQuerySelector=s.length?s+" "+l:l,nt(e.collectedStyles,e.currentQuerySelector,{});const k=Tm(this,aT(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:y,animation:k,originalSelector:i.selector,options:Fx(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:tD(i.timings,e.errors,!0);return{type:12,animation:Tm(this,aT(i.animation),e),timings:s,options:null}}}class $z{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function aD(t){return!Array.isArray(t)&&"object"==typeof t}function Fx(t){return t?(t=L1(t)).params&&(t.params=function(t){return t?L1(t):null}(t.params)):t={},t}function xL(t,i,e){return{duration:t,delay:i,easing:e}}function wL(t,i,e,s,a,l,y=null,k=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:y,subTimeline:k}}class lD{constructor(){this._map=new Map}consume(i){let e=this._map.get(i);return e?this._map.delete(i):e=[],e}append(i,e){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const eY=new RegExp(":enter","g"),nY=new RegExp(":leave","g");function CL(t,i,e,s,a,l={},y={},k,V,K=[]){return(new iY).buildKeyframes(t,i,e,s,a,l,y,k,V,K)}class iY{buildKeyframes(i,e,s,a,l,y,k,V,K,pe=[]){K=K||new lD;const Se=new ML(i,e,K,a,l,pe,[]);Se.options=V,Se.currentTimeline.setStyles([y],null,Se.errors,V),Tm(this,s,Se);const Ue=Se.timelines.filter(Je=>Je.containsAnimation());if(Ue.length&&Object.keys(k).length){const Je=Ue[Ue.length-1];Je.allowOnlyTimelineStyles()||Je.setStyles([k],null,Se.errors,V)}return Ue.length?Ue.map(Je=>Je.buildKeyframes()):[wL(e,[],[],[],0,0,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const s=e.subInstructions.consume(e.element);if(s){const a=e.createSubContext(i.options),l=e.currentTimeline.currentTime,y=this._visitSubInstructions(s,a,a.options);l!=y&&e.transformIntoNewTimeline(y)}e.previousNode=i}visitAnimateRef(i,e){const s=e.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=i}_visitSubInstructions(i,e,s){let l=e.currentTimeline.currentTime;const y=null!=s.duration?Ox(s.duration):null,k=null!=s.delay?Ox(s.delay):null;return 0!==y&&i.forEach(V=>{const K=e.appendInstructionToTimeline(V,y,k);l=Math.max(l,K.duration+K.delay)}),l}visitReference(i,e){e.updateOptions(i.options,!0),Tm(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const s=e.subContextCount;let a=e;const l=i.options;if(l&&(l.params||l.delay)&&(a=e.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=cD);const y=Ox(l.delay);a.delayNextStep(y)}i.steps.length&&(i.steps.forEach(y=>Tm(this,y,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const s=[];let a=e.currentTimeline.currentTime;const l=i.options&&i.options.delay?Ox(i.options.delay):0;i.steps.forEach(y=>{const k=e.createSubContext(i.options);l&&k.delayNextStep(l),Tm(this,y,k),a=Math.max(a,k.currentTimeline.currentTime),s.push(k.currentTimeline)}),s.forEach(y=>e.currentTimeline.mergeTimelineCollectedStyles(y)),e.transformIntoNewTimeline(a),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const s=i.strValue;return tD(e.params?nD(s,e.params,e.errors):s,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const s=e.currentAnimateTimings=this._visitTiming(i.timings,e),a=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(s.duration),this.visitStyle(l,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const s=e.currentTimeline,a=e.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const s=e.currentAnimateTimings,a=e.currentTimeline.duration,l=s.duration,k=e.createSubContext().currentTimeline;k.easing=s.easing,i.styles.forEach(V=>{k.forwardTime((V.offset||0)*l),k.setStyles(V.styles,V.easing,e.errors,e.options),k.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(k),e.transformIntoNewTimeline(a+l),e.previousNode=i}visitQuery(i,e){const s=e.currentTimeline.currentTime,a=i.options||{},l=a.delay?Ox(a.delay):0;l&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cD);let y=s;const k=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=k.length;let V=null;k.forEach((K,pe)=>{e.currentQueryIndex=pe;const Se=e.createSubContext(i.options,K);l&&Se.delayNextStep(l),K===e.element&&(V=Se.currentTimeline),Tm(this,i.animation,Se),Se.currentTimeline.applyStylesToKeyframe(),y=Math.max(y,Se.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(y),V&&(e.currentTimeline.mergeTimelineCollectedStyles(V),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const s=e.parentContext,a=e.currentTimeline,l=i.timings,y=Math.abs(l.duration),k=y*(e.currentQueryTotal-1);let V=y*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":V=k-V;break;case"full":V=s.currentStaggerTime}const pe=e.currentTimeline;V&&pe.delayNextStep(V);const Se=pe.currentTime;Tm(this,i.animation,e),e.previousNode=i,s.currentStaggerTime=a.currentTime-Se+(a.startTime-s.currentTimeline.startTime)}}const cD={};class ML{constructor(i,e,s,a,l,y,k,V){this._driver=i,this.element=e,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=y,this.timelines=k,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=V||new uD(this._driver,e,0),k.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=Ox(s.duration)),null!=s.delay&&(a.delay=Ox(s.delay));const l=s.params;if(l){let y=a.params;y||(y=this.options.params={}),Object.keys(l).forEach(k=>{(!e||!y.hasOwnProperty(k))&&(y[k]=nD(l[k],y,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const s=i.params={};Object.keys(e).forEach(a=>{s[a]=e[a]})}}return i}createSubContext(i=null,e,s){const a=e||this.element,l=new ML(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=cD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,s){const a={duration:null!=e?e:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new rY(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,s,a,l,y){let k=[];if(a&&k.push(this.element),i.length>0){i=(i=i.replace(eY,"."+this._enterClassName)).replace(nY,"."+this._leaveClassName);let K=this._driver.query(this.element,i,1!=s);0!==s&&(K=s<0?K.slice(K.length+s,K.length):K.slice(0,s)),k.push(...K)}return!l&&0==k.length&&y.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),k}}class uD{constructor(i,e,s,a){this._driver=i,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new uD(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles[i]=e,this._globalTimelineStyles[i]=e,this._styleSummary[i]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||wy,this._currentKeyframe[e]=wy}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,s,a){e&&(this._previousKeyframe.easing=e);const l=a&&a.params||{},y=function(t,i){const e={};let s;return t.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{e[l]=wy})):Xb(a,!1,e)}),e}(i,this._globalTimelineStyles);Object.keys(y).forEach(k=>{const V=nD(y[k],l,s);this._pendingStyles[k]=V,this._localTimelineStyles.hasOwnProperty(k)||(this._backFill[k]=this._globalTimelineStyles.hasOwnProperty(k)?this._globalTimelineStyles[k]:wy),this._updateStyle(k,V)})}applyStylesToKeyframe(){const i=this._pendingStyles,e=Object.keys(i);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const e=this._localTimelineStyles[i];this._pendingStyles[i]=e,this._updateStyle(i,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(e=>{const s=this._styleSummary[e],a=i._styleSummary[e];(!s||a.time>s.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((k,V)=>{const K=Xb(k,!0);Object.keys(K).forEach(pe=>{const Se=K[pe];"!"==Se?i.add(pe):Se==wy&&e.add(pe)}),s||(K.offset=V/this.duration),a.push(K)});const l=i.size?iD(i.values()):[],y=e.size?iD(e.values()):[];if(s){const k=a[0],V=L1(k);k.offset=0,V.offset=1,a=[k,V]}return wL(this.element,a,l,y,this.duration,this.startTime,this.easing,!1)}}class rY extends uD{constructor(i,e,s,a,l,y,k=!1){super(i,e,y.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=k,this.timings={duration:y.duration,delay:y.delay,easing:y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],y=s+e,k=e/y,V=Xb(i[0],!1);V.offset=0,l.push(V);const K=Xb(i[0],!1);K.offset=NO(k),l.push(K);const pe=i.length-1;for(let Se=1;Se<=pe;Se++){let Ue=Xb(i[Se],!1);Ue.offset=NO((e+Ue.offset*s)/y),l.push(Ue)}s=y,e=0,a="",i=l}return wL(this.element,i,this.preStyleProps,this.postStyleProps,s,e,a,!0)}}function NO(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}class TL{}class oY extends TL{normalizePropertyName(i,e){return yL(i)}normalizeStyleValue(i,e,s,a){let l="";const y=s.toString().trim();if(aY[e]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const k=s.match(/^[+-]?[\d\.]+([a-z]*)$/);k&&0==k[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return y+l}}const aY=(()=>function(t){const i={};return t.forEach(e=>i[e]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zO(t,i,e,s,a,l,y,k,V,K,pe,Se,Ue){return{type:0,element:t,triggerName:i,isRemovalTransition:a,fromState:e,fromStyles:l,toState:s,toStyles:y,timelines:k,queriedElements:V,preStyleProps:K,postStyleProps:pe,totalTime:Se,errors:Ue}}const SL={};class YO{constructor(i,e,s){this._triggerName=i,this.ast=e,this._stateStyles=s}match(i,e,s,a){return function(t,i,e,s,a){return t.some(l=>l(i,e,s,a))}(this.ast.matchers,i,e,s,a)}buildStyles(i,e,s){const a=this._stateStyles["*"],l=this._stateStyles[i],y=a?a.buildStyles(e,s):{};return l?l.buildStyles(e,s):y}build(i,e,s,a,l,y,k,V,K,pe){const Se=[],Ue=this.ast.options&&this.ast.options.params||SL,rt=this.buildStyles(s,k&&k.params||SL,Se),Tt=V&&V.params||SL,Qt=this.buildStyles(a,Tt,Se),Cn=new Set,Jn=new Map,Zn=new Map,Di="void"===a,Bi={params:Object.assign(Object.assign({},Ue),Tt)},ls=pe?[]:CL(i,e,this.ast.animation,l,y,rt,Qt,Bi,K,Se);let co=0;if(ls.forEach(wl=>{co=Math.max(wl.duration+wl.delay,co)}),Se.length)return zO(e,this._triggerName,s,a,Di,rt,Qt,[],[],Jn,Zn,co,Se);ls.forEach(wl=>{const mh=wl.element,BT=nt(Jn,mh,{});wl.preStyleProps.forEach(Xx=>BT[Xx]=!0);const VT=nt(Zn,mh,{});wl.postStyleProps.forEach(Xx=>VT[Xx]=!0),mh!==e&&Cn.add(mh)});const zc=iD(Cn.values());return zO(e,this._triggerName,s,a,Di,rt,Qt,ls,zc,Jn,Zn,co)}}class uY{constructor(i,e,s){this.styles=i,this.defaultParams=e,this.normalizer=s}buildStyles(i,e){const s={},a=L1(this.defaultParams);return Object.keys(i).forEach(l=>{const y=i[l];null!=y&&(a[l]=y)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const y=l;Object.keys(y).forEach(k=>{let V=y[k];V.length>1&&(V=nD(V,a,e));const K=this.normalizer.normalizePropertyName(k,e);V=this.normalizer.normalizeStyleValue(k,K,V,e),s[K]=V})}}),s}}class hY{constructor(i,e,s){this.name=i,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new uY(a.style,a.options&&a.options.params||{},s)}),BO(this.states,"true","1"),BO(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new YO(i,a,this.states))}),this.fallbackTransition=function(t,i,e){return new YO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(y,k)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,s,a){return this.transitionFactories.find(y=>y.match(i,e,s,a))||null}matchStyles(i,e,s){return this.fallbackTransition.buildStyles(i,e,s)}}function BO(t,i,e){t.hasOwnProperty(i)?t.hasOwnProperty(e)||(t[e]=t[i]):t.hasOwnProperty(e)&&(t[i]=t[e])}const fY=new lD;class mY{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,e){const s=[],a=bL(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,e,s){const a=i.element,l=ee(0,this._normalizer,0,i.keyframes,e,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,e,s={}){const a=[],l=this._animations[i];let y;const k=new Map;if(l?(y=CL(this._driver,e,l,fL,JE,{},{},s,fY,a),y.forEach(pe=>{const Se=nt(k,pe.element,{});pe.postStyleProps.forEach(Ue=>Se[Ue]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),y=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);k.forEach((pe,Se)=>{Object.keys(pe).forEach(Ue=>{pe[Ue]=this._driver.computeStyle(Se,Ue,wy)})});const K=q(y.map(pe=>{const Se=k.get(pe.element);return this._buildPlayer(pe,{},Se)}));return this._playersById[i]=K,K.onDestroy(()=>this.destroy(i)),this.players.push(K),K}destroy(i){const e=this._getPlayer(i);e.destroy(),delete this._playersById[i];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(i){const e=this._playersById[i];if(!e)throw new Error(`Unable to find the timeline player referenced by ${i}`);return e}listen(i,e,s,a){const l=Ve(e,"","","");return de(this._getPlayer(i),s,l,a),()=>{}}command(i,e,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,e,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const VO="ng-animate-queued",HO="ng-animate-disabled",UO=".ng-animate-disabled",vY=[],jO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mg="__ng_removed";class kL{constructor(i,e=""){this.namespaceId=e;const s=i&&i.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(s?i.value:i),s){const l=L1(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const e=i.params;if(e){const s=this.options.params;Object.keys(e).forEach(a=>{null==s[a]&&(s[a]=e[a])})}}}const lT="void",EL=new kL(lT);class xY{constructor(i,e,s){this.id=i,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,gg(e,this._hostClassName)}listen(i,e,s,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(t){return"start"==t||"done"==t}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const l=nt(this._elementListeners,i,[]),y={name:e,phase:s,callback:a};l.push(y);const k=nt(this._engine.statesByElement,i,{});return k.hasOwnProperty(e)||(gg(i,KE),gg(i,KE+"-"+e),k[e]=EL),()=>{this._engine.afterFlush(()=>{const V=l.indexOf(y);V>=0&&l.splice(V,1),this._triggers[e]||delete k[e]})}}register(i,e){return!this._triggers[i]&&(this._triggers[i]=e,!0)}_getTrigger(i){const e=this._triggers[i];if(!e)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return e}trigger(i,e,s,a=!0){const l=this._getTrigger(e),y=new DL(this.id,e,i);let k=this._engine.statesByElement.get(i);k||(gg(i,KE),gg(i,KE+"-"+e),this._engine.statesByElement.set(i,k={}));let V=k[e];const K=new kL(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&V&&K.absorbOptions(V.options),k[e]=K,V||(V=EL),K.value!==lT&&V.value===K.value){if(!function(t,i){const e=Object.keys(t),s=Object.keys(i);if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++){const l=e[a];if(!i.hasOwnProperty(l)||t[l]!==i[l])return!1}return!0}(V.params,K.params)){const Tt=[],Qt=l.matchStyles(V.value,V.params,Tt),Cn=l.matchStyles(K.value,K.params,Tt);Tt.length?this._engine.reportError(Tt):this._engine.afterFlush(()=>{Rx(i,Qt),ky(i,Cn)})}return}const Ue=nt(this._engine.playersByElement,i,[]);Ue.forEach(Tt=>{Tt.namespaceId==this.id&&Tt.triggerName==e&&Tt.queued&&Tt.destroy()});let Je=l.matchTransition(V.value,K.value,i,K.params),rt=!1;if(!Je){if(!a)return;Je=l.fallbackTransition,rt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:Je,fromState:V,toState:K,player:y,isFallbackTransition:rt}),rt||(gg(i,VO),y.onStart(()=>{P1(i,VO)})),y.onDone(()=>{let Tt=this.players.indexOf(y);Tt>=0&&this.players.splice(Tt,1);const Qt=this._engine.playersByElement.get(i);if(Qt){let Cn=Qt.indexOf(y);Cn>=0&&Qt.splice(Cn,1)}}),this.players.push(y),Ue.push(y),y}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((e,s)=>{delete e[i]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const s=this._engine.driver.query(i,eD,!0);s.forEach(a=>{if(a[mg])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(y=>y.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,e,s,a){const l=this._engine.statesByElement.get(i);if(l){const y=[];if(Object.keys(l).forEach(k=>{if(this._triggers[k]){const V=this.trigger(i,k,lT,a);V&&y.push(V)}}),y.length)return this._engine.markElementAsRemoved(this.id,i,!0,e),s&&q(y).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(e&&s){const a=new Set;e.forEach(l=>{const y=l.name;if(a.has(y))return;a.add(y);const V=this._triggers[y].fallbackTransition,K=s[y]||EL,pe=new kL(lT),Se=new DL(this.id,y,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:y,transition:V,fromState:K,toState:pe,player:Se,isFallbackTransition:!0})})}}removeNode(i,e){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let y=i;for(;y=y.parentNode;)if(s.statesByElement.get(y)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,e);else{const l=i[mg];(!l||l===jO)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,e))}}insertNode(i,e){gg(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,y=this._elementListeners.get(l);y&&y.forEach(k=>{if(k.name==s.triggerName){const V=Ve(l,s.triggerName,s.fromState.value,s.toState.value);V._data=i,de(s.player,k.phase,V,k.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(s)}),this._queue=[],e.sort((s,a)=>{const l=s.transition.ast.depCount,y=a.transition.ast.depCount;return 0==l||0==y?l-y:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let e=!1;return this._elementListeners.has(i)&&(e=!0),e=!!this._queue.find(s=>s.element===i)||e,e}}class wY{constructor(i,e,s){this.bodyNode=i,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,e){const s=new xY(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,e){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(e,i),i}register(i,e){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,e)),s}registerTrigger(i,e,s){let a=this._namespaceLookup[i];a&&a.register(e,s)&&this.totalAnimations++}destroy(i,e){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const y=s[a[l]].namespaceId;if(y){const k=this._fetchNamespace(y);k&&e.add(k)}}}return e}trigger(i,e,s,a){if(dD(e)){const l=this._fetchNamespace(i);if(l)return l.trigger(e,s,a),!0}return!1}insertNode(i,e,s,a){if(!dD(e))return;const l=e[mg];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const y=this.collectedLeaveElements.indexOf(e);y>=0&&this.collectedLeaveElements.splice(y,1)}if(i){const y=this._fetchNamespace(i);y&&y.insertNode(e,s)}a&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),gg(i,HO)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),P1(i,HO))}removeNode(i,e,s,a){if(dD(e)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(e,a):this.markElementAsRemoved(i,e,!1,a),s){const y=this.namespacesByHostElement.get(e);y&&y.id!==i&&y.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(i,e,s,a){this.collectedLeaveElements.push(e),e[mg]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,e,s,a,l){return dD(e)?this._fetchNamespace(i).listen(e,s,a,l):()=>{}}_buildInstruction(i,e,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,e,l)}destroyInnerAnimations(i){let e=this.driver.query(i,eD,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,mL,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return q(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[mg];if(e&&e.setForRemoval){if(i[mg]=jO,e.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}this.driver.matchesElement(i,UO)&&this.markElementAsDisabled(i,!1),this.driver.query(i,UO,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)gg(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?q(e).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,e){const s=new lD,a=[],l=new Map,y=[],k=new Map,V=new Map,K=new Map,pe=new Set;this.disabledNodes.forEach(or=>{pe.add(or);const Vr=this.driver.query(or,".ng-animate-queued",!0);for(let Is=0;Is<Vr.length;Is++)pe.add(Vr[Is])});const Se=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),Je=WO(Ue,this.collectedEnterElements),rt=new Map;let Tt=0;Je.forEach((or,Vr)=>{const Is=fL+Tt++;rt.set(Vr,Is),or.forEach(na=>gg(na,Is))});const Qt=[],Cn=new Set,Jn=new Set;for(let or=0;or<this.collectedLeaveElements.length;or++){const Vr=this.collectedLeaveElements[or],Is=Vr[mg];Is&&Is.setForRemoval&&(Qt.push(Vr),Cn.add(Vr),Is.hasAnimation?this.driver.query(Vr,".ng-star-inserted",!0).forEach(na=>Cn.add(na)):Jn.add(Vr))}const Zn=new Map,Di=WO(Ue,Array.from(Cn));Di.forEach((or,Vr)=>{const Is=JE+Tt++;Zn.set(Vr,Is),or.forEach(na=>gg(na,Is))}),i.push(()=>{Je.forEach((or,Vr)=>{const Is=rt.get(Vr);or.forEach(na=>P1(na,Is))}),Di.forEach((or,Vr)=>{const Is=Zn.get(Vr);or.forEach(na=>P1(na,Is))}),Qt.forEach(or=>{this.processLeaveNode(or)})});const Bi=[],ls=[];for(let or=this._namespaceList.length-1;or>=0;or--)this._namespaceList[or].drainQueuedTransitions(e).forEach(Is=>{const na=Is.player,gh=Is.element;if(Bi.push(na),this.collectedEnterElements.length){const Oy=gh[mg];if(Oy&&Oy.setForMove)return void na.destroy()}const Py=!Se||!this.driver.containsElement(Se,gh),Dm=Zn.get(gh),f0=rt.get(gh),eu=this._buildInstruction(Is,s,f0,Dm,Py);if(eu.errors&&eu.errors.length)ls.push(eu);else{if(Py)return na.onStart(()=>Rx(gh,eu.fromStyles)),na.onDestroy(()=>ky(gh,eu.toStyles)),void a.push(na);if(Is.isFallbackTransition)return na.onStart(()=>Rx(gh,eu.fromStyles)),na.onDestroy(()=>ky(gh,eu.toStyles)),void a.push(na);eu.timelines.forEach(Oy=>Oy.stretchStartingKeyframe=!0),s.append(gh,eu.timelines),y.push({instruction:eu,player:na,element:gh}),eu.queriedElements.forEach(Oy=>nt(k,Oy,[]).push(na)),eu.preStyleProps.forEach((Oy,HT)=>{const hA=Object.keys(Oy);if(hA.length){let Qx=V.get(HT);Qx||V.set(HT,Qx=new Set),hA.forEach(Q2=>Qx.add(Q2))}}),eu.postStyleProps.forEach((Oy,HT)=>{const hA=Object.keys(Oy);let Qx=K.get(HT);Qx||K.set(HT,Qx=new Set),hA.forEach(Q2=>Qx.add(Q2))})}});if(ls.length){const or=[];ls.forEach(Vr=>{or.push(`@${Vr.triggerName} has failed due to:\n`),Vr.errors.forEach(Is=>or.push(`- ${Is}\n`))}),Bi.forEach(Vr=>Vr.destroy()),this.reportError(or)}const co=new Map,zc=new Map;y.forEach(or=>{const Vr=or.element;s.has(Vr)&&(zc.set(Vr,Vr),this._beforeAnimationBuild(or.player.namespaceId,or.instruction,co))}),a.forEach(or=>{const Vr=or.element;this._getPreviousPlayers(Vr,!1,or.namespaceId,or.triggerName,null).forEach(na=>{nt(co,Vr,[]).push(na),na.destroy()})});const wl=Qt.filter(or=>$O(or,V,K)),mh=new Map;ZO(mh,this.driver,Jn,K,wy).forEach(or=>{$O(or,V,K)&&wl.push(or)});const VT=new Map;Je.forEach((or,Vr)=>{ZO(VT,this.driver,new Set(or),V,"!")}),wl.forEach(or=>{const Vr=mh.get(or),Is=VT.get(or);mh.set(or,Object.assign(Object.assign({},Vr),Is))});const Xx=[],cz=[],uz={};y.forEach(or=>{const{element:Vr,player:Is,instruction:na}=or;if(s.has(Vr)){if(pe.has(Vr))return Is.onDestroy(()=>ky(Vr,na.toStyles)),Is.disabled=!0,Is.overrideTotalTime(na.totalTime),void a.push(Is);let gh=uz;if(zc.size>1){let Dm=Vr;const f0=[];for(;Dm=Dm.parentNode;){const eu=zc.get(Dm);if(eu){gh=eu;break}f0.push(Dm)}f0.forEach(eu=>zc.set(eu,gh))}const Py=this._buildAnimation(Is.namespaceId,na,co,l,VT,mh);if(Is.setRealPlayer(Py),gh===uz)Xx.push(Is);else{const Dm=this.playersByElement.get(gh);Dm&&Dm.length&&(Is.parentPlayer=q(Dm)),a.push(Is)}}else Rx(Vr,na.fromStyles),Is.onDestroy(()=>ky(Vr,na.toStyles)),cz.push(Is),pe.has(Vr)&&a.push(Is)}),cz.forEach(or=>{const Vr=l.get(or.element);if(Vr&&Vr.length){const Is=q(Vr);or.setRealPlayer(Is)}}),a.forEach(or=>{or.parentPlayer?or.syncPlayerEvents(or.parentPlayer):or.destroy()});for(let or=0;or<Qt.length;or++){const Vr=Qt[or],Is=Vr[mg];if(P1(Vr,JE),Is&&Is.hasAnimation)continue;let na=[];if(k.size){let Py=k.get(Vr);Py&&Py.length&&na.push(...Py);let Dm=this.driver.query(Vr,mL,!0);for(let f0=0;f0<Dm.length;f0++){let eu=k.get(Dm[f0]);eu&&eu.length&&na.push(...eu)}}const gh=na.filter(Py=>!Py.destroyed);gh.length?SY(this,Vr,gh):this.processLeaveNode(Vr)}return Qt.length=0,Xx.forEach(or=>{this.players.push(or),or.onDone(()=>{or.destroy();const Vr=this.players.indexOf(or);this.players.splice(Vr,1)}),or.play()}),Xx}elementContainsData(i,e){let s=!1;const a=e[mg];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(i).elementContainsData(e)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,s,a,l){let y=[];if(e){const k=this.playersByQueriedElement.get(i);k&&(y=k)}else{const k=this.playersByElement.get(i);if(k){const V=!l||l==lT;k.forEach(K=>{K.queued||!V&&K.triggerName!=a||y.push(K)})}}return(s||a)&&(y=y.filter(k=>!(s&&s!=k.namespaceId||a&&a!=k.triggerName))),y}_beforeAnimationBuild(i,e,s){const l=e.element,y=e.isRemovalTransition?void 0:i,k=e.isRemovalTransition?void 0:e.triggerName;for(const V of e.timelines){const K=V.element,pe=K!==l,Se=nt(s,K,[]);this._getPreviousPlayers(K,pe,y,k,e.toState).forEach(Je=>{const rt=Je.getRealPlayer();rt.beforeDestroy&&rt.beforeDestroy(),Je.destroy(),Se.push(Je)})}Rx(l,e.fromStyles)}_buildAnimation(i,e,s,a,l,y){const k=e.triggerName,V=e.element,K=[],pe=new Set,Se=new Set,Ue=e.timelines.map(rt=>{const Tt=rt.element;pe.add(Tt);const Qt=Tt[mg];if(Qt&&Qt.removedBeforeQueried)return new d(rt.duration,rt.delay);const Cn=Tt!==V,Jn=function(t){const i=[];return qO(t,i),i}((s.get(Tt)||vY).map(co=>co.getRealPlayer())).filter(co=>!!co.element&&co.element===Tt),Zn=l.get(Tt),Di=y.get(Tt),Bi=ee(0,this._normalizer,0,rt.keyframes,Zn,Di),ls=this._buildPlayer(rt,Bi,Jn);if(rt.subTimeline&&a&&Se.add(Tt),Cn){const co=new DL(i,k,Tt);co.setRealPlayer(ls),K.push(co)}return ls});K.forEach(rt=>{nt(this.playersByQueriedElement,rt.element,[]).push(rt),rt.onDone(()=>function(t,i,e){let s;if(t instanceof Map){if(s=t.get(i),s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&t.delete(i)}}else if(s=t[i],s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&delete t[i]}return s}(this.playersByQueriedElement,rt.element,rt))}),pe.forEach(rt=>gg(rt,kO));const Je=q(Ue);return Je.onDestroy(()=>{pe.forEach(rt=>P1(rt,kO)),ky(V,e.toStyles)}),Se.forEach(rt=>{nt(a,rt,[]).push(Je)}),Je}_buildPlayer(i,e,s){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,s):new d(i.duration,i.delay)}}class DL{constructor(i,e,s){this.namespaceId=i,this.triggerName=e,this.element=s,this._player=new d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>de(i,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){nt(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function dD(t){return t&&1===t.nodeType}function GO(t,i){const e=t.style.display;return t.style.display=null!=i?i:"none",e}function ZO(t,i,e,s,a){const l=[];e.forEach(V=>l.push(GO(V)));const y=[];s.forEach((V,K)=>{const pe={};V.forEach(Se=>{const Ue=pe[Se]=i.computeStyle(K,Se,a);(!Ue||0==Ue.length)&&(K[mg]=bY,y.push(K))}),t.set(K,pe)});let k=0;return e.forEach(V=>GO(V,l[k++])),y}function WO(t,i){const e=new Map;if(t.forEach(k=>e.set(k,[])),0==i.length)return e;const a=new Set(i),l=new Map;function y(k){if(!k)return 1;let V=l.get(k);if(V)return V;const K=k.parentNode;return V=e.has(K)?K:a.has(K)?1:y(K),l.set(k,V),V}return i.forEach(k=>{const V=y(k);1!==V&&e.get(V).push(k)}),e}const hD="$$classes";function gg(t,i){if(t.classList)t.classList.add(i);else{let e=t[hD];e||(e=t[hD]={}),e[i]=!0}}function P1(t,i){if(t.classList)t.classList.remove(i);else{let e=t[hD];e&&delete e[i]}}function SY(t,i,e){q(e).onDone(()=>t.processLeaveNode(i))}function qO(t,i){for(let e=0;e<t.length;e++){const s=t[e];s instanceof m?qO(s.players,i):i.push(s)}}function $O(t,i,e){const s=e.get(t);if(!s)return!1;let a=i.get(t);return a?s.forEach(l=>a.add(l)):i.set(t,s),e.delete(t),!0}class pD{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new wY(i,e,s),this._timelineEngine=new mY(i,e,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,e,s,a,l){const y=i+"-"+a;let k=this._triggerCache[y];if(!k){const V=[],K=bL(this._driver,l,V);if(V.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${V.join("\n - ")}`);k=function(t,i,e){return new hY(t,i,e)}(a,K,this._normalizer),this._triggerCache[y]=k}this._transitionEngine.registerTrigger(e,a,k)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,s,a){this._transitionEngine.insertNode(i,e,s,a)}onRemove(i,e,s,a){this._transitionEngine.removeNode(i,e,a||!1,s)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,s,a){if("@"==s.charAt(0)){const[l,y]=pt(s);this._timelineEngine.command(l,e,y,a)}else this._transitionEngine.trigger(i,e,s,a)}listen(i,e,s,a,l){if("@"==s.charAt(0)){const[y,k]=pt(s);return this._timelineEngine.listen(y,e,k,l)}return this._transitionEngine.listen(i,e,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function XO(t,i){let e=null,s=null;return Array.isArray(i)&&i.length?(e=AL(i[0]),i.length>1&&(s=AL(i[i.length-1]))):i&&(e=AL(i)),e||s?new O1(t,e,s):null}class O1{constructor(i,e,s){this._element=i,this._startStyles=e,this._endStyles=s,this._state=0;let a=O1.initialStylesByElement.get(i);a||O1.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ky(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ky(this._element,this._initialStyles),this._endStyles&&(ky(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(O1.initialStylesByElement.delete(this._element),this._startStyles&&(Rx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rx(this._element,this._endStyles),this._endStyles=null),ky(this._element,this._initialStyles),this._state=3)}}function AL(t){let i=null;const e=Object.keys(t);for(let s=0;s<e.length;s++){const a=e[s];DY(a)&&(i=i||{},i[a]=t[a])}return i}function DY(t){return"display"===t||"position"===t}O1.initialStylesByElement=new WeakMap;const QO="animation",JO="animationend";class LY{constructor(i,e,s,a,l,y,k){this._element=i,this._name=e,this._duration=s,this._delay=a,this._easing=l,this._fillMode=y,this._onDoneFn=k,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=V=>this._handleCallback(V)}apply(){(function(t,i){const e=LL(t,"").trim();let s=0;e.length&&(function(t,i){let e=0;for(let s=0;s<t.length;s++)","===t.charAt(s)&&e++;return e}(e)+1,i=`${e}, ${i}`),fD(t,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tR(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){KO(this._element,this._name,"paused")}resume(){KO(this._element,this._name,"running")}setPosition(i){const e=eR(this._element,this._name);this._position=i*this._duration,fD(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(i){const e=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tR(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,i){const s=LL(t,"").split(","),a=IL(s,i);a>=0&&(s.splice(a,1),fD(t,"",s.join(",")))}(this._element,this._name))}}function KO(t,i,e){fD(t,"PlayState",e,eR(t,i))}function eR(t,i){const e=LL(t,"");return e.indexOf(",")>0?IL(e.split(","),i):IL([e],i)}function IL(t,i){for(let e=0;e<t.length;e++)if(t[e].indexOf(i)>=0)return e;return-1}function tR(t,i,e){e?t.removeEventListener(JO,i):t.addEventListener(JO,i)}function fD(t,i,e,s){const a=QO+i;if(null!=s){const l=t.style[a];if(l.length){const y=l.split(",");y[s]=e,e=y.join(",")}}t.style[a]=e}function LL(t,i){return t.style[QO+i]||""}class nR{constructor(i,e,s,a,l,y,k,V){this.element=i,this.keyframes=e,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=k,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=y||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new LY(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=e?this._finalStyles[s]:vL(this.element,s))})}this.currentSnapshot=i}}class zY extends d{constructor(i,e){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=D1(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const e=this._startingStyles[i];e?this.element.style.setProperty(i,e):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class rR{constructor(){this._count=0}validateStyleProperty(i){return Ep(i)}matchesElement(i,e){return My(i,e)}containsElement(i,e){return Ty(i,e)}query(i,e,s){return Sy(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}buildKeyframeElement(i,e,s){s=s.map(k=>D1(k));let a=`@keyframes ${e} {\n`,l="";s.forEach(k=>{l=" ";const V=parseFloat(k.offset);a+=`${l}${100*V}% {\n`,l+=" ",Object.keys(k).forEach(K=>{const pe=k[K];switch(K){case"offset":return;case"easing":return void(pe&&(a+=`${l}animation-timing-function: ${pe};\n`));default:return void(a+=`${l}${K}: ${pe};\n`)}}),a+=`${l}}\n`}),a+="}\n";const y=document.createElement("style");return y.textContent=a,y}animate(i,e,s,a,l,y=[],k){const V=y.filter(Qt=>Qt instanceof nR),K={};LO(s,a)&&V.forEach(Qt=>{let Cn=Qt.currentSnapshot;Object.keys(Cn).forEach(Jn=>K[Jn]=Cn[Jn])});const pe=function(t){let i={};return t&&(Array.isArray(t)?t:[t]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(e=PO(i,e,K));if(0==s)return new zY(i,pe);const Se="gen_css_kf_"+this._count++,Ue=this.buildKeyframeElement(i,Se,e);(function(t){var i;const e=null===(i=t.getRootNode)||void 0===i?void 0:i.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(i).appendChild(Ue);const rt=XO(i,e),Tt=new nR(i,e,Se,s,a,l,pe,rt);return Tt.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(Ue)),Tt}}class oR{constructor(i,e,s,a){this.element=i,this.keyframes=e,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,e,s){return i.animate(e,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(i[e]=this._finished?this._finalKeyframe[e]:vL(this.element,e))}),this.currentSnapshot=i}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class UY{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(aR().toString()),this._cssKeyframesDriver=new rR}validateStyleProperty(i){return Ep(i)}matchesElement(i,e){return My(i,e)}containsElement(i,e){return Ty(i,e)}query(i,e,s){return Sy(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,e,s,a,l,y=[],k){if(!k&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,e,s,a,l,y);const pe={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(pe.easing=l);const Se={},Ue=y.filter(rt=>rt instanceof oR);LO(s,a)&&Ue.forEach(rt=>{let Tt=rt.currentSnapshot;Object.keys(Tt).forEach(Qt=>Se[Qt]=Tt[Qt])});const Je=XO(i,e=PO(i,e=e.map(rt=>Xb(rt,!1)),Se));return new oR(i,e,pe,Je)}}function aR(){return D()&&Element.prototype.animate||{}}let GY=(()=>{class t extends XE{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?QE(e):e;return lR(this._renderer,null,s,"register",[a]),new ZY(s,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(Te))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class ZY extends class{}{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new WY(this._id,i,e||{},this._renderer)}}class WY{constructor(i,e,s,a){this.id=i,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return lR(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,e;return null!==(e=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==e?e:0}}function lR(t,i,e,s,a){return t.setProperty(i,`@@${e}:${s}`,a)}const cR="@.disabled";let qY=(()=>{class t{constructor(e,s,a){this.delegate=e,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,y)=>{y&&y.parentNode(l)&&y.removeChild(l.parentNode,l)}}createRenderer(e,s){const l=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let pe=this._rendererCache.get(l);return pe||(pe=new uR("",l,this.engine),this._rendererCache.set(l,pe)),pe}const y=s.id,k=s.id+"-"+this._currentId;this._currentId++,this.engine.register(k,e);const V=pe=>{Array.isArray(pe)?pe.forEach(V):this.engine.registerTrigger(y,k,e,pe.name,pe)};return s.data.animation.forEach(V),new $Y(this,k,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,a){e>=0&&e<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[y,k]=l;y(k)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(pD),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class uR{constructor(i,e,s){this.namespaceId=i,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,s,a=!0){this.delegate.insertBefore(i,e,s),this.engine.onInsert(this.namespaceId,e,i,a)}removeChild(i,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,s,a){this.delegate.setAttribute(i,e,s,a)}removeAttribute(i,e,s){this.delegate.removeAttribute(i,e,s)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,s,a){this.delegate.setStyle(i,e,s,a)}removeStyle(i,e,s){this.delegate.removeStyle(i,e,s)}setProperty(i,e,s){"@"==e.charAt(0)&&e==cR?this.disableAnimations(i,!!s):this.delegate.setProperty(i,e,s)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,s){return this.delegate.listen(i,e,s)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class $Y extends uR{constructor(i,e,s,a){super(e,s,a),this.factory=i,this.namespaceId=e}setProperty(i,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cR?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,e.substr(1),s):this.delegate.setProperty(i,e,s)}listen(i,e,s){if("@"==e.charAt(0)){const a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let l=e.substr(1),y="";return"@"!=l.charAt(0)&&([l,y]=function(t){const i=t.indexOf(".");return[t.substring(0,i),t.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,y,k=>{this.factory.scheduleListenerCallback(k._data||-1,s,k)})}return this.delegate.listen(i,e,s)}}let JY=(()=>{class t extends pD{constructor(e,s,a){super(e.body,s,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG($b),o.LFG(TL))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const af=new o.OlP("AnimationModuleType"),dR=[{provide:XE,useClass:GY},{provide:TL,useFactory:function(){return new oY}},{provide:pD,useClass:JY},{provide:o.FYo,useFactory:function(t,i,e){return new qY(t,i,e)},deps:[tc,pD,o.R0b]}],hR=[{provide:$b,useFactory:function(){return"function"==typeof aR()?new UY:new rR}},{provide:af,useValue:"BrowserAnimations"},...dR],pR=[{provide:$b,useClass:A1},{provide:af,useValue:"NoopAnimations"},...dR];let nB=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?pR:hR}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:hR,imports:[op]}),t})();function sB(t,i){if(1&t&&o._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function oB(t,i){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const aB=["*"];let lB=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),cB=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const fR=new o.GfV("11.2.13"),dB=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Nx,to=(()=>{class t{constructor(e,s,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,o.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const s=this._document.createElement("div");s.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(s);const a=getComputedStyle(s);a&&"none"!==a.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(s)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&fR.full!==$E.full&&console.warn("The Angular Material version ("+fR.full+") does not match the Angular CDK version ("+$E.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(iT),o.LFG(dB,8),o.LFG(Te))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Tv],Tv]}),t})();function kv(t){return class extends t{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=Gs(i)}}}function R1(t,i){return class extends t{constructor(...e){super(...e),this.defaultColor=i,this.color=i}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function gD(t){return class extends t{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=Gs(s)}}}function mR(t,i=0){return class extends t{constructor(...a){super(...a),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(a){this._tabIndex=null!=a?Xc(a):this.defaultTabIndex}}}function gR(t){return class extends t{constructor(...i){super(...i),this.errorState=!1,this.stateChanges=new ai.xQ}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}function _R(t){return class extends t{constructor(...i){super(...i),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Er.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(i){i.next(),i.complete()}}}try{Nx="undefined"!=typeof Intl}catch(t){Nx=!1}let PL=(()=>{class t{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class CB{constructor(i,e,s){this._renderer=i,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vR={enterDuration:450,exitDuration:400},OL=_1({passive:!0}),bR=["mousedown","touchstart"],xR=["mouseup","mouseleave","touchend","touchcancel"];class TB{constructor(i,e,s,a){this._target=i,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=wm(s))}fadeInRipple(i,e,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},vR),s.animation);s.centered&&(i=a.left+a.width/2,e=a.top+a.height/2);const y=s.radius||function(t,i,e){const s=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),a=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(s*s+a*a)}(i,e,a),k=i-a.left,V=e-a.top,K=l.enterDuration,pe=document.createElement("div");pe.classList.add("mat-ripple-element"),pe.style.left=k-y+"px",pe.style.top=V-y+"px",pe.style.height=2*y+"px",pe.style.width=2*y+"px",null!=s.color&&(pe.style.backgroundColor=s.color),pe.style.transitionDuration=`${K}ms`,this._containerElement.appendChild(pe),function(t){window.getComputedStyle(t).getPropertyValue("opacity")}(pe),pe.style.transform="scale(1)";const Se=new CB(this,pe,s);return Se.state=0,this._activeRipples.add(Se),s.persistent||(this._mostRecentTransientRipple=Se),this._runTimeoutOutsideZone(()=>{const Ue=Se===this._mostRecentTransientRipple;Se.state=1,!s.persistent&&(!Ue||!this._isPointerDown)&&Se.fadeOut()},K),Se}fadeOutRipple(i){const e=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=i.element,a=Object.assign(Object.assign({},vR),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=wm(i);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(bR))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(xR),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const e=Mm(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Mv(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,e))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(e=>{this._triggerElement.addEventListener(e,this,OL)})})}_removeTriggerEvents(){this._triggerElement&&(bR.forEach(i=>{this._triggerElement.removeEventListener(i,this,OL)}),this._pointerUpEventsRegistered&&xR.forEach(i=>{this._triggerElement.removeEventListener(i,this,OL)}))}}const EB=new o.OlP("mat-ripple-global-options");let Qb=(()=>{class t{constructor(e,s,a,l,y){this._elementRef=e,this._animationMode=y,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new TB(this,s,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(pa),o.Y36(EB,8),o.Y36(af,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),uT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[to,v_],to]}),t})(),DB=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(af,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,s){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),AB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[to]]}),t})();const RL=new o.OlP("MAT_OPTION_PARENT_COMPONENT");class IB{}const LB=kv(IB);let PB=0,wR=(()=>{class t extends LB{constructor(e){var s;super(),this._labelId="mat-optgroup-label-"+PB++,this._inert=null!==(s=null==e?void 0:e.inertGroups)&&void 0!==s&&s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(RL,8))},t.\u0275dir=o.lG2({type:t,inputs:{label:"label"},features:[o.qOj]}),t})();const FL=new o.OlP("MatOptgroup");let OB=0;class RB{constructor(i,e=!1){this.source=i,this.isUserInput=e}}let FB=(()=>{class t{constructor(e,s,a,l){this._element=e,this._changeDetectorRef=s,this._parent=a,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+OB++,this.onSelectionChange=new o.vpe,this._stateChanges=new ai.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Gs(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,s){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!y_(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new RB(this,e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(void 0),o.Y36(wR))},t.\u0275dir=o.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),CR=(()=>{class t extends FB{constructor(e,s,a,l){super(e,s,a,l)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(RL,8),o.Y36(FL,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(l){return s._handleKeydown(l)}),2&e&&(o.Ikx("id",s.id),o.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),o.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:aB,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,sB,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,oB,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",s.multiple),o.xp6(3),o.Q6J("ngIf",s.group&&s.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[dn,Qb,DB],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function MR(t,i,e){if(e.length){let s=i.toArray(),a=e.toArray(),l=0;for(let y=0;y<t+1;y++)s[y].group&&s[y].group===a[l]&&l++;return l}return 0}let TR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[uT,Wi,to,AB]]}),t})();const zB=["mat-sort-header",""];function YB(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const BB=["*"],VB=new o.OlP("MAT_SORT_DEFAULT_OPTIONS");class HB{}const UB=_R(kv(HB));let Ev=(()=>{class t extends UB{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new ai.xQ,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Gs(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var s,a,l;if(!e)return"";const y=null!==(a=null!==(s=null==e?void 0:e.disableClear)&&void 0!==s?s:this.disableClear)&&void 0!==a?a:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let k=function(t,i){let e=["asc","desc"];return"desc"==t&&e.reverse(),i||e.push(""),e}(e.start||this.start,y),V=k.indexOf(this.direction)+1;return V>=k.length&&(V=0),k[V]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(VB,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),t})();const Jb=cB.ENTERING+" "+lB.STANDARD_CURVE,F1={indicator:ka("indicator",[To("active-asc, asc",si({transform:"translateY(0px)"})),To("active-desc, desc",si({transform:"translateY(10px)"})),Br("active-asc <=> active-desc",as(Jb))]),leftPointer:ka("leftPointer",[To("active-asc, asc",si({transform:"rotate(-45deg)"})),To("active-desc, desc",si({transform:"rotate(45deg)"})),Br("active-asc <=> active-desc",as(Jb))]),rightPointer:ka("rightPointer",[To("active-asc, asc",si({transform:"rotate(45deg)"})),To("active-desc, desc",si({transform:"rotate(-45deg)"})),Br("active-asc <=> active-desc",as(Jb))]),arrowOpacity:ka("arrowOpacity",[To("desc-to-active, asc-to-active, active",si({opacity:1})),To("desc-to-hint, asc-to-hint, hint",si({opacity:.54})),To("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",si({opacity:0})),Br("* => asc, * => desc, * => active, * => hint, * => void",as("0ms")),Br("* <=> *",as(Jb))]),arrowPosition:ka("arrowPosition",[Br("* => desc-to-hint, * => desc-to-active",as(Jb,Sv([si({transform:"translateY(-25%)"}),si({transform:"translateY(0)"})]))),Br("* => hint-to-desc, * => active-to-desc",as(Jb,Sv([si({transform:"translateY(0)"}),si({transform:"translateY(25%)"})]))),Br("* => asc-to-hint, * => asc-to-active",as(Jb,Sv([si({transform:"translateY(25%)"}),si({transform:"translateY(0)"})]))),Br("* => hint-to-asc, * => active-to-asc",as(Jb,Sv([si({transform:"translateY(0)"}),si({transform:"translateY(-25%)"})]))),To("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",si({transform:"translateY(0)"})),To("hint-to-desc, active-to-desc, desc",si({transform:"translateY(-25%)"})),To("hint-to-asc, active-to-asc, asc",si({transform:"translateY(25%)"}))]),allowChildren:ka("allowChildren",[Br("* <=> *",[sT("@*",rT(),{optional:!0})])])};let yD=(()=>{class t{constructor(){this.changes=new ai.xQ,this.sortButtonLabel=e=>`Change sorting for ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ZB={provide:yD,deps:[[new o.FiY,new o.tp0,yD]],useFactory:function(t){return t||new yD}};class WB{}const qB=kv(WB);let vD=(()=>{class t extends qB{constructor(e,s,a,l,y,k){super(),this._intl=e,this._changeDetectorRef=s,this._sort=a,this._columnDef=l,this._focusMonitor=y,this._elementRef=k,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._handleStateChanges()}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Gs(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const s=!!e;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_handleStateChanges(){this._rerenderSubscription=(0,Ba.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(yD),o.Y36(o.sBO),o.Y36(Ev,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(fg),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleClick()})("keydown",function(l){return s._handleKeydown(l)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",s._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[o.qOj],attrs:zB,ngContentSelectors:BB,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,YB,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"==s.arrowPosition),o.uIk("tabindex",s._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",s._renderArrow()))},directives:[dn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[F1.indicator,F1.leftPointer,F1.rightPointer,F1.arrowOpacity,F1.arrowPosition,F1.allowChildren]},changeDetection:0}),t})(),$B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[ZB],imports:[[Wi,to]]}),t})();const SR=["mat-button",""],kR=["*"],QB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class JB{constructor(i){this._elementRef=i}}const KB=R1(kv(gD(JB)));let Dp=(()=>{class t extends KB{constructor(e,s,a){super(e),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of QB)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(fg),o.Y36(af,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&o.Gf(Qb,5),2&e){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:SR,ngContentSelectors:kR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Qb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),NL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[uT,to],to]}),t})();var e6=De(9105);function Kb(t,i,e,s){return(0,e6.m)(e)&&(s=e,e=void 0),s?Kb(t,i,e).pipe((0,Ei.U)(a=>(0,hu.k)(a)?s(...a):s(a))):new Er.y(a=>{DR(t,i,function(y){a.next(arguments.length>1?Array.prototype.slice.call(arguments):y)},a,e)})}function DR(t,i,e,s,a){let l;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const y=t;t.addEventListener(i,e,a),l=()=>y.removeEventListener(i,e,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const y=t;t.on(i,e),l=()=>y.off(i,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const y=t;t.addListener(i,e),l=()=>y.removeListener(i,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let y=0,k=t.length;y<k;y++)DR(t[y],i,e,s,a)}s.add(l)}var s6=De(6465),a6=De(6102);const c6=new class extends a6.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,a=-1,l=e.length;i=i||e.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=e.shift()));if(this.active=!1,s){for(;++a<l&&(i=e.shift());)i.unsubscribe();throw s}}}(class extends s6.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,s=0){return null!==s&&s>0?super.requestAsyncId(i,e,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,e,s);0===i.actions.length&&(cancelAnimationFrame(e),i.scheduled=void 0)}});var dT=De(4581);function zL(t){return!!t&&(t instanceof Er.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class d6{constructor(i){this.durationSelector=i}call(i,e){return e.subscribe(new h6(i,this.durationSelector))}}class h6 extends Eo.Ds{constructor(i,e){super(i),this.durationSelector=e,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(i)}catch(a){return this.destination.error(a)}const s=(0,Eo.ft)(e,new Eo.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var AR=De(6561);function IR(t=0,i,e){let s=-1;return(0,AR.k)(i)?s=Number(i)<1?1:Number(i):(0,jc.K)(i)&&(e=i),(0,jc.K)(e)||(e=js.P),new Er.y(a=>{const l=(0,AR.k)(t)?t:+t-e.now();return e.schedule(p6,l,{index:0,period:s,subscriber:a})})}function p6(t){const{index:i,period:e,subscriber:s}=t;if(s.next(i),!s.closed){if(-1===e)return s.complete();t.index=i+1,this.schedule(t,e)}}function bD(t,i=js.P){return function(t){return function(e){return e.lift(new d6(t))}}(()=>IR(t,i))}function Wa(t){return i=>i.lift(new f6(t))}class f6{constructor(i){this.notifier=i}call(i,e){const s=new m6(i),a=(0,Eo.ft)(this.notifier,new Eo.IY(s));return a&&!s.seenValue?(s.add(a),e.subscribe(s)):s}}class m6 extends Eo.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class LR{}function xD(t){return t&&"function"==typeof t.connect}class g6 extends LR{constructor(i){super(),this._data=i}connect(){return zL(this._data)?this._data:(0,Ti.of)(this._data)}disconnect(){}}class PR{applyChanges(i,e,s,a,l){i.forEachOperation((y,k,V)=>{let K,pe;if(null==y.previousIndex){const Se=s(y,k,V);K=e.createEmbeddedView(Se.templateRef,Se.context,Se.index),pe=1}else null==V?(e.remove(k),pe=3):(K=e.get(k),e.move(K,V),pe=2);l&&l({context:null==K?void 0:K.context,operation:pe,record:y})})}detach(){}}class _6{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,e,s,a,l){i.forEachOperation((y,k,V)=>{let K,pe;null==y.previousIndex?(K=this._insertView(()=>s(y,k,V),V,e,a(y)),pe=K?1:0):null==V?(this._detachAndCacheView(k,e),pe=3):(K=this._moveView(k,V,e,a(y)),pe=2),l&&l({context:null==K?void 0:K.context,operation:pe,record:y})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,e,s,a){const l=this._insertViewFromCache(e,s);if(l)return void(l.context.$implicit=a);const y=i();return s.createEmbeddedView(y.templateRef,y.context,y.index)}_detachAndCacheView(i,e){const s=e.detach(i);this._maybeCacheView(s,e)}_moveView(i,e,s,a){const l=s.get(i);return s.move(l,e),l.context.$implicit=a,l}_maybeCacheView(i,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=e.indexOf(i);-1===s?i.destroy():e.remove(s)}}_insertViewFromCache(i,e){const s=this._viewCache.pop();return s&&e.insert(s,i),s||null}}class y6{constructor(i=!1,e,s=!0){this._multiple=i,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ai.xQ,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...i){this._verifyValueAssignment(i),i.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...i){this._verifyValueAssignment(i),i.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(i){this.isSelected(i)?this.deselect(i):this.select(i)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(i){return this._selection.has(i)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){this.isSelected(i)||(this._multiple||this._unmarkAll(),this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}}const hT=new o.OlP("_ViewRepeater"),v6=["contentWrapper"],b6=["*"],RR=new o.OlP("VIRTUAL_SCROLL_STRATEGY");class x6{constructor(i,e,s){this._scrolledIndexChange=new ai.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(uu()),this._viewport=null,this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,e,s){this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,e){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),e={start:i.start,end:i.end},s=this._viewport.getViewportSize(),a=this._viewport.getDataLength();let l=this._viewport.measureScrollOffset(),y=this._itemSize>0?l/this._itemSize:0;if(e.end>a){const V=Math.ceil(s/this._itemSize),K=Math.max(0,Math.min(y,a-V));y!=K&&(y=K,l=K*this._itemSize,e.start=Math.floor(y)),e.end=Math.max(0,Math.min(a,e.start+V))}const k=l-e.start*this._itemSize;if(k<this._minBufferPx&&0!=e.start){const V=Math.ceil((this._maxBufferPx-k)/this._itemSize);e.start=Math.max(0,e.start-V),e.end=Math.min(a,Math.ceil(y+(s+this._minBufferPx)/this._itemSize))}else{const V=e.end*this._itemSize-(l+s);if(V<this._minBufferPx&&e.end!=a){const K=Math.ceil((this._maxBufferPx-V)/this._itemSize);K>0&&(e.end=Math.min(a,e.end+K),e.start=Math.max(0,Math.floor(y-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(y))}}function w6(t){return t._scrollStrategy}let FR=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new x6(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Xc(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Xc(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Xc(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[o._Bn([{provide:RR,useFactory:w6,deps:[(0,o.Gpc)(()=>t)]}]),o.TTD]}),t})(),pT=(()=>{class t{constructor(e,s,a){this._ngZone=e,this._platform=s,this._scrolled=new ai.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Er.y(s=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(bD(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ti.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const a=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(C(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,e)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let a=wm(s),l=e.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(pa),o.LFG(Te,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(pa),(0,o.LFG)(Te,8))},token:t,providedIn:"root"}),t})(),NR=(()=>{class t{constructor(e,s,a,l){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new ai.xQ,this._elementScrolled=new Er.y(y=>this.ngZone.runOutsideAngular(()=>Kb(this.elementRef.nativeElement,"scroll").pipe(Wa(this._destroyed)).subscribe(y)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),a&&0!=kx()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==kx()?e.left=e.right:1==kx()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;FE()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const y=this.dir&&"rtl"==this.dir.value;return"start"==e?e=y?a:s:"end"==e&&(e=y?s:a),y&&2==kx()?e==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:y&&1==kx()?e==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(pT),o.Y36(o.R0b),o.Y36(of,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),zx=(()=>{class t{constructor(e,s,a){this._platform=e,this._change=new ai.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),a=e.documentElement,l=a.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||e.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bD(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pa),o.LFG(o.R0b),o.LFG(Te,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pa),(0,o.LFG)(o.R0b),(0,o.LFG)(Te,8))},token:t,providedIn:"root"}),t})();const S6="undefined"!=typeof requestAnimationFrame?c6:dT.E;let fT=(()=>{class t extends NR{constructor(e,s,a,l,y,k,V){super(e,k,a,y),this.elementRef=e,this._changeDetectorRef=s,this._scrollStrategy=l,this._detachedSubject=new ai.xQ,this._renderedRangeSubject=new ai.xQ,this._orientation="vertical",this.scrolledIndexChange=new Er.y(K=>this._scrollStrategy.scrolledIndexChange.subscribe(pe=>Promise.resolve().then(()=>this.ngZone.run(()=>K.next(pe))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Da.w.EMPTY,this._viewportChanges=V.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(xn(null),bD(0,S6)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Wa(this._detachedSubject)).subscribe(s=>{const a=s.length;a!==this._dataLength&&(this._dataLength=a,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(t,i){return t.start==i.start&&t.end==i.end})(this._renderedRange,e)||(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,s="to-start"){const l="horizontal"==this.orientation,y=l?"X":"Y";let V=`translate${y}(${Number((l&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===s&&(V+=` translate${y}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=V&&(this._renderedContentTransform=V,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,s="auto"){const a={behavior:s};"horizontal"===this.orientation?a.start=e:a.top=e,this.scrollTo(a)}scrollToIndex(e,s="auto"){this._scrollStrategy.scrollToIndex(e,s)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of e)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(RR,8),o.Y36(of,8),o.Y36(pT),o.Y36(zx))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,s){if(1&e&&o.Gf(v6,7),2&e){let a;o.iGM(a=o.CRH())&&(s._contentWrapper=a.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[o._Bn([{provide:NR,useExisting:t}]),o.qOj],ngContentSelectors:b6,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(3),o.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function zR(t,i,e){if(!e.getBoundingClientRect)return 0;const a=e.getBoundingClientRect();return"horizontal"===t?"start"===i?a.left:a.right:"start"===i?a.top:a.bottom}let YR=(()=>{class t{constructor(e,s,a,l,y,k){this._viewContainerRef=e,this._template=s,this._differs=a,this._viewRepeater=l,this._viewport=y,this.viewChange=new ai.xQ,this._dataSourceChanges=new ai.xQ,this.dataStream=this._dataSourceChanges.pipe(xn(null),Gp(),Es(([V,K])=>this._changeDataSource(V,K)),Mh(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ai.xQ,this.dataStream.subscribe(V=>{this._data=V,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Wa(this._destroyed)).subscribe(V=>{this._renderedRange=V,k.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,xD(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new g6(zL(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(s,a)=>e(s+(this._renderedRange?this._renderedRange.start:0),a):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Xc(e)}measureRangeSize(e,s){if(e.start>=e.end)return 0;const a=e.start-this._renderedRange.start,l=e.end-e.start;let y,k;for(let V=0;V<l;V++){const K=this._viewContainerRef.get(V+a);if(K&&K.rootNodes.length){y=k=K.rootNodes[0];break}}for(let V=l-1;V>-1;V--){const K=this._viewContainerRef.get(V+a);if(K&&K.rootNodes.length){k=K.rootNodes[K.rootNodes.length-1];break}}return y&&k?zR(s,"end",k)-zR(s,"start",y):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,s):s)),this._needsUpdate=!0)}_changeDataSource(e,s){return e&&e.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,Ti.of)()}_updateContext(){const e=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const a=this._viewContainerRef.get(s);a.context.index=this._renderedRange.start+s,a.context.count=e,this._updateComputedContextProperties(a.context),a.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(l,y,k)=>this._getEmbeddedViewArgs(l,k),l=>l.item),e.forEachIdentityChange(l=>{this._viewContainerRef.get(l.currentIndex).context.$implicit=l.item});const s=this._data.length;let a=this._viewContainerRef.length;for(;a--;){const l=this._viewContainerRef.get(a);l.context.index=this._renderedRange.start+a,l.context.count=s,this._updateComputedContextProperties(l.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,s){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(hT),o.Y36(fT,4),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[o._Bn([{provide:hT,useClass:_6}])]}),t})(),mT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),Yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Tv,v_,mT],Tv,mT]}),t})();class YL{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class N1 extends YL{constructor(i,e,s,a){super(),this.component=i,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=a}}class e0 extends YL{constructor(i,e,s){super(),this.templateRef=i,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class k6 extends YL{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class wD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof N1?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof e0?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof k6?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BR extends wD{constructor(i,e,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=y=>{const k=y.element,V=this._document.createComment("dom-portal");k.parentNode.insertBefore(V,k),this.outletElement.appendChild(k),this._attachedPortal=y,super.setDisposeFn(()=>{V.parentNode&&V.parentNode.replaceChild(k,V)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let e=i.viewContainerRef,s=e.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(s);-1!==a&&e.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let Bx=(()=>{class t extends wD{constructor(e,s,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const y=l.element,k=this._document.createComment("dom-portal");l.setAttachedHost(this),y.parentNode.insertBefore(k,y),this._getRootNode().appendChild(y),this._attachedPortal=l,super.setDisposeFn(()=>{k.parentNode&&k.parentNode.replaceChild(y,k)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),y=s.createComponent(l,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(y.hostView.rootNodes[0]),super.setDisposeFn(()=>y.destroy()),this._attachedPortal=e,this._attachedRef=y,this.attached.emit(y),y}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Te))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),t})(),CD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();class D6{constructor(i,e){this.predicate=i,this.inclusive=e}call(i,e){return e.subscribe(new A6(i,this.predicate,this.inclusive))}}class A6 extends yo.L{constructor(i,e,s){super(i),this.predicate=e,this.inclusive=s,this.index=0}_next(i){const e=this.destination;let s;try{s=this.predicate(i,this.index++)}catch(a){return void e.error(a)}this.nextOrComplete(i,s)}nextOrComplete(i,e){const s=this.destination;Boolean(e)?s.next(i):(this.inclusive&&s.next(i),s.complete())}}const HR=FE();class I6{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Eu(-this._previousScrollPosition.left),i.style.top=Eu(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",y=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),HR&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HR&&(s.scrollBehavior=l,a.scrollBehavior=y)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class L6{constructor(i,e,s,a){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UR{enable(){}disable(){}attach(){}}function BL(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function jR(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class P6{constructor(i,e,s,a){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();BL(e,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let O6=(()=>{class t{constructor(e,s,a,l){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new UR,this.close=y=>new L6(this._scrollDispatcher,this._ngZone,this._viewportRuler,y),this.block=()=>new I6(this._viewportRuler,this._document),this.reposition=y=>new P6(this._scrollDispatcher,this._viewportRuler,this._ngZone,y),this._document=l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pT),o.LFG(zx),o.LFG(o.R0b),o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pT),(0,o.LFG)(zx),(0,o.LFG)(o.R0b),(0,o.LFG)(Te))},token:t,providedIn:"root"}),t})();class gT{constructor(i){if(this.scrollStrategy=new UR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const s of e)void 0!==i[s]&&(this[s]=i[s])}}}class R6{constructor(i,e,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class F6{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let GR=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Te))},token:t,providedIn:"root"}),t})(),N6=(()=>{class t extends GR{constructor(e){super(e),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Te))},token:t,providedIn:"root"}),t})(),z6=(()=>{class t extends GR{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=a.composedPath?a.composedPath()[0]:a.target,y=this._attachedOverlays.slice();for(let k=y.length-1;k>-1;k--){const V=y[k];if(!(V._outsidePointerEvents.observers.length<1)&&V.hasAttached()){if(V.overlayElement.contains(l))break;V._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG(pa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Te),(0,o.LFG)(pa))},token:t,providedIn:"root"}),t})();const ZR=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let _T=(()=>{class t{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ZR){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(e),ZR?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG(pa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Te),(0,o.LFG)(pa))},token:t,providedIn:"root"}),t})();class Y6{constructor(i,e,s,a,l,y,k,V,K){this._portalOutlet=i,this._host=e,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=y,this._document=k,this._location=V,this._outsideClickDispatcher=K,this._backdropElement=null,this._backdropClick=new ai.xQ,this._attachments=new ai.xQ,this._detachments=new ai.xQ,this._locationChanges=Da.w.EMPTY,this._backdropClickHandler=pe=>this._backdropClick.next(pe),this._keydownEvents=new ai.xQ,this._outsidePointerEvents=new ai.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let e=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ve(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Eu(this._config.width),i.height=Eu(this._config.height),i.minWidth=Eu(this._config.minWidth),i.minHeight=Eu(this._config.minHeight),i.maxWidth=Eu(this._config.maxWidth),i.maxHeight=Eu(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let e,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(e)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,e,s){const a=i.classList;VM(e).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Wa((0,Ba.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const WR="cdk-overlay-connected-position-bounding-box",B6=/([A-Za-z%]+)$/;class qR{constructor(i,e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ai.xQ,this._resizeSubscription=Da.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(WR),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,e=this._overlayRect,s=this._viewportRect,a=[];let l;for(let y of this._preferredPositions){let k=this._getOriginPoint(i,y),V=this._getOverlayPoint(k,e,y),K=this._getOverlayFit(V,e,s,y);if(K.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(y,k);this._canFitWithFlexibleDimensions(K,V,s)?a.push({position:y,origin:k,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(k,y)}):(!l||l.overlayFit.visibleArea<K.visibleArea)&&(l={overlayFit:K,overlayPoint:V,originPoint:k,position:y,overlayRect:e})}if(a.length){let y=null,k=-1;for(const V of a){const K=V.boundingBoxRect.width*V.boundingBoxRect.height*(V.position.weight||1);K>k&&(k=K,y=V)}return this._isPushed=!1,void this._applyPosition(y.position,y.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,i);this._applyPosition(i,e)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e){let s,a;if("center"==e.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,y=this._isRtl()?i.left:i.right;s="start"==e.originX?l:y}return a="center"==e.originY?i.top+i.height/2:"top"==e.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,e,s){let a,l;return a="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,e,s,a){const l=XR(e);let{x:y,y:k}=i,V=this._getOffset(a,"x"),K=this._getOffset(a,"y");V&&(y+=V),K&&(k+=K);let Ue=0-k,Je=k+l.height-s.height,rt=this._subtractOverflows(l.width,0-y,y+l.width-s.width),Tt=this._subtractOverflows(l.height,Ue,Je),Qt=rt*Tt;return{visibleArea:Qt,isCompletelyWithinViewport:l.width*l.height===Qt,fitsInViewportVertically:Tt===l.height,fitsInViewportHorizontally:rt==l.width}}_canFitWithFlexibleDimensions(i,e,s){if(this._hasFlexibleDimensions){const a=s.bottom-e.y,l=s.right-e.x,y=$R(this._overlayRef.getConfig().minHeight),k=$R(this._overlayRef.getConfig().minWidth),K=i.fitsInViewportHorizontally||null!=k&&k<=l;return(i.fitsInViewportVertically||null!=y&&y<=a)&&K}return!1}_pushOverlayOnScreen(i,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=XR(e),l=this._viewportRect,y=Math.max(i.x+a.width-l.width,0),k=Math.max(i.y+a.height-l.height,0),V=Math.max(l.top-s.top-i.y,0),K=Math.max(l.left-s.left-i.x,0);let pe=0,Se=0;return pe=a.width<=l.width?K||-y:i.x<this._viewportMargin?l.left-s.left-i.x:0,Se=a.height<=l.height?V||-k:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:pe,y:Se},{x:i.x+pe,y:i.y+Se}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new F6(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,e){const s=this._viewportRect,a=this._isRtl();let l,y,k,pe,Se,Ue;if("top"===e.overlayY)y=i.y,l=s.height-y+this._viewportMargin;else if("bottom"===e.overlayY)k=s.height-i.y+2*this._viewportMargin,l=s.height-k+this._viewportMargin;else{const Je=Math.min(s.bottom-i.y+s.top,i.y),rt=this._lastBoundingBoxSize.height;l=2*Je,y=i.y-Je,l>rt&&!this._isInitialRender&&!this._growAfterOpen&&(y=i.y-rt/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)Ue=s.width-i.x+this._viewportMargin,pe=i.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)Se=i.x,pe=s.right-i.x;else{const Je=Math.min(s.right-i.x+s.left,i.x),rt=this._lastBoundingBoxSize.width;pe=2*Je,Se=i.x-Je,pe>rt&&!this._isInitialRender&&!this._growAfterOpen&&(Se=i.x-rt/2)}return{top:y,left:Se,bottom:k,right:Ue,width:pe,height:l}}_setBoundingBoxStyles(i,e){const s=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,y=this._overlayRef.getConfig().maxWidth;a.height=Eu(s.height),a.top=Eu(s.top),a.bottom=Eu(s.bottom),a.width=Eu(s.width),a.left=Eu(s.left),a.right=Eu(s.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=Eu(l)),y&&(a.maxWidth=Eu(y))}this._lastBoundingBoxSize=s,Vx(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Vx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,y=this._overlayRef.getConfig();if(a){const pe=this._viewportRuler.getViewportScrollPosition();Vx(s,this._getExactOverlayY(e,i,pe)),Vx(s,this._getExactOverlayX(e,i,pe))}else s.position="static";let k="",V=this._getOffset(e,"x"),K=this._getOffset(e,"y");V&&(k+=`translateX(${V}px) `),K&&(k+=`translateY(${K}px)`),s.transform=k.trim(),y.maxHeight&&(a?s.maxHeight=Eu(y.maxHeight):l&&(s.maxHeight="")),y.maxWidth&&(a?s.maxWidth=Eu(y.maxWidth):l&&(s.maxWidth="")),Vx(this._pane.style,s)}_getExactOverlayY(i,e,s){let a={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let y=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=y,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=Eu(l.y),a}_getExactOverlayX(i,e,s){let y,a={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),y=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===y?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=Eu(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jR(i,s),isOriginOutsideView:BL(i,s),isOverlayClipped:jR(e,s),isOverlayOutsideView:BL(e,s)}}_subtractOverflows(i,...e){return e.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&VM(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+e,height:s,width:e}}}function Vx(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function $R(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(B6);return e&&"px"!==e?null:parseFloat(i)}return t||null}function XR(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class V6{constructor(i,e,s,a,l,y,k){this._preferredPositions=[],this._positionStrategy=new qR(s,a,l,y,k).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,e,s,a){const l=new R6(i,e,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const QR="cdk-global-overlay-wrapper";class H6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(QR),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:y,maxHeight:k}=s,V=!("100%"!==a&&"100vw"!==a||y&&"100%"!==y&&"100vw"!==y),K=!("100%"!==l&&"100vh"!==l||k&&"100%"!==k&&"100vh"!==k);i.position=this._cssPosition,i.marginLeft=V?"0":this._leftOffset,i.marginTop=K?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,V?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=K?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(QR),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let U6=(()=>{class t{constructor(e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new H6}connectedTo(e,s,a){return new V6(s,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new qR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(zx),o.LFG(Te),o.LFG(pa),o.LFG(_T))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(zx),(0,o.LFG)(Te),(0,o.LFG)(pa),(0,o.LFG)(_T))},token:t,providedIn:"root"}),t})(),j6=0,Sm=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe,Se,Ue){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=y,this._injector=k,this._ngZone=V,this._document=K,this._directionality=pe,this._location=Se,this._outsideClickDispatcher=Ue}create(e){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),y=new gT(e);return y.direction=y.direction||this._directionality.value,new Y6(l,s,a,y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+j6++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new BR(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(O6),o.LFG(_T),o.LFG(o._Vd),o.LFG(U6),o.LFG(N6),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Te),o.LFG(of),o.LFG(oi),o.LFG(z6))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const G6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],JR=new o.OlP("cdk-connected-overlay-scroll-strategy");let Z6=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),KR=(()=>{class t{constructor(e,s,a,l,y){this._overlay=e,this._dir=y,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Da.w.EMPTY,this._attachSubscription=Da.w.EMPTY,this._detachSubscription=Da.w.EMPTY,this._positionSubscription=Da.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new e0(s,a),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gs(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Gs(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Gs(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Gs(e)}get push(){return this._push}set push(e){this._push=Gs(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=G6);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!y_(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new gT({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,i=!1){return e=>e.lift(new D6(t,i))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sm),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(JR),o.Y36(of,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),t})();const q6={provide:JR,deps:[Sm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let yT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Sm,q6],imports:[[Tv,CD,Yx],Yx]}),t})();const $6=["underline"],X6=["connectionContainer"],Q6=["inputContainer"],J6=["label"];function K6(t,i){1&t&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function e4(t,i){1&t&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function t4(t,i){if(1&t&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function n4(t,i){1&t&&o.Hsn(0,3,["*ngSwitchCase","true"])}function r4(t,i){1&t&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function s4(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,t4,4,1,"ng-container",12),o.YNc(3,n4,1,0,"ng-content",12),o.YNc(4,r4,2,0,"span",22),o.qZA()}if(2&t){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function o4(t,i){1&t&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function a4(t,i){if(1&t&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function l4(t,i){if(1&t&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function c4(t,i){if(1&t&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function u4(t,i){if(1&t&&(o.TgZ(0,"div",28),o.YNc(1,c4,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const d4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],h4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],eF=new o.OlP("MatError"),f4={transitionMessages:ka("transitionMessages",[To("enter",si({opacity:1,transform:"translateY(0%)"})),Br("void => enter",[si({opacity:0,transform:"translateY(-5px)"}),as("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})();const tF=new o.OlP("MatHint");let t0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-label"]]}),t})(),g4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const nF=new o.OlP("MatPrefix"),iF=new o.OlP("MatSuffix");let rF=0;class y4{constructor(i){this._elementRef=i}}const v4=R1(y4,"primary"),b4=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),VL=new o.OlP("MatFormField");let Hx=(()=>{class t extends v4{constructor(e,s,a,l,y,k,V,K){super(e),this._elementRef=e,this._changeDetectorRef=s,this._dir=l,this._defaults=y,this._platform=k,this._ngZone=V,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ai.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rF++,this._labelId="mat-form-field-label-"+rF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==K,this.appearance=y&&y.appearance?y.appearance:"legacy",this._hideRequiredMarker=!(!y||null==y.hideRequiredMarker)&&y.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gs(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(xn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wa(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wa(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ba.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wa(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Kb(this._label.nativeElement,"transitionend").pipe(ve(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,y=l.querySelectorAll(".mat-form-field-outline-start"),k=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const V=l.getBoundingClientRect();if(0===V.width&&0===V.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const K=this._getStartEnd(V),pe=e.children,Se=this._getStartEnd(pe[0].getBoundingClientRect());let Ue=0;for(let Je=0;Je<pe.length;Je++)Ue+=pe[Je].offsetWidth;s=Math.abs(Se-K)-5,a=Ue>0?.75*Ue+10:0}for(let V=0;V<y.length;V++)y[V].style.width=`${s}px`;for(let V=0;V<k.length;V++)k[V].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(of,8),o.Y36(b4,8),o.Y36(pa),o.Y36(o.R0b),o.Y36(af,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,MD,5),o.Suo(a,MD,7),o.Suo(a,t0,5),o.Suo(a,t0,7),o.Suo(a,g4,5),o.Suo(a,eF,5),o.Suo(a,tF,5),o.Suo(a,nF,5),o.Suo(a,iF,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf($6,5),o.Gf(X6,7),o.Gf(Q6,5),o.Gf(J6,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:VL,useExisting:t}]),o.qOj],ngContentSelectors:h4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(o.F$t(d4),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,K6,9,0,"ng-container",3),o.YNc(4,e4,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,s4,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,o4,2,0,"div",9),o.qZA(),o.YNc(11,a4,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,l4,2,1,"div",12),o.YNc(14,u4,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[dn,lr,fi,sL],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[f4.transitionMessages]},changeDetection:0}),t})(),TD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,to,y1],to]}),t})();var x4=De(1555);function oF(...t){if(1===t.length){const i=t[0];if((0,hu.k)(i))return SD(i,null);if((0,x4.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const e=Object.keys(i);return SD(e.map(s=>i[s]),e)}}if("function"==typeof t[t.length-1]){const i=t.pop();return SD(t=1===t.length&&(0,hu.k)(t[0])?t[0]:t,null).pipe((0,Ei.U)(e=>i(...e)))}return SD(t,null)}function SD(t,i){return new Er.y(e=>{const s=t.length;if(0===s)return void e.complete();const a=new Array(s);let l=0,y=0;for(let k=0;k<s;k++){const V=(0,Fs.D)(t[k]);let K=!1;e.add(V.subscribe({next:pe=>{K||(K=!0,y++),a[k]=pe},error:pe=>e.error(pe),complete:()=>{l++,(l===s||!K)&&(y===s&&e.next(i?i.reduce((pe,Se,Ue)=>(pe[Se]=a[Ue],pe),{}):a),e.complete())}}))}})}let aF=(()=>{class t{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t}),t})(),Ux=(()=>{class t extends aF{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();const Jc=new o.OlP("NgValueAccessor"),C4={provide:Jc,useExisting:(0,o.Gpc)(()=>b_),multi:!0},T4=new o.OlP("CompositionEventMode");let b_=(()=>{class t extends aF{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=J()?J().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(T4,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([C4]),o.qOj]}),t})();function n0(t){return null==t||0===t.length}function cF(t){return null!=t&&"number"==typeof t.length}const qh=new o.OlP("NgValidators"),r0=new o.OlP("NgAsyncValidators"),S4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xl{static min(i){return function(t){return i=>{if(n0(i.value)||n0(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}(i)}static max(i){return function(t){return i=>{if(n0(i.value)||n0(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}(i)}static required(i){return hF(i)}static requiredTrue(i){return function(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function(t){return n0(t.value)||S4.test(t.value)?null:{email:!0}}(i)}static minLength(i){return mF(i)}static maxLength(i){return function(t){return i=>cF(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(t){if(!t)return s0;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),s=>{if(n0(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return CF(i)}static composeAsync(i){return MF(i)}}function hF(t){return n0(t.value)?{required:!0}:null}function mF(t){return i=>n0(i.value)||!cF(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}function s0(t){return null}function yF(t){return null!=t}function vF(t){const i=(0,o.QGY)(t)?(0,Fs.D)(t):t;return(0,o.CqO)(i),i}function bF(t){let i={};return t.forEach(e=>{i=null!=e?Object.assign(Object.assign({},i),e):i}),0===Object.keys(i).length?null:i}function xF(t,i){return i.map(e=>e(t))}function wF(t){return t.map(i=>function(t){return!t.validate}(i)?i:e=>i.validate(e))}function CF(t){if(!t)return null;const i=t.filter(yF);return 0==i.length?null:function(e){return bF(xF(e,i))}}function HL(t){return null!=t?CF(wF(t)):null}function MF(t){if(!t)return null;const i=t.filter(yF);return 0==i.length?null:function(e){return oF(xF(e,i).map(vF)).pipe((0,Ei.U)(bF))}}function UL(t){return null!=t?MF(wF(t)):null}function TF(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function SF(t){return t._rawValidators}function kF(t){return t._rawAsyncValidators}function jL(t){return t?Array.isArray(t)?t:[t]:[]}function kD(t,i){return Array.isArray(t)?t.includes(i):t===i}function EF(t,i){const e=jL(i);return jL(t).forEach(a=>{kD(e,a)||e.push(a)}),e}function DF(t,i){return jL(i).filter(e=>!kD(t,e))}let AF=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})(),lf=(()=>{class t extends AF{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();class Ey extends AF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IF{constructor(i){this._cd=i}is(i){var e,s,a;return"submitted"===i?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let cf=(()=>{class t extends IF{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ey,2))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),t})(),Dy=(()=>{class t extends IF{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(lf,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),t})();function ED(t,i){return[...i.path,t]}function vT(t,i){GL(t,i),i.valueAccessor.writeValue(t.value),function(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&LF(t,i)})}(t,i),function(t,i){const e=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&LF(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function(t,i){if(i.valueAccessor.setDisabledState){const e=s=>{i.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function DD(t,i,e=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),ID(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function AD(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function GL(t,i){const e=SF(t);null!==i.validator?t.setValidators(TF(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const s=kF(t);null!==i.asyncValidator?t.setAsyncValidators(TF(s,i.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const a=()=>t.updateValueAndValidity();AD(i._rawValidators,a),AD(i._rawAsyncValidators,a)}function ID(t,i){let e=!1;if(null!==t){if(null!==i.validator){const a=SF(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(y=>y!==i.validator);l.length!==a.length&&(e=!0,t.setValidators(l))}}if(null!==i.asyncValidator){const a=kF(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(y=>y!==i.asyncValidator);l.length!==a.length&&(e=!0,t.setAsyncValidators(l))}}}const s=()=>{};return AD(i._rawValidators,s),AD(i._rawAsyncValidators,s),e}function LF(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PF(t,i){GL(t,i)}function ZL(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function OF(t,i){t._syncPendingControls(),i.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function WL(t,i){if(!i)return null;let e,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===b_?e=l:function(t){return Object.getPrototypeOf(t.constructor)===Ux}(l)?s=l:a=l}),a||s||e||null}function LD(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}const bT="VALID",PD="INVALID",z1="PENDING",xT="DISABLED";function qL(t){return(XL(t)?t.validators:t)||null}function RF(t){return Array.isArray(t)?HL(t):t||null}function $L(t,i){return(XL(i)?i.asyncValidators:t)||null}function FF(t){return Array.isArray(t)?UL(t):t||null}function XL(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class QL{constructor(i,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=e,this._composedValidatorFn=RF(this._rawValidators),this._composedAsyncValidatorFn=FF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===bT}get invalid(){return this.status===PD}get pending(){return this.status==z1}get disabled(){return this.status===xT}get enabled(){return this.status!==xT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=RF(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=FF(i)}addValidators(i){this.setValidators(EF(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(EF(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(DF(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(DF(i,this._rawAsyncValidators))}hasValidator(i){return kD(this._rawValidators,i)}hasAsyncValidator(i){return kD(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=z1,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=xT,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=bT,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bT||this.status===z1)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xT:bT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=z1,this._hasOwnPendingAsyncValidator=!0;const e=vF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){return function(t,i,e){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=t;return i.forEach(a=>{s=s instanceof wT?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof JL&&s.at(a)||null}),s}(this,i)}getError(i,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?xT:this.errors?PD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(z1)?z1:this._anyControlsHaveStatus(PD)?PD:bT}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){XL(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class o0 extends QL{constructor(i=null,e,s){super(qL(e),$L(s,e)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=null,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){LD(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){LD(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class wT extends QL{constructor(i,e,s){super(qL(e),$L(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,s={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,s)=>(i[s]=e instanceof o0?e.value:e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&i(s,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,e,s)=>((e.enabled||this.disabled)&&(i[s]=e.value),i))}_reduceChildren(i,e){let s=i;return this._forEachChild((a,l)=>{s=e(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class JL extends QL{constructor(i,e,s){super(qL(e),$L(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,s={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i instanceof o0?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((e,s)=>{i(e,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const N4={provide:lf,useExisting:(0,o.Gpc)(()=>jx)},CT=(()=>Promise.resolve(null))();let jx=(()=>{class t extends lf{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new wT({},HL(e),UL(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){CT.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),vT(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){CT.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),LD(this._directives,e)})}addFormGroup(e){CT.then(()=>{const s=this._findContainer(e.path),a=new wT({});PF(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){CT.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){CT.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,OF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qh,10),o.Y36(r0,10))},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([N4]),o.qOj]}),t})();const Y4={provide:Ey,useExisting:(0,o.Gpc)(()=>Ay)},YF=(()=>Promise.resolve(null))();let Ay=(()=>{class t extends Ey{constructor(e,s,a,l){super(),this.control=new o0,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=WL(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ZL(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ED(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vT(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=""===s||s&&"false"!==s;YF.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(lf,9),o.Y36(qh,10),o.Y36(r0,10),o.Y36(Jc,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Y4]),o.qOj,o.TTD]}),t})(),Iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),VF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const KL=new o.OlP("NgModelWithFormControlWarning"),G4={provide:lf,useExisting:(0,o.Gpc)(()=>yg)};let yg=(()=>{class t extends lf{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ID(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return vT(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){DD(e.control||null,e,!1),LD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,OF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(DD(s||null,e),a instanceof o0&&(vT(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);PF(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(t,i){return ID(t,i)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GL(this.form,this),this._oldForm&&ID(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qh,10),o.Y36(r0,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([G4]),o.qOj,o.TTD]}),t})();const q4={provide:Ey,useExisting:(0,o.Gpc)(()=>Dv)};let Dv=(()=>{class t extends Ey{constructor(e,s,a,l,y){super(),this._ngModelWarningConfig=y,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=WL(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ZL(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ED(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(lf,13),o.Y36(qh,10),o.Y36(r0,10),o.Y36(Jc,10),o.Y36(KL,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([q4]),o.qOj,o.TTD]}),t._ngModelWarningSentOnce=!1,t})();const $4={provide:Jc,useExisting:(0,o.Gpc)(()=>OD),multi:!0};function ZF(t,i){return null==t?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let OD=(()=>{class t extends Ux{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const a=ZF(s,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([$4]),o.qOj]}),t})(),WF=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ZF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(OD,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Q4={provide:Jc,useExisting:(0,o.Gpc)(()=>n2),multi:!0};function qF(t,i){return null==t?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let n2=(()=>{class t extends Ux{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));s=(l,y)=>{l._setSelected(a.indexOf(y.toString())>-1)}}else s=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const a=[];if(void 0!==s.selectedOptions){const l=s.selectedOptions;for(let y=0;y<l.length;y++){const k=l.item(y),V=this._getOptionValue(k.value);a.push(V)}}else{const l=s.options;for(let y=0;y<l.length;y++){const k=l.item(y);if(k.selected){const V=this._getOptionValue(k.value);a.push(V)}}}this.value=a,e(a)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Q4]),o.qOj]}),t})(),$F=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qF(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(n2,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const tV={provide:qh,useExisting:(0,o.Gpc)(()=>Y1),multi:!0};let Y1=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?hF(e):null}registerOnValidatorChange(e){this._onChange=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[o._Bn([tV])]}),t})();const rV={provide:qh,useExisting:(0,o.Gpc)(()=>s2),multi:!0};let s2=(()=>{class t{constructor(){this._validator=s0}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?mF(function(t){return"number"==typeof t?t:parseInt(t,10)}(this.minlength)):s0}enabled(){return null!=this.minlength}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("minlength",s.enabled()?s.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([rV]),o.TTD]}),t})(),iN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[VF]]}),t})(),RD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[iN]}),t})(),rN=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:KL,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[iN]}),t})(),Gx=(()=>{class t{group(e,s=null){const a=this._reduceControls(e);let k,l=null,y=null;return null!=s&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(s)?(l=null!=s.validators?s.validators:null,y=null!=s.asyncValidators?s.asyncValidators:null,k=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,y=null!=s.asyncValidator?s.asyncValidator:null)),new wT(a,{asyncValidators:y,updateOn:k,validators:l})}control(e,s,a){return new o0(e,s,a)}array(e,s,a){const l=e.map(y=>this._createControl(y));return new JL(l,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof o0||e instanceof wT||e instanceof JL?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:rN}),t})();const lV=["trigger"],cV=["panel"];function uV(t,i){if(1&t&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function dV(t,i){if(1&t&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function hV(t,i){1&t&&o.Hsn(0,0,["*ngSwitchCase","true"])}function pV(t,i){if(1&t&&(o.TgZ(0,"span",9),o.YNc(1,dV,2,1,"span",10),o.YNc(2,hV,1,0,"ng-content",11),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function fV(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(a){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(a.toState)})("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const mV=[[["mat-select-trigger"]],"*"],gV=["mat-select-trigger","*"],sN={transformPanelWrap:ka("transformPanelWrap",[Br("* => void",sT("@transformPanel",[rT()],{optional:!0}))]),transformPanel:ka("transformPanel",[To("void",si({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),To("showing",si({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),To("showing-multiple",si({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Br("void => *",as("120ms cubic-bezier(0, 0, 0.2, 1)")),Br("* => void",as("100ms 25ms linear",si({opacity:0})))])};let oN=0;const lN=new o.OlP("mat-select-scroll-strategy"),bV=new o.OlP("MAT_SELECT_CONFIG"),xV={provide:lN,deps:[Sm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class wV{constructor(i,e){this.source=i,this.value=e}}class CV{constructor(i,e,s,a,l){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=s,this._parentFormGroup=a,this.ngControl=l}}const MV=gD(mR(kv(gR(CV)))),cN=new o.OlP("MatSelectTrigger");let TV=(()=>{class t extends MV{constructor(e,s,a,l,y,k,V,K,pe,Se,Ue,Je,rt,Tt){var Qt,Cn,Jn;super(y,l,V,K,Se),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=a,this._dir=k,this._parentFormField=pe,this.ngControl=Se,this._liveAnnouncer=rt,this._defaultOptions=Tt,this._panelOpen=!1,this._compareWith=(Zn,Di)=>Zn===Di,this._uid="mat-select-"+oN++,this._triggerAriaLabelledBy=null,this._destroy=new ai.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+oN++,this._panelDoneAnimatingStream=new ai.xQ,this._overlayPanelClass=(null===(Qt=this._defaultOptions)||void 0===Qt?void 0:Qt.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Jn=null===(Cn=this._defaultOptions)||void 0===Cn?void 0:Cn.disableOptionCentering)&&void 0!==Jn&&Jn,this.ariaLabel="",this.optionSelectionChanges=Ke(()=>{const Zn=this.options;return Zn?Zn.changes.pipe(xn(Zn),Es(()=>(0,Ba.T)(...Zn.map(Di=>Di.onSelectionChange)))):this._ngZone.onStable.pipe(ve(1),Es(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(C(Zn=>Zn),(0,Ei.U)(()=>{})),this._closedStream=this.openedChange.pipe(C(Zn=>!Zn),(0,Ei.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Tt?void 0:Tt.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Tt.typeaheadDebounceInterval),this._scrollStrategyFactory=Je,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ue)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Gs(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Gs(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Gs(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Xc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new y6(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(uu(),Wa(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wa(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(xn(null),Wa(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,a=40===s||38===s||37===s||39===s,l=13===s||32===s,y=this._keyManager;if(!y.isTyping()&&l&&!y_(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){const k=this.selected;y.onKeydown(e);const V=this.selected;V&&k!==V&&this._liveAnnouncer.announce(V.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,a=e.keyCode,l=40===a||38===a,y=s.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(y||13!==a&&32!==a||!s.activeItem||y_(e))if(!y&&this._multiple&&65===a&&e.ctrlKey){e.preventDefault();const k=this.options.some(V=>!V.disabled&&!V.selected);this.options.forEach(V=>{V.disabled||(k?V.select():V.deselect())})}else{const k=s.activeItemIndex;s.onKeydown(e),this._multiple&&l&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==k&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(ve(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const s=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,e)}catch(l){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new oL(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Wa(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Wa(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ba.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wa(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ba.T)(...this.options.map(s=>s._stateChanges)).pipe(Wa(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,s){const a=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,a)=>this.sortComparator?this.sortComparator(s,a,e):e.indexOf(s)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let a=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(a+=" "+this.ariaLabelledby),a}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(zx),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(PL),o.Y36(o.SBq),o.Y36(of,8),o.Y36(jx,8),o.Y36(yg,8),o.Y36(VL,8),o.Y36(Ey,10),o.$8M("tabindex"),o.Y36(lN),o.Y36(T1),o.Y36(bV,8))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&(o.Gf(lV,5),o.Gf(cV,5),o.Gf(KR,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.trigger=a.first),o.iGM(a=o.CRH())&&(s.panel=a.first),o.iGM(a=o.CRH())&&(s.overlayDir=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),t})(),SV=(()=>{class t extends TV{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,s,a){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-s+l/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Wa(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(ve(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const s=MR(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=function(t,i,e,s){return t<e?t:t+i>e+256?Math.max(0,t-256+i):e}((e+s)*a,a,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new wV(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),a=this._isRtl(),l=this.multiple?56:32;let y;if(this.multiple)y=40;else if(this.disableOptionCentering)y=16;else{let K=this._selectionModel.selected[0]||this.options.first;y=K&&K.group?32:16}a||(y*=-1);const k=0-(e.left+y-(a?l:0)),V=e.right+y-s.width+(a?0:l);k>0?y+=k+8:V>0&&(y-=V+8),this.overlayDir.offsetX=Math.round(y),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,s,a){const l=this._getItemHeight(),y=(l-this._triggerRect.height)/2,k=Math.floor(256/l);let V;return this.disableOptionCentering?0:(V=0===this._scrollTop?e*l:this._scrollTop===a?(e-(this._getItemCount()-k))*l+(l-(this._getItemCount()*l-256)%l):s-l/2,Math.round(-1*V-y))}_checkOverlayWithinViewport(e){const s=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,y=a.height-this._triggerRect.bottom-8,k=Math.abs(this._offsetY),K=Math.min(this._getItemCount()*s,256)-k-this._triggerRect.height;K>y?this._adjustPanelUp(K,y):k>l?this._adjustPanelDown(k,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,s){const a=Math.round(e-s);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,s,a){const l=Math.round(e-s);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),s=this._getItemCount(),a=Math.min(s*e,256),y=s*e-a;let k;k=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),k+=MR(k,this.options,this.optionGroups);const V=a/2;this._scrollTop=this._calculateOverlayScroll(k,V,y),this._offsetY=this._calculateOverlayOffsetY(k,V,y),this._checkOverlayWithinViewport(y)}_getOriginBasedOnOption(){const e=this._getItemHeight(),s=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,cN,5),o.Suo(a,CR,5),o.Suo(a,FL,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.customTrigger=l.first),o.iGM(l=o.CRH())&&(s.options=l),o.iGM(l=o.CRH())&&(s.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,s){1&e&&o.NdJ("keydown",function(l){return s._handleKeydown(l)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(o.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),o.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:MD,useExisting:t},{provide:RL,useExisting:t}]),o.qOj],ngContentSelectors:gV,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(o.F$t(mV),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s.toggle()}),o.TgZ(3,"div",2),o.YNc(4,uV,2,1,"span",3),o.YNc(5,pV,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,fV,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const a=o.MAs(1);o.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",s.empty),o.uIk("id",s._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[Z6,lr,fi,KR,Oi,ue],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[sN.transformPanelWrap,sN.transformPanel]},changeDetection:0}),t})(),uN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[xV],imports:[[Wi,yT,TR,to],mT,TD,TR,to]}),t})();class EV{constructor(i){this.total=i}call(i,e){return e.subscribe(new DV(i,this.total))}}class DV extends yo.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}const dN=new Set;let V1,hN=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):IV}matchMedia(e){return this._platform.WEBKIT&&function(t){if(!dN.has(t))try{V1||(V1=document.createElement("style"),V1.setAttribute("type","text/css"),document.head.appendChild(V1)),V1.sheet&&(V1.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),dN.add(t))}catch(i){console.error(i)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pa))},token:t,providedIn:"root"}),t})();function IV(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let o2=(()=>{class t{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new ai.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pN(VM(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let l=kc(pN(VM(e)).map(y=>this._registerQuery(y).observable));return l=Be(l.pipe(ve(1)),l.pipe(i=>i.lift(new EV(1)),Sx(0))),l.pipe((0,Ei.U)(y=>{const k={matches:!1,breakpoints:{}};return y.forEach(({matches:V,query:K})=>{k.matches=k.matches||V,k.breakpoints[K]=V}),k}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),l={observable:new Er.y(y=>{const k=V=>this._zone.run(()=>y.next(V));return s.addListener(k),()=>{s.removeListener(k)}}).pipe(xn(s),(0,Ei.U)(({matches:y})=>({query:e,matches:y})),Wa(this._destroySubject)),mql:s};return this._queries.set(e,l),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(hN),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(hN),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})();function pN(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}const LV={tooltipState:ka("state",[To("initial, void, hidden",si({opacity:0,transform:"scale(0)"})),To("visible",si({transform:"scale(1)"})),Br("* => visible",as("200ms cubic-bezier(0, 0, 0.2, 1)",Sv([si({opacity:0,transform:"scale(0)",offset:0}),si({opacity:.5,transform:"scale(0.99)",offset:.5}),si({opacity:1,transform:"scale(1)",offset:1})]))),Br("* => hidden",as("100ms cubic-bezier(0, 0, 0.2, 1)",si({opacity:0})))])},mN=_1({passive:!0}),gN=new o.OlP("mat-tooltip-scroll-strategy"),NV={provide:gN,deps:[Sm],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},zV=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let BV=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe,Se,Ue,Je){this._overlay=e,this._elementRef=s,this._scrollDispatcher=a,this._viewContainerRef=l,this._ngZone=y,this._platform=k,this._ariaDescriber=V,this._focusMonitor=K,this._dir=Se,this._defaultOptions=Ue,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ai.xQ,this._handleKeydown=rt=>{this._isTooltipVisible()&&27===rt.keyCode&&!y_(rt)&&(rt.preventDefault(),rt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=pe,Ue&&(Ue.position&&(this.position=Ue.position),Ue.touchGestures&&(this.touchGestures=Ue.touchGestures)),y.runOutsideAngular(()=>{s.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Gs(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wa(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([s,a])=>{e.removeEventListener(s,a,mN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new N1(VV,this._viewContainerRef),this._tooltipInstance=s.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Wa(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return s.positionChanges.pipe(Wa(this._destroyed)).subscribe(a=>{this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Wa(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,s=this._getOrigin(),a=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},s.main),a.main),Object.assign(Object.assign({},s.fallback),a.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s||"below"==s?a={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={originX:"end",originY:"center"});const{x:l,y}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:l,originY:y}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s?a={overlayX:"center",overlayY:"bottom"}:"below"==s?a={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={overlayX:"start",overlayY:"center"});const{x:l,y}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:l,overlayY:y}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ve(1),Wa(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,a])=>{this._elementRef.nativeElement.addEventListener(s,a,mN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const a=(this._document||document).elementFromPoint(e.clientX,e.clientY),l=this._elementRef.nativeElement;a!==l&&!l.contains(a)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,a=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),("on"===e||!s.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sm),o.Y36(o.SBq),o.Y36(pT),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(pa),o.Y36(WM),o.Y36(fg),o.Y36(gN),o.Y36(of,8),o.Y36(zV,8),o.Y36(Te))},t.\u0275dir=o.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),VV=(()=>{class t{constructor(e,s){this._changeDetectorRef=e,this._breakpointObserver=s,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new ai.xQ,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const s=e.toState;"hidden"===s&&!this.isVisible()&&this._onHide.next(),("visible"===s||"hidden"===s)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(o2))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleBodyInteraction()},!1,o.pYS)("auxclick",function(){return s._handleBodyInteraction()},!1,o.pYS),2&e&&o.Udp("zoom","visible"===s._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,s){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return s._animationStart()})("@state.done",function(l){return s._animationDone(l)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let a;o.ekj("mat-tooltip-handset",null==(a=o.lcZ(1,5,s._isHandset))?null:a.matches),o.Q6J("ngClass",s.tooltipClass)("@state",s._visibility),o.xp6(2),o.Oqu(s.message)}},directives:[ue],pipes:[Cl],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[LV.tooltipState]},changeDetection:0}),t})(),HV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[NV],imports:[[E1,Wi,yT,to],to,mT]}),t})();function UV(t,i){if(1&t&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function jV(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(a){return o.CHM(e),o.oxw(2)._changePageSize(a.value)}),o.YNc(2,UV,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function GV(t,i){if(1&t&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function ZV(t,i){if(1&t&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,jV,3,6,"mat-form-field",14),o.YNc(4,GV,2,1,"div",15),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function WV(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function qV(t,i){if(1&t){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let TT=(()=>{class t{constructor(){this.changes=new ai.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=e*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const XV={provide:TT,deps:[[new o.FiY,new o.tp0,TT]],useFactory:function(t){return t||new TT}},JV=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS");class KV{}const eH=kv(_R(KV));let tH=(()=>{class t extends eH{constructor(e,s,a){if(super(),this._intl=e,this._changeDetectorRef=s,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),a){const{pageSize:l,pageSizeOptions:y,hidePageSize:k,showFirstLastButtons:V}=a;null!=l&&(this._pageSize=l),null!=y&&(this._pageSizeOptions=y),null!=k&&(this._hidePageSize=k),null!=V&&(this._showFirstLastButtons=V)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Xc(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Xc(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Xc(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(s=>Xc(s)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Gs(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Gs(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const a=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,s)=>e-s),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(TT),o.Y36(o.sBO),o.Y36(void 0))},t.\u0275dir=o.lG2({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[o.qOj]}),t})(),a0=(()=>{class t extends tH{constructor(e,s,a){super(e,s,a),a&&null!=a.formFieldAppearance&&(this._formFieldAppearance=a.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(TT),o.Y36(o.sBO),o.Y36(JV,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,ZV,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,WV,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return s.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return s.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,qV,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!s.hidePageSize),o.xp6(3),o.hij(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),o.xp6(1),o.Q6J("ngIf",s.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),o.uIk("aria-label",s._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),o.uIk("aria-label",s._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",s.showFirstLastButtons))},directives:[dn,Dp,BV,Hx,SV,ft,CR],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),nH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[XV],imports:[[Wi,NL,uN,HV,to]]}),t})();const iH=[[["caption"]],[["colgroup"],["col"]]],rH=["caption","colgroup, col"];function a2(t){return class extends t{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const e=this._sticky;this._sticky=Gs(i),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const H1=new o.OlP("CDK_TABLE");let U1=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t})(),j1=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),ND=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class lH{}const cH=a2(lH);let Av=(()=>{class t extends cH{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=Gs(e),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(H1,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,U1,5),o.Suo(a,j1,5),o.Suo(a,ND,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})();class l2{constructor(i,e){const s=e.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let c2=(()=>{class t extends l2{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Av),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),t})(),u2=(()=>{class t extends l2{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Av),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[o.qOj]}),t})();class yN{constructor(){this.tasks=[],this.endTasks=[]}}const d2=new o.OlP("_COALESCED_STYLE_SCHEDULER");let vN=(()=>{class t{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ai.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new yN,this._getScheduleObservable().pipe(Wa(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new yN;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Fs.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ve(1))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),h2=(()=>{class t{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ST?e.headerCell.template:this instanceof kT?e.footerCell.template:e.cell.template}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,features:[o.TTD]}),t})();class uH extends h2{}const dH=a2(uH);let ST=(()=>{class t extends dH{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(H1,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})();class hH extends h2{}const pH=a2(hH);let kT=(()=>{class t extends pH{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(H1,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})(),zD=(()=>{class t extends h2{constructor(e,s,a){super(e,s),this._table=a}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(H1,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),t})(),Iv=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),p2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Iv],encapsulation:2}),t})(),m2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Iv],encapsulation:2}),t})(),YD=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const bN=["top","bottom","left","right"];class fH{constructor(i,e,s,a,l=!0,y=!0,k){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=y,this._positionListener=k,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._scheduleStyleChanges(()=>{for(const a of s)this._removeStickyStyle(a,e)})}updateStickyColumns(i,e,s,a=!0){if(!i.length||!this._isBrowser||!e.some(Ue=>Ue)&&!s.some(Ue=>Ue))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],y=l.children.length,k=this._getCellWidths(l,a),V=this._getStickyStartColumnPositions(k,e),K=this._getStickyEndColumnPositions(k,s),pe=e.lastIndexOf(!0),Se=s.indexOf(!0);this._scheduleStyleChanges(()=>{const Ue="rtl"===this.direction,Je=Ue?"right":"left",rt=Ue?"left":"right";for(const Tt of i)for(let Qt=0;Qt<y;Qt++){const Cn=Tt.children[Qt];e[Qt]&&this._addStickyStyle(Cn,Je,V[Qt],Qt===pe),s[Qt]&&this._addStickyStyle(Cn,rt,K[Qt],Qt===Se)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===pe?[]:k.slice(0,pe+1).map((Tt,Qt)=>e[Qt]?Tt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Se?[]:k.slice(Se).map((Tt,Qt)=>s[Qt+Se]?Tt:null).reverse()}))})}stickRows(i,e,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?e.slice().reverse():e,y=[],k=[],V=[];for(let pe=0,Se=0;pe<a.length;pe++){if(y[pe]=Se,!l[pe])continue;const Ue=a[pe];V[pe]=this._isNativeHtmlTable?Array.from(Ue.children):[Ue];const Je=Ue.getBoundingClientRect().height;Se+=Je,k[pe]=Je}const K=l.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var pe,Se;for(let Ue=0;Ue<a.length;Ue++){if(!l[Ue])continue;const Je=y[Ue],rt=Ue===K;for(const Tt of V[Ue])this._addStickyStyle(Tt,s,Je,rt)}"top"===s?null===(pe=this._positionListener)||void 0===pe||pe.stickyHeaderRowsUpdated({sizes:k,elements:V}):null===(Se=this._positionListener)||void 0===Se||Se.stickyFooterRowsUpdated({sizes:k,elements:V})})}updateStickyFooterContainer(i,e){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,e){for(const a of e)i.style[a]="",i.classList.remove(this._borderCellCss[a]);bN.some(a=>-1===e.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const a of bN)i.style[a]&&(s+=e[a]);return s?`${s}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,e){const s=[];let a=0;for(let l=0;l<i.length;l++)e[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,e){const s=[];let a=0;for(let l=i.length;l>0;l--)e[l]&&(s[l]=a,a+=i[l]);return s}_scheduleStyleChanges(i){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(i):i()}}const xN=new o.OlP("CDK_SPL");let BD=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","rowOutlet",""]]}),t})(),VD=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),HD=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),UD=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),jD=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe,Se,Ue){this._differs=e,this._changeDetectorRef=s,this._elementRef=a,this._dir=y,this._platform=V,this._viewRepeater=K,this._coalescedStyleScheduler=pe,this._stickyPositioningListener=Se,this._viewportRuler=Ue,this._onDestroy=new ai.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new bo({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=k,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Gs(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Gs(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler&&this._viewportRuler.change().pipe(Wa(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),xD(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const s=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,s,(a,l,y)=>this._getEmbeddedViewArgs(a.item,y),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}):e.forEachOperation((a,l,y)=>{if(null==a.previousIndex){const k=a.item;this._renderRow(this._rowOutlet,k.rowDef,y,{$implicit:k.data})}else if(null==y)s.remove(l);else{const k=s.get(l);s.move(k,y)}}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=e.length?"":"none");const l=this._headerRowDefs.map(y=>y.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(y=>y.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=e.length?"":"none");const l=this._footerRowDefs.map(y=>y.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(y=>y.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,y)=>{this._addStickyColumnStyles([l],this._headerRowDefs[y])}),this._rowDefs.forEach(l=>{const y=[];for(let k=0;k<s.length;k++)this._renderRows[k].rowDef===l&&y.push(s[k]);this._addStickyColumnStyles(y,l)}),a.forEach((l,y)=>{this._addStickyColumnStyles([l],this._footerRowDefs[y])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const y=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let k=0;k<y.length;k++){let V=y[k];const K=this._cachedRenderRowsMap.get(V.data);K.has(V.rowDef)?K.get(V.rowDef).push(V):K.set(V.rowDef,[V]),e.push(V)}}return e}_getRenderRowsForData(e,s,a){return this._getRowDefs(e,s).map(y=>{const k=a&&a.has(y)?a.get(y):[];if(k.length){const V=k.shift();return V.dataIndex=s,V}return{data:e,rowDef:y,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),GD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=GD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=GD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=GD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(y,k)=>y||!!k.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(e){this._data=[],xD(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;xD(this.dataSource)?e=this.dataSource.connect(this):zL(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ti.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Wa(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const a=Array.from(s.columns||[]).map(k=>this._columnDefsByName.get(k)),l=a.map(k=>k.sticky),y=a.map(k=>k.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,y,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let a=0;a<e.viewContainer.length;a++){const l=e.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,e));else{let l=this._rowDefs.find(y=>y.when&&y.when(s,e))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,a,l={}){const y=e.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),y}_renderCellTemplateForItem(e,s){for(let a of this._getCellTemplates(e))Iv.mostRecentCellOutlet&&Iv.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,a=e.length;s<a;s++){const y=e.get(s).context;y.count=a,y.first=0===s,y.last=s===a-1,y.even=s%2==0,y.odd=!y.even,this.multiTemplateDataRows?(y.dataIndex=this._renderRows[s].dataIndex,y.renderIndex=s):y.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const a=this._columnDefsByName.get(s);return e.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const y of a.outlets)l.appendChild(y.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new fH(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ti.of)()).pipe(Wa(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(e.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(of,8),o.Y36(Te),o.Y36(pa),o.Y36(hT,8),o.Y36(d2,8),o.Y36(xN,12),o.Y36(zx,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,YD,5),o.Suo(a,Av,5),o.Suo(a,zD,5),o.Suo(a,ST,5),o.Suo(a,kT,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(BD,7),o.Gf(VD,7),o.Gf(HD,7),o.Gf(UD,7)),2&e){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[o._Bn([{provide:H1,useExisting:t},{provide:hT,useClass:PR},{provide:d2,useClass:vN},{provide:xN,useValue:null}])],ngContentSelectors:rH,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(iH),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[VD,BD,UD,HD],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function GD(t,i){return t.concat(Array.from(i))}let mH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Yx]]}),t})();const gH=[[["caption"]],[["colgroup"],["col"]]],_H=["caption","colgroup, col"];let ET=(()=>{class t extends jD{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:hT,useClass:PR},{provide:jD,useExisting:t},{provide:H1,useExisting:t},{provide:d2,useClass:vN}]),o.qOj],ngContentSelectors:_H,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(gH),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[VD,BD,UD,HD],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),G1=(()=>{class t extends U1{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:U1,useExisting:t}]),o.qOj]}),t})(),Z1=(()=>{class t extends j1{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:j1,useExisting:t}]),o.qOj]}),t})(),W1=(()=>{class t extends Av{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Av,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})(),q1=(()=>{class t extends c2{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),t})(),$1=(()=>{class t extends u2{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),t})(),DT=(()=>{class t extends ST{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:ST,useExisting:t}]),o.qOj]}),t})(),AT=(()=>{class t extends zD{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:zD,useExisting:t}]),o.qOj]}),t})(),IT=(()=>{class t extends p2{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:p2,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Iv],encapsulation:2}),t})(),LT=(()=>{class t extends m2{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:m2,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Iv],encapsulation:2}),t})(),PT=(()=>{class t extends YD{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:YD,useExisting:t}]),o.qOj]}),t})(),TH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[mH,to],to]}),t})();class kH extends LR{constructor(i=[]){super(),this._renderData=new bo([]),this._filter=new bo(""),this._internalPageChanges=new ai.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,s)=>{const a=e[s];if(wE(a)){const l=Number(a);return l<9007199254740991?l:a}return a},this.sortData=(e,s)=>{const a=s.active,l=s.direction;return a&&""!=l?e.sort((y,k)=>{let V=this.sortingDataAccessor(y,a),K=this.sortingDataAccessor(k,a);const pe=typeof V,Se=typeof K;pe!==Se&&("number"===pe&&(V+=""),"number"===Se&&(K+=""));let Ue=0;return null!=V&&null!=K?V>K?Ue=1:V<K&&(Ue=-1):null!=V?Ue=1:null!=K&&(Ue=-1),Ue*("asc"==l?1:-1)}):e},this.filterPredicate=(e,s)=>{const a=Object.keys(e).reduce((y,k)=>y+e[k]+"\u25ec","").toLowerCase(),l=s.trim().toLowerCase();return-1!=a.indexOf(l)},this._data=new bo(i),this._updateChangeSubscription()}get data(){return this._data.value}set data(i){this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_updateChangeSubscription(){var i;const e=this._sort?(0,Ba.T)(this._sort.sortChange,this._sort.initialized):(0,Ti.of)(null),s=this._paginator?(0,Ba.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Ti.of)(null),l=kc([this._data,this._filter]).pipe((0,Ei.U)(([V])=>this._filterData(V))),y=kc([l,e]).pipe((0,Ei.U)(([V])=>this._orderData(V))),k=kc([y,s]).pipe((0,Ei.U)(([V])=>this._pageData(V)));null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=k.subscribe(V=>this._renderData.next(V))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){const s=Math.ceil(e.length/e.pageSize)-1||0,a=Math.min(e.pageIndex,s);a!==e.pageIndex&&(e.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var i;null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=null}}class Zx extends kH{}class br{static equals(i,e,s){return s?this.resolveFieldData(i,s)===this.resolveFieldData(e,s):this.equalsByValue(i,e)}static equalsByValue(i,e){if(i===e)return!0;if(i&&e&&"object"==typeof i&&"object"==typeof e){var l,y,k,s=Array.isArray(i),a=Array.isArray(e);if(s&&a){if((y=i.length)!=e.length)return!1;for(l=y;0!=l--;)if(!this.equalsByValue(i[l],e[l]))return!1;return!0}if(s!=a)return!1;var V=i instanceof Date,K=e instanceof Date;if(V!=K)return!1;if(V&&K)return i.getTime()==e.getTime();var pe=i instanceof RegExp,Se=e instanceof RegExp;if(pe!=Se)return!1;if(pe&&Se)return i.toString()==e.toString();var Ue=Object.keys(i);if((y=Ue.length)!==Object.keys(e).length)return!1;for(l=y;0!=l--;)if(!Object.prototype.hasOwnProperty.call(e,Ue[l]))return!1;for(l=y;0!=l--;)if(!this.equalsByValue(i[k=Ue[l]],e[k]))return!1;return!0}return i!=i&&e!=e}static resolveFieldData(i,e){if(i&&e){if(this.isFunction(e))return e(i);if(-1==e.indexOf("."))return i[e];{let s=e.split("."),a=i;for(let l=0,y=s.length;l<y;++l){if(null==a)return null;a=a[s[l]]}return a}}return null}static isFunction(i){return!!(i&&i.constructor&&i.call&&i.apply)}static reorderArray(i,e,s){i&&e!==s&&(s>=i.length&&(s%=i.length,e%=i.length),i.splice(s,0,i.splice(e,1)[0]))}static insertIntoOrderedArray(i,e,s,a){if(s.length>0){let l=!1;for(let y=0;y<s.length;y++)if(this.findIndexInList(s[y],a)>e){s.splice(y,0,i),l=!0;break}l||s.push(i)}else s.push(i)}static findIndexInList(i,e){let s=-1;if(e)for(let a=0;a<e.length;a++)if(e[a]==i){s=a;break}return s}static removeAccents(i){return i&&i.search(/[\xC0-\xFF]/g)>-1&&(i=i.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),i}}var CN=0;function ZD(){return"pr_id_"+ ++CN}var Du=function(){let t=[];const a=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:a,set:(l,y,k)=>{y&&(y.style.zIndex=String(((l,y)=>{let k=t.length>0?t[t.length-1]:{key:l,value:y},V=k.value+(k.key===l?0:y)+1;return t.push({key:l,value:V}),V})(l,k)))},clear:l=>{l&&((l=>{t=t.filter(y=>y.value!==l)})(a(l)),l.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}();const MN=["*"];let $h=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),km=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[$h.STARTS_WITH,$h.CONTAINS,$h.NOT_CONTAINS,$h.ENDS_WITH,$h.EQUALS,$h.NOT_EQUALS],numeric:[$h.EQUALS,$h.NOT_EQUALS,$h.LESS_THAN,$h.LESS_THAN_OR_EQUAL_TO,$h.GREATER_THAN,$h.GREATER_THAN_OR_EQUAL_TO],date:[$h.DATE_IS,$h.DATE_IS_NOT,$h.DATE_BEFORE,$h.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new ai.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sd=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t})();var l0=(()=>(function(t){t[t.ACCEPT=0]="ACCEPT",t[t.REJECT=1]="REJECT",t[t.CANCEL=2]="CANCEL"}(l0||(l0={})),l0))();let Lv=(()=>{class t{constructor(){this.requireConfirmationSource=new ai.xQ,this.acceptConfirmationSource=new ai.xQ,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),TN=(()=>{class t{constructor(){this.filters={startsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=br.removeAccents(s.toString()).toLocaleLowerCase(a);return br.removeAccents(e.toString()).toLocaleLowerCase(a).slice(0,l.length)===l},contains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=br.removeAccents(s.toString()).toLocaleLowerCase(a);return-1!==br.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},notContains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=br.removeAccents(s.toString()).toLocaleLowerCase(a);return-1===br.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},endsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=br.removeAccents(s.toString()).toLocaleLowerCase(a),y=br.removeAccents(e.toString()).toLocaleLowerCase(a);return-1!==y.indexOf(l,y.length-l.length)},equals:(e,s,a)=>null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():br.removeAccents(e.toString()).toLocaleLowerCase(a)==br.removeAccents(s.toString()).toLocaleLowerCase(a)),notEquals:(e,s,a)=>!(null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():br.removeAccents(e.toString()).toLocaleLowerCase(a)==br.removeAccents(s.toString()).toLocaleLowerCase(a))),in:(e,s)=>{if(null==s||0===s.length)return!0;for(let a=0;a<s.length;a++)if(br.equals(e,s[a]))return!0;return!1},between:(e,s)=>null==s||null==s[0]||null==s[1]||null!=e&&(e.getTime?s[0].getTime()<=e.getTime()&&e.getTime()<=s[1].getTime():s[0]<=e&&e<=s[1]),lt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<s.getTime():e<s),lte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<=s.getTime():e<=s),gt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>s.getTime():e>s),gte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>=s.getTime():e>=s),is:(e,s,a)=>this.filters.equals(e,s,a),isNot:(e,s,a)=>this.filters.notEquals(e,s,a),before:(e,s,a)=>this.filters.lt(e,s,a),after:(e,s,a)=>this.filters.gt(e,s,a),dateIs:(e,s)=>null==s||null!=e&&e.toDateString()===s.toDateString(),dateIsNot:(e,s)=>null==s||null!=e&&e.toDateString()!==s.toDateString(),dateBefore:(e,s)=>null==s||null!=e&&e.getTime()<s.getTime(),dateAfter:(e,s)=>null==s||null!=e&&e.getTime()>s.getTime()}}filter(e,s,a,l,y){let k=[];if(e)for(let V of e)for(let K of s){let pe=br.resolveFieldData(V,K);if(this.filters[l](pe,a,y)){k.push(V);break}}return k}register(e,s){this.filters[e]=s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X1=(()=>{class t{constructor(){this.messageSource=new ai.xQ,this.clearSource=new ai.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),OT=(()=>{class t{constructor(){this.clickSource=new ai.xQ,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vg=(()=>{class t{}return t.ALIGN_CENTER="pi pi-align-center",t.ALIGN_JUSTIFY="pi pi-align-justify",t.ALIGN_LEFT="pi pi-align-left",t.ALIGN_RIGHT="pi pi-align-right",t.AMAZON="pi pi-amazon",t.ANDROID="pi pi-android",t.ANGLE_DOUBLE_DOWN="pi pi-angle-double-down",t.ANGLE_DOUBLE_LEFT="pi pi-angle-double-left",t.ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right",t.ANGLE_DOUBLE_UP="pi pi-angle-double-up",t.ANGLE_DOWN="pi pi-angle-down",t.ANGLE_LEFT="pi pi-angle-left",t.ANGLE_RIGHT="pi pi-angle-right",t.ANGLE_UP="pi pi-angle-up",t.APPLE="pi pi-apple",t.ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down",t.ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left",t.ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right",t.ARROW_CIRCLE_UP="pi pi-arrow-circle-up",t.ARROW_DOWN="pi pi-arrow-down",t.ARROW_LEFT="pi pi-arrow-left",t.ARROW_RIGHT="pi pi-arrow-right",t.ARROW_UP="pi pi-arrow-up",t.BACKWARD="pi pi-backward",t.BAN="pi pi-ban",t.BARS="pi pi-bars",t.BELL="pi pi-bell",t.BOOK="pi pi-book",t.BOOKMARK="pi pi-bookmark",t.BRIEFCASE="pi pi-briefcase",t.CALENDAR_MINUS="pi pi-calendar-minus",t.CALENDAR_PLUS="pi pi-calendar-plus",t.CALENDAR_TIMES="pi pi-calendar-times",t.CALENDAR="pi pi-calendar",t.CAMERA="pi pi-camera",t.CARET_DOWN="pi pi-caret-down",t.CARET_LEFT="pi pi-caret-left",t.CARET_RIGHT="pi pi-caret-right",t.CARET_UP="pi pi-caret-up",t.CHART_BAR="pi pi-chart-bar",t.CHART_LINE="pi pi-chart-line",t.CHECK_CIRCLE="pi pi-check-circle",t.CHECK_SQUARE="pi pi-check-square",t.CHECK="pi pi-check",t.CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down",t.CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left",t.CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right",t.CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up",t.CHEVRON_DOWN="pi pi-chevron-down",t.CHEVRON_LEFT="pi pi-chevron-left",t.CHEVRON_RIGHT="pi pi-chevron-right",t.CHEVRON_UP="pi pi-chevron-up",t.CLOCK="pi pi-clock",t.CLONE="pi pi-clone",t.CLOUD_DOWNLOAD="pi pi-cloud-download",t.CLOUD_UPLOAD="pi pi-cloud-upload",t.CLOUD="pi pi-cloud",t.COG="pi pi-cog",t.COMMENT="pi pi-comment",t.COMMENTS="pi pi-comments",t.COMPASS="pi pi-compass",t.COPY="pi pi-copy",t.CREDIT_CARD="pi pi-credit-card",t.DESKTOP="pi pi-desktop",t.DISCORD="pi pi-discord",t.DIRECTIONS_ALT="pi pi-directions-alt",t.DIRECTIONS="pi pi-directions",t.DOLLAR="pi pi-dollar",t.DOWNLOAD="pi pi-download",t.EJECT="pi pi-eject",t.ELLIPSIS_H="pi pi-ellipsis-h",t.ELLIPSIS_V="pi pi-ellipsis-v",t.ENVELOPE="pi pi-envelope",t.EXCLAMATION_CIRCLE="pi pi-exclamation-circle",t.EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle ",t.EXTERNAL_LINK="pi pi-external-link",t.EYE_SLASH="pi pi-eye-slash",t.EYE="pi pi-eye",t.FACEBOOK="pi pi-facebook",t.FAST_BACKWARD="pi pi-fast-backward",t.FAST_FORWARD="pi pi-fast-forward",t.FILE_EXCEL="pi pi-file-excel",t.FILE_O="pi pi-file-o",t.FILE_PDF="pi pi-file-pdf",t.FILE="pi pi-file",t.FILTER="pi pi-filter",t.FILTER_SLASH="pi pi-filter-slash",t.FLAG="pi pi-flag",t.FOLDER_OPEN="pi pi-folder-open",t.FOLDER="pi pi-folder",t.FORWARD="pi pi-forward",t.GITHUB="pi pi-github",t.GLOBE="pi pi-globe",t.GOOGLE="pi pi-google",t.HEART="pi pi-heart",t.HOME="pi pi-home",t.ID_CARD="pi pi-id-card",t.IMAGE="pi pi-image",t.IMAGES="pi pi-images",t.INBOX="pi pi-inbox",t.INFO_CIRCLE="pi pi-info-circle",t.INFO="pi pi-info",t.KEY="pi pi-key",t.LINK="pi pi-link",t.LIST="pi pi-list",t.LOCK_OPEN="pi pi-lock-open",t.LOCK="pi pi-lock",t.MAP="pi pi-map",t.MAP_MARKER="pi pi-map-marker",t.MICROSOFT="pi pi-microsoft",t.MINUS_CIRCLE="pi pi-minus-circle",t.MINUS="pi pi-minus",t.MOBILE="pi pi-mobile",t.MONEY_BILL="pi pi-money-bill",t.MOON="pi pi-moon",t.PALETTE="pi pi-palette",t.PAPERCLIP="pi pi-paperclip",t.PAUSE="pi pi-pause",t.PAYPAL="pi pi-paypal",t.PENCIL="pi pi-pencil",t.PERCENTAGE="pi pi-percentage",t.PHONE="pi pi-phone",t.PLAY="pi pi-play",t.PLUS_CIRCLE="pi pi-plus-circle",t.PLUS="pi pi-plus",t.POWER_OFF="pi pi-power-off",t.PRINT="pi pi-print",t.QUESTION_CIRCLE="pi pi-question-circle",t.QUESTION="pi pi-question",t.RADIO_OFF="pi pi-radio-off",t.RADIO_ON="pi pi-radio-on",t.REFRESH="pi pi-refresh",t.REPLAY="pi pi-replay",t.REPLY="pi pi-reply",t.SAVE="pi pi-save",t.SEARCH_MINUS="pi pi-search-minus",t.SEARCH_PLUS="pi pi-search-plus",t.SEARCH="pi pi-search",t.SEND="pi pi-send",t.SHARE_ALT="pi pi-share-alt",t.SHIELD="pi pi-shield",t.SHOPPING_CART="pi pi-shopping-cart",t.SIGN_IN="pi pi-sign-in",t.SIGN_OUT="pi pi-sign-out",t.SITEMAP="pi pi-sitemap",t.SLACK="pi pi-slack",t.SLIDERS_H="pi pi-sliders-h",t.SLIDERS_V="pi pi-sliders-v",t.SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down",t.SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up",t.SORT_ALPHA_DOWN="pi pi-sort-alpha-down",t.SORT_ALPHA_UP="pi pi-sort-alpha-up",t.SORT_ALT="pi pi-sort-alt",t.SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt",t.SORT_AMOUNT_DOWN="pi pi-sort-amount-down",t.SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt",t.SORT_AMOUNT_UP="pi pi-sort-amount-up",t.SORT_DOWN="pi pi-sort-down",t.SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down",t.SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up",t.SORT_NUMERIC_DOWN="pi pi-sort-numeric-down",t.SORT_NUMERIC_UP="pi pi-sort-numeric-up",t.SORT_UP="pi pi-sort-up",t.SORT="pi pi-sort",t.SPINNER="pi pi-spinner",t.STAR_O="pi pi-star-o",t.STAR="pi pi-star",t.STEP_BACKWARD_ALT="pi pi-step-backward-alt",t.STEP_BACKWARD="pi pi-step-backward",t.STEP_FORWARD_ALT="pi pi-step-forward-alt",t.STEP_FORWARD="pi pi-step-forward",t.SUN="pi pi-sun",t.TABLE="pi pi-table",t.TABLET="pi pi-tablet",t.TAG="pi pi-tag",t.TAGS="pi pi-tags",t.TH_LARGE="pi pi-th-large",t.THUMBS_DOWN="pi pi-thumbs-down",t.THUMBS_UP="pi pi-thumbs-up",t.TICKET="pi pi-ticket",t.TIMES_CIRCLE="pi pi-times-circle",t.TIMES="pi pi-times",t.TRASH="pi pi-trash",t.TWITTER="pi pi-twitter",t.UNDO="pi pi-undo",t.UNLOCK="pi pi-unlock",t.UPLOAD="pi pi-upload",t.USER_EDIT="pi pi-user-edit",t.USER_MINUS="pi pi-user-minus",t.USER_PLUS="pi pi-user-plus",t.USER="pi pi-user",t.USERS="pi pi-users",t.VIDEO="pi pi-video",t.VIMEO="pi pi-vimeo",t.VOLUME_DOWN="pi pi-volume-down",t.VOLUME_OFF="pi pi-volume-off",t.VOLUME_UP="pi pi-volume-up",t.YOUTUBE="pi pi-youtube",t.WALLET="pi pi-wallet",t.WIFI="pi pi-wifi",t.WINDOW_MAXIMIZE="pi pi-window-maximize",t.WINDOW_MINIMIZE="pi pi-window-minimize",t})(),SN=(()=>{class t{}return t.AND="and",t.OR="or",t})(),kN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-header"]],ngContentSelectors:MN,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),WD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-footer"]],ngContentSelectors:MN,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),Od=(()=>{class t{constructor(e){this.template=e}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Kc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),qD=(()=>{class t{constructor(e,s){this.fs=e,this.auth=s,this.data=[],this.temp=!0,this.index=1,this.isLoading=new bo(this.temp),this.auth.authState.subscribe(a=>{this.uid=null==a?void 0:a.uid,this.fs.collection("Admin").doc(null==a?void 0:a.uid).valueChanges().subscribe(l=>{this.name=l,console.log(this.name),this.isLoading=new bo(!1)})})}getAdminInfo(){var e=this;return Fa(function*(){return new Promise((s,a)=>{e.auth.authState.subscribe(l=>{e.fs.collection("Admin").doc(null==l?void 0:l.uid).valueChanges().subscribe(k=>{console.log(k),s(k)})})})})()}updateInfo(e,s,a){this.fs.collection("Admin").doc(this.uid).update({username:e,email:s,phone:a}),this.auth.authState.subscribe(l=>{null==l||l.updateEmail(s)})}getPurchaseHistory(e){return Fa(function*(){return new Promise((s,a)=>{})})()}getcartInfo(){var e=this;return Fa(function*(){return new Promise((s,a)=>{let l=[];e.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(y=>{y.map(k=>{console.log(k);let V={brand:k.payload.doc.data().brand,compname:k.payload.doc.data().compname,price:k.payload.doc.data().price,quantity:k.payload.doc.data().quantity,totalprice:k.payload.doc.data().totalprice};l.push(V),s(l)})})})})()}getSupplierInfo(){var e=this;return Fa(function*(){return new Promise((s,a)=>{let l;e.fs.collection("Supplier").snapshotChanges().subscribe(y=>{y.map(k=>{let V={compname:k.payload.doc.data().compname,shippingfee:k.payload.doc.data().shippingfee};l.push(V),s(l)})})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(al),o.LFG(ci))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const EN=_1({passive:!0});let DN=(()=>{class t{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return fe.E;const s=wm(e),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new ai.xQ,y="cdk-text-field-autofilled",k=V=>{"cdk-text-field-autofill-start"!==V.animationName||s.classList.contains(y)?"cdk-text-field-autofill-end"===V.animationName&&s.classList.contains(y)&&(s.classList.remove(y),this._ngZone.run(()=>l.next({target:V.target,isAutofilled:!1}))):(s.classList.add(y),this._ngZone.run(()=>l.next({target:V.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",k,EN),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",k,EN)}}),l}stopMonitoring(e){const s=wm(e),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pa),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(pa),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})(),AN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[v_]]}),t})();const AH=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),IH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let LH=0;class PH{constructor(i,e,s,a){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=s,this.ngControl=a}}const OH=gR(PH);let Q1=(()=>{class t extends OH{constructor(e,s,a,l,y,k,V,K,pe,Se){super(k,l,y,a),this._elementRef=e,this._platform=s,this.ngControl=a,this._autofillMonitor=K,this._formField=Se,this._uid="mat-input-"+LH++,this.focused=!1,this.stateChanges=new ai.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(rt=>RE().has(rt));const Ue=this._elementRef.nativeElement,Je=Ue.nodeName.toLowerCase();this._inputValueAccessor=V||Ue,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&pe.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",rt=>{let Tt=rt.target;!Tt.value&&!Tt.selectionStart&&!Tt.selectionEnd&&(Tt.setSelectionRange(1,1),Tt.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Je,this._isTextarea="textarea"===Je,this._isNativeSelect&&(this.controlType=Ue.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Gs(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Gs(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&RE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gs(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(!this.readonly||!e)&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const a=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){IH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(pa),o.Y36(Ey,10),o.Y36(jx,8),o.Y36(yg,8),o.Y36(PL),o.Y36(AH,10),o.Y36(DN),o.Y36(o.R0b),o.Y36(VL,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.errorState&&!s.empty)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:MD,useExisting:t}]),o.qOj,o.TTD]}),t})(),RH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[PL],imports:[[AN,TD,to],AN,TD]}),t})();const $D="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),FH="undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.prototype&&"function"==typeof PerformanceObserver.prototype.constructor,g2="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let XD={},J1={};const _2=()=>$D?performance.now():Date.now(),IN=t=>{XD[t]=void 0,J1[t]&&(J1[t]=void 0),$D&&(g2||performance.clearMeasures(t),performance.clearMarks(t))},LN=t=>{if($D){if(g2&&FH){const i=new PerformanceObserver(e=>{J1[t]=e.getEntries().find(s=>s.name===t),i.disconnect()});i.observe({entryTypes:["measure"]})}performance.mark(t)}XD[t]=_2()},PN=(t,i)=>{try{const e=XD[t];return $D?(i||performance.mark(`${t}-end`),performance.measure(t,t,i||`${t}-end`),g2?J1[t]?J1[t]:e?{duration:_2()-e,startTime:e,entryType:"measure",name:t}:{}:performance.getEntriesByName(t).pop()||{}):e?{duration:_2()-e,startTime:e,entryType:"measure",name:t}:{}}catch(e){return{}}finally{IN(t),IN(i||`${t}-end`)}},NH=function(t,i,e,s){return{circle:t,progress:i,"progress-dark":e,pulse:s}};function zH(t,i){if(1&t&&o._UZ(0,"span",1),2&t){const e=o.oxw();o.Q6J("ngClass",o.l5B(4,NH,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),o.uIk("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText)}}const ON=new o.OlP("ngx-skeleton-loader.config");let YH=(()=>{class t{constructor(e){const{appearance:s="line",animation:a="progress",theme:l=null,loadingText:y="Loading...",count:k=1,ariaLabel:V="loading"}=e||{};this.appearance=s,this.animation=a,this.theme=l,this.loadingText=y,this.count=k,this.items=[],this.ariaLabel=V}ngOnInit(){LN("NgxSkeletonLoader:Rendered"),LN("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&((0,o.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line",""].indexOf(String(this.appearance))&&((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or empty string. Forcing default to \"''\"."),this.appearance="")}ngOnChanges(e){["count","animation","appearance"].find(s=>e[s]&&(e[s].isFirstChange()||e[s].previousValue===e[s].currentValue))||this.validateInputValues()}ngAfterViewInit(){PN("NgxSkeletonLoader:Rendered")}ngOnDestroy(){PN("NgxSkeletonLoader:Loaded")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ON,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-skeleton-loader"]],inputs:{appearance:"appearance",animation:"animation",theme:"theme",loadingText:"loadingText",count:"count",ariaLabel:"ariaLabel"},features:[o.TTD],decls:1,vars:1,consts:[["class","loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"loader",3,"ngClass","ngStyle"]],template:function(e,s){1&e&&o.YNc(0,zH,1,9,"span",0),2&e&&o.Q6J("ngForOf",s.items)},directives:[ft,ue,Zi],styles:['.loader[_ngcontent-%COMP%]{background:#eff1f6 no-repeat;border-radius:4px;box-sizing:border-box;display:inline-block;height:20px;margin-bottom:10px;overflow:hidden;position:relative;width:100%;will-change:transform}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{border-radius:50%;height:40px;margin:5px;width:40px}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.loader.progress-dark[_ngcontent-%COMP%]:after, .loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:after, .loader.progress[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:before{-webkit-animation:progress 2s ease-in-out infinite;animation:progress 2s ease-in-out infinite;background-size:200px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:200px;z-index:1}.loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.loader.pulse[_ngcontent-%COMP%]{-webkit-animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;-webkit-animation-delay:.5s;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@media (prefers-reduced-motion:reduce){.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%], .loader.pulse[_ngcontent-%COMP%]{-webkit-animation:none;animation:none}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{background-image:none}}@-webkit-keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),t})(),BH=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:ON,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),an=(()=>{class t{static addClass(e,s){e.classList?e.classList.add(s):e.className+=" "+s}static addMultipleClasses(e,s){if(e.classList){let a=s.trim().split(" ");for(let l=0;l<a.length;l++)e.classList.add(a[l])}else{let a=s.split(" ");for(let l=0;l<a.length;l++)e.className+=" "+a[l]}}static removeClass(e,s){e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp("(^|\\b)"+s.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(s){return s!==e})}static find(e,s){return Array.from(e.querySelectorAll(s))}static findSingle(e,s){return e?e.querySelector(s):null}static index(e){let s=e.parentNode.childNodes,a=0;for(var l=0;l<s.length;l++){if(s[l]==e)return a;1==s[l].nodeType&&a++}return-1}static indexWithinGroup(e,s){let a=e.parentNode?e.parentNode.childNodes:[],l=0;for(var y=0;y<a.length;y++){if(a[y]==e)return l;a[y].attributes&&a[y].attributes[s]&&1==a[y].nodeType&&l++}return-1}static relativePosition(e,s){let a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=s.offsetHeight,y=s.getBoundingClientRect(),k=this.getViewport();let V,K;y.top+l+a.height>k.height?(V=-1*a.height,e.style.transformOrigin="bottom",y.top+V<0&&(V=-1*y.top)):(V=l,e.style.transformOrigin="top"),K=a.width>k.width?-1*y.left:y.left+a.width>k.width?-1*(y.left+a.width-k.width):0,e.style.top=V+"px",e.style.left=K+"px"}static absolutePosition(e,s){let Je,rt,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=a.height,y=a.width,k=s.offsetHeight,V=s.offsetWidth,K=s.getBoundingClientRect(),pe=this.getWindowScrollTop(),Se=this.getWindowScrollLeft(),Ue=this.getViewport();K.top+k+l>Ue.height?(Je=K.top+pe-l,e.style.transformOrigin="bottom",Je<0&&(Je=pe)):(Je=k+K.top+pe,e.style.transformOrigin="top"),rt=K.left+y>Ue.width?Math.max(0,K.left+Se+V-y):K.left+Se,e.style.top=Je+"px",e.style.left=rt+"px"}static getParents(e,s=[]){return null===e.parentNode?s:this.getParents(e.parentNode,s.concat([e.parentNode]))}static getScrollableParents(e){let s=[];if(e){let a=this.getParents(e);const l=/(auto|scroll)/,y=k=>{let V=window.getComputedStyle(k,null);return l.test(V.getPropertyValue("overflow"))||l.test(V.getPropertyValue("overflowX"))||l.test(V.getPropertyValue("overflowY"))};for(let k of a){let V=1===k.nodeType&&k.dataset.scrollselectors;if(V){let K=V.split(",");for(let pe of K){let Se=this.findSingle(k,pe);Se&&y(Se)&&s.push(Se)}}9!==k.nodeType&&y(k)&&s.push(k)}}return s}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementDimensions(e){let s={};return e.style.visibility="hidden",e.style.display="block",s.width=e.offsetWidth,s.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",s}static scrollInView(e,s){let a=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=a?parseFloat(a):0,y=getComputedStyle(e).getPropertyValue("paddingTop"),k=y?parseFloat(y):0,V=e.getBoundingClientRect(),pe=s.getBoundingClientRect().top+document.body.scrollTop-(V.top+document.body.scrollTop)-l-k,Se=e.scrollTop,Ue=e.clientHeight,Je=this.getOuterHeight(s);pe<0?e.scrollTop=Se+pe:pe+Je>Ue&&(e.scrollTop=Se+pe-Ue+Je)}static fadeIn(e,s){e.style.opacity=0;let a=+new Date,l=0,y=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-a)/s,e.style.opacity=l,a=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(y)||setTimeout(y,16))};y()}static fadeOut(e,s){var a=1,k=50/s;let V=setInterval(()=>{(a-=k)<=0&&(a=0,clearInterval(V)),e.style.opacity=a},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,s){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(y){return-1!==[].indexOf.call(document.querySelectorAll(y),this)}).call(e,s)}static getOuterWidth(e,s){let a=e.offsetWidth;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return a}static getHorizontalPadding(e){let s=getComputedStyle(e);return parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)}static getHorizontalMargin(e){let s=getComputedStyle(e);return parseFloat(s.marginLeft)+parseFloat(s.marginRight)}static innerWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static width(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static getInnerHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),s}static getOuterHeight(e,s){let a=e.offsetHeight;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return a}static getHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),s}static getWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),s}static getViewport(){let e=window,s=document,a=s.documentElement,l=s.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||l.clientWidth,height:e.innerHeight||a.clientHeight||l.clientHeight}}static getOffset(e){var s=e.getBoundingClientRect();return{top:s.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:s.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,s){let a=e.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(s,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,s){if(this.isElement(s))s.appendChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot append "+s+" to "+e;s.el.nativeElement.appendChild(e)}}static removeChild(e,s){if(this.isElement(s))s.removeChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot remove "+e+" from "+s;s.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let s=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);let a=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let s=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=s,s}static invokeElementMethod(e,s,a){e[s].apply(e,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),s=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let s=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),a=[];for(let l of s)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&a.push(l);return a}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class RT{constructor(i,e=(()=>{})){this.element=i,this.listener=e}bindScrollListener(){this.scrollableParents=an.getScrollableParents(this.element);for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Ly=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let s=this.getInk();if(!s||"none"===getComputedStyle(s,null).display)return;if(an.removeClass(s,"p-ink-active"),!an.getHeight(s)&&!an.getWidth(s)){let k=Math.max(an.getOuterWidth(this.el.nativeElement),an.getOuterHeight(this.el.nativeElement));s.style.height=k+"px",s.style.width=k+"px"}let a=an.getOffset(this.el.nativeElement),l=e.pageX-a.left+document.body.scrollTop-an.getWidth(s)/2,y=e.pageY-a.top+document.body.scrollLeft-an.getHeight(s)/2;s.style.top=y+"px",s.style.left=l+"px",an.addClass(s,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&an.removeClass(e,"p-ink-active")}onAnimationEnd(e){an.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),an.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(km,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("p-ripple",!0)}}),t})(),Em=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),c0=(()=>{class t{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,an.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&an.addClass(e,s),an.addMultipleClasses(e,this.getIconClass());let a=an.findSingle(this.el.nativeElement,".p-button-label");a?this.el.nativeElement.insertBefore(e,a):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=an.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=an.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(an.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),Pv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Em]]}),t})();const HH=["content"];function UH(t,i){1&t&&o.GkF(0)}function jH(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,UH,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function GH(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.xp6(1),o.Oqu(e.option("header"))}}const ZH=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function WH(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",17),o.qZA()}2&t&&o.Q6J("ngClass",o.DdM(1,ZH))}function qH(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,GH,2,1,"span",12),o.TgZ(2,"div",13),o.YNc(3,WH,2,2,"button",14),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("header")),o.xp6(2),o.Q6J("ngIf",e.closable)}}function $H(t,i){if(1&t&&o._UZ(0,"i",1),2&t){const e=o.oxw(3);o.Tol(e.option("icon")),o.Q6J("ngClass","p-confirm-dialog-icon")}}function XH(t,i){1&t&&o.GkF(0)}function QH(t,i){if(1&t&&(o.TgZ(0,"div",18),o.Hsn(1),o.YNc(2,XH,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function JH(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).reject()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("rejectButtonStyleClass")),o.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),o.uIk("aria-label",e.rejectAriaLabel)}}function KH(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).accept()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("acceptButtonStyleClass")),o.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),o.uIk("aria-label",e.acceptAriaLabel)}}function eU(t,i){if(1&t&&(o.TgZ(0,"div",18),o.YNc(1,JH,1,6,"button",19),o.YNc(2,KH,1,6,"button",19),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("rejectVisible")),o.xp6(1),o.Q6J("ngIf",e.option("acceptVisible"))}}const tU=function(t){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":t}},nU=function(t,i){return{transform:t,transition:i}},iU=function(t){return{value:"visible",params:t}};function rU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mousedown",function(){return o.CHM(e),o.oxw(2).moveOnTop()})("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(1,jH,2,1,"div",4),o.YNc(2,qH,4,2,"div",4),o.TgZ(3,"div",5,6),o.YNc(5,$H,1,3,"i",7),o._UZ(6,"span",8),o.qZA(),o.YNc(7,QH,3,1,"div",9),o.YNc(8,eU,3,2,"div",9),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.VKq(11,tU,e.rtl))("ngStyle",e.style)("@animation",o.VKq(16,iU,o.WLB(13,nU,e.transformOptions,e.transitionOptions))),o.xp6(1),o.Q6J("ngIf",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(3),o.Q6J("ngIf",e.option("icon")),o.xp6(1),o.Q6J("innerHTML",e.option("message"),o.oJD),o.xp6(1),o.Q6J("ngIf",e.footer||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function sU(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,rU,9,18,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",e.getMaskClass()),o.xp6(1),o.Q6J("ngIf",e.visible)}}const oU=[[["p-footer"]]],aU=["p-footer"],lU=Cy([si({transform:"{{transform}}",opacity:0}),as("{{transition}}",si({transform:"none",opacity:1}))]),cU=Cy([as("{{transition}}",si({transform:"{{transform}}",opacity:0}))]);let QD=(()=>{class t{constructor(e,s,a,l,y,k){this.el=e,this.renderer=s,this.confirmationService=a,this.zone=l,this.cd=y,this.config=k,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new o.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=ZD(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(V=>{V?V.key===this.key&&(this.confirmation=V,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const s=this.confirmationOptions||this;if(s.hasOwnProperty(e))return s[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=an.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,"");const s=this.getElementToFocus();s&&s.focus(),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality()}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide()}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return an.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return an.findSingle(this.container,".p-confirm-dialog-reject");case"close":return an.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return an.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):an.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&an.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&an.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(l0.CANCEL),this.hide(l0.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++an.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(an.zindex-1)))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const s=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(a=>a===this.position);return s?`p-dialog-${s}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{if(27==s.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===an.zindex+this.baseZIndex&&this.visible&&this.close(s),9===s.which&&this.focusTrap){s.preventDefault();let a=an.getFocusableElements(this.container);if(a&&a.length>0)if(a[0].ownerDocument.activeElement){let l=a.indexOf(a[0].ownerDocument.activeElement);s.shiftKey?-1==l||0===l?a[a.length-1].focus():a[l-1].focus():-1==l||l===a.length-1?a[0].focus():a[l+1].focus()}else a[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(l0.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(l0.REJECT),this.hide(l0.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(sd.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(sd.REJECT)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Lv),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmDialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,WD,5),o.Suo(a,Od,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footer=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(HH,5),2&e){let a;o.iGM(a=o.CRH())&&(s.contentViewChild=a.first)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:aU,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&(o.F$t(oU),o.YNc(0,sU,2,4,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[dn,ue,Zi,Jr,Ly,c0],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[ka("animation",[Br("void => visible",[qb(lU)]),Br("visible => void",[qb(cU)])])]},changeDetection:0}),t})(),uU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Pv,Em],Pv,Kc]}),t})();const dU=["primaryValueBar"];class hU{constructor(i){this._elementRef=i}}const pU=R1(hU,"primary"),fU=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(Te),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let gU=0,y2=(()=>{class t extends pU{constructor(e,s,a,l){super(e),this._elementRef=e,this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Da.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+gU++;const y=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${y}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(e){this._value=RN(Xc(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=RN(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Kb(e,"transitionend").pipe(C(s=>s.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(af,8),o.Y36(fU,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(e,s){if(1&e&&o.Gf(dU,5),2&e){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,s){2&e&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[Zi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function RN(t,i=0,e=100){return Math.max(i,Math.min(e,t))}let FN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,to],to]}),t})();function _U(t,i){1&t&&(o.TgZ(0,"div",25),o._UZ(1,"mat-progress-bar",26),o.qZA())}function yU(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"No"),o.qZA())}function vU(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.x)}}function bU(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Item Name"),o.qZA()),2&t&&o.Udp("width","30%")}function xU(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function wU(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Quantity"),o.qZA())}function CU(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.key)}}function MU(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Lowest Margin"),o.qZA()),2&t&&o.Udp("width","10%")}function TU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"input",29),o.NdJ("click",function(a){const y=o.CHM(e).$implicit;return o.oxw().update(a,y.id)})("keyup.enter",function(a){const y=o.CHM(e).$implicit;return o.oxw().update(a,y.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("value",e.lowestmargin)}}function SU(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1," Action"),o.qZA())}const kU=function(t){return["/adminviewhistory/",t]};function EU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"button",30),o._uU(2,"VIEW HISTORY"),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.id)}),o._uU(4,"DELETE"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(2,kU,e.id)),o.xp6(2),o.Q6J("disabled",e.key>0)}}function DU(t,i){1&t&&o._UZ(0,"tr",32)}function AU(t,i){1&t&&o._UZ(0,"tr",33)}function IU(t,i){if(1&t&&(o.TgZ(0,"tr",34),o.TgZ(1,"td",35),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(14);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const LU=function(){return[5,10,20]};let PU=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.admins=s,this.confirmationService=a,this.primengConfig=l,this.temp=!0,this.isLoading2=new bo(this.temp),this.displayedColumns=["x","id","key","lowestmargin","action"],this.data=[],this.index=0,this.tableinfo$=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges(),this.tableinfo$.subscribe(y=>{this.data=[];let k=1;y.map(V=>{let K={x:k+++".",id:V.payload.doc.id,key:V.payload.doc.data().quantity,lowestmargin:V.payload.doc.data().lowestmargin};this.data.push(K),console.log(this.data),this.dataSource=new Zx(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoading2=new bo(!1)})})}ngOnInit(){this.primengConfig.ripple=!0}ngAfterViewInit(){}update(e,s){console.log(e.target.value),console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(s).update({lowestmargin:e.target.value})}delete(e){this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e).delete()}})}value(e){console.log(e)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase().toString()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(qD),o.Y36(Lv),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-manage-inventory"]],viewQuery:function(e,s){if(1&e&&(o.Gf(a0,5),o.Gf(Ev,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},features:[o._Bn([Lv])],decls:39,vars:10,consts:[["class","loader-container",4,"ngIf"],[1,"title"],["id","invtitle"],["id","add","mat-raised-button","","routerLink","/adminaddorder"],["appearance","standard","id","filter"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Egg",3,"keyup"],["input",""],["id","table",1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","x"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"name"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","key"],["matColumnDef","lowestmargin"],["matColumnDef","action"],["count","1","appearance","line"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"loader-container"],["mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["type","number","id","form1","min","0",1,"form-control",3,"value","click","keyup.enter"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.YNc(2,_U,2,0,"div",0),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"h4",2),o._uU(6,"Manage Inventory"),o.qZA(),o.TgZ(7,"button",3),o._uU(8,"ADD ORDER"),o.qZA(),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"mat-label"),o._UZ(11,"i",5),o._uU(12," Search"),o.qZA(),o.TgZ(13,"input",6,7),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"table",9),o.ynx(17,10),o.YNc(18,yU,2,0,"th",11),o.YNc(19,vU,2,1,"td",12),o.BQk(),o.TgZ(20,"div",13),o.ynx(21,14),o.YNc(22,bU,2,2,"th",15),o.YNc(23,xU,2,1,"td",12),o.BQk(),o.qZA(),o.ynx(24,16),o.YNc(25,wU,2,0,"th",11),o.YNc(26,CU,2,1,"td",12),o.BQk(),o.ynx(27,17),o.YNc(28,MU,2,2,"th",15),o.YNc(29,TU,2,1,"td",12),o.BQk(),o.ynx(30,18),o.YNc(31,SU,2,0,"th",11),o.YNc(32,EU,5,4,"td",12),o._UZ(33,"ngx-skeleton-loader",19),o.BQk(),o.YNc(34,DU,1,0,"tr",20),o.YNc(35,AU,1,0,"tr",21),o.YNc(36,IU,3,1,"tr",22),o.qZA(),o._UZ(37,"mat-paginator",23),o.qZA(),o._UZ(38,"p-confirmDialog",24),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,7,s.isLoading2)),o.xp6(14),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(18),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(9,LU)))},directives:[__,dn,Dp,Af,Hx,t0,Q1,ET,Ev,W1,Z1,G1,YH,DT,AT,PT,a0,QD,y2,q1,vD,$1,IT,LT],pipes:[Cl],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}.tableInv[_ngcontent-%COMP%]{margin:20px}.mat-elevation-z8[_ngcontent-%COMP%]{width:90%;margin:auto}td[_ngcontent-%COMP%]:hover{background:#f5f5f5}.title[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#add[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3.4rem;margin-top:20px}#invtitle[_ngcontent-%COMP%]{position:absolute;left:0;margin-left:3.4rem;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px}button[_ngcontent-%COMP%]:hover{color:red}button[_ngcontent-%COMP%]:disabled{background:grey}#table[_ngcontent-%COMP%]{margin-top:8rem}#filter[_ngcontent-%COMP%]{position:absolute;right:4.5rem;z-index:999;top:8rem}ngx-skeleton-loader[_ngcontent-%COMP%]{z-index:99}"]}),t})(),x_=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.router=s,this.fauth=a,this.fs=l}canActivate(e,s){var a=this;return Fa(function*(){return 0!=(yield a.auth.getAdminStatus())||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(g_),o.LFG(Ao),o.LFG(ci),o.LFG(al))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xh=(()=>{class t{constructor(e,s,a){this.auth=e,this.router=s,this.fauth=a}canActivate(e,s){return this.fauth.authState.pipe((0,Ei.U)(a=>!!a||(this.router.navigate([""],{queryParams:{returnUrl:s.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(g_),o.LFG(Ao),o.LFG(ci))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NN=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.as=s,this.fs=a,this.router=l}canActivate(e,s){var a=this;return Fa(function*(){let l=yield a.as.getStudentStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ci),o.LFG(g_),o.LFG(al),o.LFG(Ao))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function OU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function RU(t,i){}const zN=new o.OlP("MatSnackBarData");class JD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const FU=Math.pow(2,31)-1;class v2{constructor(i,e){this._overlayRef=e,this._afterDismissed=new ai.xQ,this._afterOpened=new ai.xQ,this._onAction=new ai.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,FU))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let NU=(()=>{class t{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(v2),o.Y36(zN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,OU,3,1,"div",0)),2&e&&(o.xp6(1),o.Oqu(s.data.message),o.xp6(1),o.Q6J("ngIf",s.hasAction))},directives:[dn,Dp],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const zU={snackBarState:ka("state",[To("void, hidden",si({transform:"scale(0.8)",opacity:0})),To("visible",si({transform:"scale(1)",opacity:1})),Br("* => visible",as("150ms cubic-bezier(0, 0, 0.2, 1)")),Br("* => void, * => hidden",as("75ms cubic-bezier(0.4, 0.0, 1, 1)",si({opacity:0})))])};let YU=(()=>{class t extends wD{constructor(e,s,a,l,y){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=a,this._platform=l,this.snackBarConfig=y,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ai.xQ,this._onExit=new ai.xQ,this._onEnter=new ai.xQ,this._animationState="void",this.attachDomPortal=k=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(k)),this._live="assertive"!==y.politeness||y.announcementMessage?"off"===y.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:s,toState:a}=e;if(("void"===a&&"void"!==s||"hidden"===a)&&this._completeExit(),"visible"===a){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ve(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(a=>e.classList.add(a)):e.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(pa),o.Y36(JD))},t.\u0275cmp=o.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,s){if(1&e&&o.Gf(Bx,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,s){1&e&&o.WFA("@state.done",function(l){return s.onAnimationEnd(l)}),2&e&&o.d8E("@state",s._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,RU,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",s._live)("role",s._role))},directives:[Bx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[zU.snackBarState]}}),t})(),YN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[yT,CD,Wi,NL,to],to]}),t})();const BN=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new JD}});let VN=(()=>{class t{constructor(e,s,a,l,y,k){this._overlay=e,this._live=s,this._injector=a,this._breakpointObserver=l,this._parentSnackBar=y,this._defaultConfig=k,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=NU,this.snackBarContainerComponent=YU,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",a){const l=Object.assign(Object.assign({},this._defaultConfig),a);return l.data={message:e,action:s},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:JD,useValue:s}]}),y=new N1(this.snackBarContainerComponent,s.viewContainerRef,l),k=e.attach(y);return k.instance.snackBarConfig=s,k.instance}_attach(e,s){const a=Object.assign(Object.assign(Object.assign({},new JD),this._defaultConfig),s),l=this._createOverlay(a),y=this._attachSnackBarContainer(l,a),k=new v2(y,l);if(e instanceof o.Rgc){const V=new e0(e,null,{$implicit:a.data,snackBarRef:k});k.instance=y.attachTemplatePortal(V)}else{const V=this._createInjector(a,k),K=new N1(e,void 0,V),pe=y.attachComponentPortal(K);k.instance=pe.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Wa(l.detachments())).subscribe(V=>{const K=l.overlayElement.classList;V.matches?K.add(this.handsetCssClass):K.remove(this.handsetCssClass)}),a.announcementMessage&&y._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(k,a),this._openedSnackBarRef=k,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new gT;s.direction=e.direction;let a=this._overlay.position().global();const l="rtl"===e.direction,y="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,k=!y&&"center"!==e.horizontalPosition;return y?a.left("0"):k?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),s.positionStrategy=a,this._overlay.create(s)}_createInjector(e,s){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:v2,useValue:s},{provide:zN,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Sm),o.LFG(T1),o.LFG(o.zs3),o.LFG(o2),o.LFG(t,12),o.LFG(BN))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Sm),(0,o.LFG)(T1),(0,o.LFG)(o.gxx),(0,o.LFG)(o2),(0,o.LFG)(t,12),(0,o.LFG)(BN))},token:t,providedIn:YN}),t})();function VU(t,i){1&t&&(o.TgZ(0,"div",17),o._uU(1," Email Address is not registered. "),o.qZA())}function HU(t,i){1&t&&o._UZ(0,"i",20)}function UU(t,i){1&t&&o._UZ(0,"i",21)}function jU(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,HU,1,0,"i",18),o.YNc(2,UU,1,0,"i",19),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.fp.errors.required),o.xp6(1),o.Q6J("ngIf",e.fp.errors.email)}}let GU=(()=>{class t{constructor(e,s,a,l){this.fb=e,this.service=s,this._snackBar=a,this.router=l,this.form2=this.fb.group({fpassword:["",[xl.required,xl.email]]})}ngOnInit(){}get fp(){return this.form2.get("fpassword")}forgotPassword(){var e=this;return Fa(function*(){let s=yield e.service.forgotPassword(e.form2.get("fpassword").value);1==s?(e.form2.setErrors({notfound:!1}),e._snackBar.open("Forgot Password Email Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):0==s&&e.form2.setErrors({notfound:!0})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Gx),o.Y36(g_),o.Y36(VN),o.Y36(Ao))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgotpassword-page"]],decls:26,vars:4,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"forgotpassword"],["class","alert alert-danger",4,"ngIf"],["action","",3,"formGroup"],[1,"error"],["type","email","placeholder","Email Address","required","","formControlName","fpassword"],[4,"ngIf"],[3,"disabled","click"],[1,"special"],["routerLink","/","href",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Please enter your email address.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of email address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Please enter your email address.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of email address is invalid.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Forgot Password?"),o.qZA(),o.YNc(14,VU,2,0,"div",7),o.TgZ(15,"form",8),o.TgZ(16,"div",9),o._UZ(17,"input",10),o.YNc(18,jU,3,2,"div",11),o.qZA(),o.TgZ(19,"button",12),o.NdJ("click",function(){return s.forgotPassword()}),o._uU(20," Reset Password "),o.qZA(),o.TgZ(21,"div",13),o.TgZ(22,"a",14),o._uU(23,"Back to Login?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(24,"svg",15),o._UZ(25,"path",16),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("ngIf",1==(null==s.form2.errors?null:s.form2.errors.notfound)),o.xp6(1),o.Q6J("formGroup",s.form2),o.xp6(3),o.Q6J("ngIf",s.fp.touched&&s.fp.invalid),o.xp6(1),o.Q6J("disabled",s.form2.invalid))},directives:[dn,Iy,Dy,yg,b_,Y1,cf,Dv,jp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.forgotpassword[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}h3[_ngcontent-%COMP%]{margin-left:.6rem}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;margin-left:4.8rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;margin-top:-1rem}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:2rem;top:-2rem;left:-2.5rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}.special[_ngcontent-%COMP%]{margin-left:1rem}}']}),t})();function ZU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",22),o._uU(1," Please verify your email address. "),o.TgZ(2,"a",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendVerifyEmail()}),o._uU(3," Click"),o.qZA(),o._uU(4," Here to send the verification email again. "),o.qZA()}}function WU(t,i){1&t&&(o.TgZ(0,"div",22),o._uU(1," Your password is invalid. "),o.qZA())}function qU(t,i){1&t&&(o.TgZ(0,"div",22),o._uU(1," Your email address is not registered. "),o.qZA())}function $U(t,i){1&t&&o._UZ(0,"i",26)}function XU(t,i){1&t&&o._UZ(0,"i",27)}function QU(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,$U,1,0,"i",24),o.YNc(2,XU,1,0,"i",25),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.required),o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.email)}}function JU(t,i){1&t&&o._UZ(0,"i",29)}function KU(t,i){if(1&t&&(o.TgZ(0,"div",9),o.YNc(1,JU,1,0,"i",28),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.getpassword.errors.required)}}const e5=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let t5=(()=>{class t{constructor(e,s){this.fb=e,this.service=s,this.email="",this.password="",this.errMessage="",this.visibility=!0,this.form=e.group({email:["",[xl.required,xl.email]],password:["",[xl.required]]})}ngOnInit(){}example(e){return(0,Ti.of)(e)}onVisible(){this.visibility=!this.visibility}login(){var e=this;return Fa(function*(){console.log(e.form),yield e.service.login(e.form.value.email,e.form.value.password),!1===e.service.emailVerified?e.form.setErrors({emailVerify:!0,wrongpassword:!1,notregister:!1}):!1===e.service.passwordVerified?(console.log("wrong password ts"),e.form.setErrors({wrongpassword:!0,notregister:!1})):!1===e.service.userVerified&&e.form.setErrors({notregister:!0,wrongpassword:!1})})()}sendVerifyEmail(){this.service.verificationemail()}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Gx),o.Y36(g_))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home-page"]],decls:34,vars:13,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"error"],["type","email","name","email","formControlName","email","placeholder","Email Address","required","",1,"icon-email",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"visible"],["name","password","placeholder","Password","formControlName","password","required","",1,"icon-password",3,"type"],[1,"far",3,"ngClass","click"],["class","error",4,"ngIf"],[1,"special"],["routerLink","/register",1,"new-user"],["routerLink","/forgotpassword",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],[1,"link",3,"click"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip"," Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",4,"ngIf"],["id","tooltip","data-tooltip"," Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"User Login"),o.qZA(),o.TgZ(14,"form",7),o.YNc(15,ZU,5,0,"div",8),o.YNc(16,WU,2,0,"div",8),o.YNc(17,qU,2,0,"div",8),o.TgZ(18,"div",9),o.TgZ(19,"input",10),o.NdJ("ngModelChange",function(l){return s.email=l}),o.qZA(),o.YNc(20,QU,3,2,"div",11),o.qZA(),o.TgZ(21,"div",12),o._UZ(22,"input",13),o.TgZ(23,"i",14),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(24,KU,2,1,"div",15),o.TgZ(25,"div",16),o.TgZ(26,"a",17),o._uU(27,"New User? Create one!"),o.qZA(),o.TgZ(28,"a",18),o._uU(29,"Forgot Password?"),o.qZA(),o.qZA(),o.TgZ(30,"button",19),o.NdJ("click",function(){return s.login()}),o._uU(31,"Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(32,"svg",20),o._UZ(33,"path",21),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",null==s.form.error?null:s.form.error.emailVerify),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.wrongpassword)),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.notregister)),o.xp6(2),o.Q6J("ngModel",s.email),o.xp6(1),o.Q6J("ngIf",s.emailaddress.invalid&&s.emailaddress.touched),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(10,e5,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.getpassword.touched&&s.getpassword.invalid),o.xp6(6),o.Q6J("disabled",s.form.invalid))},directives:[Iy,Dy,yg,dn,b_,cf,Dv,Y1,ue,jp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.alert.alert-danger[_ngcontent-%COMP%]{text-align:justify}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;margin-left:10%;position:relative}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}.link[_ngcontent-%COMP%]{color:red;text-decoration:underline;margin:0}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 1rem 2px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}p[_ngcontent-%COMP%]{font-size:12px;height:1px;margin-top:-10px;color:red}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:1rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}}']}),t})();class b2{constructor(){}static passwordVerification(i){let e=i.get("rpassword"),s=i.get("rconfirmpassword");return(null==e?void 0:e.value)!==(null==s?void 0:s.value)?{passwordVerification:!0}:null}static checkRole(i){return"Role"===i.value?(console.log("Role"),{checkRole:!0}):null}static checkGender(i){return"Gender"===i.value?(console.log("Gender"),{gender:!0}):null}static checkMatricCard(i){return"Matric Card Number"===i.value?(console.log("Matric Card Number"),{checkMatrixCard:!0}):null}static checkCompanyName(i){return"Company Name"===i.value?(console.log("Matrix Card"),{checkMatrixCard:!0}):null}}let n5=(()=>{class t{constructor(e){this.el=e}onBlur(){this.el.nativeElement.value=this.el.nativeElement.value.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","appRegisterD",""]],hostBindings:function(e,s){1&e&&o.NdJ("blur",function(){return s.onBlur()})}}),t})();function r5(t,i){1&t&&o._UZ(0,"i",34)}function s5(t,i){1&t&&o._UZ(0,"i",35)}function o5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,r5,1,0,"i",32),o.YNc(2,s5,1,0,"i",33),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.e.errors.required),o.xp6(1),o.Q6J("ngIf",e.e.errors.email)}}function a5(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Email Address is existed. "),o.qZA())}function l5(t,i){1&t&&o._UZ(0,"i",39)}function c5(t,i){1&t&&o._UZ(0,"i",40)}function u5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,l5,1,0,"i",37),o.YNc(2,c5,1,0,"i",38),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.p.errors.required),o.xp6(1),o.Q6J("ngIf",e.p.errors.minlength)}}function d5(t,i){1&t&&o._UZ(0,"i",39)}function h5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,d5,1,0,"i",37),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.cp.errors.required)}}function p5(t,i){1&t&&(o.TgZ(0,"div",31),o._UZ(1,"i",41),o.qZA())}function f5(t,i){1&t&&o._UZ(0,"i",43)}function m5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,f5,1,0,"i",42),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.name.errors.required)}}function g5(t,i){1&t&&o._UZ(0,"i",45)}function _5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,g5,1,0,"i",44),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.pn.errors.required)}}function y5(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Date of Birth is required. "),o.qZA())}function v5(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,y5,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.d.errors.required)}}function b5(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Gender is required. "),o.qZA())}function x5(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,b5,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.g.errors.required)}}function w5(t,i){1&t&&o._UZ(0,"i",47)}function C5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,w5,1,0,"i",46),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.r.errors.role)}}function M5(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",48),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}function T5(t,i){1&t&&o._UZ(0,"i",50)}function S5(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,T5,1,0,"i",49),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.matrix.errors.role)}}function k5(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",51),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}const HN=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let E5=(()=>{class t{constructor(e,s,a,l,y,k){this.fb=e,this.auth=s,this.firestore=a,this.service=l,this._snackBar=y,this.router=k,this.visibility=!0,this.triggedMessage=!0,this.student=!1,this.supplier=!1,this.form1=e.group({remail:["",[xl.required,xl.email]],rpassword:["",[xl.required,xl.minLength]],rconfirmpassword:["",[xl.required]],name:["",[xl.required]],phonenumber:["",xl.required],date:["",xl.required],role:["Role",[xl.required,b2.checkRole]],gender:["Gender",[xl.required,b2.checkGender]],matrix:[""],comp:[""]},{validator:b2.passwordVerification})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}getRole(e){this.role=e.target.value,1==this.role?(this.student=!0,this.supplier=!1):2==this.role?(this.supplier=!0,this.student=!1):"Role"==this.role&&(this.student=!1,this.supplier=!1),console.log(this.role)}checkform(e){console.log(e);for(let s in this.form1.controls)this.form1.controls[s].errors&&console.log(s)}checkEmpty(e){console.log(e.target.value.length),0==e.target.value.length?this.form1.setErrors({matrixError:!0}):e.target.value.length>0&&this.form1.setErrors(null)}getDate(e){this.date=e.target.value}getGender(e){this.gender=e.target.value}get cp(){return this.form1.get("rconfirmpassword")}get p(){return this.form1.get("rpassword")}get e(){return this.form1.get("remail")}get name(){return this.form1.get("name")}get pn(){return this.form1.get("phonenumber")}get d(){return this.form1.get("date")}get g(){return this.form1.get("gender")}get r(){return this.form1.get("role")}get matrix(){return this.form1.get("matrix")}get comp(){return this.form1.get("comp")}submit(){var e=this;return Fa(function*(){var s,a,l,y,k,V,K,pe,Se;yield e.service.checkExistedEmail(null===(s=e.form1.get("remail"))||void 0===s?void 0:s.value),console.log(e.service.emailExistedStatus);let Ue=yield e.service.register(null===(a=e.form1.get("remail"))||void 0===a?void 0:a.value,e.form1.get("rpassword").value,null===(l=e.form1.get("role"))||void 0===l?void 0:l.value,null===(y=e.form1.get("name"))||void 0===y?void 0:y.value,null===(k=e.form1.get("date"))||void 0===k?void 0:k.value,null===(V=e.form1.get("phonenumber"))||void 0===V?void 0:V.value,null===(K=e.form1.get("gender"))||void 0===K?void 0:K.value,null===(pe=e.form1.get("matrix"))||void 0===pe?void 0:pe.value,null===(Se=e.form1.get("comp"))||void 0===Se?void 0:Se.value);1==Ue?(e.form1.setErrors({emailExist:!0}),console.log(e.form1)):e.form1.setErrors({emailExist:!1}),!0===Ue.validate?(e._snackBar.open("Register Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):e._snackBar.open("Please try again!","Close",{duration:3e3,verticalPosition:"top"})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Gx),o.Y36(ci),o.Y36(al),o.Y36(g_),o.Y36(VN),o.Y36(Ao))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-register-page"]],decls:59,vars:25,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"registration"],[3,"formGroup","change"],["type","text","placeholder","Email Address","formControlName","remail","required","",1,"icon-email"],["class","error",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"visible"],["name","rpassword","placeholder","Password","required","","formControlName","rpassword","minlength","6",1,"i",3,"type"],[1,"far",3,"ngClass","click"],["name","rconfirmpassword","placeholder","Confirm Password","required","","formControlName","rconfirmpassword",1,"i",3,"type"],["type","text","name","","placeholder","Name","formControlName","name","required","","appRegisterD","",1,"i"],["type","text","placeholder","Phone Number","formControlName","phonenumber","required","",1,"i"],["type","date","placeholder","Date","formControlName","date","required","",1,"i",3,"change"],[4,"ngIf"],["aria-label","Default select example","formControlName","gender","required","",1,"form-select",3,"change"],["selected",""],["value","1"],["value","2"],["aria-label","Default select example","required","","formControlName","role",1,"form-select","mt-2",3,"change"],["type","text","placeholder","Matrix Card Number","formControlName","matrix","class","i",3,"change",4,"ngIf"],["type","text","placeholder","Company Name","formControlName","comp","class","i",3,"change",4,"ngIf"],[1,"special"],["routerLink","/",1,"new-user"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"error"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of Email Address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of Email Address is invalid.",1,"fas","fa-exclamation-triangle"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Password is not matched.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Name is required.",4,"ngIf"],["id","tooltip","data-tooltip","Name is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Phone Number is required.",4,"ngIf"],["id","tooltip","data-tooltip","Phone Number is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Role is required.",4,"ngIf"],["id","tooltip","data-tooltip","Role is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Matrix Card Number","formControlName","matrix",1,"i",3,"change"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Matrix Card is required.",4,"ngIf"],["id","tooltip","data-tooltip","Matrix Card is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Company Name","formControlName","comp",1,"i",3,"change"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Sign Up "),o.qZA(),o.TgZ(14,"form",7),o.NdJ("change",function(){return s.checkform(s.form1)}),o._UZ(15,"input",8),o.YNc(16,o5,3,2,"div",9),o.YNc(17,a5,2,0,"div",10),o.TgZ(18,"div",11),o._UZ(19,"input",12),o.TgZ(20,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(21,u5,3,2,"div",9),o.TgZ(22,"div",11),o._UZ(23,"input",14),o.TgZ(24,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(25,h5,2,1,"div",9),o.YNc(26,p5,2,0,"div",9),o._UZ(27,"input",15),o.YNc(28,m5,2,1,"div",9),o._UZ(29,"input",16),o.YNc(30,_5,2,1,"div",9),o.TgZ(31,"input",17),o.NdJ("change",function(l){return s.getDate(l)}),o.qZA(),o.YNc(32,v5,2,1,"div",18),o.TgZ(33,"select",19),o.NdJ("change",function(l){return s.getGender(l)}),o.TgZ(34,"option",20),o._uU(35,"Gender"),o.qZA(),o.TgZ(36,"option",21),o._uU(37,"Male"),o.qZA(),o.TgZ(38,"option",22),o._uU(39,"Female"),o.qZA(),o.qZA(),o.YNc(40,x5,2,1,"div",18),o.TgZ(41,"select",23),o.NdJ("change",function(l){return s.getRole(l)}),o.TgZ(42,"option"),o._uU(43,"Role"),o.qZA(),o.TgZ(44,"option",21),o._uU(45,"Student"),o.qZA(),o.TgZ(46,"option",22),o._uU(47,"Supplier"),o.qZA(),o.qZA(),o.YNc(48,C5,2,1,"div",9),o.YNc(49,M5,1,0,"input",24),o.YNc(50,S5,2,1,"div",9),o.YNc(51,k5,1,0,"input",25),o.TgZ(52,"div",26),o.TgZ(53,"a",27),o._uU(54,"Already Registered? Login Now!"),o.qZA(),o.qZA(),o.TgZ(55,"button",28),o.NdJ("click",function(){return s.submit()}),o._uU(56,"Sign Up"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(57,"svg",29),o._UZ(58,"path",30),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form1),o.xp6(2),o.Q6J("ngIf",s.e.touched&&s.e.invalid),o.xp6(1),o.Q6J("ngIf",null==s.form1.errors?null:s.form1.errors.emailExist),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(19,HN,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.p.touched&&s.p.invalid),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(22,HN,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.cp.touched&&s.cp.invalid),o.xp6(1),o.Q6J("ngIf",(null==s.form1.errors?null:s.form1.errors.passwordVerification)&&s.cp.valid&&s.p.valid),o.xp6(2),o.Q6J("ngIf",s.name.touched&&s.name.invalid),o.xp6(2),o.Q6J("ngIf",s.pn.touched&&s.pn.invalid),o.xp6(2),o.Q6J("ngIf",s.d.touched&&s.d.invalid),o.xp6(8),o.Q6J("ngIf",s.g.touched&&s.g.invalid),o.xp6(8),o.Q6J("ngIf",s.r.touched&&s.r.invalid),o.xp6(1),o.Q6J("ngIf",1==s.student),o.xp6(1),o.Q6J("ngIf",s.matrix.touched&&s.matrix.invalid),o.xp6(1),o.Q6J("ngIf",1==s.supplier),o.xp6(4),o.Q6J("disabled",s.form1.invalid))},directives:[Iy,Dy,yg,b_,cf,Dv,Y1,dn,s2,ue,n5,OD,WF,$F,jp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:400px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;padding-left:8rem}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-4rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;padding-top:10px}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px 2.5px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:-2.25rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100%;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:4rem;top:-2rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999;display:none}.registration[_ngcontent-%COMP%]{margin-top:-1.5rem}.title[_ngcontent-%COMP%]{margin-top:100px}}.i.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}']}),t})(),D5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-home-page"]],decls:2,vars:0,template:function(e,s){1&e&&(o.TgZ(0,"p"),o._uU(1,"student-home-page works!"),o.qZA())},styles:[""]}),t})();function A5(t,i){1&t&&(o.TgZ(0,"div",8),o._UZ(1,"mat-progress-bar",9),o.qZA())}let I5=(()=>{class t{constructor(e,s,a){this.asS=e,this.fb=s,this.fs=a,this.form=this.fb.group({name:[""],email:[""],phone:[""]}),this.getInfo()}ngOnInit(){}update(){this.asS.updateInfo(this.form.get("name").value,this.form.get("email").value,this.form.get("phone").value)}getInfo(){var e=this;return Fa(function*(){e.data=yield e.asS.getAdminInfo()})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qD),o.Y36(Gx),o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-profile-page"]],decls:22,vars:11,consts:[["class","loader-container",4,"ngIf"],[1,"form"],["action","",3,"formGroup"],["appearance","standard","id",""],["matInput","","formControlName","name",3,"ngModel","value"],["matInput","","formControlName","email",3,"ngModel","value"],["matInput","","formControlName","phone",3,"ngModel","value"],["mat-raised-button","","routerLink","/adminprofile",3,"click"],[1,"loader-container"],["mode","indeterminate"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.YNc(2,A5,2,0,"div",0),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"form",2),o.TgZ(6,"h5"),o._uU(7),o.qZA(),o.TgZ(8,"mat-form-field",3),o.TgZ(9,"mat-label"),o._uU(10,"Name"),o.qZA(),o._UZ(11,"input",4),o.qZA(),o.TgZ(12,"mat-form-field",3),o.TgZ(13,"mat-label"),o._uU(14,"Email"),o.qZA(),o._UZ(15,"input",5),o.qZA(),o.TgZ(16,"mat-form-field",3),o.TgZ(17,"mat-label"),o._uU(18,"Phone"),o.qZA(),o._UZ(19,"input",6),o.qZA(),o.TgZ(20,"button",7),o.NdJ("click",function(){return s.update()}),o._uU(21,"Update"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,9,s.asS.isLoading)),o.xp6(3),o.Q6J("formGroup",s.form),o.xp6(2),o.hij("Profile - ",null==s.asS.name?null:s.asS.name.username,""),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.username),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.username),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.email),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.email),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.phone),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.phone))},directives:[__,dn,Iy,Dy,yg,Hx,t0,Q1,b_,cf,Dv,Dp,Af,y2],pipes:[Cl],styles:["body[_ngcontent-%COMP%]{width:100vw;background-color:#f5f5f5;height:100vh;color:#000}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#c0ad91;width:30%;margin:50px auto auto;padding:10px}mat-form-field[_ngcontent-%COMP%]{width:300px}"]}),t})();function L5(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA())}function P5(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.brand)}}function O5(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA()),2&t&&o.Udp("width","30%")}function R5(t,i){if(1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"b"),o._uU(2),o.qZA(),o._UZ(3,"br"),o._uU(4),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.company),o.xp6(2),o.hij("",e.brand," ")}}function F5(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Quantity"),o.qZA())}function N5(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.quantity)}}function z5(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Total Price"),o.qZA())}function Y5(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij("RM ",e.totalprice,"")}}function B5(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Action"),o.qZA())}function V5(t,i){1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"button",21),o._uU(2,"View Details"),o.qZA(),o.TgZ(3,"button",21),o._uU(4,"Buy Again"),o.qZA(),o.qZA())}function H5(t,i){1&t&&o._UZ(0,"tr",22)}function U5(t,i){1&t&&o._UZ(0,"tr",23)}function j5(t,i){if(1&t&&(o.TgZ(0,"tr",24),o.TgZ(1,"td",25),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(10);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const G5=function(){return[5,10,25,100]};let Z5=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.fa=s,this.route=a,this.adminAuthService=l,this.displayedColumns=["company","quantity","totalprice","action"],this.data=[],this.route.paramMap.subscribe(y=>{console.log(y.get("id")),this.category=y.get("id")||""}),this.fa.authState.subscribe(y=>{this.uid=null==y?void 0:y.uid,this.fs.collection("Admin").doc(this.uid).collection("inventory").doc(this.category).collection("purchasehistory").snapshotChanges().subscribe(V=>{console.log(V),this.data=[],V.map(K=>{let pe={company:K.payload.doc.id,totalprice:K.payload.doc.data().totalprice,quantity:K.payload.doc.data().quantity,brand:K.payload.doc.data().brand};this.data.push(pe),this.dataSource=new Zx(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(this.data)})})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(ci),o.Y36(pc),o.Y36(qD))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-pur-chase-history-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(a0,5),o.Gf(Ev,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:32,vars:8,consts:[[1,"title"],["appearance","standard"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","company"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","quantity"],["matColumnDef","totalprice"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"div",0),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._UZ(7,"i",2),o._uU(8," Search"),o.qZA(),o.TgZ(9,"input",3,4),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(11,"div",5),o.TgZ(12,"table",6),o.ynx(13,7),o.YNc(14,L5,2,0,"th",8),o.YNc(15,P5,2,1,"td",9),o.ynx(16,10),o.YNc(17,O5,2,2,"th",11),o.YNc(18,R5,5,2,"td",9),o.BQk(),o.BQk(),o.ynx(19,12),o.YNc(20,F5,2,0,"th",8),o.YNc(21,N5,2,1,"td",9),o.BQk(),o.ynx(22,13),o.YNc(23,z5,2,0,"th",8),o.YNc(24,Y5,2,1,"td",9),o.BQk(),o.ynx(25,14),o.YNc(26,B5,2,0,"th",8),o.YNc(27,V5,5,0,"td",9),o.BQk(),o.YNc(28,H5,1,0,"tr",15),o.YNc(29,U5,1,0,"tr",16),o.YNc(30,j5,3,1,"tr",17),o.qZA(),o._UZ(31,"mat-paginator",18),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.hij("Purchase History - ",s.category,""),o.xp6(9),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(7,G5)))},directives:[__,Hx,t0,Q1,ET,Ev,W1,Z1,G1,DT,AT,PT,a0,q1,vD,$1,Dp,IT,LT],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}h4[_ngcontent-%COMP%]{margin:20px}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:80%;margin:3rem auto auto}mat-form-field[_ngcontent-%COMP%]{width:200px;align-self:flex-end}button[_ngcontent-%COMP%]{margin-right:5px}.mat-sort-header-content[_ngcontent-%COMP%]{justify-content:end}"]}),t})();var UN=De(3098);function x2(t,i=js.P){const s=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-i.now():Math.abs(t);return a=>a.lift(new q5(s,i))}class q5{constructor(i,e){this.delay=i,this.scheduler=e}call(i,e){return e.subscribe(new w2(i,this.delay,this.scheduler))}}class w2 extends yo.L{constructor(i,e,s){super(i),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(i){const e=i.source,s=e.queue,a=i.scheduler,l=i.destination;for(;s.length>0&&s[0].time-a.now()<=0;)s.shift().notification.observe(l);if(s.length>0){const y=Math.max(0,s[0].time-a.now());this.schedule(i,y)}else this.unsubscribe(),e.active=!1}_schedule(i){this.active=!0,this.destination.add(i.schedule(w2.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}scheduleNotification(i){if(!0===this.errored)return;const e=this.scheduler,s=new $5(e.now()+this.delay,i);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(i){this.scheduleNotification(UN.P.createNext(i))}_error(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}_complete(){this.scheduleNotification(UN.P.createComplete()),this.unsubscribe()}}class $5{constructor(i,e){this.time=i,this.notification=e}}const X5=["mat-menu-item",""],jN=["*"];function Q5(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(a){return o.CHM(e),o.oxw()._onAnimationStart(a)})("@transformMenu.done",function(a){return o.CHM(e),o.oxw()._onAnimationDone(a)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const KD={transformMenu:ka("transformMenu",[To("void",si({opacity:0,transform:"scale(0.8)"})),Br("void => enter",as("120ms cubic-bezier(0, 0, 0.2, 1)",si({opacity:1,transform:"scale(1)"}))),Br("* => void",as("100ms 25ms linear",si({opacity:0})))]),fadeInItems:ka("fadeInItems",[To("showing",si({opacity:1})),Br("void => *",[si({opacity:0}),as("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},GN=new o.OlP("MatMenuContent"),C2=new o.OlP("MAT_MENU_PANEL");class J5{}const K5=gD(kv(J5));let eA=(()=>{class t extends K5{constructor(e,s,a,l){super(),this._elementRef=e,this._focusMonitor=a,this._parentMenu=l,this.role="menuitem",this._hovered=new ai.xQ,this._focused=new ai.xQ,this._highlighted=!1,this._triggersSubmenu=!1,l&&l.addItem&&l.addItem(this)}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,s;const a=this._elementRef.nativeElement.cloneNode(!0),l=a.querySelectorAll("mat-icon, .material-icons");for(let y=0;y<l.length;y++){const k=l[y];null===(e=k.parentNode)||void 0===e||e.removeChild(k)}return(null===(s=a.textContent)||void 0===s?void 0:s.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Te),o.Y36(fg),o.Y36(C2,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s._checkDisabled(l)})("mouseenter",function(){return s._handleMouseEnter()}),2&e&&(o.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:X5,ngContentSelectors:jN,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,s){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()))},directives:[Qb],encapsulation:2,changeDetection:0}),t})();const ZN=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let nj=0,FT=(()=>{class t{constructor(e,s,a){this._elementRef=e,this._ngZone=s,this._defaultOptions=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Da.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ai.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+nj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Gs(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gs(e)}set panelClass(e){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(a=>{this._classList[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{this._classList[a]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new UE(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(xn(this._directDescendantItems),Es(e=>(0,Ba.T)(...e.map(s=>s._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(xn(this._directDescendantItems),Es(s=>(0,Ba.T)(...s.map(a=>a._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const s=e.keyCode,a=this._keyManager;switch(s){case 27:y_(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&a.setFocusOrigin("keyboard"),a.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(ve(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const s=this._keyManager;if(s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let a=this._directDescendantItems.first._getHostElement().parentElement;for(;a;){if("menu"===a.getAttribute("role")){a.focus();break}a=a.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const a=`mat-elevation-z${Math.min(4+e,24)}`,l=Object.keys(this._classList).find(y=>y.startsWith("mat-elevation-z"));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[a]=!0,this._previousElevation=a)}setPositionClasses(e=this.xPosition,s=this.yPosition){const a=this._classList;a["mat-menu-before"]="before"===e,a["mat-menu-after"]="after"===e,a["mat-menu-above"]="above"===s,a["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(xn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ZN))},t.\u0275dir=o.lG2({type:t,contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,GN,5),o.Suo(a,eA,5),o.Suo(a,eA,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.lazyContent=l.first),o.iGM(l=o.CRH())&&(s._allItems=l),o.iGM(l=o.CRH())&&(s.items=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(o.Rgc,5),2&e){let a;o.iGM(a=o.CRH())&&(s.templateRef=a.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),ij=(()=>{class t extends FT{constructor(e,s,a){super(e,s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ZN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,s){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:C2,useExisting:t}]),o.qOj],ngContentSelectors:jN,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,Q5,3,6,"ng-template"))},directives:[ue],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[KD.transformMenu,KD.fadeInItems]},changeDetection:0}),t})();const WN=new o.OlP("mat-menu-scroll-strategy"),qN={provide:WN,deps:[Sm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},XN=_1({passive:!0});let sj=(()=>{class t{constructor(e,s,a,l,y,k,V,K){this._overlay=e,this._element=s,this._viewContainerRef=a,this._menuItemInstance=k,this._dir=V,this._focusMonitor=K,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Da.w.EMPTY,this._hoverSubscription=Da.w.EMPTY,this._menuCloseSubscription=Da.w.EMPTY,this._handleTouchStart=pe=>{Mv(pe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=y instanceof FT?y:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,XN),k&&(k._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,XN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),s=e.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof FT&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,s):this._element.nativeElement.focus(s)}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof FT?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(C(a=>"void"===a.toState),ve(1),Wa(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,s=this.menu.parentMenu;for(;s;)e++,s=s.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new gT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[s,a]="before"===this.menu.xPosition?["end","start"]:["start","end"],[l,y]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[k,V]=[l,y],[K,pe]=[s,a],Se=0;this.triggersSubmenu()?(pe=s="before"===this.menu.xPosition?"start":"end",a=K="end"===s?"start":"end",Se="bottom"===l?8:-8):this.menu.overlapTrigger||(k="top"===l?"bottom":"top",V="top"===y?"bottom":"top"),e.withPositions([{originX:s,originY:k,overlayX:K,overlayY:l,offsetY:Se},{originX:a,originY:k,overlayX:pe,overlayY:l,offsetY:Se},{originX:s,originY:V,overlayX:K,overlayY:y,offsetY:-Se},{originX:a,originY:V,overlayX:pe,overlayY:y,offsetY:-Se}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),a=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ti.of)(),l=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(C(y=>y!==this._menuItemInstance),C(()=>this._menuOpen)):(0,Ti.of)();return(0,Ba.T)(e,a,l,s)}_handleMousedown(e){Mm(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const s=e.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(C(e=>e===this._menuItemInstance&&!e.disabled),x2(0,dT.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof FT&&this.menu._isAnimating?this.menu._animationDone.pipe(ve(1),x2(0,dT.E),Wa(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new e0(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sm),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(WN),o.Y36(C2,8),o.Y36(eA,10),o.Y36(of,8),o.Y36(fg))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("mousedown",function(l){return s._handleMousedown(l)})("keydown",function(l){return s._handleKeydown(l)})("click",function(l){return s._handleClick(l)}),2&e&&o.uIk("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),QN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[qN],imports:[to]}),t})(),oj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[qN],imports:[[Wi,to,uT,yT,QN],mT,to,QN]}),t})();var aj=De(205);class JN{}class KN{}class Ov{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),l=a.toLowerCase(),y=e.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(y):this.headers.set(l,[y])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(e=>{let s=i[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof Ov?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new Ov;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ov?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,e);const a=("a"===i.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const l=i.value;if(l){let y=this.headers.get(e);if(!y)return;y=y.filter(k=>-1===l.indexOf(k)),0===y.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,y)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class lj{encodeKey(i){return e3(i)}encodeValue(i){return e3(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}function e3(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function t3(t){return`${t}`}class u0{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new lj,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[y,k]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],V=e.get(y)||[];V.push(k),e.set(y,V)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const s=i.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{e.push({param:s,value:l,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new u0({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(t3(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(t3(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class uj{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function n3(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function r3(t){return"undefined"!=typeof Blob&&t instanceof Blob}function s3(t){return"undefined"!=typeof FormData&&t instanceof FormData}class NT{constructor(i,e,s,a){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ov),this.context||(this.context=new uj),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=e;else{const k=e.indexOf("?");this.urlWithParams=e+(-1===k?"?":k<e.length-1?"&":"")+y}}else this.params=new u0,this.urlWithParams=e}serializeBody(){return null===this.body?null:n3(this.body)||r3(this.body)||s3(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof u0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||s3(this.body)?null:r3(this.body)?this.body.type||null:n3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof u0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var e;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,y=void 0!==i.body?i.body:this.body,k=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,V=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let K=i.headers||this.headers,pe=i.params||this.params;const Se=null!==(e=i.context)&&void 0!==e?e:this.context;return void 0!==i.setHeaders&&(K=Object.keys(i.setHeaders).reduce((Ue,Je)=>Ue.set(Je,i.setHeaders[Je]),K)),i.setParams&&(pe=Object.keys(i.setParams).reduce((Ue,Je)=>Ue.set(Je,i.setParams[Je]),pe)),new NT(s,a,y,{params:pe,headers:K,context:Se,reportProgress:V,responseType:l,withCredentials:k})}}var od=(()=>((od=od||{})[od.Sent=0]="Sent",od[od.UploadProgress=1]="UploadProgress",od[od.ResponseHeader=2]="ResponseHeader",od[od.DownloadProgress=3]="DownloadProgress",od[od.Response=4]="Response",od[od.User=5]="User",od))();class M2{constructor(i,e=200,s="OK"){this.headers=i.headers||new Ov,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class T2 extends M2{constructor(i={}){super(i),this.type=od.ResponseHeader}clone(i={}){return new T2({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class tA extends M2{constructor(i={}){super(i),this.type=od.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new tA({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class o3 extends M2{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function S2(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let K1=(()=>{class t{constructor(e){this.handler=e}request(e,s,a={}){let l;if(e instanceof NT)l=e;else{let V,K;V=a.headers instanceof Ov?a.headers:new Ov(a.headers),a.params&&(K=a.params instanceof u0?a.params:new u0({fromObject:a.params})),l=new NT(e,s,void 0!==a.body?a.body:null,{headers:V,context:a.context,params:K,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const y=(0,Ti.of)(l).pipe(Ho(V=>this.handler.handle(V)));if(e instanceof NT||"events"===a.observe)return y;const k=y.pipe(C(V=>V instanceof tA));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return k.pipe((0,Ei.U)(V=>{if(null!==V.body&&!(V.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return V.body}));case"blob":return k.pipe((0,Ei.U)(V=>{if(null!==V.body&&!(V.body instanceof Blob))throw new Error("Response is not a Blob.");return V.body}));case"text":return k.pipe((0,Ei.U)(V=>{if(null!==V.body&&"string"!=typeof V.body)throw new Error("Response is not a string.");return V.body}));case"json":default:return k.pipe((0,Ei.U)(V=>V.body))}case"response":return k;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new u0).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,S2(a,s))}post(e,s,a={}){return this.request("POST",e,S2(a,s))}put(e,s,a={}){return this.request("PUT",e,S2(a,s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(JN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class a3{constructor(i,e){this.next=i,this.interceptor=e}handle(i){return this.interceptor.intercept(i,this.next)}}const k2=new o.OlP("HTTP_INTERCEPTORS");let pj=(()=>{class t{intercept(e,s){return s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const fj=/^\)\]\}',?\n/;let l3=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Er.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((Je,rt)=>a.setRequestHeader(Je,rt.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Je=e.detectContentTypeHeader();null!==Je&&a.setRequestHeader("Content-Type",Je)}if(e.responseType){const Je=e.responseType.toLowerCase();a.responseType="json"!==Je?Je:"text"}const l=e.serializeBody();let y=null;const k=()=>{if(null!==y)return y;const Je=1223===a.status?204:a.status,rt=a.statusText||"OK",Tt=new Ov(a.getAllResponseHeaders()),Qt=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return y=new T2({headers:Tt,status:Je,statusText:rt,url:Qt}),y},V=()=>{let{headers:Je,status:rt,statusText:Tt,url:Qt}=k(),Cn=null;204!==rt&&(Cn=void 0===a.response?a.responseText:a.response),0===rt&&(rt=Cn?200:0);let Jn=rt>=200&&rt<300;if("json"===e.responseType&&"string"==typeof Cn){const Zn=Cn;Cn=Cn.replace(fj,"");try{Cn=""!==Cn?JSON.parse(Cn):null}catch(Di){Cn=Zn,Jn&&(Jn=!1,Cn={error:Di,text:Cn})}}Jn?(s.next(new tA({body:Cn,headers:Je,status:rt,statusText:Tt,url:Qt||void 0})),s.complete()):s.error(new o3({error:Cn,headers:Je,status:rt,statusText:Tt,url:Qt||void 0}))},K=Je=>{const{url:rt}=k(),Tt=new o3({error:Je,status:a.status||0,statusText:a.statusText||"Unknown Error",url:rt||void 0});s.error(Tt)};let pe=!1;const Se=Je=>{pe||(s.next(k()),pe=!0);let rt={type:od.DownloadProgress,loaded:Je.loaded};Je.lengthComputable&&(rt.total=Je.total),"text"===e.responseType&&!!a.responseText&&(rt.partialText=a.responseText),s.next(rt)},Ue=Je=>{let rt={type:od.UploadProgress,loaded:Je.loaded};Je.lengthComputable&&(rt.total=Je.total),s.next(rt)};return a.addEventListener("load",V),a.addEventListener("error",K),a.addEventListener("timeout",K),a.addEventListener("abort",K),e.reportProgress&&(a.addEventListener("progress",Se),null!==l&&a.upload&&a.upload.addEventListener("progress",Ue)),a.send(l),s.next({type:od.Sent}),()=>{a.removeEventListener("error",K),a.removeEventListener("abort",K),a.removeEventListener("load",V),a.removeEventListener("timeout",K),e.reportProgress&&(a.removeEventListener("progress",Se),null!==l&&a.upload&&a.upload.removeEventListener("progress",Ue)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wc))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const E2=new o.OlP("XSRF_COOKIE_NAME"),D2=new o.OlP("XSRF_HEADER_NAME");class c3{}let gj=(()=>{class t{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=$(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG(o.Lbi),o.LFG(E2))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),A2=(()=>{class t{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(c3),o.LFG(D2))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),_j=(()=>{class t{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(k2,[]);this.chain=s.reduceRight((a,l)=>new a3(a,l),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(KN),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),yj=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:A2,useClass:pj}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:E2,useValue:e.cookieName}:[],e.headerName?{provide:D2,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[A2,{provide:k2,useExisting:A2,multi:!0},{provide:c3,useClass:gj},{provide:E2,useValue:"XSRF-TOKEN"},{provide:D2,useValue:"X-XSRF-TOKEN"}]}),t})(),u3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[K1,{provide:JN,useClass:_j},l3,{provide:KN,useExisting:l3}],imports:[[yj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const vj=["*"];function d3(t){return Error(`Unable to find icon with the name "${t}"`)}function h3(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function p3(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Wx{constructor(i,e,s){this.url=i,this.svgText=e,this.options=s}}let nA=(()=>{class t{constructor(e,s,a,l){this._httpClient=e,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,s,a){return this.addSvgIconInNamespace("",e,s,a)}addSvgIconLiteral(e,s,a){return this.addSvgIconLiteralInNamespace("",e,s,a)}addSvgIconInNamespace(e,s,a,l){return this._addSvgIconConfig(e,s,new Wx(a,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,a,l){const y=this._sanitizer.sanitize(o.q3G.HTML,a);if(!y)throw p3(a);return this._addSvgIconConfig(e,s,new Wx("",y,l))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,a){return this._addSvgIconSetConfig(e,new Wx(s,null,a))}addSvgIconSetLiteralInNamespace(e,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw p3(s);return this._addSvgIconSetConfig(e,new Wx("",l,a))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!s)throw h3(e);const a=this._cachedIconsByUrl.get(s);return a?(0,Ti.of)(iA(a)):this._loadSvgIconFromConfig(new Wx(e,null)).pipe((0,La.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,Ei.U)(l=>iA(l)))}getNamedSvgIcon(e,s=""){const a=f3(s,e);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,e),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const y=this._iconSetConfigs.get(s);return y?this._getSvgFromIconSetConfigs(e,y):(0,aj._)(d3(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ti.of)(iA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ei.U)(s=>iA(s)))}_getSvgFromIconSetConfigs(e,s){const a=this._extractIconWithNameFromAnySet(e,s);return a?(0,Ti.of)(a):oF(s.filter(y=>!y.svgText).map(y=>this._loadSvgIconSetFromConfig(y).pipe(Vi(k=>{const K=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,y.url)} failed: ${k.message}`;return this._errorHandler.handleError(new Error(K)),(0,Ti.of)(null)})))).pipe((0,Ei.U)(()=>{const y=this._extractIconWithNameFromAnySet(e,s);if(!y)throw d3(e);return y}))}_extractIconWithNameFromAnySet(e,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(e)>-1){const y=this._svgElementFromConfig(l),k=this._extractSvgIconFromSet(y,e,l.options);if(k)return k}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,La.b)(s=>e.svgText=s),(0,Ei.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ti.of)(null):this._fetchIcon(e).pipe((0,La.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,a){const l=e.querySelector(`[id="${s}"]`);if(!l)return null;const y=l.cloneNode(!0);if(y.removeAttribute("id"),"svg"===y.nodeName.toLowerCase())return this._setSvgAttributes(y,a);if("symbol"===y.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(y),a);const k=this._svgElementFromString("<svg></svg>");return k.appendChild(y),this._setSvgAttributes(k,a)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const s=this._svgElementFromString("<svg></svg>"),a=e.attributes;for(let l=0;l<a.length;l++){const{name:y,value:k}=a[l];"id"!==y&&s.setAttribute(y,k)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:a,options:l}=e,y=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const k=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!k)throw h3(a);const V=this._inProgressUrlFetches.get(k);if(V)return V;const K=this._httpClient.get(k,{responseType:"text",withCredentials:y}).pipe(pp(()=>this._inProgressUrlFetches.delete(k)),(0,cp.B)());return this._inProgressUrlFetches.set(k,K),K}_addSvgIconConfig(e,s,a){return this._svgIconConfigs.set(f3(e,s),a),this}_addSvgIconSetConfig(e,s){const a=this._iconSetConfigs.get(e);return a?a.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,e);if(l)return wj(l)?new Wx(l.url,null,l.options):new Wx(l,null)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(K1,8),o.LFG(aa),o.LFG(Te,8),o.LFG(o.qLn))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(K1,8),(0,o.LFG)(aa),(0,o.LFG)(Te,8),(0,o.LFG)(o.qLn))},token:t,providedIn:"root"}),t})();function iA(t){return t.cloneNode(!0)}function f3(t,i){return t+":"+i}function wj(t){return!(!t.url||!t.options)}class Cj{constructor(i){this._elementRef=i}}const Mj=R1(Cj),Tj=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(Te),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),m3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ej=m3.map(t=>`[${t}]`).join(", "),Dj=/^url\(['"]?#(.*?)['"]?\)$/;let I2=(()=>{class t extends Mj{constructor(e,s,a,l,y){super(e),this._iconRegistry=s,this._location=l,this._errorHandler=y,this._inline=!1,this._currentIconFetch=Da.w.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Gs(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=e.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=e.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&e.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(y=>{l.setAttribute(y.name,`url('${e}#${y.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(Ej),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)m3.forEach(y=>{const k=s[l],V=k.getAttribute(y),K=V?V.match(Dj):null;if(K){let pe=a.get(k);pe||(pe=[],a.set(k,pe)),pe.push({name:y,value:K[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,a]=this._splitIconName(e);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(ve(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(nA),o.$8M("aria-hidden"),o.Y36(Tj),o.Y36(o.qLn))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:vj,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),g3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[to],to]}),t})(),Aj=0;class Ij{}const Lj=kv(Ij);let Pj=(()=>{class t extends Lj{constructor(e,s,a,l,y){super(),this._ngZone=e,this._elementRef=s,this._ariaDescriber=a,this._renderer=l,this._animationMode=y,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Aj++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=Gs(e)}get description(){return this._description}set description(e){if(e!==this._description){const s=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,s&&(e?s.setAttribute("aria-label",e):s.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=Gs(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const s=e.content;if(s){const a=s.currentValue;this._hasContent=null!=a&&`${a}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),s="mat-badge-active",a="mat-badge-content";return this._clearExistingBadges(a),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(a),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(s)})}):e.classList.add(s),e}_updateHostAriaDescription(e,s){const a=this._updateTextContent();s&&this._ariaDescriber.removeDescription(a,s),e&&this._ariaDescriber.describe(a,e)}_setColor(e){if(e!==this._color){const s=this._elementRef.nativeElement.classList;this._color&&s.remove(`mat-badge-${this._color}`),e&&s.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const s=this._elementRef.nativeElement;let a=s.children.length;for(;a--;){const l=s.children[a];l.classList.contains(e)&&s.removeChild(l)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(WM),o.Y36(o.Qsj),o.Y36(af,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,s){2&e&&o.ekj("mat-badge-overlap",s.overlap)("mat-badge-above",s.isAbove())("mat-badge-below",!s.isAbove())("mat-badge-before",!s.isAfter())("mat-badge-after",s.isAfter())("mat-badge-small","small"===s.size)("mat-badge-medium","medium"===s.size)("mat-badge-large","large"===s.size)("mat-badge-hidden",s.hidden||!s._hasContent)("mat-badge-disabled",s.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[o.qOj,o.TTD]}),t})(),Oj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[E1,to],to]}),t})();function Rj(t,i){if(1&t&&(o.TgZ(0,"button",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.brand," ------\x3e RM",e.price," ")}}function Fj(t,i){1&t&&(o.TgZ(0,"button",33),o._uU(1,"View Cart"),o.qZA())}function Nj(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().filterCategory(l)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e," ")}}function zj(t,i){1&t&&(o.TgZ(0,"th",34),o._uU(1," Product Name "),o.qZA())}function Yj(t,i){if(1&t&&(o.TgZ(0,"td",35),o._uU(1),o._UZ(2,"br"),o._uU(3),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e.brand," "),o.xp6(2),o.hij(" ",e.compname.compname," ")}}function Bj(t,i){1&t&&(o.TgZ(0,"th",34),o._uU(1," Product Name "),o.qZA())}function Vj(t,i){1&t&&o._UZ(0,"td",35)}function Hj(t,i){1&t&&(o.TgZ(0,"th",34),o._uU(1,"Rating"),o.qZA())}function Uj(t,i){if(1&t&&(o.TgZ(0,"td",35),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.rating)}}function jj(t,i){1&t&&(o.TgZ(0,"th",34),o._uU(1,"Price/Item"),o.qZA())}function Gj(t,i){if(1&t&&(o.TgZ(0,"td",35),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.price)}}function Zj(t,i){1&t&&(o.TgZ(0,"th",34),o._uU(1,"Action"),o.qZA())}function Wj(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",35),o.TgZ(1,"button",36),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().addtocart(l.brand,l.price,l.compname.compname,l.category)}),o._uU(2," Add to Cart "),o.qZA(),o.qZA()}}function qj(t,i){1&t&&o._UZ(0,"tr",37)}function $j(t,i){1&t&&o._UZ(0,"tr",38)}function Xj(t,i){if(1&t&&(o.TgZ(0,"tr",39),o.TgZ(1,"td",40),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(18);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const Qj=function(){return[5,10,25,100]};let Jj=(()=>{class t{constructor(e){this.fs=e,this.supplierid=[],this.overallmenu=[],this.supplier=[],this.loader=!0,this.cart=[],this.newArray=[],this.status="ONLINE",this.isConnected=!0,this.newCategory=[],this.displayedColumns=["brand","rating","price","action"],this.checkDuplicate=[],this.filter2=[],this.filter3=[],this.quantity=[],this.temp=[],this.isModified=!1,this.fs.collection("Supplier").snapshotChanges().subscribe(s=>{s.map(a=>{let l=a.payload.doc.data();this.fs.collection("Supplier").doc(a.payload.doc.id).collection("menu").snapshotChanges().subscribe(y=>{y.map(k=>{if("added"==k.type){let V={compname:l,brand:k.payload.doc.data().brand,rating:k.payload.doc.data().rating,price:k.payload.doc.data().price,category:k.payload.doc.data().category};this.overallmenu.push(V),this.dataSource=new Zx(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}})})})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(s=>{this.filter2=[],this.cartlength=s.length,s.map(a=>{console.log(a);let l={brand:a.payload.doc.id,quantity:a.payload.doc.data().quantity,price:a.payload.doc.data().price};this.filter2.push(l),this.filter3=[...new Set(this.filter2)]})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(){for(let e=0;e<this.overallmenu.length;e++)this.newArray.push(this.overallmenu[e].category);this.newCategory=[...new Set(this.newArray)]}filterCategory(e){if(console.log(e),"clear"==e)this.dataSource=new Zx(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;else{let s=this.overallmenu.filter(a=>{if(a.category==e)return a});this.dataSource=new Zx(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}addtocart(e,s,a,l){var y=this;return Fa(function*(){y.category2=l,console.log(y.category2);let k=s;const V=s;0==y.filter3.length&&y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:V,brand:e,compname:a,totalprice:k,category:y.category2});for(let K=0;K<y.filter3.length;K++){let pe=[];const Se=y.filter3[K];if(y.filter3.filter(Ue=>{pe.push(Ue.brand),y.isExisted=!0}),0==pe.includes(e)&&(y.isExisted=!1),Se.brand==e){const Je=y.filter3[K].quantity+1;console.log(K);const rt=Je*V;y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).update({quantity:Je,price:V,brand:e,compname:a,totalprice:rt,category:y.category2})}else!1===y.isExisted&&(yield y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:V,brand:e,compname:a,category:y.category2}))}})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-order-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(a0,5),o.Gf(Ev,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:48,vars:12,consts:[[1,"content"],[1,"combine"],[1,"search"],["mat-button","",3,"matMenuTriggerFor","mouseenter"],["menuTrigger","matMenuTrigger"],["matBadgePosition","after","matBadgeColor","accent",3,"matBadge"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-raised-button","","routerLink","/admincartpage",4,"ngIf"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"filter"],["mat-button","",3,"matMenuTriggerFor","click"],["category","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"mat-elevation-z8","table"],["mat-table","","matSort","","width","100%",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","compname"],["matColumnDef","rating"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-menu-item",""],["mat-raised-button","","routerLink","/admincartpage"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"div",0),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3,4),o.NdJ("mouseenter",function(){return o.CHM(a),o.MAs(6).openMenu()}),o.TgZ(7,"mat-icon",5),o._uU(8,"shopping_cart"),o.qZA(),o.qZA(),o.TgZ(9,"mat-menu",6,7),o.TgZ(11,"span",8),o.NdJ("mouseleave",function(){return o.CHM(a),o.MAs(6).closeMenu()}),o.YNc(12,Rj,2,2,"button",9),o.YNc(13,Fj,2,0,"button",10),o.qZA(),o.qZA(),o.TgZ(14,"mat-form-field",11),o.TgZ(15,"mat-label"),o._uU(16,"Search"),o.qZA(),o.TgZ(17,"input",12,13),o.NdJ("keyup",function(y){return s.applyFilter(y)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",14),o.TgZ(20,"button",15),o.NdJ("click",function(){return s.filter()}),o._uU(21," Category "),o.qZA(),o.TgZ(22,"mat-menu",null,16),o.YNc(24,Nj,2,1,"button",17),o.TgZ(25,"button",18),o.NdJ("click",function(){return s.filterCategory("clear")}),o._uU(26,"Clear"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",19),o.TgZ(28,"table",20),o.ynx(29,21),o.YNc(30,zj,2,0,"th",22),o.YNc(31,Yj,4,2,"td",23),o.ynx(32,24),o.YNc(33,Bj,2,0,"th",22),o.YNc(34,Vj,1,0,"td",23),o.BQk(),o.BQk(),o.ynx(35,25),o.YNc(36,Hj,2,0,"th",22),o.YNc(37,Uj,2,1,"td",23),o.BQk(),o.ynx(38,26),o.YNc(39,jj,2,0,"th",22),o.YNc(40,Gj,2,1,"td",23),o.BQk(),o.ynx(41,27),o.YNc(42,Zj,2,0,"th",22),o.YNc(43,Wj,3,0,"td",23),o.BQk(),o.YNc(44,qj,1,0,"tr",28),o.YNc(45,$j,1,0,"tr",29),o.YNc(46,Xj,3,1,"tr",30),o.qZA(),o._UZ(47,"mat-paginator",31),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(10),l=o.MAs(23);o.xp6(5),o.Q6J("matMenuTriggerFor",a),o.xp6(2),o.s9C("matBadge",s.cartlength),o.xp6(2),o.Q6J("overlapTrigger",!1),o.xp6(3),o.Q6J("ngForOf",s.filter3),o.xp6(1),o.Q6J("ngIf",s.filter3.length>0),o.xp6(7),o.Q6J("matMenuTriggerFor",l),o.xp6(4),o.Q6J("ngForOf",s.newCategory),o.xp6(4),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(11,Qj))}},directives:[__,Dp,sj,I2,Pj,ij,ft,dn,Hx,t0,Q1,eA,ET,Ev,W1,Z1,G1,DT,AT,PT,a0,Af,q1,vD,$1,IT,LT],styles:["mgl-map[_ngcontent-%COMP%]{height:80%;width:50%}.table[_ngcontent-%COMP%]{width:80%;margin:auto}.combine[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.filter[_ngcontent-%COMP%]{order:1;margin-top:1.5rem}.search[_ngcontent-%COMP%]{order:2;margin-left:5rem}"]}),t})();var _3="https://js.stripe.com/v3",Kj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,y3="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",rA=null,rG=function(i,e,s){if(null===i)return null;var a=i.apply(void 0,e);return function(i,e){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"1.17.1",startTime:e})}(a,s),a},v3=Promise.resolve().then(function(){return i=null,null!==rA||(rA=new Promise(function(e,s){if("undefined"!=typeof window)if(window.Stripe&&i&&console.warn(y3),window.Stripe)e(window.Stripe);else try{var a=function(){for(var i=document.querySelectorAll('script[src^="'.concat(_3,'"]')),e=0;e<i.length;e++){var s=i[e];if(Kj.test(s.src))return s}return null}();a&&i?console.warn(y3):a||(a=function(i){var e=i&&!i.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(_3).concat(e);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s}(i)),a.addEventListener("load",function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){s(new Error("Failed to load Stripe.js"))})}catch(l){return void s(l)}else e(null)})),rA;var i}),b3=!1;v3.catch(function(t){b3||console.warn(t)});var L2=function(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];b3=!0;var a=Date.now();return v3.then(function(l){return rG(l,e,a)})};const x3=new o.OlP("angularfire2.functions.origin"),w3=new o.OlP("angularfire2.functions.region"),C3=new o.OlP("angularfire2.functions.new-origin-behavior"),M3=new o.OlP("angularfire2.functions.use-emulator");let sA=(()=>{class t{constructor(e,s,a,l,y,k,V){const K=new gr.HU(a),pe=V,Se=(0,Ti.of)(void 0).pipe((0,Bo.QV)(K.outsideAngular),Es(()=>De.e(253).then(De.bind(De,1253))),(0,Ei.U)(()=>(0,gr.on)(e,a,s)),(0,Ei.U)(Ue=>(0,gr.sI)(`${Ue.name}.functions.${l||y}`,"AngularFireFunctions",Ue,()=>{let Je;if(k){if(l&&y)throw new Error("REGION and ORIGIN can't be used at the same time.");Je=Ue.functions(l||y||void 0)}else Je=Ue.functions(l||void 0);return!k&&!pe&&y&&Je.useFunctionsEmulator(y),pe&&Je.useEmulator(...pe),Je},[l,y,pe])),Mh({bufferSize:1,refCount:!1}));return this.httpsCallable=(Ue,Je)=>rt=>(0,Fs.D)(Se).pipe((0,Bo.QV)(K.insideAngular),Es(Tt=>Tt.httpsCallable(Ue,Je)(rt)),(0,Ei.U)(Tt=>Tt.data)),(0,gr.pX)(this,Se,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(o.R0b),o.LFG(w3,8),o.LFG(x3,8),o.LFG(C3,8),o.LFG(M3,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(gr.Dh),o.LFG(gr.xv,8),o.LFG(o.R0b),o.LFG(w3,8),o.LFG(x3,8),o.LFG(C3,8),o.LFG(M3,8))},token:t,providedIn:"any"}),t})(),T3=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({showDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?an.appendChild(this.container,this.el.nativeElement):an.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),an.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Du.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Du.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+an.getWindowScrollLeft(),top:e.top+an.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),s=e.left+an.getOuterWidth(this.el.nativeElement),a=e.top+(an.getOuterHeight(this.el.nativeElement)-an.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),s=e.left-an.getOuterWidth(this.container),a=e.top+(an.getOuterHeight(this.el.nativeElement)-an.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),s=e.left+(an.getOuterWidth(this.el.nativeElement)-an.getOuterWidth(this.container))/2,a=e.top-an.getOuterHeight(this.container);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),s=e.left+(an.getOuterWidth(this.el.nativeElement)-an.getOuterWidth(this.container))/2,a=e.top+an.getOuterHeight(this.el.nativeElement);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let s="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?s+" "+this.getOption("tooltipStyleClass"):s}isOutOfBounds(){let e=this.container.getBoundingClientRect(),s=e.top,a=e.left,l=an.getOuterWidth(this.container),y=an.getOuterHeight(this.container),k=an.getViewport();return a+l>k.width||a<0||s<0||s+y>k.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new RT(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):an.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Du.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(km))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[o.TTD]}),t})(),S3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})();function oG(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.label||"empty")}}function aG(t,i){1&t&&o.GkF(0)}const k3=function(t){return{height:t}},lG=function(t,i){return{"p-dropdown-item":!0,"p-highlight":t,"p-disabled":i}},P2=function(t){return{$implicit:t}},cG=["container"],uG=["filter"],dG=["in"],hG=["editableInput"];function pG(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.label||"empty")}}function fG(t,i){1&t&&o.GkF(0)}const mG=function(t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":t}};function gG(t,i){if(1&t&&(o.TgZ(0,"span",12),o.YNc(1,pG,2,1,"ng-container",13),o.YNc(2,fG,1,0,"ng-container",14),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(8,mG,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.xp6(1),o.Q6J("ngIf",!e.selectedItemTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",o.VKq(10,P2,e.selectedOption))}}const _G=function(t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":t}};function yG(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(2,_G,null==e.placeholder||0===e.placeholder.length)),o.xp6(1),o.Oqu(e.placeholder||"empty")}}function vG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",16,17),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditableInputClick()})("input",function(a){return o.CHM(e),o.oxw().onEditableInputChange(a)})("focus",function(a){return o.CHM(e),o.oxw().onEditableInputFocus(a)})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("disabled",e.disabled),o.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function bG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",18),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}}function xG(t,i){1&t&&o.GkF(0)}function wG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",26),o.TgZ(1,"div",27),o.NdJ("click",function(a){return a.stopPropagation()}),o.TgZ(2,"input",28,29),o.NdJ("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return o.CHM(e),o.oxw(2).onKeydown(a,!1)})("input",function(a){return o.CHM(e),o.oxw(2).onFilterInputChange(a)}),o.qZA(),o._UZ(4,"span",30),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("value",e.filterValue||""),o.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function CG(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getOptionGroupLabel(e)||"empty")}}function MG(t,i){1&t&&o.GkF(0)}function TG(t,i){1&t&&o.GkF(0)}const E3=function(t,i){return{$implicit:t,selectedOption:i}};function SG(t,i){if(1&t&&(o.TgZ(0,"li",32),o.YNc(1,CG,2,1,"span",13),o.YNc(2,MG,1,0,"ng-container",14),o.qZA(),o.YNc(3,TG,1,0,"ng-container",14)),2&t){const e=i.$implicit;o.oxw(2);const s=o.MAs(8),a=o.oxw();o.xp6(1),o.Q6J("ngIf",!a.groupTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",a.groupTemplate)("ngTemplateOutletContext",o.VKq(5,P2,e)),o.xp6(1),o.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",o.WLB(7,E3,a.getOptionGroupChildren(e),a.selectedOption))}}function kG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,SG,4,10,"ng-template",31),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.optionsToDisplay)}}function EG(t,i){1&t&&o.GkF(0)}function DG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,EG,1,0,"ng-container",14),o.BQk()),2&t){o.oxw();const e=o.MAs(8),s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",o.WLB(2,E3,s.optionsToDisplay,s.selectedOption))}}function AG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(4).onItemClick(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(2).selectedOption,a=o.oxw(2);o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function IG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,AG,1,5,"ng-template",31),o.BQk()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function LG(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(5).onItemClick(a)}),o.qZA(),o.BQk()}if(2&t){const e=i.$implicit,s=o.oxw(3).selectedOption,a=o.oxw(2);o.xp6(1),o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function PG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",37,38),o.NdJ("scrolledIndexChange",function(){return o.CHM(e),o.oxw(4).scrollToSelectedVirtualScrollElement()}),o.YNc(2,LG,2,5,"ng-container",39),o.qZA()}if(2&t){const e=o.oxw(2).$implicit,s=o.oxw(2);o.Q6J("ngStyle",o.VKq(3,k3,s.scrollHeight))("itemSize",s.itemSize),o.xp6(2),o.Q6J("cdkVirtualForOf",e)}}function OG(t,i){if(1&t&&o.YNc(0,PG,3,5,"cdk-virtual-scroll-viewport",36),2&t){const e=o.oxw(3);o.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function RG(t,i){if(1&t&&(o.YNc(0,IG,2,1,"ng-container",33),o.YNc(1,OG,1,1,"ng-template",null,34,o.W1O)),2&t){const e=o.MAs(2),s=o.oxw(2);o.Q6J("ngIf",!s.virtualScroll)("ngIfElse",e)}}function FG(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyFilterMessageLabel," ")}}function NG(t,i){1&t&&o.GkF(0,null,41)}function zG(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,FG,2,1,"ng-container",33),o.YNc(2,NG,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function YG(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyMessageLabel," ")}}function BG(t,i){1&t&&o.GkF(0,null,42)}function VG(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,YG,2,1,"ng-container",33),o.YNc(2,BG,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function HG(t,i){1&t&&o.GkF(0)}const UG=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},jG=function(t){return{value:"visible",params:t}},GG=function(t){return{"p-dropdown-virtualscroll":t}};function ZG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationEnd(a)}),o.YNc(1,xG,1,0,"ng-container",20),o.YNc(2,wG,5,3,"div",21),o.TgZ(3,"div",22),o.TgZ(4,"ul",23),o.YNc(5,kG,2,1,"ng-container",13),o.YNc(6,DG,2,5,"ng-container",13),o.YNc(7,RG,3,2,"ng-template",null,24,o.W1O),o.YNc(9,zG,3,3,"li",25),o.YNc(10,VG,3,3,"li",25),o.qZA(),o.qZA(),o.YNc(11,HG,1,0,"ng-container",20),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",o.VKq(18,jG,o.WLB(15,UG,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.filter),o.xp6(1),o.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),o.xp6(1),o.Q6J("ngClass",o.VKq(20,GG,e.virtualScroll)),o.xp6(1),o.Q6J("ngIf",e.group),o.xp6(1),o.Q6J("ngIf",!e.group),o.xp6(3),o.Q6J("ngIf",e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngIf",!e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const WG=function(t,i,e,s){return{"p-dropdown p-component":!0,"p-disabled":t,"p-dropdown-open":i,"p-focus":e,"p-dropdown-clearable":s}},qG={provide:Jc,useExisting:(0,o.Gpc)(()=>O2),multi:!0};let $G=(()=>{class t{constructor(){this.onClick=new o.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"li",0),o.NdJ("click",function(l){return s.onOptionClick(l)}),o.YNc(1,oG,2,1,"span",1),o.YNc(2,aG,1,0,"ng-container",2),o.qZA()),2&e&&(o.Q6J("ngStyle",o.VKq(7,k3,s.itemSize+"px"))("ngClass",o.WLB(9,lG,s.selected,s.disabled)),o.uIk("aria-label",s.label)("aria-selected",s.selected),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(12,P2,s.option)))},directives:[Ly,Zi,ue,dn,Jr],encapsulation:2}),t})(),O2=(()=>{class t{constructor(e,s,a,l,y,k,V){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.filterService=y,this.config=k,this.overlayService=V,this.scrollHeight="200px",this.appendTo="body",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new o.vpe,this.onFilter=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClick=new o.vpe,this.onShow=new o.vpe,this.onHide=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;default:this.itemTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(sd.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(sd.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?br.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?br.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?br.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?br.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?br.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const s=e.option;this.isOptionDisabled(s)||(this.selectItem(e,s),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,s){this.selectedOption!=s&&(this.selectedOption=s,this.value=this.getOptionValue(s),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let s=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(s.start>this.virtualScrollSelectedIndex||s.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}an.findSingle(this.overlay,"li.p-highlight")&&an.scrollInView(this.itemsWrapper,an.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return an.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=an.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Du.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let a=an.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&an.scrollInView(this.itemsWrapper,a)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){switch(e.toState){case"void":Du.clear(e.element)}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):an.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=an.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?an.absolutePosition(this.overlay,this.containerViewChild.nativeElement):an.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e-1;0<=a;a--){let l=this.optionsToDisplay[a];if(!l.disabled){s=l;break}}if(!s)for(let a=this.optionsToDisplay.length-1;a>=e;a--){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}findNextEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e+1;a<this.optionsToDisplay.length;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}if(!s)for(let a=0;a<e;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}onKeydown(e,s){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex-1;if(l>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let y=this.optionsToDisplay[a.groupIndex-1];y&&(this.selectItem(e,this.getOptionGroupChildren(y)[this.getOptionGroupChildren(y).length-1]),this.selectedOptionUpdated=!0)}}}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),e.preventDefault();break;case 27:case 9:this.hide();break;default:s&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const s=e.key;let a;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=s,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+s:s,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};a=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;a=this.searchOption(++l)}a&&!this.isOptionDisabled(a)&&(this.selectItem(e,a),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let s;return this.searchValue&&(s=this.searchOptionInRange(e,this.optionsToDisplay.length),s||(s=this.searchOptionInRange(0,e))),s}searchOptionInRange(e,s){for(let a=e;a<s;a++){let l=this.optionsToDisplay[a];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let a=e.groupIndex;a<this.optionsToDisplay.length;a++)for(let l=e.groupIndex===a?e.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;l++){let y=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(y).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(y))return y}for(let a=0;a<=e.groupIndex;a++)for(let l=0;l<(e.groupIndex===a?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[a]).length);l++){let y=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(y).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(y))return y}}return null}findOptionIndex(e,s){let a=-1;if(s)for(let l=0;l<s.length;l++)if(null==e&&null==this.getOptionValue(s[l])||br.equals(e,this.getOptionValue(s[l]),this.dataKey)){a=l;break}return a}findOptionGroupIndex(e,s){let a,l;if(s)for(let y=0;y<s.length&&(a=y,l=this.findOptionIndex(e,this.getOptionGroupChildren(s[y])),-1===l);y++);return-1!==l?{groupIndex:a,itemIndex:l}:-1}findOption(e,s,a){if(this.group&&!a){let l;if(s&&s.length)for(let y of s)if(l=this.findOption(e,this.getOptionGroupChildren(y),!0),l)break;return l}{let l=this.findOptionIndex(e,s);return-1!=l?s[l]:null}}onFilterInputChange(e){let s=e.target.value;s&&s.length?(this._filterValue=s,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let s=[];for(let a of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(a),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&s.push(Object.assign(Object.assign({},a),{[this.optionGroupChildren]:l}))}this.optionsToDisplay=s}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?an.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():an.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){an.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new RT(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Du.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(TN),o.Y36(km),o.Y36(OT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(cG,5),o.Gf(uG,5),o.Gf(dG,5),o.Gf(fT,5),o.Gf(hG,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.filterViewChild=a.first),o.iGM(a=o.CRH())&&(s.accessibleViewChild=a.first),o.iGM(a=o.CRH())&&(s.viewPort=a.first),o.iGM(a=o.CRH())&&(s.editableInputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused||s.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[o._Bn([qG])],decls:12,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(l){return s.onMouseclick(l)}),o.TgZ(2,"div",2),o.TgZ(3,"input",3,4),o.NdJ("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)})("keydown",function(l){return s.onKeydown(l,!0)}),o.qZA(),o.qZA(),o.YNc(5,gG,3,12,"span",5),o.YNc(6,yG,2,4,"span",6),o.YNc(7,vG,2,4,"input",7),o.YNc(8,bG,1,0,"i",8),o.TgZ(9,"div",9),o._UZ(10,"span",10),o.qZA(),o.YNc(11,ZG,12,22,"div",11),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(17,WG,s.disabled,s.overlayVisible,s.focused,s.showClear&&!s.disabled))("ngStyle",s.style),o.xp6(3),o.Q6J("disabled",s.disabled),o.uIk("id",s.inputId)("aria-expanded",s.overlayVisible)("aria-labelledby",s.ariaLabelledBy)("tabindex",s.tabindex)("autofocus",s.autofocus),o.xp6(2),o.Q6J("ngIf",!s.editable&&null!=s.label),o.xp6(1),o.Q6J("ngIf",!s.editable&&null==s.label),o.xp6(1),o.Q6J("ngIf",s.editable),o.xp6(1),o.Q6J("ngIf",null!=s.value&&s.showClear&&!s.disabled),o.xp6(1),o.uIk("aria-expanded",s.overlayVisible),o.xp6(1),o.Q6J("ngClass",s.dropdownIcon),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[ue,Zi,dn,T3,Jr,ft,$G,fT,FR,YR],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[ka("overlayAnimation",[Br(":enter",[si({opacity:0,transform:"scaleY(0.8)"}),as("{{showTransitionParams}}")]),Br(":leave",[as("{{hideTransitionParams}}",si({opacity:0}))])])]},changeDetection:0}),t})(),oA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Kc,Yx,S3,Em],Kc,Yx]}),t})();function XG(t,i){1&t&&o.GkF(0)}const R2=function(t){return{$implicit:t}};function QG(t,i){if(1&t&&(o.TgZ(0,"div",14),o.YNc(1,XG,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",o.VKq(2,R2,e.paginatorState))}}function JG(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.currentPageReport)}}const aA=function(t){return{"p-disabled":t}};function KG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToFirst(a)}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(2,aA,e.isFirstPage()))}}const eZ=function(t){return{"p-highlight":t}};function tZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(a){const y=o.CHM(e).$implicit;return o.oxw(3).onPageLinkClick(a,y-1)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(3);o.Q6J("ngClass",o.VKq(2,eZ,e-1==s.getPage())),o.xp6(1),o.Oqu(e)}}function nZ(t,i){if(1&t&&(o.TgZ(0,"span",19),o.YNc(1,tZ,2,4,"button",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.pageLinks)}}function iZ(t,i){if(1&t&&o._uU(0),2&t){const e=o.oxw(3);o.Oqu(e.currentPageReport)}}function rZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",22),o.NdJ("onChange",function(a){return o.CHM(e),o.oxw(2).onPageDropdownChange(a)}),o.YNc(1,iZ,1,1,"ng-template",23),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.pageItems)("ngModel",e.getPage())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function sZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToLast(a)}),o._UZ(1,"span",25),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(2,aA,e.isLastPage()))}}function oZ(t,i){1&t&&o.GkF(0)}function aZ(t,i){if(1&t&&o.YNc(0,oZ,1,0,"ng-container",15),2&t){const e=i.$implicit,s=o.oxw(4);o.Q6J("ngTemplateOutlet",s.dropdownItemTemplate)("ngTemplateOutletContext",o.VKq(2,R2,e))}}function lZ(t,i){1&t&&(o.ynx(0),o.YNc(1,aZ,1,4,"ng-template",28),o.BQk())}function cZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",26),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw(2).rows=a})("onChange",function(a){return o.CHM(e),o.oxw(2).onRppChange(a)}),o.YNc(1,lZ,2,0,"ng-container",27),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),o.xp6(1),o.Q6J("ngIf",e.dropdownItemTemplate)}}function uZ(t,i){1&t&&o.GkF(0)}function dZ(t,i){if(1&t&&(o.TgZ(0,"div",29),o.YNc(1,uZ,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",o.VKq(2,R2,e.paginatorState))}}function hZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.YNc(1,QG,2,4,"div",2),o.YNc(2,JG,2,1,"span",3),o.YNc(3,KG,2,4,"button",4),o.TgZ(4,"button",5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToPrev(a)}),o._UZ(5,"span",6),o.qZA(),o.YNc(6,nZ,2,1,"span",7),o.YNc(7,rZ,2,4,"p-dropdown",8),o.TgZ(8,"button",9),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToNext(a)}),o._UZ(9,"span",10),o.qZA(),o.YNc(10,sZ,2,4,"button",11),o.YNc(11,cZ,2,5,"p-dropdown",12),o.YNc(12,dZ,2,4,"div",13),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),o.xp6(1),o.Q6J("ngIf",e.templateLeft),o.xp6(1),o.Q6J("ngIf",e.showCurrentPageReport),o.xp6(1),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(16,aA,e.isFirstPage())),o.xp6(2),o.Q6J("ngIf",e.showPageLinks),o.xp6(1),o.Q6J("ngIf",e.showJumpToPageDropdown),o.xp6(1),o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(18,aA,e.isLastPage())),o.xp6(2),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("ngIf",e.rowsPerPageOptions),o.xp6(1),o.Q6J("ngIf",e.templateRight)}}let pZ=(()=>{class t{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new o.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let e=this.getPageCount(),s=Math.min(this.pageLinkSize,e),a=Math.max(0,Math.ceil(this.getPage()-s/2)),l=Math.min(e-1,a+s-1);return a=Math.max(0,a-(this.pageLinkSize-(l-a+1))),[a,l]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),a=e[1];for(let l=e[0];l<=a;l++)this.pageLinks.push(l+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let l=0;l<this.getPageCount();l++)this.pageItems.push({label:String(l+1),value:l})}}changePage(e){var s=this.getPageCount();if(e>=0&&e<s){this._first=this.rows*e;var a={page:e,first:this.first,rows:this.rows,pageCount:s};this.updatePageLinks(),this.onPageChange.emit(a),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,s){this.changePage(s),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.getPage()+1)).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-paginator"]],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[o.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,s){1&e&&o.YNc(0,hZ,13,20,"div",0),2&e&&o.Q6J("ngIf",!!s.alwaysShow||s.pageLinks&&s.pageLinks.length>1)},directives:[dn,Zi,ue,Ly,Jr,ft,O2,cf,Ay,Od],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),t})(),fZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,oA,RD,Kc,Em],oA,RD,Kc]}),t})(),d0=(()=>{class t{constructor(e,s){this.el=e,this.ngModel=s}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Ay,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s.onInput(l)}),2&e&&o.ekj("p-inputtext",!0)("p-component",!0)("p-filled",s.filled)}}),t})(),zT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})();function mZ(t,i){if(1&t&&o._UZ(0,"span",8),2&t){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("ngClass","p-button-icon p-button-icon-left")}}function gZ(t,i){if(1&t&&(o.ynx(0),o.YNc(1,mZ,1,3,"span",6),o.TgZ(2,"span",7),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngIf",e.icon),o.xp6(2),o.Oqu(s.getOptionLabel(e))}}function _Z(t,i){1&t&&o.GkF(0)}const yZ=function(t,i){return{$implicit:t,index:i}};function vZ(t,i){if(1&t&&o.YNc(0,_Z,1,0,"ng-container",9),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw();o.Q6J("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",o.WLB(2,yZ,s,a))}}const bZ=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-button-icon-only":e}};function xZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",2,3),o.NdJ("click",function(a){const l=o.CHM(e),y=l.$implicit,k=l.index;return o.oxw().onItemClick(a,y,k)})("keydown.enter",function(a){const l=o.CHM(e),y=l.$implicit,k=l.index;return o.oxw().onItemClick(a,y,k)})("blur",function(){return o.CHM(e),o.oxw().onBlur()}),o.YNc(2,gZ,4,2,"ng-container",4),o.YNc(3,vZ,1,5,"ng-template",null,5,o.W1O),o.qZA()}if(2&t){const e=i.$implicit,s=o.MAs(4),a=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass",o.kEZ(10,bZ,a.isSelected(e),a.disabled||a.isOptionDisabled(e),e.icon&&!a.getOptionLabel(e))),o.uIk("aria-pressed",a.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",a.disabled?null:a.tabindex)("aria-labelledby",a.getOptionLabel(e)),o.xp6(2),o.Q6J("ngIf",!a.itemTemplate)("ngIfElse",s)}}const wZ={provide:Jc,useExisting:(0,o.Gpc)(()=>CZ),multi:!0};let CZ=(()=>{class t{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new o.vpe,this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?br.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?br.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?br.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,s,a){this.disabled||this.isOptionDisabled(s)||(this.multiple?this.isSelected(s)?this.removeOption(s):this.value=[...this.value||[],this.getOptionValue(s)]:this.value=this.getOptionValue(s),this.onOptionClick.emit({originalEvent:e,option:s,index:a}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(s=>!br.equals(s,this.getOptionValue(e),this.dataKey))}isSelected(e){let s=!1,a=this.getOptionValue(e);if(this.multiple){if(this.value)for(let l of this.value)if(br.equals(l,a,this.dataKey)){s=!0;break}}else s=br.equals(this.getOptionValue(e),this.value,this.dataKey);return s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-selectButton"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,o.Rgc,5),2&e){let l;o.iGM(l=o.CRH())&&(s.itemTemplate=l.first)}},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[o._Bn([wZ])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,xZ,5,14,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngForOf",s.options))},directives:[ue,Zi,ft,Ly,dn,Jr],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),t})(),MZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Em]]}),t})();const TZ=function(t,i,e){return{"p-checkbox-label-active":t,"p-disabled":i,"p-checkbox-label-focus":e}};function SZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",7),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(),y=o.MAs(3);return l.onClick(a,y)}),o._uU(1),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",o.kEZ(3,TZ,null!=e.value,e.disabled,e.focused)),o.uIk("for",e.inputId),o.xp6(1),o.Oqu(e.label)}}const kZ=function(t,i){return{"p-checkbox p-component":!0,"p-checkbox-disabled":t,"p-checkbox-focused":i}},EZ=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-focus":e}},DZ={provide:Jc,useExisting:(0,o.Gpc)(()=>AZ),multi:!0};let AZ=(()=>{class t{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,s){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,s.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-triStateCheckbox"]],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[o._Bn([DZ])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"input",2,3),o.NdJ("keyup",function(y){return s.onKeyup(y)})("keydown",function(y){return s.onKeydown(y)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),o.qZA(),o.qZA(),o.TgZ(4,"div",4),o.NdJ("click",function(y){o.CHM(a);const k=o.MAs(3);return s.onClick(y,k)}),o._UZ(5,"span",5),o.qZA(),o.qZA(),o.YNc(6,SZ,2,7,"label",6)}2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.WLB(14,kZ,s.disabled,s.focused)),o.xp6(2),o.Q6J("name",s.name)("readonly",s.readonly)("disabled",s.disabled),o.uIk("id",s.inputId)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy),o.xp6(2),o.Q6J("ngClass",o.kEZ(17,EZ,null!=s.value,s.disabled,s.focused)),o.uIk("aria-checked",!0===s.value),o.xp6(1),o.Q6J("ngClass",!0===s.value?s.checkboxTrueIcon:!1===s.value?s.checkboxFalseIcon:""),o.xp6(1),o.Q6J("ngIf",s.label))},directives:[Zi,ue,dn],encapsulation:2,changeDetection:0}),t})(),IZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})();const LZ=["container"],PZ=["inputfield"],OZ=["contentWrapper"];function RZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(a){o.CHM(e),o.oxw();const l=o.MAs(1);return o.oxw().onButtonClick(a,l)}),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("icon",e.icon)("disabled",e.disabled)}}function FZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",4,5),o.NdJ("focus",function(a){return o.CHM(e),o.oxw().onInputFocus(a)})("keydown",function(a){return o.CHM(e),o.oxw().onInputKeydown(a)})("click",function(){return o.CHM(e),o.oxw().onInputClick()})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)})("input",function(a){return o.CHM(e),o.oxw().onUserInput(a)}),o.qZA(),o.YNc(2,RZ,1,2,"button",6)}if(2&t){const e=o.oxw();o.Tol(e.inputStyleClass),o.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),o.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),o.xp6(2),o.Q6J("ngIf",e.showIcon)}}function NZ(t,i){1&t&&o.GkF(0)}function zZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onPrevButtonClick(a)}),o._UZ(1,"span",28),o.qZA()}}function YZ(t,i){if(1&t&&(o.TgZ(0,"span",29),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getTranslation("monthNames")[e.month])}}function BZ(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2).$implicit;o.Q6J("value",s)("selected",s===a.month),o.xp6(1),o.Oqu(e)}}function VZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",30),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onMonthDropdownChange(a.target.value)}),o.YNc(1,BZ,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.getTranslation("monthNames"))}}function HZ(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.Q6J("value",e)("selected",e===s.currentYear),o.xp6(1),o.Oqu(e)}}function UZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",33),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onYearDropdownChange(a.target.value)}),o.YNc(1,HZ,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.yearOptions)}}function jZ(t,i){if(1&t&&(o.TgZ(0,"span",34),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu("month"===s.view?s.currentYear:e.year)}}function GZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",35),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onNextButtonClick(a)}),o._UZ(1,"span",36),o.qZA()}}function ZZ(t,i){if(1&t&&(o.TgZ(0,"th",42),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(5);o.xp6(2),o.Oqu(e.getTranslation("weekHeader"))}}function WZ(t,i){if(1&t&&(o.TgZ(0,"th",43),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e)}}function qZ(t,i){if(1&t&&(o.TgZ(0,"td",46),o.TgZ(1,"span",47),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().index,s=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",s.weekNumbers[e]," ")}}function $Z(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Oqu(e.day)}}function XZ(t,i){1&t&&o.GkF(0)}const D3=function(t,i){return{"p-highlight":t,"p-disabled":i}},QZ=function(t){return{$implicit:t}};function JZ(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"span",49),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw(6).onDateSelect(a,l)})("keydown",function(a){o.CHM(e);const l=o.oxw().$implicit,y=o.oxw(3).index;return o.oxw(3).onDateCellKeydown(a,l,y)}),o.YNc(2,$Z,2,1,"ng-container",11),o.YNc(3,XZ,1,0,"ng-container",50),o.qZA(),o.BQk()}if(2&t){const e=o.oxw().$implicit,s=o.oxw(6);o.xp6(1),o.Q6J("ngClass",o.WLB(4,D3,s.isSelected(e),!e.selectable)),o.xp6(1),o.Q6J("ngIf",!s.dateTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",s.dateTemplate)("ngTemplateOutletContext",o.VKq(7,QZ,e))}}const KZ=function(t,i){return{"p-datepicker-other-month":t,"p-datepicker-today":i}};function eW(t,i){if(1&t&&(o.TgZ(0,"td",48),o.YNc(1,JZ,4,9,"ng-container",11),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(6);o.Q6J("ngClass",o.WLB(2,KZ,e.otherMonth,e.today)),o.xp6(1),o.Q6J("ngIf",!e.otherMonth||s.showOtherMonths)}}function tW(t,i){if(1&t&&(o.TgZ(0,"tr"),o.YNc(1,qZ,3,1,"td",44),o.YNc(2,eW,2,5,"td",45),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.xp6(1),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",e)}}function nW(t,i){if(1&t&&(o.TgZ(0,"div",37),o.TgZ(1,"table",38),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.YNc(4,ZZ,3,1,"th",39),o.YNc(5,WZ,3,1,"th",40),o.qZA(),o.qZA(),o.TgZ(6,"tbody"),o.YNc(7,tW,3,2,"tr",41),o.qZA(),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(4),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",s.weekDays),o.xp6(2),o.Q6J("ngForOf",e.dates)}}function iW(t,i){if(1&t&&(o.TgZ(0,"div",17),o.TgZ(1,"div",18),o.YNc(2,zZ,2,0,"button",19),o.TgZ(3,"div",20),o.YNc(4,YZ,2,1,"span",21),o.YNc(5,VZ,2,1,"select",22),o.YNc(6,UZ,2,1,"select",23),o.YNc(7,jZ,2,1,"span",24),o.qZA(),o.YNc(8,GZ,2,0,"button",25),o.qZA(),o.YNc(9,nW,8,3,"div",26),o.qZA()),2&t){const e=i.index,s=o.oxw(3);o.xp6(2),o.Q6J("ngIf",0===e),o.xp6(2),o.Q6J("ngIf",!s.monthNavigator&&"month"!==s.view),o.xp6(1),o.Q6J("ngIf",s.monthNavigator&&"month"!==s.view&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",s.yearNavigator&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",!s.yearNavigator),o.xp6(1),o.Q6J("ngIf",1===s.numberOfMonths||e===s.numberOfMonths-1),o.xp6(1),o.Q6J("ngIf","date"===s.view)}}function rW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",53),o.NdJ("click",function(a){const y=o.CHM(e).index;return o.oxw(4).onMonthSelect(a,y)})("keydown",function(a){const y=o.CHM(e).index;return o.oxw(4).onMonthCellKeydown(a,y)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw(4);o.Q6J("ngClass",o.WLB(2,D3,a.isMonthSelected(s),!a.isSelectable(1,s,a.currentYear,!1))),o.xp6(1),o.hij(" ",e," ")}}function sW(t,i){if(1&t&&(o.TgZ(0,"div",51),o.YNc(1,rW,2,5,"span",52),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.monthPickerValues)}}function oW(t,i){if(1&t&&(o.ynx(0),o.TgZ(1,"div",14),o.YNc(2,iW,10,7,"div",15),o.qZA(),o.YNc(3,sW,2,1,"div",16),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.months),o.xp6(1),o.Q6J("ngIf","month"===e.view)}}function aW(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function lW(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function cW(t,i){if(1&t&&(o.TgZ(0,"div",59),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Oqu(e.timeSeparator)}}function uW(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function dW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",64),o.TgZ(1,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).incrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o.YNc(4,uW,2,0,"ng-container",11),o._uU(5),o.qZA(),o.TgZ(6,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).decrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(7,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",e.currentSecond<10),o.xp6(1),o.Oqu(e.currentSecond)}}function hW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",65),o.TgZ(1,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(6,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Oqu(e.pm?"PM":"AM")}}function pW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",54),o.TgZ(1,"div",55),o.TgZ(2,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(3,"span",57),o.qZA(),o.TgZ(4,"span"),o.YNc(5,aW,2,0,"ng-container",11),o._uU(6),o.qZA(),o.TgZ(7,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(8,"span",58),o.qZA(),o.qZA(),o.TgZ(9,"div",59),o.TgZ(10,"span"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"div",60),o.TgZ(13,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(14,"span",57),o.qZA(),o.TgZ(15,"span"),o.YNc(16,lW,2,0,"ng-container",11),o._uU(17),o.qZA(),o.TgZ(18,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(19,"span",58),o.qZA(),o.qZA(),o.YNc(20,cW,3,1,"div",61),o.YNc(21,dW,8,2,"div",62),o.YNc(22,hW,7,1,"div",63),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(5),o.Q6J("ngIf",e.currentHour<10),o.xp6(1),o.Oqu(e.currentHour),o.xp6(5),o.Oqu(e.timeSeparator),o.xp6(5),o.Q6J("ngIf",e.currentMinute<10),o.xp6(1),o.Oqu(e.currentMinute),o.xp6(3),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf","12"==e.hourFormat)}}const A3=function(t){return[t]};function fW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",67),o.TgZ(1,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onTodayButtonClick(a)}),o.qZA(),o.TgZ(2,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onClearButtonClick(a)}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("label",e.getTranslation("today"))("ngClass",o.VKq(4,A3,e.todayButtonStyleClass)),o.xp6(1),o.Q6J("label",e.getTranslation("clear"))("ngClass",o.VKq(6,A3,e.clearButtonStyleClass))}}function mW(t,i){1&t&&o.GkF(0)}const gW=function(t,i,e,s,a,l){return{"p-datepicker p-component":!0,"p-datepicker-inline":t,"p-disabled":i,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":s,"p-datepicker-monthpicker":a,"p-datepicker-touch-ui":l}},I3=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},_W=function(t){return{value:"visibleTouchUI",params:t}},yW=function(t){return{value:"visible",params:t}};function vW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",8,9),o.NdJ("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onOverlayAnimationDone(a)})("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)}),o.Hsn(2),o.YNc(3,NZ,1,0,"ng-container",10),o.YNc(4,oW,4,2,"ng-container",11),o.YNc(5,pW,23,8,"div",12),o.YNc(6,fW,3,8,"div",13),o.Hsn(7,1),o.YNc(8,mW,1,0,"ng-container",10),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngStyle",e.panelStyle)("ngClass",o.HTZ(11,gW,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?o.VKq(21,_W,o.WLB(18,I3,e.showTransitionOptions,e.hideTransitionOptions)):o.VKq(26,yW,o.WLB(23,I3,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showTime||e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showButtonBar),o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const bW=[[["p-header"]],[["p-footer"]]],xW=function(t,i,e,s){return{"p-calendar":!0,"p-calendar-w-btn":t,"p-calendar-timeonly":i,"p-calendar-disabled":e,"p-focus":s}},wW=["p-header","p-footer"],CW={provide:Jc,useExisting:(0,o.Gpc)(()=>MW),multi:!0};let MW=(()=>{class t{constructor(e,s,a,l,y,k){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.config=y,this.overlayService=k,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClose=new o.vpe,this.onSelect=new o.vpe,this.onInput=new o.vpe,this.onTodayClick=new o.vpe,this.onClearClick=new o.vpe,this.onMonthChange=new o.vpe,this.onYearChange=new o.vpe,this.onClickOutside=new o.vpe,this.onShow=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(V,K){return"12"==this.hourFormat?12===V?K?12:0:K?V+12:V:V}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const s=e||new Date;this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear(),this.initTime(s),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const s=e.split(":"),a=parseInt(s[0]),l=parseInt(s[1]);this.populateYearOptions(a,l)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const e=this.defaultDate||new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template}})}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,s){this.yearOptions=[];for(let a=e;a<=s;a++)this.yearOptions.push(a)}createWeekDays(){this.weekDays=[];let e=this.firstDayOfWeek,s=this.getTranslation(sd.DAY_NAMES_MIN);for(let a=0;a<7;a++)this.weekDays.push(s[e]),e=6==e?0:++e}createMonthPickerValues(){this.monthPickerValues=[];let e=this.getTranslation(sd.MONTH_NAMES_SHORT);for(let s=0;s<=11;s++)this.monthPickerValues.push(e[s])}createMonths(e,s){this.months=this.months=[];for(let a=0;a<this.numberOfMonths;a++){let l=e+a,y=s;l>11&&(l=l%11-1,y=s+1),this.months.push(this.createMonth(l,y))}}getWeekNumber(e){let s=new Date(e.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));let a=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((a-s.getTime())/864e5)/7)+1}createMonth(e,s){let a=[],l=this.getFirstDayOfMonthIndex(e,s),y=this.getDaysCountInMonth(e,s),k=this.getDaysCountInPrevMonth(e,s),V=1,K=new Date,pe=[],Se=Math.ceil((y+l)/7);for(let Ue=0;Ue<Se;Ue++){let Je=[];if(0==Ue){for(let Tt=k-l+1;Tt<=k;Tt++){let Qt=this.getPreviousMonthAndYear(e,s);Je.push({day:Tt,month:Qt.month,year:Qt.year,otherMonth:!0,today:this.isToday(K,Tt,Qt.month,Qt.year),selectable:this.isSelectable(Tt,Qt.month,Qt.year,!0)})}let rt=7-Je.length;for(let Tt=0;Tt<rt;Tt++)Je.push({day:V,month:e,year:s,today:this.isToday(K,V,e,s),selectable:this.isSelectable(V,e,s,!1)}),V++}else for(let rt=0;rt<7;rt++){if(V>y){let Tt=this.getNextMonthAndYear(e,s);Je.push({day:V-y,month:Tt.month,year:Tt.year,otherMonth:!0,today:this.isToday(K,V-y,Tt.month,Tt.year),selectable:this.isSelectable(V-y,Tt.month,Tt.year,!0)})}else Je.push({day:V,month:e,year:s,today:this.isToday(K,V,e,s),selectable:this.isSelectable(V,e,s,!1)});V++}this.showWeek&&pe.push(this.getWeekNumber(new Date(Je[0].year,Je[0].month,Je[0].day))),a.push(Je)}return{month:e,year:s,dates:a,weekNumbers:pe}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}onDateSelect(e,s){!this.disabled&&s.selectable?(this.isMultipleSelection()&&this.isSelected(s)?(this.value=this.value.filter((a,l)=>!this.isDateEquals(a,s)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(s)&&this.selectDate(s),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,s){an.hasClass(e.target,"p-disabled")||this.onDateSelect(e,{year:this.currentYear,month:s,day:1,selectable:!0})}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let s=0;s<this.value.length;s++)e+=this.formatDateTime(this.value[s]),s!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let a=this.value[1];e=this.formatDateTime(this.value[0]),a&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(a))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let s=null;return e&&(this.timeOnly?s=this.formatTime(e):(s=this.formatDate(e,this.getDateFormat()),this.showTime&&(s+=" "+this.formatTime(e)))),s}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}selectDate(e){let s=new Date(e.year,e.month,e.day);if(this.showTime&&(s.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond)),this.minDate&&this.minDate>s&&(s=this.minDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.maxDate&&this.maxDate<s&&(s=this.maxDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.isSingleSelection())this.updateModel(s);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,s]:[s]);else if(this.isRangeSelection())if(this.value&&this.value.length){let a=this.value[0],l=this.value[1];!l&&s.getTime()>=a.getTime()?l=s:(a=s,l=null),this.updateModel([a,l])}else this.updateModel([s,null]);this.onSelect.emit(s)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let s=null;this.value&&(s=this.value.map(a=>this.formatDateTime(a))),this.onModelChange(s)}}getFirstDayOfMonthIndex(e,s){let a=new Date;a.setDate(1),a.setMonth(e),a.setFullYear(s);let l=a.getDay()+this.getSundayIndex();return l>=7?l-7:l}getDaysCountInMonth(e,s){return 32-this.daylightSavingAdjust(new Date(s,e,32)).getDate()}getDaysCountInPrevMonth(e,s){let a=this.getPreviousMonthAndYear(e,s);return this.getDaysCountInMonth(a.month,a.year)}getPreviousMonthAndYear(e,s){let a,l;return 0===e?(a=11,l=s-1):(a=e-1,l=s),{month:a,year:l}}getNextMonthAndYear(e,s){let a,l;return 11===e?(a=0,l=s+1):(a=e+1,l=s),{month:a,year:l}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let s=!1;for(let a of this.value)if(s=this.isDateEquals(a,e),s)break;return s}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isMonthSelected(e){let s=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:e,day:s,selectable:!0})}isDateEquals(e,s){return!!e&&e.getDate()===s.day&&e.getMonth()===s.month&&e.getFullYear()===s.year}isDateBetween(e,s,a){if(e&&s){let y=new Date(a.year,a.month,a.day);return e.getTime()<=y.getTime()&&s.getTime()>=y.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,s,a,l){return e.getDate()===s&&e.getMonth()===a&&e.getFullYear()===l}isSelectable(e,s,a,l){let y=!0,k=!0,V=!0,K=!0;return!(l&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>a||this.minDate.getFullYear()===a&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>e))&&(y=!1),this.maxDate&&(this.maxDate.getFullYear()<a||this.maxDate.getFullYear()===a&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<e))&&(k=!1),this.disabledDates&&(V=!this.isDateDisabled(e,s,a)),this.disabledDays&&(K=!this.isDayDisabled(e,s,a)),y&&k&&V&&K)}isDateDisabled(e,s,a){if(this.disabledDates)for(let l of this.disabledDates)if(l.getFullYear()===a&&l.getMonth()===s&&l.getDate()===e)return!0;return!1}isDayDisabled(e,s,a){if(this.disabledDays){let y=new Date(a,s,e).getDay();return-1!==this.disabledDays.indexOf(y)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,s){this.overlayVisible?this.hideOverlay():(s.focus(),this.showOverlay())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(an.getFocusableElements(this.contentViewChild.nativeElement).forEach(s=>s.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,s,a){const l=e.currentTarget,y=l.parentElement;switch(e.which){case 40:{l.tabIndex="-1";let k=an.index(y),V=y.parentElement.nextElementSibling;V?an.hasClass(V.children[k].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(V.children[k].children[0].tabIndex="0",V.children[k].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{l.tabIndex="-1";let k=an.index(y),V=y.parentElement.previousElementSibling;if(V){let K=V.children[k].children[0];an.hasClass(K,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(K.tabIndex="0",K.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{l.tabIndex="-1";let k=y.previousElementSibling;if(k){let V=k.children[0];an.hasClass(V,"p-disabled")||an.hasClass(V.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,a):(V.tabIndex="0",V.focus())}else this.navigateToMonth(!0,a);e.preventDefault();break}case 39:{l.tabIndex="-1";let k=y.nextElementSibling;if(k){let V=k.children[0];an.hasClass(V,"p-disabled")?this.navigateToMonth(!1,a):(V.tabIndex="0",V.focus())}else this.navigateToMonth(!1,a);e.preventDefault();break}case 13:this.onDateSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,s){const a=e.currentTarget;switch(e.which){case 38:case 40:{a.tabIndex="-1";var l=a.parentElement.children,y=an.index(a);let k=l[40===e.which?y+3:y-3];k&&(k.tabIndex="0",k.focus()),e.preventDefault();break}case 37:{a.tabIndex="-1";let k=a.previousElementSibling;k&&(k.tabIndex="0",k.focus()),e.preventDefault();break}case 39:{a.tabIndex="-1";let k=a.nextElementSibling;k&&(k.tabIndex="0",k.focus()),e.preventDefault();break}case 13:this.onMonthSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}navigateToMonth(e,s){if(e)if(1===this.numberOfMonths||0===s)this.navigationState={backward:!0},this.navBackward(event);else{let l=an.find(this.contentViewChild.nativeElement.children[s-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),y=l[l.length-1];y.tabIndex="0",y.focus()}else if(1===this.numberOfMonths||s===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let l=an.findSingle(this.contentViewChild.nativeElement.children[s+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l.tabIndex="0",l.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?an.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():an.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let s=an.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e=s[s.length-1]}else e=an.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.view){let s=an.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),a=an.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");s.forEach(l=>l.tabIndex=-1),e=a||s[0],0===s.length&&an.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(y=>y.tabIndex=-1)}else if(e=an.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){e=an.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||an.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0")}trapFocus(e){let s=an.getFocusableElements(this.contentViewChild.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==a||0===a)if(this.focusTrap)s[s.length-1].focus();else{if(-1===a)return this.hideOverlay();if(0===a)return}else s[a-1].focus();else if(-1==a||a===s.length-1){if(!this.focusTrap&&-1!=a)return this.hideOverlay();s[0].focus()}else s[a+1].focus()}else s[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,s,a,l){let y=this.value;const k=this.convertTo24Hour(e,l);this.isRangeSelection()&&(y=this.value[1]||this.value[0]),this.isMultipleSelection()&&(y=this.value[this.value.length-1]);const V=y?y.toDateString():null;return!(this.minDate&&V&&this.minDate.toDateString()===V&&(this.minDate.getHours()>k||this.minDate.getHours()===k&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>a))||this.maxDate&&V&&this.maxDate.toDateString()===V&&(this.maxDate.getHours()<k||this.maxDate.getHours()===k&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<a)))}incrementHour(e){let a=this.currentHour+this.stepHour,l=this.pm;"24"==this.hourFormat?a=a>=24?a-24:a:"12"==this.hourFormat&&(this.currentHour<12&&a>11&&(l=!this.pm),a=a>=13?a-12:a),this.validateTime(a,this.currentMinute,this.currentSecond,l)&&(this.currentHour=a,this.pm=l),e.preventDefault()}onTimePickerElementMouseDown(e,s,a){this.disabled||(this.repeat(e,null,s,a),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,s,a,l){let y=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,a,l),this.cd.markForCheck()},y),a){case 0:1===l?this.incrementHour(e):this.decrementHour(e);break;case 1:1===l?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===l?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let s=this.currentHour-this.stepHour,a=this.pm;"24"==this.hourFormat?s=s<0?24+s:s:"12"==this.hourFormat&&(12===this.currentHour&&(a=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,a)&&(this.currentHour=s,this.pm=a),e.preventDefault()}incrementMinute(e){let s=this.currentMinute+this.stepMinute;s=s>59?s-60:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}decrementMinute(e){let s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}incrementSecond(e){let s=this.currentSecond+this.stepSecond;s=s>59?s-60:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}decrementSecond(e){let s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const s=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,s)&&(this.pm=s,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let s=e.target.value;try{let a=this.parseValueFromString(s);this.isValidSelection(a)&&(this.updateModel(a),this.updateUI())}catch(a){this.updateModel(null)}this.filled=null!=s&&s.length,this.onInput.emit(e)}isValidSelection(e){let s=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(s=!1):e.every(a=>this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1))&&this.isRangeSelection()&&(s=e.length>1&&e[1]>e[0]),s}parseValueFromString(e){if(!e||0===e.trim().length)return null;let s;if(this.isSingleSelection())s=this.parseDateTime(e);else if(this.isMultipleSelection()){let a=e.split(this.multipleSeparator);s=[];for(let l of a)s.push(this.parseDateTime(l.trim()))}else if(this.isRangeSelection()){let a=e.split(" "+this.rangeSeparator+" ");s=[];for(let l=0;l<a.length;l++)s[l]=this.parseDateTime(a[l].trim())}return s}parseDateTime(e){let s,a=e.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,a[0],a[1]);else{const l=this.getDateFormat();if(this.showTime){let y="12"==this.hourFormat?a.pop():null,k=a.pop();s=this.parseDate(a.join(" "),l),this.populateTime(s,k,y)}else s=this.parseDate(e,l)}return s}populateTime(e,s,a){if("12"==this.hourFormat&&!a)throw"Invalid Time";this.pm="PM"===a||"pm"===a;let l=this.parseTime(s);e.setHours(l.hour),e.setMinutes(l.minute),e.setSeconds(l.second)}updateUI(){let e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?Du.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Du.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Du.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):an.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?an.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):an.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),an.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker"),this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.disableModality()}),document.body.appendChild(this.mask),an.addClass(document.body,"p-overflow-hidden"))}disableModality(){if(this.mask){document.body.removeChild(this.mask);let s,e=document.body.children;for(let a=0;a<e.length;a++)if(an.hasClass(e[a],"p-datepicker-mask-scrollblocker")){s=!0;break}s||an.removeClass(document.body,"p-overflow-hidden"),this.unbindMaskClickListener(),this.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}writeValue(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}formatDate(e,s){if(!e)return"";let a;const l=pe=>{const Se=a+1<s.length&&s.charAt(a+1)===pe;return Se&&a++,Se},y=(pe,Se,Ue)=>{let Je=""+Se;if(l(pe))for(;Je.length<Ue;)Je="0"+Je;return Je},k=(pe,Se,Ue,Je)=>l(pe)?Je[Se]:Ue[Se];let V="",K=!1;if(e)for(a=0;a<s.length;a++)if(K)"'"!==s.charAt(a)||l("'")?V+=s.charAt(a):K=!1;else switch(s.charAt(a)){case"d":V+=y("d",e.getDate(),2);break;case"D":V+=k("D",e.getDay(),this.getTranslation(sd.DAY_NAMES_SHORT),this.getTranslation(sd.DAY_NAMES));break;case"o":V+=y("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":V+=y("m",e.getMonth()+1,2);break;case"M":V+=k("M",e.getMonth(),this.getTranslation(sd.MONTH_NAMES_SHORT),this.getTranslation(sd.MONTH_NAMES));break;case"y":V+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":V+=e.getTime();break;case"!":V+=1e4*e.getTime()+this.ticksTo1970;break;case"'":l("'")?V+="'":K=!0;break;default:V+=s.charAt(a)}return V}formatTime(e){if(!e)return"";let s="",a=e.getHours(),l=e.getMinutes(),y=e.getSeconds();return"12"==this.hourFormat&&a>11&&12!=a&&(a-=12),s+="12"==this.hourFormat&&0===a?12:a<10?"0"+a:a,s+=":",s+=l<10?"0"+l:l,this.showSeconds&&(s+=":",s+=y<10?"0"+y:y),"12"==this.hourFormat&&(s+=e.getHours()>11?" PM":" AM"),s}parseTime(e){let s=e.split(":");if(s.length!==(this.showSeconds?3:2))throw"Invalid time";let l=parseInt(s[0]),y=parseInt(s[1]),k=this.showSeconds?parseInt(s[2]):null;if(isNaN(l)||isNaN(y)||l>23||y>59||"12"==this.hourFormat&&l>12||this.showSeconds&&(isNaN(k)||k>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==l&&this.pm?l+=12:!this.pm&&12===l&&(l-=12)),{hour:l,minute:y,second:k}}parseDate(e,s){if(null==s||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let a,l,y,rt,k=0,V="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),K=-1,pe=-1,Se=-1,Ue=-1,Je=!1,Tt=Zn=>{let Di=a+1<s.length&&s.charAt(a+1)===Zn;return Di&&a++,Di},Qt=Zn=>{let Di=Tt(Zn),Bi="@"===Zn?14:"!"===Zn?20:"y"===Zn&&Di?4:"o"===Zn?3:2,co=new RegExp("^\\d{"+("y"===Zn?Bi:1)+","+Bi+"}"),zc=e.substring(k).match(co);if(!zc)throw"Missing number at position "+k;return k+=zc[0].length,parseInt(zc[0],10)},Cn=(Zn,Di,Bi)=>{let ls=-1,co=Tt(Zn)?Bi:Di,zc=[];for(let wl=0;wl<co.length;wl++)zc.push([wl,co[wl]]);zc.sort((wl,mh)=>-(wl[1].length-mh[1].length));for(let wl=0;wl<zc.length;wl++){let mh=zc[wl][1];if(e.substr(k,mh.length).toLowerCase()===mh.toLowerCase()){ls=zc[wl][0],k+=mh.length;break}}if(-1!==ls)return ls+1;throw"Unknown name at position "+k},Jn=()=>{if(e.charAt(k)!==s.charAt(a))throw"Unexpected literal at position "+k;k++};for("month"===this.view&&(Se=1),a=0;a<s.length;a++)if(Je)"'"!==s.charAt(a)||Tt("'")?Jn():Je=!1;else switch(s.charAt(a)){case"d":Se=Qt("d");break;case"D":Cn("D",this.getTranslation(sd.DAY_NAMES_SHORT),this.getTranslation(sd.DAY_NAMES));break;case"o":Ue=Qt("o");break;case"m":pe=Qt("m");break;case"M":pe=Cn("M",this.getTranslation(sd.MONTH_NAMES_SHORT),this.getTranslation(sd.MONTH_NAMES));break;case"y":K=Qt("y");break;case"@":rt=new Date(Qt("@")),K=rt.getFullYear(),pe=rt.getMonth()+1,Se=rt.getDate();break;case"!":rt=new Date((Qt("!")-this.ticksTo1970)/1e4),K=rt.getFullYear(),pe=rt.getMonth()+1,Se=rt.getDate();break;case"'":Tt("'")?Jn():Je=!0;break;default:Jn()}if(k<e.length&&(y=e.substr(k),!/^\s+/.test(y)))throw"Extra/unparsed characters found in date: "+y;if(-1===K?K=(new Date).getFullYear():K<100&&(K+=(new Date).getFullYear()-(new Date).getFullYear()%100+(K<=V?0:-100)),Ue>-1)for(pe=1,Se=Ue;l=this.getDaysCountInMonth(K,pe-1),!(Se<=l);)pe++,Se-=l;if(rt=this.daylightSavingAdjust(new Date(K,pe-1,Se)),rt.getFullYear()!==K||rt.getMonth()+1!==pe||rt.getDate()!==Se)throw"Invalid date";return rt}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let s=new Date,a={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,a),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(s),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new RT(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return an.hasClass(e.target,"p-datepicker-prev")||an.hasClass(e.target,"p-datepicker-prev-icon")||an.hasClass(e.target,"p-datepicker-next")||an.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!an.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindMaskClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.disableModality()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Du.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(km),o.Y36(OT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-calendar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(LZ,5),o.Gf(PZ,5),o.Gf(OZ,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.inputfieldViewChild=a.first),o.iGM(a=o.CRH())&&(s.content=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[o._Bn([CW])],ngContentSelectors:wW,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,s){1&e&&(o.F$t(bW),o.TgZ(0,"span",0,1),o.YNc(2,FZ,3,16,"ng-template",2),o.YNc(3,vW,9,28,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(6,xW,s.showIcon,s.timeOnly,s.disabled,s.focus))("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",!s.inline),o.xp6(1),o.Q6J("ngIf",s.inline||s.overlayVisible))},directives:[ue,Zi,dn,c0,Ly,Jr,ft],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[ka("overlayAnimation",[To("visibleTouchUI",si({transform:"translate(-50%,-50%)",opacity:1})),Br("void => visible",[si({opacity:0,transform:"scaleY(0.8)"}),as("{{showTransitionParams}}",si({opacity:1,transform:"*"}))]),Br("visible => void",[as("{{hideTransitionParams}}",si({opacity:0}))]),Br("void => visibleTouchUI",[si({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),as("{{showTransitionParams}}")]),Br("visibleTouchUI => void",[as("{{hideTransitionParams}}",si({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),t})(),TW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Pv,Kc,Em],Pv,Kc]}),t})();const SW=["input"],L3=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},P3=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function kW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",5),o.TgZ(1,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA(),o.TgZ(2,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(1),o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(10,L3))("icon",e.incrementButtonIcon)("disabled",e.disabled),o.xp6(1),o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(11,P3))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function EW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(5,L3))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function DW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(5,P3))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const AW=function(t,i,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":i,"p-inputnumber-buttons-vertical":e}},IW={provide:Jc,useExisting:(0,o.Gpc)(()=>O3),multi:!0};let O3=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.step=1,this.onInput=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onKeyDown=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar="",this._modeOption="decimal",this._useGroupingOption=!0}get locale(){return this._localeOption}set locale(e){this._localeOption=e,this.updateConstructParser()}get localeMatcher(){return this._localeMatcherOption}set localeMatcher(e){this._localeMatcherOption=e,this.updateConstructParser()}get mode(){return this._modeOption}set mode(e){this._modeOption=e,this.updateConstructParser()}get currency(){return this._currencyOption}set currency(e){this._currencyOption=e,this.updateConstructParser()}get currencyDisplay(){return this._currencyDisplayOption}set currencyDisplay(e){this._currencyDisplayOption=e,this.updateConstructParser()}get useGrouping(){return this._useGroupingOption}set useGrouping(e){this._useGroupingOption=e,this.updateConstructParser()}get minFractionDigits(){return this._minFractionDigitsOption}set minFractionDigits(e){this._minFractionDigitsOption=e,this.updateConstructParser()}get maxFractionDigits(){return this._maxFractionDigitsOption}set maxFractionDigits(e){this._maxFractionDigitsOption=e,this.updateConstructParser()}get prefix(){return this._prefixOption}set prefix(e){this._prefixOption=e,this.updateConstructParser()}get suffix(){return this._suffixOption}set suffix(e){this._suffixOption=e,this.updateConstructParser()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),s=new Map(e.map((a,l)=>[a,l]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._decimal=this.getDecimalExpression(),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=a=>s.get(a)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(1.1).trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._decimal,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let a=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(a=this.prefix+a),this.suffix&&(a+=this.suffix),a}return e.toString()}return""}parseValue(e){let s=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if("-"===s)return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,s,a){let l=s||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,a)},l),this.spin(e,a)}spin(e,s){let a=this.step*s,l=this.parseValue(this.input.nativeElement.value)||0,y=this.validateValue(l+a);this.maxlength&&this.maxlength<this.formatValue(y).length||(this.updateInput(y,null,"spin"),this.updateModel(e,y),this.handleOnInput(e,l,y))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(e){if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let s=e.target.selectionStart,a=e.target.selectionEnd,l=e.target.value,y=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(l.charAt(s-1))||e.preventDefault();break;case 39:this.isNumeralChar(l.charAt(s))||e.preventDefault();break;case 13:let k=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(k),this.input.nativeElement.setAttribute("aria-valuenow",k),this.updateModel(e,k);break;case 8:if(e.preventDefault(),s===a){let V=l.charAt(s-1),K=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(V)&&(this._group.test(V)?(this._group.lastIndex=0,y=l.slice(0,s-2)+l.slice(s-1)):this._decimal.test(V)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s-1,s-1)):K>0&&s>K?y=l.slice(0,s-1)+"0"+l.slice(s):K>0&&1===K?(y=l.slice(0,s-1)+"0"+l.slice(s),y=this.parseValue(y)>0?y:""):y=l.slice(0,s-1)+l.slice(s)),this.updateValue(e,y,null,"delete-single")}else y=this.deleteRange(l,s,a),this.updateValue(e,y,null,"delete-range");break;case 46:if(e.preventDefault(),s===a){let V=l.charAt(s),K=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(V)&&(this._group.test(V)?(this._group.lastIndex=0,y=l.slice(0,s)+l.slice(s+2)):this._decimal.test(V)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s+1,s+1)):K>0&&s>K?y=l.slice(0,s)+"0"+l.slice(s+1):K>0&&1===K?(y=l.slice(0,s)+"0"+l.slice(s+1),y=this.parseValue(y)>0?y:""):y=l.slice(0,s)+l.slice(s+1)),this.updateValue(e,y,null,"delete-back-single")}else y=this.deleteRange(l,s,a),this.updateValue(e,y,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){e.preventDefault();let s=e.which||e.keyCode,a=String.fromCharCode(s);const l=this.isDecimalSign(a),y=this.isMinusSign(a);(48<=s&&s<=57||y||l)&&this.insert(e,a,{isDecimalSign:l,isMinusSign:y})}onPaste(e){if(!this.disabled){e.preventDefault();let s=(e.clipboardData||window.clipboardData).getData("Text");if(s){let a=this.parseValue(s);null!=a&&this.insert(e,a.toString())}}}isMinusSign(e){return!!this._minusSign.test(e)&&(this._minusSign.lastIndex=0,!0)}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}insert(e,s,a={isDecimalSign:!1,isMinusSign:!1}){let l=this.input.nativeElement.selectionStart,y=this.input.nativeElement.selectionEnd,k=this.input.nativeElement.value.trim();const V=k.search(this._decimal);this._decimal.lastIndex=0;const K=k.search(this._minusSign);let pe;if(this._minusSign.lastIndex=0,a.isMinusSign)0===l&&(pe=k,(-1===K||0!==y)&&(pe=this.insertText(k,s,0,y)),this.updateValue(e,pe,s,"insert"));else if(a.isDecimalSign)V>0&&l===V?this.updateValue(e,k,s,"insert"):V>l&&V<y&&(pe=this.insertText(k,s,l,y),this.updateValue(e,pe,s,"insert"));else{const Se=this.numberFormat.resolvedOptions().maximumFractionDigits,Ue=l!==y?"range-insert":"insert";V>0&&l>V?l+s.length-(V+1)<=Se&&(pe=k.slice(0,l)+s+k.slice(l+s.length),this.updateValue(e,pe,s,Ue)):(pe=this.insertText(k,s,l,y),this.updateValue(e,pe,s,Ue))}}insertText(e,s,a,l){if(2==s.split(".").length){const k=e.slice(a,l).search(this._decimal);return this._decimal.lastIndex=0,k>0?e.slice(0,a)+this.formatValue(s)+e.slice(l):e||this.formatValue(s)}return l-a===e.length?this.formatValue(s):0===a?s+e.slice(l):l===e.length?e.slice(0,a)+s:e.slice(0,a)+s+e.slice(l)}deleteRange(e,s,a){let l;return l=a-s===e.length?"":0===s?e.slice(a):a===e.length?e.slice(0,s):e.slice(0,s)+e.slice(a),l}initCursor(){let e=this.input.nativeElement.selectionStart,s=this.input.nativeElement.value,a=s.length,l=null,y=s.charAt(e);if(this.isNumeralChar(y))return;let k=e-1;for(;k>=0;){if(y=s.charAt(k),this.isNumeralChar(y)){l=k;break}k--}if(null!==l)this.input.nativeElement.setSelectionRange(l+1,l+1);else{for(k=e+1;k<a;){if(y=s.charAt(k),this.isNumeralChar(y)){l=k;break}k++}null!==l&&this.input.nativeElement.setSelectionRange(l,l)}}onInputClick(){this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,s,a,l){let y=this.input.nativeElement.value,k=null;null!=s&&(k=this.parseValue(s),this.updateInput(k,a,l)),this.handleOnInput(e,y,k)}handleOnInput(e,s,a){this.isValueChanged(s,a)&&this.onInput.emit({originalEvent:e,value:a})}isValueChanged(e,s){return null===s&&null!==e||null!=s&&s!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return null!==this.min&&e<this.min?this.min:null!==this.max&&e>this.max?this.max:"-"===e?null:e}updateInput(e,s,a){s=s||"";let l=this.input.nativeElement.value,y=this.formatValue(e),k=l.length;if(0===k){this.input.nativeElement.value=y,this.input.nativeElement.setSelectionRange(0,0),this.initCursor();const K=(this.prefixChar||"").length+s.length;this.input.nativeElement.setSelectionRange(K,K)}else{let V=this.input.nativeElement.selectionStart,K=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<y.length)return;this.input.nativeElement.value=y;let pe=y.length;if("range-insert"===a){const Se=this.parseValue((l||"").slice(0,V)),Je=(null!==Se?Se.toString():"").split("").join(`(${this.groupChar})?`),rt=new RegExp(Je,"g");rt.test(y);const Tt=s.split("").join(`(${this.groupChar})?`),Qt=new RegExp(Tt,"g");Qt.test(y.slice(rt.lastIndex)),K=rt.lastIndex+Qt.lastIndex,this.input.nativeElement.setSelectionRange(K,K)}else if(pe===k)"insert"===a||"delete-back-single"===a?this.input.nativeElement.setSelectionRange(K+1,K+1):"delete-single"===a?this.input.nativeElement.setSelectionRange(K-1,K-1):("delete-range"===a||"spin"===a)&&this.input.nativeElement.setSelectionRange(K,K);else if("delete-back-single"===a){let Se=l.charAt(K-1),Ue=l.charAt(K),Je=k-pe,rt=this._group.test(Ue);rt&&1===Je?K+=1:!rt&&this.isNumeralChar(Se)&&(K+=-1*Je+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(K,K)}else K+=pe-k,this.input.nativeElement.setSelectionRange(K,K)}this.input.nativeElement.setAttribute("aria-valuenow",e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let s=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value)}updateModel(e,s){this.value!==s&&(this.value=s,this.onModelChange(s)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-inputNumber"]],viewQuery:function(e,s){if(1&e&&o.Gf(SW,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",step:"step",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[o._Bn([IW])],decls:6,vars:30,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","disabled","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,s){1&e&&(o.TgZ(0,"span",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onUserInput(l)})("keydown",function(l){return s.onInputKeyDown(l)})("keypress",function(l){return s.onInputKeyPress(l)})("paste",function(l){return s.onPaste(l)})("click",function(){return s.onInputClick()})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.YNc(3,kW,3,12,"span",3),o.YNc(4,EW,1,6,"button",4),o.YNc(5,DW,1,6,"button",4),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(26,AW,s.showButtons&&"stacked"===s.buttonLayout,s.showButtons&&"horizontal"===s.buttonLayout,s.showButtons&&"vertical"===s.buttonLayout))("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass","p-inputnumber-input")("ngStyle",s.inputStyle)("value",s.formattedValue())("disabled",s.disabled),o.uIk("placeholder",s.placeholder)("title",s.title)("id",s.inputId)("size",s.size)("name",s.name)("autocomplete",s.autocomplete)("maxlength",s.maxlength)("tabindex",s.tabindex)("aria-label",s.ariaLabel)("aria-required",s.ariaRequired)("required",s.required)("aria-valuemin",s.min)("aria-valuemax",s.max),o.xp6(2),o.Q6J("ngIf",s.showButtons&&"stacked"===s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout))},directives:[ue,Zi,d0,dn,c0],styles:[".p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),t})(),R3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,zT,Pv]]}),t})();const LW=["container"],PW=["resizeHelper"],OW=["reorderIndicatorUp"],RW=["reorderIndicatorDown"],FW=["wrapper"],NW=["table"],zW=["tableHeader"];function YW(t,i){if(1&t&&(o.TgZ(0,"div",14),o._UZ(1,"i"),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function BW(t,i){1&t&&o.GkF(0)}function VW(t,i){if(1&t&&(o.TgZ(0,"div",15),o.YNc(1,BW,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.captionTemplate)}}function HW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",17),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function UW(t,i){1&t&&o.GkF(0)}function jW(t,i){1&t&&o.GkF(0)}function GW(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function ZW(t,i){1&t&&o.GkF(0)}const h0=function(t){return{$implicit:t}};function WW(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,ZW,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,h0,e.columns))}}function qW(t,i){if(1&t&&(o.TgZ(0,"table",18,19),o.YNc(2,UW,1,0,"ng-container",20),o.TgZ(3,"thead",21),o.YNc(4,jW,1,0,"ng-container",20),o.qZA(),o.YNc(5,GW,1,5,"tbody",22),o._UZ(6,"tbody",23),o.YNc(7,WW,2,4,"tfoot",24),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(11,h0,e.columns)),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(13,h0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function $W(t,i){1&t&&o.GkF(0)}function XW(t,i){1&t&&o.GkF(0)}function QW(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function JW(t,i){1&t&&o.GkF(0)}function KW(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,JW,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,h0,e.columns))}}function eq(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",27),o.NdJ("scrolledIndexChange",function(a){return o.CHM(e),o.oxw().onScrollIndexChange(a)}),o.TgZ(1,"table",18,19),o.YNc(3,$W,1,0,"ng-container",20),o.TgZ(4,"thead",21,28),o.YNc(6,XW,1,0,"ng-container",20),o.qZA(),o.YNc(7,QW,1,5,"tbody",22),o._UZ(8,"tbody",23),o.YNc(9,KW,2,4,"tfoot",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),o.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),o.xp6(1),o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(16,h0,e.columns)),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(18,h0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function tq(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",29),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function nq(t,i){1&t&&o.GkF(0)}function iq(t,i){if(1&t&&(o.TgZ(0,"div",30),o.YNc(1,nq,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function rq(t,i){1&t&&o._UZ(0,"div",31,32)}function sq(t,i){1&t&&o._UZ(0,"span",33,34)}function oq(t,i){1&t&&o._UZ(0,"span",35,36)}const aq=function(t,i,e,s,a,l,y,k,V,K,pe,Se,Ue,Je){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":t,"p-datatable-auto-layout":i,"p-datatable-resizable":e,"p-datatable-resizable-fit":s,"p-datatable-scrollable":a,"p-datatable-scrollable-vertical":l,"p-datatable-scrollable-horizontal":y,"p-datatable-scrollable-both":k,"p-datatable-flex-scrollable":V,"p-datatable-responsive-stack":K,"p-datatable-responsive-scroll":pe,"p-datatable-responsive":Se,"p-datatable-grouped-header":Ue,"p-datatable-grouped-footer":Je}},lq=function(t){return{height:t}},cq=["pTableBody",""];function uq(t,i){1&t&&o.GkF(0)}const lA=function(t,i,e,s,a){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a}};function dq(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,uq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.qbA(2,lA,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function hq(t,i){1&t&&o.GkF(0)}function pq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,hq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.qbA(2,lA,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function fq(t,i){1&t&&o.GkF(0)}const mq=function(t,i,e,s,a,l,y){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a,rowgroup:l,rowspan:y}};function gq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,fq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.Hh0(2,mq,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen,l.shouldRenderRowspan(l.value,s,a),l.calculateRowGroupSize(l.value,s,a)))}}function _q(t,i){1&t&&o.GkF(0)}function yq(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,_q,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.qbA(2,lA,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function vq(t,i){if(1&t&&(o.YNc(0,dq,2,8,"ng-container",2),o.YNc(1,pq,2,8,"ng-container",0),o.YNc(2,gq,2,10,"ng-container",0),o.YNc(3,yq,2,8,"ng-container",2)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf","rowspan"!==a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf","rowspan"===a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf",a.dt.groupFooterTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupFooter(a.value,e,s))}}function bq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,vq,4,4,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function xq(t,i){1&t&&o.GkF(0)}function wq(t,i){if(1&t&&o.YNc(0,xq,1,0,"ng-container",4),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",e?a.template:a.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.qbA(2,lA,e,a.dt.paginator?a.dt.first+s:s,a.columns,"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen))}}function Cq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,wq,1,8,"ng-template",5),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("cdkVirtualForOf",e.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function Mq(t,i){1&t&&o.GkF(0)}const cA=function(t,i,e,s,a,l){return{$implicit:t,rowIndex:i,columns:e,expanded:s,editing:a,frozen:l}};function Tq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Mq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.HTZ(2,cA,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Sq(t,i){1&t&&o.GkF(0)}function kq(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Sq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.HTZ(2,cA,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Eq(t,i){1&t&&o.GkF(0)}function Dq(t,i){1&t&&o.GkF(0)}function Aq(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Dq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(2),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.HTZ(2,cA,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}const F3=function(t,i,e,s){return{$implicit:t,rowIndex:i,columns:e,frozen:s}};function Iq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Eq,1,0,"ng-container",4),o.YNc(2,Aq,2,9,"ng-container",2),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.expandedRowTemplate)("ngTemplateOutletContext",o.l5B(3,F3,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen)),o.xp6(1),o.Q6J("ngIf",l.dt.groupFooterTemplate&&"subheader"===l.dt.rowGroupMode&&l.shouldRenderRowGroupFooter(l.value,s,a))}}function Lq(t,i){if(1&t&&(o.YNc(0,Tq,2,9,"ng-container",0),o.YNc(1,kq,2,9,"ng-container",2),o.YNc(2,Iq,3,8,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",!a.dt.groupHeaderTemplate),o.xp6(1),o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Pq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Lq,3,3,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Oq(t,i){1&t&&o.GkF(0)}function Rq(t,i){1&t&&o.GkF(0)}function Fq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Rq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",o.l5B(2,F3,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen))}}function Nq(t,i){if(1&t&&(o.YNc(0,Oq,1,0,"ng-container",4),o.YNc(1,Fq,2,7,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",o.HTZ(3,cA,e,a.dt.paginator?a.dt.first+s:s,a.columns,a.dt.isRowExpanded(e),"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function zq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Nq,2,10,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Yq(t,i){1&t&&o.GkF(0)}const N3=function(t,i){return{$implicit:t,frozen:i}};function Bq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Yq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.WLB(2,N3,e.columns,e.frozen))}}function Vq(t,i){1&t&&o.GkF(0)}function Hq(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Vq,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",o.WLB(2,N3,e.columns,e.frozen))}}function Uq(t,i){if(1&t&&(o.TgZ(0,"span",2),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.getMultiSortMetaIndex()+1)}}const jq=function(t,i,e){return{"pi-sort-amount-up-alt":t,"pi-sort-amount-down":i,"pi-sort-alt":e}};let F2=(()=>{class t{constructor(){this.sortSource=new ai.xQ,this.selectionSource=new ai.xQ,this.contextMenuSource=new ai.xQ,this.valueSource=new ai.xQ,this.totalRecordsSource=new ai.xQ,this.columnsSource=new ai.xQ,this.resetSource=new ai.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next()}onResetChange(){this.resetSource.next()}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),qx=(()=>{class t{constructor(e,s,a,l,y,k){this.el=e,this.zone=s,this.tableService=a,this.cd=l,this.filterService=y,this.overlayService=k,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new o.vpe,this.contextMenuSelectionChange=new o.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(V,K)=>K,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new o.vpe,this.onRowUnselect=new o.vpe,this.onPage=new o.vpe,this.onSort=new o.vpe,this.onFilter=new o.vpe,this.onLazyLoad=new o.vpe,this.onRowExpand=new o.vpe,this.onRowCollapse=new o.vpe,this.onContextMenuSelect=new o.vpe,this.onColResize=new o.vpe,this.onColReorder=new o.vpe,this.onRowReorder=new o.vpe,this.onEditInit=new o.vpe,this.onEditComplete=new o.vpe,this.onEditCancel=new o.vpe,this.onHeaderCheckboxToggle=new o.vpe,this.sortFunction=new o.vpe,this.firstChange=new o.vpe,this.rowsChange=new o.vpe,this.onStateSave=new o.vpe,this.onStateRestore=new o.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=ZD()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(br.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(br.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let s=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let a=s.metaKey||s.ctrlKey,l=this.getSortMeta(e.field);l?a?l.order=-1*l.order:(this._multiSortMeta=[{field:e.field,order:-1*l.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!a||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):(this.value.sort((s,a)=>{let l=br.resolveFieldData(s,this.sortField),y=br.resolveFieldData(a,this.sortField),k=null;return k=null==l&&null!=y?-1:null!=l&&null==y?1:null==l&&null==y?0:"string"==typeof l&&"string"==typeof y?l.localeCompare(y):l<y?-1:l>y?1:0,this.sortOrder*k}),this._value=[...this.value]),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,s)=>this.multisortField(e,s,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,s,a,l){let y=br.resolveFieldData(e,a[l].field),k=br.resolveFieldData(s,a[l].field),V=null;if(null==y&&null!=k)V=-1;else if(null!=y&&null==k)V=1;else if(null==y&&null==k)V=0;else if("string"==typeof y||y instanceof String){if(y.localeCompare&&y!=k)return a[l].order*y.localeCompare(k)}else V=y<k?-1:1;return y==k?a.length-1>l?this.multisortField(e,s,a,l+1):0:a[l].order*V}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let s=0;s<this.multiSortMeta.length;s++)if(this.multiSortMeta[s].field===e)return this.multiSortMeta[s];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let s=!1;if(this.multiSortMeta)for(let a=0;a<this.multiSortMeta.length;a++)if(this.multiSortMeta[a].field==e){s=!0;break}return s}}handleRowClick(e){let s=e.originalEvent.target,a=s.nodeName,l=s.parentElement&&s.parentElement.nodeName;if("INPUT"!=a&&"BUTTON"!=a&&"A"!=a&&"INPUT"!=l&&"BUTTON"!=l&&"A"!=l&&!an.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)an.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=e.rowIndex,this.selectRange(e.originalEvent,e.rowIndex);else{let y=e.rowData,k=this.isSelected(y),V=!this.rowTouched&&this.metaKeySelection,K=this.dataKey?String(br.resolveFieldData(y,this.dataKey)):null;if(this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,V){let pe=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(k&&pe){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let Se=this.findIndexInSelection(y);this._selection=this.selection.filter((Ue,Je)=>Je!=Se),this.selectionChange.emit(this.selection),K&&delete this.selectionKeys[K]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:y,type:"row"})}else this.isSingleSelectionMode()?(this._selection=y,this.selectionChange.emit(y),K&&(this.selectionKeys={},this.selectionKeys[K]=1)):this.isMultipleSelectionMode()&&(pe?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,y],this.selectionChange.emit(this.selection),K&&(this.selectionKeys[K]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:y,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)k?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:y,type:"row",index:e.rowIndex})):(this._selection=y,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:y,type:"row",index:e.rowIndex}),K&&(this.selectionKeys={},this.selectionKeys[K]=1));else if("multiple"===this.selectionMode)if(k){let pe=this.findIndexInSelection(y);this._selection=this.selection.filter((Se,Ue)=>Ue!=pe),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:y,type:"row",index:e.rowIndex}),K&&delete this.selectionKeys[K]}else this._selection=this.selection?[...this.selection,y]:[y],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:y,type:"row",index:e.rowIndex}),K&&(this.selectionKeys[K]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const s=e.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=s,this.contextMenuSelectionChange.emit(s),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:s,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(s);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let a=this.isSelected(s),l=this.dataKey?String(br.resolveFieldData(s,this.dataKey)):null;a||(this.isSingleSelectionMode()?(this.selection=s,this.selectionChange.emit(s),l&&(this.selectionKeys={},this.selectionKeys[l]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),l&&(this.selectionKeys[l]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:s,index:e.rowIndex})}}}selectRange(e,s){let a,l;this.anchorRowIndex>s?(a=s,l=this.anchorRowIndex):this.anchorRowIndex<s?(a=this.anchorRowIndex,l=s):(a=s,l=s),this.lazy&&this.paginator&&(a-=this.first,l-=this.first);let y=[];for(let k=a;k<=l;k++){let V=this.filteredValue?this.filteredValue[k]:this.value[k];if(!this.isSelected(V)){y.push(V),this._selection=[...this.selection,V];let K=this.dataKey?String(br.resolveFieldData(V,this.dataKey)):null;K&&(this.selectionKeys[K]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:y,type:"row"})}clearSelectionRange(e){let s,a;this.rangeRowIndex>this.anchorRowIndex?(s=this.anchorRowIndex,a=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(s=this.rangeRowIndex,a=this.anchorRowIndex):(s=this.rangeRowIndex,a=this.rangeRowIndex);for(let l=s;l<=a;l++){let y=this.value[l],k=this.findIndexInSelection(y);this._selection=this.selection.filter((K,pe)=>pe!=k);let V=this.dataKey?String(br.resolveFieldData(y,this.dataKey)):null;V&&delete this.selectionKeys[V],this.onRowUnselect.emit({originalEvent:e,data:y,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[br.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let s=-1;if(this.selection&&this.selection.length)for(let a=0;a<this.selection.length;a++)if(this.equals(e,this.selection[a])){s=a;break}return s}toggleRowWithRadio(e,s){this.preventSelectionSetterPropagation=!0,this.selection!=s?(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(br.resolveFieldData(s,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,s){this.selection=this.selection||[];let a=this.isSelected(s),l=this.dataKey?String(br.resolveFieldData(s,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,a){let y=this.findIndexInSelection(s);this._selection=this.selection.filter((k,V)=>V!=y),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&delete this.selectionKeys[l]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&(this.selectionKeys[l]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,s){this._selection=s?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:s}),this.isStateful()&&this.saveState()}equals(e,s){return"equals"===this.compareSelectionBy?e===s:br.equals(e,s,this.dataKey)}filter(e,s,a){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[s]&&delete this.filters[s]:this.filters[s]={value:e,matchMode:a},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,s){this.filter(e,"global",s)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let s=0;s<this.value.length;s++){let k,a=!0,l=!1,y=!1;for(let V in this.filters)if(this.filters.hasOwnProperty(V)&&"global"!==V){y=!0;let K=V,pe=this.filters[K];if(Array.isArray(pe)){for(let Se of pe)if(a=this.executeLocalFilter(K,this.value[s],Se),Se.operator===SN.OR&&a||Se.operator===SN.AND&&!a)break}else a=this.executeLocalFilter(K,this.value[s],pe);if(!a)break}if(this.filters.global&&!l&&e)for(let V=0;V<e.length&&(l=this.filterService.filters[this.filters.global.matchMode](br.resolveFieldData(this.value[s],e[V].field||e[V]),this.filters.global.value,this.filterLocale),!l);V++);k=this.filters.global?y?y&&a&&l:l:y&&a,k&&this.filteredValue.push(this.value[s])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,s,a){let l=a.value,y=a.matchMode||$h.STARTS_WITH,k=br.resolveFieldData(s,e);return this.filterService.filters[y](k,l,this.filterLocale)}hasFilter(){let e=!0;for(let s in this.filters)if(this.filters.hasOwnProperty(s)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(e){let s,a="",l=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;e&&e.selectionOnly?s=this.selection||[]:(s=this.filteredValue||this.value,this.frozenValue&&(s=s?[...this.frozenValue,...s]:this.frozenValue));for(let k=0;k<l.length;k++){let V=l[k];!1!==V.exportable&&V.field&&(a+='"'+(V.header||V.field)+'"',k<l.length-1&&(a+=this.csvSeparator))}s.forEach((k,V)=>{a+="\n";for(let K=0;K<l.length;K++){let pe=l[K];if(!1!==pe.exportable&&pe.field){let Se=br.resolveFieldData(k,pe.field);Se=null!=Se?this.exportFunction?this.exportFunction({data:Se,field:pe.field}):String(Se).replace(/"/g,'""'):"",a+='"'+Se+'"',K<l.length-1&&(a+=this.csvSeparator)}}});let y=new Blob([a],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(y,this.exportFilename+".csv");else{let k=document.createElement("a");k.style.display="none",document.body.appendChild(k),void 0!==k.download?(k.setAttribute("href",URL.createObjectURL(y)),k.setAttribute("download",this.exportFilename+".csv"),k.click()):(a="data:text/csv;charset=utf-8,"+a,window.open(encodeURI(a))),document.body.removeChild(k)}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let s=Math.floor(e/this.rows),a=0===s?0:(s-1)*this.rows,l=0===s?2*this.rows:3*this.rows;s!==this.virtualPage&&(this.virtualPage=s,this.onLazyLoad.emit({first:a,rows:l,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top)}updateEditingCell(e,s,a,l){this.editingCell=e,this.editingCellData=s,this.editingCellField=a,this.editingCellRowIndex=l,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===an.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(an.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let s=String(br.resolveFieldData(e,this.dataKey));this.editingRowKeys[s]=!0}saveRowEdit(e,s){if(0===an.find(s,".ng-invalid.ng-dirty").length){let a=String(br.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[a]}}cancelRowEdit(e){let s=String(br.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[s]}toggleRow(e,s){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let a=String(br.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[a]?(delete this.expandedRowKeys[a],this.onRowCollapse.emit({originalEvent:s,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[a]=!0,this.onRowExpand.emit({originalEvent:s,data:e})),s&&s.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(br.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(br.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let s=an.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let s=an.getOffset(this.containerViewChild.nativeElement).left;an.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=this.resizeColumnElement.offsetWidth+e;if(a>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let y=this.resizeColumnElement.nextElementSibling,k=y.offsetWidth-e;a>15&&k>15&&(this.scrollable?this.resizeTableCells(a,k):(this.resizeColumnElement.style.width=a+"px",y&&(y.style.width=k+"px")))}else if("expand"===this.columnResizeMode){let y=this.tableViewChild.nativeElement.offsetWidth+e;if(this.scrollable){this.resizeTableCells(a,null);let k=an.calculateScrollbarWidth(this.wrapperViewChild.nativeElement),V=this.containerViewChild.nativeElement.offsetWidth>y+k;this.tableViewChild.nativeElement.style.width=y+"px",this.wrapperViewChild.nativeElement.style.width=V?y+k+"px":"auto"}else this.tableViewChild.nativeElement.style.width=y+"px",this.resizeColumnElement.style.width=a+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",an.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,s){let a=an.index(this.resizeColumnElement),l=[];an.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(V=>l.push(an.getOuterWidth(V))),this.destroyStyleElement(),this.createStyleElement();let k="";l.forEach((V,K)=>{let pe=K===a?e:s&&K===a+1?s:V;k+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${K+1}) {\n                    flex: 0 0 ${pe}px;\n                }\n\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${K+1}) {\n                    flex: 0 0 ${pe}px;\n                }\n            `}),this.styleElement.innerHTML=k}onColumnDragStart(e,s){this.reorderIconWidth=an.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=an.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=s,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,s){if(this.reorderableColumns&&this.draggedColumn&&s){e.preventDefault();let a=an.getOffset(this.containerViewChild.nativeElement),l=an.getOffset(s);if(this.draggedColumn!=s){let y=an.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),k=an.indexWithinGroup(s,"preorderablecolumn"),V=l.left-a.left,pe=l.left+s.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-a.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-a.top+s.offsetHeight+"px",e.pageX>pe?(this.reorderIndicatorUpViewChild.nativeElement.style.left=V+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=V+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=V-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=V-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),k-y==1&&-1===this.dropPosition||k-y==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,s){if(e.preventDefault(),this.draggedColumn){let a=an.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=an.indexWithinGroup(s,"preorderablecolumn"),y=a!=l;y&&(l-a==1&&-1===this.dropPosition||a-l==1&&1===this.dropPosition)&&(y=!1),y&&l<a&&1===this.dropPosition&&(l+=1),y&&l>a&&-1===this.dropPosition&&(l-=1),y&&(br.reorderArray(this.columns,a,l),this.onColReorder.emit({dragIndex:a,dropIndex:l,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,s){this.rowDragging=!0,this.draggedRowIndex=s,e.dataTransfer.setData("text","b")}onRowDragOver(e,s,a){if(this.rowDragging&&this.draggedRowIndex!==s){let l=an.getOffset(a).top+an.getWindowScrollTop(),y=e.pageY,k=l+an.getOuterHeight(a)/2,V=a.previousElementSibling;y<k?(an.removeClass(a,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=s,V?an.addClass(V,"p-datatable-dragpoint-bottom"):an.addClass(a,"p-datatable-dragpoint-top")):(V?an.removeClass(V,"p-datatable-dragpoint-bottom"):an.addClass(a,"p-datatable-dragpoint-top"),this.droppedRowIndex=s+1,an.addClass(a,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,s){let a=s.previousElementSibling;a&&an.removeClass(a,"p-datatable-dragpoint-bottom"),an.removeClass(s,"p-datatable-dragpoint-bottom"),an.removeClass(s,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,s){if(null!=this.droppedRowIndex){let a=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;br.reorderArray(this.value,this.draggedRowIndex,a),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:a})}this.onRowDragLeave(e,s),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let s={};this.paginator&&(s.first=this.first,s.rows=this.rows),this.sortField&&(s.sortField=this.sortField,s.sortOrder=this.sortOrder),this.multiSortMeta&&(s.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(s.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(s),this.reorderableColumns&&this.saveColumnOrder(s),this.selection&&(s.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(s.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(s)),this.onStateSave.emit(s)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const s=this.getStorage().getItem(this.stateKey),a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(s){let y=JSON.parse(s,function(y,k){return"string"==typeof k&&a.test(k)?new Date(k):k});this.paginator&&(void 0!==this.first&&(this.first=y.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=y.rows,this.rowsChange.emit(this.rows))),y.sortField&&(this.restoringSort=!0,this._sortField=y.sortField,this._sortOrder=y.sortOrder),y.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=y.multiSortMeta),y.filters&&(this.restoringFilter=!0,this.filters=y.filters),this.resizableColumns&&(this.columnWidthsState=y.columnWidths,this.tableWidthState=y.tableWidth,this.wrapperWidthState=y.wrapperWidth),y.expandedRowKeys&&(this.expandedRowKeys=y.expandedRowKeys),y.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(y.selection)),this.stateRestored=!0,this.onStateRestore.emit(y)}}saveColumnWidths(e){let s=[];an.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(l=>s.push(an.getOuterWidth(l))),e.columnWidths=s.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=an.getOuterWidth(this.tableViewChild.nativeElement)+"px",e.wrapperWidth=this.wrapperViewChild.nativeElement.style.width)}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&(this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState),this.wrapperWidthState&&(this.wrapperViewChild.nativeElement.style.width=this.wrapperWidthState)),this.createStyleElement(),this.scrollable&&e&&e.length>0){let s="";e.forEach((a,l)=>{s+=`\n                            #${this.id} .p-datatable-thead > tr > th:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n\n                            #${this.id} .p-datatable-tbody > tr > td:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n                        `}),this.styleElement.innerHTML=s}else an.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((s,a)=>{s.style.width=e[a]+"px"})}}saveColumnOrder(e){if(this.columns){let s=[];this.columns.map(a=>{s.push(a.field||a.key)}),e.columnOrder=s}}restoreColumnOrder(){const s=this.getStorage().getItem(this.stateKey);if(s){let l=JSON.parse(s).columnOrder;if(l){let y=[];l.map(k=>{let V=this.findColumnByKey(k);V&&y.push(V)}),this.columnOrderStateRestored=!0,this.columns=y}}}updateScrollWidth(){if(this.tableViewChild&&this.tableViewChild.nativeElement){let e=an.getWidth(this.tableViewChild.nativeElement.parentElement);this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.scrollWidth>e?this.tableViewChild.nativeElement.scrollWidth+"px":e-an.calculateScrollbarHeight()+"px"}}findColumnByKey(e){if(!this.columns)return null;for(let s of this.columns)if(s.key===e||s.field===e)return s}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(F2),o.Y36(o.sBO),o.Y36(TN),o.Y36(OT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-table"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(LW,5),o.Gf(PW,5),o.Gf(OW,5),o.Gf(RW,5),o.Gf(FW,5),o.Gf(NW,5),o.Gf(zW,5),o.Gf(fT,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.resizeHelperViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorUpViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorDownViewChild=a.first),o.iGM(a=o.CRH())&&(s.wrapperViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableHeaderViewChild=a.first),o.iGM(a=o.CRH())&&(s.virtualScrollBody=a.first)}},inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[o._Bn([F2]),o.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,YW,2,2,"div",2),o.YNc(3,VW,2,1,"div",3),o.YNc(4,HW,1,16,"p-paginator",4),o.TgZ(5,"div",5,6),o.YNc(7,qW,8,15,"table",7),o.YNc(8,eq,10,20,"cdk-virtual-scroll-viewport",8),o.qZA(),o.YNc(9,tq,1,16,"p-paginator",9),o.YNc(10,iq,2,1,"div",10),o.YNc(11,rq,2,0,"div",11),o.YNc(12,sq,2,0,"span",12),o.YNc(13,oq,2,0,"span",13),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.rFY(16,aq,[s.rowHover||s.selectionMode,s.autoLayout,s.resizableColumns,s.resizableColumns&&"fit"===s.columnResizeMode,s.scrollable,s.scrollable&&"vertical"===s.scrollDirection,s.scrollable&&"horizontal"===s.scrollDirection,s.scrollable&&"both"===s.scrollDirection,s.scrollable&&"flex"===s.scrollHeight,"stack"===s.responsiveLayout,"scroll"===s.responsiveLayout,s.responsive,null!=s.headerGroupedTemplate,null!=s.footerGroupedTemplate])),o.uIk("id",s.id),o.xp6(2),o.Q6J("ngIf",s.loading&&s.showLoader),o.xp6(1),o.Q6J("ngIf",s.captionTemplate),o.xp6(1),o.Q6J("ngIf",s.paginator&&("top"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngStyle",o.VKq(31,lq,s.scrollHeight)),o.xp6(2),o.Q6J("ngIf",!s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.paginator&&("bottom"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngIf",s.summaryTemplate),o.xp6(1),o.Q6J("ngIf",s.resizableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns))},directives:function(){return[Zi,ue,dn,Jr,pZ,g8,fT,FR]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-table,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),t})(),g8=(()=>{class t{constructor(e,s,a,l){this.dt=e,this.tableService=s,this.cd=a,this.el=l,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,s,a){let l=br.resolveFieldData(s,this.dt.groupRowsBy),y=e[a-1];return!y||l!==br.resolveFieldData(y,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,s,a){let l=br.resolveFieldData(s,this.dt.groupRowsBy),y=e[a+1];return!y||l!==br.resolveFieldData(y,this.dt.groupRowsBy)}shouldRenderRowspan(e,s,a){let l=br.resolveFieldData(s,this.dt.groupRowsBy),y=e[a-1];return!y||l!==br.resolveFieldData(y,this.dt.groupRowsBy)}calculateRowGroupSize(e,s,a){let l=br.resolveFieldData(s,this.dt.groupRowsBy),y=l,k=0;for(;l===y;){k++;let V=e[++a];if(!V)break;y=br.resolveFieldData(V,this.dt.groupRowsBy)}return 1===k?null:k}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=an.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=an.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qx),o.Y36(F2),o.Y36(o.sBO),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","pTableBody",""]],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:cq,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,s){1&e&&(o.YNc(0,bq,2,2,"ng-container",0),o.YNc(1,Cq,2,3,"ng-container",0),o.YNc(2,Pq,2,2,"ng-container",0),o.YNc(3,zq,2,2,"ng-container",0),o.YNc(4,Bq,2,5,"ng-container",0),o.YNc(5,Hq,2,5,"ng-container",0)),2&e&&(o.Q6J("ngIf",!s.dt.expandedRowTemplate&&!s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",!s.dt.expandedRowTemplate&&s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.dt.expandedRowTemplate&&!(s.frozen&&s.dt.frozenExpandedRowTemplate)),o.xp6(1),o.Q6J("ngIf",s.dt.frozenExpandedRowTemplate&&s.frozen),o.xp6(1),o.Q6J("ngIf",s.dt.loading),o.xp6(1),o.Q6J("ngIf",s.dt.isEmpty()&&!s.dt.loading))},directives:[dn,ft,Jr,YR],encapsulation:2}),t})(),N2=(()=>{class t{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(s=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),an.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return an.hasClass(e,"pi-filter-icon")||an.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qx))},t.\u0275dir=o.lG2({type:t,selectors:[["","pSortableColumn",""]],hostVars:7,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l)})("keydown.enter",function(l){return s.onEnterKey(l)}),2&e&&(o.uIk("tabindex",s.isEnabled()?"0":null)("role","columnheader")("aria-sort",s.sortOrder),o.ekj("p-sortable-column",s.isEnabled())("p-highlight",s.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),t})(),z2=(()=>{class t{constructor(e,s){this.dt=e,this.cd=s,this.subscription=this.dt.tableService.sortSource$.subscribe(a=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,s=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let a=0;a<e.length;a++){let l=e[a];if(l.field===this.field||l.field===this.field){s=a;break}}return s}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(qx),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-sortIcon"]],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,s){1&e&&(o._UZ(0,"i",0),o.YNc(1,Uq,2,1,"span",1)),2&e&&(o.Q6J("ngClass",o.kEZ(2,jq,1===s.sortOrder,-1===s.sortOrder,0===s.sortOrder)),o.xp6(1),o.Q6J("ngIf",s.isMultiSorted()))},directives:[ue,dn],encapsulation:2,changeDetection:0}),t})(),_8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,fZ,zT,oA,Yx,RD,Pv,MZ,TW,R3,IZ],Kc,Yx]}),t})();function y8(t,i){1&t&&(o.TgZ(0,"tr"),o._UZ(1,"th",4),o.TgZ(2,"th"),o._uU(3,"Company Name"),o.qZA(),o.TgZ(4,"th"),o._uU(5,"Product"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Unit Price"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Quantity"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Total Price"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Action"),o.qZA(),o.qZA())}function v8(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o._UZ(1,"td"),o.TgZ(2,"td"),o._uU(3),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"p-inputNumber",5,6),o.NdJ("ngModelChange",function(a){const y=o.CHM(e).rowIndex;return o.oxw().products[y].quantity=a})("click",function(){const a=o.CHM(e),l=a.rowIndex,y=a.$implicit,k=o.oxw();return k.quantityControl(l,k.products[l].quantity,y.brand,y.price)}),o.qZA(),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"button",7),o.NdJ("click",function(){const l=o.CHM(e).$implicit,y=o.oxw();return y.deleteCart(l.brand,y.products.length)}),o._uU(15,"Delete"),o.qZA(),o.TgZ(16,"button",7),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.compname,l.price,l.brand,l.quantity,l.category,l)}),o._uU(17,"Pay"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=i.rowIndex,a=o.oxw();o.xp6(3),o.Oqu(e.compname),o.xp6(2),o.Oqu(e.brand),o.xp6(2),o.Oqu(e.price),o.xp6(2),o.Udp("margin-left","-6rem")("text-align","center"),o.Q6J("disabled",a.x3.length>0)("ngModel",a.products[s].quantity)("showButtons",!0)("step",1),o.xp6(3),o.Oqu(e.totalprice),o.xp6(2),o.Q6J("disabled",a.x3.length>0),o.xp6(2),o.Q6J("disabled",a.x3.length>0)}}let b8=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.router=s,this.fns=a,this.aR=l,this.products=[],this.selectedProducts3=[],this.cartinfo=[],this.cartinfo2=[],this.isMofile=!1,this.difference=0,this.x=0,this.checkInfo2=[],this.totalprice=0,this.checked=!1,this.overallprice=0,this.overallquantity=0,this.checkInfo=[],this.x1=[],this.x2=[],this.x3=[],this.x4=[],this.total=0,this.total2=0,this.isGettingCheckout=!1,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(y=>{this.cartinfo=[],y.map(k=>{this.totalprice=Number(k.payload.doc.data().quantity)*k.payload.doc.data().price;let V={brand:k.payload.doc.data().brand,price:k.payload.doc.data().price,quantity:k.payload.doc.data().quantity,compname:k.payload.doc.data().compname,category:k.payload.doc.data().category,totalprice:this.totalprice};this.cartinfo.push(V),this.products=this.cartinfo})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout")}ngOnInit(){}info(e,s,a,l){this.status=a.checked,a.checked?(this.x1.push(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).set(e),this.overallprice+=a.value.totalprice,this.disablequantity=!0,this.overallquantity+=a.value.quantity,this.x3.push(s)):a.checked||(this.x1.splice(s,1),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).delete(),this.x3.splice(s-this.cartinfo.length,1),this.disablequantity=!1,this.overallprice-=a.value.totalprice,this.overallquantity-=a.value.quantity),new Set(this.x3),0===this.x3.length&&(this.overallprice=0,this.overallquantity=0),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).update({totalprice:e.totalprice,quantity:e.quantity})}quantityControl(e,s,a,l){this.total=0,this.total2=0;let y=s*l;this.x2=[],this.x4=[],this.cartinfo.forEach(k=>{this.x2.push(k.quantity*k.price),this.x4.push(k.quantity),console.log(this.x2),console.log(this.x4)});for(let k=0;k<this.x3.length;k++){let K=this.x2[k],pe=this.x4[k];this.total+=K,this.total2+=pe,console.log(K),console.log(pe)}this.overallprice=this.total,this.overallquantity=this.total2,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(a).update({quantity:s,totalprice:y})}totalBar(){this.x1.forEach(e=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).snapshotChanges().subscribe(s=>{var a;let l=null===(a=s.payload.data())||void 0===a?void 0:a.totalprice;console.log(l)})})}deleteCart(e,s){console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).delete(),1==s&&this.router.navigateByUrl("/adminaddorder")}pay(e,s,a,l,y,k){var V=this;return Fa(function*(){console.log(y,k),V.isGettingCheckout=!0,V.stripe=yield L2("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),V.tracking_number=`UMPSC${Math.floor(19999999*Math.random())+1e7}MY`,V.fns.httpsCallable("stripeCheckout")({productname:a,quantity:l,amount:s,compname:e,category:y,trackingnumber:V.tracking_number}).subscribe(function(){var pe=Fa(function*(Se){console.log({result:Se}),V.uid=Se,yield V.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(V.tracking_number).set({productname:a,quantity:l,compname:e,amount:s,status:"unpaid",uid:V.uid,category:y,ordertimestamp:null,preparetimestamp:null,shiptimestamp:null,completetimestamp:null,receivedstatus:!1}),localStorage.setItem("stripeCheckout",Se),V.stripe.redirectToCheckout({sessionId:Se}).then(function(Ue){console.log(Ue.error.message)})});return function(Se){return pe.apply(this,arguments)}}())})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(Ao),o.Y36(sA),o.Y36(pc))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-cart-page"]],decls:5,vars:2,consts:[[1,"card"],["dataKey","brand",3,"value","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],[2,"width","3rem"],["buttonLayout","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"disabled","ngModel","showButtons","step","ngModelChange","click"],["p",""],["mat-raised-button","",3,"disabled","click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"div",0),o.TgZ(2,"p-table",1),o.NdJ("selectionChange",function(l){return s.selectedProducts3=l}),o.YNc(3,y8,14,0,"ng-template",2),o.YNc(4,v8,18,14,"ng-template",3),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("value",s.products)("selection",s.selectedProducts3))},directives:[__,qx,Od,O3,cf,Ay,Dp],styles:["table[_ngcontent-%COMP%]{width:100%}input[type=number][_ngcontent-%COMP%]{padding:10px}p-inputNumber[_ngcontent-%COMP%]{margin-left:-20px}"]}),t})();function x8(t,i){if(1&t&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.uIk("id",e.id+"_header"),o.xp6(1),o.Oqu(e.header)}}function w8(t,i){1&t&&o.GkF(0)}function C8(t,i){}function M8(t,i){1&t&&o.YNc(0,C8,0,0,"ng-template")}function T8(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)}),o._UZ(1,"span"),o.qZA()}if(2&t){const e=o.oxw(2);o.uIk("id",e.id+"-label")("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),o.xp6(1),o.Tol(e.collapsed?e.expandIcon:e.collapseIcon)}}function S8(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onHeaderClick(a)}),o.YNc(1,x8,2,2,"span",7),o.Hsn(2,1),o.YNc(3,w8,1,0,"ng-container",4),o.TgZ(4,"div",8),o.YNc(5,M8,1,0,void 0,4),o.YNc(6,T8,2,5,"button",9),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.uIk("id",e.id+"-titlebar"),o.xp6(1),o.Q6J("ngIf",e.header),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngTemplateOutlet",e.iconTemplate),o.xp6(1),o.Q6J("ngIf",e.toggleable)}}function k8(t,i){1&t&&o.GkF(0)}function E8(t,i){1&t&&o.GkF(0)}function D8(t,i){if(1&t&&(o.TgZ(0,"div",12),o.Hsn(1,2),o.YNc(2,E8,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const A8=["*",[["p-header"]],[["p-footer"]]],I8=function(t){return{"p-panel p-component":!0,"p-panel-toggleable":t}},L8=function(t){return{transitionParams:t,height:"0",opacity:"0"}},P8=function(t){return{value:"hidden",params:t}},O8=function(t){return{transitionParams:t,height:"*",opacity:"1"}},R8=function(t){return{value:"visible",params:t}},F8=["*","p-header","p-footer"];let N8=0,z8=(()=>{class t{constructor(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new o.vpe,this.onBeforeToggle=new o.vpe,this.onAfterToggle=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+N8++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-panel"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,WD,5),o.Suo(a,Od,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:F8,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,s){1&e&&(o.F$t(A8),o.TgZ(0,"div",0),o.YNc(1,S8,7,5,"div",1),o.TgZ(2,"div",2),o.NdJ("@panelContent.done",function(l){return s.onToggleDone(l)}),o.TgZ(3,"div",3),o.Hsn(4),o.YNc(5,k8,1,0,"ng-container",4),o.qZA(),o.YNc(6,D8,3,1,"div",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.VKq(12,I8,s.toggleable))("ngStyle",s.style),o.uIk("id",s.id),o.xp6(1),o.Q6J("ngIf",s.showHeader),o.xp6(1),o.Q6J("@panelContent",s.collapsed?o.VKq(16,P8,o.VKq(14,L8,s.animating?s.transitionOptions:"0ms")):o.VKq(20,R8,o.VKq(18,O8,s.animating?s.transitionOptions:"0ms"))),o.uIk("id",s.id+"-content")("aria-hidden",s.collapsed)("aria-labelledby",s.id+"-titlebar"),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[ue,Zi,dn,Jr,Ly],styles:[".p-panel-header{display:flex;justify-content:space-between;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[ka("panelContent",[To("hidden",si({height:"0",overflow:"hidden"})),To("void",si({height:"{{height}}"}),{params:{height:"0"}}),To("visible",si({height:"*"})),Br("visible <=> hidden",[si({overflow:"hidden"}),as("{{transitionParams}}")]),Br("void => hidden",as("{{transitionParams}}")),Br("void => visible",as("{{transitionParams}}"))])]},changeDetection:0}),t})(),Y8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Kc,Em],Kc]}),t})();function B8(t,i){if(1&t&&(o.TgZ(0,"li",5),o._uU(1),o.qZA()),2&t){const e=o.oxw(),s=e.index,a=e.$implicit;o.xp6(1),o.xDo(" ",s+1,". Brand:",a.brand," | Unit Price:",a.price," | Quantity:",a.quantity," | Total Price:",a.totalprice," ")}}function V8(t,i){if(1&t&&(o.TgZ(0,"ul",3),o.YNc(1,B8,2,5,"li",4),o.qZA()),2&t){const e=i.$implicit,s=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",s==e.compname)}}function H8(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-panel"),o._uU(1),o.YNc(2,V8,2,1,"ul",1),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"button",2),o.NdJ("click",function(){const l=o.CHM(e).$implicit,y=o.oxw();return y.pay(l,y.finalPrice,y.finalProduct)}),o._uU(10,"Pay"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",e," "),o.xp6(1),o.Q6J("ngForOf",s.x1),o.xp6(2),o.hij("Overall Product: ",s.finalProduct,""),o.xp6(2),o.hij("Overall Total Price: ",s.finalPrice,""),o.xp6(2),o.hij("Overall Total Quantity: ",s.finalQuantity,"")}}let U8=(()=>{class t{constructor(e,s,a,l){var y,k;this.activatedroute=e,this.router=s,this.fs=a,this.fns=l,this.checkoutInfoarray=[],this.compname=[],this.x2=[],this.x=0,this.obj=[],this.x3=[],this.obj2=[],this.x4=[],this.x5=[],this.donationAmount=5,this.isGettingCheckout=!1,this.finalPrice=0,this.finalQuantity=0,this.finalProduct=[],this.fs.collection("Supplier").snapshotChanges().toPromise().then(K=>{console.log(K)}),this.checkoutInfo=null===(y=this.router.getCurrentNavigation())||void 0===y?void 0:y.extras.state,this.checkoutInfoarray=this.checkoutInfo,null==this.checkoutInfo&&this.router.navigateByUrl("/admincartpage"),this.x1=null===(k=this.checkoutInfoarray)||void 0===k?void 0:k.sort(function(K,pe){return K.compname<pe.compname?-1:K.compname>pe.compname?1:0}),this.x1.filter((K,pe)=>{this.x2.push(K.compname)}),this.compname.filter(K=>{}),this.x3=[...new Set(this.x2)],this.checkoutInfo.filter(K=>{if("Oscar Food Sdn Bhd"===K.compname){let pe=0;pe+=+K.totalprice;let Se=0;Se+=K.quantity,this.x4.push({brand:K.brand,tp:pe,quantity:Se})}else if("Fanny Food Sdn Bhd"===K.compname){let pe=0;pe+=+K.totalprice;let Se=0;Se+=K.quantity,this.x5.push({brand:K.brand,tp:pe,quantity:Se})}}),this.x4.forEach(K=>{console.log(K),this.finalProduct.push(K.brand),this.finalPrice+=K.tp,this.finalQuantity+=K.quantity,console.log(this.finalQuantity)}),this.x5.forEach(K=>{console.log(K),this.finalProduct.push(K.brand),this.finalPrice+=K.tp,this.finalQuantity+=K.quantity,console.log(this.finalQuantity)})}ngOnInit(){}pay(e,s,a){var l=this;return Fa(function*(){l.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a).set({status:"unpaid",id:"result"}),console.log(e,a,s),l.isGettingCheckout=!0})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(pc),o.Y36(Ao),o.Y36(al),o.Y36(sA))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-check-out-page"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["class","list-group",4,"ngFor","ngForOf"],["mat","","mat-raised-button","","target","_blank",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.YNc(1,H8,11,5,"p-panel",0)),2&e&&(o.xp6(1),o.Q6J("ngForOf",s.x3))},directives:[__,ft,z8,Dp,dn],styles:["p-card[_ngcontent-%COMP%]{margin:20px}"]}),t})();const j8=function(t,i){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":i}};function G8(t,i){if(1&t&&o._UZ(0,"span",3),2&t){const e=o.oxw();o.Tol(e.checked?e.onIcon:e.offIcon),o.Q6J("ngClass",o.WLB(3,j8,"left"===e.iconPos,"right"===e.iconPos))}}const Z8=function(t,i,e){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":t,"p-highlight":i,"p-disabled":e}},W8={provide:Jc,useExisting:(0,o.Gpc)(()=>z3),multi:!0};let z3=(()=>{class t{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new o.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toggleButton"]],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[o._Bn([W8])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(l){return s.toggle(l)})("keydown.enter",function(l){return s.toggle(l)}),o.YNc(1,G8,1,6,"span",1),o.TgZ(2,"span",2),o._uU(3),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(8,Z8,s.onIcon&&s.offIcon&&!s.hasOnLabel&&!s.hasOffLabel,s.checked,s.disabled))("ngStyle",s.style),o.uIk("tabindex",s.disabled?null:"0")("aria-checked",s.checked),o.xp6(1),o.Q6J("ngIf",s.onIcon||s.offIcon),o.xp6(2),o.Oqu(s.checked?s.hasOnLabel?s.onLabel:"":s.hasOffLabel?s.offLabel:""))},directives:[Ly,ue,Zi,dn],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),t})(),q8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Em]]}),t})();const Y3=["container"],$8=function(t,i,e,s){return{"pi-info-circle":t,"pi-exclamation-triangle":i,"pi-times-circle":e,"pi-check":s}};function X8(t,i){if(1&t&&(o.ynx(0),o._UZ(1,"span",6),o.TgZ(2,"div",7),o.TgZ(3,"div",8),o._uU(4),o.qZA(),o.TgZ(5,"div",9),o._uU(6),o.qZA(),o.qZA(),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),o.Q6J("ngClass",o.l5B(5,$8,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),o.xp6(3),o.Oqu(e.message.summary),o.xp6(2),o.Oqu(e.message.detail)}}function Q8(t,i){1&t&&o.GkF(0)}function J8(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)}),o._UZ(1,"span",11),o.qZA()}}const K8=function(t){return[t,"p-toast-message"]},e9=function(t,i,e,s){return{showTransformParams:t,hideTransformParams:i,showTransitionParams:e,hideTransitionParams:s}},t9=function(t){return{value:"visible",params:t}},n9=function(t){return{$implicit:t}};function r9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-toastItem",3),o.NdJ("onClose",function(a){return o.CHM(e),o.oxw().onMessageClose(a)})("@toastAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw();o.Q6J("message",e)("index",s)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}let s9=(()=>{class t{constructor(e){this.zone=e,this.onClose=new o.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,s){if(1&e&&o.Gf(Y3,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()}),o.TgZ(2,"div",2),o.YNc(3,X8,7,10,"ng-container",3),o.YNc(4,Q8,1,0,"ng-container",4),o.YNc(5,J8,2,0,"button",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.message.styleClass),o.Q6J("ngClass",o.VKq(10,K8,"p-toast-message-"+s.message.severity))("@messageState",o.VKq(17,t9,o.l5B(12,e9,s.showTransformOptions,s.hideTransformOptions,s.showTransitionOptions,s.hideTransitionOptions))),o.uIk("id",s.message.id),o.xp6(2),o.Q6J("ngClass",s.message.contentStyleClass),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(19,n9,s.message)),o.xp6(1),o.Q6J("ngIf",!1!==s.message.closable))},directives:[ue,dn,Jr,Ly],encapsulation:2,data:{animation:[ka("messageState",[To("visible",si({transform:"translateY(0)",opacity:1})),Br("void => *",[si({transform:"{{showTransformParams}}",opacity:0}),as("{{showTransitionParams}}")]),Br("* => void",[as("{{hideTransitionParams}}",si({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t})(),uA=(()=>{class t{constructor(e,s,a){this.messageService=e,this.cd=s,this.config=a,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new o.vpe,this.id=ZD()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const s=e.filter(a=>this.canAdd(a));this.add(s)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.autoZIndex&&Du.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let s=this.key===e.key;return s&&this.preventOpenDuplicates&&(s=!this.containsMessage(this.messages,e)),s&&this.preventDuplicates&&(s=!this.containsMessage(this.messagesArchieve,e)),s}containsMessage(e,s){return!!e&&null!=e.find(a=>a.summary===s.summary&&a.detail==s.detail&&a.severity===s.severity)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template}})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++an.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints){let a="";for(let l in this.breakpoints[s])a+=l+":"+this.breakpoints[s][l]+" !important;";e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-toast[${this.id}] {\n                           ${a}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Du.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(X1),o.Y36(o.sBO),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toast"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(Y3,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,r9,1,8,"p-toastItem",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toast p-component p-toast-"+s.position)("ngStyle",s.style),o.xp6(2),o.Q6J("ngForOf",s.messages))},directives:[ue,Zi,ft,s9],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[ka("toastAnimation",[Br(":enter, :leave",[sT("@*",rT())])])]},changeDetection:0}),t})(),o9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Em],Kc]}),t})();function a9(t,i){if(1&t&&o._UZ(0,"i",8),2&t){const e=o.oxw(2);o.Tol(e.confirmation.icon),o.Q6J("ngClass","p-confirm-popup-icon")}}function l9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).reject()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.rejectButtonStyleClass||"p-button-text"),o.Q6J("icon",e.confirmation.rejectIcon)("label",e.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),o.uIk("aria-label",e.rejectButtonLabel)}}function c9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).accept()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.acceptButtonStyleClass),o.Q6J("icon",e.confirmation.acceptIcon)("label",e.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),o.uIk("aria-label",e.acceptButtonLabel)}}const u9=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},d9=function(t){return{value:"open",params:t}};function h9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.TgZ(1,"div",2,3),o.YNc(3,a9,1,3,"i",4),o.TgZ(4,"span",5),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.YNc(7,l9,1,6,"button",7),o.YNc(8,c9,1,6,"button",7),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",e.style)("@animation",o.VKq(12,d9,o.WLB(9,u9,e.showTransitionOptions,e.hideTransitionOptions))),o.xp6(3),o.Q6J("ngIf",e.confirmation.icon),o.xp6(2),o.Oqu(e.confirmation.message),o.xp6(2),o.Q6J("ngIf",!1!==e.confirmation.rejectVisible),o.xp6(1),o.Q6J("ngIf",!1!==e.confirmation.acceptVisible)}}let p9=(()=>{class t{constructor(e,s,a,l,y,k){this.el=e,this.confirmationService=s,this.renderer=a,this.cd=l,this.config=y,this.overlayService=k,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(V=>{V?V.key===this.key&&(this.confirmation=V,this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,document.body.appendChild(this.container),this.align(),this.bindListeners())}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy()}}align(){this.autoZIndex&&Du.set("overlay",this.container,this.config.zIndex.overlay),an.absolutePosition(this.container,this.confirmation.target);const e=an.getOffset(this.container),s=an.getOffset(this.confirmation.target);let a=0;e.left<s.left&&(a=s.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${a}px`),e.top<s.top&&an.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=an.isIOS()?"touchstart":"click";const s=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(s,e,a=>{let l=this.confirmation.target;this.container!==a.target&&!this.container.contains(a.target)&&l!==a.target&&!l.contains(a.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new RT(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&Du.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(sd.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(sd.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Lv),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(km),o.Y36(OT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmPopup"]],inputs:{key:"key",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&o.YNc(0,h9,9,14,"div",0),2&e&&o.Q6J("ngIf",s.visible)},directives:[dn,ue,Zi,c0],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(0 + 1.25rem);left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after,.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}'],encapsulation:2,data:{animation:[ka("animation",[To("void",si({transform:"scaleY(0.8)",opacity:0})),To("open",si({transform:"translateY(0)",opacity:1})),Br("void => open",as("{{showTransitionParams}}")),Br("open => void",as("{{hideTransitionParams}}"))])]},changeDetection:0}),t})(),f9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Pv]]}),t})();function m9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"UID"),o.qZA())}function g9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function _9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Matrix Card ID"),o.qZA())}function y9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.matrix)}}function v9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Student Name"),o.qZA())}function b9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function x9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Permission"),o.qZA())}function w9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"p-toggleButton",20,21),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isStudent=a})("click",function(){const l=o.CHM(e).$implicit,y=o.MAs(2);return o.oxw().change(y,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isStudent)("onIcon","pi pi-check")}}function C9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Action"),o.qZA())}function M9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",22),o.NdJ("click",function(a){const y=o.CHM(e).$implicit;return o.oxw().confirm(a,y.id)}),o.qZA(),o.qZA()}}function T9(t,i){1&t&&o._UZ(0,"tr",23)}function S9(t,i){1&t&&o._UZ(0,"tr",24)}function k9(t,i){if(1&t&&(o.TgZ(0,"tr",25),o.TgZ(1,"td",26),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}function E9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"UID"),o.qZA())}function D9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function A9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Company Name"),o.qZA())}function I9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.compname)}}function L9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Supplier Name"),o.qZA())}function P9(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function O9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Permission"),o.qZA())}function R9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"p-toggleButton",20,21),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isSupplier=a})("click",function(){const l=o.CHM(e).$implicit,y=o.MAs(2);return o.oxw().change2(y,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isSupplier)("onIcon","pi pi-check")}}function F9(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Action"),o.qZA())}function N9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",22),o.NdJ("click",function(a){const y=o.CHM(e).$implicit;return o.oxw().confirm2(a,y.id)}),o.qZA(),o.qZA()}}function z9(t,i){1&t&&o._UZ(0,"tr",23)}function Y9(t,i){1&t&&o._UZ(0,"tr",24)}function B9(t,i){if(1&t&&(o.TgZ(0,"tr",25),o.TgZ(1,"td",26),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const B3=function(){return[5,10,25,100]};let V9=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.confirmationService=s,this.messageService=a,this.primengConfig=l,this.displayedColumns=["id","matrix","name","isStudent","action"],this.displayedColumns2=["id","compname","name","isSupplier","action"],this.fs.collection("Student").snapshotChanges().subscribe(y=>{this.studentPermissions=[],y.map(k=>{let V={id:k.payload.doc.id,matrix:k.payload.doc.data().matrixid,isStudent:k.payload.doc.data().isStudent,name:k.payload.doc.data().name};this.studentPermissions.push(V),this.dataSource=new Zx(this.studentPermissions),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}),this.fs.collection("Supplier").snapshotChanges().subscribe(y=>{this.supplierPermissions=[],y.map(k=>{let V={id:k.payload.doc.id,compname:k.payload.doc.data().compname,isSupplier:k.payload.doc.data().isSupplier,name:k.payload.doc.data().name};this.supplierPermissions.push(V),this.dataSource2=new Zx(this.supplierPermissions),this.dataSource2.paginator=this.paginator,this.dataSource2.sort=this.sort})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}applyFilter2(e){this.dataSource2.filter=e.target.value.trim().toLowerCase(),this.dataSource2.paginator&&this.dataSource2.paginator.firstPage()}change(e,s){console.log(e,s),this.fs.collection("Student").doc(s).update({isStudent:e.checked})}change2(e,s){console.log(e,s),this.fs.collection("Supplier").doc(s).update({isSupplier:e.checked})}confirm(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Student").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}confirm2(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Supplier").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(Lv),o.Y36(X1),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-permission-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(a0,5),o.Gf(Ev,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:57,vars:14,consts:[["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","matrix"],["matColumnDef","name"],["matColumnDef","isStudent"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["matColumnDef","compname"],["matColumnDef","isSupplier"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["offIcon","pi pi-times",3,"ngModel","onIcon","ngModelChange","click"],["p",""],["id","delete","pButton","","icon","pi pi-check","label","Delete",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"mat-form-field",0),o.TgZ(2,"mat-label"),o._uU(3,"Filter"),o.qZA(),o.TgZ(4,"input",1,2),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"h4"),o._uU(8,"Student's List"),o.qZA(),o.TgZ(9,"table",4),o.ynx(10,5),o.YNc(11,m9,2,0,"th",6),o.YNc(12,g9,2,1,"td",7),o.BQk(),o.ynx(13,8),o.YNc(14,_9,2,0,"th",6),o.YNc(15,y9,2,1,"td",7),o.BQk(),o.ynx(16,9),o.YNc(17,v9,2,0,"th",6),o.YNc(18,b9,2,1,"td",7),o.BQk(),o.ynx(19,10),o.YNc(20,x9,2,0,"th",6),o.YNc(21,w9,3,2,"td",7),o.BQk(),o.ynx(22,11),o.YNc(23,C9,2,0,"th",6),o.YNc(24,M9,4,0,"td",7),o.BQk(),o.YNc(25,T9,1,0,"tr",12),o.YNc(26,S9,1,0,"tr",13),o.YNc(27,k9,3,1,"tr",14),o.qZA(),o._UZ(28,"mat-paginator",15),o.qZA(),o.TgZ(29,"mat-form-field",0),o.TgZ(30,"mat-label"),o._uU(31,"Filter"),o.qZA(),o.TgZ(32,"input",1,2),o.NdJ("keyup",function(l){return s.applyFilter2(l)}),o.qZA(),o.qZA(),o.TgZ(34,"div",3),o.TgZ(35,"h4"),o._uU(36,"Supplier's List"),o.qZA(),o.TgZ(37,"table",4),o.ynx(38,5),o.YNc(39,E9,2,0,"th",6),o.YNc(40,D9,2,1,"td",7),o.BQk(),o.ynx(41,16),o.YNc(42,A9,2,0,"th",6),o.YNc(43,I9,2,1,"td",7),o.BQk(),o.ynx(44,9),o.YNc(45,L9,2,0,"th",6),o.YNc(46,P9,2,1,"td",7),o.BQk(),o.ynx(47,17),o.YNc(48,O9,2,0,"th",6),o.YNc(49,R9,3,2,"td",7),o.BQk(),o.ynx(50,11),o.YNc(51,F9,2,0,"th",6),o.YNc(52,N9,4,0,"td",7),o.BQk(),o.YNc(53,z9,1,0,"tr",12),o.YNc(54,Y9,1,0,"tr",13),o.YNc(55,B9,3,1,"tr",14),o.qZA(),o._UZ(56,"mat-paginator",15),o.qZA()),2&e&&(o.xp6(9),o.Q6J("dataSource",s.dataSource),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(12,B3)),o.xp6(9),o.Q6J("dataSource",s.dataSource2),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns2),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns2),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(13,B3)))},directives:[__,Hx,t0,Q1,ET,Ev,W1,Z1,G1,DT,AT,PT,a0,q1,vD,$1,z3,cf,Ay,uA,p9,c0,IT,LT],styles:["table[_ngcontent-%COMP%]{width:100%}#delete[_ngcontent-%COMP%]{background-color:#d32f2f;border:none}"]}),t})();function H9(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"label",14),o._uU(2,"Product Image:"),o.qZA(),o._UZ(3,"input",15),o.TgZ(4,"progress",16),o.ALo(5,"async"),o._uU(6,"asd"),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(4),o.Q6J("value",o.lcZ(5,1,e.uploadProgress))}}function U9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",17),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",11),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}let j9=(()=>{class t{constructor(e){this.fs=e,this.ingredient=[],this.different=[],this.different2=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(s=>{this.different=[],s.map(a=>{this.different.push(a.payload.doc.id),console.log(a.payload.doc.id)})})}ngOnInit(){}addNewIngredient(e,s){this.ingredient.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient.splice(e,1)}add(){this.ingredient.forEach(e=>{this.different.includes(e.ingredient)||this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.ingredient).set({lowestmargin:0,quantity:0})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(this.product).set({price:this.productprice,ingredient:this.ingredient})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-menu-list-page"]],decls:27,vars:4,consts:[["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"ngModel","ngModelChange"],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"ngModel","ngModelChange"],["class","p-field",4,"ngIf"],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["for","file"],["type","file","accept",".png,.jpg"],["max","100",3,"value"],[1,"list-group-item"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"form",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"label",3),o._uU(4,"Product Name"),o.qZA(),o.TgZ(5,"input",4),o.NdJ("ngModelChange",function(y){return s.product=y}),o.qZA(),o.qZA(),o.TgZ(6,"div",2),o.TgZ(7,"label",5),o._uU(8,"Product Price"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(y){return s.productprice=y}),o.qZA(),o.qZA(),o.YNc(10,H9,7,3,"div",7),o.TgZ(11,"div",2),o.TgZ(12,"label",5),o._uU(13,"Ingredient Name (Needed)"),o.qZA(),o._UZ(14,"input",8,9),o.qZA(),o.TgZ(16,"div",2),o.TgZ(17,"label",5),o._uU(18,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(19,"input",8,10),o.qZA(),o.TgZ(21,"button",11),o.NdJ("click",function(){o.CHM(a);const y=o.MAs(15),k=o.MAs(20);return s.addNewIngredient(y,k)}),o._uU(22,"Add"),o.qZA(),o.TgZ(23,"ul",12),o.YNc(24,U9,5,3,"li",13),o.qZA(),o.qZA(),o.TgZ(25,"button",11),o.NdJ("click",function(){return s.add()}),o._uU(26,"Confirm"),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Q6J("ngModel",s.product),o.xp6(4),o.Q6J("ngModel",s.productprice),o.xp6(1),o.Q6J("ngIf",(null==s.product?null:s.product.length)>0),o.xp6(14),o.Q6J("ngForOf",s.ingredient))},directives:[Iy,Dy,jx,b_,d0,cf,Ay,dn,Dp,ft],pipes:[Cl,Fd],styles:[""]}),t})();const G9=["mask"];function Z9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).hide()})("keydown.enter",function(){return o.CHM(e),o.oxw(3).hide()}),o._UZ(1,"span",13),o.qZA()}2&t&&o.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function W9(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"span",9),o._uU(2),o.qZA(),o.TgZ(3,"div",10),o.YNc(4,Z9,2,1,"button",11),o.qZA(),o.qZA()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.config.header),o.xp6(2),o.Q6J("ngIf",!1!==e.config.closable)}}function q9(t,i){}function $9(t,i){if(1&t&&(o.TgZ(0,"div",14),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.config.footer," ")}}const X9=function(t){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":t}},Q9=function(t,i){return{transform:t,transition:i}},J9=function(t){return{value:"visible",params:t}};function K9(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(1,W9,5,2,"div",4),o.TgZ(2,"div",5),o.YNc(3,q9,0,0,"ng-template",6),o.qZA(),o.YNc(4,$9,2,1,"div",7),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.config.styleClass),o.Udp("width",e.config.width)("height",e.config.height),o.Q6J("ngClass",o.VKq(12,X9,e.config.rtl))("ngStyle",e.config.style)("@animation",o.VKq(17,J9,o.WLB(14,Q9,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),o.xp6(1),o.Q6J("ngIf",!1!==e.config.showHeader),o.xp6(1),o.Q6J("ngStyle",e.config.contentStyle),o.xp6(2),o.Q6J("ngIf",e.config.footer)}}const e7=function(t){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":t}};let V3=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","pDynamicDialogContent",""]]}),t})();class Y2{}class YT{constructor(){this._onClose=new ai.xQ,this.onClose=this._onClose.asObservable(),this._onDestroy=new ai.xQ,this.onDestroy=this._onDestroy.asObservable()}close(i){this._onClose.next(i)}destroy(){this._onDestroy.next()}}const t7=Cy([si({transform:"{{transform}}",opacity:0}),as("{{transition}}",si({transform:"none",opacity:1}))]),n7=Cy([as("{{transition}}",si({transform:"{{transform}}",opacity:0}))]);let r7=(()=>{class t{constructor(e,s,a,l,y,k,V){this.componentFactoryResolver=e,this.cd=s,this.renderer=a,this.config=l,this.dialogRef=y,this.zone=k,this.primeNGConfig=V,this.visible=!0,this.transformOptions="scale(0.7)"}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(e){let s=this.componentFactoryResolver.resolveComponentFactory(e),a=this.insertionPoint.viewContainerRef;a.clear(),this.componentRef=a.createComponent(s)}moveOnTop(){!1!==this.config.autoZIndex&&(Du.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}onAnimationEnd(e){"void"===e.toState&&this.dialogRef.destroy()}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&Du.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),!1!==this.config.modal&&an.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&an.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(e){if(9===e.which){e.preventDefault();let s=an.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}focus(){let e=an.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&parseInt(this.container.style.zIndex)==an.zindex+(this.config.baseZIndex?this.config.baseZIndex:0)&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(Y2),o.Y36(YT),o.Y36(o.R0b),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dynamicDialog"]],viewQuery:function(e,s){if(1&e&&(o.Gf(V3,5),o.Gf(G9,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.insertionPoint=a.first),o.iGM(a=o.CRH())&&(s.maskViewChild=a.first)}},decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,K9,5,19,"div",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(2,e7,!1!==s.config.modal)),o.xp6(2),o.Q6J("ngIf",s.visible))},directives:function(){return[ue,dn,Zi,V3]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[ka("animation",[Br("void => visible",[qb(t7)]),Br("visible => void",[qb(n7)])])]}}),t})();class s7{constructor(i,e){this._parentInjector=i,this._additionalTokens=e}get(i,e,s){return this._additionalTokens.get(i)||this._parentInjector.get(i,e)}}let B2=(()=>{class t{constructor(e,s,a){this.componentFactoryResolver=e,this.appRef=s,this.injector=a,this.dialogComponentRefMap=new Map}open(e,s){const a=this.appendDialogComponentToBody(s);return this.dialogComponentRefMap.get(a).instance.childComponentType=e,a}appendDialogComponentToBody(e){const s=new WeakMap;s.set(Y2,e);const a=new YT;s.set(YT,a);const l=a.onClose.subscribe(()=>{this.dialogComponentRefMap.get(a).instance.close()}),y=a.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(a),y.unsubscribe(),l.unsubscribe()}),V=this.componentFactoryResolver.resolveComponentFactory(r7).create(new s7(this.injector,s));return this.appRef.attachView(V.hostView),document.body.appendChild(V.hostView.rootNodes[0]),this.dialogComponentRefMap.set(a,V),a}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;const s=this.dialogComponentRefMap.get(e);this.appRef.detachView(s.hostView),s.destroy(),this.dialogComponentRefMap.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function o7(t,i){1&t&&o.GkF(0)}function a7(t,i){if(1&t&&(o.TgZ(0,"div",3),o.YNc(1,o7,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.leftTemplate)}}function l7(t,i){1&t&&o.GkF(0)}function c7(t,i){if(1&t&&(o.TgZ(0,"div",5),o.YNc(1,l7,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.rightTemplate)}}const u7=["*"];let H3=(()=>{class t{constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"left":this.leftTemplate=e.template;break;case"right":this.rightTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toolbar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:u7,decls:4,vars:6,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left",4,"ngIf"],["class","p-toolbar-group-right",4,"ngIf"],[1,"p-toolbar-group-left"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-right"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.YNc(2,a7,2,1,"div",1),o.YNc(3,c7,2,1,"div",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toolbar p-component")("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",s.leftTemplate),o.xp6(1),o.Q6J("ngIf",s.rightTemplate))},directives:[ue,Zi,dn,Jr],styles:[".p-toolbar{justify-content:space-between;flex-wrap:wrap}.p-toolbar,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}"],encapsulation:2,changeDetection:0}),t})(),d7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),h7=(()=>{class t{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let s=an.getFocusableElements(this.el.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pFocusTrap",""]],hostBindings:function(e,s){1&e&&o.NdJ("keydown.tab",function(l){return s.onkeydown(l)})("keydown.shift.tab",function(l){return s.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),t})(),p7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})();const f7=["titlebar"],m7=["content"],g7=["footer"];function _7(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label"),o.xp6(1),o.Oqu(e.header)}}function y7(t,i){if(1&t&&(o.TgZ(0,"span",16),o.Hsn(1,1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label")}}function v7(t,i){1&t&&o.GkF(0)}const b7=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function x7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).maximize()})("keydown.enter",function(){return o.CHM(e),o.oxw(4).maximize()}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,b7)),o.xp6(1),o.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const w7=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function C7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",19),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,w7)),o.xp6(1),o.Q6J("ngClass",e.closeIcon)}}function M7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",11,12),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initDrag(a)}),o.YNc(2,_7,2,2,"span",13),o.YNc(3,y7,2,1,"span",13),o.YNc(4,v7,1,0,"ng-container",8),o.TgZ(5,"div",14),o.YNc(6,x7,2,3,"button",15),o.YNc(7,C7,2,3,"button",15),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.headerFacet),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngIf",e.maximizable),o.xp6(1),o.Q6J("ngIf",e.closable)}}function T7(t,i){1&t&&o.GkF(0)}function S7(t,i){1&t&&o.GkF(0)}function k7(t,i){if(1&t&&(o.TgZ(0,"div",20,21),o.Hsn(2,2),o.YNc(3,S7,1,0,"ng-container",8),o.qZA()),2&t){const e=o.oxw(3);o.xp6(3),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function E7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",22),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initResize(a)}),o.qZA()}}const D7=function(t,i,e,s){return{"p-dialog p-component":!0,"p-dialog-rtl":t,"p-dialog-draggable":i,"p-dialog-resizable":e,"p-dialog-maximized":s}},A7=function(t,i){return{transform:t,transition:i}},I7=function(t){return{value:"visible",params:t}};function L7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3,4),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(2,M7,8,5,"div",5),o.TgZ(3,"div",6,7),o.Hsn(5),o.YNc(6,T7,1,0,"ng-container",8),o.qZA(),o.YNc(7,k7,4,1,"div",9),o.YNc(8,E7,1,0,"div",10),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.l5B(15,D7,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",o.VKq(23,I7,o.WLB(20,A7,e.transformOptions,e.transitionOptions))),o.uIk("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.showHeader),o.xp6(1),o.Tol(e.contentStyleClass),o.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),o.xp6(3),o.Q6J("ngTemplateOutlet",e.contentTemplate),o.xp6(1),o.Q6J("ngIf",e.footerFacet||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",e.resizable)}}const P7=function(t,i,e,s,a,l,y,k,V,K){return{"p-dialog-mask":!0,"p-component-overlay":t,"p-dialog-mask-scrollblocker":i,"p-dialog-left":e,"p-dialog-right":s,"p-dialog-top":a,"p-dialog-top-left":l,"p-dialog-top-right":y,"p-dialog-bottom":k,"p-dialog-bottom-left":V,"p-dialog-bottom-right":K}};function O7(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,L7,9,25,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",o.rFY(4,P7,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),o.xp6(1),o.Q6J("ngIf",e.visible)}}const R7=["*",[["p-header"]],[["p-footer"]]],F7=["*","p-header","p-footer"],N7=Cy([si({transform:"{{transform}}",opacity:0}),as("{{transition}}")]),z7=Cy([as("{{transition}}",si({transform:"{{transform}}",opacity:0}))]);let Y7=(()=>{class t{constructor(e,s,a,l,y){this.el=e,this.renderer=s,this.zone=a,this.cd=l,this.config=y,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new o.vpe,this.onHide=new o.vpe,this.visibleChange=new o.vpe,this.onResizeInit=new o.vpe,this.onResizeEnd=new o.vpe,this.onDragEnd=new o.vpe,this.onMaximize=new o.vpe,this.id=ZD(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=an.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&an.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&an.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?an.addClass(document.body,"p-overflow-hidden"):an.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Du.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){an.hasClass(e.target,"p-dialog-header-icon")||an.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",an.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let s=an.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}onDrag(e){if(this.dragging){let s=an.getOuterWidth(this.container),a=an.getOuterHeight(this.container),l=e.pageX-this.lastPageX,y=e.pageY-this.lastPageY,k=an.getOffset(this.container),V=k.left+l,K=k.top+y,pe=an.getViewport();this.container.style.position="fixed",this.keepInViewport?(V>=this.minX&&V+s<pe.width&&(this._style.left=V+"px",this.lastPageX=e.pageX,this.container.style.left=V+"px"),K>=this.minY&&K+a<pe.height&&(this._style.top=K+"px",this.lastPageY=e.pageY,this.container.style.top=K+"px")):(this.lastPageX=e.pageX,this.container.style.left=V+"px",this.lastPageY=e.pageY,this.container.style.top=K+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,an.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,an.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let s=e.pageX-this.lastPageX,a=e.pageY-this.lastPageY,l=an.getOuterWidth(this.container),y=an.getOuterHeight(this.container),k=an.getOuterHeight(this.contentViewChild.nativeElement),V=l+s,K=y+a,pe=this.container.style.minWidth,Se=this.container.style.minHeight,Ue=an.getOffset(this.container),Je=an.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(V+=s,K+=a),(!pe||V>parseInt(pe))&&Ue.left+V<Je.width&&(this._style.width=V+"px",this.container.style.width=this._style.width),(!Se||K>parseInt(Se))&&Ue.top+K<Je.height&&(this.contentViewChild.nativeElement.style.height=k+K-y+"px",this._style.height&&(this._style.height=K+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,an.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&this.close(s)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):an.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&an.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(an.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&an.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Du.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(km))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,kN,5),o.Suo(a,WD,5),o.Suo(a,Od,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(f7,5),o.Gf(m7,5),o.Gf(g7,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.headerViewChild=a.first),o.iGM(a=o.CRH())&&(s.contentViewChild=a.first),o.iGM(a=o.CRH())&&(s.footerViewChild=a.first)}},inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:F7,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,s){1&e&&(o.F$t(R7),o.YNc(0,O7,2,15,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[dn,ue,h7,Zi,Jr,Ly],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[ka("animation",[Br("void => visible",[qb(N7)]),Br("visible => void",[qb(z7)])])]},changeDetection:0}),t})(),B7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,p7,Em],Kc]}),t})();function V7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",3),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),o.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function H7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",4),o.NdJ("click",function(a){const y=o.CHM(e).index;return o.oxw().rate(a,y)})("keydown.enter",function(a){const y=o.CHM(e).index;return o.oxw().rate(a,y)}),o.qZA()}if(2&t){const e=i.index,s=o.oxw();o.Q6J("ngClass",!s.value||e>=s.value?s.iconOffClass:s.iconOnClass)("ngStyle",!s.value||e>=s.value?s.iconOffStyle:s.iconOnStyle),o.uIk("tabindex",s.disabled||s.readonly?null:"0")}}const U7=function(t,i){return{"p-readonly":t,"p-disabled":i}},j7={provide:Jc,useExisting:(0,o.Gpc)(()=>V2),multi:!0};let V2=(()=>{class t{constructor(e){this.cd=e,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star",this.iconOffClass="pi pi-star-o",this.iconCancelClass="pi pi-ban",this.onRate=new o.vpe,this.onCancel=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}rate(e,s){!this.readonly&&!this.disabled&&(this.value=s+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:s+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-rating"]],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[o._Bn([j7])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,V7,1,3,"span",1),o.YNc(2,H7,1,3,"span",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.WLB(3,U7,s.readonly,s.disabled)),o.xp6(1),o.Q6J("ngIf",s.cancel),o.xp6(1),o.Q6J("ngForOf",s.starsArray))},directives:[ue,dn,ft,Zi],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}"],encapsulation:2,changeDetection:0}),t})(),G7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})();function Z7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().show()}),o.qZA()}}function W7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",26),o.TgZ(1,"h5",27),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",28),o._UZ(4,"i",29),o.TgZ(5,"input",30),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(6).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function q7(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",31),o._uU(2,"Name "),o._UZ(3,"p-sortIcon",32),o.qZA(),o.TgZ(4,"th"),o._uU(5,"Image"),o.qZA(),o.TgZ(6,"th",33),o._uU(7,"Price "),o._UZ(8,"p-sortIcon",34),o.qZA(),o.TgZ(9,"th",35),o._uU(10,"Ingredient "),o._UZ(11,"p-sortIcon",36),o.qZA(),o.TgZ(12,"th",37),o._uU(13,"Reviews "),o._UZ(14,"p-sortIcon",38),o.qZA(),o.TgZ(15,"th",39),o._uU(16,"Status "),o._UZ(17,"p-sortIcon",40),o.qZA(),o._UZ(18,"th"),o.qZA())}function $7(t,i){if(1&t&&(o.TgZ(0,"li",46),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE("",e.ingredient," - ",e.ingredientQuantity," unit")}}const X7=function(){return{"status-instock":!0}};function Q7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._UZ(4,"img",41),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"ul",23),o.YNc(10,$7,2,2,"li",24),o.qZA(),o.qZA(),o.TgZ(11,"td"),o._UZ(12,"p-rating",42),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"span",43),o._uU(15),o.qZA(),o.qZA(),o.TgZ(16,"td"),o.TgZ(17,"button",44),o.NdJ("click",function(){const a=o.CHM(e),l=a.$implicit,y=a.rowIndex;return o.oxw().show2(l,y)}),o.qZA(),o.TgZ(18,"button",45),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.productname)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.productname),o.xp6(2),o.Q6J("alt",e.name),o.xp6(2),o.Oqu(o.xi3(7,11,e.price,"RM")),o.xp6(4),o.Q6J("ngForOf",e.ingredient),o.xp6(2),o.Q6J("ngModel",e.rating)("readonly",!0)("cancel",!1),o.xp6(2),o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(14,X7)),o.xp6(1),o.hij("",e.inventoryStatus,"asd")}}function J7(t,i){if(1&t&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.products?e.products.length:0," products. ")}}function K7(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",46),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",22),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}const e$=function(){return["productname","price","rating","inventoryStatus"]},U3=function(){return{width:"450px"}};let t$=(()=>{class t{constructor(e,s,a,l){this.confirmationService=e,this.dialogService=s,this.messageService=a,this.fs=l,this.products=[],this.selectedProducts=[],this.productDialog=!1,this.menulist=[],this.ingredient=[],this.ingredient2=[],this.checkStatus=[],this.checkStatus2=[],this.x4=[],this.x5=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.products=[],y.map(k=>{let V={productname:k.payload.doc.id,price:k.payload.doc.data().price,ingredient:k.payload.doc.data().ingredient};this.products.push(V)})}),this.subscribe=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.menulist=[],this.ingredient=[],y.map(k=>{this.menulist.push(k.payload.doc.id),this.ingredient.push(k.payload.doc.data().ingredient)})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.x4=[],y.map(k=>{let V={ingredientName:k.payload.doc.id,ingredient:k.payload.doc.data().ingredient};this.x4.push(V)})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(y=>{this.x5=[],y.map(k=>{let V={ingredientName:k.payload.doc.id,quantity:k.payload.doc.data().quantity,lowestmargin:k.payload.doc.data().lowestmargin};this.x5.push(V),this.x4.forEach((K,pe)=>{console.log(K.ingredient,pe)})})})}ngOnInit(){}ngOnDestroy(){this.subscribe.unsubscribe()}show(){this.ref=this.dialogService.open(j9,{header:"Add New Product to Menu",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}),this.ref.onClose.subscribe(e=>{e&&this.messageService.add({severity:"info",summary:"Product Selected",detail:e.name})})}show2(e,s){this.productDialog=!0,this.indexOfElement=s,console.log(e,s),this.ingredient2=this.ingredient[s]}deleteProduct(e){console.log("Hello World"),this.confirmationService.confirm({message:"Are you sure you want to delete "+e+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).delete(),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})}addNewIngredient(e,s){this.ingredient2.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient2.splice(e,1),console.log(this.ingredient)}update(e,s){console.log(e);let a=this.products[this.indexOfElement].productname;console.log(this.products[this.indexOfElement]),e!==this.products[this.indexOfElement].productname?this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).set({price:s,ingredient:this.ingredient2}).then(l=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(a).delete()}):this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(a).update({price:s,ingredient:this.ingredient2})}hello(e){console.log(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Lv),o.Y36(B2),o.Y36(X1),o.Y36(al))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-menu-list-page"]],decls:41,vars:19,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["responsiveLayout","scroll","dataKey","productname","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"value"],["p",""],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"value"],["pp",""],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-right"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","productname"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["width","100",1,"p-shadow-4",3,"alt"],[3,"ngModel","readonly","cancel"],[3,"ngClass"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"list-group-item"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-adminnavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,Z7,1,0,"ng-template",2),o.qZA(),o.TgZ(5,"p-table",3,4),o.NdJ("selectionChange",function(y){return s.selectedProducts=y}),o.YNc(7,W7,6,0,"ng-template",5),o.YNc(8,q7,19,0,"ng-template",6),o.YNc(9,Q7,19,15,"ng-template",7),o.YNc(10,J7,2,1,"ng-template",8),o.qZA(),o.qZA(),o.TgZ(11,"p-dialog",9),o.NdJ("visibleChange",function(y){return s.productDialog=y}),o.TgZ(12,"form",10),o.TgZ(13,"div",11),o.TgZ(14,"div",12),o.TgZ(15,"label",13),o._uU(16,"Product Name"),o.qZA(),o._UZ(17,"input",14,15),o.qZA(),o.TgZ(19,"div",12),o.TgZ(20,"label",16),o._uU(21,"Product Price"),o.qZA(),o._UZ(22,"input",17,18),o.qZA(),o.TgZ(24,"div",12),o.TgZ(25,"label",16),o._uU(26,"Ingredient Name (Needed)"),o.qZA(),o._UZ(27,"input",19,20),o.qZA(),o.TgZ(29,"div",12),o.TgZ(30,"label",16),o._uU(31,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(32,"input",19,21),o.qZA(),o.TgZ(34,"button",22),o.NdJ("click",function(){o.CHM(a);const y=o.MAs(28),k=o.MAs(33);return s.addNewIngredient(y,k)}),o._uU(35,"Add"),o.qZA(),o.TgZ(36,"ul",23),o.YNc(37,K7,5,3,"li",24),o.qZA(),o.qZA(),o.TgZ(38,"button",22),o.NdJ("click",function(){o.CHM(a);const y=o.MAs(18),k=o.MAs(23);return s.update(y.value,k.value)}),o._uU(39,"Update"),o.qZA(),o.qZA(),o.qZA(),o._UZ(40,"p-confirmDialog")}2&e&&(o.xp6(5),o.Q6J("value",s.products)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(16,e$))("selection",s.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(17,U3)),o.Q6J("visible",s.productDialog)("modal",!0),o.xp6(6),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].productname),o.xp6(5),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].price),o.xp6(15),o.Q6J("ngForOf",s.ingredient2),o.xp6(3),o.Akn(o.DdM(18,U3)))},directives:[__,uA,H3,Od,qx,Y7,Iy,Dy,jx,d0,Dp,ft,QD,c0,N2,z2,V2,cf,Ay,ue],pipes:[Kh,Fd],styles:[".product-badge.status-instock[_ngcontent-%COMP%]{background-color:#c8e6c8;padding:4px;border-radius:2.5px}"]}),t})();function n$(t,i){1&t&&o.GkF(0)}function i$(t,i){if(1&t&&(o.ynx(0),o.YNc(1,n$,1,0,"ng-container",3),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}function r$(t,i){if(1&t&&(o.TgZ(0,"div",1),o.Hsn(1),o.YNc(2,i$,2,1,"ng-container",2),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.selected),o.uIk("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const j3=["*"],s$=["navbar"],o$=["inkbar"];function a$(t,i){if(1&t&&o._UZ(0,"span",16),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.leftIcon)}}function l$(t,i){if(1&t&&o._UZ(0,"span",17),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.rightIcon)}}function c$(t,i){if(1&t&&(o.ynx(0),o.YNc(1,a$,1,1,"span",13),o.TgZ(2,"span",14),o._uU(3),o.qZA(),o.YNc(4,l$,1,1,"span",15),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf",e.leftIcon),o.xp6(2),o.Oqu(e.header),o.xp6(1),o.Q6J("ngIf",e.rightIcon)}}function u$(t,i){1&t&&o.GkF(0)}function d$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",18),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(2).$implicit;return o.oxw().close(a,l)}),o.qZA()}}const h$=function(t,i){return{"p-highlight":t,"p-disabled":i}};function p$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",8),o.TgZ(1,"a",9),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)})("keydown.enter",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)}),o.YNc(2,c$,5,3,"ng-container",10),o.YNc(3,u$,1,0,"ng-container",11),o.YNc(4,d$,1,0,"span",12),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.Tol(e.headerStyleClass),o.Q6J("ngClass",o.WLB(16,h$,e.selected,e.disabled))("ngStyle",e.headerStyle),o.xp6(1),o.Q6J("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.uIk("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected)("tabindex",e.disabled?null:"0"),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.closable)}}function f$(t,i){1&t&&o.YNc(0,p$,5,19,"li",7),2&t&&o.Q6J("ngIf",!i.$implicit.closed)}let m$=0,G3=(()=>{class t{constructor(e,s,a){this.viewContainer=s,this.cd=a,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+m$++,this.tabView=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template}})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return t.\u0275fac=function(e){return new(e||t)(o.Y36((0,o.Gpc)(()=>Z3)),o.Y36(o.s_b),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabPanel"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:j3,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,r$,3,5,"div",0)),2&e&&o.Q6J("ngIf",!s.closed)},directives:[dn,Jr],encapsulation:2}),t})(),Z3=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.orientation="top",this.onChange=new o.vpe,this.onClose=new o.vpe,this.activeIndexChange=new o.vpe}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(e,s){if(s.disabled)e&&e.preventDefault();else{if(!s.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,s.selected=!0;let l=this.findTabIndex(s);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(l),this.onChange.emit({originalEvent:e,index:l})}e&&e.preventDefault()}}close(e,s){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(s),close:()=>{this.closeTab(s)}}):(this.closeTab(s),this.onClose.emit({originalEvent:e,index:this.findTabIndex(s)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let s=0;s<this.tabs.length;s++){let a=this.tabs[s];if(!a.closed&&!e.disabled){a.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let s=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==e){s=a;break}return s}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0)}updateInkBar(){let e=an.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=an.getWidth(e)+"px",this.inkbar.nativeElement.style.left=an.getOffset(e).left-an.getOffset(this.navbar.nativeElement).left+"px"}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabView"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,G3,4),2&e){let l;o.iGM(l=o.CRH())&&(s.tabPanels=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(s$,5),o.Gf(o$,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.navbar=a.first),o.iGM(a=o.CRH())&&(s.inkbar=a.first)}},inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:j3,decls:8,vars:5,consts:[[3,"ngClass","ngStyle"],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],[1,"p-tabview-panels"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"ul",1,2),o.YNc(3,f$,1,1,"ng-template",3),o._UZ(4,"li",4,5),o.qZA(),o.TgZ(6,"div",6),o.Hsn(7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-tabview p-component")("ngStyle",s.style),o.xp6(3),o.Q6J("ngForOf",s.tabs))},directives:[ue,Zi,ft,dn,Ly,T3,Jr],styles:[".p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:wrap}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1}.p-tabview-close{z-index:1}"],encapsulation:2,changeDetection:0}),t})(),g$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Kc,S3,Em],Kc]}),t})();function _$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li"),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",5),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.data.uid)}),o._uU(4,"Pay Now"),o.qZA(),o.TgZ(5,"button",5),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.data.uid,l.id)}),o._uU(6,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}function y$(t,i){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.ALo(2,"json"),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e))}}function v$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().updateInfoInv(a)}),o._uU(1,"Order Received"),o.qZA()}}function b$(t,i){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.ALo(2,"json"),o.YNc(3,v$,2,0,"button",6),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,2,e)," "),o.xp6(2),o.Q6J("ngIf","completed"==e.data.status)}}function x$(t,i){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.ALo(2,"json"),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e))}}let w$=(()=>{class t{constructor(e,s){this.fs=e,this.fns=s,this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],this.quantity=0,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(a=>{this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],a.map(l=>{if("unpaid"===l.payload.doc.data().status){let y={id:l.payload.doc.id,data:l.payload.doc.data()};this.toPay.push(y)}if("paid"===l.payload.doc.data().status){let y={id:l.payload.doc.id,data:l.payload.doc.data()};this.toShip.push(y)}if("toship"===l.payload.doc.data().status||"tocomplete"===l.payload.doc.data().status||"completed"===l.payload.doc.data().status){let y={id:l.payload.doc.id,data:l.payload.doc.data()};this.toReceived.push(y)}if(!0===l.payload.doc.data().receivedstatus&&"finished"===l.payload.doc.data().status){let y={id:l.payload.doc.id,data:l.payload.doc.data()};this.completed.push(y)}})})}ngOnInit(){}pay(e){var s=this;return Fa(function*(){s.isGettingCheckout=!0,s.stripe=yield L2("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),s.stripe.redirectToCheckout({sessionId:e})})()}delete(e,s){var a=this;return Fa(function*(){a.id1=s,a.stripe=yield L2("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),a.fns.httpsCallable("cancelPayment")({uid:e}).subscribe(y=>{"canceled"==y.status&&a.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a.id1).delete()}),console.log(s)})()}updateInfoInv(e){console.log(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.id).update({receivedstatus:!0,status:"finished"}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).valueChanges().subscribe(s=>{this.quantity=s.quantity}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).update({quantity:this.quantity+1})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(sA))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-tracking-page"]],decls:18,vars:4,consts:[["header","To Pay"],[4,"ngFor","ngForOf"],["header","To Ship"],["header","To Received"],["header","Completed"],[3,"click"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"p-tabView"),o.TgZ(2,"p-tabPanel",0),o._uU(3," To Pay "),o.TgZ(4,"ul"),o.YNc(5,_$,7,3,"li",1),o.qZA(),o.qZA(),o.TgZ(6,"p-tabPanel",2),o._uU(7," To Ship "),o.TgZ(8,"ul"),o.YNc(9,y$,3,3,"li",1),o.qZA(),o.qZA(),o.TgZ(10,"p-tabPanel",3),o._uU(11," To Received "),o.TgZ(12,"ul"),o.YNc(13,b$,4,4,"li",1),o.qZA(),o.qZA(),o.TgZ(14,"p-tabPanel",4),o._uU(15," Completed "),o.TgZ(16,"ul"),o.YNc(17,x$,3,3,"li",1),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Q6J("ngForOf",s.toPay),o.xp6(4),o.Q6J("ngForOf",s.toShip),o.xp6(4),o.Q6J("ngForOf",s.toReceived),o.xp6(4),o.Q6J("ngForOf",s.completed))},directives:[__,Z3,G3,ft,dn,Dp],pipes:[Fd],styles:[""]}),t})(),C$=(()=>{class t{constructor(e,s,a,l){this.ref=e,this.fb=s,this.fs=a,this.fa=l,this.addProductForm=s.group({brand:[],category:[],price:[],quantity:[]})}ngOnInit(){}add(){this.ref.close("success"),this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc().set({brand:this.addProductForm.get("brand").value,category:this.addProductForm.get("category").value,price:this.addProductForm.get("price").value,quantity:this.addProductForm.get("quantity").value,rating:0}).then(()=>{})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(YT),o.Y36(Gx),o.Y36(al),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-add-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.add()}),o._uU(10,"Add"),o.qZA()),2&e&&o.Q6J("formGroup",s.addProductForm)},directives:[Iy,Dy,yg,b_,d0,cf,Dv,Dp],styles:["div[_ngcontent-%COMP%]{margin:10px}"]}),t})(),M$=(()=>{class t{constructor(e,s,a,l,y){this.ref=e,this.config=s,this.fb=a,this.fs=l,this.fa=y,this.productInfo=this.config.data}ngOnInit(){this.editProductForm=this.fb.group({brand:[this.productInfo.data.brand],category:[this.productInfo.data.category],quantity:[this.productInfo.data.quantity],price:[this.productInfo.data.price]})}edit(){this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc(this.productInfo.id).update({brand:this.editProductForm.get("brand").value,price:this.editProductForm.get("price").value,category:this.editProductForm.get("category").value,quantity:this.editProductForm.get("quantity").value}).then(()=>{this.ref.close("success")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(YT),o.Y36(Y2),o.Y36(Gx),o.Y36(al),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-edit-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.edit()}),o._uU(10,"Update"),o.qZA()),2&e&&o.Q6J("formGroup",s.editProductForm)},directives:[Iy,Dy,yg,b_,d0,cf,Dv,Dp],styles:[""]}),t})();function T$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().openNew()}),o.qZA()}}function S$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",10),o.TgZ(1,"h5",11),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",12),o._UZ(4,"i",13),o.TgZ(5,"input",14),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(6).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function k$(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",15),o._uU(2,"Brand "),o._UZ(3,"p-sortIcon",16),o.qZA(),o.TgZ(4,"th",17),o._uU(5,"Unit Price "),o._UZ(6,"p-sortIcon",18),o.qZA(),o.TgZ(7,"th",19),o._uU(8,"Quantity "),o._UZ(9,"p-sortIcon",20),o.qZA(),o.TgZ(10,"th",21),o._uU(11,"Category "),o._UZ(12,"p-sortIcon",22),o.qZA(),o.TgZ(13,"th",23),o._uU(14,"Rating "),o._UZ(15,"p-sortIcon",24),o.qZA(),o.TgZ(16,"th",25),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",26),o.qZA(),o._UZ(19,"th"),o.qZA())}function E$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._UZ(11,"p-rating",27),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",28),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().editProduct(l)}),o.qZA(),o.TgZ(14,"button",29),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.id,l.data.brand)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.data.brand),o.xp6(2),o.Oqu(o.xi3(5,7,e.data.price,"MYR")),o.xp6(3),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(e.data.category),o.xp6(2),o.Q6J("ngModel",e.rating)("readonly",!0)("cancel",!1)}}function D$(t,i){1&t&&o._UZ(0,"div",10)}const A$=function(){return["data.brand","data.price","data.quantity","status"]},I$=function(){return{width:"450px"}};let L$=(()=>{class t{constructor(e,s,a,l,y){this.messageService=e,this.confirmationService=s,this.dD=a,this.fs=l,this.fa=y,this.productDialog=!1,this.product=[],this.fa.authState.subscribe(k=>{this.fs.collection("Supplier").doc(null==k?void 0:k.uid).collection("menu").snapshotChanges().subscribe(V=>{this.product=[],V.map(K=>{let pe={id:K.payload.doc.id,data:K.payload.doc.data()};this.product.push(pe),console.log(this.product)})})})}ngOnInit(){}openNew(){this.dD.open(C$,{header:"Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(s=>{console.log(s),"success"==s&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Added Successfully!",life:3e3})})}cancel(){}editProduct(e){this.dD.open(M$,{header:"Edit Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,data:e}).onClose.subscribe(a=>{console.log(a),"success"==a&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated Successfully!",life:3e3})})}deleteProduct(e,s){this.confirmationService.confirm({message:"Are you sure you want to delete "+s+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fa.authState.subscribe(a=>{this.fs.collection("Supplier").doc(null==a?void 0:a.uid).collection("menu").doc(e).delete()}),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted!",life:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(X1),o.Y36(Lv),o.Y36(B2),o.Y36(al),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-product-page"]],decls:12,vars:10,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","data.brand"],["field","product"],["pSortableColumn","category"],["field","category"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["pSortableColumn","price"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],[3,"ngModel","readonly","cancel"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,T$,1,0,"ng-template",2),o.qZA(),o.TgZ(5,"p-table",3,4),o.YNc(7,S$,6,0,"ng-template",5),o.YNc(8,k$,20,0,"ng-template",6),o.YNc(9,E$,15,10,"ng-template",7),o.YNc(10,D$,1,0,"ng-template",8),o.qZA(),o.qZA(),o._UZ(11,"p-confirmDialog")),2&e&&(o.xp6(5),o.Q6J("value",s.product)("rows",10)("paginator",!0)("globalFilterFields",o.DdM(8,A$))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,I$)))},directives:[Bb,uA,H3,Od,qx,QD,c0,d0,N2,z2,V2,cf,Ay],pipes:[Kh],styles:[""]}),t})(),P$=(()=>{class t{constructor(e,s,a){var l=this;this.fb=e,this.fs=s,this.fa=a,this.fa.authState.subscribe(function(){var y=Fa(function*(k){l.uid=null==k?void 0:k.uid,l.fs.collection("Supplier").doc(null==k?void 0:k.uid).valueChanges().subscribe(V=>{l.supplierInfo=V})});return function(k){return y.apply(this,arguments)}}()),this.updateProfile=this.fb.group({compname:[],phone:[],email:[]})}ngOnInit(){}update(e,s,a){console.log(e.value,s.value,a.value),this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(this.uid).update({compname:e.value,phone:s.value,email:a.value})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Gx),o.Y36(al),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-profile-page"]],decls:22,vars:5,consts:[["action","",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Company Name","formControlName","compname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"div"),o.TgZ(2,"form",0),o.TgZ(3,"h5"),o._uU(4),o.qZA(),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._uU(7,"Company Name"),o.qZA(),o._UZ(8,"input",2,3),o.qZA(),o.TgZ(10,"mat-form-field",1),o.TgZ(11,"mat-label"),o._uU(12,"Phone Number"),o.qZA(),o._UZ(13,"input",4,5),o.qZA(),o.TgZ(15,"mat-form-field",1),o.TgZ(16,"mat-label"),o._uU(17,"Email Address"),o.qZA(),o._UZ(18,"input",6,7),o.qZA(),o.TgZ(20,"button",8),o.NdJ("click",function(){o.CHM(a);const y=o.MAs(9),k=o.MAs(14),V=o.MAs(19);return s.update(y,k,V)}),o._uU(21,"Update"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.Q6J("formGroup",s.updateProfile),o.xp6(2),o.hij("My Profile - ",null==s.supplierInfo?null:s.supplierInfo.compname,""),o.xp6(4),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.compname),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.phone),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.email))},directives:[Bb,Iy,Dy,yg,Hx,t0,Q1,b_,cf,Dv,Dp],styles:["body[_ngcontent-%COMP%]{color:#e6e6e6}form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}"]}),t})();function O$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"h5",8),o._uU(2,"Manage Orders"),o.qZA(),o.TgZ(3,"span",9),o._UZ(4,"i",10),o.TgZ(5,"input",11),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(4).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function R$(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",12),o._uU(2,"Tracking Number "),o._UZ(3,"p-sortIcon",13),o.qZA(),o.TgZ(4,"th",14),o._uU(5,"Product Brand "),o._UZ(6,"p-sortIcon",15),o.qZA(),o.TgZ(7,"th",16),o._uU(8,"Unit Price "),o._UZ(9,"p-sortIcon",17),o.qZA(),o.TgZ(10,"th",18),o._uU(11,"Quantity "),o._UZ(12,"p-sortIcon",19),o.qZA(),o.TgZ(13,"th",20),o._uU(14,"Total Price "),o._UZ(15,"p-sortIcon",21),o.qZA(),o.TgZ(16,"th",22),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",23),o.qZA(),o._UZ(19,"th"),o.qZA())}function F$(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",24),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().confirmOrder(l)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.trackingNumber),o.xp6(2),o.Oqu(e.data.productname),o.xp6(2),o.Oqu(e.data.amount),o.xp6(2),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(o.xi3(11,5,e.data.amount*e.data.quantity,"MYR"))}}function N$(t,i){if(1&t&&(o.TgZ(0,"div",7),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.product?e.product.length:0," products. ")}}const z$=function(){return["data.productname","trackingNumber","data.quantity","status"]},Y$=function(){return{width:"450px"}};let B$=(()=>{class t{constructor(e,s,a,l,y){this.fs=e,this.fa=s,this.confirmationService=a,this.primengConfig=l,this.messageService=y,this.product=[],this.time=xE(),this.fa.authState.subscribe(k=>{this.fs.collection("Supplier").doc(null==k?void 0:k.uid).valueChanges().subscribe(V=>{let K=V.compname;this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(pe=>{this.product=[],pe.map(Se=>{if(Se.payload.doc.data().compname==K&&"paid"==Se.payload.doc.data().status){let Ue={trackingNumber:Se.payload.doc.id,data:Se.payload.doc.data()};this.product.push(Ue)}})})})})}ngOnInit(){this.primengConfig.ripple=!0}confirmOrder(e){this.confirmationService.confirm({message:"Are you sure that you want to confirm the order?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{console.log(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingNumber).update({status:"toship",preparetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}).then(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Order Confirmed Successfully!",life:3e3})})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(ci),o.Y36(Lv),o.Y36(km),o.Y36(X1))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-order-page"]],decls:10,vars:10,consts:[[1,"card"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","trackingNumber"],["field","product"],["pSortableColumn","data.productname"],["field","category"],["pSortableColumn","data.amount"],["field","inventoryStatus"],["pSortableColumn","data.quantity"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-table",1,2),o.YNc(5,O$,6,0,"ng-template",3),o.YNc(6,R$,20,0,"ng-template",4),o.YNc(7,F$,14,8,"ng-template",5),o.YNc(8,N$,2,1,"ng-template",6),o.qZA(),o.qZA(),o._UZ(9,"p-confirmDialog")),2&e&&(o.xp6(3),o.Q6J("value",s.product)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(8,z$))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,Y$)))},directives:[Bb,uA,qx,Od,QD,d0,N2,z2,c0],pipes:[Kh],styles:[""]}),t})();function V$(t,i){1&t&&o.GkF(0)}function H$(t,i){1&t&&o.GkF(0)}const H2=function(t){return{$implicit:t}};function U$(t,i){if(1&t&&(o.ynx(0),o.YNc(1,H$,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",s.markerTemplate)("ngTemplateOutletContext",o.VKq(2,H2,e))}}function j$(t,i){1&t&&o._UZ(0,"div",10)}function G$(t,i){1&t&&o._UZ(0,"div",11)}function Z$(t,i){1&t&&o.GkF(0)}function W$(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"div",3),o.YNc(2,V$,1,0,"ng-container",4),o.qZA(),o.TgZ(3,"div",5),o.YNc(4,U$,2,4,"ng-container",6),o.YNc(5,j$,1,0,"ng-template",null,7,o.W1O),o.YNc(7,G$,1,0,"div",8),o.qZA(),o.TgZ(8,"div",9),o.YNc(9,Z$,1,0,"ng-container",4),o.qZA(),o.qZA()),2&t){const e=i.$implicit,s=i.last,a=o.MAs(6),l=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",l.oppositeTemplate)("ngTemplateOutletContext",o.VKq(7,H2,e)),o.xp6(2),o.Q6J("ngIf",l.markerTemplate)("ngIfElse",a),o.xp6(3),o.Q6J("ngIf",!s),o.xp6(2),o.Q6J("ngTemplateOutlet",l.contentTemplate)("ngTemplateOutletContext",o.VKq(9,H2,e))}}const q$=function(t,i,e,s,a,l,y){return{"p-timeline p-component":!0,"p-timeline-left":t,"p-timeline-right":i,"p-timeline-top":e,"p-timeline-bottom":s,"p-timeline-alternate":a,"p-timeline-vertical":l,"p-timeline-horizontal":y}};let $$=(()=>{class t{constructor(e){this.el=e,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"opposite":this.oppositeTemplate=e.template;break;case"marker":this.markerTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-timeline"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,W$,10,11,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.Hh0(5,q$,"left"===s.align,"right"===s.align,"top"===s.align,"bottom"===s.align,"alternate"===s.align,"vertical"===s.layout,"horizontal"===s.layout)),o.xp6(1),o.Q6J("ngForOf",s.value))},directives:[Zi,ue,ft,Jr,dn],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite,.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-content,.p-timeline-event-opposite{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event,.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}"],encapsulation:2,changeDetection:0}),t})(),X$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi],Kc]}),t})();function Q$(t,i){1&t&&o.GkF(0)}function J$(t,i){if(1&t&&(o.TgZ(0,"div",8),o.Hsn(1,1),o.YNc(2,Q$,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function K$(t,i){1&t&&o.GkF(0)}function eX(t,i){if(1&t&&(o.TgZ(0,"div",9),o._uU(1),o.YNc(2,K$,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.header," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.titleTemplate)}}function tX(t,i){1&t&&o.GkF(0)}function nX(t,i){if(1&t&&(o.TgZ(0,"div",10),o._uU(1),o.YNc(2,tX,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.subheader," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.subtitleTemplate)}}function iX(t,i){1&t&&o.GkF(0)}function rX(t,i){1&t&&o.GkF(0)}function sX(t,i){if(1&t&&(o.TgZ(0,"div",11),o.Hsn(1,2),o.YNc(2,rX,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const oX=["*",[["p-header"]],[["p-footer"]]],aX=["*","p-header","p-footer"];let lX=(()=>{class t{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-card"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,kN,5),o.Suo(a,WD,5),o.Suo(a,Od,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:aX,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,s){1&e&&(o.F$t(oX),o.TgZ(0,"div",0),o.YNc(1,J$,3,1,"div",1),o.TgZ(2,"div",2),o.YNc(3,eX,3,2,"div",3),o.YNc(4,nX,3,2,"div",4),o.TgZ(5,"div",5),o.Hsn(6),o.YNc(7,iX,1,0,"ng-container",6),o.qZA(),o.YNc(8,sX,3,1,"div",7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-card p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngIf",s.headerFacet||s.headerTemplate),o.xp6(2),o.Q6J("ngIf",s.header||s.titleTemplate),o.xp6(1),o.Q6J("ngIf",s.subheader||s.subtitleTemplate),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[ue,Zi,dn,Jr],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),t})(),cX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi],Kc]}),t})();function uX(t,i){if(1&t&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function dX(t,i){if(1&t&&o.YNc(0,uX,3,2,"div",4),2&t){const e=o.oxw();o.Q6J("ngIf",e.selectedCountry)}}function hX(t,i){if(1&t&&(o.TgZ(0,"div",7),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function pX(t,i){if(1&t&&(o.TgZ(0,"span",12),o._UZ(1,"i",13),o.qZA()),2&t){const e=i.$implicit;o.Udp("background-color",e.color),o.xp6(1),o.Q6J("ngClass",e.icon)}}function fX(t,i){if(1&t&&(o.TgZ(0,"p-card",17),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3),o.ALo(4,"currency"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.Q6J("header","Product: "+e.selectedCountry.data.productname),o.xp6(3),o.hij("Amount: ",o.xi3(4,4,e.selectedCountry.data.amount,"MYR"),""),o.xp6(3),o.hij("Quantity: ",e.selectedCountry.data.quantity,""),o.xp6(2),o.hij("Total: ",o.xi3(9,7,e.totalprice,"MYR"),"")}}function mX(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.shipOut(a.selectedCountry)}),o._uU(1,"Ship Out"),o.qZA()}}function gX(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.completeOrder(a.selectedCountry)}),o._uU(1,"Order Completed"),o.qZA()}}function _X(t,i){if(1&t&&(o.TgZ(0,"p-card",14),o.YNc(1,fX,10,10,"p-card",15),o.YNc(2,mX,2,0,"button",16),o.YNc(3,gX,2,0,"button",16),o.qZA()),2&t){const e=i.$implicit;o.Q6J("header",e.status)("subheader",e.date),o.xp6(1),o.Q6J("ngIf",null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Processing"==e.status&&null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Shipped"==e.status&&null!==e.date&&1==e.index)}}function yX(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"p-timeline",9),o.YNc(2,pX,2,3,"ng-template",10),o.YNc(3,_X,4,5,"ng-template",11),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("value",e.events)}}const vX=[{path:"",component:t5},{path:"register",component:E5},{path:"forgotpassword",component:GU},{path:"adminpage",component:OI,canActivate:[Xh,x_]},{path:"adminmanageinv",component:PU,canActivate:[Xh,x_]},{path:"adminprofile",component:I5,canActivate:[Xh,x_]},{path:"adminviewhistory/:id",component:Z5,canActivate:[Xh,x_]},{path:"adminaddorder",component:Jj,canActivate:[Xh,x_]},{path:"admincartpage",component:b8,canActivate:[Xh,x_]},{path:"admincheckoutpage",component:U8,canActivate:[Xh,x_]},{path:"adminpermissionpage",component:V9,canActivate:[Xh,x_]},{path:"adminmenupage",component:t$,canActivate:[Xh,x_]},{path:"admintrackingpage",component:w$,canActivate:[Xh,x_]},{path:"studentpage",component:D5,canActivate:[Xh,NN]},{path:"supplierpage",component:vP,canActivate:[Xh,Tx]},{path:"supplierproduct",component:L$,canActivate:[Xh,Tx]},{path:"supplierprofile",component:P$,canActivate:[Xh,Tx]},{path:"supplierorder",component:B$,canActivate:[Xh,Tx]},{path:"suppliertracking",component:(()=>{class t{constructor(e,s){this.fs=e,this.router=s,this.date="15/10/2020 10:30",this.temp=!1,this.temp2=!1,this.temp3=!1,this.temp4=!1,this.totalprice=0,this.time=xE(),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(a=>{this.trackingInfo=[],this.selectedCountry=[],a.map(l=>{let y={trackingnumber:l.payload.doc.id,data:l.payload.doc.data()};this.trackingInfo.push(y),console.log(this.trackingInfo)})})}ngOnInit(){this.events=[{status:"Ordered",date:null,icon:vg.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg"},{status:"Processing",date:null,icon:vg.COG,color:"#e0e0e0"},{status:"Shipped",date:null,icon:vg.ENVELOPE,color:"#e0e0e0"},{status:"Delivered",date:null,icon:vg.CHECK,color:"#e0e0e0"}]}submit(){console.log(this.selectedCountry),this.totalprice=this.selectedCountry.data.quantity*this.selectedCountry.data.amount,null!==this.selectedCountry?(this.events=[{status:"Ordered",date:null,icon:vg.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:vg.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:vg.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:vg.CHECK,color:"#e0e0e0",index:null}],this.events.forEach((e,s)=>{var a,l,y,k,V,K,pe,Se,Ue,Je,rt,Tt,Qt,Cn,Jn,Zn;null!==(null===(l=null===(a=this.selectedCountry)||void 0===a?void 0:a.data)||void 0===l?void 0:l.ordertimestamp)&&"Ordered"===e.status&&(e.date=null===(k=null===(y=this.selectedCountry)||void 0===y?void 0:y.data)||void 0===k?void 0:k.ordertimestamp,e.color="#2dc258",this.events[0].index=!0),null!==(null===(K=null===(V=this.selectedCountry)||void 0===V?void 0:V.data)||void 0===K?void 0:K.preparetimestamp)&&"Processing"===e.status&&(e.date=null===(Se=null===(pe=this.selectedCountry)||void 0===pe?void 0:pe.data)||void 0===Se?void 0:Se.preparetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!0),null!==(null===(Je=null===(Ue=this.selectedCountry)||void 0===Ue?void 0:Ue.data)||void 0===Je?void 0:Je.shiptimestamp)&&"Shipped"===e.status&&(e.date=null===(Tt=null===(rt=this.selectedCountry)||void 0===rt?void 0:rt.data)||void 0===Tt?void 0:Tt.shiptimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!0),null!==(null===(Cn=null===(Qt=this.selectedCountry)||void 0===Qt?void 0:Qt.data)||void 0===Cn?void 0:Cn.completetimestamp)&&"Delivered"===e.status&&(e.date=null===(Zn=null===(Jn=this.selectedCountry)||void 0===Jn?void 0:Jn.data)||void 0===Zn?void 0:Zn.completetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!1,this.events[3].index=!0)})):this.events=[{status:"Ordered",date:null,icon:vg.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:vg.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:vg.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:vg.CHECK,color:"#e0e0e0",index:null}]}shipOut(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({shiptimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"tocomplete"})}completeOrder(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({completetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"completed"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(al),o.Y36(Ao))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-tracking-page"]],decls:5,vars:6,consts:[["optionLabel","","placeholder","Select Tracking Number",3,"options","ngModel","filter","filterBy","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["class","card",4,"ngIf"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"hello"],[1,"country-item"],[1,"card"],["align","alternate","styleClass","customized-timeline",3,"value"],["pTemplate","marker"],["pTemplate","content"],[1,"custom-marker","p-shadow-2"],[3,"ngClass"],[3,"header","subheader"],[3,"header",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[3,"header"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"p-dropdown",0),o.NdJ("ngModelChange",function(l){return s.selectedCountry=l})("onChange",function(){return s.submit()}),o.YNc(2,dX,1,1,"ng-template",1),o.YNc(3,hX,3,2,"ng-template",2),o.qZA(),o.YNc(4,yX,4,1,"div",3)),2&e&&(o.xp6(1),o.Q6J("options",s.trackingInfo)("ngModel",s.selectedCountry)("filter",!0)("filterBy","trackingnumber")("showClear",!0),o.xp6(3),o.Q6J("ngIf",s.selectedCountry))},directives:[Bb,O2,cf,Ay,Od,dn,$$,ue,lX,Dp],pipes:[Kh],styles:[".custom-marker[_ngcontent-%COMP%]{display:flex;width:2rem;height:2rem;align-items:center;justify-content:center;color:#fff;border-radius:50%;z-index:1}.p-timeline[_ngcontent-%COMP%]{height:400px!important}.p-timeline-event-separator[_ngcontent-%COMP%]{color:red!important}button[_ngcontent-%COMP%]{margin-top:10px}"]}),t})(),canActivate:[Xh,Tx]}];let bX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ng.forRoot(vX,{onSameUrlNavigation:"reload"})],Ng]}),t})(),xX=(()=>{class t{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:[rh],styles:[""]}),t})(),W3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[to],to]}),t})();function q3(t,i,e){const s={timing:t,delay:0,rotateX:i,rotateY:e};return Cy([si({"backface-visibility":"visible"}),as("{{ timing }}s {{ delay }}s ease-in",Sv([si({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),si({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),si({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),si({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),si({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:s})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),q3(1,1,0),q3(1,0,1),Cy(as("{{ timing }}s {{ delay }}s",Sv([si({transform:"translate3d(0, 0, 0)",offset:0}),si({transform:"translate3d(-10px, 0, 0)",offset:.1}),si({transform:"translate3d(10px, 0, 0)",offset:.2}),si({transform:"translate3d(-10px, 0, 0)",offset:.3}),si({transform:"translate3d(10px, 0, 0)",offset:.4}),si({transform:"translate3d(-10px, 0, 0)",offset:.5}),si({transform:"translate3d(10px, 0, 0)",offset:.6}),si({transform:"translate3d(-10px, 0, 0)",offset:.7}),si({transform:"translate3d(10px, 0, 0)",offset:.8}),si({transform:"translate3d(-10px, 0, 0)",offset:.9}),si({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let oQ=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,FN,W3,g3,uT]]}),t})();var aQ=De(3300);window.ApexCharts=De.n(aQ)();let uQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[]]}),t})();function dQ(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}function hQ(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}class gQ{constructor(i){this._elementRef=i}}const _Q=R1(gQ,"primary"),Q3=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Rv extends _Q{constructor(i,e,s,a,l){super(i),this._elementRef=i,this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const y=Rv._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(s.head)||y.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=Xc(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=Xc(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,Xc(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=zE(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,e=this._diameter,s=Rv._diameters;let a=s.get(i);if(!a||!a.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(e)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Rv.\u0275fac=function(i){return new(i||Rv)(o.Y36(o.SBq),o.Y36(pa),o.Y36(Te,8),o.Y36(af,8),o.Y36(Q3))},Rv.\u0275cmp=o.Xpm({type:Rv,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,e){2&i&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,e){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,dQ,1,9,"circle",1),o.YNc(2,hQ,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[lr,fi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Rv._diameters=new WeakMap;let bQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[to,Wi],to]}),t})(),xQ=(()=>{class t{constructor(e){this.admins=e}intercept(e,s){return this.admins.isLoading.next(!0),s.handle(e).pipe(pp(()=>{this.admins.isLoading.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(qD))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wQ(t,i){}class j2{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const CQ={dialogContainer:ka("dialogContainer",[To("void, exit",si({opacity:0,transform:"scale(0.7)"})),To("enter",si({transform:"none"})),Br("* => enter",as("150ms cubic-bezier(0, 0, 0.2, 1)",si({transform:"none",opacity:1}))),Br("* => void, * => exit",as("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",si({opacity:0})))])};let MQ=(()=>{class t extends wD{constructor(e,s,a,l,y,k){super(),this._elementRef=e,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=y,this._focusMonitor=k,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=V=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(V)),this._ariaLabelledBy=y.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const s=this._getActiveElement(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=this._getActiveElement();return e===s||e.contains(s)}_getActiveElement(){var e;const s=this._document.activeElement;return(null===(e=null==s?void 0:s.shadowRoot)||void 0===e?void 0:e.activeElement)||s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(JM),o.Y36(o.sBO),o.Y36(Te,8),o.Y36(j2),o.Y36(fg))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&o.Gf(Bx,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),t})(),TQ=(()=>{class t extends MQ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:s}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:e,totalTime:s}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,s){1&e&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&e&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&o.YNc(0,wQ,0,0,"ng-template",0)},directives:[Bx],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[CQ.dialogContainer]}}),t})(),SQ=0;class G2{constructor(i,e,s="mat-dialog-"+SQ++){this._overlayRef=i,this._containerInstance=e,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ai.xQ,this._afterClosed=new ai.xQ,this._beforeClosed=new ai.xQ,this._state=0,e._id=s,e._animationStateChanged.pipe(C(a=>"opened"===a.state),ve(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(C(a=>"closed"===a.state),ve(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(C(a=>27===a.keyCode&&!this.disableClose&&!y_(a))).subscribe(a=>{a.preventDefault(),Z2(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Z2(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(C(e=>"closing"===e.state),ve(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Z2(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const kQ=new o.OlP("MatDialogData"),EQ=new o.OlP("mat-dialog-default-options"),J3=new o.OlP("mat-dialog-scroll-strategy"),AQ={provide:J3,deps:[Sm],useFactory:function(t){return()=>t.scrollStrategies.block()}};let IQ=(()=>{class t{constructor(e,s,a,l,y,k,V,K,pe){this._overlay=e,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=y,this._dialogRefConstructor=V,this._dialogContainerType=K,this._dialogDataToken=pe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ai.xQ,this._afterOpenedAtThisLevel=new ai.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Ke(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xn(void 0))),this._scrollStrategy=k}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,s){(s=function(t,i){return Object.assign(Object.assign({},i),t)}(s,this._defaultOptions||new j2)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),y=this._attachDialogContent(e,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(y),y.afterClosed().subscribe(()=>this._removeOpenDialog(y)),this.afterOpened.next(y),l._initializeWithAttachedContent(),y}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const s=this._getOverlayConfig(e);return this._overlay.create(s)}_getOverlayConfig(e){const s=new gT({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachDialogContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:j2,useValue:s}]}),y=new N1(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return e.attach(y).instance}_attachDialogContent(e,s,a,l){const y=new this._dialogRefConstructor(a,s,l.id);if(e instanceof o.Rgc)s.attachTemplatePortal(new e0(e,null,{$implicit:l.data,dialogRef:y}));else{const k=this._createInjector(l,y,s),V=s.attachComponentPortal(new N1(e,l.viewContainerRef,k));y.componentInstance=V.instance}return y.updateSize(l.width,l.height).updatePosition(l.position),y}_createInjector(e,s,a){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,y=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:s}];return e.direction&&(!l||!l.get(of,null))&&y.push({provide:of,useValue:{value:e.direction,change:(0,Ti.of)()}}),o.zs3.create({parent:l||this._injector,providers:y})}_removeOpenDialog(e){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sm),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(_T),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},t.\u0275dir=o.lG2({type:t}),t})(),W2=(()=>{class t extends IQ{constructor(e,s,a,l,y,k,V){super(e,s,l,k,V,y,G2,TQ,kQ)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Sm),o.LFG(o.zs3),o.LFG(oi,8),o.LFG(EQ,8),o.LFG(J3),o.LFG(t,12),o.LFG(_T))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),OQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[W2,AQ],imports:[[yT,CD,to],to]}),t})(),FQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi],Kc]}),t})(),q2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Em]]}),t})();const $Q=["input"];function XQ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().onMaskToggle()}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.toggleIconClass())}}function QQ(t,i){1&t&&o.GkF(0)}function JQ(t,i){1&t&&o.GkF(0)}function KQ(t,i){if(1&t&&(o.ynx(0),o.YNc(1,JQ,1,0,"ng-container",6),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const eJ=function(t){return{width:t}};function tJ(t,i){if(1&t&&(o.TgZ(0,"div",9),o._UZ(1,"div",0),o.qZA(),o.TgZ(2,"div",10),o._uU(3),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",e.strengthClass())("ngStyle",o.VKq(3,eJ,e.meter?e.meter.width:"")),o.xp6(2),o.Oqu(e.infoText)}}function nJ(t,i){1&t&&o.GkF(0)}const iJ=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},rJ=function(t){return{value:"visible",params:t}};function sJ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",4,5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(2,QQ,1,0,"ng-container",6),o.YNc(3,KQ,2,1,"ng-container",7),o.YNc(4,tJ,4,5,"ng-template",null,8,o.W1O),o.YNc(6,nJ,1,0,"ng-container",6),o.qZA()}if(2&t){const e=o.MAs(5),s=o.oxw();o.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",o.VKq(9,rJ,o.WLB(6,iJ,s.showTransitionOptions,s.hideTransitionOptions))),o.xp6(2),o.Q6J("ngTemplateOutlet",s.headerTemplate),o.xp6(1),o.Q6J("ngIf",s.contentTemplate)("ngIfElse",e),o.xp6(3),o.Q6J("ngTemplateOutlet",s.footerTemplate)}}const oJ={provide:Jc,useExisting:(0,o.Gpc)(()=>aJ),multi:!0};let aJ=(()=>{class t{constructor(e,s,a,l){this.cd=e,this.config=s,this.el=a,this.overlayService=l,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,Du.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){switch(e.toState){case"void":Du.clear(e.element)}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=an.getOuterWidth(this.input.nativeElement)+"px",an.absolutePosition(this.overlay,this.input.nativeElement)):an.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onFocus(){this.focused=!0,this.feedback&&(this.overlayVisible=!0)}onBlur(){this.focused=!1,this.feedback&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let s=null,a=null;switch(this.testStrength(e)){case 1:s=this.weakText(),a={strength:"weak",width:"33.33%"};break;case 2:s=this.mediumText(),a={strength:"medium",width:"66.66%"};break;case 3:s=this.strongText(),a={strength:"strong",width:"100%"};break;default:s=this.promptText(),a=null}this.meter=a,this.infoText=s}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let s=0;return this.strongCheckRegExp.test(e)?s=3:this.mediumCheckRegExp.test(e)?s=2:e.length&&(s=1),s}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new RT(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(sd.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(sd.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(sd.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(sd.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}ngOnDestroy(){this.overlay&&(Du.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(km),o.Y36(o.SBq),o.Y36(OT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-password"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf($Q,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled())("p-inputwrapper-focus",s.focused)},inputs:{disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder"},features:[o._Bn([oJ])],decls:5,vars:14,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup"],["input",""],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onInput(l)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("keyup",function(l){return s.onKeyUp(l)}),o.qZA(),o.YNc(3,XQ,1,1,"i",3),o.YNc(4,sJ,7,11,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",s.containerClass())("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass",s.inputFieldClass())("ngStyle",s.inputStyle)("value",s.value),o.uIk("id",s.inputId)("type",s.inputType())("placeholder",s.placeholder),o.xp6(2),o.Q6J("ngIf",s.toggleMask),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[ue,Zi,d0,dn,Jr],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}"],encapsulation:2,data:{animation:[ka("overlayAnimation",[Br(":enter",[si({opacity:0,transform:"scaleY(0.8)"}),as("{{showTransitionParams}}")]),Br(":leave",[as("{{hideTransitionParams}}",si({opacity:0}))])])]},changeDetection:0}),t})(),lJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,zT],Kc]}),t})();De(2958);const pJ=new o.OlP("MapboxApiKey"),fJ=new o.OlP("MapboxApiKey");let mJ=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:pJ,useValue:e.accessToken},{provide:fJ,useValue:e.geocoderAccessToken||e.accessToken}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),xJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),OJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,to,xJ,CD]]}),t})();class FJ{constructor(i,e){this.notifier=i,this.source=e}call(i,e){return e.subscribe(new NJ(i,this.notifier,this.source))}}class NJ extends Eo.Ds{constructor(i,e,s){super(i),this.notifier=e,this.source=s}error(i){if(!this.isStopped){let e=this.errors,s=this.retries,a=this.retriesSubscription;if(s)this.errors=void 0,this.retriesSubscription=void 0;else{e=new ai.xQ;try{const{notifier:l}=this;s=l(e)}catch(l){return super.error(l)}a=(0,Eo.ft)(s,new Eo.IY(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=s,this.retriesSubscription=a,e.next(i)}}_unsubscribe(){const{errors:i,retriesSubscription:e}=this;i&&(i.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:i}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)}}var dA=De(3815);const rz=new o.OlP("ConnectionServiceOptionsToken");class bg{constructor(i,e){this.http=i,this.stateChangeEventEmitter=new o.vpe,this.currentState={hasInternetAccess:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions=(0,dA.defaults)({},e,bg.DEFAULT_OPTIONS,{heartbeatExecutor:()=>this.http.request(this.serviceOptions.requestMethod,this.serviceOptions.heartbeatUrl,{responseType:"text"})}),this.checkNetworkState(),this.checkInternetState()}get options(){return(0,dA.clone)(this.serviceOptions)}checkInternetState(){(0,dA.isNil)(this.httpSubscription)||this.httpSubscription.unsubscribe(),this.serviceOptions.enableHeartbeat?this.httpSubscription=IR(0,this.serviceOptions.heartbeatInterval).pipe(Es(()=>this.serviceOptions.heartbeatExecutor(this.serviceOptions)),function(t){return i=>i.lift(new FJ(t,i))}(i=>i.pipe((0,La.b)(e=>{console.error("Http error:",e),this.currentState.hasInternetAccess=!1,this.emitEvent()}),x2(this.serviceOptions.heartbeatRetryInterval)))).subscribe(i=>{this.currentState.hasInternetAccess=!0,this.emitEvent()}):(this.currentState.hasInternetAccess=!1,this.emitEvent())}checkNetworkState(){this.onlineSubscription=Kb(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.emitEvent()}),this.offlineSubscription=Kb(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.checkInternetState(),this.emitEvent()})}emitEvent(){this.stateChangeEventEmitter.emit(this.currentState)}ngOnDestroy(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(i){}}monitor(i=!0){return i?this.stateChangeEventEmitter.pipe(Sx(300),xn(this.currentState)):this.stateChangeEventEmitter.pipe(Sx(300))}updateOptions(i){this.serviceOptions=(0,dA.defaults)({},i,this.serviceOptions),this.checkInternetState()}}bg.\u0275fac=function(i){return new(i||bg)(o.LFG(K1),o.LFG(rz,8))},bg.\u0275prov=o.Yz7({token:bg,factory:bg.\u0275fac,providedIn:"root"}),bg.DEFAULT_OPTIONS={enableHeartbeat:!0,heartbeatUrl:"//server.test-cors.org/server?id="+Date.now()+"&enable=true&status=200&credentials=false",heartbeatInterval:3e4,heartbeatRetryInterval:1e3,requestMethod:"head"},bg.ngInjectableDef=(0,o.Ez6)({factory:function(){return new bg((0,o.f3M)(K1),(0,o.f3M)(rz,8))},token:bg,providedIn:"root"});let zJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[bg],imports:[[u3]]}),t})(),az=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),QJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[uT,to,y1,az],to,az]}),t})(),KJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),lz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi]]}),t})(),mK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,Kc,Pv,lz,q2,Em],Kc,Pv,lz,q2]}),t})();const gK=["inputtext"];function _K(t,i){1&t&&o.GkF(0)}function yK(t,i){if(1&t&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Oqu(s.field?s.resolveFieldData(e,s.field):e)}}function vK(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().index;return o.oxw().removeItem(a,l)}),o.qZA()}}const bK=function(t){return{$implicit:t}};function xK(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",6,7),o.NdJ("click",function(a){const y=o.CHM(e).$implicit;return o.oxw().onItemClick(a,y)}),o.YNc(2,_K,1,0,"ng-container",8),o.YNc(3,yK,2,1,"span",9),o.YNc(4,vK,1,0,"span",10),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",o.VKq(4,bK,e)),o.xp6(1),o.Q6J("ngIf",!s.itemTemplate),o.xp6(1),o.Q6J("ngIf",!s.disabled)}}const wK=function(t,i){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":t,"p-disabled":i}},CK={provide:Jc,useExisting:(0,o.Gpc)(()=>MK),multi:!0};let MK=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.allowDuplicate=!0,this.onAdd=new o.vpe,this.onRemove=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onChipClick=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(a=>{this.addItem(e,a,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,s){this.onChipClick.emit({originalEvent:e,value:s})}writeValue(e){this.value=e,this.updateMaxedOut(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,s){if(e&&s){if(-1==s.indexOf("."))return e[s];{let y=s.split("."),k=e;for(var a=0,l=y.length;a<l;++a)k=k[y[a]];return k}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,s){if(this.disabled)return;let a=this.value[s];this.value=this.value.filter((l,y)=>y!=s),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:a}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,s,a){this.value=this.value||[],s&&s.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(s))&&(this.value=[...this.value,s],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:s})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",a&&e.preventDefault()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let s=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:s}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&","===this.separator&&188===e.which&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.disabled=!(!this.max||!this.value||this.max!==this.value.length)||this.disabled||!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-chips"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Od,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(gK,5),2&e){let a;o.iGM(a=o.CRH())&&(s.inputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick"},features:[o._Bn([CK])],decls:6,vars:17,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return s.onClick()}),o.TgZ(1,"ul",1),o.YNc(2,xK,5,6,"li",2),o.TgZ(3,"li",3),o.TgZ(4,"input",4,5),o.NdJ("keydown",function(l){return s.onKeydown(l)})("input",function(){return s.onInput()})("paste",function(l){return s.onPaste(l)})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-chips p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngClass",o.WLB(14,wK,s.focus,s.disabled)),o.xp6(1),o.Q6J("ngForOf",s.value),o.xp6(2),o.Tol(s.inputStyleClass),o.Q6J("disabled",s.disabled)("ngStyle",s.inputStyle),o.uIk("id",s.inputId)("placeholder",s.value&&s.value.length?null:s.placeholder)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy))},directives:[ue,Zi,ft,Jr,dn],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}"],encapsulation:2,changeDetection:0}),t})(),TK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wi,zT,Kc],zT,Kc]}),t})(),SK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[xX]}),t.\u0275inj=o.cJS({providers:[Xh,g_,x_,{provide:k2,useClass:xQ,multi:!0},Tx,NN,Lv,X1,B2],imports:[[op,bX,gr.hO.initializeApp(vi_firebase),ba,RD,rN.withConfig({warnOnNgModelWithFormControl:"never"}),oQ,TD,bE,nB,YN,uQ,TH,nH,$B,RH,bQ,FN,NL,OQ,uU,FQ,q2,g3,lJ,BH,mJ.withConfig({accessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w",geocoderAccessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w"}),u3,oj,Oj,uN,OJ,QJ,KJ,W3,_8,R3,oA,q8,f9,o9,d7,mK,B7,TK,cX,Y8,G7,zJ,g$,X$]]}),t})();(0,o.G48)(),oc().bootstrapModule(SK).catch(t=>console.error(t))},4762:(Ht,St,De)=>{"use strict";De.d(St,{ZT:()=>W,pi:()=>J,mG:()=>xe,Jh:()=>Fe,XA:()=>ht,CR:()=>At,ev:()=>at});var o=function(_n,ln){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vn,un){vn.__proto__=un}||function(vn,un){for(var Rn in un)Object.prototype.hasOwnProperty.call(un,Rn)&&(vn[Rn]=un[Rn])})(_n,ln)};function W(_n,ln){if("function"!=typeof ln&&null!==ln)throw new TypeError("Class extends value "+String(ln)+" is not a constructor or null");function vn(){this.constructor=_n}o(_n,ln),_n.prototype=null===ln?Object.create(ln):(vn.prototype=ln.prototype,new vn)}var J=function(){return(J=Object.assign||function(ln){for(var vn,un=1,Rn=arguments.length;un<Rn;un++)for(var fn in vn=arguments[un])Object.prototype.hasOwnProperty.call(vn,fn)&&(ln[fn]=vn[fn]);return ln}).apply(this,arguments)};function xe(_n,ln,vn,un){return new(vn||(vn=Promise))(function(fn,ni){function Pi(bi){try{ui(un.next(bi))}catch(mi){ni(mi)}}function Fi(bi){try{ui(un.throw(bi))}catch(mi){ni(mi)}}function ui(bi){bi.done?fn(bi.value):function(fn){return fn instanceof vn?fn:new vn(function(ni){ni(fn)})}(bi.value).then(Pi,Fi)}ui((un=un.apply(_n,ln||[])).next())})}function Fe(_n,ln){var un,Rn,fn,ni,vn={label:0,sent:function(){if(1&fn[0])throw fn[1];return fn[1]},trys:[],ops:[]};return ni={next:Pi(0),throw:Pi(1),return:Pi(2)},"function"==typeof Symbol&&(ni[Symbol.iterator]=function(){return this}),ni;function Pi(ui){return function(bi){return function(ui){if(un)throw new TypeError("Generator is already executing.");for(;vn;)try{if(un=1,Rn&&(fn=2&ui[0]?Rn.return:ui[0]?Rn.throw||((fn=Rn.return)&&fn.call(Rn),0):Rn.next)&&!(fn=fn.call(Rn,ui[1])).done)return fn;switch(Rn=0,fn&&(ui=[2&ui[0],fn.value]),ui[0]){case 0:case 1:fn=ui;break;case 4:return vn.label++,{value:ui[1],done:!1};case 5:vn.label++,Rn=ui[1],ui=[0];continue;case 7:ui=vn.ops.pop(),vn.trys.pop();continue;default:if(!(fn=(fn=vn.trys).length>0&&fn[fn.length-1])&&(6===ui[0]||2===ui[0])){vn=0;continue}if(3===ui[0]&&(!fn||ui[1]>fn[0]&&ui[1]<fn[3])){vn.label=ui[1];break}if(6===ui[0]&&vn.label<fn[1]){vn.label=fn[1],fn=ui;break}if(fn&&vn.label<fn[2]){vn.label=fn[2],vn.ops.push(ui);break}fn[2]&&vn.ops.pop(),vn.trys.pop();continue}ui=ln.call(_n,vn)}catch(bi){ui=[6,bi],Rn=0}finally{un=fn=0}if(5&ui[0])throw ui[1];return{value:ui[0]?ui[1]:void 0,done:!0}}([ui,bi])}}}function ht(_n){var ln="function"==typeof Symbol&&Symbol.iterator,vn=ln&&_n[ln],un=0;if(vn)return vn.call(_n);if(_n&&"number"==typeof _n.length)return{next:function(){return _n&&un>=_n.length&&(_n=void 0),{value:_n&&_n[un++],done:!_n}}};throw new TypeError(ln?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(_n,ln){var vn="function"==typeof Symbol&&_n[Symbol.iterator];if(!vn)return _n;var Rn,ni,un=vn.call(_n),fn=[];try{for(;(void 0===ln||ln-- >0)&&!(Rn=un.next()).done;)fn.push(Rn.value)}catch(Pi){ni={error:Pi}}finally{try{Rn&&!Rn.done&&(vn=un.return)&&vn.call(un)}finally{if(ni)throw ni.error}}return fn}function at(_n,ln,vn){if(vn||2===arguments.length)for(var fn,un=0,Rn=ln.length;un<Rn;un++)(fn||!(un in ln))&&(fn||(fn=Array.prototype.slice.call(ln,0,un)),fn[un]=ln[un]);return _n.concat(fn||Array.prototype.slice.call(ln))}},6700:(Ht,St,De)=>{var o={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":4391,"./bo.js":4391,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":7978,"./da.js":7978,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":536,"./is.js":536,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":1705,"./ml.js":1705,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":6490,"./sw.js":6490,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":4810,"./uk.js":4810,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function W(b){var ce=J(b);return De(ce)}function J(b){if(!De.o(o,b)){var ce=new Error("Cannot find module '"+b+"'");throw ce.code="MODULE_NOT_FOUND",ce}return o[b]}W.keys=function(){return Object.keys(o)},W.resolve=J,Ht.exports=W,W.id=6700}},Ht=>{Ht(Ht.s=3102)}]);