var U_e=Object.defineProperty,j_e=Object.defineProperties,Z_e=Object.getOwnPropertyDescriptors,AU=Object.getOwnPropertySymbols,W_e=Object.prototype.hasOwnProperty,G_e=Object.prototype.propertyIsEnumerable,IU=(jt,kt,Ae)=>kt in jt?U_e(jt,kt,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):jt[kt]=Ae,CF=(jt,kt)=>{for(var Ae in kt||(kt={}))W_e.call(kt,Ae)&&IU(jt,Ae,kt[Ae]);if(AU)for(var Ae of AU(kt))G_e.call(kt,Ae)&&IU(jt,Ae,kt[Ae]);return jt},MF=(jt,kt)=>j_e(jt,Z_e(kt));(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:jt=>{function kt(Ae){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+Ae+"'");throw o.code="MODULE_NOT_FOUND",o})}kt.keys=()=>[],kt.resolve=kt,kt.id=8255,jt.exports=kt},7716:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{deG:()=>ri,tb:()=>iT,AFp:()=>tD,ip1:()=>Hy,CZH:()=>Y_,hGG:()=>zN,z2F:()=>k1,sBO:()=>Jk,Sil:()=>Vy,_Vd:()=>rl,EJc:()=>rT,SBq:()=>Og,qLn:()=>ga,vpe:()=>Hg,gxx:()=>Tf,tBr:()=>jo,XFs:()=>Ci,OlP:()=>Po,zs3:()=>Se,ZZ4:()=>hx,aQg:()=>Av,soG:()=>Vg,YKP:()=>F_,v3s:()=>E1,h0i:()=>Iv,PXZ:()=>tP,R0b:()=>ta,FiY:()=>Ha,Lbi:()=>nT,g9A:()=>nD,n_E:()=>Ax,Qsj:()=>Vk,FYo:()=>ux,JOm:()=>Hu,Tiy:()=>uM,q3G:()=>Fs,tp0:()=>Pa,EAV:()=>CN,Rgc:()=>Hb,dDg:()=>M1,DyG:()=>U,q4F:()=>dM,GfV:()=>jk,s_b:()=>Fy,ifc:()=>Zn,eFA:()=>jy,Ez6:()=>So,G48:()=>$L,Gpc:()=>Mt,f3M:()=>is,X6Q:()=>oT,_c5:()=>LN,VLi:()=>Ll,c2e:()=>VL,zSh:()=>zc,wAp:()=>Sr,vHH:()=>Gt,EiD:()=>Fd,mCW:()=>lo,qzn:()=>zp,JVY:()=>Ru,pB0:()=>Tm,eBb:()=>rc,L6k:()=>ji,LAX:()=>Yr,cg1:()=>WC,Tjo:()=>AN,kL8:()=>ak,yhl:()=>n_,dqk:()=>Cs,sIi:()=>Vm,CqO:()=>gw,QGY:()=>$0,F4k:()=>NS,RDi:()=>qa,AaK:()=>Te,z3N:()=>sd,qOj:()=>Is,TTD:()=>$i,_Bn:()=>lx,xp6:()=>hb,uIk:()=>yb,Tol:()=>qS,Gre:()=>YC,ekj:()=>xw,Suo:()=>OE,Xpm:()=>at,lG2:()=>Zt,Yz7:()=>Er,cJS:()=>ss,oAB:()=>Bt,Yjl:()=>Kt,Y36:()=>wv,_UZ:()=>Mb,GkF:()=>TC,BQk:()=>mw,ynx:()=>MC,qZA:()=>Ay,TgZ:()=>Dy,EpF:()=>FS,n5z:()=>Rp,Ikx:()=>jC,LFG:()=>Vi,$8M:()=>yh,NdJ:()=>_w,CRH:()=>RE,kcU:()=>Ar,O4$:()=>Ii,oxw:()=>A_,ALo:()=>UM,lcZ:()=>DE,xi3:()=>AE,Hsn:()=>J0,F$t:()=>SC,Q6J:()=>q0,s9C:()=>kC,MGl:()=>I_,DdM:()=>Yg,VKq:()=>Xb,WLB:()=>zM,kEZ:()=>BM,l5B:()=>SE,qbA:()=>Jp,HTZ:()=>YM,Hh0:()=>kE,rFY:()=>HM,iGM:()=>zy,MAs:()=>ke,pYS:()=>Vp,CHM:()=>Vh,oJD:()=>Nd,LSH:()=>zd,kYT:()=>Ot,Akn:()=>jm,Udp:()=>bw,WFA:()=>pm,d8E:()=>ZC,YNc:()=>H,W1O:()=>NE,_uU:()=>ek,Oqu:()=>Fh,hij:()=>ex,AsE:()=>Cw,xDo:()=>tx,Gf:()=>PE});var o=Ae(9765),$=Ae(5319),ee=Ae(7574),x=Ae(6682),de=Ae(8819);function Me(u){for(let d in u)if(u[d]===Me)return d;throw Error("Could not find renamed property on target object.")}function De(u,d){for(const g in d)d.hasOwnProperty(g)&&!u.hasOwnProperty(g)&&(u[g]=d[g])}function Te(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(Te).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const d=u.toString();if(null==d)return""+d;const g=d.indexOf("\n");return-1===g?d:d.substring(0,g)}function Ye(u,d){return null==u||""===u?null===d?"":d:null==d||""===d?u:u+" "+d}const We=Me({__forward_ref__:Me});function Mt(u){return u.__forward_ref__=Mt,u.toString=function(){return Te(this())},u}function gt(u){return Pt(u)?u():u}function Pt(u){return"function"==typeof u&&u.hasOwnProperty(We)&&u.__forward_ref__===Mt}class Gt extends Error{constructor(d,g){super(function(u,d){return`${u?`NG0${u}: `:""}${d}`}(d,g)),this.code=d}}function Rn(u){return"string"==typeof u?u:null==u?"":String(u)}function qt(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():Rn(u)}function zi(u,d){const g=d?` in ${d}`:"";throw new Gt("201",`No provider for ${qt(u)} found${g}`)}function Ei(u,d){null==u&&function(u,d,g,w){throw new Error(`ASSERTION ERROR: ${u}`+(null==w?"":` [Expected=> ${g} ${w} ${d} <=Actual]`))}(d,u,null,"!=")}function Er(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}const So=Er;function ss(u){return{providers:u.providers||[],imports:u.imports||[]}}function qs(u){return Ks(u,Ki)||Ks(u,ko)}function Ks(u,d){return u.hasOwnProperty(d)?u[d]:null}function Ea(u){return u&&(u.hasOwnProperty(nr)||u.hasOwnProperty($s))?u[nr]:null}const Ki=Me({\u0275prov:Me}),nr=Me({\u0275inj:Me}),ko=Me({ngInjectableDef:Me}),$s=Me({ngInjectorDef:Me});var Ci=(()=>((Ci=Ci||{})[Ci.Default=0]="Default",Ci[Ci.Host=1]="Host",Ci[Ci.Self=2]="Self",Ci[Ci.SkipSelf=4]="SkipSelf",Ci[Ci.Optional=8]="Optional",Ci))();let gs;function ir(u){const d=gs;return gs=u,d}function Eo(u,d,g){const w=qs(u);return w&&"root"==w.providedIn?void 0===w.value?w.value=w.factory():w.value:g&Ci.Optional?null:void 0!==d?d:void zi(Te(u),"Injector")}function es(u){return{toString:u}.toString()}var Vs=(()=>((Vs=Vs||{})[Vs.OnPush=0]="OnPush",Vs[Vs.Default=1]="Default",Vs))(),Zn=(()=>((Zn=Zn||{})[Zn.Emulated=0]="Emulated",Zn[Zn.None=2]="None",Zn[Zn.ShadowDom=3]="ShadowDom",Zn))();const Ji="undefined"!=typeof globalThis&&globalThis,ml="undefined"!=typeof window&&window,za="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Da="undefined"!=typeof global&&global,Cs=Ji||Da||ml||za,Ft={},Rt=[],Qt=Me({\u0275cmp:Me}),gn=Me({\u0275dir:Me}),an=Me({\u0275pipe:Me}),_i=Me({\u0275mod:Me}),Zi=Me({\u0275loc:Me}),mr=Me({\u0275fac:Me}),Zr=Me({__NG_ELEMENT_ID__:Me});let Dr=0;function at(u){return es(()=>{const g={},w={type:u.type,providersResolver:null,decls:u.decls,vars:u.vars,factory:null,template:u.template||null,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:u.exportAs||null,onPush:u.changeDetection===Vs.OnPush,directiveDefs:null,pipeDefs:null,selectors:u.selectors||Rt,viewQuery:u.viewQuery||null,features:u.features||null,data:u.data||{},encapsulation:u.encapsulation||Zn.Emulated,id:"c",styles:u.styles||Rt,_:null,setInput:null,schemas:u.schemas||null,tView:null},A=u.directives,Y=u.features,Q=u.pipes;return w.id+=Dr++,w.inputs=rn(u.inputs,g),w.outputs=rn(u.outputs),Y&&Y.forEach(ne=>ne(w)),w.directiveDefs=A?()=>("function"==typeof A?A():A).map($e):null,w.pipeDefs=Q?()=>("function"==typeof Q?Q():Q).map(dt):null,w})}function $e(u){return kn(u)||function(u){return u[gn]||null}(u)}function dt(u){return function(u){return u[an]||null}(u)}const Ct={};function Bt(u){return es(()=>{const d={type:u.type,bootstrap:u.bootstrap||Rt,declarations:u.declarations||Rt,imports:u.imports||Rt,exports:u.exports||Rt,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null};return null!=u.id&&(Ct[u.id]=u.type),d})}function Ot(u,d){return es(()=>{const g=f(u,!0);g.declarations=d.declarations||Rt,g.imports=d.imports||Rt,g.exports=d.exports||Rt})}function rn(u,d){if(null==u)return Ft;const g={};for(const w in u)if(u.hasOwnProperty(w)){let A=u[w],Y=A;Array.isArray(A)&&(Y=A[1],A=A[0]),g[A]=w,d&&(d[A]=Y)}return g}const Zt=at;function Kt(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,onDestroy:u.type.prototype.ngOnDestroy||null}}function kn(u){return u[Qt]||null}function f(u,d){const g=u[_i]||null;if(!g&&!0===d)throw new Error(`Type ${Te(u)} does not have '\u0275mod' property.`);return g}const J=16;function Pr(u){return Array.isArray(u)&&"object"==typeof u[1]}function oo(u){return Array.isArray(u)&&!0===u[1]}function Ms(u){return 0!=(8&u.flags)}function Gi(u){return 2==(2&u.flags)}function qr(u){return 1==(1&u.flags)}function Ts(u){return null!==u.template}function Aa(u){return 0!=(512&u[2])}function ks(u,d){return u.hasOwnProperty(mr)?u[mr]:null}class Us{constructor(d,g,w){this.previousValue=d,this.currentValue=g,this.firstChange=w}isFirstChange(){return this.firstChange}}function $i(){return Jl}function Jl(u){return u.type.prototype.ngOnChanges&&(u.setInput=Td),uh}function uh(){const u=dh(this),d=null==u?void 0:u.current;if(d){const g=u.previous;if(g===Ft)u.previous=d;else for(let w in d)g[w]=d[w];u.current=null,this.ngOnChanges(d)}}function Td(u,d,g,w){const A=dh(u)||function(u,d){return u[zr]=d}(u,{previous:Ft,current:null}),Y=A.current||(A.current={}),Q=A.previous,ne=this.declaredInputs[g],fe=Q[ne];Y[ne]=new Us(fe&&fe.currentValue,d,Q===Ft),u[w]=d}$i.ngInherit=!0;const zr="__ngSimpleChanges__";function dh(u){return u[zr]||null}const mi="http://www.w3.org/2000/svg";let Xl;function qa(u){Xl=u}function kd(){return void 0!==Xl?Xl:"undefined"!=typeof document?document:void 0}function Zs(u){return!!u.listen}const lr={createRenderer:(u,d)=>kd()};function _r(u){for(;Array.isArray(u);)u=u[0];return u}function $u(u,d){return _r(d[u])}function Nl(u,d){return _r(d[u.index])}function Ia(u,d){return u.data[d]}function al(u,d){return u[d]}function hs(u,d){const g=d[u];return Pr(g)?g:g[0]}function ra(u){return 4==(4&u[2])}function hh(u){return 128==(128&u[2])}function zl(u,d){return null==d?null:u[d]}function Hh(u){u[18]=0}function vc(u,d){u[5]+=d;let g=u,w=u[3];for(;null!==w&&(1===d&&1===g[5]||-1===d&&0===g[5]);)w[5]+=d,g=w,w=w[3]}const sr={lFrame:qc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nf(){return sr.bindingsEnabled}function $n(){return sr.lFrame.lView}function _s(){return sr.lFrame.tView}function Vh(u){return sr.lFrame.contextLView=u,u[8]}function Do(){let u=Dd();for(;null!==u&&64===u.type;)u=u.parent;return u}function Dd(){return sr.lFrame.currentTNode}function La(u,d){const g=sr.lFrame;g.currentTNode=u,g.isParent=d}function Io(){return sr.lFrame.isParent}function js(){sr.lFrame.isParent=!1}function ll(){return sr.isInCheckNoChangesMode}function Gc(u){sr.isInCheckNoChangesMode=u}function bo(){const u=sr.lFrame;let d=u.bindingRootIndex;return-1===d&&(d=u.bindingRootIndex=u.tView.bindingStartIndex),d}function pa(){return sr.lFrame.bindingIndex}function xc(){return sr.lFrame.bindingIndex++}function br(u){const d=sr.lFrame,g=d.bindingIndex;return d.bindingIndex=d.bindingIndex+u,g}function Xu(u,d){const g=sr.lFrame;g.bindingIndex=g.bindingRootIndex=u,$o(d)}function $o(u){sr.lFrame.currentDirectiveIndex=u}function wc(u){const d=sr.lFrame.currentDirectiveIndex;return-1===d?null:u[d]}function Zh(){return sr.lFrame.currentQueryIndex}function ku(u){sr.lFrame.currentQueryIndex=u}function fh(u){const d=u[1];return 2===d.type?d.declTNode:1===d.type?u[6]:null}function fa(u,d,g){if(g&Ci.SkipSelf){let A=d,Y=u;for(;!(A=A.parent,null!==A||g&Ci.Host||(A=fh(Y),null===A||(Y=Y[15],10&A.type))););if(null===A)return!1;d=A,u=Y}const w=sr.lFrame=Cc();return w.currentTNode=d,w.lView=u,!0}function sa(u){const d=Cc(),g=u[1];sr.lFrame=d,d.currentTNode=g.firstChild,d.lView=u,d.tView=g,d.contextLView=u,d.bindingIndex=g.bindingStartIndex,d.inI18n=!1}function Cc(){const u=sr.lFrame,d=null===u?null:u.child;return null===d?qc(u):d}function qc(u){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=d),d}function sf(){const u=sr.lFrame;return sr.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const mh=sf;function cl(){const u=sf();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function Jt(){return sr.lFrame.selectedIndex}function Pn(u){sr.lFrame.selectedIndex=u}function _n(){const u=sr.lFrame;return Ia(u.tView,u.selectedIndex)}function Ii(){sr.lFrame.currentNamespace=mi}function Ar(){sr.lFrame.currentNamespace=null}function Tc(u,d){for(let g=d.directiveStart,w=d.directiveEnd;g<w;g++){const Y=u.data[g].type.prototype,{ngAfterContentInit:Q,ngAfterContentChecked:ne,ngAfterViewInit:fe,ngAfterViewChecked:Ee,ngOnDestroy:Ze}=Y;Q&&(u.contentHooks||(u.contentHooks=[])).push(-g,Q),ne&&((u.contentHooks||(u.contentHooks=[])).push(g,ne),(u.contentCheckHooks||(u.contentCheckHooks=[])).push(g,ne)),fe&&(u.viewHooks||(u.viewHooks=[])).push(-g,fe),Ee&&((u.viewHooks||(u.viewHooks=[])).push(g,Ee),(u.viewCheckHooks||(u.viewCheckHooks=[])).push(g,Ee)),null!=Ze&&(u.destroyHooks||(u.destroyHooks=[])).push(g,Ze)}}function Qo(u,d,g){$a(u,d,3,g)}function Eu(u,d,g,w){(3&u[2])===g&&$a(u,d,g,w)}function gh(u,d){let g=u[2];(3&g)===d&&(g&=2047,g+=1,u[2]=g)}function $a(u,d,g,w){const Y=null!=w?w:-1,Q=d.length-1;let ne=0;for(let fe=void 0!==w?65535&u[18]:0;fe<Q;fe++)if("number"==typeof d[fe+1]){if(ne=d[fe],null!=w&&ne>=w)break}else d[fe]<0&&(u[18]+=65536),(ne<Y||-1==Y)&&(lu(u,g,d,fe),u[18]=(4294901760&u[18])+fe+2),fe++}function lu(u,d,g,w){const A=g[w]<0,Y=g[w+1],ne=u[A?-g[w]:g[w]];if(A){if(u[2]>>11<u[18]>>16&&(3&u[2])===d){u[2]+=2048;try{Y.call(ne)}finally{}}}else try{Y.call(ne)}finally{}}class Ir{constructor(d,g,w){this.factory=d,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=w}}function Id(u,d,g){const w=Zs(u);let A=0;for(;A<g.length;){const Y=g[A];if("number"==typeof Y){if(0!==Y)break;A++;const Q=g[A++],ne=g[A++],fe=g[A++];w?u.setAttribute(d,ne,fe,Q):d.setAttributeNS(Q,ne,fe)}else{const Q=Y,ne=g[++A];Qs(Q)?w&&u.setProperty(d,Q,ne):w?u.setAttribute(d,Q,ne):d.setAttribute(Q,ne),A++}}return A}function Pp(u){return 3===u||4===u||6===u}function Qs(u){return 64===u.charCodeAt(0)}function Iu(u,d){if(null!==d&&0!==d.length)if(null===u||0===u.length)u=d.slice();else{let g=-1;for(let w=0;w<d.length;w++){const A=d[w];"number"==typeof A?g=A:0===g||kc(u,g,A,null,-1===g||2===g?d[++w]:null)}}return u}function kc(u,d,g,w,A){let Y=0,Q=u.length;if(-1===d)Q=-1;else for(;Y<u.length;){const ne=u[Y++];if("number"==typeof ne){if(ne===d){Q=-1;break}if(ne>d){Q=Y-1;break}}}for(;Y<u.length;){const ne=u[Y];if("number"==typeof ne)break;if(ne===g){if(null===w)return void(null!==A&&(u[Y+1]=A));if(w===u[Y+1])return void(u[Y+2]=A)}Y++,null!==w&&Y++,null!==A&&Y++}-1!==Q&&(u.splice(Q,0,d),Y=Q+1),u.splice(Y++,0,g),null!==w&&u.splice(Y++,0,w),null!==A&&u.splice(Y++,0,A)}function Lu(u){return-1!==u}function _l(u){return 32767&u}function Bl(u,d){let g=function(u){return u>>16}(u),w=d;for(;g>0;)w=w[15],g--;return w}let _h=!0;function Ld(u){const d=_h;return _h=u,d}let tc=0;function Ec(u,d){const g=Mi(u,d);if(-1!==g)return g;const w=d[1];w.firstCreatePass&&(u.injectorIndex=d.length,Qc(w.data,u),Qc(d,null),Qc(w.blueprint,null));const A=Cr(u,d),Y=u.injectorIndex;if(Lu(A)){const Q=_l(A),ne=Bl(A,d),fe=ne[1].data;for(let Ee=0;Ee<8;Ee++)d[Y+Ee]=ne[Q+Ee]|fe[Q+Ee]}return d[Y+8]=A,Y}function Qc(u,d){u.push(0,0,0,0,0,0,0,0,d)}function Mi(u,d){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===d[u.injectorIndex+8]?-1:u.injectorIndex}function Cr(u,d){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let g=0,w=null,A=d;for(;null!==A;){const Y=A[1],Q=Y.type;if(w=2===Q?Y.declTNode:1===Q?A[6]:null,null===w)return-1;if(g++,A=A[15],-1!==w.injectorIndex)return w.injectorIndex|g<<16}return-1}function Js(u,d,g){!function(u,d,g){let w;"string"==typeof g?w=g.charCodeAt(0)||0:g.hasOwnProperty(Zr)&&(w=g[Zr]),null==w&&(w=g[Zr]=tc++);const A=255&w;d.data[u+(A>>5)]|=1<<A}(u,d,g)}function Di(u,d,g){if(g&Ci.Optional)return u;zi(d,"NodeInjector")}function Qa(u,d,g,w){if(g&Ci.Optional&&void 0===w&&(w=null),0==(g&(Ci.Self|Ci.Host))){const A=u[9],Y=ir(void 0);try{return A?A.get(d,w,g&Ci.Optional):Eo(d,w,g&Ci.Optional)}finally{ir(Y)}}return Di(w,d,g)}function Fi(u,d,g,w=Ci.Default,A){if(null!==u){const Y=function(u){if("string"==typeof u)return u.charCodeAt(0)||0;const d=u.hasOwnProperty(Zr)?u[Zr]:void 0;return"number"==typeof d?d>=0?255&d:Ws:d}(g);if("function"==typeof Y){if(!fa(d,u,w))return w&Ci.Host?Di(A,g,w):Qa(d,g,w,A);try{const Q=Y(w);if(null!=Q||w&Ci.Optional)return Q;zi(g)}finally{mh()}}else if("number"==typeof Y){let Q=null,ne=Mi(u,d),fe=-1,Ee=w&Ci.Host?d[J][6]:null;for((-1===ne||w&Ci.SkipSelf)&&(fe=-1===ne?Cr(u,d):d[ne+8],-1!==fe&&Ja(w,!1)?(Q=d[1],ne=_l(fe),d=Bl(fe,d)):ne=-1);-1!==ne;){const Ze=d[1];if(Lo(Y,ne,Ze.data)){const ot=Uo(ne,d,g,Q,w,Ee);if(ot!==Op)return ot}fe=d[ne+8],-1!==fe&&Ja(w,d[1].data[ne+8]===Ee)&&Lo(Y,ne,d)?(Q=Ze,ne=_l(fe),d=Bl(fe,d)):ne=-1}}}return Qa(d,g,w,A)}const Op={};function Ws(){return new nc(Do(),$n())}function Uo(u,d,g,w,A,Y){const Q=d[1],ne=Q.data[u+8],Ze=Ps(ne,Q,g,null==w?Gi(ne)&&_h:w!=Q&&0!=(3&ne.type),A&Ci.Host&&Y===ne);return null!==Ze?yl(d,Q,Ze,ne):Op}function Ps(u,d,g,w,A){const Y=u.providerIndexes,Q=d.data,ne=1048575&Y,fe=u.directiveStart,Ze=Y>>20,mt=A?ne+Ze:u.directiveEnd;for(let Vt=w?ne:ne+Ze;Vt<mt;Vt++){const en=Q[Vt];if(Vt<fe&&g===en||Vt>=fe&&en.type===g)return Vt}if(A){const Vt=Q[fe];if(Vt&&Ts(Vt)&&Vt.type===g)return fe}return null}function yl(u,d,g,w){let A=u[g];const Y=d.data;if(function(u){return u instanceof Ir}(A)){const Q=A;Q.resolving&&function(u,d){throw new Gt("200",`Circular dependency in DI detected for ${u}`)}(qt(Y[g]));const ne=Ld(Q.canSeeViewProviders);Q.resolving=!0;const fe=Q.injectImpl?ir(Q.injectImpl):null;fa(u,w,Ci.Default);try{A=u[g]=Q.factory(void 0,Y,u,w),d.firstCreatePass&&g>=w.directiveStart&&function(u,d,g){const{ngOnChanges:w,ngOnInit:A,ngDoCheck:Y}=d.type.prototype;if(w){const Q=Jl(d);(g.preOrderHooks||(g.preOrderHooks=[])).push(u,Q),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(u,Q)}A&&(g.preOrderHooks||(g.preOrderHooks=[])).push(0-u,A),Y&&((g.preOrderHooks||(g.preOrderHooks=[])).push(u,Y),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(u,Y))}(g,Y[g],d)}finally{null!==fe&&ir(fe),Ld(ne),Q.resolving=!1,mh()}}return A}function Lo(u,d,g){return!!(g[d+(u>>5)]&1<<u)}function Ja(u,d){return!(u&Ci.Self||u&Ci.Host&&d)}class nc{constructor(d,g){this._tNode=d,this._lView=g}get(d,g){return Fi(this._tNode,this._lView,d,void 0,g)}}function Rp(u){return es(()=>{const d=u.prototype.constructor,g=d[mr]||cu(d),w=Object.prototype;let A=Object.getPrototypeOf(u.prototype).constructor;for(;A&&A!==w;){const Y=A[mr]||cu(A);if(Y&&Y!==g)return Y;A=Object.getPrototypeOf(A)}return Y=>new Y})}function cu(u){return Pt(u)?()=>{const d=cu(gt(u));return d&&d()}:ks(u)}function yh(u){return function(u,d){if("class"===d)return u.classes;if("style"===d)return u.styles;const g=u.attrs;if(g){const w=g.length;let A=0;for(;A<w;){const Y=g[A];if(Pp(Y))break;if(0===Y)A+=2;else if("number"==typeof Y)for(A++;A<w&&"string"==typeof g[A];)A++;else{if(Y===d)return g[A+1];A+=2}}}return null}(Do(),u)}const uu="__parameters__";function rt(u,d,g){return es(()=>{const w=function(u){return function(...g){if(u){const w=u(...g);for(const A in w)this[A]=w[A]}}}(d);function A(...Y){if(this instanceof A)return w.apply(this,Y),this;const Q=new A(...Y);return ne.annotation=Q,ne;function ne(fe,Ee,Ze){const ot=fe.hasOwnProperty(uu)?fe[uu]:Object.defineProperty(fe,uu,{value:[]})[uu];for(;ot.length<=Ze;)ot.push(null);return(ot[Ze]=ot[Ze]||[]).push(Q),fe}}return g&&(A.prototype=Object.create(g.prototype)),A.prototype.ngMetadataName=u,A.annotationCls=A,A})}class Po{constructor(d,g){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=Er({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ri=new Po("AnalyzeForEntryComponents"),U=Function;function we(u,d){void 0===d&&(d=u);for(let g=0;g<u.length;g++){let w=u[g];Array.isArray(w)?(d===u&&(d=u.slice(0,g)),we(w,d)):d!==u&&d.push(w)}return d}function be(u,d){u.forEach(g=>Array.isArray(g)?be(g,d):d(g))}function Ue(u,d,g){d>=u.length?u.push(g):u.splice(d,0,g)}function qe(u,d){return d>=u.length-1?u.pop():u.splice(d,1)[0]}function Qe(u,d){const g=[];for(let w=0;w<u;w++)g.push(d);return g}function Tt(u,d,g){let w=St(u,d);return w>=0?u[1|w]=g:(w=~w,function(u,d,g,w){let A=u.length;if(A==d)u.push(g,w);else if(1===A)u.push(w,u[0]),u[0]=g;else{for(A--,u.push(u[A-1],u[A]);A>d;)u[A]=u[A-2],A--;u[d]=g,u[d+1]=w}}(u,w,d,g)),w}function Ut(u,d){const g=St(u,d);if(g>=0)return u[1|g]}function St(u,d){return function(u,d,g){let w=0,A=u.length>>g;for(;A!==w;){const Y=w+(A-w>>1),Q=u[Y<<g];if(d===Q)return Y<<g;Q>d?A=Y:w=Y+1}return~(A<<g)}(u,d,1)}const Ri={},ns="__NG_DI_FLAG__",ps="ngTempTokenPath",Mr=/\n/gm,ao="__source",Ya=Me({provide:String,useValue:Me});let ys;function Ko(u){const d=ys;return ys=u,d}function vl(u,d=Ci.Default){if(void 0===ys)throw new Error("inject() must be called from an injection context");return null===ys?Eo(u,void 0,d):ys.get(u,d&Ci.Optional?null:void 0,d)}function Vi(u,d=Ci.Default){return(gs||vl)(gt(u),d)}const is=Vi;function Os(u){const d=[];for(let g=0;g<u.length;g++){const w=gt(u[g]);if(Array.isArray(w)){if(0===w.length)throw new Error("Arguments array must have arguments.");let A,Y=Ci.Default;for(let Q=0;Q<w.length;Q++){const ne=w[Q],fe=$r(ne);"number"==typeof fe?-1===fe?A=ne.token:Y|=fe:A=ne}d.push(Vi(A,Y))}else d.push(Vi(w))}return d}function xo(u,d){return u[ns]=d,u.prototype[ns]=d,u}function $r(u){return u[ns]}function ul(u,d,g,w){const A=u[ps];throw d[ao]&&A.unshift(d[ao]),u.message=function(u,d,g,w=null){u=u&&"\n"===u.charAt(0)&&"\u0275"==u.charAt(1)?u.substr(2):u;let A=Te(d);if(Array.isArray(d))A=d.map(Te).join(" -> ");else if("object"==typeof d){let Y=[];for(let Q in d)if(d.hasOwnProperty(Q)){let ne=d[Q];Y.push(Q+":"+("string"==typeof ne?JSON.stringify(ne):Te(ne)))}A=`{${Y.join(", ")}}`}return`${g}${w?"("+w+")":""}[${A}]: ${u.replace(Mr,"\n  ")}`}("\n"+u.message,A,g,w),u.ngTokenPath=A,u[ps]=null,u}const jo=xo(rt("Inject",u=>({token:u})),-1),Ha=xo(rt("Optional"),8),Pa=xo(rt("SkipSelf"),4);let el,Mm;function Rs(u){var d;return(null===(d=function(){if(void 0===el&&(el=null,Cs.trustedTypes))try{el=Cs.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return el}())||void 0===d?void 0:d.createHTML(u))||u}function $h(u){var d;return(null===(d=function(){if(void 0===Mm&&(Mm=null,Cs.trustedTypes))try{Mm=Cs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return Mm}())||void 0===d?void 0:d.createHTML(u))||u}class Lc{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ou extends Lc{getTypeName(){return"HTML"}}class Br extends Lc{getTypeName(){return"Style"}}class yt extends Lc{getTypeName(){return"Script"}}class Ds extends Lc{getTypeName(){return"URL"}}class hu extends Lc{getTypeName(){return"ResourceURL"}}function sd(u){return u instanceof Lc?u.changingThisBreaksApplicationSecurity:u}function zp(u,d){const g=n_(u);if(null!=g&&g!==d){if("ResourceURL"===g&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${g} (see https://g.co/ng/security#xss)`)}return g===d}function n_(u){return u instanceof Lc&&u.getTypeName()||null}function Ru(u){return new Ou(u)}function ji(u){return new Br(u)}function rc(u){return new yt(u)}function Yr(u){return new Ds(u)}function Tm(u){return new hu(u)}class Tr{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const g=(new window.DOMParser).parseFromString(Rs(d),"text/html").body;return null===g?this.inertDocumentHelper.getInertBodyElement(d):(g.removeChild(g.firstChild),g)}catch(g){return null}}}class Rd{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const g=this.inertDocument.createElement("html");this.inertDocument.appendChild(g);const w=this.inertDocument.createElement("body");g.appendChild(w)}}getInertBodyElement(d){const g=this.inertDocument.createElement("template");if("content"in g)return g.innerHTML=Rs(d),g;const w=this.inertDocument.createElement("body");return w.innerHTML=Rs(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(w),w}stripCustomNsAttrs(d){const g=d.attributes;for(let A=g.length-1;0<A;A--){const Q=g.item(A).name;("xmlns:ns1"===Q||0===Q.indexOf("ns1:"))&&d.removeAttribute(Q)}let w=d.firstChild;for(;w;)w.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(w),w=w.nextSibling}}const Bp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lo(u){return(u=String(u)).match(Bp)||u.match(xh)?u:"unsafe:"+u}function wo(u){const d={};for(const g of u.split(","))d[g]=!0;return d}function Vl(...u){const d={};for(const g of u)for(const w in g)g.hasOwnProperty(w)&&(d[w]=!0);return d}const Jh=wo("area,br,col,hr,img,wbr"),Xh=wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wh=wo("rp,rt"),Fu=Vl(Jh,Vl(Xh,wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vl(wh,wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vl(wh,Xh)),Kh=wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jf=wo("srcset"),wl=Vl(Kh,jf,wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sg=wo("script,style,template");class og{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let g=d.firstChild,w=!0;for(;g;)if(g.nodeType===Node.ELEMENT_NODE?w=this.startElement(g):g.nodeType===Node.TEXT_NODE?this.chars(g.nodeValue):this.sanitizedSomething=!0,w&&g.firstChild)g=g.firstChild;else for(;g;){g.nodeType===Node.ELEMENT_NODE&&this.endElement(g);let A=this.checkClobberedElement(g,g.nextSibling);if(A){g=A;break}g=this.checkClobberedElement(g,g.parentNode)}return this.buf.join("")}startElement(d){const g=d.nodeName.toLowerCase();if(!Fu.hasOwnProperty(g))return this.sanitizedSomething=!0,!sg.hasOwnProperty(g);this.buf.push("<"),this.buf.push(g);const w=d.attributes;for(let A=0;A<w.length;A++){const Y=w.item(A),Q=Y.name,ne=Q.toLowerCase();if(!wl.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let fe=Y.value;Kh[ne]&&(fe=lo(fe)),jf[ne]&&(u=fe,fe=(u=String(u)).split(",").map(d=>lo(d.trim())).join(", ")),this.buf.push(" ",Q,'="',ag(fe),'"')}var u;return this.buf.push(">"),!0}endElement(d){const g=d.nodeName.toLowerCase();Fu.hasOwnProperty(g)&&!Jh.hasOwnProperty(g)&&(this.buf.push("</"),this.buf.push(g),this.buf.push(">"))}chars(d){this.buf.push(ag(d))}checkClobberedElement(d,g){if(g&&(d.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return g}}const sc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oa=/([^\#-~ |!])/g;function ag(u){return u.replace(/&/g,"&amp;").replace(sc,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(oa,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ul;function Fd(u,d){let g=null;try{Ul=Ul||function(u){const d=new Rd(u);return function(){try{return!!(new window.DOMParser).parseFromString(Rs(""),"text/html")}catch(u){return!1}}()?new Tr(d):d}(u);let w=d?String(d):"";g=Ul.getInertBodyElement(w);let A=5,Y=w;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,w=Y,Y=g.innerHTML,g=Ul.getInertBodyElement(w)}while(w!==Y);return Rs((new og).sanitizeChildren(Jc(g)||g))}finally{if(g){const w=Jc(g)||g;for(;w.firstChild;)w.removeChild(w.firstChild)}}}function Jc(u){return"content"in u&&function(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var Fs=(()=>((Fs=Fs||{})[Fs.NONE=0]="NONE",Fs[Fs.HTML=1]="HTML",Fs[Fs.STYLE=2]="STYLE",Fs[Fs.SCRIPT=3]="SCRIPT",Fs[Fs.URL=4]="URL",Fs[Fs.RESOURCE_URL=5]="RESOURCE_URL",Fs))();function Nd(u){const d=zu();return d?$h(d.sanitize(Fs.HTML,u)||""):zp(u,"HTML")?$h(sd(u)):Fd(kd(),Rn(u))}function zd(u){const d=zu();return d?d.sanitize(Fs.URL,u)||"":zp(u,"URL")?sd(u):lo(Rn(u))}function zu(){const u=$n();return u&&u[12]}const hl="__ngContext__";function Oa(u,d){u[hl]=d}function Mh(u){const d=function(u){return u[hl]||null}(u);return d?Array.isArray(d)?d:d.lView:null}function ad(u){return u.ngOriginalError}function Em(u,...d){u.error(...d)}class ga{constructor(){this._console=console}handleError(d){const g=this._findOriginalError(d),w=this._findContext(d),A=(u=d)&&u.ngErrorLogger||Em;var u;A(this._console,"ERROR",d),g&&A(this._console,"ORIGINAL ERROR",g),w&&A(this._console,"ERROR CONTEXT",w)}_findContext(d){return d?d.ngDebugContext||this._findContext(ad(d)):null}_findOriginalError(d){let g=d&&ad(d);for(;g&&ad(g);)g=ad(g);return g||null}}const pf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cs))();function Vp(u){return u.ownerDocument.body}function mu(u){return u instanceof Function?u():u}var Hu=(()=>((Hu=Hu||{})[Hu.Important=1]="Important",Hu[Hu.DashCase=2]="DashCase",Hu))();function Th(u,d){return undefined(u,d)}function np(u){const d=u[3];return oo(d)?d[3]:d}function Im(u){return _f(u[13])}function gf(u){return _f(u[4])}function _f(u){for(;null!==u&&!oo(u);)u=u[4];return u}function Pc(u,d,g,w,A){if(null!=w){let Y,Q=!1;oo(w)?Y=w:Pr(w)&&(Q=!0,w=w[0]);const ne=_r(w);0===u&&null!==g?null==A?it(d,g,ne):Fe(d,g,ne,A||null,!0):1===u&&null!==g?Fe(d,g,ne,A||null,!0):2===u?function(u,d,g){const w=zt(u,d);w&&function(u,d,g,w){Zs(u)?u.removeChild(d,g,w):d.removeChild(g)}(u,w,d,g)}(d,ne,Q):3===u&&d.destroyNode(ne),null!=Y&&function(u,d,g,w,A){const Y=g[7];Y!==_r(g)&&Pc(d,u,w,Y,A);for(let ne=10;ne<g.length;ne++){const fe=g[ne];gu(fe[1],fe,u,d,w,Y)}}(d,u,Y,g,A)}}function em(u,d,g){return Zs(u)?u.createElement(d,g):null===g?u.createElement(d):u.createElementNS(g,d)}function tm(u,d){const g=u[9],w=g.indexOf(d),A=d[3];1024&d[2]&&(d[2]&=-1025,vc(A,-1)),g.splice(w,1)}function Lm(u,d){if(u.length<=10)return;const g=10+d,w=u[g];if(w){const A=w[17];null!==A&&A!==u&&tm(A,w),d>0&&(u[g-1][4]=w[4]);const Y=qe(u,10+d);!function(u,d){gu(u,d,d[11],2,null,null),d[0]=null,d[6]=null}(w[1],w);const Q=Y[19];null!==Q&&Q.detachView(Y[1]),w[3]=null,w[4]=null,w[2]&=-129}return w}function E(u,d){if(!(256&d[2])){const g=d[11];Zs(g)&&g.destroyNode&&gu(u,d,g,3,null,null),function(u){let d=u[13];if(!d)return k(u[1],u);for(;d;){let g=null;if(Pr(d))g=d[13];else{const w=d[10];w&&(g=w)}if(!g){for(;d&&!d[4]&&d!==u;)Pr(d)&&k(d[1],d),d=d[3];null===d&&(d=u),Pr(d)&&k(d[1],d),g=d&&d[4]}d=g}}(d)}}function k(u,d){if(!(256&d[2])){d[2]&=-129,d[2]|=256,function(u,d){let g;if(null!=u&&null!=(g=u.destroyHooks))for(let w=0;w<g.length;w+=2){const A=d[g[w]];if(!(A instanceof Ir)){const Y=g[w+1];if(Array.isArray(Y))for(let Q=0;Q<Y.length;Q+=2){const ne=A[Y[Q]],fe=Y[Q+1];try{fe.call(ne)}finally{}}else try{Y.call(A)}finally{}}}}(u,d),function(u,d){const g=u.cleanup,w=d[7];let A=-1;if(null!==g)for(let Y=0;Y<g.length-1;Y+=2)if("string"==typeof g[Y]){const Q=g[Y+1],ne="function"==typeof Q?Q(d):_r(d[Q]),fe=w[A=g[Y+2]],Ee=g[Y+3];"boolean"==typeof Ee?ne.removeEventListener(g[Y],fe,Ee):Ee>=0?w[A=Ee]():w[A=-Ee].unsubscribe(),Y+=2}else{const Q=w[A=g[Y+1]];g[Y].call(Q)}if(null!==w){for(let Y=A+1;Y<w.length;Y++)w[Y]();d[7]=null}}(u,d),1===d[1].type&&Zs(d[11])&&d[11].destroy();const g=d[17];if(null!==g&&oo(d[3])){g!==d[3]&&tm(g,d);const w=d[19];null!==w&&w.detachView(u)}}}function se(u,d,g){return function(u,d,g){let w=d;for(;null!==w&&40&w.type;)w=(d=w).parent;if(null===w)return g[0];if(2&w.flags){const A=u.data[w.directiveStart].encapsulation;if(A===Zn.None||A===Zn.Emulated)return null}return Nl(w,g)}(u,d.parent,g)}function Fe(u,d,g,w,A){Zs(u)?u.insertBefore(d,g,w,A):d.insertBefore(g,w,A)}function it(u,d,g){Zs(u)?u.appendChild(d,g):d.appendChild(g)}function ut(u,d,g,w,A){null!==w?Fe(u,d,g,w,A):it(u,d,g)}function zt(u,d){return Zs(u)?u.parentNode(d):d.parentNode}function Yn(u,d,g){return ki(u,d,g)}let ki=function(u,d,g){return 40&u.type?Nl(u,g):null};function rs(u,d,g,w){const A=se(u,w,d),Y=d[11],ne=Yn(w.parent||d[6],w,d);if(null!=A)if(Array.isArray(g))for(let fe=0;fe<g.length;fe++)ut(Y,A,g[fe],ne,!1);else ut(Y,A,g,ne,!1)}function _a(u,d){if(null!==d){const g=d.type;if(3&g)return Nl(d,u);if(4&g)return sp(-1,u[d.index]);if(8&g){const w=d.child;if(null!==w)return _a(u,w);{const A=u[d.index];return oo(A)?sp(-1,A):_r(A)}}if(32&g)return Th(d,u)()||_r(u[d.index]);{const w=lc(u,d);return null!==w?Array.isArray(w)?w[0]:_a(np(u[J]),w):_a(u,d.next)}}return null}function lc(u,d){return null!==d?u[J][6].projection[d.projection]:null}function sp(u,d){const g=10+u+1;if(g<d.length){const w=d[g],A=w[1].firstChild;if(null!==A)return _a(w,A)}return d[7]}function ya(u,d,g,w,A,Y,Q){for(;null!=g;){const ne=w[g.index],fe=g.type;if(Q&&0===d&&(ne&&Oa(_r(ne),w),g.flags|=4),64!=(64&g.flags))if(8&fe)ya(u,d,g.child,w,A,Y,!1),Pc(d,u,A,ne,Y);else if(32&fe){const Ee=Th(g,w);let Ze;for(;Ze=Ee();)Pc(d,u,A,Ze,Y);Pc(d,u,A,ne,Y)}else 16&fe?Zd(u,d,w,g,A,Y):Pc(d,u,A,ne,Y);g=Q?g.projectionNext:g.next}}function gu(u,d,g,w,A,Y){ya(g,w,u.firstChild,d,A,Y,!1)}function Zd(u,d,g,w,A,Y){const Q=g[J],fe=Q[6].projection[w.projection];if(Array.isArray(fe))for(let Ee=0;Ee<fe.length;Ee++)Pc(d,u,A,fe[Ee],Y);else ya(u,d,fe,Q[3],A,Y,!0)}function c_(u,d,g){Zs(u)?u.setAttribute(d,"style",g):d.style.cssText=g}function nm(u,d,g){Zs(u)?""===g?u.removeAttribute(d,"class"):u.setAttribute(d,"class",g):d.className=g}function Fa(u,d,g){let w=u.length;for(;;){const A=u.indexOf(d,g);if(-1===A)return A;if(0===A||u.charCodeAt(A-1)<=32){const Y=d.length;if(A+Y===w||u.charCodeAt(A+Y)<=32)return A}g=A+1}}const iv="ng-template";function cb(u,d,g){let w=0;for(;w<u.length;){let A=u[w++];if(g&&"class"===A){if(A=u[w],-1!==Fa(A.toLowerCase(),d,0))return!0}else if(1===A){for(;w<u.length&&"string"==typeof(A=u[w++]);)if(A.toLowerCase()===d)return!0;return!1}}return!1}function Up(u){return 4===u.type&&u.value!==iv}function no(u,d,g){return d===(4!==u.type||g?u.value:iv)}function rv(u,d,g){let w=4;const A=u.attrs||[],Y=function(u){for(let d=0;d<u.length;d++)if(Pp(u[d]))return d;return u.length}(A);let Q=!1;for(let ne=0;ne<d.length;ne++){const fe=d[ne];if("number"!=typeof fe){if(!Q)if(4&w){if(w=2|1&w,""!==fe&&!no(u,fe,g)||""===fe&&1===d.length){if(Wd(w))return!1;Q=!0}}else{const Ee=8&w?fe:d[++ne];if(8&w&&null!==u.attrs){if(!cb(u.attrs,Ee,g)){if(Wd(w))return!1;Q=!0}continue}const ot=ub(8&w?"class":fe,A,Up(u),g);if(-1===ot){if(Wd(w))return!1;Q=!0;continue}if(""!==Ee){let mt;mt=ot>Y?"":A[ot+1].toLowerCase();const Vt=8&w?mt:null;if(Vt&&-1!==Fa(Vt,Ee,0)||2&w&&Ee!==mt){if(Wd(w))return!1;Q=!0}}}}else{if(!Q&&!Wd(w)&&!Wd(fe))return!1;if(Q&&Wd(fe))continue;Q=!1,w=fe|1&w}}return Wd(w)||Q}function Wd(u){return 0==(1&u)}function ub(u,d,g,w){if(null===d)return-1;let A=0;if(w||!g){let Y=!1;for(;A<d.length;){const Q=d[A];if(Q===u)return A;if(3===Q||6===Q)Y=!0;else{if(1===Q||2===Q){let ne=d[++A];for(;"string"==typeof ne;)ne=d[++A];continue}if(4===Q)break;if(0===Q){A+=4;continue}}A+=Y?1:2}return-1}return function(u,d){let g=u.indexOf(4);if(g>-1)for(g++;g<u.length;){const w=u[g];if("number"==typeof w)return-1;if(w===d)return g;g++}return-1}(d,u)}function jp(u,d,g=!1){for(let w=0;w<d.length;w++)if(rv(u,d[w],g))return!0;return!1}function im(u,d){e:for(let g=0;g<d.length;g++){const w=d[g];if(u.length===w.length){for(let A=0;A<u.length;A++)if(u[A]!==w[A])continue e;return!0}}return!1}function sv(u,d){return u?":not("+d.trim()+")":d}function ty(u){let d=u[0],g=1,w=2,A="",Y=!1;for(;g<u.length;){let Q=u[g];if("string"==typeof Q)if(2&w){const ne=u[++g];A+="["+Q+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&w?A+="."+Q:4&w&&(A+=" "+Q);else""!==A&&!Wd(Q)&&(d+=sv(Y,A),A=""),w=Q,Y=Y||!Wd(w);g++}return""!==A&&(d+=sv(Y,A)),d}const ls={};function hb(u){av(_s(),$n(),Jt()+u,ll())}function av(u,d,g,w){if(!w)if(3==(3&d[2])){const Y=u.preOrderCheckHooks;null!==Y&&Qo(d,Y,g)}else{const Y=u.preOrderHooks;null!==Y&&Eu(d,Y,0,g)}Pn(g)}function Pm(u,d){return u<<17|d<<2}function Xc(u){return u>>17&32767}function vg(u){return 2|u}function Zp(u){return(131068&u)>>2}function bf(u,d){return-131069&u|d<<2}function iy(u){return 1|u}function fv(u,d){const g=u.contentQueries;if(null!==g)for(let w=0;w<g.length;w+=2){const A=g[w],Y=g[w+1];if(-1!==Y){const Q=u.data[Y];ku(A),Q.contentQueries(2,d[Y],Y)}}}function xf(u,d,g,w,A,Y,Q,ne,fe,Ee){const Ze=d.blueprint.slice();return Ze[0]=A,Ze[2]=140|w,Hh(Ze),Ze[3]=Ze[15]=u,Ze[8]=g,Ze[10]=Q||u&&u[10],Ze[11]=ne||u&&u[11],Ze[12]=fe||u&&u[12]||null,Ze[9]=Ee||u&&u[9]||null,Ze[6]=Y,Ze[J]=2==d.type?u[J]:Ze,Ze}function am(u,d,g,w,A){let Y=u.data[d];if(null===Y)Y=function(u,d,g,w,A){const Y=Dd(),Q=Io(),fe=u.data[d]=function(u,d,g,w,A,Y){return{type:g,index:w,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:A,attrs:Y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Q?Y:Y&&Y.parent,g,d,w,A);return null===u.firstChild&&(u.firstChild=fe),null!==Y&&(Q?null==Y.child&&null!==fe.parent&&(Y.child=fe):null===Y.next&&(Y.next=fe)),fe}(u,d,g,w,A),sr.lFrame.inI18n&&(Y.flags|=64);else if(64&Y.type){Y.type=g,Y.value=w,Y.attrs=A;const Q=function(){const u=sr.lFrame,d=u.currentTNode;return u.isParent?d:d.parent}();Y.injectorIndex=null===Q?-1:Q.injectorIndex}return La(Y,!0),Y}function Gd(u,d,g,w){if(0===g)return-1;const A=d.length;for(let Y=0;Y<g;Y++)d.push(w),u.blueprint.push(w),u.data.push(null);return A}function Oc(u,d,g){sa(d);try{const w=u.viewQuery;null!==w&&eu(1,w,g);const A=u.template;null!==A&&lm(u,d,A,1,g),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&fv(u,d),u.staticViewQueries&&eu(2,u.viewQuery,g);const Y=u.components;null!==Y&&function(u,d){for(let g=0;g<d.length;g++)pp(u,d[g])}(d,Y)}catch(w){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),w}finally{d[2]&=-5,cl()}}function cd(u,d,g,w){const A=d[2];if(256==(256&A))return;sa(d);const Y=ll();try{Hh(d),function(u){sr.lFrame.bindingIndex=u}(u.bindingStartIndex),null!==g&&lm(u,d,g,2,w);const Q=3==(3&A);if(!Y)if(Q){const Ee=u.preOrderCheckHooks;null!==Ee&&Qo(d,Ee,null)}else{const Ee=u.preOrderHooks;null!==Ee&&Eu(d,Ee,0,null),gh(d,0)}if(function(u){for(let d=Im(u);null!==d;d=gf(d)){if(!d[2])continue;const g=d[9];for(let w=0;w<g.length;w++){const A=g[w],Y=A[3];0==(1024&A[2])&&vc(Y,1),A[2]|=1024}}}(d),function(u){for(let d=Im(u);null!==d;d=gf(d))for(let g=10;g<d.length;g++){const w=d[g],A=w[1];hh(w)&&cd(A,w,A.template,w[8])}}(d),null!==u.contentQueries&&fv(u,d),!Y)if(Q){const Ee=u.contentCheckHooks;null!==Ee&&Qo(d,Ee)}else{const Ee=u.contentHooks;null!==Ee&&Eu(d,Ee,1),gh(d,1)}!function(u,d){const g=u.hostBindingOpCodes;if(null!==g)try{for(let w=0;w<g.length;w++){const A=g[w];if(A<0)Pn(~A);else{const Y=A,Q=g[++w],ne=g[++w];Xu(Q,Y),ne(2,d[Y])}}}finally{Pn(-1)}}(u,d);const ne=u.components;null!==ne&&function(u,d){for(let g=0;g<d.length;g++)Ym(u,d[g])}(d,ne);const fe=u.viewQuery;if(null!==fe&&eu(2,fe,w),!Y)if(Q){const Ee=u.viewCheckHooks;null!==Ee&&Qo(d,Ee)}else{const Ee=u.viewHooks;null!==Ee&&Eu(d,Ee,2),gh(d,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),Y||(d[2]&=-73),1024&d[2]&&(d[2]&=-1025,vc(d[3],-1))}finally{cl()}}function mv(u,d,g,w){const A=d[10],Y=!ll(),Q=ra(d);try{Y&&!Q&&A.begin&&A.begin(),Q&&Oc(u,d,w),cd(u,d,g,w)}finally{Y&&!Q&&A.end&&A.end()}}function lm(u,d,g,w,A){const Y=Jt(),Q=2&w;try{Pn(-1),Q&&d.length>20&&av(u,d,20,ll()),g(w,A)}finally{Pn(Y)}}function Cg(u,d,g){if(Ms(d)){const A=d.directiveEnd;for(let Y=d.directiveStart;Y<A;Y++){const Q=u.data[Y];Q.contentQueries&&Q.contentQueries(1,g[Y],Y)}}}function Mg(u,d,g){!nf()||(function(u,d,g,w){const A=g.directiveStart,Y=g.directiveEnd;u.firstCreatePass||Ec(g,d),Oa(w,d);const Q=g.initialInputs;for(let ne=A;ne<Y;ne++){const fe=u.data[ne],Ee=Ts(fe);Ee&&uo(d,g,fe);const Ze=yl(d,u,ne,g);Oa(Ze,d),null!==Q&&dp(0,ne-A,Ze,fe,0,Q),Ee&&(hs(g.index,d)[8]=Ze)}}(u,d,g,Nl(g,d)),128==(128&g.flags)&&function(u,d,g){const w=g.directiveStart,A=g.directiveEnd,Q=g.index,ne=sr.lFrame.currentDirectiveIndex;try{Pn(Q);for(let fe=w;fe<A;fe++){const Ee=u.data[fe],Ze=d[fe];$o(fe),(null!==Ee.hostBindings||0!==Ee.hostVars||null!==Ee.hostAttrs)&&Gp(Ee,Ze)}}finally{Pn(-1),$o(ne)}}(u,d,g))}function Tg(u,d,g=Nl){const w=d.localNames;if(null!==w){let A=d.index+1;for(let Y=0;Y<w.length;Y+=2){const Q=w[Y+1],ne=-1===Q?g(d,u):u[Q];u[A++]=ne}}}function gv(u){const d=u.tView;return null===d||d.incompleteFirstPass?u.tView=__(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts):d}function __(u,d,g,w,A,Y,Q,ne,fe,Ee){const Ze=20+w,ot=Ze+A,mt=function(u,d){const g=[];for(let w=0;w<d;w++)g.push(w<u?null:ls);return g}(Ze,ot),Vt="function"==typeof Ee?Ee():Ee;return mt[1]={type:u,blueprint:mt,template:g,queries:null,viewQuery:ne,declTNode:d,data:mt.slice().fill(null,Ze),bindingStartIndex:Ze,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof Y?Y():Y,pipeRegistry:"function"==typeof Q?Q():Q,firstChild:null,schemas:fe,consts:Vt,incompleteFirstPass:!1}}function qd(u,d,g,w){const A=ho(d);null===g?A.push(w):(A.push(g),u.firstCreatePass&&C_(u).push(w,A.length-1))}function ud(u,d,g){for(let w in u)if(u.hasOwnProperty(w)){const A=u[w];(g=null===g?{}:g).hasOwnProperty(w)?g[w].push(d,A):g[w]=[d,A]}return g}function va(u,d,g,w,A,Y,Q,ne){const fe=Nl(d,g);let Ze,Ee=d.inputs;!ne&&null!=Ee&&(Ze=Ee[w])?(cm(u,g,Ze,w,A),Gi(d)&&function(u,d){const g=hs(d,u);16&g[2]||(g[2]|=64)}(g,d.index)):3&d.type&&(w=function(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(w),A=null!=Q?Q(A,d.value||"",w):A,Zs(Y)?Y.setProperty(fe,w,A):Qs(w)||(fe.setProperty?fe.setProperty(w,A):fe[w]=A))}function Li(u,d,g,w){let A=!1;if(nf()){const Y=function(u,d,g){const w=u.directiveRegistry;let A=null;if(w)for(let Y=0;Y<w.length;Y++){const Q=w[Y];jp(g,Q.selectors,!1)&&(A||(A=[]),Js(Ec(g,d),u,Q.type),Ts(Q)?(Ti(u,g),A.unshift(Q)):A.push(Q))}return A}(u,d,g),Q=null===w?null:{"":-1};if(null!==Y){A=!0,hy(g,u.data.length,Y.length);for(let Ze=0;Ze<Y.length;Ze++){const ot=Y[Ze];ot.providersResolver&&ot.providersResolver(ot)}let ne=!1,fe=!1,Ee=Gd(u,d,Y.length,null);for(let Ze=0;Ze<Y.length;Ze++){const ot=Y[Ze];g.mergedAttrs=Iu(g.mergedAttrs,ot.hostAttrs),py(u,g,d,Ee,ot),wf(Ee,ot,Q),null!==ot.contentQueries&&(g.flags|=8),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(g.flags|=128);const mt=ot.type.prototype;!ne&&(mt.ngOnChanges||mt.ngOnInit||mt.ngDoCheck)&&((u.preOrderHooks||(u.preOrderHooks=[])).push(g.index),ne=!0),!fe&&(mt.ngOnChanges||mt.ngDoCheck)&&((u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(g.index),fe=!0),Ee++}!function(u,d){const w=d.directiveEnd,A=u.data,Y=d.attrs,Q=[];let ne=null,fe=null;for(let Ee=d.directiveStart;Ee<w;Ee++){const Ze=A[Ee],ot=Ze.inputs,mt=null===Y||Up(d)?null:Fc(ot,Y);Q.push(mt),ne=ud(ot,Ee,ne),fe=ud(Ze.outputs,Ee,fe)}null!==ne&&(ne.hasOwnProperty("class")&&(d.flags|=16),ne.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=Q,d.inputs=ne,d.outputs=fe}(u,g)}Q&&function(u,d,g){if(d){const w=u.localNames=[];for(let A=0;A<d.length;A+=2){const Y=g[d[A+1]];if(null==Y)throw new Gt("301",`Export of name '${d[A+1]}' not found!`);w.push(d[A],Y)}}}(g,w,Q)}return g.mergedAttrs=Iu(g.mergedAttrs,g.attrs),A}function _v(u,d,g,w,A,Y){const Q=Y.hostBindings;if(Q){let ne=u.hostBindingOpCodes;null===ne&&(ne=u.hostBindingOpCodes=[]);const fe=~d.index;(function(u){let d=u.length;for(;d>0;){const g=u[--d];if("number"==typeof g&&g<0)return g}return 0})(ne)!=fe&&ne.push(fe),ne.push(w,A,Q)}}function Gp(u,d){null!==u.hostBindings&&u.hostBindings(1,d)}function Ti(u,d){d.flags|=2,(u.components||(u.components=[])).push(d.index)}function wf(u,d,g){if(g){if(d.exportAs)for(let w=0;w<d.exportAs.length;w++)g[d.exportAs[w]]=u;Ts(d)&&(g[""]=u)}}function hy(u,d,g){u.flags|=1,u.directiveStart=d,u.directiveEnd=d+g,u.providerIndexes=d}function py(u,d,g,w,A){u.data[w]=A;const Y=A.factory||(A.factory=ks(A.type)),Q=new Ir(Y,Ts(A),null);u.blueprint[w]=Q,g[w]=Q,_v(u,d,0,w,Gd(u,g,A.hostVars,ls),A)}function uo(u,d,g){const w=Nl(d,u),A=gv(g),Y=u[10],Q=fp(u,xf(u,A,null,g.onPush?64:16,w,d,Y,Y.createRenderer(w,g),null,null));u[d.index]=Q}function $d(u,d,g,w,A,Y){const Q=Nl(u,d);!function(u,d,g,w,A,Y,Q){if(null==Y)Zs(u)?u.removeAttribute(d,A,g):d.removeAttribute(A);else{const ne=null==Q?Rn(Y):Q(Y,w||"",A);Zs(u)?u.setAttribute(d,A,ne,g):g?d.setAttributeNS(g,A,ne):d.setAttribute(A,ne)}}(d[11],Q,Y,u.value,g,w,A)}function dp(u,d,g,w,A,Y){const Q=Y[d];if(null!==Q){const ne=w.setInput;for(let fe=0;fe<Q.length;){const Ee=Q[fe++],Ze=Q[fe++],ot=Q[fe++];null!==ne?w.setInput(g,ot,Ee,Ze):g[Ze]=ot}}}function Fc(u,d){let g=null,w=0;for(;w<d.length;){const A=d[w];if(0!==A)if(5!==A){if("number"==typeof A)break;u.hasOwnProperty(A)&&(null===g&&(g=[]),g.push(A,u[A],d[w+1])),w+=2}else w+=2;else w+=4}return g}function hp(u,d,g,w){return new Array(u,!0,!1,d,null,0,w,g,null,null)}function Ym(u,d){const g=hs(d,u);if(hh(g)){const w=g[1];80&g[2]?cd(w,g,w.template,g[8]):g[5]>0&&Nc(g)}}function Nc(u){for(let w=Im(u);null!==w;w=gf(w))for(let A=10;A<w.length;A++){const Y=w[A];if(1024&Y[2]){const Q=Y[1];cd(Q,Y,Q.template,Y[8])}else Y[5]>0&&Nc(Y)}const g=u[1].components;if(null!==g)for(let w=0;w<g.length;w++){const A=hs(g[w],u);hh(A)&&A[5]>0&&Nc(A)}}function pp(u,d){const g=hs(d,u),w=g[1];(function(u,d){for(let g=d.length;g<u.blueprint.length;g++)d.push(u.blueprint[g])})(w,g),Oc(w,g,g[8])}function fp(u,d){return u[13]?u[14][4]=d:u[13]=d,u[14]=d,d}function x_(u){for(;u;){u[2]|=64;const d=np(u);if(Aa(u)&&!d)return u;u=d}return null}function dd(u,d,g){const w=d[10];w.begin&&w.begin();try{cd(u,d,u.template,g)}catch(A){throw Hm(d,A),A}finally{w.end&&w.end()}}function hd(u){!function(u){for(let d=0;d<u.components.length;d++){const g=u.components[d],w=Mh(g),A=w[1];mv(A,w,A.template,g)}}(u[8])}function eu(u,d,g){ku(0),d(u,g)}const w_=(()=>Promise.resolve(null))();function ho(u){return u[7]||(u[7]=[])}function C_(u){return u.cleanup||(u.cleanup=[])}function mp(u,d,g){return(null===u||Ts(u))&&(g=function(u){for(;Array.isArray(u);){if("object"==typeof u[1])return u;u=u[0]}return null}(g[d.index])),g[11]}function Hm(u,d){const g=u[9],w=g?g.get(ga,null):null;w&&w.handleError(d)}function cm(u,d,g,w,A){for(let Y=0;Y<g.length;){const Q=g[Y++],ne=g[Y++],fe=d[Q],Ee=u.data[Q];null!==Ee.setInput?Ee.setInput(fe,A,w,ne):fe[ne]=A}}function Qd(u,d,g){const w=$u(d,u);!function(u,d,g){Zs(u)?u.setValue(d,g):d.textContent=g}(u[11],w,g)}function Sl(u,d,g){let w=g?u.styles:null,A=g?u.classes:null,Y=0;if(null!==d)for(let Q=0;Q<d.length;Q++){const ne=d[Q];"number"==typeof ne?Y=ne:1==Y?A=Ye(A,ne):2==Y&&(w=Ye(w,ne+": "+d[++Q]+";"))}g?u.styles=w:u.stylesWithoutHost=w,g?u.classes=A:u.classesWithoutHost=A}const Tf=new Po("INJECTOR",-1);class um{get(d,g=Ri){if(g===Ri){const w=new Error(`NullInjectorError: No provider for ${Te(d)}!`);throw w.name="NullInjectorError",w}return g}}const zc=new Po("Set Injector scope."),pd={},fd={};let yy;function M_(){return void 0===yy&&(yy=new um),yy}function by(u,d=null,g=null,w){return new yv(u,g,d||M_(),w)}class yv{constructor(d,g,w,A=null){this.parent=w,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const Y=[];g&&be(g,ne=>this.processProvider(ne,d,g)),be([d],ne=>this.processInjectorType(ne,[],Y)),this.records.set(Tf,nl(void 0,this));const Q=this.records.get(zc);this.scope=null!=Q?Q.value:null,this.source=A||("object"==typeof d?null:Te(d))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(d=>d.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(d,g=Ri,w=Ci.Default){this.assertNotDestroyed();const A=Ko(this),Y=ir(void 0);try{if(!(w&Ci.SkipSelf)){let ne=this.records.get(d);if(void 0===ne){const fe=("function"==typeof(u=d)||"object"==typeof u&&u instanceof Po)&&qs(d);ne=fe&&this.injectableDefInScope(fe)?nl(xy(d),pd):null,this.records.set(d,ne)}if(null!=ne)return this.hydrate(d,ne)}return(w&Ci.Self?M_():this.parent).get(d,g=w&Ci.Optional&&g===Ri?null:g)}catch(Q){if("NullInjectorError"===Q.name){if((Q[ps]=Q[ps]||[]).unshift(Te(d)),A)throw Q;return ul(Q,d,"R3InjectorError",this.source)}throw Q}finally{ir(Y),Ko(A)}var u}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(d=>this.get(d))}toString(){const d=[];return this.records.forEach((w,A)=>d.push(Te(A))),`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(d,g,w){if(!(d=gt(d)))return!1;let A=Ea(d);const Y=null==A&&d.ngModule||void 0,Q=void 0===Y?d:Y,ne=-1!==w.indexOf(Q);if(void 0!==Y&&(A=Ea(Y)),null==A)return!1;if(null!=A.imports&&!ne){let Ze;w.push(Q);try{be(A.imports,ot=>{this.processInjectorType(ot,g,w)&&(void 0===Ze&&(Ze=[]),Ze.push(ot))})}finally{}if(void 0!==Ze)for(let ot=0;ot<Ze.length;ot++){const{ngModule:mt,providers:Vt}=Ze[ot];be(Vt,en=>this.processProvider(en,mt,Vt||Rt))}}this.injectorDefTypes.add(Q);const fe=ks(Q)||(()=>new Q);this.records.set(Q,nl(fe,pd));const Ee=A.providers;if(null!=Ee&&!ne){const Ze=d;be(Ee,ot=>this.processProvider(ot,Ze,Ee))}return void 0!==Y&&void 0!==d.providers}processProvider(d,g,w){let A=M(d=gt(d))?d:gt(d&&d.provide);const Y=_(u=d)?nl(void 0,u.useValue):nl(ja(u),pd);var u;if(M(d)||!0!==d.multi)this.records.get(A);else{let Q=this.records.get(A);Q||(Q=nl(void 0,pd,!0),Q.factory=()=>Os(Q.multi),this.records.set(A,Q)),A=d,Q.multi.push(d)}this.records.set(A,Y)}hydrate(d,g){return g.value===pd&&(g.value=fd,g.value=g.factory()),"object"==typeof g.value&&g.value&&null!==(u=g.value)&&"object"==typeof u&&"function"==typeof u.ngOnDestroy&&this.onDestroy.add(g.value),g.value;var u}injectableDefInScope(d){if(!d.providedIn)return!1;const g=gt(d.providedIn);return"string"==typeof g?"any"===g||g===this.scope:this.injectorDefTypes.has(g)}}function xy(u){const d=qs(u),g=null!==d?d.factory:ks(u);if(null!==g)return g;if(u instanceof Po)throw new Error(`Token ${Te(u)} is missing a \u0275prov definition.`);if(u instanceof Function)return function(u){const d=u.length;if(d>0){const w=Qe(d,"?");throw new Error(`Can't resolve all parameters for ${Te(u)}: (${w.join(", ")}).`)}const g=function(u){const d=u&&(u[Ki]||u[ko]);if(d){const g=function(u){if(u.hasOwnProperty("name"))return u.name;const d=(""+u).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(u);return console.warn(`DEPRECATED: DI is instantiating a token "${g}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${g}" class.`),d}return null}(u);return null!==g?()=>g.factory(u):()=>new u}(u);throw new Error("unreachable")}function ja(u,d,g){let w;if(M(u)){const A=gt(u);return ks(A)||xy(A)}if(_(u))w=()=>gt(u.useValue);else if(function(u){return!(!u||!u.useFactory)}(u))w=()=>u.useFactory(...Os(u.deps||[]));else if(function(u){return!(!u||!u.useExisting)}(u))w=()=>Vi(gt(u.useExisting));else{const A=gt(u&&(u.useClass||u.provide));if(!function(u){return!!u.deps}(u))return ks(A)||xy(A);w=()=>new A(...Os(u.deps))}return w}function nl(u,d,g=!1){return{factory:u,value:d,multi:g?[]:void 0}}function _(u){return null!==u&&"object"==typeof u&&Ya in u}function M(u){return"function"==typeof u}const xe=function(u,d,g){return function(u,d=null,g=null,w){const A=by(u,d,g,w);return A._resolveInjectorDefTypes(),A}({name:g},d,u,g)};class Se{static create(d,g){return Array.isArray(d)?xe(d,g,""):xe(d.providers,d.parent,d.name||"")}}function Jd(u,d){Tc(Mh(u)[1],Do())}function Is(u){let d=function(u){return Object.getPrototypeOf(u.prototype).constructor}(u.type),g=!0;const w=[u];for(;d;){let A;if(Ts(u))A=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Error("Directives cannot inherit Components");A=d.\u0275dir}if(A){if(g){w.push(A);const Q=u;Q.inputs=Xs(u.inputs),Q.declaredInputs=Xs(u.declaredInputs),Q.outputs=Xs(u.outputs);const ne=A.hostBindings;ne&&dm(u,ne);const fe=A.viewQuery,Ee=A.contentQueries;if(fe&&No(u,fe),Ee&&Ih(u,Ee),De(u.inputs,A.inputs),De(u.declaredInputs,A.declaredInputs),De(u.outputs,A.outputs),Ts(A)&&A.data.animation){const Ze=u.data;Ze.animation=(Ze.animation||[]).concat(A.data.animation)}}const Y=A.features;if(Y)for(let Q=0;Q<Y.length;Q++){const ne=Y[Q];ne&&ne.ngInherit&&ne(u),ne===Is&&(g=!1)}}d=Object.getPrototypeOf(d)}!function(u){let d=0,g=null;for(let w=u.length-1;w>=0;w--){const A=u[w];A.hostVars=d+=A.hostVars,A.hostAttrs=Iu(A.hostAttrs,g=Iu(g,A.hostAttrs))}}(w)}function Xs(u){return u===Ft?{}:u===Rt?[]:u}function No(u,d){const g=u.viewQuery;u.viewQuery=g?(w,A)=>{d(w,A),g(w,A)}:d}function Ih(u,d){const g=u.contentQueries;u.contentQueries=g?(w,A,Y)=>{d(w,A,Y),g(w,A,Y)}:d}function dm(u,d){const g=u.hostBindings;u.hostBindings=g?(w,A)=>{d(w,A),g(w,A)}:d}Se.THROW_IF_NOT_FOUND=Ri,Se.NULL=new um,Se.\u0275prov=Er({token:Se,providedIn:"any",factory:()=>Vi(Tf)}),Se.__NG_ELEMENT_ID__=-1;let qp=null;function Dl(){if(!qp){const u=Cs.Symbol;if(u&&u.iterator)qp=u.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let g=0;g<d.length;++g){const w=d[g];"entries"!==w&&"size"!==w&&Map.prototype[w]===Map.prototype.entries&&(qp=w)}}}return qp}class Ls{constructor(d){this.wrapped=d}static wrap(d){return new Ls(d)}static unwrap(d){return Ls.isWrapped(d)?d.wrapped:d}static isWrapped(d){return d instanceof Ls}}function Vm(u){return!!Ag(u)&&(Array.isArray(u)||!(u instanceof Map)&&Dl()in u)}function Ag(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function Ca(u,d,g){return u[d]=g}function dc(u,d){return u[d]}function il(u,d,g){return!Object.is(u[d],g)&&(u[d]=g,!0)}function Ph(u,d,g,w){const A=il(u,d,g);return il(u,d+1,w)||A}function T_(u,d,g,w,A){const Y=Ph(u,d,g,w);return il(u,d+2,A)||Y}function hc(u,d,g,w,A,Y){const Q=Ph(u,d,g,w);return Ph(u,d+2,A,Y)||Q}function yb(u,d,g,w){const A=$n();return il(A,xc(),d)&&(_s(),$d(_n(),A,u,d,g,w)),yb}function Cy(u,d,g,w){return il(u,xc(),g)?d+Rn(g)+w:ls}function H(u,d,g,w,A,Y,Q,ne){const fe=$n(),Ee=_s(),Ze=u+20,ot=Ee.firstCreatePass?function(u,d,g,w,A,Y,Q,ne,fe){const Ee=d.consts,Ze=am(d,u,4,Q||null,zl(Ee,ne));Li(d,g,Ze,zl(Ee,fe)),Tc(d,Ze);const ot=Ze.tViews=__(2,Ze,w,A,Y,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Ee);return null!==d.queries&&(d.queries.template(d,Ze),ot.queries=d.queries.embeddedTView(Ze)),Ze}(Ze,Ee,fe,d,g,w,A,Y,Q):Ee.data[Ze];La(ot,!1);const mt=fe[11].createComment("");rs(Ee,fe,mt,ot),Oa(mt,fe),fp(fe,fe[Ze]=hp(mt,fe,mt,ot)),qr(ot)&&Mg(Ee,fe,ot),null!=Q&&Tg(fe,ot,ne)}function ke(u){return al(sr.lFrame.contextLView,20+u)}function wv(u,d=Ci.Default){const g=$n();return null===g?Vi(u,d):Fi(Do(),g,gt(u),d)}function q0(u,d,g){const w=$n();return il(w,xc(),d)&&va(_s(),_n(),w,u,d,w[11],g,!1),q0}function fw(u,d,g,w,A){const Q=A?"class":"style";cm(u,g,d.inputs[Q],Q,w)}function Dy(u,d,g,w){const A=$n(),Y=_s(),Q=20+u,ne=A[11],fe=A[Q]=em(ne,d,sr.lFrame.currentNamespace),Ee=Y.firstCreatePass?function(u,d,g,w,A,Y,Q){const ne=d.consts,Ee=am(d,u,2,A,zl(ne,Y));return Li(d,g,Ee,zl(ne,Q)),null!==Ee.attrs&&Sl(Ee,Ee.attrs,!1),null!==Ee.mergedAttrs&&Sl(Ee,Ee.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,Ee),Ee}(Q,Y,A,0,d,g,w):Y.data[Q];La(Ee,!0);const Ze=Ee.mergedAttrs;null!==Ze&&Id(ne,fe,Ze);const ot=Ee.classes;null!==ot&&nm(ne,fe,ot);const mt=Ee.styles;null!==mt&&c_(ne,fe,mt),64!=(64&Ee.flags)&&rs(Y,A,fe,Ee),0===sr.lFrame.elementDepthCount&&Oa(fe,A),sr.lFrame.elementDepthCount++,qr(Ee)&&(Mg(Y,A,Ee),Cg(Y,Ee,A)),null!==w&&Tg(A,Ee)}function Ay(){let u=Do();Io()?js():(u=u.parent,La(u,!1));const d=u;sr.lFrame.elementDepthCount--;const g=_s();g.firstCreatePass&&(Tc(g,u),Ms(u)&&g.queries.elementEnd(u)),null!=d.classesWithoutHost&&function(u){return 0!=(16&u.flags)}(d)&&fw(g,d,$n(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function(u){return 0!=(32&u.flags)}(d)&&fw(g,d,$n(),d.stylesWithoutHost,!1)}function Mb(u,d,g,w){Dy(u,d,g,w),Ay()}function MC(u,d,g){const w=$n(),A=_s(),Y=u+20,Q=A.firstCreatePass?function(u,d,g,w,A){const Y=d.consts,Q=zl(Y,w),ne=am(d,u,8,"ng-container",Q);return null!==Q&&Sl(ne,Q,!0),Li(d,g,ne,zl(Y,A)),null!==d.queries&&d.queries.elementStart(d,ne),ne}(Y,A,w,d,g):A.data[Y];La(Q,!0);const ne=w[Y]=w[11].createComment("");rs(A,w,ne,Q),Oa(ne,w),qr(Q)&&(Mg(A,w,Q),Cg(A,Q,w)),null!=g&&Tg(w,Q)}function mw(){let u=Do();const d=_s();Io()?js():(u=u.parent,La(u,!1)),d.firstCreatePass&&(Tc(d,u),Ms(u)&&d.queries.elementEnd(u))}function TC(u,d,g){MC(u,d,g),mw()}function FS(){return $n()}function $0(u){return!!u&&"function"==typeof u.then}function NS(u){return!!u&&"function"==typeof u.subscribe}const gw=NS;function _w(u,d,g,w){const A=$n(),Y=_s(),Q=Do();return Q0(Y,A,A[11],Q,u,d,!!g,w),_w}function pm(u,d){const g=Do(),w=$n(),A=_s();return Q0(A,w,mp(wc(A.data),g,w),g,u,d,!1),pm}function Q0(u,d,g,w,A,Y,Q,ne){const fe=qr(w),Ze=u.firstCreatePass&&C_(u),ot=d[8],mt=ho(d);let Vt=!0;if(3&w.type||ne){const Mn=Nl(w,d),gi=ne?ne(Mn):Mn,Vn=mt.length,Qi=ne?Gr=>ne(_r(Gr[w.index])):w.index;if(Zs(g)){let Gr=null;if(!ne&&fe&&(Gr=function(u,d,g,w){const A=u.cleanup;if(null!=A)for(let Y=0;Y<A.length-1;Y+=2){const Q=A[Y];if(Q===g&&A[Y+1]===w){const ne=d[7],fe=A[Y+2];return ne.length>fe?ne[fe]:null}"string"==typeof Q&&(Y+=2)}return null}(u,d,A,w.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=Y,Gr.__ngLastListenerFn__=Y,Vt=!1;else{Y=yw(w,d,ot,Y,!1);const To=g.listen(gi,A,Y);mt.push(Y,To),Ze&&Ze.push(A,Qi,Vn,Vn+1)}}else Y=yw(w,d,ot,Y,!0),gi.addEventListener(A,Y,Q),mt.push(Y),Ze&&Ze.push(A,Qi,Vn,Q)}else Y=yw(w,d,ot,Y,!1);const en=w.outputs;let Ln;if(Vt&&null!==en&&(Ln=en[A])){const Mn=Ln.length;if(Mn)for(let gi=0;gi<Mn;gi+=2){const bu=d[Ln[gi]][Ln[gi+1]].subscribe(Y),Rf=mt.length;mt.push(Y,bu),Ze&&Ze.push(A,w.index,Rf,-(Rf+1))}}}function BS(u,d,g,w){try{return!1!==g(w)}catch(A){return Hm(u,A),!1}}function yw(u,d,g,w,A){return function Y(Q){if(Q===Function)return w;const ne=2&u.flags?hs(u.index,d):d;0==(32&d[2])&&x_(ne);let fe=BS(d,0,w,Q),Ee=Y.__ngNextListenerFn__;for(;Ee;)fe=BS(d,0,Ee,Q)&&fe,Ee=Ee.__ngNextListenerFn__;return A&&!1===fe&&(Q.preventDefault(),Q.returnValue=!1),fe}}function A_(u=1){return function(u){return(sr.lFrame.contextLView=function(u,d){for(;u>0;)d=d[15],u--;return d}(u,sr.lFrame.contextLView))[8]}(u)}function Tb(u,d){let g=null;const w=function(u){const d=u.attrs;if(null!=d){const g=d.indexOf(5);if(0==(1&g))return d[g+1]}return null}(u);for(let A=0;A<d.length;A++){const Y=d[A];if("*"!==Y){if(null===w?jp(u,Y,!0):im(w,Y))return A}else g=A}return g}function SC(u){const d=$n()[J][6];if(!d.projection){const w=d.projection=Qe(u?u.length:1,null),A=w.slice();let Y=d.child;for(;null!==Y;){const Q=u?Tb(Y,u):0;null!==Q&&(A[Q]?A[Q].projectionNext=Y:w[Q]=Y,A[Q]=Y),Y=Y.next}}}function J0(u,d=0,g){const w=$n(),A=_s(),Y=am(A,20+u,16,null,g||null);null===Y.projection&&(Y.projection=d),js(),64!=(64&Y.flags)&&function(u,d,g){Zd(d[11],0,d,g,se(u,g,d),Yn(g.parent||d[6],g,d))}(A,w,Y)}function kC(u,d,g){return I_(u,"",d,"",g),kC}function I_(u,d,g,w,A){const Y=$n(),Q=Cy(Y,d,g,w);return Q!==ls&&va(_s(),_n(),Y,u,Q,Y[11],A,!1),I_}function ZS(u,d,g,w,A){const Y=u[g+1],Q=null===d;let ne=w?Xc(Y):Zp(Y),fe=!1;for(;0!==ne&&(!1===fe||Q);){const Ze=u[ne+1];WI(u[ne],d)&&(fe=!0,u[ne+1]=w?iy(Ze):vg(Ze)),ne=w?Xc(Ze):Zp(Ze)}fe&&(u[g+1]=w?vg(Y):iy(Y))}function WI(u,d){return null===u||null==d||(Array.isArray(u)?u[1]:u)===d||!(!Array.isArray(u)||"string"!=typeof d)&&St(u,d)>=0}const yu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P_(u){return u.substring(yu.key,yu.keyEnd)}function vw(u){return u.substring(yu.value,yu.valueEnd)}function IC(u,d){const g=yu.textEnd;return g===d?-1:(d=yu.keyEnd=function(u,d,g){for(;d<g&&u.charCodeAt(d)>32;)d++;return d}(u,yu.key=d,g),O_(u,d,g))}function WS(u,d){const g=yu.textEnd;let w=yu.key=O_(u,d,g);return g===w?-1:(w=yu.keyEnd=function(u,d,g){let w;for(;d<g&&(45===(w=u.charCodeAt(d))||95===w||(-33&w)>=65&&(-33&w)<=90||w>=48&&w<=57);)d++;return d}(u,w,g),w=OC(u,w,g),w=yu.value=O_(u,w,g),w=yu.valueEnd=function(u,d,g){let w=-1,A=-1,Y=-1,Q=d,ne=Q;for(;Q<g;){const fe=u.charCodeAt(Q++);if(59===fe)return ne;34===fe||39===fe?ne=Q=RC(u,fe,Q,g):d===Q-4&&85===Y&&82===A&&76===w&&40===fe?ne=Q=RC(u,41,Q,g):fe>32&&(ne=Q),Y=A,A=w,w=-33&fe}return ne}(u,w,g),OC(u,w,g))}function kb(u){yu.key=0,yu.keyEnd=0,yu.value=0,yu.valueEnd=0,yu.textEnd=u.length}function O_(u,d,g){for(;d<g&&u.charCodeAt(d)<=32;)d++;return d}function OC(u,d,g,w){return(d=O_(u,d,g))<g&&d++,d}function RC(u,d,g,w){let A=-1,Y=g;for(;Y<w;){const Q=u.charCodeAt(Y++);if(Q==d&&92!==A)return Y;A=92==Q&&92===A?0:Q}throw new Error}function bw(u,d,g){return Wm(u,d,g,!1),bw}function xw(u,d){return Wm(u,d,null,!0),xw}function jm(u){Rh(Wu,GS,u,!1)}function GS(u,d){for(let g=function(u){return kb(u),WS(u,O_(u,0,yu.textEnd))}(d);g>=0;g=WS(d,g))Wu(u,P_(d),vw(d))}function qS(u){Rh(Tt,Zm,u,!0)}function Zm(u,d){for(let g=function(u){return kb(u),IC(u,O_(u,0,yu.textEnd))}(d);g>=0;g=IC(d,g))Tt(u,P_(d),!0)}function Wm(u,d,g,w){const A=$n(),Y=_s(),Q=br(2);Y.firstUpdatePass&&X0(Y,u,Q,w),d!==ls&&il(A,Q,d)&&JS(Y,Y.data[Jt()],A,A[11],u,A[Q+1]=function(u,d){return null==u||("string"==typeof d?u+=d:"object"==typeof u&&(u=Te(sd(u)))),u}(d,g),w,Q)}function Rh(u,d,g,w){const A=_s(),Y=br(2);A.firstUpdatePass&&X0(A,null,Y,w);const Q=$n();if(g!==ls&&il(Q,Y,g)){const ne=A.data[Jt()];if(KS(ne,w)&&!Cv(A,Y)){let fe=w?ne.classesWithoutHost:ne.stylesWithoutHost;null!==fe&&(g=Ye(fe,g||"")),fw(A,ne,Q,g,w)}else!function(u,d,g,w,A,Y,Q,ne){A===ls&&(A=Rt);let fe=0,Ee=0,Ze=0<A.length?A[0]:null,ot=0<Y.length?Y[0]:null;for(;null!==Ze||null!==ot;){const mt=fe<A.length?A[fe+1]:void 0,Vt=Ee<Y.length?Y[Ee+1]:void 0;let Ln,en=null;Ze===ot?(fe+=2,Ee+=2,mt!==Vt&&(en=ot,Ln=Vt)):null===ot||null!==Ze&&Ze<ot?(fe+=2,en=Ze):(Ee+=2,en=ot,Ln=Vt),null!==en&&JS(u,d,g,w,en,Ln,Q,ne),Ze=fe<A.length?A[fe]:null,ot=Ee<Y.length?Y[Ee]:null}}(A,ne,Q,Q[11],Q[Y+1],Q[Y+1]=function(u,d,g){if(null==g||""===g)return Rt;const w=[],A=sd(g);if(Array.isArray(A))for(let Y=0;Y<A.length;Y++)u(w,A[Y],!0);else if("object"==typeof A)for(const Y in A)A.hasOwnProperty(Y)&&u(w,Y,A[Y]);else"string"==typeof A&&d(w,A);return w}(u,d,g),w,Y)}}function Cv(u,d){return d>=u.expandoStartIndex}function X0(u,d,g,w){const A=u.data;if(null===A[g+1]){const Y=A[Jt()],Q=Cv(u,g);KS(Y,w)&&null===d&&!Q&&(d=!1),d=function(u,d,g,w){const A=wc(u);let Y=w?d.residualClasses:d.residualStyles;if(null===A)0===(w?d.classBindings:d.styleBindings)&&(g=K0(g=FC(null,u,d,g,w),d.attrs,w),Y=null);else{const Q=d.directiveStylingLast;if(-1===Q||u[Q]!==A)if(g=FC(A,u,d,g,w),null===Y){let fe=function(u,d,g){const w=g?d.classBindings:d.styleBindings;if(0!==Zp(w))return u[Xc(w)]}(u,d,w);void 0!==fe&&Array.isArray(fe)&&(fe=FC(null,u,d,fe[1],w),fe=K0(fe,d.attrs,w),function(u,d,g,w){u[Xc(g?d.classBindings:d.styleBindings)]=w}(u,d,w,fe))}else Y=function(u,d,g){let w;const A=d.directiveEnd;for(let Y=1+d.directiveStylingLast;Y<A;Y++)w=K0(w,u[Y].hostAttrs,g);return K0(w,d.attrs,g)}(u,d,w)}return void 0!==Y&&(w?d.residualClasses=Y:d.residualStyles=Y),g}(A,Y,d,w),function(u,d,g,w,A,Y){let Q=Y?d.classBindings:d.styleBindings,ne=Xc(Q),fe=Zp(Q);u[w]=g;let Ze,Ee=!1;if(Array.isArray(g)){const ot=g;Ze=ot[1],(null===Ze||St(ot,Ze)>0)&&(Ee=!0)}else Ze=g;if(A)if(0!==fe){const mt=Xc(u[ne+1]);u[w+1]=Pm(mt,ne),0!==mt&&(u[mt+1]=bf(u[mt+1],w)),u[ne+1]=function(u,d){return 131071&u|d<<17}(u[ne+1],w)}else u[w+1]=Pm(ne,0),0!==ne&&(u[ne+1]=bf(u[ne+1],w)),ne=w;else u[w+1]=Pm(fe,0),0===ne?ne=w:u[fe+1]=bf(u[fe+1],w),fe=w;Ee&&(u[w+1]=vg(u[w+1])),ZS(u,Ze,w,!0),ZS(u,Ze,w,!1),function(u,d,g,w,A){const Y=A?u.residualClasses:u.residualStyles;null!=Y&&"string"==typeof d&&St(Y,d)>=0&&(g[w+1]=iy(g[w+1]))}(d,Ze,u,w,Y),Q=Pm(ne,fe),Y?d.classBindings=Q:d.styleBindings=Q}(A,Y,d,g,Q,w)}}function FC(u,d,g,w,A){let Y=null;const Q=g.directiveEnd;let ne=g.directiveStylingLast;for(-1===ne?ne=g.directiveStart:ne++;ne<Q&&(Y=d[ne],w=K0(w,Y.hostAttrs,A),Y!==u);)ne++;return null!==u&&(g.directiveStylingLast=ne),w}function K0(u,d,g){const w=g?1:2;let A=-1;if(null!==d)for(let Y=0;Y<d.length;Y++){const Q=d[Y];"number"==typeof Q?A=Q:A===w&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),Tt(u,Q,!!g||d[++Y]))}return void 0===u?null:u}function Wu(u,d,g){Tt(u,d,sd(g))}function JS(u,d,g,w,A,Y,Q,ne){if(!(3&d.type))return;const fe=u.data,Ee=fe[ne+1];ww(function(u){return 1==(1&u)}(Ee)?XS(fe,d,g,A,Zp(Ee),Q):void 0)||(ww(Y)||function(u){return 2==(2&u)}(Ee)&&(Y=XS(fe,null,g,A,ne,Q)),function(u,d,g,w,A){const Y=Zs(u);if(d)A?Y?u.addClass(g,w):g.classList.add(w):Y?u.removeClass(g,w):g.classList.remove(w);else{let Q=-1===w.indexOf("-")?void 0:Hu.DashCase;if(null==A)Y?u.removeStyle(g,w,Q):g.style.removeProperty(w);else{const ne="string"==typeof A&&A.endsWith("!important");ne&&(A=A.slice(0,-10),Q|=Hu.Important),Y?u.setStyle(g,w,A,Q):g.style.setProperty(w,A,ne?"important":"")}}}(w,Q,$u(Jt(),g),A,Y))}function XS(u,d,g,w,A,Y){const Q=null===d;let ne;for(;A>0;){const fe=u[A],Ee=Array.isArray(fe),Ze=Ee?fe[1]:fe,ot=null===Ze;let mt=g[A+1];mt===ls&&(mt=ot?Rt:void 0);let Vt=ot?Ut(mt,w):Ze===w?mt:void 0;if(Ee&&!ww(Vt)&&(Vt=Ut(fe,w)),ww(Vt)&&(ne=Vt,Q))return ne;const en=u[A+1];A=Q?Xc(en):Zp(en)}if(null!==d){let fe=Y?d.residualClasses:d.residualStyles;null!=fe&&(ne=Ut(fe,w))}return ne}function ww(u){return void 0!==u}function KS(u,d){return 0!=(u.flags&(d?16:32))}function ek(u,d=""){const g=$n(),w=_s(),A=u+20,Y=w.firstCreatePass?am(w,A,1,d,null):w.data[A],Q=g[A]=function(u,d){return Zs(u)?u.createText(d):u.createTextNode(d)}(g[11],d);rs(w,g,Q,Y),La(Y,!1)}function Fh(u){return ex("",u,""),Fh}function ex(u,d,g){const w=$n(),A=Cy(w,u,d,g);return A!==ls&&Qd(w,Jt(),A),ex}function Cw(u,d,g,w,A){const Y=$n(),Q=function(u,d,g,w,A,Y){const ne=Ph(u,pa(),g,A);return br(2),ne?d+Rn(g)+w+Rn(A)+Y:ls}(Y,u,d,g,w,A);return Q!==ls&&Qd(Y,Jt(),Q),Cw}function tx(u,d,g,w,A,Y,Q,ne,fe,Ee,Ze){const ot=$n(),mt=function(u,d,g,w,A,Y,Q,ne,fe,Ee,Ze,ot){const mt=pa();let Vt=hc(u,mt,g,A,Q,fe);return Vt=il(u,mt+4,Ze)||Vt,br(5),Vt?d+Rn(g)+w+Rn(A)+Y+Rn(Q)+ne+Rn(fe)+Ee+Rn(Ze)+ot:ls}(ot,u,d,g,w,A,Y,Q,ne,fe,Ee,Ze);return mt!==ls&&Qd(ot,Jt(),mt),tx}function YC(u,d,g){Rh(Tt,Zm,Cy($n(),u,d,g),!0)}function jC(u,d,g){const w=$n();return il(w,xc(),d)&&va(_s(),_n(),w,u,d,w[11],g,!0),jC}function ZC(u,d,g){const w=$n();if(il(w,xc(),d)){const Y=_s(),Q=_n();va(Y,Q,w,u,d,mp(wc(Y.data),Q,w),g,!0)}return ZC}const Lg=void 0;var Ab=["en",[["a","p"],["AM","PM"],Lg],[["AM","PM"],Lg,Lg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lg,"{1} 'at' {0}",Lg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(u){const d=Math.floor(Math.abs(u)),g=u.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===g?1:5}];let Mv={};function WC(u){const d=function(u){return u.toLowerCase().replace(/_/g,"-")}(u);let g=lk(d);if(g)return g;const w=d.split("-")[0];if(g=lk(w),g)return g;if("en"===w)return Ab;throw new Error(`Missing locale data for the locale "${u}".`)}function ak(u){return WC(u)[Sr.PluralCase]}function lk(u){return u in Mv||(Mv[u]=Cs.ng&&Cs.ng.common&&Cs.ng.common.locales&&Cs.ng.common.locales[u]),Mv[u]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const sx="en-US";let Lw=sx;function GC(u){Ei(u,"Expected localeId to be defined"),"string"==typeof u&&(Lw=u.toLowerCase().replace(/_/g,"-"))}function zo(u,d,g,w,A){if(u=gt(u),Array.isArray(u))for(let Y=0;Y<u.length;Y++)zo(u[Y],d,g,w,A);else{const Y=_s(),Q=$n();let ne=M(u)?u:gt(u.provide),fe=ja(u);const Ee=Do(),Ze=1048575&Ee.providerIndexes,ot=Ee.directiveStart,mt=Ee.providerIndexes>>20;if(M(u)||!u.multi){const Vt=new Ir(fe,A,wv),en=Sv(ne,d,A?Ze:Ze+mt,ot);-1===en?(Js(Ec(Ee,Q),Y,ne),Zw(Y,u,d.length),d.push(ne),Ee.directiveStart++,Ee.directiveEnd++,A&&(Ee.providerIndexes+=1048576),g.push(Vt),Q.push(Vt)):(g[en]=Vt,Q[en]=Vt)}else{const Vt=Sv(ne,d,Ze+mt,ot),en=Sv(ne,d,Ze,Ze+mt),Ln=Vt>=0&&g[Vt],Mn=en>=0&&g[en];if(A&&!Mn||!A&&!Ln){Js(Ec(Ee,Q),Y,ne);const gi=function(u,d,g,w,A){const Y=new Ir(u,g,wv);return Y.multi=[],Y.index=d,Y.componentProviders=0,aM(Y,A,w&&!g),Y}(A?Qp:pc,g.length,A,w,fe);!A&&Mn&&(g[en].providerFactory=gi),Zw(Y,u,d.length,0),d.push(ne),Ee.directiveStart++,Ee.directiveEnd++,A&&(Ee.providerIndexes+=1048576),g.push(gi),Q.push(gi)}else Zw(Y,u,Vt>-1?Vt:en,aM(g[A?en:Vt],fe,!A&&w));!A&&w&&Mn&&g[en].componentProviders++}}}function Zw(u,d,g,w){const A=M(d);if(A||function(u){return!!u.useClass}(d)){const Q=(d.useClass||d).prototype.ngOnDestroy;if(Q){const ne=u.destroyHooks||(u.destroyHooks=[]);if(!A&&d.multi){const fe=ne.indexOf(g);-1===fe?ne.push(g,[w,Q]):ne[fe+1].push(w,Q)}else ne.push(g,Q)}}}function aM(u,d,g){return g&&u.componentProviders++,u.multi.push(d)-1}function Sv(u,d,g,w){for(let A=g;A<w;A++)if(d[A]===u)return A;return-1}function pc(u,d,g,w){return Pg(this.multi,[])}function Qp(u,d,g,w){const A=this.multi;let Y;if(this.providerFactory){const Q=this.providerFactory.componentProviders,ne=yl(g,g[1],this.providerFactory.index,w);Y=ne.slice(0,Q),Pg(A,Y);for(let fe=Q;fe<ne.length;fe++)Y.push(ne[fe])}else Y=[],Pg(A,Y);return Y}function Pg(u,d){for(let g=0;g<u.length;g++)d.push((0,u[g])());return d}function lx(u,d=[]){return g=>{g.providersResolver=(w,A)=>function(u,d,g){const w=_s();if(w.firstCreatePass){const A=Ts(u);zo(g,w.data,w.blueprint,A,!0),zo(d,w.data,w.blueprint,A,!1)}}(w,A?A(u):u,d)}}class lM{}const kv="ngComponent";class I2{resolveComponentFactory(d){throw function(u){const d=Error(`No component factory found for ${Te(u)}. Did you add it to @NgModule.entryComponents?`);return d[kv]=u,d}(d)}}class rl{}function cx(...u){}function _p(u,d){return new Og(Nl(u,d))}rl.NULL=new I2;const Gw=function(){return _p(Do(),$n())};let Og=(()=>{class u{constructor(g){this.nativeElement=g}}return u.__NG_ELEMENT_ID__=Gw,u})();function Hk(u){return u instanceof Og?u.nativeElement:u}class ux{}let Vk=(()=>{class u{}return u.__NG_ELEMENT_ID__=()=>qw(),u})();const qw=function(){const u=$n(),g=hs(Do().index,u);return function(u){return u[11]}(Pr(g)?g:u)};let uM=(()=>{class u{}return u.\u0275prov=Er({token:u,providedIn:"root",factory:()=>null}),u})();class jk{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const dM=new jk("12.2.1");class Zk{constructor(){}supports(d){return Vm(d)}create(d){return new Gk(d)}}const hM=(u,d)=>d;class Gk{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||hM}forEachItem(d){let g;for(g=this._itHead;null!==g;g=g._next)d(g)}forEachOperation(d){let g=this._itHead,w=this._removalsHead,A=0,Y=null;for(;g||w;){const Q=!w||g&&g.currentIndex<$w(w,A,Y)?g:w,ne=$w(Q,A,Y),fe=Q.currentIndex;if(Q===w)A--,w=w._nextRemoved;else if(g=g._next,null==Q.previousIndex)A++;else{Y||(Y=[]);const Ee=ne-A,Ze=fe-A;if(Ee!=Ze){for(let mt=0;mt<Ee;mt++){const Vt=mt<Y.length?Y[mt]:Y[mt]=0,en=Vt+mt;Ze<=en&&en<Ee&&(Y[mt]=Vt+1)}Y[Q.previousIndex]=Ze-Ee}}ne!==fe&&d(Q,ne,fe)}}forEachPreviousItem(d){let g;for(g=this._previousItHead;null!==g;g=g._nextPrevious)d(g)}forEachAddedItem(d){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)d(g)}forEachMovedItem(d){let g;for(g=this._movesHead;null!==g;g=g._nextMoved)d(g)}forEachRemovedItem(d){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)d(g)}forEachIdentityChange(d){let g;for(g=this._identityChangesHead;null!==g;g=g._nextIdentityChange)d(g)}diff(d){if(null==d&&(d=[]),!Vm(d))throw new Error(`Error trying to diff '${Te(d)}'. Only arrays and iterables are allowed`);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let A,Y,Q,g=this._itHead,w=!1;if(Array.isArray(d)){this.length=d.length;for(let ne=0;ne<this.length;ne++)Y=d[ne],Q=this._trackByFn(ne,Y),null!==g&&Object.is(g.trackById,Q)?(w&&(g=this._verifyReinsertion(g,Y,Q,ne)),Object.is(g.item,Y)||this._addIdentityChange(g,Y)):(g=this._mismatch(g,Y,Q,ne),w=!0),g=g._next}else A=0,function(u,d){if(Array.isArray(u))for(let g=0;g<u.length;g++)d(u[g]);else{const g=u[Dl()]();let w;for(;!(w=g.next()).done;)d(w.value)}}(d,ne=>{Q=this._trackByFn(A,ne),null!==g&&Object.is(g.trackById,Q)?(w&&(g=this._verifyReinsertion(g,ne,Q,A)),Object.is(g.item,ne)||this._addIdentityChange(g,ne)):(g=this._mismatch(g,ne,Q,A),w=!0),g=g._next,A++}),this.length=A;return this._truncate(g),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,g,w,A){let Y;return null===d?Y=this._itTail:(Y=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null))?(Object.is(d.item,g)||this._addIdentityChange(d,g),this._reinsertAfter(d,Y,A)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(w,A))?(Object.is(d.item,g)||this._addIdentityChange(d,g),this._moveAfter(d,Y,A)):d=this._addAfter(new Dv(g,w),Y,A),d}_verifyReinsertion(d,g,w,A){let Y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null);return null!==Y?d=this._reinsertAfter(Y,d._prev,A):d.currentIndex!=A&&(d.currentIndex=A,this._addToMoves(d,A)),d}_truncate(d){for(;null!==d;){const g=d._next;this._addToRemovals(this._unlink(d)),d=g}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,g,w){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const A=d._prevRemoved,Y=d._nextRemoved;return null===A?this._removalsHead=Y:A._nextRemoved=Y,null===Y?this._removalsTail=A:Y._prevRemoved=A,this._insertAfter(d,g,w),this._addToMoves(d,w),d}_moveAfter(d,g,w){return this._unlink(d),this._insertAfter(d,g,w),this._addToMoves(d,w),d}_addAfter(d,g,w){return this._insertAfter(d,g,w),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,g,w){const A=null===g?this._itHead:g._next;return d._next=A,d._prev=g,null===A?this._itTail=d:A._prev=d,null===g?this._itHead=d:g._next=d,null===this._linkedRecords&&(this._linkedRecords=new pM),this._linkedRecords.put(d),d.currentIndex=w,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const g=d._prev,w=d._next;return null===g?this._itHead=w:g._next=w,null===w?this._itTail=g:w._prev=g,d}_addToMoves(d,g){return d.previousIndex===g||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pM),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,g){return d.item=g,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class Dv{constructor(d,g){this.item=d,this.trackById=g,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qk{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,g){let w;for(w=this._head;null!==w;w=w._nextDup)if((null===g||g<=w.currentIndex)&&Object.is(w.trackById,d))return w;return null}remove(d){const g=d._prevDup,w=d._nextDup;return null===g?this._head=w:g._nextDup=w,null===w?this._tail=g:w._prevDup=g,null===this._head}}class pM{constructor(){this.map=new Map}put(d){const g=d.trackById;let w=this.map.get(g);w||(w=new qk,this.map.set(g,w)),w.add(d)}get(d,g){const A=this.map.get(d);return A?A.get(d,g):null}remove(d){const g=d.trackById;return this.map.get(g).remove(d)&&this.map.delete(g),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $w(u,d,g){const w=u.previousIndex;if(null===w)return w;let A=0;return g&&w<g.length&&(A=g[w]),w+d+A}class Qw{constructor(){}supports(d){return d instanceof Map||Ag(d)}create(){return new O2}}class O2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let g;for(g=this._mapHead;null!==g;g=g._next)d(g)}forEachPreviousItem(d){let g;for(g=this._previousMapHead;null!==g;g=g._nextPrevious)d(g)}forEachChangedItem(d){let g;for(g=this._changesHead;null!==g;g=g._nextChanged)d(g)}forEachAddedItem(d){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)d(g)}forEachRemovedItem(d){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)d(g)}diff(d){if(d){if(!(d instanceof Map||Ag(d)))throw new Error(`Error trying to diff '${Te(d)}'. Only maps and objects are allowed`)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let g=this._mapHead;if(this._appendAfter=null,this._forEach(d,(w,A)=>{if(g&&g.key===A)this._maybeAddToChanges(g,w),this._appendAfter=g,g=g._next;else{const Y=this._getOrCreateRecordForKey(A,w);g=this._insertBeforeOrAppend(g,Y)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(let w=g;null!==w;w=w._nextRemoved)w===this._mapHead&&(this._mapHead=null),this._records.delete(w.key),w._nextRemoved=w._next,w.previousValue=w.currentValue,w.currentValue=null,w._prev=null,w._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,g){if(d){const w=d._prev;return g._next=d,g._prev=w,d._prev=g,w&&(w._next=g),d===this._mapHead&&(this._mapHead=g),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=g,g._prev=this._appendAfter):this._mapHead=g,this._appendAfter=g,null}_getOrCreateRecordForKey(d,g){if(this._records.has(d)){const A=this._records.get(d);this._maybeAddToChanges(A,g);const Y=A._prev,Q=A._next;return Y&&(Y._next=Q),Q&&(Q._prev=Y),A._next=null,A._prev=null,A}const w=new fM(d);return this._records.set(d,w),w.currentValue=g,this._addToAdditions(w),w}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,g){Object.is(g,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=g,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,g){d instanceof Map?d.forEach(g):Object.keys(d).forEach(w=>g(d[w],w))}}class fM{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dx(){return new hx([new Zk])}let hx=(()=>{class u{constructor(g){this.factories=g}static create(g,w){if(null!=w){const A=w.factories.slice();g=g.concat(A)}return new u(g)}static extend(g){return{provide:u,useFactory:w=>u.create(g,w||dx()),deps:[[u,new Pa,new Ha]]}}find(g){const w=this.factories.find(A=>A.supports(g));if(null!=w)return w;throw new Error(`Cannot find a differ supporting object '${g}' of type '${function(u){return u.name||typeof u}(g)}'`)}}return u.\u0275prov=Er({token:u,providedIn:"root",factory:dx}),u})();function $k(){return new Av([new Qw])}let Av=(()=>{class u{constructor(g){this.factories=g}static create(g,w){if(w){const A=w.factories.slice();g=g.concat(A)}return new u(g)}static extend(g){return{provide:u,useFactory:w=>u.create(g,w||$k()),deps:[[u,new Pa,new Ha]]}}find(g){const w=this.factories.find(A=>A.supports(g));if(w)return w;throw new Error(`Cannot find a differ supporting object '${g}'`)}}return u.\u0275prov=Er({token:u,providedIn:"root",factory:$k}),u})();function Rg(u,d,g,w,A=!1){for(;null!==g;){const Y=d[g.index];if(null!==Y&&w.push(_r(Y)),oo(Y))for(let ne=10;ne<Y.length;ne++){const fe=Y[ne],Ee=fe[1].firstChild;null!==Ee&&Rg(fe[1],fe,Ee,w)}const Q=g.type;if(8&Q)Rg(u,d,g.child,w);else if(32&Q){const ne=Th(g,d);let fe;for(;fe=ne();)w.push(fe)}else if(16&Q){const ne=lc(d,g);if(Array.isArray(ne))w.push(...ne);else{const fe=np(d[J]);Rg(fe[1],fe,ne,w,!0)}}g=A?g.projectionNext:g.next}return w}class Df{constructor(d,g){this._lView=d,this._cdRefInjectingView=g,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,g=d[1];return Rg(g,d,g.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if(oo(d)){const g=d[8],w=g?g.indexOf(this):-1;w>-1&&(Lm(d,w),qe(g,w))}this._attachedToViewContainer=!1}E(this._lView[1],this._lView)}onDestroy(d){qd(this._lView[1],this._lView,null,d)}markForCheck(){x_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(u,d,g){Gc(!0);try{dd(u,d,g)}finally{Gc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var d;this._appRef=null,gu(this._lView[1],d=this._lView,d[11],2,null,null)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=d}}class fx extends Df{constructor(d){super(d),this._view=d}detectChanges(){hd(this._view)}checkNoChanges(){!function(u){Gc(!0);try{hd(u)}finally{Gc(!1)}}(this._view)}get context(){return null}}const Qk=function(u){return function(u,d,g){if(Gi(u)&&!g){const w=hs(u.index,d);return new Df(w,w)}return 47&u.type?new Df(d[J],d):null}(Do(),$n(),16==(16&u))};let Jk=(()=>{class u{}return u.__NG_ELEMENT_ID__=Qk,u})();const R2=[new Qw],Xk=new hx([new Zk]),Kk=new Av(R2),tE=function(){return Xw(Do(),$n())};let Hb=(()=>{class u{}return u.__NG_ELEMENT_ID__=tE,u})();const nE=Hb,mM=class extends nE{constructor(d,g,w){super(),this._declarationLView=d,this._declarationTContainer=g,this.elementRef=w}createEmbeddedView(d){const g=this._declarationTContainer.tViews,w=xf(this._declarationLView,g,d,16,null,g.declTNode,null,null,null,null);w[17]=this._declarationLView[this._declarationTContainer.index];const Y=this._declarationLView[19];return null!==Y&&(w[19]=Y.createEmbeddedView(g)),Oc(g,w,d),new Df(w)}};function Xw(u,d){return 4&u.type?new mM(d,u,_p(u,d)):null}class Iv{}class F_{}const iE=function(){return rE(Do(),$n())};let Fy=(()=>{class u{}return u.__NG_ELEMENT_ID__=iE,u})();const B2=Fy,_M=class extends B2{constructor(d,g,w){super(),this._lContainer=d,this._hostTNode=g,this._hostLView=w}get element(){return _p(this._hostTNode,this._hostLView)}get injector(){return new nc(this._hostTNode,this._hostLView)}get parentInjector(){const d=Cr(this._hostTNode,this._hostLView);if(Lu(d)){const g=Bl(d,this._hostLView),w=_l(d);return new nc(g[1].data[w+8],g)}return new nc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const g=yM(this._lContainer);return null!==g&&g[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,g,w){const A=d.createEmbeddedView(g||{});return this.insert(A,w),A}createComponent(d,g,w,A,Y){const Q=w||this.parentInjector;if(!Y&&null==d.ngModule&&Q){const fe=Q.get(Iv,null);fe&&(Y=fe)}const ne=d.create(Q,A,void 0,Y);return this.insert(ne.hostView,g),ne}insert(d,g){const w=d._lView,A=w[1];if(oo(w[3])){const Ze=this.indexOf(d);if(-1!==Ze)this.detach(Ze);else{const ot=w[3],mt=new _M(ot,ot[6],ot[3]);mt.detach(mt.indexOf(d))}}const Y=this._adjustIndex(g),Q=this._lContainer;!function(u,d,g,w){const A=10+w,Y=g.length;w>0&&(g[A-1][4]=d),w<Y-10?(d[4]=g[A],Ue(g,10+w,d)):(g.push(d),d[4]=null),d[3]=g;const Q=d[17];null!==Q&&g!==Q&&function(u,d){const g=u[9];d[J]!==d[3][3][J]&&(u[2]=!0),null===g?u[9]=[d]:g.push(d)}(Q,d);const ne=d[19];null!==ne&&ne.insertView(u),d[2]|=128}(A,w,Q,Y);const ne=sp(Y,Q),fe=w[11],Ee=zt(fe,Q[7]);return null!==Ee&&function(u,d,g,w,A,Y){w[0]=A,w[6]=d,gu(u,w,g,1,A,Y)}(A,Q[6],fe,w,Ee,ne),d.attachToViewContainerRef(),Ue(Kw(Q),Y,d),d}move(d,g){return this.insert(d,g)}indexOf(d){const g=yM(this._lContainer);return null!==g?g.indexOf(d):-1}remove(d){const g=this._adjustIndex(d,-1),w=Lm(this._lContainer,g);w&&(qe(Kw(this._lContainer),g),E(w[1],w))}detach(d){const g=this._adjustIndex(d,-1),w=Lm(this._lContainer,g);return w&&null!=qe(Kw(this._lContainer),g)?new Df(w):null}_adjustIndex(d,g=0){return null==d?this.length+g:d}};function yM(u){return u[8]}function Kw(u){return u[8]||(u[8]=[])}function rE(u,d){let g;const w=d[u.index];if(oo(w))g=w;else{let A;if(8&u.type)A=_r(w);else{const Y=d[11];A=Y.createComment("");const Q=Nl(u,d);Fe(Y,zt(Y,Q),A,function(u,d){return Zs(u)?u.nextSibling(d):d.nextSibling}(Y,Q),!1)}d[u.index]=g=hp(w,d,A,u),fp(d,g)}return new _M(g,u,d)}const $b={};class Tx extends rl{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const g=kn(d);return new RM(g,this.ngModule)}}function CE(u){const d=[];for(let g in u)u.hasOwnProperty(g)&&d.push({propName:u[g],templateName:g});return d}const a1=new Po("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pf});class RM extends lM{constructor(d,g){super(),this.componentDef=d,this.ngModule=g,this.componentType=d.type,this.selector=d.selectors.map(ty).join(","),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!g}get inputs(){return CE(this.componentDef.inputs)}get outputs(){return CE(this.componentDef.outputs)}create(d,g,w,A){const Y=(A=A||this.ngModule)?function(u,d){return{get:(g,w,A)=>{const Y=u.get(g,$b,A);return Y!==$b||w===$b?Y:d.get(g,w,A)}}}(d,A.injector):d,Q=Y.get(ux,lr),ne=Y.get(uM,null),fe=Q.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",Ze=w?function(u,d,g){if(Zs(u))return u.selectRootElement(d,g===Zn.ShadowDom);let w="string"==typeof d?u.querySelector(d):d;return w.textContent="",w}(fe,w,this.componentDef.encapsulation):em(Q.createRenderer(null,this.componentDef),Ee,function(u){const d=u.toLowerCase();return"svg"===d?mi:"math"===d?"http://www.w3.org/1998/MathML/":null}(Ee)),ot=this.componentDef.onPush?576:528,mt=function(u,d){return{components:[],scheduler:u||pf,clean:w_,playerHandler:d||null,flags:0}}(),Vt=__(0,null,null,1,0,null,null,null,null,null),en=xf(null,Vt,mt,ot,null,null,Q,fe,ne,Y);let Ln,Mn;sa(en);try{const gi=function(u,d,g,w,A,Y){const Q=g[1];g[20]=u;const fe=am(Q,20,2,"#host",null),Ee=fe.mergedAttrs=d.hostAttrs;null!==Ee&&(Sl(fe,Ee,!0),null!==u&&(Id(A,u,Ee),null!==fe.classes&&nm(A,u,fe.classes),null!==fe.styles&&c_(A,u,fe.styles)));const Ze=w.createRenderer(u,d),ot=xf(g,gv(d),null,d.onPush?64:16,g[20],fe,w,Ze,Y||null,null);return Q.firstCreatePass&&(Js(Ec(fe,g),Q,d.type),Ti(Q,fe),hy(fe,g.length,1)),fp(g,ot),g[20]=ot}(Ze,this.componentDef,en,Q,fe);if(Ze)if(w)Id(fe,Ze,["ng-version",dM.full]);else{const{attrs:Vn,classes:Qi}=function(u){const d=[],g=[];let w=1,A=2;for(;w<u.length;){let Y=u[w];if("string"==typeof Y)2===A?""!==Y&&d.push(Y,u[++w]):8===A&&g.push(Y);else{if(!Wd(A))break;A=Y}w++}return{attrs:d,classes:g}}(this.componentDef.selectors[0]);Vn&&Id(fe,Ze,Vn),Qi&&Qi.length>0&&nm(fe,Ze,Qi.join(" "))}if(Mn=Ia(Vt,20),void 0!==g){const Vn=Mn.projection=[];for(let Qi=0;Qi<this.ngContentSelectors.length;Qi++){const Gr=g[Qi];Vn.push(null!=Gr?Array.from(Gr):null)}}Ln=function(u,d,g,w,A){const Y=g[1],Q=function(u,d,g){const w=Do();u.firstCreatePass&&(g.providersResolver&&g.providersResolver(g),py(u,w,d,Gd(u,d,1,null),g));const A=yl(d,u,w.directiveStart,w);Oa(A,d);const Y=Nl(w,d);return Y&&Oa(Y,d),A}(Y,g,d);if(w.components.push(Q),u[8]=Q,A&&A.forEach(fe=>fe(Q,d)),d.contentQueries){const fe=Do();d.contentQueries(1,Q,fe.directiveStart)}const ne=Do();return!Y.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(Pn(ne.index),_v(g[1],ne,0,ne.directiveStart,ne.directiveEnd,d),Gp(d,Q)),Q}(gi,this.componentDef,en,mt,[Jd]),Oc(Vt,en,null)}finally{cl()}return new uL(this.componentType,Ln,_p(Mn,en),en,Mn)}}class uL extends class{}{constructor(d,g,w,A,Y){super(),this.location=w,this._rootLView=A,this._tNode=Y,this.instance=g,this.hostView=this.changeDetectorRef=new fx(A),this.componentType=d}get injector(){return new nc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}const Jb=new Map;class NM extends Iv{constructor(d,g){super(),this._parent=g,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tx(this);const w=f(d),A=d[Zi]||null;A&&GC(A),this._bootstrapComponents=mu(w.bootstrap),this._r3Injector=by(d,g,[{provide:Iv,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],Te(d)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(d)}get(d,g=Se.THROW_IF_NOT_FOUND,w=Ci.Default){return d===Se||d===Iv||d===Tf?this:this._r3Injector.get(d,g,w)}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Sx extends F_{constructor(d){super(),this.moduleType=d,null!==f(d)&&function(u){const d=new Set;!function g(w){const A=f(w,!0),Y=A.id;null!==Y&&(function(u,d,g){if(d&&d!==g)throw new Error(`Duplicate module registered for ${u} - ${Te(d)} vs ${Te(d.name)}`)}(Y,Jb.get(Y),w),Jb.set(Y,w));const Q=mu(A.imports);for(const ne of Q)d.has(ne)||(d.add(ne),g(ne))}(u)}(d)}create(d){return new NM(this.moduleType,d)}}function Yg(u,d,g){const w=bo()+u,A=$n();return A[w]===ls?Ca(A,w,g?d.call(g):d()):dc(A,w)}function Xb(u,d,g,w){return VM($n(),bo(),u,d,g,w)}function zM(u,d,g,w,A){return u1($n(),bo(),u,d,g,w,A)}function BM(u,d,g,w,A,Y){return function(u,d,g,w,A,Y,Q,ne){const fe=d+g;return T_(u,fe,A,Y,Q)?Ca(u,fe+3,ne?w.call(ne,A,Y,Q):w(A,Y,Q)):Nv(u,fe+3)}($n(),bo(),u,d,g,w,A,Y)}function SE(u,d,g,w,A,Y,Q){return function(u,d,g,w,A,Y,Q,ne,fe){const Ee=d+g;return hc(u,Ee,A,Y,Q,ne)?Ca(u,Ee+4,fe?w.call(fe,A,Y,Q,ne):w(A,Y,Q,ne)):Nv(u,Ee+4)}($n(),bo(),u,d,g,w,A,Y,Q)}function Jp(u,d,g,w,A,Y,Q,ne){const fe=bo()+u,Ee=$n(),Ze=hc(Ee,fe,g,w,A,Y);return il(Ee,fe+4,Q)||Ze?Ca(Ee,fe+5,ne?d.call(ne,g,w,A,Y,Q):d(g,w,A,Y,Q)):dc(Ee,fe+5)}function YM(u,d,g,w,A,Y,Q,ne,fe){const Ee=bo()+u,Ze=$n(),ot=hc(Ze,Ee,g,w,A,Y);return Ph(Ze,Ee+4,Q,ne)||ot?Ca(Ze,Ee+6,fe?d.call(fe,g,w,A,Y,Q,ne):d(g,w,A,Y,Q,ne)):dc(Ze,Ee+6)}function kE(u,d,g,w,A,Y,Q,ne,fe,Ee){const Ze=bo()+u,ot=$n();let mt=hc(ot,Ze,g,w,A,Y);return T_(ot,Ze+4,Q,ne,fe)||mt?Ca(ot,Ze+7,Ee?d.call(Ee,g,w,A,Y,Q,ne,fe):d(g,w,A,Y,Q,ne,fe)):dc(ot,Ze+7)}function HM(u,d,g,w){return function(u,d,g,w,A,Y){let Q=d+g,ne=!1;for(let fe=0;fe<A.length;fe++)il(u,Q++,A[fe])&&(ne=!0);return ne?Ca(u,Q,w.apply(Y,A)):Nv(u,Q)}($n(),bo(),u,d,g,w)}function Nv(u,d){const g=u[d];return g===ls?void 0:g}function VM(u,d,g,w,A,Y){const Q=d+g;return il(u,Q,A)?Ca(u,Q+1,Y?w.call(Y,A):w(A)):Nv(u,Q+1)}function u1(u,d,g,w,A,Y,Q){const ne=d+g;return Ph(u,ne,A,Y)?Ca(u,ne+2,Q?w.call(Q,A,Y):w(A,Y)):Nv(u,ne+2)}function UM(u,d){const g=_s();let w;const A=u+20;g.firstCreatePass?(w=function(u,d){if(d)for(let g=d.length-1;g>=0;g--){const w=d[g];if(u===w.name)return w}throw new Gt("302",`The pipe '${u}' could not be found!`)}(d,g.pipeRegistry),g.data[A]=w,w.onDestroy&&(g.destroyHooks||(g.destroyHooks=[])).push(A,w.onDestroy)):w=g.data[A];const Y=w.factory||(w.factory=ks(w.type)),Q=ir(wv);try{const ne=Ld(!1),fe=Y();return Ld(ne),function(u,d,g,w){g>=u.data.length&&(u.data[g]=null,u.blueprint[g]=null),d[g]=w}(g,$n(),A,fe),fe}finally{ir(Q)}}function DE(u,d,g){const w=u+20,A=$n(),Y=al(A,w);return e0(A,Kb(A,w)?VM(A,bo(),d,Y.transform,g,Y):Y.transform(g))}function AE(u,d,g,w){const A=u+20,Y=$n(),Q=al(Y,A);return e0(Y,Kb(Y,A)?u1(Y,bo(),d,Q.transform,g,w,Q):Q.transform(g,w))}function Kb(u,d){return u[1].data[d].pure}function e0(u,d){return Ls.isWrapped(d)&&(d=Ls.unwrap(d),u[pa()]=ls),d}function Dx(u){return d=>{setTimeout(u,void 0,d)}}const Hg=class extends o.xQ{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,g,w){var A,Y,Q;let ne=d,fe=g||(()=>null),Ee=w;if(d&&"object"==typeof d){const ot=d;ne=null===(A=ot.next)||void 0===A?void 0:A.bind(ot),fe=null===(Y=ot.error)||void 0===Y?void 0:Y.bind(ot),Ee=null===(Q=ot.complete)||void 0===Q?void 0:Q.bind(ot)}this.__isAsync&&(fe=Dx(fe),ne&&(ne=Dx(ne)),Ee&&(Ee=Dx(Ee)));const Ze=super.subscribe({next:ne,error:fe,complete:Ee});return d instanceof $.w&&d.add(Ze),Ze}};function fL(){return this._results[Dl()]()}class Ax{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const g=Dl(),w=Ax.prototype;w[g]||(w[g]=fL)}get changes(){return this._changes||(this._changes=new Hg)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,g){return this._results.reduce(d,g)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,g){const w=this;w.dirty=!1;const A=we(d);(this._changesDetected=!function(u,d,g){if(u.length!==d.length)return!1;for(let w=0;w<u.length;w++){let A=u[w],Y=d[w];if(g&&(A=g(A),Y=g(Y)),Y!==A)return!1}return!0}(w._results,A,g))&&(w._results=A,w.length=A.length,w.last=A[this.length-1],w.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ix{constructor(d){this.queryList=d,this.matches=null}clone(){return new Ix(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZM{constructor(d=[]){this.queries=d}createEmbeddedView(d){const g=d.queries;if(null!==g){const w=null!==d.contentQueries?d.contentQueries[0]:g.length,A=[];for(let Y=0;Y<w;Y++){const Q=g.getByIndex(Y);A.push(this.queries[Q.indexInDeclarationView].clone())}return new ZM(A)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let g=0;g<this.queries.length;g++)null!==QM(d,g).matches&&this.queries[g].setDirty()}}class WM{constructor(d,g,w=null){this.predicate=d,this.flags=g,this.read=w}}class f1{constructor(d=[]){this.queries=d}elementStart(d,g){for(let w=0;w<this.queries.length;w++)this.queries[w].elementStart(d,g)}elementEnd(d){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(d)}embeddedTView(d){let g=null;for(let w=0;w<this.length;w++){const A=null!==g?g.length:0,Y=this.getByIndex(w).embeddedTView(d,A);Y&&(Y.indexInDeclarationView=w,null!==g?g.push(Y):g=[Y])}return null!==g?new f1(g):null}template(d,g){for(let w=0;w<this.queries.length;w++)this.queries[w].template(d,g)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class GM{constructor(d,g=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(d,g){this.isApplyingToNode(g)&&this.matchTNode(d,g)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,g){this.elementStart(d,g)}embeddedTView(d,g){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,g),new GM(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const g=this._declarationNodeIndex;let w=d.parent;for(;null!==w&&8&w.type&&w.index!==g;)w=w.parent;return g===(null!==w?w.index:-1)}return this._appliesToNextNode}matchTNode(d,g){const w=this.metadata.predicate;if(Array.isArray(w))for(let A=0;A<w.length;A++){const Y=w[A];this.matchTNodeWithReadOption(d,g,mL(g,Y)),this.matchTNodeWithReadOption(d,g,Ps(g,d,Y,!1,!1))}else w===Hb?4&g.type&&this.matchTNodeWithReadOption(d,g,-1):this.matchTNodeWithReadOption(d,g,Ps(g,d,w,!1,!1))}matchTNodeWithReadOption(d,g,w){if(null!==w){const A=this.metadata.read;if(null!==A)if(A===Og||A===Fy||A===Hb&&4&g.type)this.addMatch(g.index,-2);else{const Y=Ps(g,d,A,!1,!1);null!==Y&&this.addMatch(g.index,Y)}else this.addMatch(g.index,w)}}addMatch(d,g){null===this.matches?this.matches=[d,g]:this.matches.push(d,g)}}function mL(u,d){const g=u.localNames;if(null!==g)for(let w=0;w<g.length;w+=2)if(g[w]===d)return g[w+1];return null}function gL(u,d,g,w){return-1===g?function(u,d){return 11&u.type?_p(u,d):4&u.type?Xw(u,d):null}(d,u):-2===g?function(u,d,g){return g===Og?_p(d,u):g===Hb?Xw(d,u):g===Fy?rE(d,u):void 0}(u,d,w):yl(u,u[1],g,d)}function z_(u,d,g,w){const A=d[19].queries[w];if(null===A.matches){const Y=u.data,Q=g.matches,ne=[];for(let fe=0;fe<Q.length;fe+=2){const Ee=Q[fe];ne.push(Ee<0?null:gL(d,Y[Ee],Q[fe+1],g.metadata.read))}A.matches=ne}return A.matches}function $M(u,d,g,w){const A=u.queries.getByIndex(g),Y=A.matches;if(null!==Y){const Q=z_(u,d,A,g);for(let ne=0;ne<Y.length;ne+=2){const fe=Y[ne];if(fe>0)w.push(Q[ne/2]);else{const Ee=Y[ne+1],Ze=d[-fe];for(let ot=10;ot<Ze.length;ot++){const mt=Ze[ot];mt[17]===mt[3]&&$M(mt[1],mt,Ee,w)}if(null!==Ze[9]){const ot=Ze[9];for(let mt=0;mt<ot.length;mt++){const Vt=ot[mt];$M(Vt[1],Vt,Ee,w)}}}}}return w}function zy(u){const d=$n(),g=_s(),w=Zh();ku(w+1);const A=QM(g,w);if(u.dirty&&ra(d)===(2==(2&A.metadata.flags))){if(null===A.matches)u.reset([]);else{const Y=A.crossesNgTemplate?$M(g,d,w,[]):z_(g,d,A,w);u.reset(Y,Hk),u.notifyOnChanges()}return!0}return!1}function PE(u,d,g){const w=_s();w.firstCreatePass&&(n0(w,new WM(u,d,g),-1),2==(2&d)&&(w.staticViewQueries=!0)),t0(w,$n(),d)}function OE(u,d,g,w){const A=_s();if(A.firstCreatePass){const Y=Do();n0(A,new WM(d,g,w),Y.index),function(u,d){const g=u.contentQueries||(u.contentQueries=[]);d!==(g.length?g[g.length-1]:-1)&&g.push(u.queries.length-1,d)}(A,u),2==(2&g)&&(A.staticContentQueries=!0)}t0(A,$n(),g)}function RE(){return u=$n(),d=Zh(),u[19].queries[d].queryList;var u,d}function t0(u,d,g){const w=new Ax(4==(4&g));qd(u,d,w,w.destroy),null===d[19]&&(d[19]=new ZM),d[19].queries.push(new Ix(w))}function n0(u,d,g){null===u.queries&&(u.queries=new f1),u.queries.track(new GM(d,g))}function QM(u,d){return u.queries.getByIndex(d)}function NE(u,d){return Xw(u,d)}const Hy=new Po("Application Initializer");let Y_=(()=>{class u{constructor(g){this.appInits=g,this.resolve=cx,this.reject=cx,this.initialized=!1,this.done=!1,this.donePromise=new Promise((w,A)=>{this.resolve=w,this.reject=A})}runInitializers(){if(this.initialized)return;const g=[],w=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let A=0;A<this.appInits.length;A++){const Y=this.appInits[A]();if($0(Y))g.push(Y);else if(gw(Y)){const Q=new Promise((ne,fe)=>{Y.subscribe({complete:ne,error:fe})});g.push(Q)}}Promise.all(g).then(()=>{w()}).catch(A=>{this.reject(A)}),0===g.length&&w(),this.initialized=!0}}return u.\u0275fac=function(g){return new(g||u)(Vi(Hy,8))},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();const tD=new Po("AppId"),HL={provide:tD,useFactory:function(){return`${x1()}${x1()}${x1()}`},deps:[]};function x1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nD=new Po("Platform Initializer"),nT=new Po("Platform ID"),iT=new Po("appBootstrapListener");let VL=(()=>{class u{log(g){console.log(g)}warn(g){console.warn(g)}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();const Vg=new Po("LocaleId"),rT=new Po("DefaultCurrencyCode");class UL{constructor(d,g){this.ngModuleFactory=d,this.componentFactories=g}}const sT=function(u){return new Sx(u)},ZL=sT,WL=function(u){return Promise.resolve(sT(u))},oD=function(u){const d=sT(u),w=mu(f(u).declarations).reduce((A,Y)=>{const Q=kn(Y);return Q&&A.push(new RM(Q)),A},[]);return new UL(d,w)},hN=oD,aD=function(u){return Promise.resolve(oD(u))};let Vy=(()=>{class u{constructor(){this.compileModuleSync=ZL,this.compileModuleAsync=WL,this.compileModuleAndAllComponentsSync=hN,this.compileModuleAndAllComponentsAsync=aD}clearCache(){}clearCacheFor(g){}getModuleId(g){}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();const lD=(()=>Promise.resolve(0))();function Gu(u){"undefined"==typeof Zone?lD.then(()=>{u&&u.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",u)}class ta{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:w=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hg(!1),this.onMicrotaskEmpty=new Hg(!1),this.onStable=new Hg(!1),this.onError=new Hg(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!w&&g,A.shouldCoalesceRunChangeDetection=w,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function(){let u=Cs.requestAnimationFrame,d=Cs.cancelAnimationFrame;if("undefined"!=typeof Zone&&u&&d){const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g);const w=d[Zone.__symbol__("OriginalDelegate")];w&&(d=w)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function(u){const d=()=>{!function(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call(Cs,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,mm(u),u.isCheckStableRunning=!0,Qm(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),mm(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,w,A,Y,Q,ne)=>{try{return l0(u),g.invokeTask(A,Y,Q,ne)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===Y.type||u.shouldCoalesceRunChangeDetection)&&d(),Pf(u)}},onInvoke:(g,w,A,Y,Q,ne,fe)=>{try{return l0(u),g.invoke(A,Y,Q,ne,fe)}finally{u.shouldCoalesceRunChangeDetection&&d(),Pf(u)}},onHasTask:(g,w,A,Y)=>{g.hasTask(A,Y),w===A&&("microTask"==Y.change?(u._hasPendingMicrotasks=Y.microTask,mm(u),Qm(u)):"macroTask"==Y.change&&(u.hasPendingMacrotasks=Y.macroTask))},onHandleError:(g,w,A,Y)=>(g.handleError(A,Y),u.runOutsideAngular(()=>u.onError.emit(Y)),!1)})}(A)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ta.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ta.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(d,g,w){return this._inner.run(d,g,w)}runTask(d,g,w,A){const Y=this._inner,Q=Y.scheduleEventTask("NgZoneEvent: "+A,d,Uy,cx,cx);try{return Y.runTask(Q,g,w)}finally{Y.cancelTask(Q)}}runGuarded(d,g,w){return this._inner.runGuarded(d,g,w)}runOutsideAngular(d){return this._outer.run(d)}}const Uy={};function Qm(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function mm(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function l0(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function Pf(u){u._nesting--,Qm(u)}class uD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hg,this.onMicrotaskEmpty=new Hg,this.onStable=new Hg,this.onError=new Hg}run(d,g,w){return d.apply(g,w)}runGuarded(d,g,w){return d.apply(g,w)}runOutsideAngular(d){return d()}runTask(d,g,w,A){return d.apply(g,w)}}let M1=(()=>{class u{constructor(g){this._ngZone=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ta.assertNotInAngularZone(),Gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gu(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb(this._didWork)}this._didWork=!1});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(w=>!w.updateCb||!w.updateCb(g)||(clearTimeout(w.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,w,A){let Y=-1;w&&w>0&&(Y=setTimeout(()=>{this._callbacks=this._callbacks.filter(Q=>Q.timeoutId!==Y),g(this._didWork,this.getPendingTasks())},w)),this._callbacks.push({doneCb:g,timeoutId:Y,updateCb:A})}whenStable(g,w,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,w,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(g,w,A){return[]}}return u.\u0275fac=function(g){return new(g||u)(Vi(ta))},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})(),Ox=(()=>{class u{constructor(){this._applications=new Map,dD.addToWindow(this)}registerApplication(g,w){this._applications.set(g,w)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,w=!0){return dD.findTestabilityInTree(this,g,w)}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();class Il{addToWindow(d){}findTestabilityInTree(d,g,w){return null}}function Ll(u){dD=u}let dD=new Il,hD=!0,pD=!1;function oT(){return pD=!0,hD}function $L(){if(pD)throw new Error("Cannot enable prod mode after platform setup.");hD=!1}let Jm;const eP=new Po("AllowMultipleToken");class tP{constructor(d,g){this.name=d,this.token=g}}function jy(u,d,g=[]){const w=`Platform: ${d}`,A=new Po(w);return(Y=[])=>{let Q=nP();if(!Q||Q.injector.get(eP,!1))if(u)u(g.concat(Y).concat({provide:A,useValue:!0}));else{const ne=g.concat(Y).concat({provide:A,useValue:!0},{provide:zc,useValue:"platform"});!function(u){if(Jm&&!Jm.destroyed&&!Jm.injector.get(eP,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jm=u.get(iP);const d=u.get(nD,null);d&&d.forEach(g=>g())}(Se.create({providers:ne,name:w}))}return function(u){const d=nP();if(!d)throw new Error("No platform exists!");if(!d.injector.get(u,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return d}(A)}}function nP(){return Jm&&!Jm.destroyed?Jm:null}let iP=(()=>{class u{constructor(g){this._injector=g,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(g,w){const ne=function(u,d){let g;return g="noop"===u?new uD:("zone.js"===u?void 0:u)||new ta({enableLongStackTrace:oT(),shouldCoalesceEventChangeDetection:!!(null==d?void 0:d.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==d?void 0:d.ngZoneRunCoalescing)}),g}(w?w.ngZone:void 0,{ngZoneEventCoalescing:w&&w.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:w&&w.ngZoneRunCoalescing||!1}),fe=[{provide:ta,useValue:ne}];return ne.run(()=>{const Ee=Se.create({providers:fe,parent:this.injector,name:g.moduleType.name}),Ze=g.create(Ee),ot=Ze.injector.get(ga,null);if(!ot)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ne.runOutsideAngular(()=>{const mt=ne.onError.subscribe({next:Vt=>{ot.handleError(Vt)}});Ze.onDestroy(()=>{fD(this._modules,Ze),mt.unsubscribe()})}),function(u,d,g){try{const w=g();return $0(w)?w.catch(A=>{throw d.runOutsideAngular(()=>u.handleError(A)),A}):w}catch(w){throw d.runOutsideAngular(()=>u.handleError(w)),w}}(ot,ne,()=>{const mt=Ze.injector.get(Y_);return mt.runInitializers(),mt.donePromise.then(()=>(GC(Ze.injector.get(Vg,sx)||sx),this._moduleDoBootstrap(Ze),Ze))})})}bootstrapModule(g,w=[]){const A=Zy({},w);return function(u,d,g){const w=new Sx(g);return Promise.resolve(w)}(0,0,g).then(Y=>this.bootstrapModuleFactory(Y,A))}_moduleDoBootstrap(g){const w=g.injector.get(k1);if(g._bootstrapComponents.length>0)g._bootstrapComponents.forEach(A=>w.bootstrap(A));else{if(!g.instance.ngDoBootstrap)throw new Error(`The module ${Te(g.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);g.instance.ngDoBootstrap(w)}this._modules.push(g)}onDestroy(g){this._destroyListeners.push(g)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g()),this._destroyed=!0}get destroyed(){return this._destroyed}}return u.\u0275fac=function(g){return new(g||u)(Vi(Se))},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();function Zy(u,d){return Array.isArray(d)?d.reduce(Zy,u):Object.assign(Object.assign({},u),d)}let k1=(()=>{class u{constructor(g,w,A,Y,Q){this._zone=g,this._injector=w,this._exceptionHandler=A,this._componentFactoryResolver=Y,this._initStatus=Q,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ne=new ee.y(Ee=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Ee.next(this._stable),Ee.complete()})}),fe=new ee.y(Ee=>{let Ze;this._zone.runOutsideAngular(()=>{Ze=this._zone.onStable.subscribe(()=>{ta.assertNotInAngularZone(),Gu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Ee.next(!0))})})});const ot=this._zone.onUnstable.subscribe(()=>{ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Ee.next(!1)}))});return()=>{Ze.unsubscribe(),ot.unsubscribe()}});this.isStable=(0,x.T)(ne,fe.pipe((0,de.B)()))}bootstrap(g,w){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let A;A=g instanceof lM?g:this._componentFactoryResolver.resolveComponentFactory(g),this.componentTypes.push(A.componentType);const Y=function(u){return u.isBoundToModule}(A)?void 0:this._injector.get(Iv),ne=A.create(Se.NULL,[],w||A.selector,Y),fe=ne.location.nativeElement,Ee=ne.injector.get(M1,null),Ze=Ee&&ne.injector.get(Ox);return Ee&&Ze&&Ze.registerApplication(fe,Ee),ne.onDestroy(()=>{this.detachView(ne.hostView),fD(this.components,ne),Ze&&Ze.unregisterApplication(fe)}),this._loadComponent(ne),ne}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(g))}finally{this._runningTick=!1}}attachView(g){const w=g;this._views.push(w),w.attachToAppRef(this)}detachView(g){const w=g;fD(this._views,w),w.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g),this._injector.get(iT,[]).concat(this._bootstrapListeners).forEach(A=>A(g))}ngOnDestroy(){this._views.slice().forEach(g=>g.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return u.\u0275fac=function(g){return new(g||u)(Vi(ta),Vi(Se),Vi(ga),Vi(rl),Vi(Y_))},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();function fD(u,d){const g=u.indexOf(d);g>-1&&u.splice(g,1)}class E1{}class wN{}const aP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let CN=(()=>{class u{constructor(g,w){this._compiler=g,this._config=w||aP}load(g){return this.loadAndCompile(g)}loadAndCompile(g){let[w,A]=g.split("#");return void 0===A&&(A="default"),Ae(8255)(w).then(Y=>Y[A]).then(Y=>lP(Y,w,A)).then(Y=>this._compiler.compileModuleAsync(Y))}loadFactory(g){let[w,A]=g.split("#"),Y="NgFactory";return void 0===A&&(A="default",Y=""),Ae(8255)(this._config.factoryPathPrefix+w+this._config.factoryPathSuffix).then(Q=>Q[A+Y]).then(Q=>lP(Q,w,A))}}return u.\u0275fac=function(g){return new(g||u)(Vi(Vy),Vi(wN,8))},u.\u0275prov=Er({token:u,factory:u.\u0275fac}),u})();function lP(u,d,g){if(!u)throw new Error(`Cannot find '${g}' in '${d}'`);return u}const AN=function(u){return null},LN=jy(null,"core",[{provide:nT,useValue:"unknown"},{provide:iP,deps:[Se]},{provide:Ox,deps:[]},{provide:VL,deps:[]}]),FN=[{provide:k1,useClass:k1,deps:[ta,Se,ga,rl,Y_]},{provide:a1,deps:[ta],useFactory:function(u){let d=[];return u.onStable.subscribe(()=>{for(;d.length;)d.pop()()}),function(g){d.push(g)}}},{provide:Y_,useClass:Y_,deps:[[new Ha,Hy]]},{provide:Vy,useClass:Vy,deps:[]},HL,{provide:hx,useFactory:function(){return Xk},deps:[]},{provide:Av,useFactory:function(){return Kk},deps:[]},{provide:Vg,useFactory:function(u){return GC(u=u||"undefined"!=typeof $localize&&$localize.locale||sx),u},deps:[[new jo(Vg),new Ha,new Pa]]},{provide:rT,useValue:"USD"}];let zN=(()=>{class u{constructor(g){}}return u.\u0275fac=function(g){return new(g||u)(Vi(k1))},u.\u0275mod=Bt({type:u}),u.\u0275inj=ss({providers:FN}),u})()},57:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{hO:()=>jr,xv:()=>ni,Dh:()=>ct,HU:()=>Mt,GT:()=>Gt,sI:()=>Bs,on:()=>ur,ss:()=>gt,pX:()=>sn,yq:()=>ds});var o=Ae(7771),$=Ae(3637),ee=Ae(3342),x=Ae(9673),de=Ae(9746),Me=Ae(7716),De=Ae(2329);function Te(){}jt=Ae.hmd(jt);class Ye{constructor(dn,Tn=o.N){this.zone=dn,this.delegate=Tn}now(){return this.delegate.now()}schedule(dn,Tn,fn){const Hn=this.zone;return this.delegate.schedule(function(li){Hn.runGuarded(()=>{dn.apply(this,[li])})},Tn,fn)}}class We{constructor(dn){this.zone=dn,this.task=null}call(dn,Tn){const fn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)),Tn.pipe((0,ee.b)({next:fn,complete:fn,error:fn})).subscribe(dn).add(fn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Mt{constructor(dn){this.ngZone=dn,this.outsideAngular=dn.runOutsideAngular(()=>new Ye(Zone.current)),this.insideAngular=dn.run(()=>new Ye(Zone.current,$.z))}}function gt(wn){return function(Tn){return(Tn=Tn.lift(new We(wn.ngZone))).pipe((0,x.R)(wn.outsideAngular),(0,de.QV)(wn.insideAngular))}}const Pt=["ngOnDestroy"],sn=(wn,dn,Tn,fn={})=>new Proxy(wn,{get:(Hn,bn)=>Tn.runOutsideAngular(()=>{var li;if(wn[bn])return(null===(li=null==fn?void 0:fn.spy)||void 0===li?void 0:li.get)&&fn.spy.get(bn,wn[bn]),wn[bn];if(Pt.indexOf(bn)>-1)return()=>{};const Bi=dn.toPromise().then(Ui=>{const fi=Ui&&Ui[bn];return"function"==typeof fi?fi.bind(Ui):fi&&fi.then?fi.then(Ei=>Tn.run(()=>Ei)):Tn.run(()=>fi)});return new Proxy(()=>{},{get:(Ui,fi)=>Bi[fi],apply:(Ui,fi,Ei)=>Bi.then(bi=>{var xi;const ei=bi&&bi(...Ei);return(null===(xi=null==fn?void 0:fn.spy)||void 0===xi?void 0:xi.apply)&&fn.spy.apply(bn,Ei,ei),ei})})})}),Gt=(wn,dn)=>{dn.forEach(Tn=>{Object.getOwnPropertyNames(Tn.prototype||Tn).forEach(fn=>{Object.defineProperty(wn.prototype,fn,Object.getOwnPropertyDescriptor(Tn.prototype||Tn,fn))})})},ct=new Me.OlP("angularfire2.app.options"),ni=new Me.OlP("angularfire2.app.nameOrConfig"),qt=new Me.GfV("6.1.5");function ur(wn,dn,Tn){const Hn="object"==typeof Tn&&Tn||{};Hn.name=Hn.name||"string"==typeof Tn&&Tn||"[DEFAULT]";const li=De.Z.apps.filter(Bi=>Bi&&Bi.name===Hn.name)[0]||dn.runOutsideAngular(()=>De.Z.initializeApp(wn,Hn));try{JSON.stringify(wn)!==JSON.stringify(li.options)&&hi("error",`${li.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Bi){}return li}const ds=()=>{hi("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},hi=(wn,...dn)=>{(0,Me.X6Q)()&&"undefined"!=typeof console&&console[wn](...dn)};function Bs(wn,dn,Tn,fn,Hn){const[bn,...li]=globalThis.\u0275AngularfireInstanceCache.get(wn)||[];if(bn){try{Hn.some((Bi,Ui)=>{const fi=li[Ui];return Bi&&"object"==typeof Bi?JSON.stringify(Bi)!==JSON.stringify(fi):Bi!==fi})&&hi("error",`${dn} was already initialized on the ${Tn.name} Firebase App instance with different settings.${jt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Bi){}return bn}{const Bi=fn();return globalThis.\u0275AngularfireInstanceCache.set(wn,[Bi,...Hn]),Bi}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const tr={provide:class{},useFactory:ur,deps:[ct,Me.R0b,[new Me.FiY,ni]]};let jr=(()=>{class wn{constructor(Tn){De.Z.registerVersion("angularfire",qt.full,Tn.toString()),De.Z.registerVersion("angular",Me.q4F.full)}static initializeApp(Tn,fn){return{ngModule:wn,providers:[{provide:ct,useValue:Tn},{provide:ni,useValue:fn}]}}}return wn.\u0275fac=function(Tn){return new(Tn||wn)(Me.LFG(Me.Lbi))},wn.\u0275mod=Me.oAB({type:wn}),wn.\u0275inj=Me.cJS({providers:[tr]}),wn})()},4969:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{Z:()=>Ei});var de,hi,o=Ae(4762),$=Ae(4685),ee=Ae(6034),x=Ae(300),Me=((de={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",de["bad-app-name"]="Illegal App name: '{$appName}",de["duplicate-app"]="Firebase App named '{$appName}' already exists",de["app-deleted"]="Firebase App named '{$appName}' already deleted",de["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",de["invalid-log-argument"]="First argument to `onLog` must be null or a function.",de),De=new $.LL("app","Firebase",Me),Te="@firebase/app",zi="[DEFAULT]",Bs=((hi={})[Te]="fire-core",hi["@firebase/analytics"]="fire-analytics",hi["@firebase/app-check"]="fire-app-check",hi["@firebase/auth"]="fire-auth",hi["@firebase/database"]="fire-rtdb",hi["@firebase/functions"]="fire-fn",hi["@firebase/installations"]="fire-iid",hi["@firebase/messaging"]="fire-fcm",hi["@firebase/performance"]="fire-perf",hi["@firebase/remote-config"]="fire-rc",hi["@firebase/storage"]="fire-gcs",hi["@firebase/firestore"]="fire-fst",hi["fire-js"]="fire-js",hi["firebase-wrapper"]="fire-js-all",hi),tr=new x.Yd("@firebase/app"),jr=function(){function bi(xi,ei,Ni){var Er=this;this.firebase_=Ni,this.isDeleted_=!1,this.name_=ei.name,this.automaticDataCollectionEnabled_=ei.automaticDataCollectionEnabled||!1,this.options_=(0,$.p$)(xi),this.container=new ee.H0(ei.name),this._addComponent(new ee.wA("app",function(){return Er},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(So){return Er._addComponent(So)})}return Object.defineProperty(bi.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xi){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xi},enumerable:!1,configurable:!0}),Object.defineProperty(bi.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(bi.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),bi.prototype.delete=function(){var xi=this;return new Promise(function(ei){xi.checkDestroyed_(),ei()}).then(function(){return xi.firebase_.INTERNAL.removeApp(xi.name_),Promise.all(xi.container.getProviders().map(function(ei){return ei.delete()}))}).then(function(){xi.isDeleted_=!0})},bi.prototype._getService=function(xi,ei){var Ni;void 0===ei&&(ei=zi),this.checkDestroyed_();var Er=this.container.getProvider(xi);return!Er.isInitialized()&&"EXPLICIT"===(null===(Ni=Er.getComponent())||void 0===Ni?void 0:Ni.instantiationMode)&&Er.initialize(),Er.getImmediate({identifier:ei})},bi.prototype._removeServiceInstance=function(xi,ei){void 0===ei&&(ei=zi),this.container.getProvider(xi).clearInstance(ei)},bi.prototype._addComponent=function(xi){try{this.container.addComponent(xi)}catch(ei){tr.debug("Component "+xi.name+" failed to register with FirebaseApp "+this.name,ei)}},bi.prototype._addOrOverwriteComponent=function(xi){this.container.addOrOverwriteComponent(xi)},bi.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},bi.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw De.create("app-deleted",{appName:this.name_})},bi}();jr.prototype.name&&jr.prototype.options||jr.prototype.delete||console.log("dc");var fn=function Tn(){var bi=function(bi){var xi={},ei=new Map,Ni={__esModule:!0,initializeApp:function(Ki,nr){void 0===nr&&(nr={}),("object"!=typeof nr||null===nr)&&(nr={name:nr});var $s=nr;void 0===$s.name&&($s.name=zi);var Ci=$s.name;if("string"!=typeof Ci||!Ci)throw De.create("bad-app-name",{appName:String(Ci)});if((0,$.r3)(xi,Ci))throw De.create("duplicate-app",{appName:Ci});var gs=new bi(Ki,$s,Ni);return xi[Ci]=gs,gs},app:So,registerVersion:function(Ki,nr,ko){var $s,Ci=null!==($s=Bs[Ki])&&void 0!==$s?$s:Ki;ko&&(Ci+="-"+ko);var gs=Ci.match(/\s|\//),wr=nr.match(/\s|\//);if(gs||wr){var ir=['Unable to register library "'+Ci+'" with version "'+nr+'":'];return gs&&ir.push('library name "'+Ci+'" contains illegal characters (whitespace or "/")'),gs&&wr&&ir.push("and"),wr&&ir.push('version name "'+nr+'" contains illegal characters (whitespace or "/")'),void tr.warn(ir.join(" "))}Ks(new ee.wA(Ci+"-version",function(){return{library:Ci,version:nr}},"VERSION"))},setLogLevel:x.Ub,onLog:function(Ki,nr){if(null!==Ki&&"function"!=typeof Ki)throw De.create("invalid-log-argument");(0,x.Am)(Ki,nr)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Ks,removeApp:function(Ki){delete xi[Ki]},components:ei,useAsService:function(Ki,nr){return"serverAuth"===nr?null:nr}}};function So(Ki){if(!(0,$.r3)(xi,Ki=Ki||zi))throw De.create("no-app",{appName:Ki});return xi[Ki]}function Ks(Ki){var nr=Ki.name;if(ei.has(nr))return tr.debug("There were multiple attempts to register component "+nr+"."),"PUBLIC"===Ki.type?Ni[nr]:null;if(ei.set(nr,Ki),"PUBLIC"===Ki.type){var ko=function(wr){if(void 0===wr&&(wr=So()),"function"!=typeof wr[nr])throw De.create("invalid-app-argument",{appName:nr});return wr[nr]()};void 0!==Ki.serviceProps&&(0,$.ZB)(ko,Ki.serviceProps),Ni[nr]=ko,bi.prototype[nr]=function(){for(var wr=[],ir=0;ir<arguments.length;ir++)wr[ir]=arguments[ir];return this._getService.bind(this,nr).apply(this,Ki.multipleInstances?wr:[])}}for(var $s=0,Ci=Object.keys(xi);$s<Ci.length;$s++)xi[Ci[$s]]._addComponent(Ki);return"PUBLIC"===Ki.type?Ni[nr]:null}return Ni.default=Ni,Object.defineProperty(Ni,"apps",{get:function(){return Object.keys(xi).map(function(Ki){return xi[Ki]})}}),So.App=bi,Ni}(jr);return bi.INTERNAL=(0,o.pi)((0,o.pi)({},bi.INTERNAL),{createFirebaseNamespace:Tn,extendNamespace:function(ei){(0,$.ZB)(bi,ei)},createSubscribe:$.ne,ErrorFactory:$.LL,deepExtend:$.ZB}),bi}(),Hn=function(){function bi(xi){this.container=xi}return bi.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ei){if(function(bi){var xi=bi.getComponent();return"VERSION"===(null==xi?void 0:xi.type)}(ei)){var Ni=ei.getImmediate();return Ni.library+"/"+Ni.version}return null}).filter(function(ei){return ei}).join(" ")},bi}();if((0,$.jU)()&&void 0!==self.firebase){tr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bi=self.firebase.SDK_VERSION;Bi&&Bi.indexOf("LITE")>=0&&tr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ui=fn.initializeApp;fn.initializeApp=function(){for(var bi=[],xi=0;xi<arguments.length;xi++)bi[xi]=arguments[xi];return(0,$.UG)()&&tr.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ui.apply(void 0,bi)};var bi,fi=fn;(bi=fi).INTERNAL.registerComponent(new ee.wA("platform-logger",function(ei){return new Hn(ei)},"PRIVATE")),bi.registerVersion(Te,"0.6.29",undefined),bi.registerVersion("fire-js","");const Ei=fi},6034:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{wA:()=>ee,H0:()=>Te,zt:()=>de});var o=Ae(4762),$=Ae(4685),ee=function(){function Ye(We,Mt,gt){this.name=We,this.instanceFactory=Mt,this.type=gt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ye.prototype.setInstantiationMode=function(We){return this.instantiationMode=We,this},Ye.prototype.setMultipleInstances=function(We){return this.multipleInstances=We,this},Ye.prototype.setServiceProps=function(We){return this.serviceProps=We,this},Ye.prototype.setInstanceCreatedCallback=function(We){return this.onInstanceCreated=We,this},Ye}(),x="[DEFAULT]",de=function(){function Ye(We,Mt){this.name=We,this.container=Mt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Ye.prototype.get=function(We){var Mt=this.normalizeInstanceIdentifier(We);if(!this.instancesDeferred.has(Mt)){var gt=new $.BH;if(this.instancesDeferred.set(Mt,gt),this.isInitialized(Mt)||this.shouldAutoInitialize())try{var Pt=this.getOrInitializeService({instanceIdentifier:Mt});Pt&&gt.resolve(Pt)}catch(sn){}}return this.instancesDeferred.get(Mt).promise},Ye.prototype.getImmediate=function(We){var Mt,gt=this.normalizeInstanceIdentifier(null==We?void 0:We.identifier),Pt=null!==(Mt=null==We?void 0:We.optional)&&void 0!==Mt&&Mt;if(!this.isInitialized(gt)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:gt})}catch(sn){if(Pt)return null;throw sn}},Ye.prototype.getComponent=function(){return this.component},Ye.prototype.setComponent=function(We){var Mt,gt;if(We.name!==this.name)throw Error("Mismatching Component "+We.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=We,this.shouldAutoInitialize()){if(function(Ye){return"EAGER"===Ye.instantiationMode}(We))try{this.getOrInitializeService({instanceIdentifier:x})}catch(ur){}try{for(var Pt=(0,o.XA)(this.instancesDeferred.entries()),sn=Pt.next();!sn.done;sn=Pt.next()){var Gt=(0,o.CR)(sn.value,2),ni=Gt[1],Rn=this.normalizeInstanceIdentifier(Gt[0]);try{var qt=this.getOrInitializeService({instanceIdentifier:Rn});ni.resolve(qt)}catch(ur){}}}catch(ur){Mt={error:ur}}finally{try{sn&&!sn.done&&(gt=Pt.return)&&gt.call(Pt)}finally{if(Mt)throw Mt.error}}}},Ye.prototype.clearInstance=function(We){void 0===We&&(We=x),this.instancesDeferred.delete(We),this.instances.delete(We)},Ye.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var We;return(0,o.Jh)(this,function(Mt){switch(Mt.label){case 0:return We=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(We.filter(function(gt){return"INTERNAL"in gt}).map(function(gt){return gt.INTERNAL.delete()}))),(0,o.CR)(We.filter(function(gt){return"_delete"in gt}).map(function(gt){return gt._delete()}))))];case 1:return Mt.sent(),[2]}})})},Ye.prototype.isComponentSet=function(){return null!=this.component},Ye.prototype.isInitialized=function(We){return void 0===We&&(We=x),this.instances.has(We)},Ye.prototype.initialize=function(We){var Mt,gt;void 0===We&&(We={});var Pt=We.options,sn=void 0===Pt?{}:Pt,Gt=this.normalizeInstanceIdentifier(We.instanceIdentifier);if(this.isInitialized(Gt))throw Error(this.name+"("+Gt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ct=this.getOrInitializeService({instanceIdentifier:Gt,options:sn});try{for(var ni=(0,o.XA)(this.instancesDeferred.entries()),Rn=ni.next();!Rn.done;Rn=ni.next()){var qt=(0,o.CR)(Rn.value,2),ds=qt[1];Gt===this.normalizeInstanceIdentifier(qt[0])&&ds.resolve(ct)}}catch(zi){Mt={error:zi}}finally{try{Rn&&!Rn.done&&(gt=ni.return)&&gt.call(ni)}finally{if(Mt)throw Mt.error}}return ct},Ye.prototype.onInit=function(We,Mt){var gt,Pt=this.normalizeInstanceIdentifier(Mt),sn=null!==(gt=this.onInitCallbacks.get(Pt))&&void 0!==gt?gt:new Set;sn.add(We),this.onInitCallbacks.set(Pt,sn);var Gt=this.instances.get(Pt);return Gt&&We(Gt,Pt),function(){sn.delete(We)}},Ye.prototype.invokeOnInitCallbacks=function(We,Mt){var gt,Pt,sn=this.onInitCallbacks.get(Mt);if(sn)try{for(var Gt=(0,o.XA)(sn),ct=Gt.next();!ct.done;ct=Gt.next()){var ni=ct.value;try{ni(We,Mt)}catch(Rn){}}}catch(Rn){gt={error:Rn}}finally{try{ct&&!ct.done&&(Pt=Gt.return)&&Pt.call(Gt)}finally{if(gt)throw gt.error}}},Ye.prototype.getOrInitializeService=function(We){var Mt=We.instanceIdentifier,gt=We.options,Pt=void 0===gt?{}:gt,sn=this.instances.get(Mt);if(!sn&&this.component&&(sn=this.component.instanceFactory(this.container,{instanceIdentifier:Me(Mt),options:Pt}),this.instances.set(Mt,sn),this.invokeOnInitCallbacks(sn,Mt),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Mt,sn)}catch(Gt){}return sn||null},Ye.prototype.normalizeInstanceIdentifier=function(We){return void 0===We&&(We=x),this.component?this.component.multipleInstances?We:x:We},Ye.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Ye}();function Me(Ye){return Ye===x?void 0:Ye}var Te=function(){function Ye(We){this.name=We,this.providers=new Map}return Ye.prototype.addComponent=function(We){var Mt=this.getProvider(We.name);if(Mt.isComponentSet())throw new Error("Component "+We.name+" has already been registered with "+this.name);Mt.setComponent(We)},Ye.prototype.addOrOverwriteComponent=function(We){this.getProvider(We.name).isComponentSet()&&this.providers.delete(We.name),this.addComponent(We)},Ye.prototype.getProvider=function(We){if(this.providers.has(We))return this.providers.get(We);var Mt=new de(We,this);return this.providers.set(We,Mt),Mt},Ye.prototype.getProviders=function(){return Array.from(this.providers.values())},Ye}()},9192:(jt,kt,Ae)=>{"use strict";var o=Ae(4969),$=Ae(6034),ee=Ae(4685),x=Ae(4762),de=Ae(300);jt=Ae.hmd(jt);var Te="";function Ye(E){Te=E}var E,We=function(){function E(k){this.domStorage_=k,this.prefix_="firebase:"}return E.prototype.set=function(k,O){null==O?this.domStorage_.removeItem(this.prefixedName_(k)):this.domStorage_.setItem(this.prefixedName_(k),(0,ee.Pz)(O))},E.prototype.get=function(k){var O=this.domStorage_.getItem(this.prefixedName_(k));return null==O?null:(0,ee.cI)(O)},E.prototype.remove=function(k){this.domStorage_.removeItem(this.prefixedName_(k))},E.prototype.prefixedName_=function(k){return this.prefix_+k},E.prototype.toString=function(){return this.domStorage_.toString()},E}(),Mt=function(){function E(){this.cache_={},this.isInMemoryStorage=!0}return E.prototype.set=function(k,O){null==O?delete this.cache_[k]:this.cache_[k]=O},E.prototype.get=function(k){return(0,ee.r3)(this.cache_,k)?this.cache_[k]:null},E.prototype.remove=function(k){delete this.cache_[k]},E}(),gt=function(E){try{if("undefined"!=typeof window&&void 0!==window[E]){var k=window[E];return k.setItem("firebase:sentinel","cache"),k.removeItem("firebase:sentinel"),new We(k)}}catch(O){}return new Mt},Pt=gt("localStorage"),sn=gt("sessionStorage"),Gt=new de.Yd("@firebase/database"),ct=(E=1,function(){return E++}),ni=function(E){var k=(0,ee.dS)(E),O=new ee.gQ;O.update(k);var Z=O.digest();return ee.US.encodeByteArray(Z)},Rn=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];for(var O="",Z=0;Z<E.length;Z++){var se=E[Z];Array.isArray(se)||se&&"object"==typeof se&&"number"==typeof se.length?O+=Rn.apply(null,se):O+="object"==typeof se?(0,ee.Pz)(se):se,O+=" "}return O},qt=null,ur=!0,ds=function(E,k){(0,ee.hu)(!k||!0===E||!1===E,"Can't turn on custom loggers persistently."),!0===E?(Gt.logLevel=de.in.VERBOSE,qt=Gt.log.bind(Gt),k&&sn.set("logging_enabled",!0)):"function"==typeof E?qt=E:(qt=null,sn.remove("logging_enabled"))},hi=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];if(!0===ur&&(ur=!1,null===qt&&!0===sn.get("logging_enabled")&&ds(!0)),qt){var O=Rn.apply(null,E);qt(O)}},zi=function(E){return function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];hi.apply(void 0,(0,x.ev)([E],(0,x.CR)(k)))}},Bs=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var O="FIREBASE INTERNAL ERROR: "+Rn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));Gt.error(O)},tr=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var O="FIREBASE FATAL ERROR: "+Rn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));throw Gt.error(O),new Error(O)},jr=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var O="FIREBASE WARNING: "+Rn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));Gt.warn(O)},dn=function(E){return"number"==typeof E&&(E!=E||E===Number.POSITIVE_INFINITY||E===Number.NEGATIVE_INFINITY)},fn="[MIN_NAME]",Hn="[MAX_NAME]",bn=function(E,k){if(E===k)return 0;if(E===fn||k===Hn)return-1;if(k===fn||E===Hn)return 1;var O=qs(E),Z=qs(k);return null!==O?null!==Z?O-Z==0?E.length-k.length:O-Z:-1:null!==Z?1:E<k?-1:1},li=function(E,k){return E===k?0:E<k?-1:1},Bi=function(E,k){if(k&&E in k)return k[E];throw new Error("Missing required key ("+E+") in object: "+(0,ee.Pz)(k))},Ui=function(E){if("object"!=typeof E||null===E)return(0,ee.Pz)(E);var k=[];for(var O in E)k.push(O);k.sort();for(var Z="{",se=0;se<k.length;se++)0!==se&&(Z+=","),Z+=(0,ee.Pz)(k[se]),Z+=":",Z+=Ui(E[k[se]]);return Z+"}"},fi=function(E,k){var O=E.length;if(O<=k)return[E];for(var Z=[],se=0;se<O;se+=k)Z.push(E.substring(se,se+k>O?O:se+k));return Z};function Ei(E,k){for(var O in E)E.hasOwnProperty(O)&&k(O,E[O])}var bi=function(E){(0,ee.hu)(!dn(E),"Invalid JSON number");var se,ve,Fe,it,ut,Z=1023;0===E?(ve=0,Fe=0,se=1/E==-1/0?1:0):(se=E<0,(E=Math.abs(E))>=Math.pow(2,1-Z)?(ve=(it=Math.min(Math.floor(Math.log(E)/Math.LN2),Z))+Z,Fe=Math.round(E*Math.pow(2,52-it)-Math.pow(2,52))):(ve=0,Fe=Math.round(E/Math.pow(2,-1074))));var Dt=[];for(ut=52;ut;ut-=1)Dt.push(Fe%2?1:0),Fe=Math.floor(Fe/2);for(ut=11;ut;ut-=1)Dt.push(ve%2?1:0),ve=Math.floor(ve/2);Dt.push(se?1:0),Dt.reverse();var zt=Dt.join(""),Cn="";for(ut=0;ut<64;ut+=8){var Yn=parseInt(zt.substr(ut,8),2).toString(16);1===Yn.length&&(Yn="0"+Yn),Cn+=Yn}return Cn.toLowerCase()},Er=new RegExp("^-?(0*)\\d{1,10}$"),So=-2147483648,ss=2147483647,qs=function(E){if(Er.test(E)){var k=Number(E);if(k>=So&&k<=ss)return k}return null},Ks=function(E){try{E()}catch(k){setTimeout(function(){throw jr("Exception was thrown by user callback.",k.stack||""),k},Math.floor(0))}},dr=function(E,k){var O=setTimeout(E,k);return"object"==typeof O&&O.unref&&O.unref(),O},Ea=function(){function E(k,O){var Z=this;this.appName_=k,this.appCheckProvider=O,this.appCheck=null==O?void 0:O.getImmediate({optional:!0}),this.appCheck||null==O||O.get().then(function(se){return Z.appCheck=se})}return E.prototype.getToken=function(k){var O=this;return this.appCheck?this.appCheck.getToken(k):new Promise(function(Z,se){setTimeout(function(){O.appCheck?O.getToken(k).then(Z,se):Z(null)},0)})},E.prototype.addTokenChangeListener=function(k){var O;null===(O=this.appCheckProvider)||void 0===O||O.get().then(function(Z){return Z.addTokenListener(k)})},E.prototype.notifyForInvalidToken=function(){jr('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},E}(),Ki=function(){function E(k,O,Z){var se=this;this.appName_=k,this.firebaseOptions_=O,this.authProvider_=Z,this.auth_=null,this.auth_=Z.getImmediate({optional:!0}),this.auth_||Z.onInit(function(ve){return se.auth_=ve})}return E.prototype.getToken=function(k){var O=this;return this.auth_?this.auth_.getToken(k).catch(function(Z){return Z&&"auth/token-not-initialized"===Z.code?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(Z)}):new Promise(function(Z,se){setTimeout(function(){O.auth_?O.getToken(k).then(Z,se):Z(null)},0)})},E.prototype.addTokenChangeListener=function(k){this.auth_?this.auth_.addAuthTokenListener(k):this.authProvider_.get().then(function(O){return O.addAuthTokenListener(k)})},E.prototype.removeTokenChangeListener=function(k){this.authProvider_.get().then(function(O){return O.removeAuthTokenListener(k)})},E.prototype.notifyForInvalidToken=function(){var k='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';jr(k+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},E}(),nr=function(){function E(k){this.accessToken=k}return E.prototype.getToken=function(k){return Promise.resolve({accessToken:this.accessToken})},E.prototype.addTokenChangeListener=function(k){k(this.accessToken)},E.prototype.removeTokenChangeListener=function(k){},E.prototype.notifyForInvalidToken=function(){},E.OWNER="owner",E}(),ir=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vs="websocket",Go="long_polling",Nr=function(){function E(k,O,Z,se,ve,Fe,it){void 0===ve&&(ve=!1),void 0===Fe&&(Fe=""),void 0===it&&(it=!1),this.secure=O,this.namespace=Z,this.webSocketOnly=se,this.nodeAdmin=ve,this.persistenceKey=Fe,this.includeNamespaceInQueryParams=it,this._host=k.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pt.get("host:"+k)||this._host}return E.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},E.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(E.prototype,"host",{get:function(){return this._host},set:function(k){k!==this.internalHost&&(this.internalHost=k,this.isCacheableHost()&&Pt.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),E.prototype.toString=function(){var k=this.toURLString();return this.persistenceKey&&(k+="<"+this.persistenceKey+">"),k},E.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},E}();function Ji(E,k,O){var Z;if((0,ee.hu)("string"==typeof k,"typeof type must == string"),(0,ee.hu)("object"==typeof O,"typeof params must == object"),k===Vs)Z=(E.secure?"wss://":"ws://")+E.internalHost+"/.ws?";else{if(k!==Go)throw new Error("Unknown connection type: "+k);Z=(E.secure?"https://":"http://")+E.internalHost+"/.lp?"}(function(E){return E.host!==E.internalHost||E.isCustomHost()||E.includeNamespaceInQueryParams})(E)&&(O.ns=E.namespace);var se=[];return Ei(O,function(ve,Fe){se.push(ve+"="+Fe)}),Z+se.join("&")}var ml=function(){function E(){this.counters_={}}return E.prototype.incrementCounter=function(k,O){void 0===O&&(O=1),(0,ee.r3)(this.counters_,k)||(this.counters_[k]=0),this.counters_[k]+=O},E.prototype.get=function(){return(0,ee.p$)(this.counters_)},E}(),za={},Da={};function Cs(E){var k=E.toString();return za[k]||(za[k]=new ml),za[k]}var Vo=function(){function E(k){this.onMessage_=k,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return E.prototype.closeAfter=function(k,O){this.closeAfterResponse=k,this.onClose=O,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},E.prototype.handleResponse=function(k,O){var Z=this;this.pendingResponses[k]=O;for(var se=function(){var it=ve.pendingResponses[ve.currentResponseNum];delete ve.pendingResponses[ve.currentResponseNum];for(var ut=function(zt){it[zt]&&Ks(function(){Z.onMessage_(it[zt])})},Dt=0;Dt<it.length;++Dt)ut(Dt);if(ve.currentResponseNum===ve.closeAfterResponse)return ve.onClose&&(ve.onClose(),ve.onClose=null),"break";ve.currentResponseNum++},ve=this;this.pendingResponses[this.currentResponseNum]&&"break"!==se(););},E}(),rn=function(){function E(k,O,Z,se,ve,Fe,it){var ut=this;this.connId=k,this.repoInfo=O,this.applicationId=Z,this.appCheckToken=se,this.authToken=ve,this.transportSessionId=Fe,this.lastSessionId=it,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zi(k),this.stats_=Cs(O),this.urlFn=function(Dt){return ut.appCheckToken&&(Dt.ac=ut.appCheckToken),Ji(O,Go,Dt)}}return E.prototype.open=function(k,O){var Z=this;this.curSegmentNum=0,this.onDisconnect_=O,this.myPacketOrderer=new Vo(k),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){Z.log_("Timed out trying to connect."),Z.onClosed_(),Z.connectTimeoutTimer_=null},Math.floor(3e4)),function(E){if((0,ee.Yr)()||"complete"===document.readyState)E();else{var k=!1,O=function(){document.body?k||(k=!0,E()):setTimeout(O,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",O,!1),window.addEventListener("load",O,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&O()}),window.attachEvent("onload",O))}}(function(){if(!Z.isClosed_){Z.scriptTagHolder=new Zt(function(){for(var Fe=[],it=0;it<arguments.length;it++)Fe[it]=arguments[it];var ut=(0,x.CR)(Fe,5),Dt=ut[0],zt=ut[1],Cn=ut[2];if(Z.incrementIncomingBytes_(Fe),Z.scriptTagHolder)if(Z.connectTimeoutTimer_&&(clearTimeout(Z.connectTimeoutTimer_),Z.connectTimeoutTimer_=null),Z.everConnected_=!0,"start"===Dt)Z.id=zt,Z.password=Cn;else{if("close"!==Dt)throw new Error("Unrecognized command received: "+Dt);zt?(Z.scriptTagHolder.sendNewPolls=!1,Z.myPacketOrderer.closeAfter(zt,function(){Z.onClosed_()})):Z.onClosed_()}},function(){for(var Fe=[],it=0;it<arguments.length;it++)Fe[it]=arguments[it];var ut=(0,x.CR)(Fe,2),Dt=ut[0],zt=ut[1];Z.incrementIncomingBytes_(Fe),Z.myPacketOrderer.handleResponse(Dt,zt)},function(){Z.onClosed_()},Z.urlFn);var se={start:"t"};se.ser=Math.floor(1e8*Math.random()),Z.scriptTagHolder.uniqueCallbackIdentifier&&(se.cb=Z.scriptTagHolder.uniqueCallbackIdentifier),se.v="5",Z.transportSessionId&&(se.s=Z.transportSessionId),Z.lastSessionId&&(se.ls=Z.lastSessionId),Z.applicationId&&(se.p=Z.applicationId),Z.appCheckToken&&(se.ac=Z.appCheckToken),"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(se.r="f");var ve=Z.urlFn(se);Z.log_("Connecting via long-poll to "+ve),Z.scriptTagHolder.addTag(ve,function(){})}})},E.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},E.forceAllow=function(){E.forceAllow_=!0},E.forceDisallow=function(){E.forceDisallow_=!0},E.isAvailable=function(){return!((0,ee.Yr)()||!E.forceAllow_&&(E.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},E.prototype.markConnectionHealthy=function(){},E.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},E.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},E.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},E.prototype.send=function(k){var O=(0,ee.Pz)(k);this.bytesSent+=O.length,this.stats_.incrementCounter("bytes_sent",O.length);for(var Z=(0,ee.h$)(O),se=fi(Z,1840),ve=0;ve<se.length;ve++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,se.length,se[ve]),this.curSegmentNum++},E.prototype.addDisconnectPingFrame=function(k,O){if(!(0,ee.Yr)()){this.myDisconnFrame=document.createElement("iframe");var Z={dframe:"t"};Z.id=k,Z.pw=O,this.myDisconnFrame.src=this.urlFn(Z),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},E.prototype.incrementIncomingBytes_=function(k){var O=(0,ee.Pz)(k).length;this.bytesReceived+=O,this.stats_.incrementCounter("bytes_received",O)},E}(),Zt=function(){function E(k,O,Z,se){if(this.onDisconnect=Z,this.urlFn=se,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ee.Yr)())this.commandCB=k,this.onMessageCB=O;else{this.uniqueCallbackIdentifier=ct(),window["pLPCommand"+this.uniqueCallbackIdentifier]=k,window["pRTLPCB"+this.uniqueCallbackIdentifier]=O,this.myIFrame=E.createIFrame_();var ve="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(ve='<script>document.domain="'+document.domain+'";<\/script>');var it="<html><body>"+ve+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(it),this.myIFrame.doc.close()}catch(ut){hi("frame writing exception"),ut.stack&&hi(ut.stack),hi(ut)}}}return E.createIFrame_=function(){var k=document.createElement("iframe");if(k.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(k);try{k.contentWindow.document||hi("No IE domain setting required")}catch(se){var Z=document.domain;k.src="javascript:void((function(){document.open();document.domain='"+Z+"';document.close();})())"}return k.contentDocument?k.doc=k.contentDocument:k.contentWindow?k.doc=k.contentWindow.document:k.document&&(k.doc=k.document),k},E.prototype.close=function(){var k=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==k.myIFrame&&(document.body.removeChild(k.myIFrame),k.myIFrame=null)},Math.floor(0)));var O=this.onDisconnect;O&&(this.onDisconnect=null,O())},E.prototype.startLongPoll=function(k,O){for(this.myID=k,this.myPW=O,this.alive=!0;this.newRequest_(););},E.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var k={};k.id=this.myID,k.pw=this.myPW,k.ser=this.currentSerial;for(var O=this.urlFn(k),Z="",se=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+Z.length<=1870;){var Fe=this.pendingSegs.shift();Z=Z+"&seg"+se+"="+Fe.seg+"&ts"+se+"="+Fe.ts+"&d"+se+"="+Fe.d,se++}return this.addLongPollTag_(O+=Z,this.currentSerial),!0}return!1},E.prototype.enqueueSegment=function(k,O,Z){this.pendingSegs.push({seg:k,ts:O,d:Z}),this.alive&&this.newRequest_()},E.prototype.addLongPollTag_=function(k,O){var Z=this;this.outstandingRequests.add(O);var se=function(){Z.outstandingRequests.delete(O),Z.newRequest_()},ve=setTimeout(se,Math.floor(25e3));this.addTag(k,function(){clearTimeout(ve),se()})},E.prototype.addTag=function(k,O){var Z=this;(0,ee.Yr)()?this.doNodeLongPoll(k,O):setTimeout(function(){try{if(!Z.sendNewPolls)return;var se=Z.myIFrame.doc.createElement("script");se.type="text/javascript",se.async=!0,se.src=k,se.onload=se.onreadystatechange=function(){var ve=se.readyState;(!ve||"loaded"===ve||"complete"===ve)&&(se.onload=se.onreadystatechange=null,se.parentNode&&se.parentNode.removeChild(se),O())},se.onerror=function(){hi("Long-poll script failed to load: "+k),Z.sendNewPolls=!1,Z.close()},Z.myIFrame.doc.body.appendChild(se)}catch(ve){}},Math.floor(1))},E}(),Re=null;"undefined"!=typeof MozWebSocket?Re=MozWebSocket:"undefined"!=typeof WebSocket&&(Re=WebSocket);var p=function(){function E(k,O,Z,se,ve,Fe,it){this.connId=k,this.applicationId=Z,this.appCheckToken=se,this.authToken=ve,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zi(this.connId),this.stats_=Cs(O),this.connURL=E.connectionURL_(O,Fe,it,se),this.nodeAdmin=O.nodeAdmin}return E.connectionURL_=function(k,O,Z,se){var ve={v:"5"};return!(0,ee.Yr)()&&"undefined"!=typeof location&&location.hostname&&ir.test(location.hostname)&&(ve.r="f"),O&&(ve.s=O),Z&&(ve.ls=Z),se&&(ve.ac=se),Ji(k,Vs,ve)},E.prototype.open=function(k,O){var Z=this;this.onDisconnect=O,this.onMessage=k,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pt.set("previous_websocket_failure",!0);try{if((0,ee.Yr)()){var ve={headers:{"User-Agent":"Firebase/5/"+Te+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(ve.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(ve.headers["X-Firebase-AppCheck"]=this.appCheckToken);var Fe=process.env,it=0===this.connURL.indexOf("wss://")?Fe.HTTPS_PROXY||Fe.https_proxy:Fe.HTTP_PROXY||Fe.http_proxy;it&&(ve.proxy={origin:it}),this.mySock=new Re(this.connURL,[],ve)}else this.mySock=new Re(this.connURL,[],ve={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Dt){this.log_("Error instantiating WebSocket.");var ut=Dt.message||Dt.data;return ut&&this.log_(ut),void this.onClosed_()}this.mySock.onopen=function(){Z.log_("Websocket connected."),Z.everConnected_=!0},this.mySock.onclose=function(){Z.log_("Websocket connection was disconnected."),Z.mySock=null,Z.onClosed_()},this.mySock.onmessage=function(Dt){Z.handleIncomingFrame(Dt)},this.mySock.onerror=function(Dt){Z.log_("WebSocket error.  Closing connection.");var zt=Dt.message||Dt.data;zt&&Z.log_(zt),Z.onClosed_()}},E.prototype.start=function(){},E.forceDisallow=function(){E.forceDisallow_=!0},E.isAvailable=function(){var k=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var Z=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);Z&&Z.length>1&&parseFloat(Z[1])<4.4&&(k=!0)}return!k&&null!==Re&&!E.forceDisallow_},E.previouslyFailed=function(){return Pt.isInMemoryStorage||!0===Pt.get("previous_websocket_failure")},E.prototype.markConnectionHealthy=function(){Pt.remove("previous_websocket_failure")},E.prototype.appendFrame_=function(k){if(this.frames.push(k),this.frames.length===this.totalFrames){var O=this.frames.join("");this.frames=null;var Z=(0,ee.cI)(O);this.onMessage(Z)}},E.prototype.handleNewFrameCount_=function(k){this.totalFrames=k,this.frames=[]},E.prototype.extractFrameCount_=function(k){if((0,ee.hu)(null===this.frames,"We already have a frame buffer"),k.length<=6){var O=Number(k);if(!isNaN(O))return this.handleNewFrameCount_(O),null}return this.handleNewFrameCount_(1),k},E.prototype.handleIncomingFrame=function(k){if(null!==this.mySock){var O=k.data;if(this.bytesReceived+=O.length,this.stats_.incrementCounter("bytes_received",O.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(O);else{var Z=this.extractFrameCount_(O);null!==Z&&this.appendFrame_(Z)}}},E.prototype.send=function(k){this.resetKeepAlive();var O=(0,ee.Pz)(k);this.bytesSent+=O.length,this.stats_.incrementCounter("bytes_sent",O.length);var Z=fi(O,16384);Z.length>1&&this.sendString_(String(Z.length));for(var se=0;se<Z.length;se++)this.sendString_(Z[se])},E.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},E.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},E.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},E.prototype.resetKeepAlive=function(){var k=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){k.mySock&&k.sendString_("0"),k.resetKeepAlive()},Math.floor(45e3))},E.prototype.sendString_=function(k){try{this.mySock.send(k)}catch(O){this.log_("Exception thrown from WebSocket.send():",O.message||O.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},E.responsesRequiredToBeHealthy=2,E.healthyTimeout=3e4,E}(),f=function(){function E(k){this.initTransports_(k)}return Object.defineProperty(E,"ALL_TRANSPORTS",{get:function(){return[rn,p]},enumerable:!1,configurable:!0}),E.prototype.initTransports_=function(k){var O,Z,se=p&&p.isAvailable(),ve=se&&!p.previouslyFailed();if(k.webSocketOnly&&(se||jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ve=!0),ve)this.transports_=[p];else{var Fe=this.transports_=[];try{for(var it=(0,x.XA)(E.ALL_TRANSPORTS),ut=it.next();!ut.done;ut=it.next()){var Dt=ut.value;Dt&&Dt.isAvailable()&&Fe.push(Dt)}}catch(zt){O={error:zt}}finally{try{ut&&!ut.done&&(Z=it.return)&&Z.call(it)}finally{if(O)throw O.error}}}},E.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},E.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},E}(),Ge=function(){function E(k,O,Z,se,ve,Fe,it,ut,Dt,zt){this.id=k,this.repoInfo_=O,this.applicationId_=Z,this.appCheckToken_=se,this.authToken_=ve,this.onMessage_=Fe,this.onReady_=it,this.onDisconnect_=ut,this.onKill_=Dt,this.lastSessionId=zt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zi("c:"+this.id+":"),this.transportManager_=new f(O),this.log_("Connection created"),this.start_()}return E.prototype.start_=function(){var k=this,O=this.transportManager_.initialTransport();this.conn_=new O(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=O.responsesRequiredToBeHealthy||0;var Z=this.connReceiver_(this.conn_),se=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){k.conn_&&k.conn_.open(Z,se)},Math.floor(0));var ve=O.healthyTimeout||0;ve>0&&(this.healthyTimeout_=dr(function(){k.healthyTimeout_=null,k.isHealthy_||(k.conn_&&k.conn_.bytesReceived>102400?(k.log_("Connection exceeded healthy timeout but has received "+k.conn_.bytesReceived+" bytes.  Marking connection healthy."),k.isHealthy_=!0,k.conn_.markConnectionHealthy()):k.conn_&&k.conn_.bytesSent>10240?k.log_("Connection exceeded healthy timeout but has sent "+k.conn_.bytesSent+" bytes.  Leaving connection alive."):(k.log_("Closing unhealthy connection after timeout."),k.close()))},Math.floor(ve)))},E.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},E.prototype.disconnReceiver_=function(k){var O=this;return function(Z){k===O.conn_?O.onConnectionLost_(Z):k===O.secondaryConn_?(O.log_("Secondary connection lost."),O.onSecondaryConnectionLost_()):O.log_("closing an old connection")}},E.prototype.connReceiver_=function(k){var O=this;return function(Z){2!==O.state_&&(k===O.rx_?O.onPrimaryMessageReceived_(Z):k===O.secondaryConn_?O.onSecondaryMessageReceived_(Z):O.log_("message on old connection"))}},E.prototype.sendRequest=function(k){this.sendData_({t:"d",d:k})},E.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},E.prototype.onSecondaryControl_=function(k){if("t"in k){var O=k.t;"a"===O?this.upgradeIfSecondaryHealthy_():"r"===O?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===O&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},E.prototype.onSecondaryMessageReceived_=function(k){var O=Bi("t",k),Z=Bi("d",k);if("c"===O)this.onSecondaryControl_(Z);else{if("d"!==O)throw new Error("Unknown protocol layer: "+O);this.pendingDataMessages.push(Z)}},E.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},E.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},E.prototype.onPrimaryMessageReceived_=function(k){var O=Bi("t",k),Z=Bi("d",k);"c"===O?this.onControl_(Z):"d"===O&&this.onDataMessage_(Z)},E.prototype.onDataMessage_=function(k){this.onPrimaryResponse_(),this.onMessage_(k)},E.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},E.prototype.onControl_=function(k){var O=Bi("t",k);if("d"in k){var Z=k.d;if("h"===O)this.onHandshake_(Z);else if("n"===O){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var se=0;se<this.pendingDataMessages.length;++se)this.onDataMessage_(this.pendingDataMessages[se]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===O?this.onConnectionShutdown_(Z):"r"===O?this.onReset_(Z):"e"===O?Bs("Server Error: "+Z):"o"===O?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bs("Unknown control packet command: "+O)}},E.prototype.onHandshake_=function(k){var O=k.ts,Z=k.v,se=k.h;this.sessionId=k.s,this.repoInfo_.host=se,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,O),"5"!==Z&&jr("Protocol version mismatch detected"),this.tryStartUpgrade_())},E.prototype.tryStartUpgrade_=function(){var k=this.transportManager_.upgradeTransport();k&&this.startUpgrade_(k)},E.prototype.startUpgrade_=function(k){var O=this;this.secondaryConn_=new k(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=k.responsesRequiredToBeHealthy||0;var Z=this.connReceiver_(this.secondaryConn_),se=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(Z,se),dr(function(){O.secondaryConn_&&(O.log_("Timed out trying to upgrade."),O.secondaryConn_.close())},Math.floor(6e4))},E.prototype.onReset_=function(k){this.log_("Reset packet received.  New host: "+k),this.repoInfo_.host=k,1===this.state_?this.close():(this.closeConnections_(),this.start_())},E.prototype.onConnectionEstablished_=function(k,O){var Z=this;this.log_("Realtime connection established."),this.conn_=k,this.state_=1,this.onReady_&&(this.onReady_(O,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dr(function(){Z.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},E.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},E.prototype.onSecondaryConnectionLost_=function(){var k=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===k||this.rx_===k)&&this.close()},E.prototype.onConnectionLost_=function(k){this.conn_=null,k||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},E.prototype.onConnectionShutdown_=function(k){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(k),this.onKill_=null),this.onDisconnect_=null,this.close()},E.prototype.sendData_=function(k){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(k)},E.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},E.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},E}(),st=function(){function E(){}return E.prototype.put=function(k,O,Z,se){},E.prototype.merge=function(k,O,Z,se){},E.prototype.refreshAuthToken=function(k){},E.prototype.refreshAppCheckToken=function(k){},E.prototype.onDisconnectPut=function(k,O,Z){},E.prototype.onDisconnectMerge=function(k,O,Z){},E.prototype.onDisconnectCancel=function(k,O){},E.prototype.reportStats=function(k){},E}(),bt=function(){function E(k){this.allowedEvents_=k,this.listeners_={},(0,ee.hu)(Array.isArray(k)&&k.length>0,"Requires a non-empty array")}return E.prototype.trigger=function(k){for(var O=[],Z=1;Z<arguments.length;Z++)O[Z-1]=arguments[Z];if(Array.isArray(this.listeners_[k]))for(var se=(0,x.ev)([],(0,x.CR)(this.listeners_[k])),ve=0;ve<se.length;ve++)se[ve].callback.apply(se[ve].context,O)},E.prototype.on=function(k,O,Z){this.validateEventType_(k),this.listeners_[k]=this.listeners_[k]||[],this.listeners_[k].push({callback:O,context:Z});var se=this.getInitialEvent(k);se&&O.apply(Z,se)},E.prototype.off=function(k,O,Z){this.validateEventType_(k);for(var se=this.listeners_[k]||[],ve=0;ve<se.length;ve++)if(se[ve].callback===O&&(!Z||Z===se[ve].context))return void se.splice(ve,1)},E.prototype.validateEventType_=function(k){(0,ee.hu)(this.allowedEvents_.find(function(O){return O===k}),"Unknown event: "+k)},E}(),J=function(E){function k(){var O=E.call(this,["online"])||this;return O.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ee.uI)()&&(window.addEventListener("online",function(){O.online_||(O.online_=!0,O.trigger("online",!0))},!1),window.addEventListener("offline",function(){O.online_&&(O.online_=!1,O.trigger("online",!1))},!1)),O}return(0,x.ZT)(k,E),k.getInstance=function(){return new k},k.prototype.getInitialEvent=function(O){return(0,ee.hu)("online"===O,"Unknown event type: "+O),[this.online_]},k.prototype.currentlyOnline=function(){return this.online_},k}(bt),Je=function(){function E(k,O){if(void 0===O){this.pieces_=k.split("/");for(var Z=0,se=0;se<this.pieces_.length;se++)this.pieces_[se].length>0&&(this.pieces_[Z]=this.pieces_[se],Z++);this.pieces_.length=Z,this.pieceNum_=0}else this.pieces_=k,this.pieceNum_=O}return E.prototype.toString=function(){for(var k="",O=this.pieceNum_;O<this.pieces_.length;O++)""!==this.pieces_[O]&&(k+="/"+this.pieces_[O]);return k||"/"},E}();function ft(){return new Je("")}function ln(E){return E.pieceNum_>=E.pieces_.length?null:E.pieces_[E.pieceNum_]}function $t(E){return E.pieces_.length-E.pieceNum_}function cn(E){var k=E.pieceNum_;return k<E.pieces_.length&&k++,new Je(E.pieces_,k)}function Un(E){return E.pieceNum_<E.pieces_.length?E.pieces_[E.pieces_.length-1]:null}function Ai(E,k){return void 0===k&&(k=0),E.pieces_.slice(E.pieceNum_+k)}function gr(E){if(E.pieceNum_>=E.pieces_.length)return null;for(var k=[],O=E.pieceNum_;O<E.pieces_.length-1;O++)k.push(E.pieces_[O]);return new Je(k,0)}function vi(E,k){for(var O=[],Z=E.pieceNum_;Z<E.pieces_.length;Z++)O.push(E.pieces_[Z]);if(k instanceof Je)for(Z=k.pieceNum_;Z<k.pieces_.length;Z++)O.push(k.pieces_[Z]);else{var se=k.split("/");for(Z=0;Z<se.length;Z++)se[Z].length>0&&O.push(se[Z])}return new Je(O,0)}function Yi(E){return E.pieceNum_>=E.pieces_.length}function Pr(E,k){var O=ln(E),Z=ln(k);if(null===O)return k;if(O===Z)return Pr(cn(E),cn(k));throw new Error("INTERNAL ERROR: innerPath ("+k+") is not within outerPath ("+E+")")}function oo(E,k){for(var O=Ai(E,0),Z=Ai(k,0),se=0;se<O.length&&se<Z.length;se++){var ve=bn(O[se],Z[se]);if(0!==ve)return ve}return O.length===Z.length?0:O.length<Z.length?-1:1}function Ms(E,k){if($t(E)!==$t(k))return!1;for(var O=E.pieceNum_,Z=k.pieceNum_;O<=E.pieces_.length;O++,Z++)if(E.pieces_[O]!==k.pieces_[Z])return!1;return!0}function Gi(E,k){var O=E.pieceNum_,Z=k.pieceNum_;if($t(E)>$t(k))return!1;for(;O<E.pieces_.length;){if(E.pieces_[O]!==k.pieces_[Z])return!1;++O,++Z}return!0}var qr=function(k,O){this.errorPrefix_=O,this.parts_=Ai(k,0),this.byteLength_=Math.max(1,this.parts_.length);for(var Z=0;Z<this.parts_.length;Z++)this.byteLength_+=(0,ee.ug)(this.parts_[Z]);da(this)};function da(E){if(E.byteLength_>768)throw new Error(E.errorPrefix_+"has a key path longer than 768 bytes ("+E.byteLength_+").");if(E.parts_.length>32)throw new Error(E.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_o(E))}function _o(E){return 0===E.parts_.length?"":"in property '"+E.parts_.join(".")+"'"}var lh,Us,qo=function(E){function k(){var Z,se,O=E.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(se="visibilitychange",Z="hidden"):void 0!==document.mozHidden?(se="mozvisibilitychange",Z="mozHidden"):void 0!==document.msHidden?(se="msvisibilitychange",Z="msHidden"):void 0!==document.webkitHidden&&(se="webkitvisibilitychange",Z="webkitHidden")),O.visible_=!0,se&&document.addEventListener(se,function(){var ve=!document[Z];ve!==O.visible_&&(O.visible_=ve,O.trigger("visible",ve))},!1),O}return(0,x.ZT)(k,E),k.getInstance=function(){return new k},k.prototype.getInitialEvent=function(O){return(0,ee.hu)("visible"===O,"Unknown event type: "+O),[this.visible_]},k}(bt),Cd=1e3,ou=function(E){function k(O,Z,se,ve,Fe,it,ut,Dt){var zt=E.call(this)||this;if(zt.repoInfo_=O,zt.applicationId_=Z,zt.onDataUpdate_=se,zt.onConnectStatus_=ve,zt.onServerInfoUpdate_=Fe,zt.authTokenProvider_=it,zt.appCheckTokenProvider_=ut,zt.authOverride_=Dt,zt.id=k.nextPersistentConnectionId_++,zt.log_=zi("p:"+zt.id+":"),zt.interruptReasons_={},zt.listens=new Map,zt.outstandingPuts_=[],zt.outstandingGets_=[],zt.outstandingPutCount_=0,zt.outstandingGetCount_=0,zt.onDisconnectRequestQueue_=[],zt.connected_=!1,zt.reconnectDelay_=Cd,zt.maxReconnectDelay_=3e5,zt.securityDebugCallback_=null,zt.lastSessionId=null,zt.establishConnectionTimer_=null,zt.visible_=!1,zt.requestCBHash_={},zt.requestNumber_=0,zt.realtime_=null,zt.authToken_=null,zt.appCheckToken_=null,zt.forceTokenRefresh_=!1,zt.invalidAuthTokenCount_=0,zt.invalidAppCheckTokenCount_=0,zt.firstConnection_=!0,zt.lastConnectionAttemptTime_=null,zt.lastConnectionEstablishedTime_=null,Dt&&!(0,ee.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qo.getInstance().on("visible",zt.onVisible_,zt),-1===O.host.indexOf("fblocal")&&J.getInstance().on("online",zt.onOnline_,zt),zt}return(0,x.ZT)(k,E),k.prototype.sendRequest=function(O,Z,se){var ve=++this.requestNumber_,Fe={r:ve,a:O,b:Z};this.log_((0,ee.Pz)(Fe)),(0,ee.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Fe),se&&(this.requestCBHash_[ve]=se)},k.prototype.get=function(O){var Z=this;this.initConnection_();var se=new ee.BH,ve={p:O._path.toString(),q:O._queryObject},Fe={action:"g",request:ve,onComplete:function(ut){var Dt=ut.d;"ok"===ut.s?(Z.onDataUpdate_(ve.p,Dt,!1,null),se.resolve(Dt)):se.reject(Dt)}};this.outstandingGets_.push(Fe),this.outstandingGetCount_++;var it=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var ut=Z.outstandingGets_[it];void 0===ut||Fe!==ut||(delete Z.outstandingGets_[it],Z.outstandingGetCount_--,0===Z.outstandingGetCount_&&(Z.outstandingGets_=[]),Z.log_("get "+it+" timed out on connection"),se.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(it),se.promise},k.prototype.listen=function(O,Z,se,ve){this.initConnection_();var Fe=O._queryIdentifier,it=O._path.toString();this.log_("Listen called for "+it+" "+Fe),this.listens.has(it)||this.listens.set(it,new Map),(0,ee.hu)(O._queryParams.isDefault()||!O._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ee.hu)(!this.listens.get(it).has(Fe),"listen() called twice for same path/queryId.");var ut={onComplete:ve,hashFn:Z,query:O,tag:se};this.listens.get(it).set(Fe,ut),this.connected_&&this.sendListen_(ut)},k.prototype.sendGet_=function(O){var Z=this,se=this.outstandingGets_[O];this.sendRequest("g",se.request,function(ve){delete Z.outstandingGets_[O],Z.outstandingGetCount_--,0===Z.outstandingGetCount_&&(Z.outstandingGets_=[]),se.onComplete&&se.onComplete(ve)})},k.prototype.sendListen_=function(O){var Z=this,se=O.query,ve=se._path.toString(),Fe=se._queryIdentifier;this.log_("Listen on "+ve+" for "+Fe);var it={p:ve};O.tag&&(it.q=se._queryObject,it.t=O.tag),it.h=O.hashFn(),this.sendRequest("q",it,function(Dt){var zt=Dt.d,Cn=Dt.s;k.warnOnListenWarnings_(zt,se),(Z.listens.get(ve)&&Z.listens.get(ve).get(Fe))===O&&(Z.log_("listen response",Dt),"ok"!==Cn&&Z.removeListen_(ve,Fe),O.onComplete&&O.onComplete(Cn,zt))})},k.warnOnListenWarnings_=function(O,Z){if(O&&"object"==typeof O&&(0,ee.r3)(O,"w")){var se=(0,ee.DV)(O,"w");if(Array.isArray(se)&&~se.indexOf("no_index")){var ve='".indexOn": "'+Z._queryParams.getIndex().toString()+'"',Fe=Z._path.toString();jr("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+ve+" at "+Fe+" to your security rules for better performance.")}}},k.prototype.refreshAuthToken=function(O){this.authToken_=O,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(O)},k.prototype.reduceReconnectDelayIfAdminCredential_=function(O){(O&&40===O.length||(0,ee.GJ)(O))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},k.prototype.refreshAppCheckToken=function(O){this.appCheckToken_=O,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},k.prototype.tryAuth=function(){var O=this;if(this.connected_&&this.authToken_){var Z=this.authToken_,se=(0,ee.w9)(Z)?"auth":"gauth",ve={cred:Z};null===this.authOverride_?ve.noauth=!0:"object"==typeof this.authOverride_&&(ve.authvar=this.authOverride_),this.sendRequest(se,ve,function(Fe){var it=Fe.s,ut=Fe.d||"error";O.authToken_===Z&&("ok"===it?O.invalidAuthTokenCount_=0:O.onAuthRevoked_(it,ut))})}},k.prototype.tryAppCheck=function(){var O=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(Z){var se=Z.s,ve=Z.d||"error";"ok"===se?O.invalidAppCheckTokenCount_=0:O.onAppCheckRevoked_(se,ve)})},k.prototype.unlisten=function(O,Z){var se=O._path.toString(),ve=O._queryIdentifier;this.log_("Unlisten called for "+se+" "+ve),(0,ee.hu)(O._queryParams.isDefault()||!O._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(se,ve)&&this.connected_&&this.sendUnlisten_(se,ve,O._queryObject,Z)},k.prototype.sendUnlisten_=function(O,Z,se,ve){this.log_("Unlisten on "+O+" for "+Z);var Fe={p:O};ve&&(Fe.q=se,Fe.t=ve),this.sendRequest("n",Fe)},k.prototype.onDisconnectPut=function(O,Z,se){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",O,Z,se):this.onDisconnectRequestQueue_.push({pathString:O,action:"o",data:Z,onComplete:se})},k.prototype.onDisconnectMerge=function(O,Z,se){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",O,Z,se):this.onDisconnectRequestQueue_.push({pathString:O,action:"om",data:Z,onComplete:se})},k.prototype.onDisconnectCancel=function(O,Z){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",O,null,Z):this.onDisconnectRequestQueue_.push({pathString:O,action:"oc",data:null,onComplete:Z})},k.prototype.sendOnDisconnect_=function(O,Z,se,ve){var Fe={p:Z,d:se};this.log_("onDisconnect "+O,Fe),this.sendRequest(O,Fe,function(it){ve&&setTimeout(function(){ve(it.s,it.d)},Math.floor(0))})},k.prototype.put=function(O,Z,se,ve){this.putInternal("p",O,Z,se,ve)},k.prototype.merge=function(O,Z,se,ve){this.putInternal("m",O,Z,se,ve)},k.prototype.putInternal=function(O,Z,se,ve,Fe){this.initConnection_();var it={p:Z,d:se};void 0!==Fe&&(it.h=Fe),this.outstandingPuts_.push({action:O,request:it,onComplete:ve}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+Z)},k.prototype.sendPut_=function(O){var Z=this,se=this.outstandingPuts_[O].action,ve=this.outstandingPuts_[O].request,Fe=this.outstandingPuts_[O].onComplete;this.outstandingPuts_[O].queued=this.connected_,this.sendRequest(se,ve,function(it){Z.log_(se+" response",it),delete Z.outstandingPuts_[O],Z.outstandingPutCount_--,0===Z.outstandingPutCount_&&(Z.outstandingPuts_=[]),Fe&&Fe(it.s,it.d)})},k.prototype.reportStats=function(O){var Z=this;if(this.connected_){var se={c:O};this.log_("reportStats",se),this.sendRequest("s",se,function(ve){"ok"!==ve.s&&Z.log_("reportStats","Error sending stats: "+ve.d)})}},k.prototype.onDataMessage_=function(O){if("r"in O){this.log_("from server: "+(0,ee.Pz)(O));var Z=O.r,se=this.requestCBHash_[Z];se&&(delete this.requestCBHash_[Z],se(O.b))}else{if("error"in O)throw"A server-side error has occurred: "+O.error;"a"in O&&this.onDataPush_(O.a,O.b)}},k.prototype.onDataPush_=function(O,Z){this.log_("handleServerMessage",O,Z),"d"===O?this.onDataUpdate_(Z.p,Z.d,!1,Z.t):"m"===O?this.onDataUpdate_(Z.p,Z.d,!0,Z.t):"c"===O?this.onListenRevoked_(Z.p,Z.q):"ac"===O?this.onAuthRevoked_(Z.s,Z.d):"apc"===O?this.onAppCheckRevoked_(Z.s,Z.d):"sd"===O?this.onSecurityDebugPacket_(Z):Bs("Unrecognized action received from server: "+(0,ee.Pz)(O)+"\nAre you using the latest client?")},k.prototype.onReady_=function(O,Z){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(O),this.lastSessionId=Z,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},k.prototype.scheduleConnect_=function(O){var Z=this;(0,ee.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){Z.establishConnectionTimer_=null,Z.establishConnection_()},Math.floor(O))},k.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},k.prototype.onVisible_=function(O){O&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0)),this.visible_=O},k.prototype.onOnline_=function(O){O?(this.log_("Browser went online."),this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},k.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var Z=(new Date).getTime()-this.lastConnectionAttemptTime_,se=Math.max(0,this.reconnectDelay_-Z);se=Math.random()*se,this.log_("Trying to reconnect in "+se+"ms"),this.scheduleConnect_(se),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},k.prototype.establishConnection_=function(){return(0,x.mG)(this,void 0,void 0,function(){var O,Z,se,ve,Fe,it,ut,Dt,Cn,Yn,oi,ki,Wi,rr=this;return(0,x.Jh)(this,function(rs){switch(rs.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,O=this.onDataMessage_.bind(this),Z=this.onReady_.bind(this),se=this.onRealtimeDisconnect_.bind(this),ve=this.id+":"+k.nextConnectionId_++,Fe=this.lastSessionId,it=!1,ut=null,this.realtime_={close:Dt=function(){ut?ut.close():(it=!0,se())},sendRequest:function(_a){(0,ee.hu)(ut,"sendRequest call when we're not connected not allowed."),ut.sendRequest(_a)}},Cn=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,rs.label=1;case 1:return rs.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(Cn),this.appCheckTokenProvider_.getToken(Cn)])];case 2:return Yn=x.CR.apply(void 0,[rs.sent(),2]),oi=Yn[0],ki=Yn[1],it?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),this.authToken_=oi&&oi.accessToken,this.appCheckToken_=ki&&ki.token,ut=new Ge(ve,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,O,Z,se,function(_a){jr(_a+" ("+rr.repoInfo_.toString()+")"),rr.interrupt("server_kill")},Fe)),[3,4];case 3:return Wi=rs.sent(),this.log_("Failed to get token: "+Wi),it||(this.repoInfo_.nodeAdmin&&jr(Wi),Dt()),[3,4];case 4:return[2]}})})},k.prototype.interrupt=function(O){hi("Interrupting connection for reason: "+O),this.interruptReasons_[O]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},k.prototype.resume=function(O){hi("Resuming connection for reason: "+O),delete this.interruptReasons_[O],(0,ee.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0))},k.prototype.handleTimestamp_=function(O){var Z=O-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:Z})},k.prototype.cancelSentTransactions_=function(){for(var O=0;O<this.outstandingPuts_.length;O++){var Z=this.outstandingPuts_[O];Z&&"h"in Z.request&&Z.queued&&(Z.onComplete&&Z.onComplete("disconnect"),delete this.outstandingPuts_[O],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},k.prototype.onListenRevoked_=function(O,Z){var se;se=Z?Z.map(function(Fe){return Ui(Fe)}).join("$"):"default";var ve=this.removeListen_(O,se);ve&&ve.onComplete&&ve.onComplete("permission_denied")},k.prototype.removeListen_=function(O,Z){var ve,se=new Je(O).toString();if(this.listens.has(se)){var Fe=this.listens.get(se);ve=Fe.get(Z),Fe.delete(Z),0===Fe.size&&this.listens.delete(se)}else ve=void 0;return ve},k.prototype.onAuthRevoked_=function(O,Z){hi("Auth token revoked: "+O+"/"+Z),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===O||"permission_denied"===O)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},k.prototype.onAppCheckRevoked_=function(O,Z){hi("App check token revoked: "+O+"/"+Z),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===O||"permission_denied"===O)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},k.prototype.onSecurityDebugPacket_=function(O){this.securityDebugCallback_?this.securityDebugCallback_(O):"msg"in O&&console.log("FIREBASE: "+O.msg.replace("\n","\nFIREBASE: "))},k.prototype.restoreState_=function(){var O,Z,se,ve;this.tryAuth(),this.tryAppCheck();try{for(var Fe=(0,x.XA)(this.listens.values()),it=Fe.next();!it.done;it=Fe.next()){var ut=it.value;try{for(var Dt=(se=void 0,(0,x.XA)(ut.values())),zt=Dt.next();!zt.done;zt=Dt.next())this.sendListen_(zt.value)}catch(ki){se={error:ki}}finally{try{zt&&!zt.done&&(ve=Dt.return)&&ve.call(Dt)}finally{if(se)throw se.error}}}}catch(ki){O={error:ki}}finally{try{it&&!it.done&&(Z=Fe.return)&&Z.call(Fe)}finally{if(O)throw O.error}}for(var Yn=0;Yn<this.outstandingPuts_.length;Yn++)this.outstandingPuts_[Yn]&&this.sendPut_(Yn);for(;this.onDisconnectRequestQueue_.length;){var oi=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(oi.action,oi.pathString,oi.data,oi.onComplete)}for(Yn=0;Yn<this.outstandingGets_.length;Yn++)this.outstandingGets_[Yn]&&this.sendGet_(Yn)},k.prototype.sendConnectStats_=function(){var O={},Z="js";(0,ee.Yr)()&&(Z=this.repoInfo_.nodeAdmin?"admin_node":"node"),O["sdk."+Z+"."+Te.replace(/\./g,"-")]=1,(0,ee.uI)()?O["framework.cordova"]=1:(0,ee.b$)()&&(O["framework.reactnative"]=1),this.reportStats(O)},k.prototype.shouldReconnect_=function(){var O=J.getInstance().currentlyOnline();return(0,ee.xb)(this.interruptReasons_)&&O},k.nextPersistentConnectionId_=0,k.nextConnectionId_=0,k}(st),Ss=function(){function E(k,O){this.name=k,this.node=O}return E.Wrap=function(k,O){return new E(k,O)},E}(),Cp=function(){function E(){}return E.prototype.getCompare=function(){return this.compare.bind(this)},E.prototype.indexedValueChanged=function(k,O){var Z=new Ss(fn,k),se=new Ss(fn,O);return 0!==this.compare(Z,se)},E.prototype.minPost=function(){return Ss.MIN},E}(),Mp=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),Object.defineProperty(k,"__EMPTY_NODE",{get:function(){return lh},set:function(O){lh=O},enumerable:!1,configurable:!0}),k.prototype.compare=function(O,Z){return bn(O.name,Z.name)},k.prototype.isDefinedOn=function(O){throw(0,ee.g5)("KeyIndex.isDefinedOn not expected to be called.")},k.prototype.indexedValueChanged=function(O,Z){return!1},k.prototype.minPost=function(){return Ss.MIN},k.prototype.maxPost=function(){return new Ss(Hn,lh)},k.prototype.makePost=function(O,Z){return(0,ee.hu)("string"==typeof O,"KeyIndex indexValue must always be a string."),new Ss(O,lh)},k.prototype.toString=function(){return".key"},k}(Cp),Ql=new Mp,Cu=function(){function E(k,O,Z,se,ve){void 0===ve&&(ve=null),this.isReverse_=se,this.resultGenerator_=ve,this.nodeStack_=[];for(var Fe=1;!k.isEmpty();)if(k=k,Fe=O?Z(k.key,O):1,se&&(Fe*=-1),Fe<0)k=this.isReverse_?k.left:k.right;else{if(0===Fe){this.nodeStack_.push(k);break}this.nodeStack_.push(k),k=this.isReverse_?k.right:k.left}}return E.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var O,k=this.nodeStack_.pop();if(O=this.resultGenerator_?this.resultGenerator_(k.key,k.value):{key:k.key,value:k.value},this.isReverse_)for(k=k.left;!k.isEmpty();)this.nodeStack_.push(k),k=k.right;else for(k=k.right;!k.isEmpty();)this.nodeStack_.push(k),k=k.left;return O},E.prototype.hasNext=function(){return this.nodeStack_.length>0},E.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var k=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(k.key,k.value):{key:k.key,value:k.value}},E}(),Rl=function(){function E(k,O,Z,se,ve){this.key=k,this.value=O,this.color=null!=Z?Z:E.RED,this.left=null!=se?se:ia.EMPTY_NODE,this.right=null!=ve?ve:ia.EMPTY_NODE}return E.prototype.copy=function(k,O,Z,se,ve){return new E(null!=k?k:this.key,null!=O?O:this.value,null!=Z?Z:this.color,null!=se?se:this.left,null!=ve?ve:this.right)},E.prototype.count=function(){return this.left.count()+1+this.right.count()},E.prototype.isEmpty=function(){return!1},E.prototype.inorderTraversal=function(k){return this.left.inorderTraversal(k)||!!k(this.key,this.value)||this.right.inorderTraversal(k)},E.prototype.reverseTraversal=function(k){return this.right.reverseTraversal(k)||k(this.key,this.value)||this.left.reverseTraversal(k)},E.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},E.prototype.minKey=function(){return this.min_().key},E.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},E.prototype.insert=function(k,O,Z){var se=this,ve=Z(k,se.key);return(se=ve<0?se.copy(null,null,null,se.left.insert(k,O,Z),null):0===ve?se.copy(null,O,null,null,null):se.copy(null,null,null,null,se.right.insert(k,O,Z))).fixUp_()},E.prototype.removeMin_=function(){if(this.left.isEmpty())return ia.EMPTY_NODE;var k=this;return!k.left.isRed_()&&!k.left.left.isRed_()&&(k=k.moveRedLeft_()),(k=k.copy(null,null,null,k.left.removeMin_(),null)).fixUp_()},E.prototype.remove=function(k,O){var Z,se;if(O(k,(Z=this).key)<0)!Z.left.isEmpty()&&!Z.left.isRed_()&&!Z.left.left.isRed_()&&(Z=Z.moveRedLeft_()),Z=Z.copy(null,null,null,Z.left.remove(k,O),null);else{if(Z.left.isRed_()&&(Z=Z.rotateRight_()),!Z.right.isEmpty()&&!Z.right.isRed_()&&!Z.right.left.isRed_()&&(Z=Z.moveRedRight_()),0===O(k,Z.key)){if(Z.right.isEmpty())return ia.EMPTY_NODE;se=Z.right.min_(),Z=Z.copy(se.key,se.value,null,null,Z.right.removeMin_())}Z=Z.copy(null,null,null,null,Z.right.remove(k,O))}return Z.fixUp_()},E.prototype.isRed_=function(){return this.color},E.prototype.fixUp_=function(){var k=this;return k.right.isRed_()&&!k.left.isRed_()&&(k=k.rotateLeft_()),k.left.isRed_()&&k.left.left.isRed_()&&(k=k.rotateRight_()),k.left.isRed_()&&k.right.isRed_()&&(k=k.colorFlip_()),k},E.prototype.moveRedLeft_=function(){var k=this.colorFlip_();return k.right.left.isRed_()&&(k=(k=(k=k.copy(null,null,null,null,k.right.rotateRight_())).rotateLeft_()).colorFlip_()),k},E.prototype.moveRedRight_=function(){var k=this.colorFlip_();return k.left.left.isRed_()&&(k=(k=k.rotateRight_()).colorFlip_()),k},E.prototype.rotateLeft_=function(){var k=this.copy(null,null,E.RED,null,this.right.left);return this.right.copy(null,null,this.color,k,null)},E.prototype.rotateRight_=function(){var k=this.copy(null,null,E.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,k)},E.prototype.colorFlip_=function(){var k=this.left.copy(null,null,!this.left.color,null,null),O=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,k,O)},E.prototype.checkMaxDepth_=function(){var k=this.check_();return Math.pow(2,k)<=this.count()+1},E.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var k=this.left.check_();if(k!==this.right.check_())throw new Error("Black depths differ");return k+(this.isRed_()?0:1)},E.RED=!0,E.BLACK=!1,E}(),ch=function(){function E(){}return E.prototype.copy=function(k,O,Z,se,ve){return this},E.prototype.insert=function(k,O,Z){return new Rl(k,O,null)},E.prototype.remove=function(k,O){return this},E.prototype.count=function(){return 0},E.prototype.isEmpty=function(){return!0},E.prototype.inorderTraversal=function(k){return!1},E.prototype.reverseTraversal=function(k){return!1},E.prototype.minKey=function(){return null},E.prototype.maxKey=function(){return null},E.prototype.check_=function(){return 0},E.prototype.isRed_=function(){return!1},E}(),ia=function(){function E(k,O){void 0===O&&(O=E.EMPTY_NODE),this.comparator_=k,this.root_=O}return E.prototype.insert=function(k,O){return new E(this.comparator_,this.root_.insert(k,O,this.comparator_).copy(null,null,Rl.BLACK,null,null))},E.prototype.remove=function(k){return new E(this.comparator_,this.root_.remove(k,this.comparator_).copy(null,null,Rl.BLACK,null,null))},E.prototype.get=function(k){for(var O,Z=this.root_;!Z.isEmpty();){if(0===(O=this.comparator_(k,Z.key)))return Z.value;O<0?Z=Z.left:O>0&&(Z=Z.right)}return null},E.prototype.getPredecessorKey=function(k){for(var O,Z=this.root_,se=null;!Z.isEmpty();){if(0===(O=this.comparator_(k,Z.key))){if(Z.left.isEmpty())return se?se.key:null;for(Z=Z.left;!Z.right.isEmpty();)Z=Z.right;return Z.key}O<0?Z=Z.left:O>0&&(se=Z,Z=Z.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},E.prototype.isEmpty=function(){return this.root_.isEmpty()},E.prototype.count=function(){return this.root_.count()},E.prototype.minKey=function(){return this.root_.minKey()},E.prototype.maxKey=function(){return this.root_.maxKey()},E.prototype.inorderTraversal=function(k){return this.root_.inorderTraversal(k)},E.prototype.reverseTraversal=function(k){return this.root_.reverseTraversal(k)},E.prototype.getIterator=function(k){return new Cu(this.root_,null,this.comparator_,!1,k)},E.prototype.getIteratorFrom=function(k,O){return new Cu(this.root_,k,this.comparator_,!1,O)},E.prototype.getReverseIteratorFrom=function(k,O){return new Cu(this.root_,k,this.comparator_,!0,O)},E.prototype.getReverseIterator=function(k){return new Cu(this.root_,null,this.comparator_,!0,k)},E.EMPTY_NODE=new ch,E}();function Tp(E,k){return bn(E.name,k.name)}function ks(E,k){return bn(E,k)}var Td,dh,Sd,kd,Fl,Jl=function(E){return"number"==typeof E?"number:"+bi(E):"string:"+E},uh=function(E){if(E.isLeafNode()){var k=E.val();(0,ee.hu)("string"==typeof k||"number"==typeof k||"object"==typeof k&&(0,ee.r3)(k,".sv"),"Priority must be a string or number.")}else(0,ee.hu)(E===Us||E.isEmpty(),"priority of unexpected type.");(0,ee.hu)(E===Us||E.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zr=function(){function E(k,O){void 0===O&&(O=E.__childrenNodeConstructor.EMPTY_NODE),this.value_=k,this.priorityNode_=O,this.lazyHash_=null,(0,ee.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),uh(this.priorityNode_)}return Object.defineProperty(E,"__childrenNodeConstructor",{get:function(){return Td},set:function(k){Td=k},enumerable:!1,configurable:!0}),E.prototype.isLeafNode=function(){return!0},E.prototype.getPriority=function(){return this.priorityNode_},E.prototype.updatePriority=function(k){return new E(this.value_,k)},E.prototype.getImmediateChild=function(k){return".priority"===k?this.priorityNode_:E.__childrenNodeConstructor.EMPTY_NODE},E.prototype.getChild=function(k){return Yi(k)?this:".priority"===ln(k)?this.priorityNode_:E.__childrenNodeConstructor.EMPTY_NODE},E.prototype.hasChild=function(){return!1},E.prototype.getPredecessorChildName=function(k,O){return null},E.prototype.updateImmediateChild=function(k,O){return".priority"===k?this.updatePriority(O):O.isEmpty()&&".priority"!==k?this:E.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(k,O).updatePriority(this.priorityNode_)},E.prototype.updateChild=function(k,O){var Z=ln(k);return null===Z?O:O.isEmpty()&&".priority"!==Z?this:((0,ee.hu)(".priority"!==Z||1===$t(k),".priority must be the last token in a path"),this.updateImmediateChild(Z,E.__childrenNodeConstructor.EMPTY_NODE.updateChild(cn(k),O)))},E.prototype.isEmpty=function(){return!1},E.prototype.numChildren=function(){return 0},E.prototype.forEachChild=function(k,O){return!1},E.prototype.val=function(k){return k&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},E.prototype.hash=function(){if(null===this.lazyHash_){var k="";this.priorityNode_.isEmpty()||(k+="priority:"+Jl(this.priorityNode_.val())+":");var O=typeof this.value_;k+=O+":",k+="number"===O?bi(this.value_):this.value_,this.lazyHash_=ni(k)}return this.lazyHash_},E.prototype.getValue=function(){return this.value_},E.prototype.compareTo=function(k){return k===E.__childrenNodeConstructor.EMPTY_NODE?1:k instanceof E.__childrenNodeConstructor?-1:((0,ee.hu)(k.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(k))},E.prototype.compareToLeafNode_=function(k){var O=typeof k.value_,Z=typeof this.value_,se=E.VALUE_TYPE_ORDER.indexOf(O),ve=E.VALUE_TYPE_ORDER.indexOf(Z);return(0,ee.hu)(se>=0,"Unknown leaf type: "+O),(0,ee.hu)(ve>=0,"Unknown leaf type: "+Z),se===ve?"object"===Z?0:this.value_<k.value_?-1:this.value_===k.value_?0:1:ve-se},E.prototype.withIndex=function(){return this},E.prototype.isIndexed=function(){return!0},E.prototype.equals=function(k){return k===this||!!k.isLeafNode()&&(this.value_===k.value_&&this.priorityNode_.equals(k.priorityNode_))},E.VALUE_TYPE_ORDER=["object","boolean","number","string"],E}(),mi=new(function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype.compare=function(O,Z){var se=O.node.getPriority(),ve=Z.node.getPriority(),Fe=se.compareTo(ve);return 0===Fe?bn(O.name,Z.name):Fe},k.prototype.isDefinedOn=function(O){return!O.getPriority().isEmpty()},k.prototype.indexedValueChanged=function(O,Z){return!O.getPriority().equals(Z.getPriority())},k.prototype.minPost=function(){return Ss.MIN},k.prototype.maxPost=function(){return new Ss(Hn,new zr("[PRIORITY-POST]",Sd))},k.prototype.makePost=function(O,Z){var se=dh(O);return new Ss(Z,new zr("[PRIORITY-POST]",se))},k.prototype.toString=function(){return".priority"},k}(Cp)),Zc=Math.log(2),Xl=function(){function E(k){this.count=parseInt(Math.log(k+1)/Zc,10),this.current_=this.count-1;var se=parseInt(Array(this.count+1).join("1"),2);this.bits_=k+1&se}return E.prototype.nextBitIsOne=function(){var k=!(this.bits_&1<<this.current_);return this.current_--,k},E}(),qa=function(E,k,O,Z){E.sort(k);var se=function(ut,Dt){var Cn,Yn,zt=Dt-ut;if(0===zt)return null;if(1===zt)return Cn=E[ut],Yn=O?O(Cn):Cn,new Rl(Yn,Cn.node,Rl.BLACK,null,null);var oi=parseInt(zt/2,10)+ut,ki=se(ut,oi),Wi=se(oi+1,Dt);return Cn=E[oi],Yn=O?O(Cn):Cn,new Rl(Yn,Cn.node,Rl.BLACK,ki,Wi)},it=function(ut){for(var Dt=null,zt=null,Cn=E.length,Yn=function(rs,_a){var lc=Cn-rs,sp=Cn;Cn-=rs;var Eh=se(lc+1,sp),ya=E[lc],gu=O?O(ya):ya;oi(new Rl(gu,ya.node,_a,null,Eh))},oi=function(rs){Dt?(Dt.left=rs,Dt=rs):(zt=rs,Dt=rs)},ki=0;ki<ut.count;++ki){var Wi=ut.nextBitIsOne(),rr=Math.pow(2,ut.count-(ki+1));Wi?Yn(rr,Rl.BLACK):(Yn(rr,Rl.BLACK),Yn(rr,Rl.RED))}return zt}(new Xl(E.length));return new ia(Z||k,it)},Wc={},Zs=function(){function E(k,O){this.indexes_=k,this.indexSet_=O}return Object.defineProperty(E,"Default",{get:function(){return(0,ee.hu)(Wc&&mi,"ChildrenNode.ts has not been loaded"),kd=kd||new E({".priority":Wc},{".priority":mi})},enumerable:!1,configurable:!0}),E.prototype.get=function(k){var O=(0,ee.DV)(this.indexes_,k);if(!O)throw new Error("No index defined for "+k);return O instanceof ia?O:null},E.prototype.hasIndex=function(k){return(0,ee.r3)(this.indexSet_,k.toString())},E.prototype.addIndex=function(k,O){(0,ee.hu)(k!==Ql,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var Z=[],se=!1,ve=O.getIterator(Ss.Wrap),Fe=ve.getNext();Fe;)se=se||k.isDefinedOn(Fe.node),Z.push(Fe),Fe=ve.getNext();var it;it=se?qa(Z,k.getCompare()):Wc;var ut=k.toString(),Dt=(0,x.pi)({},this.indexSet_);Dt[ut]=k;var zt=(0,x.pi)({},this.indexes_);return zt[ut]=it,new E(zt,Dt)},E.prototype.addToIndexes=function(k,O){var Z=this;return new E((0,ee.UI)(this.indexes_,function(ve,Fe){var it=(0,ee.DV)(Z.indexSet_,Fe);if((0,ee.hu)(it,"Missing index implementation for "+Fe),ve===Wc){if(it.isDefinedOn(k.node)){for(var ut=[],Dt=O.getIterator(Ss.Wrap),zt=Dt.getNext();zt;)zt.name!==k.name&&ut.push(zt),zt=Dt.getNext();return ut.push(k),qa(ut,it.getCompare())}return Wc}var Cn=O.get(k.name),Yn=ve;return Cn&&(Yn=Yn.remove(new Ss(k.name,Cn))),Yn.insert(k,k.node)}),this.indexSet_)},E.prototype.removeFromIndexes=function(k,O){return new E((0,ee.UI)(this.indexes_,function(se){if(se===Wc)return se;var ve=O.get(k.name);return ve?se.remove(new Ss(k.name,ve)):se}),this.indexSet_)},E}(),lr=function(){function E(k,O,Z){this.children_=k,this.priorityNode_=O,this.indexMap_=Z,this.lazyHash_=null,this.priorityNode_&&uh(this.priorityNode_),this.children_.isEmpty()&&(0,ee.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(E,"EMPTY_NODE",{get:function(){return Fl||(Fl=new E(new ia(ks),null,Zs.Default))},enumerable:!1,configurable:!0}),E.prototype.isLeafNode=function(){return!1},E.prototype.getPriority=function(){return this.priorityNode_||Fl},E.prototype.updatePriority=function(k){return this.children_.isEmpty()?this:new E(this.children_,k,this.indexMap_)},E.prototype.getImmediateChild=function(k){if(".priority"===k)return this.getPriority();var O=this.children_.get(k);return null===O?Fl:O},E.prototype.getChild=function(k){var O=ln(k);return null===O?this:this.getImmediateChild(O).getChild(cn(k))},E.prototype.hasChild=function(k){return null!==this.children_.get(k)},E.prototype.updateImmediateChild=function(k,O){if((0,ee.hu)(O,"We should always be passing snapshot nodes"),".priority"===k)return this.updatePriority(O);var Z=new Ss(k,O),se=void 0,ve=void 0;O.isEmpty()?(se=this.children_.remove(k),ve=this.indexMap_.removeFromIndexes(Z,this.children_)):(se=this.children_.insert(k,O),ve=this.indexMap_.addToIndexes(Z,this.children_));var Fe=se.isEmpty()?Fl:this.priorityNode_;return new E(se,Fe,ve)},E.prototype.updateChild=function(k,O){var Z=ln(k);if(null===Z)return O;(0,ee.hu)(".priority"!==ln(k)||1===$t(k),".priority must be the last token in a path");var se=this.getImmediateChild(Z).updateChild(cn(k),O);return this.updateImmediateChild(Z,se)},E.prototype.isEmpty=function(){return this.children_.isEmpty()},E.prototype.numChildren=function(){return this.children_.count()},E.prototype.val=function(k){if(this.isEmpty())return null;var O={},Z=0,se=0,ve=!0;if(this.forEachChild(mi,function(ut,Dt){O[ut]=Dt.val(k),Z++,ve&&E.INTEGER_REGEXP_.test(ut)?se=Math.max(se,Number(ut)):ve=!1}),!k&&ve&&se<2*Z){var Fe=[];for(var it in O)Fe[it]=O[it];return Fe}return k&&!this.getPriority().isEmpty()&&(O[".priority"]=this.getPriority().val()),O},E.prototype.hash=function(){if(null===this.lazyHash_){var k="";this.getPriority().isEmpty()||(k+="priority:"+Jl(this.getPriority().val())+":"),this.forEachChild(mi,function(O,Z){var se=Z.hash();""!==se&&(k+=":"+O+":"+se)}),this.lazyHash_=""===k?"":ni(k)}return this.lazyHash_},E.prototype.getPredecessorChildName=function(k,O,Z){var se=this.resolveIndex_(Z);if(se){var ve=se.getPredecessorKey(new Ss(k,O));return ve?ve.name:null}return this.children_.getPredecessorKey(k)},E.prototype.getFirstChildName=function(k){var O=this.resolveIndex_(k);if(O){var Z=O.minKey();return Z&&Z.name}return this.children_.minKey()},E.prototype.getFirstChild=function(k){var O=this.getFirstChildName(k);return O?new Ss(O,this.children_.get(O)):null},E.prototype.getLastChildName=function(k){var O=this.resolveIndex_(k);if(O){var Z=O.maxKey();return Z&&Z.name}return this.children_.maxKey()},E.prototype.getLastChild=function(k){var O=this.getLastChildName(k);return O?new Ss(O,this.children_.get(O)):null},E.prototype.forEachChild=function(k,O){var Z=this.resolveIndex_(k);return Z?Z.inorderTraversal(function(se){return O(se.name,se.node)}):this.children_.inorderTraversal(O)},E.prototype.getIterator=function(k){return this.getIteratorFrom(k.minPost(),k)},E.prototype.getIteratorFrom=function(k,O){var Z=this.resolveIndex_(O);if(Z)return Z.getIteratorFrom(k,function(Fe){return Fe});for(var se=this.children_.getIteratorFrom(k.name,Ss.Wrap),ve=se.peek();null!=ve&&O.compare(ve,k)<0;)se.getNext(),ve=se.peek();return se},E.prototype.getReverseIterator=function(k){return this.getReverseIteratorFrom(k.maxPost(),k)},E.prototype.getReverseIteratorFrom=function(k,O){var Z=this.resolveIndex_(O);if(Z)return Z.getReverseIteratorFrom(k,function(Fe){return Fe});for(var se=this.children_.getReverseIteratorFrom(k.name,Ss.Wrap),ve=se.peek();null!=ve&&O.compare(ve,k)>0;)se.getNext(),ve=se.peek();return se},E.prototype.compareTo=function(k){return this.isEmpty()?k.isEmpty()?0:-1:k.isLeafNode()||k.isEmpty()?1:k===_r?-1:0},E.prototype.withIndex=function(k){if(k===Ql||this.indexMap_.hasIndex(k))return this;var O=this.indexMap_.addIndex(k,this.children_);return new E(this.children_,this.priorityNode_,O)},E.prototype.isIndexed=function(k){return k===Ql||this.indexMap_.hasIndex(k)},E.prototype.equals=function(k){if(k===this)return!0;if(k.isLeafNode())return!1;var O=k;if(this.getPriority().equals(O.getPriority())){if(this.children_.count()===O.children_.count()){for(var Z=this.getIterator(mi),se=O.getIterator(mi),ve=Z.getNext(),Fe=se.getNext();ve&&Fe;){if(ve.name!==Fe.name||!ve.node.equals(Fe.node))return!1;ve=Z.getNext(),Fe=se.getNext()}return null===ve&&null===Fe}return!1}return!1},E.prototype.resolveIndex_=function(k){return k===Ql?null:this.indexMap_.get(k.toString())},E.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,E}(),_r=new(function(E){function k(){return E.call(this,new ia(ks),lr.EMPTY_NODE,Zs.Default)||this}return(0,x.ZT)(k,E),k.prototype.compareTo=function(O){return O===this?0:1},k.prototype.equals=function(O){return O===this},k.prototype.getPriority=function(){return this},k.prototype.getImmediateChild=function(O){return lr.EMPTY_NODE},k.prototype.isEmpty=function(){return!1},k}(lr));function os(E,k){if(void 0===k&&(k=null),null===E)return lr.EMPTY_NODE;if("object"==typeof E&&".priority"in E&&(k=E[".priority"]),(0,ee.hu)(null===k||"string"==typeof k||"number"==typeof k||"object"==typeof k&&".sv"in k,"Invalid priority type found: "+typeof k),"object"==typeof E&&".value"in E&&null!==E[".value"]&&(E=E[".value"]),"object"!=typeof E||".sv"in E)return new zr(E,os(k));if(E instanceof Array){var ut=lr.EMPTY_NODE;return Ei(E,function(Dt,zt){if((0,ee.r3)(E,Dt)&&"."!==Dt.substring(0,1)){var Cn=os(zt);(Cn.isLeafNode()||!Cn.isEmpty())&&(ut=ut.updateImmediateChild(Dt,Cn))}}),ut.updatePriority(os(k))}var Z=[],se=!1;if(Ei(E,function(Dt,zt){if("."!==Dt.substring(0,1)){var Cn=os(zt);Cn.isEmpty()||(se=se||!Cn.getPriority().isEmpty(),Z.push(new Ss(Dt,Cn)))}}),0===Z.length)return lr.EMPTY_NODE;var Fe=qa(Z,Tp,function(Dt){return Dt.name},ks);if(se){var it=qa(Z,mi.getCompare());return new lr(Fe,os(k),new Zs({".priority":it},{".priority":mi}))}return new lr(Fe,os(k),Zs.Default)}Object.defineProperties(Ss,{MIN:{value:new Ss(fn,lr.EMPTY_NODE)},MAX:{value:new Ss(Hn,_r)}}),Mp.__EMPTY_NODE=lr.EMPTY_NODE,zr.__childrenNodeConstructor=lr,function(E){Us=E}(_r),function(E){Sd=E}(_r),function(E){dh=E}(os);var $u=function(E){function k(O){var Z=E.call(this)||this;return Z.indexPath_=O,(0,ee.hu)(!Yi(O)&&".priority"!==ln(O),"Can't create PathIndex with empty path or .priority key"),Z}return(0,x.ZT)(k,E),k.prototype.extractChild=function(O){return O.getChild(this.indexPath_)},k.prototype.isDefinedOn=function(O){return!O.getChild(this.indexPath_).isEmpty()},k.prototype.compare=function(O,Z){var se=this.extractChild(O.node),ve=this.extractChild(Z.node),Fe=se.compareTo(ve);return 0===Fe?bn(O.name,Z.name):Fe},k.prototype.makePost=function(O,Z){var se=os(O),ve=lr.EMPTY_NODE.updateChild(this.indexPath_,se);return new Ss(Z,ve)},k.prototype.maxPost=function(){var O=lr.EMPTY_NODE.updateChild(this.indexPath_,_r);return new Ss(Hn,O)},k.prototype.toString=function(){return Ai(this.indexPath_,0).join("/")},k}(Cp),Kl=new(function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype.compare=function(O,Z){var se=O.node.compareTo(Z.node);return 0===se?bn(O.name,Z.name):se},k.prototype.isDefinedOn=function(O){return!0},k.prototype.indexedValueChanged=function(O,Z){return!O.equals(Z)},k.prototype.minPost=function(){return Ss.MIN},k.prototype.maxPost=function(){return Ss.MAX},k.prototype.makePost=function(O,Z){var se=os(O);return new Ss(Z,se)},k.prototype.toString=function(){return".value"},k}(Cp)),Ia="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hh=function(){var E=0,k=[];return function(O){var Z=O===E;E=O;var se,ve=new Array(8);for(se=7;se>=0;se--)ve[se]=Ia.charAt(O%64),O=Math.floor(O/64);(0,ee.hu)(0===O,"Cannot push at time == 0");var Fe=ve.join("");if(Z){for(se=11;se>=0&&63===k[se];se--)k[se]=0;k[se]++}else for(se=0;se<12;se++)k[se]=Math.floor(64*Math.random());for(se=0;se<12;se++)Fe+=Ia.charAt(k[se]);return(0,ee.hu)(20===Fe.length,"nextPushId: Length should be 20."),Fe}}(),Mu=function(E){if(E===""+ss)return"-";var k=qs(E);if(null!=k)return""+(k+1);for(var O=new Array(E.length),Z=0;Z<O.length;Z++)O[Z]=E.charAt(Z);if(O.length<786)return O.push("-"),O.join("");for(var se=O.length-1;se>=0&&"z"===O[se];)se--;if(-1===se)return Hn;var Fe=Ia.charAt(Ia.indexOf(O[se])+1);return O[se]=Fe,O.slice(0,se+1).join("")},zl=function(E){if(E===""+So)return fn;var k=qs(E);if(null!=k)return""+(k-1);for(var O=new Array(E.length),Z=0;Z<O.length;Z++)O[Z]=E.charAt(Z);return"-"===O[O.length-1]?1===O.length?""+ss:(delete O[O.length-1],O.join("")):(O[O.length-1]=Ia.charAt(Ia.indexOf(O[O.length-1])-1),O.join("")+"z".repeat(786-O.length))};function Hh(E){return{type:"value",snapshotNode:E}}function vc(E,k){return{type:"child_added",snapshotNode:k,childName:E}}function sr(E,k){return{type:"child_removed",snapshotNode:k,childName:E}}function Qu(E,k,O){return{type:"child_changed",snapshotNode:k,childName:E,oldSnap:O}}var bc=function(){function E(k){this.index_=k}return E.prototype.updateChild=function(k,O,Z,se,ve,Fe){(0,ee.hu)(k.isIndexed(this.index_),"A node must be indexed if only a child is updated");var it=k.getImmediateChild(O);return it.getChild(se).equals(Z.getChild(se))&&it.isEmpty()===Z.isEmpty()||(null!=Fe&&(Z.isEmpty()?k.hasChild(O)?Fe.trackChildChange(sr(O,it)):(0,ee.hu)(k.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):it.isEmpty()?Fe.trackChildChange(vc(O,Z)):Fe.trackChildChange(Qu(O,Z,it))),k.isLeafNode()&&Z.isEmpty())?k:k.updateImmediateChild(O,Z).withIndex(this.index_)},E.prototype.updateFullNode=function(k,O,Z){return null!=Z&&(k.isLeafNode()||k.forEachChild(mi,function(se,ve){O.hasChild(se)||Z.trackChildChange(sr(se,ve))}),O.isLeafNode()||O.forEachChild(mi,function(se,ve){if(k.hasChild(se)){var Fe=k.getImmediateChild(se);Fe.equals(ve)||Z.trackChildChange(Qu(se,ve,Fe))}else Z.trackChildChange(vc(se,ve))})),O.withIndex(this.index_)},E.prototype.updatePriority=function(k,O){return k.isEmpty()?lr.EMPTY_NODE:k.updatePriority(O)},E.prototype.filtersNodes=function(){return!1},E.prototype.getIndexedFilter=function(){return this},E.prototype.getIndex=function(){return this.index_},E}(),Tu=function(){function E(k){this.indexedFilter_=new bc(k.getIndex()),this.index_=k.getIndex(),this.startPost_=E.getStartPost_(k),this.endPost_=E.getEndPost_(k)}return E.prototype.getStartPost=function(){return this.startPost_},E.prototype.getEndPost=function(){return this.endPost_},E.prototype.matches=function(k){return this.index_.compare(this.getStartPost(),k)<=0&&this.index_.compare(k,this.getEndPost())<=0},E.prototype.updateChild=function(k,O,Z,se,ve,Fe){return this.matches(new Ss(O,Z))||(Z=lr.EMPTY_NODE),this.indexedFilter_.updateChild(k,O,Z,se,ve,Fe)},E.prototype.updateFullNode=function(k,O,Z){O.isLeafNode()&&(O=lr.EMPTY_NODE);var se=O.withIndex(this.index_);se=se.updatePriority(lr.EMPTY_NODE);var ve=this;return O.forEachChild(mi,function(Fe,it){ve.matches(new Ss(Fe,it))||(se=se.updateImmediateChild(Fe,lr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(k,se,Z)},E.prototype.updatePriority=function(k,O){return k},E.prototype.filtersNodes=function(){return!0},E.prototype.getIndexedFilter=function(){return this.indexedFilter_},E.prototype.getIndex=function(){return this.index_},E.getStartPost_=function(k){if(k.hasStart()){var O=k.getIndexStartName();return k.getIndex().makePost(k.getIndexStartValue(),O)}return k.getIndex().minPost()},E.getEndPost_=function(k){if(k.hasEnd()){var O=k.getIndexEndName();return k.getIndex().makePost(k.getIndexEndValue(),O)}return k.getIndex().maxPost()},E}(),nf=function(){function E(k){this.rangedFilter_=new Tu(k),this.index_=k.getIndex(),this.limit_=k.getLimit(),this.reverse_=!k.isViewFromLeft()}return E.prototype.updateChild=function(k,O,Z,se,ve,Fe){return this.rangedFilter_.matches(new Ss(O,Z))||(Z=lr.EMPTY_NODE),k.getImmediateChild(O).equals(Z)?k:k.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(k,O,Z,se,ve,Fe):this.fullLimitUpdateChild_(k,O,Z,ve,Fe)},E.prototype.updateFullNode=function(k,O,Z){var se;if(O.isLeafNode()||O.isEmpty())se=lr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<O.numChildren()&&O.isIndexed(this.index_)){se=lr.EMPTY_NODE.withIndex(this.index_);var ve=void 0;ve=this.reverse_?O.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):O.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Fe=0;ve.hasNext()&&Fe<this.limit_;){var it=ve.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),it)<=0:this.index_.compare(it,this.rangedFilter_.getEndPost())<=0))break;se=se.updateImmediateChild(it.name,it.node),Fe++}}else{se=(se=O.withIndex(this.index_)).updatePriority(lr.EMPTY_NODE);var Dt=void 0,zt=void 0,Cn=void 0;if(ve=void 0,this.reverse_){ve=se.getReverseIterator(this.index_),Dt=this.rangedFilter_.getEndPost(),zt=this.rangedFilter_.getStartPost();var Yn=this.index_.getCompare();Cn=function(rr,rs){return Yn(rs,rr)}}else ve=se.getIterator(this.index_),Dt=this.rangedFilter_.getStartPost(),zt=this.rangedFilter_.getEndPost(),Cn=this.index_.getCompare();Fe=0;for(var oi=!1;ve.hasNext();)it=ve.getNext(),!oi&&Cn(Dt,it)<=0&&(oi=!0),oi&&Fe<this.limit_&&Cn(it,zt)<=0?Fe++:se=se.updateImmediateChild(it.name,lr.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(k,se,Z)},E.prototype.updatePriority=function(k,O){return k},E.prototype.filtersNodes=function(){return!0},E.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},E.prototype.getIndex=function(){return this.index_},E.prototype.fullLimitUpdateChild_=function(k,O,Z,se,ve){var Fe;if(this.reverse_){var it=this.index_.getCompare();Fe=function(_a,lc){return it(lc,_a)}}else Fe=this.index_.getCompare();var ut=k;(0,ee.hu)(ut.numChildren()===this.limit_,"");var Dt=new Ss(O,Z),zt=this.reverse_?ut.getFirstChild(this.index_):ut.getLastChild(this.index_),Cn=this.rangedFilter_.matches(Dt);if(ut.hasChild(O)){for(var Yn=ut.getImmediateChild(O),oi=se.getChildAfterChild(this.index_,zt,this.reverse_);null!=oi&&(oi.name===O||ut.hasChild(oi.name));)oi=se.getChildAfterChild(this.index_,oi,this.reverse_);var ki=null==oi?1:Fe(oi,Dt);if(Cn&&!Z.isEmpty()&&ki>=0)return null!=ve&&ve.trackChildChange(Qu(O,Z,Yn)),ut.updateImmediateChild(O,Z);null!=ve&&ve.trackChildChange(sr(O,Yn));var rr=ut.updateImmediateChild(O,lr.EMPTY_NODE);return null!=oi&&this.rangedFilter_.matches(oi)?(null!=ve&&ve.trackChildChange(vc(oi.name,oi.node)),rr.updateImmediateChild(oi.name,oi.node)):rr}return Z.isEmpty()?k:Cn&&Fe(zt,Dt)>=0?(null!=ve&&(ve.trackChildChange(sr(zt.name,zt.node)),ve.trackChildChange(vc(O,Z))),ut.updateImmediateChild(O,Z).updateImmediateChild(zt.name,lr.EMPTY_NODE)):k},E}(),au=function(){function E(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mi}return E.prototype.hasStart=function(){return this.startSet_},E.prototype.hasStartAfter=function(){return this.startAfterSet_},E.prototype.hasEndBefore=function(){return this.endBeforeSet_},E.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},E.prototype.getIndexStartValue=function(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},E.prototype.getIndexStartName=function(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fn},E.prototype.hasEnd=function(){return this.endSet_},E.prototype.getIndexEndValue=function(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},E.prototype.getIndexEndName=function(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hn},E.prototype.hasLimit=function(){return this.limitSet_},E.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},E.prototype.getLimit=function(){return(0,ee.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},E.prototype.getIndex=function(){return this.index_},E.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},E.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===mi},E.prototype.copy=function(){var k=new E;return k.limitSet_=this.limitSet_,k.limit_=this.limit_,k.startSet_=this.startSet_,k.indexStartValue_=this.indexStartValue_,k.startNameSet_=this.startNameSet_,k.indexStartName_=this.indexStartName_,k.endSet_=this.endSet_,k.indexEndValue_=this.indexEndValue_,k.endNameSet_=this.endNameSet_,k.indexEndName_=this.indexEndName_,k.index_=this.index_,k.viewFrom_=this.viewFrom_,k},E}();function Vh(E,k,O){var Z=E.copy();return Z.startSet_=!0,void 0===k&&(k=null),Z.indexStartValue_=k,null!=O?(Z.startNameSet_=!0,Z.indexStartName_=O):(Z.startNameSet_=!1,Z.indexStartName_=""),Z}function Dd(E,k,O){var Z=E.copy();return Z.endSet_=!0,void 0===k&&(k=null),Z.indexEndValue_=k,void 0!==O?(Z.endNameSet_=!0,Z.indexEndName_=O):(Z.endNameSet_=!1,Z.indexEndName_=""),Z}function La(E,k){var O=E.copy();return O.index_=k,O}function Io(E){var O,k={};return E.isDefault()||(E.index_===mi?O="$priority":E.index_===Kl?O="$value":E.index_===Ql?O="$key":((0,ee.hu)(E.index_ instanceof $u,"Unrecognized index type!"),O=E.index_.toString()),k.orderBy=(0,ee.Pz)(O),E.startSet_&&(k.startAt=(0,ee.Pz)(E.indexStartValue_),E.startNameSet_&&(k.startAt+=","+(0,ee.Pz)(E.indexStartName_))),E.endSet_&&(k.endAt=(0,ee.Pz)(E.indexEndValue_),E.endNameSet_&&(k.endAt+=","+(0,ee.Pz)(E.indexEndName_))),E.limitSet_&&(E.isViewFromLeft()?k.limitToFirst=E.limit_:k.limitToLast=E.limit_)),k}function js(E){var k={};if(E.startSet_&&(k.sp=E.indexStartValue_,E.startNameSet_&&(k.sn=E.indexStartName_)),E.endSet_&&(k.ep=E.indexEndValue_,E.endNameSet_&&(k.en=E.indexEndName_)),E.limitSet_){k.l=E.limit_;var O=E.viewFrom_;""===O&&(O=E.isViewFromLeft()?"l":"r"),k.vf=O}return E.index_!==mi&&(k.i=E.index_.toString()),k}var Uh=function(E){function k(O,Z,se,ve){var Fe=E.call(this)||this;return Fe.repoInfo_=O,Fe.onDataUpdate_=Z,Fe.authTokenProvider_=se,Fe.appCheckTokenProvider_=ve,Fe.log_=zi("p:rest:"),Fe.listens_={},Fe}return(0,x.ZT)(k,E),k.prototype.reportStats=function(O){throw new Error("Method not implemented.")},k.getListenId_=function(O,Z){return void 0!==Z?"tag$"+Z:((0,ee.hu)(O._queryParams.isDefault(),"should have a tag if it's not a default query."),O._path.toString())},k.prototype.listen=function(O,Z,se,ve){var Fe=this,it=O._path.toString();this.log_("Listen called for "+it+" "+O._queryIdentifier);var ut=k.getListenId_(O,se),Dt={};this.listens_[ut]=Dt;var zt=Io(O._queryParams);this.restRequest_(it+".json",zt,function(Cn,Yn){var oi=Yn;404===Cn&&(oi=null,Cn=null),null===Cn&&Fe.onDataUpdate_(it,oi,!1,se),(0,ee.DV)(Fe.listens_,ut)===Dt&&ve(Cn?401===Cn?"permission_denied":"rest_error:"+Cn:"ok",null)})},k.prototype.unlisten=function(O,Z){var se=k.getListenId_(O,Z);delete this.listens_[se]},k.prototype.get=function(O){var Z=this,se=Io(O._queryParams),ve=O._path.toString(),Fe=new ee.BH;return this.restRequest_(ve+".json",se,function(it,ut){var Dt=ut;404===it&&(Dt=null,it=null),null===it?(Z.onDataUpdate_(ve,Dt,!1,null),Fe.resolve(Dt)):Fe.reject(new Error(Dt))}),Fe.promise},k.prototype.refreshAuthToken=function(O){},k.prototype.restRequest_=function(O,Z,se){var ve=this;return void 0===Z&&(Z={}),Z.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(Fe){var it=(0,x.CR)(Fe,2),ut=it[0],Dt=it[1];ut&&ut.accessToken&&(Z.auth=ut.accessToken),Dt&&Dt.token&&(Z.ac=Dt.token);var zt=(ve.repoInfo_.secure?"https://":"http://")+ve.repoInfo_.host+O+"?ns="+ve.repoInfo_.namespace+(0,ee.xO)(Z);ve.log_("Sending REST request for "+zt);var Cn=new XMLHttpRequest;Cn.onreadystatechange=function(){if(se&&4===Cn.readyState){ve.log_("REST Response for "+zt+" received. status:",Cn.status,"response:",Cn.responseText);var Yn=null;if(Cn.status>=200&&Cn.status<300){try{Yn=(0,ee.cI)(Cn.responseText)}catch(oi){jr("Failed to parse JSON response for "+zt+": "+Cn.responseText)}se(null,Yn)}else 401!==Cn.status&&404!==Cn.status&&jr("Got unsuccessful REST response for "+zt+" Status: "+Cn.status),se(Cn.status);se=null}},Cn.open("GET",zt,!0),Cn.send()})},k}(st),Dp=function(){function E(){this.rootNode_=lr.EMPTY_NODE}return E.prototype.getNode=function(k){return this.rootNode_.getChild(k)},E.prototype.updateSnapshot=function(k,O){this.rootNode_=this.rootNode_.updateChild(k,O)},E}();function ll(){return{value:null,children:new Map}}function Gc(E,k,O){if(Yi(k))E.value=O,E.children.clear();else if(null!==E.value)E.value=E.value.updateChild(k,O);else{var Z=ln(k);E.children.has(Z)||E.children.set(Z,ll()),Gc(E.children.get(Z),k=cn(k),O)}}function bo(E,k){if(Yi(k))return E.value=null,E.children.clear(),!0;if(null!==E.value){if(E.value.isLeafNode())return!1;var O=E.value;return E.value=null,O.forEachChild(mi,function(ve,Fe){Gc(E,new Je(ve),Fe)}),bo(E,k)}if(E.children.size>0){var Z=ln(k);return k=cn(k),E.children.has(Z)&&bo(E.children.get(Z),k)&&E.children.delete(Z),0===E.children.size}return!0}function pa(E,k,O){null!==E.value?O(k,E.value):function(E,k){E.children.forEach(function(O,Z){k(Z,O)})}(E,function(Z,se){pa(se,new Je(k.toString()+"/"+Z),O)})}var xc=function(){function E(k){this.collection_=k,this.last_=null}return E.prototype.get=function(){var k=this.collection_.get(),O=(0,x.pi)({},k);return this.last_&&Ei(this.last_,function(Z,se){O[Z]=O[Z]-se}),this.last_=k,O},E}(),Xu=function(){function E(k,O){this.server_=O,this.statsToReport_={},this.statsListener_=new xc(k);var Z=1e4+2e4*Math.random();dr(this.reportStats_.bind(this),Math.floor(Z))}return E.prototype.reportStats_=function(){var k=this,O=this.statsListener_.get(),Z={},se=!1;Ei(O,function(ve,Fe){Fe>0&&(0,ee.r3)(k.statsToReport_,ve)&&(Z[ve]=Fe,se=!0)}),se&&this.server_.reportStats(Z),dr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},E}(),$o=(()=>(function(E){E[E.OVERWRITE=0]="OVERWRITE",E[E.MERGE=1]="MERGE",E[E.ACK_USER_WRITE=2]="ACK_USER_WRITE",E[E.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($o||($o={})),$o))();function ku(E){return{fromUser:!1,fromServer:!0,queryId:E,tagged:!0}}var fh=function(){function E(k,O,Z){this.path=k,this.affectedTree=O,this.revert=Z,this.type=$o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return E.prototype.operationForChild=function(k){if(Yi(this.path)){if(null!=this.affectedTree.value)return(0,ee.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var O=this.affectedTree.subtree(new Je(k));return new E(ft(),O,this.revert)}return(0,ee.hu)(ln(this.path)===k,"operationForChild called for unrelated child."),new E(cn(this.path),this.affectedTree,this.revert)},E}(),fa=function(){function E(k,O){this.source=k,this.path=O,this.type=$o.LISTEN_COMPLETE}return E.prototype.operationForChild=function(k){return Yi(this.path)?new E(this.source,ft()):new E(this.source,cn(this.path))},E}(),sa=function(){function E(k,O,Z){this.source=k,this.path=O,this.snap=Z,this.type=$o.OVERWRITE}return E.prototype.operationForChild=function(k){return Yi(this.path)?new E(this.source,ft(),this.snap.getImmediateChild(k)):new E(this.source,cn(this.path),this.snap)},E}(),Cc=function(){function E(k,O,Z){this.source=k,this.path=O,this.children=Z,this.type=$o.MERGE}return E.prototype.operationForChild=function(k){if(Yi(this.path)){var O=this.children.subtree(new Je(k));return O.isEmpty()?null:O.value?new sa(this.source,ft(),O.value):new E(this.source,ft(),O)}return(0,ee.hu)(ln(this.path)===k,"Can't get a merge for a child not on the path of the operation"),new E(this.source,cn(this.path),this.children)},E.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},E}(),qc=function(){function E(k,O,Z){this.node_=k,this.fullyInitialized_=O,this.filtered_=Z}return E.prototype.isFullyInitialized=function(){return this.fullyInitialized_},E.prototype.isFiltered=function(){return this.filtered_},E.prototype.isCompleteForPath=function(k){if(Yi(k))return this.isFullyInitialized()&&!this.filtered_;var O=ln(k);return this.isCompleteForChild(O)},E.prototype.isCompleteForChild=function(k){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(k)},E.prototype.getNode=function(){return this.node_},E}(),sf=function(k){this.query_=k,this.index_=this.query_._queryParams.getIndex()};function cl(E,k,O,Z,se,ve){var Fe=Z.filter(function(it){return it.type===O});Fe.sort(function(it,ut){return function(E,k,O){if(null==k.childName||null==O.childName)throw(0,ee.g5)("Should only compare child_ events.");var Z=new Ss(k.childName,k.snapshotNode),se=new Ss(O.childName,O.snapshotNode);return E.index_.compare(Z,se)}(E,it,ut)}),Fe.forEach(function(it){var ut=function(E,k,O){return"value"===k.type||"child_removed"===k.type||(k.prevName=O.getPredecessorChildName(k.childName,k.snapshotNode,E.index_)),k}(E,it,ve);se.forEach(function(Dt){Dt.respondsTo(it.type)&&k.push(Dt.createEvent(ut,E.query_))})})}function Jt(E,k){return{eventCache:E,serverCache:k}}function Pn(E,k,O,Z){return Jt(new qc(k,O,Z),E.serverCache)}function _n(E,k,O,Z){return Jt(E.eventCache,new qc(k,O,Z))}function Ii(E){return E.eventCache.isFullyInitialized()?E.eventCache.getNode():null}function or(E){return E.serverCache.isFullyInitialized()?E.serverCache.getNode():null}var Ar,ts=function(){function E(k,O){void 0===O&&(Ar||(Ar=new ia(li)),O=Ar),this.value=k,this.children=O}return E.fromObject=function(k){var O=new E(null);return Ei(k,function(Z,se){O=O.set(new Je(Z),se)}),O},E.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},E.prototype.findRootMostMatchingPathAndValue=function(k,O){if(null!=this.value&&O(this.value))return{path:ft(),value:this.value};if(Yi(k))return null;var Z=ln(k),se=this.children.get(Z);if(null!==se){var ve=se.findRootMostMatchingPathAndValue(cn(k),O);return null!=ve?{path:vi(new Je(Z),ve.path),value:ve.value}:null}return null},E.prototype.findRootMostValueAndPath=function(k){return this.findRootMostMatchingPathAndValue(k,function(){return!0})},E.prototype.subtree=function(k){if(Yi(k))return this;var O=ln(k),Z=this.children.get(O);return null!==Z?Z.subtree(cn(k)):new E(null)},E.prototype.set=function(k,O){if(Yi(k))return new E(O,this.children);var Z=ln(k),ve=(this.children.get(Z)||new E(null)).set(cn(k),O),Fe=this.children.insert(Z,ve);return new E(this.value,Fe)},E.prototype.remove=function(k){if(Yi(k))return this.children.isEmpty()?new E(null):new E(null,this.children);var O=ln(k),Z=this.children.get(O);if(Z){var se=Z.remove(cn(k)),ve=void 0;return ve=se.isEmpty()?this.children.remove(O):this.children.insert(O,se),null===this.value&&ve.isEmpty()?new E(null):new E(this.value,ve)}return this},E.prototype.get=function(k){if(Yi(k))return this.value;var O=ln(k),Z=this.children.get(O);return Z?Z.get(cn(k)):null},E.prototype.setTree=function(k,O){if(Yi(k))return O;var Fe,Z=ln(k),ve=(this.children.get(Z)||new E(null)).setTree(cn(k),O);return Fe=ve.isEmpty()?this.children.remove(Z):this.children.insert(Z,ve),new E(this.value,Fe)},E.prototype.fold=function(k){return this.fold_(ft(),k)},E.prototype.fold_=function(k,O){var Z={};return this.children.inorderTraversal(function(se,ve){Z[se]=ve.fold_(vi(k,se),O)}),O(k,this.value,Z)},E.prototype.findOnPath=function(k,O){return this.findOnPath_(k,ft(),O)},E.prototype.findOnPath_=function(k,O,Z){var se=!!this.value&&Z(O,this.value);if(se)return se;if(Yi(k))return null;var ve=ln(k),Fe=this.children.get(ve);return Fe?Fe.findOnPath_(cn(k),vi(O,ve),Z):null},E.prototype.foreachOnPath=function(k,O){return this.foreachOnPath_(k,ft(),O)},E.prototype.foreachOnPath_=function(k,O,Z){if(Yi(k))return this;this.value&&Z(O,this.value);var se=ln(k),ve=this.children.get(se);return ve?ve.foreachOnPath_(cn(k),vi(O,se),Z):new E(null)},E.prototype.foreach=function(k){this.foreach_(ft(),k)},E.prototype.foreach_=function(k,O){this.children.inorderTraversal(function(Z,se){se.foreach_(vi(k,Z),O)}),this.value&&O(k,this.value)},E.prototype.foreachChild=function(k){this.children.inorderTraversal(function(O,Z){Z.value&&k(O,Z.value)})},E}(),ma=function(){function E(k){this.writeTree_=k}return E.empty=function(){return new E(new ts(null))},E}();function Tc(E,k,O){if(Yi(k))return new ma(new ts(O));var Z=E.writeTree_.findRootMostValueAndPath(k);if(null!=Z){var se=Z.path,ve=Z.value,Fe=Pr(se,k);return ve=ve.updateChild(Fe,O),new ma(E.writeTree_.set(se,ve))}var it=new ts(O),ut=E.writeTree_.setTree(k,it);return new ma(ut)}function Qo(E,k,O){var Z=E;return Ei(O,function(se,ve){Z=Tc(Z,vi(k,se),ve)}),Z}function Eu(E,k){if(Yi(k))return ma.empty();var O=E.writeTree_.setTree(k,new ts(null));return new ma(O)}function gh(E,k){return null!=$a(E,k)}function $a(E,k){var O=E.writeTree_.findRootMostValueAndPath(k);return null!=O?E.writeTree_.get(O.path).getChild(Pr(O.path,k)):null}function lu(E){var k=[],O=E.writeTree_.value;return null!=O?O.isLeafNode()||O.forEachChild(mi,function(Z,se){k.push(new Ss(Z,se))}):E.writeTree_.children.inorderTraversal(function(Z,se){null!=se.value&&k.push(new Ss(Z,se.value))}),k}function Jo(E,k){if(Yi(k))return E;var O=$a(E,k);return new ma(null!=O?new ts(O):E.writeTree_.subtree(k))}function Ir(E){return E.writeTree_.isEmpty()}function Du(E,k){return Ap(ft(),E.writeTree_,k)}function Ap(E,k,O){if(null!=k.value)return O.updateChild(E,k.value);var Z=null;return k.children.inorderTraversal(function(se,ve){".priority"===se?((0,ee.hu)(null!==ve.value,"Priority writes must always be leaf nodes"),Z=ve.value):O=Ap(vi(E,se),ve,O)}),!O.getChild(E).isEmpty()&&null!==Z&&(O=O.updateChild(vi(E,".priority"),Z)),O}function Sc(E,k){return Qc(k,E)}function Au(E,k){if(E.snap)return Gi(E.path,k);for(var O in E.children)if(E.children.hasOwnProperty(O)&&Gi(vi(E.path,O),k))return!0;return!1}function Pp(E){return E.visible}function Qs(E,k,O){for(var Z=ma.empty(),se=0;se<E.length;++se){var ve=E[se];if(k(ve)){var Fe=ve.path,it=void 0;if(ve.snap)Gi(O,Fe)?Z=Tc(Z,it=Pr(O,Fe),ve.snap):Gi(Fe,O)&&(it=Pr(Fe,O),Z=Tc(Z,ft(),ve.snap.getChild(it)));else{if(!ve.children)throw(0,ee.g5)("WriteRecord should have .snap or .children");if(Gi(O,Fe))Z=Qo(Z,it=Pr(O,Fe),ve.children);else if(Gi(Fe,O))if(Yi(it=Pr(Fe,O)))Z=Qo(Z,ft(),ve.children);else{var ut=(0,ee.DV)(ve.children,ln(it));if(ut){var Dt=ut.getChild(cn(it));Z=Tc(Z,ft(),Dt)}}}}}return Z}function Iu(E,k,O,Z,se){if(Z||se){var ut=Jo(E.visibleWrites,k);return!se&&Ir(ut)?O:se||null!=O||gh(ut,ft())?Du(Qs(E.allWrites,function(Yn){return(Yn.visible||se)&&(!Z||!~Z.indexOf(Yn.writeId))&&(Gi(Yn.path,k)||Gi(k,Yn.path))},k),O||lr.EMPTY_NODE):null}var ve=$a(E.visibleWrites,k);if(null!=ve)return ve;var Fe=Jo(E.visibleWrites,k);return Ir(Fe)?O:null!=O||gh(Fe,ft())?Du(Fe,O||lr.EMPTY_NODE):null}function Ld(E,k,O,Z){return Iu(E.writeTree,E.treePath,k,O,Z)}function Yf(E,k){return function(E,k,O){var Z=lr.EMPTY_NODE,se=$a(E.visibleWrites,k);if(se)return se.isLeafNode()||se.forEachChild(mi,function(it,ut){Z=Z.updateImmediateChild(it,ut)}),Z;if(O){var ve=Jo(E.visibleWrites,k);return O.forEachChild(mi,function(it,ut){var Dt=Du(Jo(ve,new Je(it)),ut);Z=Z.updateImmediateChild(it,Dt)}),lu(ve).forEach(function(it){Z=Z.updateImmediateChild(it.name,it.node)}),Z}return lu(Jo(E.visibleWrites,k)).forEach(function(it){Z=Z.updateImmediateChild(it.name,it.node)}),Z}(E.writeTree,E.treePath,k)}function Wh(E,k,O,Z){return function(E,k,O,Z,se){(0,ee.hu)(Z||se,"Either existingEventSnap or existingServerSnap must exist");var ve=vi(k,O);if(gh(E.visibleWrites,ve))return null;var Fe=Jo(E.visibleWrites,ve);return Ir(Fe)?se.getChild(O):Du(Fe,se.getChild(O))}(E.writeTree,E.treePath,k,O,Z)}function Yl(E,k){return function(E,k){return $a(E.visibleWrites,k)}(E.writeTree,vi(E.treePath,k))}function ed(E,k,O){return function(E,k,O,Z){var se=vi(k,O),ve=$a(E.visibleWrites,se);return null!=ve?ve:Z.isCompleteForChild(O)?Du(Jo(E.visibleWrites,se),Z.getNode().getImmediateChild(O)):null}(E.writeTree,E.treePath,k,O)}function Ec(E,k){return Qc(vi(E.treePath,k),E.writeTree)}function Qc(E,k){return{treePath:E,writeTree:k}}var Mi=function(){function E(){this.changeMap=new Map}return E.prototype.trackChildChange=function(k){var O=k.type,Z=k.childName;(0,ee.hu)("child_added"===O||"child_changed"===O||"child_removed"===O,"Only child changes supported for tracking"),(0,ee.hu)(".priority"!==Z,"Only non-priority child changes can be tracked.");var se=this.changeMap.get(Z);if(se){var ve=se.type;if("child_added"===O&&"child_removed"===ve)this.changeMap.set(Z,Qu(Z,k.snapshotNode,se.snapshotNode));else if("child_removed"===O&&"child_added"===ve)this.changeMap.delete(Z);else if("child_removed"===O&&"child_changed"===ve)this.changeMap.set(Z,sr(Z,se.oldSnap));else if("child_changed"===O&&"child_added"===ve)this.changeMap.set(Z,vc(Z,k.snapshotNode));else{if("child_changed"!==O||"child_changed"!==ve)throw(0,ee.g5)("Illegal combination of changes: "+k+" occurred after "+se);this.changeMap.set(Z,Qu(Z,k.snapshotNode,se.oldSnap))}}else this.changeMap.set(Z,k)},E.prototype.getChanges=function(){return Array.from(this.changeMap.values())},E}(),Js=new(function(){function E(){}return E.prototype.getCompleteChild=function(k){return null},E.prototype.getChildAfterChild=function(k,O,Z){return null},E}()),Or=function(){function E(k,O,Z){void 0===Z&&(Z=null),this.writes_=k,this.viewCache_=O,this.optCompleteServerCache_=Z}return E.prototype.getCompleteChild=function(k){var O=this.viewCache_.eventCache;if(O.isCompleteForChild(k))return O.getNode().getImmediateChild(k);var Z=null!=this.optCompleteServerCache_?new qc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ed(this.writes_,k,Z)},E.prototype.getChildAfterChild=function(k,O,Z){var se=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:or(this.viewCache_),ve=function(E,k,O,Z,se,ve){return function(E,k,O,Z,se,ve,Fe){var it,ut=Jo(E.visibleWrites,k),Dt=$a(ut,ft());if(null!=Dt)it=Dt;else{if(null==O)return[];it=Du(ut,O)}if((it=it.withIndex(Fe)).isEmpty()||it.isLeafNode())return[];for(var zt=[],Cn=Fe.getCompare(),Yn=ve?it.getReverseIteratorFrom(Z,Fe):it.getIteratorFrom(Z,Fe),oi=Yn.getNext();oi&&zt.length<se;)0!==Cn(oi,Z)&&zt.push(oi),oi=Yn.getNext();return zt}(E.writeTree,E.treePath,k,O,Z,se,ve)}(this.writes_,se,O,1,Z,k);return 0===ve.length?null:ve[0]},E}();function Ws(E,k,O,Z,se,ve){var Fe=k.eventCache;if(null!=Yl(Z,O))return k;var it=void 0,ut=void 0;if(Yi(O))if((0,ee.hu)(k.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),k.serverCache.isFiltered()){var Dt=or(k),Cn=Yf(Z,Dt instanceof lr?Dt:lr.EMPTY_NODE);it=E.filter.updateFullNode(k.eventCache.getNode(),Cn,ve)}else{var Yn=Ld(Z,or(k));it=E.filter.updateFullNode(k.eventCache.getNode(),Yn,ve)}else{var oi=ln(O);if(".priority"===oi){(0,ee.hu)(1===$t(O),"Can't have a priority with additional path components");var ki=Fe.getNode(),Wi=Wh(Z,O,ki,ut=k.serverCache.getNode());it=null!=Wi?E.filter.updatePriority(ki,Wi):Fe.getNode()}else{var rr=cn(O),rs=void 0;if(Fe.isCompleteForChild(oi)){ut=k.serverCache.getNode();var _a=Wh(Z,O,Fe.getNode(),ut);rs=null!=_a?Fe.getNode().getImmediateChild(oi).updateChild(rr,_a):Fe.getNode().getImmediateChild(oi)}else rs=ed(Z,oi,k.serverCache);it=null!=rs?E.filter.updateChild(Fe.getNode(),oi,rs,rr,se,ve):Fe.getNode()}}return Pn(k,it,Fe.isFullyInitialized()||Yi(O),E.filter.filtersNodes())}function Uo(E,k,O,Z,se,ve,Fe,it){var Dt,ut=k.serverCache,zt=Fe?E.filter:E.filter.getIndexedFilter();if(Yi(O))Dt=zt.updateFullNode(ut.getNode(),Z,null);else if(zt.filtersNodes()&&!ut.isFiltered()){var Cn=ut.getNode().updateChild(O,Z);Dt=zt.updateFullNode(ut.getNode(),Cn,null)}else{var Yn=ln(O);if(!ut.isCompleteForPath(O)&&$t(O)>1)return k;var oi=cn(O),Wi=ut.getNode().getImmediateChild(Yn).updateChild(oi,Z);Dt=".priority"===Yn?zt.updatePriority(ut.getNode(),Wi):zt.updateChild(ut.getNode(),Yn,Wi,oi,Js,null)}var rr=_n(k,Dt,ut.isFullyInitialized()||Yi(O),zt.filtersNodes());return Ws(E,rr,O,se,new Or(se,rr,ve),it)}function Ps(E,k,O,Z,se,ve,Fe){var ut,Dt,it=k.eventCache,zt=new Or(se,k,ve);if(Yi(O))Dt=E.filter.updateFullNode(k.eventCache.getNode(),Z,Fe),ut=Pn(k,Dt,!0,E.filter.filtersNodes());else{var Cn=ln(O);if(".priority"===Cn)Dt=E.filter.updatePriority(k.eventCache.getNode(),Z),ut=Pn(k,Dt,it.isFullyInitialized(),it.isFiltered());else{var Yn=cn(O),oi=it.getNode().getImmediateChild(Cn),ki=void 0;if(Yi(Yn))ki=Z;else{var Wi=zt.getCompleteChild(Cn);ki=null!=Wi?".priority"===Un(Yn)&&Wi.getChild(gr(Yn)).isEmpty()?Wi:Wi.updateChild(Yn,Z):lr.EMPTY_NODE}ut=oi.equals(ki)?k:Pn(k,E.filter.updateChild(it.getNode(),Cn,ki,Yn,zt,Fe),it.isFullyInitialized(),E.filter.filtersNodes())}}return ut}function yl(E,k){return E.eventCache.isCompleteForChild(k)}function Lo(E,k,O){return O.foreach(function(Z,se){k=k.updateChild(Z,se)}),k}function Ja(E,k,O,Z,se,ve,Fe,it){if(k.serverCache.getNode().isEmpty()&&!k.serverCache.isFullyInitialized())return k;var Dt,ut=k;Dt=Yi(O)?Z:new ts(null).setTree(O,Z);var zt=k.serverCache.getNode();return Dt.children.inorderTraversal(function(Cn,Yn){if(zt.hasChild(Cn)){var ki=Lo(0,k.serverCache.getNode().getImmediateChild(Cn),Yn);ut=Uo(E,ut,new Je(Cn),ki,se,ve,Fe,it)}}),Dt.children.inorderTraversal(function(Cn,Yn){var oi=!k.serverCache.isCompleteForChild(Cn)&&void 0===Yn.value;if(!zt.hasChild(Cn)&&!oi){var Wi=Lo(0,k.serverCache.getNode().getImmediateChild(Cn),Yn);ut=Uo(E,ut,new Je(Cn),Wi,se,ve,Fe,it)}}),ut}var yh=function(){function E(k,O){this.query_=k,this.eventRegistrations_=[];var Z=this.query_._queryParams,se=new bc(Z.getIndex()),ve=function(E){return E.loadsAllData()?new bc(E.getIndex()):E.hasLimit()?new nf(E):new Tu(E)}(Z);this.processor_=function(E){return{filter:E}}(ve);var Fe=O.serverCache,it=O.eventCache,ut=se.updateFullNode(lr.EMPTY_NODE,Fe.getNode(),null),Dt=ve.updateFullNode(lr.EMPTY_NODE,it.getNode(),null),zt=new qc(ut,Fe.isFullyInitialized(),se.filtersNodes()),Cn=new qc(Dt,it.isFullyInitialized(),ve.filtersNodes());this.viewCache_=Jt(Cn,zt),this.eventGenerator_=new sf(this.query_)}return Object.defineProperty(E.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),E}();function du(E,k){var O=or(E.viewCache_);return O&&(E.query._queryParams.loadsAllData()||!Yi(k)&&!O.getImmediateChild(ln(k)).isEmpty())?O.getChild(k):null}function Dc(E){return 0===E.eventRegistrations_.length}function rt(E,k,O){var Z=[];if(O){(0,ee.hu)(null==k,"A cancel should cancel all event registrations.");var se=E.query._path;E.eventRegistrations_.forEach(function(ut){var Dt=ut.createCancelEvent(O,se);Dt&&Z.push(Dt)})}if(k){for(var ve=[],Fe=0;Fe<E.eventRegistrations_.length;++Fe){var it=E.eventRegistrations_[Fe];if(it.matches(k)){if(k.hasAnyCallback()){ve=ve.concat(E.eventRegistrations_.slice(Fe+1));break}}else ve.push(it)}E.eventRegistrations_=ve}else E.eventRegistrations_=[];return Z}function Ac(E,k,O,Z){k.type===$o.MERGE&&null!==k.source.queryId&&((0,ee.hu)(or(E.viewCache_),"We should always have a full cache before handling merges"),(0,ee.hu)(Ii(E.viewCache_),"Missing event cache, even though we have a server cache"));var se=E.viewCache_,ve=function(E,k,O,Z,se){var Fe,it,ve=new Mi;if(O.type===$o.OVERWRITE){var ut=O;ut.source.fromUser?Fe=Ps(E,k,ut.path,ut.snap,Z,se,ve):((0,ee.hu)(ut.source.fromServer,"Unknown source."),it=ut.source.tagged||k.serverCache.isFiltered()&&!Yi(ut.path),Fe=Uo(E,k,ut.path,ut.snap,Z,se,it,ve))}else if(O.type===$o.MERGE){var Dt=O;Dt.source.fromUser?Fe=function(E,k,O,Z,se,ve,Fe){var it=k;return Z.foreach(function(ut,Dt){var zt=vi(O,ut);yl(k,ln(zt))&&(it=Ps(E,it,zt,Dt,se,ve,Fe))}),Z.foreach(function(ut,Dt){var zt=vi(O,ut);yl(k,ln(zt))||(it=Ps(E,it,zt,Dt,se,ve,Fe))}),it}(E,k,Dt.path,Dt.children,Z,se,ve):((0,ee.hu)(Dt.source.fromServer,"Unknown source."),it=Dt.source.tagged||k.serverCache.isFiltered(),Fe=Ja(E,k,Dt.path,Dt.children,Z,se,it,ve))}else if(O.type===$o.ACK_USER_WRITE){var zt=O;Fe=zt.revert?function(E,k,O,Z,se,ve){var Fe;if(null!=Yl(Z,O))return k;var it=new Or(Z,k,se),ut=k.eventCache.getNode(),Dt=void 0;if(Yi(O)||".priority"===ln(O)){var zt=void 0;if(k.serverCache.isFullyInitialized())zt=Ld(Z,or(k));else{var Cn=k.serverCache.getNode();(0,ee.hu)(Cn instanceof lr,"serverChildren would be complete if leaf node"),zt=Yf(Z,Cn)}Dt=E.filter.updateFullNode(ut,zt=zt,ve)}else{var Yn=ln(O),oi=ed(Z,Yn,k.serverCache);null==oi&&k.serverCache.isCompleteForChild(Yn)&&(oi=ut.getImmediateChild(Yn)),(Dt=null!=oi?E.filter.updateChild(ut,Yn,oi,cn(O),it,ve):k.eventCache.getNode().hasChild(Yn)?E.filter.updateChild(ut,Yn,lr.EMPTY_NODE,cn(O),it,ve):ut).isEmpty()&&k.serverCache.isFullyInitialized()&&(Fe=Ld(Z,or(k))).isLeafNode()&&(Dt=E.filter.updateFullNode(Dt,Fe,ve))}return Fe=k.serverCache.isFullyInitialized()||null!=Yl(Z,ft()),Pn(k,Dt,Fe,E.filter.filtersNodes())}(E,k,zt.path,Z,se,ve):function(E,k,O,Z,se,ve,Fe){if(null!=Yl(se,O))return k;var it=k.serverCache.isFiltered(),ut=k.serverCache;if(null!=Z.value){if(Yi(O)&&ut.isFullyInitialized()||ut.isCompleteForPath(O))return Uo(E,k,O,ut.getNode().getChild(O),se,ve,it,Fe);if(Yi(O)){var Dt=new ts(null);return ut.getNode().forEachChild(Ql,function(Cn,Yn){Dt=Dt.set(new Je(Cn),Yn)}),Ja(E,k,O,Dt,se,ve,it,Fe)}return k}var zt=new ts(null);return Z.foreach(function(Cn,Yn){var oi=vi(O,Cn);ut.isCompleteForPath(oi)&&(zt=zt.set(Cn,ut.getNode().getChild(oi)))}),Ja(E,k,O,zt,se,ve,it,Fe)}(E,k,zt.path,zt.affectedTree,Z,se,ve)}else{if(O.type!==$o.LISTEN_COMPLETE)throw(0,ee.g5)("Unknown operation type: "+O.type);Fe=function(E,k,O,Z,se){var ve=k.serverCache;return Ws(E,_n(k,ve.getNode(),ve.isFullyInitialized()||Yi(O),ve.isFiltered()),O,Z,Js,se)}(E,k,O.path,Z,ve)}var Cn=ve.getChanges();return function(E,k,O){var Z=k.eventCache;if(Z.isFullyInitialized()){var se=Z.getNode().isLeafNode()||Z.getNode().isEmpty(),ve=Ii(E);(O.length>0||!E.eventCache.isFullyInitialized()||se&&!Z.getNode().equals(ve)||!Z.getNode().getPriority().equals(ve.getPriority()))&&O.push(Hh(Ii(k)))}}(k,Fe,Cn),{viewCache:Fe,changes:Cn}}(E.processor_,se,k,O,Z);return function(E,k){(0,ee.hu)(k.eventCache.getNode().isIndexed(E.filter.getIndex()),"Event snap not indexed"),(0,ee.hu)(k.serverCache.getNode().isIndexed(E.filter.getIndex()),"Server snap not indexed")}(E.processor_,ve.viewCache),(0,ee.hu)(ve.viewCache.serverCache.isFullyInitialized()||!se.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),E.viewCache_=ve.viewCache,Xa(E,ve.changes,ve.viewCache.eventCache.getNode(),null)}function Xa(E,k,O,Z){return function(E,k,O,Z){var se=[],ve=[];return k.forEach(function(Fe){"child_changed"===Fe.type&&E.index_.indexedValueChanged(Fe.oldSnap,Fe.snapshotNode)&&ve.push(function(E,k){return{type:"child_moved",snapshotNode:k,childName:E}}(Fe.childName,Fe.snapshotNode))}),cl(E,se,"child_removed",k,Z,O),cl(E,se,"child_added",k,Z,O),cl(E,se,"child_moved",ve,Z,O),cl(E,se,"child_changed",k,Z,O),cl(E,se,"value",k,Z,O),se}(E.eventGenerator_,k,O,Z?[Z]:E.eventRegistrations_)}var as,T,Fp=function(){this.views=new Map};function id(E,k,O,Z){var se,ve,Fe=k.source.queryId;if(null!==Fe){var it=E.views.get(Fe);return(0,ee.hu)(null!=it,"SyncTree gave us an op for an invalid query."),Ac(it,k,O,Z)}var ut=[];try{for(var Dt=(0,x.XA)(E.views.values()),zt=Dt.next();!zt.done;zt=Dt.next())ut=ut.concat(Ac(it=zt.value,k,O,Z))}catch(Cn){se={error:Cn}}finally{try{zt&&!zt.done&&(ve=Dt.return)&&ve.call(Dt)}finally{if(se)throw se.error}}return ut}function Ba(E,k,O,Z,se){var Fe=E.views.get(k._queryIdentifier);if(!Fe){var it=Ld(O,se?Z:null),ut=!1;it?ut=!0:Z instanceof lr?(it=Yf(O,Z),ut=!1):(it=lr.EMPTY_NODE,ut=!1);var Dt=Jt(new qc(it,ut,!1),new qc(Z,se,!1));return new yh(k,Dt)}return Fe}function Gh(E){var k,O,Z=[];try{for(var se=(0,x.XA)(E.views.values()),ve=se.next();!ve.done;ve=se.next()){var Fe=ve.value;Fe.query._queryParams.loadsAllData()||Z.push(Fe)}}catch(it){k={error:it}}finally{try{ve&&!ve.done&&(O=se.return)&&O.call(se)}finally{if(k)throw k.error}}return Z}function Ka(E,k){var O,Z,se=null;try{for(var ve=(0,x.XA)(E.views.values()),Fe=ve.next();!Fe.done;Fe=ve.next())se=se||du(Fe.value,k)}catch(ut){O={error:ut}}finally{try{Fe&&!Fe.done&&(Z=ve.return)&&Z.call(ve)}finally{if(O)throw O.error}}return se}function qh(E,k){return k._queryParams.loadsAllData()?m(E):E.views.get(k._queryIdentifier)}function Np(E,k){return null!=qh(E,k)}function R(E){return null!=m(E)}function m(E){var k,O;try{for(var Z=(0,x.XA)(E.views.values()),se=Z.next();!se.done;se=Z.next()){var ve=se.value;if(ve.query._queryParams.loadsAllData())return ve}}catch(Fe){k={error:Fe}}finally{try{se&&!se.done&&(O=Z.return)&&O.call(Z)}finally{if(k)throw k.error}}return null}var X=1,ce=function(k){this.listenProvider_=k,this.syncPointTree_=new ts(null),this.pendingWriteTree_={visibleWrites:ma.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ge(E,k,O,Z,se){return function(E,k,O,Z,se){(0,ee.hu)(Z>E.lastWriteId,"Stacking an older write on top of newer ones"),void 0===se&&(se=!0),E.allWrites.push({path:k,snap:O,writeId:Z,visible:se}),se&&(E.visibleWrites=Tc(E.visibleWrites,k,O)),E.lastWriteId=Z}(E.pendingWriteTree_,k,O,Z,se),se?Ut(E,new sa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},k,O)):[]}function be(E,k,O){void 0===O&&(O=!1);var Z=function(E,k){for(var O=0;O<E.allWrites.length;O++){var Z=E.allWrites[O];if(Z.writeId===k)return Z}return null}(E.pendingWriteTree_,k);if(function(E,k){var O=E.allWrites.findIndex(function(Dt){return Dt.writeId===k});(0,ee.hu)(O>=0,"removeWrite called with nonexistent writeId.");var Z=E.allWrites[O];E.allWrites.splice(O,1);for(var se=Z.visible,ve=!1,Fe=E.allWrites.length-1;se&&Fe>=0;){var it=E.allWrites[Fe];it.visible&&(Fe>=O&&Au(it,Z.path)?se=!1:Gi(Z.path,it.path)&&(ve=!0)),Fe--}return!!se&&(ve?(function(E){E.visibleWrites=Qs(E.allWrites,Pp,ft()),E.lastWriteId=E.allWrites.length>0?E.allWrites[E.allWrites.length-1].writeId:-1}(E),!0):(Z.snap?E.visibleWrites=Eu(E.visibleWrites,Z.path):Ei(Z.children,function(Dt){E.visibleWrites=Eu(E.visibleWrites,vi(Z.path,Dt))}),!0))}(E.pendingWriteTree_,k)){var ve=new ts(null);return null!=Z.snap?ve=ve.set(ft(),!0):Ei(Z.children,function(Fe){ve=ve.set(new Je(Fe),!0)}),Ut(E,new fh(Z.path,ve,O))}return[]}function Ue(E,k,O){return Ut(E,new sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k,O))}function pt(E,k,O,Z){var se=k._path,ve=E.syncPointTree_.get(se),Fe=[];if(ve&&("default"===k._queryIdentifier||Np(ve,k))){var it=function(E,k,O,Z){var se,ve,Fe=k._queryIdentifier,it=[],ut=[],Dt=R(E);if("default"===Fe)try{for(var zt=(0,x.XA)(E.views.entries()),Cn=zt.next();!Cn.done;Cn=zt.next()){var ki,Yn=(0,x.CR)(Cn.value,2),oi=Yn[0];ut=ut.concat(rt(ki=Yn[1],O,Z)),Dc(ki)&&(E.views.delete(oi),ki.query._queryParams.loadsAllData()||it.push(ki.query))}}catch(Wi){se={error:Wi}}finally{try{Cn&&!Cn.done&&(ve=zt.return)&&ve.call(zt)}finally{if(se)throw se.error}}else(ki=E.views.get(Fe))&&(ut=ut.concat(rt(ki,O,Z)),Dc(ki)&&(E.views.delete(Fe),ki.query._queryParams.loadsAllData()||it.push(ki.query)));return Dt&&!R(E)&&it.push(new((0,ee.hu)(as,"Reference.ts has not been loaded"),as)(k._repo,k._path)),{removed:it,events:ut}}(ve,k,O,Z);(function(E){return 0===E.views.size})(ve)&&(E.syncPointTree_=E.syncPointTree_.remove(se));var ut=it.removed;Fe=it.events;var Dt=-1!==ut.findIndex(function(_a){return _a._queryParams.loadsAllData()}),zt=E.syncPointTree_.findOnPath(se,function(_a,lc){return R(lc)});if(Dt&&!zt){var Cn=E.syncPointTree_.subtree(se);if(!Cn.isEmpty())for(var Yn=function(E){return E.fold(function(k,O,Z){if(O&&R(O))return[m(O)];var ve=[];return O&&(ve=Gh(O)),Ei(Z,function(Fe,it){ve=ve.concat(it)}),ve})}(Cn),oi=0;oi<Yn.length;++oi){var ki=Yn[oi],Wi=ki.query,rr=Sn(E,ki);E.listenProvider_.startListening(ti(Wi),An(E,Wi),rr.hashFn,rr.onComplete)}}!zt&&ut.length>0&&!Z&&(Dt?E.listenProvider_.stopListening(ti(k),null):ut.forEach(function(_a){var lc=E.queryToTagMap.get(Fn(_a));E.listenProvider_.stopListening(ti(_a),lc)})),function(E,k){for(var O=0;O<k.length;++O){var Z=k[O];if(!Z._queryParams.loadsAllData()){var se=Fn(Z),ve=E.queryToTagMap.get(se);E.queryToTagMap.delete(se),E.tagToQueryMap.delete(ve)}}}(E,ut)}return Fe}function lt(E,k,O){var Z=k._path,se=null,ve=!1;E.syncPointTree_.foreachOnPath(Z,function(Wi,rr){var rs=Pr(Wi,Z);se=se||Ka(rr,rs),ve=ve||R(rr)});var it,Fe=E.syncPointTree_.get(Z);Fe?(ve=ve||R(Fe),se=se||Ka(Fe,ft())):(Fe=new Fp,E.syncPointTree_=E.syncPointTree_.set(Z,Fe)),null!=se?it=!0:(it=!1,se=lr.EMPTY_NODE,E.syncPointTree_.subtree(Z).foreachChild(function(Wi,rr){var rs=Ka(rr,ft());rs&&(se=se.updateImmediateChild(Wi,rs))}));var Dt=Np(Fe,k);if(!Dt&&!k._queryParams.loadsAllData()){var zt=Fn(k);(0,ee.hu)(!E.queryToTagMap.has(zt),"View does not exist, but we have a tag");var Cn=X++;E.queryToTagMap.set(zt,Cn),E.tagToQueryMap.set(Cn,zt)}var oi=function(E,k,O,Z,se,ve){var Fe=Ba(E,k,Z,se,ve);return E.views.has(k._queryIdentifier)||E.views.set(k._queryIdentifier,Fe),function(E,k){E.eventRegistrations_.push(k)}(Fe,O),function(E,k){var O=E.viewCache_.eventCache,Z=[];return O.getNode().isLeafNode()||O.getNode().forEachChild(mi,function(ve,Fe){Z.push(vc(ve,Fe))}),O.isFullyInitialized()&&Z.push(Hh(O.getNode())),Xa(E,Z,O.getNode(),k)}(Fe,O)}(Fe,k,O,Sc(E.pendingWriteTree_,Z),se,it);if(!Dt&&!ve){var ki=qh(Fe,k);oi=oi.concat(function(E,k,O){var Z=k._path,se=An(E,k),ve=Sn(E,O),Fe=E.listenProvider_.startListening(ti(k),se,ve.hashFn,ve.onComplete),it=E.syncPointTree_.subtree(Z);if(se)(0,ee.hu)(!R(it.value),"If we're adding a query, it shouldn't be shadowed");else for(var ut=it.fold(function(Cn,Yn,oi){if(!Yi(Cn)&&Yn&&R(Yn))return[m(Yn).query];var ki=[];return Yn&&(ki=ki.concat(Gh(Yn).map(function(Wi){return Wi.query}))),Ei(oi,function(Wi,rr){ki=ki.concat(rr)}),ki}),Dt=0;Dt<ut.length;++Dt){var zt=ut[Dt];E.listenProvider_.stopListening(ti(zt),An(E,zt))}return Fe}(E,k,ki))}return oi}function wt(E,k,O){var se=E.pendingWriteTree_,ve=E.syncPointTree_.findOnPath(k,function(Fe,it){var Dt=Ka(it,Pr(Fe,k));if(Dt)return Dt});return Iu(se,k,ve,O,!0)}function Ut(E,k){return St(k,E.syncPointTree_,null,Sc(E.pendingWriteTree_,ft()))}function St(E,k,O,Z){if(Yi(E.path))return At(E,k,O,Z);var se=k.get(ft());null==O&&null!=se&&(O=Ka(se,ft()));var ve=[],Fe=ln(E.path),it=E.operationForChild(Fe),ut=k.children.get(Fe);if(ut&&it){var Dt=O?O.getImmediateChild(Fe):null,zt=Ec(Z,Fe);ve=ve.concat(St(it,ut,Dt,zt))}return se&&(ve=ve.concat(id(se,E,Z,O))),ve}function At(E,k,O,Z){var se=k.get(ft());null==O&&null!=se&&(O=Ka(se,ft()));var ve=[];return k.children.inorderTraversal(function(Fe,it){var ut=O?O.getImmediateChild(Fe):null,Dt=Ec(Z,Fe),zt=E.operationForChild(Fe);zt&&(ve=ve.concat(At(zt,it,ut,Dt)))}),se&&(ve=ve.concat(id(se,E,Z,O))),ve}function Sn(E,k){var O=k.query,Z=An(E,O);return{hashFn:function(){return(function(E){return E.viewCache_.serverCache.getNode()}(k)||lr.EMPTY_NODE).hash()},onComplete:function(se){if("ok"===se)return Z?function(E,k,O){var Z=Lt(E,O);if(Z){var se=ii(Z),ve=se.path,Fe=se.queryId,it=Pr(ve,k);return Bn(E,ve,new fa(ku(Fe),it))}return[]}(E,O._path,Z):function(E,k){return Ut(E,new fa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k))}(E,O._path);var ve=function(E,k){var O="Unknown Error";"too_big"===E?O="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===E?O="Client doesn't have permission to access the desired data.":"unavailable"===E&&(O="The service is unavailable");var Z=new Error(E+" at "+k._path.toString()+": "+O);return Z.code=E.toUpperCase(),Z}(se,O);return pt(E,O,null,ve)}}}function An(E,k){var O=Fn(k);return E.queryToTagMap.get(O)}function Fn(E){return E._path.toString()+"$"+E._queryIdentifier}function Lt(E,k){return E.tagToQueryMap.get(k)}function ii(E){var k=E.indexOf("$");return(0,ee.hu)(-1!==k&&k<E.length-1,"Bad queryKey."),{queryId:E.substr(k+1),path:new Je(E.substr(0,k))}}function Bn(E,k,O){var Z=E.syncPointTree_.get(k);return(0,ee.hu)(Z,"Missing sync point for query tag that we're tracking"),id(Z,O,Sc(E.pendingWriteTree_,k),null)}function ti(E){return E._queryParams.loadsAllData()&&!E._queryParams.isDefault()?new((0,ee.hu)(T,"Reference.ts has not been loaded"),T)(E._repo,E._path):E}var ns=function(){function E(k){this.node_=k}return E.prototype.getImmediateChild=function(k){return new E(this.node_.getImmediateChild(k))},E.prototype.node=function(){return this.node_},E}(),ps=function(){function E(k,O){this.syncTree_=k,this.path_=O}return E.prototype.getImmediateChild=function(k){var O=vi(this.path_,k);return new E(this.syncTree_,O)},E.prototype.node=function(){return wt(this.syncTree_,this.path_)},E}(),Mr=function(E,k,O){return E&&"object"==typeof E?((0,ee.hu)(".sv"in E,"Unexpected leaf node or priority contents"),"string"==typeof E[".sv"]?Es(E[".sv"],k,O):"object"==typeof E[".sv"]?ao(E[".sv"],k):void(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(E,null,2))):E},Es=function(E,k,O){switch(E){case"timestamp":return O.timestamp;default:(0,ee.hu)(!1,"Unexpected server value: "+E)}},ao=function(E,k,O){E.hasOwnProperty("increment")||(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(E,null,2));var Z=E.increment;"number"!=typeof Z&&(0,ee.hu)(!1,"Unexpected increment value: "+Z);var se=k.node();if((0,ee.hu)(null!=se,"Expected ChildrenNode.EMPTY_NODE for nulls"),!se.isLeafNode())return Z;var Fe=se.getValue();return"number"!=typeof Fe?Z:Fe+Z},Hl=function(E,k,O,Z){return ys(k,new ps(O,E),Z)},Ya=function(E,k,O){return ys(E,new ns(k),O)};function ys(E,k,O){var ve,Z=E.getPriority().val(),se=Mr(Z,k.getImmediateChild(".priority"),O);if(E.isLeafNode()){var Fe=E,it=Mr(Fe.getValue(),k,O);return it!==Fe.getValue()||se!==Fe.getPriority().val()?new zr(it,os(se)):E}var ut=E;return ve=ut,se!==ut.getPriority().val()&&(ve=ve.updatePriority(new zr(se))),ut.forEachChild(mi,function(Dt,zt){var Cn=ys(zt,k.getImmediateChild(Dt),O);Cn!==zt&&(ve=ve.updateImmediateChild(Dt,Cn))}),ve}var Ko=function(k,O,Z){void 0===k&&(k=""),void 0===O&&(O=null),void 0===Z&&(Z={children:{},childCount:0}),this.name=k,this.parent=O,this.node=Z};function vl(E,k){for(var O=k instanceof Je?k:new Je(k),Z=E,se=ln(O);null!==se;){var ve=(0,ee.DV)(Z.node.children,se)||{children:{},childCount:0};Z=new Ko(se,Z,ve),se=ln(O=cn(O))}return Z}function Vi(E){return E.node.value}function Gs(E,k){E.node.value=k,bl(E)}function is(E){return E.node.childCount>0}function xo(E,k){Ei(E.node.children,function(O,Z){k(new Ko(O,E,Z))})}function $r(E,k,O,Z){O&&!Z&&k(E),xo(E,function(se){$r(se,k,!0,Z)}),O&&Z&&k(E)}function dl(E){return new Je(null===E.parent?E.name:dl(E.parent)+"/"+E.name)}function bl(E){null!==E.parent&&function(E,k,O){var Z=function(E){return void 0===Vi(E)&&!is(E)}(O),se=(0,ee.r3)(E.node.children,k);Z&&se?(delete E.node.children[k],E.node.childCount--,bl(E)):!Z&&!se&&(E.node.children[k]=O.node,E.node.childCount++,bl(E))}(E.parent,E.name,E)}var Ha=/[\[\].#$\/\u0000-\u001F\u007F]/,rd=/[\[\].#$\u0000-\u001F\u007F]/,Pa=10485760,Pd=function(E){return"string"==typeof E&&0!==E.length&&!Ha.test(E)},Rr=function(E){return"string"==typeof E&&0!==E.length&&!rd.test(E)},ic=function(E){return null===E||"string"==typeof E||"number"==typeof E&&!dn(E)||E&&"object"==typeof E&&(0,ee.r3)(E,".sv")},Zo=function(E,k,O,Z){Z&&void 0===k||fs((0,ee.gK)(E,"value"),k,O)},fs=function(E,k,O){var Z=O instanceof Je?new qr(O,E):O;if(void 0===k)throw new Error(E+"contains undefined "+_o(Z));if("function"==typeof k)throw new Error(E+"contains a function "+_o(Z)+" with contents = "+k.toString());if(dn(k))throw new Error(E+"contains "+k.toString()+" "+_o(Z));if("string"==typeof k&&k.length>Pa/3&&(0,ee.ug)(k)>Pa)throw new Error(E+"contains a string greater than "+Pa+" utf8 bytes "+_o(Z)+" ('"+k.substring(0,50)+"...')");if(k&&"object"==typeof k){var se=!1,ve=!1;if(Ei(k,function(Fe,it){if(".value"===Fe)se=!0;else if(".priority"!==Fe&&".sv"!==Fe&&(ve=!0,!Pd(Fe)))throw new Error(E+" contains an invalid key ("+Fe+") "+_o(Z)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(E,k){E.parts_.length>0&&(E.byteLength_+=1),E.parts_.push(k),E.byteLength_+=(0,ee.ug)(k),da(E)})(Z,Fe),fs(E,it,Z),function(E){var k=E.parts_.pop();E.byteLength_-=(0,ee.ug)(k),E.parts_.length>0&&(E.byteLength_-=1)}(Z)}),se&&ve)throw new Error(E+' contains ".value" child '+_o(Z)+" in addition to actual children.")}},G=function(E,k,O,Z){if(!Z||void 0!==k){var se=(0,ee.gK)(E,"values");if(!k||"object"!=typeof k||Array.isArray(k))throw new Error(se+" must be an object containing the children to replace.");var ve=[];Ei(k,function(Fe,it){var ut=new Je(Fe);if(fs(se,it,vi(O,ut)),".priority"===Un(ut)&&!ic(it))throw new Error(se+"contains an invalid value for '"+ut.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ve.push(ut)}),function(E,k){var O,Z;for(O=0;O<k.length;O++)for(var se=Ai(Z=k[O]),ve=0;ve<se.length;ve++)if((".priority"!==se[ve]||ve!==se.length-1)&&!Pd(se[ve]))throw new Error(E+"contains an invalid key ("+se[ve]+") in path "+Z.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');k.sort(oo);var Fe=null;for(O=0;O<k.length;O++){if(Z=k[O],null!==Fe&&Gi(Fe,Z))throw new Error(E+"contains a path "+Fe.toString()+" that is ancestor of another path "+Z.toString());Fe=Z}}(se,ve)}},le=function(E,k,O){if(!O||void 0!==k){if(dn(k))throw new Error((0,ee.gK)(E,"priority")+"is "+k.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ic(k))throw new Error((0,ee.gK)(E,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ye=function(E,k,O){if(!O||void 0!==k)switch(k){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ee.gK)(E,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ne=function(E,k,O,Z){if(!(Z&&void 0===O||Pd(O)))throw new Error((0,ee.gK)(E,k)+'was an invalid key = "'+O+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nt=function(E,k,O,Z){if(!(Z&&void 0===O||Rr(O)))throw new Error((0,ee.gK)(E,k)+'was an invalid path = "'+O+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},En=function(E,k){if(".info"===ln(k))throw new Error(E+" failed = Can't modify data under /.info/")},Xi=function(E,k){var O=k.path.toString();if("string"!=typeof k.repoInfo.host||0===k.repoInfo.host.length||!Pd(k.repoInfo.namespace)&&"localhost"!==k.repoInfo.host.split(":")[0]||0!==O.length&&!function(E){return E&&(E=E.replace(/^\/*\.info(\/|$)/,"/")),Rr(E)}(O))throw new Error((0,ee.gK)(E,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Lr=function(E,k,O,Z){if((!Z||void 0!==O)&&"boolean"!=typeof O)throw new Error((0,ee.gK)(E,k)+"must be a boolean.")},to=function(){this.eventLists_=[],this.recursionDepth_=0};function el(E,k){for(var O=null,Z=0;Z<k.length;Z++){var se=k[Z],ve=se.getPath();null!==O&&!Ms(ve,O.path)&&(E.eventLists_.push(O),O=null),null===O&&(O={events:[],path:ve}),O.events.push(se)}O&&E.eventLists_.push(O)}function Va(E,k,O){el(E,O),af(E,function(Z){return Ms(Z,k)})}function Rs(E,k,O){el(E,O),af(E,function(Z){return Gi(Z,k)||Gi(k,Z)})}function af(E,k){E.recursionDepth_++;for(var O=!0,Z=0;Z<E.eventLists_.length;Z++){var se=E.eventLists_[Z];se&&(k(se.path)?(wm(E.eventLists_[Z]),E.eventLists_[Z]=null):O=!1)}O&&(E.eventLists_=[]),E.recursionDepth_--}function wm(E){for(var k=0;k<E.events.length;k++){var O=E.events[k];if(null!==O){E.events[k]=null;var Z=O.getEventRunner();qt&&hi("event: "+O.toString()),Ks(Z)}}}var Cm="repo_interrupt",Vf=function(){function E(k,O,Z,se){this.repoInfo_=k,this.forceRestClient_=O,this.authTokenProvider_=Z,this.appCheckProvider_=se,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new to,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ll(),this.transactionQueueTree_=new Ko,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return E.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},E}();function Oo(E){var O=E.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+O}function Ic(E){return function(E){return(E=E||{}).timestamp=E.timestamp||(new Date).getTime(),E}({timestamp:Oo(E)})}function Lc(E,k,O,Z,se){E.dataUpdateCount++;var ve=new Je(k);O=E.interceptServerDataCallback_?E.interceptServerDataCallback_(k,O):O;var Fe=[];if(se)if(Z){var it=(0,ee.UI)(O,function(Yn){return os(Yn)});Fe=function(E,k,O,Z){var se=Lt(E,Z);if(se){var ve=ii(se),Fe=ve.path,it=ve.queryId,ut=Pr(Fe,k),Dt=ts.fromObject(O);return Bn(E,Fe,new Cc(ku(it),ut,Dt))}return[]}(E.serverSyncTree_,ve,it,se)}else{var ut=os(O);Fe=function(E,k,O,Z){var se=Lt(E,Z);if(null!=se){var ve=ii(se),Fe=ve.path,it=ve.queryId,ut=Pr(Fe,k);return Bn(E,Fe,new sa(ku(it),ut,O))}return[]}(E.serverSyncTree_,ve,ut,se)}else if(Z){var Dt=(0,ee.UI)(O,function(Yn){return os(Yn)});Fe=function(E,k,O){var Z=ts.fromObject(O);return Ut(E,new Cc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k,Z))}(E.serverSyncTree_,ve,Dt)}else{var zt=os(O);Fe=Ue(E.serverSyncTree_,ve,zt)}var Cn=ve;Fe.length>0&&(Cn=Xh(E,ve)),Rs(E.eventQueue_,Cn,Fe)}function Br(E,k){Ds(E,"connected",k),!1===k&&function(E){xh(E,"onDisconnectEvents");var k=Ic(E),O=ll();pa(E.onDisconnect_,ft(),function(se,ve){var Fe=Hl(se,ve,E.serverSyncTree_,k);Gc(O,se,Fe)});var Z=[];pa(O,ft(),function(se,ve){Z=Z.concat(Ue(E.serverSyncTree_,se,ve));var Fe=Kh(E,se);Xh(E,Fe)}),E.onDisconnect_=ll(),Rs(E.eventQueue_,ft(),Z)}(E)}function Ds(E,k,O){var Z=new Je("/.info/"+k),se=os(O);E.infoData_.updateSnapshot(Z,se);var ve=Ue(E.infoSyncTree_,Z,se);Rs(E.eventQueue_,Z,ve)}function hu(E){return E.nextWriteId_++}function zp(E,k,O,Z,se){xh(E,"set",{path:k.toString(),value:O,priority:Z});var ve=Ic(E),Fe=os(O,Z),it=wt(E.serverSyncTree_,k),ut=Ya(Fe,it,ve),Dt=hu(E),zt=ge(E.serverSyncTree_,k,ut,Dt,!0);el(E.eventQueue_,zt),E.server_.put(k.toString(),Fe.val(!0),function(Yn,oi){var ki="ok"===Yn;ki||jr("set at "+k+" failed: "+Yn);var Wi=be(E.serverSyncTree_,Dt,!ki);Rs(E.eventQueue_,k,Wi),lo(0,se,Yn,oi)});var Cn=Kh(E,k);Xh(E,Cn),Rs(E.eventQueue_,Cn,[])}function ji(E,k,O){E.server_.onDisconnectCancel(k.toString(),function(Z,se){"ok"===Z&&bo(E.onDisconnect_,k),lo(0,O,Z,se)})}function rc(E,k,O,Z){var se=os(O);E.server_.onDisconnectPut(k.toString(),se.val(!0),function(ve,Fe){"ok"===ve&&Gc(E.onDisconnect_,k,se),lo(0,Z,ve,Fe)})}function Tr(E,k,O){var Z;Z=".info"===ln(k._path)?pt(E.infoSyncTree_,k,O):pt(E.serverSyncTree_,k,O),Va(E.eventQueue_,k._path,Z)}function Rd(E){E.persistentConnection_&&E.persistentConnection_.interrupt(Cm)}function xh(E){for(var k=[],O=1;O<arguments.length;O++)k[O-1]=arguments[O];var Z="";E.persistentConnection_&&(Z=E.persistentConnection_.id+":"),hi.apply(void 0,(0,x.ev)([Z],(0,x.CR)(k)))}function lo(E,k,O,Z){k&&Ks(function(){if("ok"===O)k(null);else{var se=(O||"error").toUpperCase(),ve=se;Z&&(ve+=": "+Z);var Fe=new Error(ve);Fe.code=se,k(Fe)}})}function wo(E,k,O){return wt(E.serverSyncTree_,k,O)||lr.EMPTY_NODE}function Vl(E,k){if(void 0===k&&(k=E.transactionQueueTree_),k||Fu(E,k),Vi(k)){var O=i_(E,k);(0,ee.hu)(O.length>0,"Sending zero length transaction queue"),O.every(function(se){return 0===se.status})&&function(E,k,O){for(var Z=O.map(function(Yn){return Yn.currentWriteId}),se=wo(E,k,Z),ve=se,Fe=se.hash(),it=0;it<O.length;it++){var ut=O[it];(0,ee.hu)(0===ut.status,"tryToSendTransactionQueue_: items in queue should all be run."),ut.status=1,ut.retryCount++;var Dt=Pr(k,ut.path);ve=ve.updateChild(Dt,ut.currentOutputSnapshotRaw)}var zt=ve.val(!0),Cn=k;E.server_.put(Cn.toString(),zt,function(Yn){xh(E,"transaction put response",{path:Cn.toString(),status:Yn});var oi=[];if("ok"===Yn){for(var ki=[],Wi=function(rs){O[rs].status=2,oi=oi.concat(be(E.serverSyncTree_,O[rs].currentWriteId)),O[rs].onComplete&&ki.push(function(){return O[rs].onComplete(null,!0,O[rs].currentOutputSnapshotResolved)}),O[rs].unwatcher()},rr=0;rr<O.length;rr++)Wi(rr);for(Fu(E,vl(E.transactionQueueTree_,k)),Vl(E,E.transactionQueueTree_),Rs(E.eventQueue_,k,oi),rr=0;rr<ki.length;rr++)Ks(ki[rr])}else{if("datastale"===Yn)for(rr=0;rr<O.length;rr++)O[rr].status=3===O[rr].status?4:0;else for(jr("transaction at "+Cn.toString()+" failed: "+Yn),rr=0;rr<O.length;rr++)O[rr].status=4,O[rr].abortReason=Yn;Xh(E,k)}},Fe)}(E,dl(k),O)}else is(k)&&xo(k,function(se){Vl(E,se)})}function Xh(E,k){var O=Sm(E,k),Z=dl(O);return function(E,k,O){if(0!==k.length){for(var Z=[],se=[],Fe=k.filter(function(Dt){return 0===Dt.status}).map(function(Dt){return Dt.currentWriteId}),it=function(Dt){var oi,zt=k[Dt],Cn=Pr(O,zt.path),Yn=!1;if((0,ee.hu)(null!==Cn,"rerunTransactionsUnderNode_: relativePath should not be null."),4===zt.status)Yn=!0,oi=zt.abortReason,se=se.concat(be(E.serverSyncTree_,zt.currentWriteId,!0));else if(0===zt.status)if(zt.retryCount>=25)Yn=!0,oi="maxretry",se=se.concat(be(E.serverSyncTree_,zt.currentWriteId,!0));else{var ki=wo(E,zt.path,Fe);zt.currentInputSnapshot=ki;var Wi=k[Dt].update(ki.val());if(void 0!==Wi){fs("transaction failed: Data returned ",Wi,zt.path);var rr=os(Wi);"object"==typeof Wi&&null!=Wi&&(0,ee.r3)(Wi,".priority")||(rr=rr.updatePriority(ki.getPriority()));var _a=zt.currentWriteId,lc=Ic(E),sp=Ya(rr,ki,lc);zt.currentOutputSnapshotRaw=rr,zt.currentOutputSnapshotResolved=sp,zt.currentWriteId=hu(E),Fe.splice(Fe.indexOf(_a),1),se=(se=se.concat(ge(E.serverSyncTree_,zt.path,sp,zt.currentWriteId,zt.applyLocally))).concat(be(E.serverSyncTree_,_a,!0))}else Yn=!0,oi="nodata",se=se.concat(be(E.serverSyncTree_,zt.currentWriteId,!0))}Rs(E.eventQueue_,O,se),se=[],Yn&&(k[Dt].status=2,setTimeout(k[Dt].unwatcher,Math.floor(0)),k[Dt].onComplete&&Z.push("nodata"===oi?function(){return k[Dt].onComplete(null,!1,k[Dt].currentInputSnapshot)}:function(){return k[Dt].onComplete(new Error(oi),!1,null)}))},ut=0;ut<k.length;ut++)it(ut);for(Fu(E,E.transactionQueueTree_),ut=0;ut<Z.length;ut++)Ks(Z[ut]);Vl(E,E.transactionQueueTree_)}}(E,i_(E,O),Z),Z}function Sm(E,k){var O,Z=E.transactionQueueTree_;for(O=ln(k);null!==O&&void 0===Vi(Z);)Z=vl(Z,O),O=ln(k=cn(k));return Z}function i_(E,k){var O=[];return km(E,k,O),O.sort(function(Z,se){return Z.order-se.order}),O}function km(E,k,O){var Z=Vi(k);if(Z)for(var se=0;se<Z.length;se++)O.push(Z[se]);xo(k,function(ve){km(E,ve,O)})}function Fu(E,k){var O=Vi(k);if(O){for(var Z=0,se=0;se<O.length;se++)2!==O[se].status&&(O[Z]=O[se],Z++);O.length=Z,Gs(k,O.length>0?O:void 0)}xo(k,function(ve){Fu(E,ve)})}function Kh(E,k){var O=dl(Sm(E,k)),Z=vl(E.transactionQueueTree_,k);return function(E,k,O){for(var Z=E.parent;null!==Z;){if(k(Z))return!0;Z=Z.parent}}(Z,function(se){jf(E,se)}),jf(E,Z),$r(Z,function(se){jf(E,se)}),O}function jf(E,k){var O=Vi(k);if(O){for(var Z=[],se=[],ve=-1,Fe=0;Fe<O.length;Fe++)3===O[Fe].status||(1===O[Fe].status?((0,ee.hu)(ve===Fe-1,"All SENT items should be at beginning of queue."),ve=Fe,O[Fe].status=3,O[Fe].abortReason="set"):((0,ee.hu)(0===O[Fe].status,"Unexpected transaction status in abort"),O[Fe].unwatcher(),se=se.concat(be(E.serverSyncTree_,O[Fe].currentWriteId,!0)),O[Fe].onComplete&&Z.push(O[Fe].onComplete.bind(null,new Error("set"),!1,null))));for(-1===ve?Gs(k,void 0):O.length=ve+1,Rs(E.eventQueue_,dl(k),se),Fe=0;Fe<Z.length;Fe++)Ks(Z[Fe])}}var wl=function(E,k){var O=sg(E),Z=O.namespace;return"firebase.com"===O.domain&&tr(O.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!Z||"undefined"===Z)&&"localhost"!==O.domain&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),O.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Nr(O.host,O.secure,Z,k,"ws"===O.scheme||"wss"===O.scheme,"",Z!==O.subdomain),path:new Je(O.pathString)}},sg=function(E){var k="",O="",Z="",se="",ve="",Fe=!0,it="https",ut=443;if("string"==typeof E){var Dt=E.indexOf("//");Dt>=0&&(it=E.substring(0,Dt-1),E=E.substring(Dt+2));var zt=E.indexOf("/");-1===zt&&(zt=E.length);var Cn=E.indexOf("?");-1===Cn&&(Cn=E.length),k=E.substring(0,Math.min(zt,Cn)),zt<Cn&&(se=function(E){for(var k="",O=E.split("/"),Z=0;Z<O.length;Z++)if(O[Z].length>0){var se=O[Z];try{se=decodeURIComponent(se.replace(/\+/g," "))}catch(ve){}k+="/"+se}return k}(E.substring(zt,Cn)));var Yn=function(E){var k,O,Z={};"?"===E.charAt(0)&&(E=E.substring(1));try{for(var se=(0,x.XA)(E.split("&")),ve=se.next();!ve.done;ve=se.next()){var Fe=ve.value;if(0!==Fe.length){var it=Fe.split("=");2===it.length?Z[decodeURIComponent(it[0])]=decodeURIComponent(it[1]):jr("Invalid query segment '"+Fe+"' in query '"+E+"'")}}}catch(ut){k={error:ut}}finally{try{ve&&!ve.done&&(O=se.return)&&O.call(se)}finally{if(k)throw k.error}}return Z}(E.substring(Math.min(E.length,Cn)));(Dt=k.indexOf(":"))>=0?(Fe="https"===it||"wss"===it,ut=parseInt(k.substring(Dt+1),10)):Dt=k.length;var oi=k.slice(0,Dt);if("localhost"===oi.toLowerCase())O="localhost";else if(oi.split(".").length<=2)O=oi;else{var ki=k.indexOf(".");Z=k.substring(0,ki).toLowerCase(),O=k.substring(ki+1),ve=Z}"ns"in Yn&&(ve=Yn.ns)}return{host:k,port:ut,domain:O,subdomain:Z,secure:Fe,scheme:it,pathString:se,namespace:ve}},og=function(){function E(k,O,Z,se){this.eventType=k,this.eventRegistration=O,this.snapshot=Z,this.prevName=se}return E.prototype.getPath=function(){var k=this.snapshot.ref;return"value"===this.eventType?k._path:k.parent._path},E.prototype.getEventType=function(){return this.eventType},E.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},E.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,ee.Pz)(this.snapshot.exportVal())},E}(),sc=function(){function E(k,O,Z){this.eventRegistration=k,this.error=O,this.path=Z}return E.prototype.getPath=function(){return this.path},E.prototype.getEventType=function(){return"cancel"},E.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},E.prototype.toString=function(){return this.path.toString()+":cancel"},E}(),oa=function(){function E(k,O){this.snapshotCallback=k,this.cancelCallback=O}return E.prototype.onValue=function(k,O){this.snapshotCallback.call(null,k,O)},E.prototype.onCancel=function(k){return(0,ee.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,k)},Object.defineProperty(E.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),E.prototype.matches=function(k){return this.snapshotCallback===k.snapshotCallback||this.snapshotCallback.userCallback===k.snapshotCallback.userCallback&&this.snapshotCallback.context===k.snapshotCallback.context},E}(),ag=function(){function E(k,O){this._repo=k,this._path=O}return E.prototype.cancel=function(){var k=new ee.BH;return ji(this._repo,this._path,k.wrapCallback(function(){})),k.promise},E.prototype.remove=function(){En("OnDisconnect.remove",this._path);var k=new ee.BH;return rc(this._repo,this._path,null,k.wrapCallback(function(){})),k.promise},E.prototype.set=function(k){En("OnDisconnect.set",this._path),Zo("OnDisconnect.set",k,this._path,!1);var O=new ee.BH;return rc(this._repo,this._path,k,O.wrapCallback(function(){})),O.promise},E.prototype.setWithPriority=function(k,O){En("OnDisconnect.setWithPriority",this._path),Zo("OnDisconnect.setWithPriority",k,this._path,!1),le("OnDisconnect.setWithPriority",O,!1);var Z=new ee.BH;return function(E,k,O,Z,se){var ve=os(O,Z);E.server_.onDisconnectPut(k.toString(),ve.val(!0),function(Fe,it){"ok"===Fe&&Gc(E.onDisconnect_,k,ve),lo(0,se,Fe,it)})}(this._repo,this._path,k,O,Z.wrapCallback(function(){})),Z.promise},E.prototype.update=function(k){En("OnDisconnect.update",this._path),G("OnDisconnect.update",k,this._path,!1);var O=new ee.BH;return function(E,k,O,Z){if((0,ee.xb)(O))return hi("onDisconnect().update() called with empty data.  Don't do anything."),void lo(0,Z,"ok",void 0);E.server_.onDisconnectMerge(k.toString(),O,function(se,ve){"ok"===se&&Ei(O,function(Fe,it){var ut=os(it);Gc(E.onDisconnect_,vi(k,Fe),ut)}),lo(0,Z,se,ve)})}(this._repo,this._path,k,O.wrapCallback(function(){})),O.promise},E}(),Ul=function(){function E(k,O,Z,se){this._repo=k,this._path=O,this._queryParams=Z,this._orderByCalled=se}return Object.defineProperty(E.prototype,"key",{get:function(){return Yi(this._path)?null:Un(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"ref",{get:function(){return new Fs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_queryIdentifier",{get:function(){var k=js(this._queryParams),O=Ui(k);return"{}"===O?"default":O},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_queryObject",{get:function(){return js(this._queryParams)},enumerable:!1,configurable:!0}),E.prototype.isEqual=function(k){if(!((k=(0,ee.m9)(k))instanceof E))return!1;var O=this._repo===k._repo,Z=Ms(this._path,k._path);return O&&Z&&this._queryIdentifier===k._queryIdentifier},E.prototype.toJSON=function(){return this.toString()},E.prototype.toString=function(){return this._repo.toString()+function(E){for(var k="",O=E.pieceNum_;O<E.pieces_.length;O++)""!==E.pieces_[O]&&(k+="/"+encodeURIComponent(String(E.pieces_[O])));return k||"/"}(this._path)},E}();function Fd(E,k){if(!0===E._orderByCalled)throw new Error(k+": You can't combine multiple orderBy calls.")}function Jc(E){var k=null,O=null;if(E.hasStart()&&(k=E.getIndexStartValue()),E.hasEnd()&&(O=E.getIndexEndValue()),E.getIndex()===Ql){var Z="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",se="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(E.hasStart()){if(E.getIndexStartName()!==fn)throw new Error(Z);if("string"!=typeof k)throw new Error(se)}if(E.hasEnd()){if(E.getIndexEndName()!==Hn)throw new Error(Z);if("string"!=typeof O)throw new Error(se)}}else if(E.getIndex()===mi){if(null!=k&&!ic(k)||null!=O&&!ic(O))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ee.hu)(E.getIndex()instanceof $u||E.getIndex()===Kl,"unknown index type."),null!=k&&"object"==typeof k||null!=O&&"object"==typeof O)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yp(E){if(E.hasStart()&&E.hasEnd()&&E.hasLimit()&&!E.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fs=function(E){function k(O,Z){return E.call(this,O,Z,new au,!1)||this}return(0,x.ZT)(k,E),Object.defineProperty(k.prototype,"parent",{get:function(){var O=gr(this._path);return null===O?null:new k(this._repo,O)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"root",{get:function(){for(var O=this;null!==O.parent;)O=O.parent;return O},enumerable:!1,configurable:!0}),k}(Ul),Nd=function(){function E(k,O,Z){this._node=k,this.ref=O,this._index=Z}return Object.defineProperty(E.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),E.prototype.child=function(k){var O=new Je(k),Z=Nu(this.ref,k);return new E(this._node.getChild(O),Z,mi)},E.prototype.exists=function(){return!this._node.isEmpty()},E.prototype.exportVal=function(){return this._node.val(!0)},E.prototype.forEach=function(k){var O=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(se,ve){return k(new E(ve,Nu(O.ref,se),mi))})},E.prototype.hasChild=function(k){var O=new Je(k);return!this._node.getChild(O).isEmpty()},E.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},E.prototype.toJSON=function(){return this.exportVal()},E.prototype.val=function(){return this._node.val()},E}();function Wf(E,k){return(E=(0,ee.m9)(E))._checkNotDeleted("ref"),void 0!==k?Nu(E._root,k):E._root}function zd(E,k){(E=(0,ee.m9)(E))._checkNotDeleted("refFromURL");var O=wl(k,E._repo.repoInfo_.nodeAdmin);Xi("refFromURL",O);var Z=O.repoInfo;return!E._repo.repoInfo_.isCustomHost()&&Z.host!==E._repo.repoInfo_.host&&tr("refFromURL: Host name does not match the current database: (found "+Z.host+" but expected "+E._repo.repoInfo_.host+")"),Wf(E,O.path.toString())}function Nu(E,k){return null===ln((E=(0,ee.m9)(E))._path)?((O=k)&&(O=O.replace(/^\/*\.info(\/|$)/,"/")),nt("child","path",O,!1)):nt("child","path",k,!1),new Fs(E._repo,vi(E._path,k));var O}function r_(E,k){E=(0,ee.m9)(E),En("push",E._path),Zo("push",k,E._path,!0);var Fe,O=Oo(E._repo),Z=hh(O),se=Nu(E,Z),ve=Nu(E,Z);return Fe=null!=k?Ch(ve,k).then(function(){return ve}):Promise.resolve(ve),se.then=Fe.then.bind(Fe),se.catch=Fe.then.bind(Fe,void 0),se}function Gf(E){return En("remove",E._path),Ch(E,null)}function Ch(E,k){E=(0,ee.m9)(E),En("set",E._path),Zo("set",k,E._path,!1);var O=new ee.BH;return zp(E._repo,E._path,k,null,O.wrapCallback(function(){})),O.promise}function qf(E,k){E=(0,ee.m9)(E),En("setPriority",E._path),le("setPriority",k,!1);var O=new ee.BH;return zp(E._repo,vi(E._path,".priority"),k,null,O.wrapCallback(function(){})),O.promise}function lg(E,k,O){if(En("setWithPriority",E._path),Zo("setWithPriority",k,E._path,!1),le("setWithPriority",O,!1),".length"===E.key||".keys"===E.key)throw"setWithPriority failed: "+E.key+" is a read-only object.";var Z=new ee.BH;return zp(E._repo,E._path,k,O,Z.wrapCallback(function(){})),Z.promise}function s_(E,k){G("update",k,E._path,!1);var O=new ee.BH;return function(E,k,O,Z){xh(E,"update",{path:k.toString(),value:O});var se=!0,ve=Ic(E),Fe={};if(Ei(O,function(Dt,zt){se=!1,Fe[Dt]=Hl(vi(k,Dt),os(zt),E.serverSyncTree_,ve)}),se)hi("update() called with empty data.  Don't do anything."),lo(0,Z,"ok",void 0);else{var it=hu(E),ut=function(E,k,O,Z){!function(E,k,O,Z){(0,ee.hu)(Z>E.lastWriteId,"Stacking an older merge on top of newer ones"),E.allWrites.push({path:k,children:O,writeId:Z,visible:!0}),E.visibleWrites=Qo(E.visibleWrites,k,O),E.lastWriteId=Z}(E.pendingWriteTree_,k,O,Z);var se=ts.fromObject(O);return Ut(E,new Cc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},k,se))}(E.serverSyncTree_,k,Fe,it);el(E.eventQueue_,ut),E.server_.merge(k.toString(),O,function(Dt,zt){var Cn="ok"===Dt;Cn||jr("update at "+k+" failed: "+Dt);var Yn=be(E.serverSyncTree_,it,!Cn),oi=Yn.length>0?Xh(E,k):k;Rs(E.eventQueue_,oi,Yn),lo(0,Z,Dt,zt)}),Ei(O,function(Dt){var zt=Kh(E,vi(k,Dt));Xh(E,zt)}),Rs(E.eventQueue_,k,[])}}(E._repo,E._path,k,O.wrapCallback(function(){})),O.promise}function $f(E){return function(E,k){var O=function(E,k){var O=k._path,Z=null;E.syncPointTree_.foreachOnPath(O,function(Dt,zt){var Cn=Pr(Dt,O);Z=Z||Ka(zt,Cn)});var se=E.syncPointTree_.get(O);se?Z=Z||Ka(se,ft()):(se=new Fp,E.syncPointTree_=E.syncPointTree_.set(O,se));var ve=null!=Z,Fe=ve?new qc(Z,!0,!1):null;return function(E){return Ii(E.viewCache_)}(Ba(se,k,Sc(E.pendingWriteTree_,k._path),ve?Fe.getNode():lr.EMPTY_NODE,ve))}(E.serverSyncTree_,k);return null!=O?Promise.resolve(O):E.server_.get(k).then(function(Z){var se=os(Z).withIndex(k._queryParams.getIndex()),ve=Ue(E.serverSyncTree_,k._path,se);return Va(E.eventQueue_,k._path,ve),Promise.resolve(se)},function(Z){return xh(E,"get for query "+(0,ee.Pz)(k)+" failed: "+Z),Promise.reject(new Error(Z))})}((E=(0,ee.m9)(E))._repo,E).then(function(k){return new Nd(k,new Fs(E._repo,E._path),E._queryParams.getIndex())})}var zu=function(){function E(k){this.callbackContext=k}return E.prototype.respondsTo=function(k){return"value"===k},E.prototype.createEvent=function(k,O){var Z=O._queryParams.getIndex();return new og("value",this,new Nd(k.snapshotNode,new Fs(O._repo,O._path),Z))},E.prototype.getEventRunner=function(k){var O=this;return"cancel"===k.getEventType()?function(){return O.callbackContext.onCancel(k.error)}:function(){return O.callbackContext.onValue(k.snapshot,null)}},E.prototype.createCancelEvent=function(k,O){return this.callbackContext.hasCancelCallback?new sc(this,k,O):null},E.prototype.matches=function(k){return k instanceof E&&(!k.callbackContext||!this.callbackContext||k.callbackContext.matches(this.callbackContext))},E.prototype.hasAnyCallback=function(){return null!==this.callbackContext},E}(),jl=function(){function E(k,O){this.eventType=k,this.callbackContext=O}return E.prototype.respondsTo=function(k){var O="children_added"===k?"child_added":k;return this.eventType===("children_removed"===O?"child_removed":O)},E.prototype.createCancelEvent=function(k,O){return this.callbackContext.hasCancelCallback?new sc(this,k,O):null},E.prototype.createEvent=function(k,O){(0,ee.hu)(null!=k.childName,"Child events should have a childName.");var Z=Nu(new Fs(O._repo,O._path),k.childName),se=O._queryParams.getIndex();return new og(k.type,this,new Nd(k.snapshotNode,Z,se),k.prevName)},E.prototype.getEventRunner=function(k){var O=this;return"cancel"===k.getEventType()?function(){return O.callbackContext.onCancel(k.error)}:function(){return O.callbackContext.onValue(k.snapshot,k.prevName)}},E.prototype.matches=function(k){return k instanceof E&&this.eventType===k.eventType&&(!this.callbackContext||!k.callbackContext||this.callbackContext.matches(k.callbackContext))},E.prototype.hasAnyCallback=function(){return!!this.callbackContext},E}();function ep(E,k,O,Z,se){var ve;if("object"==typeof Z&&(ve=void 0,se=Z),"function"==typeof Z&&(ve=Z),se&&se.onlyOnce){var Fe=O,it=function(zt,Cn){Tr(E._repo,E,Dt),Fe(zt,Cn)};it.userCallback=O.userCallback,it.context=O.context,O=it}var ut=new oa(O,ve||void 0),Dt="value"===k?new zu(ut):new jl(k,ut);return function(E,k,O){var Z;Z=".info"===ln(k._path)?lt(E.infoSyncTree_,k,O):lt(E.serverSyncTree_,k,O),Va(E.eventQueue_,k._path,Z)}(E._repo,E,Dt),function(){return Tr(E._repo,E,Dt)}}function cf(E,k,O,Z){return ep(E,"value",k,O,Z)}function hl(E,k,O,Z){return ep(E,"child_added",k,O,Z)}function Oa(E,k,O,Z){return ep(E,"child_changed",k,O,Z)}function Qf(E,k,O,Z){return ep(E,"child_moved",k,O,Z)}function Mh(E,k,O,Z){return ep(E,"child_removed",k,O,Z)}function od(E,k,O){var Z=null,se=O?new oa(O):null;"value"===k?Z=new zu(se):k&&(Z=new jl(k,se)),Tr(E._repo,E,Z)}var Bu=function(){},tp=function(E){function k(O,Z){var se=E.call(this)||this;return se._value=O,se._key=Z,se}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Zo("endAt",this._value,O._path,!0);var Z=Dd(O._queryParams,this._value,this._key);if(Yp(Z),Jc(Z),O._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ul(O._repo,O._path,Z,O._orderByCalled)},k}(Bu);function Bd(E,k){return Ne("endAt","key",k,!0),new tp(E,k)}var oc=function(E){function k(O,Z){var se=E.call(this)||this;return se._value=O,se._key=Z,se}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Zo("endBefore",this._value,O._path,!1);var Z=function(E,k,O){var se;return E.index_===Ql?("string"==typeof k&&(k=zl(k)),se=Dd(E,k,O)):se=Dd(E,k,null==O?fn:zl(O)),se.endBeforeSet_=!0,se}(O._queryParams,this._value,this._key);if(Yp(Z),Jc(Z),O._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ul(O._repo,O._path,Z,O._orderByCalled)},k}(Bu);function o_(E,k){return Ne("endBefore","key",k,!0),new oc(E,k)}var uf=function(E){function k(O,Z){var se=E.call(this)||this;return se._value=O,se._key=Z,se}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Zo("startAt",this._value,O._path,!0);var Z=Vh(O._queryParams,this._value,this._key);if(Yp(Z),Jc(Z),O._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ul(O._repo,O._path,Z,O._orderByCalled)},k}(Bu);function Yd(E,k){return void 0===E&&(E=null),Ne("startAt","key",k,!0),new uf(E,k)}var cg=function(E){function k(O,Z){var se=E.call(this)||this;return se._value=O,se._key=Z,se}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Zo("startAfter",this._value,O._path,!1);var Z=function(E,k,O){var Z;return E.index_===Ql?("string"==typeof k&&(k=Mu(k)),Z=Vh(E,k,O)):Z=Vh(E,k,null==O?Hn:Mu(O)),Z.startAfterSet_=!0,Z}(O._queryParams,this._value,this._key);if(Yp(Z),Jc(Z),O._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ul(O._repo,O._path,Z,O._orderByCalled)},k}(Bu);function ug(E,k){return Ne("startAfter","key",k,!0),new cg(E,k)}var Jf=function(E){function k(O){var Z=E.call(this)||this;return Z._limit=O,Z}return(0,x.ZT)(k,E),k.prototype._apply=function(O){if(O._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ul(O._repo,O._path,function(E,k){var O=E.copy();return O.limitSet_=!0,O.limit_=k,O.viewFrom_="l",O}(O._queryParams,this._limit),O._orderByCalled)},k}(Bu);function df(E){if("number"!=typeof E||Math.floor(E)!==E||E<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jf(E)}var Hd=function(E){function k(O){var Z=E.call(this)||this;return Z._limit=O,Z}return(0,x.ZT)(k,E),k.prototype._apply=function(O){if(O._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ul(O._repo,O._path,function(E,k){var O=E.copy();return O.limitSet_=!0,O.limit_=k,O.viewFrom_="r",O}(O._queryParams,this._limit),O._orderByCalled)},k}(Bu);function vr(E){if("number"!=typeof E||Math.floor(E)!==E||E<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hd(E)}var Vd=function(E){function k(O){var Z=E.call(this)||this;return Z._path=O,Z}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Fd(O,"orderByChild");var Z=new Je(this._path);if(Yi(Z))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var se=new $u(Z),ve=La(O._queryParams,se);return Jc(ve),new Ul(O._repo,O._path,ve,!0)},k}(Bu);function Hp(E){if("$key"===E)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===E)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===E)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nt("orderByChild","path",E,!1),new Vd(E)}var ad=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Fd(O,"orderByKey");var Z=La(O._queryParams,Ql);return Jc(Z),new Ul(O._repo,O._path,Z,!0)},k}(Bu);function a_(){return new ad}var Em=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Fd(O,"orderByPriority");var Z=La(O._queryParams,mi);return Jc(Z),new Ul(O._repo,O._path,Z,!0)},k}(Bu);function ga(){return new Em}var co=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(O){Fd(O,"orderByValue");var Z=La(O._queryParams,Kl);return Jc(Z),new Ul(O._repo,O._path,Z,!0)},k}(Bu);function dg(){return new co}var l_=function(E){function k(O,Z){var se=E.call(this)||this;return se._value=O,se._key=Z,se}return(0,x.ZT)(k,E),k.prototype._apply=function(O){if(Zo("equalTo",this._value,O._path,!1),O._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(O._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tp(this._value,this._key)._apply(new uf(this._value,this._key)._apply(O))},k}(Bu);function hg(E,k){return Ne("equalTo","key",k,!0),new l_(E,k)}function Ud(E){for(var k,O,Z=[],se=1;se<arguments.length;se++)Z[se-1]=arguments[se];var ve=(0,ee.m9)(E);try{for(var Fe=(0,x.XA)(Z),it=Fe.next();!it.done;it=Fe.next()){var ut=it.value;ve=ut._apply(ve)}}catch(Dt){k={error:Dt}}finally{try{it&&!it.done&&(O=Fe.return)&&O.call(Fe)}finally{if(k)throw k.error}}return ve}(function(E){(0,ee.hu)(!as,"__referenceConstructor has already been defined"),as=E})(Fs),function(E){(0,ee.hu)(!T,"__referenceConstructor has already been defined"),T=E}(Fs);var pu={},aa=!1;function Yu(E,k,O,Z,se){var ve=Z||E.options.databaseURL;void 0===ve&&(E.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",E.options.projectId),ve=E.options.projectId+"-default-rtdb.firebaseio.com");var ut,Fe=wl(ve,se),it=Fe.repoInfo,Dt=void 0;"undefined"!=typeof process&&(Dt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Dt?(ut=!0,it=(Fe=wl(ve="http://"+Dt+"?ns="+it.namespace,se)).repoInfo):ut=!Fe.repoInfo.secure;var zt=se&&ut?new nr(nr.OWNER):new Ki(E.name,E.options,k);Xi("Invalid Firebase Database URL",Fe),Yi(Fe.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");var Cn=function(E,k,O,Z){var se=pu[k.name];se||(pu[k.name]=se={});var ve=se[E.toURLString()];return ve&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ve=new Vf(E,aa,O,Z),se[E.toURLString()]=ve,ve}(it,E,zt,new Ea(E.name,O));return new pg(Cn,E)}var pg=function(){function E(k,O){this._repoInternal=k,this.app=O,this.type="database",this._instanceStarted=!1}return Object.defineProperty(E.prototype,"_repo",{get:function(){return this._instanceStarted||(function(E,k,O){if(E.stats_=Cs(E.repoInfo_),E.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)E.server_=new Uh(E.repoInfo_,function(Z,se,ve,Fe){Lc(E,Z,se,ve,Fe)},E.authTokenProvider_,E.appCheckProvider_),setTimeout(function(){return Br(E,!0)},0);else{if(null!=O){if("object"!=typeof O)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ee.Pz)(O)}catch(Z){throw new Error("Invalid authOverride provided: "+Z)}}E.persistentConnection_=new ou(E.repoInfo_,k,function(Z,se,ve,Fe){Lc(E,Z,se,ve,Fe)},function(Z){Br(E,Z)},function(Z){!function(E,k){Ei(k,function(O,Z){Ds(E,O,Z)})}(E,Z)},E.authTokenProvider_,E.appCheckProvider_,O),E.server_=E.persistentConnection_}E.authTokenProvider_.addTokenChangeListener(function(Z){E.server_.refreshAuthToken(Z)}),E.appCheckProvider_.addTokenChangeListener(function(Z){E.server_.refreshAppCheckToken(Z.token)}),E.statsReporter_=function(E,k){var O=E.toString();return Da[O]||(Da[O]=k()),Da[O]}(E.repoInfo_,function(){return new Xu(E.stats_,E.server_)}),E.infoData_=new Dp,E.infoSyncTree_=new ce({startListening:function(Z,se,ve,Fe){var it=[],ut=E.infoData_.getNode(Z._path);return ut.isEmpty()||(it=Ue(E.infoSyncTree_,Z._path,ut),setTimeout(function(){Fe("ok")},0)),it},stopListening:function(){}}),Ds(E,"connected",!1),E.serverSyncTree_=new ce({startListening:function(Z,se,ve,Fe){return E.server_.listen(Z,ve,se,function(it,ut){var Dt=Fe(it,ut);Rs(E.eventQueue_,Z._path,Dt)}),[]},stopListening:function(Z,se){E.server_.unlisten(Z,se)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Fs(this._repo,ft())),this._rootInternal},enumerable:!1,configurable:!0}),E.prototype._delete=function(){return null!==this._rootInternal&&(function(E,k){var O=pu[k];(!O||O[E.key]!==E)&&tr("Database "+k+"("+E.repoInfo_+") has already been deleted."),Rd(E),delete O[E.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},E.prototype._checkNotDeleted=function(k){null===this._rootInternal&&tr("Cannot call "+k+" on a deleted database.")},E}();function Vp(E){(E=(0,ee.m9)(E))._checkNotDeleted("goOffline"),Rd(E._repo)}function fu(E){(E=(0,ee.m9)(E))._checkNotDeleted("goOnline"),function(E){E.persistentConnection_&&E.persistentConnection_.resume(Cm)}(E._repo)}var mu={".sv":"timestamp"},ff=function(){function E(k,O){this.committed=k,this.snapshot=O}return E.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},E}();function tv(E,k,O){var Z;if(E=(0,ee.m9)(E),En("Reference.transaction",E._path),".length"===E.key||".keys"===E.key)throw"Reference.transaction failed: "+E.key+" is a read-only object.";var se=null===(Z=null==O?void 0:O.applyLocally)||void 0===Z||Z,ve=new ee.BH,it=cf(E,function(){});return function(E,k,O,Z,se,ve){xh(E,"transaction on "+k);var Fe={path:k,update:O,onComplete:Z,status:null,order:ct(),applyLocally:ve,retryCount:0,unwatcher:se,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},it=wo(E,k,void 0);Fe.currentInputSnapshot=it;var ut=Fe.update(it.val());if(void 0===ut)Fe.unwatcher(),Fe.currentOutputSnapshotRaw=null,Fe.currentOutputSnapshotResolved=null,Fe.onComplete&&Fe.onComplete(null,!1,Fe.currentInputSnapshot);else{fs("transaction failed: Data returned ",ut,Fe.path),Fe.status=0;var Dt=vl(E.transactionQueueTree_,k),zt=Vi(Dt)||[];zt.push(Fe),Gs(Dt,zt);var Cn=void 0;"object"==typeof ut&&null!==ut&&(0,ee.r3)(ut,".priority")?(Cn=(0,ee.DV)(ut,".priority"),(0,ee.hu)(ic(Cn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Cn=(wt(E.serverSyncTree_,k)||lr.EMPTY_NODE).getPriority().val();var oi=Ic(E),ki=os(ut,Cn),Wi=Ya(ki,it,oi);Fe.currentOutputSnapshotRaw=ki,Fe.currentOutputSnapshotResolved=Wi,Fe.currentWriteId=hu(E);var rr=ge(E.serverSyncTree_,k,Wi,Fe.currentWriteId,Fe.applyLocally);Rs(E.eventQueue_,k,rr),Vl(E,E.transactionQueueTree_)}}(E._repo,E._path,k,function(ut,Dt,zt){var Cn=null;ut?ve.reject(ut):(Cn=new Nd(zt,new Fs(E._repo,E._path),mi),ve.resolve(new ff(Dt,Cn)))},it,se),ve.promise}var Hu=function(){function E(k){this._delegate=k}return E.prototype.cancel=function(k){(0,ee.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.cancel","onComplete",k,!0);var O=this._delegate.cancel();return k&&O.then(function(){return k(null)},function(Z){return k(Z)}),O},E.prototype.remove=function(k){(0,ee.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.remove","onComplete",k,!0);var O=this._delegate.remove();return k&&O.then(function(){return k(null)},function(Z){return k(Z)}),O},E.prototype.set=function(k,O){(0,ee.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ee.Wj)("OnDisconnect.set","onComplete",O,!0);var Z=this._delegate.set(k);return O&&Z.then(function(){return O(null)},function(se){return O(se)}),Z},E.prototype.setWithPriority=function(k,O,Z){(0,ee.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ee.Wj)("OnDisconnect.setWithPriority","onComplete",Z,!0);var se=this._delegate.setWithPriority(k,O);return Z&&se.then(function(){return Z(null)},function(ve){return Z(ve)}),se},E.prototype.update=function(k,O){if((0,ee.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(k)){for(var Z={},se=0;se<k.length;++se)Z[""+se]=k[se];k=Z,jr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ee.Wj)("OnDisconnect.update","onComplete",O,!0);var ve=this._delegate.update(k);return O&&ve.then(function(){return O(null)},function(Fe){return O(Fe)}),ve},E}(),mf=function(){function E(k,O){this.committed=k,this.snapshot=O}return E.prototype.toJSON=function(){return(0,ee.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},E}(),Th=function(){function E(k,O){this._database=k,this._delegate=O}return E.prototype.val=function(){return(0,ee.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},E.prototype.exportVal=function(){return(0,ee.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},E.prototype.toJSON=function(){return(0,ee.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},E.prototype.exists=function(){return(0,ee.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},E.prototype.child=function(k){return(0,ee.Dv)("DataSnapshot.child",0,1,arguments.length),k=String(k),nt("DataSnapshot.child","path",k,!1),new E(this._database,this._delegate.child(k))},E.prototype.hasChild=function(k){return(0,ee.Dv)("DataSnapshot.hasChild",1,1,arguments.length),nt("DataSnapshot.hasChild","path",k,!1),this._delegate.hasChild(k)},E.prototype.getPriority=function(){return(0,ee.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},E.prototype.forEach=function(k){var O=this;return(0,ee.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ee.Wj)("DataSnapshot.forEach","action",k,!1),this._delegate.forEach(function(Z){return k(new E(O._database,Z))})},E.prototype.hasChildren=function(){return(0,ee.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(E.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),E.prototype.numChildren=function(){return(0,ee.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},E.prototype.getRef=function(){return(0,ee.Dv)("DataSnapshot.ref",0,0,arguments.length),new ac(this._database,this._delegate.ref)},Object.defineProperty(E.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),E}(),fg=function(){function E(k,O){this.database=k,this._delegate=O}return E.prototype.on=function(k,O,Z,se){var Fe,ve=this;(0,ee.Dv)("Query.on",2,4,arguments.length),(0,ee.Wj)("Query.on","callback",O,!1);var it=E.getCancelAndContextArgs_("Query.on",Z,se),ut=function(zt,Cn){O.call(it.context,new Th(ve.database,zt),Cn)};ut.userCallback=O,ut.context=it.context;var Dt=null===(Fe=it.cancel)||void 0===Fe?void 0:Fe.bind(it.context);switch(k){case"value":return cf(this._delegate,ut,Dt),O;case"child_added":return hl(this._delegate,ut,Dt),O;case"child_removed":return Mh(this._delegate,ut,Dt),O;case"child_changed":return Oa(this._delegate,ut,Dt),O;case"child_moved":return Qf(this._delegate,ut,Dt),O;default:throw new Error((0,ee.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},E.prototype.off=function(k,O,Z){if((0,ee.Dv)("Query.off",0,3,arguments.length),ye("Query.off",k,!0),(0,ee.Wj)("Query.off","callback",O,!0),(0,ee.lb)("Query.off","context",Z,!0),O){var se=function(){};se.userCallback=O,se.context=Z,od(this._delegate,k,se)}else od(this._delegate,k)},E.prototype.get=function(){var k=this;return $f(this._delegate).then(function(O){return new Th(k.database,O)})},E.prototype.once=function(k,O,Z,se){var ve=this;(0,ee.Dv)("Query.once",1,4,arguments.length),(0,ee.Wj)("Query.once","callback",O,!0);var Fe=E.getCancelAndContextArgs_("Query.once",Z,se),it=new ee.BH,ut=function(zt,Cn){var Yn=new Th(ve.database,zt);O&&O.call(Fe.context,Yn,Cn),it.resolve(Yn)};ut.userCallback=O,ut.context=Fe.context;var Dt=function(zt){Fe.cancel&&Fe.cancel.call(Fe.context,zt),it.reject(zt)};switch(k){case"value":cf(this._delegate,ut,Dt,{onlyOnce:!0});break;case"child_added":hl(this._delegate,ut,Dt,{onlyOnce:!0});break;case"child_removed":Mh(this._delegate,ut,Dt,{onlyOnce:!0});break;case"child_changed":Oa(this._delegate,ut,Dt,{onlyOnce:!0});break;case"child_moved":Qf(this._delegate,ut,Dt,{onlyOnce:!0});break;default:throw new Error((0,ee.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return it.promise},E.prototype.limitToFirst=function(k){return(0,ee.Dv)("Query.limitToFirst",1,1,arguments.length),new E(this.database,Ud(this._delegate,df(k)))},E.prototype.limitToLast=function(k){return(0,ee.Dv)("Query.limitToLast",1,1,arguments.length),new E(this.database,Ud(this._delegate,vr(k)))},E.prototype.orderByChild=function(k){return(0,ee.Dv)("Query.orderByChild",1,1,arguments.length),new E(this.database,Ud(this._delegate,Hp(k)))},E.prototype.orderByKey=function(){return(0,ee.Dv)("Query.orderByKey",0,0,arguments.length),new E(this.database,Ud(this._delegate,a_()))},E.prototype.orderByPriority=function(){return(0,ee.Dv)("Query.orderByPriority",0,0,arguments.length),new E(this.database,Ud(this._delegate,ga()))},E.prototype.orderByValue=function(){return(0,ee.Dv)("Query.orderByValue",0,0,arguments.length),new E(this.database,Ud(this._delegate,dg()))},E.prototype.startAt=function(k,O){return void 0===k&&(k=null),(0,ee.Dv)("Query.startAt",0,2,arguments.length),new E(this.database,Ud(this._delegate,Yd(k,O)))},E.prototype.startAfter=function(k,O){return void 0===k&&(k=null),(0,ee.Dv)("Query.startAfter",0,2,arguments.length),new E(this.database,Ud(this._delegate,ug(k,O)))},E.prototype.endAt=function(k,O){return void 0===k&&(k=null),(0,ee.Dv)("Query.endAt",0,2,arguments.length),new E(this.database,Ud(this._delegate,Bd(k,O)))},E.prototype.endBefore=function(k,O){return void 0===k&&(k=null),(0,ee.Dv)("Query.endBefore",0,2,arguments.length),new E(this.database,Ud(this._delegate,o_(k,O)))},E.prototype.equalTo=function(k,O){return(0,ee.Dv)("Query.equalTo",1,2,arguments.length),new E(this.database,Ud(this._delegate,hg(k,O)))},E.prototype.toString=function(){return(0,ee.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},E.prototype.toJSON=function(){return(0,ee.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},E.prototype.isEqual=function(k){if((0,ee.Dv)("Query.isEqual",1,1,arguments.length),!(k instanceof E)){var O="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(O)}return this._delegate.isEqual(k._delegate)},E.getCancelAndContextArgs_=function(k,O,Z){var se={cancel:void 0,context:void 0};if(O&&Z)se.cancel=O,(0,ee.Wj)(k,"cancel",se.cancel,!0),se.context=Z,(0,ee.lb)(k,"context",se.context,!0);else if(O)if("object"==typeof O&&null!==O)se.context=O;else{if("function"!=typeof O)throw new Error((0,ee.gK)(k,"cancelOrContext")+" must either be a cancel callback or a context object.");se.cancel=O}return se},Object.defineProperty(E.prototype,"ref",{get:function(){return new ac(this.database,new Fs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),E}(),ac=function(E){function k(O,Z){var se=E.call(this,O,new Ul(Z._repo,Z._path,new au,!1))||this;return se.database=O,se._delegate=Z,se}return(0,x.ZT)(k,E),k.prototype.getKey=function(){return(0,ee.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},k.prototype.child=function(O){return(0,ee.Dv)("Reference.child",1,1,arguments.length),"number"==typeof O&&(O=String(O)),new k(this.database,Nu(this._delegate,O))},k.prototype.getParent=function(){(0,ee.Dv)("Reference.parent",0,0,arguments.length);var O=this._delegate.parent;return O?new k(this.database,O):null},k.prototype.getRoot=function(){return(0,ee.Dv)("Reference.root",0,0,arguments.length),new k(this.database,this._delegate.root)},k.prototype.set=function(O,Z){(0,ee.Dv)("Reference.set",1,2,arguments.length),(0,ee.Wj)("Reference.set","onComplete",Z,!0);var se=Ch(this._delegate,O);return Z&&se.then(function(){return Z(null)},function(ve){return Z(ve)}),se},k.prototype.update=function(O,Z){if((0,ee.Dv)("Reference.update",1,2,arguments.length),Array.isArray(O)){for(var se={},ve=0;ve<O.length;++ve)se[""+ve]=O[ve];O=se,jr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}En("Reference.update",this._delegate._path),(0,ee.Wj)("Reference.update","onComplete",Z,!0);var Fe=s_(this._delegate,O);return Z&&Fe.then(function(){return Z(null)},function(it){return Z(it)}),Fe},k.prototype.setWithPriority=function(O,Z,se){(0,ee.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ee.Wj)("Reference.setWithPriority","onComplete",se,!0);var ve=lg(this._delegate,O,Z);return se&&ve.then(function(){return se(null)},function(Fe){return se(Fe)}),ve},k.prototype.remove=function(O){(0,ee.Dv)("Reference.remove",0,1,arguments.length),(0,ee.Wj)("Reference.remove","onComplete",O,!0);var Z=Gf(this._delegate);return O&&Z.then(function(){return O(null)},function(se){return O(se)}),Z},k.prototype.transaction=function(O,Z,se){var ve=this;(0,ee.Dv)("Reference.transaction",1,3,arguments.length),(0,ee.Wj)("Reference.transaction","transactionUpdate",O,!1),(0,ee.Wj)("Reference.transaction","onComplete",Z,!0),Lr("Reference.transaction","applyLocally",se,!0);var Fe=tv(this._delegate,O,{applyLocally:se}).then(function(it){return new mf(it.committed,new Th(ve.database,it.snapshot))});return Z&&Fe.then(function(it){return Z(null,it.committed,it.snapshot)},function(it){return Z(it,!1,null)}),Fe},k.prototype.setPriority=function(O,Z){(0,ee.Dv)("Reference.setPriority",1,2,arguments.length),(0,ee.Wj)("Reference.setPriority","onComplete",Z,!0);var se=qf(this._delegate,O);return Z&&se.then(function(){return Z(null)},function(ve){return Z(ve)}),se},k.prototype.push=function(O,Z){var se=this;(0,ee.Dv)("Reference.push",0,2,arguments.length),(0,ee.Wj)("Reference.push","onComplete",Z,!0);var ve=r_(this._delegate,O),Fe=ve.then(function(ut){return new k(se.database,ut)});Z&&Fe.then(function(){return Z(null)},function(ut){return Z(ut)});var it=new k(this.database,ve);return it.then=Fe.then.bind(Fe),it.catch=Fe.catch.bind(Fe,void 0),it},k.prototype.onDisconnect=function(){return En("Reference.onDisconnect",this._delegate._path),new Hu(new ag(this._delegate._repo,this._delegate._path))},Object.defineProperty(k.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),k}(fg),np=function(){function E(k,O){var Z=this;this._delegate=k,this.app=O,this.INTERNAL={delete:function(){return Z._delegate._delete()}}}return E.prototype.useEmulator=function(k,O,Z){void 0===Z&&(Z={}),function(E,k,O,Z){void 0===Z&&(Z={}),(E=(0,ee.m9)(E))._checkNotDeleted("useEmulator"),E._instanceStarted&&tr("Cannot call useEmulator() after instance has already been initialized.");var se=E._repoInternal,ve=void 0;if(se.repoInfo_.nodeAdmin)Z.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ve=new nr(nr.OWNER);else if(Z.mockUserToken){var Fe=(0,ee.Sg)(Z.mockUserToken,E.app.options.projectId);ve=new nr(Fe)}!function(E,k,O,Z){E.repoInfo_=new Nr(k+":"+O,!1,E.repoInfo_.namespace,E.repoInfo_.webSocketOnly,E.repoInfo_.nodeAdmin,E.repoInfo_.persistenceKey,E.repoInfo_.includeNamespaceInQueryParams),Z&&(E.authTokenProvider_=Z)}(se,k,O,ve)}(this._delegate,k,O,Z)},E.prototype.ref=function(k){if((0,ee.Dv)("database.ref",0,1,arguments.length),k instanceof ac){var O=zd(this._delegate,k.toString());return new ac(this,O)}return O=Wf(this._delegate,k),new ac(this,O)},E.prototype.refFromURL=function(k){var O="database.refFromURL";(0,ee.Dv)(O,1,1,arguments.length);var Z=zd(this._delegate,k);return new ac(this,Z)},E.prototype.goOffline=function(){return(0,ee.Dv)("database.goOffline",0,0,arguments.length),Vp(this._delegate)},E.prototype.goOnline=function(){return(0,ee.Dv)("database.goOnline",0,0,arguments.length),fu(this._delegate)},E.ServerValue={TIMESTAMP:mu,increment:function(k){return function(E){return{".sv":{increment:E}}}(k)}},E}(),yf=Object.freeze({__proto__:null,forceLongPolling:function(){p.forceDisallow(),rn.forceAllow()},forceWebSockets:function(){rn.forceDisallow()},isWebSocketsAvailable:function(){return p.isAvailable()},setSecurityDebugCallback:function(E,k){E._delegate._repo.persistentConnection_.securityDebugCallback_=k},stats:function(E,k){!function(E,k){if(void 0===k&&(k=!1),"undefined"!=typeof console){var O;k?(E.statsListener_||(E.statsListener_=new xc(E.stats_)),O=E.statsListener_.get()):O=E.stats_.get();var Z=Object.keys(O).reduce(function(se,ve){return Math.max(ve.length,se)},0);Ei(O,function(se,ve){for(var Fe=se,it=se.length;it<Z+2;it++)Fe+=" ";console.log(Fe+ve)})}}(E._delegate._repo,k)},statsIncrementCounter:function(E,k){!function(E,k){E.stats_.incrementCounter(k),function(E,k){E.statsToReport_[k]=!0}(E.statsReporter_,k)}(E._delegate._repo,k)},dataUpdateCount:function(E){return E._delegate._repo.dataUpdateCount},interceptServerData:function(E,k){return function(E,k){E.interceptServerDataCallback_=k}(E._delegate._repo,k)},initStandalone:function(E){var k=E.app,O=E.url,se=E.customAuthImpl,ve=E.namespace,Fe=E.nodeAdmin,it=void 0!==Fe&&Fe;Ye(E.version);var ut=new $.zt("auth-internal",new $.H0("database-standalone"));return ut.setComponent(new $.wA("auth-internal",function(){return se},"PRIVATE")),{instance:new np(Yu(k,ut,void 0,O,it),k),namespace:ve}}}),em=ou;ou.prototype.simpleListen=function(E,k){this.sendRequest("q",{p:E},k)},ou.prototype.echo=function(E,k){this.sendRequest("echo",{d:E},k)};var gg=Object.freeze({__proto__:null,DataConnection:em,RealTimeConnection:Ge,hijackHash:function(E){var k=ou.prototype.put;return ou.prototype.put=function(O,Z,se,ve){void 0!==ve&&(ve=E()),k.call(this,O,Z,se,ve)},function(){ou.prototype.put=k}},ConnectionTarget:Nr,queryIdentifier:function(E){return E._delegate._queryIdentifier},forceRestClient:function(E){!function(E){aa=E}(E)}}),tm=np.ServerValue;!function(E){Ye(E.SDK_VERSION);var k=E.INTERNAL.registerComponent(new $.wA("database",function(O,Z){var se=Z.instanceIdentifier,ve=O.getProvider("app").getImmediate(),Fe=O.getProvider("auth-internal"),it=O.getProvider("app-check-internal");return new np(Yu(ve,Fe,it,se),ve)},"PUBLIC").setServiceProps({Reference:ac,Query:fg,Database:np,DataSnapshot:Th,enableLogging:ds,INTERNAL:yf,ServerValue:tm,TEST_ACCESS:gg}).setMultipleInstances(!0));E.registerVersion("@firebase/database","0.10.9"),(0,ee.Yr)()&&(jt.exports=k)}(o.Z)},300:(jt,kt,Ae)=>{"use strict";function o(){for(var gt=0,Pt=0,sn=arguments.length;Pt<sn;Pt++)gt+=arguments[Pt].length;var Gt=Array(gt),ct=0;for(Pt=0;Pt<sn;Pt++)for(var ni=arguments[Pt],Rn=0,qt=ni.length;Rn<qt;Rn++,ct++)Gt[ct]=ni[Rn];return Gt}Ae.d(kt,{in:()=>x,Yd:()=>Ye,Ub:()=>We,Am:()=>Mt});var $,ee=[],x=(()=>{return(gt=x||(x={}))[gt.DEBUG=0]="DEBUG",gt[gt.VERBOSE=1]="VERBOSE",gt[gt.INFO=2]="INFO",gt[gt.WARN=3]="WARN",gt[gt.ERROR=4]="ERROR",gt[gt.SILENT=5]="SILENT",x;var gt})(),de={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},Me=x.INFO,De=(($={})[x.DEBUG]="log",$[x.VERBOSE]="log",$[x.INFO]="info",$[x.WARN]="warn",$[x.ERROR]="error",$),Te=function(gt,Pt){for(var sn=[],Gt=2;Gt<arguments.length;Gt++)sn[Gt-2]=arguments[Gt];if(!(Pt<gt.logLevel)){var ct=(new Date).toISOString(),ni=De[Pt];if(!ni)throw new Error("Attempted to log a message with an invalid logType (value: "+Pt+")");console[ni].apply(console,o(["["+ct+"]  "+gt.name+":"],sn))}},Ye=function(){function gt(Pt){this.name=Pt,this._logLevel=Me,this._logHandler=Te,this._userLogHandler=null,ee.push(this)}return Object.defineProperty(gt.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Pt){if(!(Pt in x))throw new TypeError('Invalid value "'+Pt+'" assigned to `logLevel`');this._logLevel=Pt},enumerable:!1,configurable:!0}),gt.prototype.setLogLevel=function(Pt){this._logLevel="string"==typeof Pt?de[Pt]:Pt},Object.defineProperty(gt.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Pt){if("function"!=typeof Pt)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Pt},enumerable:!1,configurable:!0}),Object.defineProperty(gt.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Pt){this._userLogHandler=Pt},enumerable:!1,configurable:!0}),gt.prototype.debug=function(){for(var Pt=[],sn=0;sn<arguments.length;sn++)Pt[sn]=arguments[sn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.DEBUG],Pt)),this._logHandler.apply(this,o([this,x.DEBUG],Pt))},gt.prototype.log=function(){for(var Pt=[],sn=0;sn<arguments.length;sn++)Pt[sn]=arguments[sn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.VERBOSE],Pt)),this._logHandler.apply(this,o([this,x.VERBOSE],Pt))},gt.prototype.info=function(){for(var Pt=[],sn=0;sn<arguments.length;sn++)Pt[sn]=arguments[sn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.INFO],Pt)),this._logHandler.apply(this,o([this,x.INFO],Pt))},gt.prototype.warn=function(){for(var Pt=[],sn=0;sn<arguments.length;sn++)Pt[sn]=arguments[sn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.WARN],Pt)),this._logHandler.apply(this,o([this,x.WARN],Pt))},gt.prototype.error=function(){for(var Pt=[],sn=0;sn<arguments.length;sn++)Pt[sn]=arguments[sn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.ERROR],Pt)),this._logHandler.apply(this,o([this,x.ERROR],Pt))},gt}();function We(gt){ee.forEach(function(Pt){Pt.setLogLevel(gt)})}function Mt(gt,Pt){for(var sn=function(Rn){var qt=null;Pt&&Pt.level&&(qt=de[Pt.level]),Rn.userLogHandler=null===gt?null:function(ur,ds){for(var hi=[],zi=2;zi<arguments.length;zi++)hi[zi-2]=arguments[zi];var Bs=hi.map(function(tr){if(null==tr)return null;if("string"==typeof tr)return tr;if("number"==typeof tr||"boolean"==typeof tr)return tr.toString();if(tr instanceof Error)return tr.message;try{return JSON.stringify(tr)}catch(jr){return null}}).filter(function(tr){return tr}).join(" ");ds>=(null!=qt?qt:ur.logLevel)&&gt({level:x[ds].toLowerCase(),message:Bs,args:hi,type:ur.name})}},Gt=0,ct=ee;Gt<ct.length;Gt++)sn(ct[Gt])}},4685:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{BH:()=>Pt,LL:()=>bn,gQ:()=>nr,hu:()=>ee,g5:()=>x,US:()=>De,h$:()=>Te,r3:()=>Er,Sg:()=>sn,ne:()=>ko,p$:()=>We,ZB:()=>Mt,gK:()=>Eo,m9:()=>Vo,z$:()=>Gt,GJ:()=>Ni,jU:()=>Rn,ru:()=>qt,d:()=>ds,xb:()=>ss,w1:()=>hi,uI:()=>ct,UG:()=>ni,Yr:()=>Bs,b$:()=>ur,G6:()=>tr,Mn:()=>zi,w9:()=>ei,cI:()=>Ui,UI:()=>qs,xO:()=>dr,DV:()=>So,ug:()=>Nr,dS:()=>Go,Pz:()=>fi,Dv:()=>ir,Wj:()=>es,lb:()=>Vs});var o=Ae(4762),ee=function(Ft,Rt){if(!Ft)throw x(Rt)},x=function(Ft){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ft)},de=function(Ft){for(var Rt=[],Qt=0,gn=0;gn<Ft.length;gn++){var an=Ft.charCodeAt(gn);an<128?Rt[Qt++]=an:an<2048?(Rt[Qt++]=an>>6|192,Rt[Qt++]=63&an|128):55296==(64512&an)&&gn+1<Ft.length&&56320==(64512&Ft.charCodeAt(gn+1))?(an=65536+((1023&an)<<10)+(1023&Ft.charCodeAt(++gn)),Rt[Qt++]=an>>18|240,Rt[Qt++]=an>>12&63|128,Rt[Qt++]=an>>6&63|128,Rt[Qt++]=63&an|128):(Rt[Qt++]=an>>12|224,Rt[Qt++]=an>>6&63|128,Rt[Qt++]=63&an|128)}return Rt},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ft,Rt){if(!Array.isArray(Ft))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Qt=Rt?this.byteToCharMapWebSafe_:this.byteToCharMap_,gn=[],an=0;an<Ft.length;an+=3){var _i=Ft[an],Zi=an+1<Ft.length,mr=Zi?Ft[an+1]:0,Zr=an+2<Ft.length,Dr=Zr?Ft[an+2]:0,$e=(15&mr)<<2|Dr>>6,dt=63&Dr;Zr||(dt=64,Zi||($e=64)),gn.push(Qt[_i>>2],Qt[(3&_i)<<4|mr>>4],Qt[$e],Qt[dt])}return gn.join("")},encodeString:function(Ft,Rt){return this.HAS_NATIVE_SUPPORT&&!Rt?btoa(Ft):this.encodeByteArray(de(Ft),Rt)},decodeString:function(Ft,Rt){return this.HAS_NATIVE_SUPPORT&&!Rt?atob(Ft):function(Ft){for(var Rt=[],Qt=0,gn=0;Qt<Ft.length;){var an=Ft[Qt++];if(an<128)Rt[gn++]=String.fromCharCode(an);else if(an>191&&an<224){var _i=Ft[Qt++];Rt[gn++]=String.fromCharCode((31&an)<<6|63&_i)}else if(an>239&&an<365){var Zr=((7&an)<<18|(63&(_i=Ft[Qt++]))<<12|(63&(Zi=Ft[Qt++]))<<6|63&Ft[Qt++])-65536;Rt[gn++]=String.fromCharCode(55296+(Zr>>10)),Rt[gn++]=String.fromCharCode(56320+(1023&Zr))}else{_i=Ft[Qt++];var Zi=Ft[Qt++];Rt[gn++]=String.fromCharCode((15&an)<<12|(63&_i)<<6|63&Zi)}}return Rt.join("")}(this.decodeStringToByteArray(Ft,Rt))},decodeStringToByteArray:function(Ft,Rt){this.init_();for(var Qt=Rt?this.charToByteMapWebSafe_:this.charToByteMap_,gn=[],an=0;an<Ft.length;){var _i=Qt[Ft.charAt(an++)],mr=an<Ft.length?Qt[Ft.charAt(an)]:0,Dr=++an<Ft.length?Qt[Ft.charAt(an)]:64,He=++an<Ft.length?Qt[Ft.charAt(an)]:64;if(++an,null==_i||null==mr||null==Dr||null==He)throw Error();gn.push(_i<<2|mr>>4),64!==Dr&&(gn.push(mr<<4&240|Dr>>2),64!==He&&gn.push(Dr<<6&192|He))}return gn},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ft=0;Ft<this.ENCODED_VALS.length;Ft++)this.byteToCharMap_[Ft]=this.ENCODED_VALS.charAt(Ft),this.charToByteMap_[this.byteToCharMap_[Ft]]=Ft,this.byteToCharMapWebSafe_[Ft]=this.ENCODED_VALS_WEBSAFE.charAt(Ft),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ft]]=Ft,Ft>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ft)]=Ft,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ft)]=Ft)}}},Te=function(Ft){var Rt=de(Ft);return De.encodeByteArray(Rt,!0)},Ye=function(Ft){try{return De.decodeString(Ft,!0)}catch(Rt){console.error("base64Decode failed: ",Rt)}return null};function We(Ft){return Mt(void 0,Ft)}function Mt(Ft,Rt){if(!(Rt instanceof Object))return Rt;switch(Rt.constructor){case Date:return new Date(Rt.getTime());case Object:void 0===Ft&&(Ft={});break;case Array:Ft=[];break;default:return Rt}for(var gn in Rt)!Rt.hasOwnProperty(gn)||!gt(gn)||(Ft[gn]=Mt(Ft[gn],Rt[gn]));return Ft}function gt(Ft){return"__proto__"!==Ft}var Pt=function(){function Ft(){var Rt=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Qt,gn){Rt.resolve=Qt,Rt.reject=gn})}return Ft.prototype.wrapCallback=function(Rt){var Qt=this;return function(gn,an){gn?Qt.reject(gn):Qt.resolve(an),"function"==typeof Rt&&(Qt.promise.catch(function(){}),1===Rt.length?Rt(gn):Rt(gn,an))}},Ft}();function sn(Ft,Rt){if(Ft.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var gn=Rt||"demo-project",an=Ft.iat||0,_i=Ft.sub||Ft.user_id;if(!_i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Zi=(0,o.pi)({iss:"https://securetoken.google.com/"+gn,aud:gn,iat:an,exp:an+3600,auth_time:an,sub:_i,user_id:_i,firebase:{sign_in_provider:"custom",identities:{}}},Ft);return[De.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),De.encodeString(JSON.stringify(Zi),!1),""].join(".")}function Gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function ni(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ft){return!1}}function Rn(){return"object"==typeof self&&self.self===self}function qt(){var Ft="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ft&&void 0!==Ft.id}function ur(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ds(){return Gt().indexOf("Electron/")>=0}function hi(){var Ft=Gt();return Ft.indexOf("MSIE ")>=0||Ft.indexOf("Trident/")>=0}function zi(){return Gt().indexOf("MSAppHost/")>=0}function Bs(){return!1}function tr(){return!ni()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Hn=function(Ft){function Rt(Qt,gn,an){var _i=Ft.call(this,gn)||this;return _i.code=Qt,_i.customData=an,_i.name="FirebaseError",Object.setPrototypeOf(_i,Rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(_i,bn.prototype.create),_i}return(0,o.ZT)(Rt,Ft),Rt}(Error),bn=function(){function Ft(Rt,Qt,gn){this.service=Rt,this.serviceName=Qt,this.errors=gn}return Ft.prototype.create=function(Rt){for(var Qt=[],gn=1;gn<arguments.length;gn++)Qt[gn-1]=arguments[gn];var an=Qt[0]||{},_i=this.service+"/"+Rt,Zi=this.errors[Rt],mr=Zi?li(Zi,an):"Error",Zr=this.serviceName+": "+mr+" ("+_i+").",Dr=new Hn(_i,Zr,an);return Dr},Ft}();function li(Ft,Rt){return Ft.replace(Bi,function(Qt,gn){var an=Rt[gn];return null!=an?String(an):"<"+gn+"?>"})}var Bi=/\{\$([^}]+)}/g;function Ui(Ft){return JSON.parse(Ft)}function fi(Ft){return JSON.stringify(Ft)}var Ei=function(Ft){var Rt={},Qt={},gn={},an="";try{var _i=Ft.split(".");Rt=Ui(Ye(_i[0])||""),Qt=Ui(Ye(_i[1])||""),an=_i[2],gn=Qt.d||{},delete Qt.d}catch(Zi){}return{header:Rt,claims:Qt,data:gn,signature:an}},ei=function(Ft){var Qt=Ei(Ft).claims;return!!Qt&&"object"==typeof Qt&&Qt.hasOwnProperty("iat")},Ni=function(Ft){var Rt=Ei(Ft).claims;return"object"==typeof Rt&&!0===Rt.admin};function Er(Ft,Rt){return Object.prototype.hasOwnProperty.call(Ft,Rt)}function So(Ft,Rt){if(Object.prototype.hasOwnProperty.call(Ft,Rt))return Ft[Rt]}function ss(Ft){for(var Rt in Ft)if(Object.prototype.hasOwnProperty.call(Ft,Rt))return!1;return!0}function qs(Ft,Rt,Qt){var gn={};for(var an in Ft)Object.prototype.hasOwnProperty.call(Ft,an)&&(gn[an]=Rt.call(Qt,Ft[an],an,Ft));return gn}function dr(Ft){for(var Rt=[],Qt=function(Zr,Dr){Array.isArray(Dr)?Dr.forEach(function(at){Rt.push(encodeURIComponent(Zr)+"="+encodeURIComponent(at))}):Rt.push(encodeURIComponent(Zr)+"="+encodeURIComponent(Dr))},gn=0,an=Object.entries(Ft);gn<an.length;gn++){var _i=an[gn];Qt(_i[0],_i[1])}return Rt.length?"&"+Rt.join("&"):""}var nr=function(){function Ft(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Rt=1;Rt<this.blockSize;++Rt)this.pad_[Rt]=0;this.reset()}return Ft.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ft.prototype.compress_=function(Rt,Qt){Qt||(Qt=0);var gn=this.W_;if("string"==typeof Rt)for(var an=0;an<16;an++)gn[an]=Rt.charCodeAt(Qt)<<24|Rt.charCodeAt(Qt+1)<<16|Rt.charCodeAt(Qt+2)<<8|Rt.charCodeAt(Qt+3),Qt+=4;else for(an=0;an<16;an++)gn[an]=Rt[Qt]<<24|Rt[Qt+1]<<16|Rt[Qt+2]<<8|Rt[Qt+3],Qt+=4;for(an=16;an<80;an++)gn[an]=4294967295&((_i=gn[an-3]^gn[an-8]^gn[an-14]^gn[an-16])<<1|_i>>>31);var He,$e,Zi=this.chain_[0],mr=this.chain_[1],Zr=this.chain_[2],Dr=this.chain_[3],at=this.chain_[4];for(an=0;an<80;an++){an<40?an<20?(He=Dr^mr&(Zr^Dr),$e=1518500249):(He=mr^Zr^Dr,$e=1859775393):an<60?(He=mr&Zr|Dr&(mr|Zr),$e=2400959708):(He=mr^Zr^Dr,$e=3395469782);var _i=(Zi<<5|Zi>>>27)+He+at+$e+gn[an]&4294967295;at=Dr,Dr=Zr,Zr=4294967295&(mr<<30|mr>>>2),mr=Zi,Zi=_i}this.chain_[0]=this.chain_[0]+Zi&4294967295,this.chain_[1]=this.chain_[1]+mr&4294967295,this.chain_[2]=this.chain_[2]+Zr&4294967295,this.chain_[3]=this.chain_[3]+Dr&4294967295,this.chain_[4]=this.chain_[4]+at&4294967295},Ft.prototype.update=function(Rt,Qt){if(null!=Rt){void 0===Qt&&(Qt=Rt.length);for(var gn=Qt-this.blockSize,an=0,_i=this.buf_,Zi=this.inbuf_;an<Qt;){if(0===Zi)for(;an<=gn;)this.compress_(Rt,an),an+=this.blockSize;if("string"==typeof Rt){for(;an<Qt;)if(_i[Zi]=Rt.charCodeAt(an),++an,++Zi===this.blockSize){this.compress_(_i),Zi=0;break}}else for(;an<Qt;)if(_i[Zi]=Rt[an],++an,++Zi===this.blockSize){this.compress_(_i),Zi=0;break}}this.inbuf_=Zi,this.total_+=Qt}},Ft.prototype.digest=function(){var Rt=[],Qt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var gn=this.blockSize-1;gn>=56;gn--)this.buf_[gn]=255&Qt,Qt/=256;this.compress_(this.buf_);var an=0;for(gn=0;gn<5;gn++)for(var _i=24;_i>=0;_i-=8)Rt[an]=this.chain_[gn]>>_i&255,++an;return Rt},Ft}();function ko(Ft,Rt){var Qt=new $s(Ft,Rt);return Qt.subscribe.bind(Qt)}var $s=function(){function Ft(Rt,Qt){var gn=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qt,this.task.then(function(){Rt(gn)}).catch(function(an){gn.error(an)})}return Ft.prototype.next=function(Rt){this.forEachObserver(function(Qt){Qt.next(Rt)})},Ft.prototype.error=function(Rt){this.forEachObserver(function(Qt){Qt.error(Rt)}),this.close(Rt)},Ft.prototype.complete=function(){this.forEachObserver(function(Rt){Rt.complete()}),this.close()},Ft.prototype.subscribe=function(Rt,Qt,gn){var _i,an=this;if(void 0===Rt&&void 0===Qt&&void 0===gn)throw new Error("Missing Observer.");void 0===(_i=function(Ft,Rt){if("object"!=typeof Ft||null===Ft)return!1;for(var Qt=0,gn=["next","error","complete"];Qt<gn.length;Qt++){var an=gn[Qt];if(an in Ft&&"function"==typeof Ft[an])return!0}return!1}(Rt)?Rt:{next:Rt,error:Qt,complete:gn}).next&&(_i.next=wr),void 0===_i.error&&(_i.error=wr),void 0===_i.complete&&(_i.complete=wr);var Zi=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{an.finalError?_i.error(an.finalError):_i.complete()}catch(mr){}}),this.observers.push(_i),Zi},Ft.prototype.unsubscribeOne=function(Rt){void 0===this.observers||void 0===this.observers[Rt]||(delete this.observers[Rt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ft.prototype.forEachObserver=function(Rt){if(!this.finalized)for(var Qt=0;Qt<this.observers.length;Qt++)this.sendOne(Qt,Rt)},Ft.prototype.sendOne=function(Rt,Qt){var gn=this;this.task.then(function(){if(void 0!==gn.observers&&void 0!==gn.observers[Rt])try{Qt(gn.observers[Rt])}catch(an){"undefined"!=typeof console&&console.error&&console.error(an)}})},Ft.prototype.close=function(Rt){var Qt=this;this.finalized||(this.finalized=!0,void 0!==Rt&&(this.finalError=Rt),this.task.then(function(){Qt.observers=void 0,Qt.onNoObservers=void 0}))},Ft}();function wr(){}var ir=function(Ft,Rt,Qt,gn){var an;if(gn<Rt?an="at least "+Rt:gn>Qt&&(an=0===Qt?"none":"no more than "+Qt),an)throw new Error(Ft+" failed: Was called with "+gn+(1===gn?" argument.":" arguments.")+" Expects "+an+".")};function Eo(Ft,Rt){return Ft+" failed: "+Rt+" argument "}function es(Ft,Rt,Qt,gn){if((!gn||Qt)&&"function"!=typeof Qt)throw new Error(Eo(Ft,Rt)+"must be a valid function.")}function Vs(Ft,Rt,Qt,gn){if((!gn||Qt)&&("object"!=typeof Qt||null===Qt))throw new Error(Eo(Ft,Rt)+"must be a valid context object.")}var Go=function(Ft){for(var Rt=[],Qt=0,gn=0;gn<Ft.length;gn++){var an=Ft.charCodeAt(gn);if(an>=55296&&an<=56319){var _i=an-55296;gn++,ee(gn<Ft.length,"Surrogate pair missing trail surrogate."),an=65536+(_i<<10)+(Ft.charCodeAt(gn)-56320)}an<128?Rt[Qt++]=an:an<2048?(Rt[Qt++]=an>>6|192,Rt[Qt++]=63&an|128):an<65536?(Rt[Qt++]=an>>12|224,Rt[Qt++]=an>>6&63|128,Rt[Qt++]=63&an|128):(Rt[Qt++]=an>>18|240,Rt[Qt++]=an>>12&63|128,Rt[Qt++]=an>>6&63|128,Rt[Qt++]=63&an|128)}return Rt},Nr=function(Ft){for(var Rt=0,Qt=0;Qt<Ft.length;Qt++){var gn=Ft.charCodeAt(Qt);gn<128?Rt++:gn<2048?Rt+=2:gn>=55296&&gn<=56319?(Rt+=4,Qt++):Rt+=3}return Rt};function Vo(Ft){return Ft&&Ft._delegate?Ft._delegate:Ft}},3300:(jt,kt,Ae)=>{"use strict";var o;function $(Re){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(Re)}function ee(Re,p){if(!(Re instanceof p))throw new TypeError("Cannot call a class as a function")}function x(Re,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(Re,b.key,b)}}function de(Re,p,f){return p&&x(Re.prototype,p),f&&x(Re,f),Re}function Me(Re,p,f){return p in Re?Object.defineProperty(Re,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):Re[p]=f,Re}function De(Re,p){var f=Object.keys(Re);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(Re);p&&(b=b.filter(function(S){return Object.getOwnPropertyDescriptor(Re,S).enumerable})),f.push.apply(f,b)}return f}function Te(Re){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?De(Object(f),!0).forEach(function(b){Me(Re,b,f[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(f)):De(Object(f)).forEach(function(b){Object.defineProperty(Re,b,Object.getOwnPropertyDescriptor(f,b))})}return Re}function Ye(Re,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(p&&p.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),p&&Mt(Re,p)}function We(Re){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(Re)}function Mt(Re,p){return(Mt=Object.setPrototypeOf||function(f,b){return f.__proto__=b,f})(Re,p)}function gt(Re,p){return!p||"object"!=typeof p&&"function"!=typeof p?function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(Re):p}function Pt(Re){var p=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var f,b=We(Re);if(p){var S=We(this).constructor;f=Reflect.construct(b,arguments,S)}else f=b.apply(this,arguments);return gt(this,f)}}function sn(Re){return function(p){if(Array.isArray(p))return Gt(p)}(Re)||function(p){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(p))return Array.from(p)}(Re)||function(p,f){if(p){if("string"==typeof p)return Gt(p,f);var b=Object.prototype.toString.call(p).slice(8,-1);if("Object"===b&&p.constructor&&(b=p.constructor.name),"Map"===b||"Set"===b)return Array.from(p);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Gt(p,f)}}(Re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(Re,p){(null==p||p>Re.length)&&(p=Re.length);for(var f=0,b=new Array(p);f<p;f++)b[f]=Re[f];return b}var ct=function(){function Re(){ee(this,Re)}return de(Re,[{key:"shadeRGBColor",value:function(p,f){var b=f.split(","),S=p<0?0:255,D=p<0?-1*p:p,B=parseInt(b[0].slice(4),10),F=parseInt(b[1],10),W=parseInt(b[2],10);return"rgb("+(Math.round((S-B)*D)+B)+","+(Math.round((S-F)*D)+F)+","+(Math.round((S-W)*D)+W)+")"}},{key:"shadeHexColor",value:function(p,f){var b=parseInt(f.slice(1),16),S=p<0?0:255,D=p<0?-1*p:p,B=b>>16,F=b>>8&255,W=255&b;return"#"+(16777216+65536*(Math.round((S-B)*D)+B)+256*(Math.round((S-F)*D)+F)+(Math.round((S-W)*D)+W)).toString(16).slice(1)}},{key:"shadeColor",value:function(p,f){return Re.isColorHex(f)?this.shadeHexColor(p,f):this.shadeRGBColor(p,f)}}],[{key:"bind",value:function(p,f){return function(){return p.apply(f,arguments)}}},{key:"isObject",value:function(p){return p&&"object"===$(p)&&!Array.isArray(p)&&null!=p}},{key:"listToArray",value:function(p){var f,b=[];for(f=0;f<p.length;f++)b[f]=p[f];return b}},{key:"extend",value:function(p,f){var b=this;"function"!=typeof Object.assign&&(Object.assign=function(D){if(null==D)throw new TypeError("Cannot convert undefined or null to object");for(var B=Object(D),F=1;F<arguments.length;F++){var W=arguments[F];if(null!=W)for(var q in W)W.hasOwnProperty(q)&&(B[q]=W[q])}return B});var S=Object.assign({},p);return this.isObject(p)&&this.isObject(f)&&Object.keys(f).forEach(function(D){b.isObject(f[D])&&D in p?S[D]=b.extend(p[D],f[D]):Object.assign(S,Me({},D,f[D]))}),S}},{key:"extendArray",value:function(p,f){var b=[];return p.map(function(S){b.push(Re.extend(f,S))}),b}},{key:"monthMod",value:function(p){return p%12}},{key:"clone",value:function(p){if("[object Array]"===Object.prototype.toString.call(p)){for(var f=[],b=0;b<p.length;b++)f[b]=this.clone(p[b]);return f}if("[object Null]"===Object.prototype.toString.call(p))return null;if("[object Date]"===Object.prototype.toString.call(p))return p;if("object"===$(p)){var S={};for(var D in p)p.hasOwnProperty(D)&&(S[D]=this.clone(p[D]));return S}return p}},{key:"log10",value:function(p){return Math.log(p)/Math.LN10}},{key:"roundToBase10",value:function(p){return Math.pow(10,Math.floor(Math.log10(p)))}},{key:"roundToBase",value:function(p,f){return Math.pow(f,Math.floor(Math.log(p)/Math.log(f)))}},{key:"parseNumber",value:function(p){return null===p?p:parseFloat(p)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(p){var f=String(p).split(/[eE]/);if(1===f.length)return f[0];var b="",S=p<0?"-":"",D=f[0].replace(".",""),B=Number(f[1])+1;if(B<0){for(b=S+"0.";B++;)b+="0";return b+D.replace(/^-/,"")}for(B-=D.length;B--;)b+="0";return D+b}},{key:"getDimensions",value:function(p){var f=getComputedStyle(p,null),b=p.clientHeight,S=p.clientWidth;return b-=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom),[S-=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight),b]}},{key:"getBoundingClientRect",value:function(p){var f=p.getBoundingClientRect();return{top:f.top,right:f.right,bottom:f.bottom,left:f.left,width:p.clientWidth,height:p.clientHeight,x:f.left,y:f.top}}},{key:"getLargestStringFromArr",value:function(p){return p.reduce(function(f,b){return Array.isArray(b)&&(b=b.reduce(function(S,D){return S.length>D.length?S:D})),f.length>b.length?f:b},0)}},{key:"hexToRgba",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==p.substring(0,1)&&(p="#999999");var b=p.replace("#","");b=b.match(new RegExp("(.{"+b.length/3+"})","g"));for(var S=0;S<b.length;S++)b[S]=parseInt(1===b[S].length?b[S]+b[S]:b[S],16);return void 0!==f&&b.push(f),"rgba("+b.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(p){return parseFloat(p.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(p){return(p=p.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===p.length?"#"+("0"+parseInt(p[1],10).toString(16)).slice(-2)+("0"+parseInt(p[2],10).toString(16)).slice(-2)+("0"+parseInt(p[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(p){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(p)}},{key:"getPolygonPos",value:function(p,f){for(var b=[],S=2*Math.PI/f,D=0;D<f;D++){var B={};B.x=p*Math.sin(D*S),B.y=-p*Math.cos(D*S),b.push(B)}return b}},{key:"polarToCartesian",value:function(p,f,b,S){var D=(S-90)*Math.PI/180;return{x:p+b*Math.cos(D),y:f+b*Math.sin(D)}}},{key:"escapeString",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",b=p.toString().slice();return b.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,f)}},{key:"negToZero",value:function(p){return p<0?0:p}},{key:"moveIndexInArray",value:function(p,f,b){if(b>=p.length)for(var S=b-p.length+1;S--;)p.push(void 0);return p.splice(b,0,p.splice(f,1)[0]),p}},{key:"extractNumber",value:function(p){return parseFloat(p.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(p,f){for(;(p=p.parentElement)&&!p.classList.contains(f););return p}},{key:"setELstyles",value:function(p,f){for(var b in f)f.hasOwnProperty(b)&&(p.style.key=f[b])}},{key:"isNumber",value:function(p){return!isNaN(p)&&parseFloat(Number(p))===p&&!isNaN(parseInt(p,10))}},{key:"isFloat",value:function(p){return Number(p)===p&&p%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var p=window.navigator.userAgent,f=p.indexOf("MSIE ");if(f>0)return parseInt(p.substring(f+5,p.indexOf(".",f)),10);if(p.indexOf("Trident/")>0){var b=p.indexOf("rv:");return parseInt(p.substring(b+3,p.indexOf(".",b)),10)}var S=p.indexOf("Edge/");return S>0&&parseInt(p.substring(S+5,p.indexOf(".",S)),10)}},{key:"sanitizeDom",value:function(p){return String(p).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}]),Re}(),ni=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.setEasingFunctions()}return de(Re,[{key:"setEasingFunctions",value:function(){var p;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":p="-";break;case"easein":p="<";break;case"easeout":p=">";break;case"easeinout":p="<>";break;case"swing":p=function(f){var b=1.70158;return(f-=1)*f*((b+1)*f+b)+1};break;case"bounce":p=function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375};break;case"elastic":p=function(f){return f===!!f?f:Math.pow(2,-10*f)*Math.sin((f-.075)*(2*Math.PI)/.3)+1};break;default:p="<>"}this.w.globals.easing=p}}},{key:"animateLine",value:function(p,f,b,S){p.attr(f).animate(S).attr(b)}},{key:"animateMarker",value:function(p,f,b,S,D,B){f||(f=0),p.attr({r:f,width:f,height:f}).animate(S,D).attr({r:b,width:b.width,height:b.height}).afterAll(function(){B()})}},{key:"animateCircle",value:function(p,f,b,S,D){p.attr({r:f.r,cx:f.cx,cy:f.cy}).animate(S,D).attr({r:b.r,cx:b.cx,cy:b.cy})}},{key:"animateRect",value:function(p,f,b,S,D){p.attr(f).animate(S).attr(b).afterAll(function(){return D()})}},{key:"animatePathsGradually",value:function(p){var oe=this.w,ue=0;oe.config.chart.animations.animateGradually.enabled&&(ue=oe.config.chart.animations.animateGradually.delay),oe.config.chart.animations.dynamicAnimation.enabled&&oe.globals.dataChanged&&"bar"!==oe.config.chart.type&&(ue=0),this.morphSVG(p.el,p.realIndex,p.j,"line"!==oe.config.chart.type||oe.globals.comboCharts?p.fill:"stroke",p.pathFrom,p.pathTo,p.speed,p.delay*ue)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(p){p.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(p){var f=this.w;f.globals.animationEnded||(f.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof f.config.chart.events.animationEnd&&f.config.chart.events.animationEnd(this.ctx,{el:p,w:f}))}},{key:"morphSVG",value:function(p,f,b,S,D,B,F,W){var q=this,oe=this.w;D||(D=p.attr("pathFrom")),B||(B=p.attr("pathTo"));var ue=function(ae){return"radar"===oe.config.chart.type&&(F=1),"M 0 ".concat(oe.globals.gridHeight)};(!D||D.indexOf("undefined")>-1||D.indexOf("NaN")>-1)&&(D=ue()),(!B||B.indexOf("undefined")>-1||B.indexOf("NaN")>-1)&&(B=ue()),oe.globals.shouldAnimate||(F=1),p.plot(D).animate(1,oe.globals.easing,W).plot(D).animate(F,oe.globals.easing,W).plot(B).afterAll(function(){ct.isNumber(b)?b===oe.globals.series[oe.globals.maxValsInArrayIndex].length-2&&oe.globals.shouldAnimate&&q.animationCompleted(p):"none"!==S&&oe.globals.shouldAnimate&&(!oe.globals.comboCharts&&f===oe.globals.series.length-1||oe.globals.comboCharts)&&q.animationCompleted(p),q.showDelayedElements()})}}]),Re}(),Rn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getDefaultFilter",value:function(p,f){var b=this.w;p.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==b.config.states.normal.filter?this.applyFilter(p,f,b.config.states.normal.filter.type,b.config.states.normal.filter.value):b.config.chart.dropShadow.enabled&&this.dropShadow(p,b.config.chart.dropShadow,f)}},{key:"addNormalFilter",value:function(p,f){var b=this.w;b.config.chart.dropShadow.enabled&&!p.node.classList.contains("apexcharts-marker")&&this.dropShadow(p,b.config.chart.dropShadow,f)}},{key:"addLightenFilter",value:function(p,f,b){var S=this,D=this.w,B=b.intensity;p.unfilter(!0),new window.SVG.Filter,p.filter(function(F){var W=D.config.chart.dropShadow;(W.enabled?S.addShadow(F,f,W):F).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:B}})}),p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)}},{key:"addDarkenFilter",value:function(p,f,b){var S=this,D=this.w,B=b.intensity;p.unfilter(!0),new window.SVG.Filter,p.filter(function(F){var W=D.config.chart.dropShadow;(W.enabled?S.addShadow(F,f,W):F).componentTransfer({rgb:{type:"linear",slope:B}})}),p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)}},{key:"applyFilter",value:function(p,f,b){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(b){case"none":this.addNormalFilter(p,f);break;case"lighten":this.addLightenFilter(p,f,{intensity:S});break;case"darken":this.addDarkenFilter(p,f,{intensity:S})}}},{key:"addShadow",value:function(p,f,b){var S=b.blur,D=b.top,B=b.left,F=b.color,W=b.opacity,q=p.flood(Array.isArray(F)?F[f]:F,W).composite(p.sourceAlpha,"in").offset(B,D).gaussianBlur(S).merge(p.source);return p.blend(p.source,q)}},{key:"dropShadow",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=f.top,D=f.left,B=f.blur,F=f.color,W=f.opacity,q=f.noUserSpaceOnUse,oe=this.w;return p.unfilter(!0),ct.isIE()&&"radialBar"===oe.config.chart.type||(F=Array.isArray(F)?F[b]:F,p.filter(function(ue){var ae;ae=ct.isSafari()||ct.isFirefox()||ct.isIE()?ue.flood(F,W).composite(ue.sourceAlpha,"in").offset(D,S).gaussianBlur(B):ue.flood(F,W).composite(ue.sourceAlpha,"in").offset(D,S).gaussianBlur(B).merge(ue.source),ue.blend(ue.source,ae)}),q||p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)),p}},{key:"setSelectionFilter",value:function(p,f,b){var S=this.w;if(void 0!==S.globals.selectedDataPoints[f]&&S.globals.selectedDataPoints[f].indexOf(b)>-1){p.node.setAttribute("selected",!0);var D=S.config.states.active.filter;"none"!==D&&this.applyFilter(p,f,D.type,D.value)}}},{key:"_scaleFilterSize",value:function(p){!function(f){for(var b in f)f.hasOwnProperty(b)&&p.setAttribute(b,f[b])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Re}(),qt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawLine",value:function(p,f,b,S){var D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,W=this.w,q=W.globals.dom.Paper.line().attr({x1:p,y1:f,x2:b,y2:S,stroke:D,"stroke-dasharray":B,"stroke-width":F});return q}},{key:"drawRect",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,oe=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,ue=this.w,ae=ue.globals.dom.Paper.rect();return ae.attr({x:p,y:f,width:b>0?b:0,height:S>0?S:0,rx:D,ry:D,opacity:F,"stroke-width":null!==W?W:0,stroke:null!==q?q:"none","stroke-dasharray":oe}),ae.node.setAttribute("fill",B),ae}},{key:"drawPolygon",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",D=this.w,B=D.globals.dom.Paper.polygon(p).attr({fill:S,stroke:f,"stroke-width":b});return B}},{key:"drawCircle",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.w;p<0&&(p=0);var S=b.globals.dom.Paper.circle(2*p);return null!==f&&S.attr(f),S}},{key:"drawPath",value:function(p){var f=p.d,b=void 0===f?"":f,S=p.stroke,D=void 0===S?"#a8a8a8":S,B=p.strokeWidth,F=void 0===B?1:B,W=p.fill,q=p.fillOpacity,oe=void 0===q?1:q,ue=p.strokeOpacity,ae=void 0===ue?1:ue,_e=p.classes,Ie=p.strokeLinecap,Pe=void 0===Ie?null:Ie,Be=p.strokeDashArray,Ge=void 0===Be?0:Be,st=this.w;return null===Pe&&(Pe=st.config.stroke.lineCap),(b.indexOf("undefined")>-1||b.indexOf("NaN")>-1)&&(b="M 0 ".concat(st.globals.gridHeight)),st.globals.dom.Paper.path(b).attr({fill:W,"fill-opacity":oe,stroke:D,"stroke-opacity":ae,"stroke-linecap":Pe,"stroke-width":F,"stroke-dasharray":Ge,class:_e})}},{key:"group",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this.w,b=f.globals.dom.Paper.group();return null!==p&&b.attr(p),b}},{key:"move",value:function(p,f){return["M",p,f].join(" ")}},{key:"line",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=null;return null===b?S=["L",p,f].join(" "):"H"===b?S=["H",p].join(" "):"V"===b&&(S=["V",f].join(" ")),S}},{key:"curve",value:function(p,f,b,S,D,B){return["C",p,f,b,S,D,B].join(" ")}},{key:"quadraticCurve",value:function(p,f,b,S){return["Q",p,f,b,S].join(" ")}},{key:"arc",value:function(p,f,b,S,D,B,F){var W=arguments.length>7&&void 0!==arguments[7]&&arguments[7],q="A";W&&(q="a");var oe=[q,p,f,b,S,D,B,F].join(" ");return oe}},{key:"renderPaths",value:function(p){var f,b=p.j,S=p.realIndex,D=p.pathFrom,B=p.pathTo,F=p.stroke,W=p.strokeWidth,q=p.strokeLinecap,oe=p.fill,ue=p.animationDelay,ae=p.initialSpeed,_e=p.dataChangeSpeed,Ie=p.className,Pe=p.shouldClipToGrid,Be=void 0===Pe||Pe,Ge=p.bindEventsOnPaths,st=void 0===Ge||Ge,bt=p.drawShadow,J=void 0===bt||bt,pe=this.w,ze=new Rn(this.ctx),Je=new ni(this.ctx),ft=this.w.config.chart.animations.enabled,ln=ft&&this.w.config.chart.animations.dynamicAnimation.enabled,$t=!!(ft&&!pe.globals.resized||ln&&pe.globals.dataChanged&&pe.globals.shouldAnimate);$t?f=D:(f=B,pe.globals.animationEnded=!0);var Un,cn=pe.config.stroke.dashArray;Un=Array.isArray(cn)?cn[S]:pe.config.stroke.dashArray;var zn=this.drawPath({d:f,stroke:F,strokeWidth:W,fill:oe,fillOpacity:1,classes:Ie,strokeLinecap:q,strokeDashArray:Un});zn.attr("index",S),Be&&zn.attr({"clip-path":"url(#gridRectMask".concat(pe.globals.cuid,")")}),"none"!==pe.config.states.normal.filter.type?ze.getDefaultFilter(zn,S):pe.config.chart.dropShadow.enabled&&J&&(!pe.config.chart.dropShadow.enabledOnSeries||pe.config.chart.dropShadow.enabledOnSeries&&-1!==pe.config.chart.dropShadow.enabledOnSeries.indexOf(S))&&ze.dropShadow(zn,pe.config.chart.dropShadow,S),st&&(zn.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,zn)),zn.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,zn)),zn.node.addEventListener("mousedown",this.pathMouseDown.bind(this,zn))),zn.attr({pathTo:B,pathFrom:D});var gr={el:zn,j:b,realIndex:S,pathFrom:D,pathTo:B,fill:oe,strokeWidth:W,delay:ue};return!ft||pe.globals.resized||pe.globals.dataChanged?!pe.globals.resized&&pe.globals.dataChanged||Je.showDelayedElements():Je.animatePathsGradually(Te(Te({},gr),{},{speed:ae})),pe.globals.dataChanged&&ln&&$t&&Je.animatePathsGradually(Te(Te({},gr),{},{speed:_e})),zn}},{key:"drawPattern",value:function(p,f,b){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,B=this.w,F=B.globals.dom.Paper.pattern(f,b,function(W){"horizontalLines"===p?W.line(0,0,b,0).stroke({color:S,width:D+1}):"verticalLines"===p?W.line(0,0,0,f).stroke({color:S,width:D+1}):"slantedLines"===p?W.line(0,0,f,b).stroke({color:S,width:D}):"squares"===p?W.rect(f,b).fill("none").stroke({color:S,width:D}):"circles"===p&&W.circle(f).fill("none").stroke({color:S,width:D})});return F}},{key:"drawGradient",value:function(p,f,b,S,D){var B,F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,W=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,oe=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,ue=this.w;f.length<9&&0===f.indexOf("#")&&(f=ct.hexToRgba(f,S)),b.length<9&&0===b.indexOf("#")&&(b=ct.hexToRgba(b,D));var ae=0,_e=1,Ie=1,Pe=null;null!==W&&(ae=void 0!==W[0]?W[0]/100:0,_e=void 0!==W[1]?W[1]/100:1,Ie=void 0!==W[2]?W[2]/100:1,Pe=void 0!==W[3]?W[3]/100:null);var Be=!("donut"!==ue.config.chart.type&&"pie"!==ue.config.chart.type&&"polarArea"!==ue.config.chart.type&&"bubble"!==ue.config.chart.type);if(B=ue.globals.dom.Paper.gradient(Be?"radial":"linear",null===q||0===q.length?function(bt){bt.at(ae,f,S),bt.at(_e,b,D),bt.at(Ie,b,D),null!==Pe&&bt.at(Pe,f,S)}:function(bt){(Array.isArray(q[oe])?q[oe]:q).forEach(function(J){bt.at(J.offset/100,J.color,J.opacity)})}),Be){var Ge=ue.globals.gridWidth/2,st=ue.globals.gridHeight/2;B.attr("bubble"!==ue.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:Ge,cy:st,r:F}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===p?B.from(0,0).to(0,1):"diagonal"===p?B.from(0,0).to(1,1):"horizontal"===p?B.from(0,1).to(1,1):"diagonal2"===p&&B.from(1,0).to(0,1);return B}},{key:"drawText",value:function(p){var f,b=p.x,S=p.y,D=p.text,B=p.textAnchor,F=p.fontSize,W=p.fontFamily,q=p.fontWeight,oe=p.foreColor,ue=p.opacity,ae=p.cssClass,_e=void 0===ae?"":ae,Ie=p.isPlainText,Pe=void 0===Ie||Ie,Be=this.w;return void 0===D&&(D=""),B||(B="start"),oe&&oe.length||(oe=Be.config.chart.foreColor),W=W||Be.config.chart.fontFamily,q=q||"regular",(f=Array.isArray(D)?Be.globals.dom.Paper.text(function(Ge){for(var st=0;st<D.length;st++)0===st?Ge.tspan(D[st]):Ge.tspan(D[st]).newLine()}):Pe?Be.globals.dom.Paper.plain(D):Be.globals.dom.Paper.text(function(Ge){return Ge.tspan(D)})).attr({x:b,y:S,"text-anchor":B,"dominant-baseline":"auto","font-size":F,"font-family":W,"font-weight":q,fill:oe,class:"apexcharts-text "+_e}),f.node.style.fontFamily=W,f.node.style.opacity=ue,f}},{key:"drawMarker",value:function(p,f,b){p=p||0;var S=b.pSize||0,D=null;if("square"===b.shape||"rect"===b.shape){var B=void 0===b.pRadius?S/2:b.pRadius;null!==f&&S||(S=0,B=0);var F=1.2*S+B,W=this.drawRect(F,F,F,F,B);W.attr({x:p-F/2,y:f-F/2,cx:p,cy:f,class:b.class?b.class:"",fill:b.pointFillColor,"fill-opacity":b.pointFillOpacity?b.pointFillOpacity:1,stroke:b.pointStrokeColor,"stroke-width":b.pointStrokeWidth?b.pointStrokeWidth:0,"stroke-opacity":b.pointStrokeOpacity?b.pointStrokeOpacity:1}),D=W}else"circle"!==b.shape&&b.shape||(ct.isNumber(f)||(S=0,f=0),D=this.drawCircle(S,{cx:p,cy:f,class:b.class?b.class:"",stroke:b.pointStrokeColor,fill:b.pointFillColor,"fill-opacity":b.pointFillOpacity?b.pointFillOpacity:1,"stroke-width":b.pointStrokeWidth?b.pointStrokeWidth:0,"stroke-opacity":b.pointStrokeOpacity?b.pointStrokeOpacity:1}));return D}},{key:"pathMouseEnter",value:function(p,f){var b=this.w,S=new Rn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10);if("function"==typeof b.config.chart.events.dataPointMouseEnter&&b.config.chart.events.dataPointMouseEnter(f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}),this.ctx.events.fireEvent("dataPointMouseEnter",[f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}]),("none"===b.config.states.active.filter.type||"true"!==p.node.getAttribute("selected"))&&"none"!==b.config.states.hover.filter.type&&"none"!==b.config.states.active.filter.type&&!b.globals.isTouchDevice){var F=b.config.states.hover.filter;S.applyFilter(p,D,F.type,F.value)}}},{key:"pathMouseLeave",value:function(p,f){var b=this.w,S=new Rn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10);"function"==typeof b.config.chart.events.dataPointMouseLeave&&b.config.chart.events.dataPointMouseLeave(f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}),this.ctx.events.fireEvent("dataPointMouseLeave",[f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}]),"none"!==b.config.states.active.filter.type&&"true"===p.node.getAttribute("selected")||"none"!==b.config.states.hover.filter.type&&S.getDefaultFilter(p,D)}},{key:"pathMouseDown",value:function(p,f){var b=this.w,S=new Rn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10),F="false";if("true"===p.node.getAttribute("selected")){if(p.node.setAttribute("selected","false"),b.globals.selectedDataPoints[D].indexOf(B)>-1){var W=b.globals.selectedDataPoints[D].indexOf(B);b.globals.selectedDataPoints[D].splice(W,1)}}else{if(!b.config.states.active.allowMultipleDataPointsSelection&&b.globals.selectedDataPoints.length>0){b.globals.selectedDataPoints=[];var q=b.globals.dom.Paper.select(".apexcharts-series path").members,oe=b.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,ue=function(_e){Array.prototype.forEach.call(_e,function(Ie){Ie.node.setAttribute("selected","false"),S.getDefaultFilter(Ie,D)})};ue(q),ue(oe)}p.node.setAttribute("selected","true"),F="true",void 0===b.globals.selectedDataPoints[D]&&(b.globals.selectedDataPoints[D]=[]),b.globals.selectedDataPoints[D].push(B)}if("true"===F){var ae=b.config.states.active.filter;"none"!==ae&&S.applyFilter(p,D,ae.type,ae.value)}else"none"!==b.config.states.active.filter.type&&S.getDefaultFilter(p,D);"function"==typeof b.config.chart.events.dataPointSelection&&b.config.chart.events.dataPointSelection(f,this.ctx,{selectedDataPoints:b.globals.selectedDataPoints,seriesIndex:D,dataPointIndex:B,w:b}),f&&this.ctx.events.fireEvent("dataPointSelection",[f,this.ctx,{selectedDataPoints:b.globals.selectedDataPoints,seriesIndex:D,dataPointIndex:B,w:b}])}},{key:"rotateAroundCenter",value:function(p){var f=p.getBBox();return{x:f.x+f.width/2,y:f.y+f.height/2}}},{key:"getTextRects",value:function(p,f,b,S){var D=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],B=this.w,F=this.drawText({x:-200,y:-200,text:p,textAnchor:"start",fontSize:f,fontFamily:b,foreColor:"#fff",opacity:0});S&&F.attr("transform",S),B.globals.dom.Paper.add(F);var W=F.bbox();return D||(W=F.node.getBoundingClientRect()),F.remove(),{width:W.width,height:W.height}}},{key:"placeTextWithEllipsis",value:function(p,f,b){if("function"==typeof p.getComputedTextLength&&(p.textContent=f,f.length>0&&p.getComputedTextLength()>=b/1.1)){for(var S=f.length-3;S>0;S-=3)if(p.getSubStringLength(0,S)<=b/1.1)return void(p.textContent=f.substring(0,S)+"...");p.textContent="."}}}],[{key:"setAttrs",value:function(p,f){for(var b in f)f.hasOwnProperty(b)&&p.setAttribute(b,f[b])}}]),Re}(),ur=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"setOrientations",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.w;if("vertical"===p.label.orientation){var S=null!==f?f:0,D=b.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(S,"']"));if(null!==D){var B=D.getBoundingClientRect();D.setAttribute("x",parseFloat(D.getAttribute("x"))-B.height+4),D.setAttribute("y","top"===p.label.position?parseFloat(D.getAttribute("y"))+B.width:parseFloat(D.getAttribute("y"))-B.width);var F=this.annoCtx.graphics.rotateAroundCenter(D),W=F.x,q=F.y;D.setAttribute("transform","rotate(-90 ".concat(W," ").concat(q,")"))}}}},{key:"addBackgroundToAnno",value:function(p,f){var b=this.w;if(!p||!f.label.text||f.label.text&&!f.label.text.trim())return null;var S=b.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),D=p.getBoundingClientRect(),B=f.label.style.padding.left,F=f.label.style.padding.right,W=f.label.style.padding.top,q=f.label.style.padding.bottom;"vertical"===f.label.orientation&&(W=f.label.style.padding.left,q=f.label.style.padding.right,B=f.label.style.padding.top,F=f.label.style.padding.bottom);var ae=this.annoCtx.graphics.drawRect(D.left-S.left-B-b.globals.barPadForNumericAxis,D.top-S.top-W,D.width+B+F,D.height+W+q,f.label.borderRadius,f.label.style.background,1,f.label.borderWidth,f.label.borderColor,0);return f.id&&ae.node.classList.add(f.id),ae}},{key:"annotationsBackground",value:function(){var p=this,f=this.w,b=function(S,D,B){var F=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(B,"-annotations .apexcharts-").concat(B,"-annotation-label[rel='").concat(D,"']"));if(F){var W=F.parentNode,q=p.addBackgroundToAnno(F,S);q&&W.insertBefore(q.node,F)}};f.config.annotations.xaxis.map(function(S,D){b(S,D,"xaxis")}),f.config.annotations.yaxis.map(function(S,D){b(S,D,"yaxis")}),f.config.annotations.points.map(function(S,D){b(S,D,"point")})}},{key:"getStringX",value:function(p){var f=this.w,b=p;f.config.xaxis.convertedCatToNumeric&&f.globals.categoryLabels.length&&(p=f.globals.categoryLabels.indexOf(p)+1);var S=f.globals.labels.indexOf(p),D=f.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(S+1)+")");return D&&(b=parseFloat(D.getAttribute("x"))),b}}]),Re}(),ds=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p,this.invertAxis=this.annoCtx.invertAxis}return de(Re,[{key:"addXaxisAnnotation",value:function(p,f,b){var S=this.w,D=this.invertAxis?S.globals.minY:S.globals.minX,B=this.invertAxis?S.globals.maxY:S.globals.maxX,F=this.invertAxis?S.globals.yRange[0]:S.globals.xRange,W=(p.x-D)/(F/S.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(W=(B-p.x)/(F/S.globals.gridWidth));var q=p.label.text;"category"!==S.config.xaxis.type&&!S.config.xaxis.convertedCatToNumeric||this.invertAxis||S.globals.dataFormatXNumeric||(W=this.annoCtx.helpers.getStringX(p.x));var oe=p.strokeDashArray;if(ct.isNumber(W)){if(null==p.x2){var ue=this.annoCtx.graphics.drawLine(W+p.offsetX,0+p.offsetY,W+p.offsetX,S.globals.gridHeight+p.offsetY,p.borderColor,oe,p.borderWidth);f.appendChild(ue.node),p.id&&ue.node.classList.add(p.id)}else{var ae=(p.x2-D)/(F/S.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(ae=(B-p.x2)/(F/S.globals.gridWidth)),"category"!==S.config.xaxis.type&&!S.config.xaxis.convertedCatToNumeric||this.invertAxis||S.globals.dataFormatXNumeric||(ae=this.annoCtx.helpers.getStringX(p.x2)),ae<W){var _e=W;W=ae,ae=_e}var Ie=this.annoCtx.graphics.drawRect(W+p.offsetX,0+p.offsetY,ae-W,S.globals.gridHeight+p.offsetY,0,p.fillColor,p.opacity,1,p.borderColor,oe);Ie.node.classList.add("apexcharts-annotation-rect"),Ie.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")")),f.appendChild(Ie.node),p.id&&Ie.node.classList.add(p.id)}var Pe="top"===p.label.position?4:S.globals.gridHeight,Be=this.annoCtx.graphics.getTextRects(q,parseFloat(p.label.style.fontSize)),Ge=this.annoCtx.graphics.drawText({x:W+p.label.offsetX,y:Pe+p.label.offsetY-("vertical"===p.label.orientation?"top"===p.label.position?Be.width/2-12:-Be.width/2:0),text:q,textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});Ge.attr({rel:b}),f.appendChild(Ge.node),this.annoCtx.helpers.setOrientations(p,b)}}},{key:"drawXAxisAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return f.config.annotations.xaxis.map(function(S,D){p.addXaxisAnnotation(S,b.node,D)}),b}}]),Re}(),hi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getStackedSeriesTotals",value:function(){var p=this.w,f=[];if(0===p.globals.series.length)return f;for(var b=0;b<p.globals.series[p.globals.maxValsInArrayIndex].length;b++){for(var S=0,D=0;D<p.globals.series.length;D++)void 0!==p.globals.series[D][b]&&(S+=p.globals.series[D][b]);f.push(S)}return p.globals.stackedSeriesTotals=f,f}},{key:"getSeriesTotalByIndex",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===p?this.w.config.series.reduce(function(f,b){return f+b},0):this.w.globals.series[p].reduce(function(f,b){return f+b},0)}},{key:"isSeriesNull",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===p?this.w.config.series.filter(function(f){return null!==f}):this.w.config.series[p].data.filter(function(f){return null!==f})).length}},{key:"seriesHaveSameValues",value:function(p){return this.w.globals.series[p].every(function(f,b,S){return f===S[0]})}},{key:"getCategoryLabels",value:function(p){var f=this.w,b=p.slice();return f.config.xaxis.convertedCatToNumeric&&(b=p.map(function(S,D){return f.config.xaxis.labels.formatter(S-f.globals.minX+1)})),b}},{key:"getLargestSeries",value:function(){var p=this.w;p.globals.maxValsInArrayIndex=p.globals.series.map(function(f){return f.length}).indexOf(Math.max.apply(Math,p.globals.series.map(function(f){return f.length})))}},{key:"getLargestMarkerSize",value:function(){var p=this.w,f=0;return p.globals.markers.size.forEach(function(b){f=Math.max(f,b)}),p.globals.markers.largestSize=f,f}},{key:"getSeriesTotals",value:function(){var p=this.w;p.globals.seriesTotals=p.globals.series.map(function(f,b){var S=0;if(Array.isArray(f))for(var D=0;D<f.length;D++)S+=f[D];else S+=f;return S})}},{key:"getSeriesTotalsXRange",value:function(p,f){var b=this.w;return b.globals.series.map(function(S,D){for(var B=0,F=0;F<S.length;F++)b.globals.seriesX[D][F]>p&&b.globals.seriesX[D][F]<f&&(B+=S[F]);return B})}},{key:"getPercentSeries",value:function(){var p=this.w;p.globals.seriesPercent=p.globals.series.map(function(f,b){var S=[];if(Array.isArray(f))for(var D=0;D<f.length;D++){var B=p.globals.stackedSeriesTotals[D],F=0;B&&(F=100*f[D]/B),S.push(F)}else{var W=100*f/p.globals.seriesTotals.reduce(function(q,oe){return q+oe},0);S.push(W)}return S})}},{key:"getCalculatedRatios",value:function(){var p,f,b,S,D=this.w.globals,B=[],F=0,W=[],q=.1,oe=0;if(D.yRange=[],D.isMultipleYAxis)for(var ue=0;ue<D.minYArr.length;ue++)D.yRange.push(Math.abs(D.minYArr[ue]-D.maxYArr[ue])),W.push(0);else D.yRange.push(Math.abs(D.minY-D.maxY));D.xRange=Math.abs(D.maxX-D.minX),D.zRange=Math.abs(D.maxZ-D.minZ);for(var ae=0;ae<D.yRange.length;ae++)B.push(D.yRange[ae]/D.gridHeight);if(f=D.xRange/D.gridWidth,b=Math.abs(D.initialMaxX-D.initialMinX)/D.gridWidth,p=D.yRange/D.gridWidth,S=D.xRange/D.gridHeight,(F=D.zRange/D.gridHeight*16)||(F=1),D.minY!==Number.MIN_VALUE&&0!==Math.abs(D.minY)&&(D.hasNegs=!0),D.isMultipleYAxis){W=[];for(var _e=0;_e<B.length;_e++)W.push(-D.minYArr[_e]/B[_e])}else W.push(-D.minY/B[0]),D.minY!==Number.MIN_VALUE&&0!==Math.abs(D.minY)&&(q=-D.minY/p,oe=D.minX/f);return{yRatio:B,invertedYRatio:p,zRatio:F,xRatio:f,initialXRatio:b,invertedXRatio:S,baseLineInvertedY:q,baseLineY:W,baseLineX:oe}}},{key:"getLogSeries",value:function(p){var f=this,b=this.w;return b.globals.seriesLog=p.map(function(S,D){return b.config.yaxis[D]&&b.config.yaxis[D].logarithmic?S.map(function(B){return null===B?null:f.getLogVal(B,D)}):S}),b.globals.invalidLogScale?p:b.globals.seriesLog}},{key:"getLogVal",value:function(p,f){var b=this.w;return(Math.log(p)-Math.log(b.globals.minYArr[f]))/(Math.log(b.globals.maxYArr[f])-Math.log(b.globals.minYArr[f]))}},{key:"getLogYRatios",value:function(p){var f=this,b=this.w,S=this.w.globals;return S.yLogRatio=p.slice(),S.logYRange=S.yRange.map(function(D,B){if(b.config.yaxis[B]&&f.w.config.yaxis[B].logarithmic){var F,W=-Number.MAX_VALUE,q=Number.MIN_VALUE;return S.seriesLog.forEach(function(oe,ue){oe.forEach(function(ae){b.config.yaxis[ue]&&b.config.yaxis[ue].logarithmic&&(W=Math.max(ae,W),q=Math.min(ae,q))})}),F=Math.pow(S.yRange[B],Math.abs(q-W)/S.yRange[B]),S.yLogRatio[B]=F/S.gridHeight,F}}),S.invalidLogScale?p.slice():S.yLogRatio}}],[{key:"checkComboSeries",value:function(p){var f=!1,b=0,S=0;return p.length&&void 0!==p[0].type&&p.forEach(function(D){"bar"!==D.type&&"column"!==D.type&&"candlestick"!==D.type&&"boxPlot"!==D.type||b++,void 0!==D.type&&S++}),S>1&&(f=!0),{comboBarCount:b,comboCharts:f}}},{key:"extendArrayProps",value:function(p,f,b){return f.yaxis&&(f=p.extendYAxis(f,b)),f.annotations&&(f.annotations.yaxis&&(f=p.extendYAxisAnnotations(f)),f.annotations.xaxis&&(f=p.extendXAxisAnnotations(f)),f.annotations.points&&(f=p.extendPointAnnotations(f))),f}}]),Re}(),zi=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"addYaxisAnnotation",value:function(p,f,b){var S,D=this.w,B=p.strokeDashArray,F=this._getY1Y2("y1",p),W=p.label.text;if(null==p.y2){var q=this.annoCtx.graphics.drawLine(0+p.offsetX,F+p.offsetY,this._getYAxisAnnotationWidth(p),F+p.offsetY,p.borderColor,B,p.borderWidth);f.appendChild(q.node),p.id&&q.node.classList.add(p.id)}else{if((S=this._getY1Y2("y2",p))>F){var oe=F;F=S,S=oe}var ue=this.annoCtx.graphics.drawRect(0+p.offsetX,S+p.offsetY,this._getYAxisAnnotationWidth(p),F-S,0,p.fillColor,p.opacity,1,p.borderColor,B);ue.node.classList.add("apexcharts-annotation-rect"),ue.attr("clip-path","url(#gridRectMask".concat(D.globals.cuid,")")),f.appendChild(ue.node),p.id&&ue.node.classList.add(p.id)}var _e=this.annoCtx.graphics.drawText({x:("right"===p.label.position?D.globals.gridWidth:0)+p.label.offsetX,y:(S||F)+p.label.offsetY-3,text:W,textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});_e.attr({rel:b}),f.appendChild(_e.node)}},{key:"_getY1Y2",value:function(p,f){var b,S="y1"===p?f.y:f.y2,D=this.w;if(this.annoCtx.invertAxis){var B=D.globals.labels.indexOf(S);D.config.xaxis.convertedCatToNumeric&&(B=D.globals.categoryLabels.indexOf(S));var F=D.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(B+1)+")");F&&(b=parseFloat(F.getAttribute("y")))}else{var W;W=D.config.yaxis[f.yAxisIndex].logarithmic?(S=new hi(this.annoCtx.ctx).getLogVal(S,f.yAxisIndex))/D.globals.yLogRatio[f.yAxisIndex]:(S-D.globals.minYArr[f.yAxisIndex])/(D.globals.yRange[f.yAxisIndex]/D.globals.gridHeight),b=D.globals.gridHeight-W,D.config.yaxis[f.yAxisIndex]&&D.config.yaxis[f.yAxisIndex].reversed&&(b=W)}return b}},{key:"_getYAxisAnnotationWidth",value:function(p){var f=this.w;return(p.width.indexOf("%")>-1?f.globals.gridWidth*parseInt(p.width,10)/100:parseInt(p.width,10))+p.offsetX}},{key:"drawYAxisAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return f.config.annotations.yaxis.map(function(S,D){p.addYaxisAnnotation(S,b.node,D)}),b}}]),Re}(),Bs=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"addPointAnnotation",value:function(p,f,b){var S=this.w,D=0,B=0,F=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var W=parseFloat(p.y);if("string"==typeof p.x){var q=S.globals.labels.indexOf(p.x);S.config.xaxis.convertedCatToNumeric&&(q=S.globals.categoryLabels.indexOf(p.x)),D=this.annoCtx.helpers.getStringX(p.x),null===p.y&&(W=S.globals.series[p.seriesIndex][q])}else D=(p.x-S.globals.minX)/(S.globals.xRange/S.globals.gridWidth);for(var oe,ue=[],ae=0,_e=0;_e<=p.seriesIndex;_e++){var Ie=S.config.yaxis[_e].seriesName;if(Ie)for(var Pe=_e+1;Pe<=p.seriesIndex;Pe++)S.config.yaxis[Pe].seriesName===Ie&&-1===ue.indexOf(Ie)&&(ae++,ue.push(Ie))}if(S.config.yaxis[p.yAxisIndex].logarithmic)oe=(W=new hi(this.annoCtx.ctx).getLogVal(W,p.yAxisIndex))/S.globals.yLogRatio[p.yAxisIndex];else{var Be=p.yAxisIndex+ae;oe=(W-S.globals.minYArr[Be])/(S.globals.yRange[Be]/S.globals.gridHeight)}if(B=S.globals.gridHeight-oe-parseFloat(p.label.style.fontSize)-p.marker.size,F=S.globals.gridHeight-oe,S.config.yaxis[p.yAxisIndex]&&S.config.yaxis[p.yAxisIndex].reversed&&(B=oe+parseFloat(p.label.style.fontSize)+p.marker.size,F=oe),ct.isNumber(D)){var Ge={pSize:p.marker.size,pointStrokeWidth:p.marker.strokeWidth,pointFillColor:p.marker.fillColor,pointStrokeColor:p.marker.strokeColor,shape:p.marker.shape,pRadius:p.marker.radius,class:"apexcharts-point-annotation-marker ".concat(p.marker.cssClass," ").concat(p.id?p.id:"")},st=this.annoCtx.graphics.drawMarker(D+p.marker.offsetX,F+p.marker.offsetY,Ge);f.appendChild(st.node);var J=this.annoCtx.graphics.drawText({x:D+p.label.offsetX,y:B+p.label.offsetY,text:p.label.text?p.label.text:"",textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});if(J.attr({rel:b}),f.appendChild(J.node),p.customSVG.SVG){var pe=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+p.customSVG.cssClass});pe.attr({transform:"translate(".concat(D+p.customSVG.offsetX,", ").concat(B+p.customSVG.offsetY,")")}),pe.node.innerHTML=p.customSVG.SVG,f.appendChild(pe.node)}if(p.image.path){var ze=p.image.width?p.image.width:20,Je=p.image.height?p.image.height:20;this.annoCtx.addImage({x:D+p.image.offsetX-ze/2,y:B+p.image.offsetY-Je/2,width:ze,height:Je,path:p.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return f.config.annotations.points.map(function(S,D){p.addPointAnnotation(S,b.node,D)}),b}}]),Re}(),tr={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},jr=function(){function Re(){ee(this,Re),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return de(Re,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[tr],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(p){return new Date(p).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(p){return p}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(p){return p+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(p){return p.globals.seriesTotals.reduce(function(f,b){return f+b},0)/p.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(p){return p}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(p){return p}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(p){return p.globals.seriesTotals.reduce(function(f,b){return f+b},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(p){return null!==p?p:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(p){return p?p+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Re}(),wn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.graphics=new qt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ur(this),this.xAxisAnnotations=new ds(this),this.yAxisAnnotations=new zi(this),this.pointsAnnotations=new Bs(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return de(Re,[{key:"drawAxesAnnotations",value:function(){var p=this.w;if(p.globals.axisCharts){for(var f=this.yAxisAnnotations.drawYAxisAnnotations(),b=this.xAxisAnnotations.drawXAxisAnnotations(),S=this.pointsAnnotations.drawPointAnnotations(),D=p.config.chart.animations.enabled,B=[f,b,S],F=[b.node,f.node,S.node],W=0;W<3;W++)p.globals.dom.elGraphical.add(B[W]),!D||p.globals.resized||p.globals.dataChanged||"scatter"!==p.config.chart.type&&"bubble"!==p.config.chart.type&&p.globals.dataPoints>1&&F[W].classList.add("apexcharts-element-hidden"),p.globals.delayedElements.push({el:F[W],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var p=this;this.w.config.annotations.images.map(function(f,b){p.addImage(f,b)})}},{key:"drawTextAnnos",value:function(){var p=this;this.w.config.annotations.texts.map(function(f,b){p.addText(f,b)})}},{key:"addXaxisAnnotation",value:function(p,f,b){this.xAxisAnnotations.addXaxisAnnotation(p,f,b)}},{key:"addYaxisAnnotation",value:function(p,f,b){this.yAxisAnnotations.addYaxisAnnotation(p,f,b)}},{key:"addPointAnnotation",value:function(p,f,b){this.pointsAnnotations.addPointAnnotation(p,f,b)}},{key:"addText",value:function(p,f){var D=p.text,ae=p.backgroundColor,_e=p.borderWidth,Ie=p.strokeDashArray,Pe=p.borderRadius,Be=p.borderColor,Ge=p.appendTo,st=void 0===Ge?".apexcharts-annotations":Ge,bt=p.paddingLeft,J=void 0===bt?4:bt,pe=p.paddingRight,ze=void 0===pe?4:pe,Je=p.paddingBottom,ft=void 0===Je?2:Je,ln=p.paddingTop,$t=void 0===ln?2:ln,cn=this.w,Un=this.graphics.drawText({x:p.x,y:p.y,text:D,textAnchor:p.textAnchor||"start",fontSize:p.fontSize||"12px",fontWeight:p.fontWeight||"regular",fontFamily:p.fontFamily||cn.config.chart.fontFamily,foreColor:p.foreColor||cn.config.chart.foreColor,cssClass:p.cssClass}),zn=cn.globals.dom.baseEl.querySelector(st);zn&&zn.appendChild(Un.node);var Ai=Un.bbox();if(D){var gr=this.graphics.drawRect(Ai.x-J,Ai.y-$t,Ai.width+J+ze,Ai.height+ft+$t,Pe,ae||"transparent",1,_e,Be,Ie);zn.insertBefore(gr.node,Un.node)}}},{key:"addImage",value:function(p,f){var b=this.w,D=p.x,B=void 0===D?0:D,F=p.y,W=void 0===F?0:F,q=p.width,oe=void 0===q?20:q,ue=p.height,ae=void 0===ue?20:ue,_e=p.appendTo,Ie=void 0===_e?".apexcharts-annotations":_e,Pe=b.globals.dom.Paper.image(p.path);Pe.size(oe,ae).move(B,W);var Be=b.globals.dom.baseEl.querySelector(Ie);Be&&Be.appendChild(Pe.node)}},{key:"addXaxisAnnotationExternal",value:function(p,f,b){return this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"xaxis",contextMethod:b.addXaxisAnnotation}),b}},{key:"addYaxisAnnotationExternal",value:function(p,f,b){return this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"yaxis",contextMethod:b.addYaxisAnnotation}),b}},{key:"addPointAnnotationExternal",value:function(p,f,b){return void 0===this.invertAxis&&(this.invertAxis=b.w.globals.isBarHorizontal),this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"point",contextMethod:b.addPointAnnotation}),b}},{key:"addAnnotationExternal",value:function(p){var f=p.params,b=p.pushToMemory,S=p.context,D=p.type,B=p.contextMethod,F=S,W=F.w,q=W.globals.dom.baseEl.querySelector(".apexcharts-".concat(D,"-annotations")),oe=q.childNodes.length+1,ue=new jr,ae=Object.assign({},"xaxis"===D?ue.xAxisAnnotation:"yaxis"===D?ue.yAxisAnnotation:ue.pointAnnotation),_e=ct.extend(ae,f);switch(D){case"xaxis":this.addXaxisAnnotation(_e,q,oe);break;case"yaxis":this.addYaxisAnnotation(_e,q,oe);break;case"point":this.addPointAnnotation(_e,q,oe)}var Ie=W.globals.dom.baseEl.querySelector(".apexcharts-".concat(D,"-annotations .apexcharts-").concat(D,"-annotation-label[rel='").concat(oe,"']")),Pe=this.helpers.addBackgroundToAnno(Ie,_e);return Pe&&q.insertBefore(Pe.node,Ie),b&&W.globals.memory.methodsToExec.push({context:F,id:_e.id?_e.id:ct.randomId(),method:B,label:"addAnnotation",params:f}),S}},{key:"clearAnnotations",value:function(p){var f=p.w,b=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");f.globals.memory.methodsToExec.map(function(S,D){"addText"!==S.label&&"addAnnotation"!==S.label||f.globals.memory.methodsToExec.splice(D,1)}),b=ct.listToArray(b),Array.prototype.forEach.call(b,function(S){for(;S.firstChild;)S.removeChild(S.firstChild)})}},{key:"removeAnnotation",value:function(p,f){var b=p.w,S=b.globals.dom.baseEl.querySelectorAll(".".concat(f));S&&(b.globals.memory.methodsToExec.map(function(D,B){D.id===f&&b.globals.memory.methodsToExec.splice(B,1)}),Array.prototype.forEach.call(S,function(D){D.parentElement.removeChild(D)}))}}]),Re}(),dn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.opts=null,this.seriesIndex=0}return de(Re,[{key:"clippedImgArea",value:function(p){var f=this.w,b=f.config,S=parseInt(f.globals.gridWidth,10),D=parseInt(f.globals.gridHeight,10),B=S>D?S:D,F=p.image,W=0,q=0;void 0===p.width&&void 0===p.height?void 0!==b.fill.image.width&&void 0!==b.fill.image.height?(W=b.fill.image.width+1,q=b.fill.image.height):(W=B+1,q=B):(W=p.width,q=p.height);var oe=document.createElementNS(f.globals.SVGNS,"pattern");qt.setAttrs(oe,{id:p.patternID,patternUnits:p.patternUnits?p.patternUnits:"userSpaceOnUse",width:W+"px",height:q+"px"});var ue=document.createElementNS(f.globals.SVGNS,"image");oe.appendChild(ue),ue.setAttributeNS(window.SVG.xlink,"href",F),qt.setAttrs(ue,{x:0,y:0,preserveAspectRatio:"none",width:W+"px",height:q+"px"}),ue.style.opacity=p.opacity,f.globals.dom.elDefs.node.appendChild(oe)}},{key:"getSeriesIndex",value:function(p){var f=this.w;return this.seriesIndex=("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)&&f.config.plotOptions.bar.distributed||"heatmap"===f.config.chart.type||"treemap"===f.config.chart.type?p.seriesNumber:p.seriesNumber%f.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(p){var f=this.w;this.opts=p;var b,S,D,B=this.w.config;this.seriesIndex=this.getSeriesIndex(p);var F=this.getFillColors()[this.seriesIndex];void 0!==f.globals.seriesColors[this.seriesIndex]&&(F=f.globals.seriesColors[this.seriesIndex]),"function"==typeof F&&(F=F({seriesIndex:this.seriesIndex,dataPointIndex:p.dataPointIndex,value:p.value,w:f}));var W=this.getFillType(this.seriesIndex),q=Array.isArray(B.fill.opacity)?B.fill.opacity[this.seriesIndex]:B.fill.opacity;p.color&&(F=p.color);var oe=F;if(-1===F.indexOf("rgb")?F.length<9&&(oe=ct.hexToRgba(F,q)):F.indexOf("rgba")>-1&&(q=ct.getOpacityFromRGBA(F)),p.opacity&&(q=p.opacity),"pattern"===W&&(S=this.handlePatternFill(S,F,q,oe)),"gradient"===W&&(D=this.handleGradientFill(F,q,this.seriesIndex)),"image"===W){var ue=B.fill.image.src,ae=p.patternID?p.patternID:"";this.clippedImgArea({opacity:q,image:Array.isArray(ue)?p.seriesNumber<ue.length?ue[p.seriesNumber]:ue[0]:ue,width:p.width?p.width:void 0,height:p.height?p.height:void 0,patternUnits:p.patternUnits,patternID:"pattern".concat(f.globals.cuid).concat(p.seriesNumber+1).concat(ae)}),b="url(#pattern".concat(f.globals.cuid).concat(p.seriesNumber+1).concat(ae,")")}else b="gradient"===W?D:"pattern"===W?S:oe;return p.solid&&(b=oe),b}},{key:"getFillType",value:function(p){var f=this.w;return Array.isArray(f.config.fill.type)?f.config.fill.type[p]:f.config.fill.type}},{key:"getFillColors",value:function(){var p=this.w,f=p.config,b=this.opts,S=[];return p.globals.comboCharts?"line"===p.config.series[this.seriesIndex].type?Array.isArray(p.globals.stroke.colors)?S=p.globals.stroke.colors:S.push(p.globals.stroke.colors):Array.isArray(p.globals.fill.colors)?S=p.globals.fill.colors:S.push(p.globals.fill.colors):"line"===f.chart.type?Array.isArray(p.globals.stroke.colors)?S=p.globals.stroke.colors:S.push(p.globals.stroke.colors):Array.isArray(p.globals.fill.colors)?S=p.globals.fill.colors:S.push(p.globals.fill.colors),void 0!==b.fillColors&&(S=[],Array.isArray(b.fillColors)?S=b.fillColors.slice():S.push(b.fillColors)),S}},{key:"handlePatternFill",value:function(p,f,b,S){var D=this.w.config,B=this.opts,F=new qt(this.ctx),W=void 0===D.fill.pattern.strokeWidth?Array.isArray(D.stroke.width)?D.stroke.width[this.seriesIndex]:D.stroke.width:Array.isArray(D.fill.pattern.strokeWidth)?D.fill.pattern.strokeWidth[this.seriesIndex]:D.fill.pattern.strokeWidth,q=f;return Array.isArray(D.fill.pattern.style)?void 0!==D.fill.pattern.style[B.seriesNumber]?F.drawPattern(D.fill.pattern.style[B.seriesNumber],D.fill.pattern.width,D.fill.pattern.height,q,W,b):S:F.drawPattern(D.fill.pattern.style,D.fill.pattern.width,D.fill.pattern.height,q,W,b)}},{key:"handleGradientFill",value:function(p,f,b){var S,D=this.w.config,B=this.opts,F=new qt(this.ctx),W=new ct,q=D.fill.gradient.type,oe=p,ue=void 0===D.fill.gradient.opacityFrom?f:Array.isArray(D.fill.gradient.opacityFrom)?D.fill.gradient.opacityFrom[b]:D.fill.gradient.opacityFrom;oe.indexOf("rgba")>-1&&(ue=ct.getOpacityFromRGBA(oe));var ae=void 0===D.fill.gradient.opacityTo?f:Array.isArray(D.fill.gradient.opacityTo)?D.fill.gradient.opacityTo[b]:D.fill.gradient.opacityTo;if(void 0===D.fill.gradient.gradientToColors||0===D.fill.gradient.gradientToColors.length)S=W.shadeColor("dark"===D.fill.gradient.shade?-1*parseFloat(D.fill.gradient.shadeIntensity):parseFloat(D.fill.gradient.shadeIntensity),p.indexOf("rgb")>-1?ct.rgb2hex(p):p);else if(D.fill.gradient.gradientToColors[B.seriesNumber]){var _e=D.fill.gradient.gradientToColors[B.seriesNumber];S=_e,_e.indexOf("rgba")>-1&&(ae=ct.getOpacityFromRGBA(_e))}else S=p;if(D.fill.gradient.inverseColors){var Ie=oe;oe=S,S=Ie}return oe.indexOf("rgb")>-1&&(oe=ct.rgb2hex(oe)),S.indexOf("rgb")>-1&&(S=ct.rgb2hex(S)),F.drawGradient(q,oe,S,ue,ae,B.size,D.fill.gradient.stops,D.fill.gradient.colorStops,b)}}]),Re}(),Tn=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"setGlobalMarkerSize",value:function(){var p=this.w;if(p.globals.markers.size=Array.isArray(p.config.markers.size)?p.config.markers.size:[p.config.markers.size],p.globals.markers.size.length>0){if(p.globals.markers.size.length<p.globals.series.length+1)for(var f=0;f<=p.globals.series.length;f++)void 0===p.globals.markers.size[f]&&p.globals.markers.size.push(p.globals.markers.size[0])}else p.globals.markers.size=p.config.series.map(function(b){return p.config.markers.size})}},{key:"plotChartMarkers",value:function(p,f,b,S){var D,B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],F=this.w,W=f,q=p,oe=null,ue=new qt(this.ctx);if((F.globals.markers.size[f]>0||B)&&(oe=ue.group({class:B?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(F.globals.cuid,")")),Array.isArray(q.x))for(var ae=0;ae<q.x.length;ae++){var _e=b;1===b&&0===ae&&(_e=0),1===b&&1===ae&&(_e=1);var Ie="apexcharts-marker";"line"!==F.config.chart.type&&"area"!==F.config.chart.type||F.globals.comboCharts||F.config.tooltip.intersect||(Ie+=" no-pointer-events");var Pe=Array.isArray(F.config.markers.size)?F.globals.markers.size[f]>0:F.config.markers.size>0;if(Pe||B){ct.isNumber(q.y[ae])?Ie+=" w".concat(ct.randomId()):Ie="apexcharts-nullpoint";var Be=this.getMarkerConfig(Ie,f,_e);F.config.series[W].data[_e]&&(F.config.series[W].data[_e].fillColor&&(Be.pointFillColor=F.config.series[W].data[_e].fillColor),F.config.series[W].data[_e].strokeColor&&(Be.pointStrokeColor=F.config.series[W].data[_e].strokeColor)),S&&(Be.pSize=S),(D=ue.drawMarker(q.x[ae],q.y[ae],Be)).attr("rel",_e),D.attr("j",_e),D.attr("index",f),D.node.setAttribute("default-marker-size",Be.pSize);var Ge=new Rn(this.ctx);Ge.setSelectionFilter(D,f,_e),this.addEvents(D),oe&&oe.add(D)}else void 0===F.globals.pointsArray[f]&&(F.globals.pointsArray[f]=[]),F.globals.pointsArray[f].push([q.x[ae],q.y[ae]])}return oe}},{key:"getMarkerConfig",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=this.getMarkerStyle(f),B=S.globals.markers.size[f],F=S.config.markers;return null!==b&&F.discrete.length&&F.discrete.map(function(W){W.seriesIndex===f&&W.dataPointIndex===b&&(D.pointStrokeColor=W.strokeColor,D.pointFillColor=W.fillColor,B=W.size,D.pointShape=W.shape)}),{pSize:B,pRadius:F.radius,width:Array.isArray(F.width)?F.width[f]:F.width,height:Array.isArray(F.height)?F.height[f]:F.height,pointStrokeWidth:Array.isArray(F.strokeWidth)?F.strokeWidth[f]:F.strokeWidth,pointStrokeColor:D.pointStrokeColor,pointFillColor:D.pointFillColor,shape:D.pointShape||(Array.isArray(F.shape)?F.shape[f]:F.shape),class:p,pointStrokeOpacity:Array.isArray(F.strokeOpacity)?F.strokeOpacity[f]:F.strokeOpacity,pointStrokeDashArray:Array.isArray(F.strokeDashArray)?F.strokeDashArray[f]:F.strokeDashArray,pointFillOpacity:Array.isArray(F.fillOpacity)?F.fillOpacity[f]:F.fillOpacity,seriesIndex:f}}},{key:"addEvents",value:function(p){var f=this.w,b=new qt(this.ctx);p.node.addEventListener("mouseenter",b.pathMouseEnter.bind(this.ctx,p)),p.node.addEventListener("mouseleave",b.pathMouseLeave.bind(this.ctx,p)),p.node.addEventListener("mousedown",b.pathMouseDown.bind(this.ctx,p)),p.node.addEventListener("click",f.config.markers.onClick),p.node.addEventListener("dblclick",f.config.markers.onDblClick),p.node.addEventListener("touchstart",b.pathMouseDown.bind(this.ctx,p),{passive:!0})}},{key:"getMarkerStyle",value:function(p){var f=this.w,b=f.globals.markers.colors,S=f.config.markers.strokeColor||f.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(S)?S[p]:S,pointFillColor:Array.isArray(b)?b[p]:b}}}]),Re}(),fn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return de(Re,[{key:"draw",value:function(p,f,b){var S=this.w,D=new qt(this.ctx),B=b.realIndex,F=b.pointsPos,W=b.zRatio,q=b.elParent,oe=D.group({class:"apexcharts-series-markers apexcharts-series-".concat(S.config.chart.type)});if(oe.attr("clip-path","url(#gridRectMarkerMask".concat(S.globals.cuid,")")),Array.isArray(F.x))for(var ue=0;ue<F.x.length;ue++){var ae=f+1,_e=!0;0===f&&0===ue&&(ae=0),0===f&&1===ue&&(ae=1);var Ie=0,Pe=S.globals.markers.size[B];if(W!==1/0){Pe=S.globals.seriesZ[B][ae]/W;var Be=S.config.plotOptions.bubble;Be.minBubbleRadius&&Pe<Be.minBubbleRadius&&(Pe=Be.minBubbleRadius),Be.maxBubbleRadius&&Pe>Be.maxBubbleRadius&&(Pe=Be.maxBubbleRadius)}S.config.chart.animations.enabled||(Ie=Pe);var st=F.y[ue];if(Ie=Ie||0,null!==st&&void 0!==S.globals.series[B][ae]||(_e=!1),_e){var bt=this.drawPoint(F.x[ue],st,Ie,Pe,B,ae,f);oe.add(bt)}q.add(oe)}}},{key:"drawPoint",value:function(p,f,b,S,D,B,F){var W,q=this.w,oe=D,ue=new ni(this.ctx),ae=new Rn(this.ctx),_e=new dn(this.ctx),Ie=new Tn(this.ctx),Pe=new qt(this.ctx),Be=Ie.getMarkerConfig("apexcharts-marker",oe),Ge=_e.fillPath({seriesNumber:D,dataPointIndex:B,patternUnits:"objectBoundingBox",value:q.globals.series[D][F]});if("circle"===Be.shape?W=Pe.drawCircle(b):"square"!==Be.shape&&"rect"!==Be.shape||(W=Pe.drawRect(0,0,Be.width-Be.pointStrokeWidth/2,Be.height-Be.pointStrokeWidth/2,Be.pRadius)),q.config.series[oe].data[B]&&q.config.series[oe].data[B].fillColor&&(Ge=q.config.series[oe].data[B].fillColor),W.attr({x:p-Be.width/2-Be.pointStrokeWidth/2,y:f-Be.height/2-Be.pointStrokeWidth/2,cx:p,cy:f,fill:Ge,"fill-opacity":Be.pointFillOpacity,stroke:Be.pointStrokeColor,r:S,"stroke-width":Be.pointStrokeWidth,"stroke-dasharray":Be.pointStrokeDashArray,"stroke-opacity":Be.pointStrokeOpacity}),q.config.chart.dropShadow.enabled&&ae.dropShadow(W,q.config.chart.dropShadow,D),!this.initialAnim||q.globals.dataChanged||q.globals.resized?q.globals.animationEnded=!0:ue.animateMarker(W,0,"circle"===Be.shape?S:{width:Be.width,height:Be.height},q.config.chart.animations.speed,q.globals.easing,function(){window.setTimeout(function(){ue.animationCompleted(W)},100)}),q.globals.dataChanged&&"circle"===Be.shape)if(this.dynamicAnim){var J,pe,ze,Je,ft=q.config.chart.animations.dynamicAnimation.speed;null!=(Je=q.globals.previousPaths[D]&&q.globals.previousPaths[D][F])&&(J=Je.x,pe=Je.y,ze=void 0!==Je.r?Je.r:S);for(var ln=0;ln<q.globals.collapsedSeries.length;ln++)q.globals.collapsedSeries[ln].index===D&&(ft=1,S=0);0===p&&0===f&&(S=0),ue.animateCircle(W,{cx:J,cy:pe,r:ze},{cx:p,cy:f,r:S},ft,q.globals.easing)}else W.attr({r:S});return W.attr({rel:B,j:B,index:D,"default-marker-size":S}),ae.setSelectionFilter(W,D,B),Ie.addEvents(W),W.node.classList.add("apexcharts-marker"),W}},{key:"centerTextInBubble",value:function(p){return{y:p+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),Re}(),Hn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"dataLabelsCorrection",value:function(p,f,b,S,D,B,F){var W=this.w,q=!1,oe=new qt(this.ctx).getTextRects(b,F),ue=oe.width,ae=oe.height;if(f<0&&(f=0),f>W.globals.gridHeight+ae&&(f=W.globals.gridHeight+ae/2),void 0===W.globals.dataLabelsRects[S]&&(W.globals.dataLabelsRects[S]=[]),W.globals.dataLabelsRects[S].push({x:p,y:f,width:ue,height:ae}),void 0!==W.globals.dataLabelsRects[S][W.globals.dataLabelsRects[S].length-2]){var Pe=W.globals.dataLabelsRects[S][void 0!==W.globals.lastDrawnDataLabelsIndexes[S]?W.globals.lastDrawnDataLabelsIndexes[S][W.globals.lastDrawnDataLabelsIndexes[S].length-1]:0];(p>Pe.x+Pe.width+2||f>Pe.y+Pe.height+2||p+ue<Pe.x)&&(q=!0)}return(0===D||B)&&(q=!0),{x:p,y:f,textRects:oe,drawnextLabel:q}}},{key:"drawDataLabel",value:function(p,f,b){var S=this,D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,B=this.w,F=new qt(this.ctx),W=B.config.dataLabels,q=0,oe=0,ue=b,ae=null;if(!W.enabled||!Array.isArray(p.x))return ae;ae=F.group({class:"apexcharts-data-labels"});for(var _e=0;_e<p.x.length;_e++)if(q=p.x[_e]+W.offsetX,oe=p.y[_e]+W.offsetY+D,!isNaN(q)){1===b&&0===_e&&(ue=0),1===b&&1===_e&&(ue=1);var Ie=B.globals.series[f][ue],Pe="",Be=function(bt){return B.config.dataLabels.formatter(bt,{ctx:S.ctx,seriesIndex:f,dataPointIndex:ue,w:B})};if("bubble"===B.config.chart.type){Pe=Be(Ie=B.globals.seriesZ[f][ue]),oe=p.y[_e];var Ge=new fn(this.ctx),st=Ge.centerTextInBubble(oe,f,ue);oe=st.y}else void 0!==Ie&&(Pe=Be(Ie));this.plotDataLabelsText({x:q,y:oe,text:Pe,i:f,j:ue,parent:ae,offsetCorrection:!0,dataLabelsConfig:B.config.dataLabels})}return ae}},{key:"plotDataLabelsText",value:function(p){var f=this.w,b=new qt(this.ctx),S=p.x,D=p.y,B=p.i,F=p.j,W=p.text,q=p.textAnchor,oe=p.fontSize,ue=p.parent,ae=p.dataLabelsConfig,_e=p.color,Ie=p.alwaysDrawDataLabel,Pe=p.offsetCorrection;if(!(Array.isArray(f.config.dataLabels.enabledOnSeries)&&f.config.dataLabels.enabledOnSeries.indexOf(B)<0)){var Be={x:S,y:D,drawnextLabel:!0};Pe&&(Be=this.dataLabelsCorrection(S,D,W,B,F,Ie,parseInt(ae.style.fontSize,10))),f.globals.zoomed||(S=Be.x,D=Be.y),Be.textRects&&(S<-10-Be.textRects.width||S>f.globals.gridWidth+Be.textRects.width+10)&&(W="");var Ge=f.globals.dataLabels.style.colors[B];(("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)&&f.config.plotOptions.bar.distributed||f.config.dataLabels.distributed)&&(Ge=f.globals.dataLabels.style.colors[F]),"function"==typeof Ge&&(Ge=Ge({series:f.globals.series,seriesIndex:B,dataPointIndex:F,w:f})),_e&&(Ge=_e);var st=ae.offsetX,bt=ae.offsetY;if("bar"!==f.config.chart.type&&"rangeBar"!==f.config.chart.type||(st=0,bt=0),Be.drawnextLabel){var J=b.drawText({width:100,height:parseInt(ae.style.fontSize,10),x:S+st,y:D+bt,foreColor:Ge,textAnchor:q||ae.textAnchor,text:W,fontSize:oe||ae.style.fontSize,fontFamily:ae.style.fontFamily,fontWeight:ae.style.fontWeight||"normal"});if(J.attr({class:"apexcharts-datalabel",cx:S,cy:D}),ae.dropShadow.enabled){var pe=ae.dropShadow;new Rn(this.ctx).dropShadow(J,pe)}ue.add(J),void 0===f.globals.lastDrawnDataLabelsIndexes[B]&&(f.globals.lastDrawnDataLabelsIndexes[B]=[]),f.globals.lastDrawnDataLabelsIndexes[B].push(F)}}}},{key:"addBackgroundToDataLabel",value:function(p,f){var b=this.w,S=b.config.dataLabels.background,D=S.padding,B=S.padding/2,F=f.width,W=f.height,q=new qt(this.ctx).drawRect(f.x-D,f.y-B/2,F+2*D,W+B,S.borderRadius,"transparent"===b.config.chart.background?"#fff":b.config.chart.background,S.opacity,S.borderWidth,S.borderColor);return S.dropShadow.enabled&&new Rn(this.ctx).dropShadow(q,S.dropShadow),q}},{key:"dataLabelsBackground",value:function(){var p=this.w;if("bubble"!==p.config.chart.type)for(var f=p.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),b=0;b<f.length;b++){var S=f[b],D=S.getBBox(),B=null;if(D.width&&D.height&&(B=this.addBackgroundToDataLabel(S,D)),B){S.parentNode.insertBefore(B.node,S);var F=S.getAttribute("fill");!p.config.chart.animations.enabled||p.globals.resized||p.globals.dataChanged?B.attr({fill:F}):B.animate().attr({fill:F}),S.setAttribute("fill",p.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var p=this.w,f=p.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),b=p.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),S=0;S<f.length;S++)b&&b.insertBefore(f[S],b.nextSibling)}}]),Re}(),bn=function(){function Re(p){ee(this,Re),this.w=p.w,this.barCtx=p}return de(Re,[{key:"handleBarDataLabels",value:function(p){var f=p.x,b=p.y,S=p.y1,D=p.y2,B=p.i,F=p.j,W=p.realIndex,q=p.series,oe=p.barHeight,ue=p.barWidth,ae=p.barYPosition,_e=p.visibleSeries,Ie=p.renderedPath,Pe=this.w,Be=new qt(this.barCtx.ctx),Ge=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[W]:this.barCtx.strokeWidth,st=f+parseFloat(ue*_e),bt=b+parseFloat(oe*_e);Pe.globals.isXNumeric&&!Pe.globals.isBarHorizontal&&(st=f+parseFloat(ue*(_e+1)),bt=b+parseFloat(oe*(_e+1))-Ge);var ze,J=f,pe=b,Je=Pe.config.dataLabels,ft=this.barCtx.barOptions.dataLabels;void 0!==ae&&this.barCtx.isTimelineBar&&(bt=ae,pe=ae);var ln=Je.offsetX,$t=Je.offsetY,cn={width:0,height:0};Pe.config.dataLabels.enabled&&(cn=Be.getTextRects(Pe.globals.yLabelFormatters[0](this.barCtx.series[B][F]),parseFloat(Je.style.fontSize)));var zn={x:f,y:b,i:B,j:F,renderedPath:Ie,bcx:st,bcy:bt,barHeight:oe,barWidth:ue,textRects:cn,strokeWidth:Ge,dataLabelsX:J,dataLabelsY:pe,barDataLabelsConfig:ft,offX:ln,offY:$t};return ze=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(zn):this.calculateColumnsDataLabelsPosition(zn),Ie.attr({cy:ze.bcy,cx:ze.bcx,j:F,val:q[B][F],barHeight:oe,barWidth:ue}),this.drawCalculatedDataLabels({x:ze.dataLabelsX,y:ze.dataLabelsY,val:this.barCtx.isTimelineBar?[S,D]:q[B][F],i:W,j:F,barWidth:ue,barHeight:oe,textRects:cn,dataLabelsConfig:Je})}},{key:"calculateColumnsDataLabelsPosition",value:function(p){var f,b=this.w,S=p.i,D=p.j,B=p.y,F=p.bcx,W=p.barWidth,q=p.barHeight,oe=p.textRects,ue=p.dataLabelsY,ae=p.barDataLabelsConfig,_e=p.strokeWidth,Ie=p.offX,Pe=p.offY;q=Math.abs(q);var Be="vertical"===b.config.plotOptions.bar.dataLabels.orientation;F-=_e/2,f=b.globals.isXNumeric?F-W/2+Ie:F-b.globals.gridWidth/b.globals.dataPoints+W/2+Ie,Be&&(f=f+oe.height/2-_e/2-2);var st=this.barCtx.series[S][D]<0,bt=B;switch(this.barCtx.isReversed&&(bt=B-q+(st?2*q:0),B-=q),ae.position){case"center":ue=Be?st?bt+q/2+Pe:bt+q/2-Pe:st?bt-q/2+oe.height/2+Pe:bt+q/2+oe.height/2-Pe;break;case"bottom":ue=Be?st?bt+q+Pe:bt+q-Pe:st?bt-q+oe.height+_e+Pe:bt+q-oe.height/2+_e-Pe;break;case"top":ue=Be?st?bt+Pe:bt-Pe:st?bt-oe.height/2-Pe:bt+oe.height+Pe}return b.config.chart.stacked||(ue<0?ue=0+_e:ue+oe.height/3>b.globals.gridHeight&&(ue=b.globals.gridHeight-_e)),{bcx:F,bcy:B,dataLabelsX:f,dataLabelsY:ue}}},{key:"calculateBarsDataLabelsPosition",value:function(p){var f=this.w,b=p.x,S=p.i,D=p.j,B=p.bcy,F=p.barHeight,W=p.barWidth,q=p.textRects,oe=p.dataLabelsX,ue=p.strokeWidth,ae=p.barDataLabelsConfig,_e=p.offX,Ie=p.offY,Pe=f.globals.gridHeight/f.globals.dataPoints;W=Math.abs(W);var Be=B-(this.barCtx.isTimelineBar?0:Pe)+F/2+q.height/2+Ie-3,Ge=this.barCtx.series[S][D]<0,st=b;switch(this.barCtx.isReversed&&(st=b+W-(Ge?2*W:0),b=f.globals.gridWidth-W),ae.position){case"center":oe=Ge?st+W/2-_e:Math.max(q.width/2,st-W/2)+_e;break;case"bottom":oe=Ge?st+W-ue-Math.round(q.width/2)-_e:st-W+ue+Math.round(q.width/2)+_e;break;case"top":oe=Ge?st-ue+Math.round(q.width/2)-_e:st-ue-Math.round(q.width/2)+_e}return f.config.chart.stacked||(oe<0?oe=oe+q.width+ue:oe+q.width/2>f.globals.gridWidth&&(oe=f.globals.gridWidth-q.width-ue)),{bcx:b,bcy:B,dataLabelsX:oe,dataLabelsY:Be}}},{key:"drawCalculatedDataLabels",value:function(p){var f=p.x,b=p.y,S=p.val,D=p.i,B=p.j,F=p.textRects,W=p.barHeight,q=p.barWidth,oe=p.dataLabelsConfig,ue=this.w,ae="rotate(0)";"vertical"===ue.config.plotOptions.bar.dataLabels.orientation&&(ae="rotate(-90, ".concat(f,", ").concat(b,")"));var _e=new Hn(this.barCtx.ctx),Ie=new qt(this.barCtx.ctx),Pe=oe.formatter,Be=null,Ge=ue.globals.collapsedSeriesIndices.indexOf(D)>-1;if(oe.enabled&&!Ge){Be=Ie.group({class:"apexcharts-data-labels",transform:ae});var st="";void 0!==S&&(st=Pe(S,{seriesIndex:D,dataPointIndex:B,w:ue}));var bt=ue.globals.series[D][B]<0,J=ue.config.plotOptions.bar.dataLabels.position;"vertical"===ue.config.plotOptions.bar.dataLabels.orientation&&("top"===J&&(oe.textAnchor=bt?"end":"start"),"center"===J&&(oe.textAnchor="middle"),"bottom"===J&&(oe.textAnchor=bt?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&q<Ie.getTextRects(st,parseFloat(oe.style.fontSize)).width&&(st=""),ue.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(q>0&&F.width/1.6>q||q<0&&F.width/1.6<q)&&(st=""):F.height/1.6>W&&(st=""));var pe=Te({},oe);this.barCtx.isHorizontal&&S<0&&("start"===oe.textAnchor?pe.textAnchor="end":"end"===oe.textAnchor&&(pe.textAnchor="start")),_e.plotDataLabelsText({x:f,y:b,text:st,i:D,j:B,parent:Be,dataLabelsConfig:pe,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Be}}]),Re}(),li=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.legendInactiveClass="legend-mouseover-inactive"}return de(Re,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(p){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ct.escapeString(p),"']"))}},{key:"isSeriesHidden",value:function(p){var f=this.getSeriesByName(p),b=parseInt(f.getAttribute("data:realIndex"),10);return{isHidden:f.classList.contains("apexcharts-series-collapsed"),realIndex:b}}},{key:"addCollapsedClassToSeries",value:function(p,f){var b=this.w;function S(D){for(var B=0;B<D.length;B++)D[B].index===f&&p.node.classList.add("apexcharts-series-collapsed")}S(b.globals.collapsedSeries),S(b.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(p){var f=this.isSeriesHidden(p);return this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,f.isHidden),f.isHidden}},{key:"showSeries",value:function(p){var f=this.isSeriesHidden(p);f.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,!0)}},{key:"hideSeries",value:function(p){var f=this.isSeriesHidden(p);f.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,!1)}},{key:"resetSeries",value:function(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w,D=ct.clone(S.globals.initialSeries);S.globals.previousPaths=[],b?(S.globals.collapsedSeries=[],S.globals.ancillaryCollapsedSeries=[],S.globals.collapsedSeriesIndices=[],S.globals.ancillaryCollapsedSeriesIndices=[]):D=this.emptyCollapsedSeries(D),S.config.series=D,p&&(f&&(S.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(p){for(var f=this.w,b=0;b<p.length;b++)f.globals.collapsedSeriesIndices.indexOf(b)>-1&&(p[b].data=[]);return p}},{key:"toggleSeriesOnHover",value:function(p,f){var b=this.w,S=b.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===p.type){var D=parseInt(f.getAttribute("rel"),10)-1,B=null,F=null;b.globals.axisCharts||"radialBar"===b.config.chart.type?b.globals.axisCharts?(B=b.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(D,"']")),F=b.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(D,"']"))):B=b.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(D+1,"']")):B=b.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(D+1,"'] path"));for(var W=0;W<S.length;W++)S[W].classList.add(this.legendInactiveClass);null!==B&&(b.globals.axisCharts||B.parentNode.classList.remove(this.legendInactiveClass),B.classList.remove(this.legendInactiveClass),null!==F&&F.classList.remove(this.legendInactiveClass))}else if("mouseout"===p.type)for(var q=0;q<S.length;q++)S[q].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(p,f){var b=this,S=this.w,D=S.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),B=function(W){for(var q=0;q<D.length;q++)D[q].classList[W](b.legendInactiveClass)};if("mousemove"===p.type){var F=parseInt(f.getAttribute("rel"),10)-1;B("add"),function(W){for(var q=0;q<D.length;q++){var oe=parseInt(D[q].getAttribute("val"),10);oe>=W.from&&oe<=W.to&&D[q].classList.remove(b.legendInactiveClass)}}(S.config.plotOptions.heatmap.colorScale.ranges[F])}else"mouseout"===p.type&&B("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var p=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",b=this.w,S=0;if(b.config.series.length>1)for(var D=b.config.series.map(function(F,W){var q=!1;return p&&(q="bar"===b.config.series[W].type||"column"===b.config.series[W].type),F.data&&F.data.length>0&&!q?W:-1}),B="asc"===f?0:D.length-1;"asc"===f?B<D.length:B>=0;"asc"===f?B++:B--)if(-1!==D[B]){S=D[B];break}return S}},{key:"getPreviousPaths",value:function(){var p=this.w;function f(B,F,W){for(var q=B[F].childNodes,oe={type:W,paths:[],realIndex:B[F].getAttribute("data:realIndex")},ue=0;ue<q.length;ue++)if(q[ue].hasAttribute("pathTo")){var ae=q[ue].getAttribute("pathTo");oe.paths.push({d:ae})}p.globals.previousPaths.push(oe)}p.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(B){for(var W=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(B,"-series .apexcharts-series")),q=0;q<W.length;q++)f(W,q,B)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var b=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p.config.chart.type," .apexcharts-series"));if(b.length>0)for(var S=function(B){for(var F=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(B,"'] rect")),W=[],q=function(ue){var ae=function(Ie){return F[ue].getAttribute(Ie)},_e={x:parseFloat(ae("x")),y:parseFloat(ae("y")),width:parseFloat(ae("width")),height:parseFloat(ae("height"))};W.push({rect:_e,color:F[ue].getAttribute("color")})},oe=0;oe<F.length;oe++)q(oe);p.globals.previousPaths.push(W)},D=0;D<b.length;D++)S(D);p.globals.axisCharts||(p.globals.previousPaths=p.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(p){var f=this.w,b=f.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"));if(b.length>0)for(var S=0;S<b.length;S++){for(var D=f.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series[data\\:realIndex='").concat(S,"'] circle")),B=[],F=0;F<D.length;F++)B.push({x:D[F].getAttribute("cx"),y:D[F].getAttribute("cy"),r:D[F].getAttribute("r")});f.globals.previousPaths.push(B)}}},{key:"clearPreviousPaths",value:function(){var p=this.w;p.globals.previousPaths=[],p.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var p=this.w,f=p.config.noData,b=new qt(this.ctx),S=p.globals.svgWidth/2,D=p.globals.svgHeight/2,B="middle";if(p.globals.noData=!0,p.globals.animationEnded=!0,"left"===f.align?(S=10,B="start"):"right"===f.align&&(S=p.globals.svgWidth-10,B="end"),"top"===f.verticalAlign?D=50:"bottom"===f.verticalAlign&&(D=p.globals.svgHeight-50),S+=f.offsetX,D=D+parseInt(f.style.fontSize,10)+2+f.offsetY,void 0!==f.text&&""!==f.text){var F=b.drawText({x:S,y:D,text:f.text,textAnchor:B,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,foreColor:f.style.color,opacity:1,class:"apexcharts-text-nodata"});p.globals.dom.Paper.add(F)}}},{key:"setNullSeriesToZeroValues",value:function(p){for(var f=this.w,b=0;b<p.length;b++)if(0===p[b].length)for(var S=0;S<p[f.globals.maxValsInArrayIndex].length;S++)p[b].push(0);return p}},{key:"hasAllSeriesEqualX",value:function(){for(var p=!0,f=this.w,b=this.filteredSeriesX(),S=0;S<b.length-1;S++)if(b[S][0]!==b[S+1][0]){p=!1;break}return f.globals.allSeriesHasEqualX=p,p}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(f){return f.length>0?f:[]})}}]),Re}(),Bi=function(){function Re(p){ee(this,Re),this.w=p.w,this.barCtx=p}return de(Re,[{key:"initVariables",value:function(p){var f=this.w;this.barCtx.series=p,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var b=0;b<p.length;b++)if(p[b].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=p[b].length),f.globals.isXNumeric)for(var S=0;S<p[b].length;S++)f.globals.seriesX[b][S]>f.globals.minX&&f.globals.seriesX[b][S]<f.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=f.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=p.length-1,f.globals.comboCharts||this.checkZeroSeries({series:p})}},{key:"initialPositions",value:function(){var p,f,b,S,D,B,F,W,q=this.w,oe=q.globals.dataPoints;this.barCtx.isTimelineBar&&(oe=q.globals.labels.length);var ue=this.barCtx.seriesLen;if(q.config.plotOptions.bar.rangeBarGroupRows&&(ue=1),this.barCtx.isHorizontal)D=(b=q.globals.gridHeight/oe)/ue,q.globals.isXNumeric&&(D=(b=q.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),D=D*parseInt(this.barCtx.barOptions.barHeight,10)/100,W=this.barCtx.baseLineInvertedY+q.globals.padHorizontal+(this.barCtx.isReversed?q.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),f=(b-D*this.barCtx.seriesLen)/2;else{if(S=q.globals.gridWidth/this.barCtx.visibleItems,q.config.xaxis.convertedCatToNumeric&&(S=q.globals.gridWidth/q.globals.dataPoints),B=S/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,q.globals.isXNumeric){var ae=this.barCtx.xRatio;q.config.xaxis.convertedCatToNumeric&&(ae=this.barCtx.initialXRatio),q.globals.minXDiff&&.5!==q.globals.minXDiff&&q.globals.minXDiff/ae>0&&(S=q.globals.minXDiff/ae),(B=S/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(B=1)}F=q.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?q.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),p=q.globals.padHorizontal+(S-B*this.barCtx.seriesLen)/2}return{x:p,y:f,yDivision:b,xDivision:S,barHeight:D,barWidth:B,zeroH:F,zeroW:W}}},{key:"getPathFillColor",value:function(p,f,b,S){var D=this.w,B=new dn(this.barCtx.ctx),F=null,W=this.barCtx.barOptions.distributed?b:f;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(q){p[f][b]>=q.from&&p[f][b]<=q.to&&(F=q.color)}),D.config.series[f].data[b]&&D.config.series[f].data[b].fillColor&&(F=D.config.series[f].data[b].fillColor),B.fillPath({seriesNumber:this.barCtx.barOptions.distributed?W:S,dataPointIndex:b,color:F,value:p[f][b]})}},{key:"getStrokeWidth",value:function(p,f,b){var S=0,D=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[p][f],D.config.stroke.show&&(this.barCtx.isNullValue||(S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[b]:this.barCtx.strokeWidth)),S}},{key:"barBackground",value:function(p){var f=p.j,b=p.i,S=p.x1,D=p.x2,B=p.y1,F=p.y2,W=p.elSeries,q=this.w,oe=new qt(this.barCtx.ctx),ue=new li(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&ue===b){f>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(f-=this.barCtx.barOptions.colors.backgroundBarColors.length);var _e=oe.drawRect(void 0!==S?S:0,void 0!==B?B:0,void 0!==D?D:q.globals.gridWidth,void 0!==F?F:q.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[f],this.barCtx.barOptions.colors.backgroundBarOpacity);W.add(_e),_e.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(p){var f=p.barWidth,b=p.barXPosition,S=p.yRatio,D=p.y1,B=p.y2,F=p.strokeWidth,W=p.series,q=p.realIndex,oe=p.i,ue=p.j,ae=p.w,_e=new qt(this.barCtx.ctx);(F=Array.isArray(F)?F[q]:F)||(F=0);var Pe=this.getRoundedBars(ae,{barWidth:f,strokeWidth:F,yRatio:S,barXPosition:b,y1:D,y2:B},W,oe,ue),Be=b,Ge=b+f,st=_e.move(Be,D),bt=_e.move(Be,D),J=_e.line(Ge-F,D);return ae.globals.previousPaths.length>0&&(bt=this.barCtx.getPreviousPath(q,ue,!1)),st=st+_e.line(Be,Pe.y2)+Pe.pathWithRadius+_e.line(Ge-F,Pe.y2)+J+J+"z",bt=bt+_e.line(Be,D)+J+J+J+J+J+_e.line(Be,D),ae.config.chart.stacked&&(this.barCtx.yArrj.push(Pe.y2),this.barCtx.yArrjF.push(Math.abs(D-Pe.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[oe][ue])),{pathTo:st,pathFrom:bt}}},{key:"getBarpaths",value:function(p){var f=p.barYPosition,b=p.barHeight,S=p.x1,D=p.x2,B=p.strokeWidth,F=p.series,W=p.realIndex,q=p.i,oe=p.j,ue=p.w,ae=new qt(this.barCtx.ctx);(B=Array.isArray(B)?B[W]:B)||(B=0);var Ie=this.getRoundedBars(ue,{barHeight:b,strokeWidth:B,barYPosition:f,x2:D,x1:S},F,q,oe),Pe=ae.move(S,f),Be=ae.move(S,f);ue.globals.previousPaths.length>0&&(Be=this.barCtx.getPreviousPath(W,oe,!1));var Ge=f,st=f+b,bt=ae.line(S,st-B);return Pe=Pe+ae.line(Ie.x2,Ge)+Ie.pathWithRadius+ae.line(Ie.x2,st-B)+bt+bt+"z",Be=Be+ae.line(S,Ge)+bt+bt+bt+bt+bt+ae.line(S,Ge),ue.config.chart.stacked&&(this.barCtx.xArrj.push(Ie.x2),this.barCtx.xArrjF.push(Math.abs(S-Ie.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[q][oe])),{pathTo:Pe,pathFrom:Be}}},{key:"getRoundedBars",value:function(p,f,b,S,D){var B=new qt(this.barCtx.ctx),F=p.config.plotOptions.bar.borderRadius;if(p.config.chart.stacked&&b.length>1&&S!==this.barCtx.radiusOnSeriesNumber&&(F=0),this.barCtx.isHorizontal){var W="",q=f.x2;if(Math.abs(f.x1-f.x2)<F&&(F=Math.abs(f.x1-f.x2)),void 0!==b[S][D]||null!==b[S][D]){var oe=this.barCtx.isReversed?b[S][D]>0:b[S][D]<0;oe&&(F*=-1),W=B.quadraticCurve((q-=F)+F,f.barYPosition,q+F,f.barYPosition+(oe?-1*F:F))+B.line(q+F,f.barYPosition+f.barHeight-f.strokeWidth-(oe?-1*F:F))+B.quadraticCurve(q+F,f.barYPosition+f.barHeight-f.strokeWidth,q,f.barYPosition+f.barHeight-f.strokeWidth)}return{pathWithRadius:W,x2:q}}var ue="",ae=f.y2;if(Math.abs(f.y1-f.y2)<F&&(F=Math.abs(f.y1-f.y2)),void 0!==b[S][D]||null!==b[S][D]){var _e=b[S][D]<0;_e&&(F*=-1),ue=B.quadraticCurve(f.barXPosition,(ae+=F)-F,f.barXPosition+(_e?-1*F:F),ae-F)+B.line(f.barXPosition+f.barWidth-f.strokeWidth-(_e?-1*F:F),ae-F)+B.quadraticCurve(f.barXPosition+f.barWidth-f.strokeWidth,ae-F,f.barXPosition+f.barWidth-f.strokeWidth,ae)}return{pathWithRadius:ue,y2:ae}}},{key:"checkZeroSeries",value:function(p){for(var f=p.series,b=this.w,S=0;S<f.length;S++){for(var D=0,B=0;B<f[b.globals.maxValsInArrayIndex].length;B++)D+=f[S][B];0===D&&this.barCtx.zeroSerieses.push(S)}for(var F=f.length-1;F>=0;F--)this.barCtx.zeroSerieses.indexOf(F)>-1&&F===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var W=f.length-1;W>=0;W--)b.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(p,f){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=b?f:null;return null!=p&&(S=f+p/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?p/this.barCtx.invertedYRatio:0)),S}},{key:"getYForValue",value:function(p,f){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=b?f:null;return null!=p&&(S=f-p/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?p/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),S}},{key:"getGoalValues",value:function(p,f,b,S,D){var B=this,F=this.w,W=[];return F.globals.seriesGoals[S]&&F.globals.seriesGoals[S][D]&&Array.isArray(F.globals.seriesGoals[S][D])&&F.globals.seriesGoals[S][D].forEach(function(q){var oe;W.push((Me(oe={},p,"x"===p?B.getXForValue(q.value,f,!1):B.getYForValue(q.value,b,!1)),Me(oe,"attrs",q),oe))}),W}},{key:"drawGoalLine",value:function(p){var f=p.barXPosition,b=p.barYPosition,S=p.goalX,D=p.goalY,B=p.barWidth,F=p.barHeight,W=new qt(this.barCtx.ctx),q=W.group({className:"apexcharts-bar-goals-groups"}),oe=null;return this.barCtx.isHorizontal?Array.isArray(S)&&S.forEach(function(ue){oe=W.drawLine(ue.x,b,ue.x,b+F,ue.attrs.strokeColor?ue.attrs.strokeColor:void 0,0,ue.attrs.strokeWidth?ue.attrs.strokeWidth:2),q.add(oe)}):Array.isArray(D)&&D.forEach(function(ue){oe=W.drawLine(f,ue.y,f+B,ue.y,ue.attrs.strokeColor?ue.attrs.strokeColor:void 0,0,ue.attrs.strokeWidth?ue.attrs.strokeWidth:2),q.add(oe)}),q}}]),Re}(),Ui=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w;var b=this.w;this.barOptions=b.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=b.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===b.config.xaxis.type&&b.globals.seriesRangeBarTimeline.length,this.xyRatios=f,null!==this.xyRatios&&(this.xRatio=f.xRatio,this.initialXRatio=f.initialXRatio,this.yRatio=f.yRatio,this.invertedXRatio=f.invertedXRatio,this.invertedYRatio=f.invertedYRatio,this.baseLineY=f.baseLineY,this.baseLineInvertedY=f.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new Bi(this)}return de(Re,[{key:"draw",value:function(p,f){var b=this.w,S=new qt(this.ctx),D=new hi(this.ctx,b);p=D.getLogSeries(p),this.series=p,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(p);var B=S.group({class:"apexcharts-bar-series apexcharts-plot-series"});b.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var F=0,W=0;F<p.length;F++,W++){var q,oe,ue,ae,_e=void 0,Ie=void 0,Pe=[],Be=[],Ge=b.globals.comboCharts?f[F]:F,st=S.group({class:"apexcharts-series",rel:F+1,seriesName:ct.escapeString(b.globals.seriesNames[Ge]),"data:realIndex":Ge});this.ctx.series.addCollapsedClassToSeries(st,Ge),p[F].length>0&&(this.visibleI=this.visibleI+1);var bt=0,J=0;this.yRatio.length>1&&(this.yaxisIndex=Ge),this.isReversed=b.config.yaxis[this.yaxisIndex]&&b.config.yaxis[this.yaxisIndex].reversed;var pe=this.barHelpers.initialPositions();Ie=pe.y,bt=pe.barHeight,oe=pe.yDivision,ae=pe.zeroW,_e=pe.x,J=pe.barWidth,q=pe.xDivision,ue=pe.zeroH,this.horizontal||Be.push(_e+J/2);for(var ze=S.group({class:"apexcharts-datalabels","data:realIndex":Ge}),Je=S.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ft=0;ft<b.globals.dataPoints;ft++){var ln=this.barHelpers.getStrokeWidth(F,ft,Ge),$t=null,cn={indexes:{i:F,j:ft,realIndex:Ge,bc:W},x:_e,y:Ie,strokeWidth:ln,elSeries:st};this.isHorizontal?($t=this.drawBarPaths(Te(Te({},cn),{},{barHeight:bt,zeroW:ae,yDivision:oe})),J=this.series[F][ft]/this.invertedYRatio):($t=this.drawColumnPaths(Te(Te({},cn),{},{xDivision:q,barWidth:J,zeroH:ue})),bt=this.series[F][ft]/this.yRatio[this.yaxisIndex]);var Un=this.barHelpers.drawGoalLine({barXPosition:$t.barXPosition,barYPosition:$t.barYPosition,goalX:$t.goalX,goalY:$t.goalY,barHeight:bt,barWidth:J});Un&&Je.add(Un),Ie=$t.y,_e=$t.x,ft>0&&Be.push(_e+J/2),Pe.push(Ie);var zn=this.barHelpers.getPathFillColor(p,F,ft,Ge);this.renderSeries({realIndex:Ge,pathFill:zn,j:ft,i:F,pathFrom:$t.pathFrom,pathTo:$t.pathTo,strokeWidth:ln,elSeries:st,x:_e,y:Ie,series:p,barHeight:bt,barWidth:J,elDataLabelsWrap:ze,elGoalsMarkers:Je,visibleSeries:this.visibleI,type:"bar"})}b.globals.seriesXvalues[Ge]=Be,b.globals.seriesYvalues[Ge]=Pe,B.add(st)}return B}},{key:"renderSeries",value:function(p){var f=p.realIndex,b=p.pathFill,S=p.lineFill,D=p.j,B=p.i,F=p.pathFrom,W=p.pathTo,q=p.strokeWidth,oe=p.elSeries,ue=p.x,ae=p.y,_e=p.y1,Ie=p.y2,Pe=p.series,Be=p.barHeight,Ge=p.barWidth,st=p.barYPosition,bt=p.elDataLabelsWrap,J=p.elGoalsMarkers,pe=p.visibleSeries,ze=p.type,Je=this.w,ft=new qt(this.ctx);S||(S=this.barOptions.distributed?Je.globals.stroke.colors[D]:Je.globals.stroke.colors[f]),Je.config.series[B].data[D]&&Je.config.series[B].data[D].strokeColor&&(S=Je.config.series[B].data[D].strokeColor),this.isNullValue&&(b="none");var $t=ft.renderPaths({i:B,j:D,realIndex:f,pathFrom:F,pathTo:W,stroke:S,strokeWidth:q,strokeLineCap:Je.config.stroke.lineCap,fill:b,animationDelay:D/Je.config.chart.animations.animateGradually.delay*(Je.config.chart.animations.speed/Je.globals.dataPoints)/2.4,initialSpeed:Je.config.chart.animations.speed,dataChangeSpeed:Je.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(ze,"-area")});$t.attr("clip-path","url(#gridRectMask".concat(Je.globals.cuid,")"));var cn=Je.config.forecastDataPoints;cn.count>0&&D>=Je.globals.dataPoints-cn.count&&($t.node.setAttribute("stroke-dasharray",cn.dashArray),$t.node.setAttribute("stroke-width",cn.strokeWidth),$t.node.setAttribute("fill-opacity",cn.fillOpacity)),void 0!==_e&&void 0!==Ie&&($t.attr("data-range-y1",_e),$t.attr("data-range-y2",Ie)),new Rn(this.ctx).setSelectionFilter($t,f,D),oe.add($t);var Un=new bn(this).handleBarDataLabels({x:ue,y:ae,y1:_e,y2:Ie,i:B,j:D,series:Pe,realIndex:f,barHeight:Be,barWidth:Ge,barYPosition:st,renderedPath:$t,visibleSeries:pe});return null!==Un&&bt.add(Un),oe.add(bt),J&&oe.add(J),oe}},{key:"drawBarPaths",value:function(p){var B,f=p.indexes,b=p.barHeight,S=p.strokeWidth,D=p.zeroW,F=p.y,W=p.yDivision,q=p.elSeries,oe=this.w,ue=f.i,ae=f.j;oe.globals.isXNumeric&&(F=(oe.globals.seriesX[ue][ae]-oe.globals.minX)/this.invertedXRatio-b);var _e=F+b*this.visibleI;B=this.barHelpers.getXForValue(this.series[ue][ae],D);var Ie=this.barHelpers.getBarpaths({barYPosition:_e,barHeight:b,x1:D,x2:B,strokeWidth:S,series:this.series,realIndex:f.realIndex,i:ue,j:ae,w:oe});return oe.globals.isXNumeric||(F+=W),this.barHelpers.barBackground({j:ae,i:ue,y1:_e-b*this.visibleI,y2:b*this.seriesLen,elSeries:q}),{pathTo:Ie.pathTo,pathFrom:Ie.pathFrom,x:B,y:F,goalX:this.barHelpers.getGoalValues("x",D,null,ue,ae),barYPosition:_e}}},{key:"drawColumnPaths",value:function(p){var S,f=p.indexes,b=p.x,D=p.xDivision,B=p.barWidth,F=p.zeroH,W=p.strokeWidth,q=p.elSeries,oe=this.w,ue=f.realIndex,ae=f.i,_e=f.j,Ie=f.bc;if(oe.globals.isXNumeric){var Pe=ue;oe.globals.seriesX[ue].length||(Pe=oe.globals.maxValsInArrayIndex),b=(oe.globals.seriesX[Pe][_e]-oe.globals.minX)/this.xRatio-B*this.seriesLen/2}var Be=b+B*this.visibleI;S=this.barHelpers.getYForValue(this.series[ae][_e],F);var Ge=this.barHelpers.getColumnPaths({barXPosition:Be,barWidth:B,y1:F,y2:S,strokeWidth:W,series:this.series,realIndex:f.realIndex,i:ae,j:_e,w:oe});return oe.globals.isXNumeric||(b+=D),this.barHelpers.barBackground({bc:Ie,j:_e,i:ae,x1:Be-W/2-B*this.visibleI,x2:B*this.seriesLen+W/2,elSeries:q}),{pathTo:Ge.pathTo,pathFrom:Ge.pathFrom,x:b,y:S,goalY:this.barHelpers.getGoalValues("y",null,F,ae,_e),barXPosition:Be}}},{key:"getPreviousPath",value:function(p,f){for(var b,S=this.w,D=0;D<S.globals.previousPaths.length;D++){var B=S.globals.previousPaths[D];B.paths&&B.paths.length>0&&parseInt(B.realIndex,10)===parseInt(p,10)&&void 0!==S.globals.previousPaths[D].paths[f]&&(b=S.globals.previousPaths[D].paths[f].d)}return b}}]),Re}(),fi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return de(Re,[{key:"isValidDate",value:function(p){return!isNaN(this.parseDate(p))}},{key:"getTimeStamp",value:function(p){return Date.parse(p)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(p).toISOString().substr(0,25)).getTime():new Date(p).getTime():p}},{key:"getDate",value:function(p){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(p).toUTCString()):new Date(p)}},{key:"parseDate",value:function(p){var f=Date.parse(p);if(!isNaN(f))return this.getTimeStamp(p);var b=Date.parse(p.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(b)}},{key:"parseDateWithTimezone",value:function(p){return Date.parse(p.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(p,f){var b=this.w.globals.locale,S=this.w.config.xaxis.labels.datetimeUTC,D=["\0"].concat(sn(b.months)),B=["\x01"].concat(sn(b.shortMonths)),F=["\x02"].concat(sn(b.days)),W=["\x03"].concat(sn(b.shortDays));function q(ft,ln){var $t=ft+"";for(ln=ln||2;$t.length<ln;)$t="0"+$t;return $t}var oe=S?p.getUTCFullYear():p.getFullYear();f=(f=(f=f.replace(/(^|[^\\])yyyy+/g,"$1"+oe)).replace(/(^|[^\\])yy/g,"$1"+oe.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+oe);var ue=(S?p.getUTCMonth():p.getMonth())+1;f=(f=(f=(f=f.replace(/(^|[^\\])MMMM+/g,"$1"+D[0])).replace(/(^|[^\\])MMM/g,"$1"+B[0])).replace(/(^|[^\\])MM/g,"$1"+q(ue))).replace(/(^|[^\\])M/g,"$1"+ue);var ae=S?p.getUTCDate():p.getDate();f=(f=(f=(f=f.replace(/(^|[^\\])dddd+/g,"$1"+F[0])).replace(/(^|[^\\])ddd/g,"$1"+W[0])).replace(/(^|[^\\])dd/g,"$1"+q(ae))).replace(/(^|[^\\])d/g,"$1"+ae);var _e=S?p.getUTCHours():p.getHours(),Ie=_e>12?_e-12:0===_e?12:_e;f=(f=(f=(f=f.replace(/(^|[^\\])HH+/g,"$1"+q(_e))).replace(/(^|[^\\])H/g,"$1"+_e)).replace(/(^|[^\\])hh+/g,"$1"+q(Ie))).replace(/(^|[^\\])h/g,"$1"+Ie);var Pe=S?p.getUTCMinutes():p.getMinutes();f=(f=f.replace(/(^|[^\\])mm+/g,"$1"+q(Pe))).replace(/(^|[^\\])m/g,"$1"+Pe);var Be=S?p.getUTCSeconds():p.getSeconds();f=(f=f.replace(/(^|[^\\])ss+/g,"$1"+q(Be))).replace(/(^|[^\\])s/g,"$1"+Be);var Ge=S?p.getUTCMilliseconds():p.getMilliseconds();f=f.replace(/(^|[^\\])fff+/g,"$1"+q(Ge,3)),Ge=Math.round(Ge/10),f=f.replace(/(^|[^\\])ff/g,"$1"+q(Ge)),Ge=Math.round(Ge/10);var st=_e<12?"AM":"PM";f=(f=(f=f.replace(/(^|[^\\])f/g,"$1"+Ge)).replace(/(^|[^\\])TT+/g,"$1"+st)).replace(/(^|[^\\])T/g,"$1"+st.charAt(0));var bt=st.toLowerCase();f=(f=f.replace(/(^|[^\\])tt+/g,"$1"+bt)).replace(/(^|[^\\])t/g,"$1"+bt.charAt(0));var J=-p.getTimezoneOffset(),pe=S||!J?"Z":J>0?"+":"-";if(!S){var ze=(J=Math.abs(J))%60;pe+=q(Math.floor(J/60))+":"+q(ze)}f=f.replace(/(^|[^\\])K/g,"$1"+pe);var Je=(S?p.getUTCDay():p.getDay())+1;return(f=(f=(f=(f=f.replace(new RegExp(F[0],"g"),F[Je])).replace(new RegExp(W[0],"g"),W[Je])).replace(new RegExp(D[0],"g"),D[ue])).replace(new RegExp(B[0],"g"),B[ue])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(p,f,b){var S=this.w;void 0!==S.config.xaxis.min&&(p=S.config.xaxis.min),void 0!==S.config.xaxis.max&&(f=S.config.xaxis.max);var D=this.getDate(p),B=this.getDate(f),F=this.formatDate(D,"yyyy MM dd HH mm ss fff").split(" "),W=this.formatDate(B,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(F[6],10),maxMillisecond:parseInt(W[6],10),minSecond:parseInt(F[5],10),maxSecond:parseInt(W[5],10),minMinute:parseInt(F[4],10),maxMinute:parseInt(W[4],10),minHour:parseInt(F[3],10),maxHour:parseInt(W[3],10),minDate:parseInt(F[2],10),maxDate:parseInt(W[2],10),minMonth:parseInt(F[1],10)-1,maxMonth:parseInt(W[1],10)-1,minYear:parseInt(F[0],10),maxYear:parseInt(W[0],10)}}},{key:"isLeapYear",value:function(p){return p%4==0&&p%100!=0||p%400==0}},{key:"calculcateLastDaysOfMonth",value:function(p,f,b){return this.determineDaysOfMonths(p,f)-b}},{key:"determineDaysOfYear",value:function(p){var f=365;return this.isLeapYear(p)&&(f=366),f}},{key:"determineRemainingDaysOfYear",value:function(p,f,b){var S=this.daysCntOfYear[f]+b;return f>1&&this.isLeapYear()&&S++,S}},{key:"determineDaysOfMonths",value:function(p,f){var b=30;switch(p=ct.monthMod(p),!0){case this.months30.indexOf(p)>-1:2===p&&(b=this.isLeapYear(f)?29:28);break;case this.months31.indexOf(p)>-1:default:b=31}return b}}]),Re}(),Ei=function(Re){Ye(f,Ui);var p=Pt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this.w,B=new qt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=b,this.seriesRangeStart=D.globals.seriesRangeStart,this.seriesRangeEnd=D.globals.seriesRangeEnd,this.barHelpers.initVariables(b);for(var F=B.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),W=0;W<b.length;W++){var q,oe,ue,ae=void 0,_e=void 0,Ie=void 0,Pe=D.globals.comboCharts?S[W]:W,Be=B.group({class:"apexcharts-series",seriesName:ct.escapeString(D.globals.seriesNames[Pe]),rel:W+1,"data:realIndex":Pe});b[W].length>0&&(this.visibleI=this.visibleI+1);var Ge=0,st=0;this.yRatio.length>1&&(this.yaxisIndex=Pe);var bt=this.barHelpers.initialPositions();_e=bt.y,ue=bt.zeroW,ae=bt.x,st=bt.barWidth,q=bt.xDivision,oe=bt.zeroH;for(var J=B.group({class:"apexcharts-datalabels","data:realIndex":Pe}),pe=B.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),ze=0;ze<D.globals.dataPoints;ze++){var Je=this.barHelpers.getStrokeWidth(W,ze,Pe),ft=this.seriesRangeStart[W][ze],ln=this.seriesRangeEnd[W][ze],$t=null,cn=null,Un={x:ae,y:_e,strokeWidth:Je,elSeries:Be};if(Ie=bt.yDivision,Ge=bt.barHeight,this.isHorizontal){cn=_e+Ge*this.visibleI;var zn=this.seriesLen;D.config.plotOptions.bar.rangeBarGroupRows&&(zn=1);var Ai=(Ie-Ge*zn)/2;if(void 0===D.config.series[W].data[ze])break;if(this.isTimelineBar&&D.config.series[W].data[ze].x){var gr=this.detectOverlappingBars({i:W,j:ze,barYPosition:cn,srty:Ai,barHeight:Ge,yDivision:Ie,initPositions:bt});Ge=gr.barHeight,cn=gr.barYPosition}st=($t=this.drawRangeBarPaths(Te({indexes:{i:W,j:ze,realIndex:Pe},barHeight:Ge,barYPosition:cn,zeroW:ue,yDivision:Ie,y1:ft,y2:ln},Un))).barWidth}else Ge=($t=this.drawRangeColumnPaths(Te({indexes:{i:W,j:ze,realIndex:Pe},zeroH:oe,barWidth:st,xDivision:q},Un))).barHeight;var vi=this.barHelpers.drawGoalLine({barXPosition:$t.barXPosition,barYPosition:cn,goalX:$t.goalX,goalY:$t.goalY,barHeight:Ge,barWidth:st});vi&&pe.add(vi),_e=$t.y,ae=$t.x;var Yi=this.barHelpers.getPathFillColor(b,W,ze,Pe);this.renderSeries({realIndex:Pe,pathFill:Yi,lineFill:D.globals.stroke.colors[Pe],j:ze,i:W,x:ae,y:_e,y1:ft,y2:ln,pathFrom:$t.pathFrom,pathTo:$t.pathTo,strokeWidth:Je,elSeries:Be,series:b,barHeight:Ge,barYPosition:cn,barWidth:st,elDataLabelsWrap:J,elGoalsMarkers:pe,visibleSeries:this.visibleI,type:"rangebar"})}F.add(Be)}return F}},{key:"detectOverlappingBars",value:function(b){var S=b.i,D=b.j,B=b.barYPosition,F=b.srty,W=b.barHeight,q=b.yDivision,oe=b.initPositions,ue=this.w,ae=[],_e=ue.config.series[S].data[D].rangeName,Ie=ue.config.series[S].data[D].x,Pe=ue.globals.labels.indexOf(Ie),Be=ue.globals.seriesRangeBarTimeline[S].findIndex(function(Ge){return Ge.x===Ie&&Ge.overlaps.length>0});return B=ue.config.plotOptions.bar.rangeBarGroupRows?F+q*Pe:F+W*this.visibleI+q*Pe,Be>-1&&!ue.config.plotOptions.bar.rangeBarOverlap&&(ae=ue.globals.seriesRangeBarTimeline[S][Be].overlaps).indexOf(_e)>-1&&(B=(W=oe.barHeight/ae.length)*this.visibleI+q*(100-parseInt(this.barOptions.barHeight,10))/100/2+W*(this.visibleI+ae.indexOf(_e))+q*Pe),{barYPosition:B,barHeight:W}}},{key:"drawRangeColumnPaths",value:function(b){var S=b.indexes,D=b.x,B=b.xDivision,F=b.barWidth,W=b.zeroH,q=this.w,oe=S.i,ue=S.j,ae=this.yRatio[this.yaxisIndex],_e=S.realIndex,Ie=this.getRangeValue(_e,ue),Pe=Math.min(Ie.start,Ie.end),Be=Math.max(Ie.start,Ie.end);q.globals.isXNumeric&&(D=(q.globals.seriesX[oe][ue]-q.globals.minX)/this.xRatio-F/2);var Ge=D+F*this.visibleI;null==this.series[oe][ue]?Pe=W:(Pe=W-Pe/ae,Be=W-Be/ae);var st=Math.abs(Be-Pe),bt=this.barHelpers.getColumnPaths({barXPosition:Ge,barWidth:F,y1:Pe,y2:Be,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:S.realIndex,i:_e,j:ue,w:q});return q.globals.isXNumeric||(D+=B),{pathTo:bt.pathTo,pathFrom:bt.pathFrom,barHeight:st,x:D,y:Be,goalY:this.barHelpers.getGoalValues("y",null,W,oe,ue),barXPosition:Ge}}},{key:"drawRangeBarPaths",value:function(b){var S=b.indexes,D=b.y,W=b.yDivision,q=b.barHeight,oe=b.barYPosition,ue=b.zeroW,ae=this.w,_e=ue+b.y1/this.invertedYRatio,Ie=ue+b.y2/this.invertedYRatio,Pe=Math.abs(Ie-_e),Be=this.barHelpers.getBarpaths({barYPosition:oe,barHeight:q,x1:_e,x2:Ie,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:S.realIndex,realIndex:S.realIndex,j:S.j,w:ae});return ae.globals.isXNumeric||(D+=W),{pathTo:Be.pathTo,pathFrom:Be.pathFrom,barWidth:Pe,x:Ie,goalX:this.barHelpers.getGoalValues("x",ue,null,S.realIndex,S.j),y:D}}},{key:"getRangeValue",value:function(b,S){var D=this.w;return{start:D.globals.seriesRangeStart[b][S],end:D.globals.seriesRangeEnd[b][S]}}},{key:"getTooltipValues",value:function(b){var S=b.ctx,D=b.seriesIndex,B=b.dataPointIndex,F=b.y1,W=b.y2,q=b.w,oe=q.globals.seriesRangeStart[D][B],ue=q.globals.seriesRangeEnd[D][B],ae=q.globals.labels[B],_e=q.config.series[D].name?q.config.series[D].name:"",Ie=q.config.tooltip.y.formatter,Pe=q.config.tooltip.y.title.formatter,Be={w:q,seriesIndex:D,dataPointIndex:B,start:oe,end:ue};"function"==typeof Pe&&(_e=Pe(_e,Be)),Number.isFinite(F)&&Number.isFinite(W)&&(oe=F,ue=W,q.config.series[D].data[B].x&&(ae=q.config.series[D].data[B].x+":"),"function"==typeof Ie&&(ae=Ie(ae,Be)));var Ge="",st="",bt=q.globals.colors[D];if(void 0===q.config.tooltip.x.formatter)if("datetime"===q.config.xaxis.type){var J=new fi(S);Ge=J.formatDate(J.getDate(oe),q.config.tooltip.x.format),st=J.formatDate(J.getDate(ue),q.config.tooltip.x.format)}else Ge=oe,st=ue;else Ge=q.config.tooltip.x.formatter(oe),st=q.config.tooltip.x.formatter(ue);return{start:oe,end:ue,startVal:Ge,endVal:st,ylabel:ae,color:bt,seriesName:_e}}},{key:"buildCustomTooltipHTML",value:function(b){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+b.color+'">'+(b.seriesName||"")+'</span></div><div> <span class="category">'+b.ylabel+' </span> <span class="value start-value">'+b.start+'</span> <span class="separator">-</span> <span class="value end-value">'+b.end+"</span></div></div>"}}]),f}(),bi=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(p){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,ct.extend(p,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var p=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(f){return p._getBoxTooltip(f.w,f.seriesIndex,f.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var p=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(f){return p._getBoxTooltip(f.w,f.seriesIndex,f.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(p,f){var b=f.seriesIndex,S=f.dataPointIndex,D=f.w;return D.globals.seriesRangeEnd[b][S]-D.globals.seriesRangeStart[b][S]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(p){return p.w.config.plotOptions&&p.w.config.plotOptions.bar&&p.w.config.plotOptions.bar.horizontal?(S=(b=new Ei((f=p).ctx,null)).getTooltipValues(f),b.buildCustomTooltipHTML({color:S.color,seriesName:S.seriesName,ylabel:S.ylabel,start:S.startVal,end:S.endVal})):function(f){var b=new Ei(f.ctx,null),S=b.getTooltipValues(f);return b.buildCustomTooltipHTML({color:S.color,seriesName:S.seriesName,ylabel:S.ylabel,start:S.start,end:S.end})}(p);var f,b,S}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(p){return ct.extend(p,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(p){p.dataLabels=p.dataLabels||{},p.dataLabels.formatter=p.dataLabels.formatter||void 0;var f=p.dataLabels.formatter;return p.yaxis.forEach(function(b,S){p.yaxis[S].min=0,p.yaxis[S].max=100}),"bar"===p.chart.type&&(p.dataLabels.formatter=f||function(b){return"number"==typeof b&&b?b.toFixed(0)+"%":b}),p}},{key:"convertCatToNumeric",value:function(p){return p.xaxis.convertedCatToNumeric=!0,p}},{key:"convertCatToNumericXaxis",value:function(p,f,b){p.xaxis.type="numeric",p.xaxis.labels=p.xaxis.labels||{},p.xaxis.labels.formatter=p.xaxis.labels.formatter||function(B){return ct.isNumber(B)?Math.floor(B):B};var S=p.xaxis.labels.formatter,D=p.xaxis.categories&&p.xaxis.categories.length?p.xaxis.categories:p.labels;return b&&b.length&&(D=b.map(function(B){return Array.isArray(B)?B:String(B)})),D&&D.length&&(p.xaxis.labels.formatter=function(B){return ct.isNumber(B)?S(D[Math.floor(B)-1]):S(B)}),p.xaxis.categories=[],p.labels=[],p.xaxis.tickAmount=p.xaxis.tickAmount||"dataPoints",p}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(p){return p},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(p,f,b,S,D){var B=p.globals.seriesCandleO[f][b],F=p.globals.seriesCandleH[f][b],W=p.globals.seriesCandleM[f][b],q=p.globals.seriesCandleL[f][b],oe=p.globals.seriesCandleC[f][b];return p.config.series[f].type&&p.config.series[f].type!==D?'<div class="apexcharts-custom-tooltip">\n          '.concat(p.config.series[f].name?p.config.series[f].name:"series-"+(f+1),": <strong>").concat(p.globals.series[f][b],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(p.config.chart.type,'">')+"<div>".concat(S[0],': <span class="value">')+B+"</span></div>"+"<div>".concat(S[1],': <span class="value">')+F+"</span></div>"+(W?"<div>".concat(S[2],': <span class="value">')+W+"</span></div>":"")+"<div>".concat(S[3],': <span class="value">')+q+"</span></div>"+"<div>".concat(S[4],': <span class="value">')+oe+"</span></div></div>"}}]),Re}(),xi=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"init",value:function(p){var f=p.responsiveOverride,b=this.opts,S=new jr,D=new bi(b);this.chartType=b.chart.type,"histogram"===this.chartType&&(b.chart.type="bar",b=ct.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},b)),b=this.extendYAxis(b),b=this.extendAnnotations(b);var B=S.init(),F={};if(b&&"object"===$(b)){var W={};W=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(b.chart.type)?D[b.chart.type]():D.line(),b.chart.brush&&b.chart.brush.enabled&&(W=D.brush(W)),b.chart.stacked&&"100%"===b.chart.stackType&&(b=D.stacked100(b)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(b),b.xaxis=b.xaxis||window.Apex.xaxis||{},f||(b.xaxis.convertedCatToNumeric=!1),((b=this.checkForCatToNumericXAxis(this.chartType,W,b)).chart.sparkline&&b.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(W=D.sparkline(W)),F=ct.extend(B,W)}var q=ct.extend(F,window.Apex);return B=ct.extend(q,b),this.handleUserInputErrors(B)}},{key:"checkForCatToNumericXAxis",value:function(p,f,b){var S=new bi(b);return"bar"===p&&b.plotOptions&&b.plotOptions.bar&&b.plotOptions.bar.horizontal||"pie"===p||"polarArea"===p||"donut"===p||"radar"===p||"radialBar"===p||"heatmap"===p||!("datetime"!==b.xaxis.type&&"numeric"!==b.xaxis.type)||"between"===(b.xaxis.tickPlacement?b.xaxis.tickPlacement:f.xaxis&&f.xaxis.tickPlacement)||(b=S.convertCatToNumeric(b)),b}},{key:"extendYAxis",value:function(p,f){var b=new jr;(void 0===p.yaxis||!p.yaxis||Array.isArray(p.yaxis)&&0===p.yaxis.length)&&(p.yaxis={}),p.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(p.yaxis=ct.extend(p.yaxis,window.Apex.yaxis)),p.yaxis=p.yaxis.constructor!==Array?[ct.extend(b.yAxis,p.yaxis)]:ct.extendArray(p.yaxis,b.yAxis);var S=!1;p.yaxis.forEach(function(B){B.logarithmic&&(S=!0)});var D=p.series;return f&&!D&&(D=f.config.series),S&&D.length!==p.yaxis.length&&D.length&&(p.yaxis=D.map(function(B,F){if(B.name||(D[F].name="series-".concat(F+1)),p.yaxis[F])return p.yaxis[F].seriesName=D[F].name,p.yaxis[F];var W=ct.extend(b.yAxis,p.yaxis[0]);return W.show=!1,W})),S&&D.length>1&&D.length!==p.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),p}},{key:"extendAnnotations",value:function(p){return void 0===p.annotations&&(p.annotations={},p.annotations.yaxis=[],p.annotations.xaxis=[],p.annotations.points=[]),p=this.extendYAxisAnnotations(p),p=this.extendXAxisAnnotations(p),this.extendPointAnnotations(p)}},{key:"extendYAxisAnnotations",value:function(p){var f=new jr;return p.annotations.yaxis=ct.extendArray(void 0!==p.annotations.yaxis?p.annotations.yaxis:[],f.yAxisAnnotation),p}},{key:"extendXAxisAnnotations",value:function(p){var f=new jr;return p.annotations.xaxis=ct.extendArray(void 0!==p.annotations.xaxis?p.annotations.xaxis:[],f.xAxisAnnotation),p}},{key:"extendPointAnnotations",value:function(p){var f=new jr;return p.annotations.points=ct.extendArray(void 0!==p.annotations.points?p.annotations.points:[],f.pointAnnotation),p}},{key:"checkForDarkTheme",value:function(p){p.theme&&"dark"===p.theme.mode&&(p.tooltip||(p.tooltip={}),"light"!==p.tooltip.theme&&(p.tooltip.theme="dark"),p.chart.foreColor||(p.chart.foreColor="#f6f7f8"),p.chart.background||(p.chart.background="#424242"),p.theme.palette||(p.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(p){var f=p;if(f.tooltip.shared&&f.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===f.chart.type&&f.plotOptions.bar.horizontal){if(f.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");f.yaxis[0].reversed&&(f.yaxis[0].opposite=!0),f.xaxis.tooltip.enabled=!1,f.yaxis[0].tooltip.enabled=!1,f.chart.zoom.enabled=!1}return"bar"!==f.chart.type&&"rangeBar"!==f.chart.type||f.tooltip.shared&&"barWidth"===f.xaxis.crosshairs.width&&f.series.length>1&&(f.xaxis.crosshairs.width="tickWidth"),"candlestick"!==f.chart.type&&"boxPlot"!==f.chart.type||f.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(f.chart.type," chart is not supported.")),f.yaxis[0].reversed=!1),f.chart.group&&0===f.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(f.stroke.width)&&"line"!==f.chart.type&&"area"!==f.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),f.stroke.width=f.stroke.width[0]),f}}]),Re}(),ei=function(){function Re(){ee(this,Re)}return de(Re,[{key:"initGlobalVars",value:function(p){p.series=[],p.seriesCandleO=[],p.seriesCandleH=[],p.seriesCandleM=[],p.seriesCandleL=[],p.seriesCandleC=[],p.seriesRangeStart=[],p.seriesRangeEnd=[],p.seriesRangeBarTimeline=[],p.seriesPercent=[],p.seriesGoals=[],p.seriesX=[],p.seriesZ=[],p.seriesNames=[],p.seriesTotals=[],p.seriesLog=[],p.seriesColors=[],p.stackedSeriesTotals=[],p.seriesXvalues=[],p.seriesYvalues=[],p.labels=[],p.categoryLabels=[],p.timescaleLabels=[],p.noLabelsProvided=!1,p.resizeTimer=null,p.selectionResizeTimer=null,p.delayedElements=[],p.pointsArray=[],p.dataLabelsRects=[],p.isXNumeric=!1,p.xaxisLabelsCount=0,p.skipLastTimelinelabel=!1,p.skipFirstTimelinelabel=!1,p.isDataXYZ=!1,p.isMultiLineX=!1,p.isMultipleYAxis=!1,p.maxY=-Number.MAX_VALUE,p.minY=Number.MIN_VALUE,p.minYArr=[],p.maxYArr=[],p.maxX=-Number.MAX_VALUE,p.minX=Number.MAX_VALUE,p.initialMaxX=-Number.MAX_VALUE,p.initialMinX=Number.MAX_VALUE,p.maxDate=0,p.minDate=Number.MAX_VALUE,p.minZ=Number.MAX_VALUE,p.maxZ=-Number.MAX_VALUE,p.minXDiff=Number.MAX_VALUE,p.yAxisScale=[],p.xAxisScale=null,p.xAxisTicksPositions=[],p.yLabelsCoords=[],p.yTitleCoords=[],p.barPadForNumericAxis=0,p.padHorizontal=0,p.xRange=0,p.yRange=[],p.zRange=0,p.dataPoints=0,p.xTickAmount=0}},{key:"globalVars",value:function(p){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:p.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.zoom&&p.chart.zoom.enabled,panEnabled:"pan"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.pan,selectionEnabled:"selection"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(p){var f=this.globalVars(p);return this.initGlobalVars(f),f.initialConfig=ct.extend({},p),f.initialSeries=ct.clone(p.series),f.lastXAxis=ct.clone(f.initialConfig.xaxis),f.lastYAxis=ct.clone(f.initialConfig.yaxis),f}}]),Re}(),Ni=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"init",value:function(){var p=new xi(this.opts).init({responsiveOverride:!1});return{config:p,globals:(new ei).init(p)}}}]),Re}(),Er=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new hi(this.ctx)}return de(Re,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var p=this.w.config.series.slice(),f=new li(this.ctx);if(this.activeSeriesIndex=f.getActiveConfigSeriesIndex(),void 0!==p[this.activeSeriesIndex].data&&p[this.activeSeriesIndex].data.length>0&&null!==p[this.activeSeriesIndex].data[0]&&void 0!==p[this.activeSeriesIndex].data[0].x&&null!==p[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var p=this.w.config.series.slice(),f=new li(this.ctx);if(this.activeSeriesIndex=f.getActiveConfigSeriesIndex(),void 0!==p[this.activeSeriesIndex].data&&p[this.activeSeriesIndex].data.length>0&&null!=p[this.activeSeriesIndex].data[0]&&p[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(p,f){for(var b=this.w.config,S=this.w.globals,D="boxPlot"===b.chart.type||"boxPlot"===b.series[f].type,B=0;B<p[f].data.length;B++)if(void 0!==p[f].data[B][1]&&(Array.isArray(p[f].data[B][1])&&4===p[f].data[B][1].length&&!D?this.twoDSeries.push(ct.parseNumber(p[f].data[B][1][3])):this.twoDSeries.push(ct.parseNumber(p[f].data[B].length>=5?p[f].data[B][4]:p[f].data[B][1])),S.dataFormatXNumeric=!0),"datetime"===b.xaxis.type){var F=new Date(p[f].data[B][0]);F=new Date(F).getTime(),this.twoDSeriesX.push(F)}else this.twoDSeriesX.push(p[f].data[B][0]);for(var W=0;W<p[f].data.length;W++)void 0!==p[f].data[W][2]&&(this.threeDSeries.push(p[f].data[W][2]),S.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(p,f){var b=this.w.config,S=this.w.globals,D=new fi(this.ctx),B=f;S.collapsedSeriesIndices.indexOf(f)>-1&&(B=this.activeSeriesIndex);for(var F=0;F<p[f].data.length;F++)void 0!==p[f].data[F].y&&(Array.isArray(p[f].data[F].y)?this.twoDSeries.push(ct.parseNumber(p[f].data[F].y[p[f].data[F].y.length-1])):this.twoDSeries.push(ct.parseNumber(p[f].data[F].y))),void 0!==p[f].data[F].goals&&Array.isArray(p[f].data[F].goals)?(void 0===this.seriesGoals[f]&&(this.seriesGoals[f]=[]),this.seriesGoals[f].push(p[f].data[F].goals)):(void 0===this.seriesGoals[f]&&(this.seriesGoals[f]=[]),this.seriesGoals[f].push(null));for(var W=0;W<p[B].data.length;W++){var q="string"==typeof p[B].data[W].x,oe=Array.isArray(p[B].data[W].x),ue=!oe&&!!D.isValidDate(p[B].data[W].x.toString());q||ue?q||b.xaxis.convertedCatToNumeric?"datetime"!==b.xaxis.type||S.isBarHorizontal&&S.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(p[B].data[W].x)):this.twoDSeriesX.push(D.parseDate(p[B].data[W].x)):"datetime"===b.xaxis.type?this.twoDSeriesX.push(D.parseDate(p[B].data[W].x.toString())):(S.dataFormatXNumeric=!0,S.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(p[B].data[W].x))):oe?(this.fallbackToCategory=!0,this.twoDSeriesX.push(p[B].data[W].x)):(S.isXNumeric=!0,S.dataFormatXNumeric=!0,this.twoDSeriesX.push(p[B].data[W].x))}if(p[f].data[0]&&void 0!==p[f].data[0].z){for(var _e=0;_e<p[f].data.length;_e++)this.threeDSeries.push(p[f].data[_e].z);S.isDataXYZ=!0}}},{key:"handleRangeData",value:function(p,f){var b=this.w.config,S=this.w.globals,D={};return this.isFormat2DArray()?D=this.handleRangeDataFormat("array",p,f):this.isFormatXY()&&(D=this.handleRangeDataFormat("xy",p,f)),S.seriesRangeStart.push(D.start),S.seriesRangeEnd.push(D.end),"datetime"===b.xaxis.type&&S.seriesRangeBarTimeline.push(D.rangeUniques),S.seriesRangeBarTimeline.forEach(function(B,F){B&&B.forEach(function(W,q){W.y.forEach(function(oe,ue){for(var ae=0;ae<W.y.length;ae++)ue!==ae&&oe.y1<=W.y[ae].y2&&W.y[ae].y1<=oe.y2&&(W.overlaps.indexOf(oe.rangeName)<0&&W.overlaps.push(oe.rangeName),W.overlaps.indexOf(W.y[ae].rangeName)<0&&W.overlaps.push(W.y[ae].rangeName))})})}),D}},{key:"handleCandleStickBoxData",value:function(p,f){var b=this.w.globals,S={};return this.isFormat2DArray()?S=this.handleCandleStickBoxDataFormat("array",p,f):this.isFormatXY()&&(S=this.handleCandleStickBoxDataFormat("xy",p,f)),b.seriesCandleO[f]=S.o,b.seriesCandleH[f]=S.h,b.seriesCandleM[f]=S.m,b.seriesCandleL[f]=S.l,b.seriesCandleC[f]=S.c,S}},{key:"handleRangeDataFormat",value:function(p,f,b){var S=[],D=[],B=f[b].data.filter(function(ae,_e,Ie){return _e===Ie.findIndex(function(Pe){return Pe.x===ae.x})}).map(function(ae,_e){return{x:ae.x,overlaps:[],y:[]}}),F="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",W=new li(this.ctx).getActiveConfigSeriesIndex();if("array"===p){if(2!==f[W].data[0][1].length)throw new Error(F);for(var q=0;q<f[b].data.length;q++)S.push(f[b].data[q][1][0]),D.push(f[b].data[q][1][1])}else if("xy"===p){if(2!==f[W].data[0].y.length)throw new Error(F);for(var oe=function(ae){var _e=ct.randomId(),Ie=f[b].data[ae].x,Pe={y1:f[b].data[ae].y[0],y2:f[b].data[ae].y[1],rangeName:_e};f[b].data[ae].rangeName=_e;var Be=B.findIndex(function(Ge){return Ge.x===Ie});B[Be].y.push(Pe),S.push(Pe.y1),D.push(Pe.y2)},ue=0;ue<f[b].data.length;ue++)oe(ue)}return{start:S,end:D,rangeUniques:B}}},{key:"handleCandleStickBoxDataFormat",value:function(p,f,b){var S=this.w,D="boxPlot"===S.config.chart.type||"boxPlot"===S.config.series[b].type,B=[],F=[],W=[],q=[],oe=[];if("array"===p)if(D&&6===f[b].data[0].length||!D&&5===f[b].data[0].length)for(var ue=0;ue<f[b].data.length;ue++)B.push(f[b].data[ue][1]),F.push(f[b].data[ue][2]),D?(W.push(f[b].data[ue][3]),q.push(f[b].data[ue][4]),oe.push(f[b].data[ue][5])):(q.push(f[b].data[ue][3]),oe.push(f[b].data[ue][4]));else for(var ae=0;ae<f[b].data.length;ae++)Array.isArray(f[b].data[ae][1])&&(B.push(f[b].data[ae][1][0]),F.push(f[b].data[ae][1][1]),D?(W.push(f[b].data[ae][1][2]),q.push(f[b].data[ae][1][3]),oe.push(f[b].data[ae][1][4])):(q.push(f[b].data[ae][1][2]),oe.push(f[b].data[ae][1][3])));else if("xy"===p)for(var _e=0;_e<f[b].data.length;_e++)Array.isArray(f[b].data[_e].y)&&(B.push(f[b].data[_e].y[0]),F.push(f[b].data[_e].y[1]),D?(W.push(f[b].data[_e].y[2]),q.push(f[b].data[_e].y[3]),oe.push(f[b].data[_e].y[4])):(q.push(f[b].data[_e].y[2]),oe.push(f[b].data[_e].y[3])));return{o:B,h:F,m:W,l:q,c:oe}}},{key:"parseDataAxisCharts",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,S=this.w.config,D=this.w.globals,B=new fi(b),F=S.labels.length>0?S.labels.slice():S.xaxis.categories.slice();D.isTimelineBar="rangeBar"===S.chart.type&&"datetime"===S.xaxis.type;for(var W=function(){for(var ue=0;ue<F.length;ue++)if("string"==typeof F[ue]){if(!B.isValidDate(F[ue]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");f.twoDSeriesX.push(B.parseDate(F[ue]))}else f.twoDSeriesX.push(F[ue])},q=0;q<p.length;q++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===p[q].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==S.chart.type&&"rangeArea"!==S.chart.type&&"rangeBar"!==p[q].type&&"rangeArea"!==p[q].type||(D.isRangeData=!0,this.handleRangeData(p,q)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(p,q):this.isFormatXY()&&this.handleFormatXY(p,q),"candlestick"!==S.chart.type&&"candlestick"!==p[q].type&&"boxPlot"!==S.chart.type&&"boxPlot"!==p[q].type||this.handleCandleStickBoxData(p,q),D.series.push(this.twoDSeries),D.labels.push(this.twoDSeriesX),D.seriesX.push(this.twoDSeriesX),D.seriesGoals=this.seriesGoals,q!==this.activeSeriesIndex||this.fallbackToCategory||(D.isXNumeric=!0);else{"datetime"===S.xaxis.type?(D.isXNumeric=!0,W(),D.seriesX.push(this.twoDSeriesX)):"numeric"===S.xaxis.type&&(D.isXNumeric=!0,F.length>0&&(this.twoDSeriesX=F,D.seriesX.push(this.twoDSeriesX))),D.labels.push(this.twoDSeriesX);var oe=p[q].data.map(function(ue){return ct.parseNumber(ue)});D.series.push(oe)}D.seriesZ.push(this.threeDSeries),D.seriesNames.push(void 0!==p[q].name?p[q].name:"series-"+parseInt(q+1,10)),D.seriesColors.push(void 0!==p[q].color?p[q].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(p){var f=this.w.globals,b=this.w.config;f.series=p.slice(),f.seriesNames=b.labels.slice();for(var S=0;S<f.series.length;S++)void 0===f.seriesNames[S]&&f.seriesNames.push("series-"+(S+1));return this.w}},{key:"handleExternalLabelsData",value:function(p){var f=this.w.config,b=this.w.globals;f.xaxis.categories.length>0?b.labels=f.xaxis.categories:f.labels.length>0?b.labels=f.labels.slice():this.fallbackToCategory?(b.labels=b.labels[0],b.seriesRangeBarTimeline.length&&(b.seriesRangeBarTimeline.map(function(S){S.forEach(function(D){b.labels.indexOf(D.x)<0&&D.x&&b.labels.push(D.x)})}),b.labels=b.labels.filter(function(S,D,B){return B.indexOf(S)===D})),f.xaxis.convertedCatToNumeric&&(new bi(f).convertCatToNumericXaxis(f,this.ctx,b.seriesX[0]),this._generateExternalLabels(p))):this._generateExternalLabels(p)}},{key:"_generateExternalLabels",value:function(p){var f=this.w.globals,b=this.w.config,S=[];if(f.axisCharts){if(f.series.length>0)for(var D=0;D<f.series[f.maxValsInArrayIndex].length;D++)S.push(D+1);f.seriesX=[];for(var B=0;B<p.length;B++)f.seriesX.push(S);f.isXNumeric=!0}if(0===S.length){S=f.axisCharts?[]:f.series.map(function(W,q){return q+1});for(var F=0;F<p.length;F++)f.seriesX.push(S)}f.labels=S,b.xaxis.convertedCatToNumeric&&(f.categoryLabels=S.map(function(W){return b.xaxis.labels.formatter(W)})),f.noLabelsProvided=!0}},{key:"parseData",value:function(p){var f=this.w,b=f.config,S=f.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),S.axisCharts?this.parseDataAxisCharts(p):this.parseDataNonAxisCharts(p),this.coreUtils.getLargestSeries(),"bar"===b.chart.type&&b.chart.stacked){var D=new li(this.ctx);S.series=D.setNullSeriesToZeroValues(S.series)}this.coreUtils.getSeriesTotals(),S.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),S.dataFormatXNumeric||S.isXNumeric&&("numeric"!==b.xaxis.type||0!==b.labels.length||0!==b.xaxis.categories.length)||this.handleExternalLabelsData(p);for(var B=this.coreUtils.getCategoryLabels(S.labels),F=0;F<B.length;F++)if(Array.isArray(B[F])){S.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var p=this,f=this.w;f.globals.ignoreYAxisIndexes=f.globals.collapsedSeries.map(function(b,S){if(p.w.globals.isMultipleYAxis&&!f.config.chart.stacked)return b.index})}}]),Re}(),So=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.tooltipKeyFormat="dd MMM"}return de(Re,[{key:"xLabelFormat",value:function(p,f,b,S){var D=this.w;if("datetime"===D.config.xaxis.type&&void 0===D.config.xaxis.labels.formatter&&void 0===D.config.tooltip.x.formatter){var B=new fi(this.ctx);return B.formatDate(B.getDate(f),D.config.tooltip.x.format)}return p(f,b,S)}},{key:"defaultGeneralFormatter",value:function(p){return Array.isArray(p)?p.map(function(f){return f}):p}},{key:"defaultYFormatter",value:function(p,f,b){var S=this.w;return ct.isNumber(p)&&(p=p.toFixed(0!==S.globals.yValueDecimal?void 0!==f.decimalsInFloat?f.decimalsInFloat:S.globals.yValueDecimal:S.globals.maxYArr[b]-S.globals.minYArr[b]<5?1:0)),p}},{key:"setLabelFormatters",value:function(){var p=this,f=this.w;return f.globals.xaxisTooltipFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.ttKeyFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.ttZFormatter=function(b){return b},f.globals.legendFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.xLabelFormatter=void 0!==f.config.xaxis.labels.formatter?f.config.xaxis.labels.formatter:function(b){if(ct.isNumber(b)){if(!f.config.xaxis.convertedCatToNumeric&&"numeric"===f.config.xaxis.type){if(ct.isNumber(f.config.xaxis.decimalsInFloat))return b.toFixed(f.config.xaxis.decimalsInFloat);var S=f.globals.maxX-f.globals.minX;return b.toFixed(S>0&&S<100?1:0)}return b.toFixed(f.globals.isBarHorizontal&&f.globals.maxY-f.globals.minYArr<4?1:0)}return b},f.globals.ttKeyFormatter="function"==typeof f.config.tooltip.x.formatter?f.config.tooltip.x.formatter:f.globals.xLabelFormatter,"function"==typeof f.config.xaxis.tooltip.formatter&&(f.globals.xaxisTooltipFormatter=f.config.xaxis.tooltip.formatter),(Array.isArray(f.config.tooltip.y)||void 0!==f.config.tooltip.y.formatter)&&(f.globals.ttVal=f.config.tooltip.y),void 0!==f.config.tooltip.z.formatter&&(f.globals.ttZFormatter=f.config.tooltip.z.formatter),void 0!==f.config.legend.formatter&&(f.globals.legendFormatter=f.config.legend.formatter),f.config.yaxis.forEach(function(b,S){f.globals.yLabelFormatters[S]=void 0!==b.labels.formatter?b.labels.formatter:function(D){return f.globals.xyCharts?Array.isArray(D)?D.map(function(B){return p.defaultYFormatter(B,b,S)}):p.defaultYFormatter(D,b,S):D}}),f.globals}},{key:"heatmapLabelFormatters",value:function(){var p=this.w;if("heatmap"===p.config.chart.type){p.globals.yAxisScale[0].result=p.globals.seriesNames.slice();var f=p.globals.seriesNames.reduce(function(b,S){return b.length>S.length?b:S},0);p.globals.yAxisScale[0].niceMax=f,p.globals.yAxisScale[0].niceMin=f}}}]),Re}(),ss=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getLabel",value:function(p,f,b,S){var D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",F=this.w,W=void 0===p[S]?"":p[S],q=W,oe=F.globals.xLabelFormatter,ue=F.config.xaxis.labels.formatter,ae=!1,_e=new So(this.ctx),Ie=W;q=_e.xLabelFormat(oe,W,Ie,{i:S,dateFormatter:new fi(this.ctx).formatDate,w:F}),void 0!==ue&&(q=ue(W,p[S],{i:S,dateFormatter:new fi(this.ctx).formatDate,w:F}));var Pe=function(bt){var J=null;return f.forEach(function(pe){"month"===pe.unit?J="year":"day"===pe.unit?J="month":"hour"===pe.unit?J="day":"minute"===pe.unit&&(J="hour")}),J===bt};f.length>0?(ae=Pe(f[S].unit),b=f[S].position,q=f[S].value):"datetime"===F.config.xaxis.type&&void 0===ue&&(q=""),void 0===q&&(q=""),q=Array.isArray(q)?q:q.toString();var Be=new qt(this.ctx),Ge={};Ge=F.globals.rotateXLabels?Be.getTextRects(q,parseInt(B,10),null,"rotate(".concat(F.config.xaxis.labels.rotate," 0 0)"),!1):Be.getTextRects(q,parseInt(B,10));var st=!F.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(q)&&(0===q.indexOf("NaN")||0===q.toLowerCase().indexOf("invalid")||q.toLowerCase().indexOf("infinity")>=0||D.indexOf(q)>=0&&st)&&(q=""),{x:b,text:q,textRect:Ge,isBold:ae}}},{key:"checkLabelBasedOnTickamount",value:function(p,f,b){var S=this.w,D=S.config.xaxis.tickAmount;return"dataPoints"===D&&(D=Math.round(S.globals.gridWidth/120)),D>b||p%Math.round(b/(D+1))==0||(f.text=""),f}},{key:"checkForOverflowingLabels",value:function(p,f,b,S,D){var B=this.w;if(0===p&&B.globals.skipFirstTimelinelabel&&(f.text=""),p===b-1&&B.globals.skipLastTimelinelabel&&(f.text=""),B.config.xaxis.labels.hideOverlappingLabels&&S.length>0){var F=D[D.length-1];f.x<F.textRect.width/(B.globals.rotateXLabels?Math.abs(B.config.xaxis.labels.rotate)/12:1.01)+F.x&&(f.text="")}return f}},{key:"checkForReversedLabels",value:function(p,f){var b=this.w;return b.config.yaxis[p]&&b.config.yaxis[p].reversed&&f.reverse(),f}},{key:"isYAxisHidden",value:function(p){var f=this.w,b=new hi(this.ctx);return!f.config.yaxis[p].show||!f.config.yaxis[p].showForNullSeries&&b.isSeriesNull(p)&&-1===f.globals.collapsedSeriesIndices.indexOf(p)}},{key:"getYAxisForeColor",value:function(p,f){var b=this.w;return Array.isArray(p)&&b.globals.yAxisScale[f]&&this.ctx.theme.pushExtraColors(p,b.globals.yAxisScale[f].result.length,!1),p}},{key:"drawYAxisTicks",value:function(p,f,b,S,D,B,F){var W=this.w,q=new qt(this.ctx),oe=W.globals.translateY;if(S.show&&f>0){!0===W.config.yaxis[D].opposite&&(p+=S.width);for(var ue=f;ue>=0;ue--){var ae=oe+f/10+W.config.yaxis[D].labels.offsetY-1;W.globals.isBarHorizontal&&(ae=B*ue),"heatmap"===W.config.chart.type&&(ae+=B/2);var _e=q.drawLine(p+b.offsetX-S.width+S.offsetX,ae+S.offsetY,p+b.offsetX+S.offsetX,ae+S.offsetY,S.color);F.add(_e),oe+=B}}}}]),Re}(),qs=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"scaleSvgNode",value:function(p,f){var b=parseFloat(p.getAttributeNS(null,"width")),S=parseFloat(p.getAttributeNS(null,"height"));p.setAttributeNS(null,"width",b*f),p.setAttributeNS(null,"height",S*f),p.setAttributeNS(null,"viewBox","0 0 "+b+" "+S)}},{key:"fixSvgStringForIe11",value:function(p){if(!ct.isIE11())return p;var f=0,b=p.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(S){return 2==++f?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':S});return(b=b.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(p){var f=this.w.globals.dom.Paper.svg();if(1!==p){var b=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(b,p),f=(new XMLSerializer).serializeToString(b)}return this.fixSvgStringForIe11(f)}},{key:"cleanup",value:function(){var p=this.w,f=p.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),b=p.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(S,function(D){D.setAttribute("width",0)}),f&&f[0]&&(f[0].setAttribute("x",-500),f[0].setAttribute("x1",-500),f[0].setAttribute("x2",-500)),b&&b[0]&&(b[0].setAttribute("y",-100),b[0].setAttribute("y1",-100),b[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var p=this.getSvgString(),f=new Blob([p],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(f)}},{key:"dataURI",value:function(p){var f=this;return new Promise(function(b){var S=f.w,D=p?p.scale||p.width/S.globals.svgWidth:1;f.cleanup();var B=document.createElement("canvas");B.width=S.globals.svgWidth*D,B.height=parseInt(S.globals.dom.elWrap.style.height,10)*D;var F="transparent"===S.config.chart.background?"#fff":S.config.chart.background,W=B.getContext("2d");W.fillStyle=F,W.fillRect(0,0,B.width*D,B.height*D);var q=f.getSvgString(D);if(window.canvg&&ct.isIE11()){var oe=window.canvg.Canvg.fromString(W,q,{ignoreClear:!0,ignoreDimensions:!0});oe.start();var ue=B.msToBlob();oe.stop(),b({blob:ue})}else{var ae="data:image/svg+xml,"+encodeURIComponent(q),_e=new Image;_e.crossOrigin="anonymous",_e.onload=function(){if(W.drawImage(_e,0,0),B.msToBlob){var Ie=B.msToBlob();b({blob:Ie})}else{var Pe=B.toDataURL("image/png");b({imgURI:Pe})}},_e.src=ae}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var p=this;this.dataURI().then(function(f){var b=f.imgURI,S=f.blob;S?navigator.msSaveOrOpenBlob(S,p.w.globals.chartID+".png"):p.triggerDownload(b,p.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(p){var f=this,b=p.series,S=p.columnDelimiter,D=p.lineDelimiter,B=void 0===D?"\n":D,F=this.w,W=[],q=[],oe="data:text/csv;charset=utf-8,\ufeff",ue=new Er(this.ctx),ae=new ss(this.ctx),_e=function(Ie){var Pe="";if(F.globals.axisCharts){if("category"===F.config.xaxis.type||F.config.xaxis.convertedCatToNumeric)if(F.globals.isBarHorizontal){var Be=F.globals.yLabelFormatters[0],Ge=new li(f.ctx).getActiveConfigSeriesIndex();Pe=Be(F.globals.labels[Ie],{seriesIndex:Ge,dataPointIndex:Ie,w:F})}else Pe=ae.getLabel(F.globals.labels,F.globals.timescaleLabels,0,Ie).text;"datetime"===F.config.xaxis.type&&(F.config.xaxis.categories.length?Pe=F.config.xaxis.categories[Ie]:F.config.labels.length&&(Pe=F.config.labels[Ie]))}else Pe=F.config.labels[Ie];return Array.isArray(Pe)&&(Pe=Pe.join(" ")),ct.isNumber(Pe)?Pe:Pe.split(S).join("")};W.push(F.config.chart.toolbar.export.csv.headerCategory),b.map(function(Ie,Pe){var Be=Ie.name?Ie.name:"series-".concat(Pe);F.globals.axisCharts&&W.push(Be.split(S).join("")?Be.split(S).join(""):"series-".concat(Pe))}),F.globals.axisCharts||(W.push(F.config.chart.toolbar.export.csv.headerValue),q.push(W.join(S))),b.map(function(Ie,Pe){F.globals.axisCharts?function(Be,Ge){if(W.length&&0===Ge&&q.push(W.join(S)),Be.data&&Be.data.length)for(var st=0;st<Be.data.length;st++){W=[];var bt=_e(st);if(bt||(ue.isFormatXY()?bt=b[Ge].data[st].x:ue.isFormat2DArray()&&(bt=b[Ge].data[st]?b[Ge].data[st][0]:"")),0===Ge){W.push("datetime"===F.config.xaxis.type&&String(bt).length>=10?F.config.chart.toolbar.export.csv.dateFormatter(bt):ct.isNumber(bt)?bt:bt.split(S).join(""));for(var J=0;J<F.globals.series.length;J++)W.push(F.globals.series[J][st])}("candlestick"===F.config.chart.type||Be.type&&"candlestick"===Be.type)&&(W.pop(),W.push(F.globals.seriesCandleO[Ge][st]),W.push(F.globals.seriesCandleH[Ge][st]),W.push(F.globals.seriesCandleL[Ge][st]),W.push(F.globals.seriesCandleC[Ge][st])),("boxPlot"===F.config.chart.type||Be.type&&"boxPlot"===Be.type)&&(W.pop(),W.push(F.globals.seriesCandleO[Ge][st]),W.push(F.globals.seriesCandleH[Ge][st]),W.push(F.globals.seriesCandleM[Ge][st]),W.push(F.globals.seriesCandleL[Ge][st]),W.push(F.globals.seriesCandleC[Ge][st])),"rangeBar"===F.config.chart.type&&(W.pop(),W.push(F.globals.seriesRangeStart[Ge][st]),W.push(F.globals.seriesRangeEnd[Ge][st])),W.length&&q.push(W.join(S))}}(Ie,Pe):((W=[]).push(F.globals.labels[Pe].split(S).join("")),W.push(F.globals.series[Pe]),q.push(W.join(S)))}),oe+=q.join(B),this.triggerDownload(encodeURI(oe),F.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(p,f,b){var S=document.createElement("a");S.href=p,S.download=(f||this.w.globals.chartID)+b,document.body.appendChild(S),S.click(),document.body.removeChild(S)}}]),Re}(),Ks=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.axesUtils=new ss(p),this.xaxisLabels=f.globals.labels.slice(),f.globals.timescaleLabels.length>0&&!f.globals.isBarHorizontal&&(this.xaxisLabels=f.globals.timescaleLabels.slice()),f.config.xaxis.overwriteCategories&&(this.xaxisLabels=f.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===f.config.xaxis.position?0:f.globals.gridHeight+1,this.offY=this.offY+f.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.xaxisBorderWidth=f.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=f.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?f.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=f.config.xaxis.axisBorder.height,this.yaxis=f.config.yaxis[0]}return de(Re,[{key:"drawXaxis",value:function(){var p,f=this,b=this.w,S=new qt(this.ctx),D=S.group({class:"apexcharts-xaxis",transform:"translate(".concat(b.config.xaxis.offsetX,", ").concat(b.config.xaxis.offsetY,")")}),B=S.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(b.globals.translateXAxisX,", ").concat(b.globals.translateXAxisY,")")});D.add(B);for(var F=b.globals.padHorizontal,W=[],q=0;q<this.xaxisLabels.length;q++)W.push(this.xaxisLabels[q]);var oe=W.length;F=b.globals.isXNumeric?F+(p=b.globals.gridWidth/(oe>1?oe-1:oe))/2+b.config.xaxis.labels.offsetX:F+(p=b.globals.gridWidth/W.length)+b.config.xaxis.labels.offsetX;for(var ae=function(st){var bt=F-p/2+b.config.xaxis.labels.offsetX;0===st&&1===oe&&p/2===F&&1===b.globals.dataPoints&&(bt=b.globals.gridWidth/2);var J=f.axesUtils.getLabel(W,b.globals.timescaleLabels,bt,st,f.drawnLabels,f.xaxisFontSize),pe=28;if(b.globals.rotateXLabels&&(pe=22),(J=void 0!==b.config.xaxis.tickAmount&&"dataPoints"!==b.config.xaxis.tickAmount&&"datetime"!==b.config.xaxis.type?f.axesUtils.checkLabelBasedOnTickamount(st,J,oe):f.axesUtils.checkForOverflowingLabels(st,J,oe,f.drawnLabels,f.drawnLabelsRects)).text&&b.globals.xaxisLabelsCount++,b.config.xaxis.labels.show){var ze=S.drawText({x:J.x,y:f.offY+b.config.xaxis.labels.offsetY+pe-("top"===b.config.xaxis.position?b.globals.xAxisHeight+b.config.xaxis.axisTicks.height-2:0),text:J.text,textAnchor:"middle",fontWeight:J.isBold?600:b.config.xaxis.labels.style.fontWeight,fontSize:f.xaxisFontSize,fontFamily:f.xaxisFontFamily,foreColor:Array.isArray(f.xaxisForeColors)?b.config.xaxis.convertedCatToNumeric?f.xaxisForeColors[b.globals.minX+st-1]:f.xaxisForeColors[st]:f.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+b.config.xaxis.labels.style.cssClass});B.add(ze);var Je=document.createElementNS(b.globals.SVGNS,"title");Je.textContent=Array.isArray(J.text)?J.text.join(" "):J.text,ze.node.appendChild(Je),""!==J.text&&(f.drawnLabels.push(J.text),f.drawnLabelsRects.push(J))}F+=p},_e=0;_e<=oe-1;_e++)ae(_e);if(void 0!==b.config.xaxis.title.text){var Ie=S.group({class:"apexcharts-xaxis-title"}),Pe=S.drawText({x:b.globals.gridWidth/2+b.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+b.globals.xAxisLabelsHeight+b.config.xaxis.title.offsetY,text:b.config.xaxis.title.text,textAnchor:"middle",fontSize:b.config.xaxis.title.style.fontSize,fontFamily:b.config.xaxis.title.style.fontFamily,fontWeight:b.config.xaxis.title.style.fontWeight,foreColor:b.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+b.config.xaxis.title.style.cssClass});Ie.add(Pe),D.add(Ie)}if(b.config.xaxis.axisBorder.show){var Be=b.globals.barPadForNumericAxis,Ge=S.drawLine(b.globals.padHorizontal+b.config.xaxis.axisBorder.offsetX-Be,this.offY,this.xaxisBorderWidth+Be,this.offY,b.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);D.add(Ge)}return D}},{key:"drawXaxisInversed",value:function(p){var f,b,S=this,D=this.w,B=new qt(this.ctx),F=D.config.yaxis[0].opposite?D.globals.translateYAxisX[p]:0,W=B.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:p}),q=B.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+F+", 0)"});W.add(q);var oe=[];if(D.config.yaxis[p].show)for(var ue=0;ue<this.xaxisLabels.length;ue++)oe.push(this.xaxisLabels[ue]);b=-(f=D.globals.gridHeight/oe.length)/2.2;var ae=D.globals.yLabelFormatters[0],_e=D.config.yaxis[0].labels;if(_e.show)for(var Ie=function(pe){var ze=void 0===oe[pe]?"":oe[pe];ze=ae(ze,{seriesIndex:p,dataPointIndex:pe,w:D});var Je=S.axesUtils.getYAxisForeColor(_e.style.colors,p),ft=0;Array.isArray(ze)&&(ft=ze.length/2*parseInt(_e.style.fontSize,10));var ln=B.drawText({x:_e.offsetX-15,y:b+f+_e.offsetY-ft,text:ze,textAnchor:S.yaxis.opposite?"start":"end",foreColor:Array.isArray(Je)?Je[pe]:Je,fontSize:_e.style.fontSize,fontFamily:_e.style.fontFamily,fontWeight:_e.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+_e.style.cssClass});q.add(ln);var $t=document.createElementNS(D.globals.SVGNS,"title");if($t.textContent=Array.isArray(ze)?ze.join(" "):ze,ln.node.appendChild($t),0!==D.config.yaxis[p].labels.rotate){var cn=B.rotateAroundCenter(ln.node);ln.node.setAttribute("transform","rotate(".concat(D.config.yaxis[p].labels.rotate," 0 ").concat(cn.y,")"))}b+=f},Pe=0;Pe<=oe.length-1;Pe++)Ie(Pe);if(void 0!==D.config.yaxis[0].title.text){var Be=B.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+F+", 0)"}),Ge=B.drawText({x:0,y:D.globals.gridHeight/2,text:D.config.yaxis[0].title.text,textAnchor:"middle",foreColor:D.config.yaxis[0].title.style.color,fontSize:D.config.yaxis[0].title.style.fontSize,fontWeight:D.config.yaxis[0].title.style.fontWeight,fontFamily:D.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+D.config.yaxis[0].title.style.cssClass});Be.add(Ge),W.add(Be)}var st=0;this.isCategoryBarHorizontal&&D.config.yaxis[0].opposite&&(st=D.globals.gridWidth);var bt=D.config.xaxis.axisBorder;if(bt.show){var J=B.drawLine(D.globals.padHorizontal+bt.offsetX+st,1+bt.offsetY,D.globals.padHorizontal+bt.offsetX+st,D.globals.gridHeight+bt.offsetY,bt.color,0);W.add(J)}return D.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(st,oe.length,D.config.yaxis[0].axisBorder,D.config.yaxis[0].axisTicks,0,f,W),W}},{key:"drawXaxisTicks",value:function(p,f){var b=this.w,S=p;if(!(p<0||p-2>b.globals.gridWidth)){var D=this.offY+b.config.xaxis.axisTicks.offsetY,B=D+b.config.xaxis.axisTicks.height;if("top"===b.config.xaxis.position&&(B=D-b.config.xaxis.axisTicks.height),b.config.xaxis.axisTicks.show){var F=new qt(this.ctx).drawLine(p+b.config.xaxis.axisTicks.offsetX,D+b.config.xaxis.offsetY,S+b.config.xaxis.axisTicks.offsetX,B+b.config.xaxis.offsetY,b.config.xaxis.axisTicks.color);f.add(F),F.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var p=this.w,f=[],b=this.xaxisLabels.length,S=p.globals.padHorizontal;if(p.globals.timescaleLabels.length>0)for(var D=0;D<b;D++)f.push(S=this.xaxisLabels[D].position);else for(var B=b,F=0;F<B;F++){var W=B;p.globals.isXNumeric&&"bar"!==p.config.chart.type&&(W-=1),f.push(S+=p.globals.gridWidth/W)}return f}},{key:"xAxisLabelCorrections",value:function(){var p=this.w,f=new qt(this.ctx),b=p.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),D=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),B=p.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(p.globals.rotateXLabels||p.config.xaxis.labels.rotateAlways)for(var F=0;F<S.length;F++){var W=f.rotateAroundCenter(S[F]);W.y=W.y-1,W.x=W.x+1,S[F].setAttribute("transform","rotate(".concat(p.config.xaxis.labels.rotate," ").concat(W.x," ").concat(W.y,")")),S[F].setAttribute("text-anchor","end"),b.setAttribute("transform","translate(0, ".concat(-10,")")),p.config.xaxis.labels.trim&&Array.prototype.forEach.call(S[F].childNodes,function(_e){f.placeTextWithEllipsis(_e,_e.textContent,p.globals.xAxisLabelsHeight-("bottom"===p.config.legend.position?20:10))})}else!function(){for(var _e=p.globals.gridWidth/(p.globals.labels.length+1),Ie=0;Ie<S.length;Ie++)p.config.xaxis.labels.trim&&"datetime"!==p.config.xaxis.type&&Array.prototype.forEach.call(S[Ie].childNodes,function(Be){f.placeTextWithEllipsis(Be,Be.textContent,_e)})}();if(D.length>0){var oe=D[D.length-1].getBBox(),ue=D[0].getBBox();oe.x<-20&&D[D.length-1].parentNode.removeChild(D[D.length-1]),ue.x+ue.width>p.globals.gridWidth&&!p.globals.isBarHorizontal&&D[0].parentNode.removeChild(D[0]);for(var ae=0;ae<B.length;ae++)f.placeTextWithEllipsis(B[ae],B[ae].textContent,p.config.yaxis[0].labels.maxWidth-2*parseFloat(p.config.yaxis[0].title.style.fontSize)-20)}}}]),Re}(),ka=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.xaxisLabels=f.globals.labels.slice(),this.axesUtils=new ss(p),this.isTimelineBar="datetime"===f.config.xaxis.type&&f.globals.seriesRangeBarTimeline.length,f.globals.timescaleLabels.length>0&&(this.xaxisLabels=f.globals.timescaleLabels.slice())}return de(Re,[{key:"drawGridArea",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this.w,b=new qt(this.ctx);null===p&&(p=b.group({class:"apexcharts-grid"}));var S=b.drawLine(f.globals.padHorizontal,1,f.globals.padHorizontal,f.globals.gridHeight,"transparent"),D=b.drawLine(f.globals.padHorizontal,f.globals.gridHeight,f.globals.gridWidth,f.globals.gridHeight,"transparent");return p.add(D),p.add(S),p}},{key:"drawGrid",value:function(){var p=null;return this.w.globals.axisCharts&&(p=this.renderGrid(),this.drawGridArea(p.el)),p}},{key:"createGridMask",value:function(){var p=this.w,f=p.globals,b=new qt(this.ctx),S=Array.isArray(p.config.stroke.width)?0:p.config.stroke.width;if(Array.isArray(p.config.stroke.width)){var D=0;p.config.stroke.width.forEach(function(ue){D=Math.max(D,ue)}),S=D}f.dom.elGridRectMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(f.cuid)),f.dom.elGridRectMarkerMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(f.cuid)),f.dom.elForecastMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elForecastMask.setAttribute("id","forecastMask".concat(f.cuid)),f.dom.elNonForecastMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(f.cuid));var B=p.config.chart.type,F=0,W=0;("bar"===B||"rangeBar"===B||"candlestick"===B||"boxPlot"===B||p.globals.comboBarCount>0)&&p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(W=p.config.grid.padding.right,f.barPadForNumericAxis>(F=p.config.grid.padding.left)&&(F=f.barPadForNumericAxis,W=f.barPadForNumericAxis)),f.dom.elGridRect=b.drawRect(-S/2-F-2,-S/2,f.gridWidth+S+W+F+4,f.gridHeight+S,0,"#fff"),new hi(this).getLargestMarkerSize();var q=p.globals.markers.largestSize+1;f.dom.elGridRectMarker=b.drawRect(2*-q,2*-q,f.gridWidth+4*q,f.gridHeight+4*q,0,"#fff"),f.dom.elGridRectMask.appendChild(f.dom.elGridRect.node),f.dom.elGridRectMarkerMask.appendChild(f.dom.elGridRectMarker.node);var oe=f.dom.baseEl.querySelector("defs");oe.appendChild(f.dom.elGridRectMask),oe.appendChild(f.dom.elForecastMask),oe.appendChild(f.dom.elNonForecastMask),oe.appendChild(f.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(p){var f=p.i,b=p.x1,q=this.w;0===f&&q.globals.skipFirstTimelinelabel||f===p.xCount-1&&q.globals.skipLastTimelinelabel&&!q.config.xaxis.labels.formatter||"radar"===q.config.chart.type||(q.config.grid.xaxis.lines.show&&this._drawGridLine({x1:b,y1:p.y1,x2:p.x2,y2:p.y2,parent:p.parent}),new Ks(this.ctx).drawXaxisTicks(b,this.elg))}},{key:"_drawGridLine",value:function(p){var f=p.x1,b=p.y1,S=p.x2,D=p.y2,B=p.parent,F=this.w,W=B.node.classList.contains("apexcharts-gridlines-horizontal"),q=F.config.grid.strokeDashArray,oe=F.globals.barPadForNumericAxis,ue=new qt(this).drawLine(f-(W?oe:0),b,S+(W?oe:0),D,F.config.grid.borderColor,q);ue.node.classList.add("apexcharts-gridline"),B.add(ue)}},{key:"_drawGridBandRect",value:function(p){var f=p.c,b=p.x1,S=p.y1,D=p.x2,B=p.y2,F=p.type,W=this.w,q=new qt(this.ctx),oe=W.globals.barPadForNumericAxis;if("column"!==F||"datetime"!==W.config.xaxis.type){var ae=q.drawRect(b-("row"===F?oe:0),S,D+("row"===F?2*oe:0),B,0,W.config.grid[F].colors[f],W.config.grid[F].opacity);this.elg.add(ae),ae.attr("clip-path","url(#gridRectMask".concat(W.globals.cuid,")")),ae.node.classList.add("apexcharts-grid-".concat(F))}}},{key:"_drawXYLines",value:function(p){var f=this,b=p.xCount,S=p.tickAmount,D=this.w;if(D.config.grid.xaxis.lines.show||D.config.xaxis.axisTicks.show){var B,F=D.globals.padHorizontal,W=D.globals.gridHeight;D.globals.timescaleLabels.length?function(Ie){for(var Pe=Ie.xC,Ge=Ie.y1,bt=Ie.y2,J=0;J<Pe;J++)f._drawGridLines({i:J,x1:f.xaxisLabels[J].position,y1:Ge,x2:f.xaxisLabels[J].position,y2:bt,xCount:b,parent:f.elgridLinesV})}({xC:b,x1:F,y1:0,x2:B,y2:W}):(D.globals.isXNumeric&&(b=D.globals.xAxisScale.result.length),D.config.xaxis.convertedCatToNumeric&&(b=D.globals.xaxisLabelsCount),function(Ie){var Pe=Ie.xC,Be=Ie.x1,Ge=Ie.y1,st=Ie.x2,bt=Ie.y2;if(void 0!==D.config.xaxis.tickAmount&&"dataPoints"!==D.config.xaxis.tickAmount)D.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(pe,ze){var Je=pe.getBBox();f._drawGridLines({i:ze,x1:Je.x+Je.width/2,y1:Ge,x2:Je.x+Je.width/2,y2:bt,xCount:b,parent:f.elgridLinesV})});else for(var J=0;J<Pe+(D.globals.isXNumeric?0:1);J++)0===J&&1===Pe&&1===D.globals.dataPoints&&(st=Be=D.globals.gridWidth/2),f._drawGridLines({i:J,x1:Be,y1:Ge,x2:st,y2:bt,xCount:b,parent:f.elgridLinesV}),st=Be+=D.globals.gridWidth/(D.globals.isXNumeric?Pe-1:Pe)}({xC:b,x1:F,y1:0,x2:B,y2:W}))}if(D.config.grid.yaxis.lines.show){var q=0,oe=0,ue=D.globals.gridWidth,ae=S+1;this.isTimelineBar&&(ae=D.globals.labels.length);for(var _e=0;_e<ae+(this.isTimelineBar?1:0);_e++)this._drawGridLine({x1:0,y1:q,x2:ue,y2:oe,parent:this.elgridLinesH}),oe=q+=D.globals.gridHeight/(this.isTimelineBar?ae:S)}}},{key:"_drawInvertedXYLines",value:function(p){var f=p.xCount,b=this.w;if(b.config.grid.xaxis.lines.show||b.config.xaxis.axisTicks.show)for(var S,D=b.globals.padHorizontal,B=b.globals.gridHeight,F=0;F<f+1;F++)b.config.grid.xaxis.lines.show&&this._drawGridLine({x1:D,y1:0,x2:S,y2:B,parent:this.elgridLinesV}),new Ks(this.ctx).drawXaxisTicks(D,this.elg),S=D=D+b.globals.gridWidth/f+.3;if(b.config.grid.yaxis.lines.show)for(var W=0,q=0,oe=b.globals.gridWidth,ue=0;ue<b.globals.dataPoints+1;ue++)this._drawGridLine({x1:0,y1:W,x2:oe,y2:q,parent:this.elgridLinesH}),q=W+=b.globals.gridHeight/b.globals.dataPoints}},{key:"renderGrid",value:function(){var p=this.w,f=new qt(this.ctx);this.elg=f.group({class:"apexcharts-grid"}),this.elgridLinesH=f.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=f.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),p.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var b,S=p.globals.yAxisScale.length?p.globals.yAxisScale[0].result.length-1:5,D=0;D<p.globals.series.length&&(void 0!==p.globals.yAxisScale[D]&&(S=p.globals.yAxisScale[D].result.length-1),!(S>2));D++);return!p.globals.isBarHorizontal||this.isTimelineBar?(b=this.xaxisLabels.length,this.isTimelineBar&&(S=p.globals.labels.length,p.config.xaxis.tickAmount&&p.config.xaxis.labels.formatter&&(b=p.config.xaxis.tickAmount)),this._drawXYLines({xCount:b,tickAmount:S})):this._drawInvertedXYLines({xCount:b=S,tickAmount:S=p.globals.xTickAmount}),this.drawGridBands(b,S),{el:this.elg,xAxisTickWidth:p.globals.gridWidth/b}}},{key:"drawGridBands",value:function(p,f){var b=this.w;if(void 0!==b.config.grid.row.colors&&b.config.grid.row.colors.length>0)for(var S=0,D=b.globals.gridHeight/f,B=b.globals.gridWidth,F=0,W=0;F<f;F++,W++)W>=b.config.grid.row.colors.length&&(W=0),this._drawGridBandRect({c:W,x1:0,y1:S,x2:B,y2:D,type:"row"}),S+=b.globals.gridHeight/f;if(void 0!==b.config.grid.column.colors&&b.config.grid.column.colors.length>0)for(var q=b.globals.isBarHorizontal||"category"!==b.config.xaxis.type&&!b.config.xaxis.convertedCatToNumeric?p:p-1,oe=b.globals.padHorizontal,ue=b.globals.padHorizontal+b.globals.gridWidth/q,ae=b.globals.gridHeight,_e=0,Ie=0;_e<p;_e++,Ie++)Ie>=b.config.grid.column.colors.length&&(Ie=0),this._drawGridBandRect({c:Ie,x1:oe,y1:0,x2:ue,y2:ae,type:"column"}),oe+=b.globals.gridWidth/q}}]),Re}(),dr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"niceScale",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,D=arguments.length>4?arguments[4]:void 0,B=this.w,F=Math.abs(f-p);if("dataPoints"===(b=this._adjustTicksForSmallRange(b,S,F))&&(b=B.globals.dataPoints-1),p===Number.MIN_VALUE&&0===f||!ct.isNumber(p)&&!ct.isNumber(f)||p===Number.MIN_VALUE&&f===-Number.MAX_VALUE){var W=this.linearScale(p=0,f=b,b);return W}p>f?(console.warn("axis.min cannot be greater than axis.max"),f=p+.1):p===f&&(p=0===p?0:p-.5,f=0===f?2:f+.5);var q=[];F<1&&D&&("candlestick"===B.config.chart.type||"candlestick"===B.config.series[S].type||"boxPlot"===B.config.chart.type||"boxPlot"===B.config.series[S].type||B.globals.isRangeData)&&(f*=1.01);var oe=b+1;oe<2?oe=2:oe>2&&(oe-=2);var ue=F/oe,ae=Math.floor(ct.log10(ue)),_e=Math.pow(10,ae),Ie=Math.round(ue/_e);Ie<1&&(Ie=1);var Pe=Ie*_e,Be=Pe*Math.floor(p/Pe),Ge=Pe*Math.ceil(f/Pe),st=Be;if(D&&F>2){for(;q.push(st),!((st+=Pe)>Ge););return{result:q,niceMin:q[0],niceMax:q[q.length-1]}}var bt=p;(q=[]).push(bt);for(var J=Math.abs(f-p)/b,pe=0;pe<=b;pe++)q.push(bt+=J);return q[q.length-2]>=f&&q.pop(),{result:q,niceMin:q[0],niceMax:q[q.length-1]}}},{key:"linearScale",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,S=arguments.length>3?arguments[3]:void 0,D=Math.abs(f-p);"dataPoints"===(b=this._adjustTicksForSmallRange(b,S,D))&&(b=this.w.globals.dataPoints-1);var B=D/b;b===Number.MAX_VALUE&&(b=10,B=1);for(var F=[],W=p;b>=0;)F.push(W),W+=B,b-=1;return{result:F,niceMin:F[0],niceMax:F[F.length-1]}}},{key:"logarithmicScale",value:function(p){for(var f=[],b=Math.ceil(Math.log10(p))+1,S=0;S<b;S++)f.push(Math.pow(10,S));return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(p,f,b){var S=p;if(void 0!==f&&this.w.config.yaxis[f].labels.formatter&&void 0===this.w.config.yaxis[f].tickAmount){var D=this.w.config.yaxis[f].labels.formatter(1);ct.isNumber(Number(D))&&!ct.isFloat(D)&&(S=Math.ceil(b))}return S<p?S:p}},{key:"setYScaleForIndex",value:function(p,f,b){var S=this.w.globals,D=this.w.config,B=S.isBarHorizontal?D.xaxis:D.yaxis[p];void 0===S.yAxisScale[p]&&(S.yAxisScale[p]=[]);var F=Math.abs(b-f);B.logarithmic&&F<=5&&(S.invalidLogScale=!0),B.logarithmic&&F>5?(S.allSeriesCollapsed=!1,S.yAxisScale[p]=this.logarithmicScale(b)):b!==-Number.MAX_VALUE&&ct.isNumber(b)?(S.allSeriesCollapsed=!1,S.yAxisScale[p]=void 0===B.min&&void 0===B.max||B.forceNiceScale?this.niceScale(f,b,B.tickAmount?B.tickAmount:F<5&&F>1?F+1:5,p,void 0===D.yaxis[p].max&&void 0===D.yaxis[p].min||D.yaxis[p].forceNiceScale):this.linearScale(f,b,B.tickAmount,p)):S.yAxisScale[p]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(p,f){var b=this.w,S=b.globals,D=b.config.xaxis,B=Math.abs(f-p);return S.xAxisScale=f!==-Number.MAX_VALUE&&ct.isNumber(f)?this.linearScale(p,f,D.tickAmount?D.tickAmount:B<5&&B>1?B+1:5,0):this.linearScale(0,5,5),S.xAxisScale}},{key:"setMultipleYScales",value:function(){var p=this,f=this.w.globals,b=this.w.config,S=f.minYArr.concat([]),D=f.maxYArr.concat([]),B=[];b.yaxis.forEach(function(F,W){var q=W;b.series.forEach(function(ae,_e){ae.name===F.seriesName&&(q=_e,B.push(W!==_e?{index:_e,similarIndex:W,alreadyExists:!0}:{index:_e}))}),p.setYScaleForIndex(W,S[q],D[q])}),this.sameScaleInMultipleAxes(S,D,B)}},{key:"sameScaleInMultipleAxes",value:function(p,f,b){var S=this,D=this.w.config,B=this.w.globals,F=[];b.forEach(function(Pe){Pe.alreadyExists&&(void 0===F[Pe.index]&&(F[Pe.index]=[]),F[Pe.index].push(Pe.index),F[Pe.index].push(Pe.similarIndex))}),B.yAxisSameScaleIndices=F,F.forEach(function(Pe,Be){F.forEach(function(Ge,st){var bt,J;Be!==st&&(bt=Pe,J=Ge,bt.filter(function(pe){return-1!==J.indexOf(pe)})).length>0&&(F[Be]=F[Be].concat(F[st]))})});var W=F.map(function(Pe){return Pe.filter(function(Be,Ge){return Pe.indexOf(Be)===Ge})}).map(function(Pe){return Pe.sort()});F=F.filter(function(Pe){return!!Pe});var q=W.slice(),oe=q.map(function(Pe){return JSON.stringify(Pe)});q=q.filter(function(Pe,Be){return oe.indexOf(JSON.stringify(Pe))===Be});var ue=[],ae=[];p.forEach(function(Pe,Be){q.forEach(function(Ge,st){Ge.indexOf(Be)>-1&&(void 0===ue[st]&&(ue[st]=[],ae[st]=[]),ue[st].push({key:Be,value:Pe}),ae[st].push({key:Be,value:f[Be]}))})});var _e=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Ie=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);ue.forEach(function(Pe,Be){Pe.forEach(function(Ge,st){_e[Be]=Math.min(Ge.value,_e[Be])})}),ae.forEach(function(Pe,Be){Pe.forEach(function(Ge,st){Ie[Be]=Math.max(Ge.value,Ie[Be])})}),p.forEach(function(Pe,Be){ae.forEach(function(Ge,st){var bt=_e[st],J=Ie[st];D.chart.stacked&&(J=0,Ge.forEach(function(pe,ze){pe.value!==-Number.MAX_VALUE&&(J+=pe.value),bt!==Number.MIN_VALUE&&(bt+=ue[st][ze].value)})),Ge.forEach(function(pe,ze){Ge[ze].key===Be&&(void 0!==D.yaxis[Be].min&&(bt="function"==typeof D.yaxis[Be].min?D.yaxis[Be].min(B.minY):D.yaxis[Be].min),void 0!==D.yaxis[Be].max&&(J="function"==typeof D.yaxis[Be].max?D.yaxis[Be].max(B.maxY):D.yaxis[Be].max),S.setYScaleForIndex(Be,bt,J))})})})}},{key:"autoScaleY",value:function(p,f,b){p||(p=this);var S=p.w;if(S.globals.isMultipleYAxis||S.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),f;var D=S.globals.seriesX[0],B=S.config.chart.stacked;return f.forEach(function(F,W){for(var q=0,oe=0;oe<D.length;oe++)if(D[oe]>=b.xaxis.min){q=oe;break}var ue,ae,_e=S.globals.minYArr[W],Ie=S.globals.maxYArr[W],Pe=S.globals.stackedSeriesTotals;S.globals.series.forEach(function(Be,Ge){var st=Be[q];B?(ue=ae=st=Pe[q],Pe.forEach(function(bt,J){D[J]<=b.xaxis.max&&D[J]>=b.xaxis.min&&(bt>ae&&null!==bt&&(ae=bt),Be[J]<ue&&null!==Be[J]&&(ue=Be[J]))})):(ue=ae=st,Be.forEach(function(bt,J){if(D[J]<=b.xaxis.max&&D[J]>=b.xaxis.min){var pe=bt,ze=bt;S.globals.series.forEach(function(Je,ft){null!==bt&&(pe=Math.min(Je[J],pe),ze=Math.max(Je[J],ze))}),ze>ae&&null!==ze&&(ae=ze),pe<ue&&null!==pe&&(ue=pe)}})),void 0===ue&&void 0===ae&&(ue=_e,ae=Ie),(ae*=ae<0?.9:1.1)<0&&ae<Ie&&(ae=Ie),(ue*=ue<0?1.1:.9)<0&&ue>_e&&(ue=_e),f.length>1?(f[Ge].min=void 0===F.min?ue:F.min,f[Ge].max=void 0===F.max?ae:F.max):(f[0].min=void 0===F.min?ue:F.min,f[0].max=void 0===F.max?ae:F.max)})}),f}}]),Re}(),Ea=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.scales=new dr(p)}return de(Re,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,D=this.w.config,B=this.w.globals,F=-Number.MAX_VALUE,W=Number.MIN_VALUE;null===S&&(S=p+1);var q=B.series,oe=q,ue=q;"candlestick"===D.chart.type?(oe=B.seriesCandleL,ue=B.seriesCandleH):"boxPlot"===D.chart.type?(oe=B.seriesCandleO,ue=B.seriesCandleC):B.isRangeData&&(oe=B.seriesRangeStart,ue=B.seriesRangeEnd);for(var ae=p;ae<S;ae++){B.dataPoints=Math.max(B.dataPoints,q[ae].length);for(var _e=0;_e<B.series[ae].length;_e++){var Ie=q[ae][_e];null!==Ie&&ct.isNumber(Ie)?(void 0!==ue[ae][_e]&&(F=Math.max(F,ue[ae][_e])),void 0!==oe[ae][_e]&&(f=Math.min(f,oe[ae][_e]),b=Math.max(b,oe[ae][_e])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==B.seriesCandleC[ae][_e]&&(F=Math.max(F,B.seriesCandleO[ae][_e]),F=Math.max(F,B.seriesCandleH[ae][_e]),F=Math.max(F,B.seriesCandleL[ae][_e]),F=Math.max(F,B.seriesCandleC[ae][_e]),"boxPlot"===this.w.config.chart.type&&(F=Math.max(F,B.seriesCandleM[ae][_e]))),!D.series[ae].type||"candlestick"===D.series[ae].type&&"boxPlot"===D.series[ae].type||(F=Math.max(F,B.series[ae][_e]),f=Math.min(f,B.series[ae][_e])),b=F),B.seriesGoals[ae]&&B.seriesGoals[ae][_e]&&Array.isArray(B.seriesGoals[ae][_e])&&B.seriesGoals[ae][_e].forEach(function(Pe){W!==Number.MIN_VALUE&&(W=Math.min(W,Pe.value),f=W),F=Math.max(F,Pe.value),b=F}),ct.isFloat(Ie)&&(Ie=ct.noExponents(Ie),B.yValueDecimal=Math.max(B.yValueDecimal,Ie.toString().split(".")[1].length)),W>oe[ae][_e]&&oe[ae][_e]<0&&(W=oe[ae][_e])):B.hasNullValues=!0}}return"rangeBar"===D.chart.type&&B.seriesRangeStart.length&&B.isBarHorizontal&&"datetime"===D.xaxis.type&&(W=f),"bar"===D.chart.type&&(W<0&&F<0&&(F=0),W===Number.MIN_VALUE&&(W=0)),{minY:W,maxY:F,lowestY:f,highestY:b}}},{key:"setYRange",value:function(){var p=this.w.globals,f=this.w.config;p.maxY=-Number.MAX_VALUE,p.minY=Number.MIN_VALUE;var b=Number.MAX_VALUE;if(p.isMultipleYAxis)for(var S=0;S<p.series.length;S++){var D=this.getMinYMaxY(S,b,null,S+1);p.minYArr.push(D.minY),p.maxYArr.push(D.maxY),b=D.lowestY}var B=this.getMinYMaxY(0,b,null,p.series.length);if(p.minY=B.minY,p.maxY=B.maxY,b=B.lowestY,f.chart.stacked&&this._setStackedMinMax(),("line"===f.chart.type||"area"===f.chart.type||"candlestick"===f.chart.type||"boxPlot"===f.chart.type||"rangeBar"===f.chart.type&&!p.isBarHorizontal)&&p.minY===Number.MIN_VALUE&&b!==-Number.MAX_VALUE&&b!==p.maxY){var F=p.maxY-b;(b>=0&&b<=10||void 0!==f.yaxis[0].min||void 0!==f.yaxis[0].max)&&(F=0),p.minY=b-5*F/100,b>0&&p.minY<0&&(p.minY=0),p.maxY=p.maxY+5*F/100}return f.yaxis.forEach(function(W,q){void 0!==W.max&&("number"==typeof W.max?p.maxYArr[q]=W.max:"function"==typeof W.max&&(p.maxYArr[q]=W.max(p.isMultipleYAxis?p.maxYArr[q]:p.maxY)),p.maxY=p.maxYArr[q]),void 0!==W.min&&("number"==typeof W.min?p.minYArr[q]=W.min:"function"==typeof W.min&&(p.minYArr[q]=W.min(p.isMultipleYAxis?p.minYArr[q]===Number.MIN_VALUE?0:p.minYArr[q]:p.minY)),p.minY=p.minYArr[q])}),p.isBarHorizontal&&["min","max"].forEach(function(W){void 0!==f.xaxis[W]&&"number"==typeof f.xaxis[W]&&("min"===W?p.minY=f.xaxis[W]:p.maxY=f.xaxis[W])}),p.isMultipleYAxis?(this.scales.setMultipleYScales(),p.minY=b,p.yAxisScale.forEach(function(W,q){p.minYArr[q]=W.niceMin,p.maxYArr[q]=W.niceMax})):(this.scales.setYScaleForIndex(0,p.minY,p.maxY),p.minY=p.yAxisScale[0].niceMin,p.maxY=p.yAxisScale[0].niceMax,p.minYArr[0]=p.yAxisScale[0].niceMin,p.maxYArr[0]=p.yAxisScale[0].niceMax),{minY:p.minY,maxY:p.maxY,minYArr:p.minYArr,maxYArr:p.maxYArr,yAxisScale:p.yAxisScale}}},{key:"setXRange",value:function(){var p=this.w.globals,f=this.w.config,b="numeric"===f.xaxis.type||"datetime"===f.xaxis.type||"category"===f.xaxis.type&&!p.noLabelsProvided||p.noLabelsProvided||p.isXNumeric;if(p.isXNumeric&&function(){for(var F=0;F<p.series.length;F++)if(p.labels[F])for(var W=0;W<p.labels[F].length;W++)null!==p.labels[F][W]&&ct.isNumber(p.labels[F][W])&&(p.maxX=Math.max(p.maxX,p.labels[F][W]),p.initialMaxX=Math.max(p.maxX,p.labels[F][W]),p.minX=Math.min(p.minX,p.labels[F][W]),p.initialMinX=Math.min(p.minX,p.labels[F][W]))}(),p.noLabelsProvided&&0===f.xaxis.categories.length&&(p.maxX=p.labels[p.labels.length-1],p.initialMaxX=p.labels[p.labels.length-1],p.minX=1,p.initialMinX=1),p.isXNumeric||p.noLabelsProvided||p.dataFormatXNumeric){var S;if(void 0===f.xaxis.tickAmount?(S=Math.round(p.svgWidth/150),"numeric"===f.xaxis.type&&p.dataPoints<30&&(S=p.dataPoints-1),S>p.dataPoints&&0!==p.dataPoints&&(S=p.dataPoints-1)):"dataPoints"===f.xaxis.tickAmount?(p.series.length>1&&(S=p.series[p.maxValsInArrayIndex].length-1),p.isXNumeric&&(S=p.maxX-p.minX-1)):S=f.xaxis.tickAmount,p.xTickAmount=S,void 0!==f.xaxis.max&&"number"==typeof f.xaxis.max&&(p.maxX=f.xaxis.max),void 0!==f.xaxis.min&&"number"==typeof f.xaxis.min&&(p.minX=f.xaxis.min),void 0!==f.xaxis.range&&(p.minX=p.maxX-f.xaxis.range),p.minX!==Number.MAX_VALUE&&p.maxX!==-Number.MAX_VALUE)if(f.xaxis.convertedCatToNumeric&&!p.dataFormatXNumeric){for(var D=[],B=p.minX-1;B<p.maxX;B++)D.push(B+1);p.xAxisScale={result:D,niceMin:D[0],niceMax:D[D.length-1]}}else p.xAxisScale=this.scales.setXScale(p.minX,p.maxX);else p.xAxisScale=this.scales.linearScale(1,S,S),p.noLabelsProvided&&p.labels.length>0&&(p.xAxisScale=this.scales.linearScale(1,p.labels.length,S-1),p.seriesX=p.labels.slice());b&&(p.labels=p.xAxisScale.result.slice())}return p.isBarHorizontal&&p.labels.length&&(p.xTickAmount=p.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:p.minX,maxX:p.maxX}}},{key:"setZRange",value:function(){var p=this.w.globals;if(p.isDataXYZ)for(var f=0;f<p.series.length;f++)if(void 0!==p.seriesZ[f])for(var b=0;b<p.seriesZ[f].length;b++)null!==p.seriesZ[f][b]&&ct.isNumber(p.seriesZ[f][b])&&(p.maxZ=Math.max(p.maxZ,p.seriesZ[f][b]),p.minZ=Math.min(p.minZ,p.seriesZ[f][b]))}},{key:"_handleSingleDataPoint",value:function(){var p=this.w.globals,f=this.w.config;if(p.minX===p.maxX){var b=new fi(this.ctx);if("datetime"===f.xaxis.type){var S=b.getDate(p.minX);S.setUTCDate(S.getDate()-2),p.minX=new Date(S).getTime();var D=b.getDate(p.maxX);D.setUTCDate(D.getDate()+2),p.maxX=new Date(D).getTime()}else("numeric"===f.xaxis.type||"category"===f.xaxis.type&&!p.noLabelsProvided)&&(p.minX=p.minX-2,p.initialMinX=p.minX,p.maxX=p.maxX+2,p.initialMaxX=p.maxX)}}},{key:"_getMinXDiff",value:function(){var p=this.w.globals;p.isXNumeric&&p.seriesX.forEach(function(f,b){1===f.length&&f.push(p.seriesX[p.maxValsInArrayIndex][p.seriesX[p.maxValsInArrayIndex].length-1]);var S=f.slice();S.sort(function(D,B){return D-B}),S.forEach(function(D,B){if(B>0){var F=D-S[B-1];F>0&&(p.minXDiff=Math.min(F,p.minXDiff))}}),1===p.dataPoints&&p.minXDiff===Number.MAX_VALUE&&(p.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var p=this.w.globals,f=[],b=[];if(p.series.length)for(var S=0;S<p.series[p.maxValsInArrayIndex].length;S++)for(var D=0,B=0,F=0;F<p.series.length;F++)null!==p.series[F][S]&&ct.isNumber(p.series[F][S])&&(p.series[F][S]>0?D=D+parseFloat(p.series[F][S])+1e-4:B+=parseFloat(p.series[F][S])),F===p.series.length-1&&(f.push(D),b.push(B));for(var W=0;W<f.length;W++)p.maxY=Math.max(p.maxY,f[W]),p.minY=Math.min(p.minY,b[W])}}]),Re}(),Ki=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.axisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===f.config.xaxis.position&&(this.xAxisoffX=f.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new ss(p)}return de(Re,[{key:"drawYaxis",value:function(p){var f=this,b=this.w,S=new qt(this.ctx),D=b.config.yaxis[p].labels.style,B=D.fontSize,F=D.fontFamily,W=D.fontWeight,q=S.group({class:"apexcharts-yaxis",rel:p,transform:"translate("+b.globals.translateYAxisX[p]+", 0)"});if(this.axesUtils.isYAxisHidden(p))return q;var oe=S.group({class:"apexcharts-yaxis-texts-g"});q.add(oe);var ue=b.globals.yAxisScale[p].result.length-1,ae=b.globals.gridHeight/ue,_e=b.globals.translateY,Ie=b.globals.yLabelFormatters[p],Pe=b.globals.yAxisScale[p].result.slice();Pe=this.axesUtils.checkForReversedLabels(p,Pe);var Be="";if(b.config.yaxis[p].labels.show)for(var Ge=function(ln){var $t=Pe[ln];$t=Ie($t,ln,b);var cn=b.config.yaxis[p].labels.padding;b.config.yaxis[p].opposite&&0!==b.config.yaxis.length&&(cn*=-1);var Un=f.axesUtils.getYAxisForeColor(D.colors,p),zn=S.drawText({x:cn,y:_e+ue/10+b.config.yaxis[p].labels.offsetY+1,text:$t,textAnchor:b.config.yaxis[p].opposite?"start":"end",fontSize:B,fontFamily:F,fontWeight:W,foreColor:Array.isArray(Un)?Un[ln]:Un,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+D.cssClass});ln===ue&&(Be=zn),oe.add(zn);var Ai=document.createElementNS(b.globals.SVGNS,"title");if(Ai.textContent=Array.isArray($t)?$t.join(" "):$t,zn.node.appendChild(Ai),0!==b.config.yaxis[p].labels.rotate){var gr=S.rotateAroundCenter(Be.node),vi=S.rotateAroundCenter(zn.node);zn.node.setAttribute("transform","rotate(".concat(b.config.yaxis[p].labels.rotate," ").concat(gr.x," ").concat(vi.y,")"))}_e+=ae},st=ue;st>=0;st--)Ge(st);if(void 0!==b.config.yaxis[p].title.text){var bt=S.group({class:"apexcharts-yaxis-title"}),J=0;b.config.yaxis[p].opposite&&(J=b.globals.translateYAxisX[p]);var pe=S.drawText({x:J,y:b.globals.gridHeight/2+b.globals.translateY+b.config.yaxis[p].title.offsetY,text:b.config.yaxis[p].title.text,textAnchor:"end",foreColor:b.config.yaxis[p].title.style.color,fontSize:b.config.yaxis[p].title.style.fontSize,fontWeight:b.config.yaxis[p].title.style.fontWeight,fontFamily:b.config.yaxis[p].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+b.config.yaxis[p].title.style.cssClass});bt.add(pe),q.add(bt)}var ze=b.config.yaxis[p].axisBorder,Je=31+ze.offsetX;if(b.config.yaxis[p].opposite&&(Je=-31-ze.offsetX),ze.show){var ft=S.drawLine(Je,b.globals.translateY+ze.offsetY-2,Je,b.globals.gridHeight+b.globals.translateY+ze.offsetY+2,ze.color,0,ze.width);q.add(ft)}return b.config.yaxis[p].axisTicks.show&&this.axesUtils.drawYAxisTicks(Je,ue,ze,b.config.yaxis[p].axisTicks,p,ae,q),q}},{key:"drawYaxisInversed",value:function(p){var f=this.w,b=new qt(this.ctx),S=b.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),D=b.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(f.globals.translateXAxisX,", ").concat(f.globals.translateXAxisY,")")});S.add(D);var B=f.globals.yAxisScale[p].result.length-1,F=f.globals.gridWidth/B+.1,W=F+f.config.xaxis.labels.offsetX,q=f.globals.xLabelFormatter,oe=f.globals.yAxisScale[p].result.slice(),ue=f.globals.timescaleLabels;ue.length>0&&(this.xaxisLabels=ue.slice(),B=(oe=ue.slice()).length),oe=this.axesUtils.checkForReversedLabels(p,oe);var ae=ue.length;if(f.config.xaxis.labels.show)for(var _e=ae?0:B;ae?_e<ae:_e>=0;ae?_e++:_e--){var Ie=oe[_e];Ie=q(Ie,_e,f);var Pe=f.globals.gridWidth+f.globals.padHorizontal-(W-F+f.config.xaxis.labels.offsetX);if(ue.length){var Be=this.axesUtils.getLabel(oe,ue,Pe,_e,this.drawnLabels,this.xaxisFontSize);Pe=Be.x,Ie=Be.text,this.drawnLabels.push(Be.text),0===_e&&f.globals.skipFirstTimelinelabel&&(Ie=""),_e===oe.length-1&&f.globals.skipLastTimelinelabel&&(Ie="")}var Ge=b.drawText({x:Pe,y:this.xAxisoffX+f.config.xaxis.labels.offsetY+30-("top"===f.config.xaxis.position?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:Ie,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[p]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:f.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+f.config.xaxis.labels.style.cssClass});D.add(Ge),Ge.tspan(Ie);var st=document.createElementNS(f.globals.SVGNS,"title");st.textContent=Ie,Ge.node.appendChild(st),W+=F}return this.inversedYAxisTitleText(S),this.inversedYAxisBorder(S),S}},{key:"inversedYAxisBorder",value:function(p){var f=this.w,b=new qt(this.ctx),S=f.config.xaxis.axisBorder;if(S.show){var D=0;"bar"===f.config.chart.type&&f.globals.isXNumeric&&(D-=15);var B=b.drawLine(f.globals.padHorizontal+D+S.offsetX,this.xAxisoffX,f.globals.gridWidth,this.xAxisoffX,S.color,0,S.height);p.add(B)}}},{key:"inversedYAxisTitleText",value:function(p){var f=this.w,b=new qt(this.ctx);if(void 0!==f.config.xaxis.title.text){var S=b.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),D=b.drawText({x:f.globals.gridWidth/2+f.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(f.config.xaxis.title.style.fontSize)+f.config.xaxis.title.offsetY+20,text:f.config.xaxis.title.text,textAnchor:"middle",fontSize:f.config.xaxis.title.style.fontSize,fontFamily:f.config.xaxis.title.style.fontFamily,fontWeight:f.config.xaxis.title.style.fontWeight,foreColor:f.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+f.config.xaxis.title.style.cssClass});S.add(D),p.add(S)}}},{key:"yAxisTitleRotate",value:function(p,f){var b=this.w,S=new qt(this.ctx),D={width:0,height:0},B={width:0,height:0},F=b.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-texts-g"));null!==F&&(D=F.getBoundingClientRect());var W=b.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-title text"));if(null!==W&&(B=W.getBoundingClientRect()),null!==W){var q=this.xPaddingForYAxisTitle(p,D,B,f);W.setAttribute("x",q.xPos-(f?10:0))}if(null!==W){var oe=S.rotateAroundCenter(W);W.setAttribute("transform","rotate(".concat(f?-1*b.config.yaxis[p].title.rotate:b.config.yaxis[p].title.rotate," ").concat(oe.x," ").concat(oe.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(p,f,b,S){var D=this.w,B=0,F=0,W=10;return void 0===D.config.yaxis[p].title.text||p<0?{xPos:F,padd:0}:(S?(F=f.width+D.config.yaxis[p].title.offsetX+b.width/2+W/2,0===(B+=1)&&(F-=W/2)):(F=-1*f.width+D.config.yaxis[p].title.offsetX+W/2+b.width/2,D.globals.isBarHorizontal&&(F=-1*f.width-D.config.yaxis[p].title.offsetX-(W=25))),{xPos:F,padd:W})}},{key:"setYAxisXPosition",value:function(p,f){var b=this.w,S=0,D=0,B=18,F=1;b.config.yaxis.length>1&&(this.multipleYs=!0),b.config.yaxis.map(function(W,q){var oe=b.globals.ignoreYAxisIndexes.indexOf(q)>-1||!W.show||W.floating||0===p[q].width,ue=p[q].width+f[q].width;W.opposite?b.globals.isBarHorizontal?b.globals.translateYAxisX[q]=(D=b.globals.gridWidth+b.globals.translateX-1)-W.labels.offsetX:(D=b.globals.gridWidth+b.globals.translateX+F,oe||(F=F+ue+20),b.globals.translateYAxisX[q]=D-W.labels.offsetX+20):(S=b.globals.translateX-B,oe||(B=B+ue+20),b.globals.translateYAxisX[q]=S+W.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var p=this.w,f=p.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(f=ct.listToArray(f)).forEach(function(b,S){var D=p.config.yaxis[S];if(D&&void 0!==D.labels.align){var B=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-texts-g")),F=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-label"));F=ct.listToArray(F);var W=B.getBoundingClientRect();"left"===D.labels.align?(F.forEach(function(q,oe){q.setAttribute("text-anchor","start")}),D.opposite||B.setAttribute("transform","translate(-".concat(W.width,", 0)"))):"center"===D.labels.align?(F.forEach(function(q,oe){q.setAttribute("text-anchor","middle")}),B.setAttribute("transform","translate(".concat(W.width/2*(D.opposite?1:-1),", 0)"))):"right"===D.labels.align&&(F.forEach(function(q,oe){q.setAttribute("text-anchor","end")}),D.opposite&&B.setAttribute("transform","translate(".concat(W.width,", 0)")))}})}}]),Re}(),nr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.documentEvent=ct.bind(this.documentEvent,this)}return de(Re,[{key:"addEventListener",value:function(p,f){var b=this.w;b.globals.events.hasOwnProperty(p)?b.globals.events[p].push(f):b.globals.events[p]=[f]}},{key:"removeEventListener",value:function(p,f){var b=this.w;if(b.globals.events.hasOwnProperty(p)){var S=b.globals.events[p].indexOf(f);-1!==S&&b.globals.events[p].splice(S,1)}}},{key:"fireEvent",value:function(p,f){var b=this.w;if(b.globals.events.hasOwnProperty(p)){f&&f.length||(f=[]);for(var S=b.globals.events[p],D=S.length,B=0;B<D;B++)S[B].apply(null,f)}}},{key:"setupEventHandlers",value:function(){var p=this,f=this.w,b=this.ctx,S=f.globals.dom.baseEl.querySelector(f.globals.chartClass);this.ctx.eventList.forEach(function(D){S.addEventListener(D,function(B){var F=Object.assign({},f,{seriesIndex:f.globals.capturedSeriesIndex,dataPointIndex:f.globals.capturedDataPointIndex});"mousemove"===B.type||"touchmove"===B.type?"function"==typeof f.config.chart.events.mouseMove&&f.config.chart.events.mouseMove(B,b,F):"mouseleave"===B.type||"touchleave"===B.type?"function"==typeof f.config.chart.events.mouseLeave&&f.config.chart.events.mouseLeave(B,b,F):("mouseup"===B.type&&1===B.which||"touchend"===B.type)&&("function"==typeof f.config.chart.events.click&&f.config.chart.events.click(B,b,F),b.ctx.events.fireEvent("click",[B,b,F]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(D){f.globals.dom.baseEl.addEventListener(D,p.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(p){var f=this.w,b=p.target.className;if("click"===p.type){var S=f.globals.dom.baseEl.querySelector(".apexcharts-menu");S&&S.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==b&&S.classList.remove("apexcharts-menu-open")}f.globals.clientX="touchmove"===p.type?p.touches[0].clientX:p.clientX,f.globals.clientY="touchmove"===p.type?p.touches[0].clientY:p.clientY}}]),Re}(),ko=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"setCurrentLocaleValues",value:function(p){var f=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(f=this.w.config.chart.locales.concat(window.Apex.chart.locales));var b=f.filter(function(D){return D.name===p})[0];if(!b)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var S=ct.extend(tr,b);this.w.globals.locale=S.options}}]),Re}(),$s=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawAxis",value:function(p,f){var b,S,D=this.w.globals,B=this.w.config,F=new Ks(this.ctx),W=new Ki(this.ctx);D.axisCharts&&"radar"!==p&&(D.isBarHorizontal?(S=W.drawYaxisInversed(0),b=F.drawXaxisInversed(0),D.dom.elGraphical.add(b),D.dom.elGraphical.add(S)):(b=F.drawXaxis(),D.dom.elGraphical.add(b),B.yaxis.map(function(q,oe){-1===D.ignoreYAxisIndexes.indexOf(oe)&&(S=W.drawYaxis(oe),D.dom.Paper.add(S))})))}}]),Re}(),Ci=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawXCrosshairs",value:function(){var p=this.w,f=new qt(this.ctx),b=new Rn(this.ctx),S=p.config.xaxis.crosshairs.fill.gradient,D=p.config.xaxis.crosshairs.dropShadow,ae=D.enabled,_e=D.left,Ie=D.top,Pe=D.blur,Be=D.color,Ge=D.opacity,st=p.config.xaxis.crosshairs.fill.color;if(p.config.xaxis.crosshairs.show){"gradient"===p.config.xaxis.crosshairs.fill.type&&(st=f.drawGradient("vertical",S.colorFrom,S.colorTo,S.opacityFrom,S.opacityTo,null,S.stops,null));var bt=f.drawRect();1===p.config.xaxis.crosshairs.width&&(bt=f.drawLine());var J=p.globals.gridHeight;(!ct.isNumber(J)||J<0)&&(J=0);var pe=p.config.xaxis.crosshairs.width;(!ct.isNumber(pe)||pe<0)&&(pe=0),bt.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:J,width:pe,height:J,fill:st,filter:"none","fill-opacity":p.config.xaxis.crosshairs.opacity,stroke:p.config.xaxis.crosshairs.stroke.color,"stroke-width":p.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":p.config.xaxis.crosshairs.stroke.dashArray}),ae&&(bt=b.dropShadow(bt,{left:_e,top:Ie,blur:Pe,color:Be,opacity:Ge})),p.globals.dom.elGraphical.add(bt)}}},{key:"drawYCrosshairs",value:function(){var p=this.w,f=new qt(this.ctx),b=p.config.yaxis[0].crosshairs,S=p.globals.barPadForNumericAxis;if(p.config.yaxis[0].crosshairs.show){var D=f.drawLine(-S,0,p.globals.gridWidth+S,0,b.stroke.color,b.stroke.dashArray,b.stroke.width);D.attr({class:"apexcharts-ycrosshairs"}),p.globals.dom.elGraphical.add(D)}var B=f.drawLine(-S,0,p.globals.gridWidth+S,0,b.stroke.color,0,0);B.attr({class:"apexcharts-ycrosshairs-hidden"}),p.globals.dom.elGraphical.add(B)}}]),Re}(),gs=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"checkResponsiveConfig",value:function(p){var f=this,b=this.w,S=b.config;if(0!==S.responsive.length){var D=S.responsive.slice();D.sort(function(q,oe){return q.breakpoint>oe.breakpoint?1:oe.breakpoint>q.breakpoint?-1:0}).reverse();var B=new xi({}),F=function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=D[0].breakpoint,ue=window.innerWidth>0?window.innerWidth:screen.width;if(ue>oe){var ae=hi.extendArrayProps(B,b.globals.initialConfig,b);q=ct.extend(ae,q),q=ct.extend(b.config,q),f.overrideResponsiveOptions(q)}else for(var _e=0;_e<D.length;_e++)ue<D[_e].breakpoint&&(q=hi.extendArrayProps(B,D[_e].options,b),q=ct.extend(b.config,q),f.overrideResponsiveOptions(q))};if(p){var W=hi.extendArrayProps(B,p,b);W=ct.extend(b.config,W),F(W=ct.extend(W,p))}else F({})}}},{key:"overrideResponsiveOptions",value:function(p){var f=new xi(p).init({responsiveOverride:!0});this.w.config=f}}]),Re}(),wr=function(){function Re(p){ee(this,Re),this.ctx=p,this.colors=[],this.w=p.w;var f=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===f.config.chart.type&&f.config.plotOptions.treemap.distributed||"heatmap"===f.config.chart.type&&f.config.plotOptions.heatmap.distributed,this.isBarDistributed=f.config.plotOptions.bar.distributed&&("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)}return de(Re,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var p=this,f=this.w,b=new ct;if(f.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(f.config.theme.mode)),void 0===f.config.colors?f.globals.colors=this.predefined():(f.globals.colors=f.config.colors,Array.isArray(f.config.colors)&&f.config.colors.length>0&&"function"==typeof f.config.colors[0]&&(f.globals.colors=f.config.series.map(function(_e,Ie){var Pe=f.config.colors[Ie];return Pe||(Pe=f.config.colors[0]),"function"==typeof Pe?(p.isColorFn=!0,Pe({value:f.globals.axisCharts?f.globals.series[Ie][0]?f.globals.series[Ie][0]:0:f.globals.series[Ie],seriesIndex:Ie,dataPointIndex:Ie,w:f})):Pe}))),f.globals.seriesColors.map(function(_e,Ie){_e&&(f.globals.colors[Ie]=_e)}),f.config.theme.monochrome.enabled){var S=[],D=f.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(D=f.globals.series[0].length*f.globals.series.length);for(var B=f.config.theme.monochrome.color,F=1/(D/f.config.theme.monochrome.shadeIntensity),W=f.config.theme.monochrome.shadeTo,q=0,oe=0;oe<D;oe++){var ue=void 0;"dark"===W?(ue=b.shadeColor(-1*q,B),q+=F):(ue=b.shadeColor(q,B),q+=F),S.push(ue)}f.globals.colors=S.slice()}var ae=f.globals.colors.slice();this.pushExtraColors(f.globals.colors),["fill","stroke"].forEach(function(_e){f.globals[_e].colors=void 0===f.config[_e].colors?p.isColorFn?f.config.colors:ae:f.config[_e].colors.slice(),p.pushExtraColors(f.globals[_e].colors)}),f.globals.dataLabels.style.colors=void 0===f.config.dataLabels.style.colors?ae:f.config.dataLabels.style.colors.slice(),this.pushExtraColors(f.globals.dataLabels.style.colors,50),f.globals.radarPolygons.fill.colors=void 0===f.config.plotOptions.radar.polygons.fill.colors?["dark"===f.config.theme.mode?"#424242":"none"]:f.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(f.globals.radarPolygons.fill.colors,20),f.globals.markers.colors=void 0===f.config.markers.colors?ae:f.config.markers.colors.slice(),this.pushExtraColors(f.globals.markers.colors)}},{key:"pushExtraColors",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=f||S.globals.series.length;if(null===b&&(b=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===S.config.chart.type&&S.config.plotOptions.heatmap.colorScale.inverse),b&&S.globals.series.length&&(D=S.globals.series[S.globals.maxValsInArrayIndex].length*S.globals.series.length),p.length<D)for(var B=D-p.length,F=0;F<B;F++)p.push(p[F])}},{key:"updateThemeOptions",value:function(p){p.chart=p.chart||{},p.tooltip=p.tooltip||{};var f=p.theme.mode||"light",b=p.theme.palette?p.theme.palette:"dark"===f?"palette4":"palette1",S=p.chart.foreColor?p.chart.foreColor:"dark"===f?"#f6f7f8":"#373d3f";return p.tooltip.theme=f,p.chart.foreColor=S,p.theme.palette=b,p}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),Re}(),ir=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(p){var f=this.w,b="title"===p?f.config.title:f.config.subtitle,S=f.globals.svgWidth/2,D=b.offsetY,B="middle";if("left"===b.align?(S=10,B="start"):"right"===b.align&&(S=f.globals.svgWidth-10,B="end"),S+=b.offsetX,D=D+parseInt(b.style.fontSize,10)+b.margin/2,void 0!==b.text){var F=new qt(this.ctx).drawText({x:S,y:D,text:b.text,textAnchor:B,fontSize:b.style.fontSize,fontFamily:b.style.fontFamily,fontWeight:b.style.fontWeight,foreColor:b.style.color,opacity:1});F.node.setAttribute("class","apexcharts-".concat(p,"-text")),f.globals.dom.Paper.add(F)}}}]),Re}(),Eo=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getTitleSubtitleCoords",value:function(p){var f=this.w,b=0,S=0,D="title"===p?f.config.title.floating:f.config.subtitle.floating,B=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-text"));if(null!==B&&!D){var F=B.getBoundingClientRect();b=F.width,S=f.globals.axisCharts?F.height+5:F.height}return{width:b,height:S}}},{key:"getLegendsRect",value:function(){var p=this.w,f=p.globals.dom.baseEl.querySelector(".apexcharts-legend");p.config.legend.height||"top"!==p.config.legend.position&&"bottom"!==p.config.legend.position||(f.style.maxHeight=p.globals.svgHeight/2+"px");var b=Object.assign({},ct.getBoundingClientRect(f));return this.dCtx.lgRect=null!==f&&!p.config.legend.floating&&p.config.legend.show?{x:b.x,y:b.y,height:b.height,width:0===b.height?0:b.width}:{x:0,y:0,height:0,width:0},"left"!==p.config.legend.position&&"right"!==p.config.legend.position||1.5*this.dCtx.lgRect.width>p.globals.svgWidth&&(this.dCtx.lgRect.width=p.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(p,f){var b=p;if(this.w.globals.isMultiLineX){var S=f.map(function(B,F){return Array.isArray(B)?B.length:1}),D=Math.max.apply(Math,sn(S));b=f[S.indexOf(D)]}return b}}]),Re}(),jc=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getxAxisLabelsCoords",value:function(){var p,f=this.w,b=f.globals.labels.slice();if(f.config.xaxis.convertedCatToNumeric&&0===b.length&&(b=f.globals.categoryLabels),f.globals.timescaleLabels.length>0){var S=this.getxAxisTimeScaleLabelsCoords();p={width:S.width,height:S.height},f.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==f.config.legend.position&&"right"!==f.config.legend.position||f.config.legend.floating?0:this.dCtx.lgRect.width;var D=f.globals.xLabelFormatter,B=ct.getLargestStringFromArr(b),F=this.dCtx.dimHelpers.getLargestStringFromMultiArr(B,b);f.globals.isBarHorizontal&&(F=B=f.globals.yAxisScale[0].result.reduce(function(Ie,Pe){return Ie.length>Pe.length?Ie:Pe},0));var W=new So(this.dCtx.ctx),q=B;B=W.xLabelFormat(D,B,q,{i:void 0,dateFormatter:new fi(this.dCtx.ctx).formatDate,w:f}),F=W.xLabelFormat(D,F,q,{i:void 0,dateFormatter:new fi(this.dCtx.ctx).formatDate,w:f}),(f.config.xaxis.convertedCatToNumeric&&void 0===B||""===String(B).trim())&&(F=B="1");var oe=new qt(this.dCtx.ctx),ue=oe.getTextRects(B,f.config.xaxis.labels.style.fontSize),ae=ue;if(B!==F&&(ae=oe.getTextRects(F,f.config.xaxis.labels.style.fontSize)),(p={width:ue.width>=ae.width?ue.width:ae.width,height:ue.height>=ae.height?ue.height:ae.height}).width*b.length>f.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==f.config.xaxis.labels.rotate||f.config.xaxis.labels.rotateAlways){if(!f.globals.isBarHorizontal){f.globals.rotateXLabels=!0;var _e=function(Ie){return oe.getTextRects(Ie,f.config.xaxis.labels.style.fontSize,f.config.xaxis.labels.style.fontFamily,"rotate(".concat(f.config.xaxis.labels.rotate," 0 0)"),!1)};ue=_e(B),B!==F&&(ae=_e(F)),p.height=(ue.height>ae.height?ue.height:ae.height)/1.5,p.width=ue.width>ae.width?ue.width:ae.width}}else f.globals.rotateXLabels=!1}return f.config.xaxis.labels.show||(p={width:0,height:0}),{width:p.width,height:p.height}}},{key:"getxAxisTitleCoords",value:function(){var p=this.w,f=0,b=0;if(void 0!==p.config.xaxis.title.text){var S=new qt(this.dCtx.ctx).getTextRects(p.config.xaxis.title.text,p.config.xaxis.title.style.fontSize);f=S.width,b=S.height}return{width:f,height:b}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var p,f=this.w;this.dCtx.timescaleLabels=f.globals.timescaleLabels.slice();var b=this.dCtx.timescaleLabels.map(function(D){return D.value}),S=b.reduce(function(D,B){return void 0===D?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):D.length>B.length?D:B},0);return 1.05*(p=new qt(this.dCtx.ctx).getTextRects(S,f.config.xaxis.labels.style.fontSize)).width*b.length>f.globals.gridWidth&&0!==f.config.xaxis.labels.rotate&&(f.globals.overlappingXLabels=!0),p}},{key:"additionalPaddingXLabels",value:function(p){var f=this,b=this.w,S=b.globals,D=b.config,B=D.xaxis.type,F=p.width;S.skipLastTimelinelabel=!1,S.skipFirstTimelinelabel=!1;var W=b.config.yaxis[0].opposite&&b.globals.isBarHorizontal;D.yaxis.forEach(function(oe,ue){W?(f.dCtx.gridPad.left<F&&(f.dCtx.xPadLeft=F/2+1),f.dCtx.xPadRight=F/2+1):function(oe,ue){-1!==S.collapsedSeriesIndices.indexOf(ue)||function(ae){if(f.dCtx.timescaleLabels&&f.dCtx.timescaleLabels.length){var Pe=f.dCtx.timescaleLabels[0].position-F/1.75+f.dCtx.yAxisWidthLeft;f.dCtx.timescaleLabels[f.dCtx.timescaleLabels.length-1].position+F/1.75-f.dCtx.yAxisWidthRight>S.svgWidth-S.translateX-("right"===b.config.legend.position&&f.dCtx.lgRect.width>0?f.dCtx.lgRect.width:0)&&(S.skipLastTimelinelabel=!0),Pe<-(ae.show&&!ae.floating||"bar"!==D.chart.type&&"candlestick"!==D.chart.type&&"rangeBar"!==D.chart.type&&"boxPlot"!==D.chart.type?10:F/1.75)&&(S.skipFirstTimelinelabel=!0)}else"datetime"===B?f.dCtx.gridPad.right<F&&!S.rotateXLabels&&(S.skipLastTimelinelabel=!0):"datetime"!==B&&f.dCtx.gridPad.right<F/2-f.dCtx.yAxisWidthRight&&!S.rotateXLabels&&!b.config.xaxis.labels.trim&&("between"!==b.config.xaxis.tickPlacement||b.globals.isBarHorizontal)&&(f.dCtx.xPadRight=F/2+1)}(oe)}(oe,ue)})}}]),Re}(),es=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getyAxisLabelsCoords",value:function(){var p=this,f=this.w,b=[],S=10,D=new ss(this.dCtx.ctx);return f.config.yaxis.map(function(B,F){var W=f.globals.yAxisScale[F],q=0;if(!D.isYAxisHidden(F)&&B.labels.show&&void 0!==B.labels.minWidth&&(q=B.labels.minWidth),!D.isYAxisHidden(F)&&B.labels.show&&W.result.length){var oe=f.globals.yLabelFormatters[F],ue=W.niceMin===Number.MIN_VALUE?0:W.niceMin,ae=String(ue).length>String(W.niceMax).length?ue:W.niceMax,_e=oe(ae,{seriesIndex:F,dataPointIndex:-1,w:f}),Ie=_e;if(void 0!==_e&&0!==_e.length||(_e=ae),f.globals.isBarHorizontal){S=0;var Pe=f.globals.labels.slice();_e=oe(_e=ct.getLargestStringFromArr(Pe),{seriesIndex:F,dataPointIndex:-1,w:f}),Ie=p.dCtx.dimHelpers.getLargestStringFromMultiArr(_e,Pe)}var Be=new qt(p.dCtx.ctx),Ge="rotate(".concat(B.labels.rotate," 0 0)"),st=Be.getTextRects(_e,B.labels.style.fontSize,B.labels.style.fontFamily,Ge,!1),bt=st;_e!==Ie&&(bt=Be.getTextRects(Ie,B.labels.style.fontSize,B.labels.style.fontFamily,Ge,!1)),b.push({width:(q>bt.width||q>st.width?q:bt.width>st.width?bt.width:st.width)+S,height:bt.height>st.height?bt.height:st.height})}else b.push({width:0,height:0})}),b}},{key:"getyAxisTitleCoords",value:function(){var p=this,b=[];return this.w.config.yaxis.map(function(S,D){if(S.show&&void 0!==S.title.text){var B=new qt(p.dCtx.ctx),F="rotate(".concat(S.title.rotate," 0 0)"),W=B.getTextRects(S.title.text,S.title.style.fontSize,S.title.style.fontFamily,F,!1);b.push({width:W.width,height:W.height})}else b.push({width:0,height:0})}),b}},{key:"getTotalYAxisWidth",value:function(){var p=this.w,f=0,b=0,S=0,D=p.globals.yAxisScale.length>1?10:0,B=new ss(this.dCtx.ctx),F=function(W,q){var oe=p.config.yaxis[q].floating,ue=0;W.width>0&&!oe?(ue=W.width+D,p.globals.ignoreYAxisIndexes.indexOf(q)>-1&&(ue=ue-W.width-D)):ue=oe||B.isYAxisHidden(q)?0:5,p.config.yaxis[q].opposite?S+=ue:b+=ue,f+=ue};return p.globals.yLabelsCoords.map(function(W,q){F(W,q)}),p.globals.yTitleCoords.map(function(W,q){F(W,q)}),p.globals.isBarHorizontal&&!p.config.yaxis[0].floating&&(f=p.globals.yLabelsCoords[0].width+p.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=b,this.dCtx.yAxisWidthRight=S,f}}]),Re}(),Vs=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"gridPadForColumnsInNumericAxis",value:function(p){var f=this.w;if(f.globals.noData||f.globals.allSeriesCollapsed)return 0;var b=function(oe){return"bar"===oe||"rangeBar"===oe||"candlestick"===oe||"boxPlot"===oe},S=f.config.chart.type,D=0,B=b(S)?f.config.series.length:1;if(f.globals.comboBarCount>0&&(B=f.globals.comboBarCount),f.globals.collapsedSeries.forEach(function(oe){b(oe.type)&&(B-=1)}),f.config.chart.stacked&&(B=1),(b(S)||f.globals.comboBarCount>0)&&f.globals.isXNumeric&&!f.globals.isBarHorizontal&&B>0){var F,W,q=Math.abs(f.globals.initialMaxX-f.globals.initialMinX);q<=3&&(q=f.globals.dataPoints),F=q/p,f.globals.minXDiff&&f.globals.minXDiff/F>0&&(W=f.globals.minXDiff/F),W>p/2&&(W/=2),(D=W/B*parseInt(f.config.plotOptions.bar.columnWidth,10)/100)<1&&(D=1),f.globals.barPadForNumericAxis=D=D/(B>1?1:1.5)+5}return D}},{key:"gridPadFortitleSubtitle",value:function(){var p=this,f=this.w,b=f.globals,S=this.dCtx.isSparkline||!f.globals.axisCharts?0:10;["title","subtitle"].forEach(function(F){S+=void 0!==f.config[F].text?f.config[F].margin:p.dCtx.isSparkline||!f.globals.axisCharts?0:5}),!f.config.legend.show||"bottom"!==f.config.legend.position||f.config.legend.floating||f.globals.axisCharts||(S+=10);var D=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),B=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");b.gridHeight=b.gridHeight-D.height-B.height-S,b.translateY=b.translateY+D.height+B.height+S}},{key:"setGridXPosForDualYAxis",value:function(p,f){var b=this.w,S=new ss(this.dCtx.ctx);b.config.yaxis.map(function(D,B){-1!==b.globals.ignoreYAxisIndexes.indexOf(B)||D.floating||S.isYAxisHidden(B)||(D.opposite&&(b.globals.translateX=b.globals.translateX-(f[B].width+p[B].width)-parseInt(b.config.yaxis[B].labels.style.fontSize,10)/1.2-12),b.globals.translateX<2&&(b.globals.translateX=2))})}}]),Re}(),Go=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Eo(this),this.dimYAxis=new es(this),this.dimXAxis=new jc(this),this.dimGrid=new Vs(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return de(Re,[{key:"plotCoords",value:function(){var p=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),p.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),p.gridHeight=p.gridHeight-this.gridPad.top-this.gridPad.bottom,p.gridWidth=p.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var f=this.dimGrid.gridPadForColumnsInNumericAxis(p.gridWidth);p.gridWidth=p.gridWidth-2*f,p.translateX=p.translateX+this.gridPad.left+this.xPadLeft+(f>0?f+4:0),p.translateY=p.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var p=this,f=this.w,b=f.globals,S=this.dimYAxis.getyAxisLabelsCoords(),D=this.dimYAxis.getyAxisTitleCoords();f.globals.yLabelsCoords=[],f.globals.yTitleCoords=[],f.config.yaxis.map(function(ae,_e){f.globals.yLabelsCoords.push({width:S[_e].width,index:_e}),f.globals.yTitleCoords.push({width:D[_e].width,index:_e})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var B=this.dimXAxis.getxAxisLabelsCoords(),F=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(B,F),b.translateXAxisY=f.globals.rotateXLabels?this.xAxisHeight/8:-4,b.translateXAxisX=f.globals.rotateXLabels&&f.globals.isXNumeric&&f.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,f.globals.isBarHorizontal&&(b.rotateXLabels=!1,b.translateXAxisY=parseInt(f.config.xaxis.labels.style.fontSize,10)/1.5*-1),b.translateXAxisY=b.translateXAxisY+f.config.xaxis.labels.offsetY,b.translateXAxisX=b.translateXAxisX+f.config.xaxis.labels.offsetX;var W=this.yAxisWidth,q=this.xAxisHeight;b.xAxisLabelsHeight=this.xAxisHeight-F.height,b.xAxisLabelsWidth=this.xAxisWidth,b.xAxisHeight=this.xAxisHeight;var oe=10;("radar"===f.config.chart.type||this.isSparkline)&&(W=0,q=b.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===f.config.chart.type)&&(W=0,q=0,oe=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(B);var ue=function(){b.translateX=W,b.gridHeight=b.svgHeight-p.lgRect.height-q-(p.isSparkline||"treemap"===f.config.chart.type?0:f.globals.rotateXLabels?10:15),b.gridWidth=b.svgWidth-W};switch("top"===f.config.xaxis.position&&(oe=b.xAxisHeight-f.config.xaxis.axisTicks.height-5),f.config.legend.position){case"bottom":b.translateY=oe,ue();break;case"top":b.translateY=this.lgRect.height+oe,ue();break;case"left":b.translateY=oe,b.translateX=this.lgRect.width+W,b.gridHeight=b.svgHeight-q-12,b.gridWidth=b.svgWidth-this.lgRect.width-W;break;case"right":b.translateY=oe,b.translateX=W,b.gridHeight=b.svgHeight-q-12,b.gridWidth=b.svgWidth-this.lgRect.width-W-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(D,S),new Ki(this.ctx).setYAxisXPosition(S,D)}},{key:"setDimensionsForNonAxisCharts",value:function(){var p=this.w,f=p.globals,b=p.config,S=0;p.config.legend.show&&!p.config.legend.floating&&(S=20);var D="pie"===b.chart.type||"polarArea"===b.chart.type||"donut"===b.chart.type?"pie":"radialBar",B=b.plotOptions[D].offsetY,F=b.plotOptions[D].offsetX;if(!b.legend.show||b.legend.floating)return f.gridHeight=f.svgHeight-b.grid.padding.left+b.grid.padding.right,f.gridWidth=f.gridHeight,f.translateY=B,void(f.translateX=F+(f.svgWidth-f.gridWidth)/2);switch(b.legend.position){case"bottom":f.gridHeight=f.svgHeight-this.lgRect.height-f.goldenPadding,f.gridWidth=f.svgWidth,f.translateY=B-10,f.translateX=F+(f.svgWidth-f.gridWidth)/2;break;case"top":f.gridHeight=f.svgHeight-this.lgRect.height-f.goldenPadding,f.gridWidth=f.svgWidth,f.translateY=this.lgRect.height+B+10,f.translateX=F+(f.svgWidth-f.gridWidth)/2;break;case"left":f.gridWidth=f.svgWidth-this.lgRect.width-S,f.gridHeight="auto"!==b.chart.height?f.svgHeight:f.gridWidth,f.translateY=B,f.translateX=F+this.lgRect.width+S;break;case"right":f.gridWidth=f.svgWidth-this.lgRect.width-S-5,f.gridHeight="auto"!==b.chart.height?f.svgHeight:f.gridWidth,f.translateY=B,f.translateX=F+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(p,f){var b=this.w;this.xAxisHeight=(p.height+f.height)*(b.globals.isMultiLineX?1.2:b.globals.LINE_HEIGHT_RATIO)+(b.globals.rotateXLabels?22:10),this.xAxisWidth=p.width,this.xAxisHeight-f.height>b.config.xaxis.labels.maxHeight&&(this.xAxisHeight=b.config.xaxis.labels.maxHeight),b.config.xaxis.labels.minHeight&&this.xAxisHeight<b.config.xaxis.labels.minHeight&&(this.xAxisHeight=b.config.xaxis.labels.minHeight),b.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,D=0;b.config.yaxis.forEach(function(B){S+=B.labels.minWidth,D+=B.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>D&&(this.yAxisWidth=D)}}]),Re}(),Nr=function(){function Re(p){ee(this,Re),this.w=p.w,this.lgCtx=p}return de(Re,[{key:"getLegendStyles",value:function(){var p=document.createElement("style");p.setAttribute("type","text/css");var f=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return p.appendChild(f),p}},{key:"getLegendBBox",value:function(){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:p.height,clww:p.width}}},{key:"appendToForeignObject",value:function(){var p=this.w.globals;p.dom.elLegendForeign=document.createElementNS(p.SVGNS,"foreignObject");var f=p.dom.elLegendForeign;f.setAttribute("x",0),f.setAttribute("y",0),f.setAttribute("width",p.svgWidth),f.setAttribute("height",p.svgHeight),p.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),f.appendChild(p.dom.elLegendWrap),f.appendChild(this.getLegendStyles()),p.dom.Paper.node.insertBefore(f,p.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(p,f){var b=this,S=this.w;if(S.globals.axisCharts||"radialBar"===S.config.chart.type){S.globals.resized=!0;var D=null,B=null;S.globals.risingSeries=[],S.globals.axisCharts?(D=S.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),B=parseInt(D.getAttribute("data:realIndex"),10)):(D=S.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")),B=parseInt(D.getAttribute("rel"),10)-1),f?[{cs:S.globals.collapsedSeries,csi:S.globals.collapsedSeriesIndices},{cs:S.globals.ancillaryCollapsedSeries,csi:S.globals.ancillaryCollapsedSeriesIndices}].forEach(function(oe){b.riseCollapsedSeries(oe.cs,oe.csi,B)}):this.hideSeries({seriesEl:D,realIndex:B})}else{var F=S.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(p+1,"'] path")),W=S.config.chart.type;if("pie"===W||"polarArea"===W||"donut"===W){var q=S.config.plotOptions.pie.donut.labels;new qt(this.lgCtx.ctx).pathMouseDown(F.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(F.members[0].node,q)}F.fire("click")}}},{key:"hideSeries",value:function(p){var f=p.seriesEl,b=p.realIndex,S=this.w,D=ct.clone(S.config.series);if(S.globals.axisCharts){var B=!1;if(S.config.yaxis[b]&&S.config.yaxis[b].show&&S.config.yaxis[b].showAlways&&(B=!0,S.globals.ancillaryCollapsedSeriesIndices.indexOf(b)<0&&(S.globals.ancillaryCollapsedSeries.push({index:b,data:D[b].data.slice(),type:f.parentNode.className.baseVal.split("-")[1]}),S.globals.ancillaryCollapsedSeriesIndices.push(b))),!B){S.globals.collapsedSeries.push({index:b,data:D[b].data.slice(),type:f.parentNode.className.baseVal.split("-")[1]}),S.globals.collapsedSeriesIndices.push(b);var F=S.globals.risingSeries.indexOf(b);S.globals.risingSeries.splice(F,1)}}else S.globals.collapsedSeries.push({index:b,data:D[b]}),S.globals.collapsedSeriesIndices.push(b);for(var W=f.childNodes,q=0;q<W.length;q++)W[q].classList.contains("apexcharts-series-markers-wrap")&&(W[q].classList.contains("apexcharts-hide")?W[q].classList.remove("apexcharts-hide"):W[q].classList.add("apexcharts-hide"));S.globals.allSeriesCollapsed=S.globals.collapsedSeries.length===S.config.series.length,D=this._getSeriesBasedOnCollapsedState(D),this.lgCtx.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(p,f,b){var S=this.w,D=ct.clone(S.config.series);if(p.length>0){for(var B=0;B<p.length;B++)p[B].index===b&&(S.globals.axisCharts?(D[b].data=p[B].data.slice(),p.splice(B,1),f.splice(B,1),S.globals.risingSeries.push(b)):(D[b]=p[B].data,p.splice(B,1),f.splice(B,1),S.globals.risingSeries.push(b)));D=this._getSeriesBasedOnCollapsedState(D),this.lgCtx.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(p){var f=this.w;return p.forEach(f.globals.axisCharts?function(b,S){f.globals.collapsedSeriesIndices.indexOf(S)>-1&&(p[S].data=[])}:function(b,S){f.globals.collapsedSeriesIndices.indexOf(S)>-1&&(p[S]=0)}),p}}]),Re}(),Zn=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Nr(this)}return de(Re,[{key:"init",value:function(){var p=this.w,f=p.globals,b=p.config;if((b.legend.showForSingleSeries&&1===f.series.length||this.isBarsDistributed||f.series.length>1||!f.axisCharts)&&b.legend.show){for(;f.dom.elLegendWrap.firstChild;)f.dom.elLegendWrap.removeChild(f.dom.elLegendWrap.firstChild);this.drawLegends(),ct.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===b.legend.position||"top"===b.legend.position?this.legendAlignHorizontal():"right"!==b.legend.position&&"left"!==b.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var p=this,f=this.w,b=f.config.legend.fontFamily,S=f.globals.seriesNames,D=f.globals.colors.slice();if("heatmap"===f.config.chart.type){var B=f.config.plotOptions.heatmap.colorScale.ranges;S=B.map(function(Un){return Un.name?Un.name:Un.from+" - "+Un.to}),D=B.map(function(Un){return Un.color})}else this.isBarsDistributed&&(S=f.globals.labels.slice());f.config.legend.customLegendItems.length&&(S=f.config.legend.customLegendItems);for(var F=f.globals.legendFormatter,W=f.config.legend.inverseOrder,q=W?S.length-1:0;W?q>=0:q<=S.length-1;W?q--:q++){var oe=F(S[q],{seriesIndex:q,w:f}),ue=!1,ae=!1;if(f.globals.collapsedSeries.length>0)for(var _e=0;_e<f.globals.collapsedSeries.length;_e++)f.globals.collapsedSeries[_e].index===q&&(ue=!0);if(f.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Ie=0;Ie<f.globals.ancillaryCollapsedSeriesIndices.length;Ie++)f.globals.ancillaryCollapsedSeriesIndices[Ie]===q&&(ae=!0);var Pe=document.createElement("span");Pe.classList.add("apexcharts-legend-marker");var Be=f.config.legend.markers.offsetX,Ge=f.config.legend.markers.offsetY,st=f.config.legend.markers.height,bt=f.config.legend.markers.width,J=f.config.legend.markers.strokeWidth,pe=f.config.legend.markers.strokeColor,ze=f.config.legend.markers.radius,Je=Pe.style;Je.background=D[q],Je.color=D[q],Je.setProperty("background",D[q],"important"),f.config.legend.markers.fillColors&&f.config.legend.markers.fillColors[q]&&(Je.background=f.config.legend.markers.fillColors[q]),void 0!==f.globals.seriesColors[q]&&(Je.background=f.globals.seriesColors[q],Je.color=f.globals.seriesColors[q]),Je.height=Array.isArray(st)?parseFloat(st[q])+"px":parseFloat(st)+"px",Je.width=Array.isArray(bt)?parseFloat(bt[q])+"px":parseFloat(bt)+"px",Je.left=(Array.isArray(Be)?parseFloat(Be[q]):parseFloat(Be))+"px",Je.top=(Array.isArray(Ge)?parseFloat(Ge[q]):parseFloat(Ge))+"px",Je.borderWidth=Array.isArray(J)?J[q]:J,Je.borderColor=Array.isArray(pe)?pe[q]:pe,Je.borderRadius=Array.isArray(ze)?parseFloat(ze[q])+"px":parseFloat(ze)+"px",f.config.legend.markers.customHTML&&(Array.isArray(f.config.legend.markers.customHTML)?f.config.legend.markers.customHTML[q]&&(Pe.innerHTML=f.config.legend.markers.customHTML[q]()):Pe.innerHTML=f.config.legend.markers.customHTML()),qt.setAttrs(Pe,{rel:q+1,"data:collapsed":ue||ae}),(ue||ae)&&Pe.classList.add("apexcharts-inactive-legend");var ft=document.createElement("div"),ln=document.createElement("span");ln.classList.add("apexcharts-legend-text"),ln.innerHTML=Array.isArray(oe)?ct.sanitizeDom(oe.join(" ")):ct.sanitizeDom(oe);var $t=f.config.legend.labels.useSeriesColors?f.globals.colors[q]:f.config.legend.labels.colors;$t||($t=f.config.chart.foreColor),ln.style.color=$t,ln.style.fontSize=parseFloat(f.config.legend.fontSize)+"px",ln.style.fontWeight=f.config.legend.fontWeight,ln.style.fontFamily=b||f.config.chart.fontFamily,qt.setAttrs(ln,{rel:q+1,i:q,"data:default-text":encodeURIComponent(oe),"data:collapsed":ue||ae}),ft.appendChild(Pe),ft.appendChild(ln);var cn=new hi(this.ctx);f.config.legend.showForZeroSeries||0===cn.getSeriesTotalByIndex(q)&&cn.seriesHaveSameValues(q)&&!cn.isSeriesNull(q)&&-1===f.globals.collapsedSeriesIndices.indexOf(q)&&-1===f.globals.ancillaryCollapsedSeriesIndices.indexOf(q)&&ft.classList.add("apexcharts-hidden-zero-series"),f.config.legend.showForNullSeries||cn.isSeriesNull(q)&&-1===f.globals.collapsedSeriesIndices.indexOf(q)&&-1===f.globals.ancillaryCollapsedSeriesIndices.indexOf(q)&&ft.classList.add("apexcharts-hidden-null-series"),f.globals.dom.elLegendWrap.appendChild(ft),f.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(f.config.legend.horizontalAlign)),f.globals.dom.elLegendWrap.classList.add("position-"+f.config.legend.position),ft.classList.add("apexcharts-legend-series"),ft.style.margin="".concat(f.config.legend.itemMargin.vertical,"px ").concat(f.config.legend.itemMargin.horizontal,"px"),f.globals.dom.elLegendWrap.style.width=f.config.legend.width?f.config.legend.width+"px":"",f.globals.dom.elLegendWrap.style.height=f.config.legend.height?f.config.legend.height+"px":"",qt.setAttrs(ft,{rel:q+1,seriesName:ct.escapeString(S[q]),"data:collapsed":ue||ae}),(ue||ae)&&ft.classList.add("apexcharts-inactive-legend"),f.config.legend.onItemClick.toggleDataSeries||ft.classList.add("apexcharts-no-click")}f.globals.dom.elWrap.addEventListener("click",p.onLegendClick,!0),f.config.legend.onItemHover.highlightDataSeries&&0===f.config.legend.customLegendItems.length&&(f.globals.dom.elWrap.addEventListener("mousemove",p.onLegendHovered,!0),f.globals.dom.elWrap.addEventListener("mouseout",p.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(p,f){var b=this.w,S=b.globals.dom.baseEl.querySelector(".apexcharts-legend"),D=S.getBoundingClientRect(),B=0,F=0;if("bottom"===b.config.legend.position)F+=b.globals.svgHeight-D.height/2;else if("top"===b.config.legend.position){var W=new Go(this.ctx),q=W.dimHelpers.getTitleSubtitleCoords("title").height,oe=W.dimHelpers.getTitleSubtitleCoords("subtitle").height;F=F+(q>0?q-10:0)+(oe>0?oe-10:0)}S.style.position="absolute",F=F+f+b.config.legend.offsetY,S.style.left=(B=B+p+b.config.legend.offsetX)+"px",S.style.top=F+"px","bottom"===b.config.legend.position?(S.style.top="auto",S.style.bottom=5-b.config.legend.offsetY+"px"):"right"===b.config.legend.position&&(S.style.left="auto",S.style.right=25+b.config.legend.offsetX+"px"),["width","height"].forEach(function(ue){S.style[ue]&&(S.style[ue]=parseInt(b.config.legend[ue],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var p=this.w;p.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var f=this.legendHelpers.getLegendBBox(),b=new Go(this.ctx),S=b.dimHelpers.getTitleSubtitleCoords("title"),D=b.dimHelpers.getTitleSubtitleCoords("subtitle"),B=0;"bottom"===p.config.legend.position?B=-f.clwh/1.8:"top"===p.config.legend.position&&(B=S.height+D.height+p.config.title.margin+p.config.subtitle.margin-10),this.setLegendWrapXY(20,B)}},{key:"legendAlignVertical",value:function(){var p=this.w,f=this.legendHelpers.getLegendBBox(),b=0;"left"===p.config.legend.position&&(b=20),"right"===p.config.legend.position&&(b=p.globals.svgWidth-f.clww-10),this.setLegendWrapXY(b,20)}},{key:"onLegendHovered",value:function(p){var f=this.w,b=p.target.classList.contains("apexcharts-legend-text")||p.target.classList.contains("apexcharts-legend-marker");if("heatmap"===f.config.chart.type||this.isBarsDistributed){if(b){var S=parseInt(p.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,S,this.w]),new li(this.ctx).highlightRangeInSeries(p,p.target)}}else!p.target.classList.contains("apexcharts-inactive-legend")&&b&&new li(this.ctx).toggleSeriesOnHover(p,p.target)}},{key:"onLegendClick",value:function(p){var f=this.w;if(!f.config.legend.customLegendItems.length&&(p.target.classList.contains("apexcharts-legend-text")||p.target.classList.contains("apexcharts-legend-marker"))){var b=parseInt(p.target.getAttribute("rel"),10)-1,S="true"===p.target.getAttribute("data:collapsed"),D=this.w.config.chart.events.legendClick;"function"==typeof D&&D(this.ctx,b,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,b,this.w]);var B=this.w.config.legend.markers.onClick;"function"==typeof B&&p.target.classList.contains("apexcharts-legend-marker")&&(B(this.ctx,b,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,b,this.w])),"treemap"!==f.config.chart.type&&"heatmap"!==f.config.chart.type&&!this.isBarsDistributed&&f.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(b,S)}}}]),Re}(),Ji=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=f.globals.minX,this.maxX=f.globals.maxX}return de(Re,[{key:"createToolbar",value:function(){var p=this,f=this.w,b=function(){return document.createElement("div")},S=b();if(S.setAttribute("class","apexcharts-toolbar"),S.style.top=f.config.chart.toolbar.offsetY+"px",S.style.right=3-f.config.chart.toolbar.offsetX+"px",f.globals.dom.elWrap.appendChild(S),this.elZoom=b(),this.elZoomIn=b(),this.elZoomOut=b(),this.elPan=b(),this.elSelection=b(),this.elZoomReset=b(),this.elMenuIcon=b(),this.elMenu=b(),this.elCustomIcons=[],this.t=f.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var D=0;D<this.t.customIcons.length;D++)this.elCustomIcons.push(b());var B=[],F=function(ue,ae,_e){var Ie=ue.toLowerCase();p.t[Ie]&&f.config.chart.zoom.enabled&&B.push({el:ae,icon:"string"==typeof p.t[Ie]?p.t[Ie]:_e,title:p.localeValues[ue],class:"apexcharts-".concat(Ie,"-icon")})};F("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),F("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var W=function(ue){p.t[ue]&&f.config.chart[ue].enabled&&B.push({el:"zoom"===ue?p.elZoom:p.elSelection,icon:"string"==typeof p.t[ue]?p.t[ue]:"zoom"===ue?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:p.localeValues["zoom"===ue?"selectionZoom":"selection"],class:f.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(ue,"-icon")})};W("zoom"),W("selection"),this.t.pan&&f.config.chart.zoom.enabled&&B.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:f.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),F("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&B.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var q=0;q<this.elCustomIcons.length;q++)B.push({el:this.elCustomIcons[q],icon:this.t.customIcons[q].icon,title:this.t.customIcons[q].title,index:this.t.customIcons[q].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[q].class});B.forEach(function(ue,ae){ue.index&&ct.moveIndexInArray(B,ae,ue.index)});for(var oe=0;oe<B.length;oe++)qt.setAttrs(B[oe].el,{class:B[oe].class,title:B[oe].title}),B[oe].el.innerHTML=B[oe].icon,S.appendChild(B[oe].el);this._createHamburgerMenu(S),f.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):f.globals.panEnabled?this.elPan.classList.add(this.selectedClass):f.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(p){this.elMenuItems=[],p.appendChild(this.elMenu),qt.setAttrs(this.elMenu,{class:"apexcharts-menu"});var f=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||f.splice(2,1);for(var b=0;b<f.length;b++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[b].innerHTML=f[b].title,qt.setAttrs(this.elMenuItems[b],{class:"apexcharts-menu-item ".concat(f[b].name),title:f[b].title}),this.elMenu.appendChild(this.elMenuItems[b])}},{key:"addToolbarEventListeners",value:function(){var p=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(b){b.classList.contains("exportSVG")?b.addEventListener("click",p.handleDownload.bind(p,"svg")):b.classList.contains("exportPNG")?b.addEventListener("click",p.handleDownload.bind(p,"png")):b.classList.contains("exportCSV")&&b.addEventListener("click",p.handleDownload.bind(p,"csv"))});for(var f=0;f<this.t.customIcons.length;f++)this.elCustomIcons[f].addEventListener("click",this.t.customIcons[f].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(p){this.ctx.getSyncedCharts().forEach(function(f){f.ctx.toolbar.toggleOtherControls();var b="selection"===p?f.ctx.toolbar.elSelection:f.ctx.toolbar.elZoom,S="selection"===p?"selectionEnabled":"zoomEnabled";f.w.globals[S]=!f.w.globals[S],b.classList.contains(f.ctx.toolbar.selectedClass)?b.classList.remove(f.ctx.toolbar.selectedClass):b.classList.add(f.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var p=this.w;this.elZoom||(this.elZoom=p.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=p.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=p.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(p){this.toggleOtherControls(),"pan"===p?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var f="pan"===p?this.elPan:this.elZoom,b="pan"===p?this.elZoom:this.elPan;f&&f.classList.add(this.selectedClass),b&&b.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(p){p.ctx.toolbar.toggleOtherControls(),p.w.globals.panEnabled=!p.w.globals.panEnabled,p.ctx.toolbar.elPan.classList.contains(p.ctx.toolbar.selectedClass)?p.ctx.toolbar.elPan.classList.remove(p.ctx.toolbar.selectedClass):p.ctx.toolbar.elPan.classList.add(p.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var p=this,f=this.w;f.globals.panEnabled=!1,f.globals.zoomEnabled=!1,f.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(b){b&&b.classList.remove(p.selectedClass)})}},{key:"handleZoomIn",value:function(){var p=this.w;p.globals.isTimelineBar&&(this.minX=p.globals.minY,this.maxX=p.globals.maxY);var f=(this.minX+this.maxX)/2,D=this._getNewMinXMaxX((this.minX+f)/2,(this.maxX+f)/2);p.globals.disableZoomIn||this.zoomUpdateOptions(D.minX,D.maxX)}},{key:"handleZoomOut",value:function(){var p=this.w;if(p.globals.isTimelineBar&&(this.minX=p.globals.minY,this.maxX=p.globals.maxY),!("datetime"===p.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var f=(this.minX+this.maxX)/2,D=this._getNewMinXMaxX(this.minX-(f-this.minX),this.maxX-(f-this.maxX));p.globals.disableZoomOut||this.zoomUpdateOptions(D.minX,D.maxX)}}},{key:"_getNewMinXMaxX",value:function(p,f){var b=this.w.config.xaxis.convertedCatToNumeric;return{minX:b?Math.floor(p):p,maxX:b?Math.floor(f):f}}},{key:"zoomUpdateOptions",value:function(p,f){var b=this.w;if(void 0!==p||void 0!==f){if(!(b.config.xaxis.convertedCatToNumeric&&(p<1&&(p=1,f=b.globals.dataPoints),f-p<2))){var S={min:p,max:f},D=this.getBeforeZoomRange(S);D&&(S=D.xaxis);var B={xaxis:S},F=ct.clone(b.globals.initialConfig.yaxis);b.config.chart.zoom.autoScaleYaxis&&(F=new dr(this.ctx).autoScaleY(this.ctx,F,{xaxis:S})),b.config.chart.group||(B.yaxis=F),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(B,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(S,F)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(p,f){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:p,yaxis:f})}},{key:"getBeforeZoomRange",value:function(p,f){var b=null;return"function"==typeof this.ev.beforeZoom&&(b=this.ev.beforeZoom(this,{xaxis:p,yaxis:f})),b}},{key:"toggleMenu",value:function(){var p=this;window.setTimeout(function(){p.elMenu.classList.contains("apexcharts-menu-open")?p.elMenu.classList.remove("apexcharts-menu-open"):p.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(p){var f=this.w,b=new qs(this.ctx);switch(p){case"svg":b.exportToSVG(this.ctx);break;case"png":b.exportToPng(this.ctx);break;case"csv":b.exportToCSV({series:f.config.series,columnDelimiter:f.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(p){this.ctx.getSyncedCharts().forEach(function(f){var b=f.w;if(b.globals.lastXAxis.min=void 0,b.globals.lastXAxis.max=void 0,f.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof b.config.chart.events.beforeResetZoom){var S=b.config.chart.events.beforeResetZoom(f,b);S&&f.updateHelpers.revertDefaultAxisMinMax(S)}"function"==typeof b.config.chart.events.zoomed&&f.ctx.toolbar.zoomCallback({min:b.config.xaxis.min,max:b.config.xaxis.max}),b.globals.zoomed=!1;var D=f.ctx.series.emptyCollapsedSeries(ct.clone(b.globals.initialSeries));f.updateHelpers._updateSeries(D,b.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Re}(),ml=function(Re){Ye(f,Ji);var p=Pt(f);function f(b){var S;return ee(this,f),(S=p.call(this,b)).ctx=b,S.w=b.w,S.dragged=!1,S.graphics=new qt(S.ctx),S.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],S.clientX=0,S.clientY=0,S.startX=0,S.endX=0,S.dragX=0,S.startY=0,S.endY=0,S.dragY=0,S.moveDirection="none",S}return de(f,[{key:"init",value:function(b){var S=this,D=b.xyRatios,B=this.w,F=this;this.xyRatios=D,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=B.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),B.globals.dom.elGraphical.add(this.zoomRect),B.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===B.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:B.globals.gridWidth,maxY:B.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===B.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:B.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=B.globals.dom.baseEl.querySelector("".concat(B.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(W){S.hoverArea.addEventListener(W,F.svgMouseEvents.bind(F,D),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(b,S){var D=this.w,B=this,F=this.ctx.toolbar,W=D.globals.zoomEnabled?D.config.chart.zoom.type:D.config.chart.selection.type,q=D.config.chart.toolbar.autoSelected;S.shiftKey?(this.shiftWasPressed=!0,F.enableZoomPanFromToolbar("pan"===q?"zoom":"pan")):this.shiftWasPressed&&(F.enableZoomPanFromToolbar(q),this.shiftWasPressed=!1);var oe=S.target.classList;if(!(oe.contains("apexcharts-selection-rect")||oe.contains("apexcharts-legend-marker")||oe.contains("apexcharts-legend-text")||S.target.parentNode.classList.contains("apexcharts-toolbar"))){if(B.clientX="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientX:"touchend"===S.type?S.changedTouches[0].clientX:S.clientX,B.clientY="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientY:"touchend"===S.type?S.changedTouches[0].clientY:S.clientY,"mousedown"===S.type&&1===S.which){var ue=B.gridRect.getBoundingClientRect();B.startX=B.clientX-ue.left,B.startY=B.clientY-ue.top,B.dragged=!1,B.w.globals.mousedown=!0}if(("mousemove"===S.type&&1===S.which||"touchmove"===S.type)&&(B.dragged=!0,D.globals.panEnabled?(D.globals.selection=null,B.w.globals.mousedown&&B.panDragging({context:B,zoomtype:W,xyRatios:b})):(B.w.globals.mousedown&&D.globals.zoomEnabled||B.w.globals.mousedown&&D.globals.selectionEnabled)&&(B.selection=B.selectionDrawing({context:B,zoomtype:W}))),"mouseup"===S.type||"touchend"===S.type||"mouseleave"===S.type){var ae=B.gridRect.getBoundingClientRect();B.w.globals.mousedown&&(B.endX=B.clientX-ae.left,B.endY=B.clientY-ae.top,B.dragX=Math.abs(B.endX-B.startX),B.dragY=Math.abs(B.endY-B.startY),(D.globals.zoomEnabled||D.globals.selectionEnabled)&&B.selectionDrawn({context:B,zoomtype:W}),D.globals.panEnabled&&D.config.xaxis.convertedCatToNumeric&&B.delayedPanScrolled()),D.globals.zoomEnabled&&B.hideSelectionRect(this.selectionRect),B.dragged=!1,B.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var b=this.w;if(this.selectionRect){var S=this.selectionRect.node.getBoundingClientRect();S.width>0&&S.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:b.globals.gridWidth,maxY:b.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var b=this.w,S=this.xyRatios;if(!b.globals.zoomEnabled)if(null!=b.globals.selection)this.drawSelectionRect(b.globals.selection);else if(void 0!==b.config.chart.selection.xaxis.min&&void 0!==b.config.chart.selection.xaxis.max){var D=(b.config.chart.selection.xaxis.min-b.globals.minX)/S.xRatio;this.drawSelectionRect({x:D,y:0,width:b.globals.gridWidth-(b.globals.maxX-b.config.chart.selection.xaxis.max)/S.xRatio-D,height:b.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof b.config.chart.events.selection&&b.config.chart.events.selection(this.ctx,{xaxis:{min:b.config.chart.selection.xaxis.min,max:b.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(b){var S=b.x,D=b.y,B=b.width,F=b.height,W=b.translateX,oe=b.translateY,ae=this.w,_e=this.zoomRect,Ie=this.selectionRect;if(this.dragged||null!==ae.globals.selection){var Pe={transform:"translate("+(void 0===W?0:W)+", "+(void 0===oe?0:oe)+")"};ae.globals.zoomEnabled&&this.dragged&&(B<0&&(B=1),_e.attr({x:S,y:D,width:B,height:F,fill:ae.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":ae.config.chart.zoom.zoomedArea.fill.opacity,stroke:ae.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":ae.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":ae.config.chart.zoom.zoomedArea.stroke.opacity}),qt.setAttrs(_e.node,Pe)),ae.globals.selectionEnabled&&(Ie.attr({x:S,y:D,width:B>0?B:0,height:F>0?F:0,fill:ae.config.chart.selection.fill.color,"fill-opacity":ae.config.chart.selection.fill.opacity,stroke:ae.config.chart.selection.stroke.color,"stroke-width":ae.config.chart.selection.stroke.width,"stroke-dasharray":ae.config.chart.selection.stroke.dashArray,"stroke-opacity":ae.config.chart.selection.stroke.opacity}),qt.setAttrs(Ie.node,Pe))}}},{key:"hideSelectionRect",value:function(b){b&&b.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(b){var Pe,D=b.zoomtype,B=this.w,F=b.context,W=this.gridRect.getBoundingClientRect(),q=F.startX-1,oe=F.startY,ue=!1,ae=!1,_e=F.clientX-W.left-q,Ie=F.clientY-W.top-oe;return Math.abs(_e+q)>B.globals.gridWidth?_e=B.globals.gridWidth-q:F.clientX-W.left<0&&(_e=q),q>F.clientX-W.left&&(ue=!0,_e=Math.abs(_e)),oe>F.clientY-W.top&&(ae=!0,Ie=Math.abs(Ie)),F.drawSelectionRect(Pe="x"===D?{x:ue?q-_e:q,y:0,width:_e,height:B.globals.gridHeight}:"y"===D?{x:0,y:ae?oe-Ie:oe,width:B.globals.gridWidth,height:Ie}:{x:ue?q-_e:q,y:ae?oe-Ie:oe,width:_e,height:Ie}),F.selectionDragging("resizing"),Pe}},{key:"selectionDragging",value:function(b,S){var D=this,B=this.w,F=this.xyRatios,W=this.selectionRect,q=0;"resizing"===b&&(q=30);var oe=function(ae){return parseFloat(W.node.getAttribute(ae))},ue={x:oe("x"),y:oe("y"),width:oe("width"),height:oe("height")};B.globals.selection=ue,"function"==typeof B.config.chart.events.selection&&B.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var ae=D.gridRect.getBoundingClientRect(),_e=W.node.getBoundingClientRect(),Ie={xaxis:{min:B.globals.xAxisScale.niceMin+(_e.left-ae.left)*F.xRatio,max:B.globals.xAxisScale.niceMin+(_e.right-ae.left)*F.xRatio},yaxis:{min:B.globals.yAxisScale[0].niceMin+(ae.bottom-_e.bottom)*F.yRatio[0],max:B.globals.yAxisScale[0].niceMax-(_e.top-ae.top)*F.yRatio[0]}};B.config.chart.events.selection(D.ctx,Ie),B.config.chart.brush.enabled&&void 0!==B.config.chart.events.brushScrolled&&B.config.chart.events.brushScrolled(D.ctx,Ie)},q))}},{key:"selectionDrawn",value:function(b){var D=b.zoomtype,B=this.w,F=b.context,W=this.xyRatios,q=this.ctx.toolbar;if(F.startX>F.endX){var oe=F.startX;F.startX=F.endX,F.endX=oe}if(F.startY>F.endY){var ue=F.startY;F.startY=F.endY,F.endY=ue}var ae=void 0,_e=void 0;B.globals.isTimelineBar?(ae=B.globals.yAxisScale[0].niceMin+F.startX*W.invertedYRatio,_e=B.globals.yAxisScale[0].niceMin+F.endX*W.invertedYRatio):(ae=B.globals.xAxisScale.niceMin+F.startX*W.xRatio,_e=B.globals.xAxisScale.niceMin+F.endX*W.xRatio);var Ie=[],Pe=[];if(B.config.yaxis.forEach(function(Je,ft){Ie.push(B.globals.yAxisScale[ft].niceMax-W.yRatio[ft]*F.startY),Pe.push(B.globals.yAxisScale[ft].niceMax-W.yRatio[ft]*F.endY)}),F.dragged&&(F.dragX>10||F.dragY>10)&&ae!==_e)if(B.globals.zoomEnabled){var Be=ct.clone(B.globals.initialConfig.yaxis),Ge=ct.clone(B.globals.initialConfig.xaxis);if(B.globals.zoomed=!0,B.config.xaxis.convertedCatToNumeric&&(ae=Math.floor(ae),_e=Math.floor(_e),ae<1&&(ae=1,_e=B.globals.dataPoints),_e-ae<2&&(_e=ae+1)),"xy"!==D&&"x"!==D||(Ge={min:ae,max:_e}),"xy"!==D&&"y"!==D||Be.forEach(function(Je,ft){Be[ft].min=Pe[ft],Be[ft].max=Ie[ft]}),B.config.chart.zoom.autoScaleYaxis){var st=new dr(F.ctx);Be=st.autoScaleY(F.ctx,Be,{xaxis:Ge})}if(q){var bt=q.getBeforeZoomRange(Ge,Be);bt&&(Ge=bt.xaxis?bt.xaxis:Ge,Be=bt.yaxis?bt.yaxis:Be)}var J={xaxis:Ge};B.config.chart.group||(J.yaxis=Be),F.ctx.updateHelpers._updateOptions(J,!1,F.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof B.config.chart.events.zoomed&&q.zoomCallback(Ge,Be)}else if(B.globals.selectionEnabled){var pe,ze=null;pe={min:ae,max:_e},"xy"!==D&&"y"!==D||(ze=ct.clone(B.config.yaxis)).forEach(function(Je,ft){ze[ft].min=Pe[ft],ze[ft].max=Ie[ft]}),B.globals.selection=F.selection,"function"==typeof B.config.chart.events.selection&&B.config.chart.events.selection(F.ctx,{xaxis:pe,yaxis:ze})}}},{key:"panDragging",value:function(b){var D=this.w,B=b.context;if(void 0!==D.globals.lastClientPosition.x){var F=D.globals.lastClientPosition.x-B.clientX,W=D.globals.lastClientPosition.y-B.clientY;Math.abs(F)>Math.abs(W)&&F>0?this.moveDirection="left":Math.abs(F)>Math.abs(W)&&F<0?this.moveDirection="right":Math.abs(W)>Math.abs(F)&&W>0?this.moveDirection="up":Math.abs(W)>Math.abs(F)&&W<0&&(this.moveDirection="down")}D.globals.lastClientPosition={x:B.clientX,y:B.clientY},D.config.xaxis.convertedCatToNumeric||B.panScrolled(D.globals.isTimelineBar?D.globals.minY:D.globals.minX,D.globals.isTimelineBar?D.globals.maxY:D.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var b=this.w,S=b.globals.minX,D=b.globals.maxX,B=(b.globals.maxX-b.globals.minX)/2;"left"===this.moveDirection?(S=b.globals.minX+B,D=b.globals.maxX+B):"right"===this.moveDirection&&(S=b.globals.minX-B,D=b.globals.maxX-B),S=Math.floor(S),D=Math.floor(D),this.updateScrolledChart({xaxis:{min:S,max:D}},S,D)}},{key:"panScrolled",value:function(b,S){var D=this.w,B=this.xyRatios,F=ct.clone(D.globals.initialConfig.yaxis),W=B.xRatio,q=D.globals.minX,oe=D.globals.maxX;D.globals.isTimelineBar&&(W=B.invertedYRatio,q=D.globals.minY,oe=D.globals.maxY),"left"===this.moveDirection?(b=q+D.globals.gridWidth/15*W,S=oe+D.globals.gridWidth/15*W):"right"===this.moveDirection&&(b=q-D.globals.gridWidth/15*W,S=oe-D.globals.gridWidth/15*W),D.globals.isTimelineBar||(b<D.globals.initialMinX||S>D.globals.initialMaxX)&&(b=q,S=oe);var ue={min:b,max:S};D.config.chart.zoom.autoScaleYaxis&&(F=new dr(this.ctx).autoScaleY(this.ctx,F,{xaxis:ue}));var ae={xaxis:{min:b,max:S}};D.config.chart.group||(ae.yaxis=F),this.updateScrolledChart(ae,b,S)}},{key:"updateScrolledChart",value:function(b,S,D){var B=this.w;this.ctx.updateHelpers._updateOptions(b,!1,!1),"function"==typeof B.config.chart.events.scrolled&&B.config.chart.events.scrolled(this.ctx,{xaxis:{min:S,max:D}})}}]),f}(),za=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p,this.ctx=p.ctx}return de(Re,[{key:"getNearestValues",value:function(p){var f=p.hoverArea,S=p.clientX,D=p.clientY,B=this.w,F=B.globals.gridWidth,q=F/(B.globals.dataPoints-1),oe=B.globals.gridHeight/B.globals.dataPoints,ue=p.elGrid.getBoundingClientRect(),ae=this.hasBars();!B.globals.comboCharts&&!ae||B.config.xaxis.convertedCatToNumeric||(q=F/B.globals.dataPoints);var _e=S-ue.left-B.globals.barPadForNumericAxis,Ie=D-ue.top;_e<0||Ie<0||_e>B.globals.gridWidth||Ie>B.globals.gridHeight?(f.classList.remove("hovering-zoom"),f.classList.remove("hovering-pan")):B.globals.zoomEnabled?(f.classList.remove("hovering-pan"),f.classList.add("hovering-zoom")):B.globals.panEnabled&&(f.classList.remove("hovering-zoom"),f.classList.add("hovering-pan"));var Pe=Math.round(_e/q),Be=Math.floor(Ie/oe);ae&&!B.config.xaxis.convertedCatToNumeric&&(Pe=Math.ceil(_e/q),Pe-=1);for(var Ge,st=null,bt=null,J=[],pe=0;pe<B.globals.seriesXvalues.length;pe++)J.push([B.globals.seriesXvalues[pe][0]-1e-6].concat(B.globals.seriesXvalues[pe]));return J=J.map(function(ze){return ze.filter(function(Je){return Je})}),Ge=B.globals.seriesYvalues.map(function(ze){return ze.filter(function(Je){return ct.isNumber(Je)})}),B.globals.isXNumeric&&(st=(bt=this.closestInMultiArray(_e,Ie,J,Ge)).index,Pe=bt.j,null!==st&&(Pe=(bt=this.closestInArray(_e,J=B.globals.seriesXvalues[st])).index)),B.globals.capturedSeriesIndex=null===st?-1:st,(!Pe||Pe<1)&&(Pe=0),B.globals.capturedDataPointIndex=Pe,{capturedSeries:st,j:B.globals.isBarHorizontal?Be:Pe,hoverX:_e,hoverY:Ie}}},{key:"closestInMultiArray",value:function(p,f,b,S){var B=0,F=null,W=-1;this.w.globals.series.length>1?B=this.getFirstActiveXArray(b):F=0;var q=S[B][0],ue=Math.abs(p-b[B][0]),ae=Math.abs(f-q),_e=ae+ue;return S.map(function(Ie,Pe){Ie.map(function(Be,Ge){var st=Math.abs(f-S[Pe][Ge]),bt=Math.abs(p-b[Pe][Ge]),J=bt+st;J<_e&&(_e=J,ue=bt,ae=st,F=Pe,W=Ge)})}),{index:F,j:W}}},{key:"getFirstActiveXArray",value:function(p){for(var f=0,b=p.map(function(D,B){return D.length>0?B:-1}),S=0;S<b.length;S++)if(-1!==b[S]){f=b[S];break}return f}},{key:"closestInArray",value:function(p,f){for(var S=null,D=Math.abs(p-f[0]),B=0;B<f.length;B++){var F=Math.abs(p-f[B]);F<D&&(D=F,S=B)}return{index:S}}},{key:"isXoverlap",value:function(p){var f=[],b=this.w.globals.seriesX.filter(function(D){return void 0!==D[0]});if(b.length>0)for(var S=0;S<b.length-1;S++)void 0!==b[S][p]&&void 0!==b[S+1][p]&&b[S][p]!==b[S+1][p]&&f.push("unEqual");return 0===f.length}},{key:"isInitialSeriesSameLen",value:function(){for(var p=!0,f=this.w.globals.initialSeries,b=0;b<f.length-1;b++)if(f[b].data.length!==f[b+1].data.length){p=!1;break}return p}},{key:"getBarsHeight",value:function(p){return sn(p).reduce(function(f,b){return f+b.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var p=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(p=sn(p)).sort(function(b,S){return Number(S.getAttribute("data:realIndex"))<Number(b.getAttribute("data:realIndex"))?0:-1});var f=[];return p.forEach(function(b){f.push(b.querySelector(".apexcharts-marker"))}),f}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(p){var f=this.w,b=f.config.markers.hover.size;return void 0===b&&(b=f.globals.markers.size[p]+f.config.markers.hover.sizeOffset),b}},{key:"toggleAllTooltipSeriesGroups",value:function(p){var f=this.w,b=this.ttCtx;0===b.allTooltipSeriesGroups.length&&(b.allTooltipSeriesGroups=f.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var S=b.allTooltipSeriesGroups,D=0;D<S.length;D++)"enable"===p?(S[D].classList.add("apexcharts-active"),S[D].style.display=f.config.tooltip.items.display):(S[D].classList.remove("apexcharts-active"),S[D].style.display="none")}}]),Re}(),Da=function(){function Re(p){ee(this,Re),this.w=p.w,this.ctx=p.ctx,this.ttCtx=p,this.tooltipUtil=new za(p)}return de(Re,[{key:"drawSeriesTexts",value:function(p){var f=p.shared,b=void 0===f||f,S=p.ttItems,D=p.i,B=void 0===D?0:D,F=p.j,W=void 0===F?null:F,ue=p.e,ae=this.w;void 0!==ae.config.tooltip.custom?this.handleCustomTooltip({i:B,j:W,y1:p.y1,y2:p.y2,w:ae}):this.toggleActiveInactiveSeries(b);var _e=this.getValuesToPrint({i:B,j:W});this.printLabels({i:B,j:W,values:_e,ttItems:S,shared:b,e:ue});var Ie=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Ie.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Ie.getBoundingClientRect().height}},{key:"printLabels",value:function(p){var f,b=this,S=p.i,D=p.j,B=p.values,F=p.ttItems,W=p.shared,q=p.e,oe=this.w,ue=[],ae=function(pe){return oe.globals.seriesGoals[pe]&&oe.globals.seriesGoals[pe][D]&&Array.isArray(oe.globals.seriesGoals[pe][D])},_e=B.xVal,Ie=B.zVal,Pe=B.xAxisTTVal,Be="",Ge=oe.globals.colors[S];null!==D&&oe.config.plotOptions.bar.distributed&&(Ge=oe.globals.colors[D]);for(var st=function(pe,ze){var Je=b.getFormatters(S);Be=b.getSeriesName({fn:Je.yLbTitleFormatter,index:S,seriesIndex:S,j:D}),"treemap"===oe.config.chart.type&&(Be=Je.yLbTitleFormatter(String(oe.config.series[S].data[D].x),{series:oe.globals.series,seriesIndex:S,dataPointIndex:D,w:oe}));var ft=oe.config.tooltip.inverseOrder?ze:pe;if(oe.globals.axisCharts){var ln=function($t){return Je.yLbFormatter(oe.globals.series[$t][D],{series:oe.globals.series,seriesIndex:$t,dataPointIndex:D,w:oe})};W?(Je=b.getFormatters(ft),Be=b.getSeriesName({fn:Je.yLbTitleFormatter,index:ft,seriesIndex:S,j:D}),Ge=oe.globals.colors[ft],f=ln(ft),ae(ft)&&(ue=oe.globals.seriesGoals[ft][D].map(function($t){return{attrs:$t,val:Je.yLbFormatter($t.value,{seriesIndex:ft,dataPointIndex:D,w:oe})}}))):(q&&q.target&&q.target.getAttribute("fill")&&(Ge=q.target.getAttribute("fill")),f=ln(S),ae(S)&&Array.isArray(oe.globals.seriesGoals[S][D])&&(ue=oe.globals.seriesGoals[S][D].map(function($t){return{attrs:$t,val:Je.yLbFormatter($t.value,{seriesIndex:S,dataPointIndex:D,w:oe})}})))}null===D&&(f=Je.yLbFormatter(oe.globals.series[S],Te(Te({},oe),{},{seriesIndex:S,dataPointIndex:S}))),b.DOMHandling({i:S,t:ft,j:D,ttItems:F,values:{val:f,goalVals:ue,xVal:_e,xAxisTTVal:Pe,zVal:Ie},seriesName:Be,shared:W,pColor:Ge})},bt=0,J=oe.globals.series.length-1;bt<oe.globals.series.length;bt++,J--)st(bt,J)}},{key:"getFormatters",value:function(p){var f,b=this.w,S=b.globals.yLabelFormatters[p];return void 0!==b.globals.ttVal?Array.isArray(b.globals.ttVal)?(S=b.globals.ttVal[p]&&b.globals.ttVal[p].formatter,f=b.globals.ttVal[p]&&b.globals.ttVal[p].title&&b.globals.ttVal[p].title.formatter):(S=b.globals.ttVal.formatter,"function"==typeof b.globals.ttVal.title.formatter&&(f=b.globals.ttVal.title.formatter)):f=b.config.tooltip.y.title.formatter,"function"!=typeof S&&(S=b.globals.yLabelFormatters[0]?b.globals.yLabelFormatters[0]:function(D){return D}),"function"!=typeof f&&(f=function(D){return D}),{yLbFormatter:S,yLbTitleFormatter:f}}},{key:"getSeriesName",value:function(p){var S=p.seriesIndex,D=p.j,B=this.w;return(0,p.fn)(String(B.globals.seriesNames[p.index]),{series:B.globals.series,seriesIndex:S,dataPointIndex:D,w:B})}},{key:"DOMHandling",value:function(p){var f=p.t,b=p.j,S=p.ttItems,D=p.values,B=p.seriesName,F=p.shared,W=p.pColor,q=this.w,oe=this.ttCtx;Object.keys(D).forEach(function(ze){"string"==typeof D[ze]&&(D[ze]=ct.sanitizeDom(D[ze]))});var ue=D.val,ae=D.goalVals,_e=D.xVal,Ie=D.xAxisTTVal,Pe=D.zVal,Be=null;Be=S[f].children,q.config.tooltip.fillSeriesColor&&(S[f].style.backgroundColor=W,Be[0].style.display="none"),oe.showTooltipTitle&&(null===oe.tooltipTitle&&(oe.tooltipTitle=q.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),oe.tooltipTitle.innerHTML=_e),oe.blxaxisTooltip&&(oe.xaxisTooltipText.innerHTML=""!==Ie?Ie:_e);var Ge=S[f].querySelector(".apexcharts-tooltip-text-y-label");Ge&&(Ge.innerHTML=B?ct.sanitizeDom(B):"");var st=S[f].querySelector(".apexcharts-tooltip-text-y-value");st&&(st.innerHTML=void 0!==ue?ue:""),Be[0]&&Be[0].classList.contains("apexcharts-tooltip-marker")&&(q.config.tooltip.marker.fillColors&&Array.isArray(q.config.tooltip.marker.fillColors)&&(W=q.config.tooltip.marker.fillColors[f]),Be[0].style.backgroundColor=W),q.config.tooltip.marker.show||(Be[0].style.display="none");var bt=S[f].querySelector(".apexcharts-tooltip-text-goals-label"),J=S[f].querySelector(".apexcharts-tooltip-text-goals-value");if(ae.length&&q.globals.seriesGoals[f]){var pe=function(){var ze="<div >",Je="<div>";ae.forEach(function(ft,ln){ze+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ft.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ft.attrs.name,"</div>"),Je+="<div>".concat(ft.val,"</div>")}),bt.innerHTML=ze+"</div>",J.innerHTML=Je+"</div>"};F?q.globals.seriesGoals[f][b]&&Array.isArray(q.globals.seriesGoals[f][b])?pe():(bt.innerHTML="",J.innerHTML=""):pe()}else bt.innerHTML="",J.innerHTML="";null!==Pe&&(S[f].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=q.config.tooltip.z.title,S[f].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Pe?Pe:""),F&&Be[0]&&(Be[0].parentNode.style.display=null==ue||q.globals.collapsedSeriesIndices.indexOf(f)>-1?"none":q.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(p){var f=this.w;if(p)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var b=f.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");b&&(b.classList.add("apexcharts-active"),b.style.display=f.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(p){var f=p.i,b=p.j,S=this.w,D=this.ctx.series.filteredSeriesX(),B="",F="",W=null,q=null,oe={series:S.globals.series,seriesIndex:f,dataPointIndex:b,w:S},ue=S.globals.ttZFormatter;null===b?q=S.globals.series[f]:S.globals.isXNumeric&&"treemap"!==S.config.chart.type?(B=D[f][b],0===D[f].length&&(B=D[this.tooltipUtil.getFirstActiveXArray(D)][b])):B=void 0!==S.globals.labels[b]?S.globals.labels[b]:"";var ae=B;return B=S.globals.isXNumeric&&"datetime"===S.config.xaxis.type?new So(this.ctx).xLabelFormat(S.globals.ttKeyFormatter,ae,ae,{i:void 0,dateFormatter:new fi(this.ctx).formatDate,w:this.w}):S.globals.isBarHorizontal?S.globals.yLabelFormatters[0](ae,oe):S.globals.xLabelFormatter(ae,oe),void 0!==S.config.tooltip.x.formatter&&(B=S.globals.ttKeyFormatter(ae,oe)),S.globals.seriesZ.length>0&&S.globals.seriesZ[f].length>0&&(W=ue(S.globals.seriesZ[f][b],S)),F="function"==typeof S.config.xaxis.tooltip.formatter?S.globals.xaxisTooltipFormatter(ae,oe):B,{val:Array.isArray(q)?q.join(" "):q,xVal:Array.isArray(B)?B.join(" "):B,xAxisTTVal:Array.isArray(F)?F.join(" "):F,zVal:W}}},{key:"handleCustomTooltip",value:function(p){var f=p.i,b=p.j,S=p.y1,D=p.y2,B=p.w,F=this.ttCtx.getElTooltip(),W=B.config.tooltip.custom;Array.isArray(W)&&W[f]&&(W=W[f]),F.innerHTML=W({ctx:this.ctx,series:B.globals.series,seriesIndex:f,dataPointIndex:b,y1:S,y2:D,w:B})}}]),Re}(),Cs=function(){function Re(p){ee(this,Re),this.ttCtx=p,this.ctx=p.ctx,this.w=p.w}return de(Re,[{key:"moveXCrosshairs",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.ttCtx,S=this.w,D=b.getElXCrosshairs(),B=p-b.xcrosshairsWidth/2,F=S.globals.labels.slice().length;if(null!==f&&(B=S.globals.gridWidth/F*f),null!==D&&(D.setAttribute("x",B),D.setAttribute("x1",B),D.setAttribute("x2",B),D.setAttribute("y2",S.globals.gridHeight),D.classList.add("apexcharts-active")),B<0&&(B=0),B>S.globals.gridWidth&&(B=S.globals.gridWidth),b.blxaxisTooltip){var W=B;"tickWidth"!==S.config.xaxis.crosshairs.width&&"barWidth"!==S.config.xaxis.crosshairs.width||(W=B+b.xcrosshairsWidth/2),this.moveXAxisTooltip(W)}}},{key:"moveYCrosshairs",value:function(p){var f=this.ttCtx;null!==f.ycrosshairs&&qt.setAttrs(f.ycrosshairs,{y1:p,y2:p}),null!==f.ycrosshairsHidden&&qt.setAttrs(f.ycrosshairsHidden,{y1:p,y2:p})}},{key:"moveXAxisTooltip",value:function(p){var f=this.w,b=this.ttCtx;if(null!==b.xaxisTooltip){b.xaxisTooltip.classList.add("apexcharts-active");var D,S=b.xaxisOffY+f.config.xaxis.tooltip.offsetY+f.globals.translateY+1+f.config.xaxis.offsetY;p-=b.xaxisTooltip.getBoundingClientRect().width/2,isNaN(p)||(p+=f.globals.translateX,D=new qt(this.ctx).getTextRects(b.xaxisTooltipText.innerHTML),b.xaxisTooltipText.style.minWidth=D.width+"px",b.xaxisTooltip.style.left=p+"px",b.xaxisTooltip.style.top=S+"px")}}},{key:"moveYAxisTooltip",value:function(p){var f=this.w,b=this.ttCtx;null===b.yaxisTTEls&&(b.yaxisTTEls=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var S=parseInt(b.ycrosshairsHidden.getAttribute("y1"),10),D=f.globals.translateY+S,B=b.yaxisTTEls[p].getBoundingClientRect().height,F=f.globals.translateYAxisX[p]-2;f.config.yaxis[p].opposite&&(F-=26),D-=B/2,-1===f.globals.ignoreYAxisIndexes.indexOf(p)?(b.yaxisTTEls[p].classList.add("apexcharts-active"),b.yaxisTTEls[p].style.top=D+"px",b.yaxisTTEls[p].style.left=F+f.config.yaxis[p].tooltip.offsetX+"px"):b.yaxisTTEls[p].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=this.ttCtx,B=D.getElTooltip(),F=D.tooltipRect,W=null!==b?parseFloat(b):1,q=parseFloat(p)+W+5,oe=parseFloat(f)+W/2;if(q>S.globals.gridWidth/2&&(q=q-F.ttWidth-W-15),q>S.globals.gridWidth-F.ttWidth-10&&(q=S.globals.gridWidth-F.ttWidth),q<-20&&(q=-20),S.config.tooltip.followCursor){var ue=D.getElGrid(),ae=ue.getBoundingClientRect();oe=D.e.clientY+S.globals.translateY-ae.top-F.ttHeight/2}else S.globals.isBarHorizontal?oe-=F.ttHeight:(F.ttHeight/2+oe>S.globals.gridHeight&&(oe=S.globals.gridHeight-F.ttHeight+S.globals.translateY),oe<0&&(oe=0));isNaN(q)||(B.style.left=(q+=S.globals.translateX)+"px",B.style.top=oe+"px")}},{key:"moveMarkers",value:function(p,f){var b=this.w,S=this.ttCtx;if(b.globals.markers.size[p]>0)for(var D=b.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(p,"'] .apexcharts-marker")),B=0;B<D.length;B++)parseInt(D[B].getAttribute("rel"),10)===f&&(S.marker.resetPointsSize(),S.marker.enlargeCurrentPoint(f,D[B]));else S.marker.resetPointsSize(),this.moveDynamicPointOnHover(f,p)}},{key:"moveDynamicPointOnHover",value:function(p,f){var b,S,D=this.w,B=this.ttCtx,F=D.globals.pointsArray,W=B.tooltipUtil.getHoverMarkerSize(f),q=D.config.series[f].type;if(!q||"column"!==q&&"candlestick"!==q&&"boxPlot"!==q){b=F[f][p][0],S=F[f][p][1]?F[f][p][1]:0;var oe=D.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(f,"'] .apexcharts-series-markers circle"));oe&&S<D.globals.gridHeight&&S>0&&(oe.setAttribute("r",W),oe.setAttribute("cx",b),oe.setAttribute("cy",S)),this.moveXCrosshairs(b),B.fixedTooltip||this.moveTooltip(b,S,W)}}},{key:"moveDynamicPointsOnHover",value:function(p){var f,b=this.ttCtx,S=b.w,D=0,B=0,F=S.globals.pointsArray;f=new li(this.ctx).getActiveConfigSeriesIndex(!0);var W=b.tooltipUtil.getHoverMarkerSize(f);F[f]&&(D=F[f][p][0],B=F[f][p][1]);var q=b.tooltipUtil.getAllMarkers();if(null!==q)for(var oe=0;oe<S.globals.series.length;oe++){var ue=F[oe];if(S.globals.comboCharts&&void 0===ue&&q.splice(oe,0,null),ue&&ue.length){var ae=F[oe][p][1];q[oe].setAttribute("cx",D),null!==ae&&!isNaN(ae)&&ae<S.globals.gridHeight&&ae>0?(q[oe]&&q[oe].setAttribute("r",W),q[oe]&&q[oe].setAttribute("cy",ae)):q[oe]&&q[oe].setAttribute("r",0)}}this.moveXCrosshairs(D),b.fixedTooltip||this.moveTooltip(D,B||S.globals.gridHeight,W)}},{key:"moveStickyTooltipOverBars",value:function(p){var f=this.w,b=this.ttCtx,S=f.globals.columnSeries?f.globals.columnSeries.length:f.globals.series.length,D=S>=2&&S%2==0?Math.floor(S/2):Math.floor(S/2)+1;f.globals.isBarHorizontal&&(D=new li(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var B=f.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(D,"'] path[j='").concat(p,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"']")),F=B?parseFloat(B.getAttribute("cx")):0,W=B?parseFloat(B.getAttribute("cy")):0,q=B?parseFloat(B.getAttribute("barWidth")):0,oe=B?parseFloat(B.getAttribute("barHeight")):0,ue=b.getElGrid().getBoundingClientRect();f.globals.isXNumeric?(F-=S%2!=0?q/2:0,B&&(B.classList.contains("apexcharts-candlestick-area")||B.classList.contains("apexcharts-boxPlot-area"))&&f.globals.comboCharts&&(F-=q/2)):f.globals.isBarHorizontal||(F=b.xAxisTicksPositions[p-1]+b.dataPointsDividedWidth/2,isNaN(F)&&(F=b.xAxisTicksPositions[p]-b.dataPointsDividedWidth/2)),f.globals.isBarHorizontal?W+=oe/3:W=b.e.clientY-ue.top-b.tooltipRect.ttHeight/2,f.globals.isBarHorizontal||this.moveXCrosshairs(F),b.fixedTooltip||this.moveTooltip(F,W||f.globals.gridHeight)}}]),Re}(),Ho=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p,this.ctx=p.ctx,this.tooltipPosition=new Cs(p)}return de(Re,[{key:"drawDynamicPoints",value:function(){var p=this.w,f=new qt(this.ctx),b=new Tn(this.ctx),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series");S=sn(S),p.config.chart.stacked&&S.sort(function(ue,ae){return parseFloat(ue.getAttribute("data:realIndex"))-parseFloat(ae.getAttribute("data:realIndex"))});for(var D=0;D<S.length;D++){var B=S[D].querySelector(".apexcharts-series-markers-wrap");if(null!==B){var F=void 0,W="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==p.config.chart.type&&"area"!==p.config.chart.type||p.globals.comboCharts||p.config.tooltip.intersect||(W+=" no-pointer-events");var q=b.getMarkerConfig(W,D);(F=f.drawMarker(0,0,q)).node.setAttribute("default-marker-size",0);var oe=document.createElementNS(p.globals.SVGNS,"g");oe.classList.add("apexcharts-series-markers"),oe.appendChild(F.node),B.appendChild(oe)}}}},{key:"enlargeCurrentPoint",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,D=this.w;"bubble"!==D.config.chart.type&&this.newPointSize(p,f);var B=f.getAttribute("cx"),F=f.getAttribute("cy");if(null!==b&&null!==S&&(B=b,F=S),this.tooltipPosition.moveXCrosshairs(B),!this.fixedTooltip){if("radar"===D.config.chart.type){var W=this.ttCtx.getElGrid(),q=W.getBoundingClientRect();B=this.ttCtx.e.clientX-q.left}this.tooltipPosition.moveTooltip(B,F,D.config.markers.hover.size)}}},{key:"enlargePoints",value:function(p){for(var f=this.w,b=this,S=this.ttCtx,D=p,B=f.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),F=f.config.markers.hover.size,W=0;W<B.length;W++){var q=B[W].getAttribute("rel"),oe=B[W].getAttribute("index");if(void 0===F&&(F=f.globals.markers.size[oe]+f.config.markers.hover.sizeOffset),D===parseInt(q,10)){b.newPointSize(D,B[W]);var ue=B[W].getAttribute("cx"),ae=B[W].getAttribute("cy");b.tooltipPosition.moveXCrosshairs(ue),S.fixedTooltip||b.tooltipPosition.moveTooltip(ue,ae,F)}else b.oldPointSize(B[W])}}},{key:"newPointSize",value:function(p,f){var b=this.w,S=b.config.markers.hover.size,D=0===p?f.parentNode.firstChild:f.parentNode.lastChild;if("0"!==D.getAttribute("default-marker-size")){var B=parseInt(D.getAttribute("index"),10);void 0===S&&(S=b.globals.markers.size[B]+b.config.markers.hover.sizeOffset),S<0&&(S=0),D.setAttribute("r",S)}}},{key:"oldPointSize",value:function(p){var f=parseFloat(p.getAttribute("default-marker-size"));p.setAttribute("r",f)}},{key:"resetPointsSize",value:function(){for(var p=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=0;f<p.length;f++){var b=parseFloat(p[f].getAttribute("default-marker-size"));ct.isNumber(b)&&b>=0?p[f].setAttribute("r",b):p[f].setAttribute("r",0)}}}]),Re}(),Vo=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p}return de(Re,[{key:"getAttr",value:function(p,f){return parseFloat(p.target.getAttribute(f))}},{key:"handleHeatTreeTooltip",value:function(p){var f=p.e,b=p.opt,S=p.x,D=p.y,F=this.ttCtx,W=this.w;if(f.target.classList.contains("apexcharts-".concat(p.type,"-rect"))){var q=this.getAttr(f,"i"),oe=this.getAttr(f,"j"),ue=this.getAttr(f,"cx"),ae=this.getAttr(f,"cy"),_e=this.getAttr(f,"width"),Ie=this.getAttr(f,"height");if(F.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:q,j:oe,shared:!1,e:f}),W.globals.capturedSeriesIndex=q,W.globals.capturedDataPointIndex=oe,S=ue+F.tooltipRect.ttWidth/2+_e,D=ae+F.tooltipRect.ttHeight/2-Ie/2,F.tooltipPosition.moveXCrosshairs(ue+_e/2),S>W.globals.gridWidth/2&&(S=ue-F.tooltipRect.ttWidth/2+_e),F.w.config.tooltip.followCursor){var Pe=W.globals.dom.elWrap.getBoundingClientRect();S=W.globals.clientX-Pe.left-F.tooltipRect.ttWidth/2,D=W.globals.clientY-Pe.top-F.tooltipRect.ttHeight-5}}return{x:S,y:D}}},{key:"handleMarkerTooltip",value:function(p){var f,b,S=p.e,D=p.opt,B=p.x,F=p.y,W=this.w,q=this.ttCtx;if(S.target.classList.contains("apexcharts-marker")){var oe=parseInt(D.paths.getAttribute("cx"),10),ue=parseInt(D.paths.getAttribute("cy"),10),ae=parseFloat(D.paths.getAttribute("val"));if(b=parseInt(D.paths.getAttribute("rel"),10),f=parseInt(D.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,q.intersect){var _e=ct.findAncestor(D.paths,"apexcharts-series");_e&&(f=parseInt(_e.getAttribute("data:realIndex"),10))}if(q.tooltipLabels.drawSeriesTexts({ttItems:D.ttItems,i:f,j:b,shared:!q.showOnIntersect&&W.config.tooltip.shared,e:S}),"mouseup"===S.type&&q.markerClick(S,f,b),W.globals.capturedSeriesIndex=f,W.globals.capturedDataPointIndex=b,B=oe,F=ue+W.globals.translateY-1.4*q.tooltipRect.ttHeight,q.w.config.tooltip.followCursor){var Ie=q.getElGrid().getBoundingClientRect();F=q.e.clientY+W.globals.translateY-Ie.top}ae<0&&(F=ue),q.marker.enlargeCurrentPoint(b,D.paths,B,F)}return{x:B,y:F}}},{key:"handleBarTooltip",value:function(p){var f,b,S=p.e,D=p.opt,B=this.w,F=this.ttCtx,W=F.getElTooltip(),q=0,oe=0,ue=0,ae=this.getBarTooltipXY({e:S,opt:D}),_e=ae.barHeight,Ie=ae.j;B.globals.capturedSeriesIndex=f=ae.i,B.globals.capturedDataPointIndex=Ie,B.globals.isBarHorizontal&&F.tooltipUtil.hasBars()||!B.config.tooltip.shared?(oe=ae.x,ue=ae.y,b=Array.isArray(B.config.stroke.width)?B.config.stroke.width[f]:B.config.stroke.width,q=oe):B.globals.comboCharts||B.config.tooltip.shared||(q/=2),isNaN(ue)?ue=B.globals.svgHeight-F.tooltipRect.ttHeight:ue<0&&(ue=0);var Pe=parseInt(D.paths.parentNode.getAttribute("data:realIndex"),10),Be=B.globals.isMultipleYAxis?B.config.yaxis[Pe]&&B.config.yaxis[Pe].reversed:B.config.yaxis[0].reversed;if(oe+F.tooltipRect.ttWidth>B.globals.gridWidth&&!Be?oe-=F.tooltipRect.ttWidth:oe<0&&(oe=0),F.w.config.tooltip.followCursor){var Ge=F.getElGrid().getBoundingClientRect();ue=F.e.clientY-Ge.top}null===F.tooltip&&(F.tooltip=B.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),B.config.tooltip.shared||F.tooltipPosition.moveXCrosshairs(B.globals.comboBarCount>0?q+b/2:q),!F.fixedTooltip&&(!B.config.tooltip.shared||B.globals.isBarHorizontal&&F.tooltipUtil.hasBars())&&(Be&&(oe-=F.tooltipRect.ttWidth)<0&&(oe=0),W.style.left=oe+B.globals.translateX+"px",!Be||B.globals.isBarHorizontal&&F.tooltipUtil.hasBars()||(ue=ue+_e-2*(B.globals.series[f][Ie]<0?_e:0)),W.style.top=F.tooltipRect.ttHeight+ue>B.globals.gridHeight?(ue=B.globals.gridHeight-F.tooltipRect.ttHeight+B.globals.translateY)+"px":ue+B.globals.translateY-F.tooltipRect.ttHeight/2+"px")}},{key:"getBarTooltipXY",value:function(p){var f=p.e,b=p.opt,S=this.w,D=null,B=this.ttCtx,F=0,W=0,q=0,oe=0,ue=0,ae=f.target.classList;if(ae.contains("apexcharts-bar-area")||ae.contains("apexcharts-candlestick-area")||ae.contains("apexcharts-boxPlot-area")||ae.contains("apexcharts-rangebar-area")){var _e=f.target,Ie=_e.getBoundingClientRect(),Pe=b.elGrid.getBoundingClientRect(),Be=Ie.height;ue=Ie.height;var Ge=Ie.width,st=parseInt(_e.getAttribute("cx"),10),bt=parseInt(_e.getAttribute("cy"),10);oe=parseFloat(_e.getAttribute("barWidth"));var J="touchmove"===f.type?f.touches[0].clientX:f.clientX;D=parseInt(_e.getAttribute("j"),10),F=parseInt(_e.parentNode.getAttribute("rel"),10)-1;var pe=_e.getAttribute("data-range-y1"),ze=_e.getAttribute("data-range-y2");S.globals.comboCharts&&(F=parseInt(_e.parentNode.getAttribute("data:realIndex"),10)),B.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:F,j:D,y1:pe?parseInt(pe,10):null,y2:ze?parseInt(ze,10):null,shared:!B.showOnIntersect&&S.config.tooltip.shared,e:f}),S.config.tooltip.followCursor?S.globals.isBarHorizontal?(W=J-Pe.left+15,q=bt-B.dataPointsDividedHeight+Be/2-B.tooltipRect.ttHeight/2):(W=S.globals.isXNumeric?st-Ge/2:st-B.dataPointsDividedWidth+Ge/2,q=f.clientY-Pe.top-B.tooltipRect.ttHeight/2-15):S.globals.isBarHorizontal?((W=st)<B.xyRatios.baseLineInvertedY&&(W=st-B.tooltipRect.ttWidth),q=bt-B.dataPointsDividedHeight+Be/2-B.tooltipRect.ttHeight/2):(W=S.globals.isXNumeric?st-Ge/2:st-B.dataPointsDividedWidth+Ge/2,q=bt)}return{x:W,y:q,barHeight:ue,barWidth:oe,i:F,j:D}}}]),Re}(),Ft=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p}return de(Re,[{key:"drawXaxisTooltip",value:function(){var p=this.w,f=this.ttCtx,b="bottom"===p.config.xaxis.position;f.xaxisOffY=b?p.globals.gridHeight+1:-p.globals.xAxisHeight-p.config.xaxis.axisTicks.height+3;var S=b?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",D=p.globals.dom.elWrap;f.blxaxisTooltip&&null===p.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(f.xaxisTooltip=document.createElement("div"),f.xaxisTooltip.setAttribute("class",S+" apexcharts-theme-"+p.config.tooltip.theme),D.appendChild(f.xaxisTooltip),f.xaxisTooltipText=document.createElement("div"),f.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),f.xaxisTooltipText.style.fontFamily=p.config.xaxis.tooltip.style.fontFamily||p.config.chart.fontFamily,f.xaxisTooltipText.style.fontSize=p.config.xaxis.tooltip.style.fontSize,f.xaxisTooltip.appendChild(f.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var p=this.w,f=this.ttCtx,b=function(D){var B=p.config.yaxis[D].opposite||p.config.yaxis[D].crosshairs.opposite;f.yaxisOffX=B?p.globals.gridWidth+1:1;var F="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(D,B?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");p.globals.yAxisSameScaleIndices.map(function(q,oe){q.map(function(ue,ae){ae===D&&(F+=p.config.yaxis[ae].show?" ":" apexcharts-yaxistooltip-hidden")})});var W=p.globals.dom.elWrap;null===p.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(D))&&(f.yaxisTooltip=document.createElement("div"),f.yaxisTooltip.setAttribute("class",F+" apexcharts-theme-"+p.config.tooltip.theme),W.appendChild(f.yaxisTooltip),0===D&&(f.yaxisTooltipText=[]),f.yaxisTooltipText[D]=document.createElement("div"),f.yaxisTooltipText[D].classList.add("apexcharts-yaxistooltip-text"),f.yaxisTooltip.appendChild(f.yaxisTooltipText[D]))},S=0;S<p.config.yaxis.length;S++)b(S)}},{key:"setXCrosshairWidth",value:function(){var p=this.w,f=this.ttCtx,b=f.getElXCrosshairs();if(f.xcrosshairsWidth=parseInt(p.config.xaxis.crosshairs.width,10),p.globals.comboCharts){var S=p.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==S&&"barWidth"===p.config.xaxis.crosshairs.width){var D=parseFloat(S.getAttribute("barWidth"));f.xcrosshairsWidth=D}else"tickWidth"===p.config.xaxis.crosshairs.width&&(f.xcrosshairsWidth=p.globals.gridWidth/p.globals.labels.length)}else if("tickWidth"===p.config.xaxis.crosshairs.width)f.xcrosshairsWidth=p.globals.gridWidth/p.globals.labels.length;else if("barWidth"===p.config.xaxis.crosshairs.width){var W=p.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==W){var q=parseFloat(W.getAttribute("barWidth"));f.xcrosshairsWidth=q}else f.xcrosshairsWidth=1}p.globals.isBarHorizontal&&(f.xcrosshairsWidth=0),null!==b&&f.xcrosshairsWidth>0&&b.setAttribute("width",f.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var p=this.w,f=this.ttCtx;f.ycrosshairs=p.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),f.ycrosshairsHidden=p.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(p,f,b){var S=this.ttCtx,D=this.w,B=D.globals.yLabelFormatters[p];if(S.yaxisTooltips[p]){var F=S.getElGrid().getBoundingClientRect(),oe=D.globals.minYArr[p]+(D.globals.maxYArr[p]-D.globals.minYArr[p]-(f-F.top)*b.yRatio[p]);S.tooltipPosition.moveYCrosshairs(f-F.top),S.yaxisTooltipText[p].innerHTML=B(oe),S.tooltipPosition.moveYAxisTooltip(p)}}}]),Re}(),Rt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.tConfig=f.config.tooltip,this.tooltipUtil=new za(this),this.tooltipLabels=new Da(this),this.tooltipPosition=new Cs(this),this.marker=new Ho(this),this.intersect=new Vo(this),this.axesTooltip=new Ft(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!f.globals.isBarHorizontal&&this.tConfig.shared}return de(Re,[{key:"getElTooltip",value:function(p){return p||(p=this),p.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(p){var f=this.w;this.xyRatios=p,this.blxaxisTooltip=f.config.xaxis.tooltip.enabled&&f.globals.axisCharts,this.yaxisTooltips=f.config.yaxis.map(function(B,F){return!!(B.show&&B.tooltip.enabled&&f.globals.axisCharts)}),this.allTooltipSeriesGroups=[],f.globals.axisCharts||(this.showTooltipTitle=!1);var b=document.createElement("div");if(b.classList.add("apexcharts-tooltip"),b.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),f.globals.dom.elWrap.appendChild(b),f.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var S=new Ks(this.ctx);this.xAxisTicksPositions=S.getXAxisTicksPositions()}if(!f.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==f.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==f.config.markers.size&&0!==f.globals.markers.largestSize||this.marker.drawDynamicPoints(this),f.globals.collapsedSeries.length!==f.globals.series.length){this.dataPointsDividedHeight=f.globals.gridHeight/f.globals.dataPoints,this.dataPointsDividedWidth=f.globals.gridWidth/f.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||f.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,b.appendChild(this.tooltipTitle));var D=f.globals.series.length;(f.globals.xyCharts||f.globals.comboCharts)&&this.tConfig.shared&&(D=this.showOnIntersect?1:f.globals.series.length),this.legendLabels=f.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(D),this.addSVGEvents()}}},{key:"createTTElements",value:function(p){for(var f=this,b=this.w,S=[],D=this.getElTooltip(),B=function(W){var q=document.createElement("div");q.classList.add("apexcharts-tooltip-series-group"),q.style.order=b.config.tooltip.inverseOrder?p-W:W+1,f.tConfig.shared&&f.tConfig.enabledOnSeries&&Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(W)<0&&q.classList.add("apexcharts-tooltip-series-group-hidden");var oe=document.createElement("span");oe.classList.add("apexcharts-tooltip-marker"),oe.style.backgroundColor=b.globals.colors[W],q.appendChild(oe);var ue=document.createElement("div");ue.classList.add("apexcharts-tooltip-text"),ue.style.fontFamily=f.tConfig.style.fontFamily||b.config.chart.fontFamily,ue.style.fontSize=f.tConfig.style.fontSize,["y","goals","z"].forEach(function(ae){var _e=document.createElement("div");_e.classList.add("apexcharts-tooltip-".concat(ae,"-group"));var Ie=document.createElement("span");Ie.classList.add("apexcharts-tooltip-text-".concat(ae,"-label")),_e.appendChild(Ie);var Pe=document.createElement("span");Pe.classList.add("apexcharts-tooltip-text-".concat(ae,"-value")),_e.appendChild(Pe),ue.appendChild(_e)}),q.appendChild(ue),D.appendChild(q),S.push(q)},F=0;F<p;F++)B(F);return S}},{key:"addSVGEvents",value:function(){var p=this.w,f=p.config.chart.type,b=this.getElTooltip(),S=!("bar"!==f&&"candlestick"!==f&&"boxPlot"!==f&&"rangeBar"!==f),D="area"===f||"line"===f||"scatter"===f||"bubble"===f||"radar"===f,B=p.globals.dom.Paper.node,F=this.getElGrid();F&&(this.seriesBound=F.getBoundingClientRect());var W,q=[],oe=[],ue={hoverArea:B,elGrid:F,tooltipEl:b,tooltipY:q,tooltipX:oe,ttItems:this.ttItems};if(p.globals.axisCharts&&(D?W=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):S?W=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==f&&"treemap"!==f||(W=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),W&&W.length))for(var ae=0;ae<W.length;ae++)q.push(W[ae].getAttribute("cy")),oe.push(W[ae].getAttribute("cx"));if(p.globals.xyCharts&&!this.showOnIntersect||p.globals.comboCharts&&!this.showOnIntersect||S&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([B],ue);else if(S&&!p.globals.comboCharts||D&&this.showOnIntersect)this.addDatapointEventsListeners(ue);else if(!p.globals.axisCharts||"heatmap"===f||"treemap"===f){var _e=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(_e,ue)}if(this.showOnIntersect){var Ie=p.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Ie.length>0&&this.addPathsEventListeners(Ie,ue),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(ue)}}},{key:"drawFixedTooltipRect",value:function(){var p=this.w,f=this.getElTooltip(),b=f.getBoundingClientRect(),S=b.width+10,D=b.height+10,B=this.tConfig.fixed.offsetX,F=this.tConfig.fixed.offsetY,W=this.tConfig.fixed.position.toLowerCase();return W.indexOf("right")>-1&&(B=B+p.globals.svgWidth-S+10),W.indexOf("bottom")>-1&&(F=F+p.globals.svgHeight-D-10),f.style.left=B+"px",f.style.top=F+"px",{x:B,y:F,ttWidth:S,ttHeight:D}}},{key:"addDatapointEventsListeners",value:function(p){var f=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(f,p)}},{key:"addPathsEventListeners",value:function(p,f){for(var b=this,S=function(B){var F={paths:p[B],tooltipEl:f.tooltipEl,tooltipY:f.tooltipY,tooltipX:f.tooltipX,elGrid:f.elGrid,hoverArea:f.hoverArea,ttItems:f.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(W){return p[B].addEventListener(W,b.seriesHover.bind(b,F),{capture:!1,passive:!0})})},D=0;D<p.length;D++)S(D)}},{key:"seriesHover",value:function(p,f){var b=this,S=[],D=this.w;D.config.chart.group&&(S=this.ctx.getGroupedCharts()),D.globals.axisCharts&&(D.globals.minX===-1/0&&D.globals.maxX===1/0||0===D.globals.dataPoints)||(S.length?S.forEach(function(B){var F=b.getElTooltip(B);B.w.globals.minX===b.w.globals.minX&&B.w.globals.maxX===b.w.globals.maxX&&B.w.globals.tooltip.seriesHoverByContext({chartCtx:B,ttCtx:B.w.globals.tooltip,opt:{paths:p.paths,tooltipEl:F,tooltipY:p.tooltipY,tooltipX:p.tooltipX,elGrid:p.elGrid,hoverArea:p.hoverArea,ttItems:B.w.globals.tooltip.ttItems},e:f})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:p,e:f}))}},{key:"seriesHoverByContext",value:function(p){var f=p.chartCtx,b=p.ttCtx,S=p.opt,D=p.e,B=f.w,F=this.getElTooltip();b.tooltipRect={x:0,y:0,ttWidth:F.getBoundingClientRect().width,ttHeight:F.getBoundingClientRect().height},b.e=D,!b.tooltipUtil.hasBars()||B.globals.comboCharts||b.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new li(f).toggleSeriesOnHover(D,D.target.parentNode),b.fixedTooltip&&b.drawFixedTooltipRect(),B.globals.axisCharts?b.axisChartsTooltips({e:D,opt:S,tooltipRect:b.tooltipRect}):b.nonAxisChartsTooltips({e:D,opt:S,tooltipRect:b.tooltipRect})}},{key:"axisChartsTooltips",value:function(p){var f,b,S=p.e,D=p.opt,B=this.w,F=D.elGrid.getBoundingClientRect(),W="touchmove"===S.type?S.touches[0].clientX:S.clientX,q="touchmove"===S.type?S.touches[0].clientY:S.clientY;if(this.clientY=q,this.clientX=W,B.globals.capturedSeriesIndex=-1,B.globals.capturedDataPointIndex=-1,q<F.top||q>F.top+F.height)this.handleMouseOut(D);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!B.config.tooltip.shared){var oe=parseInt(D.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(oe)<0)return void this.handleMouseOut(D)}var ue=this.getElTooltip(),ae=this.getElXCrosshairs(),_e=B.globals.xyCharts||"bar"===B.config.chart.type&&!B.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||B.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===S.type||"touchmove"===S.type||"mouseup"===S.type){null!==ae&&ae.classList.add("apexcharts-active");var Ie=this.yaxisTooltips.filter(function(Ge){return!0===Ge});if(null!==this.ycrosshairs&&Ie.length&&this.ycrosshairs.classList.add("apexcharts-active"),_e&&!this.showOnIntersect)this.handleStickyTooltip(S,W,q,D);else if("heatmap"===B.config.chart.type||"treemap"===B.config.chart.type){var Pe=this.intersect.handleHeatTreeTooltip({e:S,opt:D,x:f,y:b,type:B.config.chart.type});b=Pe.y,ue.style.left=(f=Pe.x)+"px",ue.style.top=b+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:S,opt:D}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:S,opt:D,x:f,y:b});if(this.yaxisTooltips.length)for(var Be=0;Be<B.config.yaxis.length;Be++)this.axesTooltip.drawYaxisTooltipText(Be,q,this.xyRatios);D.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==S.type&&"touchend"!==S.type||this.handleMouseOut(D)}}},{key:"nonAxisChartsTooltips",value:function(p){var f=p.e,b=p.opt,S=p.tooltipRect,D=this.w,B=b.paths.getAttribute("rel"),F=this.getElTooltip(),W=D.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===f.type||"touchmove"===f.type){F.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:parseInt(B,10)-1,shared:!1});var oe=D.globals.clientY-W.top-S.ttHeight-10;if(F.style.left=D.globals.clientX-W.left-S.ttWidth/2+"px",F.style.top=oe+"px",D.config.legend.tooltipHoverFormatter){var ue=B-1,ae=(0,D.config.legend.tooltipHoverFormatter)(this.legendLabels[ue].getAttribute("data:default-text"),{seriesIndex:ue,dataPointIndex:ue,w:D});this.legendLabels[ue].innerHTML=ae}}else"mouseout"!==f.type&&"touchend"!==f.type||(F.classList.remove("apexcharts-active"),D.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(_e){var Ie=_e.getAttribute("data:default-text");_e.innerHTML=decodeURIComponent(Ie)}))}},{key:"handleStickyTooltip",value:function(p,f,b,S){var D=this.w,B=this.tooltipUtil.getNearestValues({context:this,hoverArea:S.hoverArea,elGrid:S.elGrid,clientX:f,clientY:b}),F=B.j,W=B.capturedSeries;B.hoverX<0||B.hoverX>D.globals.gridWidth?this.handleMouseOut(S):null!==W?this.handleStickyCapturedSeries(p,W,S,F):(this.tooltipUtil.isXoverlap(F)||D.globals.isBarHorizontal)&&this.create(p,this,0,F,S.ttItems)}},{key:"handleStickyCapturedSeries",value:function(p,f,b,S){var D=this.w;null===D.globals.series[f][S]?this.handleMouseOut(b):void 0!==D.globals.series[f][S]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(S)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(p,this,f,S,b.ttItems):this.create(p,this,f,S,b.ttItems,!1):this.tooltipUtil.isXoverlap(S)&&this.create(p,this,0,S,b.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var p=this.w,f=new qt(this.ctx),b=p.globals.dom.Paper.select(".apexcharts-bar-area"),S=0;S<b.length;S++)f.pathMouseLeave(b[S])}},{key:"handleMouseOut",value:function(p){var f=this.w,b=this.getElXCrosshairs();if(p.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==f.config.chart.type&&this.marker.resetPointsSize(),null!==b&&b.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var S=0;S<this.yaxisTTEls.length;S++)this.yaxisTTEls[S].classList.remove("apexcharts-active")}f.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(D){var B=D.getAttribute("data:default-text");D.innerHTML=decodeURIComponent(B)})}},{key:"markerClick",value:function(p,f,b){var S=this.w;"function"==typeof S.config.chart.events.markerClick&&S.config.chart.events.markerClick(p,this.ctx,{seriesIndex:f,dataPointIndex:b,w:S}),this.ctx.events.fireEvent("markerClick",[p,this.ctx,{seriesIndex:f,dataPointIndex:b,w:S}])}},{key:"create",value:function(p,f,b,S,D){var B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=this.w,W=f;"mouseup"===p.type&&this.markerClick(p,b,S),null===B&&(B=this.tConfig.shared);var q=this.tooltipUtil.hasMarkers(),oe=this.tooltipUtil.getElBars();if(F.config.legend.tooltipHoverFormatter){var ue=F.config.legend.tooltipHoverFormatter,ae=Array.from(this.legendLabels);ae.forEach(function(pe){var ze=pe.getAttribute("data:default-text");pe.innerHTML=decodeURIComponent(ze)});for(var _e=0;_e<ae.length;_e++){var Ie=ae[_e],Pe=parseInt(Ie.getAttribute("i"),10),Be=decodeURIComponent(Ie.getAttribute("data:default-text")),Ge=ue(Be,{seriesIndex:B?Pe:b,dataPointIndex:S,w:F});if(B)Ie.innerHTML=F.globals.collapsedSeriesIndices.indexOf(Pe)<0?Ge:Be;else if(Ie.innerHTML=Pe===b?Ge:Be,b===Pe)break}}if(B){if(W.tooltipLabels.drawSeriesTexts({ttItems:D,i:b,j:S,shared:!this.showOnIntersect&&this.tConfig.shared}),q&&(F.globals.markers.largestSize>0?W.marker.enlargePoints(S):W.tooltipPosition.moveDynamicPointsOnHover(S)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(oe),this.barSeriesHeight>0)){var st=new qt(this.ctx),bt=F.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(S,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(S);for(var J=0;J<bt.length;J++)st.pathMouseEnter(bt[J])}}else W.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:D,i:b,j:S}),this.tooltipUtil.hasBars()&&W.tooltipPosition.moveStickyTooltipOverBars(S),q&&W.tooltipPosition.moveMarkers(b,S)}}]),Re}(),Qt=function(Re){Ye(f,Ui);var p=Pt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this,B=this.w;this.graphics=new qt(this.ctx),this.bar=new Ui(this.ctx,this.xyRatios);var F=new hi(this.ctx,B);b=F.getLogSeries(b),this.yRatio=F.getLogYRatios(this.yRatio),this.barHelpers.initVariables(b),"100%"===B.config.chart.stackType&&(b=B.globals.seriesPercent.slice()),this.series=b,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var W=0;W<b.length;W++)b[W].length>0&&(this.totalItems+=b[W].length);for(var q=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),oe=0,ue=0,ae=function(Pe,Be){var Ge=void 0,st=void 0,bt=void 0,J=void 0,pe=[],ze=[],Je=B.globals.comboCharts?S[Pe]:Pe;D.yRatio.length>1&&(D.yaxisIndex=Je),D.isReversed=B.config.yaxis[D.yaxisIndex]&&B.config.yaxis[D.yaxisIndex].reversed;var ft=D.graphics.group({class:"apexcharts-series",seriesName:ct.escapeString(B.globals.seriesNames[Je]),rel:Pe+1,"data:realIndex":Je});D.ctx.series.addCollapsedClassToSeries(ft,Je);var ln=D.graphics.group({class:"apexcharts-datalabels","data:realIndex":Je}),$t=0,cn=0,Un=D.initialPositions(oe,ue,Ge,st,bt,J);ue=Un.y,$t=Un.barHeight,st=Un.yDivision,J=Un.zeroW,oe=Un.x,cn=Un.barWidth,Ge=Un.xDivision,bt=Un.zeroH,D.yArrj=[],D.yArrjF=[],D.yArrjVal=[],D.xArrj=[],D.xArrjF=[],D.xArrjVal=[],1===D.prevY.length&&D.prevY[0].every(function(Pr){return isNaN(Pr)})&&(D.prevY[0]=D.prevY[0].map(function(Pr){return bt}),D.prevYF[0]=D.prevYF[0].map(function(Pr){return 0}));for(var zn=0;zn<B.globals.dataPoints;zn++){var Ai=D.barHelpers.getStrokeWidth(Pe,zn,Je),gr={indexes:{i:Pe,j:zn,realIndex:Je,bc:Be},strokeWidth:Ai,x:oe,y:ue,elSeries:ft},vi=null;D.isHorizontal?(vi=D.drawStackedBarPaths(Te(Te({},gr),{},{zeroW:J,barHeight:$t,yDivision:st})),cn=D.series[Pe][zn]/D.invertedYRatio):(vi=D.drawStackedColumnPaths(Te(Te({},gr),{},{xDivision:Ge,barWidth:cn,zeroH:bt})),$t=D.series[Pe][zn]/D.yRatio[D.yaxisIndex]),ue=vi.y,pe.push(oe=vi.x),ze.push(ue);var Yi=D.barHelpers.getPathFillColor(b,Pe,zn,Je);ft=D.renderSeries({realIndex:Je,pathFill:Yi,j:zn,i:Pe,pathFrom:vi.pathFrom,pathTo:vi.pathTo,strokeWidth:Ai,elSeries:ft,x:oe,y:ue,series:b,barHeight:$t,barWidth:cn,elDataLabelsWrap:ln,type:"bar",visibleSeries:0})}B.globals.seriesXvalues[Je]=pe,B.globals.seriesYvalues[Je]=ze,D.prevY.push(D.yArrj),D.prevYF.push(D.yArrjF),D.prevYVal.push(D.yArrjVal),D.prevX.push(D.xArrj),D.prevXF.push(D.xArrjF),D.prevXVal.push(D.xArrjVal),q.add(ft)},_e=0,Ie=0;_e<b.length;_e++,Ie++)ae(_e,Ie);return q}},{key:"initialPositions",value:function(b,S,D,B,F,W){var q,oe,ue=this.w;return this.isHorizontal?(q=(q=B=ue.globals.gridHeight/ue.globals.dataPoints)*parseInt(ue.config.plotOptions.bar.barHeight,10)/100,W=this.baseLineInvertedY+ue.globals.padHorizontal+(this.isReversed?ue.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),S=(B-q)/2):(oe=D=ue.globals.gridWidth/ue.globals.dataPoints,oe=ue.globals.isXNumeric&&ue.globals.dataPoints>1?(D=ue.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:oe*parseInt(ue.config.plotOptions.bar.columnWidth,10)/100,F=this.baseLineY[this.yaxisIndex]+(this.isReversed?ue.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),b=ue.globals.padHorizontal+(D-oe)/2),{x:b,y:S,yDivision:B,xDivision:D,barHeight:q,barWidth:oe,zeroH:F,zeroW:W}}},{key:"drawStackedBarPaths",value:function(b){for(var S,q,D=b.indexes,B=b.barHeight,F=b.strokeWidth,W=b.zeroW,oe=b.y,ue=b.yDivision,ae=b.elSeries,_e=this.w,Ie=oe,Pe=D.i,Be=D.j,Ge=0,st=0;st<this.prevXF.length;st++)Ge+=this.prevXF[st][Be];if(Pe>0){var bt=W;this.prevXVal[Pe-1][Be]<0?bt=this.series[Pe][Be]>=0?this.prevX[Pe-1][Be]+Ge-2*(this.isReversed?Ge:0):this.prevX[Pe-1][Be]:this.prevXVal[Pe-1][Be]>=0&&(bt=this.series[Pe][Be]>=0?this.prevX[Pe-1][Be]:this.prevX[Pe-1][Be]-Ge+2*(this.isReversed?Ge:0)),S=bt}else S=W;var J=this.barHelpers.getBarpaths({barYPosition:Ie,barHeight:B,x1:S,x2:q=null===this.series[Pe][Be]?S:S+this.series[Pe][Be]/this.invertedYRatio-2*(this.isReversed?this.series[Pe][Be]/this.invertedYRatio:0),strokeWidth:F,series:this.series,realIndex:D.realIndex,i:Pe,j:Be,w:_e});return this.barHelpers.barBackground({j:Be,i:Pe,y1:Ie,y2:B,elSeries:ae}),{pathTo:J.pathTo,pathFrom:J.pathFrom,x:q,y:oe+=ue}}},{key:"drawStackedColumnPaths",value:function(b){var B,S=b.indexes,D=b.x,F=b.xDivision,W=b.barWidth,q=b.zeroH,oe=b.elSeries,ue=this.w,ae=S.i,_e=S.j,Ie=S.bc;if(ue.globals.isXNumeric){var Pe=ue.globals.seriesX[ae][_e];Pe||(Pe=0),D=(Pe-ue.globals.minX)/this.xRatio-W/2}for(var Be,Ge=D,st=0,bt=0;bt<this.prevYF.length;bt++)st+=isNaN(this.prevYF[bt][_e])?0:this.prevYF[bt][_e];if(ae>0&&!ue.globals.isXNumeric||ae>0&&ue.globals.isXNumeric&&ue.globals.seriesX[ae-1][_e]===ue.globals.seriesX[ae][_e]){var J,pe,ze=Math.min(this.yRatio.length+1,ae+1);if(void 0!==this.prevY[ae-1])for(var Je=1;Je<ze;Je++)if(!isNaN(this.prevY[ae-Je][_e])){pe=this.prevY[ae-Je][_e];break}for(var ft=1;ft<ze;ft++){if(this.prevYVal[ae-ft][_e]<0){J=this.series[ae][_e]>=0?pe-st+2*(this.isReversed?st:0):pe;break}if(this.prevYVal[ae-ft][_e]>=0){J=this.series[ae][_e]>=0?pe:pe+st-2*(this.isReversed?st:0);break}}void 0===J&&(J=ue.globals.gridHeight),Be=this.prevYF[0].every(function($t){return 0===$t})&&this.prevYF.slice(1,ae).every(function($t){return $t.every(function(cn){return isNaN(cn)})})?ue.globals.gridHeight-q:J}else Be=ue.globals.gridHeight-q;var ln=this.barHelpers.getColumnPaths({barXPosition:Ge,barWidth:W,y1:Be,y2:B=Be-this.series[ae][_e]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[ae][_e]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:S.realIndex,i:ae,j:_e,w:ue});return this.barHelpers.barBackground({bc:Ie,j:_e,i:ae,x1:Ge,x2:W,elSeries:oe}),D+=F,{pathTo:ln.pathTo,pathFrom:ln.pathFrom,x:ue.globals.isXNumeric?D-F:D,y:B}}}]),f}(),gn=function(Re){Ye(f,Ui);var p=Pt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this,B=this.w,F=new qt(this.ctx),W=new dn(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var q=new hi(this.ctx,B);b=q.getLogSeries(b),this.series=b,this.yRatio=q.getLogYRatios(this.yRatio),this.barHelpers.initVariables(b);for(var oe=F.group({class:"apexcharts-".concat(B.config.chart.type,"-series apexcharts-plot-series")}),ue=function(_e){D.isBoxPlot="boxPlot"===B.config.chart.type||"boxPlot"===B.config.series[_e].type;var Ie,Pe,ze,Je,Be=void 0,Ge=void 0,st=[],bt=[],J=B.globals.comboCharts?S[_e]:_e,pe=F.group({class:"apexcharts-series",seriesName:ct.escapeString(B.globals.seriesNames[J]),rel:_e+1,"data:realIndex":J});b[_e].length>0&&(D.visibleI=D.visibleI+1),D.yRatio.length>1&&(D.yaxisIndex=J);var ft=D.barHelpers.initialPositions();Ge=ft.y,ze=ft.barHeight,Ie=ft.xDivision,Pe=ft.zeroH,bt.push((Be=ft.x)+(Je=ft.barWidth)/2);for(var ln=F.group({class:"apexcharts-datalabels","data:realIndex":J}),$t=function(Un){var zn=D.barHelpers.getStrokeWidth(_e,Un,J),Ai=D.drawBoxPaths({indexes:{i:_e,j:Un,realIndex:J},x:Be,y:Ge,xDivision:Ie,barWidth:Je,zeroH:Pe,strokeWidth:zn,elSeries:pe});Ge=Ai.y,Be=Ai.x,Un>0&&bt.push(Be+Je/2),st.push(Ge),Ai.pathTo.forEach(function(gr,vi){var Yi=!D.isBoxPlot&&D.candlestickOptions.wick.useFillColor?Ai.color[vi]:B.globals.stroke.colors[_e],Pr=W.fillPath({seriesNumber:J,dataPointIndex:Un,color:Ai.color[vi],value:b[_e][Un]});D.renderSeries({realIndex:J,pathFill:Pr,lineFill:Yi,j:Un,i:_e,pathFrom:Ai.pathFrom,pathTo:gr,strokeWidth:zn,elSeries:pe,x:Be,y:Ge,series:b,barHeight:ze,barWidth:Je,elDataLabelsWrap:ln,visibleSeries:D.visibleI,type:B.config.chart.type})})},cn=0;cn<B.globals.dataPoints;cn++)$t(cn);B.globals.seriesXvalues[J]=bt,B.globals.seriesYvalues[J]=st,oe.add(pe)},ae=0;ae<b.length;ae++)ue(ae);return oe}},{key:"drawBoxPaths",value:function(b){var S=b.indexes,D=b.x,B=b.xDivision,F=b.barWidth,W=b.zeroH,q=b.strokeWidth,oe=this.w,ue=new qt(this.ctx),ae=S.i,_e=S.j,Ie=!0,Pe=oe.config.plotOptions.candlestick.colors.upward,Be=oe.config.plotOptions.candlestick.colors.downward,Ge="";this.isBoxPlot&&(Ge=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var st=this.yRatio[this.yaxisIndex],bt=S.realIndex,J=this.getOHLCValue(bt,_e),pe=W,ze=W;J.o>J.c&&(Ie=!1);var Je=Math.min(J.o,J.c),ft=Math.max(J.o,J.c),ln=J.m;oe.globals.isXNumeric&&(D=(oe.globals.seriesX[bt][_e]-oe.globals.minX)/this.xRatio-F/2);var $t=D+F*this.visibleI;null==this.series[ae][_e]?(Je=W,ft=W):(Je=W-Je/st,ft=W-ft/st,pe=W-J.h/st,ze=W-J.l/st,ln=W-J.m/st);var cn=ue.move($t,W),Un=ue.move($t+F/2,Je);return oe.globals.previousPaths.length>0&&(Un=this.getPreviousPath(bt,_e,!0)),cn=this.isBoxPlot?[ue.move($t,Je)+ue.line($t+F/2,Je)+ue.line($t+F/2,pe)+ue.line($t+F/4,pe)+ue.line($t+F-F/4,pe)+ue.line($t+F/2,pe)+ue.line($t+F/2,Je)+ue.line($t+F,Je)+ue.line($t+F,ln)+ue.line($t,ln)+ue.line($t,Je+q/2),ue.move($t,ln)+ue.line($t+F,ln)+ue.line($t+F,ft)+ue.line($t+F/2,ft)+ue.line($t+F/2,ze)+ue.line($t+F-F/4,ze)+ue.line($t+F/4,ze)+ue.line($t+F/2,ze)+ue.line($t+F/2,ft)+ue.line($t,ft)+ue.line($t,ln)+"z"]:[ue.move($t,ft)+ue.line($t+F/2,ft)+ue.line($t+F/2,pe)+ue.line($t+F/2,ft)+ue.line($t+F,ft)+ue.line($t+F,Je)+ue.line($t+F/2,Je)+ue.line($t+F/2,ze)+ue.line($t+F/2,Je)+ue.line($t,Je)+ue.line($t,ft-q/2)],Un+=ue.move($t,Je),oe.globals.isXNumeric||(D+=B),{pathTo:cn,pathFrom:Un,x:D,y:ft,barXPosition:$t,color:this.isBoxPlot?Ge:Ie?[Pe]:[Be]}}},{key:"getOHLCValue",value:function(b,S){var D=this.w;return{o:this.isBoxPlot?D.globals.seriesCandleH[b][S]:D.globals.seriesCandleO[b][S],h:this.isBoxPlot?D.globals.seriesCandleO[b][S]:D.globals.seriesCandleH[b][S],m:D.globals.seriesCandleM[b][S],l:this.isBoxPlot?D.globals.seriesCandleC[b][S]:D.globals.seriesCandleL[b][S],c:this.isBoxPlot?D.globals.seriesCandleL[b][S]:D.globals.seriesCandleC[b][S]}}}]),f}(),an=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"checkColorRange",value:function(){var p=this.w,f=!1,b=p.config.plotOptions[p.config.chart.type];return b.colorScale.ranges.length>0&&b.colorScale.ranges.map(function(S,D){S.from<=0&&(f=!0)}),f}},{key:"getShadeColor",value:function(p,f,b,S){var D=this.w,B=1,F=D.config.plotOptions[p].shadeIntensity,W=this.determineColor(p,f,b);D.globals.hasNegs||S?B=D.config.plotOptions[p].reverseNegativeShade?W.percent<0?W.percent/100*(1.25*F):1.25*F*(1-W.percent/100):W.percent<=0?1-(1+W.percent/100)*F:(1-W.percent/100)*F:(B=1-W.percent/100,"treemap"===p&&(B=1.25*F*(1-W.percent/100)));var q=W.color,oe=new ct;return D.config.plotOptions[p].enableShades&&(q=ct.hexToRgba(oe.shadeColor("dark"===this.w.config.theme.mode?-1*B:B,W.color),D.config.fill.opacity)),{color:q,colorProps:W}}},{key:"determineColor",value:function(p,f,b){var S=this.w,D=S.globals.series[f][b],B=S.config.plotOptions[p],F=B.colorScale.inverse?b:f;S.config.plotOptions[p].distributed&&(F=b);var W=S.globals.colors[F],q=null,oe=Math.min.apply(Math,sn(S.globals.series[f])),ue=Math.max.apply(Math,sn(S.globals.series[f]));B.distributed||"heatmap"!==p||(oe=S.globals.minY,ue=S.globals.maxY),void 0!==B.colorScale.min&&(oe=B.colorScale.min<S.globals.minY?B.colorScale.min:S.globals.minY,ue=B.colorScale.max>S.globals.maxY?B.colorScale.max:S.globals.maxY);var ae=Math.abs(ue)+Math.abs(oe),_e=100*D/(0===ae?ae-1e-6:ae);return B.colorScale.ranges.length>0&&B.colorScale.ranges.map(function(Ie,Pe){if(D>=Ie.from&&D<=Ie.to){W=Ie.color,q=Ie.foreColor?Ie.foreColor:null,oe=Ie.from,ue=Ie.to;var Be=Math.abs(ue)+Math.abs(oe);_e=100*D/(0===Be?Be-1e-6:Be)}}),{color:W,foreColor:q,percent:_e}}},{key:"calculateDataLabels",value:function(p){var f=p.text,b=p.x,S=p.y,D=p.i,B=p.j,F=p.colorProps,W=p.fontSize,q=this.w.config.dataLabels,oe=new qt(this.ctx),ue=new Hn(this.ctx),ae=null;if(q.enabled){ae=oe.group({class:"apexcharts-data-labels"});var Ie=q.offsetY,Pe=b+q.offsetX,Be=S+parseFloat(q.style.fontSize)/3+Ie;ue.plotDataLabelsText({x:Pe,y:Be,text:f,i:D,j:B,color:F.foreColor,parent:ae,fontSize:W,dataLabelsConfig:q})}return ae}},{key:"addListeners",value:function(p){var f=new qt(this.ctx);p.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this,p)),p.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this,p)),p.node.addEventListener("mousedown",f.pathMouseDown.bind(this,p))}}]),Re}(),_i=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.xRatio=f.xRatio,this.yRatio=f.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new an(p),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return de(Re,[{key:"draw",value:function(p){var f=this.w,b=new qt(this.ctx),S=b.group({class:"apexcharts-heatmap"});S.attr("clip-path","url(#gridRectMask".concat(f.globals.cuid,")"));var D=f.globals.gridWidth/f.globals.dataPoints,B=f.globals.gridHeight/f.globals.series.length,F=0,W=!1;this.negRange=this.helpers.checkColorRange();var q=p.slice();f.config.yaxis[0].reversed&&(W=!0,q.reverse());for(var oe=W?0:q.length-1;W?oe<q.length:oe>=0;W?oe++:oe--){var ue=b.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ct.escapeString(f.globals.seriesNames[oe]),rel:oe+1,"data:realIndex":oe});if(this.ctx.series.addCollapsedClassToSeries(ue,oe),f.config.chart.dropShadow.enabled){var ae=f.config.chart.dropShadow;new Rn(this.ctx).dropShadow(ue,ae,oe)}for(var _e=0,Ie=f.config.plotOptions.heatmap.shadeIntensity,Pe=0;Pe<q[oe].length;Pe++){var Be=this.helpers.getShadeColor(f.config.chart.type,oe,Pe,this.negRange),Ge=Be.color,st=Be.colorProps;"image"===f.config.fill.type&&(Ge=new dn(this.ctx).fillPath({seriesNumber:oe,dataPointIndex:Pe,opacity:f.globals.hasNegs?st.percent<0?1-(1+st.percent/100):Ie+st.percent/100:st.percent/100,patternID:ct.randomId(),width:f.config.fill.image.width?f.config.fill.image.width:D,height:f.config.fill.image.height?f.config.fill.image.height:B}));var J=b.drawRect(_e,F,D,B,this.rectRadius);if(J.attr({cx:_e,cy:F}),J.node.classList.add("apexcharts-heatmap-rect"),ue.add(J),J.attr({fill:Ge,i:oe,index:oe,j:Pe,val:q[oe][Pe],"stroke-width":this.strokeWidth,stroke:f.config.plotOptions.heatmap.useFillColorAsStroke?Ge:f.globals.stroke.colors[0],color:Ge}),this.helpers.addListeners(J),f.config.chart.animations.enabled&&!f.globals.dataChanged){var pe=1;f.globals.resized||(pe=f.config.chart.animations.speed),this.animateHeatMap(J,_e,F,D,B,pe)}if(f.globals.dataChanged){var ze=1;if(this.dynamicAnim.enabled&&f.globals.shouldAnimate){ze=this.dynamicAnim.speed;var Je=f.globals.previousPaths[oe]&&f.globals.previousPaths[oe][Pe]&&f.globals.previousPaths[oe][Pe].color;Je||(Je="rgba(255, 255, 255, 0)"),this.animateHeatColor(J,ct.isColorHex(Je)?Je:ct.rgb2hex(Je),ct.isColorHex(Ge)?Ge:ct.rgb2hex(Ge),ze)}}var ft=(0,f.config.dataLabels.formatter)(f.globals.series[oe][Pe],{value:f.globals.series[oe][Pe],seriesIndex:oe,dataPointIndex:Pe,w:f}),ln=this.helpers.calculateDataLabels({text:ft,x:_e+D/2,y:F+B/2,i:oe,j:Pe,colorProps:st,series:q});null!==ln&&ue.add(ln),_e+=D}F+=B,S.add(ue)}var $t=f.globals.yAxisScale[0].result.slice();return f.config.yaxis[0].reversed?$t.unshift(""):$t.push(""),f.globals.yAxisScale[0].result=$t,f.config.yaxis[0].labels.offsetY=-f.globals.gridHeight/f.globals.series.length/2,S}},{key:"animateHeatMap",value:function(p,f,b,S,D,B){var F=new ni(this.ctx);F.animateRect(p,{x:f+S/2,y:b+D/2,width:0,height:0},{x:f,y:b,width:S,height:D},B,function(){F.animationCompleted(p)})}},{key:"animateHeatColor",value:function(p,f,b,S){p.attr({fill:f}).animate(S).attr({fill:b})}}]),Re}(),Zi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawYAxisTexts",value:function(p,f,b,S){var D=this.w,B=D.config.yaxis[0],F=D.globals.yLabelFormatters[0];return new qt(this.ctx).drawText({x:p+B.labels.offsetX,y:f+B.labels.offsetY,text:F(S,b),textAnchor:"middle",fontSize:B.labels.style.fontSize,fontFamily:B.labels.style.fontFamily,foreColor:Array.isArray(B.labels.style.colors)?B.labels.style.colors[b]:B.labels.style.colors})}}]),Re}(),mr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==f.globals.stroke.colors?f.globals.stroke.colors:f.globals.colors,this.defaultSize=Math.min(f.globals.gridWidth,f.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=f.globals.gridWidth/2,this.fullAngle="radialBar"===f.config.chart.type?360:Math.abs(f.config.plotOptions.pie.endAngle-f.config.plotOptions.pie.startAngle),this.initialAngle=f.config.plotOptions.pie.startAngle%this.fullAngle,f.globals.radialSize=this.defaultSize/2.05-f.config.stroke.width-(f.config.chart.sparkline.enabled?0:f.config.chart.dropShadow.blur),this.donutSize=f.globals.radialSize*parseInt(f.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new qt(this.ctx);if(this.ret=S.group({class:"apexcharts-pie"}),b.globals.noData)return this.ret;for(var D=0,B=0;B<p.length;B++)D+=ct.negToZero(p[B]);var F=[],W=S.group();0===D&&(D=1e-5),p.forEach(function(Je){f.maxY=Math.max(f.maxY,Je)}),b.config.yaxis[0].max&&(this.maxY=b.config.yaxis[0].max),"back"===b.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var q=0;q<p.length;q++){var oe=this.fullAngle*ct.negToZero(p[q])/D;F.push(oe),"polarArea"===this.chartType?(F[q]=this.fullAngle/p.length,this.sliceSizes.push(b.globals.radialSize*p[q]/this.maxY)):this.sliceSizes.push(b.globals.radialSize)}if(b.globals.dataChanged){for(var ue,ae=0,_e=0;_e<b.globals.previousPaths.length;_e++)ae+=ct.negToZero(b.globals.previousPaths[_e]);for(var Ie=0;Ie<b.globals.previousPaths.length;Ie++)ue=this.fullAngle*ct.negToZero(b.globals.previousPaths[Ie])/ae,this.prevSectorAngleArr.push(ue)}this.donutSize<0&&(this.donutSize=0);var Pe=b.config.plotOptions.pie.customScale,st=b.globals.gridWidth/2-b.globals.gridWidth/2*Pe,bt=b.globals.gridHeight/2-b.globals.gridHeight/2*Pe;if("donut"===this.chartType){var J=S.drawCircle(this.donutSize);J.attr({cx:this.centerX,cy:this.centerY,fill:b.config.plotOptions.pie.donut.background?b.config.plotOptions.pie.donut.background:"transparent"}),W.add(J)}var pe=this.drawArcs(F,p);if(this.sliceLabels.forEach(function(Je){pe.add(Je)}),W.attr({transform:"translate(".concat(st,", ").concat(bt,") scale(").concat(Pe,")")}),W.add(pe),this.ret.add(W),this.donutDataLabels.show){var ze=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:st,translateY:bt});this.ret.add(ze)}return"front"===b.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(p,f){var b=this.w,S=new Rn(this.ctx),D=new qt(this.ctx),B=new dn(this.ctx),F=D.group({class:"apexcharts-slices"}),W=this.initialAngle,q=this.initialAngle,oe=this.initialAngle,ue=this.initialAngle;this.strokeWidth=b.config.stroke.show?b.config.stroke.width:0;for(var ae=0;ae<p.length;ae++){var _e=D.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ct.escapeString(b.globals.seriesNames[ae]),rel:ae+1,"data:realIndex":ae});F.add(_e),oe=(W=oe)+p[ae],ue=(q=ue)+this.prevSectorAngleArr[ae];var Ie=oe<W?this.fullAngle+oe-W:oe-W,Pe=B.fillPath({seriesNumber:ae,size:this.sliceSizes[ae],value:f[ae]}),Be=this.getChangedPath(q,ue),Ge=D.drawPath({d:Be,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[ae]:this.lineColorArr,strokeWidth:0,fill:Pe,fillOpacity:b.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(ae)});Ge.attr({index:0,j:ae}),S.setSelectionFilter(Ge,0,ae),b.config.chart.dropShadow.enabled&&S.dropShadow(Ge,b.config.chart.dropShadow,ae),this.addListeners(Ge,this.donutDataLabels),qt.setAttrs(Ge.node,{"data:angle":Ie,"data:startAngle":W,"data:strokeWidth":this.strokeWidth,"data:value":f[ae]});var bt={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?bt=ct.polarToCartesian(this.centerX,this.centerY,b.globals.radialSize/1.25+b.config.plotOptions.pie.dataLabels.offset,(W+Ie/2)%this.fullAngle):"donut"===this.chartType&&(bt=ct.polarToCartesian(this.centerX,this.centerY,(b.globals.radialSize+this.donutSize)/2+b.config.plotOptions.pie.dataLabels.offset,(W+Ie/2)%this.fullAngle)),_e.add(Ge);var J=0;if(!this.initialAnim||b.globals.resized||b.globals.dataChanged?this.animBeginArr.push(0):(0==(J=Ie/this.fullAngle*b.config.chart.animations.speed)&&(J=1),this.animDur=J+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(Ge,this.dynamicAnim&&b.globals.dataChanged?{size:this.sliceSizes[ae],endAngle:oe,startAngle:W,prevStartAngle:q,prevEndAngle:ue,animateStartingPos:!0,i:ae,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:b.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[ae],endAngle:oe,startAngle:W,i:ae,totalItems:p.length-1,animBeginArr:this.animBeginArr,dur:J}),b.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&Ge.click(this.pieClicked.bind(this,ae)),void 0!==b.globals.selectedDataPoints[0]&&b.globals.selectedDataPoints[0].indexOf(ae)>-1&&this.pieClicked(ae),b.config.dataLabels.enabled){var pe=bt.x,ze=bt.y,Je=100*Ie/this.fullAngle+"%";if(0!==Ie&&b.config.plotOptions.pie.dataLabels.minAngleToShowLabel<p[ae]){var ft=b.config.dataLabels.formatter;void 0!==ft&&(Je=ft(b.globals.seriesPercent[ae][0],{seriesIndex:ae,w:b}));var ln=b.globals.dataLabels.style.colors[ae],$t=D.group({class:"apexcharts-datalabels"}),cn=D.drawText({x:pe,y:ze,text:Je,textAnchor:"middle",fontSize:b.config.dataLabels.style.fontSize,fontFamily:b.config.dataLabels.style.fontFamily,fontWeight:b.config.dataLabels.style.fontWeight,foreColor:ln});$t.add(cn),b.config.dataLabels.dropShadow.enabled&&S.dropShadow(cn,b.config.dataLabels.dropShadow),cn.node.classList.add("apexcharts-pie-label"),b.config.chart.animations.animate&&!1===b.globals.resized&&(cn.node.classList.add("apexcharts-pie-label-delay"),cn.node.style.animationDelay=b.config.chart.animations.speed/940+"s"),this.sliceLabels.push($t)}}}return F}},{key:"addListeners",value:function(p,f){var b=new qt(this.ctx);p.node.addEventListener("mouseenter",b.pathMouseEnter.bind(this,p)),p.node.addEventListener("mouseleave",b.pathMouseLeave.bind(this,p)),p.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,p.node,f)),p.node.addEventListener("mousedown",b.pathMouseDown.bind(this,p)),this.donutDataLabels.total.showAlways||(p.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,p.node,f)),p.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,p.node,f)))}},{key:"animatePaths",value:function(p,f){var S=f.endAngle<f.startAngle?this.fullAngle+f.endAngle-f.startAngle:f.endAngle-f.startAngle,D=S,B=f.startAngle,F=f.startAngle;void 0!==f.prevStartAngle&&void 0!==f.prevEndAngle&&(B=f.prevEndAngle,D=f.prevEndAngle<f.prevStartAngle?this.fullAngle+f.prevEndAngle-f.prevStartAngle:f.prevEndAngle-f.prevStartAngle),f.i===this.w.config.series.length-1&&(S+F>this.fullAngle?f.endAngle=f.endAngle-(S+F):S+F<this.fullAngle&&(f.endAngle=f.endAngle+(this.fullAngle-(S+F)))),S===this.fullAngle&&(S=this.fullAngle-.01),this.animateArc(p,B,F,S,D,f)}},{key:"animateArc",value:function(p,f,b,S,D,B){var F,W=this,q=this.w,oe=new ni(this.ctx),ue=B.size;(isNaN(f)||isNaN(D))&&(f=b,D=S,B.dur=0);var ae=S,_e=b,Ie=f<b?this.fullAngle+f-b:f-b;q.globals.dataChanged&&B.shouldSetPrevPaths&&B.prevEndAngle&&(F=W.getPiePath({me:W,startAngle:B.prevStartAngle,angle:B.prevEndAngle<B.prevStartAngle?this.fullAngle+B.prevEndAngle-B.prevStartAngle:B.prevEndAngle-B.prevStartAngle,size:ue}),p.attr({d:F})),0!==B.dur?p.animate(B.dur,q.globals.easing,B.animBeginArr[B.i]).afterAll(function(){"pie"!==W.chartType&&"donut"!==W.chartType&&"polarArea"!==W.chartType||this.animate(q.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":W.strokeWidth}),B.i===q.config.series.length-1&&oe.animationCompleted(p)}).during(function(Pe){ae=Ie+(S-Ie)*Pe,B.animateStartingPos&&(ae=D+(S-D)*Pe,_e=f-D+(b-(f-D))*Pe),F=W.getPiePath({me:W,startAngle:_e,angle:ae,size:ue}),p.node.setAttribute("data:pathOrig",F),p.attr({d:F})}):(F=W.getPiePath({me:W,startAngle:_e,angle:S,size:ue}),B.isTrack||(q.globals.animationEnded=!0),p.node.setAttribute("data:pathOrig",F),p.attr({d:F,"stroke-width":W.strokeWidth}))}},{key:"pieClicked",value:function(p){var f,b=this.w,S=this,D=S.sliceSizes[p]+(b.config.plotOptions.pie.expandOnClick?4:0),B=b.globals.dom.Paper.select(".apexcharts-".concat(S.chartType.toLowerCase(),"-slice-").concat(p)).members[0];if("true"!==B.attr("data:pieClicked")){var F=b.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(F,function(ue){ue.setAttribute("data:pieClicked","false");var ae=ue.getAttribute("data:pathOrig");ue.setAttribute("d",ae)}),B.attr("data:pieClicked","true");var W=parseInt(B.attr("data:startAngle"),10),q=parseInt(B.attr("data:angle"),10);f=S.getPiePath({me:S,startAngle:W,angle:q,size:D}),360!==q&&B.plot(f)}else{B.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(B.node,this.donutDataLabels);var oe=B.attr("data:pathOrig");B.attr({d:oe})}}},{key:"getChangedPath",value:function(p,f){var b="";return this.dynamicAnim&&this.w.globals.dataChanged&&(b=this.getPiePath({me:this,startAngle:p,angle:f-p,size:this.size})),b}},{key:"getPiePath",value:function(p){var f=p.me,b=p.startAngle,S=p.angle,D=p.size,B=b,F=Math.PI*(B-90)/180,W=S+b;Math.ceil(W)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(W=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(W)>this.fullAngle&&(W-=this.fullAngle);var q=Math.PI*(W-90)/180,oe=f.centerX+D*Math.cos(F),ue=f.centerY+D*Math.sin(F),ae=f.centerX+D*Math.cos(q),_e=f.centerY+D*Math.sin(q),Ie=ct.polarToCartesian(f.centerX,f.centerY,f.donutSize,W),Pe=ct.polarToCartesian(f.centerX,f.centerY,f.donutSize,B),Be=S>180?1:0,Ge=["M",oe,ue,"A",D,D,0,Be,1,ae,_e];return"donut"===f.chartType?[].concat(Ge,["L",Ie.x,Ie.y,"A",f.donutSize,f.donutSize,0,Be,0,Pe.x,Pe.y,"L",oe,ue,"z"]).join(" "):"pie"===f.chartType||"polarArea"===f.chartType?[].concat(Ge,["L",f.centerX,f.centerY,"L",oe,ue]).join(" "):[].concat(Ge).join(" ")}},{key:"drawPolarElements",value:function(p){var f=this.w,b=new dr(this.ctx),S=new qt(this.ctx),D=new Zi(this.ctx),B=S.group(),F=S.group(),W=b.niceScale(0,Math.ceil(this.maxY),f.config.yaxis[0].tickAmount,0,!0),q=W.result.reverse(),oe=W.result.length;this.maxY=W.niceMax;for(var ue=f.globals.radialSize,ae=ue/(oe-1),_e=0;_e<oe-1;_e++){var Ie=S.drawCircle(ue);if(Ie.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":f.config.plotOptions.polarArea.rings.strokeWidth,stroke:f.config.plotOptions.polarArea.rings.strokeColor}),f.config.yaxis[0].show){var Pe=D.drawYAxisTexts(this.centerX,this.centerY-ue+parseInt(f.config.yaxis[0].labels.style.fontSize,10)/2,_e,q[_e]);F.add(Pe)}B.add(Ie),ue-=ae}this.drawSpokes(p),p.add(B),p.add(F)}},{key:"renderInnerDataLabels",value:function(p,f){var b=this.w,S=new qt(this.ctx),D=S.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(f.translateX?f.translateX:0,", ").concat(f.translateY?f.translateY:0,") scale(").concat(b.config.plotOptions.pie.customScale,")")}),B=p.total.show;D.node.style.opacity=f.opacity;var F,W,q=f.centerX,oe=f.centerY;F=void 0===p.name.color?b.globals.colors[0]:p.name.color;var ue=p.name.fontSize,ae=p.name.fontFamily,_e=p.value.fontWeight;W=void 0===p.value.color?b.config.chart.foreColor:p.value.color;var Ie=p.value.formatter,Pe="",Be="";if(B?(F=p.total.color,ue=p.total.fontSize,ae=p.total.fontFamily,_e=p.total.fontWeight,Be=p.total.label,Pe=p.total.formatter(b)):1===b.globals.series.length&&(Pe=Ie(b.globals.series[0],b),Be=b.globals.seriesNames[0]),Be&&(Be=p.name.formatter(Be,p.total.show,b)),p.name.show){var Ge=S.drawText({x:q,y:oe+parseFloat(p.name.offsetY),text:Be,textAnchor:"middle",foreColor:F,fontSize:ue,fontWeight:_e,fontFamily:ae});Ge.node.classList.add("apexcharts-datalabel-label"),D.add(Ge)}if(p.value.show){var st=p.name.show?parseFloat(p.value.offsetY)+16:p.value.offsetY,bt=S.drawText({x:q,y:oe+st,text:Pe,textAnchor:"middle",foreColor:W,fontWeight:p.value.fontWeight,fontSize:p.value.fontSize,fontFamily:p.value.fontFamily});bt.node.classList.add("apexcharts-datalabel-value"),D.add(bt)}return D}},{key:"printInnerLabels",value:function(p,f,b,S){var D,B=this.w;S?D=void 0===p.name.color?B.globals.colors[parseInt(S.parentNode.getAttribute("rel"),10)-1]:p.name.color:B.globals.series.length>1&&p.total.show&&(D=p.total.color);var F=B.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),W=B.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");b=(0,p.value.formatter)(b,B),S||"function"!=typeof p.total.formatter||(b=p.total.formatter(B)),f=p.name.formatter(f,f===p.total.label,B),null!==F&&(F.textContent=f),null!==W&&(W.textContent=b),null!==F&&(F.style.fill=D)}},{key:"printDataLabelsInner",value:function(p,f){var b=this.w,S=p.getAttribute("data:value"),D=b.globals.seriesNames[parseInt(p.parentNode.getAttribute("rel"),10)-1];b.globals.series.length>1&&this.printInnerLabels(f,D,S,p);var B=b.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==B&&(B.style.opacity=1)}},{key:"drawSpokes",value:function(p){var f=this,b=this.w,S=new qt(this.ctx),D=b.config.plotOptions.polarArea.spokes;if(0!==D.strokeWidth){for(var B=[],F=360/b.globals.series.length,W=0;W<b.globals.series.length;W++)B.push(ct.polarToCartesian(this.centerX,this.centerY,b.globals.radialSize,b.config.plotOptions.pie.startAngle+F*W));B.forEach(function(q,oe){var ue=S.drawLine(q.x,q.y,f.centerX,f.centerY,Array.isArray(D.connectorColors)?D.connectorColors[oe]:D.connectorColors);p.add(ue)})}}},{key:"revertDataLabelsInner",value:function(p,f,b){var S=this,D=this.w,B=D.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),F=!1,W=D.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),q=function(ae){var _e=ae.makeSliceOut,Ie=ae.printLabel;Array.prototype.forEach.call(W,function(Pe){"true"===Pe.getAttribute("data:pieClicked")&&(_e&&(F=!0),Ie&&S.printDataLabelsInner(Pe,f))})};if(q({makeSliceOut:!0,printLabel:!1}),f.total.show&&D.globals.series.length>1)F&&!f.total.showAlways?q({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(f,f.total.label,f.total.formatter(D));else if(q({makeSliceOut:!1,printLabel:!0}),!F)if(D.globals.selectedDataPoints.length&&D.globals.series.length>1)if(D.globals.selectedDataPoints[0].length>0){var oe=D.globals.selectedDataPoints[0],ue=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(oe));this.printDataLabelsInner(ue,f)}else B&&D.globals.selectedDataPoints.length&&0===D.globals.selectedDataPoints[0].length&&(B.style.opacity=0);else B&&D.globals.series.length>1&&(B.style.opacity=0)}}]),Re}(),Zr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var f=this.w;this.graphics=new qt(this.ctx),this.lineColorArr=void 0!==f.globals.stroke.colors?f.globals.stroke.colors:f.globals.colors,this.defaultSize=f.globals.svgHeight<f.globals.svgWidth?f.globals.gridHeight+1.5*f.globals.goldenPadding:f.globals.gridWidth,this.isLog=f.config.yaxis[0].logarithmic,this.coreUtils=new hi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(f.globals.maxY,0):f.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):f.globals.minY,this.polygons=f.config.plotOptions.radar.polygons,this.strokeWidth=f.config.stroke.show?f.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-f.config.chart.dropShadow.blur,f.config.xaxis.labels.show&&(this.size=this.size-f.globals.xAxisLabelsWidth/1.75),void 0!==f.config.plotOptions.radar.size&&(this.size=f.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new dn(this.ctx),D=[],B=new Hn(this.ctx);p.length&&(this.dataPointsLen=p[b.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var oe=b.globals.gridHeight/2+b.config.plotOptions.radar.offsetY,ue=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(b.globals.gridWidth/2+b.config.plotOptions.radar.offsetX||0,", ").concat(oe||0,")")}),ae=[],_e=null,Ie=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),p.forEach(function(Be,Ge){var st=Be.length===b.globals.dataPoints,bt=f.graphics.group().attr({class:"apexcharts-series","data:longestSeries":st,seriesName:ct.escapeString(b.globals.seriesNames[Ge]),rel:Ge+1,"data:realIndex":Ge});f.dataRadiusOfPercent[Ge]=[],f.dataRadius[Ge]=[],f.angleArr[Ge]=[],Be.forEach(function(zn,Ai){var gr=Math.abs(f.maxValue-f.minValue);zn+=Math.abs(f.minValue),f.isLog&&(zn=f.coreUtils.getLogVal(zn,0)),f.dataRadiusOfPercent[Ge][Ai]=zn/gr,f.dataRadius[Ge][Ai]=f.dataRadiusOfPercent[Ge][Ai]*f.size,f.angleArr[Ge][Ai]=Ai*f.disAngle}),ae=f.getDataPointsPos(f.dataRadius[Ge],f.angleArr[Ge]);var J=f.createPaths(ae,{x:0,y:0});_e=f.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Ie=f.graphics.group({class:"apexcharts-datalabels","data:realIndex":Ge}),b.globals.delayedElements.push({el:_e.node,index:Ge});var pe={i:Ge,realIndex:Ge,animationDelay:Ge,initialSpeed:b.config.chart.animations.speed,dataChangeSpeed:b.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:b.globals.stroke.colors[Ge],strokeLineCap:b.config.stroke.lineCap},ze=null;b.globals.previousPaths.length>0&&(ze=f.getPreviousPath(Ge));for(var Je=0;Je<J.linePathsTo.length;Je++){var ft=f.graphics.renderPaths(Te(Te({},pe),{},{pathFrom:null===ze?J.linePathsFrom[Je]:ze,pathTo:J.linePathsTo[Je],strokeWidth:Array.isArray(f.strokeWidth)?f.strokeWidth[Ge]:f.strokeWidth,fill:"none",drawShadow:!1}));bt.add(ft);var ln=S.fillPath({seriesNumber:Ge}),$t=f.graphics.renderPaths(Te(Te({},pe),{},{pathFrom:null===ze?J.areaPathsFrom[Je]:ze,pathTo:J.areaPathsTo[Je],strokeWidth:0,fill:ln,drawShadow:!1}));b.config.chart.dropShadow.enabled&&new Rn(f.ctx).dropShadow($t,Object.assign({},b.config.chart.dropShadow,{noUserSpaceOnUse:!0}),Ge),bt.add($t)}Be.forEach(function(zn,Ai){var gr=new Tn(f.ctx).getMarkerConfig("apexcharts-marker",Ge,Ai),vi=f.graphics.drawMarker(ae[Ai].x,ae[Ai].y,gr);vi.attr("rel",Ai),vi.attr("j",Ai),vi.attr("index",Ge),vi.node.setAttribute("default-marker-size",gr.pSize);var Yi=f.graphics.group({class:"apexcharts-series-markers"});Yi&&Yi.add(vi),_e.add(Yi),bt.add(_e);var Pr=b.config.dataLabels;if(Pr.enabled){var oo=Pr.formatter(b.globals.series[Ge][Ai],{seriesIndex:Ge,dataPointIndex:Ai,w:b});B.plotDataLabelsText({x:ae[Ai].x,y:ae[Ai].y,text:oo,textAnchor:"middle",i:Ge,j:Ge,parent:Ie,offsetCorrection:!1,dataLabelsConfig:Te({},Pr)})}bt.add(Ie)}),D.push(bt)}),this.drawPolygons({parent:ue}),b.config.xaxis.labels.show){var Pe=this.drawXAxisTexts();ue.add(Pe)}return D.forEach(function(Be){ue.add(Be)}),ue.add(this.yaxisLabels),ue}},{key:"drawPolygons",value:function(p){for(var f=this,b=this.w,S=p.parent,D=new Zi(this.ctx),B=b.globals.yAxisScale[0].result.reverse(),F=B.length,W=[],q=this.size/(F-1),oe=0;oe<F;oe++)W[oe]=q*oe;W.reverse();var ue=[],ae=[];W.forEach(function(_e,Ie){var Pe=ct.getPolygonPos(_e,f.dataPointsLen),Be="";Pe.forEach(function(Ge,st){if(0===Ie){var bt=f.graphics.drawLine(Ge.x,Ge.y,0,0,Array.isArray(f.polygons.connectorColors)?f.polygons.connectorColors[st]:f.polygons.connectorColors);ae.push(bt)}0===st&&f.yaxisLabelsTextsPos.push({x:Ge.x,y:Ge.y}),Be+=Ge.x+","+Ge.y+" "}),ue.push(Be)}),ue.forEach(function(_e,Ie){var Pe=f.polygons.strokeColors,Be=f.polygons.strokeWidth,Ge=f.graphics.drawPolygon(_e,Array.isArray(Pe)?Pe[Ie]:Pe,Array.isArray(Be)?Be[Ie]:Be,b.globals.radarPolygons.fill.colors[Ie]);S.add(Ge)}),ae.forEach(function(_e){S.add(_e)}),b.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(_e,Ie){var Pe=D.drawYAxisTexts(_e.x,_e.y,Ie,B[Ie]);f.yaxisLabels.add(Pe)})}},{key:"drawXAxisTexts",value:function(){var p=this,f=this.w,b=f.config.xaxis.labels,S=this.graphics.group({class:"apexcharts-xaxis"}),D=ct.getPolygonPos(this.size,this.dataPointsLen);return f.globals.labels.forEach(function(B,F){var W=f.config.xaxis.labels.formatter,q=new Hn(p.ctx);if(D[F]){var oe=p.getTextPos(D[F],p.size),ue=W(B,{seriesIndex:-1,dataPointIndex:F,w:f});q.plotDataLabelsText({x:oe.newX,y:oe.newY,text:ue,textAnchor:oe.textAnchor,i:F,j:F,parent:S,color:Array.isArray(b.style.colors)&&b.style.colors[F]?b.style.colors[F]:"#a8a8a8",dataLabelsConfig:Te({textAnchor:oe.textAnchor,dropShadow:{enabled:!1}},b),offsetCorrection:!1})}}),S}},{key:"createPaths",value:function(p,f){var b=this,S=[],D=[],B=[],F=[];if(p.length){D=[this.graphics.move(f.x,f.y)],F=[this.graphics.move(f.x,f.y)];var W=this.graphics.move(p[0].x,p[0].y),q=this.graphics.move(p[0].x,p[0].y);p.forEach(function(oe,ue){W+=b.graphics.line(oe.x,oe.y),q+=b.graphics.line(oe.x,oe.y),ue===p.length-1&&(W+="Z",q+="Z")}),S.push(W),B.push(q)}return{linePathsFrom:D,linePathsTo:S,areaPathsFrom:F,areaPathsTo:B}}},{key:"getTextPos",value:function(p,f){var b="middle",S=p.x,D=p.y;return Math.abs(p.x)>=10?p.x>0?(b="start",S+=10):p.x<0&&(b="end",S-=10):b="middle",Math.abs(p.y)>=f-10&&(p.y<0?D-=10:p.y>0&&(D+=10)),{textAnchor:b,newX:S,newY:D}}},{key:"getPreviousPath",value:function(p){for(var f=this.w,b=null,S=0;S<f.globals.previousPaths.length;S++){var D=f.globals.previousPaths[S];D.paths.length>0&&parseInt(D.realIndex,10)===parseInt(p,10)&&void 0!==f.globals.previousPaths[S].paths[0]&&(b=f.globals.previousPaths[S].paths[0].d)}return b}},{key:"getDataPointsPos",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;p=p||[],f=f||[];for(var S=[],D=0;D<b;D++){var B={};B.x=p[D]*Math.sin(f[D]),B.y=-p[D]*Math.cos(f[D]),S.push(B)}return S}}]),Re}(),Dr=function(Re){Ye(f,mr);var p=Pt(f);function f(b){var S;ee(this,f),(S=p.call(this,b)).ctx=b,S.w=b.w,S.animBeginArr=[0],S.animDur=0;var D=S.w;return S.startAngle=D.config.plotOptions.radialBar.startAngle,S.endAngle=D.config.plotOptions.radialBar.endAngle,S.totalAngle=Math.abs(D.config.plotOptions.radialBar.endAngle-D.config.plotOptions.radialBar.startAngle),S.trackStartAngle=D.config.plotOptions.radialBar.track.startAngle,S.trackEndAngle=D.config.plotOptions.radialBar.track.endAngle,S.radialDataLabels=D.config.plotOptions.radialBar.dataLabels,S.trackStartAngle||(S.trackStartAngle=S.startAngle),S.trackEndAngle||(S.trackEndAngle=S.endAngle),360===S.endAngle&&(S.endAngle=359.99),S.margin=parseInt(D.config.plotOptions.radialBar.track.margin,10),S}return de(f,[{key:"draw",value:function(b){var S=this.w,D=new qt(this.ctx),B=D.group({class:"apexcharts-radialbar"});if(S.globals.noData)return B;var F=D.group(),W=this.defaultSize/2,q=S.globals.gridWidth/2,oe=this.defaultSize/2.05;S.config.chart.sparkline.enabled||(oe=oe-S.config.stroke.width-S.config.chart.dropShadow.blur);var ue=S.globals.fill.colors;if(S.config.plotOptions.radialBar.track.show){var ae=this.drawTracks({size:oe,centerX:q,centerY:W,colorArr:ue,series:b});F.add(ae)}var _e=this.drawArcs({size:oe,centerX:q,centerY:W,colorArr:ue,series:b}),Ie=360;S.config.plotOptions.radialBar.startAngle<0&&(Ie=this.totalAngle);var Pe=(360-Ie)/360;if(S.globals.radialSize=oe-oe*Pe,this.radialDataLabels.value.show){var Be=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);S.globals.radialSize+=Be*Pe}return F.add(_e.g),"front"===S.config.plotOptions.radialBar.hollow.position&&(_e.g.add(_e.elHollow),_e.dataLabels&&_e.g.add(_e.dataLabels)),B.add(F),B}},{key:"drawTracks",value:function(b){var S=this.w,D=new qt(this.ctx),B=D.group({class:"apexcharts-tracks"}),F=new Rn(this.ctx),W=new dn(this.ctx),q=this.getStrokeWidth(b);b.size=b.size-q/2;for(var oe=0;oe<b.series.length;oe++){var ue=D.group({class:"apexcharts-radialbar-track apexcharts-track"});B.add(ue),ue.attr({rel:oe+1}),b.size=b.size-q-this.margin;var ae=S.config.plotOptions.radialBar.track,_e=W.fillPath({seriesNumber:0,size:b.size,fillColors:Array.isArray(ae.background)?ae.background[oe]:ae.background,solid:!0}),Ie=this.trackStartAngle,Pe=this.trackEndAngle;Math.abs(Pe)+Math.abs(Ie)>=360&&(Pe=360-Math.abs(this.startAngle)-.1);var Be=D.drawPath({d:"",stroke:_e,strokeWidth:q*parseInt(ae.strokeWidth,10)/100,fill:"none",strokeOpacity:ae.opacity,classes:"apexcharts-radialbar-area"});ae.dropShadow.enabled&&F.dropShadow(Be,ae.dropShadow),ue.add(Be),Be.attr("id","apexcharts-radialbarTrack-"+oe),this.animatePaths(Be,{centerX:b.centerX,centerY:b.centerY,endAngle:Pe,startAngle:Ie,size:b.size,i:oe,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:S.globals.easing})}return B}},{key:"drawArcs",value:function(b){var S=this.w,D=new qt(this.ctx),B=new dn(this.ctx),F=new Rn(this.ctx),W=D.group(),q=this.getStrokeWidth(b);b.size=b.size-q/2;var oe=S.config.plotOptions.radialBar.hollow.background,ue=b.size-q*b.series.length-this.margin*b.series.length-q*parseInt(S.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,ae=ue-S.config.plotOptions.radialBar.hollow.margin;void 0!==S.config.plotOptions.radialBar.hollow.image&&(oe=this.drawHollowImage(b,W,ue,oe));var _e=this.drawHollow({size:ae,centerX:b.centerX,centerY:b.centerY,fill:oe||"transparent"});S.config.plotOptions.radialBar.hollow.dropShadow.enabled&&F.dropShadow(_e,S.config.plotOptions.radialBar.hollow.dropShadow);var Pe=1;!this.radialDataLabels.total.show&&S.globals.series.length>1&&(Pe=0);var Be=null;this.radialDataLabels.show&&(Be=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:ue,centerX:b.centerX,centerY:b.centerY,opacity:Pe})),"back"===S.config.plotOptions.radialBar.hollow.position&&(W.add(_e),Be&&W.add(Be));var Ge=!1;S.config.plotOptions.radialBar.inverseOrder&&(Ge=!0);for(var st=Ge?b.series.length-1:0;Ge?st>=0:st<b.series.length;Ge?st--:st++){var bt=D.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ct.escapeString(S.globals.seriesNames[st])});W.add(bt),bt.attr({rel:st+1,"data:realIndex":st}),this.ctx.series.addCollapsedClassToSeries(bt,st),b.size=b.size-q-this.margin;var J=B.fillPath({seriesNumber:st,size:b.size,value:b.series[st]}),pe=this.startAngle,ze=void 0,Je=ct.negToZero(b.series[st]>100?100:b.series[st])/100,ft=Math.round(this.totalAngle*Je)+this.startAngle,ln=void 0;S.globals.dataChanged&&(ze=this.startAngle,ln=Math.round(this.totalAngle*ct.negToZero(S.globals.previousPaths[st])/100)+ze),Math.abs(ft)+Math.abs(pe)>=360&&(ft-=.01),Math.abs(ln)+Math.abs(ze)>=360&&(ln-=.01);var $t=ft-pe,cn=Array.isArray(S.config.stroke.dashArray)?S.config.stroke.dashArray[st]:S.config.stroke.dashArray,Un=D.drawPath({d:"",stroke:J,strokeWidth:q,fill:"none",fillOpacity:S.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+st,strokeDashArray:cn});qt.setAttrs(Un.node,{"data:angle":$t,"data:value":b.series[st]}),S.config.chart.dropShadow.enabled&&F.dropShadow(Un,S.config.chart.dropShadow,st),F.setSelectionFilter(Un,0,st),this.addListeners(Un,this.radialDataLabels),bt.add(Un),Un.attr({index:0,j:st});var Ai=0;!this.initialAnim||S.globals.resized||S.globals.dataChanged||(this.animDur=(Ai=(ft-pe)/360*S.config.chart.animations.speed)/(1.2*b.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),S.globals.dataChanged&&(this.animDur=(Ai=(ft-pe)/360*S.config.chart.animations.dynamicAnimation.speed)/(1.2*b.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(Un,{centerX:b.centerX,centerY:b.centerY,endAngle:ft,startAngle:pe,prevEndAngle:ln,prevStartAngle:ze,size:b.size,i:st,totalItems:2,animBeginArr:this.animBeginArr,dur:Ai,shouldSetPrevPaths:!0,easing:S.globals.easing})}return{g:W,elHollow:_e,dataLabels:Be}}},{key:"drawHollow",value:function(b){var S=new qt(this.ctx).drawCircle(2*b.size);return S.attr({class:"apexcharts-radialbar-hollow",cx:b.centerX,cy:b.centerY,r:b.size,fill:b.fill}),S}},{key:"drawHollowImage",value:function(b,S,D,B){var F=this.w,W=new dn(this.ctx),q=ct.randomId(),oe=F.config.plotOptions.radialBar.hollow.image;if(F.config.plotOptions.radialBar.hollow.imageClipped)W.clippedImgArea({width:D,height:D,image:oe,patternID:"pattern".concat(F.globals.cuid).concat(q)}),B="url(#pattern".concat(F.globals.cuid).concat(q,")");else{var ue=F.config.plotOptions.radialBar.hollow.imageWidth,ae=F.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===ue&&void 0===ae){var _e=F.globals.dom.Paper.image(oe).loaded(function(Pe){this.move(b.centerX-Pe.width/2+F.config.plotOptions.radialBar.hollow.imageOffsetX,b.centerY-Pe.height/2+F.config.plotOptions.radialBar.hollow.imageOffsetY)});S.add(_e)}else{var Ie=F.globals.dom.Paper.image(oe).loaded(function(Pe){this.move(b.centerX-ue/2+F.config.plotOptions.radialBar.hollow.imageOffsetX,b.centerY-ae/2+F.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(ue,ae)});S.add(Ie)}}return B}},{key:"getStrokeWidth",value:function(b){return b.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(b.series.length+1)-this.margin}}]),f}(),at=function(){function Re(p){ee(this,Re),this.w=p.w,this.lineCtx=p}return de(Re,[{key:"sameValueSeriesFix",value:function(p,f){var b=this.w;if("line"===b.config.chart.type&&("gradient"===b.config.fill.type||"gradient"===b.config.fill.type[p])&&new hi(this.lineCtx.ctx,b).seriesHaveSameValues(p)){var S=f[p].slice();S[S.length-1]=S[S.length-1]+1e-6,f[p]=S}return f}},{key:"calculatePoints",value:function(p){var f=p.series,S=p.x,D=p.y,B=p.i,F=p.j,W=p.prevY,q=this.w,oe=[],ue=[];if(0===F){var ae=this.lineCtx.categoryAxisCorrection+q.config.markers.offsetX;q.globals.isXNumeric&&(ae=(q.globals.seriesX[p.realIndex][0]-q.globals.minX)/this.lineCtx.xRatio+q.config.markers.offsetX),oe.push(ae),ue.push(ct.isNumber(f[B][0])?W+q.config.markers.offsetY:null),oe.push(S+q.config.markers.offsetX),ue.push(ct.isNumber(f[B][F+1])?D+q.config.markers.offsetY:null)}else oe.push(S+q.config.markers.offsetX),ue.push(ct.isNumber(f[B][F+1])?D+q.config.markers.offsetY:null);return{x:oe,y:ue}}},{key:"checkPreviousPaths",value:function(p){for(var f=p.pathFromLine,b=p.pathFromArea,S=p.realIndex,D=this.w,B=0;B<D.globals.previousPaths.length;B++){var F=D.globals.previousPaths[B];("line"===F.type||"area"===F.type)&&F.paths.length>0&&parseInt(F.realIndex,10)===parseInt(S,10)&&("line"===F.type?(this.lineCtx.appendPathFrom=!1,f=D.globals.previousPaths[B].paths[0].d):"area"===F.type&&(this.lineCtx.appendPathFrom=!1,b=D.globals.previousPaths[B].paths[0].d,D.config.stroke.show&&D.globals.previousPaths[B].paths[1]&&(f=D.globals.previousPaths[B].paths[1].d)))}return{pathFromLine:f,pathFromArea:b}}},{key:"determineFirstPrevY",value:function(p){var f=p.i,b=p.series,S=p.prevY,D=p.lineYPosition,B=this.w;if(void 0!==b[f][0])S=(D=B.config.chart.stacked&&f>0?this.lineCtx.prevSeriesY[f-1][0]:this.lineCtx.zeroY)-b[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?b[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(B.config.chart.stacked&&f>0&&void 0===b[f][0])for(var F=f-1;F>=0;F--)if(null!=b[F][0]){S=D=this.lineCtx.prevSeriesY[F][0];break}return{prevY:S,lineYPosition:D}}}]),Re}(),He=function(){function Re(p,f,b){ee(this,Re),this.ctx=p,this.w=p.w,this.xyRatios=f,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||b,this.scatter=new fn(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new at(this),this.markers=new Tn(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return de(Re,[{key:"draw",value:function(p,f,b){var S=this.w,D=new qt(this.ctx),B=S.globals.comboCharts?f:S.config.chart.type,F=D.group({class:"apexcharts-".concat(B,"-series apexcharts-plot-series")}),W=new hi(this.ctx,S);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,p=W.getLogSeries(p),this.yRatio=W.getLogYRatios(this.yRatio);for(var q=[],oe=0;oe<p.length;oe++){p=this.lineHelpers.sameValueSeriesFix(oe,p);var ue=S.globals.comboCharts?b[oe]:oe;this._initSerieVariables(p,oe,ue);var ae=[],_e=[],Ie=S.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,ue),S.globals.isXNumeric&&S.globals.seriesX.length>0&&(Ie=(S.globals.seriesX[ue][0]-S.globals.minX)/this.xRatio),_e.push(Ie);var Pe,Be=Ie,Ge=Be,st=this.zeroY;st=this.lineHelpers.determineFirstPrevY({i:oe,series:p,prevY:st,lineYPosition:0}).prevY,ae.push(st),Pe=st;var bt=this._calculatePathsFrom({series:p,i:oe,realIndex:ue,prevX:Ge,prevY:st}),J=this._iterateOverDataPoints({series:p,realIndex:ue,i:oe,x:Ie,y:1,pX:Be,pY:Pe,pathsFrom:bt,linePaths:[],areaPaths:[],seriesIndex:b,lineYPosition:0,xArrj:_e,yArrj:ae});this._handlePaths({type:B,realIndex:ue,i:oe,paths:J}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),q.push(this.elSeries)}if(S.config.chart.stacked)for(var pe=q.length;pe>0;pe--)F.add(q[pe-1]);else for(var ze=0;ze<q.length;ze++)F.add(q[ze]);return F}},{key:"_initSerieVariables",value:function(p,f,b){var S=this.w,D=new qt(this.ctx);this.xDivision=S.globals.gridWidth/(S.globals.dataPoints-("on"===S.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(S.config.stroke.width)?S.config.stroke.width[b]:S.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=b),this.isReversed=S.config.yaxis[this.yaxisIndex]&&S.config.yaxis[this.yaxisIndex].reversed,this.zeroY=S.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?S.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>S.globals.gridHeight||"end"===S.config.plotOptions.area.fillTo)&&(this.areaBottomY=S.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=D.group({class:"apexcharts-series",seriesName:ct.escapeString(S.globals.seriesNames[b])}),this.elPointsMain=D.group({class:"apexcharts-series-markers-wrap","data:realIndex":b}),this.elDataLabelsWrap=D.group({class:"apexcharts-datalabels","data:realIndex":b}),this.elSeries.attr({"data:longestSeries":p[f].length===S.globals.dataPoints,rel:f+1,"data:realIndex":b}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(p){var f,b,S,D,B=p.series,F=p.i,W=p.realIndex,q=p.prevX,oe=p.prevY,ue=this.w,ae=new qt(this.ctx);if(null===B[F][0]){for(var _e=0;_e<B[F].length;_e++)if(null!==B[F][_e]){f=ae.move(q=this.xDivision*_e,oe=this.zeroY-B[F][_e]/this.yRatio[this.yaxisIndex]),b=ae.move(q,this.areaBottomY);break}}else f=ae.move(q,oe),b=ae.move(q,this.areaBottomY)+ae.line(q,oe);if(S=ae.move(-1,this.zeroY)+ae.line(-1,this.zeroY),D=ae.move(-1,this.zeroY)+ae.line(-1,this.zeroY),ue.globals.previousPaths.length>0){var Ie=this.lineHelpers.checkPreviousPaths({pathFromLine:S,pathFromArea:D,realIndex:W});S=Ie.pathFromLine,D=Ie.pathFromArea}return{prevX:q,prevY:oe,linePath:f,areaPath:b,pathFromLine:S,pathFromArea:D}}},{key:"_handlePaths",value:function(p){var f=p.type,b=p.realIndex,S=p.i,D=p.paths,B=this.w,F=new qt(this.ctx),W=new dn(this.ctx);this.prevSeriesY.push(D.yArrj),B.globals.seriesXvalues[b]=D.xArrj,B.globals.seriesYvalues[b]=D.yArrj;var q=B.config.forecastDataPoints;if(q.count>0){var oe=B.globals.seriesXvalues[b][B.globals.seriesXvalues[b].length-q.count-1],ue=F.drawRect(oe,0,B.globals.gridWidth,B.globals.gridHeight,0);B.globals.dom.elForecastMask.appendChild(ue.node);var ae=F.drawRect(0,0,oe,B.globals.gridHeight,0);B.globals.dom.elNonForecastMask.appendChild(ae.node)}this.pointsChart||B.globals.delayedElements.push({el:this.elPointsMain.node,index:b});var _e={i:S,realIndex:b,animationDelay:S,initialSpeed:B.config.chart.animations.speed,dataChangeSpeed:B.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(f)};if("area"===f)for(var Ie=W.fillPath({seriesNumber:b}),Pe=0;Pe<D.areaPaths.length;Pe++){var Be=F.renderPaths(Te(Te({},_e),{},{pathFrom:D.pathFromArea,pathTo:D.areaPaths[Pe],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Ie}));this.elSeries.add(Be)}if(B.config.stroke.show&&!this.pointsChart){var Ge;Ge="line"===f?W.fillPath({seriesNumber:b,i:S}):B.globals.stroke.colors[b];for(var st=0;st<D.linePaths.length;st++){var bt=Te(Te({},_e),{},{pathFrom:D.pathFromLine,pathTo:D.linePaths[st],stroke:Ge,strokeWidth:this.strokeWidth,strokeLineCap:B.config.stroke.lineCap,fill:"none"}),J=F.renderPaths(bt);if(this.elSeries.add(J),q.count>0){var pe=F.renderPaths(bt);pe.node.setAttribute("stroke-dasharray",q.dashArray),q.strokeWidth&&pe.node.setAttribute("stroke-width",q.strokeWidth),this.elSeries.add(pe),pe.attr("clip-path","url(#forecastMask".concat(B.globals.cuid,")")),J.attr("clip-path","url(#nonForecastMask".concat(B.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(p){for(var f=p.series,b=p.realIndex,S=p.i,D=p.x,B=p.y,F=p.pX,W=p.pY,q=p.pathsFrom,oe=p.linePaths,ue=p.areaPaths,ae=p.seriesIndex,_e=p.lineYPosition,Ie=p.xArrj,Pe=p.yArrj,Be=this.w,Ge=new qt(this.ctx),st=this.yRatio,bt=q.prevY,J=q.linePath,pe=q.areaPath,ze=q.pathFromLine,Je=q.pathFromArea,ft=ct.isNumber(Be.globals.minYArr[b])?Be.globals.minYArr[b]:Be.globals.minY,ln=Be.globals.dataPoints>1?Be.globals.dataPoints-1:Be.globals.dataPoints,$t=0;$t<ln;$t++){var cn=null==f[S][$t+1];if(Be.globals.isXNumeric){var Un=Be.globals.seriesX[b][$t+1];void 0===Be.globals.seriesX[b][$t+1]&&(Un=Be.globals.seriesX[b][ln-1]),D=(Un-Be.globals.minX)/this.xRatio}else D+=this.xDivision;_e=Be.config.chart.stacked&&S>0&&Be.globals.collapsedSeries.length<Be.config.series.length-1?this.prevSeriesY[function(gr){for(var vi=gr,Yi=0;Yi<Be.globals.series.length;Yi++)if(Be.globals.collapsedSeriesIndices.indexOf(gr)>-1){vi--;break}return vi>=0?vi:0}(S-1)][$t+1]:this.zeroY,B=cn?_e-ft/st[this.yaxisIndex]+2*(this.isReversed?ft/st[this.yaxisIndex]:0):_e-f[S][$t+1]/st[this.yaxisIndex]+2*(this.isReversed?f[S][$t+1]/st[this.yaxisIndex]:0),Ie.push(D),Pe.push(B);var zn=this.lineHelpers.calculatePoints({series:f,x:D,y:B,realIndex:b,i:S,j:$t,prevY:bt}),Ai=this._createPaths({series:f,i:S,realIndex:b,j:$t,x:D,y:B,pX:F,pY:W,linePath:J,areaPath:pe,linePaths:oe,areaPaths:ue,seriesIndex:ae});ue=Ai.areaPaths,oe=Ai.linePaths,F=Ai.pX,W=Ai.pY,pe=Ai.areaPath,J=Ai.linePath,this.appendPathFrom&&(ze+=Ge.line(D,this.zeroY),Je+=Ge.line(D,this.zeroY)),this.handleNullDataPoints(f,zn,S,$t,b),this._handleMarkersAndLabels({pointsPos:zn,series:f,x:D,y:B,prevY:bt,i:S,j:$t,realIndex:b})}return{yArrj:Pe,xArrj:Ie,pathFromArea:Je,areaPaths:ue,pathFromLine:ze,linePaths:oe}}},{key:"_handleMarkersAndLabels",value:function(p){var f=p.pointsPos,b=p.i,S=p.j,D=p.realIndex,B=this.w,F=new Hn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,S,{realIndex:D,pointsPos:f,zRatio:this.zRatio,elParent:this.elPointsMain});else{B.globals.series[b].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var W=this.markers.plotChartMarkers(f,D,S+1);null!==W&&this.elPointsMain.add(W)}var q=F.drawDataLabel(f,D,S+1,null);null!==q&&this.elDataLabelsWrap.add(q)}},{key:"_createPaths",value:function(p){var f=p.series,b=p.i,S=p.realIndex,D=p.j,B=p.x,F=p.y,W=p.pX,q=p.pY,oe=p.linePath,ue=p.areaPath,ae=p.linePaths,_e=p.areaPaths,Ie=p.seriesIndex,Pe=this.w,Be=new qt(this.ctx),Ge=Pe.config.stroke.curve,st=this.areaBottomY;if(Array.isArray(Pe.config.stroke.curve)&&(Ge=Array.isArray(Ie)?Pe.config.stroke.curve[Ie[b]]:Pe.config.stroke.curve[b]),"smooth"===Ge){var bt=.35*(B-W);Pe.globals.hasNullValues?(null!==f[b][D]&&(null!==f[b][D+1]?(oe=Be.move(W,q)+Be.curve(W+bt,q,B-bt,F,B+1,F),ue=Be.move(W+1,q)+Be.curve(W+bt,q,B-bt,F,B+1,F)+Be.line(B,st)+Be.line(W,st)+"z"):(oe=Be.move(W,q),ue=Be.move(W,q)+"z")),ae.push(oe),_e.push(ue)):(oe+=Be.curve(W+bt,q,B-bt,F,B,F),ue+=Be.curve(W+bt,q,B-bt,F,B,F)),W=B,q=F,D===f[b].length-2&&(ue=ue+Be.curve(W,q,B,F,B,st)+Be.move(B,F)+"z",Pe.globals.hasNullValues||(ae.push(oe),_e.push(ue)))}else null===f[b][D+1]&&(oe+=Be.move(B,F),ue=ue+Be.line(Pe.globals.isXNumeric?(Pe.globals.seriesX[S][D]-Pe.globals.minX)/this.xRatio:B-this.xDivision,st)+Be.move(B,F)+"z"),null===f[b][D]&&(oe+=Be.move(B,F),ue+=Be.move(B,st)),"stepline"===Ge?(oe=oe+Be.line(B,null,"H")+Be.line(null,F,"V"),ue=ue+Be.line(B,null,"H")+Be.line(null,F,"V")):"straight"===Ge&&(oe+=Be.line(B,F),ue+=Be.line(B,F)),D===f[b].length-2&&(ue=ue+Be.line(B,st)+Be.move(B,F)+"z",ae.push(oe),_e.push(ue));return{linePaths:ae,areaPaths:_e,pX:W,pY:q,linePath:oe,areaPath:ue}}},{key:"handleNullDataPoints",value:function(p,f,b,S,D){var B=this.w;if(null===p[b][S]&&B.config.markers.showNullDataPoints||1===p[b].length){var F=this.markers.plotChartMarkers(f,D,S+1,this.strokeWidth-B.config.markers.strokeWidth/2,!0);null!==F&&this.elPointsMain.add(F)}}}]),Re}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Re(F,W,q,oe){this.xoffset=F,this.yoffset=W,this.height=oe,this.width=q,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(ue){var ae,_e=[],Ie=this.xoffset,Pe=this.yoffset,Be=D(ue)/this.height,Ge=D(ue)/this.width;if(this.width>=this.height)for(ae=0;ae<ue.length;ae++)_e.push([Ie,Pe,Ie+Be,Pe+ue[ae]/Be]),Pe+=ue[ae]/Be;else for(ae=0;ae<ue.length;ae++)_e.push([Ie,Pe,Ie+ue[ae]/Ge,Pe+Ge]),Ie+=ue[ae]/Ge;return _e},this.cutArea=function(ue){var ae;if(this.width>=this.height){var _e=ue/this.height;ae=new Re(this.xoffset+_e,this.yoffset,this.width-_e,this.height)}else{var Pe=ue/this.width;ae=new Re(this.xoffset,this.yoffset+Pe,this.width,this.height-Pe)}return ae}}function p(F,W,q,oe,ue){return oe=void 0===oe?0:oe,ue=void 0===ue?0:ue,function(ae){var _e,Ie,Pe=[];for(_e=0;_e<ae.length;_e++)for(Ie=0;Ie<ae[_e].length;Ie++)Pe.push(ae[_e][Ie]);return Pe}(f(function(ae,_e){var Ie,Pe=[],Be=_e/D(ae);for(Ie=0;Ie<ae.length;Ie++)Pe[Ie]=ae[Ie]*Be;return Pe}(F,W*q),[],new Re(oe,ue,W,q),[]))}function f(F,W,q,oe){var ue,ae,_e,Ie,Pe,Be,Ge;if(0!==F.length)return ue=q.shortestEdge(),Pe=ae=F[0],Be=ue,0===(Ie=W).length||((Ge=Ie.slice()).push(Pe),b(Ie,Be)>=b(Ge,Be))?(W.push(ae),f(F.slice(1),W,q,oe)):(_e=q.cutArea(D(W),oe),oe.push(q.getCoordinates(W)),f(F,[],_e,oe)),oe;oe.push(q.getCoordinates(W))}function b(F,W){var q=Math.min.apply(Math,F),oe=Math.max.apply(Math,F),ue=D(F);return Math.max(Math.pow(W,2)*oe/Math.pow(ue,2),Math.pow(ue,2)/(Math.pow(W,2)*q))}function S(F){return F&&F.constructor===Array}function D(F){var W,q=0;for(W=0;W<F.length;W++)q+=F[W];return q}function B(F){var W,q=0;if(S(F[0]))for(W=0;W<F.length;W++)q+=B(F[W]);else q=D(F);return q}return function F(W,q,oe,ue,ae){ue=void 0===ue?0:ue,ae=void 0===ae?0:ae;var _e,Ie,Pe=[],Be=[];if(S(W[0])){for(Ie=0;Ie<W.length;Ie++)Pe[Ie]=B(W[Ie]);for(_e=p(Pe,q,oe,ue,ae),Ie=0;Ie<W.length;Ie++)Be.push(F(W[Ie],_e[Ie][2]-_e[Ie][0],_e[Ie][3]-_e[Ie][1],_e[Ie][0],_e[Ie][1]))}else Be=p(W,q,oe,ue,ae);return Be}}();var $e,dt,Ct=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new an(p),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new qt(this.ctx),D=new dn(this.ctx),B=S.group({class:"apexcharts-treemap"});if(b.globals.noData)return B;var F=[];return p.forEach(function(W){var q=W.map(function(oe){return Math.abs(oe)});F.push(q)}),this.negRange=this.helpers.checkColorRange(),b.config.series.forEach(function(W,q){W.data.forEach(function(oe){Array.isArray(f.labels[q])||(f.labels[q]=[]),f.labels[q].push(oe.x)})}),window.TreemapSquared.generate(F,b.globals.gridWidth,b.globals.gridHeight).forEach(function(W,q){var oe=S.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ct.escapeString(b.globals.seriesNames[q]),rel:q+1,"data:realIndex":q});if(b.config.chart.dropShadow.enabled){var ue=b.config.chart.dropShadow;new Rn(f.ctx).dropShadow(B,ue,q)}var ae=S.group({class:"apexcharts-data-labels"});W.forEach(function(_e,Ie){var Pe=_e[0],Be=_e[1],Ge=_e[2],st=_e[3],bt=S.drawRect(Pe,Be,Ge-Pe,st-Be,0,"#fff",1,f.strokeWidth,b.config.plotOptions.treemap.useFillColorAsStroke?pe:b.globals.stroke.colors[q]);bt.attr({cx:Pe,cy:Be,index:q,i:q,j:Ie,width:Ge-Pe,height:st-Be});var J=f.helpers.getShadeColor(b.config.chart.type,q,Ie,f.negRange),pe=J.color;void 0!==b.config.series[q].data[Ie]&&b.config.series[q].data[Ie].fillColor&&(pe=b.config.series[q].data[Ie].fillColor);var ze=D.fillPath({color:pe,seriesNumber:q,dataPointIndex:Ie});bt.node.classList.add("apexcharts-treemap-rect"),bt.attr({fill:ze}),f.helpers.addListeners(bt);var Je={x:Pe+(Ge-Pe)/2,y:Be+(st-Be)/2,width:0,height:0},ft={x:Pe,y:Be,width:Ge-Pe,height:st-Be};if(b.config.chart.animations.enabled&&!b.globals.dataChanged){var ln=1;b.globals.resized||(ln=b.config.chart.animations.speed),f.animateTreemap(bt,Je,ft,ln)}b.globals.dataChanged&&f.dynamicAnim.enabled&&b.globals.shouldAnimate&&(b.globals.previousPaths[q]&&b.globals.previousPaths[q][Ie]&&b.globals.previousPaths[q][Ie].rect&&(Je=b.globals.previousPaths[q][Ie].rect),f.animateTreemap(bt,Je,ft,f.dynamicAnim.speed));var cn=f.getFontSize(_e),Un=b.config.dataLabels.formatter(f.labels[q][Ie],{value:b.globals.series[q][Ie],seriesIndex:q,dataPointIndex:Ie,w:b}),zn=f.helpers.calculateDataLabels({text:Un,x:(Pe+Ge)/2,y:(Be+st)/2+f.strokeWidth/2+cn/3,i:q,j:Ie,colorProps:J,fontSize:cn,series:p});b.config.dataLabels.enabled&&zn&&f.rotateToFitLabel(zn,Un,Pe,Be,Ge,st),oe.add(bt),null!==zn&&oe.add(zn)}),oe.add(ae),B.add(oe)}),B}},{key:"getFontSize",value:function(p){var B,f=this.w,F=function W(q){var oe,ue=0;if(Array.isArray(q[0]))for(oe=0;oe<q.length;oe++)ue+=W(q[oe]);else for(oe=0;oe<q.length;oe++)ue+=q[oe].length;return ue}(this.labels)/function W(q){var oe,ue=0;if(Array.isArray(q[0]))for(oe=0;oe<q.length;oe++)ue+=W(q[oe]);else for(oe=0;oe<q.length;oe++)ue+=1;return ue}(this.labels);return B=Math.pow((p[2]-p[0])*(p[3]-p[1]),.5),Math.min(B/F,parseInt(f.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(p,f,b,S,D,B){var F=new qt(this.ctx),W=F.getTextRects(f);if(W.width+5>D-b&&W.width<=B-S){var q=F.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(-90 ".concat(q.x," ").concat(q.y,")"))}}},{key:"animateTreemap",value:function(p,f,b,S){var D=new ni(this.ctx);D.animateRect(p,{x:f.x,y:f.y,width:f.width,height:f.height},{x:b.x,y:b.y,width:b.width,height:b.height},S,function(){D.animationCompleted(p)})}}]),Re}(),Bt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return de(Re,[{key:"calculateTimeScaleTicks",value:function(p,f){var b=this,S=this.w;if(S.globals.allSeriesCollapsed)return S.globals.labels=[],S.globals.timescaleLabels=[],[];var D=new fi(this.ctx),B=(f-p)/864e5;this.determineInterval(B),S.globals.disableZoomIn=!1,S.globals.disableZoomOut=!1,B<.00011574074074074075?S.globals.disableZoomIn=!0:B>5e4&&(S.globals.disableZoomOut=!0);var F=D.getTimeUnitsfromTimestamp(p,f,this.utc),W=S.globals.gridWidth/B,q=W/24,oe=q/60,ue=oe/60,ae=Math.floor(24*B),_e=Math.floor(1440*B),Ie=Math.floor(86400*B),Pe=Math.floor(B),Be=Math.floor(B/30),Ge=Math.floor(B/365),st={minMillisecond:F.minMillisecond,minSecond:F.minSecond,minMinute:F.minMinute,minHour:F.minHour,minDate:F.minDate,minMonth:F.minMonth,minYear:F.minYear},bt={firstVal:st,currentMillisecond:st.minMillisecond,currentSecond:st.minSecond,currentMinute:st.minMinute,currentHour:st.minHour,currentMonthDate:st.minDate,currentDate:st.minDate,currentMonth:st.minMonth,currentYear:st.minYear,daysWidthOnXAxis:W,hoursWidthOnXAxis:q,minutesWidthOnXAxis:oe,secondsWidthOnXAxis:ue,numberOfSeconds:Ie,numberOfMinutes:_e,numberOfHours:ae,numberOfDays:Pe,numberOfMonths:Be,numberOfYears:Ge};switch(this.tickInterval){case"years":this.generateYearScale(bt);break;case"months":case"half_year":this.generateMonthScale(bt);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(bt);break;case"hours":this.generateHourScale(bt);break;case"minutes_fives":case"minutes":this.generateMinuteScale(bt);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(bt)}var J=this.timeScaleArray.map(function(pe){var ze={position:pe.position,unit:pe.unit,year:pe.year,day:pe.day?pe.day:1,hour:pe.hour?pe.hour:0,month:pe.month+1};return"month"===pe.unit?Te(Te({},ze),{},{day:1,value:pe.value+1}):"day"===pe.unit||"hour"===pe.unit?Te(Te({},ze),{},{value:pe.value}):"minute"===pe.unit?Te(Te({},ze),{},{value:pe.value,minute:pe.value}):"second"===pe.unit?Te(Te({},ze),{},{value:pe.value,minute:pe.minute,second:pe.second}):pe});return J.filter(function(pe){var ze=1,Je=Math.ceil(S.globals.gridWidth/120),ft=pe.value;void 0!==S.config.xaxis.tickAmount&&(Je=S.config.xaxis.tickAmount),J.length>Je&&(ze=Math.floor(J.length/Je));var ln=!1,$t=!1;switch(b.tickInterval){case"years":"year"===pe.unit&&(ln=!0);break;case"half_year":ze=7,"year"===pe.unit&&(ln=!0);break;case"months":ze=1,"year"===pe.unit&&(ln=!0);break;case"months_fortnight":ze=15,"year"!==pe.unit&&"month"!==pe.unit||(ln=!0),30===ft&&($t=!0);break;case"months_days":ze=10,"month"===pe.unit&&(ln=!0),30===ft&&($t=!0);break;case"week_days":ze=8,"month"===pe.unit&&(ln=!0);break;case"days":ze=1,"month"===pe.unit&&(ln=!0);break;case"hours":"day"===pe.unit&&(ln=!0);break;case"minutes_fives":ft%5!=0&&($t=!0);break;case"seconds_tens":ft%10!=0&&($t=!0);break;case"seconds_fives":ft%5!=0&&($t=!0)}if("hours"===b.tickInterval||"minutes_fives"===b.tickInterval||"seconds_tens"===b.tickInterval||"seconds_fives"===b.tickInterval){if(!$t)return!0}else if((ft%ze==0||ln)&&!$t)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(p,f){var b=this.w,S=this.formatDates(p),D=this.removeOverlappingTS(S);b.globals.timescaleLabels=D.slice(),new Go(this.ctx).plotCoords()}},{key:"determineInterval",value:function(p){var f=24*p,b=60*f;switch(!0){case p/365>5:this.tickInterval="years";break;case p>800:this.tickInterval="half_year";break;case p>180:this.tickInterval="months";break;case p>90:this.tickInterval="months_fortnight";break;case p>60:this.tickInterval="months_days";break;case p>30:this.tickInterval="week_days";break;case p>2:this.tickInterval="days";break;case f>2.4:this.tickInterval="hours";break;case b>15:this.tickInterval="minutes_fives";break;case b>5:this.tickInterval="minutes";break;case b>1:this.tickInterval="seconds_tens";break;case 60*b>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(p){var f=p.firstVal,b=p.currentMonth,S=p.currentYear,D=p.daysWidthOnXAxis,B=p.numberOfYears,F=f.minYear,W=0,q=new fi(this.ctx),oe="year";if(f.minDate>1||f.minMonth>0){var ue=q.determineRemainingDaysOfYear(f.minYear,f.minMonth,f.minDate);W=(q.determineDaysOfYear(f.minYear)-ue+1)*D,this.timeScaleArray.push({position:W,value:F=f.minYear+1,unit:oe,year:F,month:ct.monthMod(b+1)})}else 1===f.minDate&&0===f.minMonth&&this.timeScaleArray.push({position:W,value:F,unit:oe,year:S,month:ct.monthMod(b+1)});for(var ae=F,_e=W,Ie=0;Ie<B;Ie++)ae++,_e=q.determineDaysOfYear(ae-1)*D+_e,this.timeScaleArray.push({position:_e,value:ae,unit:oe,year:ae,month:1})}},{key:"generateMonthScale",value:function(p){var f=p.firstVal,b=p.currentMonthDate,S=p.currentMonth,D=p.currentYear,B=p.daysWidthOnXAxis,F=p.numberOfMonths,W=S,q=0,oe=new fi(this.ctx),ue="month",ae=0;if(f.minDate>1){q=(oe.determineDaysOfMonths(S+1,f.minYear)-b+1)*B,W=ct.monthMod(S+1);var _e=D+ae,Ie=ct.monthMod(W),Pe=W;0===W&&(ue="year",Pe=_e,Ie=1,_e+=ae+=1),this.timeScaleArray.push({position:q,value:Pe,unit:ue,year:_e,month:Ie})}else this.timeScaleArray.push({position:q,value:W,unit:ue,year:D,month:ct.monthMod(S)});for(var Be=W+1,Ge=q,st=0,bt=1;st<F;st++,bt++){0===(Be=ct.monthMod(Be))?(ue="year",ae+=1):ue="month";var J=this._getYear(D,Be,ae);Ge=oe.determineDaysOfMonths(Be,J)*B+Ge,this.timeScaleArray.push({position:Ge,value:0===Be?J:Be,unit:ue,year:J,month:0===Be?1:Be}),Be++}}},{key:"generateDayScale",value:function(p){var f=p.firstVal,b=p.currentMonth,S=p.currentYear,D=p.hoursWidthOnXAxis,B=p.numberOfDays,F=new fi(this.ctx),W="day",q=f.minDate+1,oe=q,ue=function(bt,J,pe){return bt>F.determineDaysOfMonths(J+1,pe)&&(oe=1,W="month",_e=J+=1),J},ae=(24-f.minHour)*D,_e=q,Ie=ue(oe,b,S);0===f.minHour&&1===f.minDate?(ae=0,_e=ct.monthMod(f.minMonth),W="month",oe=f.minDate,B++):1!==f.minDate&&0===f.minHour&&0===f.minMinute&&(ae=0,_e=q=f.minDate,Ie=ue(oe=q,b,S)),this.timeScaleArray.push({position:ae,value:_e,unit:W,year:this._getYear(S,Ie,0),month:ct.monthMod(Ie),day:oe});for(var Pe=ae,Be=0;Be<B;Be++){W="day",Ie=ue(oe+=1,Ie,this._getYear(S,Ie,0));var Ge=this._getYear(S,Ie,0);Pe=24*D+Pe;var st=1===oe?ct.monthMod(Ie):oe;this.timeScaleArray.push({position:Pe,value:st,unit:W,year:Ge,month:ct.monthMod(Ie),day:st})}}},{key:"generateHourScale",value:function(p){var f=p.firstVal,b=p.currentDate,S=p.currentMonth,D=p.currentYear,B=p.minutesWidthOnXAxis,F=p.numberOfHours,W=new fi(this.ctx),q="hour",ue=function(ze,Je){return ze>W.determineDaysOfMonths(Je+1,D)?Je+=1:Je},ae=60-(f.minMinute+f.minSecond/60),_e=ae*B,Ie=f.minHour+1,Pe=Ie+1;60===ae&&(_e=0,Pe=(Ie=f.minHour)+1);var ze,Je,Be=b,Ge=ue(Be,S);this.timeScaleArray.push({position:_e,value:Ie,unit:q,day:Be,hour:Pe,year:D,month:ct.monthMod(Ge)});for(var st=_e,bt=0;bt<F;bt++){q="hour",Pe>=24&&(Pe=0,q="day",Ge=(ze=Be+=1,Je=Ge,ze>W.determineDaysOfMonths(Je+1,D)&&(Be=1,Je+=1),{month:Je,date:Be}).month,Ge=ue(Be,Ge));var J=this._getYear(D,Ge,0);this.timeScaleArray.push({position:st=0===Pe&&0===bt?ae*B:60*B+st,value:0===Pe?Be:Pe,unit:q,hour:Pe,day:Be,year:J,month:ct.monthMod(Ge)}),Pe++}}},{key:"generateMinuteScale",value:function(p){for(var q=p.minutesWidthOnXAxis,ue=p.numberOfMinutes,ae=p.currentMinute+1,_e=p.currentDate,Ie=p.currentMonth,Pe=p.currentYear,Be=p.currentHour,Ge=(60-p.currentSecond-p.currentMillisecond/1e3)*p.secondsWidthOnXAxis,st=0;st<ue;st++)ae>=60&&(ae=0,24===(Be+=1)&&(Be=0)),this.timeScaleArray.push({position:Ge,value:ae,unit:"minute",hour:Be,minute:ae,day:_e,year:this._getYear(Pe,Ie,0),month:ct.monthMod(Ie)}),Ge+=q,ae++}},{key:"generateSecondScale",value:function(p){for(var q=p.secondsWidthOnXAxis,oe=p.numberOfSeconds,ue=p.currentSecond+1,ae=p.currentMinute,_e=p.currentDate,Ie=p.currentMonth,Pe=p.currentYear,Be=p.currentHour,Ge=(1e3-p.currentMillisecond)/1e3*q,st=0;st<oe;st++)ue>=60&&(ue=0,++ae>=60&&(ae=0,24==++Be&&(Be=0))),this.timeScaleArray.push({position:Ge,value:ue,unit:"second",hour:Be,minute:ae,second:ue,day:_e,year:this._getYear(Pe,Ie,0),month:ct.monthMod(Ie)}),Ge+=q,ue++}},{key:"createRawDateString",value:function(p,f){var b=p.year;return 0===p.month&&(p.month=1),b+="-"+("0"+p.month.toString()).slice(-2),b+="day"===p.unit?"day"===p.unit?"-"+("0"+f).slice(-2):"-01":"-"+("0"+(p.day?p.day:"1")).slice(-2),b+="hour"===p.unit?"hour"===p.unit?"T"+("0"+f).slice(-2):"T00":"T"+("0"+(p.hour?p.hour:"0")).slice(-2),b+="minute"===p.unit?":"+("0"+f).slice(-2):":"+(p.minute?("0"+p.minute).slice(-2):"00"),b+="second"===p.unit?":"+("0"+f).slice(-2):":00",this.utc&&(b+=".000Z"),b}},{key:"formatDates",value:function(p){var f=this,b=this.w;return p.map(function(S){var D=S.value.toString(),B=new fi(f.ctx),F=f.createRawDateString(S,D),W=B.getDate(B.parseDate(F));if(f.utc||(W=B.getDate(B.parseDateWithTimezone(F))),void 0===b.config.xaxis.labels.format){var q="dd MMM",oe=b.config.xaxis.labels.datetimeFormatter;"year"===S.unit&&(q=oe.year),"month"===S.unit&&(q=oe.month),"day"===S.unit&&(q=oe.day),"hour"===S.unit&&(q=oe.hour),"minute"===S.unit&&(q=oe.minute),"second"===S.unit&&(q=oe.second),D=B.formatDate(W,q)}else D=B.formatDate(W,b.config.xaxis.labels.format);return{dateString:F,position:S.position,value:D,unit:S.unit,year:S.year,month:S.month}})}},{key:"removeOverlappingTS",value:function(p){var f,b=this,S=new qt(this.ctx),D=!1;p.length>0&&p[0].value&&p.every(function(W){return W.value.length===p[0].value.length})&&(D=!0,f=S.getTextRects(p[0].value).width);var B=0;return p.map(function(W,q){if(q>0&&b.w.config.xaxis.labels.hideOverlappingLabels){var oe=D?f:S.getTextRects(p[B].value).width;return W.position>p[B].position+oe+10?(B=q,W):null}return W}).filter(function(W){return null!==W})}},{key:"_getYear",value:function(p,f,b){return p+Math.floor(f/12)+b}}]),Re}(),Ot=function(){function Re(p,f){ee(this,Re),this.ctx=f,this.w=f.w,this.el=p}return de(Re,[{key:"setupElements",value:function(){var p=this.w.globals,f=this.w.config,b=f.chart.type;p.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(b)>-1,p.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(b)>-1,p.isBarHorizontal=("bar"===f.chart.type||"rangeBar"===f.chart.type)&&f.plotOptions.bar.horizontal,p.chartClass=".apexcharts"+p.chartID,p.dom.baseEl=this.el,p.dom.elWrap=document.createElement("div"),qt.setAttrs(p.dom.elWrap,{id:p.chartClass.substring(1),class:"apexcharts-canvas "+p.chartClass.substring(1)}),this.el.appendChild(p.dom.elWrap),p.dom.Paper=new window.SVG.Doc(p.dom.elWrap),p.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(f.chart.offsetX,", ").concat(f.chart.offsetY,")")}),p.dom.Paper.node.style.background=f.chart.background,this.setSVGDimensions(),p.dom.elGraphical=p.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),p.dom.elAnnotations=p.dom.Paper.group().attr({class:"apexcharts-annotations"}),p.dom.elDefs=p.dom.Paper.defs(),p.dom.elLegendWrap=document.createElement("div"),p.dom.elLegendWrap.classList.add("apexcharts-legend"),p.dom.elWrap.appendChild(p.dom.elLegendWrap),p.dom.Paper.add(p.dom.elGraphical),p.dom.elGraphical.add(p.dom.elDefs)}},{key:"plotChartType",value:function(p,f){var b=this.w,S=b.config,D=b.globals,B={series:[],i:[]},F={series:[],i:[]},W={series:[],i:[]},q={series:[],i:[]},oe={series:[],i:[]},ue={series:[],i:[]},ae={series:[],i:[]};D.series.map(function(pe,ze){var Je=0;void 0!==p[ze].type?("column"===p[ze].type||"bar"===p[ze].type?(D.series.length>1&&S.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),oe.series.push(pe),oe.i.push(ze),Je++,b.globals.columnSeries=oe.series):"area"===p[ze].type?(F.series.push(pe),F.i.push(ze),Je++):"line"===p[ze].type?(B.series.push(pe),B.i.push(ze),Je++):"scatter"===p[ze].type?(W.series.push(pe),W.i.push(ze)):"bubble"===p[ze].type?(q.series.push(pe),q.i.push(ze),Je++):"candlestick"===p[ze].type?(ue.series.push(pe),ue.i.push(ze),Je++):"boxPlot"===p[ze].type?(ae.series.push(pe),ae.i.push(ze),Je++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),Je>1&&(D.comboCharts=!0)):(B.series.push(pe),B.i.push(ze))});var _e=new He(this.ctx,f),Ie=new gn(this.ctx,f);this.ctx.pie=new mr(this.ctx);var Pe=new Dr(this.ctx);this.ctx.rangeBar=new Ei(this.ctx,f);var Be=new Zr(this.ctx),Ge=[];if(D.comboCharts){if(F.series.length>0&&Ge.push(_e.draw(F.series,"area",F.i)),oe.series.length>0)if(b.config.chart.stacked){var st=new Qt(this.ctx,f);Ge.push(st.draw(oe.series,oe.i))}else this.ctx.bar=new Ui(this.ctx,f),Ge.push(this.ctx.bar.draw(oe.series,oe.i));if(B.series.length>0&&Ge.push(_e.draw(B.series,"line",B.i)),ue.series.length>0&&Ge.push(Ie.draw(ue.series,ue.i)),ae.series.length>0&&Ge.push(Ie.draw(ae.series,ae.i)),W.series.length>0){var bt=new He(this.ctx,f,!0);Ge.push(bt.draw(W.series,"scatter",W.i))}if(q.series.length>0){var J=new He(this.ctx,f,!0);Ge.push(J.draw(q.series,"bubble",q.i))}}else switch(S.chart.type){case"line":Ge=_e.draw(D.series,"line");break;case"area":Ge=_e.draw(D.series,"area");break;case"bar":S.chart.stacked?Ge=new Qt(this.ctx,f).draw(D.series):(this.ctx.bar=new Ui(this.ctx,f),Ge=this.ctx.bar.draw(D.series));break;case"candlestick":case"boxPlot":Ge=new gn(this.ctx,f).draw(D.series);break;case"rangeBar":Ge=this.ctx.rangeBar.draw(D.series);break;case"heatmap":Ge=new _i(this.ctx,f).draw(D.series);break;case"treemap":Ge=new Ct(this.ctx,f).draw(D.series);break;case"pie":case"donut":case"polarArea":Ge=this.ctx.pie.draw(D.series);break;case"radialBar":Ge=Pe.draw(D.series);break;case"radar":Ge=Be.draw(D.series);break;default:Ge=_e.draw(D.series)}return Ge}},{key:"setSVGDimensions",value:function(){var p=this.w.globals,f=this.w.config;p.svgWidth=f.chart.width,p.svgHeight=f.chart.height;var b=ct.getDimensions(this.el),S=f.chart.width.toString().split(/[0-9]+/g).pop();"%"===S?ct.isNumber(b[0])&&(0===b[0].width&&(b=ct.getDimensions(this.el.parentNode)),p.svgWidth=b[0]*parseInt(f.chart.width,10)/100):"px"!==S&&""!==S||(p.svgWidth=parseInt(f.chart.width,10));var D=f.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==p.svgHeight&&""!==p.svgHeight)if("%"===D){var B=ct.getDimensions(this.el.parentNode);p.svgHeight=B[1]*parseInt(f.chart.height,10)/100}else p.svgHeight=parseInt(f.chart.height,10);else p.svgHeight=p.axisCharts?p.svgWidth/1.61:p.svgWidth/1.2;p.svgWidth<0&&(p.svgWidth=0),p.svgHeight<0&&(p.svgHeight=0),qt.setAttrs(p.dom.Paper.node,{width:p.svgWidth,height:p.svgHeight}),"%"!==D&&(p.dom.Paper.node.parentNode.parentNode.style.minHeight=p.svgHeight+(f.chart.sparkline.enabled?0:p.axisCharts?f.chart.parentHeightOffset:0)+"px"),p.dom.elWrap.style.width=p.svgWidth+"px",p.dom.elWrap.style.height=p.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var p=this.w.globals;qt.setAttrs(p.dom.elGraphical.node,{transform:"translate("+p.translateX+", "+p.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var p=this.w,f=p.globals,b=0,S=p.config.chart.sparkline.enabled?1:15;S+=p.config.grid.padding.bottom,"top"!==p.config.legend.position&&"bottom"!==p.config.legend.position||!p.config.legend.show||p.config.legend.floating||(b=new Zn(this.ctx).legendHelpers.getLegendBBox().clwh+10);var D=p.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),B=2.05*p.globals.radialSize;if(D&&!p.config.chart.sparkline.enabled){var F=ct.getBoundingClientRect(D);B=F.bottom,B=Math.max(2.05*p.globals.radialSize,F.bottom-F.top)}var q=B+f.translateY+b+S;f.dom.elLegendForeign&&f.dom.elLegendForeign.setAttribute("height",q),f.dom.elWrap.style.height=q+"px",qt.setAttrs(f.dom.Paper.node,{height:q}),f.dom.Paper.node.parentNode.parentNode.style.minHeight=q+"px"}},{key:"coreCalculations",value:function(){new Ea(this.ctx).init()}},{key:"resetGlobals",value:function(){var p=this,f=function(){return p.w.config.series.map(function(D){return[]})},b=new ei,S=this.w.globals;b.initGlobalVars(S),S.seriesXvalues=f(),S.seriesYvalues=f()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var p=null,f=this.w;if(f.globals.axisCharts){if("back"===f.config.xaxis.crosshairs.position&&new Ci(this.ctx).drawXCrosshairs(),"back"===f.config.yaxis[0].crosshairs.position&&new Ci(this.ctx).drawYCrosshairs(),"datetime"===f.config.xaxis.type&&void 0===f.config.xaxis.labels.formatter){this.ctx.timeScale=new Bt(this.ctx);var b=[];isFinite(f.globals.minX)&&isFinite(f.globals.maxX)&&!f.globals.isBarHorizontal?b=this.ctx.timeScale.calculateTimeScaleTicks(f.globals.minX,f.globals.maxX):f.globals.isBarHorizontal&&(b=this.ctx.timeScale.calculateTimeScaleTicks(f.globals.minY,f.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(b)}p=new hi(this.ctx).getCalculatedRatios()}return p}},{key:"updateSourceChart",value:function(p){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:p.w.globals.minX,max:p.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var p=this,f=this.w;if(f.config.chart.brush.enabled&&"function"!=typeof f.config.chart.events.selection){var b=f.config.chart.brush.targets||[f.config.chart.brush.target];b.forEach(function(S){var D=ApexCharts.getChartByID(S);D.w.globals.brushSource=p.ctx,"function"!=typeof D.w.config.chart.events.zoomed&&(D.w.config.chart.events.zoomed=function(){p.updateSourceChart(D)}),"function"!=typeof D.w.config.chart.events.scrolled&&(D.w.config.chart.events.scrolled=function(){p.updateSourceChart(D)})}),f.config.chart.events.selection=function(S,D){b.forEach(function(B){var F=ApexCharts.getChartByID(B),W=ct.clone(f.config.yaxis);if(f.config.chart.brush.autoScaleYaxis&&1===F.w.globals.series.length){var q=new dr(F);W=q.autoScaleY(F,W,D)}var oe=F.w.config.yaxis.reduce(function(ue,ae,_e){return[].concat(sn(ue),[Te(Te({},F.w.config.yaxis[_e]),{},{min:W[0].min,max:W[0].max})])},[]);F.ctx.updateHelpers._updateOptions({xaxis:{min:D.xaxis.min,max:D.xaxis.max},yaxis:oe},!1,!1,!1,!1)})}}}}]),Re}(),rn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"_updateOptions",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],F=[this.ctx];D&&(F=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(F=[this.ctx],this.ctx.w.globals.isExecCalled=!1),F.forEach(function(W){var q=W.w;return q.globals.shouldAnimate=S,b||(q.globals.resized=!0,q.globals.dataChanged=!0,S&&W.series.getPreviousPaths()),p&&"object"===$(p)&&(W.config=new xi(p),p=hi.extendArrayProps(W.config,p,q),W.w.globals.chartID!==f.ctx.w.globals.chartID&&delete p.series,q.config=ct.extend(q.config,p),B&&(q.globals.lastXAxis=p.xaxis?ct.clone(p.xaxis):[],q.globals.lastYAxis=p.yaxis?ct.clone(p.yaxis):[],q.globals.initialConfig=ct.extend({},q.config),q.globals.initialSeries=ct.clone(q.config.series))),W.update(p)})}},{key:"_updateSeries",value:function(p,f){var b,S=this,D=arguments.length>2&&void 0!==arguments[2]&&arguments[2],B=this.w;return B.globals.shouldAnimate=f,B.globals.dataChanged=!0,f&&this.ctx.series.getPreviousPaths(),B.globals.axisCharts?(0===(b=p.map(function(F,W){return S._extendSeries(F,W)})).length&&(b=[{data:[]}]),B.config.series=b):B.config.series=p.slice(),D&&(B.globals.initialSeries=ct.clone(B.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(p,f){var b=this.w,S=b.config.series[f];return Te(Te({},b.config.series[f]),{},{name:p.name?p.name:S&&S.name,color:p.color?p.color:S&&S.color,type:p.type?p.type:S&&S.type,data:p.data?p.data:S&&S.data})}},{key:"toggleDataPointSelection",value:function(p,f){var b=this.w,S=null,D=".apexcharts-series[data\\:realIndex='".concat(p,"']");return b.globals.axisCharts?S=b.globals.dom.Paper.select("".concat(D," path[j='").concat(f,"'], ").concat(D," circle[j='").concat(f,"'], ").concat(D," rect[j='").concat(f,"']")).members[0]:void 0===f&&(S=b.globals.dom.Paper.select("".concat(D," path[j='").concat(p,"']")).members[0],"pie"!==b.config.chart.type&&"polarArea"!==b.config.chart.type&&"donut"!==b.config.chart.type||this.ctx.pie.pieClicked(p)),S?(new qt(this.ctx).pathMouseDown(S,null),S.node?S.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(p){var f=this.w;if(["min","max"].forEach(function(S){void 0!==p.xaxis[S]&&(f.config.xaxis[S]=p.xaxis[S],f.globals.lastXAxis[S]=p.xaxis[S])}),p.xaxis.categories&&p.xaxis.categories.length&&(f.config.xaxis.categories=p.xaxis.categories),f.config.xaxis.convertedCatToNumeric){var b=new bi(p);p=b.convertCatToNumericXaxis(p,this.ctx)}return p}},{key:"forceYAxisUpdate",value:function(p){var f=this.w;return f.config.chart.stacked&&"100%"===f.config.chart.stackType&&(Array.isArray(p.yaxis)?p.yaxis.forEach(function(b,S){p.yaxis[S].min=0,p.yaxis[S].max=100}):(p.yaxis.min=0,p.yaxis.max=100)),p}},{key:"revertDefaultAxisMinMax",value:function(p){var f=this,b=this.w,S=b.globals.lastXAxis,D=b.globals.lastYAxis;p&&p.xaxis&&(S=p.xaxis),p&&p.yaxis&&(D=p.yaxis),b.config.xaxis.min=S.min,b.config.xaxis.max=S.max,b.config.yaxis.map(function(F,W){b.globals.zoomed||void 0!==D[W]?function(F){void 0!==D[F]&&(b.config.yaxis[F].min=D[F].min,b.config.yaxis[F].max=D[F].max)}(W):void 0!==f.ctx.opts.yaxis[W]&&(F.min=f.ctx.opts.yaxis[W].min,F.max=f.ctx.opts.yaxis[W].max)})}}]),Re}();$e="undefined"!=typeof window?window:void 0,dt=function(Re,p){var f=(void 0!==this?this:Re).SVG=function(J){if(f.supported)return J=new f.Doc(J),f.parser.draw||f.prepare(),J};if(f.ns="http://www.w3.org/2000/svg",f.xmlns="http://www.w3.org/2000/xmlns/",f.xlink="http://www.w3.org/1999/xlink",f.svgjs="http://svgjs.com/svgjs",f.supported=!0,!f.supported)return!1;f.did=1e3,f.eid=function(J){return"Svgjs"+oe(J)+f.did++},f.create=function(J){var pe=p.createElementNS(this.ns,J);return pe.setAttribute("id",this.eid(J)),pe},f.extend=function(){var J,pe;pe=(J=[].slice.call(arguments)).pop();for(var ze=J.length-1;ze>=0;ze--)if(J[ze])for(var Je in pe)J[ze].prototype[Je]=pe[Je];f.Set&&f.Set.inherit&&f.Set.inherit()},f.invent=function(J){var pe="function"==typeof J.create?J.create:function(){this.constructor.call(this,f.create(J.create))};return J.inherit&&(pe.prototype=new J.inherit),J.extend&&f.extend(pe,J.extend),J.construct&&f.extend(J.parent||f.Container,J.construct),pe},f.adopt=function(J){return J?J.instance?J.instance:((pe="svg"==J.nodeName?J.parentNode instanceof Re.SVGElement?new f.Nested:new f.Doc:"linearGradient"==J.nodeName?new f.Gradient("linear"):"radialGradient"==J.nodeName?new f.Gradient("radial"):f[oe(J.nodeName)]?new(f[oe(J.nodeName)]):new f.Element(J)).type=J.nodeName,pe.node=J,J.instance=pe,pe instanceof f.Doc&&pe.namespace().defs(),pe.setData(JSON.parse(J.getAttribute("svgjs:data"))||{}),pe):null;var pe},f.prepare=function(){var J=p.getElementsByTagName("body")[0],pe=(J?new f.Doc(J):f.adopt(p.documentElement).nested()).size(2,0);f.parser={body:J||p.documentElement,draw:pe.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:pe.polyline().node,path:pe.path().node,native:f.create("svg")}},f.parser={native:f.create("svg")},p.addEventListener("DOMContentLoaded",function(){f.parser.draw||f.prepare()},!1),f.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},f.utils={map:function(J,pe){for(var ze=J.length,Je=[],ft=0;ft<ze;ft++)Je.push(pe(J[ft]));return Je},filter:function(J,pe){for(var ze=J.length,Je=[],ft=0;ft<ze;ft++)pe(J[ft])&&Je.push(J[ft]);return Je},filterSVGElements:function(J){return this.filter(J,function(pe){return pe instanceof Re.SVGElement})}},f.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},f.Color=function(J){var pe,ze;this.r=0,this.g=0,this.b=0,J&&("string"==typeof J?f.regex.isRgb.test(J)?(pe=f.regex.rgb.exec(J.replace(f.regex.whitespace,"")),this.r=parseInt(pe[1]),this.g=parseInt(pe[2]),this.b=parseInt(pe[3])):f.regex.isHex.test(J)&&(pe=f.regex.hex.exec(4==(ze=J).length?["#",ze.substring(1,2),ze.substring(1,2),ze.substring(2,3),ze.substring(2,3),ze.substring(3,4),ze.substring(3,4)].join(""):ze),this.r=parseInt(pe[1],16),this.g=parseInt(pe[2],16),this.b=parseInt(pe[3],16)):"object"===$(J)&&(this.r=J.r,this.g=J.g,this.b=J.b))},f.extend(f.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(J){return this.destination=new f.Color(J),this},at:function(J){return this.destination?new f.Color({r:~~(this.r+(this.destination.r-this.r)*(J=J<0?0:J>1?1:J)),g:~~(this.g+(this.destination.g-this.g)*J),b:~~(this.b+(this.destination.b-this.b)*J)}):this}}),f.Color.test=function(J){return f.regex.isHex.test(J+="")||f.regex.isRgb.test(J)},f.Color.isRgb=function(J){return J&&"number"==typeof J.r&&"number"==typeof J.g&&"number"==typeof J.b},f.Color.isColor=function(J){return f.Color.isRgb(J)||f.Color.test(J)},f.Array=function(J,pe){0==(J=(J||[]).valueOf()).length&&pe&&(J=pe.valueOf()),this.value=this.parse(J)},f.extend(f.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(J){return J=J.valueOf(),Array.isArray(J)?J:this.split(J)}}),f.PointArray=function(J,pe){f.Array.call(this,J,pe||[[0,0]])},f.PointArray.prototype=new f.Array,f.PointArray.prototype.constructor=f.PointArray;for(var b={M:function(J,pe,ze){return pe.x=ze.x=J[0],pe.y=ze.y=J[1],["M",pe.x,pe.y]},L:function(J,pe){return pe.x=J[0],pe.y=J[1],["L",J[0],J[1]]},H:function(J,pe){return pe.x=J[0],["H",J[0]]},V:function(J,pe){return pe.y=J[0],["V",J[0]]},C:function(J,pe){return pe.x=J[4],pe.y=J[5],["C",J[0],J[1],J[2],J[3],J[4],J[5]]},Q:function(J,pe){return pe.x=J[2],pe.y=J[3],["Q",J[0],J[1],J[2],J[3]]},Z:function(J,pe,ze){return pe.x=ze.x,pe.y=ze.y,["Z"]}},S="mlhvqtcsaz".split(""),D=0,B=S.length;D<B;++D)b[S[D]]=function(J){return function(pe,ze,Je){if("H"==J)pe[0]=pe[0]+ze.x;else if("V"==J)pe[0]=pe[0]+ze.y;else if("A"==J)pe[5]=pe[5]+ze.x,pe[6]=pe[6]+ze.y;else for(var ft=0,ln=pe.length;ft<ln;++ft)pe[ft]=pe[ft]+(ft%2?ze.y:ze.x);return b[J](pe,ze,Je)}}(S[D].toUpperCase());f.PathArray=function(J,pe){f.Array.call(this,J,pe||[["M",0,0]])},f.PathArray.prototype=new f.Array,f.PathArray.prototype.constructor=f.PathArray,f.extend(f.PathArray,{toString:function(){return function(J){for(var pe=0,ze=J.length,Je="";pe<ze;pe++)Je+=J[pe][0],null!=J[pe][1]&&(Je+=J[pe][1],null!=J[pe][2]&&(Je+=" ",Je+=J[pe][2],null!=J[pe][3]&&(Je+=" ",Je+=J[pe][3],Je+=" ",Je+=J[pe][4],null!=J[pe][5]&&(Je+=" ",Je+=J[pe][5],Je+=" ",Je+=J[pe][6],null!=J[pe][7]&&(Je+=" ",Je+=J[pe][7])))));return Je+" "}(this.value)},move:function(J,pe){return this.bbox(),this},at:function(J){if(!this.destination)return this;for(var pe=this.value,ze=this.destination.value,Je=[],ft=new f.PathArray,ln=0,$t=pe.length;ln<$t;ln++){Je[ln]=[pe[ln][0]];for(var cn=1,Un=pe[ln].length;cn<Un;cn++)Je[ln][cn]=pe[ln][cn]+(ze[ln][cn]-pe[ln][cn])*J;"A"===Je[ln][0]&&(Je[ln][4]=+(0!=Je[ln][4]),Je[ln][5]=+(0!=Je[ln][5]))}return ft.value=Je,ft},parse:function(J){if(J instanceof f.PathArray)return J.valueOf();var pe,ze={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};J="string"==typeof J?J.replace(f.regex.numbersWithDots,W).replace(f.regex.pathLetters," $& ").replace(f.regex.hyphen,"$1 -").trim().split(f.regex.delimiter):J.reduce(function(Un,zn){return[].concat.call(Un,zn)},[]);var Je=[],ft=new f.Point,ln=new f.Point,$t=0,cn=J.length;do{f.regex.isPathLetter.test(J[$t])?(pe=J[$t],++$t):"M"==pe?pe="L":"m"==pe&&(pe="l"),Je.push(b[pe].call(null,J.slice($t,$t+=ze[pe.toUpperCase()]).map(parseFloat),ft,ln))}while(cn>$t);return Je},bbox:function(){return f.parser.draw||f.prepare(),f.parser.path.setAttribute("d",this.toString()),f.parser.path.getBBox()}}),f.Number=f.invent({create:function(J,pe){this.value=0,this.unit=pe||"","number"==typeof J?this.value=isNaN(J)?0:isFinite(J)?J:J<0?-34e37:34e37:"string"==typeof J?(pe=J.match(f.regex.numberAndUnit))&&(this.value=parseFloat(pe[1]),"%"==pe[5]?this.value/=100:"s"==pe[5]&&(this.value*=1e3),this.unit=pe[5]):J instanceof f.Number&&(this.value=J.valueOf(),this.unit=J.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(J){return J=new f.Number(J),new f.Number(this+J,this.unit||J.unit)},minus:function(J){return J=new f.Number(J),new f.Number(this-J,this.unit||J.unit)},times:function(J){return J=new f.Number(J),new f.Number(this*J,this.unit||J.unit)},divide:function(J){return J=new f.Number(J),new f.Number(this/J,this.unit||J.unit)},to:function(J){var pe=new f.Number(this);return"string"==typeof J&&(pe.unit=J),pe},morph:function(J){return this.destination=new f.Number(J),J.relative&&(this.destination.value+=this.value),this},at:function(J){return this.destination?new f.Number(this.destination).minus(this).times(J).plus(this):this}}}),f.Element=f.invent({create:function(J){this._stroke=f.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=J)&&(this.type=J.nodeName,this.node.instance=this,this._stroke=J.getAttribute("stroke")||this._stroke)},extend:{x:function(J){return this.attr("x",J)},y:function(J){return this.attr("y",J)},cx:function(J){return null==J?this.x()+this.width()/2:this.x(J-this.width()/2)},cy:function(J){return null==J?this.y()+this.height()/2:this.y(J-this.height()/2)},move:function(J,pe){return this.x(J).y(pe)},center:function(J,pe){return this.cx(J).cy(pe)},width:function(J){return this.attr("width",J)},height:function(J){return this.attr("height",J)},size:function(J,pe){var ze=ae(this,J,pe);return this.width(new f.Number(ze.width)).height(new f.Number(ze.height))},clone:function(J){this.writeDataToDom();var pe=Pe(this.node.cloneNode(!0));return J?J.add(pe):this.after(pe),pe},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(J){return this.after(J).remove(),J},addTo:function(J){return J.put(this)},putIn:function(J){return J.add(this)},id:function(J){return this.attr("id",J)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var J=this.attr("class");return null==J?[]:J.trim().split(f.regex.delimiter)},hasClass:function(J){return-1!=this.classes().indexOf(J)},addClass:function(J){if(!this.hasClass(J)){var pe=this.classes();pe.push(J),this.attr("class",pe.join(" "))}return this},removeClass:function(J){return this.hasClass(J)&&this.attr("class",this.classes().filter(function(pe){return pe!=J}).join(" ")),this},toggleClass:function(J){return this.hasClass(J)?this.removeClass(J):this.addClass(J)},reference:function(J){return f.get(this.attr(J))},parent:function(J){var pe=this;if(!pe.node.parentNode)return null;if(pe=f.adopt(pe.node.parentNode),!J)return pe;for(;pe&&pe.node instanceof Re.SVGElement;){if("string"==typeof J?pe.matches(J):pe instanceof J)return pe;if(!pe.node.parentNode||"#document"==pe.node.parentNode.nodeName)return null;pe=f.adopt(pe.node.parentNode)}},doc:function(){return this instanceof f.Doc?this:this.parent(f.Doc)},parents:function(J){var pe=[],ze=this;do{if(!(ze=ze.parent(J))||!ze.node)break;pe.push(ze)}while(ze.parent);return pe},matches:function(J){return((pe=this.node).matches||pe.matchesSelector||pe.msMatchesSelector||pe.mozMatchesSelector||pe.webkitMatchesSelector||pe.oMatchesSelector).call(pe,J);var pe},native:function(){return this.node},svg:function(J){var pe=p.createElement("svg");if(!(J&&this instanceof f.Parent))return pe.appendChild(J=p.createElement("svg")),this.writeDataToDom(),J.appendChild(this.node.cloneNode(!0)),pe.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");pe.innerHTML="<svg>"+J.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var ze=0,Je=pe.firstChild.childNodes.length;ze<Je;ze++)this.node.appendChild(pe.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(J){return this.dom=J,this},is:function(J){return this instanceof J}}}),f.easing={"-":function(J){return J},"<>":function(J){return-Math.cos(J*Math.PI)/2+.5},">":function(J){return Math.sin(J*Math.PI/2)},"<":function(J){return 1-Math.cos(J*Math.PI/2)}},f.morph=function(J){return function(pe,ze){return new f.MorphObj(pe,ze).at(J)}},f.Situation=f.invent({create:function(J){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new f.Number(J.duration).valueOf(),this.delay=new f.Number(J.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=J.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),f.FX=f.invent({create:function(J){this._target=J,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(J,pe,ze){"object"===$(J)&&(pe=J.ease,ze=J.delay,J=J.duration);var Je=new f.Situation({duration:J||1e3,delay:ze||0,ease:f.easing[pe||"-"]||pe});return this.queue(Je),this},target:function(J){return J&&J instanceof f.Element?(this._target=J,this):this._target},timeToAbsPos:function(J){return(J-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(J){return this.situation.duration/this._speed*J+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=Re.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){Re.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(J){return("function"==typeof J||J instanceof f.Situation)&&this.situations.push(J),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof f.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var J,pe=this.situation;if(pe.init)return this;for(var ze in pe.animations){J=this.target()[ze](),Array.isArray(J)||(J=[J]),Array.isArray(pe.animations[ze])||(pe.animations[ze]=[pe.animations[ze]]);for(var Je=J.length;Je--;)pe.animations[ze][Je]instanceof f.Number&&(J[Je]=new f.Number(J[Je])),pe.animations[ze][Je]=J[Je].morph(pe.animations[ze][Je])}for(var ze in pe.attrs)pe.attrs[ze]=new f.MorphObj(this.target().attr(ze),pe.attrs[ze]);for(var ze in pe.styles)pe.styles[ze]=new f.MorphObj(this.target().style(ze),pe.styles[ze]);return pe.initialTransformation=this.target().matrixify(),pe.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(J,pe){var ze=this.active;return this.active=!1,pe&&this.clearQueue(),J&&this.situation&&(!ze&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(J){var pe=this.last();return this.target().on("finished.fx",function ze(Je){Je.detail.situation==pe&&(J.call(this,pe),this.off("finished.fx",ze))}),this._callStart()},during:function(J){var pe=this.last(),ze=function(Je){Je.detail.situation==pe&&J.call(this,Je.detail.pos,f.morph(Je.detail.pos),Je.detail.eased,pe)};return this.target().off("during.fx",ze).on("during.fx",ze),this.after(function(){this.off("during.fx",ze)}),this._callStart()},afterAll:function(J){var pe=function ze(Je){J.call(this),this.off("allfinished.fx",ze)};return this.target().off("allfinished.fx",pe).on("allfinished.fx",pe),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(J,pe,ze){return this.last()[ze||"animations"][J]=pe,this._callStart()},step:function(J){var pe,ze,Je;J||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(pe=Math.max(this.absPos,0),ze=Math.floor(pe),!0===this.situation.loops||ze<this.situation.loops?(this.pos=pe-ze,Je=this.situation.loop,this.situation.loop=ze):(this.absPos=this.situation.loops,this.pos=1,Je=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-Je)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var ft=this.situation.ease(this.pos);for(var ln in this.situation.once)ln>this.lastPos&&ln<=ft&&(this.situation.once[ln].call(this.target(),this.pos,ft),delete this.situation.once[ln]);return this.active&&this.target().fire("during",{pos:this.pos,eased:ft,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=ft,this):this},eachAt:function(){var J,pe=this,ze=this.target(),Je=this.situation;for(var ft in Je.animations)J=[].concat(Je.animations[ft]).map(function(cn){return"string"!=typeof cn&&cn.at?cn.at(Je.ease(pe.pos),pe.pos):cn}),ze[ft].apply(ze,J);for(var ft in Je.attrs)J=[ft].concat(Je.attrs[ft]).map(function(Un){return"string"!=typeof Un&&Un.at?Un.at(Je.ease(pe.pos),pe.pos):Un}),ze.attr.apply(ze,J);for(var ft in Je.styles)J=[ft].concat(Je.styles[ft]).map(function(Un){return"string"!=typeof Un&&Un.at?Un.at(Je.ease(pe.pos),pe.pos):Un}),ze.style.apply(ze,J);if(Je.transforms.length){J=Je.initialTransformation,ft=0;for(var ln=Je.transforms.length;ft<ln;ft++){var $t=Je.transforms[ft];$t instanceof f.Matrix?J=$t.relative?J.multiply((new f.Matrix).morph($t).at(Je.ease(this.pos))):J.morph($t).at(Je.ease(this.pos)):($t.relative||$t.undo(J.extract()),J=J.multiply($t.at(Je.ease(this.pos))))}ze.matrix(J)}return this},once:function(J,pe,ze){var Je=this.last();return ze||(J=Je.ease(J)),Je.once[J]=pe,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:f.Element,construct:{animate:function(J,pe,ze){return(this.fx||(this.fx=new f.FX(this))).animate(J,pe,ze)},delay:function(J){return(this.fx||(this.fx=new f.FX(this))).delay(J)},stop:function(J,pe){return this.fx&&this.fx.stop(J,pe),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),f.MorphObj=f.invent({create:function(J,pe){return f.Color.isColor(pe)?new f.Color(J).morph(pe):f.regex.delimiter.test(J)?f.regex.pathLetters.test(J)?new f.PathArray(J).morph(pe):new f.Array(J).morph(pe):f.regex.numberAndUnit.test(pe)?new f.Number(J).morph(pe):(this.value=J,void(this.destination=pe))},extend:{at:function(J,pe){return pe<1?this.value:this.destination},valueOf:function(){return this.value}}}),f.extend(f.FX,{attr:function(J,pe,ze){if("object"===$(J))for(var Je in J)this.attr(Je,J[Je]);else this.add(J,pe,"attrs");return this},plot:function(J,pe,ze,Je){return 4==arguments.length?this.plot([J,pe,ze,Je]):this.add("plot",new(this.target().morphArray)(J))}}),f.Box=f.invent({create:function(J,pe,ze,Je){if(!("object"!==$(J)||J instanceof f.Element))return f.Box.call(this,null!=J.left?J.left:J.x,null!=J.top?J.top:J.y,J.width,J.height);4==arguments.length&&(this.x=J,this.y=pe,this.width=ze,this.height=Je),Be(this)}}),f.BBox=f.invent({create:function(J){if(f.Box.apply(this,[].slice.call(arguments)),J instanceof f.Element){var pe;try{if(!p.documentElement.contains){for(var ze=J.node;ze.parentNode;)ze=ze.parentNode;if(ze!=p)throw new Error("Element not in the dom")}pe=J.node.getBBox()}catch(ft){if(J instanceof f.Shape){f.parser.draw||f.prepare();var Je=J.clone(f.parser.draw.instance).show();pe=Je.node.getBBox(),Je.remove()}else pe={x:J.node.clientLeft,y:J.node.clientTop,width:J.node.clientWidth,height:J.node.clientHeight}}f.Box.call(this,pe)}},inherit:f.Box,parent:f.Element,construct:{bbox:function(){return new f.BBox(this)}}}),f.BBox.prototype.constructor=f.BBox,f.Matrix=f.invent({create:function(J){var pe=Ie([1,0,0,1,0,0]);J=null===J?pe:J instanceof f.Element?J.matrixify():"string"==typeof J?Ie(J.split(f.regex.delimiter).map(parseFloat)):6==arguments.length?Ie([].slice.call(arguments)):Array.isArray(J)?Ie(J):J&&"object"===$(J)?J:pe;for(var ze=st.length-1;ze>=0;--ze)this[st[ze]]=null!=J[st[ze]]?J[st[ze]]:pe[st[ze]]},extend:{extract:function(){var J=_e(this,0,1);_e(this,1,0);var pe=180/Math.PI*Math.atan2(J.y,J.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(pe*Math.PI/180)+this.f*Math.sin(pe*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(pe*Math.PI/180)+this.e*Math.sin(-pe*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:pe,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new f.Matrix(this)}},clone:function(){return new f.Matrix(this)},morph:function(J){return this.destination=new f.Matrix(J),this},multiply:function(J){return new f.Matrix(this.native().multiply((pe=J,pe instanceof f.Matrix||(pe=new f.Matrix(pe)),pe).native()));var pe},inverse:function(){return new f.Matrix(this.native().inverse())},translate:function(J,pe){return new f.Matrix(this.native().translate(J||0,pe||0))},native:function(){for(var J=f.parser.native.createSVGMatrix(),pe=st.length-1;pe>=0;pe--)J[st[pe]]=this[st[pe]];return J},toString:function(){return"matrix("+Ge(this.a)+","+Ge(this.b)+","+Ge(this.c)+","+Ge(this.d)+","+Ge(this.e)+","+Ge(this.f)+")"}},parent:f.Element,construct:{ctm:function(){return new f.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof f.Nested){var J=this.rect(1,1),pe=J.node.getScreenCTM();return J.remove(),new f.Matrix(pe)}return new f.Matrix(this.node.getScreenCTM())}}}),f.Point=f.invent({create:function(J,pe){var ze;ze=Array.isArray(J)?{x:J[0],y:J[1]}:"object"===$(J)?{x:J.x,y:J.y}:null!=J?{x:J,y:null!=pe?pe:J}:{x:0,y:0},this.x=ze.x,this.y=ze.y},extend:{clone:function(){return new f.Point(this)},morph:function(J,pe){return this.destination=new f.Point(J,pe),this}}}),f.extend(f.Element,{point:function(J,pe){return new f.Point(J,pe).transform(this.screenCTM().inverse())}}),f.extend(f.Element,{attr:function(J,pe,ze){if(null==J){for(J={},ze=(pe=this.node.attributes).length-1;ze>=0;ze--)J[pe[ze].nodeName]=f.regex.isNumber.test(pe[ze].nodeValue)?parseFloat(pe[ze].nodeValue):pe[ze].nodeValue;return J}if("object"===$(J))for(var Je in J)this.attr(Je,J[Je]);else if(null===pe)this.node.removeAttribute(J);else{if(null==pe)return null==(pe=this.node.getAttribute(J))?f.defaults.attrs[J]:f.regex.isNumber.test(pe)?parseFloat(pe):pe;"stroke-width"==J?this.attr("stroke",parseFloat(pe)>0?this._stroke:null):"stroke"==J&&(this._stroke=pe),"fill"!=J&&"stroke"!=J||(f.regex.isImage.test(pe)&&(pe=this.doc().defs().image(pe,0,0)),pe instanceof f.Image&&(pe=this.doc().defs().pattern(0,0,function(){this.add(pe)}))),"number"==typeof pe?pe=new f.Number(pe):f.Color.isColor(pe)?pe=new f.Color(pe):Array.isArray(pe)&&(pe=new f.Array(pe)),"leading"==J?this.leading&&this.leading(pe):"string"==typeof ze?this.node.setAttributeNS(ze,J,pe.toString()):this.node.setAttribute(J,pe.toString()),!this.rebuild||"font-size"!=J&&"x"!=J||this.rebuild(J,pe)}return this}}),f.extend(f.Element,{transform:function(J,pe){var ze;return"object"!==$(J)?(ze=new f.Matrix(this).extract(),"string"==typeof J?ze[J]:ze):(ze=new f.Matrix(this),pe=!!pe||!!J.relative,null!=J.a&&(ze=pe?ze.multiply(new f.Matrix(J)):new f.Matrix(J)),this.attr("transform",ze))}}),f.extend(f.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(f.regex.transforms).slice(0,-1).map(function(J){var pe=J.trim().split("(");return[pe[0],pe[1].split(f.regex.delimiter).map(function(ze){return parseFloat(ze)})]}).reduce(function(J,pe){return"matrix"==pe[0]?J.multiply(Ie(pe[1])):J[pe[0]].apply(J,pe[1])},new f.Matrix)},toParent:function(J){if(this==J)return this;var pe=this.screenCTM(),ze=J.screenCTM().inverse();return this.addTo(J).untransform().transform(ze.multiply(pe)),this},toDoc:function(){return this.toParent(this.doc())}}),f.Transformation=f.invent({create:function(J,pe){if(arguments.length>1&&"boolean"!=typeof pe)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(J))for(var ze=0,Je=this.arguments.length;ze<Je;++ze)this[this.arguments[ze]]=J[ze];else if(J&&"object"===$(J))for(ze=0,Je=this.arguments.length;ze<Je;++ze)this[this.arguments[ze]]=J[this.arguments[ze]];this.inversed=!1,!0===pe&&(this.inversed=!0)}}),f.Translate=f.invent({parent:f.Matrix,inherit:f.Transformation,create:function(J,pe){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),f.extend(f.Element,{style:function(J,pe){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===$(J))for(var ze in J)this.style(ze,J[ze]);else{if(!f.regex.isCss.test(J))return this.node.style[q(J)];for(J=J.split(/\s*;\s*/).filter(function(Je){return!!Je}).map(function(Je){return Je.split(/\s*:\s*/)});pe=J.pop();)this.style(pe[0],pe[1])}else this.node.style[q(J)]=null===pe||f.regex.isBlank.test(pe)?"":pe;return this}}),f.Parent=f.invent({create:function(J){this.constructor.call(this,J)},inherit:f.Element,extend:{children:function(){return f.utils.map(f.utils.filterSVGElements(this.node.childNodes),function(J){return f.adopt(J)})},add:function(J,pe){return null==pe?this.node.appendChild(J.node):J.node!=this.node.childNodes[pe]&&this.node.insertBefore(J.node,this.node.childNodes[pe]),this},put:function(J,pe){return this.add(J,pe),J},has:function(J){return this.index(J)>=0},index:function(J){return[].slice.call(this.node.childNodes).indexOf(J.node)},get:function(J){return f.adopt(this.node.childNodes[J])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(J,pe){for(var ze=this.children(),Je=0,ft=ze.length;Je<ft;Je++)ze[Je]instanceof f.Element&&J.apply(ze[Je],[Je,ze]),pe&&ze[Je]instanceof f.Container&&ze[Je].each(J,pe);return this},removeElement:function(J){return this.node.removeChild(J.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),f.extend(f.Parent,{ungroup:function(J,pe){return 0===pe||this instanceof f.Defs||this.node==f.parser.draw||(J=J||(this instanceof f.Doc?this:this.parent(f.Parent)),pe=pe||1/0,this.each(function(){return this instanceof f.Defs?this:this instanceof f.Parent?this.ungroup(J,pe-1):this.toParent(J)}),this.node.firstChild||this.remove()),this},flatten:function(J,pe){return this.ungroup(J,pe)}}),f.Container=f.invent({create:function(J){this.constructor.call(this,J)},inherit:f.Parent}),f.ViewBox=f.invent({parent:f.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(J){f.Element.prototype[J]=function(pe){return f.on(this.node,J,pe),this}}),f.listeners=[],f.handlerMap=[],f.listenerId=0,f.on=function(J,pe,ze,Je,ft){var ln=ze.bind(Je||J.instance||J),$t=(f.handlerMap.indexOf(J)+1||f.handlerMap.push(J))-1,cn=pe.split(".")[0],Un=pe.split(".")[1]||"*";f.listeners[$t]=f.listeners[$t]||{},f.listeners[$t][cn]=f.listeners[$t][cn]||{},f.listeners[$t][cn][Un]=f.listeners[$t][cn][Un]||{},ze._svgjsListenerId||(ze._svgjsListenerId=++f.listenerId),f.listeners[$t][cn][Un][ze._svgjsListenerId]=ln,J.addEventListener(cn,ln,ft||{passive:!0})},f.off=function(J,pe,ze){var Je=f.handlerMap.indexOf(J),ft=pe&&pe.split(".")[0],ln=pe&&pe.split(".")[1],$t="";if(-1!=Je)if(ze){if("function"==typeof ze&&(ze=ze._svgjsListenerId),!ze)return;f.listeners[Je][ft]&&f.listeners[Je][ft][ln||"*"]&&(J.removeEventListener(ft,f.listeners[Je][ft][ln||"*"][ze],!1),delete f.listeners[Je][ft][ln||"*"][ze])}else if(ln&&ft){if(f.listeners[Je][ft]&&f.listeners[Je][ft][ln]){for(var cn in f.listeners[Je][ft][ln])f.off(J,[ft,ln].join("."),cn);delete f.listeners[Je][ft][ln]}}else if(ln)for(var Un in f.listeners[Je])for(var $t in f.listeners[Je][Un])ln===$t&&f.off(J,[Un,ln].join("."));else if(ft){if(f.listeners[Je][ft]){for(var $t in f.listeners[Je][ft])f.off(J,[ft,$t].join("."));delete f.listeners[Je][ft]}}else{for(var Un in f.listeners[Je])f.off(J,Un);delete f.listeners[Je],delete f.handlerMap[Je]}},f.extend(f.Element,{on:function(J,pe,ze,Je){return f.on(this.node,J,pe,ze,Je),this},off:function(J,pe){return f.off(this.node,J,pe),this},fire:function(J,pe){return this.node.dispatchEvent(J instanceof Re.Event?J:J=new f.CustomEvent(J,{detail:pe,cancelable:!0})),this._event=J,this},event:function(){return this._event}}),f.Defs=f.invent({create:"defs",inherit:f.Container}),f.G=f.invent({create:"g",inherit:f.Container,extend:{x:function(J){return null==J?this.transform("x"):this.transform({x:J-this.x()},!0)}},construct:{group:function(){return this.put(new f.G)}}}),f.Doc=f.invent({create:function(J){J&&("svg"==(J="string"==typeof J?p.getElementById(J):J).nodeName?this.constructor.call(this,J):(this.constructor.call(this,f.create("svg")),J.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:f.Container,extend:{namespace:function(){return this.attr({xmlns:f.ns,version:"1.1"}).attr("xmlns:xlink",f.xlink,f.xmlns).attr("xmlns:svgjs",f.svgjs,f.xmlns)},defs:function(){var J;return this._defs||(this._defs=(J=this.node.getElementsByTagName("defs")[0])?f.adopt(J):new f.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,f.parser.draw&&!f.parser.draw.parentNode&&this.node.appendChild(f.parser.draw),this},clone:function(J){this.writeDataToDom();var pe=this.node,ze=Pe(pe.cloneNode(!0));return J?(J.node||J).appendChild(ze.node):pe.parentNode.insertBefore(ze.node,pe.nextSibling),ze}}}),f.extend(f.Element,{}),f.Gradient=f.invent({create:function(J){this.constructor.call(this,f.create(J+"Gradient")),this.type=J},inherit:f.Container,extend:{at:function(J,pe,ze){return this.put(new f.Stop).update(J,pe,ze)},update:function(J){return this.clear(),"function"==typeof J&&J.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(J,pe,ze){return"transform"==J&&(J="gradientTransform"),f.Container.prototype.attr.call(this,J,pe,ze)}},construct:{gradient:function(J,pe){return this.defs().gradient(J,pe)}}}),f.extend(f.Gradient,f.FX,{from:function(J,pe){return this.attr("radial"==(this._target||this).type?{fx:new f.Number(J),fy:new f.Number(pe)}:{x1:new f.Number(J),y1:new f.Number(pe)})},to:function(J,pe){return this.attr("radial"==(this._target||this).type?{cx:new f.Number(J),cy:new f.Number(pe)}:{x2:new f.Number(J),y2:new f.Number(pe)})}}),f.extend(f.Defs,{gradient:function(J,pe){return this.put(new f.Gradient(J)).update(pe)}}),f.Stop=f.invent({create:"stop",inherit:f.Element,extend:{update:function(J){return("number"==typeof J||J instanceof f.Number)&&(J={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=J.opacity&&this.attr("stop-opacity",J.opacity),null!=J.color&&this.attr("stop-color",J.color),null!=J.offset&&this.attr("offset",new f.Number(J.offset)),this}}}),f.Pattern=f.invent({create:"pattern",inherit:f.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(J){return this.clear(),"function"==typeof J&&J.call(this,this),this},toString:function(){return this.fill()},attr:function(J,pe,ze){return"transform"==J&&(J="patternTransform"),f.Container.prototype.attr.call(this,J,pe,ze)}},construct:{pattern:function(J,pe,ze){return this.defs().pattern(J,pe,ze)}}}),f.extend(f.Defs,{pattern:function(J,pe,ze){return this.put(new f.Pattern).update(ze).attr({x:0,y:0,width:J,height:pe,patternUnits:"userSpaceOnUse"})}}),f.Shape=f.invent({create:function(J){this.constructor.call(this,J)},inherit:f.Element}),f.Symbol=f.invent({create:"symbol",inherit:f.Container,construct:{symbol:function(){return this.put(new f.Symbol)}}}),f.Use=f.invent({create:"use",inherit:f.Shape,extend:{element:function(J,pe){return this.attr("href",(pe||"")+"#"+J,f.xlink)}},construct:{use:function(J,pe){return this.put(new f.Use).element(J,pe)}}}),f.Rect=f.invent({create:"rect",inherit:f.Shape,construct:{rect:function(J,pe){return this.put(new f.Rect).size(J,pe)}}}),f.Circle=f.invent({create:"circle",inherit:f.Shape,construct:{circle:function(J){return this.put(new f.Circle).rx(new f.Number(J).divide(2)).move(0,0)}}}),f.extend(f.Circle,f.FX,{rx:function(J){return this.attr("r",J)},ry:function(J){return this.rx(J)}}),f.Ellipse=f.invent({create:"ellipse",inherit:f.Shape,construct:{ellipse:function(J,pe){return this.put(new f.Ellipse).size(J,pe).move(0,0)}}}),f.extend(f.Ellipse,f.Rect,f.FX,{rx:function(J){return this.attr("rx",J)},ry:function(J){return this.attr("ry",J)}}),f.extend(f.Circle,f.Ellipse,{x:function(J){return null==J?this.cx()-this.rx():this.cx(J+this.rx())},y:function(J){return null==J?this.cy()-this.ry():this.cy(J+this.ry())},cx:function(J){return null==J?this.attr("cx"):this.attr("cx",J)},cy:function(J){return null==J?this.attr("cy"):this.attr("cy",J)},width:function(J){return null==J?2*this.rx():this.rx(new f.Number(J).divide(2))},height:function(J){return null==J?2*this.ry():this.ry(new f.Number(J).divide(2))},size:function(J,pe){var ze=ae(this,J,pe);return this.rx(new f.Number(ze.width).divide(2)).ry(new f.Number(ze.height).divide(2))}}),f.Line=f.invent({create:"line",inherit:f.Shape,extend:{array:function(){return new f.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(J,pe,ze,Je){return null==J?this.array():(J=void 0!==pe?{x1:J,y1:pe,x2:ze,y2:Je}:new f.PointArray(J).toLine(),this.attr(J))},move:function(J,pe){return this.attr(this.array().move(J,pe).toLine())},size:function(J,pe){var ze=ae(this,J,pe);return this.attr(this.array().size(ze.width,ze.height).toLine())}},construct:{line:function(J,pe,ze,Je){return f.Line.prototype.plot.apply(this.put(new f.Line),null!=J?[J,pe,ze,Je]:[0,0,0,0])}}}),f.Polyline=f.invent({create:"polyline",inherit:f.Shape,construct:{polyline:function(J){return this.put(new f.Polyline).plot(J||new f.PointArray)}}}),f.Polygon=f.invent({create:"polygon",inherit:f.Shape,construct:{polygon:function(J){return this.put(new f.Polygon).plot(J||new f.PointArray)}}}),f.extend(f.Polyline,f.Polygon,{array:function(){return this._array||(this._array=new f.PointArray(this.attr("points")))},plot:function(J){return null==J?this.array():this.clear().attr("points","string"==typeof J?J:this._array=new f.PointArray(J))},clear:function(){return delete this._array,this},move:function(J,pe){return this.attr("points",this.array().move(J,pe))},size:function(J,pe){var ze=ae(this,J,pe);return this.attr("points",this.array().size(ze.width,ze.height))}}),f.extend(f.Line,f.Polyline,f.Polygon,{morphArray:f.PointArray,x:function(J){return null==J?this.bbox().x:this.move(J,this.bbox().y)},y:function(J){return null==J?this.bbox().y:this.move(this.bbox().x,J)},width:function(J){var pe=this.bbox();return null==J?pe.width:this.size(J,pe.height)},height:function(J){var pe=this.bbox();return null==J?pe.height:this.size(pe.width,J)}}),f.Path=f.invent({create:"path",inherit:f.Shape,extend:{morphArray:f.PathArray,array:function(){return this._array||(this._array=new f.PathArray(this.attr("d")))},plot:function(J){return null==J?this.array():this.clear().attr("d","string"==typeof J?J:this._array=new f.PathArray(J))},clear:function(){return delete this._array,this}},construct:{path:function(J){return this.put(new f.Path).plot(J||new f.PathArray)}}}),f.Image=f.invent({create:"image",inherit:f.Shape,extend:{load:function(J){if(!J)return this;var pe=this,ze=new Re.Image;return f.on(ze,"load",function(){f.off(ze);var Je=pe.parent(f.Pattern);null!==Je&&(0==pe.width()&&0==pe.height()&&pe.size(ze.width,ze.height),Je&&0==Je.width()&&0==Je.height()&&Je.size(pe.width(),pe.height()),"function"==typeof pe._loaded&&pe._loaded.call(pe,{width:ze.width,height:ze.height,ratio:ze.width/ze.height,url:J}))}),f.on(ze,"error",function(Je){f.off(ze),"function"==typeof pe._error&&pe._error.call(pe,Je)}),this.attr("href",ze.src=this.src=J,f.xlink)},loaded:function(J){return this._loaded=J,this},error:function(J){return this._error=J,this}},construct:{image:function(J,pe,ze){return this.put(new f.Image).load(J).size(pe||0,ze||pe||0)}}}),f.Text=f.invent({create:function(){this.constructor.call(this,f.create("text")),this.dom.leading=new f.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",f.defaults.attrs["font-family"])},inherit:f.Shape,extend:{x:function(J){return null==J?this.attr("x"):this.attr("x",J)},text:function(J){if(void 0===J){J="";for(var pe=this.node.childNodes,ze=0,Je=pe.length;ze<Je;++ze)0!=ze&&3!=pe[ze].nodeType&&1==f.adopt(pe[ze]).dom.newLined&&(J+="\n"),J+=pe[ze].textContent;return J}if(this.clear().build(!0),"function"==typeof J)J.call(this,this);else{ze=0;for(var ft=(J=J.split("\n")).length;ze<ft;ze++)this.tspan(J[ze]).newLine()}return this.build(!1).rebuild()},size:function(J){return this.attr("font-size",J).rebuild()},leading:function(J){return null==J?this.dom.leading:(this.dom.leading=new f.Number(J),this.rebuild())},lines:function(){var J=(this.textPath&&this.textPath()||this).node,pe=f.utils.map(f.utils.filterSVGElements(J.childNodes),function(ze){return f.adopt(ze)});return new f.Set(pe)},rebuild:function(J){if("boolean"==typeof J&&(this._rebuild=J),this._rebuild){var pe=this,ze=0,Je=this.dom.leading*new f.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(pe.textPath()||this.attr("x",pe.attr("x")),"\n"==this.text()?ze+=Je:(this.attr("dy",Je+ze),ze=0))}),this.fire("rebuild")}return this},build:function(J){return this._build=!!J,this},setData:function(J){return this.dom=J,this.dom.leading=new f.Number(J.leading||1.3),this}},construct:{text:function(J){return this.put(new f.Text).text(J)},plain:function(J){return this.put(new f.Text).plain(J)}}}),f.Tspan=f.invent({create:"tspan",inherit:f.Shape,extend:{text:function(J){return null==J?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof J?J.call(this,this):this.plain(J),this)},dx:function(J){return this.attr("dx",J)},dy:function(J){return this.attr("dy",J)},newLine:function(){var J=this.parent(f.Text);return this.dom.newLined=!0,this.dy(J.dom.leading*J.attr("font-size")).attr("x",J.x())}}}),f.extend(f.Text,f.Tspan,{plain:function(J){return!1===this._build&&this.clear(),this.node.appendChild(p.createTextNode(J)),this},tspan:function(J){var pe=(this.textPath&&this.textPath()||this).node,ze=new f.Tspan;return!1===this._build&&this.clear(),pe.appendChild(ze.node),ze.text(J)},clear:function(){for(var J=(this.textPath&&this.textPath()||this).node;J.hasChildNodes();)J.removeChild(J.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),f.TextPath=f.invent({create:"textPath",inherit:f.Parent,parent:f.Text,construct:{morphArray:f.PathArray,array:function(){var J=this.track();return J?J.array():null},plot:function(J){var pe=this.track(),ze=null;return pe&&(ze=pe.plot(J)),null==J?ze:this},track:function(){var J=this.textPath();if(J)return J.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return f.adopt(this.node.firstChild)}}}),f.Nested=f.invent({create:function(){this.constructor.call(this,f.create("svg")),this.style("overflow","visible")},inherit:f.Container,construct:{nested:function(){return this.put(new f.Nested)}}});var F={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(J,pe){return"color"==pe?J:J+"-"+pe}};function W(J,pe,ze,Je){return ze+Je.replace(f.regex.dots," .")}function q(J){return J.toLowerCase().replace(/-(.)/g,function(pe,ze){return ze.toUpperCase()})}function oe(J){return J.charAt(0).toUpperCase()+J.slice(1)}function ue(J){var pe=J.toString(16);return 1==pe.length?"0"+pe:pe}function ae(J,pe,ze){if(null==pe||null==ze){var Je=J.bbox();null==pe?pe=Je.width/Je.height*ze:null==ze&&(ze=Je.height/Je.width*pe)}return{width:pe,height:ze}}function _e(J,pe,ze){return{x:pe*J.a+ze*J.c+0,y:pe*J.b+ze*J.d+0}}function Ie(J){return{a:J[0],b:J[1],c:J[2],d:J[3],e:J[4],f:J[5]}}function Pe(J){for(var pe=J.childNodes.length-1;pe>=0;pe--)J.childNodes[pe]instanceof Re.SVGElement&&Pe(J.childNodes[pe]);return f.adopt(J).id(f.eid(J.nodeName))}function Be(J){return null==J.x&&(J.x=0,J.y=0,J.width=0,J.height=0),J.w=J.width,J.h=J.height,J.x2=J.x+J.width,J.y2=J.y+J.height,J.cx=J.x+J.width/2,J.cy=J.y+J.height/2,J}function Ge(J){return Math.abs(J)>1e-37?J:0}["fill","stroke"].forEach(function(J){var pe={};pe[J]=function(ze){if(void 0===ze)return this;if("string"==typeof ze||f.Color.isRgb(ze)||ze&&"function"==typeof ze.fill)this.attr(J,ze);else for(var Je=F[J].length-1;Je>=0;Je--)null!=ze[F[J][Je]]&&this.attr(F.prefix(J,F[J][Je]),ze[F[J][Je]]);return this},f.extend(f.Element,f.FX,pe)}),f.extend(f.Element,f.FX,{translate:function(J,pe){return this.transform({x:J,y:pe})},matrix:function(J){return this.attr("transform",new f.Matrix(6==arguments.length?[].slice.call(arguments):J))},opacity:function(J){return this.attr("opacity",J)},dx:function(J){return this.x(new f.Number(J).plus(this instanceof f.FX?0:this.x()),!0)},dy:function(J){return this.y(new f.Number(J).plus(this instanceof f.FX?0:this.y()),!0)}}),f.extend(f.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(J){return this.node.getPointAtLength(J)}}),f.Set=f.invent({create:function(J){Array.isArray(J)?this.members=J:this.clear()},extend:{add:function(){for(var J=[].slice.call(arguments),pe=0,ze=J.length;pe<ze;pe++)this.members.push(J[pe]);return this},remove:function(J){var pe=this.index(J);return pe>-1&&this.members.splice(pe,1),this},each:function(J){for(var pe=0,ze=this.members.length;pe<ze;pe++)J.apply(this.members[pe],[pe,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(J){return this.index(J)>=0},index:function(J){return this.members.indexOf(J)},get:function(J){return this.members[J]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(J){return new f.Set(J)}}}),f.FX.Set=f.invent({create:function(J){this.set=J}}),f.Set.inherit=function(){var J=[];for(var pe in f.Shape.prototype)"function"==typeof f.Shape.prototype[pe]&&"function"!=typeof f.Set.prototype[pe]&&J.push(pe);for(var pe in J.forEach(function(Je){f.Set.prototype[Je]=function(){for(var ft=0,ln=this.members.length;ft<ln;ft++)this.members[ft]&&"function"==typeof this.members[ft][Je]&&this.members[ft][Je].apply(this.members[ft],arguments);return"animate"==Je?this.fx||(this.fx=new f.FX.Set(this)):this}}),J=[],f.FX.prototype)"function"==typeof f.FX.prototype[pe]&&"function"!=typeof f.FX.Set.prototype[pe]&&J.push(pe);J.forEach(function(ze){f.FX.Set.prototype[ze]=function(){for(var Je=0,ft=this.set.members.length;Je<ft;Je++)this.set.members[Je].fx[ze].apply(this.set.members[Je].fx,arguments);return this}})},f.extend(f.Element,{}),f.extend(f.Element,{remember:function(J,pe){if("object"===$(arguments[0]))for(var ze in J)this.remember(ze,J[ze]);else{if(1==arguments.length)return this.memory()[J];this.memory()[J]=pe}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var J=arguments.length-1;J>=0;J--)delete this.memory()[arguments[J]];return this},memory:function(){return this._memory||(this._memory={})}}),f.get=function(J){var pe=p.getElementById(function(ze){var Je=(ze||"").toString().match(f.regex.reference);if(Je)return Je[1]}(J)||J);return f.adopt(pe)},f.select=function(J,pe){return new f.Set(f.utils.map((pe||p).querySelectorAll(J),function(ze){return f.adopt(ze)}))},f.extend(f.Parent,{select:function(J){return f.select(J,this.node)}});var st="abcdef".split("");if("function"!=typeof Re.CustomEvent){var bt=function(J,pe){pe=pe||{bubbles:!1,cancelable:!1,detail:void 0};var ze=p.createEvent("CustomEvent");return ze.initCustomEvent(J,pe.bubbles,pe.cancelable,pe.detail),ze};bt.prototype=Re.Event.prototype,f.CustomEvent=bt}else f.CustomEvent=Re.CustomEvent;return f},void 0!==(o=function(){return dt($e,$e.document)}.call(kt,Ae,kt,jt))&&(jt.exports=o),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(F,W){return this.add(F,W),!F.attr("in")&&this.autoSetIn&&F.attr("in",this.source),F.attr("result")||F.attr("result",F),F},blend:function(F,W,q){return this.put(new SVG.BlendEffect(F,W,q))},colorMatrix:function(F,W){return this.put(new SVG.ColorMatrixEffect(F,W))},convolveMatrix:function(F){return this.put(new SVG.ConvolveMatrixEffect(F))},componentTransfer:function(F){return this.put(new SVG.ComponentTransferEffect(F))},composite:function(F,W,q){return this.put(new SVG.CompositeEffect(F,W,q))},flood:function(F,W){return this.put(new SVG.FloodEffect(F,W))},offset:function(F,W){return this.put(new SVG.OffsetEffect(F,W))},image:function(F){return this.put(new SVG.ImageEffect(F))},merge:function(){var F=[void 0];for(var W in arguments)F.push(arguments[W]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,F)))},gaussianBlur:function(F,W){return this.put(new SVG.GaussianBlurEffect(F,W))},morphology:function(F,W){return this.put(new SVG.MorphologyEffect(F,W))},diffuseLighting:function(F,W,q){return this.put(new SVG.DiffuseLightingEffect(F,W,q))},displacementMap:function(F,W,q,oe,ue){return this.put(new SVG.DisplacementMapEffect(F,W,q,oe,ue))},specularLighting:function(F,W,q,oe){return this.put(new SVG.SpecularLightingEffect(F,W,q,oe))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(F,W,q,oe,ue){return this.put(new SVG.TurbulenceEffect(F,W,q,oe,ue))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(F){var W=this.put(new SVG.Filter);return"function"==typeof F&&F.call(W,W),W}}),SVG.extend(SVG.Container,{filter:function(F){return this.defs().filter(F)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(F){return this.filterer=F instanceof SVG.Element?F:this.doc().filter(F),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(F){return this.filterer&&!0===F&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",F)},result:function(F){return null==F?this.attr("result"):this.attr("result",F)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",F)},result:function(F){return null==F?this.attr("result"):this.attr("result",F)},toString:function(){return this.result()}}});var Re={blend:function(F,W){return this.parent()&&this.parent().blend(this,F,W)},colorMatrix:function(F,W){return this.parent()&&this.parent().colorMatrix(F,W).in(this)},convolveMatrix:function(F){return this.parent()&&this.parent().convolveMatrix(F).in(this)},componentTransfer:function(F){return this.parent()&&this.parent().componentTransfer(F).in(this)},composite:function(F,W){return this.parent()&&this.parent().composite(this,F,W)},flood:function(F,W){return this.parent()&&this.parent().flood(F,W)},offset:function(F,W){return this.parent()&&this.parent().offset(F,W).in(this)},image:function(F){return this.parent()&&this.parent().image(F)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(F,W){return this.parent()&&this.parent().gaussianBlur(F,W).in(this)},morphology:function(F,W){return this.parent()&&this.parent().morphology(F,W).in(this)},diffuseLighting:function(F,W,q){return this.parent()&&this.parent().diffuseLighting(F,W,q).in(this)},displacementMap:function(F,W,q,oe){return this.parent()&&this.parent().displacementMap(this,F,W,q,oe)},specularLighting:function(F,W,q,oe){return this.parent()&&this.parent().specularLighting(F,W,q,oe).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(F,W,q,oe,ue){return this.parent()&&this.parent().turbulence(F,W,q,oe,ue).in(this)}};SVG.extend(SVG.Effect,Re),SVG.extend(SVG.ParentEffect,Re),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(F){this.attr("in",F)}}});var p={blend:function(F,W,q){this.attr({in:F,in2:W,mode:q||"normal"})},colorMatrix:function(F,W){"matrix"==F&&(W=S(W)),this.attr({type:F,values:void 0===W?null:W})},convolveMatrix:function(F){F=S(F),this.attr({order:Math.sqrt(F.split(" ").length),kernelMatrix:F})},composite:function(F,W,q){this.attr({in:F,in2:W,operator:q})},flood:function(F,W){this.attr("flood-color",F),null!=W&&this.attr("flood-opacity",W)},offset:function(F,W){this.attr({dx:F,dy:W})},image:function(F){this.attr("href",F,SVG.xlink)},displacementMap:function(F,W,q,oe,ue){this.attr({in:F,in2:W,scale:q,xChannelSelector:oe,yChannelSelector:ue})},gaussianBlur:function(F,W){this.attr("stdDeviation",null!=F||null!=W?D(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(F,W){this.attr({operator:F,radius:W})},tile:function(){},turbulence:function(F,W,q,oe,ue){this.attr({numOctaves:W,seed:q,stitchTiles:oe,baseFrequency:F,type:ue})}},f={merge:function(){var F;if(arguments[0]instanceof SVG.Set){var W=this;arguments[0].each(function(oe){this instanceof SVG.MergeNode?W.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&W.put(new SVG.MergeNode(this))})}else{F=Array.isArray(arguments[0])?arguments[0]:arguments;for(var q=0;q<F.length;q++)F[q]instanceof SVG.MergeNode?this.put(F[q]):this.put(new SVG.MergeNode(F[q]))}},componentTransfer:function(F){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(q){this[q]=new(SVG["Func"+q.toUpperCase()])("identity"),this.rgb.add(this[q]),this.node.appendChild(this[q].node)}.bind(this)),F)for(var W in F.rgb&&(["r","g","b"].forEach(function(q){this[q].attr(F.rgb)}.bind(this)),delete F.rgb),F)this[W].attr(F[W])},diffuseLighting:function(F,W,q){this.attr({surfaceScale:F,diffuseConstant:W,kernelUnitLength:q})},specularLighting:function(F,W,q,oe){this.attr({surfaceScale:F,diffuseConstant:W,specularExponent:q,kernelUnitLength:oe})}},b={distantLight:function(F,W){this.attr({azimuth:F,elevation:W})},pointLight:function(F,W,q){this.attr({x:F,y:W,z:q})},spotLight:function(F,W,q,oe,ue,ae){this.attr({x:F,y:W,z:q,pointsAtX:oe,pointsAtY:ue,pointsAtZ:ae})},mergeNode:function(F){this.attr("in",F)}};function S(F){return Array.isArray(F)&&(F=new SVG.Array(F)),F.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function D(F){if(!Array.isArray(F))return F;for(var W=0,q=F.length,oe=[];W<q;W++)oe.push(F[W]);return oe.join(" ")}function B(){var F=function(){};for(var W in"function"==typeof arguments[arguments.length-1]&&(F=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var q in arguments[W])F(arguments[W][q],q,arguments[W])}["r","g","b","a"].forEach(function(F){b["Func"+F.toUpperCase()]=function(W){switch(this.attr("type",W),W){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),B(p,function(F,W){var q=W.charAt(0).toUpperCase()+W.slice(1);SVG[q+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),B(f,function(F,W){var q=W.charAt(0).toUpperCase()+W.slice(1);SVG[q+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),B(b,function(F,W){var q=W.charAt(0).toUpperCase()+W.slice(1);SVG[q]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(F){return F instanceof SVG.MergeNode?this.add(F,0):this.add(new SVG.MergeNode(F),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",F)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function Re(D,B,F,W,q,oe,ue){for(var ae=D.slice(B,F||ue),_e=W.slice(q,oe||ue),Ie=0,Pe={pos:[0,0],start:[0,0]},Be={pos:[0,0],start:[0,0]};ae[Ie]=p.call(Pe,ae[Ie]),_e[Ie]=p.call(Be,_e[Ie]),ae[Ie][0]!=_e[Ie][0]||"M"==ae[Ie][0]||"A"==ae[Ie][0]&&(ae[Ie][4]!=_e[Ie][4]||ae[Ie][5]!=_e[Ie][5])?(Array.prototype.splice.apply(ae,[Ie,1].concat(b.call(Pe,ae[Ie]))),Array.prototype.splice.apply(_e,[Ie,1].concat(b.call(Be,_e[Ie])))):(ae[Ie]=f.call(Pe,ae[Ie]),_e[Ie]=f.call(Be,_e[Ie])),++Ie!=ae.length||Ie!=_e.length;)Ie==ae.length&&ae.push(["C",Pe.pos[0],Pe.pos[1],Pe.pos[0],Pe.pos[1],Pe.pos[0],Pe.pos[1]]),Ie==_e.length&&_e.push(["C",Be.pos[0],Be.pos[1],Be.pos[0],Be.pos[1],Be.pos[0],Be.pos[1]]);return{start:ae,dest:_e}}function p(D){switch(D[0]){case"z":case"Z":D[0]="L",D[1]=this.start[0],D[2]=this.start[1];break;case"H":D[0]="L",D[2]=this.pos[1];break;case"V":D[0]="L",D[2]=D[1],D[1]=this.pos[0];break;case"T":D[0]="Q",D[3]=D[1],D[4]=D[2],D[1]=this.reflection[1],D[2]=this.reflection[0];break;case"S":D[0]="C",D[6]=D[4],D[5]=D[3],D[4]=D[2],D[3]=D[1],D[2]=this.reflection[1],D[1]=this.reflection[0]}return D}function f(D){var B=D.length;return this.pos=[D[B-2],D[B-1]],-1!="SCQT".indexOf(D[0])&&(this.reflection=[2*this.pos[0]-D[B-4],2*this.pos[1]-D[B-3]]),D}function b(D){var B=[D];switch(D[0]){case"M":return this.pos=this.start=[D[1],D[2]],B;case"L":D[5]=D[3]=D[1],D[6]=D[4]=D[2],D[1]=this.pos[0],D[2]=this.pos[1];break;case"Q":D[6]=D[4],D[5]=D[3],D[4]=1*D[4]/3+2*D[2]/3,D[3]=1*D[3]/3+2*D[1]/3,D[2]=1*this.pos[1]/3+2*D[2]/3,D[1]=1*this.pos[0]/3+2*D[1]/3;break;case"A":D=(B=function(F,W){var q,oe,ue,ae,_e,Ie,Pe,Be,Ge,st,bt,J,pe,ze,Je,ft,ln,$t,cn,Un,zn,Ai,gr,vi,Yi,Pr,oo=Math.abs(W[1]),Ms=Math.abs(W[2]),Gi=W[3]%360,qr=W[4],Ts=W[5],Aa=W[6],da=W[7],_o=new SVG.Point(F),qo=new SVG.Point(Aa,da),Cd=[];if(0===oo||0===Ms||_o.x===qo.x&&_o.y===qo.y)return[["C",_o.x,_o.y,qo.x,qo.y,qo.x,qo.y]];for((oe=(q=new SVG.Point((_o.x-qo.x)/2,(_o.y-qo.y)/2).transform((new SVG.Matrix).rotate(Gi))).x*q.x/(oo*oo)+q.y*q.y/(Ms*Ms))>1&&(oo*=oe=Math.sqrt(oe),Ms*=oe),ue=(new SVG.Matrix).rotate(Gi).scale(1/oo,1/Ms).rotate(-Gi),_o=_o.transform(ue),Ie=(ae=[(qo=qo.transform(ue)).x-_o.x,qo.y-_o.y])[0]*ae[0]+ae[1]*ae[1],_e=Math.sqrt(Ie),ae[0]/=_e,ae[1]/=_e,Pe=Ie<4?Math.sqrt(1-Ie/4):0,qr===Ts&&(Pe*=-1),Be=new SVG.Point((qo.x+_o.x)/2+Pe*-ae[1],(qo.y+_o.y)/2+Pe*ae[0]),Ge=new SVG.Point(_o.x-Be.x,_o.y-Be.y),st=new SVG.Point(qo.x-Be.x,qo.y-Be.y),bt=Math.acos(Ge.x/Math.sqrt(Ge.x*Ge.x+Ge.y*Ge.y)),Ge.y<0&&(bt*=-1),J=Math.acos(st.x/Math.sqrt(st.x*st.x+st.y*st.y)),st.y<0&&(J*=-1),Ts&&bt>J&&(J+=2*Math.PI),!Ts&&bt<J&&(J-=2*Math.PI),ft=[],ln=bt,pe=(J-bt)/(ze=Math.ceil(2*Math.abs(bt-J)/Math.PI)),Je=4*Math.tan(pe/4)/3,zn=0;zn<=ze;zn++)cn=Math.cos(ln),$t=Math.sin(ln),Un=new SVG.Point(Be.x+cn,Be.y+$t),ft[zn]=[new SVG.Point(Un.x+Je*$t,Un.y-Je*cn),Un,new SVG.Point(Un.x-Je*$t,Un.y+Je*cn)],ln+=pe;for(ft[0][0]=ft[0][1].clone(),ft[ft.length-1][2]=ft[ft.length-1][1].clone(),ue=(new SVG.Matrix).rotate(Gi).scale(oo,Ms).rotate(-Gi),zn=0,Ai=ft.length;zn<Ai;zn++)ft[zn][0]=ft[zn][0].transform(ue),ft[zn][1]=ft[zn][1].transform(ue),ft[zn][2]=ft[zn][2].transform(ue);for(zn=1,Ai=ft.length;zn<Ai;zn++)gr=(Un=ft[zn-1][2]).x,vi=Un.y,Yi=(Un=ft[zn][0]).x,Pr=Un.y,Aa=(Un=ft[zn][1]).x,Cd.push(["C",gr,vi,Yi,Pr,Aa,da=Un.y]);return Cd}(this.pos,D))[0]}return D[0]="C",this.pos=[D[5],D[6]],this.reflection=[2*D[5]-D[3],2*D[6]-D[4]],B}function S(D,B){if(!1===B)return!1;for(var F=B,W=D.length;F<W;++F)if("M"==D[F][0])return F;return!1}SVG.extend(SVG.PathArray,{morph:function(D){for(var B=this.value,F=this.parse(D),W=0,q=0,oe=!1,ue=!1;!1!==W||!1!==q;){var ae;oe=S(B,!1!==W&&W+1),ue=S(F,!1!==q&&q+1),!1===W&&(W=0==(ae=new SVG.PathArray(_e.start).bbox()).height||0==ae.width?B.push(B[0])-1:B.push(["M",ae.x+ae.width/2,ae.y+ae.height/2])-1),!1===q&&(q=0==(ae=new SVG.PathArray(_e.dest).bbox()).height||0==ae.width?F.push(F[0])-1:F.push(["M",ae.x+ae.width/2,ae.y+ae.height/2])-1);var _e=Re(B,W,oe,F,q,ue);B=B.slice(0,W).concat(_e.start,!1===oe?[]:B.slice(oe)),F=F.slice(0,q).concat(_e.dest,!1===ue?[]:F.slice(ue)),W=!1!==oe&&W+_e.start.length,q=!1!==ue&&q+_e.dest.length}return this.value=B,this.destination=new SVG.PathArray,this.destination.value=F,this}})}(),function(){function Re(p){p.remember("_draggable",this),this.el=p}Re.prototype.init=function(p,f){var b=this;this.constraint=p,this.value=f,this.el.on("mousedown.drag",function(S){b.start(S)}),this.el.on("touchstart.drag",function(S){b.start(S)})},Re.prototype.transformPoint=function(p,f){var b=(p=p||window.event).changedTouches&&p.changedTouches[0]||p;return this.p.x=b.clientX-(f||0),this.p.y=b.clientY,this.p.matrixTransform(this.m)},Re.prototype.getBBox=function(){var p=this.el.bbox();return this.el instanceof SVG.Nested&&(p=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(p.x=this.el.x(),p.y=this.el.y()),p},Re.prototype.start=function(p){if("click"!=p.type&&"mousedown"!=p.type&&"mousemove"!=p.type||1==(p.which||p.buttons)){var f=this;if(this.el.fire("beforedrag",{event:p,handler:this}),!this.el.event().defaultPrevented){p.preventDefault(),p.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var b,S=this.getBBox();if(this.el instanceof SVG.Text)switch(b=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":b/=2;break;case"start":b=0}this.startPoints={point:this.transformPoint(p,b),box:S,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(D){f.drag(D)}),SVG.on(window,"touchmove.drag",function(D){f.drag(D)}),SVG.on(window,"mouseup.drag",function(D){f.end(D)}),SVG.on(window,"touchend.drag",function(D){f.end(D)}),this.el.fire("dragstart",{event:p,p:this.startPoints.point,m:this.m,handler:this})}}},Re.prototype.drag=function(p){var f=this.getBBox(),b=this.transformPoint(p),S=this.startPoints.box.x+b.x-this.startPoints.point.x,D=this.startPoints.box.y+b.y-this.startPoints.point.y,B=this.constraint,F=b.x-this.startPoints.point.x,W=b.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:p,p:b,m:this.m,handler:this}),this.el.event().defaultPrevented)return b;if("function"==typeof B){var q=B.call(this.el,S,D,this.m);"boolean"==typeof q&&(q={x:q,y:q}),!0===q.x?this.el.x(S):!1!==q.x&&this.el.x(q.x),!0===q.y?this.el.y(D):!1!==q.y&&this.el.y(q.y)}else"object"==typeof B&&(null!=B.minX&&S<B.minX?F=(S=B.minX)-this.startPoints.box.x:null!=B.maxX&&S>B.maxX-f.width&&(F=(S=B.maxX-f.width)-this.startPoints.box.x),null!=B.minY&&D<B.minY?W=(D=B.minY)-this.startPoints.box.y:null!=B.maxY&&D>B.maxY-f.height&&(W=(D=B.maxY-f.height)-this.startPoints.box.y),null!=B.snapToGrid&&(S-=S%B.snapToGrid,D-=D%B.snapToGrid,F-=F%B.snapToGrid,W-=W%B.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:F,y:W},!0):this.el.move(S,D));return b},Re.prototype.end=function(p){var f=this.drag(p);this.el.fire("dragend",{event:p,p:f,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(p,f){"function"!=typeof p&&"object"!=typeof p||(f=p,p=!0);var b=this.remember("_draggable")||new Re(this);return(p=void 0===p||p)?b.init(f||{},p):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function Re(p){this.el=p,p.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(f,b,S){var D="string"!=typeof f?f:b[f];return S?D/2:D},this.pointCoords=function(f,b){var S=this.pointsList[f];return{x:this.pointCoord(S[0],b,"t"===f||"b"===f),y:this.pointCoord(S[1],b,"r"===f||"l"===f)}}}Re.prototype.init=function(p,f){var b=this.el.bbox();this.options={};var S=this.el.selectize.defaults.points;for(var D in this.el.selectize.defaults)this.options[D]=this.el.selectize.defaults[D],void 0!==f[D]&&(this.options[D]=f[D]);var B=["points","pointsExclude"];for(var D in B){var F=this.options[B[D]];"string"==typeof F?F=F.length>0?F.split(/\s*,\s*/i):[]:"boolean"==typeof F&&"points"===B[D]&&(F=F?S:[]),this.options[B[D]]=F}this.options.points=[S,this.options.points].reduce(function(W,q){return W.filter(function(oe){return q.indexOf(oe)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(W,q){return W.filter(function(oe){return q.indexOf(oe)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(b.x,b.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(p):this.selectRect(p),this.observe(),this.cleanup()},Re.prototype.selectPoints=function(p){return this.pointSelection.isSelected=p,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},Re.prototype.getPointArray=function(){var p=this.el.bbox();return this.el.array().valueOf().map(function(f){return[f[0]-p.x,f[1]-p.y]})},Re.prototype.drawPoints=function(){for(var p=this,f=this.getPointArray(),b=0,S=f.length;b<S;++b){var D=function(F){return function(W){(W=W||window.event).preventDefault?W.preventDefault():W.returnValue=!1,W.stopPropagation(),p.el.fire("point",{x:W.pageX||W.touches[0].pageX,y:W.pageY||W.touches[0].pageY,i:F,event:W})}}(b),B=this.drawPoint(f[b][0],f[b][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",D).on("mousedown",D);this.pointSelection.set.add(B)}},Re.prototype.drawPoint=function(p,f){var b=this.options.pointType;switch(b){case"circle":return this.drawCircle(p,f);case"rect":return this.drawRect(p,f);default:if("function"==typeof b)return b.call(this,p,f);throw new Error("Unknown "+b+" point type!")}},Re.prototype.drawCircle=function(p,f){return this.nested.circle(this.options.pointSize).center(p,f)},Re.prototype.drawRect=function(p,f){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(p,f)},Re.prototype.updatePointSelection=function(){var p=this.getPointArray();this.pointSelection.set.each(function(f){this.cx()===p[f][0]&&this.cy()===p[f][1]||this.center(p[f][0],p[f][1])})},Re.prototype.updateRectSelection=function(){var p=this,f=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:f.width,height:f.height}),this.options.points.length&&this.options.points.map(function(S,D){var B=p.pointCoords(S,f);p.rectSelection.set.get(D+1).center(B.x,B.y)}),this.options.rotationPoint){var b=this.rectSelection.set.length();this.rectSelection.set.get(b-1).center(f.width/2,20)}},Re.prototype.selectRect=function(p){var f=this,b=this.el.bbox();function S(F){return function(W){(W=W||window.event).preventDefault?W.preventDefault():W.returnValue=!1,W.stopPropagation(),f.el.fire(F,{x:W.pageX||W.touches[0].pageX,y:W.pageY||W.touches[0].pageY,event:W})}}if(this.rectSelection.isSelected=p,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(b.width,b.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(F,W){var q=f.pointCoords(F,b),oe=f.drawPoint(q.x,q.y).attr("class",f.options.classPoints+"_"+F).on("mousedown",S(F)).on("touchstart",S(F));f.rectSelection.set.add(oe)}),this.rectSelection.set.each(function(){this.addClass(f.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var D=function(F){(F=F||window.event).preventDefault?F.preventDefault():F.returnValue=!1,F.stopPropagation(),f.el.fire("rot",{x:F.pageX||F.touches[0].pageX,y:F.pageY||F.touches[0].pageY,event:F})},B=this.drawPoint(b.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",D).on("mousedown",D);this.rectSelection.set.add(B)}},Re.prototype.handler=function(){var p=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(p.x,p.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},Re.prototype.observe=function(){var p=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){p.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(f){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){p.handler()})},Re.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(p,f){return"object"==typeof p&&(f=p,p=!0),(this.remember("_selectHandler")||new Re(this)).init(void 0===p||p,f||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function Re(p){p.remember("_resizeHandler",this),this.el=p,this.parameters={},this.lastUpdateCall=null,this.p=p.doc().node.createSVGPoint()}Re.prototype.transformPoint=function(p,f,b){return this.p.x=p-(this.offset.x-window.pageXOffset),this.p.y=f-(this.offset.y-window.pageYOffset),this.p.matrixTransform(b||this.m)},Re.prototype._extractPosition=function(p){return{x:null!=p.clientX?p.clientX:p.touches[0].clientX,y:null!=p.clientY?p.clientY:p.touches[0].clientY}},Re.prototype.init=function(p){var f=this;if(this.stop(),"stop"!==p){for(var b in this.options={},this.el.resize.defaults)this.options[b]=this.el.resize.defaults[b],void 0!==p[b]&&(this.options[b]=p[b]);this.el.on("lt.resize",function(S){f.resize(S||window.event)}),this.el.on("rt.resize",function(S){f.resize(S||window.event)}),this.el.on("rb.resize",function(S){f.resize(S||window.event)}),this.el.on("lb.resize",function(S){f.resize(S||window.event)}),this.el.on("t.resize",function(S){f.resize(S||window.event)}),this.el.on("r.resize",function(S){f.resize(S||window.event)}),this.el.on("b.resize",function(S){f.resize(S||window.event)}),this.el.on("l.resize",function(S){f.resize(S||window.event)}),this.el.on("rot.resize",function(S){f.resize(S||window.event)}),this.el.on("point.resize",function(S){f.resize(S||window.event)}),this.update()}},Re.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},Re.prototype.resize=function(p){var f=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var b=this._extractPosition(p.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(b.x,b.y),x:p.detail.x,y:p.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==p.detail.i){var S=this.el.array().valueOf();this.parameters.i=p.detail.i,this.parameters.pointCoords=[S[p.detail.i][0],S[p.detail.i][1]]}switch(p.type){case"lt":this.calc=function(D,B){var F=this.snapToGrid(D,B);if(this.parameters.box.width-F[0]>0&&this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-F[0]);F=this.checkAspectRatio(F),this.el.move(this.parameters.box.x+F[0],this.parameters.box.y+F[1]).size(this.parameters.box.width-F[0],this.parameters.box.height-F[1])}};break;case"rt":this.calc=function(D,B){var F=this.snapToGrid(D,B,2);if(this.parameters.box.width+F[0]>0&&this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+F[0]);F=this.checkAspectRatio(F,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+F[1]).size(this.parameters.box.width+F[0],this.parameters.box.height-F[1])}};break;case"rb":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.width+F[0]>0&&this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+F[0]);F=this.checkAspectRatio(F),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+F[0],this.parameters.box.height+F[1])}};break;case"lb":this.calc=function(D,B){var F=this.snapToGrid(D,B,1);if(this.parameters.box.width-F[0]>0&&this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-F[0]);F=this.checkAspectRatio(F,!0),this.el.move(this.parameters.box.x+F[0],this.parameters.box.y).size(this.parameters.box.width-F[0],this.parameters.box.height+F[1])}};break;case"t":this.calc=function(D,B){var F=this.snapToGrid(D,B,2);if(this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+F[1]).height(this.parameters.box.height-F[1])}};break;case"r":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.width+F[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+F[0])}};break;case"b":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+F[1])}};break;case"l":this.calc=function(D,B){var F=this.snapToGrid(D,B,1);if(this.parameters.box.width-F[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+F[0],this.parameters.box.y).width(this.parameters.box.width-F[0])}};break;case"rot":this.calc=function(D,B){var F=D+this.parameters.p.x,W=B+this.parameters.p.y,q=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),oe=Math.atan2(W-this.parameters.box.y-this.parameters.box.height/2,F-this.parameters.box.x-this.parameters.box.width/2),ue=this.parameters.rotation+180*(oe-q)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(ue-ue%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(D,B){var F=this.snapToGrid(D,B,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),W=this.el.array().valueOf();W[this.parameters.i][0]=this.parameters.pointCoords[0]+F[0],W[this.parameters.i][1]=this.parameters.pointCoords[1]+F[1],this.el.plot(W)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:p}),SVG.on(window,"touchmove.resize",function(D){f.update(D||window.event)}),SVG.on(window,"touchend.resize",function(){f.done()}),SVG.on(window,"mousemove.resize",function(D){f.update(D||window.event)}),SVG.on(window,"mouseup.resize",function(){f.done()})},Re.prototype.update=function(p){if(p){var f=this._extractPosition(p),b=this.transformPoint(f.x,f.y),S=b.x-this.parameters.p.x,D=b.y-this.parameters.p.y;this.lastUpdateCall=[S,D],this.calc(S,D),this.el.fire("resizing",{dx:S,dy:D,event:p})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},Re.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},Re.prototype.snapToGrid=function(p,f,b,S){var D;return D=void 0!==S?[(b+p)%this.options.snapToGrid,(S+f)%this.options.snapToGrid]:[(this.parameters.box.x+p+(1&(b=null==b?3:b)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+f+(2&b?0:this.parameters.box.height))%this.options.snapToGrid],p<0&&(D[0]-=this.options.snapToGrid),f<0&&(D[1]-=this.options.snapToGrid),p-=Math.abs(D[0])<this.options.snapToGrid/2?D[0]:D[0]-(p<0?-this.options.snapToGrid:this.options.snapToGrid),f-=Math.abs(D[1])<this.options.snapToGrid/2?D[1]:D[1]-(f<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(p,f,b,S)},Re.prototype.constraintToBox=function(p,f,b,S){var D,B,F=this.options.constraint||{};return void 0!==S?(D=b,B=S):(D=this.parameters.box.x+(1&b?0:this.parameters.box.width),B=this.parameters.box.y+(2&b?0:this.parameters.box.height)),void 0!==F.minX&&D+p<F.minX&&(p=F.minX-D),void 0!==F.maxX&&D+p>F.maxX&&(p=F.maxX-D),void 0!==F.minY&&B+f<F.minY&&(f=F.minY-B),void 0!==F.maxY&&B+f>F.maxY&&(f=F.maxY-B),[p,f]},Re.prototype.checkAspectRatio=function(p,f){if(!this.options.saveAspectRatio)return p;var b=p.slice(),S=this.parameters.box.width/this.parameters.box.height,D=this.parameters.box.width+p[0],B=this.parameters.box.height-p[1],F=D/B;return F<S?(b[1]=D/S-this.parameters.box.height,f&&(b[1]=-b[1])):F>S&&(b[0]=this.parameters.box.width-B*S,f&&(b[0]=-b[0])),b},SVG.extend(SVG.Element,{resize:function(p){return(this.remember("_resizeHandler")||new Re(this)).init(p||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(Re,p){void 0===p&&(p={});var f=p.insertAt;if("undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],S=document.createElement("style");S.type="text/css","top"===f&&b.firstChild?b.insertBefore(S,b.firstChild):b.appendChild(S),S.styleSheet?S.styleSheet.cssText=Re:S.appendChild(document.createTextNode(Re))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function Re(ae){var _e=ae.__resizeTriggers__,Ie=_e.firstElementChild,Pe=_e.lastElementChild,Be=Ie?Ie.firstElementChild:null;Pe&&(Pe.scrollLeft=Pe.scrollWidth,Pe.scrollTop=Pe.scrollHeight),Be&&(Be.style.width=Ie.offsetWidth+1+"px",Be.style.height=Ie.offsetHeight+1+"px"),Ie&&(Ie.scrollLeft=Ie.scrollWidth,Ie.scrollTop=Ie.scrollHeight)}function p(ae){var _e=this;Re(this),this.__resizeRAF__&&D(this.__resizeRAF__),this.__resizeRAF__=S(function(){var Ie;((Ie=_e).offsetWidth!=Ie.__resizeLast__.width||Ie.offsetHeight!=Ie.__resizeLast__.height)&&(_e.__resizeLast__.width=_e.offsetWidth,_e.__resizeLast__.height=_e.offsetHeight,_e.__resizeListeners__.forEach(function(Ie){Ie.call(ae)}))})}var f,b,S=(f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(ae){return window.setTimeout(ae,20)},function(ae){return f(ae)}),D=(b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(ae){return b(ae)}),B=!1,F="animationstart",W="Webkit Moz O ms".split(" "),q="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),oe=document.createElement("fakeelement");if(void 0!==oe.style.animationName&&(B=!0),!1===B)for(var ue=0;ue<W.length;ue++)if(void 0!==oe.style[W[ue]+"AnimationName"]){F=q[ue];break}window.addResizeListener=function(ae,_e){ae.__resizeTriggers__||("static"==getComputedStyle(ae).position&&(ae.style.position="relative"),ae.__resizeLast__={},ae.__resizeListeners__=[],(ae.__resizeTriggers__=document.createElement("div")).className="resize-triggers",ae.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',ae.appendChild(ae.__resizeTriggers__),Re(ae),ae.addEventListener("scroll",p,!0),F&&ae.__resizeTriggers__.addEventListener(F,function(Ie){"resizeanim"==Ie.animationName&&Re(ae)})),ae.__resizeListeners__.push(_e)},window.removeResizeListener=function(ae,_e){ae&&(ae.__resizeListeners__.splice(ae.__resizeListeners__.indexOf(_e),1),ae.__resizeListeners__.length||(ae.removeEventListener("scroll",p),ae.__resizeTriggers__.parentNode&&(ae.__resizeTriggers__=!ae.removeChild(ae.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var Zt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ni(this.ctx),this.ctx.axes=new $s(this.ctx),this.ctx.core=new Ot(this.ctx.el,this.ctx),this.ctx.config=new xi({}),this.ctx.data=new Er(this.ctx),this.ctx.grid=new ka(this.ctx),this.ctx.graphics=new qt(this.ctx),this.ctx.coreUtils=new hi(this.ctx),this.ctx.crosshairs=new Ci(this.ctx),this.ctx.events=new nr(this.ctx),this.ctx.exports=new qs(this.ctx),this.ctx.localization=new ko(this.ctx),this.ctx.options=new jr,this.ctx.responsive=new gs(this.ctx),this.ctx.series=new li(this.ctx),this.ctx.theme=new wr(this.ctx),this.ctx.formatters=new So(this.ctx),this.ctx.titleSubtitle=new ir(this.ctx),this.ctx.legend=new Zn(this.ctx),this.ctx.toolbar=new Ji(this.ctx),this.ctx.dimensions=new Go(this.ctx),this.ctx.updateHelpers=new rn(this.ctx),this.ctx.zoomPanSelection=new ml(this.ctx),this.ctx.w.globals.tooltip=new Rt(this.ctx)}}]),Re}(),Kt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"clear",value:function(p){var f=p.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:f})}},{key:"killSVG",value:function(p){p.each(function(f,b){this.removeClass("*"),this.off(),this.stop()},!0),p.ungroup(),p.clear()}},{key:"clearDomElements",value:function(p){var f=this,S=this.w.globals.dom.Paper.node;S.parentNode&&S.parentNode.parentNode&&!p.isUpdating&&(S.parentNode.parentNode.style.minHeight="unset");var D=this.w.globals.dom.baseEl;D&&this.ctx.eventList.forEach(function(F){D.removeEventListener(F,f.ctx.events.documentEvent)});var B=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(B.Paper),B.Paper.remove(),B.elWrap=null,B.elGraphical=null,B.elAnnotations=null,B.elLegendWrap=null,B.baseEl=null,B.elGridRect=null,B.elGridRectMask=null,B.elGridRectMarkerMask=null,B.elForecastMask=null,B.elNonForecastMask=null,B.elDefs=null}}]),Re}(),kn=function(){function Re(p,f){ee(this,Re),this.opts=f,this.ctx=this,this.w=new Ni(f).init(),this.el=p,this.w.globals.cuid=ct.randomId(),this.w.globals.chartID=this.w.config.chart.id?ct.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Zt(this).initModules(),this.create=ct.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return de(Re,[{key:"render",value:function(){var p=this;return new Promise(function(f,b){if(null!==p.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),p.w.config.chart.id&&Apex._chartInstances.push({id:p.w.globals.chartID,group:p.w.config.chart.group,chart:p}),p.setLocale(p.w.config.chart.defaultLocale);var S=p.w.config.chart.events.beforeMount;"function"==typeof S&&S(p,p.w),p.events.fireEvent("beforeMount",[p,p.w]),window.addEventListener("resize",p.windowResizeHandler),window.addResizeListener(p.el.parentNode,p.parentResizeHandler);var D=p.create(p.w.config.series,{});if(!D)return f(p);p.mount(D).then(function(){"function"==typeof p.w.config.chart.events.mounted&&p.w.config.chart.events.mounted(p,p.w),p.events.fireEvent("mounted",[p,p.w]),f(D)}).catch(function(B){b(B)})}else b(new Error("Element not found"))})}},{key:"create",value:function(p,f){var b=this.w;new Zt(this).initModules();var S=this.w.globals;if(S.noData=!1,S.animationEnded=!1,this.responsive.checkResponsiveConfig(f),b.config.xaxis.convertedCatToNumeric&&new bi(b.config).convertCatToNumericXaxis(b.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===b.config.chart.type&&(b.config.grid.show=!1,b.config.yaxis[0].show=!1),0===S.svgWidth))return S.animationEnded=!0,null;var D=hi.checkComboSeries(p);S.comboCharts=D.comboCharts,S.comboBarCount=D.comboBarCount;var B=p.every(function(ue){return ue.data&&0===ue.data.length});(0===p.length||B)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(p),this.theme.init(),new Tn(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),S.noData&&S.collapsedSeries.length!==S.series.length&&!b.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),S.axisCharts&&(this.core.coreCalculations(),"category"!==b.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=b.globals.minX,this.ctx.toolbar.maxX=b.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var F=this.core.xySettings();this.grid.createGridMask();var W=this.core.plotChartType(p,F),q=new Hn(this);return q.bringForward(),b.config.dataLabels.background.enabled&&q.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:W,xyRatios:F,elInner:b.globals.dom.elGraphical,dimensions:{plot:{left:b.globals.translateX,top:b.globals.translateY,width:b.globals.gridWidth,height:b.globals.gridHeight}}}}},{key:"mount",value:function(){var p=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=this,S=b.w;return new Promise(function(D,B){if(null===b.el)return B(new Error("Not enough data to display or target element not found"));(null===f||S.globals.allSeriesCollapsed)&&b.series.handleNoData(),"treemap"!==S.config.chart.type&&b.axes.drawAxis(S.config.chart.type,f.xyRatios),b.grid=new ka(b);var F=b.grid.drawGrid();b.annotations=new wn(b),b.annotations.drawImageAnnos(),b.annotations.drawTextAnnos(),"back"===S.config.grid.position&&F&&S.globals.dom.elGraphical.add(F.el);var W=new Ks(p.ctx),q=new Ki(p.ctx);if(null!==F&&(W.xAxisLabelCorrections(F.xAxisTickWidth),q.setYAxisTextAlignments(),S.config.yaxis.map(function(ae,_e){-1===S.globals.ignoreYAxisIndexes.indexOf(_e)&&q.yAxisTitleRotate(_e,ae.opposite)})),"back"===S.config.annotations.position&&(S.globals.dom.Paper.add(S.globals.dom.elAnnotations),b.annotations.drawAxesAnnotations()),Array.isArray(f.elGraph))for(var oe=0;oe<f.elGraph.length;oe++)S.globals.dom.elGraphical.add(f.elGraph[oe]);else S.globals.dom.elGraphical.add(f.elGraph);if("front"===S.config.grid.position&&F&&S.globals.dom.elGraphical.add(F.el),"front"===S.config.xaxis.crosshairs.position&&b.crosshairs.drawXCrosshairs(),"front"===S.config.yaxis[0].crosshairs.position&&b.crosshairs.drawYCrosshairs(),"front"===S.config.annotations.position&&(S.globals.dom.Paper.add(S.globals.dom.elAnnotations),b.annotations.drawAxesAnnotations()),!S.globals.noData){if(S.config.tooltip.enabled&&!S.globals.noData&&b.w.globals.tooltip.drawTooltip(f.xyRatios),S.globals.axisCharts&&(S.globals.isXNumeric||S.config.xaxis.convertedCatToNumeric||S.globals.isTimelineBar))(S.config.chart.zoom.enabled||S.config.chart.selection&&S.config.chart.selection.enabled||S.config.chart.pan&&S.config.chart.pan.enabled)&&b.zoomPanSelection.init({xyRatios:f.xyRatios});else{var ue=S.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(ae){ue[ae]=!1})}S.config.chart.toolbar.show&&!S.globals.allSeriesCollapsed&&b.toolbar.createToolbar()}S.globals.memory.methodsToExec.length>0&&S.globals.memory.methodsToExec.forEach(function(ae){ae.method(ae.params,!1,ae.context)}),S.globals.axisCharts||S.globals.noData||b.core.resizeNonAxisCharts(),D(b)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var p=this.w.config.chart.id;p&&Apex._chartInstances.forEach(function(f,b){f.id===ct.escapeString(p)&&Apex._chartInstances.splice(b,1)}),new Kt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],F=this.w;return F.globals.selection=void 0,p.series&&(this.series.resetSeries(!1,!0,!1),p.series.length&&p.series[0].data&&(p.series=p.series.map(function(W,q){return f.updateHelpers._extendSeries(W,q)})),this.updateHelpers.revertDefaultAxisMinMax()),p.xaxis&&(p=this.updateHelpers.forceXAxisUpdate(p)),p.yaxis&&(p=this.updateHelpers.forceYAxisUpdate(p)),F.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),p.theme&&(p=this.theme.updateThemeOptions(p)),this.updateHelpers._updateOptions(p,b,S,D,B)}},{key:"updateSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(p,f,b)}},{key:"appendSeries",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w.config.series.slice();return S.push(p),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(S,f,b)}},{key:"appendData",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=this;b.w.globals.dataChanged=!0,b.series.getPreviousPaths();for(var S=b.w.config.series.slice(),D=0;D<S.length;D++)if(null!=p[D])for(var B=0;B<p[D].data.length;B++)S[D].data.push(p[D].data[B]);return b.w.config.series=S,f&&(b.w.globals.initialSeries=ct.clone(b.w.config.series)),this.update()}},{key:"update",value:function(p){var f=this;return new Promise(function(b,S){new Kt(f.ctx).clear({isUpdating:!0});var D=f.create(f.w.config.series,p);if(!D)return b(f);f.mount(D).then(function(){"function"==typeof f.w.config.chart.events.updated&&f.w.config.chart.events.updated(f,f.w),f.events.fireEvent("updated",[f,f.w]),f.w.globals.isDirty=!0,b(f)}).catch(function(B){S(B)})})}},{key:"getSyncedCharts",value:function(){var p=this.getGroupedCharts(),f=[this];return p.length&&(f=[],p.forEach(function(b){f.push(b)})),f}},{key:"getGroupedCharts",value:function(){var p=this;return Apex._chartInstances.filter(function(f){if(f.group)return!0}).map(function(f){return p.w.config.chart.group===f.group?f.chart:p})}},{key:"toggleSeries",value:function(p){return this.series.toggleSeries(p)}},{key:"showSeries",value:function(p){this.series.showSeries(p)}},{key:"hideSeries",value:function(p){this.series.hideSeries(p)}},{key:"resetSeries",value:function(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(p,f)}},{key:"addEventListener",value:function(p,f){this.events.addEventListener(p,f)}},{key:"removeEventListener",value:function(p,f){this.events.removeEventListener(p,f)}},{key:"addXaxisAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addXaxisAnnotationExternal(p,f,S)}},{key:"addYaxisAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addYaxisAnnotationExternal(p,f,S)}},{key:"addPointAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addPointAnnotationExternal(p,f,S)}},{key:"clearAnnotations",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,f=this;p&&(f=p),f.annotations.clearAnnotations(f)}},{key:"removeAnnotation",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,b=this;f&&(b=f),b.annotations.removeAnnotation(b,p)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(p,f){return this.coreUtils.getSeriesTotalsXRange(p,f)}},{key:"getHighestValueInSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=new Ea(this.ctx);return f.getMinYMaxY(p).highestY}},{key:"getLowestValueInSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=new Ea(this.ctx);return f.getMinYMaxY(p).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(p,f){return this.updateHelpers.toggleDataPointSelection(p,f)}},{key:"zoomX",value:function(p,f){this.ctx.toolbar.zoomUpdateOptions(p,f)}},{key:"setLocale",value:function(p){this.localization.setCurrentLocaleValues(p)}},{key:"dataURI",value:function(p){return new qs(this.ctx).dataURI(p)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var p=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){p.w.globals.resized=!0,p.w.globals.dataChanged=!1,p.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var p=this.w.config.chart.redrawOnWindowResize;"function"==typeof p&&(p=p()),p&&this._windowResize()}}],[{key:"getChartByID",value:function(p){var f=ct.escapeString(p),b=Apex._chartInstances.filter(function(S){return S.id===f})[0];return b&&b.chart}},{key:"initOnLoad",value:function(){for(var p=document.querySelectorAll("[data-apexcharts]"),f=0;f<p.length;f++)new Re(p[f],JSON.parse(p[f].getAttribute("data-options"))).render()}},{key:"exec",value:function(p,f){var b=this.getChartByID(p);if(b){b.w.globals.isExecCalled=!0;var S=null;if(-1!==b.publicMethods.indexOf(f)){for(var D=arguments.length,B=new Array(D>2?D-2:0),F=2;F<D;F++)B[F-2]=arguments[F];S=b[f].apply(b,B)}return S}}},{key:"merge",value:function(p,f){return ct.extend(p,f)}}]),Re}();jt.exports=kn},2329:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{Z:()=>o.Z});var o=Ae(4969);o.Z.registerVersion("firebase","8.9.1","app"),o.Z.SDK_VERSION="8.9.1"},3815:function(jt,kt,Ae){var o;jt=Ae.nmd(jt),function(){var $,Me="Expected a function",Te="__lodash_hash_undefined__",We="__lodash_placeholder__",li=1/0,Bi=9007199254740991,Ei=4294967295,ei=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ni="[object Arguments]",Er="[object Array]",ss="[object Boolean]",qs="[object Date]",ka="[object Error]",dr="[object Function]",Ea="[object GeneratorFunction]",Ki="[object Map]",nr="[object Number]",$s="[object Object]",Ci="[object Promise]",wr="[object RegExp]",ir="[object Set]",Eo="[object String]",jc="[object Symbol]",Vs="[object WeakMap]",Nr="[object ArrayBuffer]",Zn="[object DataView]",Ji="[object Float32Array]",ml="[object Float64Array]",za="[object Int8Array]",Da="[object Int16Array]",Cs="[object Int32Array]",Ho="[object Uint8Array]",Vo="[object Uint8ClampedArray]",Ft="[object Uint16Array]",Rt="[object Uint32Array]",Qt=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,an=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_i=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,mr=RegExp(_i.source),Zr=RegExp(Zi.source),Dr=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,He=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(Bt.source),rn=/^\s+/,Zt=/\s/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,f=/[()=,{}\[\]\/\s]/,b=/\\(\\)?/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,B=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,W=/^\[object .+?Constructor\]$/,q=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",st="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",bt="\\u2700-\\u27bf",J="a-z\\xdf-\\xf6\\xf8-\\xff",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",cn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zn="["+Ie+"]",Ai="["+cn+"]",gr="["+st+"]",vi="\\d+",Yi="["+bt+"]",Pr="["+J+"]",oo="[^"+Ie+cn+vi+bt+J+ln+"]",Ms="\\ud83c[\\udffb-\\udfff]",qr="[^"+Ie+"]",Ts="(?:\\ud83c[\\udde6-\\uddff]){2}",Aa="[\\ud800-\\udbff][\\udc00-\\udfff]",da="["+ln+"]",qo="(?:"+Pr+"|"+oo+")",Cd="(?:"+da+"|"+oo+")",$l="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xm="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ah="(?:"+gr+"|"+Ms+")?",gl="["+$t+"]?",ou=gl+ah+"(?:\\u200d(?:"+[qr,Ts,Aa].join("|")+")"+gl+ah+")*",Ss="(?:"+[Yi,Ts,Aa].join("|")+")"+ou,Cp="(?:"+[qr+gr+"?",gr,Ts,Aa,zn].join("|")+")",lh=RegExp("['\u2019]","g"),Mp=RegExp(gr,"g"),Ql=RegExp(Ms+"(?="+Ms+")|"+Cp+ou,"g"),Cu=RegExp([da+"?"+Pr+"+"+$l+"(?="+[Ai,da,"$"].join("|")+")",Cd+"+"+xm+"(?="+[Ai,da+qo,"$"].join("|")+")",da+"?"+qo+"+"+$l,da+"+"+xm,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vi,Ss].join("|"),"g"),Rl=RegExp("[\\u200d"+Ie+st+$t+"]"),ch=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ia=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tp=-1,ks={};ks[Ji]=ks[ml]=ks[za]=ks[Da]=ks[Cs]=ks[Ho]=ks[Vo]=ks[Ft]=ks[Rt]=!0,ks[Ni]=ks[Er]=ks[Nr]=ks[ss]=ks[Zn]=ks[qs]=ks[ka]=ks[dr]=ks[Ki]=ks[nr]=ks[$s]=ks[wr]=ks[ir]=ks[Eo]=ks[Vs]=!1;var Us={};Us[Ni]=Us[Er]=Us[Nr]=Us[Zn]=Us[ss]=Us[qs]=Us[Ji]=Us[ml]=Us[za]=Us[Da]=Us[Cs]=Us[Ki]=Us[nr]=Us[$s]=Us[wr]=Us[ir]=Us[Eo]=Us[jc]=Us[Ho]=Us[Vo]=Us[Ft]=Us[Rt]=!0,Us[ka]=Us[dr]=Us[Vs]=!1;var Td={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zr=parseFloat,dh=parseInt,Sd="object"==typeof global&&global&&global.Object===Object&&global,Sp="object"==typeof self&&self&&self.Object===Object&&self,ha=Sd||Sp||Function("return this")(),Ga=kt&&!kt.nodeType&&kt,mi=Ga&&jt&&!jt.nodeType&&jt,Zc=mi&&mi.exports===Ga,Xl=Zc&&Sd.process,qa=function(){try{return mi&&mi.require&&mi.require("util").types||Xl&&Xl.binding&&Xl.binding("util")}catch(Pn){}}(),kd=qa&&qa.isArrayBuffer,Wc=qa&&qa.isDate,Zs=qa&&qa.isMap,Fl=qa&&qa.isRegExp,lr=qa&&qa.isSet,kp=qa&&qa.isTypedArray;function _r(Jt,Pn,_n){switch(_n.length){case 0:return Jt.call(Pn);case 1:return Jt.call(Pn,_n[0]);case 2:return Jt.call(Pn,_n[0],_n[1]);case 3:return Jt.call(Pn,_n[0],_n[1],_n[2])}return Jt.apply(Pn,_n)}function Ep(Jt,Pn,_n,Ii){for(var or=-1,Ar=null==Jt?0:Jt.length;++or<Ar;){var eo=Jt[or];Pn(Ii,eo,_n(eo),Jt)}return Ii}function os(Jt,Pn){for(var _n=-1,Ii=null==Jt?0:Jt.length;++_n<Ii&&!1!==Pn(Jt[_n],_n,Jt););return Jt}function $u(Jt,Pn){for(var _n=null==Jt?0:Jt.length;_n--&&!1!==Pn(Jt[_n],_n,Jt););return Jt}function Nl(Jt,Pn){for(var _n=-1,Ii=null==Jt?0:Jt.length;++_n<Ii;)if(!Pn(Jt[_n],_n,Jt))return!1;return!0}function Kl(Jt,Pn){for(var _n=-1,Ii=null==Jt?0:Jt.length,or=0,Ar=[];++_n<Ii;){var eo=Jt[_n];Pn(eo,_n,Jt)&&(Ar[or++]=eo)}return Ar}function Ia(Jt,Pn){return!(null==Jt||!Jt.length)&&bc(Jt,Pn,0)>-1}function al(Jt,Pn,_n){for(var Ii=-1,or=null==Jt?0:Jt.length;++Ii<or;)if(_n(Pn,Jt[Ii]))return!0;return!1}function hs(Jt,Pn){for(var _n=-1,Ii=null==Jt?0:Jt.length,or=Array(Ii);++_n<Ii;)or[_n]=Pn(Jt[_n],_n,Jt);return or}function ra(Jt,Pn){for(var _n=-1,Ii=Pn.length,or=Jt.length;++_n<Ii;)Jt[or+_n]=Pn[_n];return Jt}function hh(Jt,Pn,_n,Ii){var or=-1,Ar=null==Jt?0:Jt.length;for(Ii&&Ar&&(_n=Jt[++or]);++or<Ar;)_n=Pn(_n,Jt[or],or,Jt);return _n}function Mu(Jt,Pn,_n,Ii){var or=null==Jt?0:Jt.length;for(Ii&&or&&(_n=Jt[--or]);or--;)_n=Pn(_n,Jt[or],or,Jt);return _n}function zl(Jt,Pn){for(var _n=-1,Ii=null==Jt?0:Jt.length;++_n<Ii;)if(Pn(Jt[_n],_n,Jt))return!0;return!1}var Hh=Ju("length");function Qu(Jt,Pn,_n){var Ii;return _n(Jt,function(or,Ar,eo){if(Pn(or,Ar,eo))return Ii=Ar,!1}),Ii}function Ed(Jt,Pn,_n,Ii){for(var or=Jt.length,Ar=_n+(Ii?1:-1);Ii?Ar--:++Ar<or;)if(Pn(Jt[Ar],Ar,Jt))return Ar;return-1}function bc(Jt,Pn,_n){return Pn==Pn?function(Jt,Pn,_n){for(var Ii=_n-1,or=Jt.length;++Ii<or;)if(Jt[Ii]===Pn)return Ii;return-1}(Jt,Pn,_n):Ed(Jt,nf,_n)}function Tu(Jt,Pn,_n,Ii){for(var or=_n-1,Ar=Jt.length;++or<Ar;)if(Ii(Jt[or],Pn))return or;return-1}function nf(Jt){return Jt!=Jt}function au(Jt,Pn){var _n=null==Jt?0:Jt.length;return _n?Do(Jt,Pn)/_n:NaN}function Ju(Jt){return function(Pn){return null==Pn?$:Pn[Jt]}}function $n(Jt){return function(Pn){return null==Jt?$:Jt[Pn]}}function _s(Jt,Pn,_n,Ii,or){return or(Jt,function(Ar,eo,ts){_n=Ii?(Ii=!1,Ar):Pn(_n,Ar,eo,ts)}),_n}function Do(Jt,Pn){for(var _n,Ii=-1,or=Jt.length;++Ii<or;){var Ar=Pn(Jt[Ii]);Ar!==$&&(_n=_n===$?Ar:_n+Ar)}return _n}function Dd(Jt,Pn){for(var _n=-1,Ii=Array(Jt);++_n<Jt;)Ii[_n]=Pn(_n);return Ii}function La(Jt){return Jt&&Jt.slice(0,Cc(Jt)+1).replace(rn,"")}function Io(Jt){return function(Pn){return Jt(Pn)}}function js(Jt,Pn){return hs(Pn,function(_n){return Jt[_n]})}function Uh(Jt,Pn){return Jt.has(Pn)}function Dp(Jt,Pn){for(var _n=-1,Ii=Jt.length;++_n<Ii&&bc(Pn,Jt[_n],0)>-1;);return _n}function ll(Jt,Pn){for(var _n=Jt.length;_n--&&bc(Pn,Jt[_n],0)>-1;);return _n}function Gc(Jt,Pn){for(var _n=Jt.length,Ii=0;_n--;)Jt[_n]===Pn&&++Ii;return Ii}var bo=$n({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),pa=$n({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ph(Jt){return"\\"+Td[Jt]}function br(Jt){return Rl.test(Jt)}function Xu(Jt){var Pn=-1,_n=Array(Jt.size);return Jt.forEach(function(Ii,or){_n[++Pn]=[or,Ii]}),_n}function Su(Jt,Pn){return function(_n){return Jt(Pn(_n))}}function $o(Jt,Pn){for(var _n=-1,Ii=Jt.length,or=0,Ar=[];++_n<Ii;){var eo=Jt[_n];(eo===Pn||eo===We)&&(Jt[_n]=We,Ar[or++]=_n)}return Ar}function wc(Jt){var Pn=-1,_n=Array(Jt.size);return Jt.forEach(function(Ii){_n[++Pn]=Ii}),_n}function fa(Jt){return br(Jt)?function(Jt){for(var Pn=Ql.lastIndex=0;Ql.test(Jt);)++Pn;return Pn}(Jt):Hh(Jt)}function sa(Jt){return br(Jt)?function(Jt){return Jt.match(Ql)||[]}(Jt):function(Jt){return Jt.split("")}(Jt)}function Cc(Jt){for(var Pn=Jt.length;Pn--&&Zt.test(Jt.charAt(Pn)););return Pn}var qc=$n({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ad=function Jt(Pn){var I,_n=(Pn=null==Pn?ha:Ad.defaults(ha.Object(),Pn,Ad.pick(ha,ia))).Array,Ii=Pn.Date,or=Pn.Error,Ar=Pn.Function,eo=Pn.Math,ts=Pn.Object,ma=Pn.RegExp,Tc=Pn.String,Qo=Pn.TypeError,Eu=_n.prototype,$a=ts.prototype,lu=Pn["__core-js_shared__"],Jo=Ar.prototype.toString,Ir=$a.hasOwnProperty,Du=0,Ap=(I=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",Sc=$a.toString,Ku=Jo.call(ts),Ip=ha._,of=ma("^"+Jo.call(Ir).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lp=Zc?Pn.Buffer:$,Au=Pn.Symbol,Id=Pn.Uint8Array,Pp=Lp?Lp.allocUnsafe:$,Qs=Su(ts.getPrototypeOf,ts),Iu=ts.create,kc=$a.propertyIsEnumerable,Lu=Eu.splice,_l=Au?Au.isConcatSpreadable:$,$c=Au?Au.iterator:$,Bl=Au?Au.toStringTag:$,_h=function(){try{var I=ad(ts,"defineProperty");return I({},"",{}),I}catch(H){}}(),Ld=Pn.clearTimeout!==ha.clearTimeout&&Pn.clearTimeout,Yf=Ii&&Ii.now!==ha.Date.now&&Ii.now,Wh=Pn.setTimeout!==ha.setTimeout&&Pn.setTimeout,Yl=eo.ceil,tc=eo.floor,ed=ts.getOwnPropertySymbols,Ec=Lp?Lp.isBuffer:$,Qc=Pn.isFinite,Mi=Eu.join,Cr=Su(ts.keys,ts),Js=eo.max,Or=eo.min,Di=Ii.now,Qa=Pn.parseInt,Fi=eo.random,Op=Eu.reverse,Ws=ad(Pn,"DataView"),Uo=ad(Pn,"Map"),Ps=ad(Pn,"Promise"),yl=ad(Pn,"Set"),td=ad(Pn,"WeakMap"),Lo=ad(ts,"create"),Ja=td&&new td,nc={},Rp=Ra(Ws),cu=Ra(Uo),yh=Ra(Ps),nd=Ra(yl),uu=Ra(td),du=Au?Au.prototype:$,Dc=du?du.valueOf:$,Pu=du?du.toString:$;function rt(I){if(Ua(I)&&!In(I)&&!(I instanceof as)){if(I instanceof Xa)return I;if(Ir.call(I,"__wrapped__"))return yf(I)}return new Xa(I)}var Ac=function(){function I(){}return function(H){if(!Ti(H))return{};if(Iu)return Iu(H);I.prototype=H;var ie=new I;return I.prototype=$,ie}}();function vh(){}function Xa(I,H){this.__wrapped__=I,this.__actions__=[],this.__chain__=!!H,this.__index__=0,this.__values__=$}function as(I){this.__wrapped__=I,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ei,this.__views__=[]}function Xo(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var ke=I[H];this.set(ke[0],ke[1])}}function Ka(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var ke=I[H];this.set(ke[0],ke[1])}}function N(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var ke=I[H];this.set(ke[0],ke[1])}}function be(I){var H=-1,ie=null==I?0:I.length;for(this.__data__=new N;++H<ie;)this.add(I[H])}function Qe(I){var H=this.__data__=new Ka(I);this.size=H.size}function wt(I,H){var ie=In(I),ke=!ie&&Dn(I),Xe=!ie&&!ke&&up(I),ht=!ie&&!ke&&!Xe&&pp(I),Yt=ie||ke||Xe||ht,Xt=Yt?Dd(I.length,Tc):[],vn=Xt.length;for(var Qn in I)(H||Ir.call(I,Qn))&&(!Yt||!("length"==Qn||Xe&&("offset"==Qn||"parent"==Qn)||ht&&("buffer"==Qn||"byteLength"==Qn||"byteOffset"==Qn)||Yu(Qn,vn)))&&Xt.push(Qn);return Xt}function Tt(I){var H=I.length;return H?I[Ic(0,H-1)]:$}function Ut(I,H){return _f(sc(I),ti(H,0,I.length))}function St(I){return _f(sc(I))}function At(I,H,ie){(ie!==$&&!qd(I[H],ie)||ie===$&&!(H in I))&&Bn(I,H,ie)}function Sn(I,H,ie){var ke=I[H];(!Ir.call(I,H)||!qd(ke,ie)||ie===$&&!(H in I))&&Bn(I,H,ie)}function An(I,H){for(var ie=I.length;ie--;)if(qd(I[ie][0],H))return ie;return-1}function Fn(I,H,ie,ke){return bs(I,function(Xe,ht,Yt){H(ke,Xe,ie(Xe),Yt)}),ke}function Lt(I,H){return I&&oa(H,ja(H),I)}function Bn(I,H,ie){"__proto__"==H&&_h?_h(I,H,{configurable:!0,enumerable:!0,value:ie,writable:!0}):I[H]=ie}function ci(I,H){for(var ie=-1,ke=H.length,Xe=_n(ke),ht=null==I;++ie<ke;)Xe[ie]=ht?$:vy(I,H[ie]);return Xe}function ti(I,H,ie){return I==I&&(ie!==$&&(I=I<=ie?I:ie),H!==$&&(I=I>=H?I:H)),I}function Xn(I,H,ie,ke,Xe,ht){var Yt,Xt=1&H,vn=2&H,Qn=4&H;if(ie&&(Yt=Xe?ie(I,ke,Xe,ht):ie(I)),Yt!==$)return Yt;if(!Ti(I))return I;var Jn=In(I);if(Jn){if(Yt=function(I){var H=I.length,ie=new I.constructor(H);return H&&"string"==typeof I[0]&&Ir.call(I,"index")&&(ie.index=I.index,ie.input=I.input),ie}(I),!Xt)return sc(I,Yt)}else{var di=co(I),Hi=di==dr||di==Ea;if(up(I))return i_(I,Xt);if(di==$s||di==Ni||Hi&&!Xe){if(Yt=vn||Hi?{}:jd(I),!Xt)return vn?function(I,H){return oa(I,ga(I),H)}(I,function(I,H){return I&&oa(H,nl(H),I)}(Yt,I)):function(I,H){return oa(I,Em(I),H)}(I,Lt(Yt,I))}else{if(!Us[di])return Xe?I:{};Yt=function(I,H,ie){var ke=I.constructor;switch(H){case Nr:return km(I);case ss:case qs:return new ke(+I);case Zn:return function(I,H){var ie=H?km(I.buffer):I.buffer;return new I.constructor(ie,I.byteOffset,I.byteLength)}(I,ie);case Ji:case ml:case za:case Da:case Cs:case Ho:case Vo:case Ft:case Rt:return xl(I,ie);case Ki:return new ke;case nr:case Eo:return new ke(I);case wr:return function(I){var H=new I.constructor(I.source,D.exec(I));return H.lastIndex=I.lastIndex,H}(I);case ir:return new ke;case jc:return function(I){return Dc?ts(Dc.call(I)):{}}(I)}}(I,di,Xt)}}ht||(ht=new Qe);var fr=ht.get(I);if(fr)return fr;ht.set(I,Yt),Bm(I)?I.forEach(function(Xr){Yt.add(Xn(Xr,H,ie,Xr,I,ht))}):wf(I)&&I.forEach(function(Xr,ro){Yt.set(ro,Xn(Xr,H,ie,ro,I,ht))});var Ur=Jn?$:(Qn?vn?ug:cg:vn?nl:ja)(I);return os(Ur||I,function(Xr,ro){Ur&&(Xr=I[ro=Xr]),Sn(Yt,ro,Xn(Xr,H,ie,ro,I,ht))}),Yt}function Ri(I,H,ie){var ke=ie.length;if(null==I)return!ke;for(I=ts(I);ke--;){var Xe=ie[ke],Yt=I[Xe];if(Yt===$&&!(Xe in I)||!(0,H[Xe])(Yt))return!1}return!0}function ns(I,H,ie){if("function"!=typeof I)throw new Qo(Me);return Kf(function(){I.apply($,ie)},H)}function ps(I,H,ie,ke){var Xe=-1,ht=Ia,Yt=!0,Xt=I.length,vn=[],Qn=H.length;if(!Xt)return vn;ie&&(H=hs(H,Io(ie))),ke?(ht=al,Yt=!1):H.length>=200&&(ht=Uh,Yt=!1,H=new be(H));e:for(;++Xe<Xt;){var Jn=I[Xe],di=null==ie?Jn:ie(Jn);if(Jn=ke||0!==Jn?Jn:0,Yt&&di==di){for(var Hi=Qn;Hi--;)if(H[Hi]===di)continue e;vn.push(Jn)}else ht(H,di,ke)||vn.push(Jn)}return vn}rt.templateSettings={escape:Dr,evaluate:at,interpolate:He,variable:"",imports:{_:rt}},(rt.prototype=vh.prototype).constructor=rt,(Xa.prototype=Ac(vh.prototype)).constructor=Xa,(as.prototype=Ac(vh.prototype)).constructor=as,Xo.prototype.clear=function(){this.__data__=Lo?Lo(null):{},this.size=0},Xo.prototype.delete=function(I){var H=this.has(I)&&delete this.__data__[I];return this.size-=H?1:0,H},Xo.prototype.get=function(I){var H=this.__data__;if(Lo){var ie=H[I];return ie===Te?$:ie}return Ir.call(H,I)?H[I]:$},Xo.prototype.has=function(I){var H=this.__data__;return Lo?H[I]!==$:Ir.call(H,I)},Xo.prototype.set=function(I,H){var ie=this.__data__;return this.size+=this.has(I)?0:1,ie[I]=Lo&&H===$?Te:H,this},Ka.prototype.clear=function(){this.__data__=[],this.size=0},Ka.prototype.delete=function(I){var H=this.__data__,ie=An(H,I);return!(ie<0||(ie==H.length-1?H.pop():Lu.call(H,ie,1),--this.size,0))},Ka.prototype.get=function(I){var H=this.__data__,ie=An(H,I);return ie<0?$:H[ie][1]},Ka.prototype.has=function(I){return An(this.__data__,I)>-1},Ka.prototype.set=function(I,H){var ie=this.__data__,ke=An(ie,I);return ke<0?(++this.size,ie.push([I,H])):ie[ke][1]=H,this},N.prototype.clear=function(){this.size=0,this.__data__={hash:new Xo,map:new(Uo||Ka),string:new Xo}},N.prototype.delete=function(I){var H=Vd(this,I).delete(I);return this.size-=H?1:0,H},N.prototype.get=function(I){return Vd(this,I).get(I)},N.prototype.has=function(I){return Vd(this,I).has(I)},N.prototype.set=function(I,H){var ie=Vd(this,I),ke=ie.size;return ie.set(I,H),this.size+=ie.size==ke?0:1,this},be.prototype.add=be.prototype.push=function(I){return this.__data__.set(I,Te),this},be.prototype.has=function(I){return this.__data__.has(I)},Qe.prototype.clear=function(){this.__data__=new Ka,this.size=0},Qe.prototype.delete=function(I){var H=this.__data__,ie=H.delete(I);return this.size=H.size,ie},Qe.prototype.get=function(I){return this.__data__.get(I)},Qe.prototype.has=function(I){return this.__data__.has(I)},Qe.prototype.set=function(I,H){var ie=this.__data__;if(ie instanceof Ka){var ke=ie.__data__;if(!Uo||ke.length<199)return ke.push([I,H]),this.size=++ie.size,this;ie=this.__data__=new N(ke)}return ie.set(I,H),this.size=ie.size,this};var bs=Yp(Vi),Mr=Yp(Gs,!0);function Es(I,H){var ie=!0;return bs(I,function(ke,Xe,ht){return ie=!!H(ke,Xe,ht)}),ie}function ao(I,H,ie){for(var ke=-1,Xe=I.length;++ke<Xe;){var ht=I[ke],Yt=H(ht);if(null!=Yt&&(Xt===$?Yt==Yt&&!Nc(Yt):ie(Yt,Xt)))var Xt=Yt,vn=ht}return vn}function Ya(I,H){var ie=[];return bs(I,function(ke,Xe,ht){H(ke,Xe,ht)&&ie.push(ke)}),ie}function ys(I,H,ie,ke,Xe){var ht=-1,Yt=I.length;for(ie||(ie=Xf),Xe||(Xe=[]);++ht<Yt;){var Xt=I[ht];H>0&&ie(Xt)?H>1?ys(Xt,H-1,ie,ke,Xe):ra(Xe,Xt):ke||(Xe[Xe.length]=Xt)}return Xe}var Ko=Fs(),vl=Fs(!0);function Vi(I,H){return I&&Ko(I,H,ja)}function Gs(I,H){return I&&vl(I,H,ja)}function is(I,H){return Kl(H,function(ie){return Kc(I[ie])})}function Os(I,H){for(var ie=0,ke=(H=Jh(H,I)).length;null!=I&&ie<ke;)I=I[Pc(H[ie++])];return ie&&ie==ke?I:$}function xo(I,H,ie){var ke=H(I);return In(I)?ke:ra(ke,ie(I))}function $r(I){return null==I?I===$?"[object Undefined]":"[object Null]":Bl&&Bl in ts(I)?function(I){var H=Ir.call(I,Bl),ie=I[Bl];try{I[Bl]=$;var ke=!0}catch(ht){}var Xe=Sc.call(I);return ke&&(H?I[Bl]=ie:delete I[Bl]),Xe}(I):function(I){return Sc.call(I)}(I)}function ul(I,H){return I>H}function dl(I,H){return null!=I&&Ir.call(I,H)}function bl(I,H){return null!=I&&H in ts(I)}function Ha(I,H,ie){for(var ke=ie?al:Ia,Xe=I[0].length,ht=I.length,Yt=ht,Xt=_n(ht),vn=1/0,Qn=[];Yt--;){var Jn=I[Yt];Yt&&H&&(Jn=hs(Jn,Io(H))),vn=Or(Jn.length,vn),Xt[Yt]=!ie&&(H||Xe>=120&&Jn.length>=120)?new be(Yt&&Jn):$}Jn=I[0];var di=-1,Hi=Xt[0];e:for(;++di<Xe&&Qn.length<vn;){var fr=Jn[di],Vr=H?H(fr):fr;if(fr=ie||0!==fr?fr:0,!(Hi?Uh(Hi,Vr):ke(Qn,Vr,ie))){for(Yt=ht;--Yt;){var Ur=Xt[Yt];if(!(Ur?Uh(Ur,Vr):ke(I[Yt],Vr,ie)))continue e}Hi&&Hi.push(Vr),Qn.push(fr)}}return Qn}function Pa(I,H,ie){var ke=null==(I=Th(I,H=Jh(H,I)))?I:I[Pc(Wi(H))];return null==ke?$:_r(ke,I,ie)}function Pd(I){return Ua(I)&&$r(I)==Ni}function ic(I,H,ie,ke,Xe){return I===H||(null==I||null==H||!Ua(I)&&!Ua(H)?I!=I&&H!=H:function(I,H,ie,ke,Xe,ht){var Yt=In(I),Xt=In(H),vn=Yt?Er:co(I),Qn=Xt?Er:co(H),Jn=(vn=vn==Ni?$s:vn)==$s,di=(Qn=Qn==Ni?$s:Qn)==$s,Hi=vn==Qn;if(Hi&&up(I)){if(!up(H))return!1;Yt=!0,Jn=!1}if(Hi&&!Jn)return ht||(ht=new Qe),Yt||pp(I)?oc(I,H,ie,ke,Xe,ht):function(I,H,ie,ke,Xe,ht,Yt){switch(ie){case Zn:if(I.byteLength!=H.byteLength||I.byteOffset!=H.byteOffset)return!1;I=I.buffer,H=H.buffer;case Nr:return!(I.byteLength!=H.byteLength||!ht(new Id(I),new Id(H)));case ss:case qs:case nr:return qd(+I,+H);case ka:return I.name==H.name&&I.message==H.message;case wr:case Eo:return I==H+"";case Ki:var Xt=Xu;case ir:if(Xt||(Xt=wc),I.size!=H.size&&!(1&ke))return!1;var Qn=Yt.get(I);if(Qn)return Qn==H;ke|=2,Yt.set(I,H);var Jn=oc(Xt(I),Xt(H),ke,Xe,ht,Yt);return Yt.delete(I),Jn;case jc:if(Dc)return Dc.call(I)==Dc.call(H)}return!1}(I,H,vn,ie,ke,Xe,ht);if(!(1&ie)){var fr=Jn&&Ir.call(I,"__wrapped__"),Vr=di&&Ir.call(H,"__wrapped__");if(fr||Vr){var Ur=fr?I.value():I,Xr=Vr?H.value():H;return ht||(ht=new Qe),Xe(Ur,Xr,ie,ke,ht)}}return!!Hi&&(ht||(ht=new Qe),function(I,H,ie,ke,Xe,ht){var Yt=1&ie,Xt=cg(I),vn=Xt.length;if(vn!=cg(H).length&&!Yt)return!1;for(var di=vn;di--;){var Hi=Xt[di];if(!(Yt?Hi in H:Ir.call(H,Hi)))return!1}var fr=ht.get(I),Vr=ht.get(H);if(fr&&Vr)return fr==H&&Vr==I;var Ur=!0;ht.set(I,H),ht.set(H,I);for(var Xr=Yt;++di<vn;){var ro=I[Hi=Xt[di]],zs=H[Hi];if(ke)var gp=Yt?ke(zs,ro,Hi,H,I,ht):ke(ro,zs,Hi,I,H,ht);if(!(gp===$?ro===zs||Xe(ro,zs,ie,ke,ht):gp)){Ur=!1;break}Xr||(Xr="constructor"==Hi)}if(Ur&&!Xr){var Wa=I.constructor,Hc=H.constructor;Wa!=Hc&&"constructor"in I&&"constructor"in H&&!("function"==typeof Wa&&Wa instanceof Wa&&"function"==typeof Hc&&Hc instanceof Hc)&&(Ur=!1)}return ht.delete(I),ht.delete(H),Ur}(I,H,ie,ke,Xe,ht))}(I,H,ie,ke,ic,Xe))}function yi(I,H,ie,ke){var Xe=ie.length,ht=Xe,Yt=!ke;if(null==I)return!ht;for(I=ts(I);Xe--;){var Xt=ie[Xe];if(Yt&&Xt[2]?Xt[1]!==I[Xt[0]]:!(Xt[0]in I))return!1}for(;++Xe<ht;){var vn=(Xt=ie[Xe])[0],Qn=I[vn],Jn=Xt[1];if(Yt&&Xt[2]){if(Qn===$&&!(vn in I))return!1}else{var di=new Qe;if(ke)var Hi=ke(Qn,Jn,vn,I,H,di);if(!(Hi===$?ic(Jn,Qn,3,ke,di):Hi))return!1}}return!0}function G(I){return!(!Ti(I)||function(I){return!!Ap&&Ap in I}(I))&&(Kc(I)?of:W).test(Ra(I))}function nt(I){return"function"==typeof I?I:null==I?Xs:"object"==typeof I?In(I)?el(I[0],I[1]):to(I):Dg(I)}function Et(I){if(!fu(I))return Cr(I);var H=[];for(var ie in ts(I))Ir.call(I,ie)&&"constructor"!=ie&&H.push(ie);return H}function Xi(I,H){return I<H}function Lr(I,H){var ie=-1,ke=_u(I)?_n(I.length):[];return bs(I,function(Xe,ht,Yt){ke[++ie]=H(Xe,ht,Yt)}),ke}function to(I){var H=Hp(I);return 1==H.length&&H[0][2]?ev(H[0][0],H[0][1]):function(ie){return ie===I||yi(ie,I,H)}}function el(I,H){return hf(I)&&mu(H)?ev(Pc(I),H):function(ie){var ke=vy(ie,I);return ke===$&&ke===H?yv(ie,I):ic(H,ke,3)}}function Va(I,H,ie,ke,Xe){I!==H&&Ko(H,function(ht,Yt){if(Xe||(Xe=new Qe),Ti(ht))!function(I,H,ie,ke,Xe,ht,Yt){var Xt=ac(I,ie),vn=ac(H,ie),Qn=Yt.get(vn);if(Qn)At(I,ie,Qn);else{var Jn=ht?ht(Xt,vn,ie+"",I,H,Yt):$,di=Jn===$;if(di){var Hi=In(vn),fr=!Hi&&up(vn),Vr=!Hi&&!fr&&pp(vn);Jn=vn,Hi||fr||Vr?In(Xt)?Jn=Xt:si(Xt)?Jn=sc(Xt):fr?(di=!1,Jn=i_(vn,!0)):Vr?(di=!1,Jn=xl(vn,!0)):Jn=[]:fy(vn)||Dn(vn)?(Jn=Xt,Dn(Xt)?Jn=gy(Xt):(!Ti(Xt)||Kc(Xt))&&(Jn=jd(vn))):di=!1}di&&(Yt.set(vn,Jn),Xe(Jn,vn,ke,ht,Yt),Yt.delete(vn)),At(I,ie,Jn)}}(I,H,Yt,ie,Va,ke,Xe);else{var Xt=ke?ke(ac(I,Yt),ht,Yt+"",I,H,Xe):$;Xt===$&&(Xt=ht),At(I,Yt,Xt)}},nl)}function af(I,H){var ie=I.length;if(ie)return Yu(H+=H<0?ie:0,ie)?I[H]:$}function wm(I,H,ie){H=H.length?hs(H,function(ht){return In(ht)?function(Yt){return Os(Yt,1===ht.length?ht[0]:ht)}:ht}):[Xs];var ke=-1;return H=hs(H,Io(vr())),function(Jt,Pn){var _n=Jt.length;for(Jt.sort(function(ht,Yt){return function(I,H,ie){for(var ke=-1,Xe=I.criteria,ht=H.criteria,Yt=Xe.length,Xt=ie.length;++ke<Yt;){var vn=Zf(Xe[ke],ht[ke]);if(vn)return ke>=Xt?vn:vn*("desc"==ie[ke]?-1:1)}return I.index-H.index}(ht,Yt,ie)});_n--;)Jt[_n]=Jt[_n].value;return Jt}(Lr(I,function(ht,Yt,Xt){return{criteria:hs(H,function(Qn){return Qn(ht)}),index:++ke,value:ht}}))}function Mm(I,H,ie){for(var ke=-1,Xe=H.length,ht={};++ke<Xe;){var Yt=H[ke],Xt=Os(I,Yt);ie(Xt,Yt)&&hu(ht,Jh(Yt,I),Xt)}return ht}function $h(I,H,ie,ke){var Xe=ke?Tu:bc,ht=-1,Yt=H.length,Xt=I;for(I===H&&(H=sc(H)),ie&&(Xt=hs(I,Io(ie)));++ht<Yt;)for(var vn=0,Qn=H[ht],Jn=ie?ie(Qn):Qn;(vn=Xe(Xt,Jn,vn,ke))>-1;)Xt!==I&&Lu.call(Xt,vn,1),Lu.call(I,vn,1);return I}function Oo(I,H){for(var ie=I?H.length:0,ke=ie-1;ie--;){var Xe=H[ie];if(ie==ke||Xe!==ht){var ht=Xe;Yu(Xe)?Lu.call(I,Xe,1):Uf(I,Xe)}}return I}function Ic(I,H){return I+tc(Fi()*(H-I+1))}function Ou(I,H){var ie="";if(!I||H<1||H>Bi)return ie;do{H%2&&(ie+=I),(H=tc(H/2))&&(I+=I)}while(H);return ie}function Br(I,H){return Sh(mf(I,H,Xs),I+"")}function yt(I){return Tt(Ht(I))}function Ds(I,H){var ie=Ht(I);return _f(ie,ti(H,0,ie.length))}function hu(I,H,ie,ke){if(!Ti(I))return I;for(var Xe=-1,ht=(H=Jh(H,I)).length,Yt=ht-1,Xt=I;null!=Xt&&++Xe<ht;){var vn=Pc(H[Xe]),Qn=ie;if("__proto__"===vn||"constructor"===vn||"prototype"===vn)return I;if(Xe!=Yt){var Jn=Xt[vn];(Qn=ke?ke(Jn,vn,Xt):$)===$&&(Qn=Ti(Jn)?Jn:Yu(H[Xe+1])?[]:{})}Sn(Xt,vn,Qn),Xt=Xt[vn]}return I}var sd=Ja?function(I,H){return Ja.set(I,H),I}:Xs,zp=_h?function(I,H){return _h(I,"toString",{configurable:!0,enumerable:!1,value:kl(H),writable:!0})}:Xs;function n_(I){return _f(Ht(I))}function Ru(I,H,ie){var ke=-1,Xe=I.length;H<0&&(H=-H>Xe?0:Xe+H),(ie=ie>Xe?Xe:ie)<0&&(ie+=Xe),Xe=H>ie?0:ie-H>>>0,H>>>=0;for(var ht=_n(Xe);++ke<Xe;)ht[ke]=I[ke+H];return ht}function ji(I,H){var ie;return bs(I,function(ke,Xe,ht){return!(ie=H(ke,Xe,ht))}),!!ie}function rc(I,H,ie){var ke=0,Xe=null==I?ke:I.length;if("number"==typeof H&&H==H&&Xe<=2147483647){for(;ke<Xe;){var ht=ke+Xe>>>1,Yt=I[ht];null!==Yt&&!Nc(Yt)&&(ie?Yt<=H:Yt<H)?ke=ht+1:Xe=ht}return Xe}return Yr(I,H,Xs,ie)}function Yr(I,H,ie,ke){var Xe=0,ht=null==I?0:I.length;if(0===ht)return 0;for(var Yt=(H=ie(H))!=H,Xt=null===H,vn=Nc(H),Qn=H===$;Xe<ht;){var Jn=tc((Xe+ht)/2),di=ie(I[Jn]),Hi=di!==$,fr=null===di,Vr=di==di,Ur=Nc(di);if(Yt)var Xr=ke||Vr;else Xr=Qn?Vr&&(ke||Hi):Xt?Vr&&Hi&&(ke||!fr):vn?Vr&&Hi&&!fr&&(ke||!Ur):!fr&&!Ur&&(ke?di<=H:di<H);Xr?Xe=Jn+1:ht=Jn}return Or(ht,4294967294)}function Tm(I,H){for(var ie=-1,ke=I.length,Xe=0,ht=[];++ie<ke;){var Yt=I[ie],Xt=H?H(Yt):Yt;if(!ie||!qd(Xt,vn)){var vn=Xt;ht[Xe++]=0===Yt?0:Yt}}return ht}function tl(I){return"number"==typeof I?I:Nc(I)?NaN:+I}function Tr(I){if("string"==typeof I)return I;if(In(I))return hs(I,Tr)+"";if(Nc(I))return Pu?Pu.call(I):"";var H=I+"";return"0"==H&&1/I==-li?"-0":H}function Rd(I,H,ie){var ke=-1,Xe=Ia,ht=I.length,Yt=!0,Xt=[],vn=Xt;if(ie)Yt=!1,Xe=al;else if(ht>=200){var Qn=H?null:Qf(I);if(Qn)return wc(Qn);Yt=!1,Xe=Uh,vn=new be}else vn=H?[]:Xt;e:for(;++ke<ht;){var Jn=I[ke],di=H?H(Jn):Jn;if(Jn=ie||0!==Jn?Jn:0,Yt&&di==di){for(var Hi=vn.length;Hi--;)if(vn[Hi]===di)continue e;H&&vn.push(di),Xt.push(Jn)}else Xe(vn,di,ie)||(vn!==Xt&&vn.push(di),Xt.push(Jn))}return Xt}function Uf(I,H){return null==(I=Th(I,H=Jh(H,I)))||delete I[Pc(Wi(H))]}function Bp(I,H,ie,ke){return hu(I,H,ie(Os(I,H)),ke)}function Qh(I,H,ie,ke){for(var Xe=I.length,ht=ke?Xe:-1;(ke?ht--:++ht<Xe)&&H(I[ht],ht,I););return ie?Ru(I,ke?0:ht,ke?ht+1:Xe):Ru(I,ke?ht+1:0,ke?Xe:ht)}function xh(I,H){var ie=I;return ie instanceof as&&(ie=ie.value()),hh(H,function(ke,Xe){return Xe.func.apply(Xe.thisArg,ra([ke],Xe.args))},ie)}function lo(I,H,ie){var ke=I.length;if(ke<2)return ke?Rd(I[0]):[];for(var Xe=-1,ht=_n(ke);++Xe<ke;)for(var Yt=I[Xe],Xt=-1;++Xt<ke;)Xt!=Xe&&(ht[Xe]=ps(ht[Xe]||Yt,I[Xt],H,ie));return Rd(ys(ht,1),H,ie)}function lf(I,H,ie){for(var ke=-1,Xe=I.length,ht=H.length,Yt={};++ke<Xe;)ie(Yt,I[ke],ke<ht?H[ke]:$);return Yt}function wo(I){return si(I)?I:[]}function Vl(I){return"function"==typeof I?I:Xs}function Jh(I,H){return In(I)?I:hf(I,H)?[I]:kh(ho(I))}var Xh=Br;function wh(I,H,ie){var ke=I.length;return ie=ie===$?ke:ie,!H&&ie>=ke?I:Ru(I,H,ie)}var Sm=Ld||function(I){return ha.clearTimeout(I)};function i_(I,H){if(H)return I.slice();var ie=I.length,ke=Pp?Pp(ie):new I.constructor(ie);return I.copy(ke),ke}function km(I){var H=new I.constructor(I.byteLength);return new Id(H).set(new Id(I)),H}function xl(I,H){var ie=H?km(I.buffer):I.buffer;return new I.constructor(ie,I.byteOffset,I.length)}function Zf(I,H){if(I!==H){var ie=I!==$,ke=null===I,Xe=I==I,ht=Nc(I),Yt=H!==$,Xt=null===H,vn=H==H,Qn=Nc(H);if(!Xt&&!Qn&&!ht&&I>H||ht&&Yt&&vn&&!Xt&&!Qn||ke&&Yt&&vn||!ie&&vn||!Xe)return 1;if(!ke&&!ht&&!Qn&&I<H||Qn&&ie&&Xe&&!ke&&!ht||Xt&&ie&&Xe||!Yt&&Xe||!vn)return-1}return 0}function sg(I,H,ie,ke){for(var Xe=-1,ht=I.length,Yt=ie.length,Xt=-1,vn=H.length,Qn=Js(ht-Yt,0),Jn=_n(vn+Qn),di=!ke;++Xt<vn;)Jn[Xt]=H[Xt];for(;++Xe<Yt;)(di||Xe<ht)&&(Jn[ie[Xe]]=I[Xe]);for(;Qn--;)Jn[Xt++]=I[Xe++];return Jn}function og(I,H,ie,ke){for(var Xe=-1,ht=I.length,Yt=-1,Xt=ie.length,vn=-1,Qn=H.length,Jn=Js(ht-Xt,0),di=_n(Jn+Qn),Hi=!ke;++Xe<Jn;)di[Xe]=I[Xe];for(var fr=Xe;++vn<Qn;)di[fr+vn]=H[vn];for(;++Yt<Xt;)(Hi||Xe<ht)&&(di[fr+ie[Yt]]=I[Xe++]);return di}function sc(I,H){var ie=-1,ke=I.length;for(H||(H=_n(ke));++ie<ke;)H[ie]=I[ie];return H}function oa(I,H,ie,ke){var Xe=!ie;ie||(ie={});for(var ht=-1,Yt=H.length;++ht<Yt;){var Xt=H[ht],vn=ke?ke(ie[Xt],I[Xt],Xt,ie,I):$;vn===$&&(vn=I[Xt]),Xe?Bn(ie,Xt,vn):Sn(ie,Xt,vn)}return ie}function Fd(I,H){return function(ie,ke){var Xe=In(ie)?Ep:Fn,ht=H?H():{};return Xe(ie,I,vr(ke,2),ht)}}function Jc(I){return Br(function(H,ie){var ke=-1,Xe=ie.length,ht=Xe>1?ie[Xe-1]:$,Yt=Xe>2?ie[2]:$;for(ht=I.length>3&&"function"==typeof ht?(Xe--,ht):$,Yt&&Cl(ie[0],ie[1],Yt)&&(ht=Xe<3?$:ht,Xe=1),H=ts(H);++ke<Xe;){var Xt=ie[ke];Xt&&I(H,Xt,ke,ht)}return H})}function Yp(I,H){return function(ie,ke){if(null==ie)return ie;if(!_u(ie))return I(ie,ke);for(var Xe=ie.length,ht=H?Xe:-1,Yt=ts(ie);(H?ht--:++ht<Xe)&&!1!==ke(Yt[ht],ht,Yt););return ie}}function Fs(I){return function(H,ie,ke){for(var Xe=-1,ht=ts(H),Yt=ke(H),Xt=Yt.length;Xt--;){var vn=Yt[I?Xt:++Xe];if(!1===ie(ht[vn],vn,ht))break}return H}}function Wf(I){return function(H){var ie=br(H=ho(H))?sa(H):$,ke=ie?ie[0]:H.charAt(0),Xe=ie?wh(ie,1).join(""):H.slice(1);return ke[I]()+Xe}}function zd(I){return function(H){return hh(cs(Kn(H).replace(lh,"")),I,"")}}function Nu(I){return function(){var H=arguments;switch(H.length){case 0:return new I;case 1:return new I(H[0]);case 2:return new I(H[0],H[1]);case 3:return new I(H[0],H[1],H[2]);case 4:return new I(H[0],H[1],H[2],H[3]);case 5:return new I(H[0],H[1],H[2],H[3],H[4]);case 6:return new I(H[0],H[1],H[2],H[3],H[4],H[5]);case 7:return new I(H[0],H[1],H[2],H[3],H[4],H[5],H[6])}var ie=Ac(I.prototype),ke=I.apply(ie,H);return Ti(ke)?ke:ie}}function Gf(I){return function(H,ie,ke){var Xe=ts(H);if(!_u(H)){var ht=vr(ie,3);H=ja(H),ie=function(Xt){return ht(Xe[Xt],Xt,Xe)}}var Yt=I(H,ie,ke);return Yt>-1?Xe[ht?H[Yt]:Yt]:$}}function Ch(I){return Yd(function(H){var ie=H.length,ke=ie,Xe=Xa.prototype.thru;for(I&&H.reverse();ke--;){var ht=H[ke];if("function"!=typeof ht)throw new Qo(Me);if(Xe&&!Yt&&"wrapper"==df(ht))var Yt=new Xa([],!0)}for(ke=Yt?ke:ie;++ke<ie;){var Xt=df(ht=H[ke]),vn="wrapper"==Xt?Jf(ht):$;Yt=vn&&pg(vn[0])&&424==vn[1]&&!vn[4].length&&1==vn[9]?Yt[df(vn[0])].apply(Yt,vn[3]):1==ht.length&&pg(ht)?Yt[Xt]():Yt.thru(ht)}return function(){var Qn=arguments,Jn=Qn[0];if(Yt&&1==Qn.length&&In(Jn))return Yt.plant(Jn).value();for(var di=0,Hi=ie?H[di].apply(this,Qn):Jn;++di<ie;)Hi=H[di].call(this,Hi);return Hi}})}function qf(I,H,ie,ke,Xe,ht,Yt,Xt,vn,Qn){var Jn=128&H,di=1&H,Hi=2&H,fr=24&H,Vr=512&H,Ur=Hi?$:Nu(I);return function Xr(){for(var ro=arguments.length,zs=_n(ro),gp=ro;gp--;)zs[gp]=arguments[gp];if(fr)var Wa=Hd(Xr),Hc=Gc(zs,Wa);if(ke&&(zs=sg(zs,ke,Xe,fr)),ht&&(zs=og(zs,ht,Yt,fr)),ro-=Hc,fr&&ro<Qn){var vs=$o(zs,Wa);return hl(I,H,qf,Xr.placeholder,ie,zs,vs,Xt,vn,Qn-ro)}var Ma=di?ie:this,kf=Hi?Ma[I]:I;return ro=zs.length,Xt?zs=fg(zs,Xt):Vr&&ro>1&&zs.reverse(),Jn&&vn<ro&&(zs.length=vn),this&&this!==ha&&this instanceof Xr&&(kf=Ur||Nu(kf)),kf.apply(Ma,zs)}}function lg(I,H){return function(ie,ke){return function(I,H,ie,ke){return Vi(I,function(Xe,ht,Yt){H(ke,ie(Xe),ht,Yt)}),ke}(ie,I,H(ke),{})}}function s_(I,H){return function(ie,ke){var Xe;if(ie===$&&ke===$)return H;if(ie!==$&&(Xe=ie),ke!==$){if(Xe===$)return ke;"string"==typeof ie||"string"==typeof ke?(ie=Tr(ie),ke=Tr(ke)):(ie=tl(ie),ke=tl(ke)),Xe=I(ie,ke)}return Xe}}function $f(I){return Yd(function(H){return H=hs(H,Io(vr())),Br(function(ie){var ke=this;return I(H,function(Xe){return _r(Xe,ke,ie)})})})}function zu(I,H){var ie=(H=H===$?" ":Tr(H)).length;if(ie<2)return ie?Ou(H,I):H;var ke=Ou(H,Yl(I/fa(H)));return br(H)?wh(sa(ke),0,I).join(""):ke.slice(0,I)}function ep(I){return function(H,ie,ke){return ke&&"number"!=typeof ke&&Cl(H,ie,ke)&&(ie=ke=$),H=hd(H),ie===$?(ie=H,H=0):ie=hd(ie),function(I,H,ie,ke){for(var Xe=-1,ht=Js(Yl((H-I)/(ie||1)),0),Yt=_n(ht);ht--;)Yt[ke?ht:++Xe]=I,I+=ie;return Yt}(H,ie,ke=ke===$?H<ie?1:-1:hd(ke),I)}}function cf(I){return function(H,ie){return"string"==typeof H&&"string"==typeof ie||(H=eu(H),ie=eu(ie)),I(H,ie)}}function hl(I,H,ie,ke,Xe,ht,Yt,Xt,vn,Qn){var Jn=8&H;H|=Jn?32:64,4&(H&=~(Jn?64:32))||(H&=-4);var Ur=[I,H,Xe,Jn?ht:$,Jn?Yt:$,Jn?$:ht,Jn?$:Yt,Xt,vn,Qn],Xr=ie.apply($,Ur);return pg(I)&&np(Xr,Ur),Xr.placeholder=ke,Im(Xr,I,H)}function Oa(I){var H=eo[I];return function(ie,ke){if(ie=eu(ie),(ke=null==ke?0:Or(Qr(ke),292))&&Qc(ie)){var Xe=(ho(ie)+"e").split("e");return+((Xe=(ho(H(Xe[0]+"e"+(+Xe[1]+ke)))+"e").split("e"))[0]+"e"+(+Xe[1]-ke))}return H(ie)}}var Qf=yl&&1/wc(new yl([,-0]))[1]==li?function(I){return new yl(I)}:Dl;function Mh(I){return function(H){var ie=co(H);return ie==Ki?Xu(H):ie==ir?function(Jt){var Pn=-1,_n=Array(Jt.size);return Jt.forEach(function(Ii){_n[++Pn]=[Ii,Ii]}),_n}(H):function(Jt,Pn){return hs(Pn,function(_n){return[_n,Jt[_n]]})}(H,I(H))}}function od(I,H,ie,ke,Xe,ht,Yt,Xt){var vn=2&H;if(!vn&&"function"!=typeof I)throw new Qo(Me);var Qn=ke?ke.length:0;if(Qn||(H&=-97,ke=Xe=$),Yt=Yt===$?Yt:Js(Qr(Yt),0),Xt=Xt===$?Xt:Qr(Xt),Qn-=Xe?Xe.length:0,64&H){var Jn=ke,di=Xe;ke=Xe=$}var Hi=vn?$:Jf(I),fr=[I,H,ie,ke,Xe,Jn,di,ht,Yt,Xt];if(Hi&&function(I,H){var ie=I[1],ke=H[1],Xe=ie|ke;if(!(Xe<131||(128==ke&&8==ie||128==ke&&256==ie&&I[7].length<=H[8]||384==ke&&H[7].length<=H[8]&&8==ie)))return I;1&ke&&(I[2]=H[2],Xe|=1&ie?0:4);var Xt=H[3];if(Xt){var vn=I[3];I[3]=vn?sg(vn,Xt,H[4]):Xt,I[4]=vn?$o(I[3],We):H[4]}(Xt=H[5])&&(I[5]=(vn=I[5])?og(vn,Xt,H[6]):Xt,I[6]=vn?$o(I[5],We):H[6]),(Xt=H[7])&&(I[7]=Xt),128&ke&&(I[8]=null==I[8]?H[8]:Or(I[8],H[8])),null==I[9]&&(I[9]=H[9]),I[0]=H[0],I[1]=Xe}(fr,Hi),I=fr[0],H=fr[1],ie=fr[2],ke=fr[3],Xe=fr[4],!(Xt=fr[9]=fr[9]===$?vn?0:I.length:Js(fr[9]-Qn,0))&&24&H&&(H&=-25),H&&1!=H)Vr=8==H||16==H?function(I,H,ie){var ke=Nu(I);return function Xe(){for(var ht=arguments.length,Yt=_n(ht),Xt=ht,vn=Hd(Xe);Xt--;)Yt[Xt]=arguments[Xt];var Qn=ht<3&&Yt[0]!==vn&&Yt[ht-1]!==vn?[]:$o(Yt,vn);return(ht-=Qn.length)<ie?hl(I,H,qf,Xe.placeholder,$,Yt,Qn,$,$,ie-ht):_r(this&&this!==ha&&this instanceof Xe?ke:I,this,Yt)}}(I,H,Xt):32!=H&&33!=H||Xe.length?qf.apply($,fr):function(I,H,ie,ke){var Xe=1&H,ht=Nu(I);return function Yt(){for(var Xt=-1,vn=arguments.length,Qn=-1,Jn=ke.length,di=_n(Jn+vn),Hi=this&&this!==ha&&this instanceof Yt?ht:I;++Qn<Jn;)di[Qn]=ke[Qn];for(;vn--;)di[Qn++]=arguments[++Xt];return _r(Hi,Xe?ie:this,di)}}(I,H,ie,ke);else var Vr=function(I,H,ie){var ke=1&H,Xe=Nu(I);return function ht(){return(this&&this!==ha&&this instanceof ht?Xe:I).apply(ke?ie:this,arguments)}}(I,H,ie);return Im((Hi?sd:np)(Vr,fr),I,H)}function Bu(I,H,ie,ke){return I===$||qd(I,$a[ie])&&!Ir.call(ke,ie)?H:I}function tp(I,H,ie,ke,Xe,ht){return Ti(I)&&Ti(H)&&(ht.set(H,I),Va(I,H,$,tp,ht),ht.delete(H)),I}function Bd(I){return fy(I)?$:I}function oc(I,H,ie,ke,Xe,ht){var Yt=1&ie,Xt=I.length,vn=H.length;if(Xt!=vn&&!(Yt&&vn>Xt))return!1;var Qn=ht.get(I),Jn=ht.get(H);if(Qn&&Jn)return Qn==H&&Jn==I;var di=-1,Hi=!0,fr=2&ie?new be:$;for(ht.set(I,H),ht.set(H,I);++di<Xt;){var Vr=I[di],Ur=H[di];if(ke)var Xr=Yt?ke(Ur,Vr,di,H,I,ht):ke(Vr,Ur,di,I,H,ht);if(Xr!==$){if(Xr)continue;Hi=!1;break}if(fr){if(!zl(H,function(ro,zs){if(!Uh(fr,zs)&&(Vr===ro||Xe(Vr,ro,ie,ke,ht)))return fr.push(zs)})){Hi=!1;break}}else if(Vr!==Ur&&!Xe(Vr,Ur,ie,ke,ht)){Hi=!1;break}}return ht.delete(I),ht.delete(H),Hi}function Yd(I){return Sh(mf(I,$,se),I+"")}function cg(I){return xo(I,ja,Em)}function ug(I){return xo(I,nl,ga)}var Jf=Ja?function(I){return Ja.get(I)}:Dl;function df(I){for(var H=I.name+"",ie=nc[H],ke=Ir.call(nc,H)?ie.length:0;ke--;){var Xe=ie[ke],ht=Xe.func;if(null==ht||ht==I)return Xe.name}return H}function Hd(I){return(Ir.call(rt,"placeholder")?rt:I).placeholder}function vr(){var I=rt.iteratee||No;return I=I===No?nt:I,arguments.length?I(arguments[0],arguments[1]):I}function Vd(I,H){var ie=I.__data__;return function(I){var H=typeof I;return"string"==H||"number"==H||"symbol"==H||"boolean"==H?"__proto__"!==I:null===I}(H)?ie["string"==typeof H?"string":"hash"]:ie.map}function Hp(I){for(var H=ja(I),ie=H.length;ie--;){var ke=H[ie],Xe=I[ke];H[ie]=[ke,Xe,mu(Xe)]}return H}function ad(I,H){var ie=function(Jt,Pn){return null==Jt?$:Jt[Pn]}(I,H);return G(ie)?ie:$}var Em=ed?function(I){return null==I?[]:(I=ts(I),Kl(ed(I),function(H){return kc.call(I,H)}))}:il,ga=ed?function(I){for(var H=[];I;)ra(H,Em(I)),I=Qs(I);return H}:il,co=$r;function hg(I,H,ie){for(var ke=-1,Xe=(H=Jh(H,I)).length,ht=!1;++ke<Xe;){var Yt=Pc(H[ke]);if(!(ht=null!=I&&ie(I,Yt)))break;I=I[Yt]}return ht||++ke!=Xe?ht:!!(Xe=null==I?0:I.length)&&Rc(Xe)&&Yu(Yt,Xe)&&(In(I)||Dn(I))}function jd(I){return"function"!=typeof I.constructor||fu(I)?{}:Ac(Qs(I))}function Xf(I){return In(I)||Dn(I)||!!(_l&&I&&I[_l])}function Yu(I,H){var ie=typeof I;return!!(H=null==H?Bi:H)&&("number"==ie||"symbol"!=ie&&oe.test(I))&&I>-1&&I%1==0&&I<H}function Cl(I,H,ie){if(!Ti(ie))return!1;var ke=typeof H;return!!("number"==ke?_u(ie)&&Yu(H,ie.length):"string"==ke&&H in ie)&&qd(ie[H],I)}function hf(I,H){if(In(I))return!1;var ie=typeof I;return!("number"!=ie&&"symbol"!=ie&&"boolean"!=ie&&null!=I&&!Nc(I))||dt.test(I)||!$e.test(I)||null!=H&&I in ts(H)}function pg(I){var H=df(I),ie=rt[H];if("function"!=typeof ie||!(H in as.prototype))return!1;if(I===ie)return!0;var ke=Jf(ie);return!!ke&&I===ke[0]}(Ws&&co(new Ws(new ArrayBuffer(1)))!=Zn||Uo&&co(new Uo)!=Ki||Ps&&co(Ps.resolve())!=Ci||yl&&co(new yl)!=ir||td&&co(new td)!=Vs)&&(co=function(I){var H=$r(I),ie=H==$s?I.constructor:$,ke=ie?Ra(ie):"";if(ke)switch(ke){case Rp:return Zn;case cu:return Ki;case yh:return Ci;case nd:return ir;case uu:return Vs}return H});var Vp=lu?Kc:Ph;function fu(I){var H=I&&I.constructor;return I===("function"==typeof H&&H.prototype||$a)}function mu(I){return I==I&&!Ti(I)}function ev(I,H){return function(ie){return null!=ie&&ie[I]===H&&(H!==$||I in ts(ie))}}function mf(I,H,ie){return H=Js(H===$?I.length-1:H,0),function(){for(var ke=arguments,Xe=-1,ht=Js(ke.length-H,0),Yt=_n(ht);++Xe<ht;)Yt[Xe]=ke[H+Xe];Xe=-1;for(var Xt=_n(H+1);++Xe<H;)Xt[Xe]=ke[Xe];return Xt[H]=ie(Yt),_r(I,this,Xt)}}function Th(I,H){return H.length<2?I:Os(I,Ru(H,0,-1))}function fg(I,H){for(var ie=I.length,ke=Or(H.length,ie),Xe=sc(I);ke--;){var ht=H[ke];I[ke]=Yu(ht,ie)?Xe[ht]:$}return I}function ac(I,H){if(("constructor"!==H||"function"!=typeof I[H])&&"__proto__"!=H)return I[H]}var np=gf(sd),Kf=Wh||function(I,H){return ha.setTimeout(I,H)},Sh=gf(zp);function Im(I,H,ie){var ke=H+"";return Sh(I,function(I,H){var ie=H.length;if(!ie)return I;var ke=ie-1;return H[ke]=(ie>1?"& ":"")+H[ke],H=H.join(ie>2?", ":" "),I.replace(Kt,"{\n/* [wrapped with "+H+"] */\n")}(ke,function(I,H){return os(ei,function(ie){var ke="_."+ie[0];H&ie[1]&&!Ia(I,ke)&&I.push(ke)}),I.sort()}(function(I){var H=I.match(kn);return H?H[1].split(Re):[]}(ke),ie)))}function gf(I){var H=0,ie=0;return function(){var ke=Di(),Xe=16-(ke-ie);if(ie=ke,Xe>0){if(++H>=800)return arguments[0]}else H=0;return I.apply($,arguments)}}function _f(I,H){var ie=-1,ke=I.length,Xe=ke-1;for(H=H===$?ke:H;++ie<H;){var ht=Ic(ie,Xe),Yt=I[ht];I[ht]=I[ie],I[ie]=Yt}return I.length=H,I}var H,ie,kh=(H=Nm(function(I){var H=[];return 46===I.charCodeAt(0)&&H.push(""),I.replace(Ct,function(ie,ke,Xe,ht){H.push(Xe?ht.replace(b,"$1"):ke||ie)}),H},function(ke){return 500===ie.size&&ie.clear(),ke}),ie=H.cache,H);function Pc(I){if("string"==typeof I||Nc(I))return I;var H=I+"";return"0"==H&&1/I==-li?"-0":H}function Ra(I){if(null!=I){try{return Jo.call(I)}catch(H){}try{return I+""}catch(H){}}return""}function yf(I){if(I instanceof as)return I.clone();var H=new Xa(I.__wrapped__,I.__chain__);return H.__actions__=sc(I.__actions__),H.__index__=I.__index__,H.__values__=I.__values__,H}var X_=Br(function(I,H){return si(I)?ps(I,ys(H,1,si,!0)):[]}),K_=Br(function(I,H){var ie=Wi(H);return si(ie)&&(ie=$),si(I)?ps(I,ys(H,1,si,!0),vr(ie,2)):[]}),rp=Br(function(I,H){var ie=Wi(H);return si(ie)&&(ie=$),si(I)?ps(I,ys(H,1,si,!0),$,ie):[]});function O(I,H,ie){var ke=null==I?0:I.length;if(!ke)return-1;var Xe=null==ie?0:Qr(ie);return Xe<0&&(Xe=Js(ke+Xe,0)),Ed(I,vr(H,3),Xe)}function Z(I,H,ie){var ke=null==I?0:I.length;if(!ke)return-1;var Xe=ke-1;return ie!==$&&(Xe=Qr(ie),Xe=ie<0?Js(ke+Xe,0):Or(Xe,ke-1)),Ed(I,vr(H,3),Xe,!0)}function se(I){return null!=I&&I.length?ys(I,1):[]}function ut(I){return I&&I.length?I[0]:$}var Cn=Br(function(I){var H=hs(I,wo);return H.length&&H[0]===I[0]?Ha(H):[]}),Yn=Br(function(I){var H=Wi(I),ie=hs(I,wo);return H===Wi(ie)?H=$:ie.pop(),ie.length&&ie[0]===I[0]?Ha(ie,vr(H,2)):[]}),oi=Br(function(I){var H=Wi(I),ie=hs(I,wo);return(H="function"==typeof H?H:$)&&ie.pop(),ie.length&&ie[0]===I[0]?Ha(ie,$,H):[]});function Wi(I){var H=null==I?0:I.length;return H?I[H-1]:$}var _a=Br(lc);function lc(I,H){return I&&I.length&&H&&H.length?$h(I,H):I}var ya=Yd(function(I,H){var ie=null==I?0:I.length,ke=ci(I,H);return Oo(I,hs(H,function(Xe){return Yu(Xe,ie)?+Xe:Xe}).sort(Zf)),ke});function op(I){return null==I?I:Op.call(I)}var jp=Br(function(I){return Rd(ys(I,1,si,!0))}),_g=Br(function(I){var H=Wi(I);return si(H)&&(H=$),Rd(ys(I,1,si,!0),vr(H,2))}),db=Br(function(I){var H=Wi(I);return H="function"==typeof H?H:$,Rd(ys(I,1,si,!0),$,H)});function ty(I){if(!I||!I.length)return[];var H=0;return I=Kl(I,function(ie){if(si(ie))return H=Js(ie.length,H),!0}),Dd(H,function(ie){return hs(I,Ju(ie))})}function ov(I,H){if(!I||!I.length)return[];var ie=ty(I);return null==H?ie:hs(ie,function(ke){return _r(H,$,ke)})}var yg=Br(function(I,H){return si(I)?ps(I,H):[]}),ls=Br(function(I){return lo(Kl(I,si))}),hb=Br(function(I){var H=Wi(I);return si(H)&&(H=$),lo(Kl(I,si),vr(H,2))}),av=Br(function(I){var H=Wi(I);return H="function"==typeof H?H:$,lo(Kl(I,si),$,H)}),Pm=Br(ty),lv=Br(function(I){var H=I.length,ie=H>1?I[H-1]:$;return ie="function"==typeof ie?(I.pop(),ie):$,ov(I,ie)});function vg(I){var H=rt(I);return H.__chain__=!0,H}function bf(I,H){return H(I)}var bg=Yd(function(I){var H=I.length,ie=H?I[0]:0,ke=this.__wrapped__,Xe=function(ht){return ci(ht,I)};return!(H>1||this.__actions__.length)&&ke instanceof as&&Yu(ie)?((ke=ke.slice(ie,+ie+(H?1:0))).__actions__.push({func:bf,args:[Xe],thisArg:$}),new Xa(ke,this.__chain__).thru(function(ht){return H&&!ht.length&&ht.push($),ht})):this.thru(Xe)}),d_=Fd(function(I,H,ie){Ir.call(I,ie)?++I[ie]:Bn(I,ie,1)}),cv=Gf(O),Zl=Gf(Z);function dv(I,H){return(In(I)?os:bs)(I,vr(H,3))}function hv(I,H){return(In(I)?$u:Mr)(I,vr(H,3))}var ap=Fd(function(I,H,ie){Ir.call(I,ie)?I[ie].push(H):Bn(I,ie,[H])}),mb=Br(function(I,H,ie){var ke=-1,Xe="function"==typeof H,ht=_u(I)?_n(I.length):[];return bs(I,function(Yt){ht[++ke]=Xe?_r(H,Yt,ie):Pa(Yt,H,ie)}),ht}),sy=Fd(function(I,H,ie){Bn(I,ie,H)});function f_(I,H){return(In(I)?hs:Lr)(I,vr(H,3))}var B0=Fd(function(I,H,ie){I[ie?0:1].push(H)},function(){return[[],[]]}),Rm=Br(function(I,H){if(null==I)return[];var ie=H.length;return ie>1&&Cl(I,H[0],H[1])?H=[]:ie>2&&Cl(H[0],H[1],H[2])&&(H=[H[0]]),wm(I,ys(H,1),[])}),lp=Yf||function(){return ha.Date.now()};function cp(I,H,ie){return H=ie?$:H,od(I,128,$,$,$,$,H=I&&null==H?I.length:H)}function ly(I,H){var ie;if("function"!=typeof H)throw new Qo(Me);return I=Qr(I),function(){return--I>0&&(ie=H.apply(this,arguments)),I<=1&&(H=$),ie}}var ld=Br(function(I,H,ie){var ke=1;if(ie.length){var Xe=$o(ie,Hd(ld));ke|=32}return od(I,ke,H,ie,Xe)}),om=Br(function(I,H,ie){var ke=3;if(ie.length){var Xe=$o(ie,Hd(om));ke|=32}return od(H,ke,I,ie,Xe)});function Fm(I,H,ie){var ke,Xe,ht,Yt,Xt,vn,Qn=0,Jn=!1,di=!1,Hi=!0;if("function"!=typeof I)throw new Qo(Me);function fr(vs){var Ma=ke,kf=Xe;return ke=Xe=$,Qn=vs,Yt=I.apply(kf,Ma)}function Vr(vs){return Qn=vs,Xt=Kf(ro,H),Jn?fr(vs):Yt}function Xr(vs){var Ma=vs-vn;return vn===$||Ma>=H||Ma<0||di&&vs-Qn>=ht}function ro(){var vs=lp();if(Xr(vs))return zs(vs);Xt=Kf(ro,function(vs){var dw=H-(vs-vn);return di?Or(dw,ht-(vs-Qn)):dw}(vs))}function zs(vs){return Xt=$,Hi&&ke?fr(vs):(ke=Xe=$,Yt)}function Hc(){var vs=lp(),Ma=Xr(vs);if(ke=arguments,Xe=this,vn=vs,Ma){if(Xt===$)return Vr(vn);if(di)return Sm(Xt),Xt=Kf(ro,H),fr(vn)}return Xt===$&&(Xt=Kf(ro,H)),Yt}return H=eu(H)||0,Ti(ie)&&(Jn=!!ie.leading,ht=(di="maxWait"in ie)?Js(eu(ie.maxWait)||0,H):ht,Hi="trailing"in ie?!!ie.trailing:Hi),Hc.cancel=function(){Xt!==$&&Sm(Xt),Qn=0,ke=vn=Xe=Xt=$},Hc.flush=function(){return Xt===$?Yt:zs(lp())},Hc}var _b=Br(function(I,H){return ns(I,1,H)}),fv=Br(function(I,H,ie){return ns(I,eu(H)||0,ie)});function Nm(I,H){if("function"!=typeof I||null!=H&&"function"!=typeof H)throw new Qo(Me);var ie=function(){var ke=arguments,Xe=H?H.apply(this,ke):ke[0],ht=ie.cache;if(ht.has(Xe))return ht.get(Xe);var Yt=I.apply(this,ke);return ie.cache=ht.set(Xe,Yt)||ht,Yt};return ie.cache=new(Nm.Cache||N),ie}function xf(I){if("function"!=typeof I)throw new Qo(Me);return function(){var H=arguments;switch(H.length){case 0:return!I.call(this);case 1:return!I.call(this,H[0]);case 2:return!I.call(this,H[0],H[1]);case 3:return!I.call(this,H[0],H[1],H[2])}return!I.apply(this,H)}}Nm.Cache=N;var uy=Xh(function(I,H){var ie=(H=1==H.length&&In(H[0])?hs(H[0],Io(vr())):hs(ys(H,1),Io(vr()))).length;return Br(function(ke){for(var Xe=-1,ht=Or(ke.length,ie);++Xe<ht;)ke[Xe]=H[Xe].call(this,ke[Xe]);return _r(I,this,ke)})}),Gd=Br(function(I,H){var ie=$o(H,Hd(Gd));return od(I,32,$,H,ie)}),Oc=Br(function(I,H){var ie=$o(H,Hd(Oc));return od(I,64,$,H,ie)}),cd=Yd(function(I,H){return od(I,256,$,$,$,H)});function qd(I,H){return I===H||I!=I&&H!=H}var zm=cf(ul),ud=cf(function(I,H){return I>=H}),Dn=Pd(function(){return arguments}())?Pd:function(I){return Ua(I)&&Ir.call(I,"callee")&&!kc.call(I,"callee")},In=_n.isArray,va=kd?Io(kd):function(I){return Ua(I)&&$r(I)==Nr};function _u(I){return null!=I&&Rc(I.length)&&!Kc(I)}function si(I){return Ua(I)&&_u(I)}var up=Ec||Ph,kg=Wc?Io(Wc):function(I){return Ua(I)&&$r(I)==qs};function b_(I){if(!Ua(I))return!1;var H=$r(I);return H==ka||"[object DOMException]"==H||"string"==typeof I.message&&"string"==typeof I.name&&!fy(I)}function Kc(I){if(!Ti(I))return!1;var H=$r(I);return H==dr||H==Ea||"[object AsyncFunction]"==H||"[object Proxy]"==H}function Gp(I){return"number"==typeof I&&I==Qr(I)}function Rc(I){return"number"==typeof I&&I>-1&&I%1==0&&I<=Bi}function Ti(I){var H=typeof I;return null!=I&&("object"==H||"function"==H)}function Ua(I){return null!=I&&"object"==typeof I}var wf=Zs?Io(Zs):function(I){return Ua(I)&&co(I)==Ki};function Fc(I){return"number"==typeof I||Ua(I)&&$r(I)==nr}function fy(I){if(!Ua(I)||$r(I)!=$s)return!1;var H=Qs(I);if(null===H)return!0;var ie=Ir.call(H,"constructor")&&H.constructor;return"function"==typeof ie&&ie instanceof ie&&Jo.call(ie)==Ku}var hp=Fl?Io(Fl):function(I){return Ua(I)&&$r(I)==wr},Bm=lr?Io(lr):function(I){return Ua(I)&&co(I)==ir};function Ym(I){return"string"==typeof I||!In(I)&&Ua(I)&&$r(I)==Eo}function Nc(I){return"symbol"==typeof I||Ua(I)&&$r(I)==jc}var pp=kp?Io(kp):function(I){return Ua(I)&&Rc(I.length)&&!!ks[$r(I)]},pr=cf(Xi),Cf=cf(function(I,H){return I<=H});function dd(I){if(!I)return[];if(_u(I))return Ym(I)?sa(I):sc(I);if($c&&I[$c])return function(Jt){for(var Pn,_n=[];!(Pn=Jt.next()).done;)_n.push(Pn.value);return _n}(I[$c]());var H=co(I);return(H==Ki?Xu:H==ir?wc:Ht)(I)}function hd(I){return I?(I=eu(I))===li||I===-li?17976931348623157e292*(I<0?-1:1):I==I?I:0:0===I?I:0}function Qr(I){var H=hd(I),ie=H%1;return H==H?ie?H-ie:H:0}function my(I){return I?ti(Qr(I),0,Ei):0}function eu(I){if("number"==typeof I)return I;if(Nc(I))return NaN;if(Ti(I)){var H="function"==typeof I.valueOf?I.valueOf():I;I=Ti(H)?H+"":H}if("string"!=typeof I)return 0===I?I:+I;I=La(I);var ie=F.test(I);return ie||q.test(I)?dh(I.slice(2),ie?2:8):B.test(I)?NaN:+I}function gy(I){return oa(I,nl(I))}function ho(I){return null==I?"":Tr(I)}var C_=Jc(function(I,H){if(fu(H)||_u(H))oa(H,ja(H),I);else for(var ie in H)Ir.call(H,ie)&&Sn(I,ie,H[ie])}),mp=Jc(function(I,H){oa(H,nl(H),I)}),Hm=Jc(function(I,H,ie,ke){oa(H,nl(H),I,ke)}),cm=Jc(function(I,H,ie,ke){oa(H,ja(H),I,ke)}),Qd=Yd(ci),_y=Br(function(I,H){I=ts(I);var ie=-1,ke=H.length,Xe=ke>2?H[2]:$;for(Xe&&Cl(H[0],H[1],Xe)&&(ke=1);++ie<ke;)for(var ht=H[ie],Yt=nl(ht),Xt=-1,vn=Yt.length;++Xt<vn;){var Qn=Yt[Xt],Jn=I[Qn];(Jn===$||qd(Jn,$a[Qn])&&!Ir.call(I,Qn))&&(I[Qn]=ht[Qn])}return I}),uc=Br(function(I){return I.push($,tp),_r(M,$,I)});function vy(I,H,ie){var ke=null==I?$:Os(I,H);return ke===$?ie:ke}function yv(I,H){return null!=I&&hg(I,H,bl)}var xy=lg(function(I,H,ie){null!=H&&"function"!=typeof H.toString&&(H=Sc.call(H)),I[H]=ie},kl(Xs)),V0=lg(function(I,H,ie){null!=H&&"function"!=typeof H.toString&&(H=Sc.call(H)),Ir.call(I,H)?I[H].push(ie):I[H]=[ie]},vr),vv=Br(Pa);function ja(I){return _u(I)?wt(I):Et(I)}function nl(I){return _u(I)?wt(I,!0):function(I){if(!Ti(I))return function(I){var H=[];if(null!=I)for(var ie in ts(I))H.push(ie);return H}(I);var H=fu(I),ie=[];for(var ke in I)"constructor"==ke&&(H||!Ir.call(I,ke))||ie.push(ke);return ie}(I)}var v=Jc(function(I,H,ie){Va(I,H,ie)}),M=Jc(function(I,H,ie,ke){Va(I,H,ie,ke)}),L=Yd(function(I,H){var ie={};if(null==I)return ie;var ke=!1;H=hs(H,function(ht){return ht=Jh(ht,I),ke||(ke=ht.length>1),ht}),oa(I,ug(I),ie),ke&&(ie=Xn(ie,7,Bd));for(var Xe=H.length;Xe--;)Uf(ie,H[Xe]);return ie}),V=Yd(function(I,H){return null==I?{}:function(I,H){return Mm(I,H,function(ie,ke){return yv(I,ke)})}(I,H)});function K(I,H){if(null==I)return{};var ie=hs(ug(I),function(ke){return[ke]});return H=vr(H),Mm(I,ie,function(ke,Xe){return H(ke,Xe[0])})}var Se=Mh(ja),Oe=Mh(nl);function Ht(I){return null==I?[]:js(I,ja(I))}var yn=zd(function(I,H,ie){return H=H.toLowerCase(),I+(ie?Wn(H):H)});function Wn(I){return Za(ho(I).toLowerCase())}function Kn(I){return(I=ho(I))&&I.replace(ue,bo).replace(Mp,"")}var jn=zd(function(I,H,ie){return I+(ie?"-":"")+H.toLowerCase()}),ui=zd(function(I,H,ie){return I+(ie?" ":"")+H.toLowerCase()}),On=Wf("toLowerCase"),er=zd(function(I,H,ie){return I+(ie?"_":"")+H.toLowerCase()}),Na=zd(function(I,H,ie){return I+(ie?" ":"")+Za(H)}),yo=zd(function(I,H,ie){return I+(ie?" ":"")+H.toUpperCase()}),Za=Wf("toUpperCase");function cs(I,H,ie){return I=ho(I),(H=ie?$:H)===$?function(Jt){return ch.test(Jt)}(I)?function(Jt){return Jt.match(Cu)||[]}(I):function(Jt){return Jt.match(p)||[]}(I):I.match(H)||[]}var cr=Br(function(I,H){try{return _r(I,$,H)}catch(ie){return b_(ie)?ie:new or(ie)}}),pl=Yd(function(I,H){return os(H,function(ie){ie=Pc(ie),Bn(I,ie,ld(I[ie],I))}),I});function kl(I){return function(){return I}}var Is=Ch(),Yc=Ch(!0);function Xs(I){return I}function No(I){return nt("function"==typeof I?I:Xn(I,1))}var El=Br(function(I,H){return function(ie){return Pa(ie,I,H)}}),tu=Br(function(I,H){return function(ie){return Pa(I,ie,H)}});function md(I,H,ie){var ke=ja(H),Xe=is(H,ke);null==ie&&(!Ti(H)||!Xe.length&&ke.length)&&(ie=H,H=I,I=this,Xe=is(H,ja(H)));var ht=!(Ti(ie)&&"chain"in ie&&!ie.chain),Yt=Kc(I);return os(Xe,function(Xt){var vn=H[Xt];I[Xt]=vn,Yt&&(I.prototype[Xt]=function(){var Qn=this.__chain__;if(ht||Qn){var Jn=I(this.__wrapped__),di=Jn.__actions__=sc(this.__actions__);return di.push({func:vn,args:arguments,thisArg:I}),Jn.__chain__=Qn,Jn}return vn.apply(I,ra([this.value()],arguments))})}),I}function Dl(){}var Ls=$f(hs),Vm=$f(Nl),Lh=$f(zl);function Dg(I){return hf(I)?Ju(Pc(I)):function(I){return function(H){return Os(H,I)}}(I)}var Ca=ep(),dc=ep(!0);function il(){return[]}function Ph(){return!1}var hm=s_(function(I,H){return I+H},0),S_=Oa("ceil"),Ty=s_(function(I,H){return I/H},1),Al=Oa("floor"),ky=s_(function(I,H){return I*H},1),j0=Oa("round"),Z0=s_(function(I,H){return I-H},0);return rt.after=function(I,H){if("function"!=typeof H)throw new Qo(Me);return I=Qr(I),function(){if(--I<1)return H.apply(this,arguments)}},rt.ary=cp,rt.assign=C_,rt.assignIn=mp,rt.assignInWith=Hm,rt.assignWith=cm,rt.at=Qd,rt.before=ly,rt.bind=ld,rt.bindAll=pl,rt.bindKey=om,rt.castArray=function(){if(!arguments.length)return[];var I=arguments[0];return In(I)?I:[I]},rt.chain=vg,rt.chunk=function(I,H,ie){H=(ie?Cl(I,H,ie):H===$)?1:Js(Qr(H),0);var ke=null==I?0:I.length;if(!ke||H<1)return[];for(var Xe=0,ht=0,Yt=_n(Yl(ke/H));Xe<ke;)Yt[ht++]=Ru(I,Xe,Xe+=H);return Yt},rt.compact=function(I){for(var H=-1,ie=null==I?0:I.length,ke=0,Xe=[];++H<ie;){var ht=I[H];ht&&(Xe[ke++]=ht)}return Xe},rt.concat=function(){var I=arguments.length;if(!I)return[];for(var H=_n(I-1),ie=arguments[0],ke=I;ke--;)H[ke-1]=arguments[ke];return ra(In(ie)?sc(ie):[ie],ys(H,1))},rt.cond=function(I){var H=null==I?0:I.length,ie=vr();return I=H?hs(I,function(ke){if("function"!=typeof ke[1])throw new Qo(Me);return[ie(ke[0]),ke[1]]}):[],Br(function(ke){for(var Xe=-1;++Xe<H;){var ht=I[Xe];if(_r(ht[0],this,ke))return _r(ht[1],this,ke)}})},rt.conforms=function(I){return function(I){var H=ja(I);return function(ie){return Ri(ie,I,H)}}(Xn(I,1))},rt.constant=kl,rt.countBy=d_,rt.create=function(I,H){var ie=Ac(I);return null==H?ie:Lt(ie,H)},rt.curry=function cy(I,H,ie){var ke=od(I,8,$,$,$,$,$,H=ie?$:H);return ke.placeholder=cy.placeholder,ke},rt.curryRight=function gb(I,H,ie){var ke=od(I,16,$,$,$,$,$,H=ie?$:H);return ke.placeholder=gb.placeholder,ke},rt.debounce=Fm,rt.defaults=_y,rt.defaultsDeep=uc,rt.defer=_b,rt.delay=fv,rt.difference=X_,rt.differenceBy=K_,rt.differenceWith=rp,rt.drop=function(I,H,ie){var ke=null==I?0:I.length;return ke?Ru(I,(H=ie||H===$?1:Qr(H))<0?0:H,ke):[]},rt.dropRight=function(I,H,ie){var ke=null==I?0:I.length;return ke?Ru(I,0,(H=ke-(H=ie||H===$?1:Qr(H)))<0?0:H):[]},rt.dropRightWhile=function(I,H){return I&&I.length?Qh(I,vr(H,3),!0,!0):[]},rt.dropWhile=function(I,H){return I&&I.length?Qh(I,vr(H,3),!0):[]},rt.fill=function(I,H,ie,ke){var Xe=null==I?0:I.length;return Xe?(ie&&"number"!=typeof ie&&Cl(I,H,ie)&&(ie=0,ke=Xe),function(I,H,ie,ke){var Xe=I.length;for((ie=Qr(ie))<0&&(ie=-ie>Xe?0:Xe+ie),(ke=ke===$||ke>Xe?Xe:Qr(ke))<0&&(ke+=Xe),ke=ie>ke?0:my(ke);ie<ke;)I[ie++]=H;return I}(I,H,ie,ke)):[]},rt.filter=function(I,H){return(In(I)?Kl:Ya)(I,vr(H,3))},rt.flatMap=function(I,H){return ys(f_(I,H),1)},rt.flatMapDeep=function(I,H){return ys(f_(I,H),li)},rt.flatMapDepth=function(I,H,ie){return ie=ie===$?1:Qr(ie),ys(f_(I,H),ie)},rt.flatten=se,rt.flattenDeep=function(I){return null!=I&&I.length?ys(I,li):[]},rt.flattenDepth=function(I,H){return null!=I&&I.length?ys(I,H=H===$?1:Qr(H)):[]},rt.flip=function(I){return od(I,512)},rt.flow=Is,rt.flowRight=Yc,rt.fromPairs=function(I){for(var H=-1,ie=null==I?0:I.length,ke={};++H<ie;){var Xe=I[H];ke[Xe[0]]=Xe[1]}return ke},rt.functions=function(I){return null==I?[]:is(I,ja(I))},rt.functionsIn=function(I){return null==I?[]:is(I,nl(I))},rt.groupBy=ap,rt.initial=function(I){return null!=I&&I.length?Ru(I,0,-1):[]},rt.intersection=Cn,rt.intersectionBy=Yn,rt.intersectionWith=oi,rt.invert=xy,rt.invertBy=V0,rt.invokeMap=mb,rt.iteratee=No,rt.keyBy=sy,rt.keys=ja,rt.keysIn=nl,rt.map=f_,rt.mapKeys=function(I,H){var ie={};return H=vr(H,3),Vi(I,function(ke,Xe,ht){Bn(ie,H(ke,Xe,ht),ke)}),ie},rt.mapValues=function(I,H){var ie={};return H=vr(H,3),Vi(I,function(ke,Xe,ht){Bn(ie,Xe,H(ke,Xe,ht))}),ie},rt.matches=function(I){return to(Xn(I,1))},rt.matchesProperty=function(I,H){return el(I,Xn(H,1))},rt.memoize=Nm,rt.merge=v,rt.mergeWith=M,rt.method=El,rt.methodOf=tu,rt.mixin=md,rt.negate=xf,rt.nthArg=function(I){return I=Qr(I),Br(function(H){return af(H,I)})},rt.omit=L,rt.omitBy=function(I,H){return K(I,xf(vr(H)))},rt.once=function(I){return ly(2,I)},rt.orderBy=function(I,H,ie,ke){return null==I?[]:(In(H)||(H=null==H?[]:[H]),In(ie=ke?$:ie)||(ie=null==ie?[]:[ie]),wm(I,H,ie))},rt.over=Ls,rt.overArgs=uy,rt.overEvery=Vm,rt.overSome=Lh,rt.partial=Gd,rt.partialRight=Oc,rt.partition=B0,rt.pick=V,rt.pickBy=K,rt.property=Dg,rt.propertyOf=function(I){return function(H){return null==I?$:Os(I,H)}},rt.pull=_a,rt.pullAll=lc,rt.pullAllBy=function(I,H,ie){return I&&I.length&&H&&H.length?$h(I,H,vr(ie,2)):I},rt.pullAllWith=function(I,H,ie){return I&&I.length&&H&&H.length?$h(I,H,$,ie):I},rt.pullAt=ya,rt.range=Ca,rt.rangeRight=dc,rt.rearg=cd,rt.reject=function(I,H){return(In(I)?Kl:Ya)(I,xf(vr(H,3)))},rt.remove=function(I,H){var ie=[];if(!I||!I.length)return ie;var ke=-1,Xe=[],ht=I.length;for(H=vr(H,3);++ke<ht;){var Yt=I[ke];H(Yt,ke,I)&&(ie.push(Yt),Xe.push(ke))}return Oo(I,Xe),ie},rt.rest=function(I,H){if("function"!=typeof I)throw new Qo(Me);return Br(I,H=H===$?H:Qr(H))},rt.reverse=op,rt.sampleSize=function(I,H,ie){return H=(ie?Cl(I,H,ie):H===$)?1:Qr(H),(In(I)?Ut:Ds)(I,H)},rt.set=function(I,H,ie){return null==I?I:hu(I,H,ie)},rt.setWith=function(I,H,ie,ke){return ke="function"==typeof ke?ke:$,null==I?I:hu(I,H,ie,ke)},rt.shuffle=function(I){return(In(I)?St:n_)(I)},rt.slice=function(I,H,ie){var ke=null==I?0:I.length;return ke?(ie&&"number"!=typeof ie&&Cl(I,H,ie)?(H=0,ie=ke):(H=null==H?0:Qr(H),ie=ie===$?ke:Qr(ie)),Ru(I,H,ie)):[]},rt.sortBy=Rm,rt.sortedUniq=function(I){return I&&I.length?Tm(I):[]},rt.sortedUniqBy=function(I,H){return I&&I.length?Tm(I,vr(H,2)):[]},rt.split=function(I,H,ie){return ie&&"number"!=typeof ie&&Cl(I,H,ie)&&(H=ie=$),(ie=ie===$?Ei:ie>>>0)?(I=ho(I))&&("string"==typeof H||null!=H&&!hp(H))&&!(H=Tr(H))&&br(I)?wh(sa(I),0,ie):I.split(H,ie):[]},rt.spread=function(I,H){if("function"!=typeof I)throw new Qo(Me);return H=null==H?0:Js(Qr(H),0),Br(function(ie){var ke=ie[H],Xe=wh(ie,0,H);return ke&&ra(Xe,ke),_r(I,this,Xe)})},rt.tail=function(I){var H=null==I?0:I.length;return H?Ru(I,1,H):[]},rt.take=function(I,H,ie){return I&&I.length?Ru(I,0,(H=ie||H===$?1:Qr(H))<0?0:H):[]},rt.takeRight=function(I,H,ie){var ke=null==I?0:I.length;return ke?Ru(I,(H=ke-(H=ie||H===$?1:Qr(H)))<0?0:H,ke):[]},rt.takeRightWhile=function(I,H){return I&&I.length?Qh(I,vr(H,3),!1,!0):[]},rt.takeWhile=function(I,H){return I&&I.length?Qh(I,vr(H,3)):[]},rt.tap=function(I,H){return H(I),I},rt.throttle=function(I,H,ie){var ke=!0,Xe=!0;if("function"!=typeof I)throw new Qo(Me);return Ti(ie)&&(ke="leading"in ie?!!ie.leading:ke,Xe="trailing"in ie?!!ie.trailing:Xe),Fm(I,H,{leading:ke,maxWait:H,trailing:Xe})},rt.thru=bf,rt.toArray=dd,rt.toPairs=Se,rt.toPairsIn=Oe,rt.toPath=function(I){return In(I)?hs(I,Pc):Nc(I)?[I]:sc(kh(ho(I)))},rt.toPlainObject=gy,rt.transform=function(I,H,ie){var ke=In(I),Xe=ke||up(I)||pp(I);if(H=vr(H,4),null==ie){var ht=I&&I.constructor;ie=Xe?ke?new ht:[]:Ti(I)&&Kc(ht)?Ac(Qs(I)):{}}return(Xe?os:Vi)(I,function(Yt,Xt,vn){return H(ie,Yt,Xt,vn)}),ie},rt.unary=function(I){return cp(I,1)},rt.union=jp,rt.unionBy=_g,rt.unionWith=db,rt.uniq=function(I){return I&&I.length?Rd(I):[]},rt.uniqBy=function(I,H){return I&&I.length?Rd(I,vr(H,2)):[]},rt.uniqWith=function(I,H){return H="function"==typeof H?H:$,I&&I.length?Rd(I,$,H):[]},rt.unset=function(I,H){return null==I||Uf(I,H)},rt.unzip=ty,rt.unzipWith=ov,rt.update=function(I,H,ie){return null==I?I:Bp(I,H,Vl(ie))},rt.updateWith=function(I,H,ie,ke){return ke="function"==typeof ke?ke:$,null==I?I:Bp(I,H,Vl(ie),ke)},rt.values=Ht,rt.valuesIn=function(I){return null==I?[]:js(I,nl(I))},rt.without=yg,rt.words=cs,rt.wrap=function(I,H){return Gd(Vl(H),I)},rt.xor=ls,rt.xorBy=hb,rt.xorWith=av,rt.zip=Pm,rt.zipObject=function(I,H){return lf(I||[],H||[],Sn)},rt.zipObjectDeep=function(I,H){return lf(I||[],H||[],hu)},rt.zipWith=lv,rt.entries=Se,rt.entriesIn=Oe,rt.extend=mp,rt.extendWith=Hm,md(rt,rt),rt.add=hm,rt.attempt=cr,rt.camelCase=yn,rt.capitalize=Wn,rt.ceil=S_,rt.clamp=function(I,H,ie){return ie===$&&(ie=H,H=$),ie!==$&&(ie=(ie=eu(ie))==ie?ie:0),H!==$&&(H=(H=eu(H))==H?H:0),ti(eu(I),H,ie)},rt.clone=function(I){return Xn(I,4)},rt.cloneDeep=function(I){return Xn(I,5)},rt.cloneDeepWith=function(I,H){return Xn(I,5,H="function"==typeof H?H:$)},rt.cloneWith=function(I,H){return Xn(I,4,H="function"==typeof H?H:$)},rt.conformsTo=function(I,H){return null==H||Ri(I,H,ja(H))},rt.deburr=Kn,rt.defaultTo=function(I,H){return null==I||I!=I?H:I},rt.divide=Ty,rt.endsWith=function(I,H,ie){I=ho(I),H=Tr(H);var ke=I.length,Xe=ie=ie===$?ke:ti(Qr(ie),0,ke);return(ie-=H.length)>=0&&I.slice(ie,Xe)==H},rt.eq=qd,rt.escape=function(I){return(I=ho(I))&&Zr.test(I)?I.replace(Zi,pa):I},rt.escapeRegExp=function(I){return(I=ho(I))&&Ot.test(I)?I.replace(Bt,"\\$&"):I},rt.every=function(I,H,ie){var ke=In(I)?Nl:Es;return ie&&Cl(I,H,ie)&&(H=$),ke(I,vr(H,3))},rt.find=cv,rt.findIndex=O,rt.findKey=function(I,H){return Qu(I,vr(H,3),Vi)},rt.findLast=Zl,rt.findLastIndex=Z,rt.findLastKey=function(I,H){return Qu(I,vr(H,3),Gs)},rt.floor=Al,rt.forEach=dv,rt.forEachRight=hv,rt.forIn=function(I,H){return null==I?I:Ko(I,vr(H,3),nl)},rt.forInRight=function(I,H){return null==I?I:vl(I,vr(H,3),nl)},rt.forOwn=function(I,H){return I&&Vi(I,vr(H,3))},rt.forOwnRight=function(I,H){return I&&Gs(I,vr(H,3))},rt.get=vy,rt.gt=zm,rt.gte=ud,rt.has=function(I,H){return null!=I&&hg(I,H,dl)},rt.hasIn=yv,rt.head=ut,rt.identity=Xs,rt.includes=function(I,H,ie,ke){I=_u(I)?I:Ht(I),ie=ie&&!ke?Qr(ie):0;var Xe=I.length;return ie<0&&(ie=Js(Xe+ie,0)),Ym(I)?ie<=Xe&&I.indexOf(H,ie)>-1:!!Xe&&bc(I,H,ie)>-1},rt.indexOf=function(I,H,ie){var ke=null==I?0:I.length;if(!ke)return-1;var Xe=null==ie?0:Qr(ie);return Xe<0&&(Xe=Js(ke+Xe,0)),bc(I,H,Xe)},rt.inRange=function(I,H,ie){return H=hd(H),ie===$?(ie=H,H=0):ie=hd(ie),function(I,H,ie){return I>=Or(H,ie)&&I<Js(H,ie)}(I=eu(I),H,ie)},rt.invoke=vv,rt.isArguments=Dn,rt.isArray=In,rt.isArrayBuffer=va,rt.isArrayLike=_u,rt.isArrayLikeObject=si,rt.isBoolean=function(I){return!0===I||!1===I||Ua(I)&&$r(I)==ss},rt.isBuffer=up,rt.isDate=kg,rt.isElement=function(I){return Ua(I)&&1===I.nodeType&&!fy(I)},rt.isEmpty=function(I){if(null==I)return!0;if(_u(I)&&(In(I)||"string"==typeof I||"function"==typeof I.splice||up(I)||pp(I)||Dn(I)))return!I.length;var H=co(I);if(H==Ki||H==ir)return!I.size;if(fu(I))return!Et(I).length;for(var ie in I)if(Ir.call(I,ie))return!1;return!0},rt.isEqual=function(I,H){return ic(I,H)},rt.isEqualWith=function(I,H,ie){var ke=(ie="function"==typeof ie?ie:$)?ie(I,H):$;return ke===$?ic(I,H,$,ie):!!ke},rt.isError=b_,rt.isFinite=function(I){return"number"==typeof I&&Qc(I)},rt.isFunction=Kc,rt.isInteger=Gp,rt.isLength=Rc,rt.isMap=wf,rt.isMatch=function(I,H){return I===H||yi(I,H,Hp(H))},rt.isMatchWith=function(I,H,ie){return ie="function"==typeof ie?ie:$,yi(I,H,Hp(H),ie)},rt.isNaN=function(I){return Fc(I)&&I!=+I},rt.isNative=function(I){if(Vp(I))throw new or("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return G(I)},rt.isNil=function(I){return null==I},rt.isNull=function(I){return null===I},rt.isNumber=Fc,rt.isObject=Ti,rt.isObjectLike=Ua,rt.isPlainObject=fy,rt.isRegExp=hp,rt.isSafeInteger=function(I){return Gp(I)&&I>=-Bi&&I<=Bi},rt.isSet=Bm,rt.isString=Ym,rt.isSymbol=Nc,rt.isTypedArray=pp,rt.isUndefined=function(I){return I===$},rt.isWeakMap=function(I){return Ua(I)&&co(I)==Vs},rt.isWeakSet=function(I){return Ua(I)&&"[object WeakSet]"==$r(I)},rt.join=function(I,H){return null==I?"":Mi.call(I,H)},rt.kebabCase=jn,rt.last=Wi,rt.lastIndexOf=function(I,H,ie){var ke=null==I?0:I.length;if(!ke)return-1;var Xe=ke;return ie!==$&&(Xe=(Xe=Qr(ie))<0?Js(ke+Xe,0):Or(Xe,ke-1)),H==H?function(Jt,Pn,_n){for(var Ii=_n+1;Ii--;)if(Jt[Ii]===Pn)return Ii;return Ii}(I,H,Xe):Ed(I,nf,Xe,!0)},rt.lowerCase=ui,rt.lowerFirst=On,rt.lt=pr,rt.lte=Cf,rt.max=function(I){return I&&I.length?ao(I,Xs,ul):$},rt.maxBy=function(I,H){return I&&I.length?ao(I,vr(H,2),ul):$},rt.mean=function(I){return au(I,Xs)},rt.meanBy=function(I,H){return au(I,vr(H,2))},rt.min=function(I){return I&&I.length?ao(I,Xs,Xi):$},rt.minBy=function(I,H){return I&&I.length?ao(I,vr(H,2),Xi):$},rt.stubArray=il,rt.stubFalse=Ph,rt.stubObject=function(){return{}},rt.stubString=function(){return""},rt.stubTrue=function(){return!0},rt.multiply=ky,rt.nth=function(I,H){return I&&I.length?af(I,Qr(H)):$},rt.noConflict=function(){return ha._===this&&(ha._=Ip),this},rt.noop=Dl,rt.now=lp,rt.pad=function(I,H,ie){I=ho(I);var ke=(H=Qr(H))?fa(I):0;if(!H||ke>=H)return I;var Xe=(H-ke)/2;return zu(tc(Xe),ie)+I+zu(Yl(Xe),ie)},rt.padEnd=function(I,H,ie){I=ho(I);var ke=(H=Qr(H))?fa(I):0;return H&&ke<H?I+zu(H-ke,ie):I},rt.padStart=function(I,H,ie){I=ho(I);var ke=(H=Qr(H))?fa(I):0;return H&&ke<H?zu(H-ke,ie)+I:I},rt.parseInt=function(I,H,ie){return ie||null==H?H=0:H&&(H=+H),Qa(ho(I).replace(rn,""),H||0)},rt.random=function(I,H,ie){if(ie&&"boolean"!=typeof ie&&Cl(I,H,ie)&&(H=ie=$),ie===$&&("boolean"==typeof H?(ie=H,H=$):"boolean"==typeof I&&(ie=I,I=$)),I===$&&H===$?(I=0,H=1):(I=hd(I),H===$?(H=I,I=0):H=hd(H)),I>H){var ke=I;I=H,H=ke}if(ie||I%1||H%1){var Xe=Fi();return Or(I+Xe*(H-I+zr("1e-"+((Xe+"").length-1))),H)}return Ic(I,H)},rt.reduce=function(I,H,ie){var ke=In(I)?hh:_s,Xe=arguments.length<3;return ke(I,vr(H,4),ie,Xe,bs)},rt.reduceRight=function(I,H,ie){var ke=In(I)?Mu:_s,Xe=arguments.length<3;return ke(I,vr(H,4),ie,Xe,Mr)},rt.repeat=function(I,H,ie){return H=(ie?Cl(I,H,ie):H===$)?1:Qr(H),Ou(ho(I),H)},rt.replace=function(){var I=arguments,H=ho(I[0]);return I.length<3?H:H.replace(I[1],I[2])},rt.result=function(I,H,ie){var ke=-1,Xe=(H=Jh(H,I)).length;for(Xe||(Xe=1,I=$);++ke<Xe;){var ht=null==I?$:I[Pc(H[ke])];ht===$&&(ke=Xe,ht=ie),I=Kc(ht)?ht.call(I):ht}return I},rt.round=j0,rt.runInContext=Jt,rt.sample=function(I){return(In(I)?Tt:yt)(I)},rt.size=function(I){if(null==I)return 0;if(_u(I))return Ym(I)?fa(I):I.length;var H=co(I);return H==Ki||H==ir?I.size:Et(I).length},rt.snakeCase=er,rt.some=function(I,H,ie){var ke=In(I)?zl:ji;return ie&&Cl(I,H,ie)&&(H=$),ke(I,vr(H,3))},rt.sortedIndex=function(I,H){return rc(I,H)},rt.sortedIndexBy=function(I,H,ie){return Yr(I,H,vr(ie,2))},rt.sortedIndexOf=function(I,H){var ie=null==I?0:I.length;if(ie){var ke=rc(I,H);if(ke<ie&&qd(I[ke],H))return ke}return-1},rt.sortedLastIndex=function(I,H){return rc(I,H,!0)},rt.sortedLastIndexBy=function(I,H,ie){return Yr(I,H,vr(ie,2),!0)},rt.sortedLastIndexOf=function(I,H){if(null!=I&&I.length){var ke=rc(I,H,!0)-1;if(qd(I[ke],H))return ke}return-1},rt.startCase=Na,rt.startsWith=function(I,H,ie){return I=ho(I),ie=null==ie?0:ti(Qr(ie),0,I.length),H=Tr(H),I.slice(ie,ie+H.length)==H},rt.subtract=Z0,rt.sum=function(I){return I&&I.length?Do(I,Xs):0},rt.sumBy=function(I,H){return I&&I.length?Do(I,vr(H,2)):0},rt.template=function(I,H,ie){var ke=rt.templateSettings;ie&&Cl(I,H,ie)&&(H=$),I=ho(I),H=Hm({},H,ke,Bu);var Xt,vn,Xe=Hm({},H.imports,ke.imports,Bu),ht=ja(Xe),Yt=js(Xe,ht),Qn=0,Jn=H.interpolate||ae,di="__p += '",Hi=ma((H.escape||ae).source+"|"+Jn.source+"|"+(Jn===He?S:ae).source+"|"+(H.evaluate||ae).source+"|$","g"),fr="//# sourceURL="+(Ir.call(H,"sourceURL")?(H.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tp+"]")+"\n";I.replace(Hi,function(Xr,ro,zs,gp,Wa,Hc){return zs||(zs=gp),di+=I.slice(Qn,Hc).replace(_e,ph),ro&&(Xt=!0,di+="' +\n__e("+ro+") +\n'"),Wa&&(vn=!0,di+="';\n"+Wa+";\n__p += '"),zs&&(di+="' +\n((__t = ("+zs+")) == null ? '' : __t) +\n'"),Qn=Hc+Xr.length,Xr}),di+="';\n";var Vr=Ir.call(H,"variable")&&H.variable;if(Vr){if(f.test(Vr))throw new or("Invalid `variable` option passed into `_.template`")}else di="with (obj) {\n"+di+"\n}\n";di=(vn?di.replace(Qt,""):di).replace(gn,"$1").replace(an,"$1;"),di="function("+(Vr||"obj")+") {\n"+(Vr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Xt?", __e = _.escape":"")+(vn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+di+"return __p\n}";var Ur=cr(function(){return Ar(ht,fr+"return "+di).apply($,Yt)});if(Ur.source=di,b_(Ur))throw Ur;return Ur},rt.times=function(I,H){if((I=Qr(I))<1||I>Bi)return[];var ie=Ei,ke=Or(I,Ei);H=vr(H),I-=Ei;for(var Xe=Dd(ke,H);++ie<I;)H(ie);return Xe},rt.toFinite=hd,rt.toInteger=Qr,rt.toLength=my,rt.toLower=function(I){return ho(I).toLowerCase()},rt.toNumber=eu,rt.toSafeInteger=function(I){return I?ti(Qr(I),-Bi,Bi):0===I?I:0},rt.toString=ho,rt.toUpper=function(I){return ho(I).toUpperCase()},rt.trim=function(I,H,ie){if((I=ho(I))&&(ie||H===$))return La(I);if(!I||!(H=Tr(H)))return I;var ke=sa(I),Xe=sa(H);return wh(ke,Dp(ke,Xe),ll(ke,Xe)+1).join("")},rt.trimEnd=function(I,H,ie){if((I=ho(I))&&(ie||H===$))return I.slice(0,Cc(I)+1);if(!I||!(H=Tr(H)))return I;var ke=sa(I);return wh(ke,0,ll(ke,sa(H))+1).join("")},rt.trimStart=function(I,H,ie){if((I=ho(I))&&(ie||H===$))return I.replace(rn,"");if(!I||!(H=Tr(H)))return I;var ke=sa(I);return wh(ke,Dp(ke,sa(H))).join("")},rt.truncate=function(I,H){var ie=30,ke="...";if(Ti(H)){var Xe="separator"in H?H.separator:Xe;ie="length"in H?Qr(H.length):ie,ke="omission"in H?Tr(H.omission):ke}var ht=(I=ho(I)).length;if(br(I)){var Yt=sa(I);ht=Yt.length}if(ie>=ht)return I;var Xt=ie-fa(ke);if(Xt<1)return ke;var vn=Yt?wh(Yt,0,Xt).join(""):I.slice(0,Xt);if(Xe===$)return vn+ke;if(Yt&&(Xt+=vn.length-Xt),hp(Xe)){if(I.slice(Xt).search(Xe)){var Qn,Jn=vn;for(Xe.global||(Xe=ma(Xe.source,ho(D.exec(Xe))+"g")),Xe.lastIndex=0;Qn=Xe.exec(Jn);)var di=Qn.index;vn=vn.slice(0,di===$?Xt:di)}}else if(I.indexOf(Tr(Xe),Xt)!=Xt){var Hi=vn.lastIndexOf(Xe);Hi>-1&&(vn=vn.slice(0,Hi))}return vn+ke},rt.unescape=function(I){return(I=ho(I))&&mr.test(I)?I.replace(_i,qc):I},rt.uniqueId=function(I){var H=++Du;return ho(I)+H},rt.upperCase=yo,rt.upperFirst=Za,rt.each=dv,rt.eachRight=hv,rt.first=ut,md(rt,function(){var I={};return Vi(rt,function(H,ie){Ir.call(rt.prototype,ie)||(I[ie]=H)}),I}(),{chain:!1}),rt.VERSION="4.17.21",os(["bind","bindKey","curry","curryRight","partial","partialRight"],function(I){rt[I].placeholder=rt}),os(["drop","take"],function(I,H){as.prototype[I]=function(ie){ie=ie===$?1:Js(Qr(ie),0);var ke=this.__filtered__&&!H?new as(this):this.clone();return ke.__filtered__?ke.__takeCount__=Or(ie,ke.__takeCount__):ke.__views__.push({size:Or(ie,Ei),type:I+(ke.__dir__<0?"Right":"")}),ke},as.prototype[I+"Right"]=function(ie){return this.reverse()[I](ie).reverse()}}),os(["filter","map","takeWhile"],function(I,H){var ie=H+1,ke=1==ie||3==ie;as.prototype[I]=function(Xe){var ht=this.clone();return ht.__iteratees__.push({iteratee:vr(Xe,3),type:ie}),ht.__filtered__=ht.__filtered__||ke,ht}}),os(["head","last"],function(I,H){var ie="take"+(H?"Right":"");as.prototype[I]=function(){return this[ie](1).value()[0]}}),os(["initial","tail"],function(I,H){var ie="drop"+(H?"":"Right");as.prototype[I]=function(){return this.__filtered__?new as(this):this[ie](1)}}),as.prototype.compact=function(){return this.filter(Xs)},as.prototype.find=function(I){return this.filter(I).head()},as.prototype.findLast=function(I){return this.reverse().find(I)},as.prototype.invokeMap=Br(function(I,H){return"function"==typeof I?new as(this):this.map(function(ie){return Pa(ie,I,H)})}),as.prototype.reject=function(I){return this.filter(xf(vr(I)))},as.prototype.slice=function(I,H){I=Qr(I);var ie=this;return ie.__filtered__&&(I>0||H<0)?new as(ie):(I<0?ie=ie.takeRight(-I):I&&(ie=ie.drop(I)),H!==$&&(ie=(H=Qr(H))<0?ie.dropRight(-H):ie.take(H-I)),ie)},as.prototype.takeRightWhile=function(I){return this.reverse().takeWhile(I).reverse()},as.prototype.toArray=function(){return this.take(Ei)},Vi(as.prototype,function(I,H){var ie=/^(?:filter|find|map|reject)|While$/.test(H),ke=/^(?:head|last)$/.test(H),Xe=rt[ke?"take"+("last"==H?"Right":""):H],ht=ke||/^find/.test(H);!Xe||(rt.prototype[H]=function(){var Yt=this.__wrapped__,Xt=ke?[1]:arguments,vn=Yt instanceof as,Qn=Xt[0],Jn=vn||In(Yt),di=function(ro){var zs=Xe.apply(rt,ra([ro],Xt));return ke&&Hi?zs[0]:zs};Jn&&ie&&"function"==typeof Qn&&1!=Qn.length&&(vn=Jn=!1);var Hi=this.__chain__,fr=!!this.__actions__.length,Vr=ht&&!Hi,Ur=vn&&!fr;if(!ht&&Jn){Yt=Ur?Yt:new as(this);var Xr=I.apply(Yt,Xt);return Xr.__actions__.push({func:bf,args:[di],thisArg:$}),new Xa(Xr,Hi)}return Vr&&Ur?I.apply(this,Xt):(Xr=this.thru(di),Vr?ke?Xr.value()[0]:Xr.value():Xr)})}),os(["pop","push","shift","sort","splice","unshift"],function(I){var H=Eu[I],ie=/^(?:push|sort|unshift)$/.test(I)?"tap":"thru",ke=/^(?:pop|shift)$/.test(I);rt.prototype[I]=function(){var Xe=arguments;if(ke&&!this.__chain__){var ht=this.value();return H.apply(In(ht)?ht:[],Xe)}return this[ie](function(Yt){return H.apply(In(Yt)?Yt:[],Xe)})}}),Vi(as.prototype,function(I,H){var ie=rt[H];if(ie){var ke=ie.name+"";Ir.call(nc,ke)||(nc[ke]=[]),nc[ke].push({name:H,func:ie})}}),nc[qf($,2).name]=[{name:"wrapper",func:$}],as.prototype.clone=function(){var I=new as(this.__wrapped__);return I.__actions__=sc(this.__actions__),I.__dir__=this.__dir__,I.__filtered__=this.__filtered__,I.__iteratees__=sc(this.__iteratees__),I.__takeCount__=this.__takeCount__,I.__views__=sc(this.__views__),I},as.prototype.reverse=function(){if(this.__filtered__){var I=new as(this);I.__dir__=-1,I.__filtered__=!0}else(I=this.clone()).__dir__*=-1;return I},as.prototype.value=function(){var I=this.__wrapped__.value(),H=this.__dir__,ie=In(I),ke=H<0,Xe=ie?I.length:0,ht=function(I,H,ie){for(var ke=-1,Xe=ie.length;++ke<Xe;){var ht=ie[ke],Yt=ht.size;switch(ht.type){case"drop":I+=Yt;break;case"dropRight":H-=Yt;break;case"take":H=Or(H,I+Yt);break;case"takeRight":I=Js(I,H-Yt)}}return{start:I,end:H}}(0,Xe,this.__views__),Yt=ht.start,Xt=ht.end,vn=Xt-Yt,Qn=ke?Xt:Yt-1,Jn=this.__iteratees__,di=Jn.length,Hi=0,fr=Or(vn,this.__takeCount__);if(!ie||!ke&&Xe==vn&&fr==vn)return xh(I,this.__actions__);var Vr=[];e:for(;vn--&&Hi<fr;){for(var Ur=-1,Xr=I[Qn+=H];++Ur<di;){var ro=Jn[Ur],gp=ro.type,Wa=(0,ro.iteratee)(Xr);if(2==gp)Xr=Wa;else if(!Wa){if(1==gp)continue e;break e}}Vr[Hi++]=Xr}return Vr},rt.prototype.at=bg,rt.prototype.chain=function(){return vg(this)},rt.prototype.commit=function(){return new Xa(this.value(),this.__chain__)},rt.prototype.next=function(){this.__values__===$&&(this.__values__=dd(this.value()));var I=this.__index__>=this.__values__.length;return{done:I,value:I?$:this.__values__[this.__index__++]}},rt.prototype.plant=function(I){for(var H,ie=this;ie instanceof vh;){var ke=yf(ie);ke.__index__=0,ke.__values__=$,H?Xe.__wrapped__=ke:H=ke;var Xe=ke;ie=ie.__wrapped__}return Xe.__wrapped__=I,H},rt.prototype.reverse=function(){var I=this.__wrapped__;if(I instanceof as){var H=I;return this.__actions__.length&&(H=new as(this)),(H=H.reverse()).__actions__.push({func:bf,args:[op],thisArg:$}),new Xa(H,this.__chain__)}return this.thru(op)},rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=function(){return xh(this.__wrapped__,this.__actions__)},rt.prototype.first=rt.prototype.head,$c&&(rt.prototype[$c]=function(){return this}),rt}();ha._=Ad,(o=function(){return Ad}.call(kt,Ae,kt,jt))!==$&&(jt.exports=o)}.call(this)},2958:function(jt){jt.exports=function(){"use strict";var kt,Ae,o;function $(x,de){if(kt)if(Ae){var Me="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+kt+")(sharedChunk); ("+Ae+")(sharedChunk); self.onerror = null;",De={};kt(De),o=de(De),"undefined"!=typeof window&&(o.workerUrl=window.URL.createObjectURL(new Blob([Me],{type:"text/javascript"})))}else Ae=de;else kt=de}return $(0,function(x){var Me=De;function De(_,c,v,M){this.cx=3*_,this.bx=3*(v-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(M-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=M,this.p2x=v,this.p2y=M}De.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},De.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},De.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},De.prototype.solveCurveX=function(_,c){var v,M,L,z,V;for(void 0===c&&(c=1e-6),L=_,V=0;V<8;V++){if(z=this.sampleCurveX(L)-_,Math.abs(z)<c)return L;var K=this.sampleCurveDerivativeX(L);if(Math.abs(K)<1e-6)break;L-=z/K}if((L=_)<(v=0))return v;if(L>(M=1))return M;for(;v<M;){if(z=this.sampleCurveX(L),Math.abs(z-_)<c)return L;_>z?v=L:M=L,L=.5*(M-v)+v}return L},De.prototype.solve=function(_,c){return this.sampleCurveY(this.solveCurveX(_,c))};var Te=Ye;function Ye(_,c){this.x=_,this.y=c}Ye.prototype={clone:function(){return new Ye(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,c){return this.clone()._rotateAround(_,c)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var c=_.x-this.x,v=_.y-this.y;return c*c+v*v},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,c){return Math.atan2(this.x*c-this.y*_,this.x*_+this.y*c)},_matMult:function(_){var c=_[2]*this.x+_[3]*this.y;return this.x=_[0]*this.x+_[1]*this.y,this.y=c,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var c=Math.cos(_),v=Math.sin(_),M=v*this.x+c*this.y;return this.x=c*this.x-v*this.y,this.y=M,this},_rotateAround:function(_,c){var v=Math.cos(_),M=Math.sin(_),L=c.y+M*(this.x-c.x)+v*(this.y-c.y);return this.x=c.x+v*(this.x-c.x)-M*(this.y-c.y),this.y=L,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ye.convert=function(_){return _ instanceof Ye?_:Array.isArray(_)?new Ye(_[0],_[1]):_};var We="undefined"!=typeof self?self:{};const Mt=Math.pow(2,53)-1,gt=Math.PI/180,Pt=180/Math.PI;function sn(_){return _*gt}const Gt=[[0,0],[1,0],[1,1],[0,1]];function ct(_){if(_<=0)return 0;if(_>=1)return 1;const c=_*_,v=c*_;return 4*(_<.5?v:3*(_-c)+v-.75)}function ni(_,c,v,M){const L=new Me(_,c,v,M);return function(z){return L.solve(z)}}const Rn=ni(.25,.1,.25,1);function qt(_,c,v){return Math.min(v,Math.max(c,_))}function ur(_,c,v){const M=v-c,L=((_-c)%M+M)%M+c;return L===c?v:L}function ds(_,c,v){if(!_.length)return v(null,[]);let M=_.length;const L=new Array(_.length);let z=null;_.forEach((V,K)=>{c(V,(re,me)=>{re&&(z=re),L[K]=me,0==--M&&v(z,L)})})}function hi(_){const c=[];for(const v in _)c.push(_[v]);return c}function zi(_,...c){for(const v of c)for(const M in v)_[M]=v[M];return _}let Bs=1;function tr(){return Bs++}function jr(){return function _(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}()}function wn(_){return _<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function dn(_){return!!_&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_)}function Tn(_,c){_.forEach(v=>{c[v]&&(c[v]=c[v].bind(c))})}function fn(_,c){return-1!==_.indexOf(c,_.length-c.length)}function Hn(_,c,v){const M={};for(const L in _)M[L]=c.call(v||this,_[L],L,_);return M}function bn(_,c,v){const M={};for(const L in _)c.call(v||this,_[L],L,_)&&(M[L]=_[L]);return M}function li(_){return Array.isArray(_)?_.map(li):"object"==typeof _&&_?Hn(_,li):_}const Bi={};function Ui(_){Bi[_]||("undefined"!=typeof console&&console.warn(_),Bi[_]=!0)}function fi(_,c,v){return(v.y-_.y)*(c.x-_.x)>(c.y-_.y)*(v.x-_.x)}function Ei(_){let c=0;for(let v,M,L=0,z=_.length,V=z-1;L<z;V=L++)v=_[L],M=_[V],c+=(M.x-v.x)*(v.y+M.y);return c}function bi(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function xi(_){const c={};if(_.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(v,M,L,z)=>{const V=L||z;return c[M]=!V||V.toLowerCase(),""}),c["max-age"]){const v=parseInt(c["max-age"],10);isNaN(v)?delete c["max-age"]:c["max-age"]=v}return c}let ei,Ni,Er,So=null;function ss(_){if(null==So){const c=_.navigator?_.navigator.userAgent:null;So=!!_.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return So}function qs(_){try{const c=We[_];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch(c){return!1}}const Ks={now:()=>void 0!==Er?Er:We.performance.now(),setNow(_){Er=_},restoreNow(){Er=void 0},frame(_){const c=We.requestAnimationFrame(_);return{cancel:()=>We.cancelAnimationFrame(c)}},getImageData(_,c=0){const v=We.document.createElement("canvas"),M=v.getContext("2d");if(!M)throw new Error("failed to create canvas 2d context");return v.width=_.width,v.height=_.height,M.drawImage(_,0,0,_.width,_.height),M.getImageData(-c,-c,_.width+2*c,_.height+2*c)},resolveURL:_=>(ei||(ei=We.document.createElement("a")),ei.href=_,ei.href),get devicePixelRatio(){return We.devicePixelRatio},get prefersReducedMotion(){return!!We.matchMedia&&(null==Ni&&(Ni=We.matchMedia("(prefers-reduced-motion: reduce)")),Ni.matches)}};let ka;const dr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==ka){const _=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ka=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):_}catch(c){ka=_}}return ka},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ea={supported:!1,testSupport:function(_){!ko&&nr&&($s?Ci(_):Ki=_)}};let Ki,nr,ko=!1,$s=!1;function Ci(_){const c=_.createTexture();_.bindTexture(_.TEXTURE_2D,c);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,nr),_.isContextLost())return;Ea.supported=!0}catch(v){}_.deleteTexture(c),ko=!0}We.document&&(nr=We.document.createElement("img"),nr.onload=function(){Ki&&Ci(Ki),Ki=null,$s=!0},nr.onerror=function(){ko=!0,Ki=null},nr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const gs="01",wr="NO_ACCESS_TOKEN";function ir(_){return 0===_.indexOf("mapbox:")}function Eo(_){return dr.API_URL_REGEX.test(_)}const jc=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function es(_){const c=_.match(jc);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Vs(_){const c=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${c}`}function Go(_){if(!_)return null;const c=_.split(".");if(!c||3!==c.length)return null;try{return JSON.parse(decodeURIComponent(We.atob(c[1]).split("").map(v=>"%"+("00"+v.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(v){return null}}class Nr{constructor(c){this.type=c,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(c){const v=Go(dr.ACCESS_TOKEN);let M="";return M=v&&v.u?We.btoa(encodeURIComponent(v.u).replace(/%([0-9A-F]{2})/g,(L,z)=>String.fromCharCode(Number("0x"+z)))):dr.ACCESS_TOKEN||"",c?`mapbox.eventData.${c}:${M}`:`mapbox.eventData:${M}`}fetchEventData(){const c=qs("localStorage"),v=this.getStorageKey(),M=this.getStorageKey("uuid");if(c)try{const L=We.localStorage.getItem(v);L&&(this.eventData=JSON.parse(L));const z=We.localStorage.getItem(M);z&&(this.anonId=z)}catch(L){Ui("Unable to read from LocalStorage")}}saveEventData(){const c=qs("localStorage"),v=this.getStorageKey(),M=this.getStorageKey("uuid");if(c)try{We.localStorage.setItem(M,this.anonId),Object.keys(this.eventData).length>=1&&We.localStorage.setItem(v,JSON.stringify(this.eventData))}catch(L){Ui("Unable to write to LocalStorage")}}processRequests(c){}postEvent(c,v,M,L){if(!dr.EVENTS_URL)return;const z=es(dr.EVENTS_URL);z.params.push(`access_token=${L||dr.ACCESS_TOKEN||""}`);const V={event:this.type,created:new Date(c).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.4.1",skuId:gs,userId:this.anonId},K=v?zi(V,v):V,re={url:Vs(z),headers:{"Content-Type":"text/plain"},body:JSON.stringify([K])};this.pendingRequest=$e(re,me=>{this.pendingRequest=null,M(me),this.saveEventData(),this.processRequests(L)})}queueRequest(c,v){this.queue.push(c),this.processRequests(v)}}const Zn=new class extends Nr{constructor(_){super("appUserTurnstile"),this._customAccessToken=_}postTurnstileEvent(_,c){dr.EVENTS_URL&&dr.ACCESS_TOKEN&&Array.isArray(_)&&_.some(v=>ir(v)||Eo(v))&&this.queueRequest(Date.now(),c)}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const c=Go(dr.ACCESS_TOKEN),v=c?c.u:dr.ACCESS_TOKEN;let M=v!==this.eventData.tokenU;dn(this.anonId)||(this.anonId=jr(),M=!0);const L=this.queue.shift();if(this.eventData.lastSuccess){const z=new Date(this.eventData.lastSuccess),V=new Date(L),K=(L-this.eventData.lastSuccess)/864e5;M=M||K>=1||K<-1||z.getDate()!==V.getDate()}else M=!0;if(!M)return this.processRequests();this.postEvent(L,{"enabled.telemetry":!1},z=>{z||(this.eventData.lastSuccess=L,this.eventData.tokenU=v)},_)}},Ji=Zn.postTurnstileEvent.bind(Zn),ml=new class extends Nr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(_,c,v,M){this.skuToken=c,this.errorCb=M,dr.EVENTS_URL&&(v||dr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},v):this.errorCb(new Error(wr)))}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:v}=this.queue.shift();c&&this.success[c]||(this.anonId||this.fetchEventData(),dn(this.anonId)||(this.anonId=jr()),this.postEvent(v,{skuToken:this.skuToken},M=>{M?this.errorCb(M):c&&(this.success[c]=!0)},_))}},za=ml.postMapLoadEvent.bind(ml),Da=new class extends Nr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(_,c,v,M){if(!dr.API_URL||!dr.SESSION_PATH)return;const L=es(dr.API_URL+dr.SESSION_PATH);L.params.push(`sku=${c||""}`),L.params.push(`access_token=${M||dr.ACCESS_TOKEN||""}`);const z={url:Vs(L),headers:{"Content-Type":"text/plain"}};this.pendingRequest=dt(z,V=>{this.pendingRequest=null,v(V),this.saveEventData(),this.processRequests(M)})}getSessionAPI(_,c,v,M){this.skuToken=c,this.errorCb=M,dr.SESSION_PATH&&dr.API_URL&&(v||dr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},v):this.errorCb(new Error(wr)))}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:v}=this.queue.shift();c&&this.success[c]||this.getSession(v,this.skuToken,M=>{M?this.errorCb(M):c&&(this.success[c]=!0)},_)}},Cs=Da.getSessionAPI.bind(Da),Ho=new Set,Vo="mapbox-tiles";let Ft,Rt,Qt=500,gn=50;function an(){We.caches&&!Ft&&(Ft=We.caches.open(Vo))}function _i(_){const c=_.indexOf("?");return c<0?_:_.slice(0,c)}let Zi=1/0;const mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(mr);class Zr extends Error{constructor(c,v,M){401===v&&Eo(M)&&(c+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(c),this.status=v,this.url=M}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Dr=bi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===We.location.protocol?We.parent:We).location.href,at=function(_,c){if(!(/^file:/.test(v=_.url)||/^file:/.test(Dr())&&!/^\w+:/.test(v))){if(We.fetch&&We.Request&&We.AbortController&&We.Request.prototype.hasOwnProperty("signal"))return function(M,L){const z=new We.AbortController,V=new We.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:Dr(),signal:z.signal});let K=!1,re=!1;const me=(xe=V.url).indexOf("sku=")>0&&Eo(xe);var xe;"json"===M.type&&V.headers.set("Accept","application/json");const Se=(Ve,et,_t)=>{if(re)return;if(Ve&&"SecurityError"!==Ve.message&&Ui(Ve),et&&_t)return Oe(et);const It=Date.now();We.fetch(V).then(Ht=>{if(Ht.ok){const tn=me?Ht.clone():null;return Oe(Ht,tn,It)}return L(new Zr(Ht.statusText,Ht.status,M.url))}).catch(Ht=>{20!==Ht.code&&L(new Error(Ht.message))})},Oe=(Ve,et,_t)=>{("arrayBuffer"===M.type?Ve.arrayBuffer():"json"===M.type?Ve.json():Ve.text()).then(It=>{re||(et&&_t&&function(Ht,tn,on){if(an(),!Ft)return;const pn={status:tn.status,statusText:tn.statusText,headers:new We.Headers};tn.headers.forEach((yn,Wn)=>pn.headers.set(Wn,yn));const xn=xi(tn.headers.get("Cache-Control")||"");xn["no-store"]||(xn["max-age"]&&pn.headers.set("Expires",new Date(on+1e3*xn["max-age"]).toUTCString()),new Date(pn.headers.get("Expires")).getTime()-on<42e4||function(yn,Wn){if(void 0===Rt)try{new Response(new ReadableStream),Rt=!0}catch(Kn){Rt=!1}Rt?Wn(yn.body):yn.blob().then(Wn)}(tn,yn=>{const Wn=new We.Response(yn,pn);an(),Ft&&Ft.then(Kn=>Kn.put(_i(Ht.url),Wn)).catch(Kn=>Ui(Kn.message))}))}(V,et,_t),K=!0,L(null,It,Ve.headers.get("Cache-Control"),Ve.headers.get("Expires")))}).catch(It=>{re||L(new Error(It.message))})};return me?function(Ve,et){if(an(),!Ft)return et(null);const _t=_i(Ve.url);Ft.then(It=>{It.match(_t).then(Ht=>{const tn=function(on){if(!on)return!1;const pn=new Date(on.headers.get("Expires")||0),xn=xi(on.headers.get("Cache-Control")||"");return pn>Date.now()&&!xn["no-cache"]}(Ht);It.delete(_t),tn&&It.put(_t,Ht.clone()),et(null,Ht,tn)}).catch(et)}).catch(et)}(V,Se):Se(null,null),{cancel:()=>{re=!0,K||z.abort()}}}(_,c);if(bi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",_,c,void 0,!0)}var v;return function(M,L){const z=new We.XMLHttpRequest;z.open(M.method||"GET",M.url,!0),"arrayBuffer"===M.type&&(z.responseType="arraybuffer");for(const V in M.headers)z.setRequestHeader(V,M.headers[V]);return"json"===M.type&&(z.responseType="text",z.setRequestHeader("Accept","application/json")),z.withCredentials="include"===M.credentials,z.onerror=()=>{L(new Error(z.statusText))},z.onload=()=>{if((z.status>=200&&z.status<300||0===z.status)&&null!==z.response){let V=z.response;if("json"===M.type)try{V=JSON.parse(z.response)}catch(K){return L(K)}L(null,V,z.getResponseHeader("Cache-Control"),z.getResponseHeader("Expires"))}else L(new Zr(z.statusText,z.status,M.url))},z.send(M.body),{cancel:()=>z.abort()}}(_,c)},He=function(_,c){return at(zi(_,{type:"arrayBuffer"}),c)},$e=function(_,c){return at(zi(_,{method:"POST"}),c)},dt=function(_,c){return at(zi(_,{method:"GET"}),c)};function Ct(_){const c=We.document.createElement("a");return c.href=_,c.protocol===We.document.location.protocol&&c.host===We.document.location.host}const Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ot,rn;Ot=[],rn=0;const Zt=function(_,c){if(Ea.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),rn>=dr.MAX_PARALLEL_IMAGE_REQUESTS){const z={requestParameters:_,callback:c,cancelled:!1,cancel(){this.cancelled=!0}};return Ot.push(z),z}rn++;let v=!1;const M=()=>{if(!v)for(v=!0,rn--;Ot.length&&rn<dr.MAX_PARALLEL_IMAGE_REQUESTS;){const z=Ot.shift(),{requestParameters:V,callback:K,cancelled:re}=z;re||(z.cancel=Zt(V,K).cancel)}},L=He(_,(z,V,K,re)=>{M(),z?c(z):V&&(We.createImageBitmap?function(me,xe){const Se=new We.Blob([new Uint8Array(me)],{type:"image/png"});We.createImageBitmap(Se).then(Oe=>{xe(null,Oe)}).catch(Oe=>{xe(new Error(`Could not load image because of ${Oe.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(V,(me,xe)=>c(me,xe,K,re)):function(me,xe){const Se=new We.Image,Oe=We.URL;Se.onload=()=>{xe(null,Se),Oe.revokeObjectURL(Se.src),Se.onload=null,We.requestAnimationFrame(()=>{Se.src=Bt})},Se.onerror=()=>xe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ve=new We.Blob([new Uint8Array(me)],{type:"image/png"});Se.src=me.byteLength?Oe.createObjectURL(Ve):Bt}(V,(me,xe)=>c(me,xe,K,re)))});return{cancel:()=>{L.cancel(),M()}}};function Kt(_,c,v){v[_]&&-1!==v[_].indexOf(c)||(v[_]=v[_]||[],v[_].push(c))}function kn(_,c,v){if(v&&v[_]){const M=v[_].indexOf(c);-1!==M&&v[_].splice(M,1)}}class Re{constructor(c,v={}){zi(this,v),this.type=c}}class p extends Re{constructor(c,v={}){super("error",zi({error:c},v))}}class f{on(c,v){return this._listeners=this._listeners||{},Kt(c,v,this._listeners),this}off(c,v){return kn(c,v,this._listeners),kn(c,v,this._oneTimeListeners),this}once(c,v){return v?(this._oneTimeListeners=this._oneTimeListeners||{},Kt(c,v,this._oneTimeListeners),this):new Promise(M=>this.once(c,M))}fire(c,v){"string"==typeof c&&(c=new Re(c,v||{}));const M=c.type;if(this.listens(M)){c.target=this;const L=this._listeners&&this._listeners[M]?this._listeners[M].slice():[];for(const K of L)K.call(this,c);const z=this._oneTimeListeners&&this._oneTimeListeners[M]?this._oneTimeListeners[M].slice():[];for(const K of z)kn(M,K,this._oneTimeListeners),K.call(this,c);const V=this._eventedParent;V&&(zi(c,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),V.fire(c))}else c instanceof p&&console.error(c.error);return this}listens(c){return!!(this._listeners&&this._listeners[c]&&this._listeners[c].length>0||this._oneTimeListeners&&this._oneTimeListeners[c]&&this._oneTimeListeners[c].length>0||this._eventedParent&&this._eventedParent.listens(c))}setEventedParent(c,v){return this._eventedParent=c,this._eventedParentData=v,this}}var b={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class S{constructor(c,v,M,L){this.message=(c?`${c}: `:"")+M,L&&(this.identifier=L),null!=v&&v.__line__&&(this.line=v.__line__)}}function D(_){const c=_.value;return c?[new S(_.key,c,"constants have been deprecated as of v8")]:[]}function B(_,...c){for(const v of c)for(const M in v)_[M]=v[M];return _}function F(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function W(_){if(Array.isArray(_))return _.map(W);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){const c={};for(const v in _)c[v]=W(_[v]);return c}return F(_)}class q extends Error{constructor(c,v){super(v),this.message=v,this.key=c}}class oe{constructor(c,v=[]){this.parent=c,this.bindings={};for(const[M,L]of v)this.bindings[M]=L}concat(c){return new oe(this,c)}get(c){if(this.bindings[c])return this.bindings[c];if(this.parent)return this.parent.get(c);throw new Error(`${c} not found in scope.`)}has(c){return!!this.bindings[c]||!!this.parent&&this.parent.has(c)}}const ue={kind:"null"},ae={kind:"number"},_e={kind:"string"},Ie={kind:"boolean"},Pe={kind:"color"},Be={kind:"object"},Ge={kind:"value"},st={kind:"collator"},bt={kind:"formatted"},J={kind:"resolvedImage"};function pe(_,c){return{kind:"array",itemType:_,N:c}}function ze(_){if("array"===_.kind){const c=ze(_.itemType);return"number"==typeof _.N?`array<${c}, ${_.N}>`:"value"===_.itemType.kind?"array":`array<${c}>`}return _.kind}const Je=[ue,ae,_e,Ie,Pe,bt,Be,pe(Ge),J];function ft(_,c){if("error"===c.kind)return null;if("array"===_.kind){if("array"===c.kind&&(0===c.N&&"value"===c.itemType.kind||!ft(_.itemType,c.itemType))&&("number"!=typeof _.N||_.N===c.N))return null}else{if(_.kind===c.kind)return null;if("value"===_.kind)for(const v of Je)if(!ft(v,c))return null}return`Expected ${ze(_)} but found ${ze(c)} instead.`}function ln(_,c){return c.some(v=>v.kind===_.kind)}function $t(_,c){return c.some(v=>"null"===v?null===_:"array"===v?Array.isArray(_):"object"===v?_&&!Array.isArray(_)&&"object"==typeof _:v===typeof _)}function cn(_){var c={exports:{}};return _(c,c.exports),c.exports}var Un=cn(function(_,c){var v={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function M(K){return(K=Math.round(K))<0?0:K>255?255:K}function L(K){return M("%"===K[K.length-1]?parseFloat(K)/100*255:parseInt(K))}function z(K){return(re="%"===K[K.length-1]?parseFloat(K)/100:parseFloat(K))<0?0:re>1?1:re;var re}function V(K,re,me){return me<0?me+=1:me>1&&(me-=1),6*me<1?K+(re-K)*me*6:2*me<1?re:3*me<2?K+(re-K)*(2/3-me)*6:K}try{c.parseCSSColor=function(K){var re,me=K.replace(/ /g,"").toLowerCase();if(me in v)return v[me].slice();if("#"===me[0])return 4===me.length?(re=parseInt(me.substr(1),16))>=0&&re<=4095?[(3840&re)>>4|(3840&re)>>8,240&re|(240&re)>>4,15&re|(15&re)<<4,1]:null:7===me.length&&(re=parseInt(me.substr(1),16))>=0&&re<=16777215?[(16711680&re)>>16,(65280&re)>>8,255&re,1]:null;var xe=me.indexOf("("),Se=me.indexOf(")");if(-1!==xe&&Se+1===me.length){var Oe=me.substr(0,xe),Ve=me.substr(xe+1,Se-(xe+1)).split(","),et=1;switch(Oe){case"rgba":if(4!==Ve.length)return null;et=z(Ve.pop());case"rgb":return 3!==Ve.length?null:[L(Ve[0]),L(Ve[1]),L(Ve[2]),et];case"hsla":if(4!==Ve.length)return null;et=z(Ve.pop());case"hsl":if(3!==Ve.length)return null;var _t=(parseFloat(Ve[0])%360+360)%360/360,It=z(Ve[1]),Ht=z(Ve[2]),tn=Ht<=.5?Ht*(It+1):Ht+It-Ht*It,on=2*Ht-tn;return[M(255*V(on,tn,_t+1/3)),M(255*V(on,tn,_t)),M(255*V(on,tn,_t-1/3)),et];default:return null}}return null}}catch(K){}});class zn{constructor(c,v,M,L=1){this.r=c,this.g=v,this.b=M,this.a=L}static parse(c){if(!c)return;if(c instanceof zn)return c;if("string"!=typeof c)return;const v=Un.parseCSSColor(c);return v?new zn(v[0]/255*v[3],v[1]/255*v[3],v[2]/255*v[3],v[3]):void 0}toString(){const[c,v,M,L]=this.toArray();return`rgba(${Math.round(c)},${Math.round(v)},${Math.round(M)},${L})`}toArray(){const{r:c,g:v,b:M,a:L}=this;return 0===L?[0,0,0,0]:[255*c/L,255*v/L,255*M/L,L]}}zn.black=new zn(0,0,0,1),zn.white=new zn(1,1,1,1),zn.transparent=new zn(0,0,0,0),zn.red=new zn(1,0,0,1),zn.blue=new zn(0,0,1,1);class Ai{constructor(c,v,M){this.sensitivity=c?v?"variant":"case":v?"accent":"base",this.locale=M,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(c,v){return this.collator.compare(c,v)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class gr{constructor(c,v,M,L,z){this.text=c,this.image=v,this.scale=M,this.fontStack=L,this.textColor=z}}class vi{constructor(c){this.sections=c}static fromString(c){return new vi([new gr(c,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(c=>0!==c.text.length||c.image&&0!==c.image.name.length)}static factory(c){return c instanceof vi?c:vi.fromString(c)}toString(){return 0===this.sections.length?"":this.sections.map(c=>c.text).join("")}serialize(){const c=["format"];for(const v of this.sections){if(v.image){c.push(["image",v.image.name]);continue}c.push(v.text);const M={};v.fontStack&&(M["text-font"]=["literal",v.fontStack.split(",")]),v.scale&&(M["font-scale"]=v.scale),v.textColor&&(M["text-color"]=["rgba"].concat(v.textColor.toArray())),c.push(M)}return c}}class Yi{constructor(c){this.name=c.name,this.available=c.available}toString(){return this.name}static fromString(c){return c?new Yi({name:c,available:!1}):null}serialize(){return["image",this.name]}}function Pr(_,c,v,M){return"number"==typeof _&&_>=0&&_<=255&&"number"==typeof c&&c>=0&&c<=255&&"number"==typeof v&&v>=0&&v<=255?void 0===M||"number"==typeof M&&M>=0&&M<=1?null:`Invalid rgba value [${[_,c,v,M].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof M?[_,c,v,M]:[_,c,v]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function oo(_){if(null===_||"string"==typeof _||"boolean"==typeof _||"number"==typeof _||_ instanceof zn||_ instanceof Ai||_ instanceof vi||_ instanceof Yi)return!0;if(Array.isArray(_)){for(const c of _)if(!oo(c))return!1;return!0}if("object"==typeof _){for(const c in _)if(!oo(_[c]))return!1;return!0}return!1}function Ms(_){if(null===_)return ue;if("string"==typeof _)return _e;if("boolean"==typeof _)return Ie;if("number"==typeof _)return ae;if(_ instanceof zn)return Pe;if(_ instanceof Ai)return st;if(_ instanceof vi)return bt;if(_ instanceof Yi)return J;if(Array.isArray(_)){const c=_.length;let v;for(const M of _){const L=Ms(M);if(v){if(v===L)continue;v=Ge;break}v=L}return pe(v||Ge,c)}return Be}function Gi(_){const c=typeof _;return null===_?"":"string"===c||"number"===c||"boolean"===c?String(_):_ instanceof zn||_ instanceof vi||_ instanceof Yi?_.toString():JSON.stringify(_)}class qr{constructor(c,v){this.type=c,this.value=v}static parse(c,v){if(2!==c.length)return v.error(`'literal' expression requires exactly one argument, but found ${c.length-1} instead.`);if(!oo(c[1]))return v.error("invalid value");const M=c[1];let L=Ms(M);const z=v.expectedType;return"array"!==L.kind||0!==L.N||!z||"array"!==z.kind||"number"==typeof z.N&&0!==z.N||(L=z),new qr(L,M)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof zn?["rgba"].concat(this.value.toArray()):this.value instanceof vi?this.value.serialize():this.value}}class Ts{constructor(c){this.name="ExpressionEvaluationError",this.message=c}toJSON(){return this.message}}const Aa={string:_e,number:ae,boolean:Ie,object:Be};class da{constructor(c,v){this.type=c,this.args=v}static parse(c,v){if(c.length<2)return v.error("Expected at least one argument.");let M,L=1;const z=c[0];if("array"===z){let K,re;if(c.length>2){const me=c[1];if("string"!=typeof me||!(me in Aa)||"object"===me)return v.error('The item type argument of "array" must be one of string, number, boolean',1);K=Aa[me],L++}else K=Ge;if(c.length>3){if(null!==c[2]&&("number"!=typeof c[2]||c[2]<0||c[2]!==Math.floor(c[2])))return v.error('The length argument to "array" must be a positive integer literal',2);re=c[2],L++}M=pe(K,re)}else M=Aa[z];const V=[];for(;L<c.length;L++){const K=v.parse(c[L],L,Ge);if(!K)return null;V.push(K)}return new da(M,V)}evaluate(c){for(let v=0;v<this.args.length;v++){const M=this.args[v].evaluate(c);if(!ft(this.type,Ms(M)))return M;if(v===this.args.length-1)throw new Ts(`Expected value to be of type ${ze(this.type)}, but found ${ze(Ms(M))} instead.`)}return null}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=this.type,v=[c.kind];if("array"===c.kind){const M=c.itemType;if("string"===M.kind||"number"===M.kind||"boolean"===M.kind){v.push(M.kind);const L=c.N;("number"==typeof L||this.args.length>1)&&v.push(L)}}return v.concat(this.args.map(M=>M.serialize()))}}class _o{constructor(c){this.type=bt,this.sections=c}static parse(c,v){if(c.length<2)return v.error("Expected at least one argument.");const M=c[1];if(!Array.isArray(M)&&"object"==typeof M)return v.error("First argument must be an image or text section.");const L=[];let z=!1;for(let V=1;V<=c.length-1;++V){const K=c[V];if(z&&"object"==typeof K&&!Array.isArray(K)){z=!1;let re=null;if(K["font-scale"]&&(re=v.parse(K["font-scale"],1,ae),!re))return null;let me=null;if(K["text-font"]&&(me=v.parse(K["text-font"],1,pe(_e)),!me))return null;let xe=null;if(K["text-color"]&&(xe=v.parse(K["text-color"],1,Pe),!xe))return null;const Se=L[L.length-1];Se.scale=re,Se.font=me,Se.textColor=xe}else{const re=v.parse(c[V],1,Ge);if(!re)return null;const me=re.type.kind;if("string"!==me&&"value"!==me&&"null"!==me&&"resolvedImage"!==me)return v.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");z=!0,L.push({content:re,scale:null,font:null,textColor:null})}}return new _o(L)}evaluate(c){return new vi(this.sections.map(v=>{const M=v.content.evaluate(c);return Ms(M)===J?new gr("",M,null,null,null):new gr(Gi(M),null,v.scale?v.scale.evaluate(c):null,v.font?v.font.evaluate(c).join(","):null,v.textColor?v.textColor.evaluate(c):null)}))}eachChild(c){for(const v of this.sections)c(v.content),v.scale&&c(v.scale),v.font&&c(v.font),v.textColor&&c(v.textColor)}outputDefined(){return!1}serialize(){const c=["format"];for(const v of this.sections){c.push(v.content.serialize());const M={};v.scale&&(M["font-scale"]=v.scale.serialize()),v.font&&(M["text-font"]=v.font.serialize()),v.textColor&&(M["text-color"]=v.textColor.serialize()),c.push(M)}return c}}class qo{constructor(c){this.type=J,this.input=c}static parse(c,v){if(2!==c.length)return v.error("Expected two arguments.");const M=v.parse(c[1],1,_e);return M?new qo(M):v.error("No image name provided.")}evaluate(c){const v=this.input.evaluate(c),M=Yi.fromString(v);return M&&c.availableImages&&(M.available=c.availableImages.indexOf(v)>-1),M}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Cd={"to-boolean":Ie,"to-color":Pe,"to-number":ae,"to-string":_e};class $l{constructor(c,v){this.type=c,this.args=v}static parse(c,v){if(c.length<2)return v.error("Expected at least one argument.");const M=c[0];if(("to-boolean"===M||"to-string"===M)&&2!==c.length)return v.error("Expected one argument.");const L=Cd[M],z=[];for(let V=1;V<c.length;V++){const K=v.parse(c[V],V,Ge);if(!K)return null;z.push(K)}return new $l(L,z)}evaluate(c){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(c));if("color"===this.type.kind){let v,M;for(const L of this.args){if(v=L.evaluate(c),M=null,v instanceof zn)return v;if("string"==typeof v){const z=c.parseColor(v);if(z)return z}else if(Array.isArray(v)&&(M=v.length<3||v.length>4?`Invalid rbga value ${JSON.stringify(v)}: expected an array containing either three or four numeric values.`:Pr(v[0],v[1],v[2],v[3]),!M))return new zn(v[0]/255,v[1]/255,v[2]/255,v[3])}throw new Ts(M||`Could not parse color from value '${"string"==typeof v?v:String(JSON.stringify(v))}'`)}if("number"===this.type.kind){let v=null;for(const M of this.args){if(v=M.evaluate(c),null===v)return 0;const L=Number(v);if(!isNaN(L))return L}throw new Ts(`Could not convert ${JSON.stringify(v)} to number.`)}return"formatted"===this.type.kind?vi.fromString(Gi(this.args[0].evaluate(c))):"resolvedImage"===this.type.kind?Yi.fromString(Gi(this.args[0].evaluate(c))):Gi(this.args[0].evaluate(c))}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){if("formatted"===this.type.kind)return new _o([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new qo(this.args[0]).serialize();const c=[`to-${this.type.kind}`];return this.eachChild(v=>{c.push(v.serialize())}),c}}const xm=["Unknown","Point","LineString","Polygon"];class ah{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?xm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(c){let v=this._parseColorCache[c];return v||(v=this._parseColorCache[c]=zn.parse(c)),v}}class gl{constructor(c,v,M,L){this.name=c,this.type=v,this._evaluate=M,this.args=L}evaluate(c){return this._evaluate(c,this.args)}eachChild(c){this.args.forEach(c)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(c=>c.serialize()))}static parse(c,v){const M=c[0],L=gl.definitions[M];if(!L)return v.error(`Unknown expression "${M}". If you wanted a literal array, use ["literal", [...]].`,0);const z=Array.isArray(L)?L[0]:L.type,V=Array.isArray(L)?[[L[1],L[2]]]:L.overloads,K=V.filter(([me])=>!Array.isArray(me)||me.length===c.length-1);let re=null;for(const[me,xe]of K){re=new Sd(v.registry,v.path,null,v.scope);const Se=[];let Oe=!1;for(let Ve=1;Ve<c.length;Ve++){const et=c[Ve],_t=Array.isArray(me)?me[Ve-1]:me.type,It=re.parse(et,1+Se.length,_t);if(!It){Oe=!0;break}Se.push(It)}if(!Oe)if(Array.isArray(me)&&me.length!==Se.length)re.error(`Expected ${me.length} arguments, but found ${Se.length} instead.`);else{for(let Ve=0;Ve<Se.length;Ve++){const et=Array.isArray(me)?me[Ve]:me.type,_t=Se[Ve];re.concat(Ve+1).checkSubtype(et,_t.type)}if(0===re.errors.length)return new gl(M,z,xe,Se)}}if(1===K.length)v.errors.push(...re.errors);else{const me=(K.length?K:V).map(([Se])=>{return Oe=Se,Array.isArray(Oe)?`(${Oe.map(ze).join(", ")})`:`(${ze(Oe.type)}...)`;var Oe}).join(" | "),xe=[];for(let Se=1;Se<c.length;Se++){const Oe=v.parse(c[Se],1+xe.length);if(!Oe)return null;xe.push(ze(Oe.type))}v.error(`Expected arguments of type ${me}, but found (${xe.join(", ")}) instead.`)}return null}static register(c,v){gl.definitions=v;for(const M in v)c[M]=gl}}class wp{constructor(c,v,M){this.type=st,this.locale=M,this.caseSensitive=c,this.diacriticSensitive=v}static parse(c,v){if(2!==c.length)return v.error("Expected one argument.");const M=c[1];if("object"!=typeof M||Array.isArray(M))return v.error("Collator options argument must be an object.");const L=v.parse(void 0!==M["case-sensitive"]&&M["case-sensitive"],1,Ie);if(!L)return null;const z=v.parse(void 0!==M["diacritic-sensitive"]&&M["diacritic-sensitive"],1,Ie);if(!z)return null;let V=null;return M.locale&&(V=v.parse(M.locale,1,_e),!V)?null:new wp(L,z,V)}evaluate(c){return new Ai(this.caseSensitive.evaluate(c),this.diacriticSensitive.evaluate(c),this.locale?this.locale.evaluate(c):null)}eachChild(c){c(this.caseSensitive),c(this.diacriticSensitive),this.locale&&c(this.locale)}outputDefined(){return!1}serialize(){const c={};return c["case-sensitive"]=this.caseSensitive.serialize(),c["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(c.locale=this.locale.serialize()),["collator",c]}}const Md=8192;function tf(_,c){_[0]=Math.min(_[0],c[0]),_[1]=Math.min(_[1],c[1]),_[2]=Math.max(_[2],c[0]),_[3]=Math.max(_[3],c[1])}function ou(_,c){return!(_[0]<=c[0]||_[2]>=c[2]||_[1]<=c[1]||_[3]>=c[3])}function Ss(_,c){const v=(180+_[0])/360,M=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_[1]*Math.PI/360)))/360,L=Math.pow(2,c.z);return[Math.round(v*L*Md),Math.round(M*L*Md)]}function Cp(_,c,v){const M=_[0]-c[0],L=_[1]-c[1],z=_[0]-v[0],V=_[1]-v[1];return M*V-z*L==0&&M*z<=0&&L*V<=0}function lh(_,c){let v=!1;for(let V=0,K=c.length;V<K;V++){const re=c[V];for(let me=0,xe=re.length;me<xe-1;me++){if(Cp(_,re[me],re[me+1]))return!1;(L=re[me])[1]>(M=_)[1]!=(z=re[me+1])[1]>M[1]&&M[0]<(z[0]-L[0])*(M[1]-L[1])/(z[1]-L[1])+L[0]&&(v=!v)}}var M,L,z;return v}function Mp(_,c){for(let v=0;v<c.length;v++)if(lh(_,c[v]))return!0;return!1}function Ql(_,c,v,M){const L=M[0]-v[0],z=M[1]-v[1],V=(_[0]-v[0])*z-L*(_[1]-v[1]),K=(c[0]-v[0])*z-L*(c[1]-v[1]);return V>0&&K<0||V<0&&K>0}function Cu(_,c,v){for(const me of v)for(let xe=0;xe<me.length-1;++xe)if((K=[(V=me[xe+1])[0]-(z=me[xe])[0],V[1]-z[1]])[0]*(re=[(L=c)[0]-(M=_)[0],L[1]-M[1]])[1]-K[1]*re[0]!=0&&Ql(M,L,z,V)&&Ql(z,V,M,L))return!0;var M,L,z,V,K,re;return!1}function Rl(_,c){for(let v=0;v<_.length;++v)if(!lh(_[v],c))return!1;for(let v=0;v<_.length-1;++v)if(Cu(_[v],_[v+1],c))return!1;return!0}function ch(_,c){for(let v=0;v<c.length;v++)if(Rl(_,c[v]))return!0;return!1}function ia(_,c,v){const M=[];for(let L=0;L<_.length;L++){const z=[];for(let V=0;V<_[L].length;V++){const K=Ss(_[L][V],v);tf(c,K),z.push(K)}M.push(z)}return M}function Tp(_,c,v){const M=[];for(let L=0;L<_.length;L++){const z=ia(_[L],c,v);M.push(z)}return M}function ks(_,c,v,M){if(_[0]<v[0]||_[0]>v[2]){const L=.5*M;let z=_[0]-v[0]>L?-M:v[0]-_[0]>L?M:0;0===z&&(z=_[0]-v[2]>L?-M:v[2]-_[0]>L?M:0),_[0]+=z}tf(c,_)}function Us(_,c,v,M){const L=Math.pow(2,M.z)*Md,z=[M.x*Md,M.y*Md],V=[];for(const K of _)for(const re of K){const me=[re.x+z[0],re.y+z[1]];ks(me,c,v,L),V.push(me)}return V}function $i(_,c,v,M){const L=Math.pow(2,M.z)*Md,z=[M.x*Md,M.y*Md],V=[];for(const re of _){const me=[];for(const xe of re){const Se=[xe.x+z[0],xe.y+z[1]];tf(c,Se),me.push(Se)}V.push(me)}if(c[2]-c[0]<=L/2){(K=c)[0]=K[1]=1/0,K[2]=K[3]=-1/0;for(const re of V)for(const me of re)ks(me,c,v,L)}var K;return V}class Jl{constructor(c,v){this.type=Ie,this.geojson=c,this.geometries=v}static parse(c,v){if(2!==c.length)return v.error(`'within' expression requires exactly one argument, but found ${c.length-1} instead.`);if(oo(c[1])){const M=c[1];if("FeatureCollection"===M.type)for(let L=0;L<M.features.length;++L){const z=M.features[L].geometry.type;if("Polygon"===z||"MultiPolygon"===z)return new Jl(M,M.features[L].geometry)}else if("Feature"===M.type){const L=M.geometry.type;if("Polygon"===L||"MultiPolygon"===L)return new Jl(M,M.geometry)}else if("Polygon"===M.type||"MultiPolygon"===M.type)return new Jl(M,M)}return v.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(c){if(null!=c.geometry()&&null!=c.canonicalID()){if("Point"===c.geometryType())return function(v,M){const L=[1/0,1/0,-1/0,-1/0],z=[1/0,1/0,-1/0,-1/0],V=v.canonicalID();if("Polygon"===M.type){const K=ia(M.coordinates,z,V),re=Us(v.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!lh(me,K))return!1}if("MultiPolygon"===M.type){const K=Tp(M.coordinates,z,V),re=Us(v.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!Mp(me,K))return!1}return!0}(c,this.geometries);if("LineString"===c.geometryType())return function(v,M){const L=[1/0,1/0,-1/0,-1/0],z=[1/0,1/0,-1/0,-1/0],V=v.canonicalID();if("Polygon"===M.type){const K=ia(M.coordinates,z,V),re=$i(v.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!Rl(me,K))return!1}if("MultiPolygon"===M.type){const K=Tp(M.coordinates,z,V),re=$i(v.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!ch(me,K))return!1}return!0}(c,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function uh(_){if(_ instanceof gl&&("get"===_.name&&1===_.args.length||"feature-state"===_.name||"has"===_.name&&1===_.args.length||"properties"===_.name||"geometry-type"===_.name||"id"===_.name||/^filter-/.test(_.name))||_ instanceof Jl)return!1;let c=!0;return _.eachChild(v=>{c&&!uh(v)&&(c=!1)}),c}function Td(_){if(_ instanceof gl&&"feature-state"===_.name)return!1;let c=!0;return _.eachChild(v=>{c&&!Td(v)&&(c=!1)}),c}function zr(_,c){if(_ instanceof gl&&c.indexOf(_.name)>=0)return!1;let v=!0;return _.eachChild(M=>{v&&!zr(M,c)&&(v=!1)}),v}class dh{constructor(c,v){this.type=v.type,this.name=c,this.boundExpression=v}static parse(c,v){if(2!==c.length||"string"!=typeof c[1])return v.error("'var' expression requires exactly one string literal argument.");const M=c[1];return v.scope.has(M)?new dh(M,v.scope.get(M)):v.error(`Unknown variable "${M}". Make sure "${M}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(c){return this.boundExpression.evaluate(c)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Sd{constructor(c,v=[],M,L=new oe,z=[]){this.registry=c,this.path=v,this.key=v.map(V=>`[${V}]`).join(""),this.scope=L,this.errors=z,this.expectedType=M}parse(c,v,M,L,z={}){return v?this.concat(v,M,L)._parse(c,z):this._parse(c,z)}_parse(c,v){function M(L,z,V){return"assert"===V?new da(z,[L]):"coerce"===V?new $l(z,[L]):L}if(null!==c&&"string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c||(c=["literal",c]),Array.isArray(c)){if(0===c.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const L=c[0];if("string"!=typeof L)return this.error(`Expression name must be a string, but found ${typeof L} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const z=this.registry[L];if(z){let V=z.parse(c,this);if(!V)return null;if(this.expectedType){const K=this.expectedType,re=V.type;if("string"!==K.kind&&"number"!==K.kind&&"boolean"!==K.kind&&"object"!==K.kind&&"array"!==K.kind||"value"!==re.kind)if("color"!==K.kind&&"formatted"!==K.kind&&"resolvedImage"!==K.kind||"value"!==re.kind&&"string"!==re.kind){if(this.checkSubtype(K,re))return null}else V=M(V,K,v.typeAnnotation||"coerce");else V=M(V,K,v.typeAnnotation||"assert")}if(!(V instanceof qr)&&"resolvedImage"!==V.type.kind&&Sp(V)){const K=new ah;try{V=new qr(V.type,V.evaluate(K))}catch(re){return this.error(re.message),null}}return V}return this.error(`Unknown expression "${L}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===c?"'undefined' value invalid. Use null instead.":"object"==typeof c?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof c} instead.`)}concat(c,v,M){const L="number"==typeof c?this.path.concat(c):this.path,z=M?this.scope.concat(M):this.scope;return new Sd(this.registry,L,v||null,z,this.errors)}error(c,...v){const M=`${this.key}${v.map(L=>`[${L}]`).join("")}`;this.errors.push(new q(M,c))}checkSubtype(c,v){const M=ft(c,v);return M&&this.error(M),M}}function Sp(_){if(_ instanceof dh)return Sp(_.boundExpression);if(_ instanceof gl&&"error"===_.name||_ instanceof wp||_ instanceof Jl)return!1;const c=_ instanceof $l||_ instanceof da;let v=!0;return _.eachChild(M=>{v=c?v&&Sp(M):v&&M instanceof qr}),!!v&&uh(_)&&zr(_,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}function ha(_,c){const v=_.length-1;let M,L,z=0,V=v,K=0;for(;z<=V;)if(K=Math.floor((z+V)/2),M=_[K],L=_[K+1],M<=c){if(K===v||c<L)return K;z=K+1}else{if(!(M>c))throw new Ts("Input is not a number.");V=K-1}return 0}class Ga{constructor(c,v,M){this.type=c,this.input=v,this.labels=[],this.outputs=[];for(const[L,z]of M)this.labels.push(L),this.outputs.push(z)}static parse(c,v){if(c.length-1<4)return v.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return v.error("Expected an even number of arguments.");const M=v.parse(c[1],1,ae);if(!M)return null;const L=[];let z=null;v.expectedType&&"value"!==v.expectedType.kind&&(z=v.expectedType);for(let V=1;V<c.length;V+=2){const K=1===V?-1/0:c[V],re=c[V+1],me=V,xe=V+1;if("number"!=typeof K)return v.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(L.length&&L[L.length-1][0]>=K)return v.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',me);const Se=v.parse(re,xe,z);if(!Se)return null;z=z||Se.type,L.push([K,Se])}return new Ga(z,M,L)}evaluate(c){const v=this.labels,M=this.outputs;if(1===v.length)return M[0].evaluate(c);const L=this.input.evaluate(c);if(L<=v[0])return M[0].evaluate(c);const z=v.length;return L>=v[z-1]?M[z-1].evaluate(c):M[ha(v,L)].evaluate(c)}eachChild(c){c(this.input);for(const v of this.outputs)c(v)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){const c=["step",this.input.serialize()];for(let v=0;v<this.labels.length;v++)v>0&&c.push(this.labels[v]),c.push(this.outputs[v].serialize());return c}}function mi(_,c,v){return _*(1-v)+c*v}var Zc=Object.freeze({__proto__:null,number:mi,color:function(_,c,v){return new zn(mi(_.r,c.r,v),mi(_.g,c.g,v),mi(_.b,c.b,v),mi(_.a,c.a,v))},array:function(_,c,v){return _.map((M,L)=>mi(M,c[L],v))}});const kd=4/29,Wc=6/29,Zs=3*Wc*Wc,Fl=Math.PI/180,lr=180/Math.PI;function kp(_){return _>.008856451679035631?Math.pow(_,1/3):_/Zs+kd}function _r(_){return _>Wc?_*_*_:Zs*(_-kd)}function Ep(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function os(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function $u(_){const c=os(_.r),v=os(_.g),M=os(_.b),L=kp((.4124564*c+.3575761*v+.1804375*M)/.95047),z=kp((.2126729*c+.7151522*v+.072175*M)/1);return{l:116*z-16,a:500*(L-z),b:200*(z-kp((.0193339*c+.119192*v+.9503041*M)/1.08883)),alpha:_.a}}function Nl(_){let c=(_.l+16)/116,v=isNaN(_.a)?c:c+_.a/500,M=isNaN(_.b)?c:c-_.b/200;return c=1*_r(c),v=.95047*_r(v),M=1.08883*_r(M),new zn(Ep(3.2404542*v-1.5371385*c-.4985314*M),Ep(-.969266*v+1.8760108*c+.041556*M),Ep(.0556434*v-.2040259*c+1.0572252*M),_.alpha)}function Kl(_,c,v){const M=c-_;return _+v*(M>180||M<-180?M-360*Math.round(M/360):M)}const Ia={forward:$u,reverse:Nl,interpolate:function(_,c,v){return{l:mi(_.l,c.l,v),a:mi(_.a,c.a,v),b:mi(_.b,c.b,v),alpha:mi(_.alpha,c.alpha,v)}}},al={forward:function(_){const{l:c,a:v,b:M}=$u(_),L=Math.atan2(M,v)*lr;return{h:L<0?L+360:L,c:Math.sqrt(v*v+M*M),l:c,alpha:_.a}},reverse:function(_){const c=_.h*Fl,v=_.c;return Nl({l:_.l,a:Math.cos(c)*v,b:Math.sin(c)*v,alpha:_.alpha})},interpolate:function(_,c,v){return{h:Kl(_.h,c.h,v),c:mi(_.c,c.c,v),l:mi(_.l,c.l,v),alpha:mi(_.alpha,c.alpha,v)}}};var hs=Object.freeze({__proto__:null,lab:Ia,hcl:al});class ra{constructor(c,v,M,L,z){this.type=c,this.operator=v,this.interpolation=M,this.input=L,this.labels=[],this.outputs=[];for(const[V,K]of z)this.labels.push(V),this.outputs.push(K)}static interpolationFactor(c,v,M,L){let z=0;if("exponential"===c.name)z=hh(v,c.base,M,L);else if("linear"===c.name)z=hh(v,1,M,L);else if("cubic-bezier"===c.name){const V=c.controlPoints;z=new Me(V[0],V[1],V[2],V[3]).solve(hh(v,1,M,L))}return z}static parse(c,v){let[M,L,z,...V]=c;if(!Array.isArray(L)||0===L.length)return v.error("Expected an interpolation type expression.",1);if("linear"===L[0])L={name:"linear"};else if("exponential"===L[0]){const me=L[1];if("number"!=typeof me)return v.error("Exponential interpolation requires a numeric base.",1,1);L={name:"exponential",base:me}}else{if("cubic-bezier"!==L[0])return v.error(`Unknown interpolation type ${String(L[0])}`,1,0);{const me=L.slice(1);if(4!==me.length||me.some(xe=>"number"!=typeof xe||xe<0||xe>1))return v.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);L={name:"cubic-bezier",controlPoints:me}}}if(c.length-1<4)return v.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return v.error("Expected an even number of arguments.");if(z=v.parse(z,2,ae),!z)return null;const K=[];let re=null;"interpolate-hcl"===M||"interpolate-lab"===M?re=Pe:v.expectedType&&"value"!==v.expectedType.kind&&(re=v.expectedType);for(let me=0;me<V.length;me+=2){const xe=V[me],Se=V[me+1],Oe=me+3,Ve=me+4;if("number"!=typeof xe)return v.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Oe);if(K.length&&K[K.length-1][0]>=xe)return v.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Oe);const et=v.parse(Se,Ve,re);if(!et)return null;re=re||et.type,K.push([xe,et])}return"number"===re.kind||"color"===re.kind||"array"===re.kind&&"number"===re.itemType.kind&&"number"==typeof re.N?new ra(re,M,L,z,K):v.error(`Type ${ze(re)} is not interpolatable.`)}evaluate(c){const v=this.labels,M=this.outputs;if(1===v.length)return M[0].evaluate(c);const L=this.input.evaluate(c);if(L<=v[0])return M[0].evaluate(c);const z=v.length;if(L>=v[z-1])return M[z-1].evaluate(c);const V=ha(v,L),K=ra.interpolationFactor(this.interpolation,L,v[V],v[V+1]),re=M[V].evaluate(c),me=M[V+1].evaluate(c);return"interpolate"===this.operator?Zc[this.type.kind.toLowerCase()](re,me,K):"interpolate-hcl"===this.operator?al.reverse(al.interpolate(al.forward(re),al.forward(me),K)):Ia.reverse(Ia.interpolate(Ia.forward(re),Ia.forward(me),K))}eachChild(c){c(this.input);for(const v of this.outputs)c(v)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){let c;c="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const v=[this.operator,c,this.input.serialize()];for(let M=0;M<this.labels.length;M++)v.push(this.labels[M],this.outputs[M].serialize());return v}}function hh(_,c,v,M){const L=M-v,z=_-v;return 0===L?0:1===c?z/L:(Math.pow(c,z)-1)/(Math.pow(c,L)-1)}class Mu{constructor(c,v){this.type=c,this.args=v}static parse(c,v){if(c.length<2)return v.error("Expectected at least one argument.");let M=null;const L=v.expectedType;L&&"value"!==L.kind&&(M=L);const z=[];for(const K of c.slice(1)){const re=v.parse(K,1+z.length,M,void 0,{typeAnnotation:"omit"});if(!re)return null;M=M||re.type,z.push(re)}const V=L&&z.some(K=>ft(L,K.type));return new Mu(V?Ge:M,z)}evaluate(c){let v,M=null,L=0;for(const z of this.args)if(L++,M=z.evaluate(c),M&&M instanceof Yi&&!M.available&&(v||(v=M.name),M=null,L===this.args.length&&(M=v)),null!==M)break;return M}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=["coalesce"];return this.eachChild(v=>{c.push(v.serialize())}),c}}class zl{constructor(c,v){this.type=v.type,this.bindings=[].concat(c),this.result=v}evaluate(c){return this.result.evaluate(c)}eachChild(c){for(const v of this.bindings)c(v[1]);c(this.result)}static parse(c,v){if(c.length<4)return v.error(`Expected at least 3 arguments, but found ${c.length-1} instead.`);const M=[];for(let z=1;z<c.length-1;z+=2){const V=c[z];if("string"!=typeof V)return v.error(`Expected string, but found ${typeof V} instead.`,z);if(/[^a-zA-Z0-9_]/.test(V))return v.error("Variable names must contain only alphanumeric characters or '_'.",z);const K=v.parse(c[z+1],z+1);if(!K)return null;M.push([V,K])}const L=v.parse(c[c.length-1],c.length-1,v.expectedType,M);return L?new zl(M,L):null}outputDefined(){return this.result.outputDefined()}serialize(){const c=["let"];for(const[v,M]of this.bindings)c.push(v,M.serialize());return c.push(this.result.serialize()),c}}class Hh{constructor(c,v,M){this.type=c,this.index=v,this.input=M}static parse(c,v){if(3!==c.length)return v.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const M=v.parse(c[1],1,ae),L=v.parse(c[2],2,pe(v.expectedType||Ge));return M&&L?new Hh(L.type.itemType,M,L):null}evaluate(c){const v=this.index.evaluate(c),M=this.input.evaluate(c);if(v<0)throw new Ts(`Array index out of bounds: ${v} < 0.`);if(v>=M.length)throw new Ts(`Array index out of bounds: ${v} > ${M.length-1}.`);if(v!==Math.floor(v))throw new Ts(`Array index must be an integer, but found ${v} instead.`);return M[v]}eachChild(c){c(this.index),c(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class vc{constructor(c,v){this.type=Ie,this.needle=c,this.haystack=v}static parse(c,v){if(3!==c.length)return v.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const M=v.parse(c[1],1,Ge),L=v.parse(c[2],2,Ge);return M&&L?ln(M.type,[Ie,_e,ae,ue,Ge])?new vc(M,L):v.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(M.type)} instead`):null}evaluate(c){const v=this.needle.evaluate(c),M=this.haystack.evaluate(c);if(!M)return!1;if(!$t(v,["boolean","string","number","null"]))throw new Ts(`Expected first argument to be of type boolean, string, number or null, but found ${ze(Ms(v))} instead.`);if(!$t(M,["string","array"]))throw new Ts(`Expected second argument to be of type array or string, but found ${ze(Ms(M))} instead.`);return M.indexOf(v)>=0}eachChild(c){c(this.needle),c(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class sr{constructor(c,v,M){this.type=ae,this.needle=c,this.haystack=v,this.fromIndex=M}static parse(c,v){if(c.length<=2||c.length>=5)return v.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const M=v.parse(c[1],1,Ge),L=v.parse(c[2],2,Ge);if(!M||!L)return null;if(!ln(M.type,[Ie,_e,ae,ue,Ge]))return v.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(M.type)} instead`);if(4===c.length){const z=v.parse(c[3],3,ae);return z?new sr(M,L,z):null}return new sr(M,L)}evaluate(c){const v=this.needle.evaluate(c),M=this.haystack.evaluate(c);if(!$t(v,["boolean","string","number","null"]))throw new Ts(`Expected first argument to be of type boolean, string, number or null, but found ${ze(Ms(v))} instead.`);if(!$t(M,["string","array"]))throw new Ts(`Expected second argument to be of type array or string, but found ${ze(Ms(M))} instead.`);if(this.fromIndex){const L=this.fromIndex.evaluate(c);return M.indexOf(v,L)}return M.indexOf(v)}eachChild(c){c(this.needle),c(this.haystack),this.fromIndex&&c(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const c=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),c]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Qu{constructor(c,v,M,L,z,V){this.inputType=c,this.type=v,this.input=M,this.cases=L,this.outputs=z,this.otherwise=V}static parse(c,v){if(c.length<5)return v.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if(c.length%2!=1)return v.error("Expected an even number of arguments.");let M,L;v.expectedType&&"value"!==v.expectedType.kind&&(L=v.expectedType);const z={},V=[];for(let me=2;me<c.length-1;me+=2){let xe=c[me];const Se=c[me+1];Array.isArray(xe)||(xe=[xe]);const Oe=v.concat(me);if(0===xe.length)return Oe.error("Expected at least one branch label.");for(const et of xe){if("number"!=typeof et&&"string"!=typeof et)return Oe.error("Branch labels must be numbers or strings.");if("number"==typeof et&&Math.abs(et)>Number.MAX_SAFE_INTEGER)return Oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof et&&Math.floor(et)!==et)return Oe.error("Numeric branch labels must be integer values.");if(M){if(Oe.checkSubtype(M,Ms(et)))return null}else M=Ms(et);if(void 0!==z[String(et)])return Oe.error("Branch labels must be unique.");z[String(et)]=V.length}const Ve=v.parse(Se,me,L);if(!Ve)return null;L=L||Ve.type,V.push(Ve)}const K=v.parse(c[1],1,Ge);if(!K)return null;const re=v.parse(c[c.length-1],c.length-1,L);return re?"value"!==K.type.kind&&v.concat(1).checkSubtype(M,K.type)?null:new Qu(M,L,K,z,V,re):null}evaluate(c){const v=this.input.evaluate(c);return(Ms(v)===this.inputType&&this.outputs[this.cases[v]]||this.otherwise).evaluate(c)}eachChild(c){c(this.input),this.outputs.forEach(c),c(this.otherwise)}outputDefined(){return this.outputs.every(c=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["match",this.input.serialize()],v=Object.keys(this.cases).sort(),M=[],L={};for(const V of v){const K=L[this.cases[V]];void 0===K?(L[this.cases[V]]=M.length,M.push([this.cases[V],[V]])):M[K][1].push(V)}const z=V=>"number"===this.inputType.kind?Number(V):V;for(const[V,K]of M)c.push(1===K.length?z(K[0]):K.map(z)),c.push(this.outputs[V].serialize());return c.push(this.otherwise.serialize()),c}}class Ed{constructor(c,v,M){this.type=c,this.branches=v,this.otherwise=M}static parse(c,v){if(c.length<4)return v.error(`Expected at least 3 arguments, but found only ${c.length-1}.`);if(c.length%2!=0)return v.error("Expected an odd number of arguments.");let M;v.expectedType&&"value"!==v.expectedType.kind&&(M=v.expectedType);const L=[];for(let V=1;V<c.length-1;V+=2){const K=v.parse(c[V],V,Ie);if(!K)return null;const re=v.parse(c[V+1],V+1,M);if(!re)return null;L.push([K,re]),M=M||re.type}const z=v.parse(c[c.length-1],c.length-1,M);return z?new Ed(M,L,z):null}evaluate(c){for(const[v,M]of this.branches)if(v.evaluate(c))return M.evaluate(c);return this.otherwise.evaluate(c)}eachChild(c){for(const[v,M]of this.branches)c(v),c(M);c(this.otherwise)}outputDefined(){return this.branches.every(([c,v])=>v.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["case"];return this.eachChild(v=>{c.push(v.serialize())}),c}}class bc{constructor(c,v,M,L){this.type=c,this.input=v,this.beginIndex=M,this.endIndex=L}static parse(c,v){if(c.length<=2||c.length>=5)return v.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const M=v.parse(c[1],1,Ge),L=v.parse(c[2],2,ae);if(!M||!L)return null;if(!ln(M.type,[pe(Ge),_e,Ge]))return v.error(`Expected first argument to be of type array or string, but found ${ze(M.type)} instead`);if(4===c.length){const z=v.parse(c[3],3,ae);return z?new bc(M.type,M,L,z):null}return new bc(M.type,M,L)}evaluate(c){const v=this.input.evaluate(c),M=this.beginIndex.evaluate(c);if(!$t(v,["string","array"]))throw new Ts(`Expected first argument to be of type array or string, but found ${ze(Ms(v))} instead.`);if(this.endIndex){const L=this.endIndex.evaluate(c);return v.slice(M,L)}return v.slice(M)}eachChild(c){c(this.input),c(this.beginIndex),this.endIndex&&c(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const c=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),c]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Tu(_,c){return"=="===_||"!="===_?"boolean"===c.kind||"string"===c.kind||"number"===c.kind||"null"===c.kind||"value"===c.kind:"string"===c.kind||"number"===c.kind||"value"===c.kind}function nf(_,c,v,M){return 0===M.compare(c,v)}function au(_,c,v){const M="=="!==_&&"!="!==_;return class LU{constructor(z,V,K){this.type=Ie,this.lhs=z,this.rhs=V,this.collator=K,this.hasUntypedArgument="value"===z.type.kind||"value"===V.type.kind}static parse(z,V){if(3!==z.length&&4!==z.length)return V.error("Expected two or three arguments.");const K=z[0];let re=V.parse(z[1],1,Ge);if(!re)return null;if(!Tu(K,re.type))return V.concat(1).error(`"${K}" comparisons are not supported for type '${ze(re.type)}'.`);let me=V.parse(z[2],2,Ge);if(!me)return null;if(!Tu(K,me.type))return V.concat(2).error(`"${K}" comparisons are not supported for type '${ze(me.type)}'.`);if(re.type.kind!==me.type.kind&&"value"!==re.type.kind&&"value"!==me.type.kind)return V.error(`Cannot compare types '${ze(re.type)}' and '${ze(me.type)}'.`);M&&("value"===re.type.kind&&"value"!==me.type.kind?re=new da(me.type,[re]):"value"!==re.type.kind&&"value"===me.type.kind&&(me=new da(re.type,[me])));let xe=null;if(4===z.length){if("string"!==re.type.kind&&"string"!==me.type.kind&&"value"!==re.type.kind&&"value"!==me.type.kind)return V.error("Cannot use collator to compare non-string types.");if(xe=V.parse(z[3],3,st),!xe)return null}return new LU(re,me,xe)}evaluate(z){const V=this.lhs.evaluate(z),K=this.rhs.evaluate(z);if(M&&this.hasUntypedArgument){const re=Ms(V),me=Ms(K);if(re.kind!==me.kind||"string"!==re.kind&&"number"!==re.kind)throw new Ts(`Expected arguments for "${_}" to be (string, string) or (number, number), but found (${re.kind}, ${me.kind}) instead.`)}if(this.collator&&!M&&this.hasUntypedArgument){const re=Ms(V),me=Ms(K);if("string"!==re.kind||"string"!==me.kind)return c(z,V,K)}return this.collator?v(z,V,K,this.collator.evaluate(z)):c(z,V,K)}eachChild(z){z(this.lhs),z(this.rhs),this.collator&&z(this.collator)}outputDefined(){return!0}serialize(){const z=[_];return this.eachChild(V=>{z.push(V.serialize())}),z}}}const Ju=au("==",function(_,c,v){return c===v},nf),$n=au("!=",function(_,c,v){return c!==v},function(_,c,v,M){return!nf(0,c,v,M)}),_s=au("<",function(_,c,v){return c<v},function(_,c,v,M){return M.compare(c,v)<0}),Vh=au(">",function(_,c,v){return c>v},function(_,c,v,M){return M.compare(c,v)>0}),Do=au("<=",function(_,c,v){return c<=v},function(_,c,v,M){return M.compare(c,v)<=0}),Dd=au(">=",function(_,c,v){return c>=v},function(_,c,v,M){return M.compare(c,v)>=0});class ec{constructor(c,v,M,L,z){this.type=_e,this.number=c,this.locale=v,this.currency=M,this.minFractionDigits=L,this.maxFractionDigits=z}static parse(c,v){if(3!==c.length)return v.error("Expected two arguments.");const M=v.parse(c[1],1,ae);if(!M)return null;const L=c[2];if("object"!=typeof L||Array.isArray(L))return v.error("NumberFormat options argument must be an object.");let z=null;if(L.locale&&(z=v.parse(L.locale,1,_e),!z))return null;let V=null;if(L.currency&&(V=v.parse(L.currency,1,_e),!V))return null;let K=null;if(L["min-fraction-digits"]&&(K=v.parse(L["min-fraction-digits"],1,ae),!K))return null;let re=null;return L["max-fraction-digits"]&&(re=v.parse(L["max-fraction-digits"],1,ae),!re)?null:new ec(M,z,V,K,re)}evaluate(c){return new Intl.NumberFormat(this.locale?this.locale.evaluate(c):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(c):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(c):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(c):void 0}).format(this.number.evaluate(c))}eachChild(c){c(this.number),this.locale&&c(this.locale),this.currency&&c(this.currency),this.minFractionDigits&&c(this.minFractionDigits),this.maxFractionDigits&&c(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const c={};return this.locale&&(c.locale=this.locale.serialize()),this.currency&&(c.currency=this.currency.serialize()),this.minFractionDigits&&(c["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(c["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),c]}}class La{constructor(c){this.type=ae,this.input=c}static parse(c,v){if(2!==c.length)return v.error(`Expected 1 argument, but found ${c.length-1} instead.`);const M=v.parse(c[1],1);return M?"array"!==M.type.kind&&"string"!==M.type.kind&&"value"!==M.type.kind?v.error(`Expected argument of type string or array, but found ${ze(M.type)} instead.`):new La(M):null}evaluate(c){const v=this.input.evaluate(c);if("string"==typeof v||Array.isArray(v))return v.length;throw new Ts(`Expected value to be of type string or array, but found ${ze(Ms(v))} instead.`)}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){const c=["length"];return this.eachChild(v=>{c.push(v.serialize())}),c}}const Io={"==":Ju,"!=":$n,">":Vh,"<":_s,">=":Dd,"<=":Do,array:da,at:Hh,boolean:da,case:Ed,coalesce:Mu,collator:wp,format:_o,image:qo,in:vc,"index-of":sr,interpolate:ra,"interpolate-hcl":ra,"interpolate-lab":ra,length:La,let:zl,literal:qr,match:Qu,number:da,"number-format":ec,object:da,slice:bc,step:Ga,string:da,"to-boolean":$l,"to-color":$l,"to-number":$l,"to-string":$l,var:dh,within:Jl};function js(_,[c,v,M,L]){c=c.evaluate(_),v=v.evaluate(_),M=M.evaluate(_);const z=L?L.evaluate(_):1,V=Pr(c,v,M,z);if(V)throw new Ts(V);return new zn(c/255*z,v/255*z,M/255*z,z)}function Uh(_,c){return _ in c}function Dp(_,c){const v=c[_];return void 0===v?null:v}function ll(_){return{type:_}}function Gc(_){return{result:"success",value:_}}function bo(_){return{result:"error",value:_}}function pa(_){return"data-driven"===_["property-type"]||"cross-faded-data-driven"===_["property-type"]}function ph(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function xc(_){return!!_.expression&&_.expression.interpolated}function br(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":null===_?"null":typeof _}function rf(_){return"object"==typeof _&&null!==_&&!Array.isArray(_)}function jh(_){return _}function Xu(_,c){const v="color"===c.type,M=_.stops&&"object"==typeof _.stops[0][0],L=M||!(M||void 0!==_.property),z=_.type||(xc(c)?"exponential":"interval");if(v&&((_=B({},_)).stops&&(_.stops=_.stops.map(me=>[me[0],zn.parse(me[1])])),_.default=zn.parse(_.default?_.default:c.default)),_.colorSpace&&"rgb"!==_.colorSpace&&!hs[_.colorSpace])throw new Error(`Unknown color space: ${_.colorSpace}`);let V,K,re;if("exponential"===z)V=Zh;else if("interval"===z)V=wc;else if("categorical"===z){V=$o,K=Object.create(null);for(const me of _.stops)K[me[0]]=me[1];re=typeof _.stops[0][0]}else{if("identity"!==z)throw new Error(`Unknown function type "${z}"`);V=ku}if(M){const me={},xe=[];for(let Ve=0;Ve<_.stops.length;Ve++){const et=_.stops[Ve],_t=et[0].zoom;void 0===me[_t]&&(me[_t]={zoom:_t,type:_.type,property:_.property,default:_.default,stops:[]},xe.push(_t)),me[_t].stops.push([et[0].value,et[1]])}const Se=[];for(const Ve of xe)Se.push([me[Ve].zoom,Xu(me[Ve],c)]);const Oe={name:"linear"};return{kind:"composite",interpolationType:Oe,interpolationFactor:ra.interpolationFactor.bind(void 0,Oe),zoomStops:Se.map(Ve=>Ve[0]),evaluate:({zoom:Ve},et)=>Zh({stops:Se,base:_.base},c,Ve).evaluate(Ve,et)}}if(L){const me="exponential"===z?{name:"exponential",base:void 0!==_.base?_.base:1}:null;return{kind:"camera",interpolationType:me,interpolationFactor:ra.interpolationFactor.bind(void 0,me),zoomStops:_.stops.map(xe=>xe[0]),evaluate:({zoom:xe})=>V(_,c,xe,K,re)}}return{kind:"source",evaluate(me,xe){const Se=xe&&xe.properties?xe.properties[_.property]:void 0;return void 0===Se?Su(_.default,c.default):V(_,c,Se,K,re)}}}function Su(_,c,v){return void 0!==_?_:void 0!==c?c:void 0!==v?v:void 0}function $o(_,c,v,M,L){return Su(typeof v===L?M[v]:void 0,_.default,c.default)}function wc(_,c,v){if("number"!==br(v))return Su(_.default,c.default);const M=_.stops.length;if(1===M||v<=_.stops[0][0])return _.stops[0][1];if(v>=_.stops[M-1][0])return _.stops[M-1][1];const L=ha(_.stops.map(z=>z[0]),v);return _.stops[L][1]}function Zh(_,c,v){const M=void 0!==_.base?_.base:1;if("number"!==br(v))return Su(_.default,c.default);const L=_.stops.length;if(1===L||v<=_.stops[0][0])return _.stops[0][1];if(v>=_.stops[L-1][0])return _.stops[L-1][1];const z=ha(_.stops.map(xe=>xe[0]),v),V=function(xe,Se,Oe,Ve){const et=Ve-Oe,_t=xe-Oe;return 0===et?0:1===Se?_t/et:(Math.pow(Se,_t)-1)/(Math.pow(Se,et)-1)}(v,M,_.stops[z][0],_.stops[z+1][0]),K=_.stops[z][1],re=_.stops[z+1][1];let me=Zc[c.type]||jh;if(_.colorSpace&&"rgb"!==_.colorSpace){const xe=hs[_.colorSpace];me=(Se,Oe)=>xe.reverse(xe.interpolate(xe.forward(Se),xe.forward(Oe),V))}return"function"==typeof K.evaluate?{evaluate(...xe){const Se=K.evaluate.apply(void 0,xe),Oe=re.evaluate.apply(void 0,xe);if(void 0!==Se&&void 0!==Oe)return me(Se,Oe,V)}}:me(K,re,V)}function ku(_,c,v){return"color"===c.type?v=zn.parse(v):"formatted"===c.type?v=vi.fromString(v.toString()):"resolvedImage"===c.type?v=Yi.fromString(v.toString()):br(v)===c.type||"enum"===c.type&&c.values[v]||(v=void 0),Su(v,_.default,c.default)}gl.register(Io,{error:[{kind:"error"},[_e],(_,[c])=>{throw new Ts(c.evaluate(_))}],typeof:[_e,[Ge],(_,[c])=>ze(Ms(c.evaluate(_)))],"to-rgba":[pe(ae,4),[Pe],(_,[c])=>c.evaluate(_).toArray()],rgb:[Pe,[ae,ae,ae],js],rgba:[Pe,[ae,ae,ae,ae],js],has:{type:Ie,overloads:[[[_e],(_,[c])=>Uh(c.evaluate(_),_.properties())],[[_e,Be],(_,[c,v])=>Uh(c.evaluate(_),v.evaluate(_))]]},get:{type:Ge,overloads:[[[_e],(_,[c])=>Dp(c.evaluate(_),_.properties())],[[_e,Be],(_,[c,v])=>Dp(c.evaluate(_),v.evaluate(_))]]},"feature-state":[Ge,[_e],(_,[c])=>Dp(c.evaluate(_),_.featureState||{})],properties:[Be,[],_=>_.properties()],"geometry-type":[_e,[],_=>_.geometryType()],id:[Ge,[],_=>_.id()],zoom:[ae,[],_=>_.globals.zoom],"heatmap-density":[ae,[],_=>_.globals.heatmapDensity||0],"line-progress":[ae,[],_=>_.globals.lineProgress||0],"sky-radial-progress":[ae,[],_=>_.globals.skyRadialProgress||0],accumulated:[Ge,[],_=>void 0===_.globals.accumulated?null:_.globals.accumulated],"+":[ae,ll(ae),(_,c)=>{let v=0;for(const M of c)v+=M.evaluate(_);return v}],"*":[ae,ll(ae),(_,c)=>{let v=1;for(const M of c)v*=M.evaluate(_);return v}],"-":{type:ae,overloads:[[[ae,ae],(_,[c,v])=>c.evaluate(_)-v.evaluate(_)],[[ae],(_,[c])=>-c.evaluate(_)]]},"/":[ae,[ae,ae],(_,[c,v])=>c.evaluate(_)/v.evaluate(_)],"%":[ae,[ae,ae],(_,[c,v])=>c.evaluate(_)%v.evaluate(_)],ln2:[ae,[],()=>Math.LN2],pi:[ae,[],()=>Math.PI],e:[ae,[],()=>Math.E],"^":[ae,[ae,ae],(_,[c,v])=>Math.pow(c.evaluate(_),v.evaluate(_))],sqrt:[ae,[ae],(_,[c])=>Math.sqrt(c.evaluate(_))],log10:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))/Math.LN10],ln:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))],log2:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))/Math.LN2],sin:[ae,[ae],(_,[c])=>Math.sin(c.evaluate(_))],cos:[ae,[ae],(_,[c])=>Math.cos(c.evaluate(_))],tan:[ae,[ae],(_,[c])=>Math.tan(c.evaluate(_))],asin:[ae,[ae],(_,[c])=>Math.asin(c.evaluate(_))],acos:[ae,[ae],(_,[c])=>Math.acos(c.evaluate(_))],atan:[ae,[ae],(_,[c])=>Math.atan(c.evaluate(_))],min:[ae,ll(ae),(_,c)=>Math.min(...c.map(v=>v.evaluate(_)))],max:[ae,ll(ae),(_,c)=>Math.max(...c.map(v=>v.evaluate(_)))],abs:[ae,[ae],(_,[c])=>Math.abs(c.evaluate(_))],round:[ae,[ae],(_,[c])=>{const v=c.evaluate(_);return v<0?-Math.round(-v):Math.round(v)}],floor:[ae,[ae],(_,[c])=>Math.floor(c.evaluate(_))],ceil:[ae,[ae],(_,[c])=>Math.ceil(c.evaluate(_))],"filter-==":[Ie,[_e,Ge],(_,[c,v])=>_.properties()[c.value]===v.value],"filter-id-==":[Ie,[Ge],(_,[c])=>_.id()===c.value],"filter-type-==":[Ie,[_e],(_,[c])=>_.geometryType()===c.value],"filter-<":[Ie,[_e,Ge],(_,[c,v])=>{const M=_.properties()[c.value],L=v.value;return typeof M==typeof L&&M<L}],"filter-id-<":[Ie,[Ge],(_,[c])=>{const v=_.id(),M=c.value;return typeof v==typeof M&&v<M}],"filter->":[Ie,[_e,Ge],(_,[c,v])=>{const M=_.properties()[c.value],L=v.value;return typeof M==typeof L&&M>L}],"filter-id->":[Ie,[Ge],(_,[c])=>{const v=_.id(),M=c.value;return typeof v==typeof M&&v>M}],"filter-<=":[Ie,[_e,Ge],(_,[c,v])=>{const M=_.properties()[c.value],L=v.value;return typeof M==typeof L&&M<=L}],"filter-id-<=":[Ie,[Ge],(_,[c])=>{const v=_.id(),M=c.value;return typeof v==typeof M&&v<=M}],"filter->=":[Ie,[_e,Ge],(_,[c,v])=>{const M=_.properties()[c.value],L=v.value;return typeof M==typeof L&&M>=L}],"filter-id->=":[Ie,[Ge],(_,[c])=>{const v=_.id(),M=c.value;return typeof v==typeof M&&v>=M}],"filter-has":[Ie,[Ge],(_,[c])=>c.value in _.properties()],"filter-has-id":[Ie,[],_=>null!==_.id()&&void 0!==_.id()],"filter-type-in":[Ie,[pe(_e)],(_,[c])=>c.value.indexOf(_.geometryType())>=0],"filter-id-in":[Ie,[pe(Ge)],(_,[c])=>c.value.indexOf(_.id())>=0],"filter-in-small":[Ie,[_e,pe(Ge)],(_,[c,v])=>v.value.indexOf(_.properties()[c.value])>=0],"filter-in-large":[Ie,[_e,pe(Ge)],(_,[c,v])=>function(M,L,z,V){for(;z<=V;){const K=z+V>>1;if(L[K]===M)return!0;L[K]>M?V=K-1:z=K+1}return!1}(_.properties()[c.value],v.value,0,v.value.length-1)],all:{type:Ie,overloads:[[[Ie,Ie],(_,[c,v])=>c.evaluate(_)&&v.evaluate(_)],[ll(Ie),(_,c)=>{for(const v of c)if(!v.evaluate(_))return!1;return!0}]]},any:{type:Ie,overloads:[[[Ie,Ie],(_,[c,v])=>c.evaluate(_)||v.evaluate(_)],[ll(Ie),(_,c)=>{for(const v of c)if(v.evaluate(_))return!0;return!1}]]},"!":[Ie,[Ie],(_,[c])=>!c.evaluate(_)],"is-supported-script":[Ie,[_e],(_,[c])=>{const v=_.globals&&_.globals.isSupportedScript;return!v||v(c.evaluate(_))}],upcase:[_e,[_e],(_,[c])=>c.evaluate(_).toUpperCase()],downcase:[_e,[_e],(_,[c])=>c.evaluate(_).toLowerCase()],concat:[_e,ll(Ge),(_,c)=>c.map(v=>Gi(v.evaluate(_))).join("")],"resolved-locale":[_e,[st],(_,[c])=>c.evaluate(_).resolvedLocale()]});class fh{constructor(c,v){var M;this.expression=c,this._warningHistory={},this._evaluator=new ah,this._defaultValue=v?"color"===(M=v).type&&rf(M.default)?new zn(0,0,0,0):"color"===M.type?zn.parse(M.default)||null:void 0===M.default?null:M.default:null,this._enumValues=v&&"enum"===v.type?v.values:null}evaluateWithoutErrorHandling(c,v,M,L,z,V){return this._evaluator.globals=c,this._evaluator.feature=v,this._evaluator.featureState=M,this._evaluator.canonical=L,this._evaluator.availableImages=z||null,this._evaluator.formattedSection=V,this.expression.evaluate(this._evaluator)}evaluate(c,v,M,L,z,V){this._evaluator.globals=c,this._evaluator.feature=v||null,this._evaluator.featureState=M||null,this._evaluator.canonical=L,this._evaluator.availableImages=z||null,this._evaluator.formattedSection=V||null;try{const K=this.expression.evaluate(this._evaluator);if(null==K||"number"==typeof K&&K!=K)return this._defaultValue;if(this._enumValues&&!(K in this._enumValues))throw new Ts(`Expected value to be one of ${Object.keys(this._enumValues).map(re=>JSON.stringify(re)).join(", ")}, but found ${JSON.stringify(K)} instead.`);return K}catch(K){return this._warningHistory[K.message]||(this._warningHistory[K.message]=!0,"undefined"!=typeof console&&console.warn(K.message)),this._defaultValue}}}function fa(_){return Array.isArray(_)&&_.length>0&&"string"==typeof _[0]&&_[0]in Io}function sa(_,c){const v=new Sd(Io,[],c?function(L){const z={color:Pe,string:_e,number:ae,enum:_e,boolean:Ie,formatted:bt,resolvedImage:J};return"array"===L.type?pe(z[L.value]||Ge,L.length):z[L.type]}(c):void 0),M=v.parse(_,void 0,void 0,void 0,c&&"string"===c.type?{typeAnnotation:"coerce"}:void 0);return M?Gc(new fh(M,c)):bo(v.errors)}class Cc{constructor(c,v){this.kind=c,this._styleExpression=v,this.isStateDependent="constant"!==c&&!Td(v.expression)}evaluateWithoutErrorHandling(c,v,M,L,z,V){return this._styleExpression.evaluateWithoutErrorHandling(c,v,M,L,z,V)}evaluate(c,v,M,L,z,V){return this._styleExpression.evaluate(c,v,M,L,z,V)}}class qc{constructor(c,v,M,L){this.kind=c,this.zoomStops=M,this._styleExpression=v,this.isStateDependent="camera"!==c&&!Td(v.expression),this.interpolationType=L}evaluateWithoutErrorHandling(c,v,M,L,z,V){return this._styleExpression.evaluateWithoutErrorHandling(c,v,M,L,z,V)}evaluate(c,v,M,L,z,V){return this._styleExpression.evaluate(c,v,M,L,z,V)}interpolationFactor(c,v,M){return this.interpolationType?ra.interpolationFactor(this.interpolationType,c,v,M):0}}function sf(_,c){if("error"===(_=sa(_,c)).result)return _;const v=_.value.expression,M=uh(v);if(!M&&!pa(c))return bo([new q("","data expressions not supported")]);const L=zr(v,["zoom"]);if(!L&&!ph(c))return bo([new q("","zoom expressions not supported")]);const z=cl(v);return z||L?z instanceof q?bo([z]):z instanceof ra&&!xc(c)?bo([new q("",'"interpolate" expressions cannot be used with this property')]):Gc(z?new qc(M?"camera":"composite",_.value,z.labels,z instanceof ra?z.interpolation:void 0):new Cc(M?"constant":"source",_.value)):bo([new q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class mh{constructor(c,v){this._parameters=c,this._specification=v,B(this,Xu(this._parameters,this._specification))}static deserialize(c){return new mh(c._parameters,c._specification)}static serialize(c){return{_parameters:c._parameters,_specification:c._specification}}}function cl(_){let c=null;if(_ instanceof zl)c=cl(_.result);else if(_ instanceof Mu){for(const v of _.args)if(c=cl(v),c)break}else(_ instanceof Ga||_ instanceof ra)&&_.input instanceof gl&&"zoom"===_.input.name&&(c=_);return c instanceof q||_.eachChild(v=>{const M=cl(v);M instanceof q?c=M:!c&&M?c=new q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):c&&M&&c!==M&&(c=new q("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),c}function Mc(_){const c=_.key,v=_.value,M=_.valueSpec||{},L=_.objectElementValidators||{},z=_.style,V=_.styleSpec;let K=[];const re=br(v);if("object"!==re)return[new S(c,v,`object expected, ${re} found`)];for(const me in v){const xe=me.split(".")[0],Se=M[xe]||M["*"];let Oe;if(L[xe])Oe=L[xe];else if(M[xe])Oe=Qs;else if(L["*"])Oe=L["*"];else{if(!M["*"]){K.push(new S(c,v[me],`unknown property "${me}"`));continue}Oe=Qs}K=K.concat(Oe({key:(c&&`${c}.`)+me,value:v[me],valueSpec:Se,style:z,styleSpec:V,object:v,objectKey:me},v))}for(const me in M)L[me]||M[me].required&&void 0===M[me].default&&void 0===v[me]&&K.push(new S(c,v,`missing required property "${me}"`));return K}function Ad(_){const c=_.value,v=_.valueSpec,M=_.style,L=_.styleSpec,z=_.key,V=_.arrayElementValidator||Qs;if("array"!==br(c))return[new S(z,c,`array expected, ${br(c)} found`)];if(v.length&&c.length!==v.length)return[new S(z,c,`array length ${v.length} expected, length ${c.length} found`)];if(v["min-length"]&&c.length<v["min-length"])return[new S(z,c,`array length at least ${v["min-length"]} expected, length ${c.length} found`)];let K={type:v.value,values:v.values,minimum:v.minimum,maximum:v.maximum};L.$version<7&&(K.function=v.function),"object"===br(v.value)&&(K=v.value);let re=[];for(let me=0;me<c.length;me++)re=re.concat(V({array:c,arrayIndex:me,value:c[me],valueSpec:K,style:M,styleSpec:L,key:`${z}[${me}]`}));return re}function Jt(_){const c=_.key,v=_.value,M=_.valueSpec;let L=br(v);if("number"===L&&v!=v&&(L="NaN"),"number"!==L)return[new S(c,v,`number expected, ${L} found`)];if("minimum"in M){let z=M.minimum;if("array"===br(M.minimum)&&(z=M.minimum[_.arrayIndex]),v<z)return[new S(c,v,`${v} is less than the minimum value ${z}`)]}if("maximum"in M){let z=M.maximum;if("array"===br(M.maximum)&&(z=M.maximum[_.arrayIndex]),v>z)return[new S(c,v,`${v} is greater than the maximum value ${z}`)]}return[]}function Pn(_){const c=_.valueSpec,v=F(_.value.type);let M,L,z,V={};const K="categorical"!==v&&void 0===_.value.property,re=!K,me="array"===br(_.value.stops)&&"array"===br(_.value.stops[0])&&"object"===br(_.value.stops[0][0]),xe=Mc({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:function(Ve){if("identity"===v)return[new S(Ve.key,Ve.value,'identity function may not have a "stops" property')];let et=[];const _t=Ve.value;return et=et.concat(Ad({key:Ve.key,value:_t,valueSpec:Ve.valueSpec,style:Ve.style,styleSpec:Ve.styleSpec,arrayElementValidator:Se})),"array"===br(_t)&&0===_t.length&&et.push(new S(Ve.key,_t,"array must have at least one stop")),et},default:function(Ve){return Qs({key:Ve.key,value:Ve.value,valueSpec:c,style:Ve.style,styleSpec:Ve.styleSpec})}}});return"identity"===v&&K&&xe.push(new S(_.key,_.value,'missing required property "property"')),"identity"===v||_.value.stops||xe.push(new S(_.key,_.value,'missing required property "stops"')),"exponential"===v&&_.valueSpec.expression&&!xc(_.valueSpec)&&xe.push(new S(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(re&&!pa(_.valueSpec)?xe.push(new S(_.key,_.value,"property functions not supported")):K&&!ph(_.valueSpec)&&xe.push(new S(_.key,_.value,"zoom functions not supported"))),"categorical"!==v&&!me||void 0!==_.value.property||xe.push(new S(_.key,_.value,'"property" property is required')),xe;function Se(Ve){let et=[];const _t=Ve.value,It=Ve.key;if("array"!==br(_t))return[new S(It,_t,`array expected, ${br(_t)} found`)];if(2!==_t.length)return[new S(It,_t,`array length 2 expected, length ${_t.length} found`)];if(me){if("object"!==br(_t[0]))return[new S(It,_t,`object expected, ${br(_t[0])} found`)];if(void 0===_t[0].zoom)return[new S(It,_t,"object stop key must have zoom")];if(void 0===_t[0].value)return[new S(It,_t,"object stop key must have value")];if(z&&z>F(_t[0].zoom))return[new S(It,_t[0].zoom,"stop zoom values must appear in ascending order")];F(_t[0].zoom)!==z&&(z=F(_t[0].zoom),L=void 0,V={}),et=et.concat(Mc({key:`${It}[0]`,value:_t[0],valueSpec:{zoom:{}},style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{zoom:Jt,value:Oe}}))}else et=et.concat(Oe({key:`${It}[0]`,value:_t[0],valueSpec:{},style:Ve.style,styleSpec:Ve.styleSpec},_t));return fa(W(_t[1]))?et.concat([new S(`${It}[1]`,_t[1],"expressions are not allowed in function stops.")]):et.concat(Qs({key:`${It}[1]`,value:_t[1],valueSpec:c,style:Ve.style,styleSpec:Ve.styleSpec}))}function Oe(Ve,et){const _t=br(Ve.value),It=F(Ve.value),Ht=null!==Ve.value?Ve.value:et;if(M){if(_t!==M)return[new S(Ve.key,Ht,`${_t} stop domain type must match previous stop domain type ${M}`)]}else M=_t;if("number"!==_t&&"string"!==_t&&"boolean"!==_t)return[new S(Ve.key,Ht,"stop domain value must be a number, string, or boolean")];if("number"!==_t&&"categorical"!==v){let tn=`number expected, ${_t} found`;return pa(c)&&void 0===v&&(tn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new S(Ve.key,Ht,tn)]}return"categorical"!==v||"number"!==_t||isFinite(It)&&Math.floor(It)===It?"categorical"!==v&&"number"===_t&&void 0!==L&&It<L?[new S(Ve.key,Ht,"stop domain values must appear in ascending order")]:(L=It,"categorical"===v&&It in V?[new S(Ve.key,Ht,"stop domain values must be unique")]:(V[It]=!0,[])):[new S(Ve.key,Ht,`integer expected, found ${It}`)]}}function _n(_){const c=("property"===_.expressionContext?sf:sa)(W(_.value),_.valueSpec);if("error"===c.result)return c.value.map(M=>new S(`${_.key}${M.key}`,_.value,M.message));const v=c.value.expression||c.value._styleExpression.expression;if("property"===_.expressionContext&&"text-font"===_.propertyKey&&!v.outputDefined())return[new S(_.key,_.value,`Invalid data expression for "${_.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===_.expressionContext&&"layout"===_.propertyType&&!Td(v))return[new S(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===_.expressionContext&&!Td(v))return[new S(_.key,_.value,'"feature-state" data expressions are not supported with filters.')];if(_.expressionContext&&0===_.expressionContext.indexOf("cluster")){if(!zr(v,["zoom","feature-state"]))return[new S(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===_.expressionContext&&!uh(v))return[new S(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ii(_){const c=_.key,v=_.value,M=_.valueSpec,L=[];return Array.isArray(M.values)?-1===M.values.indexOf(F(v))&&L.push(new S(c,v,`expected one of [${M.values.join(", ")}], ${JSON.stringify(v)} found`)):-1===Object.keys(M.values).indexOf(F(v))&&L.push(new S(c,v,`expected one of [${Object.keys(M.values).join(", ")}], ${JSON.stringify(v)} found`)),L}function or(_){if(!0===_||!1===_)return!0;if(!Array.isArray(_)||0===_.length)return!1;switch(_[0]){case"has":return _.length>=2&&"$id"!==_[1]&&"$type"!==_[1];case"in":return _.length>=3&&("string"!=typeof _[1]||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==_.length||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(const c of _.slice(1))if(!or(c)&&"boolean"!=typeof c)return!1;return!0;default:return!0}}const Ar={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function eo(_){if(null==_)return{filter:()=>!0,needGeometry:!1};or(_)||(_=Tc(_));const c=sa(_,Ar);if("error"===c.result)throw new Error(c.value.map(v=>`${v.key}: ${v.message}`).join(", "));return{filter:(v,M,L)=>c.value.evaluate(v,M,{},L),needGeometry:ma(_)}}function ts(_,c){return _<c?-1:_>c?1:0}function ma(_){if(!Array.isArray(_))return!1;if("within"===_[0])return!0;for(let c=1;c<_.length;c++)if(ma(_[c]))return!0;return!1}function Tc(_){if(!_)return!0;const c=_[0];return _.length<=1?"any"!==c:"=="===c?Qo(_[1],_[2],"=="):"!="===c?$a(Qo(_[1],_[2],"==")):"<"===c||">"===c||"<="===c||">="===c?Qo(_[1],_[2],c):"any"===c?(v=_.slice(1),["any"].concat(v.map(Tc))):"all"===c?["all"].concat(_.slice(1).map(Tc)):"none"===c?["all"].concat(_.slice(1).map(Tc).map($a)):"in"===c?Eu(_[1],_.slice(2)):"!in"===c?$a(Eu(_[1],_.slice(2))):"has"===c?gh(_[1]):"!has"===c?$a(gh(_[1])):"within"!==c||_;var v}function Qo(_,c,v){switch(_){case"$type":return[`filter-type-${v}`,c];case"$id":return[`filter-id-${v}`,c];default:return[`filter-${v}`,_,c]}}function Eu(_,c){if(0===c.length)return!1;switch(_){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(v=>typeof v!=typeof c[0])?["filter-in-large",_,["literal",c.sort(ts)]]:["filter-in-small",_,["literal",c]]}}function gh(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function $a(_){return["!",_]}function lu(_){return or(W(_.value))?_n(B({},_,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Jo(_)}function Jo(_){const c=_.value,v=_.key;if("array"!==br(c))return[new S(v,c,`array expected, ${br(c)} found`)];const M=_.styleSpec;let L,z=[];if(c.length<1)return[new S(v,c,"filter array must have at least 1 element")];switch(z=z.concat(Ii({key:`${v}[0]`,value:c[0],valueSpec:M.filter_operator,style:_.style,styleSpec:_.styleSpec})),F(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&"$type"===F(c[1])&&z.push(new S(v,c,`"$type" cannot be use with operator "${c[0]}"`));case"==":case"!=":3!==c.length&&z.push(new S(v,c,`filter array for operator "${c[0]}" must have 3 elements`));case"in":case"!in":c.length>=2&&(L=br(c[1]),"string"!==L&&z.push(new S(`${v}[1]`,c[1],`string expected, ${L} found`)));for(let V=2;V<c.length;V++)L=br(c[V]),"$type"===F(c[1])?z=z.concat(Ii({key:`${v}[${V}]`,value:c[V],valueSpec:M.geometry_type,style:_.style,styleSpec:_.styleSpec})):"string"!==L&&"number"!==L&&"boolean"!==L&&z.push(new S(`${v}[${V}]`,c[V],`string, number, or boolean expected, ${L} found`));break;case"any":case"all":case"none":for(let V=1;V<c.length;V++)z=z.concat(Jo({key:`${v}[${V}]`,value:c[V],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":L=br(c[1]),2!==c.length?z.push(new S(v,c,`filter array for "${c[0]}" operator must have 2 elements`)):"string"!==L&&z.push(new S(`${v}[1]`,c[1],`string expected, ${L} found`));break;case"within":L=br(c[1]),2!==c.length?z.push(new S(v,c,`filter array for "${c[0]}" operator must have 2 elements`)):"object"!==L&&z.push(new S(`${v}[1]`,c[1],`object expected, ${L} found`))}return z}function Ir(_,c){const v=_.key,M=_.style,L=_.styleSpec,z=_.value,V=_.objectKey,K=L[`${c}_${_.layerType}`];if(!K)return[];const re=V.match(/^(.*)-transition$/);if("paint"===c&&re&&K[re[1]]&&K[re[1]].transition)return Qs({key:v,value:z,valueSpec:L.transition,style:M,styleSpec:L});const me=_.valueSpec||K[V];if(!me)return[new S(v,z,`unknown property "${V}"`)];let xe;if("string"===br(z)&&pa(me)&&!me.tokens&&(xe=/^{([^}]+)}$/.exec(z)))return[new S(v,z,`"${V}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(xe[1])} }\`.`)];const Se=[];return"symbol"===_.layerType&&("text-field"===V&&M&&!M.glyphs&&Se.push(new S(v,z,'use of "text-field" requires a style "glyphs" property')),"text-font"===V&&rf(W(z))&&"identity"===F(z.type)&&Se.push(new S(v,z,'"text-font" does not support identity functions'))),Se.concat(Qs({key:_.key,value:z,valueSpec:me,style:M,styleSpec:L,expressionContext:"property",propertyType:c,propertyKey:V}))}function Du(_){return Ir(_,"paint")}function Ap(_){return Ir(_,"layout")}function Sc(_){let c=[];const v=_.value,M=_.key,L=_.style,z=_.styleSpec;v.type||v.ref||c.push(new S(M,v,'either "type" or "ref" is required'));let V=F(v.type);const K=F(v.ref);if(v.id){const re=F(v.id);for(let me=0;me<_.arrayIndex;me++){const xe=L.layers[me];F(xe.id)===re&&c.push(new S(M,v.id,`duplicate layer id "${v.id}", previously used at line ${xe.id.__line__}`))}}if("ref"in v){let re;["type","source","source-layer","filter","layout"].forEach(me=>{me in v&&c.push(new S(M,v[me],`"${me}" is prohibited for ref layers`))}),L.layers.forEach(me=>{F(me.id)===K&&(re=me)}),re?re.ref?c.push(new S(M,v.ref,"ref cannot reference another ref layer")):V=F(re.type):c.push(new S(M,v.ref,`ref layer "${K}" not found`))}else if("background"!==V&&"sky"!==V)if(v.source){const re=L.sources&&L.sources[v.source],me=re&&F(re.type);re?"vector"===me&&"raster"===V?c.push(new S(M,v.source,`layer "${v.id}" requires a raster source`)):"raster"===me&&"raster"!==V?c.push(new S(M,v.source,`layer "${v.id}" requires a vector source`)):"vector"!==me||v["source-layer"]?"raster-dem"===me&&"hillshade"!==V?c.push(new S(M,v.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==V||!v.paint||!v.paint["line-gradient"]||"geojson"===me&&re.lineMetrics||c.push(new S(M,v,`layer "${v.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):c.push(new S(M,v,`layer "${v.id}" must specify a "source-layer"`)):c.push(new S(M,v.source,`source "${v.source}" not found`))}else c.push(new S(M,v,'missing required property "source"'));return c=c.concat(Mc({key:M,value:v,valueSpec:z.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Qs({key:`${M}.type`,value:v.type,valueSpec:z.layer.type,style:_.style,styleSpec:_.styleSpec,object:v,objectKey:"type"}),filter:lu,layout:re=>Mc({layer:v,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":me=>Ap(B({layerType:V},me))}}),paint:re=>Mc({layer:v,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":me=>Du(B({layerType:V},me))}})}})),c}function Ku(_){const c=_.value,v=_.key,M=br(c);return"string"!==M?[new S(v,c,`string expected, ${M} found`)]:[]}const Ip={promoteId:function({key:_,value:c}){if("string"===br(c))return Ku({key:_,value:c});{const v=[];for(const M in c)v.push(...Ku({key:`${_}.${M}`,value:c[M]}));return v}}};function of(_){const c=_.value,v=_.key,M=_.styleSpec,L=_.style;if(!c.type)return[new S(v,c,'"type" is required')];const z=F(c.type);let V;switch(z){case"vector":case"raster":case"raster-dem":return V=Mc({key:v,value:c,valueSpec:M[`source_${z.replace("-","_")}`],style:_.style,styleSpec:M,objectElementValidators:Ip}),V;case"geojson":if(V=Mc({key:v,value:c,valueSpec:M.source_geojson,style:L,styleSpec:M,objectElementValidators:Ip}),c.cluster)for(const K in c.clusterProperties){const[re,me]=c.clusterProperties[K],xe="string"==typeof re?[re,["accumulated"],["get",K]]:re;V.push(..._n({key:`${v}.${K}.map`,value:me,expressionContext:"cluster-map"})),V.push(..._n({key:`${v}.${K}.reduce`,value:xe,expressionContext:"cluster-reduce"}))}return V;case"video":return Mc({key:v,value:c,valueSpec:M.source_video,style:L,styleSpec:M});case"image":return Mc({key:v,value:c,valueSpec:M.source_image,style:L,styleSpec:M});case"canvas":return[new S(v,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ii({key:`${v}.type`,value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:L,styleSpec:M})}}function Lp(_){const c=_.value,v=_.styleSpec,M=v.light,L=_.style;let z=[];const V=br(c);if(void 0===c)return z;if("object"!==V)return z=z.concat([new S("light",c,`object expected, ${V} found`)]),z;for(const K in c){const re=K.match(/^(.*)-transition$/);z=z.concat(re&&M[re[1]]&&M[re[1]].transition?Qs({key:K,value:c[K],valueSpec:v.transition,style:L,styleSpec:v}):M[K]?Qs({key:K,value:c[K],valueSpec:M[K],style:L,styleSpec:v}):[new S(K,c[K],`unknown property "${K}"`)])}return z}function Au(_){const c=_.value,v=_.key,M=_.style,L=_.styleSpec,z=L.terrain;let V=[];const K=br(c);if(void 0===c)return V;if("object"!==K)return V=V.concat([new S("terrain",c,`object expected, ${K} found`)]),V;for(const re in c){const me=re.match(/^(.*)-transition$/);V=V.concat(me&&z[me[1]]&&z[me[1]].transition?Qs({key:re,value:c[re],valueSpec:L.transition,style:M,styleSpec:L}):z[re]?Qs({key:re,value:c[re],valueSpec:z[re],style:M,styleSpec:L}):[new S(re,c[re],`unknown property "${re}"`)])}if(c.source){const re=M.sources&&M.sources[c.source],me=re&&F(re.type);re?"raster-dem"!==me&&V.push(new S(v,c.source,`terrain cannot be used with a source of type ${me}, it only be used with a "raster-dem" source type`)):V.push(new S(v,c.source,`source "${c.source}" not found`))}else V.push(new S(v,c,'terrain is missing required property "source"'));return V}function Id(_){const c=_.value,v=_.style,M=_.styleSpec,L=M.fog;let z=[];const V=br(c);if(void 0===c)return z;if("object"!==V)return z=z.concat([new S("fog",c,`object expected, ${V} found`)]),z;for(const K in c){const re=K.match(/^(.*)-transition$/);z=z.concat(re&&L[re[1]]&&L[re[1]].transition?Qs({key:K,value:c[K],valueSpec:M.transition,style:v,styleSpec:M}):L[K]?Qs({key:K,value:c[K],valueSpec:L[K],style:v,styleSpec:M}):[new S(K,c[K],`unknown property "${K}"`)])}return z}const Pp={"*":()=>[],array:Ad,boolean:function(_){const c=_.value,v=_.key,M=br(c);return"boolean"!==M?[new S(v,c,`boolean expected, ${M} found`)]:[]},number:Jt,color:function(_){const c=_.key,v=_.value,M=br(v);return"string"!==M?[new S(c,v,`color expected, ${M} found`)]:null===Un.parseCSSColor(v)?[new S(c,v,`color expected, "${v}" found`)]:[]},constants:D,enum:Ii,filter:lu,function:Pn,layer:Sc,object:Mc,source:of,light:Lp,terrain:Au,fog:Id,string:Ku,formatted:function(_){return 0===Ku(_).length?[]:_n(_)},resolvedImage:function(_){return 0===Ku(_).length?[]:_n(_)}};function Qs(_){const c=_.value,v=_.valueSpec,M=_.styleSpec;return v.expression&&rf(F(c))?Pn(_):v.expression&&fa(W(c))?_n(_):v.type&&Pp[v.type]?Pp[v.type](_):Mc(B({},_,{valueSpec:v.type?M[v.type]:v}))}function Iu(_){const c=_.value,v=_.key,M=Ku(_);return M.length||(-1===c.indexOf("{fontstack}")&&M.push(new S(v,c,'"glyphs" url must include a "{fontstack}" token')),-1===c.indexOf("{range}")&&M.push(new S(v,c,'"glyphs" url must include a "{range}" token'))),M}function kc(_,c=b){let v=[];return v=v.concat(Qs({key:"",value:_,valueSpec:c.$root,styleSpec:c,style:_,objectElementValidators:{glyphs:Iu,"*":()=>[]}})),_.constants&&(v=v.concat(D({key:"constants",value:_.constants,style:_,styleSpec:c}))),Lu(v)}function Lu(_){return[].concat(_).sort((c,v)=>c.line-v.line)}function _l(_){return function(...c){return Lu(_.apply(this,c))}}kc.source=_l(of),kc.light=_l(Lp),kc.terrain=_l(Au),kc.fog=_l(Id),kc.layer=_l(Sc),kc.filter=_l(lu),kc.paintProperty=_l(Du),kc.layoutProperty=_l(Ap);const $c=kc,Bl=$c.light,_h=$c.fog,Ld=$c.paintProperty,Yf=$c.layoutProperty;function Wh(_,c){let v=!1;if(c&&c.length)for(const M of c)_.fire(new p(new Error(M.message))),v=!0;return v}var Yl=tc;function tc(_,c,v){var M=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var L=new Int32Array(this.arrayBuffer);_=L[0],this.d=(c=L[1])+2*(v=L[2]);for(var z=0;z<this.d*this.d;z++){var V=L[3+z],K=L[3+z+1];M.push(V===K?null:L.subarray(V,K))}var re=L[3+M.length+1];this.keys=L.subarray(L[3+M.length],re),this.bboxes=L.subarray(re),this.insert=this._insertReadonly}else{this.d=c+2*v;for(var me=0;me<this.d*this.d;me++)M.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=_,this.padding=v,this.scale=c/_,this.uid=0;var xe=v/c*_;this.min=-xe,this.max=_+xe}tc.prototype.insert=function(_,c,v,M,L){this._forEachCell(c,v,M,L,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(c),this.bboxes.push(v),this.bboxes.push(M),this.bboxes.push(L)},tc.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},tc.prototype._insertCell=function(_,c,v,M,L,z){this.cells[L].push(z)},tc.prototype.query=function(_,c,v,M,L){var z=this.min,V=this.max;if(_<=z&&c<=z&&V<=v&&V<=M&&!L)return Array.prototype.slice.call(this.keys);var K=[];return this._forEachCell(_,c,v,M,this._queryCell,K,{},L),K},tc.prototype._queryCell=function(_,c,v,M,L,z,V,K){var re=this.cells[L];if(null!==re)for(var me=this.keys,xe=this.bboxes,Se=0;Se<re.length;Se++){var Oe=re[Se];if(void 0===V[Oe]){var Ve=4*Oe;(K?K(xe[Ve+0],xe[Ve+1],xe[Ve+2],xe[Ve+3]):_<=xe[Ve+2]&&c<=xe[Ve+3]&&v>=xe[Ve+0]&&M>=xe[Ve+1])?(V[Oe]=!0,z.push(me[Oe])):V[Oe]=!1}}},tc.prototype._forEachCell=function(_,c,v,M,L,z,V,K){for(var re=this._convertToCellCoord(_),me=this._convertToCellCoord(c),xe=this._convertToCellCoord(v),Se=this._convertToCellCoord(M),Oe=re;Oe<=xe;Oe++)for(var Ve=me;Ve<=Se;Ve++){var et=this.d*Ve+Oe;if((!K||K(this._convertFromCellCoord(Oe),this._convertFromCellCoord(Ve),this._convertFromCellCoord(Oe+1),this._convertFromCellCoord(Ve+1)))&&L.call(this,_,c,v,M,et,z,V,K))return}},tc.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},tc.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},tc.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,c=3+this.cells.length+1+1,v=0,M=0;M<this.cells.length;M++)v+=this.cells[M].length;var L=new Int32Array(c+v+this.keys.length+this.bboxes.length);L[0]=this.extent,L[1]=this.n,L[2]=this.padding;for(var z=c,V=0;V<_.length;V++){var K=_[V];L[3+V]=z,L.set(K,z),z+=K.length}return L[3+_.length]=z,L.set(this.keys,z),L[3+_.length+1]=z+=this.keys.length,L.set(this.bboxes,z),z+=this.bboxes.length,L.buffer};const{ImageData:ed,ImageBitmap:Ec}=We,Qc={};function Mi(_,c,v={}){Object.defineProperty(c,"_classRegistryKey",{value:_,writeable:!1}),Qc[_]={klass:c,omit:v.omit||[],shallow:v.shallow||[]}}Mi("Object",Object),Yl.serialize=function(_,c){const v=_.toArrayBuffer();return c&&c.push(v),{buffer:v}},Yl.deserialize=function(_){return new Yl(_.buffer)},Mi("Grid",Yl),Mi("Color",zn),Mi("Error",Error),Mi("ResolvedImage",Yi),Mi("StylePropertyFunction",mh),Mi("StyleExpression",fh,{omit:["_evaluator"]}),Mi("ZoomDependentExpression",qc),Mi("ZoomConstantExpression",Cc),Mi("CompoundExpression",gl,{omit:["_evaluate"]});for(const _ in Io)Io[_]._classRegistryKey||Mi(`Expression_${_}`,Io[_]);function Cr(_){return _&&"undefined"!=typeof ArrayBuffer&&(_ instanceof ArrayBuffer||_.constructor&&"ArrayBuffer"===_.constructor.name)}function Js(_){return Ec&&_ instanceof Ec}function Or(_,c){if(null==_||"boolean"==typeof _||"number"==typeof _||"string"==typeof _||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(Cr(_)||Js(_))return c&&c.push(_),_;if(ArrayBuffer.isView(_)){const v=_;return c&&c.push(v.buffer),v}if(_ instanceof ed)return c&&c.push(_.data.buffer),_;if(Array.isArray(_)){const v=[];for(const M of _)v.push(Or(M,c));return v}if("object"==typeof _){const v=_.constructor,M=v._classRegistryKey;if(!M)throw new Error("can't serialize object of unregistered class");const L=v.serialize?v.serialize(_,c):{};if(!v.serialize){for(const z in _){if(!_.hasOwnProperty(z)||Qc[M].omit.indexOf(z)>=0)continue;const V=_[z];L[z]=Qc[M].shallow.indexOf(z)>=0?V:Or(V,c)}_ instanceof Error&&(L.message=_.message)}if(L.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==M&&(L.$name=M),L}throw new Error("can't serialize object of type "+typeof _)}function Di(_){if(null==_||"boolean"==typeof _||"number"==typeof _||"string"==typeof _||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||Cr(_)||Js(_)||ArrayBuffer.isView(_)||_ instanceof ed)return _;if(Array.isArray(_))return _.map(Di);if("object"==typeof _){const c=_.$name||"Object",{klass:v}=Qc[c];if(!v)throw new Error(`can't deserialize unregistered class ${c}`);if(v.deserialize)return v.deserialize(_);const M=Object.create(v.prototype);for(const L of Object.keys(_)){if("$name"===L)continue;const z=_[L];M[L]=Qc[c].shallow.indexOf(L)>=0?z:Di(z)}return M}throw new Error("can't deserialize object of type "+typeof _)}class Qa{constructor(){this.first=!0}update(c,v){const M=Math.floor(c);return this.first?(this.first=!1,this.lastIntegerZoom=M,this.lastIntegerZoomTime=0,this.lastZoom=c,this.lastFloorZoom=M,!0):(this.lastFloorZoom>M?(this.lastIntegerZoom=M+1,this.lastIntegerZoomTime=v):this.lastFloorZoom<M&&(this.lastIntegerZoom=M,this.lastIntegerZoomTime=v),c!==this.lastZoom&&(this.lastZoom=c,this.lastFloorZoom=M,!0))}}const Fi=_=>_>=1536&&_<=1791,Op=_=>_>=1872&&_<=1919,Ws=_=>_>=2208&&_<=2303,Uo=_=>_>=11904&&_<=12031,Ps=_=>_>=12032&&_<=12255,yl=_=>_>=12272&&_<=12287,td=_=>_>=12288&&_<=12351,Lo=_=>_>=12352&&_<=12447,Ja=_=>_>=12448&&_<=12543,nc=_=>_>=12544&&_<=12591,Rp=_=>_>=12704&&_<=12735,cu=_=>_>=12736&&_<=12783,yh=_=>_>=12784&&_<=12799,nd=_=>_>=12800&&_<=13055,uu=_=>_>=13056&&_<=13311,du=_=>_>=13312&&_<=19903,Dc=_=>_>=19968&&_<=40959,Pu=_=>_>=40960&&_<=42127,rt=_=>_>=42128&&_<=42191,Ac=_=>_>=44032&&_<=55215,vh=_=>_>=63744&&_<=64255,Xa=_=>_>=64336&&_<=65023,as=_=>_>=65040&&_<=65055,Fp=_=>_>=65072&&_<=65103,Po=_=>_>=65104&&_<=65135,ri=_=>_>=65136&&_<=65279,Xo=_=>_>=65280&&_<=65519;function id(_){for(const c of _)if(bh(c.charCodeAt(0)))return!0;return!1}function Ba(_){for(const c of _)if(!Hf(c.charCodeAt(0)))return!1;return!0}function Hf(_){return!(Fi(_)||Op(_)||Ws(_)||Xa(_)||ri(_))}function bh(_){return!(746!==_&&747!==_&&(_<4352||!(Rp(_)||nc(_)||Fp(_)&&!(_>=65097&&_<=65103)||vh(_)||uu(_)||Uo(_)||cu(_)||!(!td(_)||_>=12296&&_<=12305||_>=12308&&_<=12319||12336===_)||du(_)||Dc(_)||nd(_)||(c=_,c>=12592&&c<=12687)||(c=>c>=43360&&c<=43391)(_)||(c=>c>=55216&&c<=55295)(_)||(c=>c>=4352&&c<=4607)(_)||Ac(_)||Lo(_)||yl(_)||(c=>c>=12688&&c<=12703)(_)||Ps(_)||yh(_)||Ja(_)&&12540!==_||!(!Xo(_)||65288===_||65289===_||65293===_||_>=65306&&_<=65310||65339===_||65341===_||65343===_||_>=65371&&_<=65503||65507===_||_>=65512&&_<=65519)||!(!Po(_)||_>=65112&&_<=65118||_>=65123&&_<=65126)||(c=>c>=5120&&c<=5759)(_)||(c=>c>=6320&&c<=6399)(_)||as(_)||(c=>c>=19904&&c<=19967)(_)||Pu(_)||rt(_))));var c}function Gh(_){return!(bh(_)||(c=_,(v=c)>=128&&v<=255&&(167===c||169===c||174===c||177===c||188===c||189===c||190===c||215===c||247===c)||(v=>v>=8192&&v<=8303)(c)&&(8214===c||8224===c||8225===c||8240===c||8241===c||8251===c||8252===c||8258===c||8263===c||8264===c||8265===c||8273===c)||(v=>v>=8448&&v<=8527)(c)||(v=>v>=8528&&v<=8591)(c)||(v=>v>=8960&&v<=9215)(c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||9003===c||c>=9085&&c<=9114||c>=9150&&c<=9165||9167===c||c>=9169&&c<=9179||c>=9186&&c<=9215)||(v=>v>=9216&&v<=9279)(c)&&9251!==c||(v=>v>=9280&&v<=9311)(c)||(v=>v>=9312&&v<=9471)(c)||(v=>v>=9632&&v<=9727)(c)||(v=>v>=9728&&v<=9983)(c)&&!(c>=9754&&c<=9759)||(v=>v>=11008&&v<=11263)(c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||td(c)||Ja(c)||(v=>v>=57344&&v<=63743)(c)||Fp(c)||Po(c)||Xo(c)||8734===c||8756===c||8757===c||c>=9984&&c<=10087||c>=10102&&c<=10131||65532===c||65533===c));var c,v}function Ka(_){return _>=1424&&_<=2303||Xa(_)||ri(_)}function qh(_,c){return!(!c&&Ka(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||(v=_,v>=6016&&v<=6143));var v}function Np(_){for(const c of _)if(Ka(c.charCodeAt(0)))return!0;return!1}const R="deferred",m="loading",T="loaded";let N=null,U="unavailable",X=null;const ce=function(_){_&&"string"==typeof _&&_.indexOf("NetworkError")>-1&&(U="error"),N&&N(_)};function ge(){we.fire(new Re("pluginStateChange",{pluginStatus:U,pluginURL:X}))}const we=new f,be=function(){return U},Ue=function(){if(U!==R||!X)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");U=m,ge(),X&&He({url:X},_=>{_?ce(_):(U=T,ge())})},qe={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>U===T||null!=qe.applyArabicShaping,isLoading:()=>U===m,setState(_){U=_.pluginStatus,X=_.pluginURL},isParsed:()=>null!=qe.applyArabicShaping&&null!=qe.processBidirectionalText&&null!=qe.processStyledBidirectionalText,getPluginURL:()=>X};class Qe{constructor(c,v){this.zoom=c,v?(this.now=v.now,this.fadeDuration=v.fadeDuration,this.zoomHistory=v.zoomHistory,this.transition=v.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Qa,this.transition={})}isSupportedScript(c){return function(v,M){for(const L of v)if(!qh(L.charCodeAt(0),M))return!1;return!0}(c,qe.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const c=this.zoom,v=c-Math.floor(c),M=this.crossFadingFactor();return c>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:v+(1-v)*M}:{fromScale:.5,toScale:1,t:1-(1-M)*v}}}class Ke{constructor(c,v){this.property=c,this.value=v,this.expression=function(M,L){if(rf(M))return new mh(M,L);if(fa(M)){const z=sf(M,L);if("error"===z.result)throw new Error(z.value.map(V=>`${V.key}: ${V.message}`).join(", "));return z.value}{let z=M;return"string"==typeof M&&"color"===L.type&&(z=zn.parse(M)),{kind:"constant",evaluate:()=>z}}}(void 0===v?c.specification.default:v,c.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(c,v,M){return this.property.possiblyEvaluate(this,c,v,M)}}class pt{constructor(c){this.property=c,this.value=new Ke(c,void 0)}transitioned(c,v){return new Nt(this.property,this.value,v,zi({},c.transition,this.transition),c.now)}untransitioned(){return new Nt(this.property,this.value,null,{},0)}}class xt{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitionablePropertyValues)}getValue(c){return li(this._values[c].value.value)}setValue(c,v){this._values.hasOwnProperty(c)||(this._values[c]=new pt(this._values[c].property)),this._values[c].value=new Ke(this._values[c].property,null===v?void 0:li(v))}getTransition(c){return li(this._values[c].transition)}setTransition(c,v){this._values.hasOwnProperty(c)||(this._values[c]=new pt(this._values[c].property)),this._values[c].transition=li(v)||void 0}serialize(){const c={};for(const v of Object.keys(this._values)){const M=this.getValue(v);void 0!==M&&(c[v]=M);const L=this.getTransition(v);void 0!==L&&(c[`${v}-transition`]=L)}return c}transitioned(c,v){const M=new lt(this._properties);for(const L of Object.keys(this._values))M._values[L]=this._values[L].transitioned(c,v._values[L]);return M}untransitioned(){const c=new lt(this._properties);for(const v of Object.keys(this._values))c._values[v]=this._values[v].untransitioned();return c}}class Nt{constructor(c,v,M,L,z){const V=L.delay||0,K=L.duration||0;z=z||0,this.property=c,this.value=v,this.begin=z+V,this.end=this.begin+K,c.specification.transition&&(L.delay||L.duration)&&(this.prior=M)}possiblyEvaluate(c,v,M){const L=c.now||0,z=this.value.possiblyEvaluate(c,v,M),V=this.prior;if(V){if(L>this.end)return this.prior=null,z;if(this.value.isDataDriven())return this.prior=null,z;if(L<this.begin)return V.possiblyEvaluate(c,v,M);{const K=(L-this.begin)/(this.end-this.begin);return this.property.interpolate(V.possiblyEvaluate(c,v,M),z,ct(K))}}return z}}class lt{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitioningPropertyValues)}possiblyEvaluate(c,v,M){const L=new Ut(this._properties);for(const z of Object.keys(this._values))L._values[z]=this._values[z].possiblyEvaluate(c,v,M);return L}hasTransition(){for(const c of Object.keys(this._values))if(this._values[c].prior)return!0;return!1}}class wt{constructor(c){this._properties=c,this._values=Object.create(c.defaultPropertyValues)}getValue(c){return li(this._values[c].value)}setValue(c,v){this._values[c]=new Ke(this._values[c].property,null===v?void 0:li(v))}serialize(){const c={};for(const v of Object.keys(this._values)){const M=this.getValue(v);void 0!==M&&(c[v]=M)}return c}possiblyEvaluate(c,v,M){const L=new Ut(this._properties);for(const z of Object.keys(this._values))L._values[z]=this._values[z].possiblyEvaluate(c,v,M);return L}}class Tt{constructor(c,v,M){this.property=c,this.value=v,this.parameters=M}isConstant(){return"constant"===this.value.kind}constantOr(c){return"constant"===this.value.kind?this.value.value:c}evaluate(c,v,M,L){return this.property.evaluate(this.value,this.parameters,c,v,M,L)}}class Ut{constructor(c){this._properties=c,this._values=Object.create(c.defaultPossiblyEvaluatedValues)}get(c){return this._values[c]}}class St{constructor(c){this.specification=c}possiblyEvaluate(c,v){return c.expression.evaluate(v)}interpolate(c,v,M){const L=Zc[this.specification.type];return L?L(c,v,M):c}}class At{constructor(c,v){this.specification=c,this.overrides=v}possiblyEvaluate(c,v,M,L){return new Tt(this,"constant"===c.expression.kind||"camera"===c.expression.kind?{kind:"constant",value:c.expression.evaluate(v,null,{},M,L)}:c.expression,v)}interpolate(c,v,M){if("constant"!==c.value.kind||"constant"!==v.value.kind)return c;if(void 0===c.value.value||void 0===v.value.value)return new Tt(this,{kind:"constant",value:void 0},c.parameters);const L=Zc[this.specification.type];return L?new Tt(this,{kind:"constant",value:L(c.value.value,v.value.value,M)},c.parameters):c}evaluate(c,v,M,L,z,V){return"constant"===c.kind?c.value:c.evaluate(v,M,L,z,V)}}class Sn extends At{possiblyEvaluate(c,v,M,L){if(void 0===c.value)return new Tt(this,{kind:"constant",value:void 0},v);if("constant"===c.expression.kind){const z=c.expression.evaluate(v,null,{},M,L),V="resolvedImage"===c.property.specification.type&&"string"!=typeof z?z.name:z,K=this._calculate(V,V,V,v);return new Tt(this,{kind:"constant",value:K},v)}if("camera"===c.expression.kind){const z=this._calculate(c.expression.evaluate({zoom:v.zoom-1}),c.expression.evaluate({zoom:v.zoom}),c.expression.evaluate({zoom:v.zoom+1}),v);return new Tt(this,{kind:"constant",value:z},v)}return new Tt(this,c.expression,v)}evaluate(c,v,M,L,z,V){if("source"===c.kind){const K=c.evaluate(v,M,L,z,V);return this._calculate(K,K,K,v)}return"composite"===c.kind?this._calculate(c.evaluate({zoom:Math.floor(v.zoom)-1},M,L),c.evaluate({zoom:Math.floor(v.zoom)},M,L),c.evaluate({zoom:Math.floor(v.zoom)+1},M,L),v):c.value}_calculate(c,v,M,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:c,to:v,other:M}:{from:M,to:v,other:c}}interpolate(c){return c}}class An{constructor(c){this.specification=c}possiblyEvaluate(c,v,M,L){if(void 0!==c.value){if("constant"===c.expression.kind){const z=c.expression.evaluate(v,null,{},M,L);return this._calculate(z,z,z,v)}return this._calculate(c.expression.evaluate(new Qe(Math.floor(v.zoom-1),v)),c.expression.evaluate(new Qe(Math.floor(v.zoom),v)),c.expression.evaluate(new Qe(Math.floor(v.zoom+1),v)),v)}}_calculate(c,v,M,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:c,to:v}:{from:M,to:v}}interpolate(c){return c}}class Fn{constructor(c){this.specification=c}possiblyEvaluate(c,v,M,L){return!!c.expression.evaluate(v,null,{},M,L)}interpolate(){return!1}}class Lt{constructor(c){this.properties=c,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const v in c){const M=c[v];M.specification.overridable&&this.overridableProperties.push(v);const L=this.defaultPropertyValues[v]=new Ke(M,void 0),z=this.defaultTransitionablePropertyValues[v]=new pt(M);this.defaultTransitioningPropertyValues[v]=z.untransitioned(),this.defaultPossiblyEvaluatedValues[v]=L.possiblyEvaluate({})}}}function ii(_,c){return 256*(_=qt(Math.floor(_),0,255))+qt(Math.floor(c),0,255)}Mi("DataDrivenProperty",At),Mi("DataConstantProperty",St),Mi("CrossFadedDataDrivenProperty",Sn),Mi("CrossFadedProperty",An),Mi("ColorRampProperty",Fn);const Bn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ci{constructor(c,v){this._structArray=c,this._pos1=v*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ti{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(c,v){return c._trim(),v&&(c.isTransferred=!0,v.push(c.arrayBuffer)),{length:c.length,arrayBuffer:c.arrayBuffer}}static deserialize(c){const v=Object.create(this.prototype);return v.arrayBuffer=c.arrayBuffer,v.length=c.length,v.capacity=c.arrayBuffer.byteLength/v.bytesPerElement,v._refreshViews(),v}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(c){this.reserve(c),this.length=c}reserve(c){if(c>this.capacity){this.capacity=Math.max(c,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const v=this.uint8;this._refreshViews(),v&&this.uint8.set(v)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Xn(_,c=1){let v=0,M=0;return{members:_.map(L=>{const z=Bn[L.type].BYTES_PER_ELEMENT,V=v=yr(v,Math.max(c,z)),K=L.components||1;return M=Math.max(M,z),v+=z*K,{name:L.name,type:L.type,components:K,offset:V}}),size:yr(v,Math.max(M,c)),alignment:c}}function yr(_,c){return Math.ceil(_/c)*c}class Ri extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v){const M=this.length;return this.resize(M+1),this.emplace(M,c,v)}emplace(c,v,M){const L=2*c;return this.int16[L+0]=v,this.int16[L+1]=M,c}}Ri.prototype.bytesPerElement=4,Mi("StructArrayLayout2i4",Ri);class ns extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,v,M,L)}emplace(c,v,M,L,z){const V=4*c;return this.int16[V+0]=v,this.int16[V+1]=M,this.int16[V+2]=L,this.int16[V+3]=z,c}}ns.prototype.bytesPerElement=8,Mi("StructArrayLayout4i8",ns);class ps extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K){const re=this.length;return this.resize(re+1),this.emplace(re,c,v,M,L,z,V,K)}emplace(c,v,M,L,z,V,K,re){const me=6*c,xe=12*c,Se=3*c;return this.int16[me+0]=v,this.int16[me+1]=M,this.uint8[xe+4]=L,this.uint8[xe+5]=z,this.uint8[xe+6]=V,this.uint8[xe+7]=K,this.float32[Se+2]=re,c}}ps.prototype.bytesPerElement=12,Mi("StructArrayLayout2i4ub1f12",ps);class bs extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,v){const M=this.length;return this.resize(M+1),this.emplace(M,c,v)}emplace(c,v,M){const L=2*c;return this.float32[L+0]=v,this.float32[L+1]=M,c}}bs.prototype.bytesPerElement=8,Mi("StructArrayLayout2f8",bs);class Mr extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re,me,xe){const Se=this.length;return this.resize(Se+1),this.emplace(Se,c,v,M,L,z,V,K,re,me,xe)}emplace(c,v,M,L,z,V,K,re,me,xe,Se){const Oe=10*c;return this.uint16[Oe+0]=v,this.uint16[Oe+1]=M,this.uint16[Oe+2]=L,this.uint16[Oe+3]=z,this.uint16[Oe+4]=V,this.uint16[Oe+5]=K,this.uint16[Oe+6]=re,this.uint16[Oe+7]=me,this.uint16[Oe+8]=xe,this.uint16[Oe+9]=Se,c}}Mr.prototype.bytesPerElement=20,Mi("StructArrayLayout10ui20",Mr);class Es extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re){const me=this.length;return this.resize(me+1),this.emplace(me,c,v,M,L,z,V,K,re)}emplace(c,v,M,L,z,V,K,re,me){const xe=8*c;return this.uint16[xe+0]=v,this.uint16[xe+1]=M,this.uint16[xe+2]=L,this.uint16[xe+3]=z,this.uint16[xe+4]=V,this.uint16[xe+5]=K,this.uint16[xe+6]=re,this.uint16[xe+7]=me,c}}Es.prototype.bytesPerElement=16,Mi("StructArrayLayout8ui16",Es);class ao extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re,me,xe,Se,Oe){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,c,v,M,L,z,V,K,re,me,xe,Se,Oe)}emplace(c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve){const et=12*c;return this.int16[et+0]=v,this.int16[et+1]=M,this.int16[et+2]=L,this.int16[et+3]=z,this.uint16[et+4]=V,this.uint16[et+5]=K,this.uint16[et+6]=re,this.uint16[et+7]=me,this.int16[et+8]=xe,this.int16[et+9]=Se,this.int16[et+10]=Oe,this.int16[et+11]=Ve,c}}ao.prototype.bytesPerElement=24,Mi("StructArrayLayout4i4ui4i24",ao);class Hl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,v,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,v,M)}emplace(c,v,M,L){const z=3*c;return this.float32[z+0]=v,this.float32[z+1]=M,this.float32[z+2]=L,c}}Hl.prototype.bytesPerElement=12,Mi("StructArrayLayout3f12",Hl);class Ya extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c){const v=this.length;return this.resize(v+1),this.emplace(v,c)}emplace(c,v){return this.uint32[1*c+0]=v,c}}Ya.prototype.bytesPerElement=4,Mi("StructArrayLayout1ul4",Ya);class ys extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re,me,xe){const Se=this.length;return this.resize(Se+1),this.emplace(Se,c,v,M,L,z,V,K,re,me,xe)}emplace(c,v,M,L,z,V,K,re,me,xe,Se){const Oe=16*c,Ve=8*c;return this.int16[Oe+0]=v,this.int16[Oe+1]=M,this.float32[Ve+1]=L,this.float32[Ve+2]=z,this.float32[Ve+3]=V,this.float32[Ve+4]=K,this.int16[Oe+10]=re,this.uint32[Ve+6]=me,this.uint16[Oe+14]=xe,this.uint16[Oe+15]=Se,c}}ys.prototype.bytesPerElement=32,Mi("StructArrayLayout2i4f1i1ul2ui32",ys);class Ko extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V){const K=this.length;return this.resize(K+1),this.emplace(K,c,v,M,L,z,V)}emplace(c,v,M,L,z,V,K){const re=6*c;return this.int16[re+0]=v,this.int16[re+1]=M,this.int16[re+2]=L,this.int16[re+3]=z,this.int16[re+4]=V,this.int16[re+5]=K,c}}Ko.prototype.bytesPerElement=12,Mi("StructArrayLayout2i2i2i12",Ko);class vl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z){const V=this.length;return this.resize(V+1),this.emplace(V,c,v,M,L,z)}emplace(c,v,M,L,z,V){const K=4*c,re=8*c;return this.float32[K+0]=v,this.float32[K+1]=M,this.float32[K+2]=L,this.int16[re+6]=z,this.int16[re+7]=V,c}}vl.prototype.bytesPerElement=16,Mi("StructArrayLayout2f1f2i16",vl);class Vi extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,v,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,v,M,L)}emplace(c,v,M,L,z){const V=12*c,K=3*c;return this.uint8[V+0]=v,this.uint8[V+1]=M,this.float32[K+1]=L,this.float32[K+2]=z,c}}Vi.prototype.bytesPerElement=12,Mi("StructArrayLayout2ub2f12",Vi);class Gs extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,v,M)}emplace(c,v,M,L){const z=3*c;return this.uint16[z+0]=v,this.uint16[z+1]=M,this.uint16[z+2]=L,c}}Gs.prototype.bytesPerElement=6,Mi("StructArrayLayout3ui6",Gs);class is extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn){const on=this.length;return this.resize(on+1),this.emplace(on,c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn)}emplace(c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn,on){const pn=13*c,xn=26*c,yn=52*c;return this.float32[pn+0]=v,this.float32[pn+1]=M,this.uint16[xn+4]=L,this.uint16[xn+5]=z,this.uint32[pn+3]=V,this.uint32[pn+4]=K,this.uint32[pn+5]=re,this.uint16[xn+12]=me,this.uint16[xn+13]=xe,this.uint16[xn+14]=Se,this.float32[pn+8]=Oe,this.float32[pn+9]=Ve,this.uint8[yn+40]=et,this.uint8[yn+41]=_t,this.uint8[yn+42]=It,this.uint32[pn+11]=Ht,this.int16[xn+24]=tn,this.uint8[yn+50]=on,c}}is.prototype.bytesPerElement=52,Mi("StructArrayLayout2f2ui3ul3ui2f3ub1ul1i1ub52",is);class Os extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn,on,pn,xn,yn,Wn,Kn,Gn,pi,Nn){const jn=this.length;return this.resize(jn+1),this.emplace(jn,c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn,on,pn,xn,yn,Wn,Kn,Gn,pi,Nn)}emplace(c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t,It,Ht,tn,on,pn,xn,yn,Wn,Kn,Gn,pi,Nn,jn){const ui=17*c,On=34*c;return this.float32[ui+0]=v,this.float32[ui+1]=M,this.int16[On+4]=L,this.int16[On+5]=z,this.int16[On+6]=V,this.int16[On+7]=K,this.int16[On+8]=re,this.int16[On+9]=me,this.uint16[On+10]=xe,this.uint16[On+11]=Se,this.uint16[On+12]=Oe,this.uint16[On+13]=Ve,this.uint16[On+14]=et,this.uint16[On+15]=_t,this.uint16[On+16]=It,this.uint16[On+17]=Ht,this.uint16[On+18]=tn,this.uint16[On+19]=on,this.uint16[On+20]=pn,this.uint16[On+21]=xn,this.uint16[On+22]=yn,this.uint16[On+23]=Wn,this.uint16[On+24]=Kn,this.uint32[ui+13]=Gn,this.float32[ui+14]=pi,this.float32[ui+15]=Nn,this.float32[ui+16]=jn,c}}Os.prototype.bytesPerElement=68,Mi("StructArrayLayout2f6i15ui1ul3f68",Os);class xo extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c){const v=this.length;return this.resize(v+1),this.emplace(v,c)}emplace(c,v){return this.float32[1*c+0]=v,c}}xo.prototype.bytesPerElement=4,Mi("StructArrayLayout1f4",xo);class $r extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,v,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,v,M)}emplace(c,v,M,L){const z=3*c;return this.int16[z+0]=v,this.int16[z+1]=M,this.int16[z+2]=L,c}}$r.prototype.bytesPerElement=6,Mi("StructArrayLayout3i6",$r);class ul extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,v,M,L)}emplace(c,v,M,L,z){const V=6*c;return this.uint32[3*c+0]=v,this.uint16[V+2]=M,this.uint16[V+3]=L,this.uint16[V+4]=z,c}}ul.prototype.bytesPerElement=12,Mi("StructArrayLayout1ul3ui12",ul);class dl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,v){const M=this.length;return this.resize(M+1),this.emplace(M,c,v)}emplace(c,v,M){const L=2*c;return this.uint16[L+0]=v,this.uint16[L+1]=M,c}}dl.prototype.bytesPerElement=4,Mi("StructArrayLayout2ui4",dl);class bl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c){const v=this.length;return this.resize(v+1),this.emplace(v,c)}emplace(c,v){return this.uint16[1*c+0]=v,c}}bl.prototype.bytesPerElement=2,Mi("StructArrayLayout1ui2",bl);class jo extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,v,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,v,M,L)}emplace(c,v,M,L,z){const V=4*c;return this.float32[V+0]=v,this.float32[V+1]=M,this.float32[V+2]=L,this.float32[V+3]=z,c}}jo.prototype.bytesPerElement=16,Mi("StructArrayLayout4f16",jo);class Ha extends ci{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new Te(this.anchorPointX,this.anchorPointY)}}Ha.prototype.size=32;class rd extends ys{get(c){return new Ha(this,c)}}Mi("CollisionBoxArray",rd);class Pa extends ci{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+4]}get numGlyphs(){return this._structArray.uint16[this._pos2+5]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineStartIndex(){return this._structArray.uint32[this._pos4+4]}get lineLength(){return this._structArray.uint32[this._pos4+5]}get segment(){return this._structArray.uint16[this._pos2+12]}get lowerSize(){return this._structArray.uint16[this._pos2+13]}get upperSize(){return this._structArray.uint16[this._pos2+14]}get lineOffsetX(){return this._structArray.float32[this._pos4+8]}get lineOffsetY(){return this._structArray.float32[this._pos4+9]}get writingMode(){return this._structArray.uint8[this._pos1+40]}get placedOrientation(){return this._structArray.uint8[this._pos1+41]}set placedOrientation(c){this._structArray.uint8[this._pos1+41]=c}get hidden(){return this._structArray.uint8[this._pos1+42]}set hidden(c){this._structArray.uint8[this._pos1+42]=c}get crossTileID(){return this._structArray.uint32[this._pos4+11]}set crossTileID(c){this._structArray.uint32[this._pos4+11]=c}get associatedIconIndex(){return this._structArray.int16[this._pos2+24]}get flipState(){return this._structArray.uint8[this._pos1+50]}set flipState(c){this._structArray.uint8[this._pos1+50]=c}}Pa.prototype.size=52;class Pd extends is{get(c){return new Pa(this,c)}}Mi("PlacedSymbolArray",Pd);class Rr extends ci{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+8]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+9]}get key(){return this._structArray.uint16[this._pos2+10]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get featureIndex(){return this._structArray.uint16[this._pos2+19]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+21]}get numIconVertices(){return this._structArray.uint16[this._pos2+22]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+23]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+24]}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(c){this._structArray.uint32[this._pos4+13]=c}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Rr.prototype.size=68;class Od extends Os{get(c){return new Rr(this,c)}}Mi("SymbolInstanceArray",Od);class ic extends xo{getoffsetX(c){return this.float32[1*c+0]}}Mi("GlyphOffsetArray",ic);class Zo extends $r{getx(c){return this.int16[3*c+0]}gety(c){return this.int16[3*c+1]}gettileUnitDistanceFromAnchor(c){return this.int16[3*c+2]}}Mi("SymbolLineVertexArray",Zo);class fs extends ci{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}fs.prototype.size=12;class yi extends ul{get(c){return new fs(this,c)}}Mi("FeatureIndexArray",yi);class G extends ci{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}G.prototype.size=4;class le extends dl{get(c){return new G(this,c)}}Mi("FillExtrusionCentroidArray",le);const ye=Xn([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Ne=Xn([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var nt=cn(function(_){_.exports=function(c,v){var M,L,z,V,K,re,me,xe;for(L=c.length-(M=3&c.length),z=v,K=3432918353,re=461845907,xe=0;xe<L;)me=255&c.charCodeAt(xe)|(255&c.charCodeAt(++xe))<<8|(255&c.charCodeAt(++xe))<<16|(255&c.charCodeAt(++xe))<<24,++xe,z=27492+(65535&(V=5*(65535&(z=(z^=me=(65535&(me=(me=(65535&me)*K+(((me>>>16)*K&65535)<<16)&4294967295)<<15|me>>>17))*re+(((me>>>16)*re&65535)<<16)&4294967295)<<13|z>>>19))+((5*(z>>>16)&65535)<<16)&4294967295))+((58964+(V>>>16)&65535)<<16);switch(me=0,M){case 3:me^=(255&c.charCodeAt(xe+2))<<16;case 2:me^=(255&c.charCodeAt(xe+1))<<8;case 1:z^=me=(65535&(me=(me=(65535&(me^=255&c.charCodeAt(xe)))*K+(((me>>>16)*K&65535)<<16)&4294967295)<<15|me>>>17))*re+(((me>>>16)*re&65535)<<16)&4294967295}return z^=c.length,z=2246822507*(65535&(z^=z>>>16))+((2246822507*(z>>>16)&65535)<<16)&4294967295,z=3266489909*(65535&(z^=z>>>13))+((3266489909*(z>>>16)&65535)<<16)&4294967295,(z^=z>>>16)>>>0}}),Et=cn(function(_){_.exports=function(c,v){for(var M,L=c.length,z=v^L,V=0;L>=4;)M=1540483477*(65535&(M=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24))+((1540483477*(M>>>16)&65535)<<16),z=1540483477*(65535&z)+((1540483477*(z>>>16)&65535)<<16)^(M=1540483477*(65535&(M^=M>>>24))+((1540483477*(M>>>16)&65535)<<16)),L-=4,++V;switch(L){case 3:z^=(255&c.charCodeAt(V+2))<<16;case 2:z^=(255&c.charCodeAt(V+1))<<8;case 1:z=1540483477*(65535&(z^=255&c.charCodeAt(V)))+((1540483477*(z>>>16)&65535)<<16)}return z=1540483477*(65535&(z^=z>>>13))+((1540483477*(z>>>16)&65535)<<16),(z^=z>>>15)>>>0}}),En=nt,Xi=Et;En.murmur3=nt,En.murmur2=Xi;class Lr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(c,v,M,L){this.ids.push(to(c)),this.positions.push(v,M,L)}getPositions(c){const v=to(c);let M=0,L=this.ids.length-1;for(;M<L;){const V=M+L>>1;this.ids[V]>=v?L=V:M=V+1}const z=[];for(;this.ids[M]===v;)z.push({index:this.positions[3*M],start:this.positions[3*M+1],end:this.positions[3*M+2]}),M++;return z}static serialize(c,v){const M=new Float64Array(c.ids),L=new Uint32Array(c.positions);return el(M,L,0,M.length-1),v&&v.push(M.buffer,L.buffer),{ids:M,positions:L}}static deserialize(c){const v=new Lr;return v.ids=c.ids,v.positions=c.positions,v.indexed=!0,v}}function to(_){const c=+_;return!isNaN(c)&&c<=Mt?c:En(String(_))}function el(_,c,v,M){for(;v<M;){const L=_[v+M>>1];let z=v-1,V=M+1;for(;;){do{z++}while(_[z]<L);do{V--}while(_[V]>L);if(z>=V)break;Va(_,z,V),Va(c,3*z,3*V),Va(c,3*z+1,3*V+1),Va(c,3*z+2,3*V+2)}V-v<M-V?(el(_,c,v,V),v=V+1):(el(_,c,V+1,M),M=V)}}function Va(_,c,v){const M=_[c];_[c]=_[v],_[v]=M}Mi("FeaturePositionMap",Lr);class Rs{constructor(c,v){this.gl=c.gl,this.location=v}}class af extends Rs{constructor(c,v){super(c,v),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class wm extends Rs{constructor(c,v){super(c,v),this.current=[0,0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3]))}}class Cm extends Rs{constructor(c,v){super(c,v),this.current=zn.transparent}set(c){c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a))}}const Mm=new Float32Array(16),Vf=new Float32Array(9);function $h(_){return[ii(255*_.r,255*_.g),ii(255*_.b,255*_.a)]}class Oo{constructor(c,v,M){this.value=c,this.uniformNames=v.map(L=>`u_${L}`),this.type=M}setUniform(c,v,M){c.set(M.constantOr(this.value))}getBinding(c,v,M){return"color"===this.type?new Cm(c,v):new af(c,v)}}class Ic{constructor(c,v){this.uniformNames=v.map(M=>`u_${M}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(c,v){this.pixelRatioFrom=v.pixelRatio,this.pixelRatioTo=c.pixelRatio,this.patternFrom=v.tl.concat(v.br),this.patternTo=c.tl.concat(c.br)}setUniform(c,v,M,L){const z="u_pattern_to"===L||"u_dash_to"===L?this.patternTo:"u_pattern_from"===L||"u_dash_from"===L?this.patternFrom:"u_pixel_ratio_to"===L?this.pixelRatioTo:"u_pixel_ratio_from"===L?this.pixelRatioFrom:null;z&&c.set(z)}getBinding(c,v,M){return"u_pattern_from"===M||"u_pattern_to"===M||"u_dash_from"===M||"u_dash_to"===M?new wm(c,v):new af(c,v)}}class Lc{constructor(c,v,M,L){this.expression=c,this.type=M,this.maxValue=0,this.paintVertexAttributes=v.map(z=>({name:`a_${z}`,type:"Float32",components:"color"===M?2:1,offset:0})),this.paintVertexArray=new L}populatePaintArray(c,v,M,L,z){const V=this.paintVertexArray.length,K=this.expression.evaluate(new Qe(0),v,{},L,[],z);this.paintVertexArray.resize(c),this._setPaintValue(V,c,K)}updatePaintArray(c,v,M,L){const z=this.expression.evaluate({zoom:0},M,L);this._setPaintValue(c,v,z)}_setPaintValue(c,v,M){if("color"===this.type){const L=$h(M);for(let z=c;z<v;z++)this.paintVertexArray.emplace(z,L[0],L[1])}else{for(let L=c;L<v;L++)this.paintVertexArray.emplace(L,M);this.maxValue=Math.max(this.maxValue,Math.abs(M))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ou{constructor(c,v,M,L,z,V){this.expression=c,this.uniformNames=v.map(K=>`u_${K}_t`),this.type=M,this.useIntegerZoom=L,this.zoom=z,this.maxValue=0,this.paintVertexAttributes=v.map(K=>({name:`a_${K}`,type:"Float32",components:"color"===M?4:2,offset:0})),this.paintVertexArray=new V}populatePaintArray(c,v,M,L,z){const V=this.expression.evaluate(new Qe(this.zoom),v,{},L,[],z),K=this.expression.evaluate(new Qe(this.zoom+1),v,{},L,[],z),re=this.paintVertexArray.length;this.paintVertexArray.resize(c),this._setPaintValue(re,c,V,K)}updatePaintArray(c,v,M,L){const z=this.expression.evaluate({zoom:this.zoom},M,L),V=this.expression.evaluate({zoom:this.zoom+1},M,L);this._setPaintValue(c,v,z,V)}_setPaintValue(c,v,M,L){if("color"===this.type){const z=$h(M),V=$h(L);for(let K=c;K<v;K++)this.paintVertexArray.emplace(K,z[0],z[1],V[0],V[1])}else{for(let z=c;z<v;z++)this.paintVertexArray.emplace(z,M,L);this.maxValue=Math.max(this.maxValue,Math.abs(M),Math.abs(L))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(c,v){const M=this.useIntegerZoom?Math.floor(v.zoom):v.zoom,L=qt(this.expression.interpolationFactor(M,this.zoom,this.zoom+1),0,1);c.set(L)}getBinding(c,v,M){return new af(c,v)}}class Br{constructor(c,v,M,L,z,V,K){this.expression=c,this.type=M,this.useIntegerZoom=L,this.zoom=z,this.layerId=K,this.paintVertexAttributes=("array"===M?Ne:ye).members;for(let re=0;re<v.length;++re);this.zoomInPaintVertexArray=new V,this.zoomOutPaintVertexArray=new V}populatePaintArray(c,v,M){const L=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(c),this.zoomOutPaintVertexArray.resize(c),this._setPaintValues(L,c,v.patterns&&v.patterns[this.layerId],M)}updatePaintArray(c,v,M,L,z){this._setPaintValues(c,v,M.patterns&&M.patterns[this.layerId],z)}_setPaintValues(c,v,M,L){if(!L||!M)return;const{min:z,mid:V,max:K}=M,re=L[z],me=L[V],xe=L[K];if(re&&me&&xe)for(let Se=c;Se<v;Se++)this._setPaintValue(this.zoomInPaintVertexArray,Se,me,re),this._setPaintValue(this.zoomOutPaintVertexArray,Se,me,xe)}_setPaintValue(c,v,M,L){c.emplace(v,M.tl[0],M.tl[1],M.br[0],M.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],M.pixelRatio,L.pixelRatio)}upload(c){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=c.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=c.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class yt{constructor(c,v,M=(()=>!0)){this.binders={},this._buffers=[];const L=[];for(const z in c.paint._values){if(!M(z))continue;const V=c.paint.get(z);if(!(V instanceof Tt&&pa(V.property.specification)))continue;const K=sd(z,c.type),re=V.value,me=V.property.specification.type,xe=V.property.useIntegerZoom,Se=V.property.specification["property-type"],Oe="cross-faded"===Se||"cross-faded-data-driven"===Se,Ve="line-dasharray"===String(z)&&"constant"!==c.layout.get("line-cap").value.kind;if("constant"!==re.kind||Ve)if("source"===re.kind||Ve||Oe){const et=Ru(z,me,"source");this.binders[z]=Oe?new Br(re,K,me,xe,v,et,c.id):new Lc(re,K,me,et),L.push(`/a_${z}`)}else{const et=Ru(z,me,"composite");this.binders[z]=new Ou(re,K,me,xe,v,et),L.push(`/z_${z}`)}else this.binders[z]=Oe?new Ic(re.value,K):new Oo(re.value,K,me),L.push(`/u_${z}`)}this.cacheKey=L.sort().join("")}getMaxValue(c){const v=this.binders[c];return v instanceof Lc||v instanceof Ou?v.maxValue:0}populatePaintArrays(c,v,M,L,z){for(const V in this.binders){const K=this.binders[V];(K instanceof Lc||K instanceof Ou||K instanceof Br)&&K.populatePaintArray(c,v,M,L,z)}}setConstantPatternPositions(c,v){for(const M in this.binders){const L=this.binders[M];L instanceof Ic&&L.setConstantPatternPositions(c,v)}}updatePaintArrays(c,v,M,L,z){let V=!1;for(const K in c){const re=v.getPositions(K);for(const me of re){const xe=M.feature(me.index);for(const Se in this.binders){const Oe=this.binders[Se];if((Oe instanceof Lc||Oe instanceof Ou||Oe instanceof Br)&&!0===Oe.expression.isStateDependent){const Ve=L.paint.get(Se);Oe.expression=Ve.value,Oe.updatePaintArray(me.start,me.end,xe,c[K],z),V=!0}}}}return V}defines(){const c=[];for(const v in this.binders){const M=this.binders[v];(M instanceof Oo||M instanceof Ic)&&c.push(...M.uniformNames.map(L=>`#define HAS_UNIFORM_${L}`))}return c}getBinderAttributes(){const c=[];for(const v in this.binders){const M=this.binders[v];if(M instanceof Lc||M instanceof Ou||M instanceof Br)for(let L=0;L<M.paintVertexAttributes.length;L++)c.push(M.paintVertexAttributes[L].name)}return c}getBinderUniforms(){const c=[];for(const v in this.binders){const M=this.binders[v];if(M instanceof Oo||M instanceof Ic||M instanceof Ou)for(const L of M.uniformNames)c.push(L)}return c}getPaintVertexBuffers(){return this._buffers}getUniforms(c,v){const M=[];for(const L in this.binders){const z=this.binders[L];if(z instanceof Oo||z instanceof Ic||z instanceof Ou)for(const V of z.uniformNames)if(v[V]){const K=z.getBinding(c,v[V],V);M.push({name:V,property:L,binding:K})}}return M}setUniforms(c,v,M,L){for(const{name:z,property:V,binding:K}of v)this.binders[V].setUniform(K,L,M.get(V),z)}updatePaintBuffers(c){this._buffers=[];for(const v in this.binders){const M=this.binders[v];if(c&&M instanceof Br){const L=2===c.fromScale?M.zoomInPaintVertexBuffer:M.zoomOutPaintVertexBuffer;L&&this._buffers.push(L)}else(M instanceof Lc||M instanceof Ou)&&M.paintVertexBuffer&&this._buffers.push(M.paintVertexBuffer)}}upload(c){for(const v in this.binders){const M=this.binders[v];(M instanceof Lc||M instanceof Ou||M instanceof Br)&&M.upload(c)}this.updatePaintBuffers()}destroy(){for(const c in this.binders){const v=this.binders[c];(v instanceof Lc||v instanceof Ou||v instanceof Br)&&v.destroy()}}}class Ds{constructor(c,v,M=(()=>!0)){this.programConfigurations={};for(const L of c)this.programConfigurations[L.id]=new yt(L,v,M);this.needsUpload=!1,this._featureMap=new Lr,this._bufferOffset=0}populatePaintArrays(c,v,M,L,z,V){for(const K in this.programConfigurations)this.programConfigurations[K].populatePaintArrays(c,v,L,z,V);void 0!==v.id&&this._featureMap.add(v.id,M,this._bufferOffset,c),this._bufferOffset=c,this.needsUpload=!0}updatePaintArrays(c,v,M,L){for(const z of M)this.needsUpload=this.programConfigurations[z.id].updatePaintArrays(c,this._featureMap,v,z,L)||this.needsUpload}get(c){return this.programConfigurations[c]}upload(c){if(this.needsUpload){for(const v in this.programConfigurations)this.programConfigurations[v].upload(c);this.needsUpload=!1}}destroy(){for(const c in this.programConfigurations)this.programConfigurations[c].destroy()}}const hu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function sd(_,c){return hu[_]||[_.replace(`${c}-`,"").replace(/-/g,"_")]}const zp={"line-pattern":{source:Mr,composite:Mr},"fill-pattern":{source:Mr,composite:Mr},"fill-extrusion-pattern":{source:Mr,composite:Mr},"line-dasharray":{source:Es,composite:Es}},n_={color:{source:bs,composite:jo},number:{source:xo,composite:bs}};function Ru(_,c,v){const M=zp[_];return M&&M[v]||n_[c][v]}Mi("ConstantBinder",Oo),Mi("CrossFadedConstantBinder",Ic),Mi("SourceExpressionBinder",Lc),Mi("CrossFadedCompositeBinder",Br),Mi("CompositeExpressionBinder",Ou),Mi("ProgramConfiguration",yt,{omit:["_buffers"]}),Mi("ProgramConfigurationSet",Ds);const ji="-transition";class rc extends f{constructor(c,v){if(super(),this.id=c.id,this.type=c.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==c.type&&(this.metadata=(c=c).metadata,this.minzoom=c.minzoom,this.maxzoom=c.maxzoom,"background"!==c.type&&"sky"!==c.type&&(this.source=c.source,this.sourceLayer=c["source-layer"],this.filter=c.filter),v.layout&&(this._unevaluatedLayout=new wt(v.layout)),v.paint)){this._transitionablePaint=new xt(v.paint);for(const M in c.paint)this.setPaintProperty(M,c.paint[M],{validate:!1});for(const M in c.layout)this.setLayoutProperty(M,c.layout[M],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ut(v.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(c){return"visibility"===c?this.visibility:this._unevaluatedLayout.getValue(c)}setLayoutProperty(c,v,M={}){null!=v&&this._validate(Yf,`layers.${this.id}.layout.${c}`,c,v,M)||("visibility"!==c?this._unevaluatedLayout.setValue(c,v):this.visibility=v)}getPaintProperty(c){return fn(c,ji)?this._transitionablePaint.getTransition(c.slice(0,-ji.length)):this._transitionablePaint.getValue(c)}setPaintProperty(c,v,M={}){if(null!=v&&this._validate(Ld,`layers.${this.id}.paint.${c}`,c,v,M))return!1;if(fn(c,ji))return this._transitionablePaint.setTransition(c.slice(0,-ji.length),v||void 0),!1;{const L=this._transitionablePaint._values[c],z="cross-faded-data-driven"===L.property.specification["property-type"],V=L.value.isDataDriven(),K=L.value;this._transitionablePaint.setValue(c,v),this._handleSpecialPaintPropertyUpdate(c);const re=this._transitionablePaint._values[c].value;return re.isDataDriven()||V||z||this._handleOverridablePaintPropertyUpdate(c,K,re)}}_handleSpecialPaintPropertyUpdate(c){}getProgramIds(){return null}getProgramConfiguration(c){return null}_handleOverridablePaintPropertyUpdate(c,v,M){return!1}isHidden(c){return!!(this.minzoom&&c<this.minzoom)||!!(this.maxzoom&&c>=this.maxzoom)||"none"===this.visibility}updateTransitions(c){this._transitioningPaint=this._transitionablePaint.transitioned(c,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(c,v){c.getCrossfadeParameters&&(this._crossfadeParameters=c.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(c,void 0,v)),this.paint=this._transitioningPaint.possiblyEvaluate(c,void 0,v)}serialize(){const c={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(c.layout=c.layout||{},c.layout.visibility=this.visibility),bn(c,(v,M)=>!(void 0===v||"layout"===M&&!Object.keys(v).length||"paint"===M&&!Object.keys(v).length))}_validate(c,v,M,L,z={}){return(!z||!1!==z.validate)&&Wh(this,c.call($c,{key:v,layerType:this.type,objectKey:M,value:L,styleSpec:b,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const c in this.paint._values){const v=this.paint.get(c);if(v instanceof Tt&&pa(v.property.specification)&&("source"===v.value.kind||"composite"===v.value.kind)&&v.value.isStateDependent)return!0}return!1}}const Yr=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Tm}=Yr;class tl{constructor(c=[]){this.segments=c}prepareSegment(c,v,M,L){let z=this.segments[this.segments.length-1];return c>tl.MAX_VERTEX_ARRAY_LENGTH&&Ui(`Max vertices per segment is ${tl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${c}`),(!z||z.vertexLength+c>tl.MAX_VERTEX_ARRAY_LENGTH||z.sortKey!==L)&&(z={vertexOffset:v.length,primitiveOffset:M.length,vertexLength:0,primitiveLength:0},void 0!==L&&(z.sortKey=L),this.segments.push(z)),z}get(){return this.segments}destroy(){for(const c of this.segments)for(const v in c.vaos)c.vaos[v].destroy()}static simpleSegment(c,v,M,L){return new tl([{vertexOffset:c,primitiveOffset:v,vertexLength:M,primitiveLength:L,vaos:{},sortKey:0}])}}tl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Mi("SegmentVector",tl);var Tr=8192;const Rd=Math.pow(2,14)-1,Uf=-Rd-1;function Bp(_){const c=Tr/_.extent,v=_.loadGeometry();for(let M=0;M<v.length;M++){const L=v[M];for(let z=0;z<L.length;z++){const V=L[z],K=Math.round(V.x*c),re=Math.round(V.y*c);V.x=qt(K,Uf,Rd),V.y=qt(re,Uf,Rd),(K<V.x||K>V.x+1||re<V.y||re>V.y+1)&&Ui("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return v}function Qh(_,c){return{type:_.type,id:_.id,properties:_.properties,geometry:c?Bp(_):[]}}function xh(_,c,v,M,L){_.emplaceBack(2*c+(M+1)/2,2*v+(L+1)/2)}class lo{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(v=>v.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new Ri,this.indexArray=new Gs,this.segments=new tl,this.programConfigurations=new Ds(c.layers,c.zoom),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id)}populate(c,v,M){const L=this.layers[0],z=[];let V=null;"circle"===L.type&&(V=L.layout.get("circle-sort-key"));for(const{feature:K,id:re,index:me,sourceLayerIndex:xe}of c){const Se=this.layers[0]._featureFilter.needGeometry,Oe=Qh(K,Se);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),Oe,M))continue;const Ve=V?V.evaluate(Oe,{},M):void 0,et={id:re,properties:K.properties,type:K.type,sourceLayerIndex:xe,index:me,geometry:Se?Oe.geometry:Bp(K),patterns:{},sortKey:Ve};z.push(et)}V&&z.sort((K,re)=>K.sortKey-re.sortKey);for(const K of z){const{geometry:re,index:me,sourceLayerIndex:xe}=K,Se=c[me].feature;this.addFeature(K,re,me,M),v.featureIndex.insert(Se,re,me,xe,this.index)}}update(c,v,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,v,this.stateDependentLayers,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Tm),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,v,M,L){for(const z of v)for(const V of z){const K=V.x,re=V.y;if(K<0||K>=Tr||re<0||re>=Tr)continue;const me=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,c.sortKey),xe=me.vertexLength;xh(this.layoutVertexArray,K,re,-1,-1),xh(this.layoutVertexArray,K,re,1,-1),xh(this.layoutVertexArray,K,re,1,1),xh(this.layoutVertexArray,K,re,-1,1),this.indexArray.emplaceBack(xe,xe+1,xe+2),this.indexArray.emplaceBack(xe,xe+3,xe+2),me.vertexLength+=4,me.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,{},L)}}function lf(_,c){for(let v=0;v<_.length;v++)if(Fu(c,_[v]))return!0;for(let v=0;v<c.length;v++)if(Fu(_,c[v]))return!0;return!!Xh(_,c)}function wo(_,c,v){return!!Fu(_,c)||!!Sm(c,_,v)}function Vl(_,c){if(1===_.length)return km(c,_[0]);for(let v=0;v<c.length;v++){const M=c[v];for(let L=0;L<M.length;L++)if(Fu(_,M[L]))return!0}for(let v=0;v<_.length;v++)if(km(c,_[v]))return!0;for(let v=0;v<c.length;v++)if(Xh(_,c[v]))return!0;return!1}function Jh(_,c,v){if(_.length>1){if(Xh(_,c))return!0;for(let M=0;M<c.length;M++)if(Sm(c[M],_,v))return!0}for(let M=0;M<_.length;M++)if(Sm(_[M],c,v))return!0;return!1}function Xh(_,c){if(0===_.length||0===c.length)return!1;for(let v=0;v<_.length-1;v++){const M=_[v],L=_[v+1];for(let z=0;z<c.length-1;z++)if(wh(M,L,c[z],c[z+1]))return!0}return!1}function wh(_,c,v,M){return fi(_,v,M)!==fi(c,v,M)&&fi(_,c,v)!==fi(_,c,M)}function Sm(_,c,v){const M=v*v;if(1===c.length)return _.distSqr(c[0])<M;for(let L=1;L<c.length;L++)if(i_(_,c[L-1],c[L])<M)return!0;return!1}function i_(_,c,v){const M=c.distSqr(v);if(0===M)return _.distSqr(c);const L=((_.x-c.x)*(v.x-c.x)+(_.y-c.y)*(v.y-c.y))/M;return _.distSqr(L<0?c:L>1?v:v.sub(c)._mult(L)._add(c))}function km(_,c){let v,M,L,z=!1;for(let V=0;V<_.length;V++){v=_[V];for(let K=0,re=v.length-1;K<v.length;re=K++)M=v[K],L=v[re],M.y>c.y!=L.y>c.y&&c.x<(L.x-M.x)*(c.y-M.y)/(L.y-M.y)+M.x&&(z=!z)}return z}function Fu(_,c){let v=!1;for(let M=0,L=_.length-1;M<_.length;L=M++){const z=_[M],V=_[L];z.y>c.y!=V.y>c.y&&c.x<(V.x-z.x)*(c.y-z.y)/(V.y-z.y)+z.x&&(v=!v)}return v}function Kh(_,c,v,M,L){for(const V of _)if(c<=V.x&&v<=V.y&&M>=V.x&&L>=V.y)return!0;const z=[new Te(c,v),new Te(c,L),new Te(M,L),new Te(M,v)];if(_.length>2)for(const V of z)if(Fu(_,V))return!0;for(let V=0;V<_.length-1;V++)if(jf(_[V],_[V+1],z))return!0;return!1}function jf(_,c,v){const M=v[0],L=v[2];if(_.x<M.x&&c.x<M.x||_.x>L.x&&c.x>L.x||_.y<M.y&&c.y<M.y||_.y>L.y&&c.y>L.y)return!1;const z=fi(_,c,v[0]);return z!==fi(_,c,v[1])||z!==fi(_,c,v[2])||z!==fi(_,c,v[3])}function xl(_,c,v){const M=c.paint.get(_).value;return"constant"===M.kind?M.value:v.programConfigurations.get(c.id).getMaxValue(_)}function Zf(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function wl(_,c,v,M,L){if(!c[0]&&!c[1])return _;const z=Te.convert(c)._mult(L);"viewport"===v&&z._rotate(-M);const V=[];for(let K=0;K<_.length;K++)V.push(_[K].sub(z));return V}function sg(_,c,v,M){const L=Te.convert(_)._mult(M);return"viewport"===c&&L._rotate(-v),L}Mi("CircleBucket",lo,{omit:["layers"]});const og=new Lt({"circle-sort-key":new At(b.layout_circle["circle-sort-key"])});var sc={paint:new Lt({"circle-radius":new At(b.paint_circle["circle-radius"]),"circle-color":new At(b.paint_circle["circle-color"]),"circle-blur":new At(b.paint_circle["circle-blur"]),"circle-opacity":new At(b.paint_circle["circle-opacity"]),"circle-translate":new St(b.paint_circle["circle-translate"]),"circle-translate-anchor":new St(b.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new St(b.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new St(b.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new At(b.paint_circle["circle-stroke-width"]),"circle-stroke-color":new At(b.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new At(b.paint_circle["circle-stroke-opacity"])}),layout:og},oa="undefined"!=typeof Float32Array?Float32Array:Array;function ag(){var _=new oa(9);return oa!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function Ul(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function Fd(_,c,v){var M=c[0],L=c[1],z=c[2],V=c[3],K=c[4],re=c[5],me=c[6],xe=c[7],Se=c[8],Oe=c[9],Ve=c[10],et=c[11],_t=c[12],It=c[13],Ht=c[14],tn=c[15],on=v[0],pn=v[1],xn=v[2],yn=v[3];return _[0]=on*M+pn*K+xn*Se+yn*_t,_[1]=on*L+pn*re+xn*Oe+yn*It,_[2]=on*z+pn*me+xn*Ve+yn*Ht,_[3]=on*V+pn*xe+xn*et+yn*tn,_[4]=(on=v[4])*M+(pn=v[5])*K+(xn=v[6])*Se+(yn=v[7])*_t,_[5]=on*L+pn*re+xn*Oe+yn*It,_[6]=on*z+pn*me+xn*Ve+yn*Ht,_[7]=on*V+pn*xe+xn*et+yn*tn,_[8]=(on=v[8])*M+(pn=v[9])*K+(xn=v[10])*Se+(yn=v[11])*_t,_[9]=on*L+pn*re+xn*Oe+yn*It,_[10]=on*z+pn*me+xn*Ve+yn*Ht,_[11]=on*V+pn*xe+xn*et+yn*tn,_[12]=(on=v[12])*M+(pn=v[13])*K+(xn=v[14])*Se+(yn=v[15])*_t,_[13]=on*L+pn*re+xn*Oe+yn*It,_[14]=on*z+pn*me+xn*Ve+yn*Ht,_[15]=on*V+pn*xe+xn*et+yn*tn,_}Math.hypot||(Math.hypot=function(){for(var _=0,c=arguments.length;c--;)_+=arguments[c]*arguments[c];return Math.sqrt(_)});var Jc=Fd;function Yp(){var _=new oa(3);return oa!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function Fs(_){return Math.hypot(_[0],_[1],_[2])}function Nd(_,c,v){var M=new oa(3);return M[0]=_,M[1]=c,M[2]=v,M}function Wf(_,c,v){return _[0]=c[0]-v[0],_[1]=c[1]-v[1],_[2]=c[2]-v[2],_}function zd(_,c,v){return _[0]=c[0]*v[0],_[1]=c[1]*v[1],_[2]=c[2]*v[2],_}function Nu(_,c,v,M){return _[0]=c[0]+v[0]*M,_[1]=c[1]+v[1]*M,_[2]=c[2]+v[2]*M,_}function r_(_,c){var v=c[0],M=c[1],L=c[2],z=v*v+M*M+L*L;return z>0&&(z=1/Math.sqrt(z)),_[0]=c[0]*z,_[1]=c[1]*z,_[2]=c[2]*z,_}function Gf(_,c,v){var M=v[0],L=v[1],z=v[2],V=c[0],K=c[1],re=c[2],me=L*re-z*K,xe=z*V-M*re,Se=M*K-L*V,Oe=L*Se-z*xe,Ve=z*me-M*Se,et=M*xe-L*me,_t=2*v[3];return xe*=_t,Se*=_t,Ve*=2,et*=2,_[0]=V+(me*=_t)+(Oe*=2),_[1]=K+xe+Ve,_[2]=re+Se+et,_}var Ch,qf=Wf,lg=zd,s_=Fs;function $f(_,c,v){var M=c[0],L=c[1],z=c[2],V=c[3];return _[0]=v[0]*M+v[4]*L+v[8]*z+v[12]*V,_[1]=v[1]*M+v[5]*L+v[9]*z+v[13]*V,_[2]=v[2]*M+v[6]*L+v[10]*z+v[14]*V,_[3]=v[3]*M+v[7]*L+v[11]*z+v[15]*V,_}function zu(){var _=new oa(4);return oa!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_[3]=1,_}function jl(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_}function ep(_,c,v){v*=.5;var M=c[0],L=c[1],z=c[2],V=c[3],K=Math.sin(v),re=Math.cos(v);return _[0]=M*re+V*K,_[1]=L*re+z*K,_[2]=z*re-L*K,_[3]=V*re-M*K,_}function cf(_,c,v){const M=$f([],[_.x,_.y,c,1],v);return new Te(M[0]/M[3],M[1]/M[3])}Yp(),Ch=new oa(4),oa!=Float32Array&&(Ch[0]=0,Ch[1]=0,Ch[2]=0,Ch[3]=0),Yp(),Nd(1,0,0),Nd(0,1,0),zu(),zu(),ag();const hl=Nd(0,0,0),Oa=Nd(0,0,1);function Qf(_,c){const v=Yp();return hl[2]=c,_.intersectsPlane(hl,Oa,v),new Te(v[0],v[1])}class Mh extends lo{}function od(_,{width:c,height:v},M,L){if(L){if(L instanceof Uint8ClampedArray)L=new Uint8Array(L.buffer);else if(L.length!==c*v*M)throw new RangeError("mismatched image size")}else L=new Uint8Array(c*v*M);return _.width=c,_.height=v,_.data=L,_}function Bu(_,{width:c,height:v},M){if(c===_.width&&v===_.height)return;const L=od({},{width:c,height:v},M);tp(_,L,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,c),height:Math.min(_.height,v)},M),_.width=c,_.height=v,_.data=L.data}function tp(_,c,v,M,L,z){if(0===L.width||0===L.height)return c;if(L.width>_.width||L.height>_.height||v.x>_.width-L.width||v.y>_.height-L.height)throw new RangeError("out of range source coordinates for image copy");if(L.width>c.width||L.height>c.height||M.x>c.width-L.width||M.y>c.height-L.height)throw new RangeError("out of range destination coordinates for image copy");const V=_.data,K=c.data;for(let re=0;re<L.height;re++){const me=((v.y+re)*_.width+v.x)*z,xe=((M.y+re)*c.width+M.x)*z;for(let Se=0;Se<L.width*z;Se++)K[xe+Se]=V[me+Se]}return c}Mi("HeatmapBucket",Mh,{omit:["layers"]});class Bd{constructor(c,v){od(this,c,1,v)}resize(c){Bu(this,c,1)}clone(){return new Bd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,v,M,L,z){tp(c,v,M,L,z,1)}}class oc{constructor(c,v){od(this,c,4,v)}resize(c){Bu(this,c,4)}replace(c,v){v?this.data.set(c):this.data=c instanceof Uint8ClampedArray?new Uint8Array(c.buffer):c}clone(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,v,M,L,z){tp(c,v,M,L,z,4)}}Mi("AlphaImage",Bd),Mi("RGBAImage",oc);var o_={paint:new Lt({"heatmap-radius":new At(b.paint_heatmap["heatmap-radius"]),"heatmap-weight":new At(b.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new St(b.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Fn(b.paint_heatmap["heatmap-color"]),"heatmap-opacity":new St(b.paint_heatmap["heatmap-opacity"])})};function uf(_){const c={},v=_.resolution||256,M=_.clips?_.clips.length:1,L=_.image||new oc({width:v,height:M}),z=(V,K,re)=>{c[_.evaluationKey]=re;const me=_.expression.evaluate(c);L.data[V+K+0]=Math.floor(255*me.r/me.a),L.data[V+K+1]=Math.floor(255*me.g/me.a),L.data[V+K+2]=Math.floor(255*me.b/me.a),L.data[V+K+3]=Math.floor(255*me.a)};if(_.clips)for(let V=0,K=0;V<M;++V,K+=4*v)for(let re=0,me=0;re<v;re++,me+=4){const xe=re/(v-1),{start:Se,end:Oe}=_.clips[V];z(K,me,Se*(1-xe)+Oe*xe)}else for(let V=0,K=0;V<v;V++,K+=4)z(0,K,V/(v-1));return L}var Yd={paint:new Lt({"hillshade-illumination-direction":new St(b.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new St(b.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new St(b.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new St(b.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new St(b.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new St(b.paint_hillshade["hillshade-accent-color"])})};const cg=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:ug}=cg;var Jf=Hd,df=Hd;function Hd(_,c,v){v=v||2;var M,L,z,V,K,re,me,xe=c&&c.length,Se=xe?c[0]*v:_.length,Oe=vr(_,0,Se,v,!0),Ve=[];if(!Oe||Oe.next===Oe.prev)return Ve;if(xe&&(Oe=function(_t,It,Ht,tn){var on,pn,xn,yn=[];for(on=0,pn=It.length;on<pn;on++)(xn=vr(_t,It[on]*tn,on<pn-1?It[on+1]*tn:_t.length,tn,!1))===xn.next&&(xn.steiner=!0),yn.push(Ud(xn));for(yn.sort(co),on=0;on<yn.length;on++)dg(yn[on],Ht),Ht=Vd(Ht,Ht.next);return Ht}(_,c,Oe,v)),_.length>80*v){M=z=_[0],L=V=_[1];for(var et=v;et<Se;et+=v)(K=_[et])<M&&(M=K),(re=_[et+1])<L&&(L=re),K>z&&(z=K),re>V&&(V=re);me=0!==(me=Math.max(z-M,V-L))?1/me:0}return Hp(Oe,Ve,v,M,L,me),Ve}function vr(_,c,v,M,L){var z,V;if(L===mu(_,c,v,M)>0)for(z=c;z<v;z+=M)V=Dm(z,_[z],_[z+1],V);else for(z=v-M;z>=c;z-=M)V=Dm(z,_[z],_[z+1],V);return V&&Xf(V,V.next)&&(Vp(V),V=V.next),V}function Vd(_,c){if(!_)return _;c||(c=_);var v,M=_;do{if(v=!1,M.steiner||!Xf(M,M.next)&&0!==aa(M.prev,M,M.next))M=M.next;else{if(Vp(M),(M=c=M.prev)===M.next)break;v=!0}}while(v||M!==c);return c}function Hp(_,c,v,M,L,z,V){if(_){!V&&z&&function(xe,Se,Oe,Ve){var et=xe;do{null===et.z&&(et.z=hg(et.x,et.y,Se,Oe,Ve)),et.prevZ=et.prev,et.nextZ=et.next,et=et.next}while(et!==xe);et.prevZ.nextZ=null,et.prevZ=null,function(_t){var It,Ht,tn,on,pn,xn,yn,Wn,Kn=1;do{for(Ht=_t,_t=null,pn=null,xn=0;Ht;){for(xn++,tn=Ht,yn=0,It=0;It<Kn&&(yn++,tn=tn.nextZ);It++);for(Wn=Kn;yn>0||Wn>0&&tn;)0!==yn&&(0===Wn||!tn||Ht.z<=tn.z)?(on=Ht,Ht=Ht.nextZ,yn--):(on=tn,tn=tn.nextZ,Wn--),pn?pn.nextZ=on:_t=on,on.prevZ=pn,pn=on;Ht=tn}pn.nextZ=null,Kn*=2}while(xn>1)}(et)}(_,M,L,z);for(var K,re,me=_;_.prev!==_.next;)if(K=_.prev,re=_.next,z?a_(_,M,L,z):ad(_))c.push(K.i/v),c.push(_.i/v),c.push(re.i/v),Vp(_),_=re.next,me=re.next;else if((_=re)===me){V?1===V?Hp(_=Em(Vd(_),c,v),c,v,M,L,z,2):2===V&&ga(_,c,v,M,L,z):Hp(Vd(_),c,v,M,L,z,1);break}}}function ad(_){var c=_.prev,v=_,M=_.next;if(aa(c,v,M)>=0)return!1;for(var L=_.next.next;L!==_.prev;){if(jd(c.x,c.y,v.x,v.y,M.x,M.y,L.x,L.y)&&aa(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function a_(_,c,v,M){var L=_.prev,z=_,V=_.next;if(aa(L,z,V)>=0)return!1;for(var K=L.x>z.x?L.x>V.x?L.x:V.x:z.x>V.x?z.x:V.x,re=L.y>z.y?L.y>V.y?L.y:V.y:z.y>V.y?z.y:V.y,me=hg(L.x<z.x?L.x<V.x?L.x:V.x:z.x<V.x?z.x:V.x,L.y<z.y?L.y<V.y?L.y:V.y:z.y<V.y?z.y:V.y,c,v,M),xe=hg(K,re,c,v,M),Se=_.prevZ,Oe=_.nextZ;Se&&Se.z>=me&&Oe&&Oe.z<=xe;){if(Se!==_.prev&&Se!==_.next&&jd(L.x,L.y,z.x,z.y,V.x,V.y,Se.x,Se.y)&&aa(Se.prev,Se,Se.next)>=0||(Se=Se.prevZ,Oe!==_.prev&&Oe!==_.next&&jd(L.x,L.y,z.x,z.y,V.x,V.y,Oe.x,Oe.y)&&aa(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Se&&Se.z>=me;){if(Se!==_.prev&&Se!==_.next&&jd(L.x,L.y,z.x,z.y,V.x,V.y,Se.x,Se.y)&&aa(Se.prev,Se,Se.next)>=0)return!1;Se=Se.prevZ}for(;Oe&&Oe.z<=xe;){if(Oe!==_.prev&&Oe!==_.next&&jd(L.x,L.y,z.x,z.y,V.x,V.y,Oe.x,Oe.y)&&aa(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function Em(_,c,v){var M=_;do{var L=M.prev,z=M.next.next;!Xf(L,z)&&Yu(L,M,M.next,z)&&pf(L,z)&&pf(z,L)&&(c.push(L.i/v),c.push(M.i/v),c.push(z.i/v),Vp(M),Vp(M.next),M=_=z),M=M.next}while(M!==_);return Vd(M)}function ga(_,c,v,M,L,z){var V=_;do{for(var K=V.next.next;K!==V.prev;){if(V.i!==K.i&&pu(V,K)){var re=pg(V,K);return V=Vd(V,V.next),re=Vd(re,re.next),Hp(V,c,v,M,L,z),void Hp(re,c,v,M,L,z)}K=K.next}V=V.next}while(V!==_)}function co(_,c){return _.x-c.x}function dg(_,c){if(c=function(M,L){var z,V=L,K=M.x,re=M.y,me=-1/0;do{if(re<=V.y&&re>=V.next.y&&V.next.y!==V.y){var xe=V.x+(re-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(xe<=K&&xe>me){if(me=xe,xe===K){if(re===V.y)return V;if(re===V.next.y)return V.next}z=V.x<V.next.x?V:V.next}}V=V.next}while(V!==L);if(!z)return null;if(K===me)return z;var Se,Oe=z,Ve=z.x,et=z.y,_t=1/0;V=z;do{K>=V.x&&V.x>=Ve&&K!==V.x&&jd(re<et?K:me,re,Ve,et,re<et?me:K,re,V.x,V.y)&&(Se=Math.abs(re-V.y)/(K-V.x),pf(V,M)&&(Se<_t||Se===_t&&(V.x>z.x||V.x===z.x&&l_(z,V)))&&(z=V,_t=Se)),V=V.next}while(V!==Oe);return z}(_,c)){var v=pg(c,_);Vd(c,c.next),Vd(v,v.next)}}function l_(_,c){return aa(_.prev,_,c.prev)<0&&aa(c.next,_,_.next)<0}function hg(_,c,v,M,L){return(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-v)*L)|_<<8))|_<<4))|_<<2))|_<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-M)*L)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function Ud(_){var c=_,v=_;do{(c.x<v.x||c.x===v.x&&c.y<v.y)&&(v=c),c=c.next}while(c!==_);return v}function jd(_,c,v,M,L,z,V,K){return(L-V)*(c-K)-(_-V)*(z-K)>=0&&(_-V)*(M-K)-(v-V)*(c-K)>=0&&(v-V)*(z-K)-(L-V)*(M-K)>=0}function pu(_,c){return _.next.i!==c.i&&_.prev.i!==c.i&&!function(v,M){var L=v;do{if(L.i!==v.i&&L.next.i!==v.i&&L.i!==M.i&&L.next.i!==M.i&&Yu(L,L.next,v,M))return!0;L=L.next}while(L!==v);return!1}(_,c)&&(pf(_,c)&&pf(c,_)&&function(v,M){var L=v,z=!1,V=(v.x+M.x)/2,K=(v.y+M.y)/2;do{L.y>K!=L.next.y>K&&L.next.y!==L.y&&V<(L.next.x-L.x)*(K-L.y)/(L.next.y-L.y)+L.x&&(z=!z),L=L.next}while(L!==v);return z}(_,c)&&(aa(_.prev,_,c.prev)||aa(_,c.prev,c))||Xf(_,c)&&aa(_.prev,_,_.next)>0&&aa(c.prev,c,c.next)>0)}function aa(_,c,v){return(c.y-_.y)*(v.x-c.x)-(c.x-_.x)*(v.y-c.y)}function Xf(_,c){return _.x===c.x&&_.y===c.y}function Yu(_,c,v,M){var L=hf(aa(_,c,v)),z=hf(aa(_,c,M)),V=hf(aa(v,M,_)),K=hf(aa(v,M,c));return L!==z&&V!==K||!(0!==L||!Cl(_,v,c))||!(0!==z||!Cl(_,M,c))||!(0!==V||!Cl(v,_,M))||!(0!==K||!Cl(v,c,M))}function Cl(_,c,v){return c.x<=Math.max(_.x,v.x)&&c.x>=Math.min(_.x,v.x)&&c.y<=Math.max(_.y,v.y)&&c.y>=Math.min(_.y,v.y)}function hf(_){return _>0?1:_<0?-1:0}function pf(_,c){return aa(_.prev,_,_.next)<0?aa(_,c,_.next)>=0&&aa(_,_.prev,c)>=0:aa(_,c,_.prev)<0||aa(_,_.next,c)<0}function pg(_,c){var v=new fu(_.i,_.x,_.y),M=new fu(c.i,c.x,c.y),L=_.next,z=c.prev;return _.next=c,c.prev=_,v.next=L,L.prev=v,M.next=v,v.prev=M,z.next=M,M.prev=z,M}function Dm(_,c,v,M){var L=new fu(_,c,v);return M?(L.next=M.next,L.prev=M,M.next.prev=L,M.next=L):(L.prev=L,L.next=L),L}function Vp(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function fu(_,c,v){this.i=_,this.x=c,this.y=v,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mu(_,c,v,M){for(var L=0,z=c,V=v-M;z<v;z+=M)L+=(_[V]-_[z])*(_[z+1]+_[V+1]),V=z;return L}function ev(_,c,v,M,L){Am(_,c,v||0,M||_.length-1,L||tv)}function Am(_,c,v,M,L){for(;M>v;){if(M-v>600){var z=M-v+1,V=c-v+1,K=Math.log(z),re=.5*Math.exp(2*K/3),me=.5*Math.sqrt(K*re*(z-re)/z)*(V-z/2<0?-1:1);Am(_,c,Math.max(v,Math.floor(c-V*re/z+me)),Math.min(M,Math.floor(c+(z-V)*re/z+me)),L)}var xe=_[c],Se=v,Oe=M;for(ff(_,v,c),L(_[M],xe)>0&&ff(_,v,M);Se<Oe;){for(ff(_,Se,Oe),Se++,Oe--;L(_[Se],xe)<0;)Se++;for(;L(_[Oe],xe)>0;)Oe--}0===L(_[v],xe)?ff(_,v,Oe):ff(_,++Oe,M),Oe<=c&&(v=Oe+1),c<=Oe&&(M=Oe-1)}}function ff(_,c,v){var M=_[c];_[c]=_[v],_[v]=M}function tv(_,c){return _<c?-1:_>c?1:0}function Hu(_,c){const v=_.length;if(v<=1)return[_];const M=[];let L,z;for(let V=0;V<v;V++){const K=Ei(_[V]);0!==K&&(_[V].area=Math.abs(K),void 0===z&&(z=K<0),z===K<0?(L&&M.push(L),L=[_[V]]):L.push(_[V]))}if(L&&M.push(L),c>1)for(let V=0;V<M.length;V++)M[V].length<=c||(ev(M[V],c,1,M[V].length-1,mf),M[V]=M[V].slice(0,c));return M}function mf(_,c){return c.area-_.area}function Th(_,c,v){const M=v.patternDependencies;let L=!1;for(const z of c){const V=z.paint.get(`${_}-pattern`);V.isConstant()||(L=!0);const K=V.constantOr(null);K&&(L=!0,M[K.to]=!0,M[K.from]=!0)}return L}function fg(_,c,v,M,L){const z=L.patternDependencies;for(const V of c){const K=V.paint.get(`${_}-pattern`).value;if("constant"!==K.kind){let re=K.evaluate({zoom:M-1},v,{},L.availableImages),me=K.evaluate({zoom:M},v,{},L.availableImages),xe=K.evaluate({zoom:M+1},v,{},L.availableImages);re=re&&re.name?re.name:re,me=me&&me.name?me.name:me,xe=xe&&xe.name?xe.name:xe,z[re]=!0,z[me]=!0,z[xe]=!0,v.patterns[V.id]={min:re,mid:me,max:xe}}}return v}Hd.deviation=function(_,c,v,M){var L=c&&c.length,z=Math.abs(mu(_,0,L?c[0]*v:_.length,v));if(L)for(var V=0,K=c.length;V<K;V++)z-=Math.abs(mu(_,c[V]*v,V<K-1?c[V+1]*v:_.length,v));var re=0;for(V=0;V<M.length;V+=3){var me=M[V]*v,xe=M[V+1]*v,Se=M[V+2]*v;re+=Math.abs((_[me]-_[Se])*(_[xe+1]-_[me+1])-(_[me]-_[xe])*(_[Se+1]-_[me+1]))}return 0===z&&0===re?0:Math.abs((re-z)/z)},Hd.flatten=function(_){for(var c=_[0][0].length,v={vertices:[],holes:[],dimensions:c},M=0,L=0;L<_.length;L++){for(var z=0;z<_[L].length;z++)for(var V=0;V<c;V++)v.vertices.push(_[L][z][V]);L>0&&v.holes.push(M+=_[L-1].length)}return v},Jf.default=df;class ac{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(v=>v.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ri,this.indexArray=new Gs,this.indexArray2=new dl,this.programConfigurations=new Ds(c.layers,c.zoom),this.segments=new tl,this.segments2=new tl,this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id)}populate(c,v,M){this.hasPattern=Th("fill",this.layers,v);const L=this.layers[0].layout.get("fill-sort-key"),z=[];for(const{feature:V,id:K,index:re,sourceLayerIndex:me}of c){const xe=this.layers[0]._featureFilter.needGeometry,Se=Qh(V,xe);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),Se,M))continue;const Oe=L?L.evaluate(Se,{},M,v.availableImages):void 0,Ve={id:K,properties:V.properties,type:V.type,sourceLayerIndex:me,index:re,geometry:xe?Se.geometry:Bp(V),patterns:{},sortKey:Oe};z.push(Ve)}L&&z.sort((V,K)=>V.sortKey-K.sortKey);for(const V of z){const{geometry:K,index:re,sourceLayerIndex:me}=V;if(this.hasPattern){const xe=fg("fill",this.layers,V,this.zoom,v);this.patternFeatures.push(xe)}else this.addFeature(V,K,re,M,{});v.featureIndex.insert(c[re].feature,K,re,me,this.index)}}update(c,v,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,v,this.stateDependentLayers,M)}addFeatures(c,v,M){for(const L of this.patternFeatures)this.addFeature(L,L.geometry,L.index,v,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,ug),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.indexBuffer2=c.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(c,v,M,L,z){for(const V of Hu(v,500)){let K=0;for(const Ve of V)K+=Ve.length;const re=this.segments.prepareSegment(K,this.layoutVertexArray,this.indexArray),me=re.vertexLength,xe=[],Se=[];for(const Ve of V){if(0===Ve.length)continue;Ve!==V[0]&&Se.push(xe.length/2);const et=this.segments2.prepareSegment(Ve.length,this.layoutVertexArray,this.indexArray2),_t=et.vertexLength;this.layoutVertexArray.emplaceBack(Ve[0].x,Ve[0].y),this.indexArray2.emplaceBack(_t+Ve.length-1,_t),xe.push(Ve[0].x),xe.push(Ve[0].y);for(let It=1;It<Ve.length;It++)this.layoutVertexArray.emplaceBack(Ve[It].x,Ve[It].y),this.indexArray2.emplaceBack(_t+It-1,_t+It),xe.push(Ve[It].x),xe.push(Ve[It].y);et.vertexLength+=Ve.length,et.primitiveLength+=Ve.length}const Oe=Jf(xe,Se);for(let Ve=0;Ve<Oe.length;Ve+=3)this.indexArray.emplaceBack(me+Oe[Ve],me+Oe[Ve+1],me+Oe[Ve+2]);re.vertexLength+=K,re.primitiveLength+=Oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}}Mi("FillBucket",ac,{omit:["layers","patternFeatures"]});const np=new Lt({"fill-sort-key":new At(b.layout_fill["fill-sort-key"])});var Kf={paint:new Lt({"fill-antialias":new St(b.paint_fill["fill-antialias"]),"fill-opacity":new At(b.paint_fill["fill-opacity"]),"fill-color":new At(b.paint_fill["fill-color"]),"fill-outline-color":new At(b.paint_fill["fill-outline-color"]),"fill-translate":new St(b.paint_fill["fill-translate"]),"fill-translate-anchor":new St(b.paint_fill["fill-translate-anchor"]),"fill-pattern":new Sn(b.paint_fill["fill-pattern"])}),layout:np};const Sh=Xn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Im=Xn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:gf}=Sh;var _f=kh;function kh(_,c,v,M,L){this.properties={},this.extent=v,this.type=0,this._pbf=_,this._geometry=-1,this._keys=M,this._values=L,_.readFields(Pc,this,c)}function Pc(_,c,v){1==_?c.id=v.readVarint():2==_?function(M,L){for(var z=M.readVarint()+M.pos;M.pos<z;){var V=L._keys[M.readVarint()],K=L._values[M.readVarint()];L.properties[V]=K}}(v,c):3==_?c.type=v.readVarint():4==_&&(c._geometry=v.pos)}function Ra(_){for(var c,v,M=0,L=0,z=_.length,V=z-1;L<z;V=L++)M+=((v=_[V]).x-(c=_[L]).x)*(c.y+v.y);return M}kh.types=["Unknown","Point","LineString","Polygon"],kh.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var c,v=_.readVarint()+_.pos,M=1,L=0,z=0,V=0,K=[];_.pos<v;){if(L<=0){var re=_.readVarint();M=7&re,L=re>>3}if(L--,1===M||2===M)z+=_.readSVarint(),V+=_.readSVarint(),1===M&&(c&&K.push(c),c=[]),c.push(new Te(z,V));else{if(7!==M)throw new Error("unknown command "+M);c&&c.push(c[0].clone())}}return c&&K.push(c),K},kh.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var c=_.readVarint()+_.pos,v=1,M=0,L=0,z=0,V=1/0,K=-1/0,re=1/0,me=-1/0;_.pos<c;){if(M<=0){var xe=_.readVarint();v=7&xe,M=xe>>3}if(M--,1===v||2===v)(L+=_.readSVarint())<V&&(V=L),L>K&&(K=L),(z+=_.readSVarint())<re&&(re=z),z>me&&(me=z);else if(7!==v)throw new Error("unknown command "+v)}return[V,re,K,me]},kh.prototype.toGeoJSON=function(_,c,v){var M,L,z=this.extent*Math.pow(2,v),V=this.extent*_,K=this.extent*c,re=this.loadGeometry(),me=kh.types[this.type];function xe(Ve){for(var et=0;et<Ve.length;et++){var _t=Ve[et];Ve[et]=[360*(_t.x+V)/z-180,360/Math.PI*Math.atan(Math.exp((180-360*(_t.y+K)/z)*Math.PI/180))-90]}}switch(this.type){case 1:var Se=[];for(M=0;M<re.length;M++)Se[M]=re[M][0];xe(re=Se);break;case 2:for(M=0;M<re.length;M++)xe(re[M]);break;case 3:for(re=function(Ve){var et=Ve.length;if(et<=1)return[Ve];for(var _t,It,Ht=[],tn=0;tn<et;tn++){var on=Ra(Ve[tn]);0!==on&&(void 0===It&&(It=on<0),It===on<0?(_t&&Ht.push(_t),_t=[Ve[tn]]):_t.push(Ve[tn]))}return _t&&Ht.push(_t),Ht}(re),M=0;M<re.length;M++)for(L=0;L<re[M].length;L++)xe(re[M][L])}1===re.length?re=re[0]:me="Multi"+me;var Oe={type:"Feature",geometry:{type:me,coordinates:re},properties:this.properties};return"id"in this&&(Oe.id=this.id),Oe};var mg=yf;function yf(_,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(em,this,c),this.length=this._features.length}function em(_,c,v){15===_?c.version=v.readVarint():1===_?c.name=v.readString():5===_?c.extent=v.readVarint():2===_?c._features.push(v.pos):3===_?c._keys.push(v.readString()):4===_&&c._values.push(function(M){for(var L=null,z=M.readVarint()+M.pos;M.pos<z;){var V=M.readVarint()>>3;L=1===V?M.readString():2===V?M.readFloat():3===V?M.readDouble():4===V?M.readVarint64():5===V?M.readVarint():6===V?M.readSVarint():7===V?M.readBoolean():null}return L}(v))}function J_(_,c,v){if(3===_){var M=new mg(v,v.readVarint()+v.pos);M.length&&(c[M.name]=M)}}yf.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var c=this._pbf.readVarint()+this._pbf.pos;return new _f(this._pbf,c,this.extent,this._keys,this._values)};var ip={VectorTile:function(_,c){this.layers=_.readFields(J_,{},c)},VectorTileFeature:_f,VectorTileLayer:mg};const X_=ip.VectorTileFeature.types,K_=Math.pow(2,13);function rp(_,c,v,M,L,z,V,K){_.emplaceBack((c<<1)+V,(v<<1)+z,(Math.floor(M*K_)<<1)+L,Math.round(K))}class gg{constructor(){this.acc=new Te(0,0),this.polyCount=[]}startRing(c){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Te(c.x,c.y),this.max=new Te(c.x,c.y))}append(c,v){this.currentPolyCount.edges++,this.acc._add(c);let M=!!this.borders;const L=this.min,z=this.max;c.x<L.x?(L.x=c.x,M=!0):c.x>z.x&&(z.x=c.x,M=!0),c.y<L.y?(L.y=c.y,M=!0):c.y>z.y&&(z.y=c.y,M=!0),((0===c.x||c.x===Tr)&&c.x===v.x)!=((0===c.y||c.y===Tr)&&c.y===v.y)&&this.processBorderOverlap(c,v),M&&this.checkBorderIntersection(c,v)}checkBorderIntersection(c,v){v.x<0!=c.x<0&&this.addBorderIntersection(0,mi(v.y,c.y,(0-v.x)/(c.x-v.x))),v.x>Tr!=c.x>Tr&&this.addBorderIntersection(1,mi(v.y,c.y,(Tr-v.x)/(c.x-v.x))),v.y<0!=c.y<0&&this.addBorderIntersection(2,mi(v.x,c.x,(0-v.y)/(c.y-v.y))),v.y>Tr!=c.y>Tr&&this.addBorderIntersection(3,mi(v.x,c.x,(Tr-v.y)/(c.y-v.y)))}addBorderIntersection(c,v){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const M=this.borders[c];v<M[0]&&(M[0]=v),v>M[1]&&(M[1]=v)}processBorderOverlap(c,v){if(c.x===v.x){if(c.y===v.y)return;const M=0===c.x?0:1;this.addBorderIntersection(M,v.y),this.addBorderIntersection(M,c.y)}else{const M=0===c.y?2:3;this.addBorderIntersection(M,v.x),this.addBorderIntersection(M,c.x)}}centroid(){const c=this.polyCount.reduce((v,M)=>v+M.edges,0);return 0!==c?this.acc.div(c)._round():new Te(0,0)}span(){return new Te(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((c,v)=>c+ +(v[0]!==Number.MAX_VALUE),0)}}class tm{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(v=>v.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new ns,this.centroidVertexArray=new le,this.indexArray=new Gs,this.programConfigurations=new Ds(c.layers,c.zoom),this.segments=new tl,this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.enableTerrain=c.enableTerrain}populate(c,v,M){this.features=[],this.hasPattern=Th("fill-extrusion",this.layers,v),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(L){const z=Math.exp(Math.PI*(1-L.y/(1<<L.z)*2));return 80150034*z/(z*z+1)/Tr/(1<<L.z)}(M);for(const{feature:L,id:z,index:V,sourceLayerIndex:K}of c){const re=this.layers[0]._featureFilter.needGeometry,me=Qh(L,re);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),me,M))continue;const xe={id:z,sourceLayerIndex:K,index:V,geometry:re?me.geometry:Bp(L),properties:L.properties,type:L.type,patterns:{}},Se=this.layoutVertexArray.length;this.hasPattern?this.features.push(fg("fill-extrusion",this.layers,xe,this.zoom,v)):this.addFeature(xe,xe.geometry,V,M,{}),v.featureIndex.insert(L,xe.geometry,V,K,this.index,Se)}this.sortBorders()}addFeatures(c,v,M){for(const L of this.features){const{geometry:z}=L;this.addFeature(L,z,L.index,v,M)}this.sortBorders()}update(c,v,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,v,this.stateDependentLayers,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,gf),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}uploadCentroid(c){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=c.createVertexBuffer(this.centroidVertexArray,Im.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,v,M,L,z){const V=this.enableTerrain?new gg:null;for(const re of Hu(v,500)){let me=0,xe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===re.length||(K=re[0]).every(_t=>_t.x<=0)||K.every(_t=>_t.x>=Tr)||K.every(_t=>_t.y<=0)||K.every(_t=>_t.y>=Tr))continue;for(let _t=0;_t<re.length;_t++){const It=re[_t];if(0===It.length)continue;me+=It.length;let Ht=0;V&&V.startRing(It[0]);for(let tn=0;tn<It.length;tn++){const on=It[tn];if(tn>=1){const pn=It[tn-1];if(!Lm(on,pn)){V&&V.append(on,pn),xe.vertexLength+4>tl.MAX_VERTEX_ARRAY_LENGTH&&(xe=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const xn=on.sub(pn)._perp(),yn=xn.x/(Math.abs(xn.x)+Math.abs(xn.y)),Wn=xn.y>0?1:0,Kn=pn.dist(on);Ht+Kn>32768&&(Ht=0),rp(this.layoutVertexArray,on.x,on.y,yn,Wn,0,0,Ht),rp(this.layoutVertexArray,on.x,on.y,yn,Wn,0,1,Ht),Ht+=Kn,rp(this.layoutVertexArray,pn.x,pn.y,yn,Wn,0,0,Ht),rp(this.layoutVertexArray,pn.x,pn.y,yn,Wn,0,1,Ht);const Gn=xe.vertexLength;this.indexArray.emplaceBack(Gn,Gn+2,Gn+1),this.indexArray.emplaceBack(Gn+1,Gn+2,Gn+3),xe.vertexLength+=4,xe.primitiveLength+=2}}}}if(xe.vertexLength+me>tl.MAX_VERTEX_ARRAY_LENGTH&&(xe=this.segments.prepareSegment(me,this.layoutVertexArray,this.indexArray)),"Polygon"!==X_[c.type])continue;const Se=[],Oe=[],Ve=xe.vertexLength;for(let _t=0;_t<re.length;_t++){const It=re[_t];if(0!==It.length){It!==re[0]&&Oe.push(Se.length/2);for(let Ht=0;Ht<It.length;Ht++){const tn=It[Ht];rp(this.layoutVertexArray,tn.x,tn.y,0,0,1,1,0),Se.push(tn.x),Se.push(tn.y),V&&V.currentPolyCount.top++}}}const et=Jf(Se,Oe);for(let _t=0;_t<et.length;_t+=3)this.indexArray.emplaceBack(Ve+et[_t],Ve+et[_t+2],Ve+et[_t+1]);xe.primitiveLength+=et.length/3,xe.vertexLength+=me}var K;if(V&&V.polyCount.length>0){if(V.borders){V.vertexArrayOffset=this.centroidVertexArray.length;const re=V.borders,me=this.featuresOnBorder.push(V)-1;for(let xe=0;xe<4;xe++)re[xe][0]!==Number.MAX_VALUE&&this.borders[xe].push(me)}this.encodeCentroid(V.borders?void 0:V.centroid(),V)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}sortBorders(){for(let c=0;c<4;c++)this.borders[c].sort((v,M)=>this.featuresOnBorder[v].borders[c][0]-this.featuresOnBorder[M].borders[c][0])}encodeCentroid(c,v,M=!0){let L,z;if(c)if(0!==c.y){const K=v.span()._mult(this.tileToMeter);L=(Math.max(c.x,1)<<3)+Math.min(7,Math.round(K.x/10)),z=(Math.max(c.y,1)<<3)+Math.min(7,Math.round(K.y/10))}else L=Math.ceil(7*(c.x+450)),z=0;else L=0,z=+M;let V=M?this.centroidVertexArray.length:v.vertexArrayOffset;for(const K of v.polyCount){M&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*K.edges+K.top);for(let re=0;re<2*K.edges;re++)this.centroidVertexArray.emplace(V++,0,z),this.centroidVertexArray.emplace(V++,L,z);for(let re=0;re<K.top;re++)this.centroidVertexArray.emplace(V++,L,z)}}}function Lm(_,c){return _.x===c.x&&(_.x<0||_.x>Tr)||_.y===c.y&&(_.y<0||_.y>Tr)}Mi("FillExtrusionBucket",tm,{omit:["layers","features"]}),Mi("PartMetadata",gg);var E={paint:new Lt({"fill-extrusion-opacity":new St(b["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new At(b["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new St(b["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new St(b["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Sn(b["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new At(b["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new At(b["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new St(b["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function k(_,c){return _.x*c.x+_.y*c.y}function O(_,c){if(1===_.length){let v=0;const M=c[v++];let L;for(;!L||M.equals(L);)if(L=c[v++],!L)return 1/0;for(;v<c.length;v++){const z=c[v],V=_[0],K=L.sub(M),re=z.sub(M),me=V.sub(M),xe=k(K,K),Se=k(K,re),Oe=k(re,re),Ve=k(me,K),et=k(me,re),_t=xe*Oe-Se*Se,It=(Oe*Ve-Se*et)/_t,Ht=(xe*et-Se*Ve)/_t,tn=M.z*(1-It-Ht)+L.z*It+z.z*Ht;if(isFinite(tn))return tn}return 1/0}{let v=1/0;for(const M of c)v=Math.min(v,M.z);return v}}function Z(_){const c=new Te(_[0],_[1]);return c.z=_[2],c}function se(_,c,v,M,L,z,V,K){const re=V*L.getElevationAt(_,c,!0,!0),me=0!==z[0],xe=me?0===z[1]?V*(z[0]/7-450):V*function(Se,Oe,Ve){const et=Math.floor(Oe[0]/8),_t=Math.floor(Oe[1]/8),It=10*(Oe[0]-8*et),Ht=10*(Oe[1]-8*_t),tn=Se.getElevationAt(et,_t,!0,!0),on=Se.getMeterToDEM(Ve),pn=Math.floor(.5*(It*on-1)),xn=Math.floor(.5*(Ht*on-1)),yn=Se.tileCoordToPixel(et,_t),Wn=2*pn+1,Kn=2*xn+1,Gn=(Wr=Wn,qi=Kn,[(ar=Se).getElevationAtPixel(Jr=yn.x-pn,Fr=yn.y-xn,!0),ar.getElevationAtPixel(Jr+qi,Fr,!0),ar.getElevationAtPixel(Jr,Fr+qi,!0),ar.getElevationAtPixel(Jr+Wr,Fr+qi,!0)]),pi=Math.abs(Gn[0]-Gn[1]),Nn=Math.abs(Gn[2]-Gn[3]),jn=Math.abs(Gn[0]-Gn[2])+Math.abs(Gn[1]-Gn[3]),ui=Math.min(.25,.5*on*(pi+Nn)/Wn),On=Math.min(.25,.5*on*jn/Kn);var ar,Jr,Fr,Wr,qi;return tn+Math.max(ui*It,On*Ht)}(L,z,K):re;return{base:re+(0===v)?-1:v,top:me?Math.max(xe+M,re+v+2):re+M}}const ve=Xn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Fe}=ve,it=Xn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:ut}=it,Dt=ip.VectorTileFeature.types,zt=Math.cos(Math.PI/180*37.5);class Cn{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(v=>v.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(v=>{this.gradients[v.id]={}}),this.layoutVertexArray=new ps,this.layoutVertexArray2=new bs,this.indexArray=new Gs,this.programConfigurations=new Ds(c.layers,c.zoom),this.segments=new tl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id)}populate(c,v,M){this.hasPattern=Th("line",this.layers,v);const L=this.layers[0].layout.get("line-sort-key"),z=[];for(const{feature:me,id:xe,index:Se,sourceLayerIndex:Oe}of c){const Ve=this.layers[0]._featureFilter.needGeometry,et=Qh(me,Ve);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),et,M))continue;const _t=L?L.evaluate(et,{},M):void 0,It={id:xe,properties:me.properties,type:me.type,sourceLayerIndex:Oe,index:Se,geometry:Ve?et.geometry:Bp(me),patterns:{},sortKey:_t};z.push(It)}L&&z.sort((me,xe)=>me.sortKey-xe.sortKey);const{lineAtlas:V,featureIndex:K}=v,re=this.addConstantDashes(V);for(const me of z){const{geometry:xe,index:Se,sourceLayerIndex:Oe}=me;if(re&&this.addFeatureDashes(me,V),this.hasPattern){const Ve=fg("line",this.layers,me,this.zoom,v);this.patternFeatures.push(Ve)}else this.addFeature(me,xe,Se,M,V.positions);K.insert(c[Se].feature,xe,Se,Oe,this.index)}}addConstantDashes(c){let v=!1;for(const M of this.layers){const L=M.paint.get("line-dasharray").value,z=M.layout.get("line-cap").value;if("constant"!==L.kind||"constant"!==z.kind)v=!0;else{const V=z.value,K=L.value;if(!K)continue;c.addDash(K.from,V),c.addDash(K.to,V),K.other&&c.addDash(K.other,V)}}return v}addFeatureDashes(c,v){const M=this.zoom;for(const L of this.layers){const z=L.paint.get("line-dasharray").value,V=L.layout.get("line-cap").value;if("constant"===z.kind&&"constant"===V.kind)continue;let K,re,me,xe,Se,Oe;if("constant"===z.kind){const It=z.value;if(!It)continue;K=It.other||It.to,re=It.to,me=It.from}else K=z.evaluate({zoom:M-1},c),re=z.evaluate({zoom:M},c),me=z.evaluate({zoom:M+1},c);"constant"===V.kind?xe=Se=Oe=V.value:(xe=V.evaluate({zoom:M-1},c),Se=V.evaluate({zoom:M},c),Oe=V.evaluate({zoom:M+1},c)),v.addDash(K,xe),v.addDash(re,Se),v.addDash(me,Oe);const Ve=v.getKey(K,xe),et=v.getKey(re,Se),_t=v.getKey(me,Oe);c.patterns[L.id]={min:Ve,mid:et,max:_t}}}update(c,v,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,v,this.stateDependentLayers,M)}addFeatures(c,v,M){for(const L of this.patternFeatures)this.addFeature(L,L.geometry,L.index,v,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=c.createVertexBuffer(this.layoutVertexArray2,ut)),this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Fe),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(c){if(c.properties&&c.properties.hasOwnProperty("mapbox_clip_start")&&c.properties.hasOwnProperty("mapbox_clip_end"))return{start:+c.properties.mapbox_clip_start,end:+c.properties.mapbox_clip_end}}addFeature(c,v,M,L,z){const V=this.layers[0].layout,K=V.get("line-join").evaluate(c,{}),re=V.get("line-cap").evaluate(c,{}),me=V.get("line-miter-limit"),xe=V.get("line-round-limit");this.lineClips=this.lineFeatureClips(c);for(const Se of v)this.addLine(Se,c,K,re,me,xe);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}addLine(c,v,M,L,z,V){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ht=0;Ht<c.length-1;Ht++)this.totalDistance+=c[Ht].dist(c[Ht+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const K="Polygon"===Dt[v.type];let re=c.length;for(;re>=2&&c[re-1].equals(c[re-2]);)re--;let me=0;for(;me<re-1&&c[me].equals(c[me+1]);)me++;if(re<(K?3:2))return;"bevel"===M&&(z=1.05);const xe=this.overscaling<=16?122880/(512*this.overscaling):0,Se=this.segments.prepareSegment(10*re,this.layoutVertexArray,this.indexArray);let Oe,Ve,et,_t,It;this.e1=this.e2=-1,K&&(Oe=c[re-2],It=c[me].sub(Oe)._unit()._perp());for(let Ht=me;Ht<re;Ht++){if(et=Ht===re-1?K?c[me+1]:void 0:c[Ht+1],et&&c[Ht].equals(et))continue;It&&(_t=It),Oe&&(Ve=Oe),Oe=c[Ht],It=et?et.sub(Oe)._unit()._perp():_t,_t=_t||It;let tn=_t.add(It);0===tn.x&&0===tn.y||tn._unit();const on=_t.x*It.x+_t.y*It.y,pn=tn.x*It.x+tn.y*It.y,xn=0!==pn?1/pn:1/0,yn=2*Math.sqrt(2-2*pn),Wn=pn<zt&&Ve&&et,Kn=_t.x*It.y-_t.y*It.x>0;if(Wn&&Ht>me){const Nn=Oe.dist(Ve);if(Nn>2*xe){const jn=Oe.sub(Oe.sub(Ve)._mult(xe/Nn)._round());this.updateDistance(Ve,jn),this.addCurrentVertex(jn,_t,0,0,Se),Ve=jn}}const Gn=Ve&&et;let pi=Gn?M:K?"butt":L;if(Gn&&"round"===pi&&(xn<V?pi="miter":xn<=2&&(pi="fakeround")),"miter"===pi&&xn>z&&(pi="bevel"),"bevel"===pi&&(xn>2&&(pi="flipbevel"),xn<z&&(pi="miter")),Ve&&this.updateDistance(Ve,Oe),"miter"===pi)tn._mult(xn),this.addCurrentVertex(Oe,tn,0,0,Se);else if("flipbevel"===pi){if(xn>100)tn=It.mult(-1);else{const Nn=xn*_t.add(It).mag()/_t.sub(It).mag();tn._perp()._mult(Nn*(Kn?-1:1))}this.addCurrentVertex(Oe,tn,0,0,Se),this.addCurrentVertex(Oe,tn.mult(-1),0,0,Se)}else if("bevel"===pi||"fakeround"===pi){const Nn=-Math.sqrt(xn*xn-1),jn=Kn?Nn:0,ui=Kn?0:Nn;if(Ve&&this.addCurrentVertex(Oe,_t,jn,ui,Se),"fakeround"===pi){const On=Math.round(180*yn/Math.PI/20);for(let ar=1;ar<On;ar++){let Jr=ar/On;if(.5!==Jr){const Wr=Jr-.5;Jr+=Jr*Wr*(Jr-1)*((1.0904+on*(on*(3.55645-1.43519*on)-3.2452))*Wr*Wr+(.848013+on*(.215638*on-1.06021)))}const Fr=It.sub(_t)._mult(Jr)._add(_t)._unit()._mult(Kn?-1:1);this.addHalfVertex(Oe,Fr.x,Fr.y,!1,Kn,0,Se)}}et&&this.addCurrentVertex(Oe,It,-jn,-ui,Se)}else if("butt"===pi)this.addCurrentVertex(Oe,tn,0,0,Se);else if("square"===pi){const Nn=Ve?1:-1;Ve||this.addCurrentVertex(Oe,tn,Nn,Nn,Se),this.addCurrentVertex(Oe,tn,0,0,Se),Ve&&this.addCurrentVertex(Oe,tn,Nn,Nn,Se)}else"round"===pi&&(Ve&&(this.addCurrentVertex(Oe,_t,0,0,Se),this.addCurrentVertex(Oe,_t,1,1,Se,!0)),et&&(this.addCurrentVertex(Oe,It,-1,-1,Se,!0),this.addCurrentVertex(Oe,It,0,0,Se)));if(Wn&&Ht<re-1){const Nn=Oe.dist(et);if(Nn>2*xe){const jn=Oe.add(et.sub(Oe)._mult(xe/Nn)._round());this.updateDistance(Oe,jn),this.addCurrentVertex(jn,It,0,0,Se),Oe=jn}}}}addCurrentVertex(c,v,M,L,z,V=!1){const K=v.y*L-v.x,re=-v.y-v.x*L;this.addHalfVertex(c,v.x+v.y*M,v.y-v.x*M,V,!1,M,z),this.addHalfVertex(c,K,re,V,!0,-L,z)}addHalfVertex({x:c,y:v},M,L,z,V,K,re){this.layoutVertexArray.emplaceBack((c<<1)+(z?1:0),(v<<1)+(V?1:0),Math.round(63*M)+128,Math.round(63*L)+128,1+(0===K?0:K<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const me=re.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,me),re.primitiveLength++),V?this.e2=me:this.e1=me}updateScaledDistance(){if(this.lineClips){const c=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=c*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(c,v){this.distance+=c.dist(v),this.updateScaledDistance()}}Mi("LineBucket",Cn,{omit:["layers","patternFeatures"]});const Yn=new Lt({"line-cap":new At(b.layout_line["line-cap"]),"line-join":new At(b.layout_line["line-join"]),"line-miter-limit":new St(b.layout_line["line-miter-limit"]),"line-round-limit":new St(b.layout_line["line-round-limit"]),"line-sort-key":new At(b.layout_line["line-sort-key"])});var oi={paint:new Lt({"line-opacity":new At(b.paint_line["line-opacity"]),"line-color":new At(b.paint_line["line-color"]),"line-translate":new St(b.paint_line["line-translate"]),"line-translate-anchor":new St(b.paint_line["line-translate-anchor"]),"line-width":new At(b.paint_line["line-width"]),"line-gap-width":new At(b.paint_line["line-gap-width"]),"line-offset":new At(b.paint_line["line-offset"]),"line-blur":new At(b.paint_line["line-blur"]),"line-dasharray":new Sn(b.paint_line["line-dasharray"]),"line-pattern":new Sn(b.paint_line["line-pattern"]),"line-gradient":new Fn(b.paint_line["line-gradient"])}),layout:Yn};const ki=new class extends At{possiblyEvaluate(_,c){return c=new Qe(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(_,c)}evaluate(_,c,v,M){return c=zi({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(_,c,v,M)}}(oi.paint.properties["line-width"].specification);function Wi(_,c){return c>0?c+2*_:_}ki.useIntegerZoom=!0;const rr=Xn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),rs=Xn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Xn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const _a=Xn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),lc=Xn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Xn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const sp=Xn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Eh=Xn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Xn([{name:"triangle",components:3,type:"Uint16"}]),Xn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Xn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Xn([{type:"Float32",name:"offsetX"}]),Xn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const gu=128;function op(_,c){const{expression:v}=c;if("constant"===v.kind)return{kind:"constant",layoutSize:v.evaluate(new Qe(_+1))};if("source"===v.kind)return{kind:"source"};{const{zoomStops:M,interpolationType:L}=v;let z=0;for(;z<M.length&&M[z]<=_;)z++;z=Math.max(0,z-1);let V=z;for(;V<M.length&&M[V]<_+1;)V++;V=Math.min(M.length-1,V);const K=M[z],re=M[V];return"composite"===v.kind?{kind:"composite",minZoom:K,maxZoom:re,interpolationType:L}:{kind:"camera",minZoom:K,maxZoom:re,minSize:v.evaluate(new Qe(K)),maxSize:v.evaluate(new Qe(re)),interpolationType:L}}}function Zd(_,{uSize:c,uSizeT:v},{lowerSize:M,upperSize:L}){return"source"===_.kind?M/gu:"composite"===_.kind?mi(M/gu,L/gu,v):c}function vf(_,c){let v=0,M=0;if("constant"===_.kind)M=_.layoutSize;else if("source"!==_.kind){const{interpolationType:L,minZoom:z,maxZoom:V}=_,K=L?qt(ra.interpolationFactor(L,c,z,V),0,1):0;"camera"===_.kind?M=mi(_.minSize,_.maxSize,K):v=K}return{uSizeT:v,uSize:M}}var ey=Object.freeze({__proto__:null,getSizeData:op,evaluateSizeForFeature:Zd,evaluateSizeForZoom:vf,SIZE_PACK_FACTOR:gu});function c_(_,c,v){return _.sections.forEach(M=>{M.text=function(L,z,V){const K=z.layout.get("text-transform").evaluate(V,{});return"uppercase"===K?L=L.toLocaleUpperCase():"lowercase"===K&&(L=L.toLocaleLowerCase()),qe.applyArabicShaping&&(L=qe.applyArabicShaping(L)),L}(M.text,c,v)}),_}const nm={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Fa(_){return"\ufe36"===_||"\ufe48"===_||"\ufe38"===_||"\ufe44"===_||"\ufe42"===_||"\ufe3e"===_||"\ufe3c"===_||"\ufe3a"===_||"\ufe18"===_||"\ufe40"===_||"\ufe10"===_||"\ufe13"===_||"\ufe14"===_||"\uff40"===_||"\uffe3"===_||"\ufe11"===_||"\ufe12"===_}function nv(_){return"\ufe35"===_||"\ufe47"===_||"\ufe37"===_||"\ufe43"===_||"\ufe41"===_||"\ufe3d"===_||"\ufe3b"===_||"\ufe39"===_||"\ufe17"===_||"\ufe3f"===_}var iv=function(_,c,v,M,L){var z,V,K=8*L-M-1,re=(1<<K)-1,me=re>>1,xe=-7,Se=v?L-1:0,Oe=v?-1:1,Ve=_[c+Se];for(Se+=Oe,z=Ve&(1<<-xe)-1,Ve>>=-xe,xe+=K;xe>0;z=256*z+_[c+Se],Se+=Oe,xe-=8);for(V=z&(1<<-xe)-1,z>>=-xe,xe+=M;xe>0;V=256*V+_[c+Se],Se+=Oe,xe-=8);if(0===z)z=1-me;else{if(z===re)return V?NaN:1/0*(Ve?-1:1);V+=Math.pow(2,M),z-=me}return(Ve?-1:1)*V*Math.pow(2,z-M)},cb=function(_,c,v,M,L,z){var V,K,re,me=8*z-L-1,xe=(1<<me)-1,Se=xe>>1,Oe=23===L?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=M?0:z-1,et=M?1:-1,_t=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(K=isNaN(c)?1:0,V=xe):(V=Math.floor(Math.log(c)/Math.LN2),c*(re=Math.pow(2,-V))<1&&(V--,re*=2),(c+=V+Se>=1?Oe/re:Oe*Math.pow(2,1-Se))*re>=2&&(V++,re/=2),V+Se>=xe?(K=0,V=xe):V+Se>=1?(K=(c*re-1)*Math.pow(2,L),V+=Se):(K=c*Math.pow(2,Se-1)*Math.pow(2,L),V=0));L>=8;_[v+Ve]=255&K,Ve+=et,K/=256,L-=8);for(V=V<<L|K,me+=L;me>0;_[v+Ve]=255&V,Ve+=et,V/=256,me-=8);_[v+Ve-et]|=128*_t},Up=no;function no(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}no.Varint=0,no.Fixed64=1,no.Bytes=2,no.Fixed32=5;var rv=4294967296,Wd=1/rv,ub="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function jp(_){return _.type===no.Bytes?_.readVarint()+_.pos:_.pos+1}function db(_,c,v){var M=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));v.realloc(M);for(var L=v.pos-1;L>=_;L--)v.buf[L+M]=v.buf[L]}function u_(_,c){for(var v=0;v<_.length;v++)c.writeVarint(_[v])}function im(_,c){for(var v=0;v<_.length;v++)c.writeSVarint(_[v])}function sv(_,c){for(var v=0;v<_.length;v++)c.writeFloat(_[v])}function ty(_,c){for(var v=0;v<_.length;v++)c.writeDouble(_[v])}function ov(_,c){for(var v=0;v<_.length;v++)c.writeBoolean(_[v])}function yg(_,c){for(var v=0;v<_.length;v++)c.writeFixed32(_[v])}function ls(_,c){for(var v=0;v<_.length;v++)c.writeSFixed32(_[v])}function hb(_,c){for(var v=0;v<_.length;v++)c.writeFixed64(_[v])}function av(_,c){for(var v=0;v<_.length;v++)c.writeSFixed64(_[v])}function Pm(_,c){return(_[c]|_[c+1]<<8|_[c+2]<<16)+16777216*_[c+3]}function Xc(_,c,v){_[v]=c,_[v+1]=c>>>8,_[v+2]=c>>>16,_[v+3]=c>>>24}function ny(_,c){return(_[c]|_[c+1]<<8|_[c+2]<<16)+(_[c+3]<<24)}function lv(_,c,v){c.glyphs=[],1===_&&v.readMessage(vg,c)}function vg(_,c,v){if(3===_){const{id:M,bitmap:L,width:z,height:V,left:K,top:re,advance:me}=v.readMessage(Zp,{});c.glyphs.push({id:M,bitmap:new Bd({width:z+6,height:V+6},L),metrics:{width:z,height:V,left:K,top:re,advance:me}})}else 4===_?c.ascender=v.readSVarint():5===_&&(c.descender=v.readSVarint())}function Zp(_,c,v){1===_?c.id=v.readVarint():2===_?c.bitmap=v.readBytes():3===_?c.width=v.readVarint():4===_?c.height=v.readVarint():5===_?c.left=v.readSVarint():6===_?c.top=v.readSVarint():7===_&&(c.advance=v.readVarint())}function bf(_){let c=0,v=0;for(const V of _)c+=V.w*V.h,v=Math.max(v,V.w);_.sort((V,K)=>K.h-V.h);const M=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),v),h:1/0}];let L=0,z=0;for(const V of _)for(let K=M.length-1;K>=0;K--){const re=M[K];if(!(V.w>re.w||V.h>re.h)){if(V.x=re.x,V.y=re.y,z=Math.max(z,V.y+V.h),L=Math.max(L,V.x+V.w),V.w===re.w&&V.h===re.h){const me=M.pop();K<M.length&&(M[K]=me)}else V.h===re.h?(re.x+=V.w,re.w-=V.w):V.w===re.w?(re.y+=V.h,re.h-=V.h):(M.push({x:re.x+V.w,y:re.y,w:re.w-V.w,h:V.h}),re.y+=V.h,re.h-=V.h);break}}return{w:L,h:z,fill:c/(L*z)||0}}no.prototype={destroy:function(){this.buf=null},readFields:function(_,c,v){for(v=v||this.length;this.pos<v;){var M=this.readVarint(),L=M>>3,z=this.pos;this.type=7&M,_(L,c,this),this.pos===z&&this.skip(M)}return c},readMessage:function(_,c){return this.readFields(_,c,this.readVarint()+this.pos)},readFixed32:function(){var _=Pm(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=ny(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=Pm(this.buf,this.pos)+Pm(this.buf,this.pos+4)*rv;return this.pos+=8,_},readSFixed64:function(){var _=Pm(this.buf,this.pos)+ny(this.buf,this.pos+4)*rv;return this.pos+=8,_},readFloat:function(){var _=iv(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=iv(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var c,v,M=this.buf;return c=127&(v=M[this.pos++]),v<128?c:(c|=(127&(v=M[this.pos++]))<<7,v<128?c:(c|=(127&(v=M[this.pos++]))<<14,v<128?c:(c|=(127&(v=M[this.pos++]))<<21,v<128?c:function(L,z,V){var K,re,me=V.buf;if(K=(112&(re=me[V.pos++]))>>4,re<128||(K|=(127&(re=me[V.pos++]))<<3,re<128)||(K|=(127&(re=me[V.pos++]))<<10,re<128)||(K|=(127&(re=me[V.pos++]))<<17,re<128)||(K|=(127&(re=me[V.pos++]))<<24,re<128)||(K|=(1&(re=me[V.pos++]))<<31,re<128))return function(_,c,v){return v?4294967296*c+(_>>>0):4294967296*(c>>>0)+(_>>>0)}(L,K,z);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(v=M[this.pos]))<<28,_,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2==1?(_+1)/-2:_/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var _=this.readVarint()+this.pos,c=this.pos;return this.pos=_,_-c>=12&&ub?ub.decode(this.buf.subarray(c,_)):function(v,M,L){for(var z="",V=M;V<L;){var K,re,me,xe=v[V],Se=null,Oe=xe>239?4:xe>223?3:xe>191?2:1;if(V+Oe>L)break;1===Oe?xe<128&&(Se=xe):2===Oe?128==(192&(K=v[V+1]))&&(Se=(31&xe)<<6|63&K)<=127&&(Se=null):3===Oe?(re=v[V+2],128==(192&(K=v[V+1]))&&128==(192&re)&&((Se=(15&xe)<<12|(63&K)<<6|63&re)<=2047||Se>=55296&&Se<=57343)&&(Se=null)):4===Oe&&(re=v[V+2],me=v[V+3],128==(192&(K=v[V+1]))&&128==(192&re)&&128==(192&me)&&((Se=(15&xe)<<18|(63&K)<<12|(63&re)<<6|63&me)<=65535||Se>=1114112)&&(Se=null)),null===Se?(Se=65533,Oe=1):Se>65535&&(Se-=65536,z+=String.fromCharCode(Se>>>10&1023|55296),Se=56320|1023&Se),z+=String.fromCharCode(Se),V+=Oe}return z}(this.buf,c,_)},readBytes:function(){var _=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,_);return this.pos=_,c},readPackedVarint:function(_,c){if(this.type!==no.Bytes)return _.push(this.readVarint(c));var v=jp(this);for(_=_||[];this.pos<v;)_.push(this.readVarint(c));return _},readPackedSVarint:function(_){if(this.type!==no.Bytes)return _.push(this.readSVarint());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==no.Bytes)return _.push(this.readBoolean());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==no.Bytes)return _.push(this.readFloat());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==no.Bytes)return _.push(this.readDouble());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==no.Bytes)return _.push(this.readFixed32());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==no.Bytes)return _.push(this.readSFixed32());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==no.Bytes)return _.push(this.readFixed64());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==no.Bytes)return _.push(this.readSFixed64());var c=jp(this);for(_=_||[];this.pos<c;)_.push(this.readSFixed64());return _},skip:function(_){var c=7&_;if(c===no.Varint)for(;this.buf[this.pos++]>127;);else if(c===no.Bytes)this.pos=this.readVarint()+this.pos;else if(c===no.Fixed32)this.pos+=4;else{if(c!==no.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(_,c){this.writeVarint(_<<3|c)},realloc:function(_){for(var c=this.length||16;c<this.pos+_;)c*=2;if(c!==this.length){var v=new Uint8Array(c);v.set(this.buf),this.buf=v,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),Xc(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),Xc(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),Xc(this.buf,-1&_,this.pos),Xc(this.buf,Math.floor(_*Wd),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),Xc(this.buf,-1&_,this.pos),Xc(this.buf,Math.floor(_*Wd),this.pos+4),this.pos+=8},writeVarint:function(_){(_=+_||0)>268435455||_<0?function(c,v){var M,L,z,K;if(c>=0?(M=c%4294967296|0,L=c/4294967296|0):(L=~(-c/4294967296),4294967295^(M=~(-c%4294967296))?M=M+1|0:(M=0,L=L+1|0)),c>=0x10000000000000000||c<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");v.realloc(10),z=M,(K=v).buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,K.buf[K.pos]=127&(z>>>=7),function(z,V){var K=(7&z)<<4;V.buf[V.pos++]|=K|((z>>>=3)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z)))))}(L,v)}(_,this):(this.realloc(4),this.buf[this.pos++]=127&_|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=_>>>7&127))))},writeSVarint:function(_){this.writeVarint(_<0?2*-_-1:2*_)},writeBoolean:function(_){this.writeVarint(Boolean(_))},writeString:function(_){_=String(_),this.realloc(4*_.length),this.pos++;var c=this.pos;this.pos=function(M,L,z){for(var V,K,re=0;re<L.length;re++){if((V=L.charCodeAt(re))>55295&&V<57344){if(!K){V>56319||re+1===L.length?(M[z++]=239,M[z++]=191,M[z++]=189):K=V;continue}if(V<56320){M[z++]=239,M[z++]=191,M[z++]=189,K=V;continue}V=K-55296<<10|V-56320|65536,K=null}else K&&(M[z++]=239,M[z++]=191,M[z++]=189,K=null);V<128?M[z++]=V:(V<2048?M[z++]=V>>6|192:(V<65536?M[z++]=V>>12|224:(M[z++]=V>>18|240,M[z++]=V>>12&63|128),M[z++]=V>>6&63|128),M[z++]=63&V|128)}return z}(this.buf,_,this.pos);var v=this.pos-c;v>=128&&db(c,v,this),this.pos=c-1,this.writeVarint(v),this.pos+=v},writeFloat:function(_){this.realloc(4),cb(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),cb(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var c=_.length;this.writeVarint(c),this.realloc(c);for(var v=0;v<c;v++)this.buf[this.pos++]=_[v]},writeRawMessage:function(_,c){this.pos++;var v=this.pos;_(c,this);var M=this.pos-v;M>=128&&db(v,M,this),this.pos=v-1,this.writeVarint(M),this.pos+=M},writeMessage:function(_,c,v){this.writeTag(_,no.Bytes),this.writeRawMessage(c,v)},writePackedVarint:function(_,c){c.length&&this.writeMessage(_,u_,c)},writePackedSVarint:function(_,c){c.length&&this.writeMessage(_,im,c)},writePackedBoolean:function(_,c){c.length&&this.writeMessage(_,ov,c)},writePackedFloat:function(_,c){c.length&&this.writeMessage(_,sv,c)},writePackedDouble:function(_,c){c.length&&this.writeMessage(_,ty,c)},writePackedFixed32:function(_,c){c.length&&this.writeMessage(_,yg,c)},writePackedSFixed32:function(_,c){c.length&&this.writeMessage(_,ls,c)},writePackedFixed64:function(_,c){c.length&&this.writeMessage(_,hb,c)},writePackedSFixed64:function(_,c){c.length&&this.writeMessage(_,av,c)},writeBytesField:function(_,c){this.writeTag(_,no.Bytes),this.writeBytes(c)},writeFixed32Field:function(_,c){this.writeTag(_,no.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(_,c){this.writeTag(_,no.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(_,c){this.writeTag(_,no.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(_,c){this.writeTag(_,no.Fixed64),this.writeSFixed64(c)},writeVarintField:function(_,c){this.writeTag(_,no.Varint),this.writeVarint(c)},writeSVarintField:function(_,c){this.writeTag(_,no.Varint),this.writeSVarint(c)},writeStringField:function(_,c){this.writeTag(_,no.Bytes),this.writeString(c)},writeFloatField:function(_,c){this.writeTag(_,no.Fixed32),this.writeFloat(c)},writeDoubleField:function(_,c){this.writeTag(_,no.Fixed64),this.writeDouble(c)},writeBooleanField:function(_,c){this.writeVarintField(_,Boolean(c))}};class bg{constructor(c,{pixelRatio:v,version:M,stretchX:L,stretchY:z,content:V}){this.paddedRect=c,this.pixelRatio=v,this.stretchX=L,this.stretchY=z,this.content=V,this.version=M}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class iy{constructor(c,v){const M={},L={};this.haveRenderCallbacks=[];const z=[];this.addImages(c,M,z),this.addImages(v,L,z);const{w:V,h:K}=bf(z),re=new oc({width:V||1,height:K||1});for(const me in c){const xe=c[me],Se=M[me].paddedRect;oc.copy(xe.data,re,{x:0,y:0},{x:Se.x+1,y:Se.y+1},xe.data)}for(const me in v){const xe=v[me],Se=L[me].paddedRect,Oe=Se.x+1,Ve=Se.y+1,et=xe.data.width,_t=xe.data.height;oc.copy(xe.data,re,{x:0,y:0},{x:Oe,y:Ve},xe.data),oc.copy(xe.data,re,{x:0,y:_t-1},{x:Oe,y:Ve-1},{width:et,height:1}),oc.copy(xe.data,re,{x:0,y:0},{x:Oe,y:Ve+_t},{width:et,height:1}),oc.copy(xe.data,re,{x:et-1,y:0},{x:Oe-1,y:Ve},{width:1,height:_t}),oc.copy(xe.data,re,{x:0,y:0},{x:Oe+et,y:Ve},{width:1,height:_t})}this.image=re,this.iconPositions=M,this.patternPositions=L}addImages(c,v,M){for(const L in c){const z=c[L],V={x:0,y:0,w:z.data.width+2,h:z.data.height+2};M.push(V),v[L]=new bg(V,z),z.hasRenderCallback&&this.haveRenderCallbacks.push(L)}}patchUpdatedImages(c,v){c.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const M in c.updatedImages)this.patchUpdatedImage(this.iconPositions[M],c.getImage(M),v),this.patchUpdatedImage(this.patternPositions[M],c.getImage(M),v)}patchUpdatedImage(c,v,M){if(!c||!v||c.version===v.version)return;c.version=v.version;const[L,z]=c.tl;M.update(v.data,void 0,{x:L,y:z})}}Mi("ImagePosition",bg),Mi("ImageAtlas",iy);const Dh={horizontal:1,vertical:2,horizontalOnly:3};class xg{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(c,v){const M=new xg;return M.scale=c||1,M.fontStack=v,M}static forImage(c){const v=new xg;return v.imageName=c,v}}class rm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(c,v){const M=new rm;for(let L=0;L<c.sections.length;L++){const z=c.sections[L];z.image?M.addImageSection(z):M.addTextSection(z,v)}return M}length(){return this.text.length}getSection(c){return this.sections[this.sectionIndex[c]]}getSections(){return this.sections}getSectionIndex(c){return this.sectionIndex[c]}getCharCode(c){return this.text.charCodeAt(c)}verticalizePunctuation(c){this.text=function(v,M){let L="";for(let z=0;z<v.length;z++){const V=v.charCodeAt(z+1)||null,K=v.charCodeAt(z-1)||null;L+=!M&&(V&&Gh(V)&&!nm[v[z+1]]||K&&Gh(K)&&!nm[v[z-1]])||!nm[v[z]]?v[z]:nm[v[z]]}return L}(this.text,c)}trim(){let c=0;for(let M=0;M<this.text.length&&Wp[this.text.charCodeAt(M)];M++)c++;let v=this.text.length;for(let M=this.text.length-1;M>=0&&M>=c&&Wp[this.text.charCodeAt(M)];M--)v--;this.text=this.text.substring(c,v),this.sectionIndex=this.sectionIndex.slice(c,v)}substring(c,v){const M=new rm;return M.text=this.text.substring(c,v),M.sectionIndex=this.sectionIndex.slice(c,v),M.sections=this.sections,M}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((c,v)=>Math.max(c,this.sections[v].scale),0)}addTextSection(c,v){this.text+=c.text,this.sections.push(xg.forText(c.scale,c.fontStack||v));const M=this.sections.length-1;for(let L=0;L<c.text.length;++L)this.sectionIndex.push(M)}addImageSection(c){const v=c.image?c.image.name:"";if(0===v.length)return void Ui("Can't add FormattedSection with an empty image.");const M=this.getNextImageSectionCharCode();M?(this.text+=String.fromCharCode(M),this.sections.push(xg.forImage(v)),this.sectionIndex.push(this.sections.length-1)):Ui("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Vu(_,c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t){const It=rm.fromFeature(_,L);let Ht;Se===Dh.vertical&&It.verticalizePunctuation(Oe);const{processBidirectionalText:tn,processStyledBidirectionalText:on}=qe;if(tn&&1===It.sections.length){Ht=[];const yn=tn(It.toString(),ry(It,me,z,c,M,Ve,et));for(const Wn of yn){const Kn=new rm;Kn.text=Wn,Kn.sections=It.sections;for(let Gn=0;Gn<Wn.length;Gn++)Kn.sectionIndex.push(0);Ht.push(Kn)}}else if(on){Ht=[];const yn=on(It.text,It.sectionIndex,ry(It,me,z,c,M,Ve,et));for(const Wn of yn){const Kn=new rm;Kn.text=Wn[0],Kn.sectionIndex=Wn[1],Kn.sections=It.sections,Ht.push(Kn)}}else Ht=function(yn,Wn){const Kn=[],Gn=yn.text;let pi=0;for(const Nn of Wn)Kn.push(yn.substring(pi,Nn)),pi=Nn;return pi<Gn.length&&Kn.push(yn.substring(pi,Gn.length)),Kn}(It,ry(It,me,z,c,M,Ve,et));const pn=[],xn={positionedLines:pn,text:It.toString(),top:xe[1],bottom:xe[1],left:xe[0],right:xe[0],writingMode:Se,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(yn,Wn,Kn,Gn,pi,Nn,jn,ui,On,ar,Jr,Fr){let Wr=0,qi=0,io=0;const er="right"===ui?1:"left"===ui?0:.5;let As=!1;for(const Ao of pi){const wa=Ao.getSections();for(const Ro of wa){if(Ro.imageName)continue;const ca=Wn[Ro.fontStack];if(ca&&(As=void 0!==ca.ascender&&void 0!==ca.descender,!As))break}if(!As)break}let Na=0;for(const Ao of pi){Ao.trim();const wa=Ao.getMaxScale(),Ro=24*(wa-1),ca={positionedGlyphs:[],lineOffset:0};yn.positionedLines[Na]=ca;const Fo=ca.positionedGlyphs;let yo=0;if(!Ao.length()){qi+=Nn,++Na;continue}let Za=0,cs=0;for(let pl=0;pl<Ao.length();pl++){const ua=Ao.getSection(pl),Jd=Ao.getSectionIndex(pl),kl=Ao.getCharCode(pl);let Ns=ua.scale,Is=null,Yc=null,Xs=null,No=24,Ih=0;const dm=!(On===Dh.horizontal||!Jr&&!bh(kl)||Jr&&(Wp[kl]||(ba=kl,Fi(ba)||Op(ba)||Ws(ba)||Xa(ba)||ri(ba))));if(ua.imageName){const El=Gn[ua.imageName];if(!El)continue;Xs=ua.imageName,yn.iconsInText=yn.iconsInText||!0,Yc=El.paddedRect;const tu=El.displaySize;Ns=24*Ns/Fr,Is={width:tu[0],height:tu[1],left:1,top:-3,advance:dm?tu[1]:tu[0],localGlyph:!1},Ih=As?-Is.height*Ns:24*wa-17-tu[1]*Ns,No=Is.advance;const md=(dm?tu[0]:tu[1])*Ns-24*wa;md>0&&md>yo&&(yo=md)}else{const El=Kn[ua.fontStack];if(!El)continue;El[kl]&&(Yc=El[kl]);const tu=Wn[ua.fontStack];if(!tu)continue;const md=tu.glyphs[kl];if(!md)continue;if(Is=md.metrics,No=8203!==kl?24:0,As){const qp=void 0!==tu.ascender?Math.abs(tu.ascender):0,Dl=void 0!==tu.descender?Math.abs(tu.descender):0,Eg=(qp+Dl)*Ns;Za<Eg&&(Za=Eg,cs=(qp-Dl)/2*Ns),Ih=-qp*Ns}else Ih=24*(wa-Ns)-17}dm?(yn.verticalizable=!0,Fo.push({glyph:kl,imageName:Xs,x:Wr,y:qi+Ih,vertical:dm,scale:Ns,localGlyph:Is.localGlyph,fontStack:ua.fontStack,sectionIndex:Jd,metrics:Is,rect:Yc}),Wr+=No*Ns+ar):(Fo.push({glyph:kl,imageName:Xs,x:Wr,y:qi+Ih,vertical:dm,scale:Ns,localGlyph:Is.localGlyph,fontStack:ua.fontStack,sectionIndex:Jd,metrics:Is,rect:Yc}),Wr+=Is.advance*Ns+ar)}0!==Fo.length&&(io=Math.max(Wr-ar,io),As?uv(Fo,er,yo,cs,Nn*wa/2):uv(Fo,er,yo,0,Nn/2)),Wr=0;const cr=Nn*wa+yo;ca.lineOffset=Math.max(yo,Ro),qi+=cr,++Na}var ba;const Bc=qi,{horizontalAlign:xa,verticalAlign:la}=pb(jn);(function(Ao,wa,Ro,ca,Fo,yo){const Za=(wa-Ro)*Fo,cs=-yo*ca;for(const cr of Ao)for(const pl of cr.positionedGlyphs)pl.x+=Za,pl.y+=cs})(yn.positionedLines,er,xa,la,io,Bc),yn.top+=-la*Bc,yn.bottom=yn.top+Bc,yn.left+=-xa*io,yn.right=yn.left+io,yn.hasBaseline=As}(xn,c,v,M,Ht,V,K,re,Se,me,Oe,_t),!function(yn){for(const Wn of yn)if(0!==Wn.positionedGlyphs.length)return!1;return!0}(pn)&&xn}const Wp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},wg={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function d_(_,c,v,M,L,z){if(c.imageName){const V=M[c.imageName];return V?V.displaySize[0]*c.scale*24/z+L:0}{const V=v[c.fontStack],K=V&&V.glyphs[_];return K?K.metrics.advance*c.scale+L:0}}function h_(_,c,v,M){const L=Math.pow(_-c,2);return M?_<c?L/2:2*L:L+Math.abs(v)*v}function p_(_,c,v){let M=0;return 10===_&&(M-=1e4),v&&(M+=150),40!==_&&65288!==_||(M+=50),41!==c&&65289!==c||(M+=50),M}function cv(_,c,v,M,L,z){let V=null,K=h_(c,v,L,z);for(const re of M){const me=h_(c-re.x,v,L,z)+re.badness;me<=K&&(V=re,K=me)}return{index:_,x:c,priorBreak:V,badness:K}}function Zl(_){return _?Zl(_.priorBreak).concat(_.index):[]}function ry(_,c,v,M,L,z,V){if("point"!==z)return[];if(!_)return[];const K=[],re=function(Oe,Ve,et,_t,It,Ht){let tn=0;for(let on=0;on<Oe.length();on++){const pn=Oe.getSection(on);tn+=d_(Oe.getCharCode(on),pn,_t,It,Ve,Ht)}return tn/Math.max(1,Math.ceil(tn/et))}(_,c,v,M,L,V),me=_.text.indexOf("\u200b")>=0;let xe=0;for(let Oe=0;Oe<_.length();Oe++){const Ve=_.getSection(Oe),et=_.getCharCode(Oe);if(Wp[et]||(xe+=d_(et,Ve,M,L,c,V)),Oe<_.length()-1){const _t=!((Se=et)<11904||!(Rp(Se)||nc(Se)||Fp(Se)||vh(Se)||uu(Se)||Uo(Se)||cu(Se)||td(Se)||du(Se)||Dc(Se)||nd(Se)||Xo(Se)||Lo(Se)||yl(Se)||Ps(Se)||yh(Se)||Ja(Se)||as(Se)||rt(Se)||Pu(Se)));(wg[et]||_t||Ve.imageName)&&K.push(cv(Oe+1,xe,re,K,p_(et,_.getCharCode(Oe+1),_t&&me),!1))}}var Se;return Zl(cv(_.length(),xe,re,K,0,!0))}function pb(_){let c=.5,v=.5;switch(_){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(_){case"bottom":case"bottom-right":case"bottom-left":v=1;break;case"top":case"top-right":case"top-left":v=0}return{horizontalAlign:c,verticalAlign:v}}function uv(_,c,v,M,L){if(!(c||v||M||L))return;const z=_.length-1,V=_[z],K=(V.x+V.metrics.advance*V.scale)*c;for(let re=0;re<=z;re++)_[re].x-=K,_[re].y+=v+M+L}function dv(_,c,v){const{horizontalAlign:M,verticalAlign:L}=pb(v),z=c[0]-_.displaySize[0]*M,V=c[1]-_.displaySize[1]*L;return{image:_,top:V,bottom:V+_.displaySize[1],left:z,right:z+_.displaySize[0]}}function hv(_,c,v,M,L,z){const V=_.image;let K;if(V.content){const It=V.content,Ht=V.pixelRatio||1;K=[It[0]/Ht,It[1]/Ht,V.displaySize[0]-It[2]/Ht,V.displaySize[1]-It[3]/Ht]}const re=c.left*z,me=c.right*z;let xe,Se,Oe,Ve;"width"===v||"both"===v?(Ve=L[0]+re-M[3],Se=L[0]+me+M[1]):(Ve=L[0]+(re+me-V.displaySize[0])/2,Se=Ve+V.displaySize[0]);const et=c.top*z,_t=c.bottom*z;return"height"===v||"both"===v?(xe=L[1]+et-M[0],Oe=L[1]+_t+M[2]):(xe=L[1]+(et+_t-V.displaySize[1])/2,Oe=xe+V.displaySize[1]),{image:V,top:xe,right:Se,bottom:Oe,left:Ve,collisionPadding:K}}class ap extends Te{constructor(c,v,M,L){super(c,v),this.angle=M,void 0!==L&&(this.segment=L)}clone(){return new ap(this.x,this.y,this.angle,this.segment)}}function fb(_,c,v,M,L){if(void 0===c.segment)return!0;let z=c,V=c.segment+1,K=0;for(;K>-v/2;){if(V--,V<0)return!1;K-=_[V].dist(z),z=_[V]}K+=_[V].dist(_[V+1]),V++;const re=[];let me=0;for(;K<v/2;){const xe=_[V],Se=_[V+1];if(!Se)return!1;let Oe=_[V-1].angleTo(xe)-xe.angleTo(Se);for(Oe=Math.abs((Oe+3*Math.PI)%(2*Math.PI)-Math.PI),re.push({distance:K,angleDelta:Oe}),me+=Oe;K-re[0].distance>M;)me-=re.shift().angleDelta;if(me>L)return!1;V++,K+=xe.dist(Se)}return!0}function mb(_){let c=0;for(let v=0;v<_.length-1;v++)c+=_[v].dist(_[v+1]);return c}function sy(_,c,v){return _?.6*c*v:0}function f_(_,c){return Math.max(_?_.right-_.left:0,c?c.right-c.left:0)}function sm(_,c,v,M,L,z){const V=sy(v,L,z),K=f_(v,M)*z;let re=0;const me=mb(_)/2;for(let xe=0;xe<_.length-1;xe++){const Se=_[xe],Oe=_[xe+1],Ve=Se.dist(Oe);if(re+Ve>me){const et=(me-re)/Ve,_t=mi(Se.x,Oe.x,et),It=mi(Se.y,Oe.y,et),Ht=new ap(_t,It,Oe.angleTo(Se),xe);return!V||fb(_,Ht,K,V,c)?Ht:void 0}re+=Ve}}function B0(_,c,v,M,L,z,V,K,re){const me=sy(M,z,V),xe=f_(M,L),Se=xe*V,Oe=0===_[0].x||_[0].x===re||0===_[0].y||_[0].y===re;return c-Se<c/4&&(c=Se+c/4),Y0(_,Oe?c/2*K%c:(xe/2+2*z)*V*K%c,c,me,v,Se,Oe,!1,re)}function Y0(_,c,v,M,L,z,V,K,re){const me=z/2,xe=mb(_);let Se=0,Oe=c-v,Ve=[];for(let et=0;et<_.length-1;et++){const _t=_[et],It=_[et+1],Ht=_t.dist(It),tn=It.angleTo(_t);for(;Oe+v<Se+Ht;){Oe+=v;const on=(Oe-Se)/Ht,pn=mi(_t.x,It.x,on),xn=mi(_t.y,It.y,on);if(pn>=0&&pn<re&&xn>=0&&xn<re&&Oe-me>=0&&Oe+me<=xe){const yn=new ap(pn,xn,tn,et);yn._round(),M&&!fb(_,yn,z,M,L)||Ve.push(yn)}}Se+=Ht}return K||Ve.length||V||(Ve=Y0(_,Se/2,v,M,L,z,V,!0,re)),Ve}function pv(_,c,v,M,L){const z=[];for(let V=0;V<_.length;V++){const K=_[V];let re;for(let me=0;me<K.length-1;me++){let xe=K[me],Se=K[me+1];xe.x<c&&Se.x<c||(xe.x<c?xe=new Te(c,xe.y+(c-xe.x)/(Se.x-xe.x)*(Se.y-xe.y))._round():Se.x<c&&(Se=new Te(c,xe.y+(c-xe.x)/(Se.x-xe.x)*(Se.y-xe.y))._round()),xe.y<v&&Se.y<v||(xe.y<v?xe=new Te(xe.x+(v-xe.y)/(Se.y-xe.y)*(Se.x-xe.x),v)._round():Se.y<v&&(Se=new Te(xe.x+(v-xe.y)/(Se.y-xe.y)*(Se.x-xe.x),v)._round()),xe.x>=M&&Se.x>=M||(xe.x>=M?xe=new Te(M,xe.y+(M-xe.x)/(Se.x-xe.x)*(Se.y-xe.y))._round():Se.x>=M&&(Se=new Te(M,xe.y+(M-xe.x)/(Se.x-xe.x)*(Se.y-xe.y))._round()),xe.y>=L&&Se.y>=L||(xe.y>=L?xe=new Te(xe.x+(L-xe.y)/(Se.y-xe.y)*(Se.x-xe.x),L)._round():Se.y>=L&&(Se=new Te(xe.x+(L-xe.y)/(Se.y-xe.y)*(Se.x-xe.x),L)._round()),re&&xe.equals(re[re.length-1])||(re=[xe],z.push(re)),re.push(Se)))))}}return z}Mi("Anchor",ap);var m_=Uu,H0=Uu,Om=1e20;function Uu(_,c,v,M,L,z){this.fontSize=_||24,this.buffer=void 0===c?3:c,this.cutoff=M||.25,this.fontFamily=L||"sans-serif",this.fontWeight=z||"normal",this.radius=v||8;var V=this.size=this.fontSize+2*this.buffer,K=V+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=V,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(K*K),this.gridInner=new Float64Array(K*K),this.f=new Float64Array(K),this.z=new Float64Array(K+1),this.v=new Uint16Array(K),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(V/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g_(_,c,v,M,L,z){for(var V=0;V<c;V++)oy(_,V,c,v,M,L,z);for(var K=0;K<v;K++)oy(_,K*c,1,c,M,L,z)}function oy(_,c,v,M,L,z,V){var K,re,me,xe;for(z[0]=0,V[0]=-Om,V[1]=Om,K=0;K<M;K++)L[K]=_[c+K*v];for(K=1,re=0,me=0;K<M;K++){do{me=(L[K]-L[xe=z[re]]+K*K-xe*xe)/(K-xe)/2}while(me<=V[re]&&--re>-1);z[++re]=K,V[re]=me,V[re+1]=Om}for(K=0,re=0;K<M;K++){for(;V[re+1]<K;)re++;_[c+K*v]=L[xe=z[re]]+(K-xe)*(K-xe)}}Uu.prototype._draw=function(_,c){var v,M,L,z,V,K,re,me,xe,Se=this.ctx.measureText(_),Oe=Se.width,Ve=2*this.buffer;c&&this.useMetrics?(V=Math.floor(Se.actualBoundingBoxAscent),me=this.buffer+Math.ceil(Se.actualBoundingBoxAscent),K=this.buffer,re=this.buffer,v=(M=Math.min(this.size,Math.ceil(Se.actualBoundingBoxRight-Se.actualBoundingBoxLeft)))+Ve,L=(z=Math.min(this.size-K,Math.ceil(Se.actualBoundingBoxAscent+Se.actualBoundingBoxDescent)))+Ve,this.ctx.textBaseline="alphabetic"):(v=M=this.size,L=z=this.size,V=19*this.fontSize/24,K=re=0,me=this.middle,this.ctx.textBaseline="middle"),M&&z&&(this.ctx.clearRect(re,K,M,z),this.ctx.fillText(_,this.buffer,me),xe=this.ctx.getImageData(re,K,M,z));var et=new Uint8ClampedArray(v*L);return function(_t,It,Ht,tn,on,pn,xn){pn.fill(Om,0,It*Ht),xn.fill(0,0,It*Ht);for(var yn=(It-tn)/2,Wn=0;Wn<on;Wn++)for(var Kn=0;Kn<tn;Kn++){var Gn=(Wn+yn)*It+Kn+yn,pi=_t.data[4*(Wn*tn+Kn)+3]/255;if(1===pi)pn[Gn]=0,xn[Gn]=Om;else if(0===pi)pn[Gn]=Om,xn[Gn]=0;else{var Nn=Math.max(0,.5-pi),jn=Math.max(0,pi-.5);pn[Gn]=Nn*Nn,xn[Gn]=jn*jn}}}(xe,v,L,M,z,this.gridOuter,this.gridInner),g_(this.gridOuter,v,L,this.f,this.v,this.z),g_(this.gridInner,v,L,this.f,this.v,this.z),function(_t,It,Ht,tn,on,pn,xn){for(var yn=0;yn<It*Ht;yn++){var Wn=Math.sqrt(tn[yn])-Math.sqrt(on[yn]);_t[yn]=Math.round(255-255*(Wn/pn+xn))}}(et,v,L,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:et,metrics:{width:M,height:z,sdfWidth:v,sdfHeight:L,top:V,left:0,advance:Oe}}},Uu.prototype.draw=function(_){return this._draw(_,!1).data},Uu.prototype.drawWithMetrics=function(_){return this._draw(_,!0)},m_.default=H0;const Rm={none:0,ideographs:1,all:2};class lp{constructor(c,v,M){this.requestManager=c,this.localGlyphMode=v,this.localFontFamily=M,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(c){this.url=c}getGlyphs(c,v){const M=[];for(const L in c)for(const z of c[L])M.push({stack:L,id:z});ds(M,({stack:L,id:z},V)=>{let K=this.entries[L];K||(K=this.entries[L]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let re=K.glyphs[z];if(void 0!==re)return void V(null,{stack:L,id:z,glyph:re});if(re=this._tinySDF(K,L,z),re)return K.glyphs[z]=re,void V(null,{stack:L,id:z,glyph:re});const me=Math.floor(z/256);if(256*me>65535)return void V(new Error("glyphs > 65535 not supported"));if(K.ranges[me])return void V(null,{stack:L,id:z,glyph:re});let xe=K.requests[me];xe||(xe=K.requests[me]=[],lp.loadGlyphRange(L,me,this.url,this.requestManager,(Se,Oe)=>{if(Oe){K.ascender=Oe.ascender,K.descender=Oe.descender;for(const Ve in Oe.glyphs)this._doesCharSupportLocalGlyph(+Ve)||(K.glyphs[+Ve]=Oe.glyphs[+Ve]);K.ranges[me]=!0}for(const Ve of xe)Ve(Se,Oe);delete K.requests[me]})),xe.push((Se,Oe)=>{Se?V(Se):Oe&&V(null,{stack:L,id:z,glyph:Oe.glyphs[z]||null})})},(L,z)=>{if(L)v(L);else if(z){const V={};for(const{stack:K,id:re,glyph:me}of z)void 0===V[K]&&(V[K]={}),void 0===V[K].glyphs&&(V[K].glyphs={}),V[K].glyphs[re]=me&&{id:me.id,bitmap:me.bitmap.clone(),metrics:me.metrics},V[K].ascender=this.entries[K].ascender,V[K].descender=this.entries[K].descender;v(null,V)}})}_doesCharSupportLocalGlyph(c){return this.localGlyphMode!==Rm.none&&(this.localGlyphMode===Rm.all?!!this.localFontFamily:!!this.localFontFamily&&(Dc(c)||Ac(c)||Lo(c)||Ja(c))||td(c))}_tinySDF(c,v,M){const L=this.localFontFamily;if(!L||!this._doesCharSupportLocalGlyph(M))return;let z=c.tinySDF;if(!z){let _t="400";/bold/i.test(v)?_t="900":/medium/i.test(v)?_t="500":/light/i.test(v)&&(_t="200"),z=c.tinySDF=new lp.TinySDF(48,6,16,.25,L,_t)}if(this.localGlyphs[z.fontWeight][M])return this.localGlyphs[z.fontWeight][M];const{data:V,metrics:K}=z.drawWithMetrics(String.fromCharCode(M)),{sdfWidth:re,sdfHeight:me,width:xe,height:Se,left:Oe,top:Ve,advance:et}=K;return this.localGlyphs[z.fontWeight][M]={id:M,bitmap:new Bd({width:re,height:me},V),metrics:{width:xe/2,height:Se/2,left:Oe/2,top:Ve/2-27,advance:et/2,localGlyph:!0}}}}function ay(_,c,v,M){const L=[],z=_.image,V=z.pixelRatio,K=z.paddedRect.w-2,re=z.paddedRect.h-2,me=_.right-_.left,xe=_.bottom-_.top,Se=z.stretchX||[[0,K]],Oe=z.stretchY||[[0,re]],Ve=(Nn,jn)=>Nn+jn[1]-jn[0],et=Se.reduce(Ve,0),_t=Oe.reduce(Ve,0),It=K-et,Ht=re-_t;let tn=0,on=et,pn=0,xn=_t,yn=0,Wn=It,Kn=0,Gn=Ht;if(z.content&&M){const Nn=z.content;tn=cp(Se,0,Nn[0]),pn=cp(Oe,0,Nn[1]),on=cp(Se,Nn[0],Nn[2]),xn=cp(Oe,Nn[1],Nn[3]),yn=Nn[0]-tn,Kn=Nn[1]-pn,Wn=Nn[2]-Nn[0]-on,Gn=Nn[3]-Nn[1]-xn}const pi=(Nn,jn,ui,On)=>{const ar=ld(Nn.stretch-tn,on,me,_.left),Jr=om(Nn.fixed-yn,Wn,Nn.stretch,et),Fr=ld(jn.stretch-pn,xn,xe,_.top),Wr=om(jn.fixed-Kn,Gn,jn.stretch,_t),qi=ld(ui.stretch-tn,on,me,_.left),io=om(ui.fixed-yn,Wn,ui.stretch,et),er=ld(On.stretch-pn,xn,xe,_.top),As=om(On.fixed-Kn,Gn,On.stretch,_t),Na=new Te(ar,Fr),ba=new Te(qi,Fr),Bc=new Te(qi,er),xa=new Te(ar,er),la=new Te(Jr/V,Wr/V),Ao=new Te(io/V,As/V),wa=c*Math.PI/180;if(wa){const Fo=Math.sin(wa),yo=Math.cos(wa),Za=[yo,-Fo,Fo,yo];Na._matMult(Za),ba._matMult(Za),xa._matMult(Za),Bc._matMult(Za)}const Ro=Nn.stretch+Nn.fixed,ca=jn.stretch+jn.fixed;return{tl:Na,tr:ba,bl:xa,br:Bc,tex:{x:z.paddedRect.x+1+Ro,y:z.paddedRect.y+1+ca,w:ui.stretch+ui.fixed-Ro,h:On.stretch+On.fixed-ca},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:la,pixelOffsetBR:Ao,minFontScaleX:Wn/V/me,minFontScaleY:Gn/V/xe,isSDF:v}};if(M&&(z.stretchX||z.stretchY)){const Nn=ly(Se,It,et),jn=ly(Oe,Ht,_t);for(let ui=0;ui<Nn.length-1;ui++){const On=Nn[ui],ar=Nn[ui+1];for(let Jr=0;Jr<jn.length-1;Jr++)L.push(pi(On,jn[Jr],ar,jn[Jr+1]))}}else L.push(pi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:K+1},{fixed:0,stretch:re+1}));return L}function cp(_,c,v){let M=0;for(const L of _)M+=Math.max(c,Math.min(v,L[1]))-Math.max(c,Math.min(v,L[0]));return M}function ly(_,c,v){const M=[{fixed:-1,stretch:0}];for(const[L,z]of _){const V=M[M.length-1];M.push({fixed:L-V.stretch,stretch:V.stretch}),M.push({fixed:L-V.stretch,stretch:V.stretch+(z-L)})}return M.push({fixed:c+1,stretch:v}),M}function ld(_,c,v,M){return _/c*v+M}function om(_,c,v,M){return _-c*v/M}function cy(_,c,v,M){const L=c+_.positionedLines[M].lineOffset;return 0===M?v+L/2:v+(L+(c+_.positionedLines[M-1].lineOffset))/2}lp.loadGlyphRange=function(_,c,v,M,L){const z=256*c,V=z+255,K=M.transformRequest(M.normalizeGlyphsURL(v).replace("{fontstack}",_).replace("{range}",`${z}-${V}`),mr.Glyphs);He(K,(re,me)=>{if(re)L(re);else if(me){const xe={},Se=new Up(me).readFields(lv,{});for(const Oe of Se.glyphs)xe[Oe.id]=Oe;L(null,{glyphs:xe,ascender:Se.ascender,descender:Se.descender})}})},lp.TinySDF=m_;class gb{constructor(c=[],v=Fm){if(this.data=c,this.length=this.data.length,this.compare=v,this.length>0)for(let M=(this.length>>1)-1;M>=0;M--)this._down(M)}push(c){this.data.push(c),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const c=this.data[0],v=this.data.pop();return this.length--,this.length>0&&(this.data[0]=v,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:v,compare:M}=this,L=v[c];for(;c>0;){const z=c-1>>1,V=v[z];if(M(L,V)>=0)break;v[c]=V,c=z}v[c]=L}_down(c){const{data:v,compare:M}=this,L=this.length>>1,z=v[c];for(;c<L;){let V=1+(c<<1),K=v[V];const re=V+1;if(re<this.length&&M(v[re],K)<0&&(V=re,K=v[re]),M(K,z)>=0)break;v[c]=K,c=V}v[c]=z}}function Fm(_,c){return _<c?-1:_>c?1:0}function _b(_,c=1,v=!1){let M=1/0,L=1/0,z=-1/0,V=-1/0;const K=_[0];for(let Ve=0;Ve<K.length;Ve++){const et=K[Ve];(!Ve||et.x<M)&&(M=et.x),(!Ve||et.y<L)&&(L=et.y),(!Ve||et.x>z)&&(z=et.x),(!Ve||et.y>V)&&(V=et.y)}const re=Math.min(z-M,V-L);let me=re/2;const xe=new gb([],fv);if(0===re)return new Te(M,L);for(let Ve=M;Ve<z;Ve+=re)for(let et=L;et<V;et+=re)xe.push(new Ah(Ve+me,et+me,me,_));let Se=function(Ve){let et=0,_t=0,It=0;const Ht=Ve[0];for(let tn=0,on=Ht.length,pn=on-1;tn<on;pn=tn++){const xn=Ht[tn],yn=Ht[pn],Wn=xn.x*yn.y-yn.x*xn.y;_t+=(xn.x+yn.x)*Wn,It+=(xn.y+yn.y)*Wn,et+=3*Wn}return new Ah(_t/et,It/et,0,Ve)}(_),Oe=xe.length;for(;xe.length;){const Ve=xe.pop();(Ve.d>Se.d||!Se.d)&&(Se=Ve,v&&console.log("found best %d after %d probes",Math.round(1e4*Ve.d)/1e4,Oe)),Ve.max-Se.d<=c||(me=Ve.h/2,xe.push(new Ah(Ve.p.x-me,Ve.p.y-me,me,_)),xe.push(new Ah(Ve.p.x+me,Ve.p.y-me,me,_)),xe.push(new Ah(Ve.p.x-me,Ve.p.y+me,me,_)),xe.push(new Ah(Ve.p.x+me,Ve.p.y+me,me,_)),Oe+=4)}return v&&(console.log(`num probes: ${Oe}`),console.log(`best distance: ${Se.d}`)),Se.p}function fv(_,c){return c.max-_.max}function Ah(_,c,v,M){this.p=new Te(_,c),this.h=v,this.d=function(L,z){let V=!1,K=1/0;for(let re=0;re<z.length;re++){const me=z[re];for(let xe=0,Se=me.length,Oe=Se-1;xe<Se;Oe=xe++){const Ve=me[xe],et=me[Oe];Ve.y>L.y!=et.y>L.y&&L.x<(et.x-Ve.x)*(L.y-Ve.y)/(et.y-Ve.y)+Ve.x&&(V=!V),K=Math.min(K,i_(L,Ve,et))}}return(V?1:-1)*Math.sqrt(K)}(this.p,M),this.max=this.d+this.h*Math.SQRT2}const Nm=Number.POSITIVE_INFINITY,xf=Math.sqrt(2);function am(_,c){return c[1]!==Nm?function(v,M,L){let z=0,V=0;switch(M=Math.abs(M),L=Math.abs(L),v){case"top-right":case"top-left":case"top":V=L-7;break;case"bottom-right":case"bottom-left":case"bottom":V=7-L}switch(v){case"top-right":case"bottom-right":case"right":z=-M;break;case"top-left":case"bottom-left":case"left":z=M}return[z,V]}(_,c[0],c[1]):function(v,M){let L=0,z=0;M<0&&(M=0);const V=M/xf;switch(v){case"top-right":case"top-left":z=V-7;break;case"bottom-right":case"bottom-left":z=7-V;break;case"bottom":z=7-M;break;case"top":z=M-7}switch(v){case"top-right":case"bottom-right":L=-V;break;case"top-left":case"bottom-left":L=V;break;case"left":L=M;break;case"right":L=-M}return[L,z]}(_,c[0])}function uy(_,c,v,M,L,z,V,K){_.createArrays(),_.tilePixelRatio=Tr/(512*_.overscaling),_.compareText={},_.iconsNeedLinear=!1;const re=_.layers[0].layout,me=_.layers[0]._unevaluatedLayout._values,xe={};if("composite"===_.textSizeData.kind){const{minZoom:Ve,maxZoom:et}=_.textSizeData;xe.compositeTextSizes=[me["text-size"].possiblyEvaluate(new Qe(Ve),V),me["text-size"].possiblyEvaluate(new Qe(et),V)]}if("composite"===_.iconSizeData.kind){const{minZoom:Ve,maxZoom:et}=_.iconSizeData;xe.compositeIconSizes=[me["icon-size"].possiblyEvaluate(new Qe(Ve),V),me["icon-size"].possiblyEvaluate(new Qe(et),V)]}xe.layoutTextSize=me["text-size"].possiblyEvaluate(new Qe(K+1),V),xe.layoutIconSize=me["icon-size"].possiblyEvaluate(new Qe(K+1),V),xe.textMaxSize=me["text-size"].possiblyEvaluate(new Qe(18),V);const Se="map"===re.get("text-rotation-alignment")&&"point"!==re.get("symbol-placement"),Oe=re.get("text-size");for(const Ve of _.features){const et=re.get("text-font").evaluate(Ve,{},V).join(","),_t=Oe.evaluate(Ve,{},V),It=xe.layoutTextSize.evaluate(Ve,{},V),Ht=(xe.layoutIconSize.evaluate(Ve,{},V),{horizontal:{},vertical:void 0}),tn=Ve.text;let on,pn=[0,0];if(tn){const Wn=tn.toString(),Kn=24*re.get("text-letter-spacing").evaluate(Ve,{},V),Gn=24*re.get("text-line-height").evaluate(Ve,{},V),pi=Ba(Wn)?Kn:0,Nn=re.get("text-anchor").evaluate(Ve,{},V),jn=re.get("text-variable-anchor");if(!jn){const Wr=re.get("text-radial-offset").evaluate(Ve,{},V);pn=Wr?am(Nn,[24*Wr,Nm]):re.get("text-offset").evaluate(Ve,{},V).map(qi=>24*qi)}let ui=Se?"center":re.get("text-justify").evaluate(Ve,{},V);const On=re.get("symbol-placement"),ar="point"===On,Jr="point"===On?24*re.get("text-max-width").evaluate(Ve,{},V):0,Fr=Wr=>{_.allowVerticalPlacement&&id(Wn)&&(Ht.vertical=Vu(tn,c,v,L,et,Jr,Gn,Nn,Wr,pi,pn,Dh.vertical,!0,On,It,_t))};if(!Se&&jn){const Wr="auto"===ui?jn.map(io=>Gd(io)):[ui];let qi=!1;for(let io=0;io<Wr.length;io++){const er=Wr[io];if(!Ht.horizontal[er])if(qi)Ht.horizontal[er]=Ht.horizontal[0];else{const As=Vu(tn,c,v,L,et,Jr,Gn,"center",er,pi,pn,Dh.horizontal,!1,On,It,_t);As&&(Ht.horizontal[er]=As,qi=1===As.positionedLines.length)}}Fr("left")}else{if("auto"===ui&&(ui=Gd(Nn)),ar||re.get("text-writing-mode").indexOf("horizontal")>=0||!id(Wn)){const Wr=Vu(tn,c,v,L,et,Jr,Gn,Nn,ui,pi,pn,Dh.horizontal,!1,On,It,_t);Wr&&(Ht.horizontal[ui]=Wr)}Fr("point"===On?"left":ui)}}let xn=!1;if(Ve.icon&&Ve.icon.name){const Wn=M[Ve.icon.name];Wn&&(on=dv(L[Ve.icon.name],re.get("icon-offset").evaluate(Ve,{},V),re.get("icon-anchor").evaluate(Ve,{},V)),xn=Wn.sdf,void 0===_.sdfIcons?_.sdfIcons=Wn.sdf:_.sdfIcons!==Wn.sdf&&Ui("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Wn.pixelRatio!==_.pixelRatio||0!==re.get("icon-rotate").constantOr(1))&&(_.iconsNeedLinear=!0))}const yn=lm(Ht.horizontal)||Ht.vertical;_.iconsInText||(_.iconsInText=!!yn&&yn.iconsInText),(yn||on)&&Oc(_,Ve,Ht,on,M,xe,It,0,pn,xn,V)}z&&_.generateCollisionDebugBuffers(K,_.collisionBoxArray)}function Gd(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Oc(_,c,v,M,L,z,V,K,re,me,xe){let Se=z.textMaxSize.evaluate(c,{},xe);void 0===Se&&(Se=V);const Oe=_.layers[0].layout,Ve=Oe.get("icon-offset").evaluate(c,{},xe),et=lm(v.horizontal)||v.vertical,_t=V/24,It=_.tilePixelRatio*Se/24,Ht=_.tilePixelRatio*Oe.get("symbol-spacing"),tn=Oe.get("text-padding")*_.tilePixelRatio,on=Oe.get("icon-padding")*_.tilePixelRatio,pn=sn(Oe.get("text-max-angle")),xn="map"===Oe.get("text-rotation-alignment")&&"point"!==Oe.get("symbol-placement"),yn="map"===Oe.get("icon-rotation-alignment")&&"point"!==Oe.get("symbol-placement"),Wn=Oe.get("symbol-placement"),Kn=Ht/2,Gn=Oe.get("icon-text-fit");let pi;M&&"none"!==Gn&&(_.allowVerticalPlacement&&v.vertical&&(pi=hv(M,v.vertical,Gn,Oe.get("icon-text-fit-padding"),Ve,_t)),et&&(M=hv(M,et,Gn,Oe.get("icon-text-fit-padding"),Ve,_t)));const Nn=(jn,ui)=>{ui.x<0||ui.x>=Tr||ui.y<0||ui.y>=Tr||function(On,ar,Jr,Fr,Wr,qi,io,er,As,Na,ba,Bc,xa,la,Ao,wa,Ro,ca,Fo,yo,Za,cs,cr,pl){const ua=On.addToLineVertexArray(ar,Jr);let Jd,kl,Ns,Is,Yc,Xs,No,Ih=0,dm=0,El=0,tu=0,md=-1,qp=-1;const Dl={};let Eg=En(""),Ls=0,Vm=0;if(void 0===er._unevaluatedLayout.getValue("text-radial-offset")?[Ls,Vm]=er.layout.get("text-offset").evaluate(yo,{},cr).map(Ca=>24*Ca):(Ls=24*er.layout.get("text-radial-offset").evaluate(yo,{},cr),Vm=Nm),On.allowVerticalPlacement&&Fr.vertical){const Ca=Fr.vertical;if(la)Xs=Mg(Ca),io&&(No=Mg(io));else{const dc=er.layout.get("text-rotate").evaluate(yo,{},cr)+90;Ns=Cg(As,ar,Na,ba,Bc,Ca,xa,dc,Ao),io&&(Is=Cg(As,ar,Na,ba,Bc,io,Ro,dc))}}if(Wr){const Ca=er.layout.get("icon-rotate").evaluate(yo,{},cr),dc="none"!==er.layout.get("icon-text-fit"),il=ay(Wr,Ca,cs,dc),Ph=io?ay(io,Ca,cs,dc):void 0;kl=Cg(As,ar,Na,ba,Bc,Wr,Ro,Ca),Ih=4*il.length;const T_=On.iconSizeData;let hc=null;"source"===T_.kind?(hc=[gu*er.layout.get("icon-size").evaluate(yo,{},cr)],hc[0]>cd&&Ui(`${On.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===T_.kind&&(hc=[gu*Za.compositeIconSizes[0].evaluate(yo,{},cr),gu*Za.compositeIconSizes[1].evaluate(yo,{},cr)],(hc[0]>cd||hc[1]>cd)&&Ui(`${On.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),On.addSymbols(On.icon,il,hc,Fo,ca,yo,!1,ar,ua.lineStartIndex,ua.lineLength,-1,cr),md=On.icon.placedSymbolArray.length-1,Ph&&(dm=4*Ph.length,On.addSymbols(On.icon,Ph,hc,Fo,ca,yo,Dh.vertical,ar,ua.lineStartIndex,ua.lineLength,-1,cr),qp=On.icon.placedSymbolArray.length-1)}for(const Ca in Fr.horizontal){const dc=Fr.horizontal[Ca];Jd||(Eg=En(dc.text),la?Yc=Mg(dc):Jd=Cg(As,ar,Na,ba,Bc,dc,xa,er.layout.get("text-rotate").evaluate(yo,{},cr),Ao));const il=1===dc.positionedLines.length;if(El+=mv(On,ar,dc,qi,er,la,yo,Ao,ua,Fr.vertical?Dh.horizontal:Dh.horizontalOnly,il?Object.keys(Fr.horizontal):[Ca],Dl,md,Za,cr),il)break}Fr.vertical&&(tu+=mv(On,ar,Fr.vertical,qi,er,la,yo,Ao,ua,Dh.vertical,["vertical"],Dl,qp,Za,cr));let Lh=-1;const Dg=(Ca,dc)=>Ca?Math.max(Ca,dc):dc;Lh=Dg(Yc,Lh),Lh=Dg(Xs,Lh),Lh=Dg(No,Lh);const Ag=Lh>-1?1:0;Ag&&(Lh*=pl/24),On.glyphOffsetArray.length>=zm.MAX_GLYPHS&&Ui("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==yo.sortKey&&On.addToSortKeyRanges(On.symbolInstances.length,yo.sortKey),On.symbolInstances.emplaceBack(ar.x,ar.y,Dl.right>=0?Dl.right:-1,Dl.center>=0?Dl.center:-1,Dl.left>=0?Dl.left:-1,Dl.vertical>=0?Dl.vertical:-1,md,qp,Eg,void 0!==Jd?Jd:On.collisionBoxArray.length,void 0!==Jd?Jd+1:On.collisionBoxArray.length,void 0!==Ns?Ns:On.collisionBoxArray.length,void 0!==Ns?Ns+1:On.collisionBoxArray.length,void 0!==kl?kl:On.collisionBoxArray.length,void 0!==kl?kl+1:On.collisionBoxArray.length,Is||On.collisionBoxArray.length,Is?Is+1:On.collisionBoxArray.length,Na,El,tu,Ih,dm,Ag,0,Ls,Vm,Lh)}(_,ui,jn,v,M,L,pi,_.layers[0],_.collisionBoxArray,c.index,c.sourceLayerIndex,_.index,tn,xn,re,0,on,yn,Ve,c,z,me,xe,V)};if("line"===Wn)for(const jn of pv(c.geometry,0,0,Tr,Tr)){const ui=B0(jn,Ht,pn,v.vertical||et,M,24,It,_.overscaling,Tr);for(const On of ui){const ar=et;ar&&Tg(_,ar.text,Kn,On)||Nn(jn,On)}}else if("line-center"===Wn){for(const jn of c.geometry)if(jn.length>1){const ui=sm(jn,pn,v.vertical||et,M,24,It);ui&&Nn(jn,ui)}}else if("Polygon"===c.type)for(const jn of Hu(c.geometry,0)){const ui=_b(jn,16);Nn(jn[0],new ap(ui.x,ui.y,0))}else if("LineString"===c.type)for(const jn of c.geometry)Nn(jn,new ap(jn[0].x,jn[0].y,0));else if("Point"===c.type)for(const jn of c.geometry)for(const ui of jn)Nn([ui],new ap(ui.x,ui.y,0))}const cd=32640;function mv(_,c,v,M,L,z,V,K,re,me,xe,Se,Oe,Ve,et){const _t=function(tn,on,pn,xn,yn,Wn,Kn,Gn){const pi=[];if(0===on.positionedLines.length)return pi;const Nn=xn.layout.get("text-rotate").evaluate(Wn,{})*Math.PI/180,jn=function(Fr){const Wr=Fr[0],qi=Fr[1],io=Wr*qi;return io>0?[Wr,-qi]:io<0?[-Wr,qi]:0===Wr?[qi,Wr]:[qi,-Wr]}(pn);let ui=Math.abs(on.top-on.bottom);for(const Fr of on.positionedLines)ui-=Fr.lineOffset;const On=on.positionedLines.length,ar=ui/On;let Jr=on.top-pn[1];for(let Fr=0;Fr<On;++Fr){const Wr=on.positionedLines[Fr];Jr=cy(on,ar,Jr,Fr);for(const qi of Wr.positionedGlyphs){if(!qi.rect)continue;const io=qi.rect||{};let er=4,As=!0,Na=1,ba=0;const Bc=(yn||Gn)&&qi.vertical,xa=qi.metrics.advance*qi.scale/2,la=qi.metrics,Ao=qi.rect;if(null===Ao)continue;if(Gn&&on.verticalizable&&(ba=qi.imageName?xa-qi.metrics.width*qi.scale/2:0),qi.imageName){const Ns=Kn[qi.imageName];if(!Ns)continue;As=Ns.sdf,Na=Ns.pixelRatio,er=1/Na}const wa=yn?[qi.x+xa,qi.y]:[0,0];let Ro=[0,0],ca=[0,0],Fo=!1;yn||(Bc?(ca=[qi.x+xa+jn[0],qi.y+jn[1]-ba],Fo=!0):Ro=[qi.x+xa+pn[0],qi.y+pn[1]-ba]);const yo=Ao.w*qi.scale/(Na*(qi.localGlyph?2:1)),Za=Ao.h*qi.scale/(Na*(qi.localGlyph?2:1));let cs,cr,pl,ua;if(Bc){const Ns=qi.y-Jr,Is=new Te(-xa,xa-Ns),Yc=-Math.PI/2,Xs=new Te(...ca);cs=new Te(-xa+Ro[0],Ro[1]),cs._rotateAround(Yc,Is)._add(Xs),cs.x+=-Ns+xa,cs.y-=(la.left-er)*qi.scale;const No=qi.imageName?la.advance*qi.scale:24*qi.scale,Ih=String.fromCharCode(qi.glyph);Fa(Ih)?cs.x+=(1-er)*qi.scale:nv(Ih)?cs.x+=No-la.height*qi.scale+(-er-1)*qi.scale:cs.x+=qi.imageName||la.width+2*er===Ao.w&&la.height+2*er===Ao.h?(No-Za)/2:(No-(la.height+2*er)*qi.scale)/2,cr=new Te(cs.x,cs.y-yo),pl=new Te(cs.x+Za,cs.y),ua=new Te(cs.x+Za,cs.y-yo)}else{const Ns=(la.left-er)*qi.scale-xa+Ro[0],Is=(-la.top-er)*qi.scale+Ro[1],Yc=Ns+yo,Xs=Is+Za;cs=new Te(Ns,Is),cr=new Te(Yc,Is),pl=new Te(Ns,Xs),ua=new Te(Yc,Xs)}if(Nn){let Ns;Ns=yn?new Te(0,0):Fo?new Te(jn[0],jn[1]):new Te(pn[0],pn[1]),cs._rotateAround(Nn,Ns),cr._rotateAround(Nn,Ns),pl._rotateAround(Nn,Ns),ua._rotateAround(Nn,Ns)}const Jd=new Te(0,0),kl=new Te(0,0);pi.push({tl:cs,tr:cr,bl:pl,br:ua,tex:io,writingMode:on.writingMode,glyphOffset:wa,sectionIndex:qi.sectionIndex,isSDF:As,pixelOffsetTL:Jd,pixelOffsetBR:kl,minFontScaleX:0,minFontScaleY:0})}}return pi}(0,v,K,L,z,V,M,_.allowVerticalPlacement),It=_.textSizeData;let Ht=null;"source"===It.kind?(Ht=[gu*L.layout.get("text-size").evaluate(V,{},et)],Ht[0]>cd&&Ui(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===It.kind&&(Ht=[gu*Ve.compositeTextSizes[0].evaluate(V,{},et),gu*Ve.compositeTextSizes[1].evaluate(V,{},et)],(Ht[0]>cd||Ht[1]>cd)&&Ui(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),_.addSymbols(_.text,_t,Ht,K,z,V,me,c,re.lineStartIndex,re.lineLength,Oe,et);for(const tn of xe)Se[tn]=_.text.placedSymbolArray.length-1;return 4*_t.length}function lm(_){for(const c in _)return _[c];return null}function Cg(_,c,v,M,L,z,V,K,re){let me=z.top,xe=z.bottom,Se=z.left,Oe=z.right;const Ve=z.collisionPadding;if(Ve&&(Se-=Ve[0],me-=Ve[1],Oe+=Ve[2],xe+=Ve[3]),K){const et=new Te(Se,me),_t=new Te(Oe,me),It=new Te(Se,xe),Ht=new Te(Oe,xe),tn=sn(K);let on=new Te(0,0);re&&(on=new Te(re[0],re[1])),et._rotateAround(tn,on),_t._rotateAround(tn,on),It._rotateAround(tn,on),Ht._rotateAround(tn,on),Se=Math.min(et.x,_t.x,It.x,Ht.x),Oe=Math.max(et.x,_t.x,It.x,Ht.x),me=Math.min(et.y,_t.y,It.y,Ht.y),xe=Math.max(et.y,_t.y,It.y,Ht.y)}return _.emplaceBack(c.x,c.y,Se,me,Oe,xe,V,v,M,L),_.length-1}function Mg(_){_.collisionPadding&&(_.top-=_.collisionPadding[1],_.bottom+=_.collisionPadding[3]);const c=_.bottom-_.top;return c>0?Math.max(10,c):null}function Tg(_,c,v,M){const L=_.compareText;if(c in L){const z=L[c];for(let V=z.length-1;V>=0;V--)if(M.dist(z[V])<v)return!0}else L[c]=[];return L[c].push(M),!1}const gv=ip.VectorTileFeature.types,__=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Sg(_,c,v,M,L,z,V,K,re,me,xe,Se,Oe){const Ve=K?Math.min(cd,Math.round(K[0])):0,et=K?Math.min(cd,Math.round(K[1])):0;_.emplaceBack(c,v,Math.round(32*M),Math.round(32*L),z,V,(Ve<<1)+(re?1:0),et,16*me,16*xe,256*Se,256*Oe)}function y_(_,c,v){_.emplaceBack(c.x,c.y,v),_.emplaceBack(c.x,c.y,v),_.emplaceBack(c.x,c.y,v),_.emplaceBack(c.x,c.y,v)}function dy(_){for(const c of _.sections)if(Np(c.text))return!0;return!1}class v_{constructor(c){this.layoutVertexArray=new ao,this.indexArray=new Gs,this.programConfigurations=c,this.segments=new tl,this.dynamicLayoutVertexArray=new Hl,this.opacityVertexArray=new Ya,this.placedSymbolArray=new Pd}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(c,v,M,L){this.isEmpty()||(M&&(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,rr.members),this.indexBuffer=c.createIndexBuffer(this.indexArray,v),this.dynamicLayoutVertexBuffer=c.createVertexBuffer(this.dynamicLayoutVertexArray,rs.members,!0),this.opacityVertexBuffer=c.createVertexBuffer(this.opacityVertexArray,__,!0),this.opacityVertexBuffer.itemSize=1),(M||L)&&this.programConfigurations.upload(c))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Mi("SymbolBuffers",v_);class qd{constructor(c,v,M){this.layoutVertexArray=new c,this.layoutAttributes=v,this.indexArray=new M,this.segments=new tl,this.collisionVertexArray=new Vi,this.collisionVertexArrayExt=new Hl}upload(c){this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=c.createVertexBuffer(this.collisionVertexArray,_a.members,!0),this.collisionVertexBufferExt=c.createVertexBuffer(this.collisionVertexArrayExt,lc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Mi("CollisionBuffers",qd);class zm{constructor(c){this.collisionBoxArray=c.collisionBoxArray,this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(V=>V.id),this.index=c.index,this.pixelRatio=c.pixelRatio,this.sourceLayerIndex=c.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ul([]),this.placementViewportMatrix=Ul([]);const v=this.layers[0]._unevaluatedLayout._values;this.textSizeData=op(this.zoom,v["text-size"]),this.iconSizeData=op(this.zoom,v["icon-size"]);const M=this.layers[0].layout,L=M.get("symbol-sort-key"),z=M.get("symbol-z-order");this.canOverlap=M.get("text-allow-overlap")||M.get("icon-allow-overlap")||M.get("text-ignore-placement")||M.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==z&&void 0!==L.constantOr(1),this.sortFeaturesByY=("viewport-y"===z||"auto"===z&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=M.get("text-writing-mode").map(V=>Dh[V]),this.stateDependentLayerIds=this.layers.filter(V=>V.isStateDependent()).map(V=>V.id),this.sourceID=c.sourceID}createArrays(){this.text=new v_(new Ds(this.layers,this.zoom,c=>/^text/.test(c))),this.icon=new v_(new Ds(this.layers,this.zoom,c=>/^icon/.test(c))),this.glyphOffsetArray=new ic,this.lineVertexArray=new Zo,this.symbolInstances=new Od}calculateGlyphDependencies(c,v,M,L,z){for(let V=0;V<c.length;V++)if(v[c.charCodeAt(V)]=!0,L&&z){const K=nm[c.charAt(V)];K&&(v[K.charCodeAt(0)]=!0)}}populate(c,v,M){const L=this.layers[0],z=L.layout,V=z.get("text-font"),K=z.get("text-field"),re=z.get("icon-image"),me=("constant"!==K.value.kind||K.value.value instanceof vi&&!K.value.value.isEmpty()||K.value.value.toString().length>0)&&("constant"!==V.value.kind||V.value.value.length>0),xe="constant"!==re.value.kind||!!re.value.value||Object.keys(re.parameters).length>0,Se=z.get("symbol-sort-key");if(this.features=[],!me&&!xe)return;const Oe=v.iconDependencies,Ve=v.glyphDependencies,et=v.availableImages,_t=new Qe(this.zoom);for(const{feature:It,id:Ht,index:tn,sourceLayerIndex:on}of c){const pn=L._featureFilter.needGeometry,xn=Qh(It,pn);if(!L._featureFilter.filter(_t,xn,M))continue;let yn,Wn;if(pn||(xn.geometry=Bp(It)),me){const Gn=L.getValueAndResolveTokens("text-field",xn,M,et),pi=vi.factory(Gn);dy(pi)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===be()||this.hasRTLText&&qe.isParsed())&&(yn=c_(pi,L,xn))}if(xe){const Gn=L.getValueAndResolveTokens("icon-image",xn,M,et);Wn=Gn instanceof Yi?Gn:Yi.fromString(Gn)}if(!yn&&!Wn)continue;const Kn=this.sortFeaturesByKey?Se.evaluate(xn,{},M):void 0;if(this.features.push({id:Ht,text:yn,icon:Wn,index:tn,sourceLayerIndex:on,geometry:xn.geometry,properties:It.properties,type:gv[It.type],sortKey:Kn}),Wn&&(Oe[Wn.name]=!0),yn){const Gn=V.evaluate(xn,{},M).join(","),pi="map"===z.get("text-rotation-alignment")&&"point"!==z.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Dh.vertical)>=0;for(const Nn of yn.sections)if(Nn.image)Oe[Nn.image.name]=!0;else{const jn=id(yn.toString()),ui=Nn.fontStack||Gn,On=Ve[ui]=Ve[ui]||{};this.calculateGlyphDependencies(Nn.text,On,pi,this.allowVerticalPlacement,jn)}}}"line"===z.get("symbol-placement")&&(this.features=function(It){const Ht={},tn={},on=[];let pn=0;function xn(Gn){on.push(It[Gn]),pn++}function yn(Gn,pi,Nn){const jn=tn[Gn];return delete tn[Gn],tn[pi]=jn,on[jn].geometry[0].pop(),on[jn].geometry[0]=on[jn].geometry[0].concat(Nn[0]),jn}function Wn(Gn,pi,Nn){const jn=Ht[pi];return delete Ht[pi],Ht[Gn]=jn,on[jn].geometry[0].shift(),on[jn].geometry[0]=Nn[0].concat(on[jn].geometry[0]),jn}function Kn(Gn,pi,Nn){const jn=Nn?pi[0][pi[0].length-1]:pi[0][0];return`${Gn}:${jn.x}:${jn.y}`}for(let Gn=0;Gn<It.length;Gn++){const pi=It[Gn],Nn=pi.geometry,jn=pi.text?pi.text.toString():null;if(!jn){xn(Gn);continue}const ui=Kn(jn,Nn),On=Kn(jn,Nn,!0);if(ui in tn&&On in Ht&&tn[ui]!==Ht[On]){const ar=Wn(ui,On,Nn),Jr=yn(ui,On,on[ar].geometry);delete Ht[ui],delete tn[On],tn[Kn(jn,on[Jr].geometry,!0)]=Jr,on[ar].geometry=null}else ui in tn?yn(ui,On,Nn):On in Ht?Wn(ui,On,Nn):(xn(Gn),Ht[ui]=pn-1,tn[On]=pn-1)}return on.filter(Gn=>Gn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((It,Ht)=>It.sortKey-Ht.sortKey)}update(c,v,M){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(c,v,this.layers,M),this.icon.programConfigurations.updatePaintArrays(c,v,this.layers,M))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(c){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(c),this.iconCollisionBox.upload(c)),this.text.upload(c,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(c,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(c,v){const M=this.lineVertexArray.length;if(void 0!==c.segment){let L=c.dist(v[c.segment+1]),z=c.dist(v[c.segment]);const V={};for(let K=c.segment+1;K<v.length;K++)V[K]={x:v[K].x,y:v[K].y,tileUnitDistanceFromAnchor:L},K<v.length-1&&(L+=v[K+1].dist(v[K]));for(let K=c.segment||0;K>=0;K--)V[K]={x:v[K].x,y:v[K].y,tileUnitDistanceFromAnchor:z},K>0&&(z+=v[K-1].dist(v[K]));for(let K=0;K<v.length;K++){const re=V[K];this.lineVertexArray.emplaceBack(re.x,re.y,re.tileUnitDistanceFromAnchor)}}return{lineStartIndex:M,lineLength:this.lineVertexArray.length-M}}addSymbols(c,v,M,L,z,V,K,re,me,xe,Se,Oe){const Ve=c.indexArray,et=c.layoutVertexArray,_t=c.segments.prepareSegment(4*v.length,et,Ve,this.canOverlap?V.sortKey:void 0),It=this.glyphOffsetArray.length,Ht=_t.vertexLength,tn=this.allowVerticalPlacement&&K===Dh.vertical?Math.PI/2:0,on=V.text&&V.text.sections;for(let pn=0;pn<v.length;pn++){const{tl:xn,tr:yn,bl:Wn,br:Kn,tex:Gn,pixelOffsetTL:pi,pixelOffsetBR:Nn,minFontScaleX:jn,minFontScaleY:ui,glyphOffset:On,isSDF:ar,sectionIndex:Jr}=v[pn],Fr=_t.vertexLength,Wr=On[1];Sg(et,re.x,re.y,xn.x,Wr+xn.y,Gn.x,Gn.y,M,ar,pi.x,pi.y,jn,ui),Sg(et,re.x,re.y,yn.x,Wr+yn.y,Gn.x+Gn.w,Gn.y,M,ar,Nn.x,pi.y,jn,ui),Sg(et,re.x,re.y,Wn.x,Wr+Wn.y,Gn.x,Gn.y+Gn.h,M,ar,pi.x,Nn.y,jn,ui),Sg(et,re.x,re.y,Kn.x,Wr+Kn.y,Gn.x+Gn.w,Gn.y+Gn.h,M,ar,Nn.x,Nn.y,jn,ui),y_(c.dynamicLayoutVertexArray,re,tn),Ve.emplaceBack(Fr,Fr+1,Fr+2),Ve.emplaceBack(Fr+1,Fr+2,Fr+3),_t.vertexLength+=4,_t.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(On[0]),pn!==v.length-1&&Jr===v[pn+1].sectionIndex||c.programConfigurations.populatePaintArrays(et.length,V,V.index,{},Oe,on&&on[Jr])}c.placedSymbolArray.emplaceBack(re.x,re.y,It,this.glyphOffsetArray.length-It,Ht,me,xe,re.segment,M?M[0]:0,M?M[1]:0,L[0],L[1],K,0,!1,0,Se,0)}_commitLayoutVertex(c,v,M,L,z){c.emplaceBack(v.x,v.y,M,L,Math.round(z.x),Math.round(z.y))}_addCollisionDebugVertices(c,v,M,L,z){const V=M.segments.prepareSegment(4,M.layoutVertexArray,M.indexArray),K=V.vertexLength,re=z.anchorX,me=z.anchorY;for(let Se=0;Se<4;Se++)M.collisionVertexArray.emplaceBack(0,0,0,0);M.collisionVertexArrayExt.emplaceBack(v,-c.padding,-c.padding),M.collisionVertexArrayExt.emplaceBack(v,c.padding,-c.padding),M.collisionVertexArrayExt.emplaceBack(v,c.padding,c.padding),M.collisionVertexArrayExt.emplaceBack(v,-c.padding,c.padding),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Te(c.x1,c.y1)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Te(c.x2,c.y1)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Te(c.x2,c.y2)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Te(c.x1,c.y2)),V.vertexLength+=4;const xe=M.indexArray;xe.emplaceBack(K,K+1),xe.emplaceBack(K+1,K+2),xe.emplaceBack(K+2,K+3),xe.emplaceBack(K+3,K),V.primitiveLength+=4}_addTextDebugCollisionBoxes(c,v,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceTextSize(c,V,v,K);this._addCollisionDebugVertices(re,me,this.textCollisionBox,re.anchorPoint,V)}}_addIconDebugCollisionBoxes(c,v,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceIconSize(c,v,K);this._addCollisionDebugVertices(re,me,this.iconCollisionBox,re.anchorPoint,V)}}generateCollisionDebugBuffers(c,v){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qd(Ko,sp.members,dl),this.iconCollisionBox=new qd(Ko,sp.members,dl);const M=vf(this.iconSizeData,c),L=vf(this.textSizeData,c);for(let z=0;z<this.symbolInstances.length;z++){const V=this.symbolInstances.get(z);this._addTextDebugCollisionBoxes(L,c,v,V.textBoxStartIndex,V.textBoxEndIndex,V),this._addTextDebugCollisionBoxes(L,c,v,V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V),this._addIconDebugCollisionBoxes(M,c,v,V.iconBoxStartIndex,V.iconBoxEndIndex,V),this._addIconDebugCollisionBoxes(M,c,v,V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V)}}getSymbolInstanceTextSize(c,v,M,L){const z=this.text.placedSymbolArray.get(v.rightJustifiedTextSymbolIndex>=0?v.rightJustifiedTextSymbolIndex:v.centerJustifiedTextSymbolIndex>=0?v.centerJustifiedTextSymbolIndex:v.leftJustifiedTextSymbolIndex>=0?v.leftJustifiedTextSymbolIndex:v.verticalPlacedTextSymbolIndex>=0?v.verticalPlacedTextSymbolIndex:L),V=Zd(this.textSizeData,c,z)/24;return this.tilePixelRatio*V}getSymbolInstanceIconSize(c,v,M){const L=this.icon.placedSymbolArray.get(M),z=Zd(this.iconSizeData,c,L);return this.tilePixelRatio*z}_commitDebugCollisionVertexUpdate(c,v,M){c.emplaceBack(v,-M,-M),c.emplaceBack(v,M,-M),c.emplaceBack(v,M,M),c.emplaceBack(v,-M,M)}_updateTextDebugCollisionBoxes(c,v,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceTextSize(c,V,v,K);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,me,re.padding)}}_updateIconDebugCollisionBoxes(c,v,M,L,z){for(let V=L;V<z;V++){const K=M.get(V),re=this.getSymbolInstanceIconSize(c,v,V);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,re,K.padding)}}updateCollisionDebugBuffers(c,v){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const M=vf(this.iconSizeData,c),L=vf(this.textSizeData,c);for(let z=0;z<this.symbolInstances.length;z++){const V=this.symbolInstances.get(z);this._updateTextDebugCollisionBoxes(L,c,v,V.textBoxStartIndex,V.textBoxEndIndex,V),this._updateTextDebugCollisionBoxes(L,c,v,V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V),this._updateIconDebugCollisionBoxes(M,c,v,V.iconBoxStartIndex,V.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(M,c,v,V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(c,v,M,L,z,V,K,re,me){const xe={};for(let Se=v;Se<M;Se++){const Oe=c.get(Se);xe.textBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},xe.textFeatureIndex=Oe.featureIndex;break}for(let Se=L;Se<z;Se++){const Oe=c.get(Se);xe.verticalTextBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},xe.verticalTextFeatureIndex=Oe.featureIndex;break}for(let Se=V;Se<K;Se++){const Oe=c.get(Se);xe.iconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},xe.iconFeatureIndex=Oe.featureIndex;break}for(let Se=re;Se<me;Se++){const Oe=c.get(Se);xe.verticalIconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},xe.verticalIconFeatureIndex=Oe.featureIndex;break}return xe}deserializeCollisionBoxes(c){this.collisionArrays=[];for(let v=0;v<this.symbolInstances.length;v++){const M=this.symbolInstances.get(v);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(c,M.textBoxStartIndex,M.textBoxEndIndex,M.verticalTextBoxStartIndex,M.verticalTextBoxEndIndex,M.iconBoxStartIndex,M.iconBoxEndIndex,M.verticalIconBoxStartIndex,M.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(c,v){const M=c.placedSymbolArray.get(v),L=M.vertexStartIndex+4*M.numGlyphs;for(let z=M.vertexStartIndex;z<L;z+=4)c.indexArray.emplaceBack(z,z+1,z+2),c.indexArray.emplaceBack(z+1,z+2,z+3)}getSortedSymbolIndexes(c){if(this.sortedAngle===c&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const v=Math.sin(c),M=Math.cos(c),L=[],z=[],V=[];for(let K=0;K<this.symbolInstances.length;++K){V.push(K);const re=this.symbolInstances.get(K);L.push(0|Math.round(v*re.anchorX+M*re.anchorY)),z.push(re.featureIndex)}return V.sort((K,re)=>L[K]-L[re]||z[re]-z[K]),V}addToSortKeyRanges(c,v){const M=this.sortKeyRanges[this.sortKeyRanges.length-1];M&&M.sortKey===v?M.symbolInstanceEnd=c+1:this.sortKeyRanges.push({sortKey:v,symbolInstanceStart:c,symbolInstanceEnd:c+1})}sortFeatures(c){if(this.sortFeaturesByY&&this.sortedAngle!==c&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(c),this.sortedAngle=c,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const v of this.symbolInstanceIndexes){const M=this.symbolInstances.get(v);this.featureSortOrder.push(M.featureIndex),[M.rightJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.leftJustifiedTextSymbolIndex].forEach((L,z,V)=>{L>=0&&V.indexOf(L)===z&&this.addIndicesForPlacedSymbol(this.text,L)}),M.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,M.verticalPlacedTextSymbolIndex),M.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,M.placedIconSymbolIndex),M.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,M.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Mi("SymbolBucket",zm,{omit:["layers","collisionBoxArray","features","compareText"]}),zm.MAX_GLYPHS=65535,zm.addDynamicAttributes=y_;const ud=new Lt({"symbol-placement":new St(b.layout_symbol["symbol-placement"]),"symbol-spacing":new St(b.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new St(b.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new At(b.layout_symbol["symbol-sort-key"]),"symbol-z-order":new St(b.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new St(b.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new St(b.layout_symbol["icon-ignore-placement"]),"icon-optional":new St(b.layout_symbol["icon-optional"]),"icon-rotation-alignment":new St(b.layout_symbol["icon-rotation-alignment"]),"icon-size":new At(b.layout_symbol["icon-size"]),"icon-text-fit":new St(b.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new St(b.layout_symbol["icon-text-fit-padding"]),"icon-image":new At(b.layout_symbol["icon-image"]),"icon-rotate":new At(b.layout_symbol["icon-rotate"]),"icon-padding":new St(b.layout_symbol["icon-padding"]),"icon-keep-upright":new St(b.layout_symbol["icon-keep-upright"]),"icon-offset":new At(b.layout_symbol["icon-offset"]),"icon-anchor":new At(b.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new St(b.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new St(b.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new St(b.layout_symbol["text-rotation-alignment"]),"text-field":new At(b.layout_symbol["text-field"]),"text-font":new At(b.layout_symbol["text-font"]),"text-size":new At(b.layout_symbol["text-size"]),"text-max-width":new At(b.layout_symbol["text-max-width"]),"text-line-height":new At(b.layout_symbol["text-line-height"]),"text-letter-spacing":new At(b.layout_symbol["text-letter-spacing"]),"text-justify":new At(b.layout_symbol["text-justify"]),"text-radial-offset":new At(b.layout_symbol["text-radial-offset"]),"text-variable-anchor":new St(b.layout_symbol["text-variable-anchor"]),"text-anchor":new At(b.layout_symbol["text-anchor"]),"text-max-angle":new St(b.layout_symbol["text-max-angle"]),"text-writing-mode":new St(b.layout_symbol["text-writing-mode"]),"text-rotate":new At(b.layout_symbol["text-rotate"]),"text-padding":new St(b.layout_symbol["text-padding"]),"text-keep-upright":new St(b.layout_symbol["text-keep-upright"]),"text-transform":new At(b.layout_symbol["text-transform"]),"text-offset":new At(b.layout_symbol["text-offset"]),"text-allow-overlap":new St(b.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new St(b.layout_symbol["text-ignore-placement"]),"text-optional":new St(b.layout_symbol["text-optional"])});var Dn={paint:new Lt({"icon-opacity":new At(b.paint_symbol["icon-opacity"]),"icon-color":new At(b.paint_symbol["icon-color"]),"icon-halo-color":new At(b.paint_symbol["icon-halo-color"]),"icon-halo-width":new At(b.paint_symbol["icon-halo-width"]),"icon-halo-blur":new At(b.paint_symbol["icon-halo-blur"]),"icon-translate":new St(b.paint_symbol["icon-translate"]),"icon-translate-anchor":new St(b.paint_symbol["icon-translate-anchor"]),"text-opacity":new At(b.paint_symbol["text-opacity"]),"text-color":new At(b.paint_symbol["text-color"],{runtimeType:Pe,getOverride:_=>_.textColor,hasOverride:_=>!!_.textColor}),"text-halo-color":new At(b.paint_symbol["text-halo-color"]),"text-halo-width":new At(b.paint_symbol["text-halo-width"]),"text-halo-blur":new At(b.paint_symbol["text-halo-blur"]),"text-translate":new St(b.paint_symbol["text-translate"]),"text-translate-anchor":new St(b.paint_symbol["text-translate-anchor"])}),layout:ud};class In{constructor(c){this.type=c.property.overrides?c.property.overrides.runtimeType:ue,this.defaultValue=c}evaluate(c){if(c.formattedSection){const v=this.defaultValue.property.overrides;if(v&&v.hasOverride(c.formattedSection))return v.getOverride(c.formattedSection)}return c.feature&&c.featureState?this.defaultValue.evaluate(c.feature,c.featureState):this.defaultValue.property.specification.default}eachChild(c){this.defaultValue.isConstant()||c(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Mi("FormatSectionOverride",In,{omit:["defaultValue"]});class va extends rc{constructor(c){super(c,Dn)}recalculate(c,v){super.recalculate(c,v),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const M=this.layout.get("text-writing-mode");if(M){const L=[];for(const z of M)L.indexOf(z)<0&&L.push(z);this.layout._values["text-writing-mode"]=L}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(c,v,M,L){const z=this.layout.get(c).evaluate(v,{},M,L),V=this._unevaluatedLayout._values[c];return V.isDataDriven()||fa(V.value)||!z?z:(K=v.properties,z.replace(/{([^{}]+)}/g,(me,xe)=>xe in K?String(K[xe]):""));var K}createBucket(c){return new zm(c)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const c of Dn.paint.overridableProperties){if(!va.hasPaintOverride(this.layout,c))continue;const v=this.paint.get(c),M=new In(v),L=new fh(M,v.property.specification);let z=null;z="constant"===v.value.kind||"source"===v.value.kind?new Cc("source",L):new qc("composite",L,v.value.zoomStops,v.value._interpolationType),this.paint._values[c]=new Tt(v.property,z,v.parameters)}}_handleOverridablePaintPropertyUpdate(c,v,M){return!(!this.layout||v.isDataDriven()||M.isDataDriven())&&va.hasPaintOverride(this.layout,c)}static hasPaintOverride(c,v){const M=c.get("text-field"),L=Dn.paint.properties[v];let z=!1;const V=K=>{for(const re of K)if(L.overrides&&L.overrides.hasOverride(re))return void(z=!0)};if("constant"===M.value.kind&&M.value.value instanceof vi)V(M.value.value.sections);else if("source"===M.value.kind){const K=me=>{z||(me instanceof qr&&Ms(me.value)===bt?V(me.value.sections):me instanceof _o?V(me.sections):me.eachChild(K))},re=M.value;re._styleExpression&&K(re._styleExpression.expression)}return z}getProgramConfiguration(c){return new yt(this,c)}}var _u={paint:new Lt({"background-color":new St(b.paint_background["background-color"]),"background-pattern":new An(b.paint_background["background-pattern"]),"background-opacity":new St(b.paint_background["background-opacity"])})},si={paint:new Lt({"raster-opacity":new St(b.paint_raster["raster-opacity"]),"raster-hue-rotate":new St(b.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new St(b.paint_raster["raster-brightness-min"]),"raster-brightness-max":new St(b.paint_raster["raster-brightness-max"]),"raster-saturation":new St(b.paint_raster["raster-saturation"]),"raster-contrast":new St(b.paint_raster["raster-contrast"]),"raster-resampling":new St(b.paint_raster["raster-resampling"]),"raster-fade-duration":new St(b.paint_raster["raster-fade-duration"])})};class cc extends rc{constructor(c){super(c,{}),this.implementation=c}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(c){this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)}onRemove(c){this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)}}var up={paint:new Lt({"sky-type":new St(b.paint_sky["sky-type"]),"sky-atmosphere-sun":new St(b.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new St(b.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new St(b.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new St(b.paint_sky["sky-gradient-radius"]),"sky-gradient":new Fn(b.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new St(b.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new St(b.paint_sky["sky-atmosphere-color"]),"sky-opacity":new St(b.paint_sky["sky-opacity"])})};function kg(_,c,v){const M=Nd(0,0,1),L=jl(zu());return function(z,V,K){K*=.5;var re=V[0],me=V[1],xe=V[2],Se=V[3],Oe=Math.sin(K),Ve=Math.cos(K);z[0]=re*Ve-xe*Oe,z[1]=me*Ve+Se*Oe,z[2]=xe*Ve+re*Oe,z[3]=Se*Ve-me*Oe}(L,L,v?-sn(_)+Math.PI:sn(_)),ep(L,L,-sn(c)),Gf(M,M,L),r_(M,M)}const hr={circle:class extends rc{constructor(_){super(_,sc)}createBucket(_){return new lo(_)}queryRadius(_){const c=_;return xl("circle-radius",this,c)+xl("circle-stroke-width",this,c)+Zf(this.paint.get("circle-translate"))}queryIntersectsFeature(_,c,v,M,L,z,V,K){const re="map"===this.paint.get("circle-pitch-alignment");if(re&&_.queryGeometry.isAboveHorizon)return!1;const me=sg(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),xe=this.paint.get("circle-radius").evaluate(c,v)+this.paint.get("circle-stroke-width").evaluate(c,v),Se=re?xe*_.pixelToTileUnitsFactor:xe;for(const Oe of M)for(const Ve of Oe){const et=Ve.add(me),_t=K&&z.elevation?z.elevation.exaggeration()*K.getElevationAt(et.x,et.y,!0):0,It=re?et:cf(et,_t,V),Ht=re?_.tilespaceRays.map(pn=>Qf(pn,_t)):_.queryGeometry.screenGeometry;let tn=Se;const on=$f([],[Ve.x,Ve.y,_t,1],V);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?tn*=on[3]/z.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(tn*=z.cameraToCenterDistance/on[3]),wo(Ht,It,tn))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(_){return new yt(this,_)}},heatmap:class extends rc{createBucket(_){return new Mh(_)}constructor(_){super(_,o_),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){"heatmap-color"===_&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=uf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(_){return new yt(this,_)}},hillshade:class extends rc{constructor(_){super(_,Yd)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(_){return new yt(this,_)}},fill:class extends rc{constructor(_){super(_,Kf)}getProgramIds(){const _=this.paint.get("fill-pattern"),c=_&&_.constantOr(1),v=[c?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&v.push(c&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),v}getProgramConfiguration(_){return new yt(this,_)}recalculate(_,c){super.recalculate(_,c);const v=this.paint._values["fill-outline-color"];"constant"===v.value.kind&&void 0===v.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(_){return new ac(_)}queryRadius(){return Zf(this.paint.get("fill-translate"))}queryIntersectsFeature(_,c,v,M,L,z){return!_.queryGeometry.isAboveHorizon&&Vl(wl(_.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),M)}isTileClipped(){return!0}},"fill-extrusion":class extends rc{constructor(_){super(_,E)}createBucket(_){return new tm(_)}queryRadius(){return Zf(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(_){return new yt(this,_)}queryIntersectsFeature(_,c,v,M,L,z,V,K,re){const me=sg(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),xe=this.paint.get("fill-extrusion-height").evaluate(c,v),Se=this.paint.get("fill-extrusion-base").evaluate(c,v),Oe=[0,0],Ve=K&&z.elevation,et=z.elevation?z.elevation.exaggeration():1;if(Ve){const Ht=_.tile.getBucket(this).centroidVertexArray,tn=re+1;if(tn<Ht.length){const on=Ht.get(tn);Oe[0]=on.a_centroid_pos0,Oe[1]=on.a_centroid_pos1}}if(0===Oe[0]&&1===Oe[1])return!1;const _t=(Ht=M,tn=Se,on=xe,pn=me,xn=V,(yn=Ve?K:null)?function(pi,Nn,jn,ui,On,ar,Jr,Fr,Wr){const qi=[],io=[],er=[0,0,0,1];for(const As of pi){const Na=[],ba=[];for(const Bc of As){const xa=Bc.x+ui.x,la=Bc.y+ui.y,Ao=se(xa,la,Nn,jn,ar,Jr,Fr,Wr);er[0]=xa,er[1]=la,er[2]=Ao.base,er[3]=1,$f(er,er,On),er[3]=Math.max(er[3],1e-5);const wa=Z([er[0]/er[3],er[1]/er[3],er[2]/er[3]]);er[0]=xa,er[1]=la,er[2]=Ao.top,er[3]=1,$f(er,er,On),er[3]=Math.max(er[3],1e-5);const Ro=Z([er[0]/er[3],er[1]/er[3],er[2]/er[3]]);Na.push(wa),ba.push(Ro)}qi.push(Na),io.push(ba)}return[qi,io]}(Ht,tn,on,pn,xn,yn,Oe,et,z.center.lat):function(pi,Nn,jn,ui,On){const ar=[],Jr=[],Fr=On[8]*Nn,Wr=On[9]*Nn,qi=On[10]*Nn,io=On[11]*Nn,er=On[8]*jn,As=On[9]*jn,Na=On[10]*jn,ba=On[11]*jn;for(const Bc of pi){const xa=[],la=[];for(const Ao of Bc){const wa=Ao.x+ui.x,Ro=Ao.y+ui.y,ca=On[0]*wa+On[4]*Ro+On[12],Fo=On[1]*wa+On[5]*Ro+On[13],yo=On[2]*wa+On[6]*Ro+On[14],Za=On[3]*wa+On[7]*Ro+On[15],cs=ca+Fr,cr=Fo+Wr,pl=yo+qi,ua=Math.max(Za+io,1e-5),Jd=ca+er,kl=Fo+As,Ns=yo+Na,Is=Math.max(Za+ba,1e-5),Yc=new Te(cs/ua,cr/ua);Yc.z=pl/ua,xa.push(Yc);const Xs=new Te(Jd/Is,kl/Is);Xs.z=Ns/Is,la.push(Xs)}ar.push(xa),Jr.push(la)}return[ar,Jr]}(Ht,tn,on,pn,xn)),It=_.queryGeometry;var Ht,tn,on,pn,xn,yn;return function(Ht,tn,on){let pn=1/0;Vl(on,tn)&&(pn=O(on,tn[0]));for(let xn=0;xn<tn.length;xn++){const yn=tn[xn],Wn=Ht[xn];for(let Kn=0;Kn<yn.length-1;Kn++){const Gn=yn[Kn],pi=[Gn,yn[Kn+1],Wn[Kn+1],Wn[Kn],Gn];lf(on,pi)&&(pn=Math.min(pn,O(on,pi)))}}return pn!==1/0&&pn}(_t[0],_t[1],It.isPointQuery()?It.screenBounds:It.screenGeometry)}},line:class extends rc{constructor(_){super(_,oi),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(_){if("line-gradient"===_){const c=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=c._styleExpression&&c._styleExpression.expression instanceof Ga,this.gradientVersion=(this.gradientVersion+1)%Mt}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(_,c){super.recalculate(_,c),this.paint._values["line-floorwidth"]=ki.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,_)}createBucket(_){return new Cn(_)}getProgramIds(){const _=this.paint.get("line-dasharray"),c=this.paint.get("line-pattern").constantOr(1),v=this.paint.get("line-gradient");return[c?"linePattern":_?"lineSDF":v?"lineGradient":"line"]}getProgramConfiguration(_){return new yt(this,_)}queryRadius(_){const c=_,v=Wi(xl("line-width",this,c),xl("line-gap-width",this,c)),M=xl("line-offset",this,c);return v/2+Math.abs(M)+Zf(this.paint.get("line-translate"))}queryIntersectsFeature(_,c,v,M,L,z){if(_.queryGeometry.isAboveHorizon)return!1;const V=wl(_.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),K=_.pixelToTileUnitsFactor/2*Wi(this.paint.get("line-width").evaluate(c,v),this.paint.get("line-gap-width").evaluate(c,v)),re=this.paint.get("line-offset").evaluate(c,v);return re&&(M=function(me,xe){const Se=[],Oe=new Te(0,0);for(let Ve=0;Ve<me.length;Ve++){const et=me[Ve],_t=[];for(let It=0;It<et.length;It++){const Ht=et[It-1],tn=et[It],on=et[It+1],pn=0===It?Oe:tn.sub(Ht)._unit()._perp(),xn=It===et.length-1?Oe:on.sub(tn)._unit()._perp(),yn=pn._add(xn)._unit();yn._mult(1/(yn.x*xn.x+yn.y*xn.y)),_t.push(yn._mult(xe)._add(tn))}Se.push(_t)}return Se}(M,re*_.pixelToTileUnitsFactor)),function(me,xe,Se){for(let Oe=0;Oe<xe.length;Oe++){const Ve=xe[Oe];if(me.length>=3)for(let et=0;et<Ve.length;et++)if(Fu(me,Ve[et]))return!0;if(Jh(me,Ve,Se))return!0}return!1}(V,M,K)}isTileClipped(){return!0}},symbol:va,background:class extends rc{constructor(_){super(_,_u)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends rc{constructor(_){super(_,si)}getProgramIds(){return["raster"]}},sky:class extends rc{constructor(_){super(_,up),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){"sky-gradient"===_?this._updateColorRamp():"sky-atmosphere-sun"!==_&&"sky-atmosphere-halo-color"!==_&&"sky-atmosphere-color"!==_&&"sky-atmosphere-sun-intensity"!==_||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=uf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(_){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const c=_.style.light.properties.get("position");return this._lightPosition.azimuthal!==c.azimuthal||this._lightPosition.polar!==c.polar}}getCenter(_,c){const v=this.paint.get("sky-type");if("atmosphere"===v){const M=this.paint.get("sky-atmosphere-sun"),L=!M,z=_.style.light,V=z.properties.get("position");return L&&"viewport"===z.properties.get("anchor")&&Ui("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),L?kg(V.azimuthal,90-V.polar,c):kg(M[0],90-M[1],c)}if("gradient"===v){const M=this.paint.get("sky-gradient-center");return kg(M[0],90-M[1],c)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(_){this._skyboxInvalidated=!1,this._lightPosition=_.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const _=this.paint.get("sky-type");return"atmosphere"===_?["skyboxCapture","skybox"]:"gradient"===_?["skyboxGradient"]:null}}},{HTMLImageElement:Hr,HTMLCanvasElement:Li,HTMLVideoElement:_v,ImageData:b_,ImageBitmap:Ys}=We;class Kc{constructor(c,v,M,L){this.context=c,this.format=M,this.texture=c.gl.createTexture(),this.update(v,L)}update(c,v,M){const{width:L,height:z}=c,V=!(this.size&&this.size[0]===L&&this.size[1]===z||M),{context:K}=this,{gl:re}=K;if(this.useMipmap=Boolean(v&&v.useMipmap),re.bindTexture(re.TEXTURE_2D,this.texture),K.pixelStoreUnpackFlipY.set(!1),K.pixelStoreUnpack.set(1),K.pixelStoreUnpackPremultiplyAlpha.set(this.format===re.RGBA&&(!v||!1!==v.premultiply)),V)this.size=[L,z],c instanceof Hr||c instanceof Li||c instanceof _v||c instanceof b_||Ys&&c instanceof Ys?re.texImage2D(re.TEXTURE_2D,0,this.format,this.format,re.UNSIGNED_BYTE,c):re.texImage2D(re.TEXTURE_2D,0,this.format,L,z,0,this.format,re.UNSIGNED_BYTE,c.data);else{const{x:me,y:xe}=M||{x:0,y:0};c instanceof Hr||c instanceof Li||c instanceof _v||c instanceof b_||Ys&&c instanceof Ys?re.texSubImage2D(re.TEXTURE_2D,0,me,xe,re.RGBA,re.UNSIGNED_BYTE,c):re.texSubImage2D(re.TEXTURE_2D,0,me,xe,L,z,re.RGBA,re.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&re.generateMipmap(re.TEXTURE_2D)}bind(c,v,M){const{context:L}=this,{gl:z}=L;z.bindTexture(z.TEXTURE_2D,this.texture),M!==z.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(M=z.LINEAR),c!==this.filter&&(z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,c),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,M||c),this.filter=c),v!==this.wrap&&(z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,v),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,v),this.wrap=v)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}class Gp{constructor(c,v){c&&(v?this.setSouthWest(c).setNorthEast(v):4===c.length?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1]))}setNorthEast(c){return this._ne=c instanceof Ti?new Ti(c.lng,c.lat):Ti.convert(c),this}setSouthWest(c){return this._sw=c instanceof Ti?new Ti(c.lng,c.lat):Ti.convert(c),this}extend(c){const v=this._sw,M=this._ne;let L,z;if(c instanceof Ti)L=c,z=c;else{if(!(c instanceof Gp))return Array.isArray(c)?4===c.length||c.every(Array.isArray)?this.extend(Gp.convert(c)):this.extend(Ti.convert(c)):this;if(L=c._sw,z=c._ne,!L||!z)return this}return v||M?(v.lng=Math.min(L.lng,v.lng),v.lat=Math.min(L.lat,v.lat),M.lng=Math.max(z.lng,M.lng),M.lat=Math.max(z.lat,M.lat)):(this._sw=new Ti(L.lng,L.lat),this._ne=new Ti(z.lng,z.lat)),this}getCenter(){return new Ti((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ti(this.getWest(),this.getNorth())}getSouthEast(){return new Ti(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:v,lat:M}=Ti.convert(c);let L=this._sw.lng<=v&&v<=this._ne.lng;return this._sw.lng>this._ne.lng&&(L=this._sw.lng>=v&&v>=this._ne.lng),this._sw.lat<=M&&M<=this._ne.lat&&L}static convert(c){return!c||c instanceof Gp?c:new Gp(c)}}const Rc=6371008.8;class Ti{constructor(c,v){if(isNaN(c)||isNaN(v))throw new Error(`Invalid LngLat object: (${c}, ${v})`);if(this.lng=+c,this.lat=+v,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ti(ur(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(c){const v=Math.PI/180,M=this.lat*v,L=c.lat*v,z=Math.sin(M)*Math.sin(L)+Math.cos(M)*Math.cos(L)*Math.cos((c.lng-this.lng)*v);return Rc*Math.acos(Math.min(z,1))}toBounds(c=0){const v=360*c/40075017,M=v/Math.cos(Math.PI/180*this.lat);return new Gp(new Ti(this.lng-M,this.lat-v),new Ti(this.lng+M,this.lat+v))}static convert(c){if(c instanceof Ti)return c;if(Array.isArray(c)&&(2===c.length||3===c.length))return new Ti(Number(c[0]),Number(c[1]));if(!Array.isArray(c)&&"object"==typeof c&&null!==c)return new Ti(Number("lng"in c?c.lng:c.lon),Number(c.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ua=2*Math.PI*Rc;function wf(_){return Ua*Math.cos(_*Math.PI/180)}function hy(_){return(180+_)/360}function py(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function uo(_,c){return _/wf(c)}function $d(_){return 360/Math.PI*Math.atan(Math.exp((180-360*_)*Math.PI/180))-90}function ju(_,c){return _*wf($d(c))}class dp{constructor(c,v,M=0){this.x=+c,this.y=+v,this.z=+M}static fromLngLat(c,v=0){const M=Ti.convert(c);return new dp(hy(M.lng),py(M.lat),uo(v,M.lat))}toLngLat(){return new Ti(360*this.x-180,$d(this.y))}toAltitude(){return ju(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ua*(c=$d(this.y),1/Math.cos(c*Math.PI/180));var c}}class Fc{constructor(c,v){this.width=c,this.height=v,this.nextRow=0,this.image=new Bd({width:c,height:v}),this.positions={},this.uploaded=!1}getDash(c,v){const M=this.getKey(c,v);return this.positions[M]}trim(){const c=this.width,v=this.height=wn(this.nextRow);this.image.resize({width:c,height:v})}getKey(c,v){return c.join(",")+v}getDashRanges(c,v,M){const L=[];let z=c.length%2==1?-c[c.length-1]*M:0,V=c[0]*M,K=!0;L.push({left:z,right:V,isDash:K,zeroLength:0===c[0]});let re=c[0];for(let me=1;me<c.length;me++){K=!K;const xe=c[me];z=re*M,re+=xe,V=re*M,L.push({left:z,right:V,isDash:K,zeroLength:0===xe})}return L}addRoundDash(c,v,M){const L=v/2;for(let z=-M;z<=M;z++){const V=this.width*(this.nextRow+M+z);let K=0,re=c[K];for(let me=0;me<this.width;me++){me/re.right>1&&(re=c[++K]);const xe=Math.abs(me-re.left),Se=Math.abs(me-re.right),Oe=Math.min(xe,Se);let Ve;const et=z/M*(L+1);if(re.isDash){const _t=L-Math.abs(et);Ve=Math.sqrt(Oe*Oe+_t*_t)}else Ve=L-Math.sqrt(Oe*Oe+et*et);this.image.data[V+me]=Math.max(0,Math.min(255,Ve+128))}}}addRegularDash(c,v){for(let re=c.length-1;re>=0;--re){const me=c[re],xe=c[re+1];me.zeroLength?c.splice(re,1):xe&&xe.isDash===me.isDash&&(xe.left=me.left,c.splice(re,1))}const M=c[0],L=c[c.length-1];M.isDash===L.isDash&&(M.left=L.left-this.width,L.right=M.right+this.width);const z=this.width*this.nextRow;let V=0,K=c[V];for(let re=0;re<this.width;re++){re/K.right>1&&(K=c[++V]);const me=Math.abs(re-K.left),xe=Math.abs(re-K.right),Se=Math.min(me,xe);this.image.data[z+re]=Math.max(0,Math.min(255,(K.isDash?Se:-Se)+v+128))}}addDash(c,v){const M=this.getKey(c,v);if(this.positions[M])return this.positions[M];const L="round"===v,z=L?7:0,V=2*z+1;if(this.nextRow+V>this.height)return Ui("LineAtlas out of space"),null;0===c.length&&c.push(1);let K=0;for(let xe=0;xe<c.length;xe++)c[xe]<0&&(Ui("Negative value is found in line dasharray, replacing values with 0"),c[xe]=0),K+=c[xe];if(0!==K){const xe=this.width/K,Se=this.getDashRanges(c,this.width,xe);L?this.addRoundDash(Se,xe,z):this.addRegularDash(Se,"square"===v?.5*xe:0)}const re=this.nextRow+z;this.nextRow+=V;const me={tl:[re,z],br:[K,0]};return this.positions[M]=me,me}}Mi("LineAtlas",Fc);class fy{constructor(c){this._callback=c,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const hp=We.performance;function Ml(_){const c=_?_.url.toString():void 0;return hp.getEntriesByName(c)}class Bm{constructor(){this.tasks={},this.taskQueue=[],Tn(["process"],this),this.invoker=new fy(this.process),this.nextId=0}add(c,v){const M=this.nextId++,L=function({type:z,isSymbolTile:V,zoom:K}){return K=K||0,"message"===z?0:"maybePrepare"!==z||V?"parseTile"!==z||V?"parseTile"===z&&V?300-K:"maybePrepare"===z&&V?400-K:500:200-K:100-K}(v);if(0===L){bi();try{c()}finally{}return{cancel:()=>{}}}return this.tasks[M]={fn:c,metadata:v,priority:L,id:M},this.taskQueue.push(M),this.invoker.trigger(),{cancel:()=>{delete this.tasks[M]}}}process(){bi();try{if(this.taskQueue=this.taskQueue.filter(M=>!!this.tasks[M]),!this.taskQueue.length)return;const c=this.pick();if(null===c)return;const v=this.tasks[c];if(delete this.tasks[c],this.taskQueue.length&&this.invoker.trigger(),!v)return;v.fn()}finally{}}pick(){let c=null,v=1/0;for(let L=0;L<this.taskQueue.length;L++){const z=this.tasks[this.taskQueue[L]];z.priority<v&&(v=z.priority,c=L)}if(null===c)return null;const M=this.taskQueue[c];return this.taskQueue.splice(c,1),M}remove(){this.invoker.remove()}}function Ym(_,c,v){var M=2*Math.PI*6378137/256/Math.pow(2,v);return[_*M-2*Math.PI*6378137/2,c*M-2*Math.PI*6378137/2]}class Nc{constructor(c,v,M){this.z=c,this.x=v,this.y=M,this.key=fp(0,c,c,v,M)}equals(c){return this.z===c.z&&this.x===c.x&&this.y===c.y}url(c,v){const M=(z=this.y,V=this.z,K=Ym(256*(L=this.x),256*(z=Math.pow(2,V)-z-1),V),re=Ym(256*(L+1),256*(z+1),V),K[0]+","+K[1]+","+re[0]+","+re[1]);var L,z,V,K,re;const me=function(xe,Se,Oe){let Ve,et="";for(let _t=xe;_t>0;_t--)Ve=1<<_t-1,et+=(Se&Ve?1:0)+(Oe&Ve?2:0);return et}(this.z,this.x,this.y);return c[(this.x+this.y)%c.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===v?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",me).replace("{bbox-epsg-3857}",M)}getTilePoint(c){const v=Math.pow(2,this.z);return new Te((c.x*v-this.x)*Tr,(c.y*v-this.y)*Tr)}getTileVec3(c){const v=Math.pow(2,this.z);return Nd((c.x*v-this.x)*Tr,(c.y*v-this.y)*Tr,ju(c.z,c.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class pp{constructor(c,v){this.wrap=c,this.canonical=v,this.key=fp(c,v.z,v.z,v.x,v.y)}}class Tl{constructor(c,v,M,L,z){this.overscaledZ=c,this.wrap=v,this.canonical=new Nc(M,+L,+z),this.key=0===v&&c===M?this.canonical.key:fp(v,c,M,L,z)}equals(c){return this.overscaledZ===c.overscaledZ&&this.wrap===c.wrap&&this.canonical.equals(c.canonical)}scaledTo(c){const v=this.canonical.z-c;return c>this.canonical.z?new Tl(c,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Tl(c,this.wrap,c,this.canonical.x>>v,this.canonical.y>>v)}calculateScaledKey(c,v=!0){if(this.overscaledZ===c&&v)return this.key;if(c>this.canonical.z)return fp(this.wrap*+v,c,this.canonical.z,this.canonical.x,this.canonical.y);{const M=this.canonical.z-c;return fp(this.wrap*+v,c,c,this.canonical.x>>M,this.canonical.y>>M)}}isChildOf(c){if(c.wrap!==this.wrap)return!1;const v=this.canonical.z-c.canonical.z;return 0===c.overscaledZ||c.overscaledZ<this.overscaledZ&&c.canonical.x===this.canonical.x>>v&&c.canonical.y===this.canonical.y>>v}children(c){if(this.overscaledZ>=c)return[new Tl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const v=this.canonical.z+1,M=2*this.canonical.x,L=2*this.canonical.y;return[new Tl(v,this.wrap,v,M,L),new Tl(v,this.wrap,v,M+1,L),new Tl(v,this.wrap,v,M,L+1),new Tl(v,this.wrap,v,M+1,L+1)]}isLessThan(c){return this.wrap<c.wrap||!(this.wrap>c.wrap)&&(this.overscaledZ<c.overscaledZ||!(this.overscaledZ>c.overscaledZ)&&(this.canonical.x<c.canonical.x||!(this.canonical.x>c.canonical.x)&&this.canonical.y<c.canonical.y))}wrapped(){return new Tl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(c){return new Tl(this.overscaledZ,c,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new pp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(c){return this.canonical.getTilePoint(new dp(c.x-this.wrap,c.y))}getTileVec3(c){return this.canonical.getTileVec3(new dp(c.x-this.wrap,c.y,c.z))}}function fp(_,c,v,M,L){const z=1<<Math.min(v,22);let V=z*(L%z)+M%z;return _&&v<22&&(V+=z*z*((_<0?-2*_-1:2*_)%(1<<2*(22-v)))),16*(32*V+v)+(c-v)}Mi("CanonicalTileID",Nc),Mi("OverscaledTileID",Tl,{omit:["projMatrix"]});class x_{constructor(c){this._stringToNumber={},this._numberToString=[];for(let v=0;v<c.length;v++){const M=c[v];this._stringToNumber[M]=v,this._numberToString[v]=M}}encode(c){return this._stringToNumber[c]}decode(c){return this._numberToString[c]}}class pr{constructor(c,v,M,L,z){this.type="Feature",this._vectorTileFeature=c,c._z=v,c._x=M,c._y=L,this.properties=c.properties,this.id=z}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(c){this._geometry=c}toJSON(){const c={geometry:this.geometry};for(const v in this)"_geometry"!==v&&"_vectorTileFeature"!==v&&(c[v]=this[v]);return c}}var Cf=Xn([{name:"a_pos",type:"Int16",components:2}]);class dd{constructor(c,v,M){this.tileID=c,this.uid=tr(),this.uses=0,this.tileSize=v,this.tileZoom=M,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const v=c+this.timeAdded;v<Ks.now()||this.fadeEndTime&&v<this.fadeEndTime||(this.fadeEndTime=v)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(c,v,M){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(L,z){const V={};if(!z)return V;for(const K of L){const re=K.layerIds.map(me=>z.getLayer(me)).filter(Boolean);if(0!==re.length){K.layers=re,K.stateDependentLayerIds&&(K.stateDependentLayers=K.stateDependentLayerIds.map(me=>re.filter(xe=>xe.id===me)[0]));for(const me of re)V[me.id]=K}}return V}(c.buckets,v.style),this.hasSymbolBuckets=!1;for(const L in this.buckets){const z=this.buckets[L];if(z instanceof zm){if(this.hasSymbolBuckets=!0,!M)break;z.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const L in this.buckets){const z=this.buckets[L];if(z instanceof zm&&z.hasRTLText){this.hasRTLText=!0,qe.isLoading()||qe.isLoaded()||"deferred"!==be()||Ue();break}}this.queryPadding=0;for(const L in this.buckets){const z=this.buckets[L];this.queryPadding=Math.max(this.queryPadding,v.style.getLayer(L).queryRadius(z))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),c.lineAtlas&&(this.lineAtlas=c.lineAtlas)}else this.collisionBoxArray=new rd}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const M in this.buckets){const L=this.buckets[M];L.uploadPending()&&L.upload(c)}const v=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Kc(c,this.imageAtlas.image,v.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Kc(c,this.glyphAtlasImage,v.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Kc(c,this.lineAtlas.image,v.ALPHA),this.lineAtlas.uploaded=!0)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,v,M,L,z,V,K,re){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:L,pixelPosMatrix:K,transform:V,params:z},c,v,M):{}}querySourceFeatures(c,v){const M=this.latestFeatureIndex;if(!M||!M.rawTileData)return;const L=M.loadVTLayers(),z=v?v.sourceLayer:"",V=L._geojsonTileLayer||L[z];if(!V)return;const K=eo(v&&v.filter),{z:re,x:me,y:xe}=this.tileID.canonical,Se={z:re,x:me,y:xe};for(let Oe=0;Oe<V.length;Oe++){const Ve=V.feature(Oe);if(K.needGeometry){const It=Qh(Ve,!0);if(!K.filter(new Qe(this.tileID.overscaledZ),It,this.tileID.canonical))continue}else if(!K.filter(new Qe(this.tileID.overscaledZ),Ve))continue;const et=M.getId(Ve,z),_t=new pr(Ve,re,me,xe,et);_t.tile=Se,c.push(_t)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const v=this.expirationTime;if(c.cacheControl){const M=xi(c.cacheControl);M["max-age"]&&(this.expirationTime=Date.now()+1e3*M["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const M=Date.now();let L=!1;if(this.expirationTime>M)L=!1;else if(v)if(this.expirationTime<v)L=!0;else{const z=this.expirationTime-v;z?this.expirationTime=M+Math.max(z,3e4):L=!0}else L=!0;L?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(c,v){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(c).length)return;const M=this.latestFeatureIndex.loadVTLayers();for(const L in this.buckets){if(!v.style.hasLayer(L))continue;const z=this.buckets[L],V=z.layers[0].sourceLayer||"_geojsonTileLayer",K=M[V],re=c[V];if(!K||!re||0===Object.keys(re).length)continue;z.update(re,K,this.imageAtlas&&this.imageAtlas.patternPositions||{});const me=v&&v.style&&v.style.getLayer(L);me&&(this.queryPadding=Math.max(this.queryPadding,me.queryRadius(z)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ks.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=Ks.now()+c}setDependencies(c,v){const M={};for(const L of v)M[L]=!0;this.dependencies[c]=M}hasDependency(c,v){for(const M of c){const L=this.dependencies[M];if(L)for(const z of v)if(L[z])return!0}return!1}clearQueryDebugViz(){}}class hd{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,v,M){const L=String(v);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][L]=this.stateChanges[c][L]||{},zi(this.stateChanges[c][L],M),null===this.deletedStates[c]){this.deletedStates[c]={};for(const z in this.state[c])z!==L&&(this.deletedStates[c][z]=null)}else if(this.deletedStates[c]&&null===this.deletedStates[c][L]){this.deletedStates[c][L]={};for(const z in this.state[c][L])M[z]||(this.deletedStates[c][L][z]=null)}else for(const z in M)this.deletedStates[c]&&this.deletedStates[c][L]&&null===this.deletedStates[c][L][z]&&delete this.deletedStates[c][L][z]}removeFeatureState(c,v,M){if(null===this.deletedStates[c])return;const L=String(v);if(this.deletedStates[c]=this.deletedStates[c]||{},M&&void 0!==v)null!==this.deletedStates[c][L]&&(this.deletedStates[c][L]=this.deletedStates[c][L]||{},this.deletedStates[c][L][M]=null);else if(void 0!==v)if(this.stateChanges[c]&&this.stateChanges[c][L])for(M in this.deletedStates[c][L]={},this.stateChanges[c][L])this.deletedStates[c][L][M]=null;else this.deletedStates[c][L]=null;else this.deletedStates[c]=null}getState(c,v){const M=String(v),L=zi({},(this.state[c]||{})[M],(this.stateChanges[c]||{})[M]);if(null===this.deletedStates[c])return{};if(this.deletedStates[c]){const z=this.deletedStates[c][v];if(null===z)return{};for(const V in z)delete L[V]}return L}initializeTileState(c,v){c.setFeatureState(this.state,v)}coalesceChanges(c,v){const M={};for(const L in this.stateChanges){this.state[L]=this.state[L]||{};const z={};for(const V in this.stateChanges[L])this.state[L][V]||(this.state[L][V]={}),zi(this.state[L][V],this.stateChanges[L][V]),z[V]=this.state[L][V];M[L]=z}for(const L in this.deletedStates){this.state[L]=this.state[L]||{};const z={};if(null===this.deletedStates[L])for(const V in this.state[L])z[V]={},this.state[L][V]={};else for(const V in this.deletedStates[L]){if(null===this.deletedStates[L][V])this.state[L][V]={};else for(const K of Object.keys(this.deletedStates[L][V]))delete this.state[L][V][K];z[V]=this.state[L][V]}M[L]=M[L]||{},zi(M[L],z)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(M).length)for(const L in c)c[L].setFeatureState(M,v)}}class Qr{constructor(c){this.size=c,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(c,v){const M=this.toIdx(c,v);return{min:this.minimums[M],max:this.maximums[M]}}isLeaf(c,v){return this.leaves[this.toIdx(c,v)]}toIdx(c,v){return v*this.size+c}}function my(_,c,v,M){let L=0,z=Number.MAX_VALUE;for(let V=0;V<3;V++)if(Math.abs(M[V])<1e-15){if(v[V]<_[V]||v[V]>c[V])return null}else{const K=1/M[V];let re=(_[V]-v[V])*K,me=(c[V]-v[V])*K;if(re>me){const xe=re;re=me,me=xe}if(re>L&&(L=re),me<z&&(z=me),L>z)return null}return L}function eu(_,c,v,M,L,z,V,K,re,me,xe){const Se=M-_,Oe=L-c,Ve=z-v,et=V-_,_t=K-c,It=re-v,Ht=xe[1]*It-xe[2]*_t,tn=xe[2]*et-xe[0]*It,on=xe[0]*_t-xe[1]*et,pn=Se*Ht+Oe*tn+Ve*on;if(Math.abs(pn)<1e-15)return null;const xn=1/pn,yn=me[0]-_,Wn=me[1]-c,Kn=me[2]-v,Gn=(yn*Ht+Wn*tn+Kn*on)*xn;if(Gn<0||Gn>1)return null;const pi=Wn*Ve-Kn*Oe,Nn=Kn*Se-yn*Ve,jn=yn*Oe-Wn*Se,ui=(xe[0]*pi+xe[1]*Nn+xe[2]*jn)*xn;return ui<0||Gn+ui>1?null:(et*pi+_t*Nn+It*jn)*xn}function gy(_,c,v){return(_-c)/(v-c)}function w_(_,c,v,M,L,z,V,K,re){const me=1<<v,xe=z-M,Se=V-L,Oe=(_+1)/me*xe+M,Ve=(c+0)/me*Se+L,et=(c+1)/me*Se+L;K[0]=(_+0)/me*xe+M,K[1]=Ve,re[0]=Oe,re[1]=et}class ho{constructor(c){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=c,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const v=function(z){const V=Math.ceil(Math.log2(z.dim/8)),K=[];let re=Math.ceil(Math.pow(2,V));const me=1/re,xe=(Ve,et,_t,It,Ht)=>{const tn=It?1:0,on=(Ve+1)*_t-tn,pn=et*_t,xn=(et+1)*_t-tn;Ht[0]=Ve*_t,Ht[1]=pn,Ht[2]=on,Ht[3]=xn};let Se=new Qr(re);const Oe=[];for(let Ve=0;Ve<re*re;Ve++){xe(Ve%re,Math.floor(Ve/re),me,!1,Oe);const et=mp(Oe[0],Oe[1],z),_t=mp(Oe[2],Oe[1],z),It=mp(Oe[2],Oe[3],z),Ht=mp(Oe[0],Oe[3],z);Se.minimums.push(Math.min(et,_t,It,Ht)),Se.maximums.push(Math.max(et,_t,It,Ht)),Se.leaves.push(1)}for(K.push(Se),re/=2;re>=1;re/=2){const Ve=K[K.length-1];Se=new Qr(re);for(let et=0;et<re*re;et++){xe(et%re,Math.floor(et/re),2,!0,Oe);const _t=Ve.getElevation(Oe[0],Oe[1]),It=Ve.getElevation(Oe[2],Oe[1]),Ht=Ve.getElevation(Oe[2],Oe[3]),tn=Ve.getElevation(Oe[0],Oe[3]),on=Ve.isLeaf(Oe[0],Oe[1]),pn=Ve.isLeaf(Oe[2],Oe[1]),xn=Ve.isLeaf(Oe[2],Oe[3]),yn=Ve.isLeaf(Oe[0],Oe[3]),Wn=Math.min(_t.min,It.min,Ht.min,tn.min),Kn=Math.max(_t.max,It.max,Ht.max,tn.max),Gn=on&&pn&&xn&&yn;Se.maximums.push(Kn),Se.minimums.push(Wn),Se.leaves.push(Kn-Wn<=5&&Gn?1:0)}K.push(Se)}return K}(this.dem),M=v.length-1,L=v[M];this._addNode(L.minimums[0],L.maximums[0],L.leaves[0]),this._construct(v,0,0,M,0)}raycastRoot(c,v,M,L,z,V,K=1){return my([c,v,-100],[M,L,this.maximums[0]*K],z,V)}raycast(c,v,M,L,z,V,K=1){if(!this.nodeCount)return null;const re=this.raycastRoot(c,v,M,L,z,V,K);if(null==re)return null;const me=[],xe=[],Se=[],Oe=[],Ve=[{idx:0,t:re,nodex:0,nodey:0,depth:0}];for(;Ve.length>0;){const{idx:et,t:_t,nodex:It,nodey:Ht,depth:tn}=Ve.pop();if(this.leaves[et]){w_(It,Ht,tn,c,v,M,L,Se,Oe);const pn=1<<tn,xn=(It+0)/pn,yn=(It+1)/pn,Wn=(Ht+0)/pn,Kn=(Ht+1)/pn,Gn=mp(xn,Wn,this.dem)*K,pi=mp(yn,Wn,this.dem)*K,Nn=mp(yn,Kn,this.dem)*K,jn=mp(xn,Kn,this.dem)*K,ui=eu(Se[0],Se[1],Gn,Oe[0],Se[1],pi,Oe[0],Oe[1],Nn,z,V),On=eu(Oe[0],Oe[1],Nn,Se[0],Oe[1],jn,Se[0],Se[1],Gn,z,V),ar=Math.min(null!==ui?ui:Number.MAX_VALUE,null!==On?On:Number.MAX_VALUE);if(ar!==Number.MAX_VALUE)return ar;{const Jr=Nu([],z,V,_t);if(C_(Gn,pi,jn,Nn,gy(Jr[0],Se[0],Oe[0]),gy(Jr[1],Se[1],Oe[1]))>=Jr[2])return _t}continue}let on=0;for(let pn=0;pn<this._siblingOffset.length;pn++){w_((It<<1)+this._siblingOffset[pn][0],(Ht<<1)+this._siblingOffset[pn][1],tn+1,c,v,M,L,Se,Oe),Se[2]=-100,Oe[2]=this.maximums[this.childOffsets[et]+pn]*K;const xn=my(Se,Oe,z,V);if(null!=xn){const yn=xn;me[pn]=yn;let Wn=!1;for(let Kn=0;Kn<on&&!Wn;Kn++)yn>=me[xe[Kn]]&&(xe.splice(Kn,0,pn),Wn=!0);Wn||(xe[on]=pn),on++}}for(let pn=0;pn<on;pn++){const xn=xe[pn];Ve.push({idx:this.childOffsets[et]+xn,t:me[xn],nodex:(It<<1)+this._siblingOffset[xn][0],nodey:(Ht<<1)+this._siblingOffset[xn][1],depth:tn+1})}}return null}_addNode(c,v,M){return this.minimums.push(c),this.maximums.push(v),this.leaves.push(M),this.childOffsets.push(0),this.nodeCount++}_construct(c,v,M,L,z){if(1===c[L].isLeaf(v,M))return;this.childOffsets[z]||(this.childOffsets[z]=this.nodeCount);const V=L-1,K=c[V];let re,me=0;for(let xe=0;xe<this._siblingOffset.length;xe++){const Se=2*v+this._siblingOffset[xe][0],Oe=2*M+this._siblingOffset[xe][1],Ve=K.getElevation(Se,Oe),et=K.isLeaf(Se,Oe),_t=this._addNode(Ve.min,Ve.max,et);et&&(me|=1<<xe),re||(re=_t)}for(let xe=0;xe<this._siblingOffset.length;xe++)me&1<<xe||this._construct(c,2*v+this._siblingOffset[xe][0],2*M+this._siblingOffset[xe][1],V,re+xe)}}function C_(_,c,v,M,L,z){return mi(mi(_,v,z),mi(c,M,z),L)}function mp(_,c,v){const M=v.dim,L=qt(_*M-.5,0,M-1),z=qt(c*M-.5,0,M-1),V=Math.floor(L),K=Math.floor(z),re=Math.min(V+1,M-1),me=Math.min(K+1,M-1);return C_(v.get(V,K),v.get(re,K),v.get(V,me),v.get(re,me),L-V,z-K)}const Hm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class cm{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(c,v,M,L=!1,z=!1){if(this.uid=c,v.height!==v.width)throw new RangeError("DEM tiles must be square");if(M&&"mapbox"!==M&&"terrarium"!==M)return Ui(`"${M}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=v.height;const V=this.dim=v.height-2;if(this.data=new Uint32Array(v.data.buffer),this.encoding=M||"mapbox",this.borderReady=L,!L){for(let K=0;K<V;K++)this.data[this._idx(-1,K)]=this.data[this._idx(0,K)],this.data[this._idx(V,K)]=this.data[this._idx(V-1,K)],this.data[this._idx(K,-1)]=this.data[this._idx(K,0)],this.data[this._idx(K,V)]=this.data[this._idx(K,V-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(V,-1)]=this.data[this._idx(V-1,0)],this.data[this._idx(-1,V)]=this.data[this._idx(0,V-1)],this.data[this._idx(V,V)]=this.data[this._idx(V-1,V-1)],z&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new ho(this)}get(c,v,M=!1){const L=new Uint8Array(this.data.buffer);M&&(c=qt(c,-1,this.dim),v=qt(v,-1,this.dim));const z=4*this._idx(c,v);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(L[z],L[z+1],L[z+2])}static getUnpackVector(c){return Hm[c]}get unpackVector(){return Hm[this.encoding]}_idx(c,v){if(c<-1||c>=this.dim+1||v<-1||v>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(v+1)*this.stride+(c+1)}_unpackMapbox(c,v,M){return(256*c*256+256*v+M)/10-1e4}_unpackTerrarium(c,v,M){return 256*c+v+M/256-32768}static pack(c,v){const M=[0,0,0,0],L=cm.getUnpackVector(v);let z=Math.floor((c+L[3])/L[2]);return M[2]=z%256,z=Math.floor(z/256),M[1]=z%256,z=Math.floor(z/256),M[0]=z,M}getPixels(){return new oc({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(c,v,M){if(this.dim!==c.dim)throw new Error("dem dimension mismatch");let L=v*this.dim,z=v*this.dim+this.dim,V=M*this.dim,K=M*this.dim+this.dim;switch(v){case-1:L=z-1;break;case 1:z=L+1}switch(M){case-1:V=K-1;break;case 1:K=V+1}const re=-v*this.dim,me=-M*this.dim;for(let xe=V;xe<K;xe++)for(let Se=L;Se<z;Se++)this.data[this._idx(Se,xe)]=c.data[this._idx(Se+re,xe+me)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Mi("DEMData",cm),Mi("DemMinMaxQuadTree",ho,{omit:["dem"]});class Qd{constructor(c,v){this.max=c,this.onRemove=v,this.reset()}reset(){for(const c in this.data)for(const v of this.data[c])v.timeout&&clearTimeout(v.timeout),this.onRemove(v.value);return this.data={},this.order=[],this}add(c,v,M){const L=c.wrapped().key;void 0===this.data[L]&&(this.data[L]=[]);const z={value:v,timeout:void 0};if(void 0!==M&&(z.timeout=setTimeout(()=>{this.remove(c,z)},M)),this.data[L].push(z),this.order.push(L),this.order.length>this.max){const V=this._getAndRemoveByKey(this.order[0]);V&&this.onRemove(V)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const v=this.data[c].shift();return v.timeout&&clearTimeout(v.timeout),0===this.data[c].length&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),v.value}getByKey(c){const v=this.data[c];return v?v[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,v){if(!this.has(c))return this;const M=c.wrapped().key,L=void 0===v?0:this.data[M].indexOf(v),z=this.data[M][L];return this.data[M].splice(L,1),z.timeout&&clearTimeout(z.timeout),0===this.data[M].length&&delete this.data[M],this.onRemove(z.value),this.order.splice(this.order.indexOf(M),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}filter(c){const v=[];for(const M in this.data)for(const L of this.data[M])c(L.value)||v.push(L);for(const M of v)this.remove(M.value.tileID,M)}}class Sl{constructor(c,v,M){this.func=c,this.mask=v,this.range=M}}Sl.ReadOnly=!1,Sl.ReadWrite=!0,Sl.disabled=new Sl(519,Sl.ReadOnly,[0,1]);class uc{constructor(c,v,M,L,z,V){this.test=c,this.ref=v,this.mask=M,this.fail=L,this.depthFail=z,this.pass=V}}uc.disabled=new uc({func:519,mask:0},0,0,7680,7680,7680);class Mf{constructor(c,v,M){this.blendFunction=c,this.blendColor=v,this.mask=M}}Mf.Replace=[1,0],Mf.disabled=new Mf(Mf.Replace,zn.transparent,[!1,!1,!1,!1]),Mf.unblended=new Mf(Mf.Replace,zn.transparent,[!0,!0,!0,!0]),Mf.alphaBlended=new Mf([1,771],zn.transparent,[!0,!0,!0,!0]);class zc{constructor(c,v,M){this.enable=c,this.mode=v,this.frontFace=M}}zc.disabled=new zc(!1,1029,2305),zc.backCCW=new zc(!0,1029,2305),zc.backCW=new zc(!0,1029,2304),zc.frontCW=new zc(!0,1028,2304),zc.frontCCW=new zc(!0,1028,2305);class pd extends f{constructor(c,v,M){super(),this.id=c,this._onlySymbols=M,v.on("data",L=>{"source"===L.dataType&&"metadata"===L.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===L.dataType&&"content"===L.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),v.on("error",()=>{this._sourceErrored=!0}),this._source=v,this._tiles={},this._cache=new Qd(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new hd}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const v=this._tiles[c];if("loaded"!==v.state&&"errored"!==v.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(c,v){return c.isSymbolTile=this._onlySymbols,this._source.loadTile(c,v)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){if(this._source.abortTile)return this._source.abortTile(c,()=>{})}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const v in this._tiles){const M=this._tiles[v];M.upload(c),M.prepare(this.map.style.imageManager)}}getIds(){return hi(this._tiles).map(c=>c.tileID).sort(fd).map(c=>c.key)}getRenderableIds(c){const v=[];for(const M in this._tiles)this._isIdRenderable(+M,c)&&v.push(this._tiles[M]);return c?v.sort((M,L)=>{const z=M.tileID,V=L.tileID,K=new Te(z.canonical.x,z.canonical.y)._rotate(this.transform.angle),re=new Te(V.canonical.x,V.canonical.y)._rotate(this.transform.angle);return z.overscaledZ-V.overscaledZ||re.y-K.y||re.x-K.x}).map(M=>M.tileID.key):v.map(M=>M.tileID).sort(fd).map(M=>M.key)}hasRenderableParent(c){const v=this.findLoadedParent(c,0);return!!v&&this._isIdRenderable(v.tileID.key)}_isIdRenderable(c,v){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(v||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)"errored"!==this._tiles[c].state&&this._reloadTile(+c,"reloading")}}_reloadTile(c,v){const M=this._tiles[c];M&&("loading"!==M.state&&(M.state=v),this._loadTile(M,this._tileLoaded.bind(this,M,c,v)))}_tileLoaded(c,v,M,L){if(L)return c.state="errored",void(404!==L.status?this._source.fire(new p(L,{tile:c})):this.update(this.transform));c.timeAdded=Ks.now(),"expired"===M&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(v,c),"raster-dem"===this.getSource().type&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),this._source.fire(new Re("data",{dataType:"source",tile:c,coord:c.tileID,sourceCacheId:this.id}))}_backfillDEM(c){const v=this.getRenderableIds();for(let L=0;L<v.length;L++){const z=v[L];if(c.neighboringTiles&&c.neighboringTiles[z]){const V=this.getTileByID(z);M(c,V),M(V,c)}}function M(L,z){if(!L.dem||L.dem.borderReady)return;L.needsHillshadePrepare=!0,L.needsDEMTextureUpload=!0;let V=z.tileID.canonical.x-L.tileID.canonical.x;const K=z.tileID.canonical.y-L.tileID.canonical.y,re=Math.pow(2,L.tileID.canonical.z),me=z.tileID.key;0===V&&0===K||Math.abs(K)>1||(Math.abs(V)>1&&(1===Math.abs(V+re)?V+=re:1===Math.abs(V-re)&&(V-=re)),z.dem&&L.dem&&(L.dem.backfillBorder(z.dem,V,K),L.neighboringTiles&&L.neighboringTiles[me]&&(L.neighboringTiles[me].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,v,M,L){for(const z in this._tiles){let V=this._tiles[z];if(L[z]||!V.hasData()||V.tileID.overscaledZ<=v||V.tileID.overscaledZ>M)continue;let K=V.tileID;for(;V&&V.tileID.overscaledZ>v+1;){const me=V.tileID.scaledTo(V.tileID.overscaledZ-1);V=this._tiles[me.key],V&&V.hasData()&&(K=me)}let re=K;for(;re.overscaledZ>v;)if(re=re.scaledTo(re.overscaledZ-1),c[re.key]){L[K.key]=K;break}}}findLoadedParent(c,v){if(c.key in this._loadedParentTiles){const M=this._loadedParentTiles[c.key];return M&&M.tileID.overscaledZ>=v?M:null}for(let M=c.overscaledZ-1;M>=v;M--){const L=c.scaledTo(M),z=this._getLoadedTile(L);if(z)return z}}_getLoadedTile(c){const v=this._tiles[c.key];return v&&v.hasData()?v:this._cache.getByKey(this._source.reparseOverscaled?c.wrapped().key:c.canonical.key)}updateCacheSize(c,v){v=v||this._source.tileSize;const M=Math.ceil(c.width/v)+1,L=Math.ceil(c.height/v)+1,z=Math.floor(M*L*5),V="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,z):z;this._cache.setMaxSize(V)}handleWrapJump(c){const v=Math.round((c-(void 0===this._prevLng?c:this._prevLng))/360);if(this._prevLng=c,v){const M={};for(const L in this._tiles){const z=this._tiles[L];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+v),M[z.tileID.key]=z}this._tiles=M;for(const L in this._timers)clearTimeout(this._timers[L]),delete this._timers[L];for(const L in this._tiles)this._setTileReloadTimer(+L,this._tiles[L])}}update(c,v,M){if(this.transform=c,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!M)return;let L;this.updateCacheSize(c,v),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?L=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(K=>new Tl(K.canonical.z,K.wrap,K.canonical.z,K.canonical.x,K.canonical.y)):(L=c.coveringTiles({tileSize:v||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!M,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(L=L.filter(K=>this._source.hasTile(K)))):L=[];const z=this._updateRetainedTiles(L);if(yy(this._source.type)&&0!==L.length){const K={},re={},me=Object.keys(z);for(const Se of me){const Oe=z[Se],Ve=this._tiles[Se];if(!Ve||Ve.fadeEndTime&&Ve.fadeEndTime<=Ks.now())continue;const et=this.findLoadedParent(Oe,Math.max(Oe.overscaledZ-pd.maxOverzooming,this._source.minzoom));et&&(this._addTile(et.tileID),K[et.tileID.key]=et.tileID),re[Se]=Oe}const xe=L[L.length-1].overscaledZ;for(const Se in this._tiles){const Oe=this._tiles[Se];if(z[Se]||!Oe.hasData())continue;let Ve=Oe.tileID;for(;Ve.overscaledZ>xe;){Ve=Ve.scaledTo(Ve.overscaledZ-1);const et=this._tiles[Ve.key];if(et&&et.hasData()&&re[Ve.key]){z[Se]=Oe.tileID;break}}}for(const Se in K)z[Se]||(this._coveredTiles[Se]=!0,z[Se]=K[Se])}for(const K in z)this._tiles[K].clearFadeHold();const V=function(K,re){const me=[];for(const xe in K)xe in re||me.push(xe);return me}(this._tiles,z);for(const K of V){const re=this._tiles[K];re.hasSymbolBuckets&&!re.holdingForFade()?re.setHoldDuration(this.map._fadeDuration):re.hasSymbolBuckets&&!re.symbolFadeFinished()||this._removeTile(+K)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(+c)}_updateRetainedTiles(c){const v={};if(0===c.length)return v;const M={},L=c[c.length-1].overscaledZ,z=c[0].overscaledZ,V=Math.max(z-pd.maxOverzooming,this._source.minzoom),K=Math.max(z+pd.maxUnderzooming,this._source.minzoom),re={};for(const me of c){const xe=this._addTile(me);v[me.key]=me,xe.hasData()||L<this._source.maxzoom&&(re[me.key]=me)}this._retainLoadedChildren(re,L,K,v);for(const me of c){let xe=this._tiles[me.key];if(xe.hasData())continue;if(me.canonical.z>=this._source.maxzoom){const Oe=me.children(this._source.maxzoom)[0],Ve=this.getTile(Oe);if(Ve&&Ve.hasData()){v[Oe.key]=Oe;continue}}else{const Oe=me.children(this._source.maxzoom);if(v[Oe[0].key]&&v[Oe[1].key]&&v[Oe[2].key]&&v[Oe[3].key])continue}let Se=xe.wasRequested();for(let Oe=me.overscaledZ-1;Oe>=V;--Oe){const Ve=me.scaledTo(Oe);if(M[Ve.key]||(M[Ve.key]=!0,xe=this.getTile(Ve),!xe&&Se&&(xe=this._addTile(Ve)),xe&&(v[Ve.key]=Ve,Se=xe.wasRequested(),xe.hasData())))break}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const v=[];let M,L=this._tiles[c].tileID;for(;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){M=this._loadedParentTiles[L.key];break}v.push(L.key);const z=L.scaledTo(L.overscaledZ-1);if(M=this._getLoadedTile(z),M)break;L=z}for(const z of v)this._loadedParentTiles[z]=M}}_addTile(c){let v=this._tiles[c.key];if(v)return v;v=this._cache.getAndRemove(c),v&&(this._setTileReloadTimer(c.key,v),v.tileID=c,this._state.initializeTileState(v,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,v)));const M=Boolean(v);return M||(v=new dd(c,this._source.tileSize*c.overscaleFactor(),this.transform.tileZoom),this._loadTile(v,this._tileLoaded.bind(this,v,c.key,v.state))),v?(v.uses++,this._tiles[c.key]=v,M||this._source.fire(new Re("dataloading",{tile:v,coord:v.tileID,dataType:"source"})),v):null}_setTileReloadTimer(c,v){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const M=v.getExpiryTimeout();M&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},M))}_removeTile(c){const v=this._tiles[c];v&&(v.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),v.uses>0||(v.hasData()&&"reloading"!==v.state?this._cache.add(v.tileID,v,v.getExpiryTimeout()):(v.aborted=!0,this._abortTile(v),this._unloadTile(v))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(+c);this._cache.reset()}tilesIn(c,v,M){const L=[],z=this.transform;if(!z)return L;for(const V in this._tiles){const K=this._tiles[V];if(M&&K.clearQueryDebugViz(),K.holdingForFade())continue;const re=c.containsTile(K,z,v);re&&L.push(re)}return L}getVisibleCoordinates(c){const v=this.getRenderableIds(c).map(M=>this._tiles[M].tileID);for(const M of v)M.projMatrix=this.transform.calculateProjMatrix(M.toUnwrapped());return v}hasTransition(){if(this._source.hasTransition())return!0;if(yy(this._source.type))for(const c in this._tiles){const v=this._tiles[c];if(void 0!==v.fadeEndTime&&v.fadeEndTime>=Ks.now())return!0}return!1}setFeatureState(c,v,M){this._state.updateState(c=c||"_geojsonTileLayer",v,M)}removeFeatureState(c,v,M){this._state.removeFeatureState(c=c||"_geojsonTileLayer",v,M)}getFeatureState(c,v){return this._state.getState(c=c||"_geojsonTileLayer",v)}setDependencies(c,v,M){const L=this._tiles[c];L&&L.setDependencies(v,M)}reloadTilesForDependencies(c,v){for(const M in this._tiles)this._tiles[M].hasDependency(c,v)&&this._reloadTile(+M,"reloading");this._cache.filter(M=>!M.hasDependency(c,v))}}function fd(_,c){const v=Math.abs(2*_.wrap)-+(_.wrap<0),M=Math.abs(2*c.wrap)-+(c.wrap<0);return _.overscaledZ-c.overscaledZ||M-v||c.canonical.y-_.canonical.y||c.canonical.x-_.canonical.x}function yy(_){return"raster"===_||"image"===_||"video"===_}pd.maxOverzooming=10,pd.maxUnderzooming=3;class M_{constructor(c,v,M){this._demTile=c,this._dem=this._demTile.dem,this._scale=v,this._offset=M}static create(c,v,M){const L=M||c.findDEMTileFor(v);if(!L||!L.dem)return;const z=L.dem,V=L.tileID,K=1<<v.canonical.z-V.canonical.z;return new M_(L,L.tileSize/Tr/K,[(v.canonical.x/K-V.canonical.x)*z.dim,(v.canonical.y/K-V.canonical.y)*z.dim])}tileCoordToPixel(c,v){const M=v*this._scale+this._offset[1],L=Math.floor(c*this._scale+this._offset[0]),z=Math.floor(M);return new Te(L,z)}getElevationAt(c,v,M,L){const z=c*this._scale+this._offset[0],V=v*this._scale+this._offset[1],K=Math.floor(z),re=Math.floor(V),me=this._dem;return L=!!L,M?mi(mi(me.get(K,re,L),me.get(K,re+1,L),V-re),mi(me.get(K+1,re,L),me.get(K+1,re+1,L),V-re),z-K):me.get(K,re,L)}getElevationAtPixel(c,v,M){return this._dem.get(c,v,!!M)}getMeterToDEM(c){return(1<<this._demTile.tileID.canonical.z)*uo(1,c)*this._dem.stride}}class vy{constructor(c,v){this.tileID=c,this.x=c.canonical.x,this.y=c.canonical.y,this.z=c.canonical.z,this.grid=new Yl(Tr,16,0),this.featureIndexArray=new yi,this.promoteId=v}insert(c,v,M,L,z,V=0){const K=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(M,L,z,V);const re=this.grid;for(let me=0;me<v.length;me++){const xe=v[me],Se=[1/0,1/0,-1/0,-1/0];for(let Oe=0;Oe<xe.length;Oe++){const Ve=xe[Oe];Se[0]=Math.min(Se[0],Ve.x),Se[1]=Math.min(Se[1],Ve.y),Se[2]=Math.max(Se[2],Ve.x),Se[3]=Math.max(Se[3],Ve.y)}Se[0]<Tr&&Se[1]<Tr&&Se[2]>=0&&Se[3]>=0&&re.insert(K,Se[0],Se[1],Se[2],Se[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ip.VectorTile(new Up(this.rawTileData)).layers,this.sourceLayerCoder=new x_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(c,v,M,L){this.loadVTLayers();const z=c.params||{},V=eo(z.filter),K=c.tileResult,re=c.transform,me=K.bufferedTilespaceBounds,xe=this.grid.query(me.min.x,me.min.y,me.max.x,me.max.y,(et,_t,It,Ht)=>Kh(K.bufferedTilespaceGeometry,et,_t,It,Ht));xe.sort(yv);let Se=null;re.elevation&&xe.length>0&&(Se=M_.create(re.elevation,this.tileID));const Oe={};let Ve;for(let et=0;et<xe.length;et++){const _t=xe[et];if(_t===Ve)continue;Ve=_t;const It=this.featureIndexArray.get(_t);let Ht=null;this.loadMatchingFeature(Oe,It,V,z.layers,z.availableImages,v,M,L,(tn,on,pn,xn=0)=>(Ht||(Ht=Bp(tn)),on.queryIntersectsFeature(K,tn,pn,Ht,this.z,c.transform,c.pixelPosMatrix,Se,xn)))}return Oe}loadMatchingFeature(c,v,M,L,z,V,K,re,me){const{featureIndex:xe,bucketIndex:Se,sourceLayerIndex:Oe,layoutVertexArrayOffset:Ve}=v,et=this.bucketLayerIDs[Se];if(L&&!function(tn,on){for(let pn=0;pn<tn.length;pn++)if(on.indexOf(tn[pn])>=0)return!0;return!1}(L,et))return;const _t=this.sourceLayerCoder.decode(Oe),It=this.vtLayers[_t].feature(xe);if(M.needGeometry){const tn=Qh(It,!0);if(!M.filter(new Qe(this.tileID.overscaledZ),tn,this.tileID.canonical))return}else if(!M.filter(new Qe(this.tileID.overscaledZ),It))return;const Ht=this.getId(It,_t);for(let tn=0;tn<et.length;tn++){const on=et[tn];if(L&&L.indexOf(on)<0)continue;const pn=V[on];if(!pn)continue;let xn={};void 0!==Ht&&re&&(xn=re.getState(pn.sourceLayer||"_geojsonTileLayer",Ht));const yn=zi({},K[on]);yn.paint=by(yn.paint,pn.paint,It,xn,z),yn.layout=by(yn.layout,pn.layout,It,xn,z);const Wn=!me||me(It,pn,xn,Ve);if(!Wn)continue;const Kn=new pr(It,this.z,this.x,this.y,Ht);Kn.layer=yn;let Gn=c[on];void 0===Gn&&(Gn=c[on]=[]),Gn.push({featureIndex:xe,feature:Kn,intersectionZ:Wn})}}lookupSymbolFeatures(c,v,M,L,z,V,K,re){const me={};this.loadVTLayers();const xe=eo(z);for(const Se of c)this.loadMatchingFeature(me,{bucketIndex:M,sourceLayerIndex:L,featureIndex:Se,layoutVertexArrayOffset:0},xe,V,K,re,v);return me}hasLayer(c){for(const v of this.bucketLayerIDs)for(const M of v)if(c===M)return!0;return!1}getId(c,v){let M=c.id;return this.promoteId&&(M=c.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[v]],"boolean"==typeof M&&(M=Number(M))),M}}function by(_,c,v,M,L){return Hn(_,(z,V)=>{const K=c instanceof Ut?c.get(V):null;return K&&K.evaluate?K.evaluate(v,M,L):K})}function yv(_,c){return c-_}Mi("FeatureIndex",vy,{omit:["rawTileData","sourceLayerCoder"]});class xy{constructor(c){const v={},M=[];for(const K in c){const re=c[K],me=v[K]={};for(const xe in re.glyphs){const Se=re.glyphs[+xe];if(!Se||0===Se.bitmap.width||0===Se.bitmap.height)continue;const Oe=Se.metrics.localGlyph?2:1,Ve={x:0,y:0,w:Se.bitmap.width+2*Oe,h:Se.bitmap.height+2*Oe};M.push(Ve),me[xe]=Ve}}const{w:L,h:z}=bf(M),V=new Bd({width:L||1,height:z||1});for(const K in c){const re=c[K];for(const me in re.glyphs){const xe=re.glyphs[+me];if(!xe||0===xe.bitmap.width||0===xe.bitmap.height)continue;const Se=v[K][me],Oe=xe.metrics.localGlyph?2:1;Bd.copy(xe.bitmap,V,{x:0,y:0},{x:Se.x+Oe,y:Se.y+Oe},xe.bitmap)}}this.image=V,this.positions=v}}Mi("GlyphAtlas",xy);class V0{constructor(c){this.tileID=new Tl(c.tileID.overscaledZ,c.tileID.wrap,c.tileID.canonical.z,c.tileID.canonical.x,c.tileID.canonical.y),this.tileZoom=c.tileZoom,this.uid=c.uid,this.zoom=c.zoom,this.pixelRatio=c.pixelRatio,this.tileSize=c.tileSize,this.source=c.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=c.showCollisionBoxes,this.collectResourceTiming=!!c.collectResourceTiming,this.returnDependencies=!!c.returnDependencies,this.promoteId=c.promoteId,this.enableTerrain=!!c.enableTerrain,this.isSymbolTile=c.isSymbolTile}parse(c,v,M,L,z){this.status="parsing",this.data=c,this.collisionBoxArray=new rd;const V=new x_(Object.keys(c.layers).sort()),K=new vy(this.tileID,this.promoteId);K.bucketLayerIDs=[];const re={},me=new Fc(256,256),xe={featureIndex:K,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:me,availableImages:M},Se=v.familiesBySource[this.source];for(const xn in Se){const yn=c.layers[xn];if(!yn)continue;let Wn=!1,Kn=!1;for(const Nn of Se[xn])"symbol"===Nn[0].type?Wn=!0:Kn=!0;if(!0===this.isSymbolTile&&!Wn||!1===this.isSymbolTile&&!Kn)continue;1===yn.version&&Ui(`Vector tile source "${this.source}" layer "${xn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Gn=V.encode(xn),pi=[];for(let Nn=0;Nn<yn.length;Nn++){const jn=yn.feature(Nn),ui=K.getId(jn,xn);pi.push({feature:jn,id:ui,index:Nn,sourceLayerIndex:Gn})}for(const Nn of Se[xn]){const jn=Nn[0];void 0!==this.isSymbolTile&&"symbol"===jn.type!==this.isSymbolTile||jn.minzoom&&this.zoom<Math.floor(jn.minzoom)||jn.maxzoom&&this.zoom>=jn.maxzoom||"none"!==jn.visibility&&(vv(Nn,this.zoom,M),(re[jn.id]=jn.createBucket({index:K.bucketLayerIDs.length,layers:Nn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Gn,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(pi,xe,this.tileID.canonical),K.bucketLayerIDs.push(Nn.map(ui=>ui.id)))}}let Oe,Ve,et,_t;me.trim();const It={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ht=Hn(xe.glyphDependencies,xn=>Object.keys(xn).map(Number));Object.keys(Ht).length?L.send("getGlyphs",{uid:this.uid,stacks:Ht},(xn,yn)=>{Oe||(Oe=xn,Ve=yn,pn.call(this))},void 0,!1,It):Ve={};const tn=Object.keys(xe.iconDependencies);tn.length?L.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},(xn,yn)=>{Oe||(Oe=xn,et=yn,pn.call(this))},void 0,!1,It):et={};const on=Object.keys(xe.patternDependencies);function pn(){if(Oe)return z(Oe);if(Ve&&et&&_t){const xn=new xy(Ve),yn=new iy(et,_t);for(const Wn in re){const Kn=re[Wn];Kn instanceof zm?(vv(Kn.layers,this.zoom,M),uy(Kn,Ve,xn.positions,et,yn.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):Kn.hasPattern&&(Kn instanceof Cn||Kn instanceof ac||Kn instanceof tm)&&(vv(Kn.layers,this.zoom,M),Kn.addFeatures(xe,this.tileID.canonical,yn.patternPositions))}this.status="done",z(null,{buckets:hi(re).filter(Wn=>!Wn.isEmpty()),featureIndex:K,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,lineAtlas:me,imageAtlas:yn,glyphMap:this.returnDependencies?Ve:null,iconMap:this.returnDependencies?et:null,glyphPositions:this.returnDependencies?xn.positions:null})}}on.length?L.send("getImages",{icons:on,source:this.source,tileID:this.tileID,type:"patterns"},(xn,yn)=>{Oe||(Oe=xn,_t=yn,pn.call(this))},void 0,!1,It):_t={},pn.call(this)}}function vv(_,c,v){const M=new Qe(c);for(const L of _)L.recalculate(M,v)}class ja{constructor(c){this.entries={},this.scheduler=c}request(c,v,M,L){const z=this.entries[c]=this.entries[c]||{callbacks:[]};if(z.result){const[V,K]=z.result;return this.scheduler?this.scheduler.add(()=>{L(V,K)},v):L(V,K),()=>{}}return z.callbacks.push(L),z.cancel||(z.cancel=M((V,K)=>{z.result=[V,K];for(const re of z.callbacks)this.scheduler?this.scheduler.add(()=>{re(V,K)},v):re(V,K);setTimeout(()=>delete this.entries[c],3e3)})),()=>{z.result||(z.callbacks=z.callbacks.filter(V=>V!==L),z.callbacks.length||(z.cancel(),delete this.entries[c]))}}}function nl(_,c,v){const M=JSON.stringify(_.request);return _.data&&(this.deduped.entries[M]={result:[null,_.data]}),this.deduped.request(M,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom},L=>{const z=He(_.request,(V,K,re,me)=>{V?L(V):K&&L(null,{vectorTile:v?void 0:new ip.VectorTile(new Up(K)),rawData:K,cacheControl:re,expires:me})});return()=>{z.cancel(),L()}},c)}x.ARRAY_TYPE=oa,x.AUTH_ERR_MSG=wr,x.Actor=class{constructor(_,c,v){this.target=_,this.parent=c,this.mapId=v,this.callbacks={},this.cancelCallbacks={},Tn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=bi()?_:We,this.scheduler=new Bm}send(_,c,v,M,L=!1,z){const V=Math.round(1e18*Math.random()).toString(36).substring(0,10);v&&(v.metadata=z,this.callbacks[V]=v);const K=ss(this.globalScope)?void 0:[];return this.target.postMessage({id:V,type:_,hasCallback:!!v,targetMapId:M,mustQueue:L,sourceMapId:this.mapId,data:Or(c,K)},K),{cancel:()=>{v&&delete this.callbacks[V],this.target.postMessage({id:V,type:"<cancel>",targetMapId:M,sourceMapId:this.mapId})}}}receive(_){const c=_.data,v=c.id;if(v&&(!c.targetMapId||this.mapId===c.targetMapId))if("<cancel>"===c.type){const M=this.cancelCallbacks[v];delete this.cancelCallbacks[v],M&&M.cancel()}else if(c.mustQueue||bi()){const M=this.callbacks[v];this.cancelCallbacks[v]=this.scheduler.add(()=>this.processTask(v,c),M&&M.metadata||{type:"message"})}else this.processTask(v,c)}processTask(_,c){if("<response>"===c.type){const v=this.callbacks[_];delete this.callbacks[_],v&&(c.error?v(Di(c.error)):v(null,Di(c.data)))}else{const v=ss(this.globalScope)?void 0:[],M=c.hasCallback?(z,V)=>{delete this.cancelCallbacks[_],this.target.postMessage({id:_,type:"<response>",sourceMapId:this.mapId,error:z?Or(z):null,data:Or(V,v)},v)}:z=>{},L=Di(c.data);if(this.parent[c.type])this.parent[c.type](c.sourceMapId,L,M);else if(this.parent.getWorkerSource){const z=c.type.split(".");this.parent.getWorkerSource(c.sourceMapId,z[0],L.source)[z[1]](L,M)}else M(new Error(`Could not find function ${c.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},x.CanonicalTileID=Nc,x.Color=zn,x.ColorMode=Mf,x.CullFaceMode=zc,x.DEMData=cm,x.DataConstantProperty=St,x.DedupedRequest=ja,x.DepthMode=Sl,x.EXTENT=Tr,x.Elevation=class{getAtPointOrZero(_,c=0){return this.getAtPoint(_,c)||0}getAtPoint(_,c,v=!0){null==c&&(c=null);const M=this._source();if(!M||_.y<0||_.y>1)return c;const L=M.getSource().maxzoom,z=1<<L,V=Math.floor(_.x),K=_.x-V,re=new Tl(L,V,L,Math.floor(K*z),Math.floor(_.y*z)),me=this.findDEMTileFor(re);if(!me||!me.dem)return c;const xe=me.dem,Se=1<<me.tileID.canonical.z,Oe=(K*Se-me.tileID.canonical.x)*xe.dim,Ve=(_.y*Se-me.tileID.canonical.y)*xe.dim,et=Math.floor(Oe),_t=Math.floor(Ve);return(v?this.exaggeration():1)*mi(mi(xe.get(et,_t),xe.get(et,_t+1),Ve-_t),mi(xe.get(et+1,_t),xe.get(et+1,_t+1),Ve-_t),Oe-et)}getAtTileOffset(_,c,v){const M=1<<_.canonical.z;return this.getAtPointOrZero(new dp(_.wrap+(_.canonical.x+c/Tr)/M,(_.canonical.y+v/Tr)/M))}getForTilePoints(_,c,v,M){const L=M_.create(this,_,M);return!!L&&(c.forEach(z=>{z[2]=this.exaggeration()*L.getElevationAt(z[0],z[1],v)}),!0)}getMinMaxForTile(_){const c=this.findDEMTileFor(_);if(!c||!c.dem)return null;const v=c.dem.tree,M=c.tileID,L=1<<_.canonical.z-M.canonical.z;let z=_.canonical.x/L-M.canonical.x,V=_.canonical.y/L-M.canonical.y,K=0;for(let re=0;re<_.canonical.z-M.canonical.z&&!v.leaves[K];re++){z*=2,V*=2;const me=2*Math.floor(V)+Math.floor(z);K=v.childOffsets[K]+me,z%=1,V%=1}return{min:this.exaggeration()*v.minimums[K],max:this.exaggeration()*v.maximums[K]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(_,c,v){throw new Error("Pure virtual method called.")}pointCoordinate(_){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(_){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},x.ErrorEvent=p,x.EvaluationParameters=Qe,x.Event=Re,x.Evented=f,x.GlyphManager=lp,x.ImagePosition=bg,x.LineAtlas=Fc,x.LngLat=Ti,x.LngLatBounds=Gp,x.LocalGlyphMode=Rm,x.MAX_SAFE_INTEGER=Mt,x.MercatorCoordinate=dp,x.ONE_EM=24,x.OverscaledTileID=Tl,x.Properties=Lt,x.RGBAImage=oc,x.RequestManager=class{constructor(_,c,v){this._transformRequestFn=_,this._customAccessToken=c,this._silenceAuthErrors=!!v,this._createSkuToken()}_createSkuToken(){const _=function(){let c="";for(let v=0;v<10;v++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",gs,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=_.token,this._skuTokenExpiresAt=_.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(_,c){return this._transformRequestFn&&this._transformRequestFn(_,c)||{url:_}}normalizeStyleURL(_,c){if(!ir(_))return _;const v=es(_);return v.path=`/styles/v1${v.path}`,this._makeAPIURL(v,this._customAccessToken||c)}normalizeGlyphsURL(_,c){if(!ir(_))return _;const v=es(_);return v.path=`/fonts/v1${v.path}`,this._makeAPIURL(v,this._customAccessToken||c)}normalizeSourceURL(_,c){if(!ir(_))return _;const v=es(_);return v.path=`/v4/${v.authority}.json`,v.params.push("secure"),this._makeAPIURL(v,this._customAccessToken||c)}normalizeSpriteURL(_,c,v,M){const L=es(_);return ir(_)?(L.path=`/styles/v1${L.path}/sprite${c}${v}`,this._makeAPIURL(L,this._customAccessToken||M)):(L.path+=`${c}${v}`,Vs(L))}normalizeTileURL(_,c,v){if(this._isSkuTokenExpired()&&this._createSkuToken(),_&&!ir(_))return _;const M=es(_);M.path=M.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${c||v&&"raster"!==M.authority&&512===v?"@2x":""}${Ea.supported?".webp":"$1"}`),"raster"===M.authority?M.path=`/${dr.RASTER_URL_PREFIX}${M.path}`:(M.path=M.path.replace(/^.+\/v4\//,"/"),M.path=`/${dr.TILE_URL_VERSION}${M.path}`);const L=this._customAccessToken||function(z){for(const V of z){const K=V.match(/^access_token=(.*)$/);if(K)return K[1]}return null}(M.params)||dr.ACCESS_TOKEN;return dr.REQUIRE_ACCESS_TOKEN&&L&&this._skuToken&&M.params.push(`sku=${this._skuToken}`),this._makeAPIURL(M,L)}canonicalizeTileURL(_,c){const v=es(_);if(!v.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!v.path.match(/\.[\w]+$/))return _;let M="mapbox://";v.path.match(/^\/raster\/v1\//)?M+=`raster/${v.path.replace(`/${dr.RASTER_URL_PREFIX}/`,"")}`:M+=`tiles/${v.path.replace(`/${dr.TILE_URL_VERSION}/`,"")}`;let L=v.params;return c&&(L=L.filter(z=>!z.match(/^access_token=/))),L.length&&(M+=`?${L.join("&")}`),M}canonicalizeTileset(_,c){const v=!!c&&ir(c),M=[];for(const L of _.tiles||[])Eo(L)?M.push(this.canonicalizeTileURL(L,v)):M.push(L);return M}_makeAPIURL(_,c){const v="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",M=es(dr.API_URL);if(_.protocol=M.protocol,_.authority=M.authority,"http"===_.protocol){const L=_.params.indexOf("secure");L>=0&&_.params.splice(L,1)}if("/"!==M.path&&(_.path=`${M.path}${_.path}`),!dr.REQUIRE_ACCESS_TOKEN)return Vs(_);if(c=c||dr.ACCESS_TOKEN,!this._silenceAuthErrors){if(!c)throw new Error(`An API access token is required to use Mapbox GL. ${v}`);if("s"===c[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${v}`)}return _.params=_.params.filter(L=>-1===L.indexOf("access_token")),_.params.push(`access_token=${c||""}`),Vs(_)}},x.ResourceType=mr,x.SegmentVector=tl,x.SourceCache=pd,x.StencilMode=uc,x.StructArrayLayout1ui2=bl,x.StructArrayLayout2f1f2i16=vl,x.StructArrayLayout2i4=Ri,x.StructArrayLayout2ui4=dl,x.StructArrayLayout3f12=Hl,x.StructArrayLayout3ui6=Gs,x.StructArrayLayout4i8=ns,x.Texture=Kc,x.Tile=dd,x.Transitionable=xt,x.Uniform1f=af,x.Uniform1i=class extends Rs{constructor(_,c){super(_,c),this.current=0}set(_){this.current!==_&&(this.current=_,this.gl.uniform1i(this.location,_))}},x.Uniform2f=class extends Rs{constructor(_,c){super(_,c),this.current=[0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]||(this.current=_,this.gl.uniform2f(this.location,_[0],_[1]))}},x.Uniform3f=class extends Rs{constructor(_,c){super(_,c),this.current=[0,0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]&&_[2]===this.current[2]||(this.current=_,this.gl.uniform3f(this.location,_[0],_[1],_[2]))}},x.Uniform4f=wm,x.UniformColor=Cm,x.UniformMatrix3f=class extends Rs{constructor(_,c){super(_,c),this.current=Vf}set(_){for(let c=0;c<9;c++)if(_[c]!==this.current[c]){this.current=_,this.gl.uniformMatrix3fv(this.location,!1,_);break}}},x.UniformMatrix4f=class extends Rs{constructor(_,c){super(_,c),this.current=Mm}set(_){if(_[12]!==this.current[12]||_[0]!==this.current[0])return this.current=_,void this.gl.uniformMatrix4fv(this.location,!1,_);for(let c=1;c<16;c++)if(_[c]!==this.current[c]){this.current=_,this.gl.uniformMatrix4fv(this.location,!1,_);break}}},x.UnwrappedTileID=pp,x.ValidationError=S,x.VectorTileWorkerSource=class extends f{constructor(_,c,v,M,L){super(),this.actor=_,this.layerIndex=c,this.availableImages=v,this.loadVectorData=L||nl,this.loading={},this.loaded={},this.deduped=new ja(_.scheduler),this.isSpriteLoaded=M,this.scheduler=_.scheduler}loadTile(_,c){const v=_.uid,M=_&&_.request,L=M&&M.collectResourceTiming,z=this.loading[v]=new V0(_);z.abort=this.loadVectorData(_,(V,K)=>{const re=!this.loading[v];if(delete this.loading[v],re||V||!K)return z.status="done",re||(this.loaded[v]=z),c(V);const me=K.rawData,xe={};K.expires&&(xe.expires=K.expires),K.cacheControl&&(xe.cacheControl=K.cacheControl),z.vectorTile=K.vectorTile||new ip.VectorTile(new Up(me));const Se=()=>{z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,(Oe,Ve)=>{if(Oe||!Ve)return c(Oe);const et={};if(L){const _t=Ml(M);_t.length>0&&(et.resourceTiming=JSON.parse(JSON.stringify(_t)))}c(null,zi({rawTileData:me.slice(0)},Ve,xe,et))})};this.isSpriteLoaded?Se():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Se,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom}):Se()}),this.loaded=this.loaded||{},this.loaded[v]=z})}reloadTile(_,c){const v=this.loaded,M=_.uid,L=this;if(v&&v[M]){const z=v[M];z.showCollisionBoxes=_.showCollisionBoxes,z.enableTerrain=!!_.enableTerrain;const V=(K,re)=>{const me=z.reloadCallback;me&&(delete z.reloadCallback,z.parse(z.vectorTile,L.layerIndex,this.availableImages,L.actor,me)),c(K,re)};"parsing"===z.status?z.reloadCallback=V:"done"===z.status&&(z.vectorTile?z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,V):V())}}abortTile(_,c){const v=_.uid,M=this.loading[v];M&&(M.abort&&M.abort(),delete this.loading[v]),c()}removeTile(_,c){const v=this.loaded,M=_.uid;v&&v[M]&&delete v[M],c()}},x.WritingMode=Dh,x.ZoomHistory=Qa,x.add=function(_,c,v){return _[0]=c[0]+v[0],_[1]=c[1]+v[1],_[2]=c[2]+v[2],_},x.addDynamicAttributes=y_,x.altitudeFromMercatorZ=ju,x.asyncAll=ds,x.bezier=ni,x.bindAll=Tn,x.bufferConvexPolygon=function(_,c){const v=[];for(let M=0;M<_.length;M++){const L=ur(M-1,-1,_.length-1),z=ur(M+1,-1,_.length-1),V=_[M],K=_[z],re=_[L].sub(V).unit(),me=K.sub(V).unit(),xe=me.angleWithSep(re.x,re.y),Se=re.add(me).unit().mult(-1*c/Math.sin(xe/2));v.push(V.add(Se))}return v},x.cacheEntryPossiblyAdded=function(_){Zi++,Zi>gn&&(_.getActor().send("enforceCacheSizeLimit",Qt),Zi=0)},x.clamp=qt,x.clearTileCache=function(_){const c=We.caches.delete(Vo);_&&c.catch(_).then(()=>_())},x.clipLine=pv,x.clone=function(_){var c=new oa(3);return c[0]=_[0],c[1]=_[1],c[2]=_[2],c},x.clone$1=function(_){var c=new oa(16);return c[0]=_[0],c[1]=_[1],c[2]=_[2],c[3]=_[3],c[4]=_[4],c[5]=_[5],c[6]=_[6],c[7]=_[7],c[8]=_[8],c[9]=_[9],c[10]=_[10],c[11]=_[11],c[12]=_[12],c[13]=_[13],c[14]=_[14],c[15]=_[15],c},x.clone$2=li,x.collisionCircleLayout=Eh,x.config=dr,x.conjugate=function(_,c){return _[0]=-c[0],_[1]=-c[1],_[2]=-c[2],_[3]=c[3],_},x.copy=function(_,c){return _[0]=c[0],_[1]=c[1],_[2]=c[2],_},x.create=Yp,x.create$1=function(){var _=new oa(16);return oa!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_},x.create$2=ag,x.createExpression=sa,x.createFilter=eo,x.createLayout=Xn,x.createStyleLayer=function(_){return"custom"===_.type?new cc(_):new hr[_.type](_)},x.cross=function(_,c,v){var M=c[0],L=c[1],z=c[2],V=v[0],K=v[1],re=v[2];return _[0]=L*re-z*K,_[1]=z*V-M*re,_[2]=M*K-L*V,_},x.degToRad=sn,x.div=function(_,c,v){return _[0]=c[0]/v[0],_[1]=c[1]/v[1],_[2]=c[2]/v[2],_},x.dot=function(_,c){return _[0]*c[0]+_[1]*c[1]+_[2]*c[2]},x.dot$1=function(_,c){return _[0]*c[0]+_[1]*c[1]+_[2]*c[2]+_[3]*c[3]},x.ease=Rn,x.easeCubicInOut=ct,x.emitValidationErrors=Wh,x.endsWith=fn,x.enforceCacheSizeLimit=function(_){an(),Ft&&Ft.then(c=>{c.keys().then(v=>{for(let M=0;M<v.length-_;M++)c.delete(v[M])})})},x.evaluateSizeForFeature=Zd,x.evaluateSizeForZoom=vf,x.evaluateVariableOffset=am,x.evented=we,x.exactEquals=function(_,c){return _[0]===c[0]&&_[1]===c[1]&&_[2]===c[2]&&_[3]===c[3]},x.exactEquals$1=function(_,c){return _[0]===c[0]&&_[1]===c[1]&&_[2]===c[2]},x.exported=Ks,x.exported$1=Ea,x.extend=zi,x.filterObject=bn,x.fromMat4=function(_,c){return _[0]=c[0],_[1]=c[1],_[2]=c[2],_[3]=c[4],_[4]=c[5],_[5]=c[6],_[6]=c[8],_[7]=c[9],_[8]=c[10],_},x.fromQuat=function(_,c){var v=c[0],M=c[1],L=c[2],z=c[3],V=v+v,K=M+M,re=L+L,me=v*V,xe=M*V,Se=M*K,Oe=L*V,Ve=L*K,et=L*re,_t=z*V,It=z*K,Ht=z*re;return _[0]=1-Se-et,_[1]=xe+Ht,_[2]=Oe-It,_[3]=0,_[4]=xe-Ht,_[5]=1-me-et,_[6]=Ve+_t,_[7]=0,_[8]=Oe+It,_[9]=Ve-_t,_[10]=1-me-Se,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},x.fromRotation=function(_,c){var v=Math.sin(c),M=Math.cos(c);return _[0]=M,_[1]=v,_[2]=0,_[3]=-v,_[4]=M,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_},x.fromScaling=function(_,c){return _[0]=c[0],_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=c[1],_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=c[2],_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},x.furthestTileCorner=function(_){const c=Math.round((_+45+360)%360/90)%4;return Gt[c]},x.getAABBPointSquareDist=function(_,c,v){let M=0;for(let L=0;L<2;++L){const z=v?v[L]:0;_[L]>z&&(M+=(_[L]-z)*(_[L]-z)),c[L]<z&&(M+=(z-c[L])*(z-c[L]))}return M},x.getAnchorAlignment=pb,x.getAnchorJustification=Gd,x.getBounds=function(_){let c=1/0,v=1/0,M=-1/0,L=-1/0;for(const z of _)c=Math.min(c,z.x),v=Math.min(v,z.y),M=Math.max(M,z.x),L=Math.max(L,z.y);return{min:new Te(c,v),max:new Te(M,L)}},x.getImage=Zt,x.getJSON=function(_,c){return at(zi(_,{type:"json"}),c)},x.getMapSessionAPI=Cs,x.getPerformanceMeasurement=Ml,x.getRTLTextPluginStatus=be,x.getReferrer=Dr,x.getVideo=function(_,c){const v=We.document.createElement("video");v.muted=!0,v.onloadstart=function(){c(null,v)};for(let M=0;M<_.length;M++){const L=We.document.createElement("source");Ct(_[M])||(v.crossOrigin="Anonymous"),L.src=_[M],v.appendChild(L)}return{cancel:()=>{}}},x.identity=Ul,x.identity$1=jl,x.invert=function(_,c){var v=c[0],M=c[1],L=c[2],z=c[3],V=c[4],K=c[5],re=c[6],me=c[7],xe=c[8],Se=c[9],Oe=c[10],Ve=c[11],et=c[12],_t=c[13],It=c[14],Ht=c[15],tn=v*K-M*V,on=v*re-L*V,pn=v*me-z*V,xn=M*re-L*K,yn=M*me-z*K,Wn=L*me-z*re,Kn=xe*_t-Se*et,Gn=xe*It-Oe*et,pi=xe*Ht-Ve*et,Nn=Se*It-Oe*_t,jn=Se*Ht-Ve*_t,ui=Oe*Ht-Ve*It,On=tn*ui-on*jn+pn*Nn+xn*pi-yn*Gn+Wn*Kn;return On?(_[0]=(K*ui-re*jn+me*Nn)*(On=1/On),_[1]=(L*jn-M*ui-z*Nn)*On,_[2]=(_t*Wn-It*yn+Ht*xn)*On,_[3]=(Oe*yn-Se*Wn-Ve*xn)*On,_[4]=(re*pi-V*ui-me*Gn)*On,_[5]=(v*ui-L*pi+z*Gn)*On,_[6]=(It*pn-et*Wn-Ht*on)*On,_[7]=(xe*Wn-Oe*pn+Ve*on)*On,_[8]=(V*jn-K*pi+me*Kn)*On,_[9]=(M*pi-v*jn-z*Kn)*On,_[10]=(et*yn-_t*pn+Ht*tn)*On,_[11]=(Se*pn-xe*yn-Ve*tn)*On,_[12]=(K*Gn-V*Nn-re*Kn)*On,_[13]=(v*Nn-M*Gn+L*Kn)*On,_[14]=(_t*on-et*xn-It*tn)*On,_[15]=(xe*xn-Se*on+Oe*tn)*On,_):null},x.isMapAuthenticated=function(_){return Ho.has(_)},x.isMapboxURL=ir,x.latFromMercatorY=$d,x.len=s_,x.length=Fs,x.length$1=function(_){return Math.hypot(_[0],_[1],_[2],_[3])},x.loadVectorTile=nl,x.makeRequest=at,x.mercatorXfromLng=hy,x.mercatorYfromLat=py,x.mercatorZfromAltitude=uo,x.mul=function(_,c,v){return _[0]=c[0]*v[0],_[1]=c[1]*v[1],_[2]=c[2]*v[2],_[3]=c[3]*v[3],_},x.mul$1=Jc,x.mul$2=lg,x.multiply=Fd,x.multiply$1=zd,x.nextPowerOfTwo=wn,x.normalize=r_,x.normalize$1=function(_,c){var v=c[0],M=c[1],L=c[2],z=c[3],V=v*v+M*M+L*L+z*z;return V>0&&(V=1/Math.sqrt(V)),_[0]=v*V,_[1]=M*V,_[2]=L*V,_[3]=z*V,_},x.number=mi,x.ortho=function(_,c,v,M,L,z,V){var K=1/(c-v),re=1/(M-L),me=1/(z-V);return _[0]=-2*K,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*re,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*me,_[11]=0,_[12]=(c+v)*K,_[13]=(L+M)*re,_[14]=(V+z)*me,_[15]=1,_},x.pbf=Up,x.perspective=function(_,c,v,M,L){var z,V=1/Math.tan(c/2);return _[0]=V/v,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=V,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,null!=L&&L!==1/0?(_[10]=(L+M)*(z=1/(M-L)),_[14]=2*L*M*z):(_[10]=-1,_[14]=-2*M),_},x.pick=function(_,c){const v={};for(let M=0;M<c.length;M++){const L=c[M];L in _&&(v[L]=_[L])}return v},x.plugin=qe,x.pointGeometry=Te,x.polygonIntersectsBox=Kh,x.polygonIntersectsPolygon=lf,x.polygonizeBounds=function(_,c,v=0,M=!0){const L=new Te(v,v),z=_.sub(L),V=c.add(L),K=[z,new Te(V.x,z.y),V,new Te(z.x,V.y)];return M&&K.push(z),K},x.posAttributes=Cf,x.postMapLoadEvent=za,x.postTurnstileEvent=Ji,x.potpack=bf,x.prevPowerOfTwo=function(_){return _<=1?1:Math.pow(2,Math.floor(Math.log(_)/Math.LN2))},x.radToDeg=function(_){return _*Pt},x.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],x.registerForPluginStateChange=function(_){return _({pluginStatus:U,pluginURL:X}),we.on("pluginStateChange",_),_},x.removeAuthState=function(_){Ho.delete(_)},x.renderColorRamp=uf,x.rotateX=function(_,c,v){var M=Math.sin(v),L=Math.cos(v),z=c[4],V=c[5],K=c[6],re=c[7],me=c[8],xe=c[9],Se=c[10],Oe=c[11];return c!==_&&(_[0]=c[0],_[1]=c[1],_[2]=c[2],_[3]=c[3],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[4]=z*L+me*M,_[5]=V*L+xe*M,_[6]=K*L+Se*M,_[7]=re*L+Oe*M,_[8]=me*L-z*M,_[9]=xe*L-V*M,_[10]=Se*L-K*M,_[11]=Oe*L-re*M,_},x.rotateX$1=ep,x.rotateY=function(_,c,v){var M=Math.sin(v),L=Math.cos(v),z=c[0],V=c[1],K=c[2],re=c[3],me=c[8],xe=c[9],Se=c[10],Oe=c[11];return c!==_&&(_[4]=c[4],_[5]=c[5],_[6]=c[6],_[7]=c[7],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[0]=z*L-me*M,_[1]=V*L-xe*M,_[2]=K*L-Se*M,_[3]=re*L-Oe*M,_[8]=z*M+me*L,_[9]=V*M+xe*L,_[10]=K*M+Se*L,_[11]=re*M+Oe*L,_},x.rotateZ=function(_,c,v){var M=Math.sin(v),L=Math.cos(v),z=c[0],V=c[1],K=c[2],re=c[3],me=c[4],xe=c[5],Se=c[6],Oe=c[7];return c!==_&&(_[8]=c[8],_[9]=c[9],_[10]=c[10],_[11]=c[11],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[0]=z*L+me*M,_[1]=V*L+xe*M,_[2]=K*L+Se*M,_[3]=re*L+Oe*M,_[4]=me*L-z*M,_[5]=xe*L-V*M,_[6]=Se*L-K*M,_[7]=Oe*L-re*M,_},x.rotateZ$1=function(_,c,v){v*=.5;var M=c[0],L=c[1],z=c[2],V=c[3],K=Math.sin(v),re=Math.cos(v);return _[0]=M*re+L*K,_[1]=L*re-M*K,_[2]=z*re+V*K,_[3]=V*re-z*K,_},x.scale=function(_,c,v){return _[0]=c[0]*v,_[1]=c[1]*v,_[2]=c[2]*v,_},x.scale$1=function(_,c,v){var M=v[0],L=v[1],z=v[2];return _[0]=c[0]*M,_[1]=c[1]*M,_[2]=c[2]*M,_[3]=c[3]*M,_[4]=c[4]*L,_[5]=c[5]*L,_[6]=c[6]*L,_[7]=c[7]*L,_[8]=c[8]*z,_[9]=c[9]*z,_[10]=c[10]*z,_[11]=c[11]*z,_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15],_},x.scale$2=function(_,c,v){return _[0]=c[0]*v,_[1]=c[1]*v,_[2]=c[2]*v,_[3]=c[3]*v,_},x.scaleAndAdd=Nu,x.setCacheLimits=function(_,c){Qt=_,gn=c},x.setRTLTextPlugin=function(_,c,v=!1){if(U===R||U===m||U===T)throw new Error("setRTLTextPlugin cannot be called multiple times.");X=Ks.resolveURL(_),U=R,N=c,ge(),v||Ue()},x.smoothstep=function(_,c,v){return(v=qt((v-_)/(c-_),0,1))*v*(3-2*v)},x.spec=b,x.storeAuthState=function(_,c){c?Ho.add(_):Ho.delete(_)},x.sub=qf,x.subtract=Wf,x.symbolSize=ey,x.transformMat3=function(_,c,v){var M=c[0],L=c[1],z=c[2];return _[0]=M*v[0]+L*v[3]+z*v[6],_[1]=M*v[1]+L*v[4]+z*v[7],_[2]=M*v[2]+L*v[5]+z*v[8],_},x.transformMat4=$f,x.transformMat4$1=function(_,c,v){var M=c[0],L=c[1],z=c[2],V=v[3]*M+v[7]*L+v[11]*z+v[15];return _[0]=(v[0]*M+v[4]*L+v[8]*z+v[12])/(V=V||1),_[1]=(v[1]*M+v[5]*L+v[9]*z+v[13])/V,_[2]=(v[2]*M+v[6]*L+v[10]*z+v[14])/V,_},x.transformQuat=Gf,x.translate=function(_,c,v){var M,L,z,V,K,re,me,xe,Se,Oe,Ve,et,_t=v[0],It=v[1],Ht=v[2];return c===_?(_[12]=c[0]*_t+c[4]*It+c[8]*Ht+c[12],_[13]=c[1]*_t+c[5]*It+c[9]*Ht+c[13],_[14]=c[2]*_t+c[6]*It+c[10]*Ht+c[14],_[15]=c[3]*_t+c[7]*It+c[11]*Ht+c[15]):(L=c[1],z=c[2],V=c[3],K=c[4],re=c[5],me=c[6],xe=c[7],Se=c[8],Oe=c[9],Ve=c[10],et=c[11],_[0]=M=c[0],_[1]=L,_[2]=z,_[3]=V,_[4]=K,_[5]=re,_[6]=me,_[7]=xe,_[8]=Se,_[9]=Oe,_[10]=Ve,_[11]=et,_[12]=M*_t+K*It+Se*Ht+c[12],_[13]=L*_t+re*It+Oe*Ht+c[13],_[14]=z*_t+me*It+Ve*Ht+c[14],_[15]=V*_t+xe*It+et*Ht+c[15]),_},x.triggerPluginCompletionEvent=ce,x.uniqueId=tr,x.validateCustomStyleLayer=function(_){const c=[],v=_.id;return void 0===v&&c.push({message:`layers.${v}: missing required property "id"`}),void 0===_.render&&c.push({message:`layers.${v}: missing required method "render"`}),_.renderingMode&&"2d"!==_.renderingMode&&"3d"!==_.renderingMode&&c.push({message:`layers.${v}: property "renderingMode" must be either "2d" or "3d"`}),c},x.validateFog=_h,x.validateLight=Bl,x.validateStyle=$c,x.values=hi,x.vectorTile=ip,x.version="2.4.1",x.warnOnce=Ui,x.window=We,x.wrap=ur}),$(0,function(x){function de(at){const He=typeof at;if("number"===He||"boolean"===He||"string"===He||null==at)return JSON.stringify(at);if(Array.isArray(at)){let Ct="[";for(const Bt of at)Ct+=`${de(Bt)},`;return`${Ct}]`}const $e=Object.keys(at).sort();let dt="{";for(let Ct=0;Ct<$e.length;Ct++)dt+=`${JSON.stringify($e[Ct])}:${de(at[$e[Ct]])},`;return`${dt}}`}function Me(at){let He="";for(const $e of x.refProperties)He+=`/${de(at[$e])}`;return He}class De{constructor(He){this.keyCache={},He&&this.replace(He)}replace(He){this._layerConfigs={},this._layers={},this.update(He,[])}update(He,$e){for(const Ct of He){this._layerConfigs[Ct.id]=Ct;const Bt=this._layers[Ct.id]=x.createStyleLayer(Ct);Bt._featureFilter=x.createFilter(Bt.filter),this.keyCache[Ct.id]&&delete this.keyCache[Ct.id]}for(const Ct of $e)delete this.keyCache[Ct],delete this._layerConfigs[Ct],delete this._layers[Ct];this.familiesBySource={};const dt=function(Ct,Bt){const Ot={};for(let Zt=0;Zt<Ct.length;Zt++){const Kt=Bt&&Bt[Ct[Zt].id]||Me(Ct[Zt]);Bt&&(Bt[Ct[Zt].id]=Kt);let kn=Ot[Kt];kn||(kn=Ot[Kt]=[]),kn.push(Ct[Zt])}const rn=[];for(const Zt in Ot)rn.push(Ot[Zt]);return rn}(x.values(this._layerConfigs),this.keyCache);for(const Ct of dt){const Bt=Ct.map(Re=>this._layers[Re.id]),Ot=Bt[0];if("none"===Ot.visibility)continue;const rn=Ot.source||"";let Zt=this.familiesBySource[rn];Zt||(Zt=this.familiesBySource[rn]={});const Kt=Ot.sourceLayer||"_geojsonTileLayer";let kn=Zt[Kt];kn||(kn=Zt[Kt]=[]),kn.push(Bt)}}}const{ImageBitmap:Te}=x.window;class Ye{loadTile(He,$e){const{uid:dt,encoding:Ct,rawImageData:Bt,padding:Ot,buildQuadTree:rn}=He,Zt=Te&&Bt instanceof Te?this.getImageData(Bt,Ot):Bt;$e(null,new x.DEMData(dt,Zt,Ct,Ot<1,rn))}getImageData(He,$e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(He.width,He.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=He.width,this.offscreenCanvas.height=He.height,this.offscreenCanvasContext.drawImage(He,0,0,He.width,He.height);const dt=this.offscreenCanvasContext.getImageData(-$e,-$e,He.width+2*$e,He.height+2*$e);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new x.RGBAImage({width:dt.width,height:dt.height},dt.data)}}var We=function at(He,$e){var dt,Ct=He&&He.type;if("FeatureCollection"===Ct)for(dt=0;dt<He.features.length;dt++)at(He.features[dt],$e);else if("GeometryCollection"===Ct)for(dt=0;dt<He.geometries.length;dt++)at(He.geometries[dt],$e);else if("Feature"===Ct)at(He.geometry,$e);else if("Polygon"===Ct)Mt(He.coordinates,$e);else if("MultiPolygon"===Ct)for(dt=0;dt<He.coordinates.length;dt++)Mt(He.coordinates[dt],$e);return He};function Mt(at,He){if(0!==at.length){gt(at[0],He);for(var $e=1;$e<at.length;$e++)gt(at[$e],!He)}}function gt(at,He){for(var $e=0,dt=0,Ct=at.length,Bt=Ct-1;dt<Ct;Bt=dt++)$e+=(at[dt][0]-at[Bt][0])*(at[Bt][1]+at[dt][1]);$e>=0!=!!He&&at.reverse()}const Pt=x.vectorTile.VectorTileFeature.prototype.toGeoJSON;class sn{constructor(He){this._feature=He,this.extent=x.EXTENT,this.type=He.type,this.properties=He.tags,"id"in He&&!isNaN(He.id)&&(this.id=parseInt(He.id,10))}loadGeometry(){if(1===this._feature.type){const He=[];for(const $e of this._feature.geometry)He.push([new x.pointGeometry($e[0],$e[1])]);return He}{const He=[];for(const $e of this._feature.geometry){const dt=[];for(const Ct of $e)dt.push(new x.pointGeometry(Ct[0],Ct[1]));He.push(dt)}return He}}toGeoJSON(He,$e,dt){return Pt.call(this,He,$e,dt)}}class Gt{constructor(He){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=x.EXTENT,this.length=He.length,this._features=He}feature(He){return new sn(this._features[He])}}var ct=x.vectorTile.VectorTileFeature,ni=Rn;function Rn(at,He){this.options=He||{},this.features=at,this.length=at.length}function qt(at,He){this.id="number"==typeof at.id?at.id:void 0,this.type=at.type,this.rawGeometry=1===at.type?[at.geometry]:at.geometry,this.properties=at.tags,this.extent=He||4096}Rn.prototype.feature=function(at){return new qt(this.features[at],this.options.extent)},qt.prototype.loadGeometry=function(){var at=this.rawGeometry;this.geometry=[];for(var He=0;He<at.length;He++){for(var $e=at[He],dt=[],Ct=0;Ct<$e.length;Ct++)dt.push(new x.pointGeometry($e[Ct][0],$e[Ct][1]));this.geometry.push(dt)}return this.geometry},qt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var at=this.geometry,He=1/0,$e=-1/0,dt=1/0,Ct=-1/0,Bt=0;Bt<at.length;Bt++)for(var Ot=at[Bt],rn=0;rn<Ot.length;rn++){var Zt=Ot[rn];He=Math.min(He,Zt.x),$e=Math.max($e,Zt.x),dt=Math.min(dt,Zt.y),Ct=Math.max(Ct,Zt.y)}return[He,dt,$e,Ct]},qt.prototype.toGeoJSON=ct.prototype.toGeoJSON;var ur=hi,ds=ni;function hi(at){var He=new x.pbf;return function($e,dt){for(var Ct in $e.layers)dt.writeMessage(3,zi,$e.layers[Ct])}(at,He),He.finish()}function zi(at,He){var $e;He.writeVarintField(15,at.version||1),He.writeStringField(1,at.name||""),He.writeVarintField(5,at.extent||4096);var dt={keys:[],values:[],keycache:{},valuecache:{}};for($e=0;$e<at.length;$e++)dt.feature=at.feature($e),He.writeMessage(2,Bs,dt);var Ct=dt.keys;for($e=0;$e<Ct.length;$e++)He.writeStringField(3,Ct[$e]);var Bt=dt.values;for($e=0;$e<Bt.length;$e++)He.writeMessage(4,Tn,Bt[$e])}function Bs(at,He){var $e=at.feature;void 0!==$e.id&&He.writeVarintField(1,$e.id),He.writeMessage(2,tr,at),He.writeVarintField(3,$e.type),He.writeMessage(4,dn,$e)}function tr(at,He){var $e=at.feature,dt=at.keys,Ct=at.values,Bt=at.keycache,Ot=at.valuecache;for(var rn in $e.properties){var Zt=Bt[rn];void 0===Zt&&(dt.push(rn),Bt[rn]=Zt=dt.length-1),He.writeVarint(Zt);var Kt=$e.properties[rn],kn=typeof Kt;"string"!==kn&&"boolean"!==kn&&"number"!==kn&&(Kt=JSON.stringify(Kt));var Re=kn+":"+Kt,p=Ot[Re];void 0===p&&(Ct.push(Kt),Ot[Re]=p=Ct.length-1),He.writeVarint(p)}}function jr(at,He){return(He<<3)+(7&at)}function wn(at){return at<<1^at>>31}function dn(at,He){for(var $e=at.loadGeometry(),dt=at.type,Ct=0,Bt=0,Ot=$e.length,rn=0;rn<Ot;rn++){var Zt=$e[rn],Kt=1;1===dt&&(Kt=Zt.length),He.writeVarint(jr(1,Kt));for(var kn=3===dt?Zt.length-1:Zt.length,Re=0;Re<kn;Re++){1===Re&&1!==dt&&He.writeVarint(jr(2,kn-1));var p=Zt[Re].x-Ct,f=Zt[Re].y-Bt;He.writeVarint(wn(p)),He.writeVarint(wn(f)),Ct+=p,Bt+=f}3===dt&&He.writeVarint(jr(7,1))}}function Tn(at,He){var $e=typeof at;"string"===$e?He.writeStringField(1,at):"boolean"===$e?He.writeBooleanField(7,at):"number"===$e&&(at%1!=0?He.writeDoubleField(3,at):at<0?He.writeSVarintField(6,at):He.writeVarintField(5,at))}function fn(at,He,$e,dt,Ct,Bt){if(Ct-dt<=$e)return;const Ot=dt+Ct>>1;Hn(at,He,Ot,dt,Ct,Bt%2),fn(at,He,$e,dt,Ot-1,Bt+1),fn(at,He,$e,Ot+1,Ct,Bt+1)}function Hn(at,He,$e,dt,Ct,Bt){for(;Ct>dt;){if(Ct-dt>600){const Kt=Ct-dt+1,kn=$e-dt+1,Re=Math.log(Kt),p=.5*Math.exp(2*Re/3),f=.5*Math.sqrt(Re*p*(Kt-p)/Kt)*(kn-Kt/2<0?-1:1);Hn(at,He,$e,Math.max(dt,Math.floor($e-kn*p/Kt+f)),Math.min(Ct,Math.floor($e+(Kt-kn)*p/Kt+f)),Bt)}const Ot=He[2*$e+Bt];let rn=dt,Zt=Ct;for(bn(at,He,dt,$e),He[2*Ct+Bt]>Ot&&bn(at,He,dt,Ct);rn<Zt;){for(bn(at,He,rn,Zt),rn++,Zt--;He[2*rn+Bt]<Ot;)rn++;for(;He[2*Zt+Bt]>Ot;)Zt--}He[2*dt+Bt]===Ot?bn(at,He,dt,Zt):(Zt++,bn(at,He,Zt,Ct)),Zt<=$e&&(dt=Zt+1),$e<=Zt&&(Ct=Zt-1)}}function bn(at,He,$e,dt){li(at,$e,dt),li(He,2*$e,2*dt),li(He,2*$e+1,2*dt+1)}function li(at,He,$e){const dt=at[He];at[He]=at[$e],at[$e]=dt}function Bi(at,He,$e,dt){const Ct=at-$e,Bt=He-dt;return Ct*Ct+Bt*Bt}ur.fromVectorTileJs=hi,ur.fromGeojsonVt=function(at,He){He=He||{};var $e={};for(var dt in at)$e[dt]=new ni(at[dt].features,He),$e[dt].name=dt,$e[dt].version=He.version,$e[dt].extent=He.extent;return hi({layers:$e})},ur.GeoJSONWrapper=ds;const Ui=at=>at[0],fi=at=>at[1];class Ei{constructor(He,$e=Ui,dt=fi,Ct=64,Bt=Float64Array){this.nodeSize=Ct,this.points=He;const Ot=He.length<65536?Uint16Array:Uint32Array,rn=this.ids=new Ot(He.length),Zt=this.coords=new Bt(2*He.length);for(let Kt=0;Kt<He.length;Kt++)rn[Kt]=Kt,Zt[2*Kt]=$e(He[Kt]),Zt[2*Kt+1]=dt(He[Kt]);fn(rn,Zt,Ct,0,rn.length-1,0)}range(He,$e,dt,Ct){return function(Bt,Ot,rn,Zt,Kt,kn,Re){const p=[0,Bt.length-1,0],f=[];let b,S;for(;p.length;){const D=p.pop(),B=p.pop(),F=p.pop();if(B-F<=Re){for(let oe=F;oe<=B;oe++)b=Ot[2*oe],S=Ot[2*oe+1],b>=rn&&b<=Kt&&S>=Zt&&S<=kn&&f.push(Bt[oe]);continue}const W=Math.floor((F+B)/2);b=Ot[2*W],S=Ot[2*W+1],b>=rn&&b<=Kt&&S>=Zt&&S<=kn&&f.push(Bt[W]);const q=(D+1)%2;(0===D?rn<=b:Zt<=S)&&(p.push(F),p.push(W-1),p.push(q)),(0===D?Kt>=b:kn>=S)&&(p.push(W+1),p.push(B),p.push(q))}return f}(this.ids,this.coords,He,$e,dt,Ct,this.nodeSize)}within(He,$e,dt){return function(Ct,Bt,Ot,rn,Zt,Kt){const kn=[0,Ct.length-1,0],Re=[],p=Zt*Zt;for(;kn.length;){const f=kn.pop(),b=kn.pop(),S=kn.pop();if(b-S<=Kt){for(let q=S;q<=b;q++)Bi(Bt[2*q],Bt[2*q+1],Ot,rn)<=p&&Re.push(Ct[q]);continue}const D=Math.floor((S+b)/2),B=Bt[2*D],F=Bt[2*D+1];Bi(B,F,Ot,rn)<=p&&Re.push(Ct[D]);const W=(f+1)%2;(0===f?Ot-Zt<=B:rn-Zt<=F)&&(kn.push(S),kn.push(D-1),kn.push(W)),(0===f?Ot+Zt>=B:rn+Zt>=F)&&(kn.push(D+1),kn.push(b),kn.push(W))}return Re}(this.ids,this.coords,He,$e,dt,this.nodeSize)}}const bi={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:at=>at},xi=Math.fround||(ei=new Float32Array(1),at=>(ei[0]=+at,ei[0]));var ei;class Ni{constructor(He){this.options=Ea(Object.create(bi),He),this.trees=new Array(this.options.maxZoom+1)}load(He){const{log:$e,minZoom:dt,maxZoom:Ct,nodeSize:Bt}=this.options;$e&&console.time("total time");const Ot=`prepare ${He.length} points`;$e&&console.time(Ot),this.points=He;let rn=[];for(let Zt=0;Zt<He.length;Zt++)He[Zt].geometry&&rn.push(So(He[Zt],Zt));this.trees[Ct+1]=new Ei(rn,Ki,nr,Bt,Float32Array),$e&&console.timeEnd(Ot);for(let Zt=Ct;Zt>=dt;Zt--){const Kt=+Date.now();rn=this._cluster(rn,Zt),this.trees[Zt]=new Ei(rn,Ki,nr,Bt,Float32Array),$e&&console.log("z%d: %d clusters in %dms",Zt,rn.length,+Date.now()-Kt)}return $e&&console.timeEnd("total time"),this}getClusters(He,$e){let dt=((He[0]+180)%360+360)%360-180;const Ct=Math.max(-90,Math.min(90,He[1]));let Bt=180===He[2]?180:((He[2]+180)%360+360)%360-180;const Ot=Math.max(-90,Math.min(90,He[3]));if(He[2]-He[0]>=360)dt=-180,Bt=180;else if(dt>Bt){const kn=this.getClusters([dt,Ct,180,Ot],$e),Re=this.getClusters([-180,Ct,Bt,Ot],$e);return kn.concat(Re)}const rn=this.trees[this._limitZoom($e)],Zt=rn.range(Ks(dt),ka(Ot),Ks(Bt),ka(Ct)),Kt=[];for(const kn of Zt){const Re=rn.points[kn];Kt.push(Re.numPoints?ss(Re):this.points[Re.index])}return Kt}getChildren(He){const $e=this._getOriginId(He),dt=this._getOriginZoom(He),Ct="No cluster with the specified id.",Bt=this.trees[dt];if(!Bt)throw new Error(Ct);const Ot=Bt.points[$e];if(!Ot)throw new Error(Ct);const rn=this.options.radius/(this.options.extent*Math.pow(2,dt-1)),Zt=Bt.within(Ot.x,Ot.y,rn),Kt=[];for(const kn of Zt){const Re=Bt.points[kn];Re.parentId===He&&Kt.push(Re.numPoints?ss(Re):this.points[Re.index])}if(0===Kt.length)throw new Error(Ct);return Kt}getLeaves(He,$e,dt){const Ct=[];return this._appendLeaves(Ct,He,$e=$e||10,dt=dt||0,0),Ct}getTile(He,$e,dt){const Ct=this.trees[this._limitZoom(He)],Bt=Math.pow(2,He),{extent:Ot,radius:rn}=this.options,Zt=rn/Ot,Kt=(dt-Zt)/Bt,kn=(dt+1+Zt)/Bt,Re={features:[]};return this._addTileFeatures(Ct.range(($e-Zt)/Bt,Kt,($e+1+Zt)/Bt,kn),Ct.points,$e,dt,Bt,Re),0===$e&&this._addTileFeatures(Ct.range(1-Zt/Bt,Kt,1,kn),Ct.points,Bt,dt,Bt,Re),$e===Bt-1&&this._addTileFeatures(Ct.range(0,Kt,Zt/Bt,kn),Ct.points,-1,dt,Bt,Re),Re.features.length?Re:null}getClusterExpansionZoom(He){let $e=this._getOriginZoom(He)-1;for(;$e<=this.options.maxZoom;){const dt=this.getChildren(He);if($e++,1!==dt.length)break;He=dt[0].properties.cluster_id}return $e}_appendLeaves(He,$e,dt,Ct,Bt){const Ot=this.getChildren($e);for(const rn of Ot){const Zt=rn.properties;if(Zt&&Zt.cluster?Bt+Zt.point_count<=Ct?Bt+=Zt.point_count:Bt=this._appendLeaves(He,Zt.cluster_id,dt,Ct,Bt):Bt<Ct?Bt++:He.push(rn),He.length===dt)break}return Bt}_addTileFeatures(He,$e,dt,Ct,Bt,Ot){for(const rn of He){const Zt=$e[rn],Kt=Zt.numPoints;let kn,Re,p;if(Kt)kn=qs(Zt),Re=Zt.x,p=Zt.y;else{const S=this.points[Zt.index];kn=S.properties,Re=Ks(S.geometry.coordinates[0]),p=ka(S.geometry.coordinates[1])}const f={type:1,geometry:[[Math.round(this.options.extent*(Re*Bt-dt)),Math.round(this.options.extent*(p*Bt-Ct))]],tags:kn};let b;Kt?b=Zt.id:this.options.generateId?b=Zt.index:this.points[Zt.index].id&&(b=this.points[Zt.index].id),void 0!==b&&(f.id=b),Ot.features.push(f)}}_limitZoom(He){return Math.max(this.options.minZoom,Math.min(+He,this.options.maxZoom+1))}_cluster(He,$e){const dt=[],{radius:Ct,extent:Bt,reduce:Ot,minPoints:rn}=this.options,Zt=Ct/(Bt*Math.pow(2,$e));for(let Kt=0;Kt<He.length;Kt++){const kn=He[Kt];if(kn.zoom<=$e)continue;kn.zoom=$e;const Re=this.trees[$e+1],p=Re.within(kn.x,kn.y,Zt),f=kn.numPoints||1;let b=f;for(const S of p){const D=Re.points[S];D.zoom>$e&&(b+=D.numPoints||1)}if(b>=rn){let S=kn.x*f,D=kn.y*f,B=Ot&&f>1?this._map(kn,!0):null;const F=(Kt<<5)+($e+1)+this.points.length;for(const W of p){const q=Re.points[W];if(q.zoom<=$e)continue;q.zoom=$e;const oe=q.numPoints||1;S+=q.x*oe,D+=q.y*oe,q.parentId=F,Ot&&(B||(B=this._map(kn,!0)),Ot(B,this._map(q)))}kn.parentId=F,dt.push(Er(S/b,D/b,F,b,B))}else if(dt.push(kn),b>1)for(const S of p){const D=Re.points[S];D.zoom<=$e||(D.zoom=$e,dt.push(D))}}return dt}_getOriginId(He){return He-this.points.length>>5}_getOriginZoom(He){return(He-this.points.length)%32}_map(He,$e){if(He.numPoints)return $e?Ea({},He.properties):He.properties;const dt=this.points[He.index].properties,Ct=this.options.map(dt);return $e&&Ct===dt?Ea({},Ct):Ct}}function Er(at,He,$e,dt,Ct){return{x:xi(at),y:xi(He),zoom:1/0,id:$e,parentId:-1,numPoints:dt,properties:Ct}}function So(at,He){const[$e,dt]=at.geometry.coordinates;return{x:xi(Ks($e)),y:xi(ka(dt)),zoom:1/0,index:He,parentId:-1}}function ss(at){return{type:"Feature",id:at.id,properties:qs(at),geometry:{type:"Point",coordinates:[(He=at.x,360*(He-.5)),dr(at.y)]}};var He}function qs(at){const He=at.numPoints,$e=He>=1e4?`${Math.round(He/1e3)}k`:He>=1e3?Math.round(He/100)/10+"k":He;return Ea(Ea({},at.properties),{cluster:!0,cluster_id:at.id,point_count:He,point_count_abbreviated:$e})}function Ks(at){return at/360+.5}function ka(at){const He=Math.sin(at*Math.PI/180),$e=.5-.25*Math.log((1+He)/(1-He))/Math.PI;return $e<0?0:$e>1?1:$e}function dr(at){const He=(180-360*at)*Math.PI/180;return 360*Math.atan(Math.exp(He))/Math.PI-90}function Ea(at,He){for(const $e in He)at[$e]=He[$e];return at}function Ki(at){return at.x}function nr(at){return at.y}function ko(at,He,$e,dt){for(var Ct,Bt=dt,Ot=$e-He>>1,rn=$e-He,Zt=at[He],Kt=at[He+1],kn=at[$e],Re=at[$e+1],p=He+3;p<$e;p+=3){var f=$s(at[p],at[p+1],Zt,Kt,kn,Re);if(f>Bt)Ct=p,Bt=f;else if(f===Bt){var b=Math.abs(p-Ot);b<rn&&(Ct=p,rn=b)}}Bt>dt&&(Ct-He>3&&ko(at,He,Ct,dt),at[Ct+2]=Bt,$e-Ct>3&&ko(at,Ct,$e,dt))}function $s(at,He,$e,dt,Ct,Bt){var Ot=Ct-$e,rn=Bt-dt;if(0!==Ot||0!==rn){var Zt=((at-$e)*Ot+(He-dt)*rn)/(Ot*Ot+rn*rn);Zt>1?($e=Ct,dt=Bt):Zt>0&&($e+=Ot*Zt,dt+=rn*Zt)}return(Ot=at-$e)*Ot+(rn=He-dt)*rn}function Ci(at,He,$e,dt){var Ct={id:void 0===at?null:at,type:He,geometry:$e,tags:dt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Bt){var Ot=Bt.geometry,rn=Bt.type;if("Point"===rn||"MultiPoint"===rn||"LineString"===rn)gs(Bt,Ot);else if("Polygon"===rn||"MultiLineString"===rn)for(var Zt=0;Zt<Ot.length;Zt++)gs(Bt,Ot[Zt]);else if("MultiPolygon"===rn)for(Zt=0;Zt<Ot.length;Zt++)for(var Kt=0;Kt<Ot[Zt].length;Kt++)gs(Bt,Ot[Zt][Kt])}(Ct),Ct}function gs(at,He){for(var $e=0;$e<He.length;$e+=3)at.minX=Math.min(at.minX,He[$e]),at.minY=Math.min(at.minY,He[$e+1]),at.maxX=Math.max(at.maxX,He[$e]),at.maxY=Math.max(at.maxY,He[$e+1])}function wr(at,He,$e,dt){if(He.geometry){var Ct=He.geometry.coordinates,Bt=He.geometry.type,Ot=Math.pow($e.tolerance/((1<<$e.maxZoom)*$e.extent),2),rn=[],Zt=He.id;if($e.promoteId?Zt=He.properties[$e.promoteId]:$e.generateId&&(Zt=dt||0),"Point"===Bt)ir(Ct,rn);else if("MultiPoint"===Bt)for(var Kt=0;Kt<Ct.length;Kt++)ir(Ct[Kt],rn);else if("LineString"===Bt)Eo(Ct,rn,Ot,!1);else if("MultiLineString"===Bt){if($e.lineMetrics){for(Kt=0;Kt<Ct.length;Kt++)Eo(Ct[Kt],rn=[],Ot,!1),at.push(Ci(Zt,"LineString",rn,He.properties));return}jc(Ct,rn,Ot,!1)}else if("Polygon"===Bt)jc(Ct,rn,Ot,!0);else{if("MultiPolygon"!==Bt){if("GeometryCollection"===Bt){for(Kt=0;Kt<He.geometry.geometries.length;Kt++)wr(at,{id:Zt,geometry:He.geometry.geometries[Kt],properties:He.properties},$e,dt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Kt=0;Kt<Ct.length;Kt++){var kn=[];jc(Ct[Kt],kn,Ot,!0),rn.push(kn)}}at.push(Ci(Zt,Bt,rn,He.properties))}}function ir(at,He){He.push(es(at[0])),He.push(Vs(at[1])),He.push(0)}function Eo(at,He,$e,dt){for(var Ct,Bt,Ot=0,rn=0;rn<at.length;rn++){var Zt=es(at[rn][0]),Kt=Vs(at[rn][1]);He.push(Zt),He.push(Kt),He.push(0),rn>0&&(Ot+=dt?(Ct*Kt-Zt*Bt)/2:Math.sqrt(Math.pow(Zt-Ct,2)+Math.pow(Kt-Bt,2))),Ct=Zt,Bt=Kt}var kn=He.length-3;He[2]=1,ko(He,0,kn,$e),He[kn+2]=1,He.size=Math.abs(Ot),He.start=0,He.end=He.size}function jc(at,He,$e,dt){for(var Ct=0;Ct<at.length;Ct++){var Bt=[];Eo(at[Ct],Bt,$e,dt),He.push(Bt)}}function es(at){return at/360+.5}function Vs(at){var He=Math.sin(at*Math.PI/180),$e=.5-.25*Math.log((1+He)/(1-He))/Math.PI;return $e<0?0:$e>1?1:$e}function Go(at,He,$e,dt,Ct,Bt,Ot,rn){if(dt/=He,Bt>=($e/=He)&&Ot<dt)return at;if(Ot<$e||Bt>=dt)return null;for(var Zt=[],Kt=0;Kt<at.length;Kt++){var kn=at[Kt],Re=kn.geometry,p=kn.type,f=0===Ct?kn.minX:kn.minY,b=0===Ct?kn.maxX:kn.maxY;if(f>=$e&&b<dt)Zt.push(kn);else if(!(b<$e||f>=dt)){var S=[];if("Point"===p||"MultiPoint"===p)Nr(Re,S,$e,dt,Ct);else if("LineString"===p)Zn(Re,S,$e,dt,Ct,!1,rn.lineMetrics);else if("MultiLineString"===p)ml(Re,S,$e,dt,Ct,!1);else if("Polygon"===p)ml(Re,S,$e,dt,Ct,!0);else if("MultiPolygon"===p)for(var D=0;D<Re.length;D++){var B=[];ml(Re[D],B,$e,dt,Ct,!0),B.length&&S.push(B)}if(S.length){if(rn.lineMetrics&&"LineString"===p){for(D=0;D<S.length;D++)Zt.push(Ci(kn.id,p,S[D],kn.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===S.length?(p="LineString",S=S[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===S.length?"Point":"MultiPoint"),Zt.push(Ci(kn.id,p,S,kn.tags))}}}return Zt.length?Zt:null}function Nr(at,He,$e,dt,Ct){for(var Bt=0;Bt<at.length;Bt+=3){var Ot=at[Bt+Ct];Ot>=$e&&Ot<=dt&&(He.push(at[Bt]),He.push(at[Bt+1]),He.push(at[Bt+2]))}}function Zn(at,He,$e,dt,Ct,Bt,Ot){for(var rn,Zt,Kt=Ji(at),kn=0===Ct?Da:Cs,Re=at.start,p=0;p<at.length-3;p+=3){var f=at[p],b=at[p+1],S=at[p+2],D=at[p+3],B=at[p+4],F=0===Ct?f:b,W=0===Ct?D:B,q=!1;Ot&&(rn=Math.sqrt(Math.pow(f-D,2)+Math.pow(b-B,2))),F<$e?W>$e&&(Zt=kn(Kt,f,b,D,B,$e),Ot&&(Kt.start=Re+rn*Zt)):F>dt?W<dt&&(Zt=kn(Kt,f,b,D,B,dt),Ot&&(Kt.start=Re+rn*Zt)):za(Kt,f,b,S),W<$e&&F>=$e&&(Zt=kn(Kt,f,b,D,B,$e),q=!0),W>dt&&F<=dt&&(Zt=kn(Kt,f,b,D,B,dt),q=!0),!Bt&&q&&(Ot&&(Kt.end=Re+rn*Zt),He.push(Kt),Kt=Ji(at)),Ot&&(Re+=rn)}var oe=at.length-3;f=at[oe],b=at[oe+1],S=at[oe+2],(F=0===Ct?f:b)>=$e&&F<=dt&&za(Kt,f,b,S),oe=Kt.length-3,Bt&&oe>=3&&(Kt[oe]!==Kt[0]||Kt[oe+1]!==Kt[1])&&za(Kt,Kt[0],Kt[1],Kt[2]),Kt.length&&He.push(Kt)}function Ji(at){var He=[];return He.size=at.size,He.start=at.start,He.end=at.end,He}function ml(at,He,$e,dt,Ct,Bt){for(var Ot=0;Ot<at.length;Ot++)Zn(at[Ot],He,$e,dt,Ct,Bt,!1)}function za(at,He,$e,dt){at.push(He),at.push($e),at.push(dt)}function Da(at,He,$e,dt,Ct,Bt){var Ot=(Bt-He)/(dt-He);return at.push(Bt),at.push($e+(Ct-$e)*Ot),at.push(1),Ot}function Cs(at,He,$e,dt,Ct,Bt){var Ot=(Bt-$e)/(Ct-$e);return at.push(He+(dt-He)*Ot),at.push(Bt),at.push(1),Ot}function Ho(at,He){for(var $e=[],dt=0;dt<at.length;dt++){var Ct,Bt=at[dt],Ot=Bt.type;if("Point"===Ot||"MultiPoint"===Ot||"LineString"===Ot)Ct=Vo(Bt.geometry,He);else if("MultiLineString"===Ot||"Polygon"===Ot){Ct=[];for(var rn=0;rn<Bt.geometry.length;rn++)Ct.push(Vo(Bt.geometry[rn],He))}else if("MultiPolygon"===Ot)for(Ct=[],rn=0;rn<Bt.geometry.length;rn++){for(var Zt=[],Kt=0;Kt<Bt.geometry[rn].length;Kt++)Zt.push(Vo(Bt.geometry[rn][Kt],He));Ct.push(Zt)}$e.push(Ci(Bt.id,Ot,Ct,Bt.tags))}return $e}function Vo(at,He){var $e=[];$e.size=at.size,void 0!==at.start&&($e.start=at.start,$e.end=at.end);for(var dt=0;dt<at.length;dt+=3)$e.push(at[dt]+He,at[dt+1],at[dt+2]);return $e}function Ft(at,He){if(at.transformed)return at;var $e,dt,Ct,Bt=1<<at.z,Ot=at.x,rn=at.y;for($e=0;$e<at.features.length;$e++){var Zt=at.features[$e],Kt=Zt.geometry,kn=Zt.type;if(Zt.geometry=[],1===kn)for(dt=0;dt<Kt.length;dt+=2)Zt.geometry.push(Rt(Kt[dt],Kt[dt+1],He,Bt,Ot,rn));else for(dt=0;dt<Kt.length;dt++){var Re=[];for(Ct=0;Ct<Kt[dt].length;Ct+=2)Re.push(Rt(Kt[dt][Ct],Kt[dt][Ct+1],He,Bt,Ot,rn));Zt.geometry.push(Re)}}return at.transformed=!0,at}function Rt(at,He,$e,dt,Ct,Bt){return[Math.round($e*(at*dt-Ct)),Math.round($e*(He*dt-Bt))]}function Qt(at,He,$e,dt,Ct){for(var Bt=He===Ct.maxZoom?0:Ct.tolerance/((1<<He)*Ct.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:$e,y:dt,z:He,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},rn=0;rn<at.length;rn++){Ot.numFeatures++,gn(Ot,at[rn],Bt,Ct);var Zt=at[rn].minX,Kt=at[rn].minY,kn=at[rn].maxX,Re=at[rn].maxY;Zt<Ot.minX&&(Ot.minX=Zt),Kt<Ot.minY&&(Ot.minY=Kt),kn>Ot.maxX&&(Ot.maxX=kn),Re>Ot.maxY&&(Ot.maxY=Re)}return Ot}function gn(at,He,$e,dt){var Ct=He.geometry,Bt=He.type,Ot=[];if("Point"===Bt||"MultiPoint"===Bt)for(var rn=0;rn<Ct.length;rn+=3)Ot.push(Ct[rn]),Ot.push(Ct[rn+1]),at.numPoints++,at.numSimplified++;else if("LineString"===Bt)an(Ot,Ct,at,$e,!1,!1);else if("MultiLineString"===Bt||"Polygon"===Bt)for(rn=0;rn<Ct.length;rn++)an(Ot,Ct[rn],at,$e,"Polygon"===Bt,0===rn);else if("MultiPolygon"===Bt)for(var Zt=0;Zt<Ct.length;Zt++){var Kt=Ct[Zt];for(rn=0;rn<Kt.length;rn++)an(Ot,Kt[rn],at,$e,!0,0===rn)}if(Ot.length){var kn=He.tags||null;if("LineString"===Bt&&dt.lineMetrics){for(var Re in kn={},He.tags)kn[Re]=He.tags[Re];kn.mapbox_clip_start=Ct.start/Ct.size,kn.mapbox_clip_end=Ct.end/Ct.size}var p={geometry:Ot,type:"Polygon"===Bt||"MultiPolygon"===Bt?3:"LineString"===Bt||"MultiLineString"===Bt?2:1,tags:kn};null!==He.id&&(p.id=He.id),at.features.push(p)}}function an(at,He,$e,dt,Ct,Bt){var Ot=dt*dt;if(dt>0&&He.size<(Ct?Ot:dt))$e.numPoints+=He.length/3;else{for(var rn=[],Zt=0;Zt<He.length;Zt+=3)(0===dt||He[Zt+2]>Ot)&&($e.numSimplified++,rn.push(He[Zt]),rn.push(He[Zt+1])),$e.numPoints++;Ct&&function(Kt,kn){for(var Re=0,p=0,f=Kt.length,b=f-2;p<f;b=p,p+=2)Re+=(Kt[p]-Kt[b])*(Kt[p+1]+Kt[b+1]);if(Re>0===kn)for(p=0,f=Kt.length;p<f/2;p+=2){var S=Kt[p],D=Kt[p+1];Kt[p]=Kt[f-2-p],Kt[p+1]=Kt[f-1-p],Kt[f-2-p]=S,Kt[f-1-p]=D}}(rn,Bt),at.push(rn)}}function _i(at,He){var $e=(He=this.options=function(Ct,Bt){for(var Ot in Bt)Ct[Ot]=Bt[Ot];return Ct}(Object.create(this.options),He)).debug;if($e&&console.time("preprocess data"),He.maxZoom<0||He.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(He.promoteId&&He.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct,Bt,Ot,rn,Zt,Kt,dt=function(Ct,Bt){var Ot=[];if("FeatureCollection"===Ct.type)for(var rn=0;rn<Ct.features.length;rn++)wr(Ot,Ct.features[rn],Bt,rn);else wr(Ot,"Feature"===Ct.type?Ct:{geometry:Ct},Bt);return Ot}(at,He);this.tiles={},this.tileCoords=[],$e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",He.indexMaxZoom,He.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ct=dt,Bt=He,Ot=Bt.buffer/Bt.extent,rn=Ct,Zt=Go(Ct,1,-1-Ot,Ot,0,-1,2,Bt),Kt=Go(Ct,1,1-Ot,2+Ot,0,-1,2,Bt),(Zt||Kt)&&(rn=Go(Ct,1,-Ot,1+Ot,0,-1,2,Bt)||[],Zt&&(rn=Ho(Zt,1).concat(rn)),Kt&&(rn=rn.concat(Ho(Kt,-1)))),dt=rn).length&&this.splitTile(dt,0,0,0),$e&&(dt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Zi(at,He,$e){return 32*((1<<at)*$e+He)+at}function mr(at,He){const $e=at.tileID.canonical;if(!this._geoJSONIndex)return He(null,null);const dt=this._geoJSONIndex.getTile($e.z,$e.x,$e.y);if(!dt)return He(null,null);const Ct=new Gt(dt.features);let Bt=ur(Ct);0===Bt.byteOffset&&Bt.byteLength===Bt.buffer.byteLength||(Bt=new Uint8Array(Bt)),He(null,{vectorTile:Ct,rawData:Bt.buffer})}_i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_i.prototype.splitTile=function(at,He,$e,dt,Ct,Bt,Ot){for(var rn=[at,He,$e,dt],Zt=this.options,Kt=Zt.debug;rn.length;){dt=rn.pop(),$e=rn.pop(),He=rn.pop(),at=rn.pop();var kn=1<<He,Re=Zi(He,$e,dt),p=this.tiles[Re];if(!p&&(Kt>1&&console.time("creation"),p=this.tiles[Re]=Qt(at,He,$e,dt,Zt),this.tileCoords.push({z:He,x:$e,y:dt}),Kt)){Kt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",He,$e,dt,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+He;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=at,Ct){if(He===Zt.maxZoom||He===Ct)continue;var b=1<<Ct-He;if($e!==Math.floor(Bt/b)||dt!==Math.floor(Ot/b))continue}else if(He===Zt.indexMaxZoom||p.numPoints<=Zt.indexMaxPoints)continue;if(p.source=null,0!==at.length){Kt>1&&console.time("clipping");var S,D,B,F,W,q,oe=.5*Zt.buffer/Zt.extent,ue=.5-oe,ae=.5+oe,_e=1+oe;S=D=B=F=null,W=Go(at,kn,$e-oe,$e+ae,0,p.minX,p.maxX,Zt),q=Go(at,kn,$e+ue,$e+_e,0,p.minX,p.maxX,Zt),at=null,W&&(S=Go(W,kn,dt-oe,dt+ae,1,p.minY,p.maxY,Zt),D=Go(W,kn,dt+ue,dt+_e,1,p.minY,p.maxY,Zt),W=null),q&&(B=Go(q,kn,dt-oe,dt+ae,1,p.minY,p.maxY,Zt),F=Go(q,kn,dt+ue,dt+_e,1,p.minY,p.maxY,Zt),q=null),Kt>1&&console.timeEnd("clipping"),rn.push(S||[],He+1,2*$e,2*dt),rn.push(D||[],He+1,2*$e,2*dt+1),rn.push(B||[],He+1,2*$e+1,2*dt),rn.push(F||[],He+1,2*$e+1,2*dt+1)}}},_i.prototype.getTile=function(at,He,$e){var dt=this.options,Ct=dt.extent,Bt=dt.debug;if(at<0||at>24)return null;var Ot=1<<at,rn=Zi(at,He=(He%Ot+Ot)%Ot,$e);if(this.tiles[rn])return Ft(this.tiles[rn],Ct);Bt>1&&console.log("drilling down to z%d-%d-%d",at,He,$e);for(var Zt,Kt=at,kn=He,Re=$e;!Zt&&Kt>0;)Kt--,kn=Math.floor(kn/2),Re=Math.floor(Re/2),Zt=this.tiles[Zi(Kt,kn,Re)];return Zt&&Zt.source?(Bt>1&&console.log("found parent tile z%d-%d-%d",Kt,kn,Re),Bt>1&&console.time("drilling down"),this.splitTile(Zt.source,Kt,kn,Re,at,He,$e),Bt>1&&console.timeEnd("drilling down"),this.tiles[rn]?Ft(this.tiles[rn],Ct):null):null};class Zr extends x.VectorTileWorkerSource{constructor(He,$e,dt,Ct,Bt){super(He,$e,dt,Ct,mr),Bt&&(this.loadGeoJSON=Bt)}loadData(He,$e){const dt=He&&He.request,Ct=dt&&dt.collectResourceTiming;this.loadGeoJSON(He,(Bt,Ot)=>{if(Bt||!Ot)return $e(Bt);if("object"!=typeof Ot)return $e(new Error(`Input data given to '${He.source}' is not a valid GeoJSON object.`));{We(Ot,!0);try{if(He.filter){const Zt=x.createExpression(He.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Zt.result)throw new Error(Zt.value.map(kn=>`${kn.key}: ${kn.message}`).join(", "));const Kt=Ot.features.filter(kn=>Zt.value.evaluate({zoom:0},kn));Ot={type:"FeatureCollection",features:Kt}}this._geoJSONIndex=He.cluster?new Ni(function({superclusterOptions:Zt,clusterProperties:Kt}){if(!Kt||!Zt)return Zt;const kn={},Re={},p={accumulated:null,zoom:0},f={properties:null},b=Object.keys(Kt);for(const S of b){const[D,B]=Kt[S],F=x.createExpression(B),W=x.createExpression("string"==typeof D?[D,["accumulated"],["get",S]]:D);kn[S]=F.value,Re[S]=W.value}return Zt.map=S=>{f.properties=S;const D={};for(const B of b)D[B]=kn[B].evaluate(p,f);return D},Zt.reduce=(S,D)=>{f.properties=D;for(const B of b)p.accumulated=S[B],S[B]=Re[B].evaluate(p,f)},Zt}(He)).load(Ot.features):new _i(Zt=Ot,He.geojsonVtOptions)}catch(Zt){return $e(Zt)}this.loaded={};const rn={};if(Ct){const Zt=x.getPerformanceMeasurement(dt);Zt&&(rn.resourceTiming={},rn.resourceTiming[He.source]=JSON.parse(JSON.stringify(Zt)))}$e(null,rn)}var Zt})}reloadTile(He,$e){const dt=this.loaded;return dt&&dt[He.uid]?super.reloadTile(He,$e):this.loadTile(He,$e)}loadGeoJSON(He,$e){if(He.request)x.getJSON(He.request,$e);else{if("string"!=typeof He.data)return $e(new Error(`Input data given to '${He.source}' is not a valid GeoJSON object.`));try{return $e(null,JSON.parse(He.data))}catch(dt){return $e(new Error(`Input data given to '${He.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(He,$e){try{$e(null,this._geoJSONIndex.getClusterExpansionZoom(He.clusterId))}catch(dt){$e(dt)}}getClusterChildren(He,$e){try{$e(null,this._geoJSONIndex.getChildren(He.clusterId))}catch(dt){$e(dt)}}getClusterLeaves(He,$e){try{$e(null,this._geoJSONIndex.getLeaves(He.clusterId,He.limit,He.offset))}catch(dt){$e(dt)}}}class Dr{constructor(He){this.self=He,this.actor=new x.Actor(He,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:x.VectorTileWorkerSource,geojson:Zr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=($e,dt)=>{if(this.workerSourceTypes[$e])throw new Error(`Worker source with name "${$e}" already registered.`);this.workerSourceTypes[$e]=dt},this.self.registerRTLTextPlugin=$e=>{if(x.plugin.isParsed())throw new Error("RTL text plugin already registered.");x.plugin.applyArabicShaping=$e.applyArabicShaping,x.plugin.processBidirectionalText=$e.processBidirectionalText,x.plugin.processStyledBidirectionalText=$e.processStyledBidirectionalText}}checkIfReady(He,$e,dt){dt()}setReferrer(He,$e){this.referrer=$e}spriteLoaded(He,$e){this.isSpriteLoaded=$e;for(const dt in this.workerSources[He]){const Ct=this.workerSources[He][dt];for(const Bt in Ct)Ct[Bt]instanceof x.VectorTileWorkerSource&&(Ct[Bt].isSpriteLoaded=$e,Ct[Bt].fire(new x.Event("isSpriteLoaded")))}}setImages(He,$e,dt){this.availableImages[He]=$e;for(const Ct in this.workerSources[He]){const Bt=this.workerSources[He][Ct];for(const Ot in Bt)Bt[Ot].availableImages=$e}dt()}enableTerrain(He,$e,dt){this.terrain=$e,dt()}setLayers(He,$e,dt){this.getLayerIndex(He).replace($e),dt()}updateLayers(He,$e,dt){this.getLayerIndex(He).update($e.layers,$e.removedIds),dt()}loadTile(He,$e,dt){const Ct=this.enableTerrain?x.extend({enableTerrain:this.terrain},$e):$e;this.getWorkerSource(He,$e.type,$e.source).loadTile(Ct,dt)}loadDEMTile(He,$e,dt){const Ct=this.enableTerrain?x.extend({buildQuadTree:this.terrain},$e):$e;this.getDEMWorkerSource(He,$e.source).loadTile(Ct,dt)}reloadTile(He,$e,dt){const Ct=this.enableTerrain?x.extend({enableTerrain:this.terrain},$e):$e;this.getWorkerSource(He,$e.type,$e.source).reloadTile(Ct,dt)}abortTile(He,$e,dt){this.getWorkerSource(He,$e.type,$e.source).abortTile($e,dt)}removeTile(He,$e,dt){this.getWorkerSource(He,$e.type,$e.source).removeTile($e,dt)}removeSource(He,$e,dt){if(!this.workerSources[He]||!this.workerSources[He][$e.type]||!this.workerSources[He][$e.type][$e.source])return;const Ct=this.workerSources[He][$e.type][$e.source];delete this.workerSources[He][$e.type][$e.source],void 0!==Ct.removeSource?Ct.removeSource($e,dt):dt()}loadWorkerSource(He,$e,dt){try{this.self.importScripts($e.url),dt()}catch(Ct){dt(Ct.toString())}}syncRTLPluginState(He,$e,dt){try{x.plugin.setState($e);const Ct=x.plugin.getPluginURL();if(x.plugin.isLoaded()&&!x.plugin.isParsed()&&null!=Ct){this.self.importScripts(Ct);const Bt=x.plugin.isParsed();dt(Bt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ct}`),Bt)}}catch(Ct){dt(Ct.toString())}}getAvailableImages(He){let $e=this.availableImages[He];return $e||($e=[]),$e}getLayerIndex(He){let $e=this.layerIndexes[He];return $e||($e=this.layerIndexes[He]=new De),$e}getWorkerSource(He,$e,dt){return this.workerSources[He]||(this.workerSources[He]={}),this.workerSources[He][$e]||(this.workerSources[He][$e]={}),this.workerSources[He][$e][dt]||(this.workerSources[He][$e][dt]=new this.workerSourceTypes[$e]({send:(Ct,Bt,Ot,rn,Zt,Kt)=>{this.actor.send(Ct,Bt,Ot,He,Zt,Kt)},scheduler:this.actor.scheduler},this.getLayerIndex(He),this.getAvailableImages(He),this.isSpriteLoaded)),this.workerSources[He][$e][dt]}getDEMWorkerSource(He,$e){return this.demWorkerSources[He]||(this.demWorkerSources[He]={}),this.demWorkerSources[He][$e]||(this.demWorkerSources[He][$e]=new Ye),this.demWorkerSources[He][$e]}enforceCacheSizeLimit(He,$e){x.enforceCacheSizeLimit($e)}getWorkerPerformanceMetrics(He,$e,dt){dt(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Dr(self)),Dr}),$(0,function(x){var de=Me;function Me(R){return m=R,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var N,U,X=new Blob([""],{type:"text/javascript"}),ce=URL.createObjectURL(X);try{U=new Worker(ce),N=!0}catch(ge){N=!1}return U&&U.terminate(),URL.revokeObjectURL(ce),N}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var N=document.createElement("canvas");N.width=N.height=1;var U=N.getContext("2d");if(!U)return!1;var X=U.getImageData(0,0,1,1);return X&&X.width===N.width}()||(void 0===De[T=m&&m.failIfMajorPerformanceCaveat]&&(De[T]=function(N){var U,ce,ge,we,X=(ce=N,ge=document.createElement("canvas"),(we=Object.create(Me.webGLContextAttributes)).failIfMajorPerformanceCaveat=ce,ge.getContext("webgl",we)||ge.getContext("experimental-webgl",we));if(!X)return!1;try{U=X.createShader(X.VERTEX_SHADER)}catch(ce){return!1}return!(!U||X.isContextLost())&&(X.shaderSource(U,"void main() {}"),X.compileShader(U),!0===X.getShaderParameter(U,X.COMPILE_STATUS))}(T)),!De[T]||document.documentMode));var m,T}var De={};function Te(R,m){if(Array.isArray(R)){if(!Array.isArray(m)||R.length!==m.length)return!1;for(let T=0;T<R.length;T++)if(!Te(R[T],m[T]))return!1;return!0}if("object"==typeof R&&null!==R&&null!==m){if("object"!=typeof m||Object.keys(R).length!==Object.keys(m).length)return!1;for(const T in R)if(!Te(R[T],m[T]))return!1;return!0}return R===m}Me.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Ye={create:function(R,m,T){const N=x.window.document.createElement(R);return void 0!==m&&(N.className=m),T&&T.appendChild(N),N},createNS:function(R,m){return x.window.document.createElementNS(R,m)}},We=x.window.document&&x.window.document.documentElement.style,Mt=We&&void 0!==We.userSelect?"userSelect":"WebkitUserSelect";let gt;Ye.disableDrag=function(){We&&Mt&&(gt=We[Mt],We[Mt]="none")},Ye.enableDrag=function(){We&&Mt&&(We[Mt]=gt)},Ye.setTransform=function(R,m){R.style.transform=m};let Pt=!1;try{const R=Object.defineProperty({},"passive",{get(){Pt=!0}});x.window.addEventListener("test",R,R),x.window.removeEventListener("test",R,R)}catch(R){Pt=!1}Ye.addEventListener=function(R,m,T,N={}){R.addEventListener(m,T,"passive"in N&&Pt?N:N.capture)},Ye.removeEventListener=function(R,m,T,N={}){R.removeEventListener(m,T,"passive"in N&&Pt?N:N.capture)};const sn=function(R){R.preventDefault(),R.stopPropagation(),x.window.removeEventListener("click",sn,!0)};function Gt(R,m,T){const N=R.offsetWidth===m.width?1:R.offsetWidth/m.width;return new x.pointGeometry((T.clientX-m.left)*N,(T.clientY-m.top)*N)}Ye.suppressClick=function(){x.window.addEventListener("click",sn,!0),x.window.setTimeout(()=>{x.window.removeEventListener("click",sn,!0)},0)},Ye.mousePos=function(R,m){const T=R.getBoundingClientRect();return Gt(R,T,m)},Ye.touchPos=function(R,m){const T=R.getBoundingClientRect(),N=[];for(let U=0;U<m.length;U++)N.push(Gt(R,T,m[U]));return N},Ye.mouseButton=function(R){return void 0!==x.window.InstallTrigger&&2===R.button&&R.ctrlKey&&x.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:R.button},Ye.remove=function(R){R.parentNode&&R.parentNode.removeChild(R)};class ct{constructor(m,T){this.pos=m,this.dir=T}intersectsPlane(m,T,N){const U=x.dot(T,this.dir);if(Math.abs(U)<1e-6)return!1;const X=x.dot(x.sub(x.create(),m,this.pos),T)/U,ce=x.scaleAndAdd(x.create(),this.pos,this.dir,X);return x.copy(N,ce),!0}}class ni{constructor(m,T){this.points=m,this.planes=T}static fromInvProjectionMatrix(m,T,N){const U=Math.pow(2,N),X=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ge=>{const we=x.transformMat4([],ge,m),be=1/we[3]/T*U;return x.mul(we,we,[be,be,1/we[3],be])}),ce=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ge=>{const we=x.sub([],X[ge[0]],X[ge[1]]),be=x.sub([],X[ge[2]],X[ge[1]]),Ue=x.normalize([],x.cross([],we,be)),qe=-x.dot(Ue,X[ge[1]]);return Ue.concat(qe)});return new ni(X,ce)}}class Rn{constructor(m,T){this.min=m,this.max=T,this.center=x.scale([],x.add([],this.min,this.max),.5)}quadrant(m){const T=[m%2==0,m<2],N=x.clone(this.min),U=x.clone(this.max);for(let X=0;X<T.length;X++)N[X]=T[X]?this.min[X]:this.center[X],U[X]=T[X]?this.center[X]:this.max[X];return U[2]=this.max[2],new Rn(N,U)}distanceX(m){return Math.max(Math.min(this.max[0],m[0]),this.min[0])-m[0]}distanceY(m){return Math.max(Math.min(this.max[1],m[1]),this.min[1])-m[1]}distanceZ(m){return Math.max(Math.min(this.max[2],m[2]),this.min[2])-m[2]}intersects(m){const T=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let N=!0;for(let U=0;U<m.planes.length;U++){const X=m.planes[U];let ce=0;for(let ge=0;ge<T.length;ge++)ce+=x.dot$1(X,T[ge])>=0;if(0===ce)return 0;ce!==T.length&&(N=!1)}if(N)return 2;for(let U=0;U<3;U++){let X=Number.MAX_VALUE,ce=-Number.MAX_VALUE;for(let ge=0;ge<m.points.length;ge++){const we=m.points[ge][U]-this.min[U];X=Math.min(X,we),ce=Math.max(ce,we)}if(ce<0||X>this.max[U]-this.min[U])return 0}return 1}}function qt(R){const{userImage:m}=R;return!!(m&&m.render&&m.render())&&(R.data.replace(new Uint8Array(m.data.buffer)),!0)}class ur extends x.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new x.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(m){if(this.loaded!==m&&(this.loaded=m,m)){for(const{ids:T,callback:N}of this.requestors)this._notify(T,N);this.requestors=[]}}getImage(m){return this.images[m]}addImage(m,T){this._validate(m,T)&&(this.images[m]=T)}_validate(m,T){let N=!0;return this._validateStretch(T.stretchX,T.data&&T.data.width)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "stretchX" value`))),N=!1),this._validateStretch(T.stretchY,T.data&&T.data.height)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "stretchY" value`))),N=!1),this._validateContent(T.content,T)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "content" value`))),N=!1),N}_validateStretch(m,T){if(!m)return!0;let N=0;for(const U of m){if(U[0]<N||U[1]<U[0]||T<U[1])return!1;N=U[1]}return!0}_validateContent(m,T){return!(m&&(4!==m.length||m[0]<0||T.data.width<m[0]||m[1]<0||T.data.height<m[1]||m[2]<0||T.data.width<m[2]||m[3]<0||T.data.height<m[3]||m[2]<m[0]||m[3]<m[1]))}updateImage(m,T){T.version=this.images[m].version+1,this.images[m]=T,this.updatedImages[m]=!0}removeImage(m){const T=this.images[m];delete this.images[m],delete this.patterns[m],T.userImage&&T.userImage.onRemove&&T.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(m,T){let N=!0;if(!this.isLoaded())for(const U of m)this.images[U]||(N=!1);this.isLoaded()||N?this._notify(m,T):this.requestors.push({ids:m,callback:T})}_notify(m,T){const N={};for(const U of m){this.images[U]||this.fire(new x.Event("styleimagemissing",{id:U}));const X=this.images[U];X?N[U]={data:X.data.clone(),pixelRatio:X.pixelRatio,sdf:X.sdf,version:X.version,stretchX:X.stretchX,stretchY:X.stretchY,content:X.content,hasRenderCallback:Boolean(X.userImage&&X.userImage.render)}:x.warnOnce(`Image "${U}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}T(null,N)}getPixelSize(){const{width:m,height:T}=this.atlasImage;return{width:m,height:T}}getPattern(m){const T=this.patterns[m],N=this.getImage(m);if(!N)return null;if(T&&T.position.version===N.version)return T.position;if(T)T.position.version=N.version;else{const U={w:N.data.width+2,h:N.data.height+2,x:0,y:0},X=new x.ImagePosition(U,N);this.patterns[m]={bin:U,position:X}}return this._updatePatternAtlas(),this.patterns[m].position}bind(m){const T=m.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new x.Texture(m,this.atlasImage,T.RGBA),this.atlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE)}_updatePatternAtlas(){const m=[];for(const X in this.patterns)m.push(this.patterns[X].bin);const{w:T,h:N}=x.potpack(m),U=this.atlasImage;U.resize({width:T||1,height:N||1});for(const X in this.patterns){const{bin:ce}=this.patterns[X],ge=ce.x+1,we=ce.y+1,be=this.images[X].data,Ue=be.width,qe=be.height;x.RGBAImage.copy(be,U,{x:0,y:0},{x:ge,y:we},{width:Ue,height:qe}),x.RGBAImage.copy(be,U,{x:0,y:qe-1},{x:ge,y:we-1},{width:Ue,height:1}),x.RGBAImage.copy(be,U,{x:0,y:0},{x:ge,y:we+qe},{width:Ue,height:1}),x.RGBAImage.copy(be,U,{x:Ue-1,y:0},{x:ge-1,y:we},{width:1,height:qe}),x.RGBAImage.copy(be,U,{x:0,y:0},{x:ge+Ue,y:we},{width:1,height:qe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(m){for(const T of m){if(this.callbackDispatchedThisFrame[T])continue;this.callbackDispatchedThisFrame[T]=!0;const N=this.images[T];qt(N)&&this.updateImage(T,N)}}}const ds=new x.Properties({anchor:new x.DataConstantProperty(x.spec.light.anchor),position:new class{constructor(){this.specification=x.spec.light.position}possiblyEvaluate(R,m){return function([T,N,U]){const X=x.degToRad(N+90),ce=x.degToRad(U);return{x:T*Math.cos(X)*Math.sin(ce),y:T*Math.sin(X)*Math.sin(ce),z:T*Math.cos(ce),azimuthal:N,polar:U}}(R.expression.evaluate(m))}interpolate(R,m,T){return{x:x.number(R.x,m.x,T),y:x.number(R.y,m.y,T),z:x.number(R.z,m.z,T),azimuthal:x.number(R.azimuthal,m.azimuthal,T),polar:x.number(R.polar,m.polar,T)}}},color:new x.DataConstantProperty(x.spec.light.color),intensity:new x.DataConstantProperty(x.spec.light.intensity)}),hi="-transition";class zi extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(ds),this.setLight(m),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(m,T={}){if(!this._validate(x.validateLight,m,T))for(const N in m){const U=m[N];x.endsWith(N,hi)?this._transitionable.setTransition(N.slice(0,-hi.length),U):this._transitionable.setValue(N,U)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,T,N){return(!N||!1!==N.validate)&&x.emitValidationErrors(this,m.call(x.validateStyle,x.extend({value:T,style:{glyphs:!0,sprite:!0},styleSpec:x.spec})))}}const Bs=new x.Properties({source:new x.DataConstantProperty(x.spec.terrain.source),exaggeration:new x.DataConstantProperty(x.spec.terrain.exaggeration)}),tr="-transition";class jr extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(Bs),this.set(m),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(m){for(const T in m){const N=m[T];x.endsWith(T,tr)?this._transitionable.setTransition(T.slice(0,-tr.length),N):this._transitionable.setValue(T,N)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}}function wn(R,m,T,N){const U=x.smoothstep(45,65,T),[X,ce]=dn(R,N),ge=x.length(m);let we=1-Math.min(1,Math.exp((ge-X)/(ce-X)*-6));return we*=we*we,we=Math.min(1,1.00747*we),we*U*R.alpha}function dn(R,m){const T=.5/Math.tan(.5*m);return[R.range[0]+T,R.range[1]+T]}const Tn=new x.Properties({range:new x.DataConstantProperty(x.spec.fog.range),color:new x.DataConstantProperty(x.spec.fog.color),"horizon-blend":new x.DataConstantProperty(x.spec.fog["horizon-blend"])}),fn="-transition";class Hn extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(Tn),this.set(m),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(m,T={}){if(!this._validate(x.validateFog,m,T))for(const N in m){const U=m[N];x.endsWith(N,fn)?this._transitionable.setTransition(N.slice(0,-fn.length),U):this._transitionable.setValue(N,U)}}getOpacity(m){const T=this.properties&&this.properties.get("color")||1;return x.smoothstep(45,65,m)*T.a}getOpacityAtLatLng(m,T){return function(N,U,X){const ce=x.MercatorCoordinate.fromLngLat(U),ge=X.elevation?X.elevation.getAtPointOrZero(ce):0,we=[ce.x,ce.y,ge];return x.transformMat4$1(we,we,X.mercatorFogMatrix),wn(N,we,X.pitch,X._fov)}(this.state,m,T)}getFovAdjustedRange(m){return dn(this.state,m)}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,T,N){return(!N||!1!==N.validate)&&x.emitValidationErrors(this,m.call(x.validateStyle,x.extend({value:T,style:{glyphs:!0,sprite:!0},styleSpec:x.spec})))}}class bn{constructor(m,T){this.workerPool=m,this.actors=[],this.currentActor=0,this.id=x.uniqueId();const N=this.workerPool.acquire(this.id);for(let U=0;U<N.length;U++){const X=new bn.Actor(N[U],T,this.id);X.name=`Worker ${U}`,this.actors.push(X)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(m,T,N){x.asyncAll(this.actors,(U,X)=>{U.send(m,T,X)},N=N||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(m=>{m.remove()}),this.actors=[],this.workerPool.release(this.id)}}function li(R,m,T){return m*(x.EXTENT/(R.tileSize*Math.pow(2,T-R.tileID.overscaledZ)))}bn.Actor=x.Actor;class Bi{constructor(m,T,N,U){this.screenBounds=m,this.cameraPoint=T,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=N,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(X=>U.pointCoordinate3D(X)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(m,T){let N,U;if(m instanceof x.pointGeometry||"number"==typeof m[0]){const X=x.pointGeometry.convert(m);N=[x.pointGeometry.convert(m)],U=T.isPointAboveHorizon(X)}else{const X=x.pointGeometry.convert(m[0]),ce=x.pointGeometry.convert(m[1]);N=[X,ce],U=x.polygonizeBounds(X,ce).every(ge=>T.isPointAboveHorizon(ge))}return new Bi(N,T.getCameraPoint(),U,T)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(m){return x.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],m)}bufferedCameraGeometry(m){const T=this.screenBounds[0],N=1===this.screenBounds.length?this.screenBounds[0].add(new x.pointGeometry(1,1)):this.screenBounds[1],U=x.polygonizeBounds(T,N,0,!1);return this.cameraPoint.y>N.y&&(this.cameraPoint.x>T.x&&this.cameraPoint.x<N.x?U.splice(3,0,this.cameraPoint):this.cameraPoint.x>=N.x?U[2]=this.cameraPoint:this.cameraPoint.x<=T.x&&(U[3]=this.cameraPoint)),x.bufferConvexPolygon(U,m)}containsTile(m,T,N){const U=m.queryPadding+1,X=N?this._bufferedCameraMercator(U,T).map(Ke=>m.tileID.getTilePoint(Ke)):this._bufferedScreenMercator(U,T).map(Ke=>m.tileID.getTilePoint(Ke)),ce=this.screenGeometryMercator.map(Ke=>m.tileID.getTileVec3(Ke)),ge=ce.map(Ke=>new x.pointGeometry(Ke[0],Ke[1])),we=T.getFreeCameraOptions().position||new x.MercatorCoordinate(0,0,0),be=m.tileID.getTileVec3(we),Ue=ce.map(Ke=>{const pt=x.sub(Ke,Ke,be);return x.normalize(pt,pt),new ct(be,pt)}),qe=li(m,1,T.zoom);if(x.polygonIntersectsBox(X,0,0,x.EXTENT,x.EXTENT))return{queryGeometry:this,tilespaceGeometry:ge,tilespaceRays:Ue,bufferedTilespaceGeometry:X,bufferedTilespaceBounds:(Qe=x.getBounds(X),Qe.min.x=x.clamp(Qe.min.x,0,x.EXTENT),Qe.min.y=x.clamp(Qe.min.y,0,x.EXTENT),Qe.max.x=x.clamp(Qe.max.x,0,x.EXTENT),Qe.max.y=x.clamp(Qe.max.y,0,x.EXTENT),Qe),tile:m,tileID:m.tileID,pixelToTileUnitsFactor:qe};var Qe}_bufferedScreenMercator(m,T){const N=Ui(m);if(this._screenRaycastCache[N])return this._screenRaycastCache[N];{const U=this.bufferedScreenGeometry(m).map(X=>T.pointCoordinate3D(X));return this._screenRaycastCache[N]=U,U}}_bufferedCameraMercator(m,T){const N=Ui(m);if(this._cameraRaycastCache[N])return this._cameraRaycastCache[N];{const U=this.bufferedCameraGeometry(m).map(X=>T.pointCoordinate3D(X));return this._cameraRaycastCache[N]=U,U}}}function Ui(R){return 100*R|0}function fi(R,m,T){const N=function(U,X){if(U)return T(U);if(X){const ce=x.pick(x.extend(X,R),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);X.vector_layers&&(ce.vectorLayers=X.vector_layers,ce.vectorLayerIds=ce.vectorLayers.map(ge=>ge.id)),ce.tiles=m.canonicalizeTileset(ce,R.url),T(null,ce)}};return R.url?x.getJSON(m.transformRequest(m.normalizeSourceURL(R.url),x.ResourceType.Source),N):x.exported.frame(()=>N(null,R))}class Ei{constructor(m,T,N){this.bounds=x.LngLatBounds.convert(this.validateBounds(m)),this.minzoom=T||0,this.maxzoom=N||24}validateBounds(m){return Array.isArray(m)&&4===m.length?[Math.max(-180,m[0]),Math.max(-90,m[1]),Math.min(180,m[2]),Math.min(90,m[3])]:[-180,-90,180,90]}contains(m){const T=Math.pow(2,m.z),N=Math.floor(x.mercatorXfromLng(this.bounds.getWest())*T),U=Math.floor(x.mercatorYfromLat(this.bounds.getNorth())*T),X=Math.ceil(x.mercatorXfromLng(this.bounds.getEast())*T),ce=Math.ceil(x.mercatorYfromLat(this.bounds.getSouth())*T);return m.x>=N&&m.x<X&&m.y>=U&&m.y<ce}}class bi{constructor(m,T,N){this.context=m;const U=m.gl;this.buffer=U.createBuffer(),this.dynamicDraw=Boolean(N),this.context.unbindVAO(),m.bindElementBuffer.set(this.buffer),U.bufferData(U.ELEMENT_ARRAY_BUFFER,T.arrayBuffer,this.dynamicDraw?U.DYNAMIC_DRAW:U.STATIC_DRAW),this.dynamicDraw||delete T.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(m){const T=this.context.gl;this.context.unbindVAO(),this.bind(),T.bufferSubData(T.ELEMENT_ARRAY_BUFFER,0,m.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const xi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ei{constructor(m,T,N,U){this.length=T.length,this.attributes=N,this.itemSize=T.bytesPerElement,this.dynamicDraw=U,this.context=m;const X=m.gl;this.buffer=X.createBuffer(),m.bindVertexBuffer.set(this.buffer),X.bufferData(X.ARRAY_BUFFER,T.arrayBuffer,this.dynamicDraw?X.DYNAMIC_DRAW:X.STATIC_DRAW),this.dynamicDraw||delete T.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(m){const T=this.context.gl;this.bind(),T.bufferSubData(T.ARRAY_BUFFER,0,m.arrayBuffer)}enableAttributes(m,T){for(let N=0;N<this.attributes.length;N++){const U=T.attributes[this.attributes[N].name];void 0!==U&&m.enableVertexAttribArray(U)}}setVertexAttribPointers(m,T,N){for(let U=0;U<this.attributes.length;U++){const X=this.attributes[U],ce=T.attributes[X.name];void 0!==ce&&m.vertexAttribPointer(ce,X.components,m[xi[X.type]],!1,this.itemSize,X.offset+this.itemSize*(N||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ni{constructor(m){this.gl=m.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(m){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Er extends Ni{getDefault(){return x.Color.transparent}set(m){const T=this.current;(m.r!==T.r||m.g!==T.g||m.b!==T.b||m.a!==T.a||this.dirty)&&(this.gl.clearColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)}}class So extends Ni{getDefault(){return 1}set(m){(m!==this.current||this.dirty)&&(this.gl.clearDepth(m),this.current=m,this.dirty=!1)}}class ss extends Ni{getDefault(){return 0}set(m){(m!==this.current||this.dirty)&&(this.gl.clearStencil(m),this.current=m,this.dirty=!1)}}class qs extends Ni{getDefault(){return[!0,!0,!0,!0]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||m[3]!==T[3]||this.dirty)&&(this.gl.colorMask(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)}}class Ks extends Ni{getDefault(){return!0}set(m){(m!==this.current||this.dirty)&&(this.gl.depthMask(m),this.current=m,this.dirty=!1)}}class ka extends Ni{getDefault(){return 255}set(m){(m!==this.current||this.dirty)&&(this.gl.stencilMask(m),this.current=m,this.dirty=!1)}}class dr extends Ni{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(m){const T=this.current;(m.func!==T.func||m.ref!==T.ref||m.mask!==T.mask||this.dirty)&&(this.gl.stencilFunc(m.func,m.ref,m.mask),this.current=m,this.dirty=!1)}}class Ea extends Ni{getDefault(){const m=this.gl;return[m.KEEP,m.KEEP,m.KEEP]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||this.dirty)&&(this.gl.stencilOp(m[0],m[1],m[2]),this.current=m,this.dirty=!1)}}class Ki extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.STENCIL_TEST):T.disable(T.STENCIL_TEST),this.current=m,this.dirty=!1}}class nr extends Ni{getDefault(){return[0,1]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||this.dirty)&&(this.gl.depthRange(m[0],m[1]),this.current=m,this.dirty=!1)}}class ko extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.DEPTH_TEST):T.disable(T.DEPTH_TEST),this.current=m,this.dirty=!1}}class $s extends Ni{getDefault(){return this.gl.LESS}set(m){(m!==this.current||this.dirty)&&(this.gl.depthFunc(m),this.current=m,this.dirty=!1)}}class Ci extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.BLEND):T.disable(T.BLEND),this.current=m,this.dirty=!1}}class gs extends Ni{getDefault(){const m=this.gl;return[m.ONE,m.ZERO]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||this.dirty)&&(this.gl.blendFunc(m[0],m[1]),this.current=m,this.dirty=!1)}}class wr extends Ni{getDefault(){return x.Color.transparent}set(m){const T=this.current;(m.r!==T.r||m.g!==T.g||m.b!==T.b||m.a!==T.a||this.dirty)&&(this.gl.blendColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)}}class ir extends Ni{getDefault(){return this.gl.FUNC_ADD}set(m){(m!==this.current||this.dirty)&&(this.gl.blendEquation(m),this.current=m,this.dirty=!1)}}class Eo extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.CULL_FACE):T.disable(T.CULL_FACE),this.current=m,this.dirty=!1}}class jc extends Ni{getDefault(){return this.gl.BACK}set(m){(m!==this.current||this.dirty)&&(this.gl.cullFace(m),this.current=m,this.dirty=!1)}}class es extends Ni{getDefault(){return this.gl.CCW}set(m){(m!==this.current||this.dirty)&&(this.gl.frontFace(m),this.current=m,this.dirty=!1)}}class Vs extends Ni{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}}class Go extends Ni{getDefault(){return this.gl.TEXTURE0}set(m){(m!==this.current||this.dirty)&&(this.gl.activeTexture(m),this.current=m,this.dirty=!1)}}class Nr extends Ni{getDefault(){const m=this.gl;return[0,0,m.drawingBufferWidth,m.drawingBufferHeight]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||m[3]!==T[3]||this.dirty)&&(this.gl.viewport(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)}}class Zn extends Ni{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,m),this.current=m,this.dirty=!1}}class Ji extends Ni{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindRenderbuffer(T.RENDERBUFFER,m),this.current=m,this.dirty=!1}}class ml extends Ni{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindTexture(T.TEXTURE_2D,m),this.current=m,this.dirty=!1}}class za extends Ni{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindBuffer(T.ARRAY_BUFFER,m),this.current=m,this.dirty=!1}}class Da extends Ni{getDefault(){return null}set(m){const T=this.gl;T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,m),this.current=m,this.dirty=!1}}class Cs extends Ni{constructor(m){super(m),this.vao=m.extVertexArrayObject}getDefault(){return null}set(m){this.vao&&(m!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(m),this.current=m,this.dirty=!1)}}class Ho extends Ni{getDefault(){return 4}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_ALIGNMENT,m),this.current=m,this.dirty=!1}}class Vo extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),this.current=m,this.dirty=!1}}class Ft extends Ni{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_FLIP_Y_WEBGL,m),this.current=m,this.dirty=!1}}class Rt extends Ni{constructor(m,T){super(m),this.context=m,this.parent=T}getDefault(){return null}}class Qt extends Rt{setDirty(){this.dirty=!0}set(m){if(m===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const T=this.gl;T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,m,0),this.current=m,this.dirty=!1}}class gn extends Rt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(m){if(m===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const T=this.gl;T.framebufferRenderbuffer(T.FRAMEBUFFER,this.attachment(),T.RENDERBUFFER,m),this.current=m,this.dirty=!1}}class an extends gn{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class _i{constructor(m,T,N,U){this.context=m,this.width=T,this.height=N;const X=this.framebuffer=m.gl.createFramebuffer();this.colorAttachment=new Qt(m,X),U&&(this.depthAttachment=new gn(m,X))}destroy(){const m=this.context.gl,T=this.colorAttachment.get();if(T&&m.deleteTexture(T),this.depthAttachment){const N=this.depthAttachment.get();N&&m.deleteRenderbuffer(N)}m.deleteFramebuffer(this.framebuffer)}}class Zi{constructor(m){this.gl=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Er(this),this.clearDepth=new So(this),this.clearStencil=new ss(this),this.colorMask=new qs(this),this.depthMask=new Ks(this),this.stencilMask=new ka(this),this.stencilFunc=new dr(this),this.stencilOp=new Ea(this),this.stencilTest=new Ki(this),this.depthRange=new nr(this),this.depthTest=new ko(this),this.depthFunc=new $s(this),this.blend=new Ci(this),this.blendFunc=new gs(this),this.blendColor=new wr(this),this.blendEquation=new ir(this),this.cullFace=new Eo(this),this.cullFaceSide=new jc(this),this.frontFace=new es(this),this.program=new Vs(this),this.activeTexture=new Go(this),this.viewport=new Nr(this),this.bindFramebuffer=new Zn(this),this.bindRenderbuffer=new Ji(this),this.bindTexture=new ml(this),this.bindVertexBuffer=new za(this),this.bindElementBuffer=new Da(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Cs(this),this.pixelStoreUnpack=new Ho(this),this.pixelStoreUnpackPremultiplyAlpha=new Vo(this),this.pixelStoreUnpackFlipY=new Ft(this),this.extTextureFilterAnisotropic=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=m.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=m.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(m.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=m.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=m.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(m,T){return new bi(this,m,T)}createVertexBuffer(m,T,N){return new ei(this,m,T,N)}createRenderbuffer(m,T,N){const U=this.gl,X=U.createRenderbuffer();return this.bindRenderbuffer.set(X),U.renderbufferStorage(U.RENDERBUFFER,m,T,N),this.bindRenderbuffer.set(null),X}createFramebuffer(m,T,N){return new _i(this,m,T,N)}clear({color:m,depth:T,stencil:N}){const U=this.gl;let X=0;m&&(X|=U.COLOR_BUFFER_BIT,this.clearColor.set(m),this.colorMask.set([!0,!0,!0,!0])),void 0!==T&&(X|=U.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(T),this.depthMask.set(!0)),void 0!==N&&(X|=U.STENCIL_BUFFER_BIT,this.clearStencil.set(N),this.stencilMask.set(255)),U.clear(X)}setCullFace(m){!1===m.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(m.mode),this.frontFace.set(m.frontFace))}setDepthMode(m){m.func!==this.gl.ALWAYS||m.mask?(this.depthTest.set(!0),this.depthFunc.set(m.func),this.depthMask.set(m.mask),this.depthRange.set(m.range)):this.depthTest.set(!1)}setStencilMode(m){m.test.func!==this.gl.ALWAYS||m.mask?(this.stencilTest.set(!0),this.stencilMask.set(m.mask),this.stencilOp.set([m.fail,m.depthFail,m.pass]),this.stencilFunc.set({func:m.test.func,ref:m.ref,mask:m.test.mask})):this.stencilTest.set(!1)}setColorMode(m){Te(m.blendFunction,x.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(m.blendFunction),this.blendColor.set(m.blendColor)),this.colorMask.set(m.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class mr extends x.Evented{constructor(m,T,N,U){super(),this.id=m,this.dispatcher=N,this.setEventedParent(U),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=x.extend({type:"raster"},T),x.extend(this,x.pick(T,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fi(this._options,this.map._requestManager,(m,T)=>{this._tileJSONRequest=null,this._loaded=!0,m?this.fire(new x.ErrorEvent(m)):T&&(x.extend(this,T),T.bounds&&(this.tileBounds=new Ei(T.bounds,this.minzoom,this.maxzoom)),x.postTurnstileEvent(T.tiles),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(m){this.map=m,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return x.extend({},this._options)}hasTile(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,T){const N=x.exported.devicePixelRatio>=2,U=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),N,this.tileSize);m.request=x.getImage(this.map._requestManager.transformRequest(U,x.ResourceType.Tile),(X,ce,ge,we)=>{if(delete m.request,m.aborted)m.state="unloaded",T(null);else if(X)m.state="errored",T(X);else if(ce){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:ge,expires:we});const be=this.map.painter.context,Ue=be.gl;m.texture=this.map.painter.getTileTexture(ce.width),m.texture?m.texture.update(ce,{useMipmap:!0}):(m.texture=new x.Texture(be,ce,Ue.RGBA,{useMipmap:!0}),m.texture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE,Ue.LINEAR_MIPMAP_NEAREST),be.extTextureFilterAnisotropic&&Ue.texParameterf(Ue.TEXTURE_2D,be.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,be.extTextureFilterAnisotropicMax)),m.state="loaded",x.cacheEntryPossiblyAdded(this.dispatcher),T(null)}})}abortTile(m,T){m.request&&(m.request.cancel(),delete m.request),T()}unloadTile(m,T){m.texture&&this.map.painter.saveTileTexture(m.texture),T()}hasTransition(){return!1}}let Zr;var Dr=x.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class at extends x.Evented{constructor(m,T,N,U){super(),this.id=m,this.dispatcher=N,this.coordinates=T.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(U),this.options=T}load(m,T){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this.url=this.options.url,x.getImage(this.map._requestManager.transformRequest(this.url,x.ResourceType.Image),(N,U)=>{this._loaded=!0,N?this.fire(new x.ErrorEvent(N)):U&&(this.image=x.exported.getImageData(U),m&&(this.coordinates=m),T&&T(),this._finishLoading())})}loaded(){return this._loaded}updateImage(m){return this.image&&m.url?(this.options.url=m.url,this.load(m.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(m){this.map=m,this.load()}setCoordinates(m){this.coordinates=m;const T=m.map(x.MercatorCoordinate.fromLngLat);this.tileID=function(U){let X=1/0,ce=1/0,ge=-1/0,we=-1/0;for(const Qe of U)X=Math.min(X,Qe.x),ce=Math.min(ce,Qe.y),ge=Math.max(ge,Qe.x),we=Math.max(we,Qe.y);const be=Math.max(ge-X,we-ce),Ue=Math.max(0,Math.floor(-Math.log(be)/Math.LN2)),qe=Math.pow(2,Ue);return new x.CanonicalTileID(Ue,Math.floor((X+ge)/2*qe),Math.floor((ce+we)/2*qe))}(T),this.minzoom=this.maxzoom=this.tileID.z;const N=T.map(U=>this.tileID.getTilePoint(U)._round());return this._boundsArray=new x.StructArrayLayout4i8,this._boundsArray.emplaceBack(N[0].x,N[0].y,0,0),this._boundsArray.emplaceBack(N[1].x,N[1].y,x.EXTENT,0),this._boundsArray.emplaceBack(N[3].x,N[3].y,0,x.EXTENT),this._boundsArray.emplaceBack(N[2].x,N[2].y,x.EXTENT,x.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const m=this.map.painter.context,T=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Dr.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new x.Texture(m,this.image,T.RGBA),this.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE));for(const N in this.tiles){const U=this.tiles[N];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}loadTile(m,T){this.tileID&&this.tileID.equals(m.tileID.canonical)?(this.tiles[String(m.tileID.wrap)]=m,m.buckets={},T(null)):(m.state="errored",T(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const He={vector:class extends x.Evented{constructor(R,m,T,N){if(super(),this.id=R,this.dispatcher=T,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,x.extend(this,x.pick(m,["url","scheme","tileSize","promoteId"])),this._options=x.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(N),this._tileWorkers={},this._deduped=new x.DedupedRequest}load(){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fi(this._options,this.map._requestManager,(R,m)=>{this._tileJSONRequest=null,this._loaded=!0,R?this.fire(new x.ErrorEvent(R)):m&&(x.extend(this,m),m.bounds&&(this.tileBounds=new Ei(m.bounds,this.minzoom,this.maxzoom)),x.postTurnstileEvent(m.tiles,this.map._requestManager._customAccessToken),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(R){return!this.tileBounds||this.tileBounds.contains(R.canonical)}onAdd(R){this.map=R,this.load()}setSourceProperty(R){this._tileJSONRequest&&this._tileJSONRequest.cancel(),R();const m=this.map.style._getSourceCaches(this.id);for(const T of m)T.clearTiles();this.load()}setTiles(R){return this.setSourceProperty(()=>{this._options.tiles=R}),this}setUrl(R){return this.setSourceProperty(()=>{this.url=R,this._options.url=R}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return x.extend({},this._options)}loadTile(R,m){const T=this.map._requestManager.normalizeTileURL(R.tileID.canonical.url(this.tiles,this.scheme)),N={request:this.map._requestManager.transformRequest(T,x.ResourceType.Tile),data:void 0,uid:R.uid,tileID:R.tileID,tileZoom:R.tileZoom,zoom:R.tileID.overscaledZ,tileSize:this.tileSize*R.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:x.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:R.isSymbolTile};if(N.request.collectResourceTiming=this._collectResourceTiming,R.actor&&"expired"!==R.state)"loading"===R.state?R.reloadCallback=m:R.request=R.actor.send("reloadTile",N,U.bind(this));else if(R.actor=this._tileWorkers[T]=this._tileWorkers[T]||this.dispatcher.getActor(),this.dispatcher.ready)R.request=R.actor.send("loadTile",N,U.bind(this),void 0,!0);else{const X=x.loadVectorTile.call({deduped:this._deduped},N,(ce,ge)=>{ce||!ge?U.call(this,ce):(N.data={cacheControl:ge.cacheControl,expires:ge.expires,rawData:ge.rawData.slice(0)},R.actor&&R.actor.send("loadTile",N,U.bind(this),void 0,!0))},!0);R.request={cancel:X}}function U(X,ce){return delete R.request,R.aborted?m(null):X&&404!==X.status?m(X):(ce&&ce.resourceTiming&&(R.resourceTiming=ce.resourceTiming),this.map._refreshExpiredTiles&&ce&&R.setExpiryData(ce),R.loadVectorData(ce,this.map.painter),x.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(R.reloadCallback&&(this.loadTile(R,R.reloadCallback),R.reloadCallback=null)))}}abortTile(R){R.request&&(R.request.cancel(),delete R.request),R.actor&&R.actor.send("abortTile",{uid:R.uid,type:this.type,source:this.id})}unloadTile(R){R.unloadVectorData(),R.actor&&R.actor.send("removeTile",{uid:R.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:mr,"raster-dem":class extends mr{constructor(R,m,T,N){super(R,m,T,N),this.type="raster-dem",this.maxzoom=22,this._options=x.extend({type:"raster-dem"},m),this.encoding=m.encoding||"mapbox"}loadTile(R,m){const T=this.map._requestManager.normalizeTileURL(R.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function N(U,X){U&&(R.state="errored",m(U)),X&&(R.dem=X,R.dem.onDeserialize(),R.needsHillshadePrepare=!0,R.needsDEMTextureUpload=!0,R.state="loaded",m(null))}R.request=x.getImage(this.map._requestManager.transformRequest(T,x.ResourceType.Tile),function(U,X,ce,ge){if(delete R.request,R.aborted)R.state="unloaded",m(null);else if(U)R.state="errored",m(U);else if(X){this.map._refreshExpiredTiles&&R.setExpiryData({cacheControl:ce,expires:ge});const we=x.window.ImageBitmap&&X instanceof x.window.ImageBitmap&&(null==Zr&&(Zr=x.window.OffscreenCanvas&&new x.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof x.window.createImageBitmap),Zr),be=1-(X.width-x.prevPowerOfTwo(X.width))/2;be<1||R.neighboringTiles||(R.neighboringTiles=this._getNeighboringTiles(R.tileID));const Ue=we?X:x.exported.getImageData(X,be),qe={uid:R.uid,coord:R.tileID,source:this.id,rawImageData:Ue,encoding:this.encoding,padding:be};R.actor&&"expired"!==R.state||(R.actor=this.dispatcher.getActor(),R.actor.send("loadDEMTile",qe,N.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(R){const m=R.canonical,T=Math.pow(2,m.z),N=(m.x-1+T)%T,U=0===m.x?R.wrap-1:R.wrap,X=(m.x+1+T)%T,ce=m.x+1===T?R.wrap+1:R.wrap,ge={};return ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,X,m.y).key]={backfilled:!1},m.y>0&&(ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y-1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,R.wrap,m.z,m.x,m.y-1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,X,m.y-1).key]={backfilled:!1}),m.y+1<T&&(ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y+1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,R.wrap,m.z,m.x,m.y+1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,X,m.y+1).key]={backfilled:!1}),ge}unloadTile(R){R.demTexture&&this.map.painter.saveTileTexture(R.demTexture),R.fbo&&(R.fbo.destroy(),delete R.fbo),R.dem&&delete R.dem,delete R.neighboringTiles,R.state="unloaded"}},geojson:class extends x.Evented{constructor(R,m,T,N){super(),this.id=R,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=T.getActor(),this.setEventedParent(N),this._data=m.data,this._options=x.extend({},m),this._collectResourceTiming=m.collectResourceTiming,void 0!==m.maxzoom&&(this.maxzoom=m.maxzoom),m.type&&(this.type=m.type),m.attribution&&(this.attribution=m.attribution),this.promoteId=m.promoteId;const U=x.EXTENT/this.tileSize;this.workerOptions=x.extend({source:this.id,cluster:m.cluster||!1,geojsonVtOptions:{buffer:(void 0!==m.buffer?m.buffer:128)*U,tolerance:(void 0!==m.tolerance?m.tolerance:.375)*U,extent:x.EXTENT,maxZoom:this.maxzoom,lineMetrics:m.lineMetrics||!1,generateId:m.generateId||!1},superclusterOptions:{maxZoom:void 0!==m.clusterMaxZoom?m.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,m.clusterMinPoints||2),extent:x.EXTENT,radius:(void 0!==m.clusterRadius?m.clusterRadius:50)*U,log:!1,generateId:m.generateId||!1},clusterProperties:m.clusterProperties,filter:m.filter},m.workerOptions)}onAdd(R){this.map=R,this.setData(this._data)}setData(R){return this._data=R,this._updateWorkerData(),this}getClusterExpansionZoom(R,m){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:R,source:this.id},m),this}getClusterChildren(R,m){return this.actor.send("geojson.getClusterChildren",{clusterId:R,source:this.id},m),this}getClusterLeaves(R,m,T,N){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:R,limit:m,offset:T},N),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new x.Event("dataloading",{dataType:"source"})),this._loaded=!1;const R=x.extend({},this.workerOptions),m=this._data;"string"==typeof m?(R.request=this.map._requestManager.transformRequest(x.exported.resolveURL(m),x.ResourceType.Source),R.request.collectResourceTiming=this._collectResourceTiming):R.data=JSON.stringify(m),this._pendingLoad=this.actor.send(`${this.type}.loadData`,R,(T,N)=>{if(this._loaded=!0,this._pendingLoad=null,T)this.fire(new x.ErrorEvent(T));else{const U={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&N&&N.resourceTiming&&N.resourceTiming[this.id]&&(U.resourceTiming=N.resourceTiming[this.id]),this.fire(new x.Event("data",U)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(R,m){const T=R.actor?"reloadTile":"loadTile";R.actor=this.actor,R.request=this.actor.send(T,{type:this.type,uid:R.uid,tileID:R.tileID,tileZoom:R.tileZoom,zoom:R.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:x.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(N,U)=>(delete R.request,R.unloadVectorData(),R.aborted?m(null):N?m(N):(R.loadVectorData(U,this.map.painter,"reloadTile"===T),m(null))),void 0,"loadTile"===T)}abortTile(R){R.request&&(R.request.cancel(),delete R.request),R.aborted=!0}unloadTile(R){R.unloadVectorData(),this.actor.send("removeTile",{uid:R.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return x.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends at{constructor(R,m,T,N){super(R,m,T,N),this.roundZoom=!0,this.type="video",this.options=m}load(){this._loaded=!1;const R=this.options;this.urls=[];for(const m of R.urls)this.urls.push(this.map._requestManager.transformRequest(m,x.ResourceType.Source).url);x.getVideo(this.urls,(m,T)=>{this._loaded=!0,m?this.fire(new x.ErrorEvent(m)):T&&(this.video=T,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(R){if(this.video){const m=this.video.seekable;R<m.start(0)||R>m.end(0)?this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${m.start(0)} and ${m.end(0)}-second mark.`))):this.video.currentTime=R}}getVideo(){return this.video}onAdd(R){this.map||(this.map=R,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const R=this.map.painter.context,m=R.gl;this.boundsBuffer||(this.boundsBuffer=R.createVertexBuffer(this._boundsArray,Dr.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.texSubImage2D(m.TEXTURE_2D,0,0,0,m.RGBA,m.UNSIGNED_BYTE,this.video)):(this.texture=new x.Texture(R,this.video,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const T in this.tiles){const N=this.tiles[T];"loaded"!==N.state&&(N.state="loaded",N.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:at,canvas:class extends at{constructor(R,m,T,N){super(R,m,T,N),m.coordinates?Array.isArray(m.coordinates)&&4===m.coordinates.length&&!m.coordinates.some(U=>!Array.isArray(U)||2!==U.length||U.some(X=>"number"!=typeof X))||this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'missing required property "coordinates"'))),m.animate&&"boolean"!=typeof m.animate&&this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'optional "animate" property must be a boolean value'))),m.canvas?"string"==typeof m.canvas||m.canvas instanceof x.window.HTMLCanvasElement||this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'missing required property "canvas"'))),this.options=m,this.animate=void 0===m.animate||m.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof x.window.HTMLCanvasElement?this.options.canvas:x.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new x.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(R){this.map=R,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let R=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,R=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,R=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const m=this.map.painter.context,T=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Dr.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(R||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new x.Texture(m,this.canvas,T.RGBA,{premultiply:!0});for(const N in this.tiles){const U=this.tiles[N];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const R of[this.canvas.width,this.canvas.height])if(isNaN(R)||R<=0)return!0;return!1}}},$e=function(R,m,T,N){const U=new He[m.type](R,m,T,N);if(U.id!==R)throw new Error(`Expected Source id to be ${R} instead of ${U.id}`);return x.bindAll(["load","abort","unload","serialize","prepare"],U),U};function dt(R,m){const T=x.identity([]);return x.scale$1(T,T,[.5*R.width,.5*-R.height,1]),x.translate(T,T,[1,-1,0]),x.multiply(T,T,R.calculateProjMatrix(m.toUnwrapped()))}function Ct(R,m,T,N,U,X,ce,ge=!1){const we=R.tilesIn(N,ce,ge);we.sort(Ot);const be=[];for(const qe of we)be.push({wrappedTileID:qe.tile.tileID.wrapped().key,queryResults:qe.tile.queryRenderedFeatures(m,T,R._state,qe,U,X,dt(R.transform,qe.tile.tileID),ge)});const Ue=function(qe){const Qe={},Ke={};for(const pt of qe){const xt=pt.queryResults,Nt=pt.wrappedTileID,lt=Ke[Nt]=Ke[Nt]||{};for(const wt in xt){const Tt=xt[wt],Ut=lt[wt]=lt[wt]||{},St=Qe[wt]=Qe[wt]||[];for(const At of Tt)Ut[At.featureIndex]||(Ut[At.featureIndex]=!0,St.push(At))}}return Qe}(be);for(const qe in Ue)Ue[qe].forEach(Qe=>{const Ke=Qe.feature,pt=R.getFeatureState(Ke.layer["source-layer"],Ke.id);Ke.source=Ke.layer.source,Ke.layer["source-layer"]&&(Ke.sourceLayer=Ke.layer["source-layer"]),Ke.state=pt});return Ue}function Bt(R,m){const T=R.getRenderableIds().map(X=>R.getTileByID(X)),N=[],U={};for(let X=0;X<T.length;X++){const ce=T[X],ge=ce.tileID.canonical.key;U[ge]||(U[ge]=!0,ce.querySourceFeatures(N,m))}return N}function Ot(R,m){const T=R.tileID,N=m.tileID;return T.overscaledZ-N.overscaledZ||T.canonical.y-N.canonical.y||T.wrap-N.wrap||T.canonical.x-N.canonical.x}function rn(){return null!=Np.workerClass?new Np.workerClass:new x.window.Worker(Np.workerUrl)}const Zt="mapboxgl_preloaded_worker_pool";class Kt{constructor(){this.active={}}acquire(m){if(!this.workers)for(this.workers=[];this.workers.length<Kt.workerCount;)this.workers.push(new rn);return this.active[m]=!0,this.workers.slice()}release(m){delete this.active[m],0===this.numActive()&&(this.workers.forEach(T=>{T.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Zt]}numActive(){return Object.keys(this.active).length}}let kn;function Re(){return kn||(kn=new Kt),kn}function p(R,m){const T={};for(const N in R)"ref"!==N&&(T[N]=R[N]);return x.refProperties.forEach(N=>{N in m&&(T[N]=m[N])}),T}function f(R){R=R.slice();const m=Object.create(null);for(let T=0;T<R.length;T++)m[R[T].id]=R[T];for(let T=0;T<R.length;T++)"ref"in R[T]&&(R[T]=p(R[T],m[R[T].ref]));return R}Kt.workerCount=2;const b={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function S(R,m,T){T.push({command:b.addSource,args:[R,m[R]]})}function D(R,m,T){m.push({command:b.removeSource,args:[R]}),T[R]=!0}function B(R,m,T,N){D(R,T,N),S(R,m,T)}function F(R,m,T){let N;for(N in R[T])if(R[T].hasOwnProperty(N)&&"data"!==N&&!Te(R[T][N],m[T][N]))return!1;for(N in m[T])if(m[T].hasOwnProperty(N)&&"data"!==N&&!Te(R[T][N],m[T][N]))return!1;return!0}function W(R,m,T,N,U,X){let ce;for(ce in m=m||{},R=R||{})R.hasOwnProperty(ce)&&(Te(R[ce],m[ce])||T.push({command:X,args:[N,ce,m[ce],U]}));for(ce in m)m.hasOwnProperty(ce)&&!R.hasOwnProperty(ce)&&(Te(R[ce],m[ce])||T.push({command:X,args:[N,ce,m[ce],U]}))}function q(R){return R.id}function oe(R,m){return R[m.id]=m,R}class ue{constructor(m,T){this.reset(m,T)}reset(m,T){this.points=m||[],this._distances=[0];for(let N=1;N<this.points.length;N++)this._distances[N]=this._distances[N-1]+this.points[N].dist(this.points[N-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(T||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(m){if(1===this.points.length)return this.points[0];m=x.clamp(m,0,1);let T=1,N=this._distances[T];const U=m*this.paddedLength+this.padding;for(;N<U&&T<this._distances.length;)N=this._distances[++T];const X=T-1,ce=this._distances[X],ge=N-ce,we=ge>0?(U-ce)/ge:0;return this.points[X].mult(1-we).add(this.points[T].mult(we))}}class ae{constructor(m,T,N){const U=this.boxCells=[],X=this.circleCells=[];this.xCellCount=Math.ceil(m/N),this.yCellCount=Math.ceil(T/N);for(let ce=0;ce<this.xCellCount*this.yCellCount;ce++)U.push([]),X.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=m,this.height=T,this.xScale=this.xCellCount/m,this.yScale=this.yCellCount/T,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(m,T,N,U,X){this._forEachCell(T,N,U,X,this._insertBoxCell,this.boxUid++),this.boxKeys.push(m),this.bboxes.push(T),this.bboxes.push(N),this.bboxes.push(U),this.bboxes.push(X)}insertCircle(m,T,N,U){this._forEachCell(T-U,N-U,T+U,N+U,this._insertCircleCell,this.circleUid++),this.circleKeys.push(m),this.circles.push(T),this.circles.push(N),this.circles.push(U)}_insertBoxCell(m,T,N,U,X,ce){this.boxCells[X].push(ce)}_insertCircleCell(m,T,N,U,X,ce){this.circleCells[X].push(ce)}_query(m,T,N,U,X,ce){if(N<0||m>this.width||U<0||T>this.height)return!X&&[];const ge=[];if(m<=0&&T<=0&&this.width<=N&&this.height<=U){if(X)return!0;for(let we=0;we<this.boxKeys.length;we++)ge.push({key:this.boxKeys[we],x1:this.bboxes[4*we],y1:this.bboxes[4*we+1],x2:this.bboxes[4*we+2],y2:this.bboxes[4*we+3]});for(let we=0;we<this.circleKeys.length;we++){const be=this.circles[3*we],Ue=this.circles[3*we+1],qe=this.circles[3*we+2];ge.push({key:this.circleKeys[we],x1:be-qe,y1:Ue-qe,x2:be+qe,y2:Ue+qe})}return ce?ge.filter(ce):ge}return this._forEachCell(m,T,N,U,this._queryCell,ge,{hitTest:X,seenUids:{box:{},circle:{}}},ce),X?ge.length>0:ge}_queryCircle(m,T,N,U,X){const ce=m-N,ge=m+N,we=T-N,be=T+N;if(ge<0||ce>this.width||be<0||we>this.height)return!U&&[];const Ue=[];return this._forEachCell(ce,we,ge,be,this._queryCellCircle,Ue,{hitTest:U,circle:{x:m,y:T,radius:N},seenUids:{box:{},circle:{}}},X),U?Ue.length>0:Ue}query(m,T,N,U,X){return this._query(m,T,N,U,!1,X)}hitTest(m,T,N,U,X){return this._query(m,T,N,U,!0,X)}hitTestCircle(m,T,N,U){return this._queryCircle(m,T,N,!0,U)}_queryCell(m,T,N,U,X,ce,ge,we){const be=ge.seenUids,Ue=this.boxCells[X];if(null!==Ue){const Qe=this.bboxes;for(const Ke of Ue)if(!be.box[Ke]){be.box[Ke]=!0;const pt=4*Ke;if(m<=Qe[pt+2]&&T<=Qe[pt+3]&&N>=Qe[pt+0]&&U>=Qe[pt+1]&&(!we||we(this.boxKeys[Ke]))){if(ge.hitTest)return ce.push(!0),!0;ce.push({key:this.boxKeys[Ke],x1:Qe[pt],y1:Qe[pt+1],x2:Qe[pt+2],y2:Qe[pt+3]})}}}const qe=this.circleCells[X];if(null!==qe){const Qe=this.circles;for(const Ke of qe)if(!be.circle[Ke]){be.circle[Ke]=!0;const pt=3*Ke;if(this._circleAndRectCollide(Qe[pt],Qe[pt+1],Qe[pt+2],m,T,N,U)&&(!we||we(this.circleKeys[Ke]))){if(ge.hitTest)return ce.push(!0),!0;{const xt=Qe[pt],Nt=Qe[pt+1],lt=Qe[pt+2];ce.push({key:this.circleKeys[Ke],x1:xt-lt,y1:Nt-lt,x2:xt+lt,y2:Nt+lt})}}}}}_queryCellCircle(m,T,N,U,X,ce,ge,we){const be=ge.circle,Ue=ge.seenUids,qe=this.boxCells[X];if(null!==qe){const Ke=this.bboxes;for(const pt of qe)if(!Ue.box[pt]){Ue.box[pt]=!0;const xt=4*pt;if(this._circleAndRectCollide(be.x,be.y,be.radius,Ke[xt+0],Ke[xt+1],Ke[xt+2],Ke[xt+3])&&(!we||we(this.boxKeys[pt])))return ce.push(!0),!0}}const Qe=this.circleCells[X];if(null!==Qe){const Ke=this.circles;for(const pt of Qe)if(!Ue.circle[pt]){Ue.circle[pt]=!0;const xt=3*pt;if(this._circlesCollide(Ke[xt],Ke[xt+1],Ke[xt+2],be.x,be.y,be.radius)&&(!we||we(this.circleKeys[pt])))return ce.push(!0),!0}}}_forEachCell(m,T,N,U,X,ce,ge,we){const be=this._convertToXCellCoord(m),Ue=this._convertToYCellCoord(T),qe=this._convertToXCellCoord(N),Qe=this._convertToYCellCoord(U);for(let Ke=be;Ke<=qe;Ke++)for(let pt=Ue;pt<=Qe;pt++)if(X.call(this,m,T,N,U,this.xCellCount*pt+Ke,ce,ge,we))return}_convertToXCellCoord(m){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(m*this.xScale)))}_convertToYCellCoord(m){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(m*this.yScale)))}_circlesCollide(m,T,N,U,X,ce){const ge=U-m,we=X-T,be=N+ce;return be*be>ge*ge+we*we}_circleAndRectCollide(m,T,N,U,X,ce,ge){const we=(ce-U)/2,be=Math.abs(m-(U+we));if(be>we+N)return!1;const Ue=(ge-X)/2,qe=Math.abs(T-(X+Ue));if(qe>Ue+N)return!1;if(be<=we||qe<=Ue)return!0;const Qe=be-we,Ke=qe-Ue;return Qe*Qe+Ke*Ke<=N*N}}const _e=Math.tan(85*Math.PI/180);function Ie(R,m,T,N,U){const X=x.create$1();return m?(x.scale$1(X,X,[1/U,1/U,1]),T||x.rotateZ(X,X,N.angle)):x.multiply(X,N.labelPlaneMatrix,R),X}function Pe(R,m,T,N,U){if(m){const X=x.clone$1(R);return x.scale$1(X,X,[U,U,1]),T||x.rotateZ(X,X,-N.angle),X}return N.glCoordMatrix}function Be(R,m,T=0){const N=[R.x,R.y,T,1];T?x.transformMat4(N,N,m):cn(N,N,m);const U=N[3];return{point:new x.pointGeometry(N[0]/U,N[1]/U),signedDistanceFromCamera:U}}function Ge(R,m){return Math.min(.5+R/m*.5,1.5)}function st(R,m){const T=R[0]/R[3],N=R[1]/R[3];return T>=-m[0]&&T<=m[0]&&N>=-m[1]&&N<=m[1]}function bt(R,m,T,N,U,X,ce,ge,we){const be=N?R.textSizeData:R.iconSizeData,Ue=x.evaluateSizeForZoom(be,T.transform.zoom),qe=[256/T.width*2+1,256/T.height*2+1],Qe=N?R.text.dynamicLayoutVertexArray:R.icon.dynamicLayoutVertexArray;Qe.clear();const Ke=R.lineVertexArray,pt=N?R.text.placedSymbolArray:R.icon.placedSymbolArray,xt=T.transform.width/T.transform.height;let Nt=!1;for(let lt=0;lt<pt.length;lt++){const wt=pt.get(lt);if(wt.writingMode!==x.WritingMode.vertical||Nt||0!==lt&&pt.get(lt-1).writingMode===x.WritingMode.horizontal||(Nt=!0),wt.hidden||wt.writingMode===x.WritingMode.vertical&&!Nt){$t(wt.numGlyphs,Qe);continue}Nt=!1;const Tt=we?we({x:wt.anchorX,y:wt.anchorY}):0,Ut=[wt.anchorX,wt.anchorY,Tt,1];if(x.transformMat4(Ut,Ut,m),!st(Ut,qe)){$t(wt.numGlyphs,Qe);continue}const St=Ge(T.transform.cameraToCenterDistance,Ut[3]),At=x.evaluateSizeForFeature(be,Ue,wt),Sn=ce?At/St:At*St,An=new x.pointGeometry(wt.anchorX,wt.anchorY),Fn=Be(An,U,Tt);if(Fn.signedDistanceFromCamera<=0){$t(wt.numGlyphs,Qe);continue}const Lt=Fn.point;let ii={};const Bn=ce?null:we,ci=ze(wt,Sn,!1,ge,m,U,X,R.glyphOffsetArray,Ke,Qe,Lt,An,ii,xt,Bn);Nt=ci.useVertical,Bn&&ci.needsFlipping&&(ii={}),(ci.notEnoughRoom||Nt||ci.needsFlipping&&ze(wt,Sn,!0,ge,m,U,X,R.glyphOffsetArray,Ke,Qe,Lt,An,ii,xt,Bn).notEnoughRoom)&&$t(wt.numGlyphs,Qe)}N?R.text.dynamicLayoutVertexBuffer.updateData(Qe):R.icon.dynamicLayoutVertexBuffer.updateData(Qe)}function J(R,m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe){const Ke=ge.glyphStartIndex+ge.numGlyphs,pt=ge.lineStartIndex,xt=ge.lineStartIndex+ge.lineLength,Nt=m.getoffsetX(ge.glyphStartIndex),lt=m.getoffsetX(Ke-1),wt=ft(R*Nt,T,N,U,X,ce,ge.segment,pt,xt,we,be,Ue,qe,Qe,!0);if(!wt)return null;const Tt=ft(R*lt,T,N,U,X,ce,ge.segment,pt,xt,we,be,Ue,qe,Qe,!0);return Tt?{first:wt,last:Tt}:null}function pe(R,m,T,N){return R.writingMode===x.WritingMode.horizontal&&Math.abs(T.y-m.y)>Math.abs(T.x-m.x)*N?{useVertical:!0}:R.writingMode===x.WritingMode.vertical?m.y<T.y?{needsFlipping:!0}:null:0!==R.flipState&&function(U,X,ce){const ge=(X.x-U.x)*ce;return 0===ge||Math.abs((X.y-U.y)/ge)>_e}(m,T,N)?1===R.flipState?{needsFlipping:!0}:null:m.x>T.x?{needsFlipping:!0}:null}function ze(R,m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe,Ke,pt){const xt=m/24,Nt=R.lineOffsetX*xt,lt=R.lineOffsetY*xt;let wt;if(R.numGlyphs>1){const Tt=R.glyphStartIndex+R.numGlyphs,Ut=R.lineStartIndex,St=R.lineStartIndex+R.lineLength,At=J(xt,ge,Nt,lt,T,Ue,qe,R,we,X,Qe,pt);if(!At)return{notEnoughRoom:!0};const Sn=Be(At.first.point,ce).point,An=Be(At.last.point,ce).point;if(N&&!T){const Fn=pe(R,Sn,An,Ke);if(R.flipState=Fn&&Fn.needsFlipping?1:2,Fn)return Fn}wt=[At.first];for(let Fn=R.glyphStartIndex+1;Fn<Tt-1;Fn++)wt.push(ft(xt*ge.getoffsetX(Fn),Nt,lt,T,Ue,qe,R.segment,Ut,St,we,X,Qe,pt));wt.push(At.last)}else{if(N&&!T){const Ut=Be(qe,U).point,St=R.lineStartIndex+R.segment+1,At=new x.pointGeometry(we.getx(St),we.gety(St)),Sn=Be(At,U),An=pe(R,Ut,Sn.signedDistanceFromCamera>0?Sn.point:Je(qe,At,Ut,1,U),Ke);if(R.flipState=An&&An.needsFlipping?1:2,An)return An}const Tt=ft(xt*ge.getoffsetX(R.glyphStartIndex),Nt,lt,T,Ue,qe,R.segment,R.lineStartIndex,R.lineStartIndex+R.lineLength,we,X,Qe,pt);if(!Tt)return{notEnoughRoom:!0};wt=[Tt]}for(const Tt of wt)x.addDynamicAttributes(be,Tt.point,Tt.angle);return{}}function Je(R,m,T,N,U,X){const ce=R.add(R.sub(m)._unit()),ge=Be(ce,U,X?X(ce):0).point,we=T.sub(ge);return T.add(we._mult(N/we.mag()))}function ft(R,m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe,Ke,pt){const xt=N?R-m:R+m;let Nt=xt>0?1:-1,lt=0;N&&(Nt*=-1,lt=Math.PI),Nt<0&&(lt+=Math.PI);let wt=Nt>0?ge+ce:ge+ce+1,Tt=U,Ut=U,St=0,At=0;const Sn=Math.abs(xt),An=[],Fn=[];let Lt=X;const ii=()=>{const Ri=wt-Nt;return 0===St?X:new x.pointGeometry(be.getx(Ri),be.gety(Ri))},Bn=()=>Je(ii(),Lt,Ut,Sn-St+1,Ue,Qe);for(;St+At<=Sn;){if(wt+=Nt,wt<ge||wt>=we)return null;if(Ut=Tt,An.push(Tt),Ke&&Fn.push(Lt||ii()),Tt=qe[wt],void 0===Tt){Lt=new x.pointGeometry(be.getx(wt),be.gety(wt));const Ri=Be(Lt,Ue,Qe?Qe(Lt):0);Tt=Ri.signedDistanceFromCamera>0?qe[wt]=Ri.point:Bn()}else Lt=null;St+=At,At=Ut.dist(Tt)}pt&&Qe&&(Lt=Lt||new x.pointGeometry(be.getx(wt),be.gety(wt)),qe[wt]=Tt=void 0===qe[wt]?Tt:Bn(),At=Ut.dist(Tt));const ci=(Sn-St)/At,ti=Tt.sub(Ut),Xn=ti.mult(ci)._add(Ut);T&&Xn._add(ti._unit()._perp()._mult(T*Nt));const yr=lt+Math.atan2(Tt.y-Ut.y,Tt.x-Ut.x);return An.push(Xn),Ke&&(Lt=Lt||new x.pointGeometry(be.getx(wt),be.gety(wt)),Fn.push(function(Ri,ns,ps){const bs=1-ps;return new x.pointGeometry(Ri.x*bs+ns.x*ps,Ri.y*bs+ns.y*ps)}(Fn.length>0?Fn[Fn.length-1]:Lt,Lt,ci))),{point:Xn,angle:yr,path:An,tilePath:Fn}}const ln=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $t(R,m){for(let T=0;T<R;T++){const N=m.length;m.resize(N+4),m.float32.set(ln,3*N)}}function cn(R,m,T){const N=m[0],U=m[1];return R[0]=T[0]*N+T[4]*U+T[12],R[1]=T[1]*N+T[5]*U+T[13],R[3]=T[3]*N+T[7]*U+T[15],R}const Un=100;class zn{constructor(m,T,N=new ae(m.width+200,m.height+200,25),U=new ae(m.width+200,m.height+200,25)){this.transform=m,this.grid=N,this.ignoredGrid=U,this.pitchfactor=Math.cos(m._pitch)*m.cameraToCenterDistance,this.screenRightBoundary=m.width+Un,this.screenBottomBoundary=m.height+Un,this.gridRightBoundary=m.width+200,this.gridBottomBoundary=m.height+200,this.fogState=T}placeCollisionBox(m,T,N,U,X,ce,ge){const we=this.projectAndGetPerspectiveRatio(ce,T.anchorPointX,T.anchorPointY,T.elevation,T.tileID),be=X*we.perspectiveRatio,Ue=(T.x1*m+N.x-T.padding)*be+we.point.x,qe=(T.y1*m+N.y-T.padding)*be+we.point.y,Qe=(T.x2*m+N.x+T.padding)*be+we.point.x,Ke=(T.y2*m+N.y+T.padding)*be+we.point.y,pt=we.perspectiveRatio<=.55||we.aboveHorizon;return!this.isInsideGrid(Ue,qe,Qe,Ke)||!U&&this.grid.hitTest(Ue,qe,Qe,Ke,ge)||pt?{box:[],offscreen:!1}:{box:[Ue,qe,Qe,Ke],offscreen:this.isOffscreen(Ue,qe,Qe,Ke)}}placeCollisionCircles(m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe,Ke,pt){const xt=[],Nt=this.transform.elevation,lt=Nt?Bn=>Nt.getAtTileOffset(pt,Bn.x,Bn.y):Bn=>0,wt=new x.pointGeometry(T.anchorX,T.anchorY),Tt=lt(wt),Ut=this.projectAndGetPerspectiveRatio(ce,wt.x,wt.y,Tt,pt),{perspectiveRatio:St}=Ut,At=(Ue?X/St:X*St)/x.ONE_EM,Sn=Be(wt,ge,Tt).point,An=Ut.signedDistanceFromCamera>0?J(At,U,T.lineOffsetX*At,T.lineOffsetY*At,!1,Sn,wt,T,N,ge,{},Nt&&!Ue?lt:null,Ue&&!!Nt):null;let Fn=!1,Lt=!1,ii=!0;if(An&&!Ut.aboveHorizon){const Bn=.5*Qe*St+Ke,ci=new x.pointGeometry(-100,-100),ti=new x.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xn=new ue,yr=An.first,Ri=An.last;let ns=[];for(let Mr=yr.path.length-1;Mr>=1;Mr--)ns.push(yr.path[Mr]);for(let Mr=1;Mr<Ri.path.length;Mr++)ns.push(Ri.path[Mr]);const ps=2.5*Bn;if(we){const Mr=ns.map(Nt?(Es,ao)=>{const Hl=lt(ao<yr.path.length-1?yr.tilePath[yr.path.length-1-ao]:Ri.tilePath[ao-yr.path.length+2]);return Be(Es,we,Hl)}:Es=>Be(Es,we));ns=Mr.some(Es=>Es.signedDistanceFromCamera<=0)?[]:Mr.map(Es=>Es.point)}let bs=[];if(ns.length>0){const Mr=ns[0].clone(),Es=ns[0].clone();for(let ao=1;ao<ns.length;ao++)Mr.x=Math.min(Mr.x,ns[ao].x),Mr.y=Math.min(Mr.y,ns[ao].y),Es.x=Math.max(Es.x,ns[ao].x),Es.y=Math.max(Es.y,ns[ao].y);bs=Mr.x>=ci.x&&Es.x<=ti.x&&Mr.y>=ci.y&&Es.y<=ti.y?[ns]:Es.x<ci.x||Mr.x>ti.x||Es.y<ci.y||Mr.y>ti.y?[]:x.clipLine([ns],ci.x,ci.y,ti.x,ti.y)}for(const Mr of bs){Xn.reset(Mr,.25*Bn);let Es=0;Es=Xn.length<=.5*Bn?1:Math.ceil(Xn.paddedLength/ps)+1;for(let ao=0;ao<Es;ao++){const Hl=ao/Math.max(Es-1,1),Ya=Xn.lerp(Hl),ys=Ya.x+Un,Ko=Ya.y+Un;xt.push(ys,Ko,Bn,0);const vl=ys-Bn,Vi=Ko-Bn,Gs=ys+Bn,is=Ko+Bn;if(ii=ii&&this.isOffscreen(vl,Vi,Gs,is),Lt=Lt||this.isInsideGrid(vl,Vi,Gs,is),!m&&this.grid.hitTestCircle(ys,Ko,Bn,qe)&&(Fn=!0,!be))return{circles:[],offscreen:!1,collisionDetected:Fn}}}}return{circles:!be&&Fn||!Lt?[]:xt,offscreen:ii,collisionDetected:Fn}}queryRenderedSymbols(m){if(0===m.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const T=[];let N=1/0,U=1/0,X=-1/0,ce=-1/0;for(const Ue of m){const qe=new x.pointGeometry(Ue.x+Un,Ue.y+Un);N=Math.min(N,qe.x),U=Math.min(U,qe.y),X=Math.max(X,qe.x),ce=Math.max(ce,qe.y),T.push(qe)}const ge=this.grid.query(N,U,X,ce).concat(this.ignoredGrid.query(N,U,X,ce)),we={},be={};for(const Ue of ge){const qe=Ue.key;if(void 0===we[qe.bucketInstanceId]&&(we[qe.bucketInstanceId]={}),we[qe.bucketInstanceId][qe.featureIndex])continue;const Qe=[new x.pointGeometry(Ue.x1,Ue.y1),new x.pointGeometry(Ue.x2,Ue.y1),new x.pointGeometry(Ue.x2,Ue.y2),new x.pointGeometry(Ue.x1,Ue.y2)];x.polygonIntersectsPolygon(T,Qe)&&(we[qe.bucketInstanceId][qe.featureIndex]=!0,void 0===be[qe.bucketInstanceId]&&(be[qe.bucketInstanceId]=[]),be[qe.bucketInstanceId].push(qe.featureIndex))}return be}insertCollisionBox(m,T,N,U,X){(T?this.ignoredGrid:this.grid).insert({bucketInstanceId:N,featureIndex:U,collisionGroupID:X},m[0],m[1],m[2],m[3])}insertCollisionCircles(m,T,N,U,X){const ce=T?this.ignoredGrid:this.grid,ge={bucketInstanceId:N,featureIndex:U,collisionGroupID:X};for(let we=0;we<m.length;we+=4)ce.insertCircle(ge,m[we],m[we+1],m[we+2])}projectAndGetPerspectiveRatio(m,T,N,U,X){const ce=[T,N,U||0,1];let ge=!1;if(U||this.transform.pitch>0){x.transformMat4(ce,ce,m);let we=!1;this.fogState&&X&&(we=function(be,Ue,qe,Qe,Ke,pt){const xt=pt.calculateFogTileMatrix(Ke),Nt=[Ue,qe,Qe];return x.transformMat4$1(Nt,Nt,xt),wn(be,Nt,pt.pitch,pt._fov)}(this.fogState,T,N,U||0,X.toUnwrapped(),this.transform)>.9),ge=ce[2]>ce[3]||we}else cn(ce,ce,m);return{point:new x.pointGeometry((ce[0]/ce[3]+1)/2*this.transform.width+Un,(-ce[1]/ce[3]+1)/2*this.transform.height+Un),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/ce[3]*.5,1.5),signedDistanceFromCamera:ce[3],aboveHorizon:ge}}isOffscreen(m,T,N,U){return N<Un||m>=this.screenRightBoundary||U<Un||T>this.screenBottomBoundary}isInsideGrid(m,T,N,U){return N>=0&&m<this.gridRightBoundary&&U>=0&&T<this.gridBottomBoundary}getViewportMatrix(){const m=x.identity([]);return x.translate(m,m,[-100,-100,0]),m}}class Ai{constructor(m,T,N,U){this.opacity=m?Math.max(0,Math.min(1,m.opacity+(m.placed?T:-T))):U&&N?1:0,this.placed=N}isHidden(){return 0===this.opacity&&!this.placed}}class gr{constructor(m,T,N,U,X){this.text=new Ai(m?m.text:null,T,N,X),this.icon=new Ai(m?m.icon:null,T,U,X)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class vi{constructor(m,T,N){this.text=m,this.icon=T,this.skipFade=N}}class Yi{constructor(){this.invProjMatrix=x.create$1(),this.viewportMatrix=x.create$1(),this.circles=[]}}class Pr{constructor(m,T,N,U,X){this.bucketInstanceId=m,this.featureIndex=T,this.sourceLayerIndex=N,this.bucketIndex=U,this.tileID=X}}class oo{constructor(m){this.crossSourceCollisions=m,this.maxGroupID=0,this.collisionGroups={}}get(m){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[m]){const T=++this.maxGroupID;this.collisionGroups[m]={ID:T,predicate:N=>N.collisionGroupID===T}}return this.collisionGroups[m]}}function Ms(R,m,T,N,U){const{horizontalAlign:X,verticalAlign:ce}=x.getAnchorAlignment(R),ge=-(X-.5)*m,we=-(ce-.5)*T,be=x.evaluateVariableOffset(R,N);return new x.pointGeometry(ge+be[0]*U,we+be[1]*U)}function Gi(R,m,T,N,U){const X=new x.pointGeometry(R,m);return T&&X._rotate(N?U:-U),X}class qr{constructor(m,T,N,U,X){this.transform=m.clone(),this.collisionIndex=new zn(this.transform,X),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=T,this.retainedQueryData={},this.collisionGroups=new oo(N),this.collisionCircleArrays={},this.prevPlacement=U,U&&(U.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(m,T,N,U){const X=N.getBucket(T),ce=N.latestFeatureIndex;if(!X||!ce||T.id!==X.layerIds[0])return;const ge=N.collisionBoxArray,we=X.layers[0].layout,be=Math.pow(2,this.transform.zoom-N.tileID.overscaledZ),Ue=N.tileSize/x.EXTENT,qe=this.transform.calculateProjMatrix(N.tileID.toUnwrapped()),Qe="map"===we.get("text-pitch-alignment"),Ke="map"===we.get("text-rotation-alignment"),pt=li(N,1,this.transform.zoom),xt=Ie(qe,Qe,Ke,this.transform,pt);let Nt=null;if(Qe){const wt=Pe(qe,Qe,Ke,this.transform,pt);Nt=x.multiply([],this.transform.labelPlaneMatrix,wt)}this.retainedQueryData[X.bucketInstanceId]=new Pr(X.bucketInstanceId,ce,X.sourceLayerIndex,X.index,N.tileID);const lt={bucket:X,layout:we,posMatrix:qe,textLabelPlaneMatrix:xt,labelToScreenMatrix:Nt,scale:be,textPixelRatio:Ue,holdingForFade:N.holdingForFade(),collisionBoxArray:ge,partiallyEvaluatedTextSize:x.evaluateSizeForZoom(X.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:x.evaluateSizeForZoom(X.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(X.sourceID)};if(U)for(const wt of X.sortKeyRanges){const{sortKey:Tt,symbolInstanceStart:Ut,symbolInstanceEnd:St}=wt;m.push({sortKey:Tt,symbolInstanceStart:Ut,symbolInstanceEnd:St,parameters:lt})}else m.push({symbolInstanceStart:0,symbolInstanceEnd:X.symbolInstances.length,parameters:lt})}attemptAnchorPlacement(m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe,Ke,pt,xt,Nt,lt,wt){const Tt=[Qe.textOffset0,Qe.textOffset1],Ut=Ms(m,N,U,Tt,X),St=this.collisionIndex.placeCollisionBox(X,T,Gi(Ut.x,Ut.y,ce,ge,this.transform.angle),qe,we,be,Ue.predicate);if((!Nt||0!==this.collisionIndex.placeCollisionBox(pt.getSymbolInstanceIconSize(wt,this.transform.zoom,Ke),Nt,Gi(Ut.x,Ut.y,ce,ge,this.transform.angle),qe,we,be,Ue.predicate).box.length)&&St.box.length>0){let At;return this.prevPlacement&&this.prevPlacement.variableOffsets[Qe.crossTileID]&&this.prevPlacement.placements[Qe.crossTileID]&&this.prevPlacement.placements[Qe.crossTileID].text&&(At=this.prevPlacement.variableOffsets[Qe.crossTileID].anchor),this.variableOffsets[Qe.crossTileID]={textOffset:Tt,width:N,height:U,anchor:m,textScale:X,prevAnchor:At},this.markUsedJustification(pt,m,Qe,xt),pt.allowVerticalPlacement&&(this.markUsedOrientation(pt,xt,Qe),this.placedOrientations[Qe.crossTileID]=xt),{shift:Ut,placedGlyphBoxes:St}}}placeLayerBucketPart(m,T,N){const{bucket:U,layout:X,posMatrix:ce,textLabelPlaneMatrix:ge,labelToScreenMatrix:we,textPixelRatio:be,holdingForFade:Ue,collisionBoxArray:qe,partiallyEvaluatedTextSize:Qe,partiallyEvaluatedIconSize:Ke,collisionGroup:pt}=m.parameters,xt=X.get("text-optional"),Nt=X.get("icon-optional"),lt=X.get("text-allow-overlap"),wt=X.get("icon-allow-overlap"),Tt="map"===X.get("text-rotation-alignment"),Ut="map"===X.get("text-pitch-alignment"),St="none"!==X.get("icon-text-fit"),At="viewport-y"===X.get("symbol-z-order"),Sn=lt&&(wt||!U.hasIconData()||Nt),An=wt&&(lt||!U.hasTextData()||xt);!U.collisionArrays&&qe&&U.deserializeCollisionBoxes(qe),N&&U.updateCollisionDebugBuffers(this.transform.zoom,qe);const Fn=(Lt,ii,Bn)=>{if(T[Lt.crossTileID])return;if(Ue)return void(this.placements[Lt.crossTileID]=new vi(!1,!1,!1));let ci=!1,ti=!1,Xn=!0,yr=null,Ri={box:null,offscreen:null},ns={box:null,offscreen:null},ps=null,bs=null,Mr=null,Es=0,ao=0,Hl=0;Bn.textFeatureIndex?Es=Bn.textFeatureIndex:Lt.useRuntimeCollisionCircles&&(Es=Lt.featureIndex),Bn.verticalTextFeatureIndex&&(ao=Bn.verticalTextFeatureIndex);const Ya=Vi=>{Vi.tileID=this.retainedQueryData[U.bucketInstanceId].tileID,(this.transform.elevation||Vi.elevation)&&(Vi.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[U.bucketInstanceId].tileID,Vi.anchorPointX,Vi.anchorPointY):0)},ys=Bn.textBox;if(ys){Ya(ys);const Vi=is=>{let Os=x.WritingMode.horizontal;if(U.allowVerticalPlacement&&!is&&this.prevPlacement){const xo=this.prevPlacement.placedOrientations[Lt.crossTileID];xo&&(this.placedOrientations[Lt.crossTileID]=xo,Os=xo,this.markUsedOrientation(U,Os,Lt))}return Os},Gs=(is,Os)=>{if(U.allowVerticalPlacement&&Lt.numVerticalGlyphVertices>0&&Bn.verticalTextBox){for(const xo of U.writingModes)if(xo===x.WritingMode.vertical?(Ri=Os(),ns=Ri):Ri=is(),Ri&&Ri.box&&Ri.box.length)break}else Ri=is()};if(X.get("text-variable-anchor")){let is=X.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Lt.crossTileID]){const $r=this.prevPlacement.variableOffsets[Lt.crossTileID];is.indexOf($r.anchor)>0&&(is=is.filter(ul=>ul!==$r.anchor),is.unshift($r.anchor))}const Os=($r,ul,dl)=>{const bl=U.getSymbolInstanceTextSize(Qe,Lt,this.transform.zoom,ii),jo=($r.x2-$r.x1)*bl+2*$r.padding,Ha=($r.y2-$r.y1)*bl+2*$r.padding,rd=St&&!wt?ul:null;rd&&Ya(rd);let Pa={box:[],offscreen:!1};const Pd=lt?2*is.length:is.length;for(let Rr=0;Rr<Pd;++Rr){const Od=this.attemptAnchorPlacement(is[Rr%is.length],$r,jo,Ha,bl,Tt,Ut,be,ce,pt,Rr>=is.length,Lt,ii,U,dl,rd,Qe,Ke);if(Od&&(Pa=Od.placedGlyphBoxes,Pa&&Pa.box&&Pa.box.length)){ci=!0,yr=Od.shift;break}}return Pa};Gs(()=>Os(ys,Bn.iconBox,x.WritingMode.horizontal),()=>{const $r=Bn.verticalTextBox;return $r&&Ya($r),U.allowVerticalPlacement&&!(Ri&&Ri.box&&Ri.box.length)&&Lt.numVerticalGlyphVertices>0&&$r?Os($r,Bn.verticalIconBox,x.WritingMode.vertical):{box:null,offscreen:null}}),Ri&&(ci=Ri.box,Xn=Ri.offscreen);const xo=Vi(Ri&&Ri.box);if(!ci&&this.prevPlacement){const $r=this.prevPlacement.variableOffsets[Lt.crossTileID];$r&&(this.variableOffsets[Lt.crossTileID]=$r,this.markUsedJustification(U,$r.anchor,Lt,xo))}}else{const is=(Os,xo)=>{const $r=U.getSymbolInstanceTextSize(Qe,Lt,this.transform.zoom,ii),ul=this.collisionIndex.placeCollisionBox($r,Os,new x.pointGeometry(0,0),lt,be,ce,pt.predicate);return ul&&ul.box&&ul.box.length&&(this.markUsedOrientation(U,xo,Lt),this.placedOrientations[Lt.crossTileID]=xo),ul};Gs(()=>is(ys,x.WritingMode.horizontal),()=>{const Os=Bn.verticalTextBox;return U.allowVerticalPlacement&&Lt.numVerticalGlyphVertices>0&&Os?(Ya(Os),is(Os,x.WritingMode.vertical)):{box:null,offscreen:null}}),Vi(Ri&&Ri.box&&Ri.box.length)}}if(ps=Ri,ci=ps&&ps.box&&ps.box.length>0,Xn=ps&&ps.offscreen,Lt.useRuntimeCollisionCircles){const Vi=U.text.placedSymbolArray.get(Lt.centerJustifiedTextSymbolIndex>=0?Lt.centerJustifiedTextSymbolIndex:Lt.verticalPlacedTextSymbolIndex),Gs=x.evaluateSizeForFeature(U.textSizeData,Qe,Vi),is=X.get("text-padding");bs=this.collisionIndex.placeCollisionCircles(lt,Vi,U.lineVertexArray,U.glyphOffsetArray,Gs,ce,ge,we,N,Ut,pt.predicate,Lt.collisionCircleDiameter,is,this.retainedQueryData[U.bucketInstanceId].tileID),ci=lt||bs.circles.length>0&&!bs.collisionDetected,Xn=Xn&&bs.offscreen}if(Bn.iconFeatureIndex&&(Hl=Bn.iconFeatureIndex),Bn.iconBox){const Vi=Gs=>{Ya(Gs);const is=St&&yr?Gi(yr.x,yr.y,Tt,Ut,this.transform.angle):new x.pointGeometry(0,0),Os=U.getSymbolInstanceIconSize(Ke,this.transform.zoom,ii);return this.collisionIndex.placeCollisionBox(Os,Gs,is,wt,be,ce,pt.predicate)};ns&&ns.box&&ns.box.length&&Bn.verticalIconBox?(Mr=Vi(Bn.verticalIconBox),ti=Mr.box.length>0):(Mr=Vi(Bn.iconBox),ti=Mr.box.length>0),Xn=Xn&&Mr.offscreen}const Ko=xt||0===Lt.numHorizontalGlyphVertices&&0===Lt.numVerticalGlyphVertices,vl=Nt||0===Lt.numIconVertices;if(Ko||vl?vl?Ko||(ti=ti&&ci):ci=ti&&ci:ti=ci=ti&&ci,ci&&ps&&ps.box&&this.collisionIndex.insertCollisionBox(ps.box,X.get("text-ignore-placement"),U.bucketInstanceId,ns&&ns.box&&ao?ao:Es,pt.ID),ti&&Mr&&this.collisionIndex.insertCollisionBox(Mr.box,X.get("icon-ignore-placement"),U.bucketInstanceId,Hl,pt.ID),bs&&(ci&&this.collisionIndex.insertCollisionCircles(bs.circles,X.get("text-ignore-placement"),U.bucketInstanceId,Es,pt.ID),N)){const Vi=U.bucketInstanceId;let Gs=this.collisionCircleArrays[Vi];void 0===Gs&&(Gs=this.collisionCircleArrays[Vi]=new Yi);for(let is=0;is<bs.circles.length;is+=4)Gs.circles.push(bs.circles[is+0]),Gs.circles.push(bs.circles[is+1]),Gs.circles.push(bs.circles[is+2]),Gs.circles.push(bs.collisionDetected?1:0)}this.placements[Lt.crossTileID]=new vi(ci||Sn,ti||An,Xn||U.justReloaded),T[Lt.crossTileID]=!0};if(At){const Lt=U.getSortedSymbolIndexes(this.transform.angle);for(let ii=Lt.length-1;ii>=0;--ii){const Bn=Lt[ii];Fn(U.symbolInstances.get(Bn),Bn,U.collisionArrays[Bn])}}else for(let Lt=m.symbolInstanceStart;Lt<m.symbolInstanceEnd;Lt++)Fn(U.symbolInstances.get(Lt),Lt,U.collisionArrays[Lt]);if(N&&U.bucketInstanceId in this.collisionCircleArrays){const Lt=this.collisionCircleArrays[U.bucketInstanceId];x.invert(Lt.invProjMatrix,ce),Lt.viewportMatrix=this.collisionIndex.getViewportMatrix()}U.justReloaded=!1}markUsedJustification(m,T,N,U){let X;X=U===x.WritingMode.vertical?N.verticalPlacedTextSymbolIndex:{left:N.leftJustifiedTextSymbolIndex,center:N.centerJustifiedTextSymbolIndex,right:N.rightJustifiedTextSymbolIndex}[x.getAnchorJustification(T)];const ce=[N.leftJustifiedTextSymbolIndex,N.centerJustifiedTextSymbolIndex,N.rightJustifiedTextSymbolIndex,N.verticalPlacedTextSymbolIndex];for(const ge of ce)ge>=0&&(m.text.placedSymbolArray.get(ge).crossTileID=X>=0&&ge!==X?0:N.crossTileID)}markUsedOrientation(m,T,N){const U=T===x.WritingMode.horizontal||T===x.WritingMode.horizontalOnly?T:0,X=T===x.WritingMode.vertical?T:0,ce=[N.leftJustifiedTextSymbolIndex,N.centerJustifiedTextSymbolIndex,N.rightJustifiedTextSymbolIndex];for(const ge of ce)m.text.placedSymbolArray.get(ge).placedOrientation=U;N.verticalPlacedTextSymbolIndex&&(m.text.placedSymbolArray.get(N.verticalPlacedTextSymbolIndex).placedOrientation=X)}commit(m){this.commitTime=m,this.zoomAtLastRecencyCheck=this.transform.zoom;const T=this.prevPlacement;let N=!1;this.prevZoomAdjustment=T?T.zoomAdjustment(this.transform.zoom):0;const U=T?T.symbolFadeChange(m):1,X=T?T.opacities:{},ce=T?T.variableOffsets:{},ge=T?T.placedOrientations:{};for(const we in this.placements){const be=this.placements[we],Ue=X[we];Ue?(this.opacities[we]=new gr(Ue,U,be.text,be.icon),N=N||be.text!==Ue.text.placed||be.icon!==Ue.icon.placed):(this.opacities[we]=new gr(null,U,be.text,be.icon,be.skipFade),N=N||be.text||be.icon)}for(const we in X){const be=X[we];if(!this.opacities[we]){const Ue=new gr(be,U,!1,!1);Ue.isHidden()||(this.opacities[we]=Ue,N=N||be.text.placed||be.icon.placed)}}for(const we in ce)this.variableOffsets[we]||!this.opacities[we]||this.opacities[we].isHidden()||(this.variableOffsets[we]=ce[we]);for(const we in ge)this.placedOrientations[we]||!this.opacities[we]||this.opacities[we].isHidden()||(this.placedOrientations[we]=ge[we]);N?this.lastPlacementChangeTime=m:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=T?T.lastPlacementChangeTime:m)}updateLayerOpacities(m,T){const N={};for(const U of T){const X=U.getBucket(m);X&&U.latestFeatureIndex&&m.id===X.layerIds[0]&&this.updateBucketOpacities(X,N,U.collisionBoxArray)}}updateBucketOpacities(m,T,N){m.hasTextData()&&m.text.opacityVertexArray.clear(),m.hasIconData()&&m.icon.opacityVertexArray.clear(),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexArray.clear(),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexArray.clear();const U=m.layers[0].layout,X=new gr(null,0,!1,!1,!0),ce=U.get("text-allow-overlap"),ge=U.get("icon-allow-overlap"),we=U.get("text-variable-anchor"),be="map"===U.get("text-rotation-alignment"),Ue="map"===U.get("text-pitch-alignment"),qe="none"!==U.get("icon-text-fit"),Qe=new gr(null,0,ce&&(ge||!m.hasIconData()||U.get("icon-optional")),ge&&(ce||!m.hasTextData()||U.get("text-optional")),!0);!m.collisionArrays&&N&&(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData())&&m.deserializeCollisionBoxes(N);const Ke=(pt,xt,Nt)=>{for(let lt=0;lt<xt/4;lt++)pt.opacityVertexArray.emplaceBack(Nt)};for(let pt=0;pt<m.symbolInstances.length;pt++){const xt=m.symbolInstances.get(pt),{numHorizontalGlyphVertices:Nt,numVerticalGlyphVertices:lt,crossTileID:wt}=xt;let Tt=this.opacities[wt];T[wt]?Tt=X:Tt||(Tt=Qe,this.opacities[wt]=Tt),T[wt]=!0;const Ut=xt.numIconVertices>0,St=this.placedOrientations[xt.crossTileID],At=St===x.WritingMode.vertical,Sn=St===x.WritingMode.horizontal||St===x.WritingMode.horizontalOnly;if(Nt>0||lt>0){const An=ah(Tt.text);Ke(m.text,Nt,At?gl:An),Ke(m.text,lt,Sn?gl:An);const Fn=Tt.text.isHidden();[xt.rightJustifiedTextSymbolIndex,xt.centerJustifiedTextSymbolIndex,xt.leftJustifiedTextSymbolIndex].forEach(Bn=>{Bn>=0&&(m.text.placedSymbolArray.get(Bn).hidden=Fn||At?1:0)}),xt.verticalPlacedTextSymbolIndex>=0&&(m.text.placedSymbolArray.get(xt.verticalPlacedTextSymbolIndex).hidden=Fn||Sn?1:0);const Lt=this.variableOffsets[xt.crossTileID];Lt&&this.markUsedJustification(m,Lt.anchor,xt,St);const ii=this.placedOrientations[xt.crossTileID];ii&&(this.markUsedJustification(m,"left",xt,ii),this.markUsedOrientation(m,ii,xt))}if(Ut){const An=ah(Tt.icon);xt.placedIconSymbolIndex>=0&&(Ke(m.icon,xt.numIconVertices,At?gl:An),m.icon.placedSymbolArray.get(xt.placedIconSymbolIndex).hidden=Tt.icon.isHidden()),xt.verticalPlacedIconSymbolIndex>=0&&(Ke(m.icon,xt.numVerticalIconVertices,Sn?gl:An),m.icon.placedSymbolArray.get(xt.verticalPlacedIconSymbolIndex).hidden=Tt.icon.isHidden())}if(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData()){const An=m.collisionArrays[pt];if(An){let Fn=new x.pointGeometry(0,0);if(An.textBox||An.verticalTextBox){let ii=!0;if(we){const Bn=this.variableOffsets[wt];Bn?(Fn=Ms(Bn.anchor,Bn.width,Bn.height,Bn.textOffset,Bn.textScale),be&&Fn._rotate(Ue?this.transform.angle:-this.transform.angle)):ii=!1}An.textBox&&Ts(m.textCollisionBox.collisionVertexArray,Tt.text.placed,!ii||At,Fn.x,Fn.y),An.verticalTextBox&&Ts(m.textCollisionBox.collisionVertexArray,Tt.text.placed,!ii||Sn,Fn.x,Fn.y)}const Lt=Boolean(!Sn&&An.verticalIconBox);An.iconBox&&Ts(m.iconCollisionBox.collisionVertexArray,Tt.icon.placed,Lt,qe?Fn.x:0,qe?Fn.y:0),An.verticalIconBox&&Ts(m.iconCollisionBox.collisionVertexArray,Tt.icon.placed,!Lt,qe?Fn.x:0,qe?Fn.y:0)}}}if(m.sortFeatures(this.transform.angle),this.retainedQueryData[m.bucketInstanceId]&&(this.retainedQueryData[m.bucketInstanceId].featureSortOrder=m.featureSortOrder),m.hasTextData()&&m.text.opacityVertexBuffer&&m.text.opacityVertexBuffer.updateData(m.text.opacityVertexArray),m.hasIconData()&&m.icon.opacityVertexBuffer&&m.icon.opacityVertexBuffer.updateData(m.icon.opacityVertexArray),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexBuffer&&m.iconCollisionBox.collisionVertexBuffer.updateData(m.iconCollisionBox.collisionVertexArray),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexBuffer&&m.textCollisionBox.collisionVertexBuffer.updateData(m.textCollisionBox.collisionVertexArray),m.bucketInstanceId in this.collisionCircleArrays){const pt=this.collisionCircleArrays[m.bucketInstanceId];m.placementInvProjMatrix=pt.invProjMatrix,m.placementViewportMatrix=pt.viewportMatrix,m.collisionCircleArray=pt.circles,delete this.collisionCircleArrays[m.bucketInstanceId]}}symbolFadeChange(m){return 0===this.fadeDuration?1:(m-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(m){return Math.max(0,(this.transform.zoom-m)/1.5)}hasTransitions(m){return this.stale||m-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(m,T){const N=this.zoomAtLastRecencyCheck===T?1-this.zoomAdjustment(T):1;return this.zoomAtLastRecencyCheck=T,this.commitTime+this.fadeDuration*N>m}setStale(){this.stale=!0}}function Ts(R,m,T,N,U){R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0)}const Aa=Math.pow(2,25),da=Math.pow(2,24),_o=Math.pow(2,17),qo=Math.pow(2,16),Cd=Math.pow(2,9),$l=Math.pow(2,8),xm=Math.pow(2,1);function ah(R){if(0===R.opacity&&!R.placed)return 0;if(1===R.opacity&&R.placed)return 4294967295;const m=R.placed?1:0,T=Math.floor(127*R.opacity);return T*Aa+m*da+T*_o+m*qo+T*Cd+m*$l+T*xm+m}const gl=0;class wp{constructor(m){this._sortAcrossTiles="viewport-y"!==m.layout.get("symbol-z-order")&&void 0!==m.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(m,T,N,U,X){const ce=this._bucketParts;for(;this._currentTileIndex<m.length;)if(T.getBucketParts(ce,U,m[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,X())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ce.sort((ge,we)=>ge.sortKey-we.sortKey));this._currentPartIndex<ce.length;)if(T.placeLayerBucketPart(ce[this._currentPartIndex],this._seenCrossTileIDs,N),this._currentPartIndex++,X())return!0;return!1}}class Md{constructor(m,T,N,U,X,ce,ge,we){this.placement=new qr(m,X,ce,ge,we),this._currentPlacementIndex=T.length-1,this._forceFullPlacement=N,this._showCollisionBoxes=U,this._done=!1}isDone(){return this._done}continuePlacement(m,T,N){const U=x.exported.now(),X=()=>{const ce=x.exported.now()-U;return!this._forceFullPlacement&&ce>2};for(;this._currentPlacementIndex>=0;){const ce=T[m[this._currentPlacementIndex]],ge=this.placement.collisionIndex.transform.zoom;if("symbol"===ce.type&&(!ce.minzoom||ce.minzoom<=ge)&&(!ce.maxzoom||ce.maxzoom>ge)){if(this._inProgressLayer||(this._inProgressLayer=new wp(ce)),this._inProgressLayer.continuePlacement(N[ce.source],this.placement,this._showCollisionBoxes,ce,X))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(m){return this.placement.commit(m),this.placement}}const tf=512/x.EXTENT/2;class ou{constructor(m,T,N){this.tileID=m,this.indexedSymbolInstances={},this.bucketInstanceId=N;for(let U=0;U<T.length;U++){const X=T.get(U),ce=X.key;this.indexedSymbolInstances[ce]||(this.indexedSymbolInstances[ce]=[]),this.indexedSymbolInstances[ce].push({crossTileID:X.crossTileID,coord:this.getScaledCoordinates(X,m)})}}getScaledCoordinates(m,T){const N=tf/Math.pow(2,T.canonical.z-this.tileID.canonical.z);return{x:Math.floor((T.canonical.x*x.EXTENT+m.anchorX)*N),y:Math.floor((T.canonical.y*x.EXTENT+m.anchorY)*N)}}findMatches(m,T,N){const U=this.tileID.canonical.z<T.canonical.z?1:Math.pow(2,this.tileID.canonical.z-T.canonical.z);for(let X=0;X<m.length;X++){const ce=m.get(X);if(ce.crossTileID)continue;const ge=this.indexedSymbolInstances[ce.key];if(!ge)continue;const we=this.getScaledCoordinates(ce,T);for(const be of ge)if(Math.abs(be.coord.x-we.x)<=U&&Math.abs(be.coord.y-we.y)<=U&&!N[be.crossTileID]){N[be.crossTileID]=!0,ce.crossTileID=be.crossTileID;break}}}}class Ss{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Cp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(m){const T=Math.round((m-this.lng)/360);if(0!==T)for(const N in this.indexes){const U=this.indexes[N],X={};for(const ce in U){const ge=U[ce];ge.tileID=ge.tileID.unwrapTo(ge.tileID.wrap+T),X[ge.tileID.key]=ge}this.indexes[N]=X}this.lng=m}addBucket(m,T,N){if(this.indexes[m.overscaledZ]&&this.indexes[m.overscaledZ][m.key]){if(this.indexes[m.overscaledZ][m.key].bucketInstanceId===T.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(m.overscaledZ,this.indexes[m.overscaledZ][m.key])}for(let X=0;X<T.symbolInstances.length;X++)T.symbolInstances.get(X).crossTileID=0;this.usedCrossTileIDs[m.overscaledZ]||(this.usedCrossTileIDs[m.overscaledZ]={});const U=this.usedCrossTileIDs[m.overscaledZ];for(const X in this.indexes){const ce=this.indexes[X];if(Number(X)>m.overscaledZ)for(const ge in ce){const we=ce[ge];we.tileID.isChildOf(m)&&we.findMatches(T.symbolInstances,m,U)}else{const ge=ce[m.scaledTo(Number(X)).key];ge&&ge.findMatches(T.symbolInstances,m,U)}}for(let X=0;X<T.symbolInstances.length;X++){const ce=T.symbolInstances.get(X);ce.crossTileID||(ce.crossTileID=N.generate(),U[ce.crossTileID]=!0)}return void 0===this.indexes[m.overscaledZ]&&(this.indexes[m.overscaledZ]={}),this.indexes[m.overscaledZ][m.key]=new ou(m,T.symbolInstances,T.bucketInstanceId),!0}removeBucketCrossTileIDs(m,T){for(const N in T.indexedSymbolInstances)for(const U of T.indexedSymbolInstances[N])delete this.usedCrossTileIDs[m][U.crossTileID]}removeStaleBuckets(m){let T=!1;for(const N in this.indexes){const U=this.indexes[N];for(const X in U)m[U[X].bucketInstanceId]||(this.removeBucketCrossTileIDs(N,U[X]),delete U[X],T=!0)}return T}}class lh{constructor(){this.layerIndexes={},this.crossTileIDs=new Ss,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(m,T,N){let U=this.layerIndexes[m.id];void 0===U&&(U=this.layerIndexes[m.id]=new Cp);let X=!1;const ce={};U.handleWrapJump(N);for(const ge of T){const we=ge.getBucket(m);we&&m.id===we.layerIds[0]&&(we.bucketInstanceId||(we.bucketInstanceId=++this.maxBucketInstanceId),U.addBucket(ge.tileID,we,this.crossTileIDs)&&(X=!0),ce[we.bucketInstanceId]=!0)}return U.removeStaleBuckets(ce)&&(X=!0),X}pruneUnusedLayers(m){const T={};m.forEach(N=>{T[N]=!0});for(const N in this.layerIndexes)T[N]||delete this.layerIndexes[N]}}const Mp=(R,m)=>x.emitValidationErrors(R,m&&m.filter(T=>"source.canvas"!==T.identifier)),Ql=x.pick(b,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),Cu=x.pick(b,["setCenter","setZoom","setBearing","setPitch"]),Rl=function(){const R={},m=x.spec.$version;for(const T in x.spec.$root){const N=x.spec.$root[T];if(N.required){let U=null;U="version"===T?m:"array"===N.type?[]:{},null!=U&&(R[T]=U)}}return R}(),ch={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ia extends x.Evented{constructor(m,T={}){super(),this.map=m,this.dispatcher=new bn(Re(),this),this.imageManager=new ur,this.imageManager.setEventedParent(this),this.glyphManager=new x.GlyphManager(m._requestManager,T.localFontFamily?x.LocalGlyphMode.all:T.localIdeographFontFamily?x.LocalGlyphMode.ideographs:x.LocalGlyphMode.none,T.localFontFamily||T.localIdeographFontFamily),this.lineAtlas=new x.LineAtlas(256,512),this.crossTileSymbolIndex=new lh,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new x.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",x.getReferrer());const N=this;this._rtlTextPluginCallback=ia.registerForPluginStateChange(U=>{N.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:U.pluginStatus,pluginURL:U.pluginURL},(X,ce)=>{if(x.triggerPluginCompletionEvent(X),ce&&ce.every(ge=>ge))for(const ge in N._sourceCaches){const we=N._sourceCaches[ge],be=we.getSource().type;"vector"!==be&&"geojson"!==be||we.reload()}})}),this.on("data",U=>{if("source"!==U.dataType||"metadata"!==U.sourceDataType)return;const X=this.getSource(U.sourceId);if(X&&X.vectorLayerIds)for(const ce in this._layers){const ge=this._layers[ce];ge.source===X.id&&this._validateLayer(ge)}})}loadURL(m,T={}){this.fire(new x.Event("dataloading",{dataType:"style"}));const N="boolean"==typeof T.validate?T.validate:!x.isMapboxURL(m);m=this.map._requestManager.normalizeStyleURL(m,T.accessToken);const U=this.map._requestManager.transformRequest(m,x.ResourceType.Style);this._request=x.getJSON(U,(X,ce)=>{this._request=null,X?this.fire(new x.ErrorEvent(X)):ce&&this._load(ce,N)})}loadJSON(m,T={}){this.fire(new x.Event("dataloading",{dataType:"style"})),this._request=x.exported.frame(()=>{this._request=null,this._load(m,!1!==T.validate)})}loadEmpty(){this.fire(new x.Event("dataloading",{dataType:"style"})),this._load(Rl,!1)}_updateLayerCount(m,T){const N=T?1:-1;m.is3D()&&(this._num3DLayers+=N),"circle"===m.type&&(this._numCircleLayers+=N),"symbol"===m.type&&(this._numSymbolLayers+=N)}_load(m,T){if(T&&Mp(this,x.validateStyle(m)))return;this._loaded=!0,this.stylesheet=m;for(const U in m.sources)this.addSource(U,m.sources[U],{validate:!1});this._changed=!1,m.sprite?this._loadSprite(m.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(m.glyphs);const N=f(this.stylesheet.layers);this._order=N.map(U=>U.id),this._layers={},this._serializedLayers={};for(let U of N)U=x.createStyleLayer(U),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U,this._serializedLayers[U.id]=U.serialize(),this._updateLayerCount(U,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new zi(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new x.Event("data",{dataType:"style"})),this.fire(new x.Event("style.load"))}_loadSprite(m){this._spriteRequest=function(T,N,U){let X,ce,ge;const we=x.exported.devicePixelRatio>1?"@2x":"";let be=x.getJSON(N.transformRequest(N.normalizeSpriteURL(T,we,".json"),x.ResourceType.SpriteJSON),(Qe,Ke)=>{be=null,ge||(ge=Qe,X=Ke,qe())}),Ue=x.getImage(N.transformRequest(N.normalizeSpriteURL(T,we,".png"),x.ResourceType.SpriteImage),(Qe,Ke)=>{Ue=null,ge||(ge=Qe,ce=Ke,qe())});function qe(){if(ge)U(ge);else if(X&&ce){const Qe=x.exported.getImageData(ce),Ke={};for(const pt in X){const{width:xt,height:Nt,x:lt,y:wt,sdf:Tt,pixelRatio:Ut,stretchX:St,stretchY:At,content:Sn}=X[pt],An=new x.RGBAImage({width:xt,height:Nt});x.RGBAImage.copy(Qe,An,{x:lt,y:wt},{x:0,y:0},{width:xt,height:Nt}),Ke[pt]={data:An,pixelRatio:Ut,sdf:Tt,stretchX:St,stretchY:At,content:Sn}}U(null,Ke)}}return{cancel(){be&&(be.cancel(),be=null),Ue&&(Ue.cancel(),Ue=null)}}}(m,this.map._requestManager,(T,N)=>{if(this._spriteRequest=null,T)this.fire(new x.ErrorEvent(T));else if(N)for(const U in N)this.imageManager.addImage(U,N[U]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new x.Event("data",{dataType:"style"}))})}_validateLayer(m){const T=this.getSource(m.source);if(!T)return;const N=m.sourceLayer;N&&("geojson"===T.type||T.vectorLayerIds&&-1===T.vectorLayerIds.indexOf(N))&&this.fire(new x.ErrorEvent(new Error(`Source layer "${N}" does not exist on source "${T.id}" as specified by style layer "${m.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const m in this._sourceCaches)if(!this._sourceCaches[m].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(m){const T=[];for(const N of m){const U=this._layers[N];"custom"!==U.type&&T.push(U.serialize())}return T}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const m in this._sourceCaches)if(this._sourceCaches[m].hasTransition())return!0;for(const m in this._layers)if(this._layers[m].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(m){return!!this.terrain&&ch[m.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(m){if(!this._loaded)return;const T=this._changed;if(this._changed){const U=Object.keys(this._updatedLayers),X=Object.keys(this._removedLayers);(U.length||X.length)&&this._updateWorkerLayers(U,X);for(const ce in this._updatedSources){const ge=this._updatedSources[ce];"reload"===ge?this._reloadSource(ce):"clear"===ge&&this._clearSource(ce)}this._updateTilesForChangedImages();for(const ce in this._updatedPaintProps)this._layers[ce].updateTransitions(m);this.light.updateTransitions(m),this.fog&&this.fog.updateTransitions(m),this._resetUpdates()}const N={};for(const U in this._sourceCaches){const X=this._sourceCaches[U];N[U]=X.used,X.used=!1}for(const U of this._order){const X=this._layers[U];if(X.recalculate(m,this._availableImages),!X.isHidden(m.zoom)){const ge=this._getLayerSourceCache(X);ge&&(ge.used=!0)}const ce=this.map.painter;if(ce){const ge=X.getProgramIds();if(!ge)continue;const we=X.getProgramConfiguration(m.zoom);for(const be of ge)ce.useProgram(be,we)}}for(const U in N){const X=this._sourceCaches[U];N[U]!==X.used&&X.getSource().fire(new x.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:X.getSource().id}))}this.light.recalculate(m),this.terrain&&this.terrain.recalculate(m),this.fog&&this.fog.recalculate(m),this.z=m.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),T&&this.fire(new x.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const m=Object.keys(this._changedImages);if(m.length){for(const T in this._sourceCaches)this._sourceCaches[T].reloadTilesForDependencies(["icons","patterns"],m);this._changedImages={}}}_updateWorkerLayers(m,T){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(m),removedIds:T})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(m){if(this._checkLoaded(),Mp(this,x.validateStyle(m)))return!1;(m=x.clone$2(m)).layers=f(m.layers);const T=function(U,X){if(!U)return[{command:b.setStyle,args:[X]}];let ce=[];try{if(!Te(U.version,X.version))return[{command:b.setStyle,args:[X]}];Te(U.center,X.center)||ce.push({command:b.setCenter,args:[X.center]}),Te(U.zoom,X.zoom)||ce.push({command:b.setZoom,args:[X.zoom]}),Te(U.bearing,X.bearing)||ce.push({command:b.setBearing,args:[X.bearing]}),Te(U.pitch,X.pitch)||ce.push({command:b.setPitch,args:[X.pitch]}),Te(U.sprite,X.sprite)||ce.push({command:b.setSprite,args:[X.sprite]}),Te(U.glyphs,X.glyphs)||ce.push({command:b.setGlyphs,args:[X.glyphs]}),Te(U.transition,X.transition)||ce.push({command:b.setTransition,args:[X.transition]}),Te(U.light,X.light)||ce.push({command:b.setLight,args:[X.light]}),Te(U.fog,X.fog)||ce.push({command:b.setFog,args:[X.fog]});const ge={},we=[];!function(qe,Qe,Ke,pt){let xt;for(xt in Qe=Qe||{},qe=qe||{})qe.hasOwnProperty(xt)&&(Qe.hasOwnProperty(xt)||D(xt,Ke,pt));for(xt in Qe)Qe.hasOwnProperty(xt)&&(qe.hasOwnProperty(xt)?Te(qe[xt],Qe[xt])||("geojson"===qe[xt].type&&"geojson"===Qe[xt].type&&F(qe,Qe,xt)?Ke.push({command:b.setGeoJSONSourceData,args:[xt,Qe[xt].data]}):B(xt,Qe,Ke,pt)):S(xt,Qe,Ke))}(U.sources,X.sources,we,ge);const be=[];U.layers&&U.layers.forEach(qe=>{ge[qe.source]?ce.push({command:b.removeLayer,args:[qe.id]}):be.push(qe)});let Ue=U.terrain;Ue&&ge[Ue.source]&&(ce.push({command:b.setTerrain,args:[void 0]}),Ue=void 0),ce=ce.concat(we),Te(Ue,X.terrain)||ce.push({command:b.setTerrain,args:[X.terrain]}),function(qe,Qe,Ke){Qe=Qe||[];const pt=(qe=qe||[]).map(q),xt=Qe.map(q),Nt=qe.reduce(oe,{}),lt=Qe.reduce(oe,{}),wt=pt.slice(),Tt=Object.create(null);let Ut,St,At,Sn,An,Fn,Lt;for(Ut=0,St=0;Ut<pt.length;Ut++)At=pt[Ut],lt.hasOwnProperty(At)?St++:(Ke.push({command:b.removeLayer,args:[At]}),wt.splice(wt.indexOf(At,St),1));for(Ut=0,St=0;Ut<xt.length;Ut++)At=xt[xt.length-1-Ut],wt[wt.length-1-Ut]!==At&&(Nt.hasOwnProperty(At)?(Ke.push({command:b.removeLayer,args:[At]}),wt.splice(wt.lastIndexOf(At,wt.length-St),1)):St++,Fn=wt[wt.length-Ut],Ke.push({command:b.addLayer,args:[lt[At],Fn]}),wt.splice(wt.length-Ut,0,At),Tt[At]=!0);for(Ut=0;Ut<xt.length;Ut++)if(At=xt[Ut],Sn=Nt[At],An=lt[At],!Tt[At]&&!Te(Sn,An))if(Te(Sn.source,An.source)&&Te(Sn["source-layer"],An["source-layer"])&&Te(Sn.type,An.type)){for(Lt in W(Sn.layout,An.layout,Ke,At,null,b.setLayoutProperty),W(Sn.paint,An.paint,Ke,At,null,b.setPaintProperty),Te(Sn.filter,An.filter)||Ke.push({command:b.setFilter,args:[At,An.filter]}),Te(Sn.minzoom,An.minzoom)&&Te(Sn.maxzoom,An.maxzoom)||Ke.push({command:b.setLayerZoomRange,args:[At,An.minzoom,An.maxzoom]}),Sn)Sn.hasOwnProperty(Lt)&&"layout"!==Lt&&"paint"!==Lt&&"filter"!==Lt&&"metadata"!==Lt&&"minzoom"!==Lt&&"maxzoom"!==Lt&&(0===Lt.indexOf("paint.")?W(Sn[Lt],An[Lt],Ke,At,Lt.slice(6),b.setPaintProperty):Te(Sn[Lt],An[Lt])||Ke.push({command:b.setLayerProperty,args:[At,Lt,An[Lt]]}));for(Lt in An)An.hasOwnProperty(Lt)&&!Sn.hasOwnProperty(Lt)&&"layout"!==Lt&&"paint"!==Lt&&"filter"!==Lt&&"metadata"!==Lt&&"minzoom"!==Lt&&"maxzoom"!==Lt&&(0===Lt.indexOf("paint.")?W(Sn[Lt],An[Lt],Ke,At,Lt.slice(6),b.setPaintProperty):Te(Sn[Lt],An[Lt])||Ke.push({command:b.setLayerProperty,args:[At,Lt,An[Lt]]}))}else Ke.push({command:b.removeLayer,args:[At]}),Fn=wt[wt.lastIndexOf(At)+1],Ke.push({command:b.addLayer,args:[An,Fn]})}(be,X.layers,ce)}catch(ge){console.warn("Unable to compute style diff:",ge),ce=[{command:b.setStyle,args:[X]}]}return ce}(this.serialize(),m).filter(U=>!(U.command in Cu));if(0===T.length)return!1;const N=T.filter(U=>!(U.command in Ql));if(N.length>0)throw new Error(`Unimplemented: ${N.map(U=>U.command).join(", ")}.`);return T.forEach(U=>{"setTransition"!==U.command&&this[U.command].apply(this,U.args)}),this.stylesheet=m,!0}addImage(m,T){if(this.getImage(m))return this.fire(new x.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(m,T),this._afterImageUpdated(m)}updateImage(m,T){this.imageManager.updateImage(m,T)}getImage(m){return this.imageManager.getImage(m)}removeImage(m){if(!this.getImage(m))return this.fire(new x.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(m),this._afterImageUpdated(m)}_afterImageUpdated(m){this._availableImages=this.imageManager.listImages(),this._changedImages[m]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new x.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(m,T,N={}){if(this._checkLoaded(),void 0!==this.getSource(m))throw new Error("There is already a source with this ID");if(!T.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(T).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(T.type)>=0&&this._validate(x.validateStyle.source,`sources.${m}`,T,null,N))return;this.map&&this.map._collectResourceTiming&&(T.collectResourceTiming=!0);const U=$e(m,T,this.dispatcher,this);U.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:U.serialize(),sourceId:m}));const X=ce=>{const ge=(ce?"symbol:":"other:")+m,we=this._sourceCaches[ge]=new x.SourceCache(ge,U,ce);(ce?this._symbolSourceCaches:this._otherSourceCaches)[m]=we,we.style=this,we.onAdd(this.map)};X(!1),"vector"!==T.type&&"geojson"!==T.type||X(!0),U.onAdd&&U.onAdd(this.map),this._changed=!0}removeSource(m){this._checkLoaded();const T=this.getSource(m);if(void 0===T)throw new Error("There is no source with this ID");for(const U in this._layers)if(this._layers[U].source===m)return this.fire(new x.ErrorEvent(new Error(`Source "${m}" cannot be removed while layer "${U}" is using it.`)));if(this.terrain&&this.terrain.get().source===m)return this.fire(new x.ErrorEvent(new Error(`Source "${m}" cannot be removed while terrain is using it.`)));const N=this._getSourceCaches(m);for(const U of N)delete this._sourceCaches[U.id],delete this._updatedSources[U.id],U.fire(new x.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:U.getSource().id})),U.setEventedParent(null),U.clearTiles();delete this._otherSourceCaches[m],delete this._symbolSourceCaches[m],T.setEventedParent(null),T.onRemove&&T.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(m,T){this._checkLoaded(),this.getSource(m).setData(T),this._changed=!0}getSource(m){const T=this._getSourceCache(m);return T&&T.getSource()}addLayer(m,T,N={}){this._checkLoaded();const U=m.id;if(this.getLayer(U))return void this.fire(new x.ErrorEvent(new Error(`Layer with id "${U}" already exists on this map`)));let X;if("custom"===m.type){if(Mp(this,x.validateCustomStyleLayer(m)))return;X=x.createStyleLayer(m)}else{if("object"==typeof m.source&&(this.addSource(U,m.source),m=x.clone$2(m),m=x.extend(m,{source:U})),this._validate(x.validateStyle.layer,`layers.${U}`,m,{arrayIndex:-1},N))return;X=x.createStyleLayer(m),this._validateLayer(X),X.setEventedParent(this,{layer:{id:U}}),this._serializedLayers[X.id]=X.serialize(),this._updateLayerCount(X,!0)}const ce=T?this._order.indexOf(T):this._order.length;if(T&&-1===ce)return void this.fire(new x.ErrorEvent(new Error(`Layer with id "${T}" does not exist on this map.`)));this._order.splice(ce,0,U),this._layerOrderChanged=!0,this._layers[U]=X;const ge=this._getLayerSourceCache(X);if(this._removedLayers[U]&&X.source&&ge&&"custom"!==X.type){const we=this._removedLayers[U];delete this._removedLayers[U],we.type!==X.type?this._updatedSources[X.source]="clear":(this._updatedSources[X.source]="reload",ge.pause())}this._updateLayer(X),X.onAdd&&X.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(m,T){if(this._checkLoaded(),this._changed=!0,!this._layers[m])return void this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be moved.`)));if(m===T)return;const N=this._order.indexOf(m);this._order.splice(N,1);const U=T?this._order.indexOf(T):this._order.length;T&&-1===U?this.fire(new x.ErrorEvent(new Error(`Layer with id "${T}" does not exist on this map.`))):(this._order.splice(U,0,m),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(m){this._checkLoaded();const T=this._layers[m];if(!T)return void this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be removed.`)));T.setEventedParent(null),this._updateLayerCount(T,!1);const N=this._order.indexOf(m);this._order.splice(N,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[m]=T,delete this._layers[m],delete this._serializedLayers[m],delete this._updatedLayers[m],delete this._updatedPaintProps[m],T.onRemove&&T.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(m){return this._layers[m]}hasLayer(m){return m in this._layers}hasLayerType(m){for(const T in this._layers)if(this._layers[T].type===m)return!0;return!1}setLayerZoomRange(m,T,N){this._checkLoaded();const U=this.getLayer(m);U?U.minzoom===T&&U.maxzoom===N||(null!=T&&(U.minzoom=T),null!=N&&(U.maxzoom=N),this._updateLayer(U)):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(m,T,N={}){this._checkLoaded();const U=this.getLayer(m);if(U){if(!Te(U.filter,T))return null==T?(U.filter=void 0,void this._updateLayer(U)):void(this._validate(x.validateStyle.filter,`layers.${U.id}.filter`,T,null,N)||(U.filter=x.clone$2(T),this._updateLayer(U)))}else this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be filtered.`)))}getFilter(m){return x.clone$2(this.getLayer(m).filter)}setLayoutProperty(m,T,N,U={}){this._checkLoaded();const X=this.getLayer(m);X?Te(X.getLayoutProperty(T),N)||(X.setLayoutProperty(T,N,U),this._updateLayer(X)):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(m,T){const N=this.getLayer(m);if(N)return N.getLayoutProperty(T);this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style.`)))}setPaintProperty(m,T,N,U={}){this._checkLoaded();const X=this.getLayer(m);X?Te(X.getPaintProperty(T),N)||(X.setPaintProperty(T,N,U)&&this._updateLayer(X),this._changed=!0,this._updatedPaintProps[m]=!0):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(m,T){return this.getLayer(m).getPaintProperty(T)}setFeatureState(m,T){this._checkLoaded();const N=m.source,U=m.sourceLayer,X=this.getSource(N);if(void 0===X)return void this.fire(new x.ErrorEvent(new Error(`The source '${N}' does not exist in the map's style.`)));const ce=X.type;if("geojson"===ce&&U)return void this.fire(new x.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===ce&&!U)return void this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===m.id&&this.fire(new x.ErrorEvent(new Error("The feature id parameter must be provided.")));const ge=this._getSourceCaches(N);for(const we of ge)we.setFeatureState(U,m.id,T)}removeFeatureState(m,T){this._checkLoaded();const N=m.source,U=this.getSource(N);if(void 0===U)return void this.fire(new x.ErrorEvent(new Error(`The source '${N}' does not exist in the map's style.`)));const X=U.type,ce="vector"===X?m.sourceLayer:void 0;if("vector"===X&&!ce)return void this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(T&&"string"!=typeof m.id&&"number"!=typeof m.id)return void this.fire(new x.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ge=this._getSourceCaches(N);for(const we of ge)we.removeFeatureState(ce,m.id,T)}getFeatureState(m){this._checkLoaded();const T=m.source,N=m.sourceLayer,U=this.getSource(T);if(void 0!==U){if("vector"!==U.type||N)return void 0===m.id&&this.fire(new x.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(T)[0].getFeatureState(N,m.id);this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new x.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)))}getTransition(){return x.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const m={};for(const T in this._sourceCaches){const N=this._sourceCaches[T].getSource();m[N.id]||(m[N.id]=N.serialize())}return x.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:m,layers:this._serializeLayers(this._order)},T=>void 0!==T)}_updateLayer(m){this._updatedLayers[m.id]=!0;const T=this._getLayerSourceCache(m);m.source&&!this._updatedSources[m.source]&&T&&"raster"!==T.getSource().type&&(this._updatedSources[m.source]="reload",T.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(m){const T=ce=>"fill-extrusion"===this._layers[ce].type,N={},U=[];for(let ce=this._order.length-1;ce>=0;ce--){const ge=this._order[ce];if(T(ge)){N[ge]=ce;for(const we of m){const be=we[ge];if(be)for(const Ue of be)U.push(Ue)}}}U.sort((ce,ge)=>ge.intersectionZ-ce.intersectionZ);const X=[];for(let ce=this._order.length-1;ce>=0;ce--){const ge=this._order[ce];if(T(ge))for(let we=U.length-1;we>=0;we--){const be=U[we].feature;if(N[be.layer.id]<ce)break;X.push(be),U.pop()}else for(const we of m){const be=we[ge];if(be)for(const Ue of be)X.push(Ue.feature)}}return X}queryRenderedFeatures(m,T,N){T&&T.filter&&this._validate(x.validateStyle.filter,"queryRenderedFeatures.filter",T.filter,null,T);const U={};if(T&&T.layers){if(!Array.isArray(T.layers))return this.fire(new x.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const we of T.layers){const be=this._layers[we];if(!be)return this.fire(new x.ErrorEvent(new Error(`The layer '${we}' does not exist in the map's style and cannot be queried for features.`))),[];U[be.source]=!0}}const X=[];T.availableImages=this._availableImages;const ce=T&&T.layers?T.layers.some(we=>{const be=this.getLayer(we);return be&&be.is3D()}):this.has3DLayers(),ge=Bi.createFromScreenPoints(m,N);for(const we in this._sourceCaches){const be=this._sourceCaches[we].getSource().id;T.layers&&!U[be]||X.push(Ct(this._sourceCaches[we],this._layers,this._serializedLayers,ge,T,N,ce,!!this.map._showQueryGeometry))}return this.placement&&X.push(function(we,be,Ue,qe,Qe,Ke,pt){const xt={},Nt=Ke.queryRenderedSymbols(qe),lt=[];for(const wt of Object.keys(Nt).map(Number))lt.push(pt[wt]);lt.sort(Ot);for(const wt of lt){const Tt=wt.featureIndex.lookupSymbolFeatures(Nt[wt.bucketInstanceId],be,wt.bucketIndex,wt.sourceLayerIndex,Qe.filter,Qe.layers,Qe.availableImages,we);for(const Ut in Tt){const St=xt[Ut]=xt[Ut]||[],At=Tt[Ut];At.sort((Sn,An)=>{const Fn=wt.featureSortOrder;if(Fn){const Lt=Fn.indexOf(Sn.featureIndex);return Fn.indexOf(An.featureIndex)-Lt}return An.featureIndex-Sn.featureIndex});for(const Sn of At)St.push(Sn)}}for(const wt in xt)xt[wt].forEach(Tt=>{const Ut=Tt.feature,St=Ue(we[wt]).getFeatureState(Ut.layer["source-layer"],Ut.id);Ut.source=Ut.layer.source,Ut.layer["source-layer"]&&(Ut.sourceLayer=Ut.layer["source-layer"]),Ut.state=St});return xt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ge.screenGeometry,T,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(X)}querySourceFeatures(m,T){T&&T.filter&&this._validate(x.validateStyle.filter,"querySourceFeatures.filter",T.filter,null,T);const N=this._getSourceCaches(m);let U=[];for(const X of N)U=U.concat(Bt(X,T));return U}addSourceType(m,T,N){return ia.getSourceType(m)?N(new Error(`A source type called "${m}" already exists.`)):(ia.setSourceType(m,T),T.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:m,url:T.workerSourceURL},N):N(null,null))}getLight(){return this.light.getLight()}setLight(m,T={}){this._checkLoaded();const N=this.light.getLight();let U=!1;for(const ce in m)if(!Te(m[ce],N[ce])){U=!0;break}if(!U)return;const X={now:x.exported.now(),transition:x.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(m,T),this.light.updateTransitions(X)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(m){if(this._checkLoaded(),!m)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof m.source){const T="terrain-dem-src";this.addSource(T,m.source),m=x.clone$2(m),m=x.extend(m,{source:T})}if(!this._validate(x.validateStyle.terrain,"terrain",m)){if(this.terrain){const T=this.terrain,N=T.get();for(const U in m)if(!Te(m[U],N[U])){T.set(m),this.stylesheet.terrain=m;const X={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(X);break}}else this._createTerrain(m);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(m){const T=this.fog=new Hn(m);this.stylesheet.fog=m;const N={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(N)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const m of this.map._markers)m._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(m){if(this._checkLoaded(),!m)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const T=this.fog,N=T.get();for(const U in m)if(!Te(m[U],N[U])){T.set(m),this.stylesheet.fog=m;const X={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(X);break}}else this._createFog(m);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const m=this._order.filter(N=>this.isLayerDraped(this._layers[N])),T=this._order.filter(N=>!this.isLayerDraped(this._layers[N]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...m),this._drapedFirstOrder.push(...T)}_createTerrain(m){const T=this.terrain=new jr(m);this.stylesheet.terrain=m,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const N={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(N)}_force3DLayerUpdate(){for(const m in this._layers){const T=this._layers[m];"fill-extrusion"===T.type&&this._updateLayer(T)}}_validate(m,T,N,U,X={}){return(!X||!1!==X.validate)&&Mp(this,m.call(x.validateStyle,x.extend({key:T,style:this.serialize(),value:N,styleSpec:x.spec},U)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),x.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const m in this._layers)this._layers[m].setEventedParent(null);for(const m in this._sourceCaches)this._sourceCaches[m].clearTiles(),this._sourceCaches[m].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(m){const T=this._getSourceCaches(m);for(const N of T)N.clearTiles()}_reloadSource(m){const T=this._getSourceCaches(m);for(const N of T)N.resume(),N.reload()}_updateSources(m){for(const T in this._sourceCaches)this._sourceCaches[T].update(m)}_generateCollisionBoxes(){for(const m in this._sourceCaches){const T=this._sourceCaches[m];T.resume(),T.reload()}}_updatePlacement(m,T,N,U,X=!1){let ce=!1,ge=!1;const we={};for(const be of this._order){const Ue=this._layers[be];if("symbol"!==Ue.type)continue;if(!we[Ue.source]){const Qe=this._getLayerSourceCache(Ue);if(!Qe)continue;we[Ue.source]=Qe.getRenderableIds(!0).map(Ke=>Qe.getTileByID(Ke)).sort((Ke,pt)=>pt.tileID.overscaledZ-Ke.tileID.overscaledZ||(Ke.tileID.isLessThan(pt.tileID)?-1:1))}const qe=this.crossTileSymbolIndex.addLayer(Ue,we[Ue.source],m.center.lng);ce=ce||qe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),X=X||this._layerOrderChanged||0===N,this._layerOrderChanged&&this.fire(new x.Event("neworder")),(X||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(x.exported.now(),m.zoom))&&(this.pauseablePlacement=new Md(m,this._order,X,T,N,U,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,we),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(x.exported.now()),ge=!0),ce&&this.pauseablePlacement.placement.setStale()),ge||ce)for(const be of this._order){const Ue=this._layers[be];"symbol"===Ue.type&&this.placement.updateLayerOpacities(Ue,we[Ue.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(x.exported.now())}_releaseSymbolFadeTiles(){for(const m in this._sourceCaches)this._sourceCaches[m].releaseSymbolFadeTiles()}getImages(m,T,N){this.imageManager.getImages(T.icons,N),this._updateTilesForChangedImages();const U=X=>{X&&X.setDependencies(T.tileID.key,T.type,T.icons)};U(this._otherSourceCaches[T.source]),U(this._symbolSourceCaches[T.source])}getGlyphs(m,T,N){this.glyphManager.getGlyphs(T.stacks,N)}getResource(m,T,N){return x.makeRequest(T,N)}_getSourceCache(m){return this._otherSourceCaches[m]}_getLayerSourceCache(m){return"symbol"===m.type?this._symbolSourceCaches[m.source]:this._otherSourceCaches[m.source]}_getSourceCaches(m){const T=[];return this._otherSourceCaches[m]&&T.push(this._otherSourceCaches[m]),this._symbolSourceCaches[m]&&T.push(this._symbolSourceCaches[m]),T}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}ia.getSourceType=function(R){return He[R]},ia.setSourceType=function(R,m){He[R]=m},ia.registerForPluginStateChange=x.registerForPluginStateChange;var Tp="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",ks="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Us={},$i={};Us=zr("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),$i=zr("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const Jl=zr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),uh=Tp;var Td={background:zr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:zr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:zr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:zr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:zr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:zr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:zr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:zr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:zr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:zr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:zr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:zr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:zr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:zr("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:zr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);\n#else\nvec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:zr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:zr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:zr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineGradient:zr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:zr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineSDF:zr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:zr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:zr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:zr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:zr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:zr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:zr("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:zr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ks),skyboxGradient:zr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ks),skyboxCapture:zr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function zr(R,m,T){const N=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,U=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,X=m.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),ce=R.match(U),ge=m.match(U),we=Tp.match(U);let be=ge?ge.concat(ce):ce;T||(Us.staticUniforms&&(be=Us.staticUniforms.concat(be)),$i.staticUniforms&&(be=$i.staticUniforms.concat(be))),be&&(be=be.concat(we));const Ue={};return{fragmentSource:R=R.replace(N,(qe,Qe,Ke,pt,xt)=>(Ue[xt]=!0,"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nvarying ${Ke} ${pt} ${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`)),vertexSource:m=m.replace(N,(qe,Qe,Ke,pt,xt)=>{const Nt="float"===pt?"vec2":"vec4",lt=xt.match(/color/)?"color":Nt;return Ue[xt]?"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nuniform lowp float u_${xt}_t;\nattribute ${Ke} ${Nt} a_${xt};\nvarying ${Ke} ${pt} ${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:"vec4"===lt?`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${xt} = a_${xt};\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${xt} = unpack_mix_${lt}(a_${xt}, u_${xt}_t);\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nuniform lowp float u_${xt}_t;\nattribute ${Ke} ${Nt} a_${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:"vec4"===lt?`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = a_${xt};\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = unpack_mix_${lt}(a_${xt}, u_${xt}_t);\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`}),staticAttributes:X,staticUniforms:be}}class dh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(m,T,N,U,X,ce,ge,we){this.context=m;let be=this.boundPaintVertexBuffers.length!==U.length;for(let Ue=0;!be&&Ue<U.length;Ue++)this.boundPaintVertexBuffers[Ue]!==U[Ue]&&(be=!0);m.extVertexArrayObject&&this.vao&&this.boundProgram===T&&this.boundLayoutVertexBuffer===N&&!be&&this.boundIndexBuffer===X&&this.boundVertexOffset===ce&&this.boundDynamicVertexBuffer===ge&&this.boundDynamicVertexBuffer2===we?(m.bindVertexArrayOES.set(this.vao),ge&&ge.bind(),X&&X.dynamicDraw&&X.bind(),we&&we.bind()):this.freshBind(T,N,U,X,ce,ge,we)}freshBind(m,T,N,U,X,ce,ge){let we;const be=m.numAttributes,Ue=this.context,qe=Ue.gl;if(Ue.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Ue.extVertexArrayObject.createVertexArrayOES(),Ue.bindVertexArrayOES.set(this.vao),we=0,this.boundProgram=m,this.boundLayoutVertexBuffer=T,this.boundPaintVertexBuffers=N,this.boundIndexBuffer=U,this.boundVertexOffset=X,this.boundDynamicVertexBuffer=ce,this.boundDynamicVertexBuffer2=ge;else{we=Ue.currentNumAttributes||0;for(let Qe=be;Qe<we;Qe++)qe.disableVertexAttribArray(Qe)}T.enableAttributes(qe,m);for(const Qe of N)Qe.enableAttributes(qe,m);ce&&ce.enableAttributes(qe,m),ge&&ge.enableAttributes(qe,m),T.bind(),T.setVertexAttribPointers(qe,m,X);for(const Qe of N)Qe.bind(),Qe.setVertexAttribPointers(qe,m,X);ce&&(ce.bind(),ce.setVertexAttribPointers(qe,m,X)),U&&U.bind(),ge&&(ge.bind(),ge.setVertexAttribPointers(qe,m,X)),Ue.currentNumAttributes=be}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Sd(R,m){const T=Math.pow(2,m.canonical.z),N=m.canonical.y;return[new x.MercatorCoordinate(0,N/T).toLngLat().lat,new x.MercatorCoordinate(0,(N+1)/T).toLngLat().lat]}function Sp(R,m,T,N,U,X,ce){const ge=R.context,we=ge.gl,be=T.fbo;if(!be)return;R.prepareDrawTile(m);const Ue=R.useProgram("hillshade");ge.activeTexture.set(we.TEXTURE0),we.bindTexture(we.TEXTURE_2D,be.colorAttachment.get());const qe=((Qe,Ke,pt,xt)=>{const Nt=pt.paint.get("hillshade-shadow-color"),lt=pt.paint.get("hillshade-highlight-color"),wt=pt.paint.get("hillshade-accent-color");let Tt=pt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===pt.paint.get("hillshade-illumination-anchor")&&(Tt-=Qe.transform.angle);const Ut=!Qe.options.moving;return{u_matrix:xt||Qe.transform.calculateProjMatrix(Ke.tileID.toUnwrapped(),Ut),u_image:0,u_latrange:Sd(0,Ke.tileID),u_light:[pt.paint.get("hillshade-exaggeration"),Tt],u_shadow:Nt,u_highlight:lt,u_accent:wt}})(R,T,N,R.terrain?m.projMatrix:null);R.prepareDrawProgram(ge,Ue,m.toUnwrapped()),Ue.draw(ge,we.TRIANGLES,U,X,ce,x.CullFaceMode.disabled,qe,N.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments)}function ha(R,m,T){if(!m.needsDEMTextureUpload)return;const N=R.context,U=N.gl;N.pixelStoreUnpackPremultiplyAlpha.set(!1),m.demTexture=m.demTexture||R.getTileTexture(T.stride);const X=T.getPixels();m.demTexture?m.demTexture.update(X,{premultiply:!1}):m.demTexture=new x.Texture(N,X,U.RGBA,{premultiply:!1}),m.needsDEMTextureUpload=!1}function Ga(R,m,T,N,U,X){const ce=R.context,ge=ce.gl;if(!m.dem)return;const we=m.dem;if(ce.activeTexture.set(ge.TEXTURE1),ha(R,m,we),!m.demTexture)return;m.demTexture.bind(ge.NEAREST,ge.CLAMP_TO_EDGE);const be=we.dim;ce.activeTexture.set(ge.TEXTURE0);let Ue=m.fbo;if(!Ue){const qe=new x.Texture(ce,{width:be,height:be,data:null},ge.RGBA);qe.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Ue=m.fbo=ce.createFramebuffer(be,be,!0),Ue.colorAttachment.set(qe.texture)}ce.bindFramebuffer.set(Ue.framebuffer),ce.viewport.set([0,0,be,be]),R.useProgram("hillshadePrepare").draw(ce,ge.TRIANGLES,N,U,X,x.CullFaceMode.disabled,((qe,Qe)=>{const Ke=Qe.stride,pt=x.create$1();return x.ortho(pt,0,x.EXTENT,-x.EXTENT,0,0,1),x.translate(pt,pt,[0,-x.EXTENT,0]),{u_matrix:pt,u_image:1,u_dimension:[Ke,Ke],u_zoom:qe.overscaledZ,u_unpack:Qe.unpackVector}})(m.tileID,we),T.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments),m.needsHillshadePrepare=!1}const mi=(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image0:new x.Uniform1i(R,m.u_image0),u_skirt_height:new x.Uniform1f(R,m.u_skirt_height)}),Zc=(R,m)=>({u_matrix:R,u_image0:0,u_skirt_height:m}),Xl=new class{constructor(){this.operations={}}newMorphing(R,m,T,N,U){if(R in this.operations){const X=this.operations[R];X.to.tileID.key!==T.tileID.key&&(X.queued=T)}else this.operations[R]={startTime:N,phase:0,duration:U,from:m,to:T,queued:null}}getMorphValuesForProxy(R){if(!(R in this.operations))return null;const m=this.operations[R];return{from:m.from,to:m.to,phase:m.phase}}update(R){for(const m in this.operations){const T=this.operations[m];for(T.phase=(R-T.startTime)/T.duration;T.phase>=1||!this._validOp(T);)if(!this._nextOp(T,R)){delete this.operations[m];break}}}_nextOp(R,m){return!!R.queued&&(R.from=R.to,R.to=R.queued,R.queued=null,R.phase=0,R.startTime=m,!0)}_validOp(R){return R.from.hasData()&&R.to.hasData()}},qa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function kd(R,m){const T=1<<R.z;return!m&&(0===R.x||R.x===T-1)||0===R.y||R.y===T-1}const Wc=R=>({u_matrix:R});function Zs(R,m,T,N,U){if(U>0){const X=x.exported.now(),ce=(X-R.timeAdded)/U,ge=m?(X-m.timeAdded)/U:-1,we=T.getSource(),be=N.coveringZoomLevel({tileSize:we.tileSize,roundZoom:we.roundZoom}),Ue=!m||Math.abs(m.tileID.overscaledZ-be)>Math.abs(R.tileID.overscaledZ-be),qe=Ue&&R.refreshedUponExpiration?1:x.clamp(Ue?ce:1-ge,0,1);return R.refreshedUponExpiration&&ce>=1&&(R.refreshedUponExpiration=!1),m?{opacity:1,mix:1-qe}:{opacity:qe,mix:0}}return{opacity:1,mix:0}}class Fl extends x.SourceCache{constructor(m){const T=$e("proxy",{type:"geojson",maxzoom:m.transform.maxZoom},new bn(Re(),null),m.style);super("proxy",T,!1),T.setEventedParent(this),this.map=this.getSource().map=m,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(m,T,N){if(m.freezeTileCoverage)return;this.transform=m;const U=m.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((X,ce)=>{if(X[ce.key]="",!this._tiles[ce.key]){const ge=new x.Tile(ce,this._source.tileSize*ce.overscaleFactor(),m.tileZoom);ge.state="loaded",this._tiles[ce.key]=ge}return X},{});for(const X in this._tiles)X in U||(this.freeFBO(X),this._tiles[X].state="unloaded",delete this._tiles[X])}freeFBO(m){const T=this.proxyCachedFBO[m];if(void 0!==T){const N=Object.values(T);this.renderCachePool.push(...N),delete this.proxyCachedFBO[m]}}deallocRenderCache(){this.renderCache.forEach(m=>m.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class lr extends x.OverscaledTileID{constructor(m,T,N){super(m.overscaledZ,m.wrap,m.canonical.z,m.canonical.x,m.canonical.y),this.proxyTileKey=T,this.projMatrix=N}}class kp extends x.Elevation{constructor(m,T){super(),this.painter=m,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[N,U,X]=function(we){const be=new x.StructArrayLayout4i8,Ue=new x.StructArrayLayout3ui6;be.reserve(17161),Ue.reserve(33800);const Qe=x.EXTENT/128,Ke=x.EXTENT+Qe/2,pt=Ke+Qe;for(let Nt=-Qe;Nt<pt;Nt+=Qe)for(let lt=-Qe;lt<pt;lt+=Qe){const wt=lt<0||lt>Ke||Nt<0||Nt>Ke?24575:0,Tt=x.clamp(Math.round(lt),0,x.EXTENT),Ut=x.clamp(Math.round(Nt),0,x.EXTENT);be.emplaceBack(Tt+wt,Ut,Tt,Ut)}const xt=(Nt,lt)=>{const wt=131*lt+Nt;Ue.emplaceBack(wt+1,wt,wt+131),Ue.emplaceBack(wt+131,wt+131+1,wt+1)};for(let Nt=1;Nt<129;Nt++)for(let lt=1;lt<129;lt++)xt(lt,Nt);return[0,129].forEach(Nt=>{for(let lt=0;lt<130;lt++)xt(lt,Nt),xt(Nt,lt)}),[be,Ue,32768]}(),ce=m.context;this.gridBuffer=ce.createVertexBuffer(N,Dr.members),this.gridIndexBuffer=ce.createIndexBuffer(U),this.gridSegments=x.SegmentVector.simpleSegment(0,0,N.length,U.length),this.gridNoSkirtSegments=x.SegmentVector.simpleSegment(0,0,N.length,X),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Fl(T.map),this.orthoMatrix=x.create$1(),x.ortho(this.orthoMatrix,0,x.EXTENT,0,x.EXTENT,0,1);const ge=ce.gl;this._overlapStencilMode=new x.StencilMode({func:ge.GEQUAL,mask:255},0,255,ge.KEEP,ge.KEEP,ge.REPLACE),this._previousZoom=m.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=T,this._useVertexMorphing=!0,this._exaggeration=1}set style(m){m.on("data",this._onStyleDataEvent.bind(this)),m.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=m,this._checkRenderCacheEfficiency()}update(m,T,N){if(m&&m.terrain){this._style!==m&&(this.style=m),this.enabled=!0;const U=m.terrain.properties;this.sourceCache=m._getSourceCache(U.get("source")),this._exaggeration=U.get("exaggeration");const X=()=>{this.sourceCache.used&&x.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ce=this.sourceCache.getSource().tileSize/128,ge=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(T,ce*ge,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,X(),this._initializing=!0),X(),T.updateElevation(!N),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(T),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const m=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==m.efficiency&&x.warnOnce(`Terrain render cache efficiency is not optimal (${m.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${m.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(m){m.coord&&"source"===m.dataType?this._clearRenderCacheForTile(m.sourceCacheId,m.coord):"style"===m.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const m in this._style._sourceCaches)this._style._sourceCaches[m].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(m=>m.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const m=2*this.proxySourceCache.getSource().tileSize;return[m,m]}set useVertexMorphing(m){this._useVertexMorphing=m}updateTileBinding(m){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const T=this.proxySourceCache,N=this.painter.transform;this._initializing&&(this._initializing=0===N._centerAltitude&&-1===this.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(N.center),-1),this._emptyDEMTextureDirty=!this._initializing);const U=this.proxyCoords=T.getIds().map(we=>{const be=T.getTileByID(we).tileID;return be.projMatrix=N.calculateProjMatrix(be.toUnwrapped()),be});(function(we,be){const Ue=be.transform.pointCoordinate(be.transform.getCameraPoint()),qe=new x.pointGeometry(Ue.x,Ue.y);we.sort((Qe,Ke)=>{if(Ke.overscaledZ-Qe.overscaledZ)return Ke.overscaledZ-Qe.overscaledZ;const pt=new x.pointGeometry(Qe.canonical.x+(1<<Qe.canonical.z)*Qe.wrap,Qe.canonical.y),xt=new x.pointGeometry(Ke.canonical.x+(1<<Ke.canonical.z)*Ke.wrap,Ke.canonical.y),Nt=qe.mult(1<<Qe.canonical.z);return Nt.x-=.5,Nt.y-=.5,Nt.distSqr(pt)-Nt.distSqr(xt)})})(U,this.painter),this._previousZoom=N.zoom;const X=this.proxyToSource||{};this.proxyToSource={},U.forEach(we=>{this.proxyToSource[we.key]={}}),this.terrainTileForTile={};const ce=this._style._sourceCaches;for(const we in ce){const be=ce[we];if(!be.used||(be!==this.sourceCache&&(this._findCoveringTileCache[be.id]={}),this._setupProxiedCoordsForOrtho(be,m[we],X),be.usedForTerrain))continue;const Ue=m[we];be.getSource().reparseOverscaled&&this._assignTerrainTiles(Ue)}this.proxiedCoords[T.id]=U.map(we=>new lr(we,we.key,this.orthoMatrix)),this._assignTerrainTiles(U),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(X),this.renderingToTexture=!1,this._updateTimestamp=x.exported.now();const ge={};this._visibleDemTiles=[];for(const we of this.proxyCoords){const be=this.terrainTileForTile[we.key];if(!be)continue;const Ue=be.tileID.key;Ue in ge||(this._visibleDemTiles.push(be),ge[Ue]=Ue)}}_assignTerrainTiles(m){this._initializing||m.forEach(T=>{if(this.terrainTileForTile[T.key])return;const N=this._findTileCoveringTileID(T,this.sourceCache);N&&(this.terrainTileForTile[T.key]=N)})}_prepareDEMTextures(){const m=this.painter.context,T=m.gl;for(const N in this.terrainTileForTile){const U=this.terrainTileForTile[N],X=U.dem;!X||U.demTexture&&!U.needsDEMTextureUpload||(m.activeTexture.set(T.TEXTURE1),ha(this.painter,U,X))}}_prepareDemTileUniforms(m,T,N,U){if(!T||null==T.demTexture)return!1;const X=m.tileID.canonical,ce=Math.pow(2,T.tileID.canonical.z-X.z),ge=U||"";return N[`u_dem_tl${ge}`]=[X.x*ce%1,X.y*ce%1],N[`u_dem_scale${ge}`]=ce,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let m=0;const T=this._visibleDemTiles.reduce((N,U)=>{if(!U.dem)return N;const X=U.dem.tree.minimums[0];return X>0&&m++,N+X},0);return m?T/m:0}_updateEmptyDEMTexture(){const m=this.painter.context,T=m.gl;m.activeTexture.set(T.TEXTURE2);const N=this._getLoadedAreaMinimum(),U={width:1,height:1,data:new Uint8Array(x.DEMData.pack(N,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let X=this._emptyDEMTexture;return X?X.update(U,{premultiply:!1}):X=this._emptyDEMTexture=new x.Texture(m,U,T.RGBA,{premultiply:!1}),X}setupElevationDraw(m,T,N){const U=this.painter.context,X=U.gl,ce=(ge=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:x.DEMData.getUnpackVector(ge),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ge;ce.u_dem_size=this.sourceCache.getSource().tileSize,ce.u_exaggeration=this.exaggeration();let we=null,be=null,Ue=1;if(N&&N.morphing&&this._useVertexMorphing){const qe=N.morphing.srcDemTile,Qe=N.morphing.dstDemTile;Ue=N.morphing.phase,qe&&Qe&&(this._prepareDemTileUniforms(m,qe,ce,"_prev")&&(be=qe),this._prepareDemTileUniforms(m,Qe,ce)&&(we=Qe))}if(be&&we?(U.activeTexture.set(X.TEXTURE2),we.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),U.activeTexture.set(X.TEXTURE4),be.demTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),ce.u_dem_lerp=Ue):(we=this.terrainTileForTile[m.tileID.key],U.activeTexture.set(X.TEXTURE2),(this._prepareDemTileUniforms(m,we,ce)?we.demTexture:this.emptyDEMTexture).bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST)),N&&N.useDepthForOcclusion&&(U.activeTexture.set(X.TEXTURE3),this._depthTexture.bind(X.NEAREST,X.CLAMP_TO_EDGE,X.NEAREST),ce.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),N&&N.useMeterToDem&&we){const qe=(1<<we.tileID.canonical.z)*x.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ce.u_meter_to_dem=qe}N&&N.labelPlaneMatrixInv&&(ce.u_label_plane_matrix_inv=N.labelPlaneMatrixInv),T.setTerrainUniformValues(U,ce)}renderToBackBuffer(m){const T=this.painter,N=this.painter.context;0!==m.length&&(N.bindFramebuffer.set(null),N.viewport.set([0,0,T.width,T.height]),this.renderingToTexture=!1,function(U,X,ce,ge,we){const be=U.context,Ue=be.gl;let qe,Qe;const Ke=U.options.showTerrainWireframe?2:0,pt=(Tt,Ut)=>{if(Qe===Tt)return;const St=[qa[Tt]];Ut&&St.push(qa[Ke]),qe=U.useProgram("terrainRaster",null,St),Qe=Tt},xt=U.colorModeForRenderPass(),Nt=new x.DepthMode(Ue.LEQUAL,x.DepthMode.ReadWrite,U.depthRangeFor3D);Xl.update(we);const lt=U.transform,wt=6*Math.pow(1.5,22-lt.zoom)*X.exaggeration();(Ke?[!1,!0]:[!1]).forEach(Tt=>{Qe=-1;const Ut=Tt?Ue.LINES:Ue.TRIANGLES,[St,At]=Tt?X.getWirefameBuffer():[X.gridIndexBuffer,X.gridSegments];for(const Fn of ge){const Lt=ce.getTile(Fn),ii=x.StencilMode.disabled,Bn=X.prevTerrainTileForTile[Fn.key],ci=X.terrainTileForTile[Fn.key];An=ci,null!=(Sn=Bn)&&null!=An&&Sn.hasData()&&An.hasData()&&null!=Sn.demTexture&&null!=An.demTexture&&Sn.tileID.key!==An.tileID.key&&Xl.newMorphing(Fn.key,Bn,ci,we,250),be.activeTexture.set(Ue.TEXTURE0),Lt.texture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE,Ue.LINEAR_MIPMAP_NEAREST);const ti=Xl.getMorphValuesForProxy(Fn.key),Xn=ti?1:0;let yr;ti&&(yr={morphing:{srcDemTile:ti.from,dstDemTile:ti.to,phase:x.easeCubicInOut(ti.phase)}});const Ri=Zc(Fn.projMatrix,kd(Fn.canonical,lt.renderWorldCopies)?wt/10:wt);pt(Xn,Tt),X.setupElevationDraw(Lt,qe,yr),U.prepareDrawProgram(be,qe,Fn.toUnwrapped()),qe.draw(be,Ut,Nt,ii,xt,x.CullFaceMode.backCCW,Ri,"terrain_raster",X.gridBuffer,St,At)}var Sn,An})}(T,this,this.proxySourceCache,m,this._updateTimestamp),this.renderingToTexture=!0,m.splice(0,m.length))}renderBatch(m){if(0===this._drapedRenderBatches.length)return m+1;this.renderingToTexture=!0;const T=this.painter,N=this.painter.context,U=this.proxySourceCache,X=this.proxiedCoords[U.id],ce=this._drapedRenderBatches.shift(),ge=[],we=T.style.order;let be=0;for(const Ue of X){const qe=U.getTileByID(Ue.proxyTileKey),Qe=U.proxyCachedFBO[Ue.key]?U.proxyCachedFBO[Ue.key][m]:void 0,Ke=void 0!==Qe?U.renderCache[Qe]:this.pool[be++],pt=void 0!==Qe;if(qe.texture=Ke.tex,pt&&!Ke.dirty){ge.push(qe.tileID);continue}let xt;N.bindFramebuffer.set(Ke.fb.framebuffer),this.renderedToTile=!1,Ke.dirty&&(N.clear({color:x.Color.transparent}),Ke.dirty=!1);for(let Nt=ce.start;Nt<=ce.end;++Nt){const lt=T.style._layers[we[Nt]];if(lt.isHidden(T.transform.zoom))continue;const wt=T.style._getLayerSourceCache(lt),Tt=wt?this.proxyToSource[Ue.key][wt.id]:[Ue];if(!Tt)continue;const Ut=Tt;N.viewport.set([0,0,Ke.fb.width,Ke.fb.height]),xt!==(wt?wt.id:null)&&(this._setupStencil(Ke,Tt,lt,wt),xt=wt?wt.id:null),T.renderLayer(T,wt,lt,Ut)}this.renderedToTile?(Ke.dirty=!0,ge.push(qe.tileID)):pt||--be,5===be&&(be=0,this.renderToBackBuffer(ge))}return this.renderToBackBuffer(ge),this.renderingToTexture=!1,N.bindFramebuffer.set(null),N.viewport.set([0,0,T.width,T.height]),ce.end+1}postRender(){}renderCacheEfficiency(m){const T=m.order.length;if(0===T)return{efficiency:100};let N,U=0,X=0,ce=!1;for(let ge=0;ge<T;++ge){const we=m._layers[m.order[ge]];this._style.isLayerDraped(we)?(ce&&++U,++X):ce||(ce=!0,N=we.id)}return 0===X?{efficiency:100}:{efficiency:100*(1-U/X),firstUndrapedLayer:N}}getMinElevationBelowMSL(){let m=0;return this._visibleDemTiles.filter(T=>T.dem).forEach(T=>{m=Math.min(m,T.dem.tree.minimums[0])}),0===m?m:(m-30)*this._exaggeration}raycast(m,T,N){if(!this._visibleDemTiles)return null;const U=this._visibleDemTiles.filter(X=>X.dem).map(X=>{const ce=X.tileID,ge=Math.pow(2,ce.overscaledZ),{x:we,y:be}=ce.canonical,Ue=we/ge,qe=(we+1)/ge,Qe=be/ge,Ke=(be+1)/ge;return{minx:Ue,miny:Qe,maxx:qe,maxy:Ke,t:X.dem.tree.raycastRoot(Ue,Qe,qe,Ke,m,T,N),tile:X}});U.sort((X,ce)=>(null!==X.t?X.t:Number.MAX_VALUE)-(null!==ce.t?ce.t:Number.MAX_VALUE));for(const X of U){if(null==X.t)return null;const ce=X.tile.dem.tree.raycast(X.minx,X.miny,X.maxx,X.maxy,m,T,N);if(null!=ce)return ce}return null}_createFBO(){const m=this.painter.context,T=m.gl,N=this.drapeBufferSize;m.activeTexture.set(T.TEXTURE0);const U=new x.Texture(m,{width:N[0],height:N[1],data:null},T.RGBA);U.bind(T.LINEAR,T.CLAMP_TO_EDGE);const X=m.createFramebuffer(N[0],N[1],!1);return X.colorAttachment.set(U.texture),X.depthAttachment=new an(m,X.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=m.createRenderbuffer(m.gl.DEPTH_STENCIL,N[0],N[1]),this._stencilRef=0,X.depthAttachment.set(this._sharedDepthStencil),m.clear({stencil:0})):X.depthAttachment.set(this._sharedDepthStencil),m.extTextureFilterAnisotropic&&!m.extTextureFilterAnisotropicForceOff&&T.texParameterf(T.TEXTURE_2D,m.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,m.extTextureFilterAnisotropicMax),{fb:X,tex:U,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const m in this._style._sourceCaches)if(this._style._sourceCaches[m].hasTransition())return!0;return this._style.order.some(m=>{const T=this._style._layers[m],N=T.isHidden(this.painter.transform.zoom),U=T.getCrossfadeParameters(),X=!!U&&1!==U.t,ce=T.hasTransition();return"custom"!==T.type&&!N&&(X||ce)})}_clearRasterFadeFromRenderCache(){let m=!1;for(const T in this._style._sourceCaches)if(this._style._sourceCaches[T]._source instanceof mr){m=!0;break}if(m)for(let T=0;T<this._style.order.length;++T){const N=this._style._layers[this._style.order[T]],U=N.isHidden(this.painter.transform.zoom),X=this._style._getLayerSourceCache(N);if("raster"!==N.type||U||!X)continue;const ce=N.paint.get("raster-fade-duration");for(const ge of this.proxyCoords){const we=this.proxyToSource[ge.key][X.id];if(we)for(const be of we){const Ue=Zs(X.getTile(be),X.findLoadedParent(be,0),X,this.painter.transform,ce);(1!==Ue.opacity||0!==Ue.mix)&&this._clearRenderCacheForTile(X.id,be)}}}}_setupDrapedRenderBatches(){const m=this._style.order,T=m.length;if(0===T)return;const N=[];let U,X=0,ce=this._style._layers[m[X]];for(;!this._style.isLayerDraped(ce)&&ce.isHidden(this.painter.transform.zoom)&&++X<T;)ce=this._style._layers[m[X]];for(;X<T;++X){const ge=this._style._layers[m[X]];ge.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ge)?void 0===U&&(U=X):void 0!==U&&(N.push({start:U,end:X-1}),U=void 0))}void 0!==U&&N.push({start:U,end:X-1}),this._drapedRenderBatches=N}_setupRenderCache(m){const T=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,T.renderCache.length>T.renderCachePool.length){const ce=Object.values(T.proxyCachedFBO);T.proxyCachedFBO={};for(let ge=0;ge<ce.length;++ge){const we=Object.values(ce[ge]);T.renderCachePool.push(...we)}}return}this._clearRasterFadeFromRenderCache();const N=this.proxyCoords,U=this._tilesDirty;for(let ce=N.length-1;ce>=0;ce--){const ge=N[ce];if(T.getTileByID(ge.key),void 0!==T.proxyCachedFBO[ge.key]){const we=m[ge.key],be=this.proxyToSource[ge.key];let Ue=0;for(const qe in be){const Qe=be[qe],Ke=we[qe];if(!Ke||Ke.length!==Qe.length||Qe.some((pt,xt)=>pt!==Ke[xt]||U[qe]&&U[qe].hasOwnProperty(pt.key))){Ue=-1;break}++Ue}for(const qe in T.proxyCachedFBO[ge.key])T.renderCache[T.proxyCachedFBO[ge.key][qe]].dirty=Ue<0||Ue!==Object.values(we).length}}const X=[...this._drapedRenderBatches];X.sort((ce,ge)=>ge.end-ge.start-(ce.end-ce.start));for(const ce of X)for(const ge of N){if(T.proxyCachedFBO[ge.key])continue;let we=T.renderCachePool.pop();void 0===we&&T.renderCache.length<50&&(we=T.renderCache.length,T.renderCache.push(this._createFBO())),void 0!==we&&(T.proxyCachedFBO[ge.key]={},T.proxyCachedFBO[ge.key][ce.start]=we,T.renderCache[we].dirty=!0)}this._tilesDirty={}}_setupStencil(m,T,N,U){if(!U||!this._sourceTilesOverlap[U.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const X=this.painter.context,ce=X.gl;if(T.length<=1)return void(this._overlapStencilType=!1);let ge;if(N.isTileClipped())ge=T.length,this._overlapStencilMode.test={func:ce.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(T[0].overscaledZ>T[T.length-1].overscaledZ))return void(this._overlapStencilType=!1);ge=1,this._overlapStencilMode.test={func:ce.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ge>255&&(X.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ge,this._overlapStencilMode.ref=this._stencilRef,N.isTileClipped()&&this._renderTileClippingMasks(T,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(m){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[m.key]),this._overlapStencilMode):x.StencilMode.disabled}_renderTileClippingMasks(m,T){const N=this.painter,U=this.painter.context,X=U.gl;N._tileClippingMaskIDs={},U.setColorMode(x.ColorMode.disabled),U.setDepthMode(x.DepthMode.disabled);const ce=N.useProgram("clippingMask");for(const ge of m){const we=N._tileClippingMaskIDs[ge.key]=--T;ce.draw(U,X.TRIANGLES,x.DepthMode.disabled,new x.StencilMode({func:X.ALWAYS,mask:0},we,255,X.KEEP,X.KEEP,X.REPLACE),x.ColorMode.disabled,x.CullFaceMode.disabled,Wc(ge.projMatrix),"$clipping",N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}pointCoordinate(m){const T=this.painter.transform;if(m.x<0||m.x>T.width||m.y<0||m.y>T.height)return null;const N=[m.x,m.y,1,1];x.transformMat4(N,N,T.pixelMatrixInverse),x.scale$2(N,N,1/N[3]),N[0]/=T.worldSize,N[1]/=T.worldSize;const U=T._camera.position,X=x.mercatorZfromAltitude(1,T.center.lat),ce=[U[0],U[1],U[2]/X,0],ge=x.subtract([],N.slice(0,3),ce);x.normalize(ge,ge);const we=this.raycast(ce,ge,this._exaggeration);return null!==we&&we?(x.scaleAndAdd(ce,ce,ge,we),ce[3]=ce[2],ce[2]*=X,ce):null}drawDepth(){const m=this.painter,T=m.context,N=this.proxySourceCache,U=Math.ceil(m.width),X=Math.ceil(m.height);if(!this._depthFBO||this._depthFBO.width===U&&this._depthFBO.height===X||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const ce=T.gl,ge=T.createFramebuffer(U,X,!0);T.activeTexture.set(ce.TEXTURE0);const we=new x.Texture(T,{width:U,height:X,data:null},ce.RGBA);we.bind(ce.NEAREST,ce.CLAMP_TO_EDGE),ge.colorAttachment.set(we.texture);const be=T.createRenderbuffer(T.gl.DEPTH_COMPONENT16,U,X);ge.depthAttachment.set(be),this._depthFBO=ge,this._depthTexture=we}T.bindFramebuffer.set(this._depthFBO.framebuffer),T.viewport.set([0,0,U,X]),function(ce,ge,we,be){const Ue=ce.context,qe=Ue.gl;Ue.clear({depth:1});const Qe=ce.useProgram("terrainDepth"),Ke=new x.DepthMode(qe.LESS,x.DepthMode.ReadWrite,ce.depthRangeFor3D);for(const pt of be){const xt=we.getTile(pt),Nt=Zc(pt.projMatrix,0);ge.setupElevationDraw(xt,Qe),Qe.draw(Ue,qe.TRIANGLES,Ke,x.StencilMode.disabled,x.ColorMode.unblended,x.CullFaceMode.backCCW,Nt,"terrain_depth",ge.gridBuffer,ge.gridIndexBuffer,ge.gridNoSkirtSegments)}}(m,this,N,this.proxyCoords)}_setupProxiedCoordsForOrtho(m,T,N){if(m.getSource()instanceof at)return this._setupProxiedCoordsForImageSource(m,T,N);this._findCoveringTileCache[m.id]=this._findCoveringTileCache[m.id]||{};const U=this.proxiedCoords[m.id]=[],X=this.proxyCoords;for(let ge=0;ge<X.length;ge++){const we=X[ge],be=this._findTileCoveringTileID(we,m);if(be){const Ue=this._createProxiedId(we,be,N[we.key]&&N[we.key][m.id]);U.push(Ue),this.proxyToSource[we.key][m.id]=[Ue]}}let ce=!1;for(let ge=0;ge<T.length;ge++){const we=m.getTile(T[ge]);if(!we||!we.hasData())continue;const be=this._findTileCoveringTileID(we.tileID,this.proxySourceCache);if(be&&be.tileID.canonical.z!==we.tileID.canonical.z){const Ue=this.proxyToSource[be.tileID.key][m.id],qe=this._createProxiedId(be.tileID,we,N[be.tileID.key]&&N[be.tileID.key][m.id]);Ue?Ue.splice(Ue.length-1,0,qe):this.proxyToSource[be.tileID.key][m.id]=[qe],U.push(qe),ce=!0}}this._sourceTilesOverlap[m.id]=ce}_setupProxiedCoordsForImageSource(m,T,N){if(!m.getSource().loaded())return;const U=this.proxiedCoords[m.id]=[],X=this.proxyCoords,ce=m.getSource(),ge=new x.pointGeometry(ce.tileID.x,ce.tileID.y)._div(1<<ce.tileID.z),we=ce.coordinates.map(x.MercatorCoordinate.fromLngLat).reduce((Ue,qe)=>(Ue.min.x=Math.min(Ue.min.x,qe.x-ge.x),Ue.min.y=Math.min(Ue.min.y,qe.y-ge.y),Ue.max.x=Math.max(Ue.max.x,qe.x-ge.x),Ue.max.y=Math.max(Ue.max.y,qe.y-ge.y),Ue),{min:new x.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new x.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),be=(Ue,qe)=>{const Qe=Ue.wrap+Ue.canonical.x/(1<<Ue.canonical.z),Ke=Ue.canonical.y/(1<<Ue.canonical.z),pt=x.EXTENT/(1<<Ue.canonical.z),xt=qe.wrap+qe.canonical.x/(1<<qe.canonical.z),Nt=qe.canonical.y/(1<<qe.canonical.z);return Qe+pt<xt+we.min.x||Qe>xt+we.max.x||Ke+pt<Nt+we.min.y||Ke>Nt+we.max.y};for(let Ue=0;Ue<X.length;Ue++){const qe=X[Ue];for(let Qe=0;Qe<T.length;Qe++){const Ke=m.getTile(T[Qe]);if(!Ke||!Ke.hasData()||be(qe,Ke.tileID))continue;const pt=this._createProxiedId(qe,Ke,N[qe.key]&&N[qe.key][m.id]),xt=this.proxyToSource[qe.key][m.id];xt?xt.push(pt):this.proxyToSource[qe.key][m.id]=[pt],U.push(pt)}}}_createProxiedId(m,T,N){let U=this.orthoMatrix;if(N){const X=N.find(ce=>ce.key===T.tileID.key);if(X)return X}if(T.tileID.key!==m.key){const X=m.canonical.z-T.tileID.canonical.z;let ce,ge,we;U=x.create$1();const be=T.tileID.wrap-m.wrap<<m.overscaledZ;X>0?(ce=x.EXTENT>>X,ge=ce*((T.tileID.canonical.x<<X)-m.canonical.x+be),we=ce*((T.tileID.canonical.y<<X)-m.canonical.y)):(ce=x.EXTENT<<-X,ge=x.EXTENT*(T.tileID.canonical.x-(m.canonical.x+be<<-X)),we=x.EXTENT*(T.tileID.canonical.y-(m.canonical.y<<-X))),x.ortho(U,0,ce,0,ce,0,1),x.translate(U,U,[ge,we,0])}return new lr(T.tileID,m.key,U)}_findTileCoveringTileID(m,T){let N=T.getTile(m);if(N&&N.hasData())return N;const U=this._findCoveringTileCache[T.id],X=U[m.key];if(N=X?T.getTileByID(X):null,N&&N.hasData()||null===X)return N;let ce=N?N.tileID:m,ge=ce.overscaledZ;const we=T.getSource().minzoom,be=[];if(!X){const qe=T.getSource().maxzoom;if(m.canonical.z>=qe){const Qe=m.canonical.z-qe;T.getSource().reparseOverscaled?(ge=Math.max(m.canonical.z+2,T.transform.tileZoom),ce=new x.OverscaledTileID(ge,m.wrap,qe,m.canonical.x>>Qe,m.canonical.y>>Qe)):0!==Qe&&(ge=qe,ce=new x.OverscaledTileID(ge,m.wrap,qe,m.canonical.x>>Qe,m.canonical.y>>Qe))}ce.key!==m.key&&(be.push(ce.key),N=T.getTile(ce))}const Ue=qe=>{be.forEach(Qe=>{U[Qe]=qe}),be.length=0};for(ge-=1;ge>=we&&(!N||!N.hasData());ge--){N&&Ue(N.tileID.key);const qe=ce.calculateScaledKey(ge);if(N=T.getTileByID(qe),N&&N.hasData())break;const Qe=U[qe];if(null===Qe)break;void 0===Qe?be.push(qe):N=T.getTileByID(Qe)}return Ue(N?N.tileID.key:null),N&&N.hasData()?N:null}findDEMTileFor(m){return this.enabled?this._findTileCoveringTileID(m,this.sourceCache):null}prepareDrawTile(m){this.renderedToTile=!0}_clearRenderCacheForTile(m,T){let N=this._tilesDirty[m];N||(N=this._tilesDirty[m]={}),N[T.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const m=function(T){let N,U,X;const ce=new x.StructArrayLayout2ui4;for(U=1;U<129;U++){for(N=1;N<129;N++)X=131*U+N,ce.emplaceBack(X,X+1),ce.emplaceBack(X,X+131),ce.emplaceBack(X+1,X+131),128===U&&ce.emplaceBack(X+131,X+131+1);ce.emplaceBack(X+1,X+1+131)}return ce}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(m),this.wireframeSegments=x.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,m.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function _r(R){const m=[];for(let T=0;T<R.length;T++){if(null===R[T])continue;const N=R[T].split(" ");m.push(N.pop())}return m}class Ep{static cacheKey(m,T,N){let U=`${m}${N?N.cacheKey:""}`;for(const X of T)U+=`/${X}`;return U}constructor(m,T,N,U,X,ce){const ge=m.gl;this.program=ge.createProgram();const we=_r(N.staticAttributes),be=U?U.getBinderAttributes():[],Ue=we.concat(be),qe=N.staticUniforms?_r(N.staticUniforms):[],Qe=U?U.getBinderUniforms():[],Ke=qe.concat(Qe),pt=[];for(const St of Ke)pt.indexOf(St)<0&&pt.push(St);let xt=U?U.defines():[];xt=xt.concat(ce.map(St=>`#define ${St}`));const Nt=xt.concat(Jl.fragmentSource,uh,$i.fragmentSource,N.fragmentSource).join("\n"),lt=xt.concat(Jl.vertexSource,uh,$i.vertexSource,Us.vertexSource,N.vertexSource).join("\n"),wt=ge.createShader(ge.FRAGMENT_SHADER);if(ge.isContextLost())return void(this.failedToCreate=!0);ge.shaderSource(wt,Nt),ge.compileShader(wt),ge.attachShader(this.program,wt);const Tt=ge.createShader(ge.VERTEX_SHADER);if(ge.isContextLost())return void(this.failedToCreate=!0);ge.shaderSource(Tt,lt),ge.compileShader(Tt),ge.attachShader(this.program,Tt),this.attributes={};const Ut={};this.numAttributes=Ue.length;for(let St=0;St<this.numAttributes;St++)Ue[St]&&(ge.bindAttribLocation(this.program,St,Ue[St]),this.attributes[Ue[St]]=St);ge.linkProgram(this.program),ge.deleteShader(Tt),ge.deleteShader(wt);for(let St=0;St<pt.length;St++){const At=pt[St];if(At&&!Ut[At]){const Sn=ge.getUniformLocation(this.program,At);Sn&&(Ut[At]=Sn)}}var St,At;this.fixedUniforms=X(m,Ut),this.binderUniforms=U?U.getUniforms(m,Ut):[],-1!==ce.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new x.Uniform1i(St=m,(At=Ut).u_dem),u_dem_prev:new x.Uniform1i(St,At.u_dem_prev),u_dem_unpack:new x.Uniform4f(St,At.u_dem_unpack),u_dem_tl:new x.Uniform2f(St,At.u_dem_tl),u_dem_scale:new x.Uniform1f(St,At.u_dem_scale),u_dem_tl_prev:new x.Uniform2f(St,At.u_dem_tl_prev),u_dem_scale_prev:new x.Uniform1f(St,At.u_dem_scale_prev),u_dem_size:new x.Uniform1f(St,At.u_dem_size),u_dem_lerp:new x.Uniform1f(St,At.u_dem_lerp),u_exaggeration:new x.Uniform1f(St,At.u_exaggeration),u_depth:new x.Uniform1i(St,At.u_depth),u_depth_size_inv:new x.Uniform2f(St,At.u_depth_size_inv),u_meter_to_dem:new x.Uniform1f(St,At.u_meter_to_dem),u_label_plane_matrix_inv:new x.UniformMatrix4f(St,At.u_label_plane_matrix_inv)}),-1!==ce.indexOf("FOG")&&(this.fogUniforms=((St,At)=>({u_fog_matrix:new x.UniformMatrix4f(St,At.u_fog_matrix),u_fog_range:new x.Uniform2f(St,At.u_fog_range),u_fog_color:new x.Uniform4f(St,At.u_fog_color),u_fog_horizon_blend:new x.Uniform1f(St,At.u_fog_horizon_blend),u_fog_temporal_offset:new x.Uniform1f(St,At.u_fog_temporal_offset)}))(m,Ut))}setTerrainUniformValues(m,T){if(!this.terrainUniforms)return;const N=this.terrainUniforms;if(!this.failedToCreate){m.program.set(this.program);for(const U in T)N[U].set(T[U])}}setFogUniformValues(m,T){if(!this.fogUniforms)return;const N=this.fogUniforms;if(!this.failedToCreate){m.program.set(this.program);for(const U in T)N[U].location&&N[U].set(T[U])}}draw(m,T,N,U,X,ce,ge,we,be,Ue,qe,Qe,Ke,pt,xt,Nt){const lt=m.gl;if(this.failedToCreate)return;m.program.set(this.program),m.setDepthMode(N),m.setStencilMode(U),m.setColorMode(X),m.setCullFace(ce);for(const Tt in this.fixedUniforms)this.fixedUniforms[Tt].set(ge[Tt]);pt&&pt.setUniforms(m,this.binderUniforms,Qe,{zoom:Ke});const wt={[lt.LINES]:2,[lt.TRIANGLES]:3,[lt.LINE_STRIP]:1}[T];for(const Tt of qe.get()){const Ut=Tt.vaos||(Tt.vaos={});(Ut[we]||(Ut[we]=new dh)).bind(m,this,be,pt?pt.getPaintVertexBuffers():[],Ue,Tt.vertexOffset,xt,Nt),lt.drawElements(T,Tt.primitiveLength*wt,lt.UNSIGNED_SHORT,Tt.primitiveOffset*wt*2)}}}function os(R,m,T){const N=1/li(T,1,m.transform.tileZoom),U=Math.pow(2,T.tileID.overscaledZ),X=T.tileSize*Math.pow(2,m.transform.tileZoom)/U,ce=X*(T.tileID.canonical.x+T.tileID.wrap*U),ge=X*T.tileID.canonical.y;return{u_image:0,u_texsize:T.imageAtlasTexture.size,u_scale:[N,R.fromScale,R.toScale],u_fade:R.t,u_pixel_coord_upper:[ce>>16,ge>>16],u_pixel_coord_lower:[65535&ce,65535&ge]}}const $u=(R,m,T,N)=>{const U=m.style.light,X=U.properties.get("position"),ce=[X.x,X.y,X.z],ge=x.create$2();"viewport"===U.properties.get("anchor")&&(x.fromRotation(ge,-m.transform.angle),x.transformMat3(ce,ce,ge));const we=U.properties.get("color");return{u_matrix:R,u_lightpos:ce,u_lightintensity:U.properties.get("intensity"),u_lightcolor:[we.r,we.g,we.b],u_vertical_gradient:+T,u_opacity:N}},Nl=(R,m,T,N,U,X,ce)=>x.extend($u(R,m,T,N),os(X,m,ce),{u_height_factor:-Math.pow(2,U.overscaledZ)/ce.tileSize/8}),Kl=R=>({u_matrix:R}),Ia=(R,m,T,N)=>x.extend(Kl(R),os(T,m,N)),al=(R,m)=>({u_matrix:R,u_world:m}),hs=(R,m,T,N,U)=>x.extend(Ia(R,m,T,N),{u_world:U}),ra=(R,m,T,N)=>{const U=R.transform;let X;if("map"===N.paint.get("circle-pitch-alignment")){const ce=li(T,1,U.zoom);X=[ce,ce]}else X=U.pixelsToGLUnits;return{u_camera_to_center_distance:U.cameraToCenterDistance,u_matrix:R.translatePosMatrix(m.projMatrix,T,N.paint.get("circle-translate"),N.paint.get("circle-translate-anchor")),u_device_pixel_ratio:x.exported.devicePixelRatio,u_extrude_scale:X}},hh=R=>{const m=[];return"map"===R.paint.get("circle-pitch-alignment")&&m.push("PITCH_WITH_MAP"),"map"===R.paint.get("circle-pitch-scale")&&m.push("SCALE_WITH_MAP"),m},Mu=(R,m,T)=>{const N=x.EXTENT/T.tileSize;return{u_matrix:R,u_camera_to_center_distance:m.cameraToCenterDistance,u_extrude_scale:[m.pixelsToGLUnits[0]/N,m.pixelsToGLUnits[1]/N]}},zl=(R,m,T=1)=>({u_matrix:R,u_color:m,u_overlay:0,u_overlay_scale:T}),Hh=(R,m,T,N)=>({u_matrix:R,u_extrude_scale:li(m,1,T),u_intensity:N}),vc=(R,m,T,N)=>{const U=R.transform;return{u_matrix:Tu(R,m,T,N),u_ratio:1/li(m,1,U.zoom),u_device_pixel_ratio:x.exported.devicePixelRatio,u_units_to_pixels:[1/U.pixelsToGLUnits[0],1/U.pixelsToGLUnits[1]]}},sr=(R,m,T,N,U)=>x.extend(vc(R,m,T,N),{u_image:0,u_image_height:U}),Qu=(R,m,T,N,U)=>{const X=R.transform,ce=bc(m,X);return{u_matrix:Tu(R,m,T,U),u_texsize:m.imageAtlasTexture.size,u_ratio:1/li(m,1,X.zoom),u_device_pixel_ratio:x.exported.devicePixelRatio,u_image:0,u_scale:[ce,N.fromScale,N.toScale],u_fade:N.t,u_units_to_pixels:[1/X.pixelsToGLUnits[0],1/X.pixelsToGLUnits[1]]}},Ed=(R,m,T,N,U)=>{const X=bc(m,R.transform);return x.extend(vc(R,m,T,U),{u_texsize:m.lineAtlasTexture.size,u_scale:[X,N.fromScale,N.toScale],u_image:0,u_mix:N.t})};function bc(R,m){return 1/li(R,1,m.tileZoom)}function Tu(R,m,T,N){return R.translatePosMatrix(N||m.tileID.projMatrix,m,T.paint.get("line-translate"),T.paint.get("line-translate-anchor"))}const nf=(R,m,T,N,U)=>{return{u_matrix:R,u_tl_parent:m,u_scale_parent:T,u_buffer_scale:1,u_fade_t:N.mix,u_opacity:N.opacity*U.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:U.paint.get("raster-brightness-min"),u_brightness_high:U.paint.get("raster-brightness-max"),u_saturation_factor:(ce=U.paint.get("raster-saturation"),ce>0?1-1/(1.001-ce):-ce),u_contrast_factor:(X=U.paint.get("raster-contrast"),X>0?1/(1-X):1+X),u_spin_weights:au(U.paint.get("raster-hue-rotate"))};var X,ce};function au(R){R*=Math.PI/180;const m=Math.sin(R),T=Math.cos(R);return[(2*T+1)/3,(-Math.sqrt(3)*m-T+1)/3,(Math.sqrt(3)*m-T+1)/3]}const Ju=(R,m,T,N,U,X,ce,ge,we,be)=>{const Ue=U.transform;return{u_is_size_zoom_constant:+("constant"===R||"source"===R),u_is_size_feature_constant:+("constant"===R||"camera"===R),u_size_t:m?m.uSizeT:0,u_size:m?m.uSize:0,u_camera_to_center_distance:Ue.cameraToCenterDistance,u_pitch:Ue.pitch/360*2*Math.PI,u_rotate_symbol:+T,u_aspect_ratio:Ue.width/Ue.height,u_fade_change:U.options.fadeDuration?U.symbolFadeChange:1,u_matrix:X,u_label_plane_matrix:ce,u_coord_matrix:ge,u_is_text:+we,u_pitch_with_map:+N,u_texsize:be,u_texture:0}},$n=(R,m,T,N,U,X,ce,ge,we,be,Ue)=>{const{cameraToCenterDistance:qe,_pitch:Qe}=U.transform;return x.extend(Ju(R,m,T,N,U,X,ce,ge,we,be),{u_gamma_scale:N?qe*Math.cos(U.terrain?0:Qe):1,u_device_pixel_ratio:x.exported.devicePixelRatio,u_is_halo:+Ue})},_s=(R,m,T,N,U,X,ce,ge,we,be)=>x.extend($n(R,m,T,N,U,X,ce,ge,!0,we,!0),{u_texsize_icon:be,u_texture_icon:1}),Vh=(R,m,T)=>({u_matrix:R,u_opacity:m,u_color:T}),Do=(R,m,T,N,U,X)=>x.extend(function(ce,ge,we,be){const Ue=we.imageManager.getPattern(ce.from.toString()),qe=we.imageManager.getPattern(ce.to.toString()),{width:Qe,height:Ke}=we.imageManager.getPixelSize(),pt=Math.pow(2,be.tileID.overscaledZ),xt=be.tileSize*Math.pow(2,we.transform.tileZoom)/pt,Nt=xt*(be.tileID.canonical.x+be.tileID.wrap*pt),lt=xt*be.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ue.tl,u_pattern_br_a:Ue.br,u_pattern_tl_b:qe.tl,u_pattern_br_b:qe.br,u_texsize:[Qe,Ke],u_mix:ge.t,u_pattern_size_a:Ue.displaySize,u_pattern_size_b:qe.displaySize,u_scale_a:ge.fromScale,u_scale_b:ge.toScale,u_tile_units_to_pixels:1/li(be,1,we.transform.tileZoom),u_pixel_coord_upper:[Nt>>16,lt>>16],u_pixel_coord_lower:[65535&Nt,65535&lt]}}(N,X,T,U),{u_matrix:R,u_opacity:m}),Dd={fillExtrusion:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_lightpos:new x.Uniform3f(R,m.u_lightpos),u_lightintensity:new x.Uniform1f(R,m.u_lightintensity),u_lightcolor:new x.Uniform3f(R,m.u_lightcolor),u_vertical_gradient:new x.Uniform1f(R,m.u_vertical_gradient),u_opacity:new x.Uniform1f(R,m.u_opacity)}),fillExtrusionPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_lightpos:new x.Uniform3f(R,m.u_lightpos),u_lightintensity:new x.Uniform1f(R,m.u_lightintensity),u_lightcolor:new x.Uniform3f(R,m.u_lightcolor),u_vertical_gradient:new x.Uniform1f(R,m.u_vertical_gradient),u_height_factor:new x.Uniform1f(R,m.u_height_factor),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade),u_opacity:new x.Uniform1f(R,m.u_opacity)}),fill:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),fillPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),fillOutline:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_world:new x.Uniform2f(R,m.u_world)}),fillOutlinePattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_world:new x.Uniform2f(R,m.u_world),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),circle:(R,m)=>({u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_extrude_scale:new x.Uniform2f(R,m.u_extrude_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),collisionBox:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_extrude_scale:new x.Uniform2f(R,m.u_extrude_scale)}),collisionCircle:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_inv_matrix:new x.UniformMatrix4f(R,m.u_inv_matrix),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_viewport_size:new x.Uniform2f(R,m.u_viewport_size)}),debug:(R,m)=>({u_color:new x.UniformColor(R,m.u_color),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_overlay:new x.Uniform1i(R,m.u_overlay),u_overlay_scale:new x.Uniform1f(R,m.u_overlay_scale)}),clippingMask:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),heatmap:(R,m)=>({u_extrude_scale:new x.Uniform1f(R,m.u_extrude_scale),u_intensity:new x.Uniform1f(R,m.u_intensity),u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),heatmapTexture:(R,m)=>({u_image:new x.Uniform1i(R,m.u_image),u_color_ramp:new x.Uniform1i(R,m.u_color_ramp),u_opacity:new x.Uniform1f(R,m.u_opacity)}),hillshade:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_latrange:new x.Uniform2f(R,m.u_latrange),u_light:new x.Uniform2f(R,m.u_light),u_shadow:new x.UniformColor(R,m.u_shadow),u_highlight:new x.UniformColor(R,m.u_highlight),u_accent:new x.UniformColor(R,m.u_accent)}),hillshadePrepare:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_dimension:new x.Uniform2f(R,m.u_dimension),u_zoom:new x.Uniform1f(R,m.u_zoom),u_unpack:new x.Uniform4f(R,m.u_unpack)}),line:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels)}),lineGradient:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_image:new x.Uniform1i(R,m.u_image),u_image_height:new x.Uniform1f(R,m.u_image_height)}),linePattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_texsize:new x.Uniform2f(R,m.u_texsize),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_image:new x.Uniform1i(R,m.u_image),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),lineSDF:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_texsize:new x.Uniform2f(R,m.u_texsize),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_image:new x.Uniform1i(R,m.u_image),u_scale:new x.Uniform3f(R,m.u_scale),u_mix:new x.Uniform1f(R,m.u_mix)}),raster:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_tl_parent:new x.Uniform2f(R,m.u_tl_parent),u_scale_parent:new x.Uniform1f(R,m.u_scale_parent),u_buffer_scale:new x.Uniform1f(R,m.u_buffer_scale),u_fade_t:new x.Uniform1f(R,m.u_fade_t),u_opacity:new x.Uniform1f(R,m.u_opacity),u_image0:new x.Uniform1i(R,m.u_image0),u_image1:new x.Uniform1i(R,m.u_image1),u_brightness_low:new x.Uniform1f(R,m.u_brightness_low),u_brightness_high:new x.Uniform1f(R,m.u_brightness_high),u_saturation_factor:new x.Uniform1f(R,m.u_saturation_factor),u_contrast_factor:new x.Uniform1f(R,m.u_contrast_factor),u_spin_weights:new x.Uniform3f(R,m.u_spin_weights)}),symbolIcon:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texture:new x.Uniform1i(R,m.u_texture)}),symbolSDF:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texture:new x.Uniform1i(R,m.u_texture),u_gamma_scale:new x.Uniform1f(R,m.u_gamma_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_is_halo:new x.Uniform1i(R,m.u_is_halo)}),symbolTextAndIcon:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texsize_icon:new x.Uniform2f(R,m.u_texsize_icon),u_texture:new x.Uniform1i(R,m.u_texture),u_texture_icon:new x.Uniform1i(R,m.u_texture_icon),u_gamma_scale:new x.Uniform1f(R,m.u_gamma_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_is_halo:new x.Uniform1i(R,m.u_is_halo)}),background:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_opacity:new x.Uniform1f(R,m.u_opacity),u_color:new x.UniformColor(R,m.u_color)}),backgroundPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_opacity:new x.Uniform1f(R,m.u_opacity),u_image:new x.Uniform1i(R,m.u_image),u_pattern_tl_a:new x.Uniform2f(R,m.u_pattern_tl_a),u_pattern_br_a:new x.Uniform2f(R,m.u_pattern_br_a),u_pattern_tl_b:new x.Uniform2f(R,m.u_pattern_tl_b),u_pattern_br_b:new x.Uniform2f(R,m.u_pattern_br_b),u_texsize:new x.Uniform2f(R,m.u_texsize),u_mix:new x.Uniform1f(R,m.u_mix),u_pattern_size_a:new x.Uniform2f(R,m.u_pattern_size_a),u_pattern_size_b:new x.Uniform2f(R,m.u_pattern_size_b),u_scale_a:new x.Uniform1f(R,m.u_scale_a),u_scale_b:new x.Uniform1f(R,m.u_scale_b),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_tile_units_to_pixels:new x.Uniform1f(R,m.u_tile_units_to_pixels)}),terrainRaster:mi,terrainDepth:mi,skybox:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_sun_direction:new x.Uniform3f(R,m.u_sun_direction),u_cubemap:new x.Uniform1i(R,m.u_cubemap),u_opacity:new x.Uniform1f(R,m.u_opacity),u_temporal_offset:new x.Uniform1f(R,m.u_temporal_offset)}),skyboxGradient:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_color_ramp:new x.Uniform1i(R,m.u_color_ramp),u_center_direction:new x.Uniform3f(R,m.u_center_direction),u_radius:new x.Uniform1f(R,m.u_radius),u_opacity:new x.Uniform1f(R,m.u_opacity),u_temporal_offset:new x.Uniform1f(R,m.u_temporal_offset)}),skyboxCapture:(R,m)=>({u_matrix_3f:new x.UniformMatrix3f(R,m.u_matrix_3f),u_sun_direction:new x.Uniform3f(R,m.u_sun_direction),u_sun_intensity:new x.Uniform1f(R,m.u_sun_intensity),u_color_tint_r:new x.Uniform4f(R,m.u_color_tint_r),u_color_tint_m:new x.Uniform4f(R,m.u_color_tint_m),u_luminance:new x.Uniform1f(R,m.u_luminance)})};let ec;function La(R,m,T,N,U,X,ce){const ge=R.context,we=ge.gl,be=R.useProgram("collisionBox"),Ue=[];let qe=0,Qe=0;for(let Tt=0;Tt<N.length;Tt++){const Ut=N[Tt],St=m.getTile(Ut),At=St.getBucket(T);if(!At)continue;let Sn=Ut.projMatrix;0===U[0]&&0===U[1]||(Sn=R.translatePosMatrix(Ut.projMatrix,St,U,X));const An=ce?At.textCollisionBox:At.iconCollisionBox,Fn=At.collisionCircleArray;if(Fn.length>0){const Lt=x.create$1(),ii=Sn;x.mul$1(Lt,At.placementInvProjMatrix,R.transform.glCoordMatrix),x.mul$1(Lt,Lt,At.placementViewportMatrix),Ue.push({circleArray:Fn,circleOffset:Qe,transform:ii,invTransform:Lt}),qe+=Fn.length/4,Qe=qe}An&&(R.terrain&&R.terrain.setupElevationDraw(St,be),be.draw(ge,we.LINES,x.DepthMode.disabled,x.StencilMode.disabled,R.colorModeForRenderPass(),x.CullFaceMode.disabled,Mu(Sn,R.transform,St),T.id,An.layoutVertexBuffer,An.indexBuffer,An.segments,null,R.transform.zoom,null,An.collisionVertexBuffer,An.collisionVertexBufferExt))}if(!ce||!Ue.length)return;const Ke=R.useProgram("collisionCircle"),pt=new x.StructArrayLayout2f1f2i16;pt.resize(4*qe),pt._trim();let xt=0;for(const Tt of Ue)for(let Ut=0;Ut<Tt.circleArray.length/4;Ut++){const St=4*Ut,At=Tt.circleArray[St+0],Sn=Tt.circleArray[St+1],An=Tt.circleArray[St+2],Fn=Tt.circleArray[St+3];pt.emplace(xt++,At,Sn,An,Fn,0),pt.emplace(xt++,At,Sn,An,Fn,1),pt.emplace(xt++,At,Sn,An,Fn,2),pt.emplace(xt++,At,Sn,An,Fn,3)}(!ec||ec.length<2*qe)&&(ec=function(Tt){const Ut=2*Tt,St=new x.StructArrayLayout3ui6;St.resize(Ut),St._trim();for(let At=0;At<Ut;At++){const Sn=6*At;St.uint16[Sn+0]=4*At+0,St.uint16[Sn+1]=4*At+1,St.uint16[Sn+2]=4*At+2,St.uint16[Sn+3]=4*At+2,St.uint16[Sn+4]=4*At+3,St.uint16[Sn+5]=4*At+0}return St}(qe));const Nt=ge.createIndexBuffer(ec,!0),lt=ge.createVertexBuffer(pt,x.collisionCircleLayout.members,!0);for(const Tt of Ue){const Ut={u_matrix:Tt.transform,u_inv_matrix:Tt.invTransform,u_camera_to_center_distance:(wt=R.transform).cameraToCenterDistance,u_viewport_size:[wt.width,wt.height]};Ke.draw(ge,we.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,R.colorModeForRenderPass(),x.CullFaceMode.disabled,Ut,T.id,lt,Nt,x.SegmentVector.simpleSegment(0,2*Tt.circleOffset,Tt.circleArray.length,Tt.circleArray.length/2),null,R.transform.zoom,null,null,null)}var wt;lt.destroy(),Nt.destroy()}const Io=x.identity(new Float32Array(16));function js(R,m,T,N,U,X){const{horizontalAlign:ce,verticalAlign:ge}=x.getAnchorAlignment(R),we=-(ce-.5)*m,be=-(ge-.5)*T,Ue=x.evaluateVariableOffset(R,N);return new x.pointGeometry((we/U+Ue[0])*X,(be/U+Ue[1])*X)}function Uh(R,m,T,N,U,X,ce,ge,we,be,Ue,qe){const Qe=R.text.placedSymbolArray,Ke=R.text.dynamicLayoutVertexArray,pt=R.icon.dynamicLayoutVertexArray,xt={};Ke.clear();for(let Nt=0;Nt<Qe.length;Nt++){const lt=Qe.get(Nt),wt=R.allowVerticalPlacement&&!lt.placedOrientation,Tt=lt.hidden||!lt.crossTileID||wt?null:N[lt.crossTileID];if(Tt){const Ut=new x.pointGeometry(lt.anchorX,lt.anchorY),St=qe(Ut),At=Be(Ut,T?ge:ce,St),Sn=Ge(X.cameraToCenterDistance,At.signedDistanceFromCamera);let An=U.evaluateSizeForFeature(R.textSizeData,be,lt)*Sn/x.ONE_EM;T&&(An*=R.tilePixelRatio/we);const{width:Fn,height:Lt,anchor:ii,textOffset:Bn,textScale:ci}=Tt,ti=js(ii,Fn,Lt,Bn,ci,An),Xn=T?Be(Ut.add(ti),ce,St).point:At.point.add(m?ti.rotate(-X.angle):ti),yr=R.allowVerticalPlacement&&lt.placedOrientation===x.WritingMode.vertical?Math.PI/2:0;for(let Ri=0;Ri<lt.numGlyphs;Ri++)x.addDynamicAttributes(Ke,Xn,yr);Ue&&lt.associatedIconIndex>=0&&(xt[lt.associatedIconIndex]={shiftedAnchor:Xn,angle:yr})}else $t(lt.numGlyphs,Ke)}if(Ue){pt.clear();const Nt=R.icon.placedSymbolArray;for(let lt=0;lt<Nt.length;lt++){const wt=Nt.get(lt);if(wt.hidden)$t(wt.numGlyphs,pt);else{const Tt=xt[lt];if(Tt)for(let Ut=0;Ut<wt.numGlyphs;Ut++)x.addDynamicAttributes(pt,Tt.shiftedAnchor,Tt.angle);else $t(wt.numGlyphs,pt)}}R.icon.dynamicLayoutVertexBuffer.updateData(pt)}R.text.dynamicLayoutVertexBuffer.updateData(Ke)}function Dp(R,m,T){return T.iconsInText&&m?"symbolTextAndIcon":R?"symbolSDF":"symbolIcon"}function ll(R,m,T,N,U,X,ce,ge,we,be,Ue,qe){const Qe=R.context,Ke=Qe.gl,pt=R.transform,xt="map"===ge,Nt="map"===we,lt=xt&&"point"!==T.layout.get("symbol-placement"),wt=xt&&!Nt&&!lt,Tt=void 0!==T.layout.get("symbol-sort-key").constantOr(1);let Ut=!1;const St=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),At=T.layout.get("text-variable-anchor"),Sn=[],An=R.terrain&&Nt?["PITCH_WITH_MAP_TERRAIN"]:null;for(const Fn of N){const Lt=m.getTile(Fn),ii=Lt.getBucket(T);if(!ii)continue;const Bn=U?ii.text:ii.icon;if(!Bn||!Bn.segments.get().length)continue;const ci=Bn.programConfigurations.get(T.id),ti=U||ii.sdfIcons,Xn=U?ii.textSizeData:ii.iconSizeData,yr=Nt||0!==pt.pitch,Ri=R.useProgram(Dp(ti,U,ii),ci,An),ns=x.evaluateSizeForZoom(Xn,pt.zoom);let ps,bs,Mr,Es,ao=[0,0],Hl=null;if(U){if(bs=Lt.glyphAtlasTexture,Mr=Ke.LINEAR,ps=Lt.glyphAtlasTexture.size,ii.iconsInText){ao=Lt.imageAtlasTexture.size,Hl=Lt.imageAtlasTexture;const bl="composite"===Xn.kind||"camera"===Xn.kind;Es=yr||R.options.rotating||R.options.zooming||bl?Ke.LINEAR:Ke.NEAREST}}else{const bl=1!==T.layout.get("icon-size").constantOr(0)||ii.iconsNeedLinear;bs=Lt.imageAtlasTexture,Mr=ti||R.options.rotating||R.options.zooming||bl||yr?Ke.LINEAR:Ke.NEAREST,ps=Lt.imageAtlasTexture.size}const Ya=li(Lt,1,R.transform.zoom),ys=Ie(Fn.projMatrix,Nt,xt,R.transform,Ya),Ko=R.terrain&&Nt&&lt?x.invert(new Float32Array(16),ys):Io,vl=Pe(Fn.projMatrix,Nt,xt,R.transform,Ya),Vi=At&&ii.hasTextData(),Gs="none"!==T.layout.get("icon-text-fit")&&Vi&&ii.hasIconData();if(lt){const bl=pt.elevation;bt(ii,Fn.projMatrix,R,U,ys,vl,Nt,be,bl?jo=>bl.getAtTileOffset(Fn,jo.x,jo.y):null)}const is=R.translatePosMatrix(Fn.projMatrix,Lt,X,ce),Os=lt||U&&At||Gs?Io:ys,xo=R.translatePosMatrix(vl,Lt,X,ce,!0),$r=ti&&0!==T.paint.get(U?"text-halo-width":"icon-halo-width").constantOr(1);let ul;ul=ti?ii.iconsInText?_s(Xn.kind,ns,wt,Nt,R,is,Os,xo,ps,ao):$n(Xn.kind,ns,wt,Nt,R,is,Os,xo,U,ps,!0):Ju(Xn.kind,ns,wt,Nt,R,is,Os,xo,U,ps);const dl={program:Ri,buffers:Bn,uniformValues:ul,atlasTexture:bs,atlasTextureIcon:Hl,atlasInterpolation:Mr,atlasInterpolationIcon:Es,isSDF:ti,hasHalo:$r,tile:Lt,labelPlaneMatrixInv:Ko};if(Tt&&ii.canOverlap){Ut=!0;const bl=Bn.segments.get();for(const jo of bl)Sn.push({segments:new x.SegmentVector([jo]),sortKey:jo.sortKey,state:dl})}else Sn.push({segments:Bn.segments,sortKey:0,state:dl})}Ut&&Sn.sort((Fn,Lt)=>Fn.sortKey-Lt.sortKey);for(const Fn of Sn){const Lt=Fn.state;if(R.terrain&&R.terrain.setupElevationDraw(Lt.tile,Lt.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:Lt.labelPlaneMatrixInv}),Qe.activeTexture.set(Ke.TEXTURE0),Lt.atlasTexture.bind(Lt.atlasInterpolation,Ke.CLAMP_TO_EDGE),Lt.atlasTextureIcon&&(Qe.activeTexture.set(Ke.TEXTURE1),Lt.atlasTextureIcon&&Lt.atlasTextureIcon.bind(Lt.atlasInterpolationIcon,Ke.CLAMP_TO_EDGE)),Lt.isSDF){const ii=Lt.uniformValues;Lt.hasHalo&&(ii.u_is_halo=1,Gc(Lt.buffers,Fn.segments,T,R,Lt.program,St,Ue,qe,ii)),ii.u_is_halo=0}Gc(Lt.buffers,Fn.segments,T,R,Lt.program,St,Ue,qe,Lt.uniformValues)}}function Gc(R,m,T,N,U,X,ce,ge,we){const be=N.context;U.draw(be,be.gl.TRIANGLES,X,ce,ge,x.CullFaceMode.disabled,we,T.id,R.layoutVertexBuffer,R.indexBuffer,m,T.paint,N.transform.zoom,R.programConfigurations.get(T.id),R.dynamicLayoutVertexBuffer,R.opacityVertexBuffer)}function bo(R,m,T,N,U,X,ce){const ge=R.context.gl,we=T.paint.get("fill-pattern"),be=we&&we.constantOr(1),Ue=T.getCrossfadeParameters();let qe,Qe,Ke,pt,xt;ce?(Qe=be&&!T.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",qe=ge.LINES):(Qe=be?"fillPattern":"fill",qe=ge.TRIANGLES);for(const Nt of N){const lt=m.getTile(Nt);if(be&&!lt.patternsLoaded())continue;const wt=lt.getBucket(T);if(!wt)continue;R.prepareDrawTile(Nt);const Tt=wt.programConfigurations.get(T.id),Ut=R.useProgram(Qe,Tt);be&&(R.context.activeTexture.set(ge.TEXTURE0),lt.imageAtlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Tt.updatePaintBuffers(Ue));const St=we.constantOr(null);if(St&&lt.imageAtlas){const Sn=lt.imageAtlas,An=Sn.patternPositions[St.to.toString()],Fn=Sn.patternPositions[St.from.toString()];An&&Fn&&Tt.setConstantPatternPositions(An,Fn)}const At=R.translatePosMatrix(Nt.projMatrix,lt,T.paint.get("fill-translate"),T.paint.get("fill-translate-anchor"));if(ce){pt=wt.indexBuffer2,xt=wt.segments2;const Sn=R.terrain&&R.terrain.renderingToTexture?R.terrain.drapeBufferSize:[ge.drawingBufferWidth,ge.drawingBufferHeight];Ke="fillOutlinePattern"===Qe&&be?hs(At,R,Ue,lt,Sn):al(At,Sn)}else pt=wt.indexBuffer,xt=wt.segments,Ke=be?Ia(At,R,Ue,lt):Kl(At);R.prepareDrawProgram(R.context,Ut,Nt.toUnwrapped()),Ut.draw(R.context,qe,U,R.stencilModeForClipping(Nt),X,x.CullFaceMode.disabled,Ke,T.id,wt.layoutVertexBuffer,pt,xt,T.paint,R.transform.zoom,Tt)}}function pa(R,m,T,N,U,X,ce){const ge=R.context,we=ge.gl,be=T.paint.get("fill-extrusion-pattern"),Ue=be.constantOr(1),qe=T.getCrossfadeParameters(),Qe=T.paint.get("fill-extrusion-opacity");for(const Ke of N){const pt=m.getTile(Ke),xt=pt.getBucket(T);if(!xt)continue;const Nt=xt.programConfigurations.get(T.id),lt=R.useProgram(Ue?"fillExtrusionPattern":"fillExtrusion",Nt);if(R.terrain){const At=R.terrain;if(!xt.enableTerrain)continue;if(At.setupElevationDraw(pt,lt,{useMeterToDem:!0}),ph(ge,m,Ke,xt,T,At),!xt.centroidVertexBuffer){const Sn=lt.attributes.a_centroid_pos;void 0!==Sn&&we.vertexAttrib2f(Sn,0,0)}}Ue&&(R.context.activeTexture.set(we.TEXTURE0),pt.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Nt.updatePaintBuffers(qe));const wt=be.constantOr(null);if(wt&&pt.imageAtlas){const At=pt.imageAtlas,Sn=At.patternPositions[wt.to.toString()],An=At.patternPositions[wt.from.toString()];Sn&&An&&Nt.setConstantPatternPositions(Sn,An)}const Tt=R.translatePosMatrix(Ke.projMatrix,pt,T.paint.get("fill-extrusion-translate"),T.paint.get("fill-extrusion-translate-anchor")),Ut=T.paint.get("fill-extrusion-vertical-gradient"),St=Ue?Nl(Tt,R,Ut,Qe,Ke,qe,pt):$u(Tt,R,Ut,Qe);R.prepareDrawProgram(ge,lt,Ke.toUnwrapped()),lt.draw(ge,ge.gl.TRIANGLES,U,X,ce,x.CullFaceMode.backCCW,St,T.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,T.paint,R.transform.zoom,Nt,R.terrain?xt.centroidVertexBuffer:null)}}function ph(R,m,T,N,U,X){const ce=[lt=>{let wt=lt.canonical.x-1,Tt=lt.wrap;return wt<0&&(wt=(1<<lt.canonical.z)-1,Tt--),new x.OverscaledTileID(lt.overscaledZ,Tt,lt.canonical.z,wt,lt.canonical.y)},lt=>{let wt=lt.canonical.x+1,Tt=lt.wrap;return wt===1<<lt.canonical.z&&(wt=0,Tt++),new x.OverscaledTileID(lt.overscaledZ,Tt,lt.canonical.z,wt,lt.canonical.y)},lt=>new x.OverscaledTileID(lt.overscaledZ,lt.wrap,lt.canonical.z,lt.canonical.x,(0===lt.canonical.y?1<<lt.canonical.z:lt.canonical.y)-1),lt=>new x.OverscaledTileID(lt.overscaledZ,lt.wrap,lt.canonical.z,lt.canonical.x,lt.canonical.y===(1<<lt.canonical.z)-1?0:lt.canonical.y+1)],ge=lt=>{const wt=m.getSource().maxzoom,Tt=Sn=>{const An=m.getTileByID(Sn);if(An&&An.hasData())return An.getBucket(U)};let Ut,St,At;return(lt.overscaledZ===lt.canonical.z||lt.overscaledZ>=wt)&&(Ut=Tt(lt.key)),lt.overscaledZ>=wt&&(St=Tt(lt.calculateScaledKey(lt.overscaledZ+1))),lt.overscaledZ>wt&&(At=Tt(lt.calculateScaledKey(lt.overscaledZ-1))),Ut||St||At},we=[0,0,0],be=(lt,wt)=>(we[0]=Math.min(lt.min.y,wt.min.y),we[1]=Math.max(lt.max.y,wt.max.y),we[2]=x.EXTENT-wt.min.x>lt.max.x?wt.min.x-x.EXTENT:lt.max.x,we),Ue=(lt,wt)=>(we[0]=Math.min(lt.min.x,wt.min.x),we[1]=Math.max(lt.max.x,wt.max.x),we[2]=x.EXTENT-wt.min.y>lt.max.y?wt.min.y-x.EXTENT:lt.max.y,we),qe=[(lt,wt)=>be(lt,wt),(lt,wt)=>be(wt,lt),(lt,wt)=>Ue(lt,wt),(lt,wt)=>Ue(wt,lt)],Qe=new x.pointGeometry(0,0);let Ke,pt,xt;const Nt=(lt,wt,Tt,Ut,St)=>{const At=[[Ut?Tt:lt,Ut?lt:Tt,0],[Ut?Tt:wt,Ut?wt:Tt,0]],Sn=St<0?x.EXTENT+St:St,An=[Ut?Sn:(lt+wt)/2,Ut?(lt+wt)/2:Sn,0];return 0===Tt&&St<0||0!==Tt&&St>0?X.getForTilePoints(xt,[An],!0,pt):At.push(An),X.getForTilePoints(T,At,!0,Ke),Math.max(At[0][2],At[1][2],An[2])/X.exaggeration()};for(let lt=0;lt<4;lt++){const wt=N.borders[lt];if(0===wt.length&&(N.borderDone[lt]=!0),N.borderDone[lt])continue;const Tt=xt=ce[lt](T),Ut=ge(Tt);if(!(Ut&&Ut.enableTerrain&&(pt=X.findDEMTileFor(Tt),pt&&pt.dem)))continue;if(!Ke){const An=X.findDEMTileFor(T);if(!An||!An.dem)return;Ke=An}const St=(lt<2?1:5)-lt,At=Ut.borders[St];let Sn=0;for(let An=0;An<wt.length;An++){const Fn=N.featuresOnBorder[wt[An]],Lt=Fn.borders[lt];let ii;for(;Sn<At.length&&(ii=Ut.featuresOnBorder[At[Sn]],!(ii.borders[St][1]>Lt[0]+3));)Ut.borderDone[St]||Ut.encodeCentroid(void 0,ii,!1),Sn++;if(ii&&Sn<At.length){const Bn=Sn;let ci=0;for(;!(ii.borders[St][0]>Lt[1]-3)&&(ci++,++Sn!==At.length);)ii=Ut.featuresOnBorder[At[Sn]];if(ii=Ut.featuresOnBorder[At[Bn]],Fn.intersectsCount()>1||ii.intersectsCount()>1||1!==ci){1!==ci&&(Sn=Bn),N.encodeCentroid(void 0,Fn,!1),Ut.borderDone[St]||Ut.encodeCentroid(void 0,ii,!1);continue}const ti=qe[lt](Fn,ii),Xn=lt%2?x.EXTENT-1:0;Qe.x=Nt(ti[0],Math.min(x.EXTENT-1,ti[1]),Xn,lt<2,ti[2]),Qe.y=0,N.encodeCentroid(Qe,Fn,!1),Ut.borderDone[St]||Ut.encodeCentroid(Qe,ii,!1)}else N.encodeCentroid(void 0,Fn,!1)}N.borderDone[lt]=N.needsCentroidUpdate=!0,Ut.borderDone[St]||(Ut.borderDone[St]=Ut.needsCentroidUpdate=!0)}(N.needsCentroidUpdate||!N.centroidVertexBuffer&&0!==N.centroidVertexArray.length)&&N.uploadCentroid(R)}const xc=new x.Color(1,0,0,1),br=new x.Color(0,1,0,1),rf=new x.Color(0,0,1,1),jh=new x.Color(1,0,1,1),Xu=new x.Color(0,1,1,1);function Su(R,m,T,N){wc(R,0,m+T/2,R.transform.width,T,N)}function $o(R,m,T,N){wc(R,m-T/2,0,T,R.transform.height,N)}function wc(R,m,T,N,U,X){const ce=R.context,ge=ce.gl;ge.enable(ge.SCISSOR_TEST),ge.scissor(m*x.exported.devicePixelRatio,T*x.exported.devicePixelRatio,N*x.exported.devicePixelRatio,U*x.exported.devicePixelRatio),ce.clear({color:X}),ge.disable(ge.SCISSOR_TEST)}function Zh(R,m,T){const N=R.context,U=N.gl,X=T.projMatrix,ce=R.useProgram("debug"),ge=m.getTileByID(T.key);R.terrain&&R.terrain.setupElevationDraw(ge,ce);const we=x.DepthMode.disabled,be=x.StencilMode.disabled,Ue=R.colorModeForRenderPass();N.activeTexture.set(U.TEXTURE0),R.emptyTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ce.draw(N,U.LINE_STRIP,we,be,Ue,x.CullFaceMode.disabled,zl(X,x.Color.red),"$debug",R.debugBuffer,R.tileBorderIndexBuffer,R.debugSegments);const Qe=ge.latestRawTileData,Ke=Math.floor((Qe&&Qe.byteLength||0)/1024),pt=m.getTile(T).tileSize,xt=512/Math.min(pt,512)*(T.overscaledZ/R.transform.zoom)*.5;let Nt=T.canonical.toString();T.overscaledZ!==T.canonical.z&&(Nt+=` => ${T.overscaledZ}`),function(lt,wt){lt.initDebugOverlayCanvas();const Tt=lt.debugOverlayCanvas,Ut=lt.context.gl,St=lt.debugOverlayCanvas.getContext("2d");St.clearRect(0,0,Tt.width,Tt.height),St.shadowColor="white",St.shadowBlur=2,St.lineWidth=1.5,St.strokeStyle="white",St.textBaseline="top",St.font="bold 36px Open Sans, sans-serif",St.fillText(wt,5,5),St.strokeText(wt,5,5),lt.debugOverlayTexture.update(Tt),lt.debugOverlayTexture.bind(Ut.LINEAR,Ut.CLAMP_TO_EDGE)}(R,`${Nt} ${Ke}kb`),ce.draw(N,U.TRIANGLES,we,be,x.ColorMode.alphaBlended,x.CullFaceMode.disabled,zl(X,x.Color.transparent,xt),"$debug",R.debugBuffer,R.quadTriangleIndexBuffer,R.debugSegments)}const ku=x.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:fh}=ku;function fa(R,m,T,N){R.emplaceBack(m,T,N)}class sa{constructor(m){this.vertexArray=new x.StructArrayLayout3f12,this.indices=new x.StructArrayLayout3ui6,fa(this.vertexArray,-1,-1,1),fa(this.vertexArray,1,-1,1),fa(this.vertexArray,-1,1,1),fa(this.vertexArray,1,1,1),fa(this.vertexArray,-1,-1,-1),fa(this.vertexArray,1,-1,-1),fa(this.vertexArray,-1,1,-1),fa(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=m.createVertexBuffer(this.vertexArray,fh),this.indexBuffer=m.createIndexBuffer(this.indices),this.segment=x.SegmentVector.simpleSegment(0,0,36,12)}}function Cc(R,m,T,N,U,X){const ce=R.gl,ge=m.paint.get("sky-atmosphere-color"),we=m.paint.get("sky-atmosphere-halo-color"),be=m.paint.get("sky-atmosphere-sun-intensity"),Ue={u_matrix_3f:x.fromMat4([],N),u_sun_direction:U,u_sun_intensity:be,u_color_tint_r:[(pt=ge).r,pt.g,pt.b,pt.a],u_color_tint_m:[(xt=we).r,xt.g,xt.b,xt.a],u_luminance:5e-5};var pt,xt;ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+X,m.skyboxTexture,0),T.draw(R,ce.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,x.ColorMode.unblended,x.CullFaceMode.frontCW,Ue,"skyboxCapture",m.skyboxGeometry.vertexBuffer,m.skyboxGeometry.indexBuffer,m.skyboxGeometry.segment)}const qc={symbol:function(R,m,T,N,U){if("translucent"!==R.renderPass)return;const X=x.StencilMode.disabled,ce=R.colorModeForRenderPass();T.layout.get("text-variable-anchor")&&function(ge,we,be,Ue,qe,Qe,Ke){const pt=we.transform,xt="map"===qe,Nt="map"===Qe;for(const lt of ge){const wt=Ue.getTile(lt),Tt=wt.getBucket(be);if(!Tt||!Tt.text||!Tt.text.segments.get().length)continue;const Ut=x.evaluateSizeForZoom(Tt.textSizeData,pt.zoom),St=li(wt,1,we.transform.zoom),At=Ie(lt.projMatrix,Nt,xt,we.transform,St),Sn="none"!==be.layout.get("icon-text-fit")&&Tt.hasIconData();if(Ut){const An=Math.pow(2,pt.zoom-wt.tileID.overscaledZ),Fn=pt.elevation;Uh(Tt,xt,Nt,Ke,x.symbolSize,pt,At,lt.projMatrix,An,Ut,Sn,Fn?Lt=>Fn.getAtTileOffset(lt,Lt.x,Lt.y):Lt=>0)}}}(N,R,T,m,T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),U),0!==T.paint.get("icon-opacity").constantOr(1)&&ll(R,m,T,N,!1,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),T.layout.get("icon-rotation-alignment"),T.layout.get("icon-pitch-alignment"),T.layout.get("icon-keep-upright"),X,ce),0!==T.paint.get("text-opacity").constantOr(1)&&ll(R,m,T,N,!0,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.layout.get("text-keep-upright"),X,ce),m.map.showCollisionBoxes&&(La(R,m,T,N,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),!0),La(R,m,T,N,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),!1))},circle:function(R,m,T,N){if("translucent"!==R.renderPass)return;const U=T.paint.get("circle-opacity"),X=T.paint.get("circle-stroke-width"),ce=T.paint.get("circle-stroke-opacity"),ge=void 0!==T.layout.get("circle-sort-key").constantOr(1);if(0===U.constantOr(1)&&(0===X.constantOr(1)||0===ce.constantOr(1)))return;const we=R.context,be=we.gl,Ue=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),qe=x.StencilMode.disabled,Qe=R.colorModeForRenderPass(),Ke=[];for(let pt=0;pt<N.length;pt++){const xt=N[pt],Nt=m.getTile(xt),lt=Nt.getBucket(T);if(!lt)continue;const wt=lt.programConfigurations.get(T.id),Tt=hh(T),Ut={programConfiguration:wt,program:R.useProgram("circle",wt,Tt),layoutVertexBuffer:lt.layoutVertexBuffer,indexBuffer:lt.indexBuffer,uniformValues:ra(R,xt,Nt,T),tile:Nt};if(ge){const St=lt.segments.get();for(const At of St)Ke.push({segments:new x.SegmentVector([At]),sortKey:At.sortKey,state:Ut})}else Ke.push({segments:lt.segments,sortKey:0,state:Ut})}ge&&Ke.sort((pt,xt)=>pt.sortKey-xt.sortKey);for(const pt of Ke){const{programConfiguration:xt,program:Nt,layoutVertexBuffer:lt,indexBuffer:wt,uniformValues:Tt,tile:Ut}=pt.state,St=pt.segments;R.terrain&&R.terrain.setupElevationDraw(Ut,Nt,{useDepthForOcclusion:!0}),R.prepareDrawProgram(we,Nt,Ut.tileID.toUnwrapped()),Nt.draw(we,be.TRIANGLES,Ue,qe,Qe,x.CullFaceMode.disabled,Tt,T.id,lt,wt,St,T.paint,R.transform.zoom,xt)}},heatmap:function(R,m,T,N){if(0!==T.paint.get("heatmap-opacity"))if("offscreen"===R.renderPass){const U=R.context,X=U.gl,ce=x.StencilMode.disabled,ge=new x.ColorMode([X.ONE,X.ONE],x.Color.transparent,[!0,!0,!0,!0]);(function(we,be,Ue){const qe=we.gl;we.activeTexture.set(qe.TEXTURE1),we.viewport.set([0,0,be.width/4,be.height/4]);let Qe=Ue.heatmapFbo;if(Qe)qe.bindTexture(qe.TEXTURE_2D,Qe.colorAttachment.get()),we.bindFramebuffer.set(Qe.framebuffer);else{const Ke=qe.createTexture();qe.bindTexture(qe.TEXTURE_2D,Ke),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_S,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_T,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MIN_FILTER,qe.LINEAR),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MAG_FILTER,qe.LINEAR),Qe=Ue.heatmapFbo=we.createFramebuffer(be.width/4,be.height/4,!1),function(pt,xt,Nt,lt){const wt=pt.gl;wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,xt.width/4,xt.height/4,0,wt.RGBA,pt.extRenderToTextureHalfFloat?pt.extTextureHalfFloat.HALF_FLOAT_OES:wt.UNSIGNED_BYTE,null),lt.colorAttachment.set(Nt)}(we,be,Ke,Qe)}})(U,R,T),U.clear({color:x.Color.transparent});for(let we=0;we<N.length;we++){const be=N[we];if(m.hasRenderableParent(be))continue;const Ue=m.getTile(be),qe=Ue.getBucket(T);if(!qe)continue;const Qe=qe.programConfigurations.get(T.id),Ke=R.useProgram("heatmap",Qe),{zoom:pt}=R.transform;R.terrain&&R.terrain.setupElevationDraw(Ue,Ke),R.prepareDrawProgram(U,Ke,be.toUnwrapped()),Ke.draw(U,X.TRIANGLES,x.DepthMode.disabled,ce,ge,x.CullFaceMode.disabled,Hh(be.projMatrix,Ue,pt,T.paint.get("heatmap-intensity")),T.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,T.paint,R.transform.zoom,Qe)}U.viewport.set([0,0,R.width,R.height])}else"translucent"===R.renderPass&&(R.context.setColorMode(R.colorModeForRenderPass()),function(U,X){const ce=U.context,ge=ce.gl,we=X.heatmapFbo;if(!we)return;ce.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,we.colorAttachment.get()),ce.activeTexture.set(ge.TEXTURE1);let be=X.colorRampTexture;be||(be=X.colorRampTexture=new x.Texture(ce,X.colorRamp,ge.RGBA)),be.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),U.useProgram("heatmapTexture").draw(ce,ge.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,U.colorModeForRenderPass(),x.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:X.paint.get("heatmap-opacity")},X.id,U.viewportBuffer,U.quadTriangleIndexBuffer,U.viewportSegments,X.paint,U.transform.zoom)}(R,T))},line:function(R,m,T,N){if("translucent"!==R.renderPass)return;const U=T.paint.get("line-opacity"),X=T.paint.get("line-width");if(0===U.constantOr(1)||0===X.constantOr(1))return;const ce=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),ge=R.colorModeForRenderPass(),we=T.paint.get("line-dasharray"),be=we.constantOr(1),Ue=T.layout.get("line-cap"),qe=T.paint.get("line-pattern"),Qe=qe.constantOr(1),Ke=T.paint.get("line-gradient"),pt=T.getCrossfadeParameters(),xt=Qe?"linePattern":be?"lineSDF":Ke?"lineGradient":"line",Nt=R.context,lt=Nt.gl;for(const wt of N){const Tt=m.getTile(wt);if(Qe&&!Tt.patternsLoaded())continue;const Ut=Tt.getBucket(T);if(!Ut)continue;R.prepareDrawTile(wt);const St=Ut.programConfigurations.get(T.id),At=R.useProgram(xt,St),Sn=qe.constantOr(null);if(Sn&&Tt.imageAtlas){const Bn=Tt.imageAtlas,ci=Bn.patternPositions[Sn.to.toString()],ti=Bn.patternPositions[Sn.from.toString()];ci&&ti&&St.setConstantPatternPositions(ci,ti)}const An=we.constantOr(null),Fn=Ue.constantOr(null);if(!Qe&&An&&Fn&&Tt.lineAtlas){const Bn=Tt.lineAtlas,ci=Bn.getDash(An.to,Fn),ti=Bn.getDash(An.from,Fn);ci&&ti&&St.setConstantPatternPositions(ci,ti)}const Lt=R.terrain?wt.projMatrix:null,ii=Qe?Qu(R,Tt,T,pt,Lt):be?Ed(R,Tt,T,pt,Lt):Ke?sr(R,Tt,T,Lt,Ut.lineClipsArray.length):vc(R,Tt,T,Lt);if(Qe)Nt.activeTexture.set(lt.TEXTURE0),Tt.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),St.updatePaintBuffers(pt);else if(be)Nt.activeTexture.set(lt.TEXTURE0),Tt.lineAtlasTexture.bind(lt.LINEAR,lt.REPEAT),St.updatePaintBuffers(pt);else if(Ke){const Bn=Ut.gradients[T.id];let ci=Bn.texture;if(T.gradientVersion!==Bn.version){let ti=256;if(T.stepInterpolant){const Xn=m.getSource().maxzoom,yr=wt.canonical.z===Xn?Math.ceil(1<<R.transform.maxZoom-wt.canonical.z):1;ti=x.clamp(x.nextPowerOfTwo(Ut.maxLineLength/x.EXTENT*1024*yr),256,Nt.maxTextureSize)}Bn.gradient=x.renderColorRamp({expression:T.gradientExpression(),evaluationKey:"lineProgress",resolution:ti,image:Bn.gradient||void 0,clips:Ut.lineClipsArray}),Bn.texture?Bn.texture.update(Bn.gradient):Bn.texture=new x.Texture(Nt,Bn.gradient,lt.RGBA),Bn.version=T.gradientVersion,ci=Bn.texture}Nt.activeTexture.set(lt.TEXTURE0),ci.bind(T.stepInterpolant?lt.NEAREST:lt.LINEAR,lt.CLAMP_TO_EDGE)}R.prepareDrawProgram(Nt,At,wt.toUnwrapped()),At.draw(Nt,lt.TRIANGLES,ce,R.stencilModeForClipping(wt),ge,x.CullFaceMode.disabled,ii,T.id,Ut.layoutVertexBuffer,Ut.indexBuffer,Ut.segments,T.paint,R.transform.zoom,St,Ut.layoutVertexBuffer2)}},fill:function(R,m,T,N){const U=T.paint.get("fill-color"),X=T.paint.get("fill-opacity");if(0===X.constantOr(1))return;const ce=R.colorModeForRenderPass(),ge=T.paint.get("fill-pattern"),we=R.opaquePassEnabledForLayer()&&!ge.constantOr(1)&&1===U.constantOr(x.Color.transparent).a&&1===X.constantOr(0)?"opaque":"translucent";if(R.renderPass===we){const be=R.depthModeForSublayer(1,"opaque"===R.renderPass?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly);bo(R,m,T,N,be,ce,!1)}if("translucent"===R.renderPass&&T.paint.get("fill-antialias")){const be=R.depthModeForSublayer(T.getPaintProperty("fill-outline-color")?2:0,x.DepthMode.ReadOnly);bo(R,m,T,N,be,ce,!0)}},"fill-extrusion":function(R,m,T,N){const U=T.paint.get("fill-extrusion-opacity");if(0!==U&&"translucent"===R.renderPass){const X=new x.DepthMode(R.context.gl.LEQUAL,x.DepthMode.ReadWrite,R.depthRangeFor3D);if(1!==U||T.paint.get("fill-extrusion-pattern").constantOr(1))pa(R,m,T,N,X,x.StencilMode.disabled,x.ColorMode.disabled),pa(R,m,T,N,X,R.stencilModeFor3D(),R.colorModeForRenderPass());else{const ce=R.colorModeForRenderPass();pa(R,m,T,N,X,x.StencilMode.disabled,ce)}}},hillshade:function(R,m,T,N){if("offscreen"!==R.renderPass&&"translucent"!==R.renderPass)return;const U=R.context,X=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),ce=R.colorModeForRenderPass(),ge=R.terrain&&R.terrain.renderingToTexture,[we,be]="translucent"!==R.renderPass||ge?[{},N]:R.stencilConfigForOverlap(N);for(const Ue of be){const qe=m.getTile(Ue);if(qe.needsHillshadePrepare&&"offscreen"===R.renderPass)Ga(R,qe,T,X,x.StencilMode.disabled,ce);else if("translucent"===R.renderPass){const Qe=ge&&R.terrain?R.terrain.stencilModeForRTTOverlap(Ue):we[Ue.overscaledZ];Sp(R,Ue,qe,T,X,Qe,ce)}}U.viewport.set([0,0,R.width,R.height])},raster:function(R,m,T,N,U,X){if("translucent"!==R.renderPass||0===T.paint.get("raster-opacity")||!N.length)return;const ce=R.context,ge=ce.gl,we=m.getSource(),be=R.useProgram("raster"),Ue=R.colorModeForRenderPass(),qe=R.terrain&&R.terrain.renderingToTexture,[Qe,Ke]=we instanceof at||qe?[{},N]:R.stencilConfigForOverlap(N),pt=Ke[Ke.length-1].overscaledZ,xt=!R.options.moving;for(const Nt of Ke){const lt=qe?x.DepthMode.disabled:R.depthModeForSublayer(Nt.overscaledZ-pt,1===T.paint.get("raster-opacity")?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly,ge.LESS),wt=Nt.toUnwrapped(),Tt=m.getTile(Nt);if(qe&&(!Tt||!Tt.hasData()))continue;const Ut=qe?Nt.projMatrix:R.transform.calculateProjMatrix(wt,xt),St=R.terrain&&qe?R.terrain.stencilModeForRTTOverlap(Nt):Qe[Nt.overscaledZ],At=X?0:T.paint.get("raster-fade-duration");Tt.registerFadeDuration(At);const Sn=m.findLoadedParent(Nt,0),An=Zs(Tt,Sn,m,R.transform,At);let Fn,Lt;R.terrain&&R.terrain.prepareDrawTile(Nt);const ii="nearest"===T.paint.get("raster-resampling")?ge.NEAREST:ge.LINEAR;ce.activeTexture.set(ge.TEXTURE0),Tt.texture.bind(ii,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST),ce.activeTexture.set(ge.TEXTURE1),Sn?(Sn.texture.bind(ii,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST),Fn=Math.pow(2,Sn.tileID.overscaledZ-Tt.tileID.overscaledZ),Lt=[Tt.tileID.canonical.x*Fn%1,Tt.tileID.canonical.y*Fn%1]):Tt.texture.bind(ii,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST);const Bn=nf(Ut,Lt||[0,0],Fn||1,An,T);R.prepareDrawProgram(ce,be,wt),we instanceof at?be.draw(ce,ge.TRIANGLES,lt,x.StencilMode.disabled,Ue,x.CullFaceMode.disabled,Bn,T.id,we.boundsBuffer,R.quadTriangleIndexBuffer,we.boundsSegments):be.draw(ce,ge.TRIANGLES,lt,St,Ue,x.CullFaceMode.disabled,Bn,T.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments)}},background:function(R,m,T,N){const U=T.paint.get("background-color"),X=T.paint.get("background-opacity");if(0===X)return;const ce=R.context,ge=ce.gl,we=R.transform,be=we.tileSize,Ue=T.paint.get("background-pattern");if(R.isPatternMissing(Ue))return;const qe=!Ue&&1===U.a&&1===X&&R.opaquePassEnabledForLayer()?"opaque":"translucent";if(R.renderPass!==qe)return;const Qe=x.StencilMode.disabled,Ke=R.depthModeForSublayer(0,"opaque"===qe?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly),pt=R.colorModeForRenderPass(),xt=R.useProgram(Ue?"backgroundPattern":"background"),Nt=N||we.coveringTiles({tileSize:be});Ue&&(ce.activeTexture.set(ge.TEXTURE0),R.imageManager.bind(R.context));const lt=T.getCrossfadeParameters();for(const wt of Nt){const Tt=wt.toUnwrapped(),Ut=N?wt.projMatrix:R.transform.calculateProjMatrix(Tt);R.prepareDrawTile(wt);const St=Ue?Do(Ut,X,R,Ue,{tileID:wt,tileSize:be},lt):Vh(Ut,X,U);R.prepareDrawProgram(ce,xt,Tt),xt.draw(ce,ge.TRIANGLES,Ke,Qe,pt,x.CullFaceMode.disabled,St,T.id,R.tileExtentBuffer,R.quadTriangleIndexBuffer,R.tileExtentSegments)}},sky:function(R,m,T){const N=T.paint.get("sky-opacity");if(0===N)return;const U=R.context,X=T.paint.get("sky-type"),ce=new x.DepthMode(U.gl.LEQUAL,x.DepthMode.ReadOnly,[0,1]),ge=R.frameCounter/1e3%1;"atmosphere"===X?"offscreen"===R.renderPass?T.needsSkyboxCapture(R)&&(function(we,be,Ue,qe){const Qe=we.context,Ke=Qe.gl;let pt=be.skyboxFbo;if(!pt){pt=be.skyboxFbo=Qe.createFramebuffer(32,32,!1),be.skyboxGeometry=new sa(Qe),be.skyboxTexture=Qe.gl.createTexture(),Ke.bindTexture(Ke.TEXTURE_CUBE_MAP,be.skyboxTexture),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_WRAP_S,Ke.CLAMP_TO_EDGE),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_WRAP_T,Ke.CLAMP_TO_EDGE),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_MIN_FILTER,Ke.LINEAR),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_MAG_FILTER,Ke.LINEAR);for(let wt=0;wt<6;++wt)Ke.texImage2D(Ke.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,Ke.RGBA,32,32,0,Ke.RGBA,Ke.UNSIGNED_BYTE,null)}Qe.bindFramebuffer.set(pt.framebuffer),Qe.viewport.set([0,0,32,32]);const xt=be.getCenter(we,!0),Nt=we.useProgram("skyboxCapture"),lt=new Float64Array(16);x.identity(lt),x.rotateY(lt,lt,.5*-Math.PI),Cc(Qe,be,Nt,lt,xt,0),x.identity(lt),x.rotateY(lt,lt,.5*Math.PI),Cc(Qe,be,Nt,lt,xt,1),x.identity(lt),x.rotateX(lt,lt,.5*-Math.PI),Cc(Qe,be,Nt,lt,xt,2),x.identity(lt),x.rotateX(lt,lt,.5*Math.PI),Cc(Qe,be,Nt,lt,xt,3),x.identity(lt),Cc(Qe,be,Nt,lt,xt,4),x.identity(lt),x.rotateY(lt,lt,Math.PI),Cc(Qe,be,Nt,lt,xt,5),Qe.viewport.set([0,0,we.width,we.height])}(R,T),T.markSkyboxValid(R)):"sky"===R.renderPass&&function(we,be,Ue,qe,Qe){const Ke=we.context,pt=Ke.gl,xt=we.transform,Nt=we.useProgram("skybox");Ke.activeTexture.set(pt.TEXTURE0),pt.bindTexture(pt.TEXTURE_CUBE_MAP,be.skyboxTexture);const lt={u_matrix:xt.skyboxMatrix,u_sun_direction:be.getCenter(we,!1),u_cubemap:0,u_opacity:qe,u_temporal_offset:Qe};we.prepareDrawProgram(Ke,Nt),Nt.draw(Ke,pt.TRIANGLES,Ue,x.StencilMode.disabled,we.colorModeForRenderPass(),x.CullFaceMode.backCW,lt,"skybox",be.skyboxGeometry.vertexBuffer,be.skyboxGeometry.indexBuffer,be.skyboxGeometry.segment)}(R,T,ce,N,ge):"gradient"===X&&"sky"===R.renderPass&&function(we,be,Ue,qe,Qe){const Ke=we.context,pt=Ke.gl,xt=we.transform,Nt=we.useProgram("skyboxGradient");be.skyboxGeometry||(be.skyboxGeometry=new sa(Ke)),Ke.activeTexture.set(pt.TEXTURE0);let lt=be.colorRampTexture;lt||(lt=be.colorRampTexture=new x.Texture(Ke,be.colorRamp,pt.RGBA)),lt.bind(pt.LINEAR,pt.CLAMP_TO_EDGE);const wt=(Tt=xt.skyboxMatrix,Ut=be.getCenter(we,!1),St=be.paint.get("sky-gradient-radius"),At=qe,Sn=Qe,{u_matrix:Tt,u_color_ramp:0,u_center_direction:Ut,u_radius:x.degToRad(St),u_opacity:At,u_temporal_offset:Sn});var Tt,Ut,St,At,Sn;we.prepareDrawProgram(Ke,Nt),Nt.draw(Ke,pt.TRIANGLES,Ue,x.StencilMode.disabled,we.colorModeForRenderPass(),x.CullFaceMode.backCW,wt,"skyboxGradient",be.skyboxGeometry.vertexBuffer,be.skyboxGeometry.indexBuffer,be.skyboxGeometry.segment)}(R,T,ce,N,ge)},debug:function(R,m,T){for(let N=0;N<T.length;N++)Zh(R,m,T[N])},custom:function(R,m,T){const N=R.context,U=T.implementation;if("offscreen"===R.renderPass){const X=U.prerender;X&&(R.setCustomLayerDefaults(),N.setColorMode(R.colorModeForRenderPass()),X.call(U,N.gl,R.transform.customLayerMatrix()),N.setDirty(),R.setBaseState())}else if("translucent"===R.renderPass){R.setCustomLayerDefaults(),N.setColorMode(R.colorModeForRenderPass()),N.setStencilMode(x.StencilMode.disabled);const X="3d"===U.renderingMode?new x.DepthMode(R.context.gl.LEQUAL,x.DepthMode.ReadWrite,R.depthRangeFor3D):R.depthModeForSublayer(0,x.DepthMode.ReadOnly);N.setDepthMode(X),U.render(N.gl,R.transform.customLayerMatrix()),N.setDirty(),R.setBaseState(),N.bindFramebuffer.set(null)}}};class sf{constructor(m,T){this.context=new Zi(m),this.transform=T,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=x.SourceCache.maxUnderzooming+x.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new lh,this.gpuTimers={},this.frameCounter=0}updateTerrain(m,T){const N=!!m&&!!m.terrain;if(!(N||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new kp(this,m));const U=this._terrain;this.transform.elevation=N?U:null,U.update(m,this.transform,T)}_updateFog(m){const T=m.fog;if(!T||T.getOpacity(this.transform.pitch)<1||T.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[N,U]=T.getFovAdjustedRange(this.transform._fov);if(N>U)return void(this.transform.fogCullDistSq=null);const X=N+.78*(U-N);this.transform.fogCullDistSq=X*X}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(m,T){if(this.width=m*x.exported.devicePixelRatio,this.height=T*x.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const N of this.style.order)this.style._layers[N].resize()}setup(){const m=this.context,T=new x.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(x.EXTENT,0),T.emplaceBack(0,x.EXTENT),T.emplaceBack(x.EXTENT,x.EXTENT),this.tileExtentBuffer=m.createVertexBuffer(T,x.posAttributes.members),this.tileExtentSegments=x.SegmentVector.simpleSegment(0,0,4,2);const N=new x.StructArrayLayout2i4;N.emplaceBack(0,0),N.emplaceBack(x.EXTENT,0),N.emplaceBack(0,x.EXTENT),N.emplaceBack(x.EXTENT,x.EXTENT),this.debugBuffer=m.createVertexBuffer(N,x.posAttributes.members),this.debugSegments=x.SegmentVector.simpleSegment(0,0,4,5);const U=new x.StructArrayLayout4i8;U.emplaceBack(0,0,0,0),U.emplaceBack(x.EXTENT,0,x.EXTENT,0),U.emplaceBack(0,x.EXTENT,0,x.EXTENT),U.emplaceBack(x.EXTENT,x.EXTENT,x.EXTENT,x.EXTENT),this.rasterBoundsBuffer=m.createVertexBuffer(U,Dr.members),this.rasterBoundsSegments=x.SegmentVector.simpleSegment(0,0,4,2);const X=new x.StructArrayLayout2i4;X.emplaceBack(-1,-1),X.emplaceBack(1,-1),X.emplaceBack(-1,1),X.emplaceBack(1,1),this.viewportBuffer=m.createVertexBuffer(X,x.posAttributes.members),this.viewportSegments=x.SegmentVector.simpleSegment(0,0,4,2);const ce=new x.StructArrayLayout1ui2;ce.emplaceBack(0),ce.emplaceBack(1),ce.emplaceBack(3),ce.emplaceBack(2),ce.emplaceBack(0),this.tileBorderIndexBuffer=m.createIndexBuffer(ce);const ge=new x.StructArrayLayout3ui6;ge.emplaceBack(0,1,2),ge.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=m.createIndexBuffer(ge),this.emptyTexture=new x.Texture(m,{width:1,height:1,data:new Uint8Array([0,0,0,0])},m.gl.RGBA),this.identityMat=x.create$1();const we=this.context.gl;this.stencilClearMode=new x.StencilMode({func:we.ALWAYS,mask:0},0,255,we.ZERO,we.ZERO,we.ZERO),this.loadTimeStamps.push(x.window.performance.now())}clearStencil(){const m=this.context,T=m.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(m,T.TRIANGLES,x.DepthMode.disabled,this.stencilClearMode,x.ColorMode.disabled,x.CullFaceMode.disabled,Wc(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(m,T,N){if(!(T&&this.currentStencilSource!==T.id&&m.isTileClipped()&&N&&N.length))return;this.currentStencilSource=T.id;const U=this.context,X=U.gl;this.nextStencilID+N.length>256&&this.clearStencil(),U.setColorMode(x.ColorMode.disabled),U.setDepthMode(x.DepthMode.disabled);const ce=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ge of N){const we=this._tileClippingMaskIDs[ge.key]=this.nextStencilID++;ce.draw(U,X.TRIANGLES,x.DepthMode.disabled,new x.StencilMode({func:X.ALWAYS,mask:0},we,255,X.KEEP,X.KEEP,X.REPLACE),x.ColorMode.disabled,x.CullFaceMode.disabled,Wc(ge.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const m=this.nextStencilID++,T=this.context.gl;return new x.StencilMode({func:T.NOTEQUAL,mask:255},m,255,T.KEEP,T.KEEP,T.REPLACE)}stencilModeForClipping(m){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(m);const T=this.context.gl;return new x.StencilMode({func:T.EQUAL,mask:255},this._tileClippingMaskIDs[m.key],0,T.KEEP,T.KEEP,T.REPLACE)}stencilConfigForOverlap(m){const T=this.context.gl,N=m.sort((ce,ge)=>ge.overscaledZ-ce.overscaledZ),U=N[N.length-1].overscaledZ,X=N[0].overscaledZ-U+1;if(X>1){this.currentStencilSource=void 0,this.nextStencilID+X>256&&this.clearStencil();const ce={};for(let ge=0;ge<X;ge++)ce[ge+U]=new x.StencilMode({func:T.GEQUAL,mask:255},ge+this.nextStencilID,255,T.KEEP,T.KEEP,T.REPLACE);return this.nextStencilID+=X,[ce,N]}return[{[U]:x.StencilMode.disabled},N]}colorModeForRenderPass(){const m=this.context.gl;if(this._showOverdrawInspector){const T=1/8;return new x.ColorMode([m.CONSTANT_COLOR,m.ONE],new x.Color(T,T,T,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?x.ColorMode.unblended:x.ColorMode.alphaBlended}depthModeForSublayer(m,T,N){if(!this.opaquePassEnabledForLayer())return x.DepthMode.disabled;const U=1-((1+this.currentLayer)*this.numSublayers+m)*this.depthEpsilon;return new x.DepthMode(N||this.context.gl.LEQUAL,T,[U,U])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(m,T){this.style=m,this.options=T,this.lineAtlas=m.lineAtlas,this.imageManager=m.imageManager,this.glyphManager=m.glyphManager,this.symbolFadeChange=m.placement.symbolFadeChange(x.exported.now()),this.imageManager.beginFrame();const N=this.style.order,U=this.style._sourceCaches;for(const be in U){const Ue=U[be];Ue.used&&Ue.prepare(this.context)}const X={},ce={},ge={};for(const be in U){const Ue=U[be];X[be]=Ue.getVisibleCoordinates(),ce[be]=X[be].slice().reverse(),ge[be]=Ue.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let be=0;be<N.length;be++)if(this.style._layers[N[be]].is3D()){this.opaquePassCutoff=be;break}if(this.terrain&&(this.terrain.updateTileBinding(ge),this.opaquePassCutoff=0),!x.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const be of N){const Ue=this.style._layers[be],qe=m._getLayerSourceCache(Ue);if(!Ue.hasOffscreenPass()||Ue.isHidden(this.transform.zoom))continue;const Qe=qe?ce[qe.id]:void 0;("custom"===Ue.type||Ue.isSky()||Qe&&Qe.length)&&this.renderLayer(this,qe,Ue,Qe)}this.depthRangeFor3D=[0,1-(m.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let we=x.Color.transparent;if(this.style.fog&&(we=this.style.fog.properties.get("color")),this.context.clear({color:T.showOverdrawInspector?x.Color.black:we,depth:1}),this.clearStencil(),this._showOverdrawInspector=T.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=N.length-1;this.currentLayer>=0;this.currentLayer--){const be=this.style._layers[N[this.currentLayer]],Ue=m._getLayerSourceCache(be);if(be.isSky())continue;const qe=Ue?ce[Ue.id]:void 0;this._renderTileClippingMasks(be,Ue,qe),this.renderLayer(this,Ue,be,qe)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<N.length;this.currentLayer++){const be=this.style._layers[N[this.currentLayer]],Ue=m._getLayerSourceCache(be);be.isSky()&&this.renderLayer(this,Ue,be,Ue?ce[Ue.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<N.length;){const be=this.style._layers[N[this.currentLayer]],Ue=m._getLayerSourceCache(be);if(be.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(be)){if(be.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const qe=Ue?("symbol"===be.type?ge:ce)[Ue.id]:void 0;this._renderTileClippingMasks(be,Ue,Ue?X[Ue.id]:void 0),this.renderLayer(this,Ue,be,qe),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let be=null;x.values(this.style._layers).forEach(Ue=>{const qe=m._getLayerSourceCache(Ue);qe&&!Ue.isHidden(this.transform.zoom)&&(!be||be.getSource().maxzoom<qe.getSource().maxzoom)&&(be=qe)}),be&&this.options.showTileBoundaries&&qc.debug(this,be,be.getVisibleCoordinates())}this.options.showPadding&&function(be){const Ue=be.transform.padding;Su(be,be.transform.height-(Ue.top||0),3,xc),Su(be,Ue.bottom||0,3,br),$o(be,Ue.left||0,3,rf),$o(be,be.transform.width-(Ue.right||0),3,jh);const qe=be.transform.centerPoint;var Qe,Ke,pt,xt;wc(Qe=be,(Ke=qe.x)-1,(pt=be.transform.height-qe.y)-10,2,20,xt=Xu),wc(Qe,Ke-10,pt-1,20,2,xt)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%x.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(x.window.performance.now()),this.saveCanvasCopy())}renderLayer(m,T,N,U){N.isHidden(this.transform.zoom)||("background"===N.type||"sky"===N.type||"custom"===N.type||U&&U.length)&&(this.id=N.id,this.gpuTimingStart(N),qc[N.type](m,T,N,U,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(m){if(!this.options.gpuTiming)return;const T=this.context.extTimerQuery;let N=this.gpuTimers[m.id];N||(N=this.gpuTimers[m.id]={calls:0,cpuTime:0,query:T.createQueryEXT()}),N.calls++,T.beginQueryEXT(T.TIME_ELAPSED_EXT,N.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;m.endQueryEXT(m.TIME_ELAPSED_EXT)}collectGpuTimers(){const m=this.gpuTimers;return this.gpuTimers={},m}queryGpuTimers(m){const T={};for(const N in m){const U=m[N],X=this.context.extTimerQuery,ce=X.getQueryObjectEXT(U.query,X.QUERY_RESULT_EXT)/1e6;X.deleteQueryEXT(U.query),T[N]=ce}return T}translatePosMatrix(m,T,N,U,X){if(!N[0]&&!N[1])return m;const ce=X?"map"===U?this.transform.angle:0:"viewport"===U?-this.transform.angle:0;if(ce){const be=Math.sin(ce),Ue=Math.cos(ce);N=[N[0]*Ue-N[1]*be,N[0]*be+N[1]*Ue]}const ge=[X?N[0]:li(T,N[0],this.transform.zoom),X?N[1]:li(T,N[1],this.transform.zoom),0],we=new Float32Array(16);return x.translate(we,m,ge),we}saveTileTexture(m){const T=this._tileTextures[m.size[0]];T?T.push(m):this._tileTextures[m.size[0]]=[m]}getTileTexture(m){const T=this._tileTextures[m];return T&&T.length>0?T.pop():null}isPatternMissing(m){if(!m)return!1;if(!m.from||!m.to)return!0;const T=this.imageManager.getPattern(m.from.toString()),N=this.imageManager.getPattern(m.to.toString());return!T||!N}currentGlobalDefines(){const m=this.terrain&&this.terrain.renderingToTexture,T=this.style&&this.style.fog,N=[];return this.terrain&&!this.terrain.renderingToTexture&&N.push("TERRAIN"),T&&!m&&0!==T.getOpacity(this.transform.pitch)&&N.push("FOG"),m&&N.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&N.push("OVERDRAW_INSPECTOR"),N}useProgram(m,T,N){this.cache=this.cache||{};const U=N||[],X=this.currentGlobalDefines().concat(U),ce=Ep.cacheKey(m,X,T);return this.cache[ce]||(this.cache[ce]=new Ep(this.context,m,Td[m],T,Dd[m],X)),this.cache[ce]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const m=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(m.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=x.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new x.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(m){this.terrain&&this.terrain.prepareDrawTile(m)}prepareDrawProgram(m,T,N){if(this.terrain&&this.terrain.renderingToTexture)return;const U=this.style.fog;if(U){const X=U.getOpacity(this.transform.pitch);0!==X&&T.setFogUniformValues(m,((ce,ge,we,be)=>{const Ue=ge.properties.get("color"),qe=ce.frameCounter/1e3%1,Qe=[Ue.r/Ue.a,Ue.g/Ue.a,Ue.b/Ue.a,be];return{u_fog_matrix:we?ce.transform.calculateFogTileMatrix(we):ce.identityMat,u_fog_range:ge.getFovAdjustedRange(ce.transform._fov),u_fog_color:Qe,u_fog_horizon_blend:ge.properties.get("horizon-blend"),u_fog_temporal_offset:qe}})(this,U,N,X))}}setTileLoadedFlag(m){this.tileLoaded=m}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const m=this.context.gl,T=m.createTexture();return m.bindTexture(m.TEXTURE_2D,T),m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,m.drawingBufferWidth,m.drawingBufferHeight,0),T}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const m=this.style&&this.style.fog;return!!m&&0!==m.getOpacity(this.transform.pitch)}}class mh{constructor(m=0,T=0,N=0,U=0){if(isNaN(m)||m<0||isNaN(T)||T<0||isNaN(N)||N<0||isNaN(U)||U<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=m,this.bottom=T,this.left=N,this.right=U}interpolate(m,T,N){return null!=T.top&&null!=m.top&&(this.top=x.number(m.top,T.top,N)),null!=T.bottom&&null!=m.bottom&&(this.bottom=x.number(m.bottom,T.bottom,N)),null!=T.left&&null!=m.left&&(this.left=x.number(m.left,T.left,N)),null!=T.right&&null!=m.right&&(this.right=x.number(m.right,T.right,N)),this}getCenter(m,T){const N=x.clamp((this.left+m-this.right)/2,0,m),U=x.clamp((this.top+T-this.bottom)/2,0,T);return new x.pointGeometry(N,U)}equals(m){return this.top===m.top&&this.bottom===m.bottom&&this.left===m.left&&this.right===m.right}clone(){return new mh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function cl(R,m){return[R[4*m],R[4*m+1],R[4*m+2],R[4*m+3]]}function Mc(R,m,T){R[4*m+0]=T[0],R[4*m+1]=T[1],R[4*m+2]=T[2],R[4*m+3]=T[3]}function Ad(R,m){const T=cl(R,3);x.fromQuat(R,m),Mc(R,3,T)}function Jt(R,m){Mc(R,3,[m[0],m[1],m[2],1])}function Pn(R,m){const T=x.identity$1([]);return x.rotateZ$1(T,T,-m),x.rotateX$1(T,T,-R),T}function _n(R,m){const T=[R[0],R[1],0],N=[m[0],m[1],0];if(x.length(T)>=1e-15){const ce=x.normalize([],T);x.scale(N,ce,x.dot(N,ce)),m[0]=N[0],m[1]=N[1]}const U=x.cross([],m,R);if(x.len(U)<1e-15)return null;const X=Math.atan2(-U[1],U[0]);return Pn(Math.atan2(Math.sqrt(R[0]*R[0]+R[1]*R[1]),-R[2]),X)}class Ii{constructor(m,T){this.position=m,this.orientation=T}get position(){return this._position}set position(m){this._position=this._renderWorldCopies?function(T){if(!T)return;const N=Array.isArray(T)?new x.MercatorCoordinate(T[0],T[1],T[2]):T;return N.x=x.wrap(N.x,0,1),N}(m):m}lookAtPoint(m,T){if(this.orientation=null,!this.position)return;const N=this._elevation?this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(m)):0,U=this.position,X=x.MercatorCoordinate.fromLngLat(m,N),ce=[X.x-U.x,X.y-U.y,X.z-U.z];T||(T=[0,0,1]),T[2]=Math.abs(T[2]),this.orientation=_n(ce,T)}setPitchBearing(m,T){this.orientation=Pn(x.degToRad(m),x.degToRad(-T))}}class or{constructor(m,T){this._transform=x.identity([]),this._orientation=x.identity$1([]),T&&(this._orientation=T,Ad(this._transform,this._orientation)),m&&Jt(this._transform,m)}get mercatorPosition(){const m=this.position;return new x.MercatorCoordinate(m[0],m[1],m[2])}get position(){const m=cl(this._transform,3);return[m[0],m[1],m[2]]}set position(m){Jt(this._transform,m)}get orientation(){return this._orientation}set orientation(m){this._orientation=m,Ad(this._transform,this._orientation)}getPitchBearing(){const m=this.forward(),T=this.right();return{bearing:Math.atan2(-T[1],T[0]),pitch:Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2])}}setPitchBearing(m,T){this._orientation=Pn(m,T),Ad(this._transform,this._orientation)}forward(){const m=cl(this._transform,2);return[-m[0],-m[1],-m[2]]}up(){const m=cl(this._transform,1);return[-m[0],-m[1],-m[2]]}right(){const m=cl(this._transform,0);return[m[0],m[1],m[2]]}getCameraToWorld(m,T){const N=new Float64Array(16);return x.invert(N,this.getWorldToCamera(m,T)),N}getWorldToCameraPosition(m,T,N){const U=this.position;x.scale(U,U,-m);const X=new Float64Array(16);return x.fromScaling(X,[N,N,N]),x.translate(X,X,U),X[10]*=T,X}getWorldToCamera(m,T){const N=new Float64Array(16),U=new Float64Array(4),X=this.position;return x.conjugate(U,this._orientation),x.scale(X,X,-m),x.fromQuat(N,U),x.translate(N,N,X),N[1]*=-1,N[5]*=-1,N[9]*=-1,N[13]*=-1,N[8]*=T,N[9]*=T,N[10]*=T,N[11]*=T,N}getCameraToClipPerspective(m,T,N,U){const X=new Float64Array(16);return x.perspective(X,m,T,N,U),X}getDistanceToElevation(m){const T=0===m?0:x.mercatorZfromAltitude(m,this.position[1]),N=this.forward();return(T-this.position[2])/N[2]}clone(){return new or([...this.position],[...this.orientation])}}class Ar{constructor(m,T,N,U,X){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===X||X,this._minZoom=m||0,this._maxZoom=T||22,this._minPitch=null==N?0:N,this._maxPitch=null==U?60:U,this.setMaxBounds(),this.width=0,this.height=0,this._center=new x.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new mh,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new or,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const m=new Ar(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return m._elevation=this._elevation,m._centerAltitude=this._centerAltitude,m.tileSize=this.tileSize,m.latRange=this.latRange,m.width=this.width,m.height=this.height,m.cameraElevationReference=this.cameraElevationReference,m._center=this._center,m._setZoom(this.zoom),m._cameraZoom=this._cameraZoom,m.angle=this.angle,m._fov=this._fov,m._pitch=this._pitch,m._averageElevation=this._averageElevation,m._unmodified=this._unmodified,m._edgeInsets=this._edgeInsets.clone(),m._camera=this._camera.clone(),m._calcMatrices(),m.freezeTileCoverage=this.freezeTileCoverage,m}get elevation(){return this._elevation}set elevation(m){this._elevation!==m&&(this._elevation=m,m?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(m){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),m&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(m){this._minZoom!==m&&(this._minZoom=m,this.zoom=Math.max(this.zoom,m))}get maxZoom(){return this._maxZoom}set maxZoom(m){this._maxZoom!==m&&(this._maxZoom=m,this.zoom=Math.min(this.zoom,m))}get minPitch(){return this._minPitch}set minPitch(m){this._minPitch!==m&&(this._minPitch=m,this.pitch=Math.max(this.pitch,m))}get maxPitch(){return this._maxPitch}set maxPitch(m){this._maxPitch!==m&&(this._maxPitch=m,this.pitch=Math.min(this.pitch,m))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(m){void 0===m?m=!0:null===m&&(m=!1),this._renderWorldCopies=m}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const m=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(m))}get pixelsPerMeter(){return x.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return x.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new x.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(m){const T=-x.wrap(m,-180,180)*Math.PI/180;var N,U,X,ce,ge,we,be,Ue,qe,Qe;this.angle!==T&&(this._unmodified=!1,this.angle=T,this._calcMatrices(),this.rotationMatrix=(N=new x.ARRAY_TYPE(4),x.ARRAY_TYPE!=Float32Array&&(N[1]=0,N[2]=0),N[0]=1,N[3]=1,N),U=this.rotationMatrix,ce=this.angle,ge=(X=this.rotationMatrix)[0],we=X[1],be=X[2],Ue=X[3],qe=Math.sin(ce),Qe=Math.cos(ce),U[0]=ge*Qe+be*qe,U[1]=we*Qe+Ue*qe,U[2]=ge*-qe+be*Qe,U[3]=we*-qe+Ue*Qe)}get pitch(){return this._pitch/Math.PI*180}set pitch(m){const T=x.clamp(m,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==T&&(this._unmodified=!1,this._pitch=T,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(m){m=Math.max(.01,Math.min(60,m)),this._fov!==m&&(this._unmodified=!1,this._fov=m/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(m){this._averageElevation=m,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(m){const T=Math.min(Math.max(m,this.minZoom),this.maxZoom);this._zoom!==T&&(this._unmodified=!1,this._setZoom(T),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(m){this._zoom=m,this.scale=this.zoomScale(m),this.tileZoom=Math.floor(m),this.zoomFraction=m-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const m=this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(this.center),-1);return-1===m?(this._cameraZoom=null,!1):(this._centerAltitude=m,!0)}_updateCameraOnTerrain(){const m=this.cameraToCenterDistance/this.worldSize,T=x.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(T+m)}sampleAverageElevation(){if(!this._elevation)return 0;const m=this._elevation,T=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],N=this.horizonLineFromTop();let U=0,X=0;for(let ce=0;ce<T.length;ce++){const ge=new x.pointGeometry(T[ce][0]*this.width,N+T[ce][1]*(this.height-N)),we=m.pointCoordinate(ge);if(!we)continue;const be=1/Math.hypot(we[0]-this._camera.position[0],we[1]-this._camera.position[1]);U+=we[3]*be,X+=be}return 0===X?NaN:U/X}get center(){return this._center}set center(m){m.lat===this._center.lat&&m.lng===this._center.lng||(this._unmodified=!1,this._center=m,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const m=this._cameraZoom,T=this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(this.center)),N=x.mercatorZfromAltitude(T,this.center.lat),U=this._mercatorZfromZoom(m),X=this._mercatorZfromZoom(this._maxZoom),ce=Math.max(U-N,X);this._setZoom(this._zoomFromMercatorZ(ce))}get padding(){return this._edgeInsets.toJSON()}set padding(m){this._edgeInsets.equals(m)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,m,1),this._calcMatrices())}computeZoomRelativeTo(m){const T=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,m.toAltitude()));let N;N=m.z<this._camera.position[2]?[T.x,T.y,T.z]:[m.x,m.y,m.z];const U=x.length(x.sub([],this._camera.position,N));return x.clamp(this._zoomFromMercatorZ(U),this._minZoom,this._maxZoom)}setFreeCameraOptions(m){if(!this.height||!m.position&&!m.orientation)return;this._updateCameraState();let T=!1;if(m.orientation&&!x.exactEquals(m.orientation,this._camera.orientation)&&(T=this._setCameraOrientation(m.orientation)),m.position){const N=[m.position.x,m.position.y,m.position.z];x.exactEquals$1(N,this._camera.position)||(this._setCameraPosition(N),T=!0)}T&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const m=this._camera.position,T=new Ii;return T.position=new x.MercatorCoordinate(m[0],m[1],m[2]),T.orientation=this._camera.orientation,T._elevation=this.elevation,T._renderWorldCopies=this._renderWorldCopies,T}_setCameraOrientation(m){if(!x.length$1(m))return!1;x.normalize$1(m,m);const T=x.transformQuat([],[0,0,-1],m),N=x.transformQuat([],[0,-1,0],m);if(N[2]<0)return!1;const U=_n(T,N);return!!U&&(this._camera.orientation=U,!0)}_setCameraPosition(m){const T=this.zoomScale(this.minZoom)*this.tileSize,N=this.zoomScale(this.maxZoom)*this.tileSize,U=this.cameraToCenterDistance;m[2]=x.clamp(m[2],U/N,U/T),this._camera.position=m}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(m){return this._edgeInsets.equals(m)}interpolatePadding(m,T,N){this._unmodified=!1,this._edgeInsets.interpolate(m,T,N),this._constrain(),this._calcMatrices()}coveringZoomLevel(m){const T=(m.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/m.tileSize));return Math.max(0,T)}getVisibleUnwrappedCoordinates(m){const T=[new x.UnwrappedTileID(0,m)];if(this._renderWorldCopies){const N=this.pointCoordinate(new x.pointGeometry(0,0)),U=this.pointCoordinate(new x.pointGeometry(this.width,0)),X=this.pointCoordinate(new x.pointGeometry(this.width,this.height)),ce=this.pointCoordinate(new x.pointGeometry(0,this.height)),ge=Math.floor(Math.min(N.x,U.x,X.x,ce.x)),we=Math.floor(Math.max(N.x,U.x,X.x,ce.x)),be=1;for(let Ue=ge-be;Ue<=we+be;Ue++)0!==Ue&&T.push(new x.UnwrappedTileID(Ue,m))}return T}coveringTiles(m){let T=this.coveringZoomLevel(m);const N=T,U=this.elevation&&!m.isTerrainDEM;if(void 0!==m.minzoom&&T<m.minzoom)return[];void 0!==m.maxzoom&&T>m.maxzoom&&(T=m.maxzoom);const X=x.MercatorCoordinate.fromLngLat(this.center),ce=1<<T,ge=[ce*X.x,ce*X.y,0],we=ni.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,T),be=this.pointCoordinate(this.getCameraPoint()),Ue=ce*x.mercatorZfromAltitude(1,this.center.lat),qe=this._camera.position[2]/x.mercatorZfromAltitude(1,this.center.lat),Qe=[ce*be.x,ce*be.y,qe],Ke=this.cameraToCenterDistance/m.tileSize*(m.roundZoom?1:.502),pt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?T:0,xt=m.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Nt=m.isTerrainDEM?-xt:this._elevation?this._elevation.getMinElevationBelowMSL():0,lt=Lt=>({aabb:new Rn([Lt*ce,0,Nt],[(Lt+1)*ce,ce,xt]),zoom:0,x:0,y:0,wrap:Lt,fullyVisible:!1}),wt=[],Tt=[],Ut=T,St=m.reparseOverscaled?N:T,At=Lt=>{if(!this._elevation||!Lt.tileID)return;const ii=this._elevation.getMinMaxForTile(Lt.tileID),Bn=Lt.aabb;ii?(Bn.min[2]=ii.min,Bn.max[2]=ii.max,Bn.center[2]=(Bn.min[2]+Bn.max[2])/2):(Lt.shouldSplit=Fn(Lt),Lt.shouldSplit||(Bn.min[2]=Bn.max[2]=Bn.center[2]=this._centerAltitude))},Sn=Lt=>Lt*Lt,An=Sn((qe-this._centerAltitude)*Ue),Fn=Lt=>{if(Lt.zoom<pt)return!0;if(Lt.zoom===Ut)return!1;if(null!=Lt.shouldSplit)return Lt.shouldSplit;const ii=Lt.aabb.distanceX(Qe),Bn=Lt.aabb.distanceY(Qe);let ci=An;U&&(ci=Sn(Lt.aabb.distanceZ(Qe)*Ue));const ti=ii*ii+Bn*Bn+ci;return ti<Sn((1<<Ut-Lt.zoom)*Ke*((Xn,yr)=>{if(yr*Sn(.707)<Xn)return 1;const Ri=Math.sqrt(yr/Xn);return Ri/(1.4144271570014144+(Math.pow(1.1,Ri-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ci,An),ti))};if(this._renderWorldCopies)for(let Lt=1;Lt<=3;Lt++)wt.push(lt(-Lt)),wt.push(lt(Lt));for(wt.push(lt(0));wt.length>0;){const Lt=wt.pop(),ii=Lt.x,Bn=Lt.y;let ci=Lt.fullyVisible;if(!ci){const ti=Lt.aabb.intersects(we);if(0===ti)continue;ci=2===ti}if(Lt.zoom!==Ut&&Fn(Lt))for(let ti=0;ti<4;ti++){const Xn=(ii<<1)+ti%2,yr=(Bn<<1)+(ti>>1),Ri={aabb:Lt.aabb.quadrant(ti),zoom:Lt.zoom+1,x:Xn,y:yr,wrap:Lt.wrap,fullyVisible:ci,tileID:void 0,shouldSplit:void 0};U&&(Ri.tileID=new x.OverscaledTileID(Lt.zoom+1===Ut?St:Lt.zoom+1,Lt.wrap,Lt.zoom+1,Xn,yr),At(Ri)),wt.push(Ri)}else{const ti=Lt.zoom===Ut?St:Lt.zoom;if(m.minzoom&&m.minzoom>ti)continue;const Xn=ge[0]-(.5+ii+(Lt.wrap<<Lt.zoom))*(1<<T-Lt.zoom),yr=ge[1]-.5-Bn,Ri=Lt.tileID?Lt.tileID:new x.OverscaledTileID(ti,Lt.wrap,Lt.zoom,ii,Bn);Tt.push({tileID:Ri,distanceSq:Xn*Xn+yr*yr})}}if(this.fogCullDistSq){const Lt=this.fogCullDistSq;Tt.splice(0,Tt.length,...Tt.filter(ii=>{const Bn=[0,0,0,1],ci=[x.EXTENT,x.EXTENT,0,1],ti=this.calculateFogTileMatrix(ii.tileID.toUnwrapped());x.transformMat4(Bn,Bn,ti),x.transformMat4(ci,ci,ti);const Xn=x.getAABBPointSquareDist(Bn,ci);if(0===Xn)return!0;let yr=!1;const Ri=this.horizonLineFromTop();if(Xn>Lt&&0!==Ri){const ns=this.calculateProjMatrix(ii.tileID.toUnwrapped());let ps;U&&this._elevation&&(ps=this._elevation.getMinMaxForTile(ii.tileID)),ps||(ps={min:Nt,max:xt});const bs=x.furthestTileCorner(this.bearing),Mr=[bs[0]*x.EXTENT,bs[1]*x.EXTENT,ps.max];x.transformMat4$1(Mr,Mr,ns),yr=(1-Mr[1])*this.height*.5<Ri}return Xn<Lt||yr}))}return Tt.sort((Lt,ii)=>Lt.distanceSq-ii.distanceSq).map(Lt=>Lt.tileID)}resize(m,T){this.width=m,this.height=T,this.pixelsToGLUnits=[2/m,-2/T],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(m){return Math.pow(2,m)}scaleZoom(m){return Math.log(m)/Math.LN2}project(m){const T=x.clamp(m.lat,-this.maxValidLatitude,this.maxValidLatitude);return new x.pointGeometry(x.mercatorXfromLng(m.lng)*this.worldSize,x.mercatorYfromLat(T)*this.worldSize)}unproject(m){return new x.MercatorCoordinate(m.x/this.worldSize,m.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(m,T){const N=this.pointCoordinate(T),U=this.pointCoordinate(this.centerPoint),X=this.locationCoordinate(m),ce=new x.MercatorCoordinate(X.x-(N.x-U.x),X.y-(N.y-U.y));this.center=this.coordinateLocation(ce),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(m){this.center=this.coordinateLocation(m),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(m){return this._coordinatePoint(this.locationCoordinate(m),!1)}locationPoint3D(m){return this._coordinatePoint(this.locationCoordinate(m),!0)}pointLocation(m){return this.coordinateLocation(this.pointCoordinate(m))}pointLocation3D(m){return this.coordinateLocation(this.pointCoordinate3D(m))}locationCoordinate(m){return x.MercatorCoordinate.fromLngLat(m)}coordinateLocation(m){return m.toLngLat()}pointRayIntersection(m,T){const N=null!=T?T:this._centerAltitude,U=[m.x,m.y,0,1],X=[m.x,m.y,1,1];x.transformMat4(U,U,this.pixelMatrixInverse),x.transformMat4(X,X,this.pixelMatrixInverse);const ce=X[3];x.scale$2(U,U,1/U[3]),x.scale$2(X,X,1/ce);const ge=U[2],we=X[2];return{p0:U,p1:X,t:ge===we?0:(N-ge)/(we-ge)}}screenPointToMercatorRay(m){const T=[m.x,m.y,0,1],N=[m.x,m.y,1,1];return x.transformMat4(T,T,this.pixelMatrixInverse),x.transformMat4(N,N,this.pixelMatrixInverse),x.scale$2(T,T,1/T[3]),x.scale$2(N,N,1/N[3]),T[2]=x.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,N[2]=x.mercatorZfromAltitude(N[2],this._center.lat)*this.worldSize,x.scale$2(T,T,1/this.worldSize),x.scale$2(N,N,1/this.worldSize),new ct([T[0],T[1],T[2]],x.normalize([],x.sub([],N,T)))}rayIntersectionCoordinate(m){const{p0:T,p1:N,t:U}=m,X=x.mercatorZfromAltitude(T[2],this._center.lat),ce=x.mercatorZfromAltitude(N[2],this._center.lat);return new x.MercatorCoordinate(x.number(T[0],N[0],U)/this.worldSize,x.number(T[1],N[1],U)/this.worldSize,x.number(X,ce,U))}pointCoordinate(m){const T=this.horizonLineFromTop(!1),N=new x.pointGeometry(m.x,Math.max(T,m.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(N))}pointCoordinate3D(m){if(!this.elevation)return this.pointCoordinate(m);const T=this.elevation;let N=this.elevation.pointCoordinate(m);if(N)return new x.MercatorCoordinate(N[0],N[1],N[2]);let U=0,X=this.horizonLineFromTop();if(m.y>X)return this.pointCoordinate(m);const ce=.02*X,ge=m.clone();for(let we=0;we<10&&X-U>ce;we++){ge.y=x.number(U,X,.66);const be=T.pointCoordinate(ge);be?(X=ge.y,N=be):U=ge.y}return N?new x.MercatorCoordinate(N[0],N[1],N[2]):this.pointCoordinate(m)}isPointAboveHorizon(m){if(this.elevation)return!this.elevation.pointCoordinate(m);{const T=this.horizonLineFromTop();return m.y<T}}_coordinatePoint(m,T){const N=T&&this.elevation?this.elevation.getAtPointOrZero(m,this._centerAltitude):this._centerAltitude,U=[m.x*this.worldSize,m.y*this.worldSize,N+m.toAltitude(),1];return x.transformMat4(U,U,this.pixelMatrix),U[3]>0?new x.pointGeometry(U[0]/U[3],U[1]/U[3]):new x.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new x.LngLatBounds).extend(this.pointLocation(new x.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new x.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new x.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new x.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const m=this.elevation,T=m.visibleDemTiles.reduce((U,X)=>{if(X.dem){const ce=X.dem.tree;U.min=Math.min(U.min,ce.minimums[0]),U.max=Math.max(U.max,ce.maximums[0])}return U},{min:Number.MAX_VALUE,max:0});T.min*=m.exaggeration(),T.max*=m.exaggeration();const N=this.horizonLineFromTop();return[new x.pointGeometry(0,N),new x.pointGeometry(this.width,N),new x.pointGeometry(this.width,this.height),new x.pointGeometry(0,this.height)].reduce((U,X)=>U.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(X,T.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(X,T.max)))),new x.LngLatBounds)}horizonLineFromTop(m=!0){const T=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,N=this.height/2-.97*T;return m?Math.max(0,N):N}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new x.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(m){m?(this.lngRange=[m.getWest(),m.getEast()],this.latRange=[m.getSouth(),m.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(m,T){const N=m.canonical,U=T/this.zoomScale(N.z),X=N.x+Math.pow(2,N.z)*m.wrap,ce=x.identity(new Float64Array(16));return x.translate(ce,ce,[X*U,N.y*U,0]),x.scale$1(ce,ce,[U/x.EXTENT,U/x.EXTENT,1]),ce}calculateFogTileMatrix(m){const T=m.key,N=this._fogTileMatrixCache;if(N[T])return N[T];const U=this.calculatePosMatrix(m,this.cameraWorldSize);return x.multiply(U,this.worldToFogMatrix,U),N[T]=new Float32Array(U),N[T]}calculateProjMatrix(m,T=!1){const N=m.key,U=T?this._alignedProjMatrixCache:this._projMatrixCache;if(U[N])return U[N];const X=this.calculatePosMatrix(m,this.worldSize);return x.multiply(X,T?this.alignedProjMatrix:this.projMatrix,X),U[N]=new Float32Array(X),U[N]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const m=this._elevation;this._updateCameraState();const T=this._camera.position,N=this._camera.forward();if(T[2]<=0||N[2]>=0)return;const U=x.mercatorZfromAltitude(1,this._center.lat);T[2]/=U,N[2]/=U,x.normalize(N,N);const X=m.raycast(T,N,m.exaggeration());if(X){const ce=x.scaleAndAdd([],T,N,X),ge=new x.MercatorCoordinate(ce[0],ce[1],x.mercatorZfromAltitude(ce[2],x.latFromMercatorY(ce[1]))),we=this._camera.position,be=ge.z+x.length([ge.x-we[0],ge.y-we[1],ge.z-we[2]]);this._cameraZoom=this._zoomFromMercatorZ(be),this._centerAltitude=ge.toAltitude(),this._center=ge.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const m=this._elevation;this._updateCameraState();const T=m.getAtPointOrZero(this._camera.mercatorPosition),N=this._minimumHeightOverTerrain()*Math.cos(x.degToRad(this._maxPitch)),U=x.mercatorZfromAltitude(T,this._center.lat),X=this._camera.position[2]-U;if(X<N){const ce=x.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),ge=this._camera.mercatorPosition,we=[ce.x-ge.x,ce.y-ge.y,ce.z-ge.z],be=x.length(we);we[2]-=N-X;const Ue=x.length(we);if(0===Ue)return;x.scale(we,we,be/Ue),this._camera.position=[ce.x-we[0],ce.y-we[1],ce.z-we[2]],this._camera.orientation=_n(we,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let m,T,N,U,X=-90,ce=90,ge=-180,we=180;const be=this.size,Ue=this._unmodified;if(this.latRange){const Ke=this.latRange;X=x.mercatorYfromLat(Ke[1])*this.worldSize,ce=x.mercatorYfromLat(Ke[0])*this.worldSize,m=ce-X<be.y?be.y/(ce-X):0}if(this.lngRange){const Ke=this.lngRange;ge=x.mercatorXfromLng(Ke[0])*this.worldSize,we=x.mercatorXfromLng(Ke[1])*this.worldSize,T=we-ge<be.x?be.x/(we-ge):0}const qe=this.point,Qe=Math.max(T||0,m||0);if(Qe)return this.center=this.unproject(new x.pointGeometry(T?(we+ge)/2:qe.x,m?(ce+X)/2:qe.y)),this.zoom+=this.scaleZoom(Qe),this._unmodified=Ue,void(this._constraining=!1);if(this.latRange){const Ke=qe.y,pt=be.y/2;Ke-pt<X&&(U=X+pt),Ke+pt>ce&&(U=ce-pt)}if(this.lngRange){const Ke=qe.x,pt=be.x/2;Ke-pt<ge&&(N=ge+pt),Ke+pt>we&&(N=we-pt)}void 0===N&&void 0===U||(this.center=this.unproject(new x.pointGeometry(void 0!==N?N:qe.x,void 0!==U?U:qe.y))),this._constrainCameraAltitude(),this._unmodified=Ue,this._constraining=!1}_minZoomForBounds(){const m=(U,X)=>Math.log2(U/(this.tileSize*Math.abs(X[1]-X[0])));let T=0;if(this.latRange){const U=this.latRange;T=m(this.height,[x.mercatorYfromLat(U[0]),x.mercatorYfromLat(U[1])])}let N=0;if(this.lngRange){const U=this.lngRange;N=m(this.width,[x.mercatorXfromLng(U[0]),x.mercatorXfromLng(U[1])])}return Math.max(T,N)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const m=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const T=this.pixelsPerMeter;this._updateCameraState();const N=Math.PI/2+this._pitch,U=this.fovAboveCenter,X=this.elevation?this.elevation.getMinElevationBelowMSL()*T:0,ce=(this._camera.position[2]*this.worldSize-X)/Math.cos(this._pitch),ge=Math.sin(U)*ce/Math.sin(x.clamp(Math.PI-N-U,.01,Math.PI-.01)),we=this.point,be=we.x,Ue=we.y,qe=Math.cos(Math.PI/2-this._pitch)*ge+ce,Qe=Math.min(1.01*qe,ce*(1/this._horizonShift)),Ke=this.height/50,pt=this._camera.getWorldToCamera(this.worldSize,T),xt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,Ke,Qe);xt[8]=2*-m.x/this.width,xt[9]=2*m.y/this.height;let Nt=x.mul$1([],xt,pt);this.mercatorMatrix=x.scale$1([],Nt,[this.worldSize,this.worldSize,this.worldSize/T]),this.projMatrix=Nt,this.invProjMatrix=x.invert(new Float64Array(16),this.projMatrix);const lt=new Float32Array(16);x.identity(lt),x.scale$1(lt,lt,[1,-1,1]),x.rotateX(lt,lt,this._pitch),x.rotateZ(lt,lt,this.angle);const wt=x.perspective(new Float32Array(16),this._fov,this.width/this.height,Ke,Qe),Tt=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;wt[8]=2*-m.x/this.width,wt[9]=2*(m.y+Tt)/this.height,this.skyboxMatrix=x.multiply(lt,wt,lt);const Ut=this.width%2/2,St=this.height%2/2,At=Math.cos(this.angle),Sn=Math.sin(this.angle),An=be-Math.round(be)+At*Ut+Sn*St,Fn=Ue-Math.round(Ue)+At*St+Sn*Ut,Lt=new Float64Array(Nt);if(x.translate(Lt,Lt,[An>.5?An-1:An,Fn>.5?Fn-1:Fn,0]),this.alignedProjMatrix=Lt,Nt=x.create$1(),x.scale$1(Nt,Nt,[this.width/2,-this.height/2,1]),x.translate(Nt,Nt,[1,-1,0]),this.labelPlaneMatrix=Nt,Nt=x.create$1(),x.scale$1(Nt,Nt,[1,-1,1]),x.translate(Nt,Nt,[-1,-1,0]),x.scale$1(Nt,Nt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Nt,this.pixelMatrix=x.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),Nt=x.invert(new Float64Array(16),this.pixelMatrix),!Nt)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Nt,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const m=this.cameraWorldSize,T=this.cameraPixelsPerMeter,N=this._camera.position,U=1/this.height,X=[m,m,T];x.scale(X,X,U),x.scale(N,N,-1),x.multiply$1(N,N,X);const ce=x.create$1();x.translate(ce,ce,N),x.scale$1(ce,ce,X),this.mercatorFogMatrix=ce,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(m,T,U)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const m=this._camera.forward(),T=this.cameraToCenterDistance,N=this.point,U=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-x.mercatorZfromAltitude(this._centerAltitude,this.center.lat),X=this.cameraToCenterDistance/U;this._camera.position=[N.x/this.worldSize-m[0]*T/X,N.y/this.worldSize-m[1]*T/X,x.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-m[2]*T/X]}_translateCameraConstrained(m){const T=this._maxCameraBoundsDistance()*Math.cos(this._pitch),N=m[2];let U=1;N>0&&(U=Math.min((T-this._camera.position[2])/N,1)),this._camera.position=x.scaleAndAdd([],this._camera.position,m,U),this._updateStateFromCamera()}_updateStateFromCamera(){const m=this._camera.position,T=this._camera.forward(),{pitch:N,bearing:U}=this._camera.getPitchBearing(),X=x.mercatorZfromAltitude(this._centerAltitude,this.center.lat),ce=this._mercatorZfromZoom(this._maxZoom)*Math.cos(x.degToRad(this._maxPitch)),ge=Math.max((m[2]-X)/Math.cos(N),ce),we=this._zoomFromMercatorZ(ge);x.scaleAndAdd(m,m,T,ge),this._pitch=x.clamp(N,x.degToRad(this.minPitch),x.degToRad(this.maxPitch)),this.angle=x.wrap(U,-Math.PI,Math.PI),this._setZoom(x.clamp(we,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new x.MercatorCoordinate(m[0],m[1],m[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(m){return Math.pow(2,m)*this.tileSize}_mercatorZfromZoom(m){return this.cameraToCenterDistance/this._worldSizeFromZoom(m)}_minimumHeightOverTerrain(){const m=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(m)}_zoomFromMercatorZ(m){return this.scaleZoom(this.cameraToCenterDistance/(m*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(m,T){const N=Math.min(m.x,T.x),U=Math.max(m.x,T.x),X=Math.min(m.y,T.y),ce=Math.max(m.y,T.y),ge=[new x.pointGeometry(N,X),new x.pointGeometry(U,ce),new x.pointGeometry(N,ce),new x.pointGeometry(U,X)],we=this._renderWorldCopies?-3:0,be=this._renderWorldCopies?4:1;for(const Ue of ge){const qe=this.pointRayIntersection(Ue);if(qe.t<0)return!0;const Qe=this.rayIntersectionCoordinate(qe);if(Qe.x<we||Qe.y<0||Qe.x>be||Qe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+x.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new x.pointGeometry(0,0),new x.pointGeometry(this.width,this.height))}zoomDeltaToMovement(m,T){const N=x.length(x.sub([],this._camera.position,m)),U=this._zoomFromMercatorZ(N)+T;return N-this._mercatorZfromZoom(U)}getCameraPoint(){const m=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new x.pointGeometry(0,m))}}function eo(R,m){let T=!1,N=null;const U=()=>{N=null,T&&(R(),N=setTimeout(U,m),T=!1)};return()=>(T=!0,N||U(),N)}class ts{constructor(m){this._hashName=m&&encodeURIComponent(m),x.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=eo(this._updateHashUnthrottled.bind(this),300)}addTo(m){return this._map=m,x.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return x.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(m){const T=this._map.getCenter(),N=Math.round(100*this._map.getZoom())/100,U=Math.ceil((N*Math.LN2+Math.log(512/360/.5))/Math.LN10),X=Math.pow(10,U),ce=Math.round(T.lng*X)/X,ge=Math.round(T.lat*X)/X,we=this._map.getBearing(),be=this._map.getPitch();let Ue="";if(Ue+=m?`/${ce}/${ge}/${N}`:`${N}/${ge}/${ce}`,(we||be)&&(Ue+="/"+Math.round(10*we)/10),be&&(Ue+=`/${Math.round(be)}`),this._hashName){const qe=this._hashName;let Qe=!1;const Ke=x.window.location.hash.slice(1).split("&").map(pt=>{const xt=pt.split("=")[0];return xt===qe?(Qe=!0,`${xt}=${Ue}`):pt}).filter(pt=>pt);return Qe||Ke.push(`${qe}=${Ue}`),`#${Ke.join("&")}`}return`#${Ue}`}_getCurrentHash(){const m=x.window.location.hash.replace("#","");if(this._hashName){let T;return m.split("&").map(N=>N.split("=")).forEach(N=>{N[0]===this._hashName&&(T=N)}),(T&&T[1]||"").split("/")}return m.split("/")}_onHashChange(){const m=this._getCurrentHash();if(m.length>=3&&!m.some(T=>isNaN(T))){const T=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(m[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:T,pitch:+(m[4]||0)}),!0}return!1}_updateHashUnthrottled(){const m=x.window.location.href.replace(/(#.+)?$/,this.getHashString());x.window.history.replaceState(x.window.history.state,null,m)}}const ma={linearity:.3,easing:x.bezier(0,0,.3,1)},Tc=x.extend({deceleration:2500,maxSpeed:1400},ma),Qo=x.extend({deceleration:20,maxSpeed:1400},ma),Eu=x.extend({deceleration:1e3,maxSpeed:360},ma),gh=x.extend({deceleration:1e3,maxSpeed:90},ma);class $a{constructor(m){this._map=m,this.clear()}clear(){this._inertiaBuffer=[]}record(m){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:x.exported.now(),settings:m})}_drainInertiaBuffer(){const m=this._inertiaBuffer,T=x.exported.now();for(;m.length>0&&T-m[0].time>160;)m.shift()}_onMoveEnd(m){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const T={zoom:0,bearing:0,pitch:0,pan:new x.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:X}of this._inertiaBuffer)T.zoom+=X.zoomDelta||0,T.bearing+=X.bearingDelta||0,T.pitch+=X.pitchDelta||0,X.panDelta&&T.pan._add(X.panDelta),X.around&&(T.around=X.around),X.pinchAround&&(T.pinchAround=X.pinchAround);const N=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,U={};if(T.pan.mag()){const X=Jo(T.pan.mag(),N,x.extend({},Tc,m||{}));U.offset=T.pan.mult(X.amount/T.pan.mag()),U.center=this._map.transform.center,lu(U,X)}if(T.zoom){const X=Jo(T.zoom,N,Qo);U.zoom=this._map.transform.zoom+X.amount,lu(U,X)}if(T.bearing){const X=Jo(T.bearing,N,Eu);U.bearing=this._map.transform.bearing+x.clamp(X.amount,-179,179),lu(U,X)}if(T.pitch){const X=Jo(T.pitch,N,gh);U.pitch=this._map.transform.pitch+X.amount,lu(U,X)}if(U.zoom||U.bearing){const X=void 0===T.pinchAround?T.around:T.pinchAround;U.around=X?this._map.unproject(X):this._map.getCenter()}return this.clear(),x.extend(U,{noMoveStart:!0})}}function lu(R,m){(!R.duration||R.duration<m.duration)&&(R.duration=m.duration,R.easing=m.easing)}function Jo(R,m,T){const{maxSpeed:N,linearity:U,deceleration:X}=T,ce=x.clamp(R*U/(m/1e3),-N,N),ge=Math.abs(ce)/(X*U);return{easing:T.easing,duration:1e3*ge,amount:ce*(ge/2)}}class Ir extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N,U={}){const X=Ye.mousePos(T.getCanvasContainer(),N),ce=T.unproject(X);super(m,x.extend({point:X,lngLat:ce,originalEvent:N},U)),this._defaultPrevented=!1,this.target=T}}class Du extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N){const U="touchend"===m?N.changedTouches:N.touches,X=Ye.touchPos(T.getCanvasContainer(),U),ce=X.map(we=>T.unproject(we)),ge=X.reduce((we,be,Ue,qe)=>we.add(be.div(qe.length)),new x.pointGeometry(0,0));super(m,{points:X,point:ge,lngLats:ce,lngLat:T.unproject(ge),originalEvent:N}),this._defaultPrevented=!1}}class Ap extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N){super(m,{originalEvent:N}),this._defaultPrevented=!1}}class Sc{constructor(m,T){this._map=m,this._clickTolerance=T.clickTolerance}reset(){delete this._mousedownPos}wheel(m){return this._firePreventable(new Ap(m.type,this._map,m))}mousedown(m,T){return this._mousedownPos=T,this._firePreventable(new Ir(m.type,this._map,m))}mouseup(m){this._map.fire(new Ir(m.type,this._map,m))}click(m,T){this._mousedownPos&&this._mousedownPos.dist(T)>=this._clickTolerance||this._map.fire(new Ir(m.type,this._map,m))}dblclick(m){return this._firePreventable(new Ir(m.type,this._map,m))}mouseover(m){this._map.fire(new Ir(m.type,this._map,m))}mouseout(m){this._map.fire(new Ir(m.type,this._map,m))}touchstart(m){return this._firePreventable(new Du(m.type,this._map,m))}touchmove(m){this._map.fire(new Du(m.type,this._map,m))}touchend(m){this._map.fire(new Du(m.type,this._map,m))}touchcancel(m){this._map.fire(new Du(m.type,this._map,m))}_firePreventable(m){if(this._map.fire(m),m.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ku{constructor(m){this._map=m}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(m){this._map.fire(new Ir(m.type,this._map,m))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ir("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(m){this._delayContextMenu?this._contextMenuEvent=m:this._map.fire(new Ir(m.type,this._map,m)),this._map.listens("contextmenu")&&m.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ip{constructor(m,T){this._map=m,this._el=m.getCanvasContainer(),this._container=m.getContainer(),this._clickTolerance=T.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(m,T){this.isEnabled()&&m.shiftKey&&0===m.button&&(Ye.disableDrag(),this._startPos=this._lastPos=T,this._active=!0)}mousemoveWindow(m,T){if(!this._active)return;const N=T;if(this._lastPos.equals(N)||!this._box&&N.dist(this._startPos)<this._clickTolerance)return;const U=this._startPos;this._lastPos=N,this._box||(this._box=Ye.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",m));const X=Math.min(U.x,N.x),ce=Math.max(U.x,N.x),ge=Math.min(U.y,N.y),we=Math.max(U.y,N.y);this._map._requestDomTask(()=>{this._box&&(Ye.setTransform(this._box,`translate(${X}px,${ge}px)`),this._box.style.width=ce-X+"px",this._box.style.height=we-ge+"px")})}mouseupWindow(m,T){if(!this._active||0!==m.button)return;const N=this._startPos,U=T;if(this.reset(),Ye.suppressClick(),N.x!==U.x||N.y!==U.y)return this._map.fire(new x.Event("boxzoomend",{originalEvent:m})),{cameraAnimation:X=>X.fitScreenCoordinates(N,U,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",m)}keydown(m){this._active&&27===m.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",m))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(Ye.remove(this._box),this._box=null),Ye.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(m,T){return this._map.fire(new x.Event(m,{originalEvent:T}))}}function of(R,m){const T={};for(let N=0;N<R.length;N++)T[R[N].identifier]=m[N];return T}class Lp{constructor(m){this.reset(),this.numTouches=m.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(m,T,N){(this.centroid||N.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=m.timeStamp),N.length===this.numTouches&&(this.centroid=function(U){const X=new x.pointGeometry(0,0);for(const ce of U)X._add(ce);return X.div(U.length)}(T),this.touches=of(N,T)))}touchmove(m,T,N){if(this.aborted||!this.centroid)return;const U=of(N,T);for(const X in this.touches){const ce=this.touches[X],ge=U[X];(!ge||ge.dist(ce)>30)&&(this.aborted=!0)}}touchend(m,T,N){if((!this.centroid||m.timeStamp-this.startTime>500)&&(this.aborted=!0),0===N.length){const U=!this.aborted&&this.centroid;if(this.reset(),U)return U}}}class Au{constructor(m){this.singleTap=new Lp(m),this.numTaps=m.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(m,T,N){this.singleTap.touchstart(m,T,N)}touchmove(m,T,N){this.singleTap.touchmove(m,T,N)}touchend(m,T,N){const U=this.singleTap.touchend(m,T,N);if(U){const X=m.timeStamp-this.lastTime<500,ce=!this.lastTap||this.lastTap.dist(U)<30;if(X&&ce||this.reset(),this.count++,this.lastTime=m.timeStamp,this.lastTap=U,this.count===this.numTaps)return this.reset(),U}}}class Id{constructor(){this._zoomIn=new Au({numTouches:1,numTaps:2}),this._zoomOut=new Au({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(m,T,N){this._zoomIn.touchstart(m,T,N),this._zoomOut.touchstart(m,T,N)}touchmove(m,T,N){this._zoomIn.touchmove(m,T,N),this._zoomOut.touchmove(m,T,N)}touchend(m,T,N){const U=this._zoomIn.touchend(m,T,N),X=this._zoomOut.touchend(m,T,N);return U?(this._active=!0,m.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ce=>ce.easeTo({duration:300,zoom:ce.getZoom()+1,around:ce.unproject(U)},{originalEvent:m})}):X?(this._active=!0,m.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ce=>ce.easeTo({duration:300,zoom:ce.getZoom()-1,around:ce.unproject(X)},{originalEvent:m})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Pp={0:1,2:2};class Qs{constructor(m){this.reset(),this._clickTolerance=m.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(m,T){return!1}_move(m,T){return{}}mousedown(m,T){if(this._lastPoint)return;const N=Ye.mouseButton(m);this._correctButton(m,N)&&(this._lastPoint=T,this._eventButton=N)}mousemoveWindow(m,T){const N=this._lastPoint;if(N)if(m.preventDefault(),function(U,X){const ce=Pp[X];return void 0===U.buttons||(U.buttons&ce)!==ce}(m,this._eventButton))this.reset();else if(this._moved||!(T.dist(N)<this._clickTolerance))return this._moved=!0,this._lastPoint=T,this._move(N,T)}mouseupWindow(m){this._lastPoint&&Ye.mouseButton(m)===this._eventButton&&(this._moved&&Ye.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Iu extends Qs{mousedown(m,T){super.mousedown(m,T),this._lastPoint&&(this._active=!0)}_correctButton(m,T){return 0===T&&!m.ctrlKey}_move(m,T){return{around:T,panDelta:T.sub(m)}}}class kc extends Qs{_correctButton(m,T){return 0===T&&m.ctrlKey||2===T}_move(m,T){const N=.8*(T.x-m.x);if(N)return this._active=!0,{bearingDelta:N}}contextmenu(m){m.preventDefault()}}class Lu extends Qs{_correctButton(m,T){return 0===T&&m.ctrlKey||2===T}_move(m,T){const N=-.5*(T.y-m.y);if(N)return this._active=!0,{pitchDelta:N}}contextmenu(m){m.preventDefault()}}class _l{constructor(m){this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new x.pointGeometry(0,0)}touchstart(m,T,N){return this._calculateTransform(m,T,N)}touchmove(m,T,N){if(this._active&&!(N.length<this._minTouches))return m.preventDefault(),this._calculateTransform(m,T,N)}touchend(m,T,N){this._calculateTransform(m,T,N),this._active&&N.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(m,T,N){N.length>0&&(this._active=!0);const U=of(N,T),X=new x.pointGeometry(0,0),ce=new x.pointGeometry(0,0);let ge=0;for(const be in U){const Ue=U[be],qe=this._touches[be];qe&&(X._add(Ue),ce._add(Ue.sub(qe)),ge++,U[be]=Ue)}if(this._touches=U,ge<this._minTouches||!ce.mag())return;const we=ce.div(ge);return this._sum._add(we),this._sum.mag()<this._clickTolerance?void 0:{around:X.div(ge),panDelta:we}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $c{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(m){}_move(m,T,N){return{}}touchstart(m,T,N){this._firstTwoTouches||N.length<2||(this._firstTwoTouches=[N[0].identifier,N[1].identifier],this._start([T[0],T[1]]))}touchmove(m,T,N){if(!this._firstTwoTouches)return;m.preventDefault();const[U,X]=this._firstTwoTouches,ce=Bl(N,T,U),ge=Bl(N,T,X);if(!ce||!ge)return;const we=this._aroundCenter?null:ce.add(ge).div(2);return this._move([ce,ge],we,m)}touchend(m,T,N){if(!this._firstTwoTouches)return;const[U,X]=this._firstTwoTouches,ce=Bl(N,T,U),ge=Bl(N,T,X);ce&&ge||(this._active&&Ye.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(m){this._enabled=!0,this._aroundCenter=!!m&&"center"===m.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Bl(R,m,T){for(let N=0;N<R.length;N++)if(R[N].identifier===T)return m[N]}function _h(R,m){return Math.log(R/m)/Math.LN2}class Ld extends $c{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(m){this._startDistance=this._distance=m[0].dist(m[1])}_move(m,T){const N=this._distance;if(this._distance=m[0].dist(m[1]),this._active||!(Math.abs(_h(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:_h(this._distance,N),pinchAround:T}}}function Yf(R,m){return 180*R.angleWith(m)/Math.PI}class Wh extends $c{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(m){this._startVector=this._vector=m[0].sub(m[1]),this._minDiameter=m[0].dist(m[1])}_move(m,T){const N=this._vector;if(this._vector=m[0].sub(m[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Yf(this._vector,N),pinchAround:T}}_isBelowThreshold(m){this._minDiameter=Math.min(this._minDiameter,m.mag());const T=25/(Math.PI*this._minDiameter)*360,N=Yf(m,this._startVector);return Math.abs(N)<T}}function Yl(R){return Math.abs(R.y)>Math.abs(R.x)}class tc extends $c{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(m){this._lastPoints=m,Yl(m[0].sub(m[1]))&&(this._valid=!1)}_move(m,T,N){const U=m[0].sub(this._lastPoints[0]),X=m[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(U,X,N.timeStamp),this._valid)return this._lastPoints=m,this._active=!0,{pitchDelta:(U.y+X.y)/2*-.5}}gestureBeginsVertically(m,T,N){if(void 0!==this._valid)return this._valid;const U=m.mag()>=2,X=T.mag()>=2;if(!U&&!X)return;if(!U||!X)return void 0===this._firstMove&&(this._firstMove=N),N-this._firstMove<100&&void 0;const ce=m.y>0==T.y>0;return Yl(m)&&Yl(T)&&ce}}const ed={panStep:100,bearingStep:15,pitchStep:10};class Ec{constructor(){const m=ed;this._panStep=m.panStep,this._bearingStep=m.bearingStep,this._pitchStep=m.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(m){if(m.altKey||m.ctrlKey||m.metaKey)return;let T=0,N=0,U=0,X=0,ce=0;switch(m.keyCode){case 61:case 107:case 171:case 187:T=1;break;case 189:case 109:case 173:T=-1;break;case 37:m.shiftKey?N=-1:(m.preventDefault(),X=-1);break;case 39:m.shiftKey?N=1:(m.preventDefault(),X=1);break;case 38:m.shiftKey?U=1:(m.preventDefault(),ce=-1);break;case 40:m.shiftKey?U=-1:(m.preventDefault(),ce=1);break;default:return}return this._rotationDisabled&&(N=0,U=0),{cameraAnimation:ge=>{const we=ge.getZoom();ge.easeTo({duration:300,easeId:"keyboardHandler",easing:Qc,zoom:T?Math.round(we)+T*(m.shiftKey?2:1):we,bearing:ge.getBearing()+N*this._bearingStep,pitch:ge.getPitch()+U*this._pitchStep,offset:[-X*this._panStep,-ce*this._panStep],center:ge.getCenter()},{originalEvent:m})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Qc(R){return R*(2-R)}const Mi=4.000244140625;class Cr{constructor(m,T){this._map=m,this._el=m.getCanvasContainer(),this._handler=T,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,x.bindAll(["_onTimeout"],this)}setZoomRate(m){this._defaultZoomRate=m}setWheelZoomRate(m){this._wheelZoomRate=m}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(m){this.isEnabled()||(this._enabled=!0,this._aroundCenter=m&&"center"===m.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(m){if(!this.isEnabled())return;let T=m.deltaMode===x.window.WheelEvent.DOM_DELTA_LINE?40*m.deltaY:m.deltaY;const N=x.exported.now(),U=N-(this._lastWheelEventTime||0);this._lastWheelEventTime=N,0!==T&&T%Mi==0?this._type="wheel":0!==T&&Math.abs(T)<4?this._type="trackpad":U>400?(this._type=null,this._lastValue=T,this._timeout=setTimeout(this._onTimeout,40,m)):this._type||(this._type=Math.abs(U*T)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,T+=this._lastValue)),m.shiftKey&&T&&(T/=4),this._type&&(this._lastWheelEvent=m,this._delta-=T,this._active||this._start(m)),m.preventDefault()}_onTimeout(m){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)}_start(m){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const T=Ye.mousePos(this._el,m);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:T,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const m=this._map.transform,T=()=>m._terrainEnabled()?m.computeZoomRelativeTo(this._aroundCoord):m.zoom;if(0!==this._delta){const we="wheel"===this._type&&Math.abs(this._delta)>Mi?this._wheelZoomRate:this._defaultZoomRate;let be=2/(1+Math.exp(-Math.abs(this._delta*we)));this._delta<0&&0!==be&&(be=1/be);const Ue=T(),qe=Math.pow(2,Ue),Qe="number"==typeof this._targetZoom?m.zoomScale(this._targetZoom):qe;this._targetZoom=Math.min(m.maxZoom,Math.max(m.minZoom,m.scaleZoom(Qe*be))),"wheel"===this._type&&(this._startZoom=T(),this._easing=this._smoothOutEasing(200)),this._delta=0}const N="number"==typeof this._targetZoom?this._targetZoom:T(),U=this._startZoom,X=this._easing;let ce,ge=!1;if("wheel"===this._type&&U&&X){const we=Math.min((x.exported.now()-this._lastWheelEventTime)/200,1),be=X(we);ce=x.number(U,N,be),we<1?this._frameId||(this._frameId=!0):ge=!0}else ce=N,ge=!0;return this._active=!0,ge&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ge,zoomDelta:ce-T(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(m){let T=x.ease;if(this._prevEase){const N=this._prevEase,U=(x.exported.now()-N.start)/N.duration,X=N.easing(U+.01)-N.easing(U),ce=.27/Math.sqrt(X*X+1e-4)*.01,ge=Math.sqrt(.0729-ce*ce);T=x.bezier(ce,ge,.25,1)}return this._prevEase={start:x.exported.now(),duration:m,easing:T},T}reset(){this._active=!1}}class Js{constructor(m,T){this._clickZoom=m,this._tapZoom=T}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Or{constructor(){this.reset()}reset(){this._active=!1}dblclick(m,T){return m.preventDefault(),{cameraAnimation:N=>{N.easeTo({duration:300,zoom:N.getZoom()+(m.shiftKey?-1:1),around:N.unproject(T)},{originalEvent:m})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Di{constructor(){this._tap=new Au({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(m,T,N){this._swipePoint||(this._tapTime&&m.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?N.length>0&&(this._swipePoint=T[0],this._swipeTouch=N[0].identifier):this._tap.touchstart(m,T,N))}touchmove(m,T,N){if(this._tapTime){if(this._swipePoint){if(N[0].identifier!==this._swipeTouch)return;const U=T[0],X=U.y-this._swipePoint.y;return this._swipePoint=U,m.preventDefault(),this._active=!0,{zoomDelta:X/128}}}else this._tap.touchmove(m,T,N)}touchend(m,T,N){this._tapTime?this._swipePoint&&0===N.length&&this.reset():this._tap.touchend(m,T,N)&&(this._tapTime=m.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qa{constructor(m,T,N){this._el=m,this._mousePan=T,this._touchPan=N}enable(m){this._inertiaOptions=m||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Fi{constructor(m,T,N){this._pitchWithRotate=m.pitchWithRotate,this._mouseRotate=T,this._mousePitch=N}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Op{constructor(m,T,N,U){this._el=m,this._touchZoom=T,this._touchRotate=N,this._tapDragZoom=U,this._rotationDisabled=!1,this._enabled=!0}enable(m){this._touchZoom.enable(m),this._rotationDisabled||this._touchRotate.enable(m),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ws=R=>R.zoom||R.drag||R.pitch||R.rotate;class Uo extends x.Event{}class Ps{constructor(){this.constants=[1,1,.01],this.radius=0}setup(m,T){const N=x.sub([],T,m);this.radius=x.length(N[2]<0?x.div([],N,this.constants):[N[0],N[1],0])}projectRay(m){x.div(m,m,this.constants),x.normalize(m,m),x.mul$2(m,m,this.constants);const T=x.scale([],m,this.radius);if(T[2]>0){const N=x.scale([],[0,0,1],x.dot(T,[0,0,1])),U=x.scale([],x.normalize([],[T[0],T[1],0]),this.radius),X=x.add([],T,x.scale([],x.sub([],x.add([],U,N),T),2));T[0]=X[0],T[1]=X[1]}return T}}function yl(R){return R.panDelta&&R.panDelta.mag()||R.zoomDelta||R.bearingDelta||R.pitchDelta}class td{constructor(m,T){this._map=m,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $a(m),this._bearingSnap=T.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Ps,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(T),x.bindAll(["handleEvent","handleWindowEvent"],this);const N=this._el;this._listeners=[[N,"touchstart",{passive:!0}],[N,"touchmove",{passive:!1}],[N,"touchend",void 0],[N,"touchcancel",void 0],[N,"mousedown",void 0],[N,"mousemove",void 0],[N,"mouseup",void 0],[x.window.document,"mousemove",{capture:!0}],[x.window.document,"mouseup",void 0],[N,"mouseover",void 0],[N,"mouseout",void 0],[N,"dblclick",void 0],[N,"click",void 0],[N,"keydown",{capture:!1}],[N,"keyup",void 0],[N,"wheel",{passive:!1}],[N,"contextmenu",void 0],[x.window,"blur",void 0]];for(const[U,X,ce]of this._listeners)Ye.addEventListener(U,X,U===x.window.document?this.handleWindowEvent:this.handleEvent,ce)}destroy(){for(const[m,T,N]of this._listeners)Ye.removeEventListener(m,T,m===x.window.document?this.handleWindowEvent:this.handleEvent,N)}_addDefaultHandlers(m){const T=this._map,N=T.getCanvasContainer();this._add("mapEvent",new Sc(T,m));const U=T.boxZoom=new Ip(T,m);this._add("boxZoom",U);const X=new Id,ce=new Or;T.doubleClickZoom=new Js(ce,X),this._add("tapZoom",X),this._add("clickZoom",ce);const ge=new Di;this._add("tapDragZoom",ge);const we=T.touchPitch=new tc;this._add("touchPitch",we);const be=new kc(m),Ue=new Lu(m);T.dragRotate=new Fi(m,be,Ue),this._add("mouseRotate",be,["mousePitch"]),this._add("mousePitch",Ue,["mouseRotate"]);const qe=new Iu(m),Qe=new _l(m);T.dragPan=new Qa(N,qe,Qe),this._add("mousePan",qe),this._add("touchPan",Qe,["touchZoom","touchRotate"]);const Ke=new Wh,pt=new Ld;T.touchZoomRotate=new Op(N,pt,Ke,ge),this._add("touchRotate",Ke,["touchPan","touchZoom"]),this._add("touchZoom",pt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ku(T));const xt=T.scrollZoom=new Cr(T,this);this._add("scrollZoom",xt,["mousePan"]);const Nt=T.keyboard=new Ec;this._add("keyboard",Nt);for(const lt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])m.interactive&&m[lt]&&T[lt].enable(m[lt])}_add(m,T,N){this._handlers.push({handlerName:m,handler:T,allowed:N}),this._handlersById[m]=T}stop(m){if(!this._updatingCamera){for(const{handler:T}of this._handlers)T.reset();this._inertia.clear(),this._fireEvents({},{},m),this._changes=[]}}isActive(){for(const{handler:m}of this._handlers)if(m.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Ws(this._eventsInProgress))||this.isZooming()}_blockedByActive(m,T,N){for(const U in m)if(U!==N&&(!T||T.indexOf(U)<0))return!0;return!1}handleWindowEvent(m){this.handleEvent(m,`${m.type}Window`)}_getMapTouches(m){const T=[];for(const N of m)this._el.contains(N.target)&&T.push(N);return T}handleEvent(m,T){if("blur"===m.type)return void this.stop(!0);this._updatingCamera=!0;const N="renderFrame"===m.type,U=N?void 0:m,X={needsRenderFrame:!1},ce={},ge={},we=m.touches?this._getMapTouches(m.touches):void 0,be=we?Ye.touchPos(this._el,we):N?void 0:Ye.mousePos(this._el,m);for(const{handlerName:Qe,handler:Ke,allowed:pt}of this._handlers){if(!Ke.isEnabled())continue;let xt;this._blockedByActive(ge,pt,Qe)?Ke.reset():Ke[T||m.type]&&(xt=Ke[T||m.type](m,be,we),this.mergeHandlerResult(X,ce,xt,Qe,U),xt&&xt.needsRenderFrame&&this._triggerRenderFrame()),(xt||Ke.isActive())&&(ge[Qe]=Ke)}const Ue={};for(const Qe in this._previousActiveHandlers)ge[Qe]||(Ue[Qe]=U);this._previousActiveHandlers=ge,(Object.keys(Ue).length||yl(X))&&(this._changes.push([X,ce,Ue]),this._triggerRenderFrame()),(Object.keys(ge).length||yl(X))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:qe}=X;qe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],qe(this._map))}mergeHandlerResult(m,T,N,U,X){if(!N)return;x.extend(m,N);const ce={handlerName:U,originalEvent:N.originalEvent||X};void 0!==N.zoomDelta&&(T.zoom=ce),void 0!==N.panDelta&&(T.drag=ce),void 0!==N.pitchDelta&&(T.pitch=ce),void 0!==N.bearingDelta&&(T.rotate=ce)}_applyChanges(){const m={},T={},N={};for(const[U,X,ce]of this._changes)U.panDelta&&(m.panDelta=(m.panDelta||new x.pointGeometry(0,0))._add(U.panDelta)),U.zoomDelta&&(m.zoomDelta=(m.zoomDelta||0)+U.zoomDelta),U.bearingDelta&&(m.bearingDelta=(m.bearingDelta||0)+U.bearingDelta),U.pitchDelta&&(m.pitchDelta=(m.pitchDelta||0)+U.pitchDelta),void 0!==U.around&&(m.around=U.around),void 0!==U.aroundCoord&&(m.aroundCoord=U.aroundCoord),void 0!==U.pinchAround&&(m.pinchAround=U.pinchAround),U.noInertia&&(m.noInertia=U.noInertia),x.extend(T,X),x.extend(N,ce);this._updateMapTransform(m,T,N),this._changes=[]}_updateMapTransform(m,T,N){const U=this._map,X=U.transform,ce=wt=>[wt.x,wt.y,wt.z];if((wt=>{const Tt=this._eventsInProgress.drag;return Tt&&!this._handlersById[Tt.handlerName].isActive()})()&&!yl(m)){const wt=X.zoom;X.cameraElevationReference="sea",X.recenterOnTerrain(),X.cameraElevationReference="ground",wt!==X.zoom&&this._map._update(!0)}if(!yl(m))return this._fireEvents(T,N,!0);let{panDelta:ge,zoomDelta:we,bearingDelta:be,pitchDelta:Ue,around:qe,aroundCoord:Qe,pinchAround:Ke}=m;void 0!==Ke&&(qe=Ke),(wt=>T.drag&&!this._eventsInProgress.drag)()&&qe&&(this._dragOrigin=ce(X.pointCoordinate3D(qe)),this._trackingEllipsoid.setup(X._camera.position,this._dragOrigin)),X.cameraElevationReference="sea",U._stop(!0),qe=qe||U.transform.centerPoint,be&&(X.bearing+=be),Ue&&(X.pitch+=Ue),X._updateCameraState();const pt=[0,0,0];if(ge){const wt=X.screenPointToMercatorRay(qe),Tt=X.screenPointToMercatorRay(qe.sub(ge)),Ut=this._trackingEllipsoid.projectRay(wt.dir),St=this._trackingEllipsoid.projectRay(Tt.dir);pt[0]=St[0]-Ut[0],pt[1]=St[1]-Ut[1]}const xt=X.zoom,Nt=[0,0,0];if(we){const wt=ce(Qe||X.pointCoordinate3D(qe)),Tt={dir:x.normalize([],x.sub([],wt,X._camera.position))},Ut=X.screenPointToMercatorRay(X.centerPoint);if(Tt.dir[2]<0){const St=x.altitudeFromMercatorZ(wt[2],wt[1]),At=X.rayIntersectionCoordinate(X.pointRayIntersection(X.centerPoint,St)),Sn=X.zoomDeltaToMovement(ce(At),we)*(Ut.dir[2]/Tt.dir[2]);x.scale(Nt,Tt.dir,Sn)}else if(X._terrainEnabled()){const St=X.zoomDeltaToMovement(wt,we);x.scale(Nt,Tt.dir,St)}}const lt=x.add(pt,pt,Nt);X._translateCameraConstrained(lt),we&&Math.abs(X.zoom-xt)>1e-4&&X.recenterOnTerrain(),X.cameraElevationReference="ground",this._map._update(),m.noInertia||this._inertia.record(m),this._fireEvents(T,N,!0)}_fireEvents(m,T,N){const U=Ws(this._eventsInProgress),X=Ws(m),ce={};for(const Ue in m){const{originalEvent:qe}=m[Ue];this._eventsInProgress[Ue]||(ce[`${Ue}start`]=qe),this._eventsInProgress[Ue]=m[Ue]}!U&&X&&this._fireEvent("movestart",X.originalEvent);for(const Ue in ce)this._fireEvent(Ue,ce[Ue]);X&&this._fireEvent("move",X.originalEvent);for(const Ue in m){const{originalEvent:qe}=m[Ue];this._fireEvent(Ue,qe)}const ge={};let we;for(const Ue in this._eventsInProgress){const{handlerName:qe,originalEvent:Qe}=this._eventsInProgress[Ue];this._handlersById[qe].isActive()||(delete this._eventsInProgress[Ue],we=T[qe]||Qe,ge[`${Ue}end`]=we)}for(const Ue in ge)this._fireEvent(Ue,ge[Ue]);const be=Ws(this._eventsInProgress);if(N&&(U||X)&&!be){this._updatingCamera=!0;const Ue=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qe=Qe=>0!==Qe&&-this._bearingSnap<Qe&&Qe<this._bearingSnap;Ue?(qe(Ue.bearing||this._map.getBearing())&&(Ue.bearing=0),this._map.easeTo(Ue,{originalEvent:we})):(this._map.fire(new x.Event("moveend",{originalEvent:we})),qe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(m,T){this._map.fire(new x.Event(m,T?{originalEvent:T}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(m=>{delete this._frameId,this.handleEvent(new Uo("renderFrame",{timeStamp:m})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Lo extends x.Evented{constructor(m,T){super(),this._moving=!1,this._zooming=!1,this.transform=m,this._bearingSnap=T.bearingSnap,x.bindAll(["_renderFrameCallback"],this)}getCenter(){return new x.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(m,T){return this.jumpTo({center:m},T)}panBy(m,T,N){return m=x.pointGeometry.convert(m).mult(-1),this.panTo(this.transform.center,x.extend({offset:m},T),N)}panTo(m,T,N){return this.easeTo(x.extend({center:m},T),N)}getZoom(){return this.transform.zoom}setZoom(m,T){return this.jumpTo({zoom:m},T),this}zoomTo(m,T,N){return this.easeTo(x.extend({zoom:m},T),N)}zoomIn(m,T){return this.zoomTo(this.getZoom()+1,m,T),this}zoomOut(m,T){return this.zoomTo(this.getZoom()-1,m,T),this}getBearing(){return this.transform.bearing}setBearing(m,T){return this.jumpTo({bearing:m},T),this}getPadding(){return this.transform.padding}setPadding(m,T){return this.jumpTo({padding:m},T),this}rotateTo(m,T,N){return this.easeTo(x.extend({bearing:m},T),N)}resetNorth(m,T){return this.rotateTo(0,x.extend({duration:1e3},m),T),this}resetNorthPitch(m,T){return this.easeTo(x.extend({bearing:0,pitch:0,duration:1e3},m),T),this}snapToNorth(m,T){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(m,T):this}getPitch(){return this.transform.pitch}setPitch(m,T){return this.jumpTo({pitch:m},T),this}cameraForBounds(m,T){m=x.LngLatBounds.convert(m);const N=T&&T.bearing||0;return this._cameraForBoxAndBearing(m.getNorthWest(),m.getSouthEast(),N,T)}_extendCameraOptions(m){const T={top:0,bottom:0,right:0,left:0};if("number"==typeof(m=x.extend({padding:T,offset:[0,0],maxZoom:this.transform.maxZoom},m)).padding){const N=m.padding;m.padding={top:N,bottom:N,right:N,left:N}}return m.padding=x.extend(T,m.padding),m}_cameraForBoxAndBearing(m,T,N,U){const X=this._extendCameraOptions(U),ce=this.transform,ge=ce.padding,we=ce.project(x.LngLat.convert(m)),be=ce.project(x.LngLat.convert(T)),Ue=we.rotate(-x.degToRad(N)),qe=be.rotate(-x.degToRad(N)),Qe=new x.pointGeometry(Math.max(Ue.x,qe.x),Math.max(Ue.y,qe.y)),Ke=new x.pointGeometry(Math.min(Ue.x,qe.x),Math.min(Ue.y,qe.y)),pt=Qe.sub(Ke),xt=(ce.width-(ge.left+ge.right+X.padding.left+X.padding.right))/pt.x,Nt=(ce.height-(ge.top+ge.bottom+X.padding.top+X.padding.bottom))/pt.y;if(Nt<0||xt<0)return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const lt=Math.min(ce.scaleZoom(ce.scale*Math.min(xt,Nt)),X.maxZoom),wt="number"==typeof X.offset.x?new x.pointGeometry(X.offset.x,X.offset.y):x.pointGeometry.convert(X.offset),Tt=new x.pointGeometry((X.padding.left-X.padding.right)/2,(X.padding.top-X.padding.bottom)/2).rotate(N*Math.PI/180),Ut=wt.add(Tt).mult(ce.scale/ce.zoomScale(lt));return{center:ce.unproject(we.add(be).div(2).sub(Ut)),zoom:lt,bearing:N}}_cameraForBox(m,T,N,U,X){const ce=this._extendCameraOptions(X);N=N||0,U=U||0,m=x.LngLat.convert(m),T=x.LngLat.convert(T);const ge=this.transform.clone();ge.padding=ce.padding;const we=this.getFreeCameraOptions(),be=new x.LngLat(.5*(m.lng+T.lng),.5*(m.lat+T.lat)),Ue=.5*(N+U);if(ge._camera.position[2]<x.mercatorZfromAltitude(Ue,be.lat))return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");we.lookAtPoint(be),ge.setFreeCameraOptions(we);const qe=x.MercatorCoordinate.fromLngLat(m),Qe=x.MercatorCoordinate.fromLngLat(T),Ke=ge.pointRayIntersection(ge.centerPoint,Ue),pt=[(xt=ge.rayIntersectionCoordinate(Ke)).x,xt.y,xt.z];var xt;const Nt=ge.screenPointToMercatorRay(ge.centerPoint);let lt,wt=0;do{const Tt=Math.floor(ge.zoom),Ut=1<<Tt,St=Math.min(Ut*qe.x,Ut*Qe.x),At=Math.min(Ut*qe.y,Ut*Qe.y),Sn=Math.max(Ut*qe.x,Ut*Qe.x),An=Math.max(Ut*qe.y,Ut*Qe.y),Fn=new Rn([St,At,N],[Sn,An,U]),Lt=ni.fromInvProjectionMatrix(ge.invProjMatrix,ge.worldSize,Tt);if(2!==Fn.intersects(Lt)){lt&&(ge._camera.position=x.scaleAndAdd([],ge._camera.position,Nt.dir,-lt),ge._updateStateFromCamera());break}const ii=x.sub([],ge._camera.position,pt);lt=.5*x.length(ii),ge._camera.position=x.scaleAndAdd([],ge._camera.position,Nt.dir,lt);try{ge._updateStateFromCamera()}catch(Bn){return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++wt<10);return{center:ge.center,zoom:ge.zoom,bearing:ge.bearing,pitch:ge.pitch}}fitBounds(m,T,N){return this._fitInternal(this.cameraForBounds(m,T),T,N)}_raycastElevationBox(m,T){const N=this.transform.elevation;if(!N)return;const U=new x.pointGeometry(m.x,T.y),X=new x.pointGeometry(T.x,m.y),ce=N.pointCoordinate(m);if(!ce)return;const ge=N.pointCoordinate(T);if(!ge)return;const we=N.pointCoordinate(U);if(!we)return;const be=N.pointCoordinate(X);if(!be)return;const Ue=new x.MercatorCoordinate(ce[0],ce[1]).toLngLat(),qe=new x.MercatorCoordinate(ge[0],ge[1]).toLngLat(),Qe=new x.MercatorCoordinate(we[0],we[1]).toLngLat(),Ke=new x.MercatorCoordinate(be[0],be[1]).toLngLat(),pt=Math.min(Ue.lng,Math.min(qe.lng,Math.min(Qe.lng,Ke.lng))),xt=Math.min(Ue.lat,Math.min(qe.lat,Math.min(Qe.lat,Ke.lat))),Nt=Math.max(Ue.lng,Math.max(qe.lng,Math.max(Qe.lng,Ke.lng))),lt=Math.max(Ue.lat,Math.max(qe.lat,Math.max(Qe.lat,Ke.lat))),wt=Math.min(ce[3],Math.min(ge[3],Math.min(we[3],be[3]))),Tt=Math.max(ce[3],Math.max(ge[3],Math.max(we[3],be[3])));return{minLngLat:new x.LngLat(pt,xt),maxLngLat:new x.LngLat(Nt,lt),minAltitude:wt,maxAltitude:Tt}}fitScreenCoordinates(m,T,N,U,X){let ce,ge,we,be;const Ue=x.pointGeometry.convert(m),qe=x.pointGeometry.convert(T),Qe=this._raycastElevationBox(Ue,qe);if(Qe)ce=Qe.minLngLat,ge=Qe.maxLngLat,we=Qe.minAltitude,be=Qe.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(Ue,qe))return this;ce=this.transform.pointLocation(Ue),ge=this.transform.pointLocation(qe)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(x.pointGeometry.convert(m)),this.transform.pointLocation(x.pointGeometry.convert(T)),N,U):this._cameraForBox(ce,ge,we,be,U),U,X)}_fitInternal(m,T,N){return m?(delete(T=x.extend(m,T)).padding,T.linear?this.easeTo(T,N):this.flyTo(T,N)):this}jumpTo(m,T){this.stop();const N=this.transform;let U=!1,X=!1,ce=!1;return"zoom"in m&&N.zoom!==+m.zoom&&(U=!0,N.zoom=+m.zoom),void 0!==m.center&&(N.center=x.LngLat.convert(m.center)),"bearing"in m&&N.bearing!==+m.bearing&&(X=!0,N.bearing=+m.bearing),"pitch"in m&&N.pitch!==+m.pitch&&(ce=!0,N.pitch=+m.pitch),null==m.padding||N.isPaddingEqual(m.padding)||(N.padding=m.padding),this.fire(new x.Event("movestart",T)).fire(new x.Event("move",T)),U&&this.fire(new x.Event("zoomstart",T)).fire(new x.Event("zoom",T)).fire(new x.Event("zoomend",T)),X&&this.fire(new x.Event("rotatestart",T)).fire(new x.Event("rotate",T)).fire(new x.Event("rotateend",T)),ce&&this.fire(new x.Event("pitchstart",T)).fire(new x.Event("pitch",T)).fire(new x.Event("pitchend",T)),this.fire(new x.Event("moveend",T))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(m,T){this.stop();const N=this.transform,U=N.zoom,X=N.pitch,ce=N.bearing;N.setFreeCameraOptions(m);const ge=U!==N.zoom,we=X!==N.pitch,be=ce!==N.bearing;return this.fire(new x.Event("movestart",T)).fire(new x.Event("move",T)),ge&&this.fire(new x.Event("zoomstart",T)).fire(new x.Event("zoom",T)).fire(new x.Event("zoomend",T)),be&&this.fire(new x.Event("rotatestart",T)).fire(new x.Event("rotate",T)).fire(new x.Event("rotateend",T)),we&&this.fire(new x.Event("pitchstart",T)).fire(new x.Event("pitch",T)).fire(new x.Event("pitchend",T)),this.fire(new x.Event("moveend",T)),this}easeTo(m,T){this._stop(!1,m.easeId),(!1===(m=x.extend({offset:[0,0],duration:500,easing:x.ease},m)).animate||!m.essential&&x.exported.prefersReducedMotion)&&(m.duration=0);const N=this.transform,U=this.getZoom(),X=this.getBearing(),ce=this.getPitch(),ge=this.getPadding(),we="zoom"in m?+m.zoom:U,be="bearing"in m?this._normalizeBearing(m.bearing,X):X,Ue="pitch"in m?+m.pitch:ce,qe="padding"in m?m.padding:N.padding,Qe=x.pointGeometry.convert(m.offset);let Ke=N.centerPoint.add(Qe);const pt=N.pointLocation(Ke),xt=x.LngLat.convert(m.center||pt);this._normalizeCenter(xt);const Nt=N.project(pt),lt=N.project(xt).sub(Nt),wt=N.zoomScale(we-U);let Tt,Ut;m.around&&(Tt=x.LngLat.convert(m.around),Ut=N.locationPoint(Tt));const St={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||we!==U,this._rotating=this._rotating||X!==be,this._pitching=this._pitching||Ue!==ce,this._padding=!N.isPaddingEqual(qe),this._easeId=m.easeId,this._prepareEase(T,m.noMoveStart,St),this._ease(At=>{if(this._zooming&&(N.zoom=x.number(U,we,At)),this._rotating&&(N.bearing=x.number(X,be,At)),this._pitching&&(N.pitch=x.number(ce,Ue,At)),this._padding&&(N.interpolatePadding(ge,qe,At),Ke=N.centerPoint.add(Qe)),Tt)N.setLocationAtPoint(Tt,Ut);else{const Sn=N.zoomScale(N.zoom-U),An=we>U?Math.min(2,wt):Math.max(.5,wt),Fn=Math.pow(An,1-At),Lt=N.unproject(Nt.add(lt.mult(At*Fn)).mult(Sn));N.setLocationAtPoint(N.renderWorldCopies?Lt.wrap():Lt,Ke)}this._fireMoveEvents(T)},At=>{N.recenterOnTerrain(),this._afterEase(T,At)},m),this}_prepareEase(m,T,N={}){this._moving=!0,this.transform.cameraElevationReference="sea",T||N.moving||this.fire(new x.Event("movestart",m)),this._zooming&&!N.zooming&&this.fire(new x.Event("zoomstart",m)),this._rotating&&!N.rotating&&this.fire(new x.Event("rotatestart",m)),this._pitching&&!N.pitching&&this.fire(new x.Event("pitchstart",m))}_fireMoveEvents(m){this.fire(new x.Event("move",m)),this._zooming&&this.fire(new x.Event("zoom",m)),this._rotating&&this.fire(new x.Event("rotate",m)),this._pitching&&this.fire(new x.Event("pitch",m))}_afterEase(m,T){if(this._easeId&&T&&this._easeId===T)return;delete this._easeId,this.transform.cameraElevationReference="ground";const N=this._zooming,U=this._rotating,X=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,N&&this.fire(new x.Event("zoomend",m)),U&&this.fire(new x.Event("rotateend",m)),X&&this.fire(new x.Event("pitchend",m)),this.fire(new x.Event("moveend",m))}flyTo(m,T){if(!m.essential&&x.exported.prefersReducedMotion){const Xn=x.pick(m,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xn,T)}this.stop(),m=x.extend({offset:[0,0],speed:1.2,curve:1.42,easing:x.ease},m);const N=this.transform,U=this.getZoom(),X=this.getBearing(),ce=this.getPitch(),ge=this.getPadding(),we="zoom"in m?x.clamp(+m.zoom,N.minZoom,N.maxZoom):U,be="bearing"in m?this._normalizeBearing(m.bearing,X):X,Ue="pitch"in m?+m.pitch:ce,qe="padding"in m?m.padding:N.padding,Qe=N.zoomScale(we-U),Ke=x.pointGeometry.convert(m.offset);let pt=N.centerPoint.add(Ke);const xt=N.pointLocation(pt),Nt=x.LngLat.convert(m.center||xt);this._normalizeCenter(Nt);const lt=N.project(xt),wt=N.project(Nt).sub(lt);let Tt=m.curve;const Ut=Math.max(N.width,N.height),St=Ut/Qe,At=wt.mag();if("minZoom"in m){const Xn=x.clamp(Math.min(m.minZoom,U,we),N.minZoom,N.maxZoom),yr=Ut/N.zoomScale(Xn-U);Tt=Math.sqrt(yr/At*2)}const Sn=Tt*Tt;function An(Xn){const yr=(St*St-Ut*Ut+(Xn?-1:1)*Sn*Sn*At*At)/(2*(Xn?St:Ut)*Sn*At);return Math.log(Math.sqrt(yr*yr+1)-yr)}function Fn(Xn){return(Math.exp(Xn)-Math.exp(-Xn))/2}function Lt(Xn){return(Math.exp(Xn)+Math.exp(-Xn))/2}const ii=An(0);let Bn=function(Xn){return Lt(ii)/Lt(ii+Tt*Xn)},ci=function(Xn){return Ut*((Lt(ii)*(Fn(yr=ii+Tt*Xn)/Lt(yr))-Fn(ii))/Sn)/At;var yr},ti=(An(1)-ii)/Tt;if(Math.abs(At)<1e-6||!isFinite(ti)){if(Math.abs(Ut-St)<1e-6)return this.easeTo(m,T);const Xn=St<Ut?-1:1;ti=Math.abs(Math.log(St/Ut))/Tt,ci=function(){return 0},Bn=function(yr){return Math.exp(Xn*Tt*yr)}}return m.duration="duration"in m?+m.duration:1e3*ti/("screenSpeed"in m?+m.screenSpeed/Tt:+m.speed),m.maxDuration&&m.duration>m.maxDuration&&(m.duration=0),this._zooming=!0,this._rotating=X!==be,this._pitching=Ue!==ce,this._padding=!N.isPaddingEqual(qe),this._prepareEase(T,!1),this._ease(Xn=>{const yr=Xn*ti,Ri=1/Bn(yr);N.zoom=1===Xn?we:U+N.scaleZoom(Ri),this._rotating&&(N.bearing=x.number(X,be,Xn)),this._pitching&&(N.pitch=x.number(ce,Ue,Xn)),this._padding&&(N.interpolatePadding(ge,qe,Xn),pt=N.centerPoint.add(Ke));const ns=1===Xn?Nt:N.unproject(lt.add(wt.mult(ci(yr))).mult(Ri));N.setLocationAtPoint(N.renderWorldCopies?ns.wrap():ns,pt),N._updateCenterElevation(),this._fireMoveEvents(T)},()=>this._afterEase(T),m),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(m,T){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const N=this._onEaseEnd;delete this._onEaseEnd,N.call(this,T)}if(!m){const N=this.handlers;N&&N.stop(!1)}return this}_ease(m,T,N){!1===N.animate||0===N.duration?(m(1),T()):(this._easeStart=x.exported.now(),this._easeOptions=N,this._onEaseFrame=m,this._onEaseEnd=T,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const m=Math.min((x.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(m,T){m=x.wrap(m,-180,180);const N=Math.abs(m-T);return Math.abs(m-360-T)<N&&(m-=360),Math.abs(m+360-T)<N&&(m+=360),m}_normalizeCenter(m){const T=this.transform;if(!T.renderWorldCopies||T.lngRange)return;const N=m.lng-T.center.lng;m.lng+=N>180?-360:N<-180?360:0}}class Ja{constructor(m={}){this.options=m,x.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(m){const T=this.options&&this.options.compact;return this._map=m,this._container=Ye.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Ye.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Ye.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),T&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===T&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){Ye.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(m,T){const N=this._map._getUIString(`AttributionControl.${T}`);m.title=N,m.setAttribute("aria-label",N)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let m=this._editLink;m||(m=this._editLink=this._container.querySelector(".mapbox-improve-map"));const T=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||x.config.ACCESS_TOKEN}];if(m){const N=T.reduce((U,X,ce)=>(X.value&&(U+=`${X.key}=${X.value}${ce<T.length-1?"&":""}`),U),"?");m.href=`${x.config.FEEDBACK_URL}/${N}${this._map._hash?this._map._hash.getHashString(!0):""}`,m.rel="noopener nofollow",this._setElementTitle(m,"MapFeedback")}}_updateData(m){!m||"metadata"!==m.sourceDataType&&"visibility"!==m.sourceDataType&&"style"!==m.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let m=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?m=m.concat(this.options.customAttribution.map(U=>"string"!=typeof U?"":U)):"string"==typeof this.options.customAttribution&&m.push(this.options.customAttribution)),this._map.style.stylesheet){const U=this._map.style.stylesheet;this.styleOwner=U.owner,this.styleId=U.id}const T=this._map.style._sourceCaches;for(const U in T){const X=T[U];if(X.used){const ce=X.getSource();ce.attribution&&m.indexOf(ce.attribution)<0&&m.push(ce.attribution)}}m.sort((U,X)=>U.length-X.length),m=m.filter((U,X)=>{for(let ce=X+1;ce<m.length;ce++)if(m[ce].indexOf(U)>=0)return!1;return!0});const N=m.join(" | ");N!==this._attribHTML&&(this._attribHTML=N,m.length?(this._innerContainer.innerHTML=N,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class nc{constructor(){x.bindAll(["_updateLogo"],this),x.bindAll(["_updateCompact"],this)}onAdd(m){this._map=m,this._container=Ye.create("div","mapboxgl-ctrl");const T=Ye.create("a","mapboxgl-ctrl-logo");return T.target="_blank",T.rel="noopener nofollow",T.href="https://www.mapbox.com/",T.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),T.setAttribute("rel","noopener nofollow"),this._container.appendChild(T),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Ye.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(m){m&&"metadata"!==m.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const m=this._map.style._sourceCaches;if(0===Object.entries(m).length)return!0;for(const T in m){const N=m[T].getSource();if(N.hasOwnProperty("mapbox_logo")&&!N.mapbox_logo)return!1}return!0}_updateCompact(){const m=this._container.children;if(m.length){const T=m[0];this._map.getCanvasContainer().offsetWidth<250?T.classList.add("mapboxgl-compact"):T.classList.remove("mapboxgl-compact")}}}class Rp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(m){const T=++this._id;return this._queue.push({callback:m,id:T,cancelled:!1}),T}remove(m){const T=this._currentlyRunning,N=T?this._queue.concat(T):this._queue;for(const U of N)if(U.id===m)return void(U.cancelled=!0)}run(m=0){const T=this._currentlyRunning=this._queue;this._queue=[];for(const N of T)if(!N.cancelled&&(N.callback(m),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function cu(R,m,T){if(R=new x.LngLat(R.lng,R.lat),m){const N=new x.LngLat(R.lng-360,R.lat),U=new x.LngLat(R.lng+360,R.lat),X=360*Math.ceil(Math.abs(R.lng-T.center.lng)/360),ce=T.locationPoint(R).distSqr(m),ge=m.x<0||m.y<0||m.x>T.width||m.y>T.height;T.locationPoint(N).distSqr(m)<ce&&(ge||Math.abs(N.lng-T.center.lng)<X)?R=N:T.locationPoint(U).distSqr(m)<ce&&(ge||Math.abs(U.lng-T.center.lng)<X)&&(R=U)}for(;Math.abs(R.lng-T.center.lng)>180;){const N=T.locationPoint(R);if(N.x>=0&&N.y>=0&&N.x<=T.width&&N.y<=T.height)break;R.lng>T.center.lng?R.lng-=360:R.lng+=360}return R}const yh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function nd(R,m,T){const N=R.classList;for(const U in yh)N.remove(`mapboxgl-${T}-anchor-${U}`);N.add(`mapboxgl-${T}-anchor-${m}`)}class uu extends x.Evented{constructor(m,T){if(super(),(m instanceof x.window.HTMLElement||T)&&(m=x.extend({element:m},T)),x.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=m&&m.anchor||"center",this._color=m&&m.color||"#3FB1CE",this._scale=m&&m.scale||1,this._draggable=m&&m.draggable||!1,this._clickTolerance=m&&m.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=m&&m.rotation||0,this._rotationAlignment=m&&m.rotationAlignment||"auto",this._pitchAlignment=m&&m.pitchAlignment&&"auto"!==m.pitchAlignment?m.pitchAlignment:this._rotationAlignment,m&&m.element)this._element=m.element,this._offset=x.pointGeometry.convert(m&&m.offset||[0,0]);else{this._defaultMarker=!0,this._element=Ye.create("div"),this._element.setAttribute("aria-label","Map marker");const N=Ye.createNS("http://www.w3.org/2000/svg","svg"),U=41,X=27;N.setAttributeNS(null,"display","block"),N.setAttributeNS(null,"height",`${U}px`),N.setAttributeNS(null,"width",`${X}px`),N.setAttributeNS(null,"viewBox",`0 0 ${X} ${U}`);const ce=Ye.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"stroke","none"),ce.setAttributeNS(null,"stroke-width","1"),ce.setAttributeNS(null,"fill","none"),ce.setAttributeNS(null,"fill-rule","evenodd");const ge=Ye.createNS("http://www.w3.org/2000/svg","g");ge.setAttributeNS(null,"fill-rule","nonzero");const we=Ye.createNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"transform","translate(3.0, 29.0)"),we.setAttributeNS(null,"fill","#000000");const be=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const wt of be){const Tt=Ye.createNS("http://www.w3.org/2000/svg","ellipse");Tt.setAttributeNS(null,"opacity","0.04"),Tt.setAttributeNS(null,"cx","10.5"),Tt.setAttributeNS(null,"cy","5.80029008"),Tt.setAttributeNS(null,"rx",wt.rx),Tt.setAttributeNS(null,"ry",wt.ry),we.appendChild(Tt)}const Ue=Ye.createNS("http://www.w3.org/2000/svg","g");Ue.setAttributeNS(null,"fill",this._color);const qe=Ye.createNS("http://www.w3.org/2000/svg","path");qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ue.appendChild(qe);const Qe=Ye.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"opacity","0.25"),Qe.setAttributeNS(null,"fill","#000000");const Ke=Ye.createNS("http://www.w3.org/2000/svg","path");Ke.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qe.appendChild(Ke);const pt=Ye.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pt.setAttributeNS(null,"fill","#FFFFFF");const xt=Ye.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Nt=Ye.createNS("http://www.w3.org/2000/svg","circle");Nt.setAttributeNS(null,"fill","#000000"),Nt.setAttributeNS(null,"opacity","0.25"),Nt.setAttributeNS(null,"cx","5.5"),Nt.setAttributeNS(null,"cy","5.5"),Nt.setAttributeNS(null,"r","5.4999962");const lt=Ye.createNS("http://www.w3.org/2000/svg","circle");lt.setAttributeNS(null,"fill","#FFFFFF"),lt.setAttributeNS(null,"cx","5.5"),lt.setAttributeNS(null,"cy","5.5"),lt.setAttributeNS(null,"r","5.4999962"),xt.appendChild(Nt),xt.appendChild(lt),ge.appendChild(we),ge.appendChild(Ue),ge.appendChild(Qe),ge.appendChild(pt),ge.appendChild(xt),N.appendChild(ge),N.setAttributeNS(null,"height",U*this._scale+"px"),N.setAttributeNS(null,"width",X*this._scale+"px"),this._element.appendChild(N),this._offset=x.pointGeometry.convert(m&&m.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",N=>{N.preventDefault()}),this._element.addEventListener("mousedown",N=>{N.preventDefault()}),nd(this._element,this._anchor,"marker"),this._popup=null}addTo(m){return this.remove(),this._map=m,m.getCanvasContainer().appendChild(this._element),m.on("move",this._update),m.on("moveend",this._update),m.on("remove",this._clearFadeTimer),m._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),Ye.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(m){return this._lngLat=x.LngLat.convert(m),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(m){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),m){if(!("offset"in m.options)){const T=38.1,N=13.5,U=Math.sqrt(Math.pow(N,2)/2);m.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-T],"bottom-left":[U,-1*(T-N+U)],"bottom-right":[-U,-1*(T-N+U)],left:[N,-1*(T-N)],right:[-N,-1*(T-N)]}:this._offset}this._popup=m,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(m){const T=m.code,N=m.charCode||m.keyCode;"Space"!==T&&"Enter"!==T&&32!==N&&13!==N||this.togglePopup()}_onMapClick(m){const T=m.originalEvent.target,N=this._element;this._popup&&(T===N||N.contains(T))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const m=this._popup;return m?(m.isOpen()?m.remove():m.addTo(this._map),this):this}_evaluateOpacity(){const m=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(m))return void this._clearFadeTimer();const T=this._map.unproject(m);let N=!1;if(this._map.getTerrain()){const X=this._map.getFreeCameraOptions();if(X.position){const ce=X.position.toLngLat();N=ce.distanceTo(T)<.9*ce.distanceTo(this._lngLat)}}const U=(1-this._map._queryFogOpacity(T))*(N?.2:1);this._element.style.opacity=`${U}`,this._popup&&this._popup._setOpacity(`${U}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(m){const T=this._map.transform;return!!m&&m.x>=0&&m.x<T.width&&m.y>=0&&m.y<T.height}_update(m){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let T="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?T=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(T=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let N="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?N="rotateX(0deg)":"map"===this._pitchAlignment&&(N=`rotateX(${this._map.getPitch()}deg)`),m&&"moveend"!==m.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&Ye.setTransform(this._element,`${yh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${N} ${T}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const m=this._map.transform,T=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&T._rotate(m.angle),"map"===this._pitchAlignment&&(T.y*=Math.cos(m._pitch)),T}getOffset(){return this._offset}setOffset(m){return this._offset=x.pointGeometry.convert(m),this._update(),this}_onMove(m){if(!this._isDragging){const T=this._clickTolerance||this._map._clickTolerance;this._isDragging=m.point.dist(this._pointerdownPos)>=T}this._isDragging&&(this._pos=m.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new x.Event("dragstart"))),this.fire(new x.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new x.Event("dragend")),this._state="inactive"}_addDragHandler(m){this._element.contains(m.originalEvent.target)&&(m.preventDefault(),this._positionDelta=m.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=m.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(m){return this._draggable=!!m,this._map&&(m?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(m){return this._rotation=m||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(m){return this._rotationAlignment=m||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(m){return this._pitchAlignment=m&&"auto"!==m?m:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class du{constructor(m){this.jumpTo(m)}getValue(m){if(m<=this._startTime)return this._start;if(m>=this._endTime)return this._end;const T=x.easeCubicInOut((m-this._startTime)/(this._endTime-this._startTime));return this._start*(1-T)+this._end*T}isEasing(m){return m>=this._startTime&&m<=this._endTime}jumpTo(m){this._startTime=-1/0,this._endTime=-1/0,this._start=m,this._end=m}easeTo(m,T,N){this._start=this.getValue(T),this._end=m,this._startTime=T,this._endTime=T+N}}const Dc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:Pu,HTMLElement:rt,ImageBitmap:Ac}=x.window,vh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Xa(R){R.parentNode&&R.parentNode.removeChild(R)}const as={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fp{constructor(m,T,N=!1){this._clickTolerance=10,this.element=T,this.mouseRotate=new kc({clickTolerance:m.dragRotate._mouseRotate._clickTolerance}),this.map=m,N&&(this.mousePitch=new Lu({clickTolerance:m.dragRotate._mousePitch._clickTolerance})),x.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),Ye.addEventListener(T,"mousedown",this.mousedown),Ye.addEventListener(T,"touchstart",this.touchstart,{passive:!1}),Ye.addEventListener(T,"touchmove",this.touchmove),Ye.addEventListener(T,"touchend",this.touchend),Ye.addEventListener(T,"touchcancel",this.reset)}down(m,T){this.mouseRotate.mousedown(m,T),this.mousePitch&&this.mousePitch.mousedown(m,T),Ye.disableDrag()}move(m,T){const N=this.map,U=this.mouseRotate.mousemoveWindow(m,T);if(U&&U.bearingDelta&&N.setBearing(N.getBearing()+U.bearingDelta),this.mousePitch){const X=this.mousePitch.mousemoveWindow(m,T);X&&X.pitchDelta&&N.setPitch(N.getPitch()+X.pitchDelta)}}off(){const m=this.element;Ye.removeEventListener(m,"mousedown",this.mousedown),Ye.removeEventListener(m,"touchstart",this.touchstart,{passive:!1}),Ye.removeEventListener(m,"touchmove",this.touchmove),Ye.removeEventListener(m,"touchend",this.touchend),Ye.removeEventListener(m,"touchcancel",this.reset),this.offTemp()}offTemp(){Ye.enableDrag(),Ye.removeEventListener(x.window,"mousemove",this.mousemove),Ye.removeEventListener(x.window,"mouseup",this.mouseup)}mousedown(m){this.down(x.extend({},m,{ctrlKey:!0,preventDefault:()=>m.preventDefault()}),Ye.mousePos(this.element,m)),Ye.addEventListener(x.window,"mousemove",this.mousemove),Ye.addEventListener(x.window,"mouseup",this.mouseup)}mousemove(m){this.move(m,Ye.mousePos(this.element,m))}mouseup(m){this.mouseRotate.mouseupWindow(m),this.mousePitch&&this.mousePitch.mouseupWindow(m),this.offTemp()}touchstart(m){1!==m.targetTouches.length?this.reset():(this._startPos=this._lastPos=Ye.touchPos(this.element,m.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>m.preventDefault()},this._startPos))}touchmove(m){1!==m.targetTouches.length?this.reset():(this._lastPos=Ye.touchPos(this.element,m.targetTouches)[0],this.move({preventDefault:()=>m.preventDefault()},this._lastPos))}touchend(m){0===m.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Po={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let ri,Xo=0,id=!1;const Ba={maxWidth:100,unit:"metric"};function Hf(R,m,T){const N=T&&T.maxWidth||100,U=R._container.clientHeight/2,X=R.unproject([0,U]),ce=R.unproject([N,U]),ge=X.distanceTo(ce);if(T&&"imperial"===T.unit){const we=3.2808*ge;we>5280?bh(m,N,we/5280,R._getUIString("ScaleControl.Miles"),R):bh(m,N,we,R._getUIString("ScaleControl.Feet"),R)}else T&&"nautical"===T.unit?bh(m,N,ge/1852,R._getUIString("ScaleControl.NauticalMiles"),R):ge>=1e3?bh(m,N,ge/1e3,R._getUIString("ScaleControl.Kilometers"),R):bh(m,N,ge,R._getUIString("ScaleControl.Meters"),R)}function bh(R,m,T,N,U){const X=function(ge){const we=Math.pow(10,`${Math.floor(ge)}`.length-1);let be=ge/we;return be=be>=10?10:be>=5?5:be>=3?3:be>=2?2:be>=1?1:function(Ue){const qe=Math.pow(10,Math.ceil(-Math.log(Ue)/Math.LN10));return Math.round(Ue*qe)/qe}(be),we*be}(T),ce=X/T;U._requestDomTask(()=>{R.style.width=m*ce+"px",R.innerHTML=`${X}&nbsp;${N}`})}const Gh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ka=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function qh(R){if(R){if("number"==typeof R){const m=Math.round(Math.sqrt(.5*Math.pow(R,2)));return{center:new x.pointGeometry(0,0),top:new x.pointGeometry(0,R),"top-left":new x.pointGeometry(m,m),"top-right":new x.pointGeometry(-m,m),bottom:new x.pointGeometry(0,-R),"bottom-left":new x.pointGeometry(m,-m),"bottom-right":new x.pointGeometry(-m,-m),left:new x.pointGeometry(R,0),right:new x.pointGeometry(-R,0)}}if(R instanceof x.pointGeometry||Array.isArray(R)){const m=x.pointGeometry.convert(R);return{center:m,top:m,"top-left":m,"top-right":m,bottom:m,"bottom-left":m,"bottom-right":m,left:m,right:m}}return{center:x.pointGeometry.convert(R.center||[0,0]),top:x.pointGeometry.convert(R.top||[0,0]),"top-left":x.pointGeometry.convert(R["top-left"]||[0,0]),"top-right":x.pointGeometry.convert(R["top-right"]||[0,0]),bottom:x.pointGeometry.convert(R.bottom||[0,0]),"bottom-left":x.pointGeometry.convert(R["bottom-left"]||[0,0]),"bottom-right":x.pointGeometry.convert(R["bottom-right"]||[0,0]),left:x.pointGeometry.convert(R.left||[0,0]),right:x.pointGeometry.convert(R.right||[0,0])}}return qh(new x.pointGeometry(0,0))}const Np={version:x.version,supported:de,setRTLTextPlugin:x.setRTLTextPlugin,getRTLTextPluginStatus:x.getRTLTextPluginStatus,Map:class extends Lo{constructor(R){if(null!=(R=x.extend({},vh,R)).minZoom&&null!=R.maxZoom&&R.minZoom>R.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=R.minPitch&&null!=R.maxPitch&&R.minPitch>R.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=R.minPitch&&R.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=R.maxPitch&&R.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ar(R.minZoom,R.maxZoom,R.minPitch,R.maxPitch,R.renderWorldCopies),R),this._interactive=R.interactive,this._maxTileCacheSize=R.maxTileCacheSize,this._failIfMajorPerformanceCaveat=R.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=R.preserveDrawingBuffer,this._antialias=R.antialias,this._trackResize=R.trackResize,this._bearingSnap=R.bearingSnap,this._refreshExpiredTiles=R.refreshExpiredTiles,this._fadeDuration=R.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=R.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=R.collectResourceTiming,this._optimizeForTerrain=R.optimizeForTerrain,this._renderTaskQueue=new Rp,this._domRenderTaskQueue=new Rp,this._controls=[],this._markers=[],this._mapId=x.uniqueId(),this._locale=x.extend({},Dc,R.locale),this._clickTolerance=R.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new du(0),this._requestManager=new x.RequestManager(R.transformRequest,R.accessToken,R.testMode),this._silenceAuthErrors=!!R.testMode,"string"==typeof R.container){if(this._container=x.window.document.getElementById(R.container),!this._container)throw new Error(`Container '${R.container}' not found.`)}else{if(!(R.container instanceof rt))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=R.container}if(R.maxBounds&&this.setMaxBounds(R.maxBounds),x.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==x.window&&(x.window.addEventListener("online",this._onWindowOnline,!1),x.window.addEventListener("resize",this._onWindowResize,!1),x.window.addEventListener("orientationchange",this._onWindowResize,!1),x.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new td(this,R),this._hash=R.hash&&new ts("string"==typeof R.hash&&R.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:R.center,zoom:R.zoom,bearing:R.bearing,pitch:R.pitch}),R.bounds&&(this.resize(),this.fitBounds(R.bounds,x.extend({},R.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=R.localFontFamily,this._localIdeographFontFamily=R.localIdeographFontFamily,R.style&&this.setStyle(R.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),R.attributionControl&&this.addControl(new Ja({customAttribution:R.customAttribution})),this._logoControl=new nc,this.addControl(this._logoControl,R.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",m=>{this._update("style"===m.dataType),this.fire(new x.Event(`${m.dataType}data`,m))}),this.on("dataloading",m=>{this.fire(new x.Event(`${m.dataType}dataloading`,m))})}_getMapId(){return this._mapId}addControl(R,m){if(void 0===m&&(m=R.getDefaultPosition?R.getDefaultPosition():"top-right"),!R||!R.onAdd)return this.fire(new x.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const T=R.onAdd(this);this._controls.push(R);const N=this._controlPositions[m];return-1!==m.indexOf("bottom")?N.insertBefore(T,N.firstChild):N.appendChild(T),this}removeControl(R){if(!R||!R.onRemove)return this.fire(new x.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const m=this._controls.indexOf(R);return m>-1&&this._controls.splice(m,1),R.onRemove(this),this}hasControl(R){return this._controls.indexOf(R)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(R){const m=this._containerDimensions(),T=m[0],N=m[1];this._resizeCanvas(T,N),this.transform.resize(T,N),this.painter.resize(T,N);const U=!this._moving;return U&&(this.stop(),this.fire(new x.Event("movestart",R)).fire(new x.Event("move",R))),this.fire(new x.Event("resize",R)),U&&this.fire(new x.Event("moveend",R)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(R){return this.transform.setMaxBounds(x.LngLatBounds.convert(R)),this._update()}setMinZoom(R){if((R=null==R?-2:R)>=-2&&R<=this.transform.maxZoom)return this.transform.minZoom=R,this._update(),this.getZoom()<R&&this.setZoom(R),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(R){if((R=null==R?22:R)>=this.transform.minZoom)return this.transform.maxZoom=R,this._update(),this.getZoom()>R&&this.setZoom(R),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(R){if((R=null==R?0:R)<0)throw new Error("minPitch must be greater than or equal to 0");if(R>=0&&R<=this.transform.maxPitch)return this.transform.minPitch=R,this._update(),this.getPitch()<R&&this.setPitch(R),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(R){if((R=null==R?85:R)>85)throw new Error("maxPitch must be less than or equal to 85");if(R>=this.transform.minPitch)return this.transform.maxPitch=R,this._update(),this.getPitch()>R&&this.setPitch(R),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(R){return this.transform.renderWorldCopies=R,this._update()}project(R){return this.transform.locationPoint3D(x.LngLat.convert(R))}unproject(R){return this.transform.pointLocation3D(x.pointGeometry.convert(R))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(R,m,T){if("mouseenter"===R||"mouseover"===R){let N=!1;return{layer:m,listener:T,delegates:{mousemove:X=>{const ce=this.getLayer(m)?this.queryRenderedFeatures(X.point,{layers:[m]}):[];ce.length?N||(N=!0,T.call(this,new Ir(R,this,X.originalEvent,{features:ce}))):N=!1},mouseout:()=>{N=!1}}}}if("mouseleave"===R||"mouseout"===R){let N=!1;return{layer:m,listener:T,delegates:{mousemove:ce=>{(this.getLayer(m)?this.queryRenderedFeatures(ce.point,{layers:[m]}):[]).length?N=!0:N&&(N=!1,T.call(this,new Ir(R,this,ce.originalEvent)))},mouseout:ce=>{N&&(N=!1,T.call(this,new Ir(R,this,ce.originalEvent)))}}}}{const N=U=>{const X=this.getLayer(m)?this.queryRenderedFeatures(U.point,{layers:[m]}):[];X.length&&(U.features=X,T.call(this,U),delete U.features)};return{layer:m,listener:T,delegates:{[R]:N}}}}on(R,m,T){if(void 0===T)return super.on(R,m);const N=this._createDelegatedListener(R,m,T);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[R]=this._delegatedListeners[R]||[],this._delegatedListeners[R].push(N);for(const U in N.delegates)this.on(U,N.delegates[U]);return this}once(R,m,T){if(void 0===T)return super.once(R,m);const N=this._createDelegatedListener(R,m,T);for(const U in N.delegates)this.once(U,N.delegates[U]);return this}off(R,m,T){return void 0===T?super.off(R,m):(this._delegatedListeners&&this._delegatedListeners[R]&&(N=>{const U=this._delegatedListeners[R];for(let X=0;X<U.length;X++){const ce=U[X];if(ce.layer===m&&ce.listener===T){for(const ge in ce.delegates)this.off(ge,ce.delegates[ge]);return U.splice(X,1),this}}})(),this)}queryRenderedFeatures(R,m){return this.style?(void 0!==m||void 0===R||R instanceof x.pointGeometry||Array.isArray(R)||(m=R,R=void 0),this.style.queryRenderedFeatures(R=R||[[0,0],[this.transform.width,this.transform.height]],m=m||{},this.transform)):[]}querySourceFeatures(R,m){return this.style.querySourceFeatures(R,m)}queryTerrainElevation(R,m){const T=this.transform.elevation;return T?(m=x.extend({},{exaggerated:!0},m),T.getAtPoint(x.MercatorCoordinate.fromLngLat(R),null,m.exaggerated)):null}setStyle(R,m){return!1!==(m=x.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},m)).diff&&m.localIdeographFontFamily===this._localIdeographFontFamily&&m.localFontFamily===this._localFontFamily&&this.style&&R?(this._diffStyle(R,m),this):(this._localIdeographFontFamily=m.localIdeographFontFamily,this._localFontFamily=m.localFontFamily,this._updateStyle(R,m))}_getUIString(R){const m=this._locale[R];if(null==m)throw new Error(`Missing UI string '${R}'`);return m}_updateStyle(R,m){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),R&&(this.style=new ia(this,m||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof R?this.style.loadURL(R):this.style.loadJSON(R)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ia(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(R,m){if("string"==typeof R){const T=this._requestManager.normalizeStyleURL(R),N=this._requestManager.transformRequest(T,x.ResourceType.Style);x.getJSON(N,(U,X)=>{U?this.fire(new x.ErrorEvent(U)):X&&this._updateDiff(X,m)})}else"object"==typeof R&&this._updateDiff(R,m)}_updateDiff(R,m){try{this.style.setState(R)&&this._update(!0)}catch(T){x.warnOnce(`Unable to perform style diff: ${T.message||T.error||T}.  Rebuilding the style from scratch.`),this._updateStyle(R,m)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():x.warnOnce("There is no style added to the map.")}addSource(R,m){return this._lazyInitEmptyStyle(),this.style.addSource(R,m),this._update(!0)}isSourceLoaded(R){const m=this.style&&this.style._getSourceCaches(R);if(0!==m.length)return m.every(T=>T.loaded());this.fire(new x.ErrorEvent(new Error(`There is no source with ID '${R}'`)))}areTilesLoaded(){const R=this.style&&this.style._sourceCaches;for(const m in R){const T=R[m]._tiles;for(const N in T){const U=T[N];if("loaded"!==U.state&&"errored"!==U.state)return!1}}return!0}addSourceType(R,m,T){return this._lazyInitEmptyStyle(),this.style.addSourceType(R,m,T)}removeSource(R){return this.style.removeSource(R),this._updateTerrain(),this._update(!0)}getSource(R){return this.style.getSource(R)}addImage(R,m,{pixelRatio:T=1,sdf:N=!1,stretchX:U,stretchY:X,content:ce}={}){if(this._lazyInitEmptyStyle(),m instanceof Pu||Ac&&m instanceof Ac){const{width:ge,height:we,data:be}=x.exported.getImageData(m);this.style.addImage(R,{data:new x.RGBAImage({width:ge,height:we},be),pixelRatio:T,stretchX:U,stretchY:X,content:ce,sdf:N,version:0})}else{if(void 0===m.width||void 0===m.height)return this.fire(new x.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ge,height:we,data:be}=m,Ue=m;this.style.addImage(R,{data:new x.RGBAImage({width:ge,height:we},new Uint8Array(be)),pixelRatio:T,stretchX:U,stretchY:X,content:ce,sdf:N,version:0,userImage:Ue}),Ue.onAdd&&Ue.onAdd(this,R)}}}updateImage(R,m){const T=this.style.getImage(R);if(!T)return this.fire(new x.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const N=m instanceof Pu||Ac&&m instanceof Ac?x.exported.getImageData(m):m,{width:U,height:X,data:ce}=N;return void 0===U||void 0===X?this.fire(new x.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):U!==T.data.width||X!==T.data.height?this.fire(new x.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(T.data.replace(ce,!(m instanceof Pu||Ac&&m instanceof Ac)),void this.style.updateImage(R,T))}hasImage(R){return R?!!this.style.getImage(R):(this.fire(new x.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(R){this.style.removeImage(R)}loadImage(R,m){x.getImage(this._requestManager.transformRequest(R,x.ResourceType.Image),(T,N)=>{m(T,N instanceof Pu?x.exported.getImageData(N):N)})}listImages(){return this.style.listImages()}addLayer(R,m){return this._lazyInitEmptyStyle(),this.style.addLayer(R,m),this._update(!0)}moveLayer(R,m){return this.style.moveLayer(R,m),this._update(!0)}removeLayer(R){return this.style.removeLayer(R),this._update(!0)}getLayer(R){return this.style.getLayer(R)}setLayerZoomRange(R,m,T){return this.style.setLayerZoomRange(R,m,T),this._update(!0)}setFilter(R,m,T={}){return this.style.setFilter(R,m,T),this._update(!0)}getFilter(R){return this.style.getFilter(R)}setPaintProperty(R,m,T,N={}){return this.style.setPaintProperty(R,m,T,N),this._update(!0)}getPaintProperty(R,m){return this.style.getPaintProperty(R,m)}setLayoutProperty(R,m,T,N={}){return this.style.setLayoutProperty(R,m,T,N),this._update(!0)}getLayoutProperty(R,m){return this.style.getLayoutProperty(R,m)}setLight(R,m={}){return this._lazyInitEmptyStyle(),this.style.setLight(R,m),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(R){return this._lazyInitEmptyStyle(),this.style.setTerrain(R),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(R){return this._lazyInitEmptyStyle(),this.style.setFog(R),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(R){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(x.LngLat.convert(R),this.transform):0}setFeatureState(R,m){return this.style.setFeatureState(R,m),this._update()}removeFeatureState(R,m){return this.style.removeFeatureState(R,m),this._update()}getFeatureState(R){return this.style.getFeatureState(R)}_containerDimensions(){let R=0,m=0;return this._container&&(R=this._container.clientWidth||400,m=this._container.clientHeight||300),[R,m]}_detectMissingCSS(){"rgb(250, 128, 114)"!==x.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&x.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const R=this._container;R.classList.add("mapboxgl-map"),(this._missingCSSCanary=Ye.create("div","mapboxgl-canary",R)).style.visibility="hidden",this._detectMissingCSS();const m=this._canvasContainer=Ye.create("div","mapboxgl-canvas-container",R);this._interactive&&m.classList.add("mapboxgl-interactive"),this._canvas=Ye.create("canvas","mapboxgl-canvas",m),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const T=this._containerDimensions();this._resizeCanvas(T[0],T[1]);const N=this._controlContainer=Ye.create("div","mapboxgl-control-container",R),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(X=>{U[X]=Ye.create("div",`mapboxgl-ctrl-${X}`,N)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(R,m){const T=x.exported.devicePixelRatio||1;this._canvas.width=T*R,this._canvas.height=T*m,this._canvas.style.width=`${R}px`,this._canvas.style.height=`${m}px`}_addMarker(R){this._markers.push(R)}_removeMarker(R){const m=this._markers.indexOf(R);-1!==m&&this._markers.splice(m,1)}_setupPainter(){const R=x.extend({},de.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),m=this._canvas.getContext("webgl",R)||this._canvas.getContext("experimental-webgl",R);m?(x.storeAuthState(m,!0),this.painter=new sf(m,this.transform),this.on("data",T=>{"source"===T.dataType&&this.painter.setTileLoadedFlag(!0)}),x.exported$1.testSupport(m)):this.fire(new x.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(R){R.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new x.Event("webglcontextlost",{originalEvent:R}))}_contextRestored(R){this._setupPainter(),this.resize(),this._update(),this.fire(new x.Event("webglcontextrestored",{originalEvent:R}))}_onMapScroll(R){if(R.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(R){return this.style?(this._styleDirty=this._styleDirty||R,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(R){return this._update(),this._renderTaskQueue.add(R)}_cancelRenderFrame(R){this._renderTaskQueue.remove(R)}_requestDomTask(R){!this.isMoving()&&this.loaded()?R():this._domRenderTaskQueue.add(R)}_render(R){let m;const T=this.painter.context.extTimerQuery,N=x.exported.now();this.listens("gpu-timing-frame")&&(m=T.createQueryEXT(),T.beginQueryEXT(T.TIME_ELAPSED_EXT,m));let U=this._updateAverageElevation(N);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(R),this._domRenderTaskQueue.run(R),this._removed)return;let X=!1;const ce=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const we=this.transform.zoom,be=x.exported.now();this.style.zoomHistory.update(we,be);const Ue=new x.EvaluationParameters(we,{now:be,fadeDuration:ce,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),qe=Ue.crossFadingFactor();1===qe&&qe===this._crossFadingFactor||(X=!0,this._crossFadingFactor=qe),this.style.update(Ue)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,ce,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:ce,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new x.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new x.Event("load"))),this.style&&(this.style.hasTransitions()||X)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const we=x.exported.now()-N;T.endQueryEXT(T.TIME_ELAPSED_EXT,m),setTimeout(()=>{const be=T.getQueryObjectEXT(m,T.QUERY_RESULT_EXT)/1e6;T.deleteQueryEXT(m),this.fire(new x.Event("gpu-timing-frame",{cpuTime:we,gpuTime:be}))},50)}if(this.listens("gpu-timing-layer")){const we=this.painter.collectGpuTimers();setTimeout(()=>{const be=this.painter.queryGpuTimers(we);this.fire(new x.Event("gpu-timing-layer",{layerTimes:be}))},50)}const ge=this._sourcesDirty||this._styleDirty||this._placementDirty||U;if(ge||this._repaint)this.triggerRepaint();else{const we=!this.isMoving()&&this.loaded();if(we&&(U=this._updateAverageElevation(N,!0)),U)this.triggerRepaint();else if(this._triggerFrame(!1),we&&(this.fire(new x.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const be=this._calculateSpeedIndex();this.fire(new x.Event("speedindexcompleted",{speedIndex:be})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||ge||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(R,m=!1){const T=N=>(this.transform.averageElevation=N,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&T(0);if((m||R-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(R)){const N=this.transform.averageElevation;let U=this.transform.sampleAverageElevation();isNaN(U)?U=0:this._averageElevationLastSampledAt=R;const X=Math.abs(N-U);if(X>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(U),T(U);this._averageElevation.easeTo(U,R,300)}else if(X>1e-4)return this._averageElevation.jumpTo(U),T(U)}return!!this._averageElevation.isEasing(R)&&T(this._averageElevation.getValue(R))}_authenticate(){x.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,R=>{if(R&&(R.message===x.AUTH_ERR_MSG||401===R.status)){const m=this.painter.context.gl;x.storeAuthState(m,!1),this._logoControl instanceof nc&&this._logoControl._updateLogo(),m&&m.clear(m.DEPTH_BUFFER_BIT|m.COLOR_BUFFER_BIT|m.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new x.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),x.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const R=this.painter.canvasCopy(),m=this.painter.getCanvasCopiesAndTimestamps();m.timeStamps.push(performance.now());const T=this.painter.context.gl,N=T.createFramebuffer();function U(X){T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,X,0);const ce=new Uint8Array(T.drawingBufferWidth*T.drawingBufferHeight*4);return T.readPixels(0,0,T.drawingBufferWidth,T.drawingBufferHeight,T.RGBA,T.UNSIGNED_BYTE,ce),ce}return T.bindFramebuffer(T.FRAMEBUFFER,N),this._canvasPixelComparison(U(R),m.canvasCopies.map(U),m.timeStamps)}_canvasPixelComparison(R,m,T){let N=T[1]-T[0];const U=R.length/4;for(let X=0;X<m.length;X++){const ce=m[X];let ge=0;for(let we=0;we<ce.length;we+=4)ce[we]===R[we]&&ce[we+1]===R[we+1]&&ce[we+2]===R[we+2]&&ce[we+3]===R[we+3]&&(ge+=1);N+=(T[X+2]-T[X+1])*(1-ge/U)}return N}remove(){this._hash&&this._hash.remove();for(const m of this._controls)m.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==x.window&&(x.window.removeEventListener("resize",this._onWindowResize,!1),x.window.removeEventListener("orientationchange",this._onWindowResize,!1),x.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),x.window.removeEventListener("online",this._onWindowOnline,!1));const R=this.painter.context.gl.getExtension("WEBGL_lose_context");R&&R.loseContext(),Xa(this._canvasContainer),Xa(this._controlContainer),Xa(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),x.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new x.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(R){this._renderNextFrame=this._renderNextFrame||R,this.style&&!this._frame&&(this._frame=x.exported.frame(m=>{const T=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,T&&this._render(m)}))}_onWindowOnline(){this._update()}_onWindowResize(R){this._trackResize&&this.resize({originalEvent:R})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(R){this._showTileBoundaries!==R&&(this._showTileBoundaries=R,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(R){this._showTerrainWireframe!==R&&(this._showTerrainWireframe=R,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(R){this._speedIndexTiming!==R&&(this._speedIndexTiming=R,this._update())}get showPadding(){return!!this._showPadding}set showPadding(R){this._showPadding!==R&&(this._showPadding=R,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(R){this._showCollisionBoxes!==R&&(this._showCollisionBoxes=R,R?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(R){this._showOverdrawInspector!==R&&(this._showOverdrawInspector=R,this._update())}get repaint(){return!!this._repaint}set repaint(R){this._repaint!==R&&(this._repaint=R,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(R){this._vertices=R,this._update()}_setCacheLimits(R,m){x.setCacheLimits(R,m)}get version(){return x.version}},NavigationControl:class{constructor(R){this.options=x.extend({},as,R),this._container=Ye.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",m=>m.preventDefault()),this.options.showZoom&&(x.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",m=>this._map.zoomIn({},{originalEvent:m})),Ye.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",m=>this._map.zoomOut({},{originalEvent:m})),Ye.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(x.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",m=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:m}):this._map.resetNorth({},{originalEvent:m})}),this._compassIcon=Ye.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const R=this._map.getZoom(),m=R===this._map.getMaxZoom(),T=R===this._map.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const R=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=R)})}onAdd(R){return this._map=R,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fp(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Ye.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(R,m){const T=Ye.create("button",R,this._container);return T.type="button",T.addEventListener("click",m),T}_setButtonTitle(R,m){const T=this._map._getUIString(`NavigationControl.${m}`);R.title=T,R.setAttribute("aria-label",T)}},GeolocateControl:class extends x.Evented{constructor(R){super(),this.options=x.extend({},Po,R),x.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=eo(this._updateMarkerRotation,20)}onAdd(R){var m;return this._map=R,this._container=Ye.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),m=this._setupUI,void 0!==ri?m(ri):void 0!==x.window.navigator.permissions?x.window.navigator.permissions.query({name:"geolocation"}).then(T=>{ri="denied"!==T.state,m(ri)}):(ri=!!x.window.navigator.geolocation,m(ri)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(x.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Ye.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Xo=0,id=!1}_isOutOfMapMaxBounds(R){const m=this._map.getMaxBounds(),T=R.coords;return m&&(T.longitude<m.getWest()||T.longitude>m.getEast()||T.latitude<m.getSouth()||T.latitude>m.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(R){if(this._map){if(this._isOutOfMapMaxBounds(R))return this._setErrorState(),this.fire(new x.Event("outofmaxbounds",R)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=R,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(R),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(R),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new x.Event("geolocate",R)),this._finish()}}_updateCamera(R){const m=new x.LngLat(R.coords.longitude,R.coords.latitude),T=R.coords.accuracy,N=this._map.getBearing(),U=x.extend({bearing:N},this.options.fitBoundsOptions);this._map.fitBounds(m.toBounds(T),U,{geolocateSource:!0})}_updateMarker(R){if(R){const m=new x.LngLat(R.coords.longitude,R.coords.latitude);this._accuracyCircleMarker.setLngLat(m).addTo(this._map),this._userLocationDotMarker.setLngLat(m).addTo(this._map),this._accuracy=R.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const R=this._map._container.clientHeight/2,m=this._map.unproject([0,R]),T=this._map.unproject([100,R]),N=m.distanceTo(T)/100,U=Math.ceil(2*this._accuracy/N);this._circleElement.style.width=`${U}px`,this._circleElement.style.height=`${U}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(R){if(this._map){if(this.options.trackUserLocation)if(1===R.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===R.code&&id)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new x.Event("error",R)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(R){if(this._container.addEventListener("contextmenu",m=>m.preventDefault()),this._geolocateButton=Ye.create("button","mapboxgl-ctrl-geolocate",this._container),Ye.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===R){x.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}else{const m=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Ye.create("div","mapboxgl-user-location"),this._dotElement.appendChild(Ye.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Ye.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new uu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Ye.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new uu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",m=>{m.geolocateSource||"ACTIVE_LOCK"!==this._watchState||m.originalEvent&&"resize"===m.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new x.Event("trackuserlocationend")))})}_onDeviceOrientation(R){this._userLocationDotMarker&&(R.webkitCompassHeading?this._heading=R.webkitCompassHeading:!0===R.absolute&&(this._heading=-1*R.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return x.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new x.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Xo--,id=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new x.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new x.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let R;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Xo++,Xo>1?(R={maximumAge:6e5,timeout:0},id=!0):(R=this.options.positionOptions,id=!1),this._geolocationWatchID=x.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,R),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else x.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const R=()=>{x.window.addEventListener("ondeviceorientationabsolute"in x.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==x.window.DeviceMotionEvent&&"function"==typeof x.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(m=>{"granted"===m&&R()}).catch(console.error):R()}_clearWatch(){x.window.navigator.geolocation.clearWatch(this._geolocationWatchID),x.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),x.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ja,ScaleControl:class{constructor(R){this.options=x.extend({},Ba,R),x.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Hf(this._map,this._container,this.options)}onAdd(R){return this._map=R,this._container=Ye.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",R.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Ye.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(R){this.options.unit=R,Hf(this._map,this._container,this.options)}},FullscreenControl:class{constructor(R){this._fullscreen=!1,R&&R.container&&(R.container instanceof x.window.HTMLElement?this._container=R.container:x.warnOnce("Full screen control 'container' must be a DOM element.")),x.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in x.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in x.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(R){return this._map=R,this._container||(this._container=this._map.getContainer()),this._controlContainer=Ye.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",x.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){Ye.remove(this._controlContainer),this._map=null,x.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!x.window.document.fullscreenEnabled&&!x.window.document.webkitFullscreenEnabled)}_setupUI(){const R=this._fullscreenButton=Ye.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Ye.create("span","mapboxgl-ctrl-icon",R).setAttribute("aria-hidden",!0),R.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),x.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const R=this._getTitle();this._fullscreenButton.setAttribute("aria-label",R),this._fullscreenButton.title=R}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(x.window.document.fullscreenElement||x.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?x.window.document.exitFullscreen?x.window.document.exitFullscreen():x.window.document.webkitCancelFullScreen&&x.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends x.Evented{constructor(R){super(),this.options=x.extend(Object.create(Gh),R),x.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(R){return this._map&&this.remove(),this._map=R,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new x.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&Ye.remove(this._content),this._container&&(Ye.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new x.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(R){return this._lngLat=x.LngLat.convert(R),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(R){return this.setDOMContent(x.window.document.createTextNode(R))}setHTML(R){const m=x.window.document.createDocumentFragment(),T=x.window.document.createElement("body");let N;for(T.innerHTML=R;N=T.firstChild,N;)m.appendChild(N);return this.setDOMContent(m)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(R){return this.options.maxWidth=R,this._update(),this}setDOMContent(R){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Ye.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(R),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(R){this._container&&this._container.classList.add(R)}removeClassName(R){this._container&&this._container.classList.remove(R)}setOffset(R){return this.options.offset=R,this._update(),this}toggleClassName(R){if(this._container)return this._container.classList.toggle(R)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Ye.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(R){this._update(R.point)}_onMouseMove(R){this._update(R.point)}_onDrag(R){this._update(R.point)}_update(R){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=Ye.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=Ye.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(X=>this._container.classList.add(X)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!R))return;const m=this._pos=this._trackPointer&&R?R:this._map.project(this._lngLat);let T=this.options.anchor;const N=qh(this.options.offset);if(!T){const X=this._container.offsetWidth,ce=this._container.offsetHeight;let ge;ge=m.y+N.bottom.y<ce?["top"]:m.y>this._map.transform.height-ce?["bottom"]:[],m.x<X/2?ge.push("left"):m.x>this._map.transform.width-X/2&&ge.push("right"),T=0===ge.length?"bottom":ge.join("-")}const U=m.add(N[T]).round();this._map._requestDomTask(()=>{this._container&&T&&(Ye.setTransform(this._container,`${yh[T]} translate(${U.x}px,${U.y}px)`),nd(this._container,T,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const R=this._container.querySelector(Ka);R&&R.focus()}_onClose(){this.remove()}_setOpacity(R){this._content&&(this._content.style.opacity=R),this._tip&&(this._tip.style.opacity=R)}},Marker:uu,Style:ia,LngLat:x.LngLat,LngLatBounds:x.LngLatBounds,Point:x.pointGeometry,MercatorCoordinate:x.MercatorCoordinate,FreeCameraOptions:Ii,Evented:x.Evented,config:x.config,prewarm:function(){Re().acquire(Zt)},clearPrewarmedResources:function(){const R=kn;R&&(R.isPreloaded()&&1===R.numActive()?(R.release(Zt),kn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return x.config.ACCESS_TOKEN},set accessToken(R){x.config.ACCESS_TOKEN=R},get baseApiUrl(){return x.config.API_URL},set baseApiUrl(R){x.config.API_URL=R},get workerCount(){return Kt.workerCount},set workerCount(R){Kt.workerCount=R},get maxParallelImageRequests(){return x.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(R){x.config.MAX_PARALLEL_IMAGE_REQUESTS=R},clearStorage(R){x.clearTileCache(R)},workerUrl:"",workerClass:null,setNow:x.exported.setNow,restoreNow:x.exported.restoreNow};return Np}),o}()},6431:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(ee){return/^nm$/i.test(ee)},meridiem:function(ee,x,de){return ee<12?de?"vm":"VM":de?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(ee){return ee+(1===ee||8===ee||ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},1616:function(jt,kt,Ae){!function(o){"use strict";var $=function(De){return 0===De?0:1===De?1:2===De?2:De%100>=3&&De%100<=10?3:De%100>=11?4:5},ee={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},x=function(De){return function(Te,Ye,We,Mt){var gt=$(Te),Pt=ee[De][$(Te)];return 2===gt&&(Pt=Pt[Ye?0:1]),Pt.replace(/%d/i,Te)}},de=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-dz",{months:de,monthsShort:de,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(De){return"\u0645"===De},meridiem:function(De,Te,Ye){return De<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:x("s"),ss:x("s"),m:x("m"),mm:x("m"),h:x("h"),hh:x("h"),d:x("d"),dd:x("d"),M:x("M"),MM:x("M"),y:x("y"),yy:x("y")},postformat:function(De){return De.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(Ae(6738))},9759:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(Ae(6738))},3160:function(jt,kt,Ae){!function(o){"use strict";var $={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},ee=function(Te){return 0===Te?0:1===Te?1:2===Te?2:Te%100>=3&&Te%100<=10?3:Te%100>=11?4:5},x={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},de=function(Te){return function(Ye,We,Mt,gt){var Pt=ee(Ye),sn=x[Te][ee(Ye)];return 2===Pt&&(sn=sn[We?0:1]),sn.replace(/%d/i,Ye)}},Me=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-ly",{months:Me,monthsShort:Me,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Te){return"\u0645"===Te},meridiem:function(Te,Ye,We){return Te<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:de("s"),ss:de("s"),m:de("m"),mm:de("m"),h:de("h"),hh:de("h"),d:de("d"),dd:de("d"),M:de("M"),MM:de("M"),y:de("y"),yy:de("y")},preparse:function(Te){return Te.replace(/\u060c/g,",")},postformat:function(Te){return Te.replace(/\d/g,function(Ye){return $[Ye]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},2551:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(Ae(6738))},9989:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};o.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(de){return"\u0645"===de},meridiem:function(de,Me,De){return de<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(de){return de.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Me){return ee[Me]}).replace(/\u060c/g,",")},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(Ae(6738))},6962:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(Ae(6738))},1286:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},x=function(Ye){return 0===Ye?0:1===Ye?1:2===Ye?2:Ye%100>=3&&Ye%100<=10?3:Ye%100>=11?4:5},de={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Me=function(Ye){return function(We,Mt,gt,Pt){var sn=x(We),Gt=de[Ye][x(We)];return 2===sn&&(Gt=Gt[Mt?0:1]),Gt.replace(/%d/i,We)}},De=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar",{months:De,monthsShort:De,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Ye){return"\u0645"===Ye},meridiem:function(Ye,We,Mt){return Ye<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:Me("s"),ss:Me("s"),m:Me("m"),mm:Me("m"),h:Me("h"),hh:Me("h"),d:Me("d"),dd:Me("d"),M:Me("M"),MM:Me("M"),y:Me("y"),yy:Me("y")},preparse:function(Ye){return Ye.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(We){return ee[We]}).replace(/\u060c/g,",")},postformat:function(Ye){return Ye.replace(/\d/g,function(We){return $[We]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},5887:function(jt,kt,Ae){!function(o){"use strict";var $={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};o.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(x){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(x)},meridiem:function(x,de,Me){return x<4?"gec\u0259":x<12?"s\u0259h\u0259r":x<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(x){if(0===x)return x+"-\u0131nc\u0131";var de=x%10;return x+($[de]||$[x%100-de]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},4572:function(jt,kt,Ae){!function(o){"use strict";function ee(de,Me,De){return"m"===De?Me?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===De?Me?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":de+" "+function(de,Me){var De=de.split("_");return Me%10==1&&Me%100!=11?De[0]:Me%10>=2&&Me%10<=4&&(Me%100<10||Me%100>=20)?De[1]:De[2]}({ss:Me?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Me?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:Me?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[De],+de)}o.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:ee,mm:ee,h:ee,hh:ee,d:"\u0434\u0437\u0435\u043d\u044c",dd:ee,M:"\u043c\u0435\u0441\u044f\u0446",MM:ee,y:"\u0433\u043e\u0434",yy:ee},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(de){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(de)},meridiem:function(de,Me,De){return de<4?"\u043d\u043e\u0447\u044b":de<12?"\u0440\u0430\u043d\u0456\u0446\u044b":de<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(de,Me){switch(Me){case"M":case"d":case"DDD":case"w":case"W":return de%10!=2&&de%10!=3||de%100==12||de%100==13?de+"-\u044b":de+"-\u0456";case"D":return de+"-\u0433\u0430";default:return de}},week:{dow:1,doy:7}})}(Ae(6738))},3276:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(ee){var x=ee%10,de=ee%100;return 0===ee?ee+"-\u0435\u0432":0===de?ee+"-\u0435\u043d":de>10&&de<20?ee+"-\u0442\u0438":1===x?ee+"-\u0432\u0438":2===x?ee+"-\u0440\u0438":7===x||8===x?ee+"-\u043c\u0438":ee+"-\u0442\u0438"},week:{dow:1,doy:7}})}(Ae(6738))},3344:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(Ae(6738))},3990:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},ee={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(de){return de.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u09b0\u09be\u09a4"===Me?de<4?de:de+12:"\u09ad\u09cb\u09b0"===Me||"\u09b8\u0995\u09be\u09b2"===Me?de:"\u09a6\u09c1\u09aa\u09c1\u09b0"===Me?de>=3?de:de+12:"\u09ac\u09bf\u0995\u09be\u09b2"===Me||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===Me?de+12:void 0},meridiem:function(de,Me,De){return de<4?"\u09b0\u09be\u09a4":de<6?"\u09ad\u09cb\u09b0":de<12?"\u09b8\u0995\u09be\u09b2":de<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":de<18?"\u09ac\u09bf\u0995\u09be\u09b2":de<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(Ae(6738))},8985:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},ee={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(de){return de.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u09b0\u09be\u09a4"===Me&&de>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===Me&&de<5||"\u09ac\u09bf\u0995\u09be\u09b2"===Me?de+12:de},meridiem:function(de,Me,De){return de<4?"\u09b0\u09be\u09a4":de<10?"\u09b8\u0995\u09be\u09b2":de<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":de<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(Ae(6738))},4391:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},ee={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};o.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(de){return de.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===Me&&de>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===Me&&de<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===Me?de+12:de},meridiem:function(de,Me,De){return de<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":de<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":de<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":de<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(Ae(6738))},6728:function(jt,kt,Ae){!function(o){"use strict";function $(Gt,ct,ni){return Gt+" "+function(Gt,ct){return 2===ct?function(Gt){var ct={m:"v",b:"v",d:"z"};return void 0===ct[Gt.charAt(0)]?Gt:ct[Gt.charAt(0)]+Gt.substring(1)}(Gt):Gt}({mm:"munutenn",MM:"miz",dd:"devezh"}[ni],Gt)}function x(Gt){return Gt>9?x(Gt%10):Gt}var De=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Te=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Pt=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];o.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:Pt,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Pt,monthsRegex:Te,monthsShortRegex:Te,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:De,longMonthsParse:De,shortMonthsParse:De,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:$,h:"un eur",hh:"%d eur",d:"un devezh",dd:$,M:"ur miz",MM:$,y:"ur bloaz",yy:function(Gt){switch(x(Gt)){case 1:case 3:case 4:case 5:case 9:return Gt+" bloaz";default:return Gt+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(Gt){return Gt+(1===Gt?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(Gt){return"g.m."===Gt},meridiem:function(Gt,ct,ni){return Gt<12?"a.m.":"g.m."}})}(Ae(6738))},5536:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me){var De=x+" ";switch(Me){case"ss":return De+(1===x?"sekunda":2===x||3===x||4===x?"sekunde":"sekundi");case"m":return de?"jedna minuta":"jedne minute";case"mm":return De+(1===x?"minuta":2===x||3===x||4===x?"minute":"minuta");case"h":return de?"jedan sat":"jednog sata";case"hh":return De+(1===x?"sat":2===x||3===x||4===x?"sata":"sati");case"dd":return De+(1===x?"dan":"dana");case"MM":return De+(1===x?"mjesec":2===x||3===x||4===x?"mjeseca":"mjeseci");case"yy":return De+(1===x?"godina":2===x||3===x||4===x?"godine":"godina")}}o.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:$,m:$,mm:$,h:$,hh:$,d:"dan",dd:$,M:"mjesec",MM:$,y:"godinu",yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1043:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(ee,x){var de=1===ee?"r":2===ee?"n":3===ee?"r":4===ee?"t":"\xe8";return("w"===x||"W"===x)&&(de="a"),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},420:function(jt,kt,Ae){!function(o){"use strict";var $="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),ee="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),x=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],de=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function Me(Ye){return Ye>1&&Ye<5&&1!=~~(Ye/10)}function De(Ye,We,Mt,gt){var Pt=Ye+" ";switch(Mt){case"s":return We||gt?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return We||gt?Pt+(Me(Ye)?"sekundy":"sekund"):Pt+"sekundami";case"m":return We?"minuta":gt?"minutu":"minutou";case"mm":return We||gt?Pt+(Me(Ye)?"minuty":"minut"):Pt+"minutami";case"h":return We?"hodina":gt?"hodinu":"hodinou";case"hh":return We||gt?Pt+(Me(Ye)?"hodiny":"hodin"):Pt+"hodinami";case"d":return We||gt?"den":"dnem";case"dd":return We||gt?Pt+(Me(Ye)?"dny":"dn\xed"):Pt+"dny";case"M":return We||gt?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return We||gt?Pt+(Me(Ye)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):Pt+"m\u011bs\xedci";case"y":return We||gt?"rok":"rokem";case"yy":return We||gt?Pt+(Me(Ye)?"roky":"let"):Pt+"lety"}}o.defineLocale("cs",{months:$,monthsShort:ee,monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:De,ss:De,m:De,mm:De,h:De,hh:De,d:De,dd:De,M:De,MM:De,y:De,yy:De},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3513:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(ee){return ee+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(ee)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(ee)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(Ae(6738))},6771:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(ee){var de="";return ee>20?de=40===ee||50===ee||60===ee||80===ee||100===ee?"fed":"ain":ee>0&&(de=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][ee]),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},7978:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},5204:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Te[Me][0]:Te[Me][1]}o.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},2653:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Te[Me][0]:Te[Me][1]}o.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6061:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Te[Me][0]:Te[Me][1]}o.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},85:function(jt,kt,Ae){!function(o){"use strict";var $=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],ee=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];o.defineLocale("dv",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(de){return"\u0789\u078a"===de},meridiem:function(de,Me,De){return de<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(Ae(6738))},8579:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(x,de){return x?"string"==typeof de&&/D/.test(de.substring(0,de.indexOf("MMMM")))?this._monthsGenitiveEl[x.month()]:this._monthsNominativeEl[x.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(x,de,Me){return x>11?Me?"\u03bc\u03bc":"\u039c\u039c":Me?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(x){return"\u03bc"===(x+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(x,de){var Me=this._calendarEl[x],De=de&&de.hours();return function(x){return"undefined"!=typeof Function&&x instanceof Function||"[object Function]"===Object.prototype.toString.call(x)}(Me)&&(Me=Me.apply(de)),Me.replace("{}",De%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(Ae(6738))},5724:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:0,doy:4}})}(Ae(6738))},525:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")}})}(Ae(6738))},2847:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},7216:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},9305:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")}})}(Ae(6738))},3364:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:0,doy:6}})}(Ae(6738))},9130:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},1161:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},802:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(ee){return"p"===ee.charAt(0).toLowerCase()},meridiem:function(ee,x,de){return ee>11?de?"p.t.m.":"P.T.M.":de?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(Ae(6738))},5551:function(jt,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},5615:function(jt,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(Ae(6738))},4790:function(jt,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(Ae(6738))},328:function(jt,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(Ae(6738))},6389:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[x+"sekundi",x+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[x+" minuti",x+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[x+" tunni",x+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[x+" kuu",x+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[x+" aasta",x+" aastat"]};return de?Te[Me][2]?Te[Me][2]:Te[Me][1]:De?Te[Me][0]:Te[Me][1]}o.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:"%d p\xe4eva",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},2961:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},6151:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},ee={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};o.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(de){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(de)},meridiem:function(de,Me,De){return de<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/[\u06f0-\u06f9]/g,function(Me){return ee[Me]}).replace(/\u060c/g,",")},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(Ae(6738))},7997:function(jt,kt,Ae){!function(o){"use strict";var $="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),ee=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",$[7],$[8],$[9]];function x(De,Te,Ye,We){var Mt="";switch(Ye){case"s":return We?"muutaman sekunnin":"muutama sekunti";case"ss":Mt=We?"sekunnin":"sekuntia";break;case"m":return We?"minuutin":"minuutti";case"mm":Mt=We?"minuutin":"minuuttia";break;case"h":return We?"tunnin":"tunti";case"hh":Mt=We?"tunnin":"tuntia";break;case"d":return We?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":Mt=We?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return We?"kuukauden":"kuukausi";case"MM":Mt=We?"kuukauden":"kuukautta";break;case"y":return We?"vuoden":"vuosi";case"yy":Mt=We?"vuoden":"vuotta"}return function(De,Te){return De<10?Te?ee[De]:$[De]:De}(De,We)+" "+Mt}o.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},8898:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},7779:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3287:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(ee,x){switch(x){default:case"M":case"Q":case"D":case"DDD":case"d":return ee+(1===ee?"er":"e");case"w":case"W":return ee+(1===ee?"re":"e")}}})}(Ae(6738))},8867:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(ee,x){switch(x){default:case"M":case"Q":case"D":case"DDD":case"d":return ee+(1===ee?"er":"e");case"w":case"W":return ee+(1===ee?"re":"e")}},week:{dow:1,doy:4}})}(Ae(6738))},8174:function(jt,kt,Ae){!function(o){"use strict";var x=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,de=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];o.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:x,monthsShortRegex:x,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:de,longMonthsParse:de,shortMonthsParse:de,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(De,Te){switch(Te){case"D":return De+(1===De?"er":"");default:case"M":case"Q":case"DDD":case"d":return De+(1===De?"er":"e");case"w":case"W":return De+(1===De?"re":"e")}},week:{dow:1,doy:4}})}(Ae(6738))},452:function(jt,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),ee="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");o.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(de,Me){return de?/-MMM-/.test(Me)?ee[de.month()]:$[de.month()]:$},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(de){return de+(1===de||8===de||de>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},5014:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Te){return Te+(1===Te?"d":Te%10==2?"na":"mh")},week:{dow:1,doy:4}})}(Ae(6738))},4127:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Te){return Te+(1===Te?"d":Te%10==2?"na":"mh")},week:{dow:1,doy:4}})}(Ae(6738))},2124:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(ee){return 0===ee.indexOf("un")?"n"+ee:"en "+ee},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6444:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[x+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",x+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[x+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",x+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[x+" \u0935\u0930\u093e\u0902\u0928\u0940",x+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[x+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",x+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[x+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",x+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[x+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",x+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return De?Te[Me][0]:Te[Me][1]}o.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(x,de){switch(de){case"D":return x+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return x}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(x,de){return 12===x&&(x=0),"\u0930\u093e\u0924\u0940"===de?x<4?x:x+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===de?x:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===de?x>12?x:x+12:"\u0938\u093e\u0902\u091c\u0947"===de?x+12:void 0},meridiem:function(x,de,Me){return x<4?"\u0930\u093e\u0924\u0940":x<12?"\u0938\u0915\u093e\u0933\u0940\u0902":x<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":x<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(Ae(6738))},7953:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te={s:["thoddea sekondamni","thodde sekond"],ss:[x+" sekondamni",x+" sekond"],m:["eka mintan","ek minut"],mm:[x+" mintamni",x+" mintam"],h:["eka voran","ek vor"],hh:[x+" voramni",x+" voram"],d:["eka disan","ek dis"],dd:[x+" disamni",x+" dis"],M:["eka mhoinean","ek mhoino"],MM:[x+" mhoineamni",x+" mhoine"],y:["eka vorsan","ek voros"],yy:[x+" vorsamni",x+" vorsam"]};return De?Te[Me][0]:Te[Me][1]}o.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(x,de){switch(de){case"D":return x+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return x}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(x,de){return 12===x&&(x=0),"rati"===de?x<4?x:x+12:"sokallim"===de?x:"donparam"===de?x>12?x:x+12:"sanje"===de?x+12:void 0},meridiem:function(x,de,Me){return x<4?"rati":x<12?"sokallim":x<16?"donparam":x<20?"sanje":"rati"}})}(Ae(6738))},6604:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},ee={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};o.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(de){return de.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0ab0\u0abe\u0aa4"===Me?de<4?de:de+12:"\u0ab8\u0ab5\u0abe\u0ab0"===Me?de:"\u0aac\u0aaa\u0acb\u0ab0"===Me?de>=10?de:de+12:"\u0ab8\u0abe\u0a82\u0a9c"===Me?de+12:void 0},meridiem:function(de,Me,De){return de<4?"\u0ab0\u0abe\u0aa4":de<10?"\u0ab8\u0ab5\u0abe\u0ab0":de<17?"\u0aac\u0aaa\u0acb\u0ab0":de<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(Ae(6738))},1222:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(ee){return 2===ee?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":ee+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(ee){return 2===ee?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":ee+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(ee){return 2===ee?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":ee+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(ee){return 2===ee?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":ee%10==0&&10!==ee?ee+" \u05e9\u05e0\u05d4":ee+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(ee){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(ee)},meridiem:function(ee,x,de){return ee<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":ee<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":ee<12?de?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":ee<18?de?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(Ae(6738))},4235:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},x=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];o.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:x,longMonthsParse:x,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(De){return De.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Te){return ee[Te]})},postformat:function(De){return De.replace(/\d/g,function(Te){return $[Te]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(De,Te){return 12===De&&(De=0),"\u0930\u093e\u0924"===Te?De<4?De:De+12:"\u0938\u0941\u092c\u0939"===Te?De:"\u0926\u094b\u092a\u0939\u0930"===Te?De>=10?De:De+12:"\u0936\u093e\u092e"===Te?De+12:void 0},meridiem:function(De,Te,Ye){return De<4?"\u0930\u093e\u0924":De<10?"\u0938\u0941\u092c\u0939":De<17?"\u0926\u094b\u092a\u0939\u0930":De<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(Ae(6738))},622:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me){var De=x+" ";switch(Me){case"ss":return De+(1===x?"sekunda":2===x||3===x||4===x?"sekunde":"sekundi");case"m":return de?"jedna minuta":"jedne minute";case"mm":return De+(1===x?"minuta":2===x||3===x||4===x?"minute":"minuta");case"h":return de?"jedan sat":"jednog sata";case"hh":return De+(1===x?"sat":2===x||3===x||4===x?"sata":"sati");case"dd":return De+(1===x?"dan":"dana");case"MM":return De+(1===x?"mjesec":2===x||3===x||4===x?"mjeseca":"mjeseci");case"yy":return De+(1===x?"godina":2===x||3===x||4===x?"godine":"godina")}}o.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:$,m:$,mm:$,h:$,hh:$,d:"dan",dd:$,M:"mjesec",MM:$,y:"godinu",yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},7735:function(jt,kt,Ae){!function(o){"use strict";var $="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function ee(Me,De,Te,Ye){var We=Me;switch(Te){case"s":return Ye||De?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return We+(Ye||De)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(Ye||De?" perc":" perce");case"mm":return We+(Ye||De?" perc":" perce");case"h":return"egy"+(Ye||De?" \xf3ra":" \xf3r\xe1ja");case"hh":return We+(Ye||De?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(Ye||De?" nap":" napja");case"dd":return We+(Ye||De?" nap":" napja");case"M":return"egy"+(Ye||De?" h\xf3nap":" h\xf3napja");case"MM":return We+(Ye||De?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(Ye||De?" \xe9v":" \xe9ve");case"yy":return We+(Ye||De?" \xe9v":" \xe9ve")}return""}function x(Me){return(Me?"":"[m\xfalt] ")+"["+$[this.day()]+"] LT[-kor]"}o.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(Me){return"u"===Me.charAt(1).toLowerCase()},meridiem:function(Me,De,Te){return Me<12?!0===Te?"de":"DE":!0===Te?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return x.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return x.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:ee,ss:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},402:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(ee){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(ee)},meridiem:function(ee){return ee<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":ee<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":ee<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(ee,x){switch(x){case"DDD":case"w":case"W":case"DDDo":return 1===ee?ee+"-\u056b\u0576":ee+"-\u0580\u0564";default:return ee}},week:{dow:1,doy:7}})}(Ae(6738))},9187:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"siang"===x?ee>=11?ee:ee+12:"sore"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"siang":ee<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(Ae(6738))},536:function(jt,kt,Ae){!function(o){"use strict";function $(de){return de%100==11||de%10!=1}function ee(de,Me,De,Te){var Ye=de+" ";switch(De){case"s":return Me||Te?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return $(de)?Ye+(Me||Te?"sek\xfandur":"sek\xfandum"):Ye+"sek\xfanda";case"m":return Me?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return $(de)?Ye+(Me||Te?"m\xedn\xfatur":"m\xedn\xfatum"):Me?Ye+"m\xedn\xfata":Ye+"m\xedn\xfatu";case"hh":return $(de)?Ye+(Me||Te?"klukkustundir":"klukkustundum"):Ye+"klukkustund";case"d":return Me?"dagur":Te?"dag":"degi";case"dd":return $(de)?Me?Ye+"dagar":Ye+(Te?"daga":"d\xf6gum"):Me?Ye+"dagur":Ye+(Te?"dag":"degi");case"M":return Me?"m\xe1nu\xf0ur":Te?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return $(de)?Me?Ye+"m\xe1nu\xf0ir":Ye+(Te?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):Me?Ye+"m\xe1nu\xf0ur":Ye+(Te?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return Me||Te?"\xe1r":"\xe1ri";case"yy":return $(de)?Ye+(Me||Te?"\xe1r":"\xe1rum"):Ye+(Me||Te?"\xe1r":"\xe1ri")}}o.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:ee,ss:ee,m:ee,mm:ee,h:"klukkustund",hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},4667:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(ee){return(/^[0-9].+$/.test(ee)?"tra":"in")+" "+ee},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},5007:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},2093:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(ee,x){return"\u5143"===x[1]?1:parseInt(x[1]||ee,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(ee){return"\u5348\u5f8c"===ee},meridiem:function(ee,x,de){return ee<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(ee){return ee.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(ee){return this.week()!==ee.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(ee,x){switch(x){case"y":return 1===ee?"\u5143\u5e74":ee+"\u5e74";case"d":case"D":case"DDD":return ee+"\u65e5";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(Ae(6738))},59:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"enjing"===x?ee:"siyang"===x?ee>=11?ee:ee+12:"sonten"===x||"ndalu"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"enjing":ee<15?"siyang":ee<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(Ae(6738))},6870:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(ee){return ee.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(x,de,Me){return"\u10d8"===Me?de+"\u10e8\u10d8":de+Me+"\u10e8\u10d8"})},past:function(ee){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(ee)?ee.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(ee)?ee.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):ee},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(ee){return 0===ee?ee:1===ee?ee+"-\u10da\u10d8":ee<20||ee<=100&&ee%20==0||ee%100==0?"\u10db\u10d4-"+ee:ee+"-\u10d4"},week:{dow:1,doy:7}})}(Ae(6738))},880:function(jt,kt,Ae){!function(o){"use strict";var $={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};o.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},1083:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},ee={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};o.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(de){return"\u179b\u17d2\u1784\u17b6\u1785"===de},meridiem:function(de,Me,De){return de<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(de){return de.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},week:{dow:1,doy:4}})}(Ae(6738))},8785:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},ee={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};o.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(de){return de.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===Me?de<4?de:de+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===Me?de:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===Me?de>=10?de:de+12:"\u0cb8\u0c82\u0c9c\u0cc6"===Me?de+12:void 0},meridiem:function(de,Me,De){return de<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":de<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":de<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":de<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(de){return de+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(Ae(6738))},1721:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\uc77c";case"M":return ee+"\uc6d4";case"w":case"W":return ee+"\uc8fc";default:return ee}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(ee){return"\uc624\ud6c4"===ee},meridiem:function(ee,x,de){return ee<12?"\uc624\uc804":"\uc624\ud6c4"}})}(Ae(6738))},7851:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},x=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];o.defineLocale("ku",{months:x,monthsShort:x,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(Me){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(Me)},meridiem:function(Me,De,Te){return Me<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(Me){return Me.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(De){return ee[De]}).replace(/\u060c/g,",")},postformat:function(Me){return Me.replace(/\d/g,function(De){return $[De]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},1727:function(jt,kt,Ae){!function(o){"use strict";var $={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};o.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},346:function(jt,kt,Ae){!function(o){"use strict";function $(De,Te,Ye,We){var Mt={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return Te?Mt[Ye][0]:Mt[Ye][1]}function de(De){if(De=parseInt(De,10),isNaN(De))return!1;if(De<0)return!0;if(De<10)return 4<=De&&De<=7;if(De<100){var Te=De%10;return de(0===Te?De/10:Te)}if(De<1e4){for(;De>=10;)De/=10;return de(De)}return de(De/=1e3)}o.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(De){return de(De.substr(0,De.indexOf(" ")))?"a "+De:"an "+De},past:function(De){return de(De.substr(0,De.indexOf(" ")))?"viru "+De:"virun "+De},s:"e puer Sekonnen",ss:"%d Sekonnen",m:$,mm:"%d Minutten",h:$,hh:"%d Stonnen",d:$,dd:"%d Deeg",M:$,MM:"%d M\xe9int",y:$,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3002:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(ee){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===ee},meridiem:function(ee,x,de){return ee<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(ee){return"\u0e97\u0eb5\u0ec8"+ee}})}(Ae(6738))},4035:function(jt,kt,Ae){!function(o){"use strict";var $={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function x(Ye,We,Mt,gt){return We?Me(Mt)[0]:gt?Me(Mt)[1]:Me(Mt)[2]}function de(Ye){return Ye%10==0||Ye>10&&Ye<20}function Me(Ye){return $[Ye].split("_")}function De(Ye,We,Mt,gt){var Pt=Ye+" ";return 1===Ye?Pt+x(0,We,Mt[0],gt):We?Pt+(de(Ye)?Me(Mt)[1]:Me(Mt)[0]):gt?Pt+Me(Mt)[1]:Pt+(de(Ye)?Me(Mt)[1]:Me(Mt)[2])}o.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(Ye,We,Mt,gt){return We?"kelios sekund\u0117s":gt?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:De,m:x,mm:De,h:x,hh:De,d:x,dd:De,M:x,MM:De,y:x,yy:De},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(Ye){return Ye+"-oji"},week:{dow:1,doy:4}})}(Ae(6738))},6927:function(jt,kt,Ae){!function(o){"use strict";var $={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function ee(Te,Ye,We){return We?Ye%10==1&&Ye%100!=11?Te[2]:Te[3]:Ye%10==1&&Ye%100!=11?Te[0]:Te[1]}function x(Te,Ye,We){return Te+" "+ee($[We],Te,Ye)}function de(Te,Ye,We){return ee($[We],Te,Ye)}o.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(Te,Ye){return Ye?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:x,m:de,mm:x,h:de,hh:x,d:de,dd:x,M:de,MM:x,y:de,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},5634:function(jt,kt,Ae){!function(o){"use strict";var $={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Me){var De=$.words[Me];return 1===Me.length?de?De[0]:De[1]:x+" "+$.correctGrammaticalCase(x,De)}};o.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"dan",dd:$.translate,M:"mjesec",MM:$.translate,y:"godinu",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},4173:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6320:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(ee){var x=ee%10,de=ee%100;return 0===ee?ee+"-\u0435\u0432":0===de?ee+"-\u0435\u043d":de>10&&de<20?ee+"-\u0442\u0438":1===x?ee+"-\u0432\u0438":2===x?ee+"-\u0440\u0438":7===x||8===x?ee+"-\u043c\u0438":ee+"-\u0442\u0438"},week:{dow:1,doy:7}})}(Ae(6738))},1705:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===x&&ee>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===x||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===x?ee+12:ee},meridiem:function(ee,x,de){return ee<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":ee<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":ee<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":ee<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(Ae(6738))},1062:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){switch(Me){case"s":return de?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return x+(de?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return x+(de?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return x+(de?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return x+(de?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return x+(de?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return x+(de?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return x}}o.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(x){return"\u04ae\u0425"===x},meridiem:function(x,de,Me){return x<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(x,de){switch(de){case"d":case"D":case"DDD":return x+" \u04e9\u0434\u04e9\u0440";default:return x}}})}(Ae(6738))},2805:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function x(Me,De,Te,Ye){var We="";if(De)switch(Te){case"s":We="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":We="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":We="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":We="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":We="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":We="%d \u0924\u093e\u0938";break;case"d":We="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":We="%d \u0926\u093f\u0935\u0938";break;case"M":We="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":We="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":We="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":We="%d \u0935\u0930\u094d\u0937\u0947"}else switch(Te){case"s":We="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":We="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":We="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":We="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":We="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":We="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":We="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":We="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":We="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":We="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":We="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":We="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return We.replace(/%d/i,Me)}o.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},preparse:function(Me){return Me.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(De){return ee[De]})},postformat:function(Me){return Me.replace(/\d/g,function(De){return $[De]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(Me,De){return 12===Me&&(Me=0),"\u092a\u0939\u093e\u091f\u0947"===De||"\u0938\u0915\u093e\u0933\u0940"===De?Me:"\u0926\u0941\u092a\u093e\u0930\u0940"===De||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===De||"\u0930\u093e\u0924\u094d\u0930\u0940"===De?Me>=12?Me:Me+12:void 0},meridiem:function(Me,De,Te){return Me>=0&&Me<6?"\u092a\u0939\u093e\u091f\u0947":Me<12?"\u0938\u0915\u093e\u0933\u0940":Me<17?"\u0926\u0941\u092a\u093e\u0930\u0940":Me<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(Ae(6738))},9900:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"tengahari"===x?ee>=11?ee:ee+12:"petang"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"tengahari":ee<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(Ae(6738))},1341:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"tengahari"===x?ee>=11?ee:ee+12:"petang"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"tengahari":ee<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(Ae(6738))},7734:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},9034:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},ee={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};o.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(de){return de.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},week:{dow:1,doy:4}})}(Ae(6738))},9324:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6495:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};o.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(de){return de.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0930\u093e\u0924\u093f"===Me?de<4?de:de+12:"\u092c\u093f\u0939\u093e\u0928"===Me?de:"\u0926\u093f\u0909\u0901\u0938\u094b"===Me?de>=10?de:de+12:"\u0938\u093e\u0901\u091d"===Me?de+12:void 0},meridiem:function(de,Me,De){return de<3?"\u0930\u093e\u0924\u093f":de<12?"\u092c\u093f\u0939\u093e\u0928":de<16?"\u0926\u093f\u0909\u0901\u0938\u094b":de<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(Ae(6738))},6272:function(jt,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ee="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),x=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],de=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(De){return De+(1===De||8===De||De>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},673:function(jt,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ee="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),x=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],de=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(De,Te){return De?/-MMM-/.test(Te)?ee[De.month()]:$[De.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(De){return De+(1===De||8===De||De>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},2486:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6219:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(ee,x){var de=1===ee?"r":2===ee?"n":3===ee?"r":4===ee?"t":"\xe8";return("w"===x||"W"===x)&&(de="a"),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},2829:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},ee={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};o.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(de){return de.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0a30\u0a3e\u0a24"===Me?de<4?de:de+12:"\u0a38\u0a35\u0a47\u0a30"===Me?de:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===Me?de>=10?de:de+12:"\u0a38\u0a3c\u0a3e\u0a2e"===Me?de+12:void 0},meridiem:function(de,Me,De){return de<4?"\u0a30\u0a3e\u0a24":de<10?"\u0a38\u0a35\u0a47\u0a30":de<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":de<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(Ae(6738))},8444:function(jt,kt,Ae){!function(o){"use strict";var $="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),ee="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),x=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function de(Te){return Te%10<5&&Te%10>1&&~~(Te/10)%10!=1}function Me(Te,Ye,We){var Mt=Te+" ";switch(We){case"ss":return Mt+(de(Te)?"sekundy":"sekund");case"m":return Ye?"minuta":"minut\u0119";case"mm":return Mt+(de(Te)?"minuty":"minut");case"h":return Ye?"godzina":"godzin\u0119";case"hh":return Mt+(de(Te)?"godziny":"godzin");case"ww":return Mt+(de(Te)?"tygodnie":"tygodni");case"MM":return Mt+(de(Te)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return Mt+(de(Te)?"lata":"lat")}}o.defineLocale("pl",{months:function(Te,Ye){return Te?/D MMMM/.test(Ye)?ee[Te.month()]:$[Te.month()]:$},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Me,m:Me,mm:Me,h:Me,hh:Me,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:Me,M:"miesi\u0105c",MM:Me,y:"rok",yy:Me},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6117:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(Ae(6738))},3170:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6587:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me){var Te=" ";return(x%100>=20||x>=100&&x%100==0)&&(Te=" de "),x+Te+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[Me]}o.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:$,m:"un minut",mm:$,h:"o or\u0103",hh:$,d:"o zi",dd:$,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:$,M:"o lun\u0103",MM:$,y:"un an",yy:$},week:{dow:1,doy:7}})}(Ae(6738))},9264:function(jt,kt,Ae){!function(o){"use strict";function ee(Me,De,Te){return"m"===Te?De?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":Me+" "+function(Me,De){var Te=Me.split("_");return De%10==1&&De%100!=11?Te[0]:De%10>=2&&De%10<=4&&(De%100<10||De%100>=20)?Te[1]:Te[2]}({ss:De?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:De?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[Te],+Me)}var x=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];o.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:x,longMonthsParse:x,shortMonthsParse:x,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(Me){if(Me.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(Me){if(Me.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:ee,m:ee,mm:ee,h:"\u0447\u0430\u0441",hh:ee,d:"\u0434\u0435\u043d\u044c",dd:ee,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:ee,M:"\u043c\u0435\u0441\u044f\u0446",MM:ee,y:"\u0433\u043e\u0434",yy:ee},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(Me){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(Me)},meridiem:function(Me,De,Te){return Me<4?"\u043d\u043e\u0447\u0438":Me<12?"\u0443\u0442\u0440\u0430":Me<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(Me,De){switch(De){case"M":case"d":case"DDD":return Me+"-\u0439";case"D":return Me+"-\u0433\u043e";case"w":case"W":return Me+"-\u044f";default:return Me}},week:{dow:1,doy:4}})}(Ae(6738))},2135:function(jt,kt,Ae){!function(o){"use strict";var $=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],ee=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];o.defineLocale("sd",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(de){return"\u0634\u0627\u0645"===de},meridiem:function(de,Me,De){return de<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(Ae(6738))},5366:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3379:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(ee){return ee+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(ee){return"\u0db4.\u0dc0."===ee||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===ee},meridiem:function(ee,x,de){return ee>11?de?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":de?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(Ae(6738))},6143:function(jt,kt,Ae){!function(o){"use strict";var $="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),ee="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function x(De){return De>1&&De<5}function de(De,Te,Ye,We){var Mt=De+" ";switch(Ye){case"s":return Te||We?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return Te||We?Mt+(x(De)?"sekundy":"sek\xfand"):Mt+"sekundami";case"m":return Te?"min\xfata":We?"min\xfatu":"min\xfatou";case"mm":return Te||We?Mt+(x(De)?"min\xfaty":"min\xfat"):Mt+"min\xfatami";case"h":return Te?"hodina":We?"hodinu":"hodinou";case"hh":return Te||We?Mt+(x(De)?"hodiny":"hod\xedn"):Mt+"hodinami";case"d":return Te||We?"de\u0148":"d\u0148om";case"dd":return Te||We?Mt+(x(De)?"dni":"dn\xed"):Mt+"d\u0148ami";case"M":return Te||We?"mesiac":"mesiacom";case"MM":return Te||We?Mt+(x(De)?"mesiace":"mesiacov"):Mt+"mesiacmi";case"y":return Te||We?"rok":"rokom";case"yy":return Te||We?Mt+(x(De)?"roky":"rokov"):Mt+"rokmi"}}o.defineLocale("sk",{months:$,monthsShort:ee,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:de,ss:de,m:de,mm:de,h:de,hh:de,d:de,dd:de,M:de,MM:de,y:de,yy:de},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},196:function(jt,kt,Ae){!function(o){"use strict";function $(x,de,Me,De){var Te=x+" ";switch(Me){case"s":return de||De?"nekaj sekund":"nekaj sekundami";case"ss":return Te+(1===x?de?"sekundo":"sekundi":2===x?de||De?"sekundi":"sekundah":x<5?de||De?"sekunde":"sekundah":"sekund");case"m":return de?"ena minuta":"eno minuto";case"mm":return Te+(1===x?de?"minuta":"minuto":2===x?de||De?"minuti":"minutama":x<5?de||De?"minute":"minutami":de||De?"minut":"minutami");case"h":return de?"ena ura":"eno uro";case"hh":return Te+(1===x?de?"ura":"uro":2===x?de||De?"uri":"urama":x<5?de||De?"ure":"urami":de||De?"ur":"urami");case"d":return de||De?"en dan":"enim dnem";case"dd":return Te+(1===x?de||De?"dan":"dnem":2===x?de||De?"dni":"dnevoma":de||De?"dni":"dnevi");case"M":return de||De?"en mesec":"enim mesecem";case"MM":return Te+(1===x?de||De?"mesec":"mesecem":2===x?de||De?"meseca":"mesecema":x<5?de||De?"mesece":"meseci":de||De?"mesecev":"meseci");case"y":return de||De?"eno leto":"enim letom";case"yy":return Te+(1===x?de||De?"leto":"letom":2===x?de||De?"leti":"letoma":x<5?de||De?"leta":"leti":de||De?"let":"leti")}}o.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1082:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(ee){return"M"===ee.charAt(0)},meridiem:function(ee,x,de){return ee<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},8963:function(jt,kt,Ae){!function(o){"use strict";var $={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Me){var De=$.words[Me];return 1===Me.length?de?De[0]:De[1]:x+" "+$.correctGrammaticalCase(x,De)}};o.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"\u0434\u0430\u043d",dd:$.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:$.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1621:function(jt,kt,Ae){!function(o){"use strict";var $={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Me){var De=$.words[Me];return 1===Me.length?de?De[0]:De[1]:x+" "+$.correctGrammaticalCase(x,De)}};o.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"dan",dd:$.translate,M:"mesec",MM:$.translate,y:"godinu",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1404:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(ee,x,de){return ee<11?"ekuseni":ee<15?"emini":ee<19?"entsambama":"ebusuku"},meridiemHour:function(ee,x){return 12===ee&&(ee=0),"ekuseni"===x?ee:"emini"===x?ee>=11?ee:ee+12:"entsambama"===x||"ebusuku"===x?0===ee?0:ee+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(Ae(6738))},5685:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?":e":1===x||2===x?":a":":e")},week:{dow:1,doy:4}})}(Ae(6738))},6490:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(Ae(6738))},4106:function(jt,kt,Ae){!function(o){"use strict";var $={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},ee={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};o.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(de){return de+"\u0bb5\u0ba4\u0bc1"},preparse:function(de){return de.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(Me){return ee[Me]})},postformat:function(de){return de.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(de,Me,De){return de<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":de<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":de<10?" \u0b95\u0bbe\u0bb2\u0bc8":de<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":de<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":de<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(de,Me){return 12===de&&(de=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===Me?de<2?de:de+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===Me||"\u0b95\u0bbe\u0bb2\u0bc8"===Me||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===Me&&de>=10?de:de+12},week:{dow:0,doy:6}})}(Ae(6738))},9204:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===x?ee<4?ee:ee+12:"\u0c09\u0c26\u0c2f\u0c02"===x?ee:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===x?ee>=10?ee:ee+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":ee<10?"\u0c09\u0c26\u0c2f\u0c02":ee<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":ee<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(Ae(6738))},3692:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},6361:function(jt,kt,Ae){!function(o){"use strict";var $={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};o.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(x,de){return 12===x&&(x=0),"\u0448\u0430\u0431"===de?x<4?x:x+12:"\u0441\u0443\u0431\u04b3"===de?x:"\u0440\u04ef\u0437"===de?x>=11?x:x+12:"\u0431\u0435\u0433\u043e\u04b3"===de?x+12:void 0},meridiem:function(x,de,Me){return x<4?"\u0448\u0430\u0431":x<11?"\u0441\u0443\u0431\u04b3":x<16?"\u0440\u04ef\u0437":x<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},1735:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(ee){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===ee},meridiem:function(ee,x,de){return ee<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(Ae(6738))},1568:function(jt,kt,Ae){!function(o){"use strict";var $={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};o.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(x,de){switch(de){case"d":case"D":case"Do":case"DD":return x;default:if(0===x)return x+"'unjy";var Me=x%10;return x+($[Me]||$[x%100-Me]||$[x>=100?100:null])}},week:{dow:1,doy:7}})}(Ae(6738))},6129:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},3759:function(jt,kt,Ae){!function(o){"use strict";var $="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function de(Te,Ye,We,Mt){var gt=function(Te){var Ye=Math.floor(Te%1e3/100),We=Math.floor(Te%100/10),Mt=Te%10,gt="";return Ye>0&&(gt+=$[Ye]+"vatlh"),We>0&&(gt+=(""!==gt?" ":"")+$[We]+"maH"),Mt>0&&(gt+=(""!==gt?" ":"")+$[Mt]),""===gt?"pagh":gt}(Te);switch(We){case"ss":return gt+" lup";case"mm":return gt+" tup";case"hh":return gt+" rep";case"dd":return gt+" jaj";case"MM":return gt+" jar";case"yy":return gt+" DIS"}}o.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(Te){var Ye=Te;return-1!==Te.indexOf("jaj")?Ye.slice(0,-3)+"leS":-1!==Te.indexOf("jar")?Ye.slice(0,-3)+"waQ":-1!==Te.indexOf("DIS")?Ye.slice(0,-3)+"nem":Ye+" pIq"},past:function(Te){var Ye=Te;return-1!==Te.indexOf("jaj")?Ye.slice(0,-3)+"Hu\u2019":-1!==Te.indexOf("jar")?Ye.slice(0,-3)+"wen":-1!==Te.indexOf("DIS")?Ye.slice(0,-3)+"ben":Ye+" ret"},s:"puS lup",ss:de,m:"wa\u2019 tup",mm:de,h:"wa\u2019 rep",hh:de,d:"wa\u2019 jaj",dd:de,M:"wa\u2019 jar",MM:de,y:"wa\u2019 DIS",yy:de},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},1644:function(jt,kt,Ae){!function(o){"use strict";var $={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};o.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(x,de,Me){return x<12?Me?"\xf6\xf6":"\xd6\xd6":Me?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(x){return"\xf6s"===x||"\xd6S"===x},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(x,de){switch(de){case"d":case"D":case"Do":case"DD":return x;default:if(0===x)return x+"'\u0131nc\u0131";var Me=x%10;return x+($[Me]||$[x%100-Me]||$[x>=100?100:null])}},week:{dow:1,doy:7}})}(Ae(6738))},875:function(jt,kt,Ae){!function(o){"use strict";function ee(x,de,Me,De){var Te={s:["viensas secunds","'iensas secunds"],ss:[x+" secunds",x+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[x+" m\xeduts",x+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[x+" \xfeoras",x+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[x+" ziuas",x+" ziuas"],M:["'n mes","'iens mes"],MM:[x+" mesen",x+" mesen"],y:["'n ar","'iens ar"],yy:[x+" ars",x+" ars"]};return De||de?Te[Me][0]:Te[Me][1]}o.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(x){return"d'o"===x.toLowerCase()},meridiem:function(x,de,Me){return x>11?Me?"d'o":"D'O":Me?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:ee,ss:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},1041:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(Ae(6738))},6878:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(Ae(6738))},4357:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===x||"\u0633\u06d5\u06be\u06d5\u0631"===x||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===x?ee:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===x||"\u0643\u06d5\u0686"===x?ee+12:ee>=11?ee:ee+12},meridiem:function(ee,x,de){var Me=100*ee+x;return Me<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":Me<900?"\u0633\u06d5\u06be\u06d5\u0631":Me<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":Me<1230?"\u0686\u06c8\u0634":Me<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return ee+"-\u06be\u06d5\u067e\u062a\u06d5";default:return ee}},preparse:function(ee){return ee.replace(/\u060c/g,",")},postformat:function(ee){return ee.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(Ae(6738))},4810:function(jt,kt,Ae){!function(o){"use strict";function ee(De,Te,Ye){return"m"===Ye?Te?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===Ye?Te?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":De+" "+function(De,Te){var Ye=De.split("_");return Te%10==1&&Te%100!=11?Ye[0]:Te%10>=2&&Te%10<=4&&(Te%100<10||Te%100>=20)?Ye[1]:Ye[2]}({ss:Te?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Te?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:Te?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[Ye],+De)}function de(De){return function(){return De+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}o.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(De,Te){var Ye={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===De?Ye.nominative.slice(1,7).concat(Ye.nominative.slice(0,1)):De?Ye[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(Te)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(Te)?"genitive":"nominative"][De.day()]:Ye.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:de("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:de("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:de("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:de("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return de("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return de("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:ee,m:ee,mm:ee,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:ee,d:"\u0434\u0435\u043d\u044c",dd:ee,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:ee,y:"\u0440\u0456\u043a",yy:ee},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(De){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(De)},meridiem:function(De,Te,Ye){return De<4?"\u043d\u043e\u0447\u0456":De<12?"\u0440\u0430\u043d\u043a\u0443":De<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(De,Te){switch(Te){case"M":case"d":case"DDD":case"w":case"W":return De+"-\u0439";case"D":return De+"-\u0433\u043e";default:return De}},week:{dow:1,doy:7}})}(Ae(6738))},6794:function(jt,kt,Ae){!function(o){"use strict";var $=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],ee=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];o.defineLocale("ur",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(de){return"\u0634\u0627\u0645"===de},meridiem:function(de,Me,De){return de<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(Ae(6738))},7959:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(Ae(6738))},8966:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(Ae(6738))},5386:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(ee){return/^ch$/i.test(ee)},meridiem:function(ee,x,de){return ee<12?de?"sa":"SA":de?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},3156:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},8028:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(Ae(6738))},9330:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:ee>=11?ee:ee+12},meridiem:function(ee,x,de){var Me=100*ee+x;return Me<600?"\u51cc\u6668":Me<900?"\u65e9\u4e0a":Me<1130?"\u4e0a\u5348":Me<1230?"\u4e2d\u5348":Me<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(ee){return ee.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(ee){return this.week()!==ee.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u5468";default:return ee}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(Ae(6738))},9380:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Me=100*ee+x;return Me<600?"\u51cc\u6668":Me<900?"\u65e9\u4e0a":Me<1200?"\u4e0a\u5348":1200===Me?"\u4e2d\u5348":Me<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},874:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Me=100*ee+x;return Me<600?"\u51cc\u6668":Me<900?"\u65e9\u4e0a":Me<1130?"\u4e0a\u5348":Me<1230?"\u4e2d\u5348":Me<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},6508:function(jt,kt,Ae){!function(o){"use strict";o.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Me=100*ee+x;return Me<600?"\u51cc\u6668":Me<900?"\u65e9\u4e0a":Me<1130?"\u4e0a\u5348":Me<1230?"\u4e2d\u5348":Me<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},6738:function(jt,kt,Ae){(jt=Ae.nmd(jt)).exports=function(){"use strict";var o,ct;function $(){return o.apply(null,arguments)}function x(G){return G instanceof Array||"[object Array]"===Object.prototype.toString.call(G)}function de(G){return null!=G&&"[object Object]"===Object.prototype.toString.call(G)}function Me(G,le){return Object.prototype.hasOwnProperty.call(G,le)}function De(G){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(G).length;var le;for(le in G)if(Me(G,le))return!1;return!0}function Te(G){return void 0===G}function Ye(G){return"number"==typeof G||"[object Number]"===Object.prototype.toString.call(G)}function We(G){return G instanceof Date||"[object Date]"===Object.prototype.toString.call(G)}function Mt(G,le){var Ne,ye=[];for(Ne=0;Ne<G.length;++Ne)ye.push(le(G[Ne],Ne));return ye}function gt(G,le){for(var ye in le)Me(le,ye)&&(G[ye]=le[ye]);return Me(le,"toString")&&(G.toString=le.toString),Me(le,"valueOf")&&(G.valueOf=le.valueOf),G}function Pt(G,le,ye,Ne){return Io(G,le,ye,Ne,!0).utc()}function Gt(G){return null==G._pf&&(G._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),G._pf}function ni(G){if(null==G._isValid){var le=Gt(G),ye=ct.call(le.parsedDateParts,function(nt){return null!=nt}),Ne=!isNaN(G._d.getTime())&&le.overflow<0&&!le.empty&&!le.invalidEra&&!le.invalidMonth&&!le.invalidWeekday&&!le.weekdayMismatch&&!le.nullInput&&!le.invalidFormat&&!le.userInvalidated&&(!le.meridiem||le.meridiem&&ye);if(G._strict&&(Ne=Ne&&0===le.charsLeftOver&&0===le.unusedTokens.length&&void 0===le.bigHour),null!=Object.isFrozen&&Object.isFrozen(G))return Ne;G._isValid=Ne}return G._isValid}function Rn(G){var le=Pt(NaN);return null!=G?gt(Gt(le),G):Gt(le).userInvalidated=!0,le}ct=Array.prototype.some?Array.prototype.some:function(G){var Ne,le=Object(this),ye=le.length>>>0;for(Ne=0;Ne<ye;Ne++)if(Ne in le&&G.call(this,le[Ne],Ne,le))return!0;return!1};var qt=$.momentProperties=[],ur=!1;function ds(G,le){var ye,Ne,nt;if(Te(le._isAMomentObject)||(G._isAMomentObject=le._isAMomentObject),Te(le._i)||(G._i=le._i),Te(le._f)||(G._f=le._f),Te(le._l)||(G._l=le._l),Te(le._strict)||(G._strict=le._strict),Te(le._tzm)||(G._tzm=le._tzm),Te(le._isUTC)||(G._isUTC=le._isUTC),Te(le._offset)||(G._offset=le._offset),Te(le._pf)||(G._pf=Gt(le)),Te(le._locale)||(G._locale=le._locale),qt.length>0)for(ye=0;ye<qt.length;ye++)Te(nt=le[Ne=qt[ye]])||(G[Ne]=nt);return G}function hi(G){ds(this,G),this._d=new Date(null!=G._d?G._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ur&&(ur=!0,$.updateOffset(this),ur=!1)}function zi(G){return G instanceof hi||null!=G&&null!=G._isAMomentObject}function Bs(G){!1===$.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+G)}function tr(G,le){var ye=!0;return gt(function(){if(null!=$.deprecationHandler&&$.deprecationHandler(null,G),ye){var nt,Et,En,Ne=[];for(Et=0;Et<arguments.length;Et++){if(nt="","object"==typeof arguments[Et]){for(En in nt+="\n["+Et+"] ",arguments[0])Me(arguments[0],En)&&(nt+=En+": "+arguments[0][En]+", ");nt=nt.slice(0,-2)}else nt=arguments[Et];Ne.push(nt)}Bs(G+"\nArguments: "+Array.prototype.slice.call(Ne).join("")+"\n"+(new Error).stack),ye=!1}return le.apply(this,arguments)},le)}var bn,jr={};function wn(G,le){null!=$.deprecationHandler&&$.deprecationHandler(G,le),jr[G]||(Bs(le),jr[G]=!0)}function dn(G){return"undefined"!=typeof Function&&G instanceof Function||"[object Function]"===Object.prototype.toString.call(G)}function fn(G,le){var Ne,ye=gt({},G);for(Ne in le)Me(le,Ne)&&(de(G[Ne])&&de(le[Ne])?(ye[Ne]={},gt(ye[Ne],G[Ne]),gt(ye[Ne],le[Ne])):null!=le[Ne]?ye[Ne]=le[Ne]:delete ye[Ne]);for(Ne in G)Me(G,Ne)&&!Me(le,Ne)&&de(G[Ne])&&(ye[Ne]=gt({},ye[Ne]));return ye}function Hn(G){null!=G&&this.set(G)}$.suppressDeprecationWarnings=!1,$.deprecationHandler=null,bn=Object.keys?Object.keys:function(G){var le,ye=[];for(le in G)Me(G,le)&&ye.push(le);return ye};function Ui(G,le,ye){var Ne=""+Math.abs(G);return(G>=0?ye?"+":"":"-")+Math.pow(10,Math.max(0,le-Ne.length)).toString().substr(1)+Ne}var fi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bi={},xi={};function ei(G,le,ye,Ne){var nt=Ne;"string"==typeof Ne&&(nt=function(){return this[Ne]()}),G&&(xi[G]=nt),le&&(xi[le[0]]=function(){return Ui(nt.apply(this,arguments),le[1],le[2])}),ye&&(xi[ye]=function(){return this.localeData().ordinal(nt.apply(this,arguments),G)})}function Ni(G){return G.match(/\[[\s\S]/)?G.replace(/^\[|\]$/g,""):G.replace(/\\/g,"")}function So(G,le){return G.isValid()?(le=ss(le,G.localeData()),bi[le]=bi[le]||function(G){var ye,Ne,le=G.match(fi);for(ye=0,Ne=le.length;ye<Ne;ye++)le[ye]=xi[le[ye]]?xi[le[ye]]:Ni(le[ye]);return function(nt){var En,Et="";for(En=0;En<Ne;En++)Et+=dn(le[En])?le[En].call(nt,G):le[En];return Et}}(le),bi[le](G)):G.localeData().invalidDate()}function ss(G,le){var ye=5;function Ne(nt){return le.longDateFormat(nt)||nt}for(Ei.lastIndex=0;ye>=0&&Ei.test(G);)G=G.replace(Ei,Ne),Ei.lastIndex=0,ye-=1;return G}var gs={};function wr(G,le){var ye=G.toLowerCase();gs[ye]=gs[ye+"s"]=gs[le]=G}function ir(G){return"string"==typeof G?gs[G]||gs[G.toLowerCase()]:void 0}function Eo(G){var ye,Ne,le={};for(Ne in G)Me(G,Ne)&&(ye=ir(Ne))&&(le[ye]=G[Ne]);return le}var jc={};function es(G,le){jc[G]=le}function Go(G){return G%4==0&&G%100!=0||G%400==0}function Nr(G){return G<0?Math.ceil(G)||0:Math.floor(G)}function Zn(G){var le=+G,ye=0;return 0!==le&&isFinite(le)&&(ye=Nr(le)),ye}function Ji(G,le){return function(ye){return null!=ye?(za(this,G,ye),$.updateOffset(this,le),this):ml(this,G)}}function ml(G,le){return G.isValid()?G._d["get"+(G._isUTC?"UTC":"")+le]():NaN}function za(G,le,ye){G.isValid()&&!isNaN(ye)&&("FullYear"===le&&Go(G.year())&&1===G.month()&&29===G.date()?(ye=Zn(ye),G._d["set"+(G._isUTC?"UTC":"")+le](ye,G.month(),Ie(ye,G.month()))):G._d["set"+(G._isUTC?"UTC":"")+le](ye))}var Bt,Ho=/\d/,Vo=/\d\d/,Ft=/\d{3}/,Rt=/\d{4}/,Qt=/[+-]?\d{6}/,gn=/\d\d?/,an=/\d\d\d\d?/,_i=/\d\d\d\d\d\d?/,Zi=/\d{1,3}/,mr=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,Dr=/\d+/,at=/[+-]?\d+/,He=/Z|[+-]\d\d:?\d\d/gi,$e=/Z|[+-]\d\d(?::?\d\d)?/gi,Ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ot(G,le,ye){Bt[G]=dn(le)?le:function(Ne,nt){return Ne&&ye?ye:le}}function rn(G,le){return Me(Bt,G)?Bt[G](le._strict,le._locale):new RegExp(function(G){return Kt(G.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(le,ye,Ne,nt,Et){return ye||Ne||nt||Et}))}(G))}function Kt(G){return G.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Bt={};var kn={};function Re(G,le){var ye,Ne=le;for("string"==typeof G&&(G=[G]),Ye(le)&&(Ne=function(nt,Et){Et[le]=Zn(nt)}),ye=0;ye<G.length;ye++)kn[G[ye]]=Ne}function p(G,le){Re(G,function(ye,Ne,nt,Et){nt._w=nt._w||{},le(ye,nt._w,nt,Et)})}function f(G,le,ye){null!=le&&Me(kn,G)&&kn[G](le,ye._a,ye,G)}var _e;function Ie(G,le){if(isNaN(G)||isNaN(le))return NaN;var ye=function(G,le){return(G%le+le)%le}(le,12);return G+=(le-ye)/12,1===ye?Go(G)?29:28:31-ye%7%2}_e=Array.prototype.indexOf?Array.prototype.indexOf:function(G){var le;for(le=0;le<this.length;++le)if(this[le]===G)return le;return-1},ei("M",["MM",2],"Mo",function(){return this.month()+1}),ei("MMM",0,0,function(G){return this.localeData().monthsShort(this,G)}),ei("MMMM",0,0,function(G){return this.localeData().months(this,G)}),wr("month","M"),es("month",8),Ot("M",gn),Ot("MM",gn,Vo),Ot("MMM",function(G,le){return le.monthsShortRegex(G)}),Ot("MMMM",function(G,le){return le.monthsRegex(G)}),Re(["M","MM"],function(G,le){le[1]=Zn(G)-1}),Re(["MMM","MMMM"],function(G,le,ye,Ne){var nt=ye._locale.monthsParse(G,Ne,ye._strict);null!=nt?le[1]=nt:Gt(ye).invalidMonth=G});var Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Be="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ge=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Ct,bt=Ct;function ze(G,le,ye){var Ne,nt,Et,En=G.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ne=0;Ne<12;++Ne)Et=Pt([2e3,Ne]),this._shortMonthsParse[Ne]=this.monthsShort(Et,"").toLocaleLowerCase(),this._longMonthsParse[Ne]=this.months(Et,"").toLocaleLowerCase();return ye?"MMM"===le?-1!==(nt=_e.call(this._shortMonthsParse,En))?nt:null:-1!==(nt=_e.call(this._longMonthsParse,En))?nt:null:"MMM"===le?-1!==(nt=_e.call(this._shortMonthsParse,En))||-1!==(nt=_e.call(this._longMonthsParse,En))?nt:null:-1!==(nt=_e.call(this._longMonthsParse,En))||-1!==(nt=_e.call(this._shortMonthsParse,En))?nt:null}function ft(G,le){var ye;if(!G.isValid())return G;if("string"==typeof le)if(/^\d+$/.test(le))le=Zn(le);else if(!Ye(le=G.localeData().monthsParse(le)))return G;return ye=Math.min(G.date(),Ie(G.year(),le)),G._d["set"+(G._isUTC?"UTC":"")+"Month"](le,ye),G}function ln(G){return null!=G?(ft(this,G),$.updateOffset(this,!0),this):ml(this,"Month")}function zn(){function G(En,Xi){return Xi.length-En.length}var nt,Et,le=[],ye=[],Ne=[];for(nt=0;nt<12;nt++)Et=Pt([2e3,nt]),le.push(this.monthsShort(Et,"")),ye.push(this.months(Et,"")),Ne.push(this.months(Et,"")),Ne.push(this.monthsShort(Et,""));for(le.sort(G),ye.sort(G),Ne.sort(G),nt=0;nt<12;nt++)le[nt]=Kt(le[nt]),ye[nt]=Kt(ye[nt]);for(nt=0;nt<24;nt++)Ne[nt]=Kt(Ne[nt]);this._monthsRegex=new RegExp("^("+Ne.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ye.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+le.join("|")+")","i")}function Ai(G){return Go(G)?366:365}ei("Y",0,0,function(){var G=this.year();return G<=9999?Ui(G,4):"+"+G}),ei(0,["YY",2],0,function(){return this.year()%100}),ei(0,["YYYY",4],0,"year"),ei(0,["YYYYY",5],0,"year"),ei(0,["YYYYYY",6,!0],0,"year"),wr("year","y"),es("year",1),Ot("Y",at),Ot("YY",gn,Vo),Ot("YYYY",mr,Rt),Ot("YYYYY",Zr,Qt),Ot("YYYYYY",Zr,Qt),Re(["YYYYY","YYYYYY"],0),Re("YYYY",function(G,le){le[0]=2===G.length?$.parseTwoDigitYear(G):Zn(G)}),Re("YY",function(G,le){le[0]=$.parseTwoDigitYear(G)}),Re("Y",function(G,le){le[0]=parseInt(G,10)}),$.parseTwoDigitYear=function(G){return Zn(G)+(Zn(G)>68?1900:2e3)};var gr=Ji("FullYear",!0);function Yi(G,le,ye,Ne,nt,Et,En){var Xi;return G<100&&G>=0?(Xi=new Date(G+400,le,ye,Ne,nt,Et,En),isFinite(Xi.getFullYear())&&Xi.setFullYear(G)):Xi=new Date(G,le,ye,Ne,nt,Et,En),Xi}function Pr(G){var le,ye;return G<100&&G>=0?((ye=Array.prototype.slice.call(arguments))[0]=G+400,le=new Date(Date.UTC.apply(null,ye)),isFinite(le.getUTCFullYear())&&le.setUTCFullYear(G)):le=new Date(Date.UTC.apply(null,arguments)),le}function oo(G,le,ye){var Ne=7+le-ye;return-(7+Pr(G,0,Ne).getUTCDay()-le)%7+Ne-1}function Ms(G,le,ye,Ne,nt){var Lr,to,Xi=1+7*(le-1)+(7+ye-Ne)%7+oo(G,Ne,nt);return Xi<=0?to=Ai(Lr=G-1)+Xi:Xi>Ai(G)?(Lr=G+1,to=Xi-Ai(G)):(Lr=G,to=Xi),{year:Lr,dayOfYear:to}}function Gi(G,le,ye){var Et,En,Ne=oo(G.year(),le,ye),nt=Math.floor((G.dayOfYear()-Ne-1)/7)+1;return nt<1?Et=nt+qr(En=G.year()-1,le,ye):nt>qr(G.year(),le,ye)?(Et=nt-qr(G.year(),le,ye),En=G.year()+1):(En=G.year(),Et=nt),{week:Et,year:En}}function qr(G,le,ye){var Ne=oo(G,le,ye),nt=oo(G+1,le,ye);return(Ai(G)-Ne+nt)/7}ei("w",["ww",2],"wo","week"),ei("W",["WW",2],"Wo","isoWeek"),wr("week","w"),wr("isoWeek","W"),es("week",5),es("isoWeek",5),Ot("w",gn),Ot("ww",gn,Vo),Ot("W",gn),Ot("WW",gn,Vo),p(["w","ww","W","WW"],function(G,le,ye,Ne){le[Ne.substr(0,1)]=Zn(G)});function ah(G,le){return G.slice(le,7).concat(G.slice(0,le))}ei("d",0,"do","day"),ei("dd",0,0,function(G){return this.localeData().weekdaysMin(this,G)}),ei("ddd",0,0,function(G){return this.localeData().weekdaysShort(this,G)}),ei("dddd",0,0,function(G){return this.localeData().weekdays(this,G)}),ei("e",0,0,"weekday"),ei("E",0,0,"isoWeekday"),wr("day","d"),wr("weekday","e"),wr("isoWeekday","E"),es("day",11),es("weekday",11),es("isoWeekday",11),Ot("d",gn),Ot("e",gn),Ot("E",gn),Ot("dd",function(G,le){return le.weekdaysMinRegex(G)}),Ot("ddd",function(G,le){return le.weekdaysShortRegex(G)}),Ot("dddd",function(G,le){return le.weekdaysRegex(G)}),p(["dd","ddd","dddd"],function(G,le,ye,Ne){var nt=ye._locale.weekdaysParse(G,Ne,ye._strict);null!=nt?le.d=nt:Gt(ye).invalidWeekday=G}),p(["d","e","E"],function(G,le,ye,Ne){le[Ne]=Zn(G)});var gl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Md="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tf=Ct,ou=Ct,Ss=Ct;function Ql(G,le,ye){var Ne,nt,Et,En=G.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ne=0;Ne<7;++Ne)Et=Pt([2e3,1]).day(Ne),this._minWeekdaysParse[Ne]=this.weekdaysMin(Et,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ne]=this.weekdaysShort(Et,"").toLocaleLowerCase(),this._weekdaysParse[Ne]=this.weekdays(Et,"").toLocaleLowerCase();return ye?"dddd"===le?-1!==(nt=_e.call(this._weekdaysParse,En))?nt:null:"ddd"===le?-1!==(nt=_e.call(this._shortWeekdaysParse,En))?nt:null:-1!==(nt=_e.call(this._minWeekdaysParse,En))?nt:null:"dddd"===le?-1!==(nt=_e.call(this._weekdaysParse,En))||-1!==(nt=_e.call(this._shortWeekdaysParse,En))||-1!==(nt=_e.call(this._minWeekdaysParse,En))?nt:null:"ddd"===le?-1!==(nt=_e.call(this._shortWeekdaysParse,En))||-1!==(nt=_e.call(this._weekdaysParse,En))||-1!==(nt=_e.call(this._minWeekdaysParse,En))?nt:null:-1!==(nt=_e.call(this._minWeekdaysParse,En))||-1!==(nt=_e.call(this._weekdaysParse,En))||-1!==(nt=_e.call(this._shortWeekdaysParse,En))?nt:null}function $i(){function G(el,Va){return Va.length-el.length}var Et,En,Xi,Lr,to,le=[],ye=[],Ne=[],nt=[];for(Et=0;Et<7;Et++)En=Pt([2e3,1]).day(Et),Xi=Kt(this.weekdaysMin(En,"")),Lr=Kt(this.weekdaysShort(En,"")),to=Kt(this.weekdays(En,"")),le.push(Xi),ye.push(Lr),Ne.push(to),nt.push(Xi),nt.push(Lr),nt.push(to);le.sort(G),ye.sort(G),Ne.sort(G),nt.sort(G),this._weekdaysRegex=new RegExp("^("+nt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Ne.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ye.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+le.join("|")+")","i")}function Jl(){return this.hours()%12||12}function Td(G,le){ei(G,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),le)})}function zr(G,le){return le._meridiemParse}ei("H",["HH",2],0,"hour"),ei("h",["hh",2],0,Jl),ei("k",["kk",2],0,function(){return this.hours()||24}),ei("hmm",0,0,function(){return""+Jl.apply(this)+Ui(this.minutes(),2)}),ei("hmmss",0,0,function(){return""+Jl.apply(this)+Ui(this.minutes(),2)+Ui(this.seconds(),2)}),ei("Hmm",0,0,function(){return""+this.hours()+Ui(this.minutes(),2)}),ei("Hmmss",0,0,function(){return""+this.hours()+Ui(this.minutes(),2)+Ui(this.seconds(),2)}),Td("a",!0),Td("A",!1),wr("hour","h"),es("hour",13),Ot("a",zr),Ot("A",zr),Ot("H",gn),Ot("h",gn),Ot("k",gn),Ot("HH",gn,Vo),Ot("hh",gn,Vo),Ot("kk",gn,Vo),Ot("hmm",an),Ot("hmmss",_i),Ot("Hmm",an),Ot("Hmmss",_i),Re(["H","HH"],3),Re(["k","kk"],function(G,le,ye){var Ne=Zn(G);le[3]=24===Ne?0:Ne}),Re(["a","A"],function(G,le,ye){ye._isPm=ye._locale.isPM(G),ye._meridiem=G}),Re(["h","hh"],function(G,le,ye){le[3]=Zn(G),Gt(ye).bigHour=!0}),Re("hmm",function(G,le,ye){var Ne=G.length-2;le[3]=Zn(G.substr(0,Ne)),le[4]=Zn(G.substr(Ne)),Gt(ye).bigHour=!0}),Re("hmmss",function(G,le,ye){var Ne=G.length-4,nt=G.length-2;le[3]=Zn(G.substr(0,Ne)),le[4]=Zn(G.substr(Ne,2)),le[5]=Zn(G.substr(nt)),Gt(ye).bigHour=!0}),Re("Hmm",function(G,le,ye){var Ne=G.length-2;le[3]=Zn(G.substr(0,Ne)),le[4]=Zn(G.substr(Ne))}),Re("Hmmss",function(G,le,ye){var Ne=G.length-4,nt=G.length-2;le[3]=Zn(G.substr(0,Ne)),le[4]=Zn(G.substr(Ne,2)),le[5]=Zn(G.substr(nt))});var Sp=Ji("Hours",!0);var Xl,Ga={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Be,week:{dow:0,doy:6},weekdays:gl,weekdaysMin:Md,weekdaysShort:wp,meridiemParse:/[ap]\.?m?\.?/i},mi={},Zc={};function qa(G,le){var ye,Ne=Math.min(G.length,le.length);for(ye=0;ye<Ne;ye+=1)if(G[ye]!==le[ye])return ye;return Ne}function kd(G){return G&&G.toLowerCase().replace("_","-")}function Zs(G){var le=null;if(void 0===mi[G]&&jt&&jt.exports)try{le=Xl._abbr,Ae(6700)("./"+G),Fl(le)}catch(Ne){mi[G]=null}return mi[G]}function Fl(G,le){var ye;return G&&((ye=Te(le)?_r(G):lr(G,le))?Xl=ye:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+G+" not found. Did you forget to load it?")),Xl._abbr}function lr(G,le){if(null!==le){var ye,Ne=Ga;if(le.abbr=G,null!=mi[G])wn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Ne=mi[G]._config;else if(null!=le.parentLocale)if(null!=mi[le.parentLocale])Ne=mi[le.parentLocale]._config;else{if(null==(ye=Zs(le.parentLocale)))return Zc[le.parentLocale]||(Zc[le.parentLocale]=[]),Zc[le.parentLocale].push({name:G,config:le}),null;Ne=ye._config}return mi[G]=new Hn(fn(Ne,le)),Zc[G]&&Zc[G].forEach(function(nt){lr(nt.name,nt.config)}),Fl(G),mi[G]}return delete mi[G],null}function _r(G){var le;if(G&&G._locale&&G._locale._abbr&&(G=G._locale._abbr),!G)return Xl;if(!x(G)){if(le=Zs(G))return le;G=[G]}return function(G){for(var ye,Ne,nt,Et,le=0;le<G.length;){for(ye=(Et=kd(G[le]).split("-")).length,Ne=(Ne=kd(G[le+1]))?Ne.split("-"):null;ye>0;){if(nt=Zs(Et.slice(0,ye).join("-")))return nt;if(Ne&&Ne.length>=ye&&qa(Et,Ne)>=ye-1)break;ye--}le++}return Xl}(G)}function os(G){var le,ye=G._a;return ye&&-2===Gt(G).overflow&&(le=ye[1]<0||ye[1]>11?1:ye[2]<1||ye[2]>Ie(ye[0],ye[1])?2:ye[3]<0||ye[3]>24||24===ye[3]&&(0!==ye[4]||0!==ye[5]||0!==ye[6])?3:ye[4]<0||ye[4]>59?4:ye[5]<0||ye[5]>59?5:ye[6]<0||ye[6]>999?6:-1,Gt(G)._overflowDayOfYear&&(le<0||le>2)&&(le=2),Gt(G)._overflowWeeks&&-1===le&&(le=7),Gt(G)._overflowWeekday&&-1===le&&(le=8),Gt(G).overflow=le),G}var $u=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kl=/Z|[+-]\d\d(?::?\d\d)?/,Ia=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],al=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hs=/^\/?Date\((-?\d+)/i,ra=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mu(G){var le,ye,Et,En,Xi,Lr,Ne=G._i,nt=$u.exec(Ne)||Nl.exec(Ne);if(nt){for(Gt(G).iso=!0,le=0,ye=Ia.length;le<ye;le++)if(Ia[le][1].exec(nt[1])){En=Ia[le][0],Et=!1!==Ia[le][2];break}if(null==En)return void(G._isValid=!1);if(nt[3]){for(le=0,ye=al.length;le<ye;le++)if(al[le][1].exec(nt[3])){Xi=(nt[2]||" ")+al[le][0];break}if(null==Xi)return void(G._isValid=!1)}if(!Et&&null!=Xi)return void(G._isValid=!1);if(nt[4]){if(!Kl.exec(nt[4]))return void(G._isValid=!1);Lr="Z"}G._f=En+(Xi||"")+(Lr||""),$n(G)}else G._isValid=!1}function Hh(G){var le=parseInt(G,10);return le<=49?2e3+le:le<=999?1900+le:le}function Ed(G){var ye,le=ra.exec(function(G){return G.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(G._i));if(le){if(ye=function(G,le,ye,Ne,nt,Et){var En=[Hh(G),Be.indexOf(le),parseInt(ye,10),parseInt(Ne,10),parseInt(nt,10)];return Et&&En.push(parseInt(Et,10)),En}(le[4],le[3],le[2],le[5],le[6],le[7]),!function(G,le,ye){return!G||wp.indexOf(G)===new Date(le[0],le[1],le[2]).getDay()||(Gt(ye).weekdayMismatch=!0,ye._isValid=!1,!1)}(le[1],ye,G))return;G._a=ye,G._tzm=function(G,le,ye){if(G)return hh[G];if(le)return 0;var Ne=parseInt(ye,10),nt=Ne%100;return(Ne-nt)/100*60+nt}(le[8],le[9],le[10]),G._d=Pr.apply(null,G._a),G._d.setUTCMinutes(G._d.getUTCMinutes()-G._tzm),Gt(G).rfc2822=!0}else G._isValid=!1}function Tu(G,le,ye){return null!=G?G:null!=le?le:ye}function au(G){var le,ye,nt,Et,En,Ne=[];if(!G._d){for(nt=function(G){var le=new Date($.now());return G._useUTC?[le.getUTCFullYear(),le.getUTCMonth(),le.getUTCDate()]:[le.getFullYear(),le.getMonth(),le.getDate()]}(G),G._w&&null==G._a[2]&&null==G._a[1]&&function(G){var le,ye,Ne,nt,Et,En,Xi,Lr,to;null!=(le=G._w).GG||null!=le.W||null!=le.E?(Et=1,En=4,ye=Tu(le.GG,G._a[0],Gi(js(),1,4).year),Ne=Tu(le.W,1),((nt=Tu(le.E,1))<1||nt>7)&&(Lr=!0)):(Et=G._locale._week.dow,En=G._locale._week.doy,to=Gi(js(),Et,En),ye=Tu(le.gg,G._a[0],to.year),Ne=Tu(le.w,to.week),null!=le.d?((nt=le.d)<0||nt>6)&&(Lr=!0):null!=le.e?(nt=le.e+Et,(le.e<0||le.e>6)&&(Lr=!0)):nt=Et),Ne<1||Ne>qr(ye,Et,En)?Gt(G)._overflowWeeks=!0:null!=Lr?Gt(G)._overflowWeekday=!0:(Xi=Ms(ye,Ne,nt,Et,En),G._a[0]=Xi.year,G._dayOfYear=Xi.dayOfYear)}(G),null!=G._dayOfYear&&(En=Tu(G._a[0],nt[0]),(G._dayOfYear>Ai(En)||0===G._dayOfYear)&&(Gt(G)._overflowDayOfYear=!0),ye=Pr(En,0,G._dayOfYear),G._a[1]=ye.getUTCMonth(),G._a[2]=ye.getUTCDate()),le=0;le<3&&null==G._a[le];++le)G._a[le]=Ne[le]=nt[le];for(;le<7;le++)G._a[le]=Ne[le]=null==G._a[le]?2===le?1:0:G._a[le];24===G._a[3]&&0===G._a[4]&&0===G._a[5]&&0===G._a[6]&&(G._nextDay=!0,G._a[3]=0),G._d=(G._useUTC?Pr:Yi).apply(null,Ne),Et=G._useUTC?G._d.getUTCDay():G._d.getDay(),null!=G._tzm&&G._d.setUTCMinutes(G._d.getUTCMinutes()-G._tzm),G._nextDay&&(G._a[3]=24),G._w&&void 0!==G._w.d&&G._w.d!==Et&&(Gt(G).weekdayMismatch=!0)}}function $n(G){if(G._f!==$.ISO_8601)if(G._f!==$.RFC_2822){G._a=[],Gt(G).empty=!0;var ye,Ne,nt,Et,En,to,le=""+G._i,Xi=le.length,Lr=0;for(nt=ss(G._f,G._locale).match(fi)||[],ye=0;ye<nt.length;ye++)(Ne=(le.match(rn(Et=nt[ye],G))||[])[0])&&((En=le.substr(0,le.indexOf(Ne))).length>0&&Gt(G).unusedInput.push(En),le=le.slice(le.indexOf(Ne)+Ne.length),Lr+=Ne.length),xi[Et]?(Ne?Gt(G).empty=!1:Gt(G).unusedTokens.push(Et),f(Et,Ne,G)):G._strict&&!Ne&&Gt(G).unusedTokens.push(Et);Gt(G).charsLeftOver=Xi-Lr,le.length>0&&Gt(G).unusedInput.push(le),G._a[3]<=12&&!0===Gt(G).bigHour&&G._a[3]>0&&(Gt(G).bigHour=void 0),Gt(G).parsedDateParts=G._a.slice(0),Gt(G).meridiem=G._meridiem,G._a[3]=function(G,le,ye){var Ne;return null==ye?le:null!=G.meridiemHour?G.meridiemHour(le,ye):(null!=G.isPM&&((Ne=G.isPM(ye))&&le<12&&(le+=12),!Ne&&12===le&&(le=0)),le)}(G._locale,G._a[3],G._meridiem),null!==(to=Gt(G).era)&&(G._a[0]=G._locale.erasConvertYear(to,G._a[0])),au(G),os(G)}else Ed(G);else Mu(G)}function ec(G){var le=G._i,ye=G._f;return G._locale=G._locale||_r(G._l),null===le||void 0===ye&&""===le?Rn({nullInput:!0}):("string"==typeof le&&(G._i=le=G._locale.preparse(le)),zi(le)?new hi(os(le)):(We(le)?G._d=le:x(ye)?function(G){var le,ye,Ne,nt,Et,En,Xi=!1;if(0===G._f.length)return Gt(G).invalidFormat=!0,void(G._d=new Date(NaN));for(nt=0;nt<G._f.length;nt++)Et=0,En=!1,le=ds({},G),null!=G._useUTC&&(le._useUTC=G._useUTC),le._f=G._f[nt],$n(le),ni(le)&&(En=!0),Et+=Gt(le).charsLeftOver,Et+=10*Gt(le).unusedTokens.length,Gt(le).score=Et,Xi?Et<Ne&&(Ne=Et,ye=le):(null==Ne||Et<Ne||En)&&(Ne=Et,ye=le,En&&(Xi=!0));gt(G,ye||le)}(G):ye?$n(G):function(G){var le=G._i;Te(le)?G._d=new Date($.now()):We(le)?G._d=new Date(le.valueOf()):"string"==typeof le?function(G){var le=hs.exec(G._i);null===le?(Mu(G),!1===G._isValid&&(delete G._isValid,Ed(G),!1===G._isValid&&(delete G._isValid,G._strict?G._isValid=!1:$.createFromInputFallback(G)))):G._d=new Date(+le[1])}(G):x(le)?(G._a=Mt(le.slice(0),function(ye){return parseInt(ye,10)}),au(G)):de(le)?function(G){if(!G._d){var le=Eo(G._i);G._a=Mt([le.year,le.month,void 0===le.day?le.date:le.day,le.hour,le.minute,le.second,le.millisecond],function(Ne){return Ne&&parseInt(Ne,10)}),au(G)}}(G):Ye(le)?G._d=new Date(le):$.createFromInputFallback(G)}(G),ni(G)||(G._d=null),G))}function Io(G,le,ye,Ne,nt){var Et={};return(!0===le||!1===le)&&(Ne=le,le=void 0),(!0===ye||!1===ye)&&(Ne=ye,ye=void 0),(de(G)&&De(G)||x(G)&&0===G.length)&&(G=void 0),Et._isAMomentObject=!0,Et._useUTC=Et._isUTC=nt,Et._l=ye,Et._i=G,Et._f=le,Et._strict=Ne,function(G){var le=new hi(os(ec(G)));return le._nextDay&&(le.add(1,"d"),le._nextDay=void 0),le}(Et)}function js(G,le,ye,Ne){return Io(G,le,ye,Ne,!1)}$.createFromInputFallback=tr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(G){G._d=new Date(G._i+(G._useUTC?" UTC":""))}),$.ISO_8601=function(){},$.RFC_2822=function(){};var Uh=tr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var G=js.apply(null,arguments);return this.isValid()&&G.isValid()?G<this?this:G:Rn()}),Dp=tr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var G=js.apply(null,arguments);return this.isValid()&&G.isValid()?G>this?this:G:Rn()});function ll(G,le){var ye,Ne;if(1===le.length&&x(le[0])&&(le=le[0]),!le.length)return js();for(ye=le[0],Ne=1;Ne<le.length;++Ne)(!le[Ne].isValid()||le[Ne][G](ye))&&(ye=le[Ne]);return ye}var ph=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jh(G){var le=Eo(G),ye=le.year||0,Ne=le.quarter||0,nt=le.month||0,Et=le.week||le.isoWeek||0,En=le.day||0,Xi=le.hour||0,Lr=le.minute||0,to=le.second||0,el=le.millisecond||0;this._isValid=function(G){var le,Ne,ye=!1;for(le in G)if(Me(G,le)&&(-1===_e.call(ph,le)||null!=G[le]&&isNaN(G[le])))return!1;for(Ne=0;Ne<ph.length;++Ne)if(G[ph[Ne]]){if(ye)return!1;parseFloat(G[ph[Ne]])!==Zn(G[ph[Ne]])&&(ye=!0)}return!0}(le),this._milliseconds=+el+1e3*to+6e4*Lr+1e3*Xi*60*60,this._days=+En+7*Et,this._months=+nt+3*Ne+12*ye,this._data={},this._locale=_r(),this._bubble()}function Xu(G){return G instanceof jh}function Su(G){return G<0?-1*Math.round(-1*G):Math.round(G)}function wc(G,le){ei(G,0,0,function(){var ye=this.utcOffset(),Ne="+";return ye<0&&(ye=-ye,Ne="-"),Ne+Ui(~~(ye/60),2)+le+Ui(~~ye%60,2)})}wc("Z",":"),wc("ZZ",""),Ot("Z",$e),Ot("ZZ",$e),Re(["Z","ZZ"],function(G,le,ye){ye._useUTC=!0,ye._tzm=ku($e,G)});var Zh=/([\+\-]|\d\d)/gi;function ku(G,le){var nt,Et,ye=(le||"").match(G);return null===ye?null:0===(Et=60*(nt=((ye[ye.length-1]||[])+"").match(Zh)||["-",0,0])[1]+Zn(nt[2]))?0:"+"===nt[0]?Et:-Et}function fh(G,le){var ye,Ne;return le._isUTC?(ye=le.clone(),Ne=(zi(G)||We(G)?G.valueOf():js(G).valueOf())-ye.valueOf(),ye._d.setTime(ye._d.valueOf()+Ne),$.updateOffset(ye,!1),ye):js(G).local()}function fa(G){return-Math.round(G._d.getTimezoneOffset())}function _n(){return!!this.isValid()&&this._isUTC&&0===this._offset}$.updateOffset=function(){};var Ii=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,or=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(G,le){var nt,Et,En,ye=G,Ne=null;return Xu(G)?ye={ms:G._milliseconds,d:G._days,M:G._months}:Ye(G)||!isNaN(+G)?(ye={},le?ye[le]=+G:ye.milliseconds=+G):(Ne=Ii.exec(G))?(nt="-"===Ne[1]?-1:1,ye={y:0,d:Zn(Ne[2])*nt,h:Zn(Ne[3])*nt,m:Zn(Ne[4])*nt,s:Zn(Ne[5])*nt,ms:Zn(Su(1e3*Ne[6]))*nt}):(Ne=or.exec(G))?ye={y:eo(Ne[2],nt="-"===Ne[1]?-1:1),M:eo(Ne[3],nt),w:eo(Ne[4],nt),d:eo(Ne[5],nt),h:eo(Ne[6],nt),m:eo(Ne[7],nt),s:eo(Ne[8],nt)}:null==ye?ye={}:"object"==typeof ye&&("from"in ye||"to"in ye)&&(En=function(G,le){var ye;return G.isValid()&&le.isValid()?(le=fh(le,G),G.isBefore(le)?ye=ts(G,le):((ye=ts(le,G)).milliseconds=-ye.milliseconds,ye.months=-ye.months),ye):{milliseconds:0,months:0}}(js(ye.from),js(ye.to)),(ye={}).ms=En.milliseconds,ye.M=En.months),Et=new jh(ye),Xu(G)&&Me(G,"_locale")&&(Et._locale=G._locale),Xu(G)&&Me(G,"_isValid")&&(Et._isValid=G._isValid),Et}function eo(G,le){var ye=G&&parseFloat(G.replace(",","."));return(isNaN(ye)?0:ye)*le}function ts(G,le){var ye={};return ye.months=le.month()-G.month()+12*(le.year()-G.year()),G.clone().add(ye.months,"M").isAfter(le)&&--ye.months,ye.milliseconds=+le-+G.clone().add(ye.months,"M"),ye}function Tc(G,le){return function(ye,Ne){var Et;return null!==Ne&&!isNaN(+Ne)&&(wn(le,"moment()."+le+"(period, number) is deprecated. Please use moment()."+le+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Et=ye,ye=Ne,Ne=Et),Qo(this,Ar(ye,Ne),G),this}}function Qo(G,le,ye,Ne){var nt=le._milliseconds,Et=Su(le._days),En=Su(le._months);!G.isValid()||(Ne=null==Ne||Ne,En&&ft(G,ml(G,"Month")+En*ye),Et&&za(G,"Date",ml(G,"Date")+Et*ye),nt&&G._d.setTime(G._d.valueOf()+nt*ye),Ne&&$.updateOffset(G,Et||En))}Ar.fn=jh.prototype,Ar.invalid=function(){return Ar(NaN)};var Eu=Tc(1,"add"),gh=Tc(-1,"subtract");function $a(G){return"string"==typeof G||G instanceof String}function lu(G){return zi(G)||We(G)||$a(G)||Ye(G)||function(G){var le=x(G),ye=!1;return le&&(ye=0===G.filter(function(Ne){return!Ye(Ne)&&$a(G)}).length),le&&ye}(G)||function(G){var nt,le=de(G)&&!De(G),ye=!1,Ne=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(nt=0;nt<Ne.length;nt+=1)ye=ye||Me(G,Ne[nt]);return le&&ye}(G)||null==G}function Du(G){var nt,le=de(G)&&!De(G),ye=!1,Ne=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(nt=0;nt<Ne.length;nt+=1)ye=ye||Me(G,Ne[nt]);return le&&ye}function Iu(G,le){if(G.date()<le.date())return-Iu(le,G);var ye=12*(le.year()-G.year())+(le.month()-G.month()),Ne=G.clone().add(ye,"months");return-(ye+(le-Ne<0?(le-Ne)/(Ne-G.clone().add(ye-1,"months")):(le-Ne)/(G.clone().add(ye+1,"months")-Ne)))||0}function Wh(G){var le;return void 0===G?this._locale._abbr:(null!=(le=_r(G))&&(this._locale=le),this)}$.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",$.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Yl=tr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(G){return void 0===G?this.localeData():this.locale(G)});function tc(){return this._locale}var Ec=6e4,Qc=60*Ec,Mi=3506328*Qc;function Cr(G,le){return(G%le+le)%le}function Js(G,le,ye){return G<100&&G>=0?new Date(G+400,le,ye)-Mi:new Date(G,le,ye).valueOf()}function Or(G,le,ye){return G<100&&G>=0?Date.UTC(G+400,le,ye)-Mi:Date.UTC(G,le,ye)}function vh(G,le){return le.erasAbbrRegex(G)}function Po(){var nt,Et,G=[],le=[],ye=[],Ne=[],En=this.eras();for(nt=0,Et=En.length;nt<Et;++nt)le.push(Kt(En[nt].name)),G.push(Kt(En[nt].abbr)),ye.push(Kt(En[nt].narrow)),Ne.push(Kt(En[nt].name)),Ne.push(Kt(En[nt].abbr)),Ne.push(Kt(En[nt].narrow));this._erasRegex=new RegExp("^("+Ne.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+le.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+G.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ye.join("|")+")","i")}function ri(G,le){ei(0,[G,G.length],0,le)}function Ka(G,le,ye,Ne,nt){var Et;return null==G?Gi(this,Ne,nt).year:(le>(Et=qr(G,Ne,nt))&&(le=Et),qh.call(this,G,le,ye,Ne,nt))}function qh(G,le,ye,Ne,nt){var Et=Ms(G,le,ye,Ne,nt),En=Pr(Et.year,0,Et.dayOfYear);return this.year(En.getUTCFullYear()),this.month(En.getUTCMonth()),this.date(En.getUTCDate()),this}ei("N",0,0,"eraAbbr"),ei("NN",0,0,"eraAbbr"),ei("NNN",0,0,"eraAbbr"),ei("NNNN",0,0,"eraName"),ei("NNNNN",0,0,"eraNarrow"),ei("y",["y",1],"yo","eraYear"),ei("y",["yy",2],0,"eraYear"),ei("y",["yyy",3],0,"eraYear"),ei("y",["yyyy",4],0,"eraYear"),Ot("N",vh),Ot("NN",vh),Ot("NNN",vh),Ot("NNNN",function(G,le){return le.erasNameRegex(G)}),Ot("NNNNN",function(G,le){return le.erasNarrowRegex(G)}),Re(["N","NN","NNN","NNNN","NNNNN"],function(G,le,ye,Ne){var nt=ye._locale.erasParse(G,Ne,ye._strict);nt?Gt(ye).era=nt:Gt(ye).invalidEra=G}),Ot("y",Dr),Ot("yy",Dr),Ot("yyy",Dr),Ot("yyyy",Dr),Ot("yo",function(G,le){return le._eraYearOrdinalRegex||Dr}),Re(["y","yy","yyy","yyyy"],0),Re(["yo"],function(G,le,ye,Ne){var nt;ye._locale._eraYearOrdinalRegex&&(nt=G.match(ye._locale._eraYearOrdinalRegex)),le[0]=ye._locale.eraYearOrdinalParse?ye._locale.eraYearOrdinalParse(G,nt):parseInt(G,10)}),ei(0,["gg",2],0,function(){return this.weekYear()%100}),ei(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ri("gggg","weekYear"),ri("ggggg","weekYear"),ri("GGGG","isoWeekYear"),ri("GGGGG","isoWeekYear"),wr("weekYear","gg"),wr("isoWeekYear","GG"),es("weekYear",1),es("isoWeekYear",1),Ot("G",at),Ot("g",at),Ot("GG",gn,Vo),Ot("gg",gn,Vo),Ot("GGGG",mr,Rt),Ot("gggg",mr,Rt),Ot("GGGGG",Zr,Qt),Ot("ggggg",Zr,Qt),p(["gggg","ggggg","GGGG","GGGGG"],function(G,le,ye,Ne){le[Ne.substr(0,2)]=Zn(G)}),p(["gg","GG"],function(G,le,ye,Ne){le[Ne]=$.parseTwoDigitYear(G)}),ei("Q",0,"Qo","quarter"),wr("quarter","Q"),es("quarter",7),Ot("Q",Ho),Re("Q",function(G,le){le[1]=3*(Zn(G)-1)}),ei("D",["DD",2],"Do","date"),wr("date","D"),es("date",9),Ot("D",gn),Ot("DD",gn,Vo),Ot("Do",function(G,le){return G?le._dayOfMonthOrdinalParse||le._ordinalParse:le._dayOfMonthOrdinalParseLenient}),Re(["D","DD"],2),Re("Do",function(G,le){le[2]=Zn(G.match(gn)[0])});var R=Ji("Date",!0);ei("DDD",["DDDD",3],"DDDo","dayOfYear"),wr("dayOfYear","DDD"),es("dayOfYear",4),Ot("DDD",Zi),Ot("DDDD",Ft),Re(["DDD","DDDD"],function(G,le,ye){ye._dayOfYear=Zn(G)}),ei("m",["mm",2],0,"minute"),wr("minute","m"),es("minute",14),Ot("m",gn),Ot("mm",gn,Vo),Re(["m","mm"],4);var T=Ji("Minutes",!1);ei("s",["ss",2],0,"second"),wr("second","s"),es("second",15),Ot("s",gn),Ot("ss",gn,Vo),Re(["s","ss"],5);var U,X,N=Ji("Seconds",!1);for(ei("S",0,0,function(){return~~(this.millisecond()/100)}),ei(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ei(0,["SSS",3],0,"millisecond"),ei(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ei(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ei(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ei(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ei(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ei(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),wr("millisecond","ms"),es("millisecond",16),Ot("S",Zi,Ho),Ot("SS",Zi,Vo),Ot("SSS",Zi,Ft),U="SSSS";U.length<=9;U+="S")Ot(U,Dr);function ce(G,le){le[6]=Zn(1e3*("0."+G))}for(U="S";U.length<=9;U+="S")Re(U,ce);X=Ji("Milliseconds",!1),ei("z",0,0,"zoneAbbr"),ei("zz",0,0,"zoneName");var be=hi.prototype;function Qe(G){return G}be.add=Eu,be.calendar=function(G,le){1===arguments.length&&(arguments[0]?lu(arguments[0])?(G=arguments[0],le=void 0):Du(arguments[0])&&(le=arguments[0],G=void 0):(G=void 0,le=void 0));var ye=G||js(),Ne=fh(ye,this).startOf("day"),nt=$.calendarFormat(this,Ne)||"sameElse",Et=le&&(dn(le[nt])?le[nt].call(this,ye):le[nt]);return this.format(Et||this.localeData().calendar(nt,this,js(ye)))},be.clone=function(){return new hi(this)},be.diff=function(G,le,ye){var Ne,nt,Et;if(!this.isValid())return NaN;if(!(Ne=fh(G,this)).isValid())return NaN;switch(nt=6e4*(Ne.utcOffset()-this.utcOffset()),le=ir(le)){case"year":Et=Iu(this,Ne)/12;break;case"month":Et=Iu(this,Ne);break;case"quarter":Et=Iu(this,Ne)/3;break;case"second":Et=(this-Ne)/1e3;break;case"minute":Et=(this-Ne)/6e4;break;case"hour":Et=(this-Ne)/36e5;break;case"day":Et=(this-Ne-nt)/864e5;break;case"week":Et=(this-Ne-nt)/6048e5;break;default:Et=this-Ne}return ye?Et:Nr(Et)},be.endOf=function(G){var le,ye;if(void 0===(G=ir(G))||"millisecond"===G||!this.isValid())return this;switch(ye=this._isUTC?Or:Js,G){case"year":le=ye(this.year()+1,0,1)-1;break;case"quarter":le=ye(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":le=ye(this.year(),this.month()+1,1)-1;break;case"week":le=ye(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":le=ye(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":le=ye(this.year(),this.month(),this.date()+1)-1;break;case"hour":le=this._d.valueOf(),le+=Qc-Cr(le+(this._isUTC?0:this.utcOffset()*Ec),Qc)-1;break;case"minute":le=this._d.valueOf(),le+=Ec-Cr(le,Ec)-1;break;case"second":le=this._d.valueOf(),le+=1e3-Cr(le,1e3)-1}return this._d.setTime(le),$.updateOffset(this,!0),this},be.format=function(G){G||(G=this.isUtc()?$.defaultFormatUtc:$.defaultFormat);var le=So(this,G);return this.localeData().postformat(le)},be.from=function(G,le){return this.isValid()&&(zi(G)&&G.isValid()||js(G).isValid())?Ar({to:this,from:G}).locale(this.locale()).humanize(!le):this.localeData().invalidDate()},be.fromNow=function(G){return this.from(js(),G)},be.to=function(G,le){return this.isValid()&&(zi(G)&&G.isValid()||js(G).isValid())?Ar({from:this,to:G}).locale(this.locale()).humanize(!le):this.localeData().invalidDate()},be.toNow=function(G){return this.to(js(),G)},be.get=function(G){return dn(this[G=ir(G)])?this[G]():this},be.invalidAt=function(){return Gt(this).overflow},be.isAfter=function(G,le){var ye=zi(G)?G:js(G);return!(!this.isValid()||!ye.isValid())&&("millisecond"===(le=ir(le)||"millisecond")?this.valueOf()>ye.valueOf():ye.valueOf()<this.clone().startOf(le).valueOf())},be.isBefore=function(G,le){var ye=zi(G)?G:js(G);return!(!this.isValid()||!ye.isValid())&&("millisecond"===(le=ir(le)||"millisecond")?this.valueOf()<ye.valueOf():this.clone().endOf(le).valueOf()<ye.valueOf())},be.isBetween=function(G,le,ye,Ne){var nt=zi(G)?G:js(G),Et=zi(le)?le:js(le);return!!(this.isValid()&&nt.isValid()&&Et.isValid())&&("("===(Ne=Ne||"()")[0]?this.isAfter(nt,ye):!this.isBefore(nt,ye))&&(")"===Ne[1]?this.isBefore(Et,ye):!this.isAfter(Et,ye))},be.isSame=function(G,le){var Ne,ye=zi(G)?G:js(G);return!(!this.isValid()||!ye.isValid())&&("millisecond"===(le=ir(le)||"millisecond")?this.valueOf()===ye.valueOf():(Ne=ye.valueOf(),this.clone().startOf(le).valueOf()<=Ne&&Ne<=this.clone().endOf(le).valueOf()))},be.isSameOrAfter=function(G,le){return this.isSame(G,le)||this.isAfter(G,le)},be.isSameOrBefore=function(G,le){return this.isSame(G,le)||this.isBefore(G,le)},be.isValid=function(){return ni(this)},be.lang=Yl,be.locale=Wh,be.localeData=tc,be.max=Dp,be.min=Uh,be.parsingFlags=function(){return gt({},Gt(this))},be.set=function(G,le){if("object"==typeof G){var Ne,ye=function(G){var ye,le=[];for(ye in G)Me(G,ye)&&le.push({unit:ye,priority:jc[ye]});return le.sort(function(Ne,nt){return Ne.priority-nt.priority}),le}(G=Eo(G));for(Ne=0;Ne<ye.length;Ne++)this[ye[Ne].unit](G[ye[Ne].unit])}else if(dn(this[G=ir(G)]))return this[G](le);return this},be.startOf=function(G){var le,ye;if(void 0===(G=ir(G))||"millisecond"===G||!this.isValid())return this;switch(ye=this._isUTC?Or:Js,G){case"year":le=ye(this.year(),0,1);break;case"quarter":le=ye(this.year(),this.month()-this.month()%3,1);break;case"month":le=ye(this.year(),this.month(),1);break;case"week":le=ye(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":le=ye(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":le=ye(this.year(),this.month(),this.date());break;case"hour":le=this._d.valueOf(),le-=Cr(le+(this._isUTC?0:this.utcOffset()*Ec),Qc);break;case"minute":le=this._d.valueOf(),le-=Cr(le,Ec);break;case"second":le=this._d.valueOf(),le-=Cr(le,1e3)}return this._d.setTime(le),$.updateOffset(this,!0),this},be.subtract=gh,be.toArray=function(){var G=this;return[G.year(),G.month(),G.date(),G.hour(),G.minute(),G.second(),G.millisecond()]},be.toObject=function(){var G=this;return{years:G.year(),months:G.month(),date:G.date(),hours:G.hours(),minutes:G.minutes(),seconds:G.seconds(),milliseconds:G.milliseconds()}},be.toDate=function(){return new Date(this.valueOf())},be.toISOString=function(G){if(!this.isValid())return null;var le=!0!==G,ye=le?this.clone().utc():this;return ye.year()<0||ye.year()>9999?So(ye,le?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):dn(Date.prototype.toISOString)?le?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",So(ye,"Z")):So(ye,le?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},be.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var ye,Ne,G="moment",le="";return this.isLocal()||(G=0===this.utcOffset()?"moment.utc":"moment.parseZone",le="Z"),ye="["+G+'("]',Ne=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(ye+Ne+"-MM-DD[T]HH:mm:ss.SSS"+le+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(be[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),be.toJSON=function(){return this.isValid()?this.toISOString():null},be.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},be.unix=function(){return Math.floor(this.valueOf()/1e3)},be.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},be.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},be.eraName=function(){var G,le,ye,Ne=this.localeData().eras();for(G=0,le=Ne.length;G<le;++G)if(ye=this.clone().startOf("day").valueOf(),Ne[G].since<=ye&&ye<=Ne[G].until||Ne[G].until<=ye&&ye<=Ne[G].since)return Ne[G].name;return""},be.eraNarrow=function(){var G,le,ye,Ne=this.localeData().eras();for(G=0,le=Ne.length;G<le;++G)if(ye=this.clone().startOf("day").valueOf(),Ne[G].since<=ye&&ye<=Ne[G].until||Ne[G].until<=ye&&ye<=Ne[G].since)return Ne[G].narrow;return""},be.eraAbbr=function(){var G,le,ye,Ne=this.localeData().eras();for(G=0,le=Ne.length;G<le;++G)if(ye=this.clone().startOf("day").valueOf(),Ne[G].since<=ye&&ye<=Ne[G].until||Ne[G].until<=ye&&ye<=Ne[G].since)return Ne[G].abbr;return""},be.eraYear=function(){var G,le,ye,Ne,nt=this.localeData().eras();for(G=0,le=nt.length;G<le;++G)if(ye=nt[G].since<=nt[G].until?1:-1,Ne=this.clone().startOf("day").valueOf(),nt[G].since<=Ne&&Ne<=nt[G].until||nt[G].until<=Ne&&Ne<=nt[G].since)return(this.year()-$(nt[G].since).year())*ye+nt[G].offset;return this.year()},be.year=gr,be.isLeapYear=function(){return Go(this.year())},be.weekYear=function(G){return Ka.call(this,G,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},be.isoWeekYear=function(G){return Ka.call(this,G,this.isoWeek(),this.isoWeekday(),1,4)},be.quarter=be.quarters=function(G){return null==G?Math.ceil((this.month()+1)/3):this.month(3*(G-1)+this.month()%3)},be.month=ln,be.daysInMonth=function(){return Ie(this.year(),this.month())},be.week=be.weeks=function(G){var le=this.localeData().week(this);return null==G?le:this.add(7*(G-le),"d")},be.isoWeek=be.isoWeeks=function(G){var le=Gi(this,1,4).week;return null==G?le:this.add(7*(G-le),"d")},be.weeksInYear=function(){var G=this.localeData()._week;return qr(this.year(),G.dow,G.doy)},be.weeksInWeekYear=function(){var G=this.localeData()._week;return qr(this.weekYear(),G.dow,G.doy)},be.isoWeeksInYear=function(){return qr(this.year(),1,4)},be.isoWeeksInISOWeekYear=function(){return qr(this.isoWeekYear(),1,4)},be.date=R,be.day=be.days=function(G){if(!this.isValid())return null!=G?this:NaN;var le=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=G?(G=function(G,le){return"string"!=typeof G?G:isNaN(G)?"number"==typeof(G=le.weekdaysParse(G))?G:null:parseInt(G,10)}(G,this.localeData()),this.add(G-le,"d")):le},be.weekday=function(G){if(!this.isValid())return null!=G?this:NaN;var le=(this.day()+7-this.localeData()._week.dow)%7;return null==G?le:this.add(G-le,"d")},be.isoWeekday=function(G){if(!this.isValid())return null!=G?this:NaN;if(null!=G){var le=function(G,le){return"string"==typeof G?le.weekdaysParse(G)%7||7:isNaN(G)?null:G}(G,this.localeData());return this.day(this.day()%7?le:le-7)}return this.day()||7},be.dayOfYear=function(G){var le=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==G?le:this.add(G-le,"d")},be.hour=be.hours=Sp,be.minute=be.minutes=T,be.second=be.seconds=N,be.millisecond=be.milliseconds=X,be.utcOffset=function(G,le,ye){var nt,Ne=this._offset||0;if(!this.isValid())return null!=G?this:NaN;if(null!=G){if("string"==typeof G){if(null===(G=ku($e,G)))return this}else Math.abs(G)<16&&!ye&&(G*=60);return!this._isUTC&&le&&(nt=fa(this)),this._offset=G,this._isUTC=!0,null!=nt&&this.add(nt,"m"),Ne!==G&&(!le||this._changeInProgress?Qo(this,Ar(G-Ne,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?Ne:fa(this)},be.utc=function(G){return this.utcOffset(0,G)},be.local=function(G){return this._isUTC&&(this.utcOffset(0,G),this._isUTC=!1,G&&this.subtract(fa(this),"m")),this},be.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var G=ku(He,this._i);null!=G?this.utcOffset(G):this.utcOffset(0,!0)}return this},be.hasAlignedHourOffset=function(G){return!!this.isValid()&&(G=G?js(G).utcOffset():0,(this.utcOffset()-G)%60==0)},be.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},be.isLocal=function(){return!!this.isValid()&&!this._isUTC},be.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},be.isUtc=_n,be.isUTC=_n,be.zoneAbbr=function(){return this._isUTC?"UTC":""},be.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},be.dates=tr("dates accessor is deprecated. Use date instead.",R),be.months=tr("months accessor is deprecated. Use month instead",ln),be.years=tr("years accessor is deprecated. Use year instead",gr),be.zone=tr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(G,le){return null!=G?("string"!=typeof G&&(G=-G),this.utcOffset(G,le),this):-this.utcOffset()}),be.isDSTShifted=tr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!Te(this._isDSTShifted))return this._isDSTShifted;var le,G={};return ds(G,this),(G=ec(G))._a?(le=G._isUTC?Pt(G._a):js(G._a),this._isDSTShifted=this.isValid()&&function(G,le,ye){var En,Ne=Math.min(G.length,le.length),nt=Math.abs(G.length-le.length),Et=0;for(En=0;En<Ne;En++)(ye&&G[En]!==le[En]||!ye&&Zn(G[En])!==Zn(le[En]))&&Et++;return Et+nt}(G._a,le.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Ke=Hn.prototype;function pt(G,le,ye,Ne){var nt=_r(),Et=Pt().set(Ne,le);return nt[ye](Et,G)}function xt(G,le,ye){if(Ye(G)&&(le=G,G=void 0),G=G||"",null!=le)return pt(G,le,ye,"month");var Ne,nt=[];for(Ne=0;Ne<12;Ne++)nt[Ne]=pt(G,Ne,ye,"month");return nt}function Nt(G,le,ye,Ne){"boolean"==typeof G?(Ye(le)&&(ye=le,le=void 0),le=le||""):(ye=le=G,G=!1,Ye(le)&&(ye=le,le=void 0),le=le||"");var En,nt=_r(),Et=G?nt._week.dow:0,Xi=[];if(null!=ye)return pt(le,(ye+Et)%7,Ne,"day");for(En=0;En<7;En++)Xi[En]=pt(le,(En+Et)%7,Ne,"day");return Xi}Ke.calendar=function(G,le,ye){var Ne=this._calendar[G]||this._calendar.sameElse;return dn(Ne)?Ne.call(le,ye):Ne},Ke.longDateFormat=function(G){var le=this._longDateFormat[G],ye=this._longDateFormat[G.toUpperCase()];return le||!ye?le:(this._longDateFormat[G]=ye.match(fi).map(function(Ne){return"MMMM"===Ne||"MM"===Ne||"DD"===Ne||"dddd"===Ne?Ne.slice(1):Ne}).join(""),this._longDateFormat[G])},Ke.invalidDate=function(){return this._invalidDate},Ke.ordinal=function(G){return this._ordinal.replace("%d",G)},Ke.preparse=Qe,Ke.postformat=Qe,Ke.relativeTime=function(G,le,ye,Ne){var nt=this._relativeTime[ye];return dn(nt)?nt(G,le,ye,Ne):nt.replace(/%d/i,G)},Ke.pastFuture=function(G,le){var ye=this._relativeTime[G>0?"future":"past"];return dn(ye)?ye(le):ye.replace(/%s/i,le)},Ke.set=function(G){var le,ye;for(ye in G)Me(G,ye)&&(dn(le=G[ye])?this[ye]=le:this["_"+ye]=le);this._config=G,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ke.eras=function(G,le){var ye,Ne,nt,Et=this._eras||_r("en")._eras;for(ye=0,Ne=Et.length;ye<Ne;++ye){switch(typeof Et[ye].since){case"string":nt=$(Et[ye].since).startOf("day"),Et[ye].since=nt.valueOf()}switch(typeof Et[ye].until){case"undefined":Et[ye].until=1/0;break;case"string":nt=$(Et[ye].until).startOf("day").valueOf(),Et[ye].until=nt.valueOf()}}return Et},Ke.erasParse=function(G,le,ye){var Ne,nt,En,Xi,Lr,Et=this.eras();for(G=G.toUpperCase(),Ne=0,nt=Et.length;Ne<nt;++Ne)if(En=Et[Ne].name.toUpperCase(),Xi=Et[Ne].abbr.toUpperCase(),Lr=Et[Ne].narrow.toUpperCase(),ye)switch(le){case"N":case"NN":case"NNN":if(Xi===G)return Et[Ne];break;case"NNNN":if(En===G)return Et[Ne];break;case"NNNNN":if(Lr===G)return Et[Ne]}else if([En,Xi,Lr].indexOf(G)>=0)return Et[Ne]},Ke.erasConvertYear=function(G,le){var ye=G.since<=G.until?1:-1;return void 0===le?$(G.since).year():$(G.since).year()+(le-G.offset)*ye},Ke.erasAbbrRegex=function(G){return Me(this,"_erasAbbrRegex")||Po.call(this),G?this._erasAbbrRegex:this._erasRegex},Ke.erasNameRegex=function(G){return Me(this,"_erasNameRegex")||Po.call(this),G?this._erasNameRegex:this._erasRegex},Ke.erasNarrowRegex=function(G){return Me(this,"_erasNarrowRegex")||Po.call(this),G?this._erasNarrowRegex:this._erasRegex},Ke.months=function(G,le){return G?x(this._months)?this._months[G.month()]:this._months[(this._months.isFormat||Ge).test(le)?"format":"standalone"][G.month()]:x(this._months)?this._months:this._months.standalone},Ke.monthsShort=function(G,le){return G?x(this._monthsShort)?this._monthsShort[G.month()]:this._monthsShort[Ge.test(le)?"format":"standalone"][G.month()]:x(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ke.monthsParse=function(G,le,ye){var Ne,nt,Et;if(this._monthsParseExact)return ze.call(this,G,le,ye);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Ne=0;Ne<12;Ne++){if(nt=Pt([2e3,Ne]),ye&&!this._longMonthsParse[Ne]&&(this._longMonthsParse[Ne]=new RegExp("^"+this.months(nt,"").replace(".","")+"$","i"),this._shortMonthsParse[Ne]=new RegExp("^"+this.monthsShort(nt,"").replace(".","")+"$","i")),!ye&&!this._monthsParse[Ne]&&(Et="^"+this.months(nt,"")+"|^"+this.monthsShort(nt,""),this._monthsParse[Ne]=new RegExp(Et.replace(".",""),"i")),ye&&"MMMM"===le&&this._longMonthsParse[Ne].test(G))return Ne;if(ye&&"MMM"===le&&this._shortMonthsParse[Ne].test(G))return Ne;if(!ye&&this._monthsParse[Ne].test(G))return Ne}},Ke.monthsRegex=function(G){return this._monthsParseExact?(Me(this,"_monthsRegex")||zn.call(this),G?this._monthsStrictRegex:this._monthsRegex):(Me(this,"_monthsRegex")||(this._monthsRegex=bt),this._monthsStrictRegex&&G?this._monthsStrictRegex:this._monthsRegex)},Ke.monthsShortRegex=function(G){return this._monthsParseExact?(Me(this,"_monthsRegex")||zn.call(this),G?this._monthsShortStrictRegex:this._monthsShortRegex):(Me(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&G?this._monthsShortStrictRegex:this._monthsShortRegex)},Ke.week=function(G){return Gi(G,this._week.dow,this._week.doy).week},Ke.firstDayOfYear=function(){return this._week.doy},Ke.firstDayOfWeek=function(){return this._week.dow},Ke.weekdays=function(G,le){var ye=x(this._weekdays)?this._weekdays:this._weekdays[G&&!0!==G&&this._weekdays.isFormat.test(le)?"format":"standalone"];return!0===G?ah(ye,this._week.dow):G?ye[G.day()]:ye},Ke.weekdaysMin=function(G){return!0===G?ah(this._weekdaysMin,this._week.dow):G?this._weekdaysMin[G.day()]:this._weekdaysMin},Ke.weekdaysShort=function(G){return!0===G?ah(this._weekdaysShort,this._week.dow):G?this._weekdaysShort[G.day()]:this._weekdaysShort},Ke.weekdaysParse=function(G,le,ye){var Ne,nt,Et;if(this._weekdaysParseExact)return Ql.call(this,G,le,ye);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Ne=0;Ne<7;Ne++){if(nt=Pt([2e3,1]).day(Ne),ye&&!this._fullWeekdaysParse[Ne]&&(this._fullWeekdaysParse[Ne]=new RegExp("^"+this.weekdays(nt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Ne]=new RegExp("^"+this.weekdaysShort(nt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Ne]=new RegExp("^"+this.weekdaysMin(nt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Ne]||(Et="^"+this.weekdays(nt,"")+"|^"+this.weekdaysShort(nt,"")+"|^"+this.weekdaysMin(nt,""),this._weekdaysParse[Ne]=new RegExp(Et.replace(".",""),"i")),ye&&"dddd"===le&&this._fullWeekdaysParse[Ne].test(G))return Ne;if(ye&&"ddd"===le&&this._shortWeekdaysParse[Ne].test(G))return Ne;if(ye&&"dd"===le&&this._minWeekdaysParse[Ne].test(G))return Ne;if(!ye&&this._weekdaysParse[Ne].test(G))return Ne}},Ke.weekdaysRegex=function(G){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||$i.call(this),G?this._weekdaysStrictRegex:this._weekdaysRegex):(Me(this,"_weekdaysRegex")||(this._weekdaysRegex=tf),this._weekdaysStrictRegex&&G?this._weekdaysStrictRegex:this._weekdaysRegex)},Ke.weekdaysShortRegex=function(G){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||$i.call(this),G?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Me(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ou),this._weekdaysShortStrictRegex&&G?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ke.weekdaysMinRegex=function(G){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||$i.call(this),G?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Me(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ss),this._weekdaysMinStrictRegex&&G?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ke.isPM=function(G){return"p"===(G+"").toLowerCase().charAt(0)},Ke.meridiem=function(G,le,ye){return G>11?ye?"pm":"PM":ye?"am":"AM"},Fl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(G){var le=G%10;return G+(1===Zn(G%100/10)?"th":1===le?"st":2===le?"nd":3===le?"rd":"th")}}),$.lang=tr("moment.lang is deprecated. Use moment.locale instead.",Fl),$.langData=tr("moment.langData is deprecated. Use moment.localeData instead.",_r);var At=Math.abs;function An(G,le,ye,Ne){var nt=Ar(le,ye);return G._milliseconds+=Ne*nt._milliseconds,G._days+=Ne*nt._days,G._months+=Ne*nt._months,G._bubble()}function ii(G){return G<0?Math.floor(G):Math.ceil(G)}function ci(G){return 4800*G/146097}function ti(G){return 146097*G/4800}function Ri(G){return function(){return this.as(G)}}var ns=Ri("ms"),ps=Ri("s"),bs=Ri("m"),Mr=Ri("h"),Es=Ri("d"),ao=Ri("w"),Hl=Ri("M"),Ya=Ri("Q"),ys=Ri("y");function Vi(G){return function(){return this.isValid()?this._data[G]:NaN}}var Gs=Vi("milliseconds"),is=Vi("seconds"),Os=Vi("minutes"),xo=Vi("hours"),$r=Vi("days"),ul=Vi("months"),dl=Vi("years");var jo=Math.round,Ha={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rd(G,le,ye,Ne,nt){return nt.relativeTime(le||1,!!ye,G,Ne)}var ic=Math.abs;function Zo(G){return(G>0)-(G<0)||+G}function fs(){if(!this.isValid())return this.localeData().invalidDate();var Ne,nt,Et,En,Lr,to,el,Va,G=ic(this._milliseconds)/1e3,le=ic(this._days),ye=ic(this._months),Xi=this.asSeconds();return Xi?(Ne=Nr(G/60),nt=Nr(Ne/60),G%=60,Ne%=60,Et=Nr(ye/12),ye%=12,En=G?G.toFixed(3).replace(/\.?0+$/,""):"",Lr=Xi<0?"-":"",to=Zo(this._months)!==Zo(Xi)?"-":"",el=Zo(this._days)!==Zo(Xi)?"-":"",Va=Zo(this._milliseconds)!==Zo(Xi)?"-":"",Lr+"P"+(Et?to+Et+"Y":"")+(ye?to+ye+"M":"")+(le?el+le+"D":"")+(nt||Ne||G?"T":"")+(nt?Va+nt+"H":"")+(Ne?Va+Ne+"M":"")+(G?Va+En+"S":"")):"P0D"}var yi=jh.prototype;return yi.isValid=function(){return this._isValid},yi.abs=function(){var G=this._data;return this._milliseconds=At(this._milliseconds),this._days=At(this._days),this._months=At(this._months),G.milliseconds=At(G.milliseconds),G.seconds=At(G.seconds),G.minutes=At(G.minutes),G.hours=At(G.hours),G.months=At(G.months),G.years=At(G.years),this},yi.add=function(G,le){return An(this,G,le,1)},yi.subtract=function(G,le){return An(this,G,le,-1)},yi.as=function(G){if(!this.isValid())return NaN;var le,ye,Ne=this._milliseconds;if("month"===(G=ir(G))||"quarter"===G||"year"===G)switch(le=this._days+Ne/864e5,ye=this._months+ci(le),G){case"month":return ye;case"quarter":return ye/3;case"year":return ye/12}else switch(le=this._days+Math.round(ti(this._months)),G){case"week":return le/7+Ne/6048e5;case"day":return le+Ne/864e5;case"hour":return 24*le+Ne/36e5;case"minute":return 1440*le+Ne/6e4;case"second":return 86400*le+Ne/1e3;case"millisecond":return Math.floor(864e5*le)+Ne;default:throw new Error("Unknown unit "+G)}},yi.asMilliseconds=ns,yi.asSeconds=ps,yi.asMinutes=bs,yi.asHours=Mr,yi.asDays=Es,yi.asWeeks=ao,yi.asMonths=Hl,yi.asQuarters=Ya,yi.asYears=ys,yi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Zn(this._months/12):NaN},yi._bubble=function(){var nt,Et,En,Xi,Lr,G=this._milliseconds,le=this._days,ye=this._months,Ne=this._data;return G>=0&&le>=0&&ye>=0||G<=0&&le<=0&&ye<=0||(G+=864e5*ii(ti(ye)+le),le=0,ye=0),Ne.milliseconds=G%1e3,nt=Nr(G/1e3),Ne.seconds=nt%60,Et=Nr(nt/60),Ne.minutes=Et%60,En=Nr(Et/60),Ne.hours=En%24,le+=Nr(En/24),ye+=Lr=Nr(ci(le)),le-=ii(ti(Lr)),Xi=Nr(ye/12),ye%=12,Ne.days=le,Ne.months=ye,Ne.years=Xi,this},yi.clone=function(){return Ar(this)},yi.get=function(G){return G=ir(G),this.isValid()?this[G+"s"]():NaN},yi.milliseconds=Gs,yi.seconds=is,yi.minutes=Os,yi.hours=xo,yi.days=$r,yi.weeks=function(){return Nr(this.days()/7)},yi.months=ul,yi.years=dl,yi.humanize=function(G,le){if(!this.isValid())return this.localeData().invalidDate();var nt,Et,ye=!1,Ne=Ha;return"object"==typeof G&&(le=G,G=!1),"boolean"==typeof G&&(ye=G),"object"==typeof le&&(Ne=Object.assign({},Ha,le),null!=le.s&&null==le.ss&&(Ne.ss=le.s-1)),Et=function(G,le,ye,Ne){var nt=Ar(G).abs(),Et=jo(nt.as("s")),En=jo(nt.as("m")),Xi=jo(nt.as("h")),Lr=jo(nt.as("d")),to=jo(nt.as("M")),el=jo(nt.as("w")),Va=jo(nt.as("y")),Rs=Et<=ye.ss&&["s",Et]||Et<ye.s&&["ss",Et]||En<=1&&["m"]||En<ye.m&&["mm",En]||Xi<=1&&["h"]||Xi<ye.h&&["hh",Xi]||Lr<=1&&["d"]||Lr<ye.d&&["dd",Lr];return null!=ye.w&&(Rs=Rs||el<=1&&["w"]||el<ye.w&&["ww",el]),(Rs=Rs||to<=1&&["M"]||to<ye.M&&["MM",to]||Va<=1&&["y"]||["yy",Va])[2]=le,Rs[3]=+G>0,Rs[4]=Ne,rd.apply(null,Rs)}(this,!ye,Ne,nt=this.localeData()),ye&&(Et=nt.pastFuture(+this,Et)),nt.postformat(Et)},yi.toISOString=fs,yi.toString=fs,yi.toJSON=fs,yi.locale=Wh,yi.localeData=tc,yi.toIsoString=tr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fs),yi.lang=Yl,ei("X",0,0,"unix"),ei("x",0,0,"valueOf"),Ot("x",at),Ot("X",/[+-]?\d+(\.\d{1,3})?/),Re("X",function(G,le,ye){ye._d=new Date(1e3*parseFloat(G))}),Re("x",function(G,le,ye){ye._d=new Date(Zn(G))}),$.version="2.29.1",o=js,$.fn=be,$.min=function(){return ll("isBefore",[].slice.call(arguments,0))},$.max=function(){return ll("isAfter",[].slice.call(arguments,0))},$.now=function(){return Date.now?Date.now():+new Date},$.utc=Pt,$.unix=function(G){return js(1e3*G)},$.months=function(G,le){return xt(G,le,"months")},$.isDate=We,$.locale=Fl,$.invalid=Rn,$.duration=Ar,$.isMoment=zi,$.weekdays=function(G,le,ye){return Nt(G,le,ye,"weekdays")},$.parseZone=function(){return js.apply(null,arguments).parseZone()},$.localeData=_r,$.isDuration=Xu,$.monthsShort=function(G,le){return xt(G,le,"monthsShort")},$.weekdaysMin=function(G,le,ye){return Nt(G,le,ye,"weekdaysMin")},$.defineLocale=lr,$.updateLocale=function(G,le){if(null!=le){var ye,Ne,nt=Ga;null!=mi[G]&&null!=mi[G].parentLocale?mi[G].set(fn(mi[G]._config,le)):(null!=(Ne=Zs(G))&&(nt=Ne._config),le=fn(nt,le),null==Ne&&(le.abbr=G),(ye=new Hn(le)).parentLocale=mi[G],mi[G]=ye),Fl(G)}else null!=mi[G]&&(null!=mi[G].parentLocale?(mi[G]=mi[G].parentLocale,G===Fl()&&Fl(G)):null!=mi[G]&&delete mi[G]);return mi[G]},$.locales=function(){return bn(mi)},$.weekdaysShort=function(G,le,ye){return Nt(G,le,ye,"weekdaysShort")},$.normalizeUnits=ir,$.relativeTimeRounding=function(G){return void 0===G?jo:"function"==typeof G&&(jo=G,!0)},$.relativeTimeThreshold=function(G,le){return void 0!==Ha[G]&&(void 0===le?Ha[G]:(Ha[G]=le,"s"===G&&(Ha.ss=le-1),!0))},$.calendarFormat=function(G,le){var ye=G.diff(le,"days",!0);return ye<-6?"sameElse":ye<-1?"lastWeek":ye<0?"lastDay":ye<1?"sameDay":ye<2?"nextDay":ye<7?"nextWeek":"sameElse"},$.prototype=be,$.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},$}()},3098:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{P:()=>de});var o=Ae(9193),$=Ae(5917),ee=Ae(205);class de{constructor(De,Te,Ye){this.kind=De,this.value=Te,this.error=Ye,this.hasValue="N"===De}observe(De){switch(this.kind){case"N":return De.next&&De.next(this.value);case"E":return De.error&&De.error(this.error);case"C":return De.complete&&De.complete()}}do(De,Te,Ye){switch(this.kind){case"N":return De&&De(this.value);case"E":return Te&&Te(this.error);case"C":return Ye&&Ye()}}accept(De,Te,Ye){return De&&"function"==typeof De.next?this.observe(De):this.do(De,Te,Ye)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,ee._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(De){return void 0!==De?new de("N",De):de.undefinedValueNotification}static createError(De){return new de("E",void 0,De)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{y:()=>Mt});var o=Ae(7393),ee=Ae(9181),x=Ae(799),Me=Ae(6554),De=Ae(4487);var We=Ae(2494);let Mt=(()=>{class Pt{constructor(Gt){this._isScalar=!1,Gt&&(this._subscribe=Gt)}lift(Gt){const ct=new Pt;return ct.source=this,ct.operator=Gt,ct}subscribe(Gt,ct,ni){const{operator:Rn}=this,qt=function(Pt,sn,Gt){if(Pt){if(Pt instanceof o.L)return Pt;if(Pt[ee.b])return Pt[ee.b]()}return Pt||sn||Gt?new o.L(Pt,sn,Gt):new o.L(x.c)}(Gt,ct,ni);if(qt.add(Rn?Rn.call(qt,this.source):this.source||We.v.useDeprecatedSynchronousErrorHandling&&!qt.syncErrorThrowable?this._subscribe(qt):this._trySubscribe(qt)),We.v.useDeprecatedSynchronousErrorHandling&&qt.syncErrorThrowable&&(qt.syncErrorThrowable=!1,qt.syncErrorThrown))throw qt.syncErrorValue;return qt}_trySubscribe(Gt){try{return this._subscribe(Gt)}catch(ct){We.v.useDeprecatedSynchronousErrorHandling&&(Gt.syncErrorThrown=!0,Gt.syncErrorValue=ct),function(Pt){for(;Pt;){const{closed:sn,destination:Gt,isStopped:ct}=Pt;if(sn||ct)return!1;Pt=Gt&&Gt instanceof o.L?Gt:null}return!0}(Gt)?Gt.error(ct):console.warn(ct)}}forEach(Gt,ct){return new(ct=gt(ct))((ni,Rn)=>{let qt;qt=this.subscribe(ur=>{try{Gt(ur)}catch(ds){Rn(ds),qt&&qt.unsubscribe()}},Rn,ni)})}_subscribe(Gt){const{source:ct}=this;return ct&&ct.subscribe(Gt)}[Me.L](){return this}pipe(...Gt){return 0===Gt.length?this:function(Pt){return 0===Pt.length?De.y:1===Pt.length?Pt[0]:function(Gt){return Pt.reduce((ct,ni)=>ni(ct),Gt)}}(Gt)(this)}toPromise(Gt){return new(Gt=gt(Gt))((ct,ni)=>{let Rn;this.subscribe(qt=>Rn=qt,qt=>ni(qt),()=>ct(Rn))})}}return Pt.create=sn=>new Pt(sn),Pt})();function gt(Pt){if(Pt||(Pt=We.v.Promise||Promise),!Pt)throw new Error("no Promise impl found");return Pt}},799:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>ee});var o=Ae(2494),$=Ae(4449);const ee={closed:!0,next(x){},error(x){if(o.v.useDeprecatedSynchronousErrorHandling)throw x;(0,$.z)(x)},complete(){}}},9765:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{Yc:()=>De,xQ:()=>Te});var o=Ae(7574),$=Ae(7393),ee=Ae(5319),x=Ae(7971),de=Ae(8858),Me=Ae(9181);class De extends $.L{constructor(Mt){super(Mt),this.destination=Mt}}let Te=(()=>{class We extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Me.b](){return new De(this)}lift(gt){const Pt=new Ye(this,this);return Pt.operator=gt,Pt}next(gt){if(this.closed)throw new x.N;if(!this.isStopped){const{observers:Pt}=this,sn=Pt.length,Gt=Pt.slice();for(let ct=0;ct<sn;ct++)Gt[ct].next(gt)}}error(gt){if(this.closed)throw new x.N;this.hasError=!0,this.thrownError=gt,this.isStopped=!0;const{observers:Pt}=this,sn=Pt.length,Gt=Pt.slice();for(let ct=0;ct<sn;ct++)Gt[ct].error(gt);this.observers.length=0}complete(){if(this.closed)throw new x.N;this.isStopped=!0;const{observers:gt}=this,Pt=gt.length,sn=gt.slice();for(let Gt=0;Gt<Pt;Gt++)sn[Gt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(gt){if(this.closed)throw new x.N;return super._trySubscribe(gt)}_subscribe(gt){if(this.closed)throw new x.N;return this.hasError?(gt.error(this.thrownError),ee.w.EMPTY):this.isStopped?(gt.complete(),ee.w.EMPTY):(this.observers.push(gt),new de.W(this,gt))}asObservable(){const gt=new o.y;return gt.source=this,gt}}return We.create=(Mt,gt)=>new Ye(Mt,gt),We})();class Ye extends Te{constructor(Mt,gt){super(),this.destination=Mt,this.source=gt}next(Mt){const{destination:gt}=this;gt&&gt.next&&gt.next(Mt)}error(Mt){const{destination:gt}=this;gt&&gt.error&&this.destination.error(Mt)}complete(){const{destination:Mt}=this;Mt&&Mt.complete&&this.destination.complete()}_subscribe(Mt){const{source:gt}=this;return gt?this.source.subscribe(Mt):ee.w.EMPTY}}},8858:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{W:()=>$});var o=Ae(5319);class $ extends o.w{constructor(x,de){super(),this.subject=x,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const x=this.subject,de=x.observers;if(this.subject=null,!de||0===de.length||x.isStopped||x.closed)return;const Me=de.indexOf(this.subscriber);-1!==Me&&de.splice(Me,1)}}},7393:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{L:()=>De});var o=Ae(9105),$=Ae(799),ee=Ae(5319),x=Ae(9181),de=Ae(2494),Me=Ae(4449);class De extends ee.w{constructor(We,Mt,gt){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$.c;break;case 1:if(!We){this.destination=$.c;break}if("object"==typeof We){We instanceof De?(this.syncErrorThrowable=We.syncErrorThrowable,this.destination=We,We.add(this)):(this.syncErrorThrowable=!0,this.destination=new Te(this,We));break}default:this.syncErrorThrowable=!0,this.destination=new Te(this,We,Mt,gt)}}[x.b](){return this}static create(We,Mt,gt){const Pt=new De(We,Mt,gt);return Pt.syncErrorThrowable=!1,Pt}next(We){this.isStopped||this._next(We)}error(We){this.isStopped||(this.isStopped=!0,this._error(We))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(We){this.destination.next(We)}_error(We){this.destination.error(We),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:We}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=We,this}}class Te extends De{constructor(We,Mt,gt,Pt){super(),this._parentSubscriber=We;let sn,Gt=this;(0,o.m)(Mt)?sn=Mt:Mt&&(sn=Mt.next,gt=Mt.error,Pt=Mt.complete,Mt!==$.c&&(Gt=Object.create(Mt),(0,o.m)(Gt.unsubscribe)&&this.add(Gt.unsubscribe.bind(Gt)),Gt.unsubscribe=this.unsubscribe.bind(this))),this._context=Gt,this._next=sn,this._error=gt,this._complete=Pt}next(We){if(!this.isStopped&&this._next){const{_parentSubscriber:Mt}=this;de.v.useDeprecatedSynchronousErrorHandling&&Mt.syncErrorThrowable?this.__tryOrSetError(Mt,this._next,We)&&this.unsubscribe():this.__tryOrUnsub(this._next,We)}}error(We){if(!this.isStopped){const{_parentSubscriber:Mt}=this,{useDeprecatedSynchronousErrorHandling:gt}=de.v;if(this._error)gt&&Mt.syncErrorThrowable?(this.__tryOrSetError(Mt,this._error,We),this.unsubscribe()):(this.__tryOrUnsub(this._error,We),this.unsubscribe());else if(Mt.syncErrorThrowable)gt?(Mt.syncErrorValue=We,Mt.syncErrorThrown=!0):(0,Me.z)(We),this.unsubscribe();else{if(this.unsubscribe(),gt)throw We;(0,Me.z)(We)}}}complete(){if(!this.isStopped){const{_parentSubscriber:We}=this;if(this._complete){const Mt=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&We.syncErrorThrowable?(this.__tryOrSetError(We,Mt),this.unsubscribe()):(this.__tryOrUnsub(Mt),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(We,Mt){try{We.call(this._context,Mt)}catch(gt){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw gt;(0,Me.z)(gt)}}__tryOrSetError(We,Mt,gt){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Mt.call(this._context,gt)}catch(Pt){return de.v.useDeprecatedSynchronousErrorHandling?(We.syncErrorValue=Pt,We.syncErrorThrown=!0,!0):((0,Me.z)(Pt),!0)}return!1}_unsubscribe(){const{_parentSubscriber:We}=this;this._context=null,this._parentSubscriber=null,We.unsubscribe()}}},5319:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{w:()=>Me});var o=Ae(9796),$=Ae(1555),ee=Ae(9105);const de=(()=>{function Te(Ye){return Error.call(this),this.message=Ye?`${Ye.length} errors occurred during unsubscription:\n${Ye.map((We,Mt)=>`${Mt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ye,this}return Te.prototype=Object.create(Error.prototype),Te})();class Me{constructor(Ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ye)}unsubscribe(){let Ye;if(this.closed)return;let{_parentOrParents:We,_ctorUnsubscribe:Mt,_unsubscribe:gt,_subscriptions:Pt}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,We instanceof Me)We.remove(this);else if(null!==We)for(let sn=0;sn<We.length;++sn)We[sn].remove(this);if((0,ee.m)(gt)){Mt&&(this._unsubscribe=void 0);try{gt.call(this)}catch(sn){Ye=sn instanceof de?De(sn.errors):[sn]}}if((0,o.k)(Pt)){let sn=-1,Gt=Pt.length;for(;++sn<Gt;){const ct=Pt[sn];if((0,$.K)(ct))try{ct.unsubscribe()}catch(ni){Ye=Ye||[],ni instanceof de?Ye=Ye.concat(De(ni.errors)):Ye.push(ni)}}}if(Ye)throw new de(Ye)}add(Ye){let We=Ye;if(!Ye)return Me.EMPTY;switch(typeof Ye){case"function":We=new Me(Ye);case"object":if(We===this||We.closed||"function"!=typeof We.unsubscribe)return We;if(this.closed)return We.unsubscribe(),We;if(!(We instanceof Me)){const Pt=We;We=new Me,We._subscriptions=[Pt]}break;default:throw new Error("unrecognized teardown "+Ye+" added to Subscription.")}let{_parentOrParents:Mt}=We;if(null===Mt)We._parentOrParents=this;else if(Mt instanceof Me){if(Mt===this)return We;We._parentOrParents=[Mt,this]}else{if(-1!==Mt.indexOf(this))return We;Mt.push(this)}const gt=this._subscriptions;return null===gt?this._subscriptions=[We]:gt.push(We),We}remove(Ye){const We=this._subscriptions;if(We){const Mt=We.indexOf(Ye);-1!==Mt&&We.splice(Mt,1)}}}var Te;function De(Te){return Te.reduce((Ye,We)=>Ye.concat(We instanceof de?We.errors:We),[])}Me.EMPTY=((Te=new Me).closed=!0,Te)},2494:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{v:()=>$});let o=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ee){if(ee){const x=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+x.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=ee},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{IY:()=>x,Ds:()=>Me,ft:()=>Te});var o=Ae(7393),$=Ae(7574),ee=Ae(7444);class x extends o.L{constructor(We){super(),this.parent=We}_next(We){this.parent.notifyNext(We)}_error(We){this.parent.notifyError(We),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Me extends o.L{notifyNext(We){this.destination.next(We)}notifyError(We){this.destination.error(We)}notifyComplete(){this.destination.complete()}}function Te(Ye,We){if(We.closed)return;if(Ye instanceof $.y)return Ye.subscribe(We);let Mt;try{Mt=(0,ee.s)(Ye)(We)}catch(gt){We.error(gt)}return Mt}},2441:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>de,N:()=>Me});var o=Ae(9765),$=Ae(7574),ee=Ae(5319),x=Ae(1307);class de extends $.y{constructor(Mt,gt){super(),this.source=Mt,this.subjectFactory=gt,this._refCount=0,this._isComplete=!1}_subscribe(Mt){return this.getSubject().subscribe(Mt)}getSubject(){const Mt=this._subject;return(!Mt||Mt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Mt=this._connection;return Mt||(this._isComplete=!1,Mt=this._connection=new ee.w,Mt.add(this.source.subscribe(new De(this.getSubject(),this))),Mt.closed&&(this._connection=null,Mt=ee.w.EMPTY)),Mt}refCount(){return(0,x.x)()(this)}}const Me=(()=>{const We=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:We._subscribe},_isComplete:{value:We._isComplete,writable:!0},getSubject:{value:We.getSubject},connect:{value:We.connect},refCount:{value:We.refCount}}})();class De extends o.Yc{constructor(Mt,gt){super(Mt),this.connectable=gt}_error(Mt){this._unsubscribe(),super._error(Mt)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Mt=this.connectable;if(Mt){this.connectable=null;const gt=Mt._connection;Mt._refCount=0,Mt._subject=null,Mt._connection=null,gt&&gt.unsubscribe()}}}},9193:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{E:()=>$,c:()=>ee});var o=Ae(7574);const $=new o.y(de=>de.complete());function ee(de){return de?function(de){return new o.y(Me=>de.schedule(()=>Me.complete()))}(de):$}},4402:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{D:()=>Gt});var o=Ae(7574),$=Ae(7444),ee=Ae(5319),x=Ae(6554),De=Ae(4087),Te=Ae(377),Mt=Ae(4072),gt=Ae(9489);function Gt(ct,ni){return ni?function(ct,ni){if(null!=ct){if(function(ct){return ct&&"function"==typeof ct[x.L]}(ct))return function(ct,ni){return new o.y(Rn=>{const qt=new ee.w;return qt.add(ni.schedule(()=>{const ur=ct[x.L]();qt.add(ur.subscribe({next(ds){qt.add(ni.schedule(()=>Rn.next(ds)))},error(ds){qt.add(ni.schedule(()=>Rn.error(ds)))},complete(){qt.add(ni.schedule(()=>Rn.complete()))}}))})),qt})}(ct,ni);if((0,Mt.t)(ct))return function(ct,ni){return new o.y(Rn=>{const qt=new ee.w;return qt.add(ni.schedule(()=>ct.then(ur=>{qt.add(ni.schedule(()=>{Rn.next(ur),qt.add(ni.schedule(()=>Rn.complete()))}))},ur=>{qt.add(ni.schedule(()=>Rn.error(ur)))}))),qt})}(ct,ni);if((0,gt.z)(ct))return(0,De.r)(ct,ni);if(function(ct){return ct&&"function"==typeof ct[Te.hZ]}(ct)||"string"==typeof ct)return function(ct,ni){if(!ct)throw new Error("Iterable cannot be null");return new o.y(Rn=>{const qt=new ee.w;let ur;return qt.add(()=>{ur&&"function"==typeof ur.return&&ur.return()}),qt.add(ni.schedule(()=>{ur=ct[Te.hZ](),qt.add(ni.schedule(function(){if(Rn.closed)return;let ds,hi;try{const zi=ur.next();ds=zi.value,hi=zi.done}catch(zi){return void Rn.error(zi)}hi?Rn.complete():(Rn.next(ds),this.schedule())}))})),qt})}(ct,ni)}throw new TypeError((null!==ct&&typeof ct||ct)+" is not observable")}(ct,ni):ct instanceof o.y?ct:new o.y((0,$.s)(ct))}},6693:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{n:()=>x});var o=Ae(7574),$=Ae(5015),ee=Ae(4087);function x(de,Me){return Me?(0,ee.r)(de,Me):new o.y((0,$.V)(de))}},6682:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{T:()=>de});var o=Ae(7574),$=Ae(4869),ee=Ae(3282),x=Ae(6693);function de(...Me){let De=Number.POSITIVE_INFINITY,Te=null,Ye=Me[Me.length-1];return(0,$.K)(Ye)?(Te=Me.pop(),Me.length>1&&"number"==typeof Me[Me.length-1]&&(De=Me.pop())):"number"==typeof Ye&&(De=Me.pop()),null===Te&&1===Me.length&&Me[0]instanceof o.y?Me[0]:(0,ee.J)(De)((0,x.n)(Me,Te))}},5917:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{of:()=>x});var o=Ae(4869),$=Ae(6693),ee=Ae(4087);function x(...de){let Me=de[de.length-1];return(0,o.K)(Me)?(de.pop(),(0,ee.r)(de,Me)):(0,$.n)(de)}},205:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{_:()=>$});var o=Ae(7574);function $(x,de){return new o.y(de?Me=>de.schedule(ee,0,{error:x,subscriber:Me}):Me=>Me.error(x))}function ee({error:x,subscriber:de}){de.error(x)}},8002:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{U:()=>$});var o=Ae(7393);function $(de,Me){return function(Te){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Te.lift(new ee(de,Me))}}class ee{constructor(Me,De){this.project=Me,this.thisArg=De}call(Me,De){return De.subscribe(new x(Me,this.project,this.thisArg))}}class x extends o.L{constructor(Me,De,Te){super(Me),this.project=De,this.count=0,this.thisArg=Te||this}_next(Me){let De;try{De=this.project.call(this.thisArg,Me,this.count++)}catch(Te){return void this.destination.error(Te)}this.destination.next(De)}}},3282:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{J:()=>ee});var o=Ae(9773),$=Ae(4487);function ee(x=Number.POSITIVE_INFINITY){return(0,o.zg)($.y,x)}},9773:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{zg:()=>x});var o=Ae(8002),$=Ae(4402),ee=Ae(5345);function x(Te,Ye,We=Number.POSITIVE_INFINITY){return"function"==typeof Ye?Mt=>Mt.pipe(x((gt,Pt)=>(0,$.D)(Te(gt,Pt)).pipe((0,o.U)((sn,Gt)=>Ye(gt,sn,Pt,Gt))),We)):("number"==typeof Ye&&(We=Ye),Mt=>Mt.lift(new de(Te,We)))}class de{constructor(Ye,We=Number.POSITIVE_INFINITY){this.project=Ye,this.concurrent=We}call(Ye,We){return We.subscribe(new Me(Ye,this.project,this.concurrent))}}class Me extends ee.Ds{constructor(Ye,We,Mt=Number.POSITIVE_INFINITY){super(Ye),this.project=We,this.concurrent=Mt,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ye){this.active<this.concurrent?this._tryNext(Ye):this.buffer.push(Ye)}_tryNext(Ye){let We;const Mt=this.index++;try{We=this.project(Ye,Mt)}catch(gt){return void this.destination.error(gt)}this.active++,this._innerSub(We)}_innerSub(Ye){const We=new ee.IY(this),Mt=this.destination;Mt.add(We);const gt=(0,ee.ft)(Ye,We);gt!==We&&Mt.add(gt)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ye){this.destination.next(Ye)}notifyComplete(){const Ye=this.buffer;this.active--,Ye.length>0?this._next(Ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{QV:()=>ee,ht:()=>de});var o=Ae(7393),$=Ae(3098);function ee(De,Te=0){return function(We){return We.lift(new x(De,Te))}}class x{constructor(Te,Ye=0){this.scheduler=Te,this.delay=Ye}call(Te,Ye){return Ye.subscribe(new de(Te,this.scheduler,this.delay))}}class de extends o.L{constructor(Te,Ye,We=0){super(Te),this.scheduler=Ye,this.delay=We}static dispatch(Te){const{notification:Ye,destination:We}=Te;Ye.observe(We),this.unsubscribe()}scheduleMessage(Te){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new Me(Te,this.destination)))}_next(Te){this.scheduleMessage($.P.createNext(Te))}_error(Te){this.scheduleMessage($.P.createError(Te)),this.unsubscribe()}_complete(){this.scheduleMessage($.P.createComplete()),this.unsubscribe()}}class Me{constructor(Te,Ye){this.notification=Te,this.destination=Ye}}},1307:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{x:()=>$});var o=Ae(7393);function $(){return function(Me){return Me.lift(new ee(Me))}}class ee{constructor(Me){this.connectable=Me}call(Me,De){const{connectable:Te}=this;Te._refCount++;const Ye=new x(Me,Te),We=De.subscribe(Ye);return Ye.closed||(Ye.connection=Te.connect()),We}}class x extends o.L{constructor(Me,De){super(Me),this.connectable=De}_unsubscribe(){const{connectable:Me}=this;if(!Me)return void(this.connection=null);this.connectable=null;const De=Me._refCount;if(De<=0)return void(this.connection=null);if(Me._refCount=De-1,De>1)return void(this.connection=null);const{connection:Te}=this,Ye=Me._connection;this.connection=null,Ye&&(!Te||Ye===Te)&&Ye.unsubscribe()}}},8819:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{B:()=>De});var o=Ae(2441);var x=Ae(1307),de=Ae(9765);function Me(){return new de.xQ}function De(){return Te=>(0,x.x)()(function(Te,Ye){return function(Mt){let gt;gt="function"==typeof Te?Te:function(){return Te};const Pt=Object.create(Mt,o.N);return Pt.source=Mt,Pt.subjectFactory=gt,Pt}}(Me)(Te))}},9673:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{R:()=>de});var o=Ae(7574),$=Ae(4581),ee=Ae(6561);class x extends o.y{constructor(Te,Ye=0,We=$.e){super(),this.source=Te,this.delayTime=Ye,this.scheduler=We,(!(0,ee.k)(Ye)||Ye<0)&&(this.delayTime=0),(!We||"function"!=typeof We.schedule)&&(this.scheduler=$.e)}static create(Te,Ye=0,We=$.e){return new x(Te,Ye,We)}static dispatch(Te){const{source:Ye,subscriber:We}=Te;return this.add(Ye.subscribe(We))}_subscribe(Te){return this.scheduler.schedule(x.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function de(De,Te=0){return function(We){return We.lift(new Me(De,Te))}}class Me{constructor(Te,Ye){this.scheduler=Te,this.delay=Ye}call(Te,Ye){return new x(Ye,this.delay,this.scheduler).subscribe(Te)}}},3342:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{b:()=>x});var o=Ae(7393);function $(){}var ee=Ae(9105);function x(De,Te,Ye){return function(Mt){return Mt.lift(new de(De,Te,Ye))}}class de{constructor(Te,Ye,We){this.nextOrObserver=Te,this.error=Ye,this.complete=We}call(Te,Ye){return Ye.subscribe(new Me(Te,this.nextOrObserver,this.error,this.complete))}}class Me extends o.L{constructor(Te,Ye,We,Mt){super(Te),this._tapNext=$,this._tapError=$,this._tapComplete=$,this._tapError=We||$,this._tapComplete=Mt||$,(0,ee.m)(Ye)?(this._context=this,this._tapNext=Ye):Ye&&(this._context=Ye,this._tapNext=Ye.next||$,this._tapError=Ye.error||$,this._tapComplete=Ye.complete||$)}_next(Te){try{this._tapNext.call(this._context,Te)}catch(Ye){return void this.destination.error(Ye)}this.destination.next(Te)}_error(Te){try{this._tapError.call(this._context,Te)}catch(Ye){return void this.destination.error(Ye)}this.destination.error(Te)}_complete(){try{this._tapComplete.call(this._context)}catch(Te){return void this.destination.error(Te)}return this.destination.complete()}}},4087:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{r:()=>ee});var o=Ae(7574),$=Ae(5319);function ee(x,de){return new o.y(Me=>{const De=new $.w;let Te=0;return De.add(de.schedule(function(){Te!==x.length?(Me.next(x[Te++]),Me.closed||De.add(this.schedule())):Me.complete()})),De})}},6465:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{o:()=>ee});var o=Ae(5319);class $ extends o.w{constructor(de,Me){super()}schedule(de,Me=0){return this}}class ee extends ${constructor(de,Me){super(de,Me),this.scheduler=de,this.work=Me,this.pending=!1}schedule(de,Me=0){if(this.closed)return this;this.state=de;const De=this.id,Te=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(Te,De,Me)),this.pending=!0,this.delay=Me,this.id=this.id||this.requestAsyncId(Te,this.id,Me),this}requestAsyncId(de,Me,De=0){return setInterval(de.flush.bind(de,this),De)}recycleAsyncId(de,Me,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return Me;clearInterval(Me)}execute(de,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(de,Me);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Me){let Te,De=!1;try{this.work(de)}catch(Ye){De=!0,Te=!!Ye&&Ye||new Error(Ye)}if(De)return this.unsubscribe(),Te}_unsubscribe(){const de=this.id,Me=this.scheduler,De=Me.actions,Te=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Te&&De.splice(Te,1),null!=de&&(this.id=this.recycleAsyncId(Me,de,null)),this.delay=null}}},6102:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{v:()=>$});let o=(()=>{class ee{constructor(de,Me=ee.now){this.SchedulerAction=de,this.now=Me}schedule(de,Me=0,De){return new this.SchedulerAction(this,de).schedule(De,Me)}}return ee.now=()=>Date.now(),ee})();class $ extends o{constructor(x,de=o.now){super(x,()=>$.delegate&&$.delegate!==this?$.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(x,de=0,Me){return $.delegate&&$.delegate!==this?$.delegate.schedule(x,de,Me):super.schedule(x,de,Me)}flush(x){const{actions:de}=this;if(this.active)return void de.push(x);let Me;this.active=!0;do{if(Me=x.execute(x.state,x.delay))break}while(x=de.shift());if(this.active=!1,Me){for(;x=de.shift();)x.unsubscribe();throw Me}}}},4581:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{e:()=>gt,E:()=>Mt});let o=1;const $=Promise.resolve(),ee={};function x(Pt){return Pt in ee&&(delete ee[Pt],!0)}const de={setImmediate(Pt){const sn=o++;return ee[sn]=!0,$.then(()=>x(sn)&&Pt()),sn},clearImmediate(Pt){x(Pt)}};var De=Ae(6465),Ye=Ae(6102);const Mt=new class extends Ye.v{flush(sn){this.active=!0,this.scheduled=void 0;const{actions:Gt}=this;let ct,ni=-1,Rn=Gt.length;sn=sn||Gt.shift();do{if(ct=sn.execute(sn.state,sn.delay))break}while(++ni<Rn&&(sn=Gt.shift()));if(this.active=!1,ct){for(;++ni<Rn&&(sn=Gt.shift());)sn.unsubscribe();throw ct}}}(class extends De.o{constructor(sn,Gt){super(sn,Gt),this.scheduler=sn,this.work=Gt}requestAsyncId(sn,Gt,ct=0){return null!==ct&&ct>0?super.requestAsyncId(sn,Gt,ct):(sn.actions.push(this),sn.scheduled||(sn.scheduled=de.setImmediate(sn.flush.bind(sn,null))))}recycleAsyncId(sn,Gt,ct=0){if(null!==ct&&ct>0||null===ct&&this.delay>0)return super.recycleAsyncId(sn,Gt,ct);0===sn.actions.length&&(de.clearImmediate(Gt),sn.scheduled=void 0)}}),gt=Mt},3637:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{z:()=>ee,P:()=>x});var o=Ae(6465);const ee=new(Ae(6102).v)(o.o),x=ee},7771:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>Me,N:()=>de});var o=Ae(6465),ee=Ae(6102);const de=new class extends ee.v{}(class extends o.o{constructor(Te,Ye){super(Te,Ye),this.scheduler=Te,this.work=Ye}schedule(Te,Ye=0){return Ye>0?super.schedule(Te,Ye):(this.delay=Ye,this.state=Te,this.scheduler.flush(this),this)}execute(Te,Ye){return Ye>0||this.closed?super.execute(Te,Ye):this._execute(Te,Ye)}requestAsyncId(Te,Ye,We=0){return null!==We&&We>0||null===We&&this.delay>0?super.requestAsyncId(Te,Ye,We):Te.flush(this)}}),Me=de},377:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{hZ:()=>$});const $="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{N:()=>$});const $=(()=>{function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ee.prototype=Object.create(Error.prototype),ee})()},4449:(jt,kt,Ae)=>{"use strict";function o($){setTimeout(()=>{throw $},0)}Ae.d(kt,{z:()=>o})},4487:(jt,kt,Ae)=>{"use strict";function o($){return $}Ae.d(kt,{y:()=>o})},9796:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{k:()=>o});const o=Array.isArray||($=>$&&"number"==typeof $.length)},9489:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{z:()=>o});const o=$=>$&&"number"==typeof $.length&&"function"!=typeof $},9105:(jt,kt,Ae)=>{"use strict";function o($){return"function"==typeof $}Ae.d(kt,{m:()=>o})},6561:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{k:()=>$});var o=Ae(9796);function $(ee){return!(0,o.k)(ee)&&ee-parseFloat(ee)+1>=0}},1555:(jt,kt,Ae)=>{"use strict";function o($){return null!==$&&"object"==typeof $}Ae.d(kt,{K:()=>o})},4072:(jt,kt,Ae)=>{"use strict";function o($){return!!$&&"function"!=typeof $.subscribe&&"function"==typeof $.then}Ae.d(kt,{t:()=>o})},4869:(jt,kt,Ae)=>{"use strict";function o($){return $&&"function"==typeof $.schedule}Ae.d(kt,{K:()=>o})},7444:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{s:()=>Mt});var o=Ae(5015),$=Ae(4449),x=Ae(377),Me=Ae(6554),Te=Ae(9489),Ye=Ae(4072),We=Ae(1555);const Mt=gt=>{if(gt&&"function"==typeof gt[Me.L])return(gt=>Pt=>{const sn=gt[Me.L]();if("function"!=typeof sn.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return sn.subscribe(Pt)})(gt);if((0,Te.z)(gt))return(0,o.V)(gt);if((0,Ye.t)(gt))return(gt=>Pt=>(gt.then(sn=>{Pt.closed||(Pt.next(sn),Pt.complete())},sn=>Pt.error(sn)).then(null,$.z),Pt))(gt);if(gt&&"function"==typeof gt[x.hZ])return(gt=>Pt=>{const sn=gt[x.hZ]();for(;;){let Gt;try{Gt=sn.next()}catch(ct){return Pt.error(ct),Pt}if(Gt.done){Pt.complete();break}if(Pt.next(Gt.value),Pt.closed)break}return"function"==typeof sn.return&&Pt.add(()=>{sn.return&&sn.return()}),Pt})(gt);{const sn=`You provided ${(0,We.K)(gt)?"an invalid object":`'${gt}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(sn)}}},5015:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{V:()=>o});const o=$=>ee=>{for(let x=0,de=$.length;x<de&&!ee.closed;x++)ee.next($[x]);ee.complete()}},3669:(jt,kt,Ae)=>{"use strict";var o=Ae(7716);let $=null;function ee(){return $}const De=new o.OlP("DocumentToken");let Te=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:Ye,token:t,providedIn:"platform"}),t})();function Ye(){return(0,o.LFG)(Mt)}const We=new o.OlP("Location Initialized");let Mt=(()=>{class t extends Te{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(e){const s=ee().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=ee().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){gt()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){gt()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:Pt,token:t,providedIn:"platform"}),t})();function gt(){return!!window.history.pushState}function Pt(){return new Mt((0,o.LFG)(De))}function sn(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function Gt(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ct(t){return t&&"?"!==t[0]?"?"+t:t}let ni=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:Rn,token:t,providedIn:"root"}),t})();function Rn(t){const i=(0,o.LFG)(De).location;return new ur((0,o.LFG)(Te),i&&i.origin||"")}const qt=new o.OlP("appBaseHref");let ur=(()=>{class t extends ni{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sn(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+ct(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,l){const h=this.prepareExternalUrl(a+ct(l));this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,l){const h=this.prepareExternalUrl(a+ct(l));this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG(qt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ds=(()=>{class t extends ni{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=sn(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,l){let h=this.prepareExternalUrl(a+ct(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,l){let h=this.prepareExternalUrl(a+ct(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Te),o.LFG(qt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(e,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Gt(tr(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+ct(s))}normalize(e){return t.stripTrailingSlash(function(t,i){return t&&i.startsWith(t)?i.substring(t.length):i}(this._baseHref,tr(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ni),o.LFG(Te))},t.normalizeQueryParams=ct,t.joinWithSlash=sn,t.stripTrailingSlash=Gt,t.\u0275prov=(0,o.Yz7)({factory:zi,token:t,providedIn:"root"}),t})();function zi(){return new hi((0,o.LFG)(ni),(0,o.LFG)(Te))}function tr(t){return t.replace(/\/index.html$/,"")}const jr={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var wn=(()=>((wn=wn||{})[wn.Decimal=0]="Decimal",wn[wn.Percent=1]="Percent",wn[wn.Currency=2]="Currency",wn[wn.Scientific=3]="Scientific",wn))(),dn=(()=>((dn=dn||{})[dn.Zero=0]="Zero",dn[dn.One=1]="One",dn[dn.Two=2]="Two",dn[dn.Few=3]="Few",dn[dn.Many=4]="Many",dn[dn.Other=5]="Other",dn))(),bn=(()=>((bn=bn||{})[bn.Decimal=0]="Decimal",bn[bn.Group=1]="Group",bn[bn.List=2]="List",bn[bn.PercentSign=3]="PercentSign",bn[bn.PlusSign=4]="PlusSign",bn[bn.MinusSign=5]="MinusSign",bn[bn.Exponential=6]="Exponential",bn[bn.SuperscriptingExponent=7]="SuperscriptingExponent",bn[bn.PerMille=8]="PerMille",bn[bn.Infinity=9]="Infinity",bn[bn.NaN=10]="NaN",bn[bn.TimeSeparator=11]="TimeSeparator",bn[bn.CurrencyDecimal=12]="CurrencyDecimal",bn[bn.CurrencyGroup=13]="CurrencyGroup",bn))();function ss(t,i){const e=(0,o.cg1)(t),s=e[o.wAp.NumberSymbols][i];if(void 0===s){if(i===bn.CurrencyDecimal)return e[o.wAp.NumberSymbols][bn.Decimal];if(i===bn.CurrencyGroup)return e[o.wAp.NumberSymbols][bn.Group]}return s}function qs(t,i){return(0,o.cg1)(t)[o.wAp.NumberFormats][i]}const Ki=o.kL8;const Kt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,p="0";function F(t,i,e,s,a,l,h=!1){let y="",C=!1;if(isFinite(t)){let P=function(t){let s,a,l,h,y,i=Math.abs(t)+"",e=0;for((a=i.indexOf("."))>-1&&(i=i.replace(".","")),(l=i.search(/e/i))>0?(a<0&&(a=l),a+=+i.slice(l+1),i=i.substring(0,l)):a<0&&(a=i.length),l=0;i.charAt(l)===p;l++);if(l===(y=i.length))s=[0],a=1;else{for(y--;i.charAt(y)===p;)y--;for(a-=l,s=[],h=0;l<=y;l++,h++)s[h]=Number(i.charAt(l))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(t);h&&(P=function(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(P));let j=i.minInt,te=i.minFrac,he=i.maxFrac;if(l){const Wt=l.match(Kt);if(null===Wt)throw new Error(`${l} is not a valid digit info`);const nn=Wt[1],mn=Wt[3],hn=Wt[5];null!=nn&&(j=Pe(nn)),null!=mn&&(te=Pe(mn)),null!=hn?he=Pe(hn):null!=mn&&te>he&&(he=te)}!function(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let s=t.digits,a=s.length-t.integerLen;const l=Math.min(Math.max(i,a),e);let h=l+t.integerLen,y=s[h];if(h>0){s.splice(Math.max(t.integerLen,h));for(let te=h;te<s.length;te++)s[te]=0}else{a=Math.max(0,a),t.integerLen=1,s.length=Math.max(1,h=l+1),s[0]=0;for(let te=1;te<h;te++)s[te]=0}if(y>=5)if(h-1<0){for(let te=0;te>h;te--)s.unshift(0),t.integerLen++;s.unshift(1),t.integerLen++}else s[h-1]++;for(;a<Math.max(0,l);a++)s.push(0);let C=0!==l;const P=i+t.integerLen,j=s.reduceRight(function(te,he,Ce,Le){return Le[Ce]=(he+=te)<10?he:he-10,C&&(0===Le[Ce]&&Ce>=P?Le.pop():C=!1),he>=10?1:0},0);j&&(s.unshift(j),t.integerLen++)}(P,te,he);let Ce=P.digits,Le=P.integerLen;const je=P.exponent;let tt=[];for(C=Ce.every(Wt=>!Wt);Le<j;Le++)Ce.unshift(0);for(;Le<0;Le++)Ce.unshift(0);Le>0?tt=Ce.splice(Le,Ce.length):(tt=Ce,Ce=[0]);const vt=[];for(Ce.length>=i.lgSize&&vt.unshift(Ce.splice(-i.lgSize,Ce.length).join(""));Ce.length>i.gSize;)vt.unshift(Ce.splice(-i.gSize,Ce.length).join(""));Ce.length&&vt.unshift(Ce.join("")),y=vt.join(ss(e,s)),tt.length&&(y+=ss(e,a)+tt.join("")),je&&(y+=ss(e,bn.Exponential)+"+"+je)}else y=ss(e,bn.Infinity);return y=t<0&&!C?i.negPre+y+i.negSuf:i.posPre+y+i.posSuf,y}function ue(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=t.split(";"),a=s[0],l=s[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf(p)+1),a.substring(a.lastIndexOf(p)+1)],y=h[0],C=h[1]||"";e.posPre=y.substr(0,y.indexOf("#"));for(let j=0;j<C.length;j++){const te=C.charAt(j);te===p?e.minFrac=e.maxFrac=j+1:"#"===te?e.maxFrac=j+1:e.posSuf+=te}const P=y.split(",");if(e.gSize=P[1]?P[1].length:0,e.lgSize=P[2]||P[1]?(P[2]||P[1]).length:0,l){const j=a.length-e.posPre.length-e.posSuf.length,te=l.indexOf("#");e.negPre=l.substr(0,te).replace(/'/g,""),e.negSuf=l.substr(te+j).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function Pe(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}class Be{}let st=(()=>{class t extends Be{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Ki(s||this.locale)(e)){case dn.Zero:return"zero";case dn.One:return"one";case dn.Two:return"two";case dn.Few:return"few";case dn.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.soG))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function J(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const s=e.indexOf("="),[a,l]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let pe=(()=>{class t{constructor(e,s,a,l){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Je{constructor(i,e,s,a){this.$implicit=i,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new Je(null,this._ngForOf,-1,-1),null===h?void 0:h),C=new ln(a,y);s.push(C)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const y=this._viewContainer.get(l);this._viewContainer.move(y,h);const C=new ln(a,y);s.push(C)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ln{constructor(i,e){this.record=i,this.view=e}}let cn=(()=>{class t{constructor(e,s){this._viewContainer=e,this._context=new Un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Un{constructor(){this.$implicit=null,this.ngIf=null}}function zn(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class Ai{constructor(i,e){this._viewContainerRef=i,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let gr=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),vi=(()=>{class t{constructor(e,s,a){this.ngSwitch=a,a._addCase(),this._view=new Ai(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(gr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Yi=(()=>{class t{constructor(e,s,a){a._addDefault(new Ai(e,s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(gr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Gi=(()=>{class t{constructor(e,s,a){this._ngEl=e,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[a,l]=e.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),qr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),t})();function Aa(t,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(t)}'`)}class da{createSubscription(i,e){return i.subscribe({next:e,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class _o{createSubscription(i,e){return i.then(e,s=>{throw s})}dispose(i){}onDestroy(i){}}const qo=new _o,Cd=new da;let $l=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,o.QGY)(e))return qo;if((0,o.F4k)(e))return Cd;throw Aa(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO,16))},t.\u0275pipe=o.Yjl({name:"async",type:t,pure:!1}),t})(),Cp=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"json",type:t,pure:!1}),t})(),Cu=(()=>{class t{constructor(e){this._locale=e}transform(e,s,a){if(!ia(e))return null;a=a||this._locale;try{return function(t,i,e){return F(t,ue(qs(i,wn.Decimal),ss(i,bn.MinusSign)),i,bn.Group,bn.Decimal,e)}(Tp(e),a,s)}catch(l){throw Aa(t,l.message)}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.soG,16))},t.\u0275pipe=o.Yjl({name:"number",type:t,pure:!0}),t})(),ch=(()=>{class t{constructor(e,s="USD"){this._locale=e,this._defaultCurrencyCode=s}transform(e,s=this._defaultCurrencyCode,a="symbol",l,h){if(!ia(e))return null;h=h||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let y=s||this._defaultCurrencyCode;"code"!==a&&(y="symbol"===a||"symbol-narrow"===a?function(t,i,e="en"){const s=function(t){return(0,o.cg1)(t)[o.wAp.Currencies]}(e)[t]||jr[t]||[],a=s[1];return"narrow"===i&&"string"==typeof a?a:s[0]||t}(y,"symbol"===a?"wide":"narrow",h):a);try{return function(t,i,e,s,a){const h=ue(qs(i,wn.Currency),ss(i,bn.MinusSign));return h.minFrac=function(t){let i;const e=jr[t];return e&&(i=e[2]),"number"==typeof i?i:2}(s),h.maxFrac=h.minFrac,F(t,h,i,bn.CurrencyGroup,bn.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}(Tp(e),h,y,s,l)}catch(C){throw Aa(t,C.message)}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},t.\u0275pipe=o.Yjl({name:"currency",type:t,pure:!0}),t})();function ia(t){return!(null==t||""===t||t!=t)}function Tp(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let $i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:Be,useClass:st}]}),t})();function Sd(t){return"server"===t}let mi=(()=>{class t{}return t.\u0275prov=(0,o.Yz7)({token:t,providedIn:"root",factory:()=>new Zc((0,o.LFG)(De),window)}),t})();class Zc{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Xl(this.window.history)||Xl(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Xl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Wc{}class Fl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Fl,$||($=t)}onAndCancel(i,e,s){return i.addEventListener(e,s,!1),()=>{i.removeEventListener(e,s,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=(lr=lr||document.querySelector("base"),lr?lr.getAttribute("href"):null);return null==e?null:function(t){_r=_r||document.createElement("a"),_r.setAttribute("href",t);const i=_r.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){lr=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return J(document.cookie,i)}}let _r,lr=null;const os=new o.OlP("TRANSITION_ID"),Nl=[{provide:o.ip1,useFactory:function(t,i,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const s=ee();Array.prototype.slice.apply(i.querySelectorAll("style[ng-transition]")).filter(l=>l.getAttribute("ng-transition")===t).forEach(l=>s.remove(l))})}},deps:[os,De,o.zs3],multi:!0}];class Kl{static init(){(0,o.VLi)(new Kl)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const y=function(C){h=h||C,l--,0==l&&s(h)};a.forEach(function(C){C.whenStable(y)})})}findTestabilityInTree(i,e,s){if(null==e)return null;const a=i.getTestability(e);return null!=a?a:s?ee().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null}}let Ia=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Ju=new o.OlP("EventManagerPlugins");let $n=(()=>{class t{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ju),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class _s{constructor(i){this._doc=i}addGlobalEventListener(i,e,s){const a=ee().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Vh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Do=(()=>{class t extends Vh{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(s.appendChild(h))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Dd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Dd))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function Dd(t){ee().remove(t)}const ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},La=/%COMP%/g;function bo(t,i,e){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?bo(t,a,e):(a=a.replace(La,t),e.push(a))}return e}function pa(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let xc=(()=>{class t{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new br(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Su(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case o.ifc.ShadowDom:return new $o(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=bo(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(o.LFG($n),o.LFG(Do),o.LFG(o.AFp))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class br{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,e){return e?document.createElementNS(ec[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){i.appendChild(e)}insertBefore(i,e,s){i&&i.insertBefore(e,s)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return e||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,s,a){if(a){e=a+":"+e;const l=ec[a];l?i.setAttributeNS(l,e,s):i.setAttribute(e,s)}else i.setAttribute(e,s)}removeAttribute(i,e,s){if(s){const a=ec[s];a?i.removeAttributeNS(a,e):i.removeAttribute(`${s}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(e,s,a&o.JOm.Important?"important":""):i.style[e]=s}removeStyle(i,e,s){s&o.JOm.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,s){i[e]=s}setValue(i,e){i.nodeValue=e}listen(i,e,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,pa(s)):this.eventManager.addEventListener(i,e,pa(s))}}class Su extends br{constructor(i,e,s,a){super(i),this.component=s;const l=bo(a+"-"+s.id,s.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(La,a+"-"+s.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(La,t)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,e){const s=super.createElement(i,e);return super.setAttribute(s,this.contentAttr,""),s}}class $o extends br{constructor(i,e,s,a){super(i),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=bo(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const y=document.createElement("style");y.textContent=l[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,s){return super.insertBefore(this.nodeOrShadowRoot(i),e,s)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let wc=(()=>{class t extends _s{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const cl=["alt","control","meta","shift"],Ad={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ar={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let eo=(()=>{class t extends _s{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,s,a){const l=t.parseEventName(s),h=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ee().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(s.pop());let h="";if(cl.forEach(C=>{const P=s.indexOf(C);P>-1&&(s.splice(P,1),h+=C+".")}),h+=l,0!=s.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(e){let s="",a=function(t){let i=t.key;if(null==i){if(i=t.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===t.location&&Jt.hasOwnProperty(i)&&(i=Jt[i]))}return Ad[i]||i}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),cl.forEach(l=>{l!=a&&Ar[l](e)&&(s+=l+".")}),s+=a,s}static eventCallback(e,s,a){return l=>{t.getEventFullKey(l)===e&&a.runGuarded(()=>s(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ma=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(Qo)},token:t,providedIn:"root"}),t})(),Qo=(()=>{class t extends ma{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return function(t){return new Qo(t.get(De))}((0,o.LFG)(o.gxx))},token:t,providedIn:"root"}),t})();const Sc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Fl.makeCurrent(),Kl.init()},multi:!0},{provide:De,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),Ku=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Ju,useClass:wc,multi:!0,deps:[De,o.R0b,o.Lbi]},{provide:Ju,useClass:eo,multi:!0,deps:[De]},[],{provide:xc,useClass:xc,deps:[$n,Do,o.AFp]},{provide:o.FYo,useExisting:xc},{provide:Vh,useExisting:Do},{provide:Do,useClass:Do,deps:[De]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:$n,useClass:$n,deps:[Ju,o.R0b]},{provide:Wc,useClass:Ia,deps:[]},[]];let Ip=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:o.AFp,useValue:e.appId},{provide:os,useExisting:o.AFp},Nl]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(t,12))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:Ku,imports:[$i,o.hGG]}),t})();"undefined"!=typeof window&&window;const Mi_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var Cr=Ae(57),Js=Ae(3637),Or=Ae(7574),Di=Ae(5917),Qa=Ae(6682),Fi=Ae(8002),Op=Ae(8819),Ws=Ae(4402),Uo=Ae(5345);function Ps(t,i){return"function"==typeof i?e=>e.pipe(Ps((s,a)=>(0,Ws.D)(t(s,a)).pipe((0,Fi.U)((l,h)=>i(s,l,a,h))))):e=>e.lift(new yl(t))}class yl{constructor(i){this.project=i}call(i,e){return e.subscribe(new td(i,this.project))}}class td extends Uo.Ds{constructor(i,e){super(i),this.project=e,this.index=0}_next(i){let e;const s=this.index++;try{e=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(i){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Uo.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Uo.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var Lo=Ae(7393);function Ja(t,i){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new nc(t,i,e))}}class nc{constructor(i,e,s=!1){this.accumulator=i,this.seed=e,this.hasSeed=s}call(i,e){return e.subscribe(new Rp(i,this.accumulator,this.seed,this.hasSeed))}}class Rp extends Lo.L{constructor(i,e,s,a){super(i),this.accumulator=e,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const e=this.index++;let s;try{s=this.accumulator(this.seed,i,e)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function cu(t,i){return e=>e.lift(new yh(t,i))}class yh{constructor(i,e){this.compare=i,this.keySelector=e}call(i,e){return e.subscribe(new nd(i,this.compare,this.keySelector))}}class nd extends Lo.L{constructor(i,e,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(i,e){return i===e}_next(i){let e;try{const{keySelector:a}=this;e=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=e,this.destination.next(i))}}class uu extends Lo.L{notifyNext(i,e,s,a,l){this.destination.next(e)}notifyError(i,e){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class du extends Lo.L{constructor(i,e,s){super(),this.parent=i,this.outerValue=e,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Dc=Ae(7444);function Pu(t,i,e,s,a=new du(t,e,s)){if(!a.closed)return i instanceof Or.y?i.subscribe(a):(0,Dc.s)(i)(a)}class Ac{constructor(i,e){this.observables=i,this.project=e}call(i,e){return e.subscribe(new vh(i,this.observables,this.project))}}class vh extends uu{constructor(i,e,s){super(i),this.observables=e,this.project=s,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(Pu(this,e[l],void 0,l))}notifyNext(i,e,s){this.values[s]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const e=[i,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(i){let e;try{e=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class as{constructor(i){this.predicate=i}call(i,e){return e.subscribe(new Fp(i,this.predicate))}}class Fp extends Lo.L{constructor(i,e){super(i),this.predicate=e,this.skipping=!0,this.index=0}_next(i){const e=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||e.next(i)}tryCallPredicate(i){try{const e=this.predicate(i,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}Ae(9192);var ri=Ae(9765),Xo=Ae(9746),id=Ae(7771),Ba=Ae(5319),Hf=Ae(7971),bh=Ae(8858);class Gh extends ri.xQ{constructor(i=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const e=this._events;e.push(i),e.length>this._bufferSize&&e.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new Ka(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let h;if(this.closed)throw new Hf.N;if(this.isStopped||this.hasError?h=Ba.w.EMPTY:(this.observers.push(i),h=new bh.W(this,i)),a&&i.add(i=new Xo.ht(i,a)),e)for(let y=0;y<l&&!i.closed;y++)i.next(s[y]);else for(let y=0;y<l&&!i.closed;y++)i.next(s[y].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}_getNow(){return(this.scheduler||id.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),e=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(i-a[h].time<s);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&a.splice(0,h),a}}class Ka{constructor(i,e){this.time=i,this.value=e}}function qh(t,i,e){let s;return s=t&&"object"==typeof t?t:{bufferSize:t,windowTime:i,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let a,h,l=0,y=!1,C=!1;return function(j){let te;l++,!a||y?(y=!1,a=new Gh(t,i,s),te=a.subscribe(this),h=j.subscribe({next(he){a.next(he)},error(he){y=!0,a.error(he)},complete(){C=!0,h=void 0,a.complete()}}),C&&(h=void 0)):te=a.subscribe(this),this.add(()=>{l--,te.unsubscribe(),te=void 0,h&&!C&&e&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}const m=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function T(t,i){return function(s){return s.lift(new N(t,i))}}class N{constructor(i,e){this.predicate=i,this.thisArg=e}call(i,e){return e.subscribe(new U(i,this.predicate,this.thisArg))}}class U extends Lo.L{constructor(i,e,s){super(i),this.predicate=e,this.thisArg=s,this.count=0}_next(i){let e;try{e=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(i)}}const ce=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var ge=Ae(9193);function we(t){return i=>0===t?(0,ge.c)():i.lift(new be(t))}class be{constructor(i){if(this.total=i,this.total<0)throw new ce}call(i,e){return e.subscribe(new Ue(i,this.total))}}class Ue extends Lo.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){const e=this.total,s=++this.count;s<=e&&(this.destination.next(i),s===e&&(this.destination.complete(),this.unsubscribe()))}}function qe(t=null){return i=>i.lift(new Qe(t))}class Qe{constructor(i){this.defaultValue=i}call(i,e){return e.subscribe(new Ke(i,this.defaultValue))}}class Ke extends Lo.L{constructor(i,e){super(i),this.defaultValue=e,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pt(t=lt){return i=>i.lift(new xt(t))}class xt{constructor(i){this.errorFactory=i}call(i,e){return e.subscribe(new Nt(i,this.errorFactory))}}class Nt extends Lo.L{constructor(i,e){super(i),this.errorFactory=e,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(e){i=e}this.destination.error(i)}}}function lt(){return new m}var wt=Ae(4487);function Tt(t,i){const e=arguments.length>=2;return s=>s.pipe(t?T((a,l)=>t(a,l,s)):wt.y,we(1),e?qe(i):pt(()=>new m))}function Ut(t,i){return i?Ps(()=>t,i):Ps(()=>t)}var St=Ae(9673);const Sn=new o.OlP("angularfire2.auth.use-emulator"),An=new o.OlP("angularfire2.auth.settings"),Fn=new o.OlP("angularfire2.auth.tenant-id"),Lt=new o.OlP("angularfire2.auth.langugage-code"),ii=new o.OlP("angularfire2.auth.use-device-language"),Bn=new o.OlP("angularfire.auth.persistence");let ci=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j,te){const he=new Cr.HU(l),Ce=(0,Cr.ss)(he),Le=new ri.xQ,je=(0,Di.of)(void 0).pipe((0,Xo.QV)(he.outsideAngular),Ps(()=>l.runOutsideAngular(()=>Ae.e(336).then(Ae.bind(Ae,1336)))),(0,Fi.U)(()=>(0,Cr.on)(e,l,s)),(0,Fi.U)(tt=>l.runOutsideAngular(()=>{const vt=h,Wt=y;return(0,Cr.sI)(`${tt.name}.auth`,"AngularFireAuth",tt,()=>{const nn=l.runOutsideAngular(()=>tt.auth());if(vt&&nn.useEmulator(`http://${vt.join(":")}`),C&&(nn.tenantId=C),nn.languageCode=P,j&&nn.useDeviceLanguage(),Wt)for(const[mn,hn]of Object.entries(Wt))nn.settings[mn]=hn;return te&&nn.setPersistence(te),nn},[vt,C,P,j,Wt,te])})),qh({bufferSize:1,refCount:!1}));if(Sd(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Di.of)(null);else{je.pipe(Tt()).subscribe();const vt=je.pipe(Ps(hn=>hn.getRedirectResult().then(qn=>qn,()=>null)),Ce,qh({bufferSize:1,refCount:!1})),Wt=hn=>new Or.y(qn=>({unsubscribe:l.runOutsideAngular(()=>hn(qn))})),nn=je.pipe(Ps(hn=>Wt(hn.onAuthStateChanged.bind(hn)))),mn=je.pipe(Ps(hn=>Wt(hn.onIdTokenChanged.bind(hn))));this.authState=vt.pipe(Ut(nn),(0,St.R)(he.outsideAngular),(0,Xo.QV)(he.insideAngular)),this.user=vt.pipe(Ut(mn),(0,St.R)(he.outsideAngular),(0,Xo.QV)(he.insideAngular)),this.idToken=this.user.pipe(Ps(hn=>hn?(0,Ws.D)(hn.getIdToken()):(0,Di.of)(null))),this.idTokenResult=this.user.pipe(Ps(hn=>hn?(0,Ws.D)(hn.getIdTokenResult()):(0,Di.of)(null))),this.credential=(0,Qa.T)(vt,Le,this.authState.pipe(T(hn=>!hn))).pipe((0,Fi.U)(hn=>(null==hn?void 0:hn.user)?hn:null),(0,St.R)(he.outsideAngular),(0,Xo.QV)(he.insideAngular))}return(0,Cr.pX)(this,je,l,{spy:{apply:(tt,vt,Wt)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&Wt.then(nn=>Le.next(nn))}}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Sn,8),o.LFG(An,8),o.LFG(Fn,8),o.LFG(Lt,8),o.LFG(ii,8),o.LFG(Bn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Sn,8),o.LFG(An,8),o.LFG(Fn,8),o.LFG(Lt,8),o.LFG(ii,8),o.LFG(Bn,8))},token:t,providedIn:"any"}),t})();var Xn=Ae(2329);function ns(t){return null==t}function ps(t){return"function"==typeof t.set}function bs(t,i){return ps(i)?i:t.ref(i)}function Mr(t,i){if(function(t){return"string"==typeof t}(t))return i.stringCase();if(ps(t))return i.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Es(t,i,e="on",s=Js.z){return new Or.y(a=>{let l=null;return l=t[e](i,(h,y)=>{s.schedule(()=>{a.next({snapshot:h,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},h=>{s.schedule(()=>a.error(h))}),"on"===e?{unsubscribe(){null!=l&&t.off(i,l)}}:{unsubscribe(){}}}).pipe((0,Fi.U)(a=>{const{snapshot:l,prevKey:h}=a;let y=null;return l.exists()&&(y=l.key),{type:i,payload:l,prevKey:h,key:y}}),(0,Op.B)())}function Hl(t,i){const e=t.length;for(let s=0;s<e;s++)if(t[s].payload.key===i)return s;return-1}function ys(t,i){const{payload:e,prevKey:s,key:a}=i,l=Hl(t,a),h=function(t,i){if(ns(i))return 0;{const e=Hl(t,i);return-1===e?t.length:e+1}}(t,s);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let y=null;i.payload.forEach(C=>{const P={payload:C,type:"value",prevKey:y,key:C.key};return y=C.key,t=[...t,P],!1})}return t;case"child_added":if(l>-1){const y=t[l-1];(y&&y.key||null)!==s&&(t=t.filter(C=>C.payload.key!==e.key)).splice(h,0,i)}else{if(null==s)return[i,...t];(t=t.slice()).splice(h,0,i)}return t;case"child_removed":return t.filter(y=>y.payload.key!==e.key);case"child_changed":return t.map(y=>y.payload.key===a?i:y);case"child_moved":if(l>-1){const y=t.splice(l,1)[0];return(t=t.slice()).splice(h,0,y),t}return t;default:return t}}function Ko(t){return(ns(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function vl(t,i,e){return function(t,i,e){return Es(t,"value","once",e).pipe(Ps(s=>{const a=[(0,Di.of)(s)];return i.forEach(l=>a.push(Es(t,l,"on",e))),(0,Qa.T)(...a).pipe(Ja(ys,[]))}),cu())}(t,i=Ko(i),e)}function Vi(t,i,e){const s=(i=Ko(i)).map(a=>Es(t,a,"on",e));return(0,Qa.T)(...s)}function xo(t,i){return function(s,a){return Mr(s,{stringCase:()=>t.child(s)[i](a),firebaseCase:()=>s[i](a),snapshotCase:()=>s.ref[i](a)})}}function $r(t){return function(e){return e?Mr(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function dl(t,i){return function(){return Es(t,"value","on",i)}}const jo=new o.OlP("angularfire2.realtimeDatabaseURL"),Ha=new o.OlP("angularfire2.database.use-emulator");let rd=(()=>{class t{constructor(e,s,a,l,h,y,C){this.schedulers=new Cr.HU(h),this.keepUnstableUntilFirst=(0,Cr.ss)(this.schedulers);const P=y,j=(0,Cr.on)(e,h,s);!Xn.Z.auth&&C&&(0,Cr.yq)(),this.database=(0,Cr.sI)(`${j.name}.database.${a}`,"AngularFireDatabase",j,()=>{const te=h.runOutsideAngular(()=>j.database(a||void 0));return P&&te.useEmulator(...P),te},[P])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>bs(this.database,e));let l=a;return s&&(l=s(a)),function(t,i){const e=i.schedulers.outsideAngular,s=i.schedulers.ngZone.run(()=>t.ref);return{query:t,update:xo(s,"update"),set:xo(s,"set"),push:a=>s.push(a),remove:$r(s),snapshotChanges:a=>vl(t,a,e).pipe(i.keepUnstableUntilFirst),stateChanges:a=>Vi(t,a,e).pipe(i.keepUnstableUntilFirst),auditTrail:a=>function(t,i,e){return function(t,i,e){return function(t,i){return Es(t,"value","on",i).pipe((0,Fi.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(t,e).pipe(function(...t){return i=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),i.lift(new Ac(t,e))}}(i),(0,Fi.U)(([a,l])=>{const h=a.lastKeyToLoad,y=l.map(C=>C.key);return{actions:l,lastKeyToLoad:h,loadedKeys:y}}),function(t){return i=>i.lift(new as(t))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Fi.U)(a=>a.actions))}(t,Vi(t,i).pipe(Ja((a,l)=>[...a,l],[])),e)}(t,a,e).pipe(i.keepUnstableUntilFirst),valueChanges:(a,l)=>vl(t,a,e).pipe((0,Fi.U)(y=>y.map(C=>l&&l.idField?Object.assign(Object.assign({},C.payload.val()),{[l.idField]:C.key}):C.payload.val())),i.keepUnstableUntilFirst)}}(l,this)}object(e){return function(t,i){return{query:t,snapshotChanges:()=>dl(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>dl(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,(0,Fi.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bs(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(jo,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ha,8),o.LFG(Sn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(jo,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ha,8),o.LFG(Sn,8))},token:t,providedIn:"any"}),t})(),Pa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[rd]}),t})();function Pd(t,i,e,s,a,l,h){try{var y=t[l](h),C=y.value}catch(P){return void e(P)}y.done?i(C):Promise.resolve(C).then(s,a)}function Rr(t){return function(){var i=this,e=arguments;return new Promise(function(s,a){var l=t.apply(i,e);function h(C){Pd(l,s,a,h,y,"next",C)}function y(C){Pd(l,s,a,h,y,"throw",C)}h(void 0)})}}class Od{}const Zo="*";function fs(t,i){return{type:7,name:t,definitions:i,options:{}}}function yi(t,i=null){return{type:4,styles:i,timings:t}}function le(t,i=null){return{type:2,steps:t,options:i}}function ye(t){return{type:6,styles:t,offset:null}}function Ne(t,i,e){return{type:0,name:t,styles:i,options:e}}function nt(t){return{type:5,steps:t}}function Et(t,i,e=null){return{type:1,expr:t,animation:i,options:e}}function En(t,i=null){return{type:8,animation:t,options:i}}function Xi(t=null){return{type:9,options:t}}function Lr(t,i=null){return{type:10,animation:t,options:i}}function to(t,i,e=null){return{type:11,selector:t,animation:i,options:e}}function Va(t){Promise.resolve(null).then(t)}class Rs{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Va(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class af{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,s=0,a=0;const l=this.players.length;0==l?Va(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++s==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}var Cm=Ae(3282);function Vf(...t){return(0,Cm.J)(1)((0,Di.of)(...t))}var $h=Ae(4869);function Oo(...t){const i=t[t.length-1];return(0,$h.K)(i)?(t.pop(),e=>Vf(t,e,i)):e=>Vf(t,e)}function Ic(){return t=>t.lift(new Lc)}class Lc{call(i,e){return e.subscribe(new Ou(i))}}class Ou extends Lo.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let e;this.hasPrev?e=[this.prev,i]:this.hasPrev=!0,this.prev=i,e&&this.destination.next(e)}}var Br=Ae(4969),yt=Ae(4762),Ds=Ae(4685),hu=Ae(300),sd=function(t,i){return(sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])})(t,i)};function n_(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],s=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var ji,Ru="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rc=rc||{},Yr=Ru||self;function Tm(){}function tl(t){var i=typeof t;return"array"==(i="object"!=i?i:t?Array.isArray(t)?"array":i:"null")||"object"==i&&"number"==typeof t.length}function Tr(t){var i=typeof t;return"object"==i&&null!=t||"function"==i}var Uf="closure_uid_"+(1e9*Math.random()>>>0),Bp=0;function Qh(t,i,e){return t.call.apply(t.bind,arguments)}function xh(t,i,e){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),t.apply(i,a)}}return function(){return t.apply(i,arguments)}}function lo(t,i,e){return(lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qh:xh).apply(null,arguments)}function lf(t,i){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function wo(t,i){function e(){}e.prototype=i.prototype,t.Z=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Vb=function(s,a,l){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return i.prototype[a].apply(s,h)}}function Vl(){this.s=this.s,this.o=this.o}var Xh={};Vl.prototype.s=!1,Vl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Uf)&&t[Uf]||(t[Uf]=++Bp)}(this);delete Xh[t]}},Vl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wh=Array.prototype.indexOf?function(t,i){return Array.prototype.indexOf.call(t,i,void 0)}:function(t,i){if("string"==typeof t)return"string"!=typeof i||1!=i.length?-1:t.indexOf(i,0);for(var e=0;e<t.length;e++)if(e in t&&t[e]===i)return e;return-1},Sm=Array.prototype.forEach?function(t,i,e){Array.prototype.forEach.call(t,i,e)}:function(t,i,e){for(var s=t.length,a="string"==typeof t?t.split(""):t,l=0;l<s;l++)l in a&&i.call(e,a[l],l,t)};function km(t){return Array.prototype.concat.apply([],arguments)}function Fu(t){var i=t.length;if(0<i){for(var e=Array(i),s=0;s<i;s++)e[s]=t[s];return e}return[]}function Kh(t){return/^[\s\xa0]*$/.test(t)}var wl,jf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xl(t,i){return-1!=t.indexOf(i)}function Zf(t,i){return t<i?-1:t>i?1:0}e:{var sg=Yr.navigator;if(sg){var og=sg.userAgent;if(og){wl=og;break e}}wl=""}function sc(t,i,e){for(var s in t)i.call(e,t[s],s,t)}function oa(t){var i={};for(var e in t)i[e]=t[e];return i}var ag="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ul(t,i){for(var e,s,a=1;a<arguments.length;a++){for(e in s=arguments[a])t[e]=s[e];for(var l=0;l<ag.length;l++)e=ag[l],Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}}function Fd(t){return Fd[" "](t),t}Fd[" "]=Tm;var Gf,t,Yp=xl(wl,"Opera"),Fs=xl(wl,"Trident")||xl(wl,"MSIE"),Nd=xl(wl,"Edge"),Wf=Nd||Fs,zd=xl(wl,"Gecko")&&!(xl(wl.toLowerCase(),"webkit")&&!xl(wl,"Edge"))&&!(xl(wl,"Trident")||xl(wl,"MSIE"))&&!xl(wl,"Edge"),Nu=xl(wl.toLowerCase(),"webkit")&&!xl(wl,"Edge");function r_(){var t=Yr.document;return t?t.documentMode:void 0}e:{var Ch="",qf=(t=wl,zd?/rv:([^\);]+)(\)|;)/.exec(t):Nd?/Edge\/([\d\.]+)/.exec(t):Fs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Nu?/WebKit\/(\S+)/.exec(t):Yp?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(qf&&(Ch=qf?qf[1]:""),Fs){var lg=r_();if(null!=lg&&lg>parseFloat(Ch)){Gf=String(lg);break e}}Gf=Ch}var s_={};function $f(){return i=s_,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var t=0,i=jf(String(Gf)).split("."),e=jf("9").split("."),s=Math.max(i.length,e.length),a=0;0==t&&a<s;a++){var l=i[a]||"",h=e[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;t=Zf(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Zf(0==l[2].length,0==h[2].length)||Zf(l[2],h[2]),l=l[3],h=h[3]}while(0==t)}return 0<=t}();var i}var ep=Yr.document&&Fs&&(r_()||parseInt(Gf,10))||void 0,cf=function(){if(!Yr.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Yr.addEventListener("test",Tm,i),Yr.removeEventListener("test",Tm,i)}catch(e){}return t}();function hl(t,i){this.type=t,this.g=this.target=i,this.defaultPrevented=!1}function Oa(t,i){if(hl.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var e=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=i,i=t.relatedTarget){if(zd){e:{try{Fd(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==e?i=t.fromElement:"mouseout"==e&&(i=t.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qf[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oa.Z.h.call(this)}}hl.prototype.h=function(){this.defaultPrevented=!0},wo(Oa,hl);var Qf={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mh="closure_listenable_"+(1e6*Math.random()|0),od=0;function Bu(t,i,e,s,a){this.listener=t,this.proxy=null,this.src=i,this.type=e,this.capture=!!s,this.ia=a,this.key=++od,this.ca=this.fa=!1}function tp(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Bd(t){this.src=t,this.g={},this.h=0}function oc(t,i){var e=i.type;if(e in t.g){var l,s=t.g[e],a=wh(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(tp(i),0==t.g[e].length&&(delete t.g[e],t.h--))}}function o_(t,i,e,s){for(var a=0;a<t.length;++a){var l=t[a];if(!l.ca&&l.listener==i&&l.capture==!!e&&l.ia==s)return a}return-1}Bd.prototype.add=function(t,i,e,s,a){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var h=o_(t,i,s,a);return-1<h?(i=t[h],e||(i.fa=!1)):((i=new Bu(i,this.src,l,!!s,a)).fa=e,t.push(i)),i};var uf="closure_lm_"+(1e6*Math.random()|0),Yd={};function cg(t,i,e,s,a){if(s&&s.once)return df(t,i,e,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)cg(t,i[l],e,s,a);return null}return e=Em(e),t&&t[Mh]?t.N(i,e,Tr(s)?!!s.capture:!!s,a):ug(t,i,e,!1,s,a)}function ug(t,i,e,s,a,l){if(!i)throw Error("Invalid event type");var h=Tr(a)?!!a.capture:!!a,y=ad(t);if(y||(t[uf]=y=new Bd(t)),(e=y.add(i,e,s,h,l)).proxy)return e;if(s=function(){var i=Hp;return function t(e){return i.call(t.src,t.listener,e)}}(),e.proxy=s,s.src=t,s.listener=e,t.addEventListener)cf||(a=h),void 0===a&&(a=!1),t.addEventListener(i.toString(),s,a);else if(t.attachEvent)t.attachEvent(Vd(i.toString()),s);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(s)}return e}function df(t,i,e,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)df(t,i[l],e,s,a);return null}return e=Em(e),t&&t[Mh]?t.O(i,e,Tr(s)?!!s.capture:!!s,a):ug(t,i,e,!0,s,a)}function Hd(t,i,e,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)Hd(t,i[l],e,s,a);else s=Tr(s)?!!s.capture:!!s,e=Em(e),t&&t[Mh]?(t=t.i,(i=String(i).toString())in t.g&&-1<(e=o_(l=t.g[i],e,s,a))&&(tp(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete t.g[i],t.h--))):t&&(t=ad(t))&&(i=t.g[i.toString()],t=-1,i&&(t=o_(i,e,s,a)),(e=-1<t?i[t]:null)&&vr(e))}function vr(t){if("number"!=typeof t&&t&&!t.ca){var i=t.src;if(i&&i[Mh])oc(i.i,t);else{var e=t.type,s=t.proxy;i.removeEventListener?i.removeEventListener(e,s,t.capture):i.detachEvent?i.detachEvent(Vd(e),s):i.addListener&&i.removeListener&&i.removeListener(s),(e=ad(i))?(oc(e,t),0==e.h&&(e.src=null,i[uf]=null)):tp(t)}}}function Vd(t){return t in Yd?Yd[t]:Yd[t]="on"+t}function Hp(t,i){if(t.ca)t=!0;else{i=new Oa(i,this);var e=t.listener,s=t.ia||t.src;t.fa&&vr(t),t=e.call(s,i)}return t}function ad(t){return(t=t[uf])instanceof Bd?t:null}var a_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Em(t){return"function"==typeof t?t:(t[a_]||(t[a_]=function(i){return t.handleEvent(i)}),t[a_])}function ga(){Vl.call(this),this.i=new Bd(this),this.P=this,this.I=null}function co(t,i){var e,s=t.I;if(s)for(e=[];s;s=s.I)e.push(s);if(t=t.P,s=i.type||i,"string"==typeof i)i=new hl(i,t);else if(i instanceof hl)i.target=i.target||t;else{var a=i;Ul(i=new hl(s,t),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var h=i.g=e[l];a=dg(h,s,!0,i)&&a}if(a=dg(h=i.g=t,s,!0,i)&&a,a=dg(h,s,!1,i)&&a,e)for(l=0;l<e.length;l++)a=dg(h=i.g=e[l],s,!1,i)&&a}function dg(t,i,e,s){if(!(i=t.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==e){var y=h.listener,C=h.ia||h.src;h.fa&&oc(t.i,h),a=!1!==y.call(C,s)&&a}}return a&&!s.defaultPrevented}wo(ga,Vl),ga.prototype[Mh]=!0,ga.prototype.removeEventListener=function(t,i,e,s){Hd(this,t,i,e,s)},ga.prototype.M=function(){if(ga.Z.M.call(this),this.i){var i,t=this.i;for(i in t.g){for(var e=t.g[i],s=0;s<e.length;s++)tp(e[s]);delete t.g[i],t.h--}}this.I=null},ga.prototype.N=function(t,i,e,s){return this.i.add(String(t),i,!1,e,s)},ga.prototype.O=function(t,i,e,s){return this.i.add(String(t),i,!0,e,s)};var l_=Yr.JSON.stringify;function hg(){var t=pf,i=null;return t.g&&(i=t.g,t.g=t.g.next,t.g||(t.h=null),i.next=null),i}var Yu,Ud=function(){function t(){this.h=this.g=null}return t.prototype.add=function(i,e){var s=jd.get();s.set(i,e),this.h?this.h.next=s:this.g=s,this.h=s},t}(),jd=new(function(){function t(i,e){this.i=i,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},t}())(function(){return new pu},function(t){return t.reset()}),pu=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(i,e){this.h=i,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function aa(t){Yr.setTimeout(function(){throw t},0)}function Xf(t,i){Yu||function(){var t=Yr.Promise.resolve(void 0);Yu=function(){t.then(pg)}}(),hf||(Yu(),hf=!0),pf.add(t,i)}var hf=!1,pf=new Ud;function pg(){for(var t;t=hg();){try{t.h.call(t.g)}catch(e){aa(e)}var i=jd;i.j(t),100>i.h&&(i.h++,t.next=i.g,i.g=t)}hf=!1}function Dm(t,i){ga.call(this),this.h=t||1,this.g=i||Yr,this.j=lo(this.kb,this),this.l=Date.now()}function Vp(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function fu(t,i,e){if("function"==typeof t)e&&(t=lo(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lo(t.handleEvent,t)}return 2147483647<Number(i)?-1:Yr.setTimeout(t,i||0)}function mu(t){t.g=fu(function(){t.g=null,t.i&&(t.i=!1,mu(t))},t.j);var i=t.h;t.h=null,t.m.apply(null,i)}wo(Dm,ga),(ji=Dm.prototype).da=!1,ji.S=null,ji.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),co(this,"tick"),this.da&&(Vp(this),this.start()))}},ji.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ji.M=function(){Dm.Z.M.call(this),Vp(this),delete this.g};var ev=function(t){function i(e,s){var a=t.call(this)||this;return a.m=e,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}sd(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,t),i.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:mu(this)},i.prototype.M=function(){t.prototype.M.call(this),this.g&&(Yr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(Vl);function Am(t){Vl.call(this),this.h=t,this.g={}}wo(Am,Vl);var ff=[];function tv(t,i,e,s){Array.isArray(e)||(e&&(ff[0]=e.toString()),e=ff);for(var a=0;a<e.length;a++){var l=cg(i,e[a],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function Hu(t){sc(t.g,function(i,e){this.g.hasOwnProperty(e)&&vr(i)},t),t.g={}}function mf(){this.g=!0}function ac(t,i,e,s){t.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(t,i){if(!t.g)return i;if(!i)return null;try{var e=JSON.parse(i);if(e)for(t=0;t<e.length;t++)if(Array.isArray(e[t])){var s=e[t];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return l_(e)}catch(y){return i}}(t,e)+(s?" "+s:"")})}Am.prototype.M=function(){Am.Z.M.call(this),Hu(this)},Am.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mf.prototype.Aa=function(){this.g=!1},mf.prototype.info=function(){};var Sh={},Im=null;function gf(){return Im=Im||new ga}function _f(t){hl.call(this,Sh.Ma,t)}function kh(t){var i=gf();co(i,new _f(i,t))}function Pc(t,i){hl.call(this,Sh.STAT_EVENT,t),this.stat=i}function Ra(t){var i=gf();co(i,new Pc(i,t))}function mg(t,i){hl.call(this,Sh.Na,t),this.size=i}function yf(t,i){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Yr.setTimeout(function(){t()},i)}Sh.Ma="serverreachability",wo(_f,hl),Sh.STAT_EVENT="statevent",wo(Pc,hl),Sh.Na="timingevent",wo(mg,hl);var em={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},J_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ip(){}function K_(){}ip.prototype.h=null;var Lm,rp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gg(){hl.call(this,"d")}function tm(){hl.call(this,"c")}function E(){}function k(t,i,e,s){this.l=t,this.j=i,this.m=e,this.X=s||1,this.V=new Am(this),this.P=Z,this.W=new Dm(t=Wf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new O}function O(){this.i=null,this.g="",this.h=!1}wo(gg,hl),wo(tm,hl),wo(E,ip),E.prototype.g=function(){return new XMLHttpRequest},E.prototype.i=function(){return{}},Lm=new E;var Z=45e3,se={},ve={};function Fe(t,i,e){t.K=1,t.v=nv(Zd(i)),t.s=e,t.U=!0,it(t,null)}function it(t,i){t.F=Date.now(),Cn(t),t.A=Zd(t.v);var e=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),ov(e.h,"t",s),t.C=0,e=t.l.H,t.h=new O,t.g=am(t.l,e?i:null,!t.s),0<t.O&&(t.L=new ev(lo(t.Ia,t,t.g),t.O)),tv(t.V,t.g,"readystatechange",t.gb),i=t.H?oa(t.H):{},t.s?(t.u||(t.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,i)):(t.u="GET",t.g.ea(t.A,t.u,null,i)),kh(1),function(t,i,e,s,a,l){t.info(function(){if(t.g)if(l)for(var h="",y=l.split("&"),C=0;C<y.length;C++){var P=y[C].split("=");if(1<P.length){var j=P[0];P=P[1];var te=j.split("_");h=2<=te.length&&"type"==te[1]?h+(j+"=")+P+"&":h+(j+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+e+"\n"+h})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ut(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Dt(t,i,e){for(var a,s=!0;!t.I&&t.C<e.length;){if((a=zt(t,e))==ve){4==i&&(t.o=4,Ra(14),s=!1),ac(t.j,t.m,null,"[Incomplete Response]");break}if(a==se){t.o=4,Ra(15),ac(t.j,t.m,e,"[Invalid Chunk]"),s=!1;break}ac(t.j,t.m,a,null),rr(t,a)}ut(t)&&a!=ve&&a!=se&&(t.h.g="",t.C=0),4!=i||0!=e.length||t.h.h||(t.o=1,Ra(16),s=!1),t.i=t.i&&s,s?0<e.length&&!t.aa&&(t.aa=!0,(i=t.l).g==t&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),cy(i),i.L=!0,Ra(11))):(ac(t.j,t.m,e,"[Invalid Chunked Response]"),Wi(t),ki(t))}function zt(t,i){var e=t.C,s=i.indexOf("\n",e);return-1==s?ve:(e=Number(i.substring(e,s)),isNaN(e)?se:(s+=1)+e>i.length?ve:(i=i.substr(s,e),t.C=s+e,i))}function Cn(t){t.Y=Date.now()+t.P,Yn(t,t.P)}function Yn(t,i){if(null!=t.B)throw Error("WatchDog timer not null");t.B=yf(lo(t.eb,t),i)}function oi(t){t.B&&(Yr.clearTimeout(t.B),t.B=null)}function ki(t){0==t.l.G||t.I||_b(t.l,t)}function Wi(t){oi(t);var i=t.L;i&&"function"==typeof i.na&&i.na(),t.L=null,Vp(t.W),Hu(t.V),t.g&&(i=t.g,t.g=null,i.abort(),i.na())}function rr(t,i){try{var e=t.l;if(0!=e.G&&(e.g==t||lv(e.i,t)))if(e.I=t.N,!t.J&&lv(e.i,t)&&3==e.G){try{var s=e.Ca.g.parse(i)}catch(tt){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=yf(lo(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<t.F))break e;Fm(e),Uu(e)}om(e),Ra(18)}if(1>=ny(e.i)&&e.ka){try{e.ka()}catch(tt){}e.ka=void 0}}else Ah(e,11)}else if((t.J||e.g==t)&&Fm(e),!Kh(i))for(a=e.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(e.U=l[0],l=l[1],2==e.G)if("c"==l[0]){e.J=l[1],e.la=l[2];var h=l[3];null!=h&&(e.ma=h,e.h.info("VER="+e.ma));var y=l[4];null!=y&&(e.za=y,e.h.info("SVER="+e.za));var C=l[5];null!=C&&"number"==typeof C&&0<C&&(e.K=s=1.5*C,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var P=t.g;if(P){var j=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var te=s.i;!te.g&&(xl(j,"spdy")||xl(j,"quic")||xl(j,"h2"))&&(te.j=te.l,te.g=new Set,te.h&&(vg(te,te.h),te.h=null))}if(s.D){var he=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(s.sa=he,Fa(s.F,s.D,he))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-t.F,e.h.info("Handshake RTT: "+e.O+"ms"));var Ce=t;if((s=e).oa=xf(s,s.H?s.la:null,s.W),Ce.J){Zp(s.i,Ce);var Le=Ce,je=s.K;je&&Le.setTimeout(je),Le.B&&(oi(Le),Cn(Le)),s.g=Ce}else ld(s);0<e.l.length&&Rm(e)}else"stop"!=l[0]&&"close"!=l[0]||Ah(e,7);else 3==e.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ah(e,7):Om(e):"noop"!=l[0]&&e.j&&e.j.wa(l),e.A=0)}kh(4)}catch(tt){}}function _a(t,i){if(t.forEach&&"function"==typeof t.forEach)t.forEach(i,void 0);else if(tl(t)||"string"==typeof t)Sm(t,i,void 0);else{if(t.T&&"function"==typeof t.T)var e=t.T();else if(t.R&&"function"==typeof t.R)e=void 0;else if(tl(t)||"string"==typeof t){e=[];for(var s=t.length,a=0;a<s;a++)e.push(a)}else for(a in e=[],s=0,t)e[s++]=a;a=(s=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(tl(t)){for(var i=[],e=t.length,s=0;s<e;s++)i.push(t[s]);return i}for(s in i=[],e=0,t)i[e++]=t[s];return i}(t)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],e&&e[l],t)}}function lc(t,i){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof lc)for(e=t.T(),s=0;s<e.length;s++)this.set(e[s],t.get(e[s]));else for(s in t)this.set(s,t[s])}function sp(t){if(t.i!=t.g.length){for(var i=0,e=0;i<t.g.length;){var s=t.g[i];Eh(t.h,s)&&(t.g[e++]=s),i++}t.g.length=e}if(t.i!=t.g.length){var a={};for(e=i=0;i<t.g.length;)Eh(a,s=t.g[i])||(t.g[e++]=s,a[s]=1),i++;t.g.length=e}}function Eh(t,i){return Object.prototype.hasOwnProperty.call(t,i)}(ji=k.prototype).setTimeout=function(t){this.P=t},ji.gb=function(t){t=t.target;var i=this.L;i&&3==sm(t)?i.l():this.Ia(t)},ji.Ia=function(t){try{if(t==this.g)e:{var i=sm(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||Wf||this.g&&(this.h.h||this.g.ga()||B0(this.g)))){this.I||4!=i||7==e||kh(8==e||0>=s?3:2),oi(this);var a=this.g.ba();this.N=a;t:if(ut(this)){var l=B0(this.g);t="";var h=l.length,y=4==sm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wi(this),ki(this);var C="";break t}this.h.i=new Yr.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,t+=this.h.i.decode(l[e],{stream:y&&e==h-1});l.splice(0,h),this.h.g+=t,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==a,function(t,i,e,s,a,l,h){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var P,j=this.g;if((P=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kh(P)){var te=P;break t}}te=null}if(!(a=te)){this.i=!1,this.o=3,Ra(12),Wi(this),ki(this);break e}ac(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rr(this,a)}this.U?(Dt(this,i,C),Wf&&this.i&&3==i&&(tv(this.V,this.W,"tick",this.fb),this.W.start())):(ac(this.j,this.m,C,null),rr(this,C)),4==i&&Wi(this),this.i&&!this.I&&(4==i?_b(this.l,this):(this.i=!1,Cn(this)))}else 400==a&&0<C.indexOf("Unknown SID")?(this.o=3,Ra(12)):(this.o=0,Ra(13)),Wi(this),ki(this)}}}catch(he){}},ji.fb=function(){if(this.g){var t=sm(this.g),i=this.g.ga();this.C<i.length&&(oi(this),Dt(this,t,i),this.i&&4!=t&&Cn(this))}},ji.cancel=function(){this.I=!0,Wi(this)},ji.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,i){t.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(kh(3),Ra(17)),Wi(this),this.o=2,ki(this)):Yn(this,this.Y-t)},(ji=lc.prototype).R=function(){sp(this);for(var t=[],i=0;i<this.g.length;i++)t.push(this.h[this.g[i]]);return t},ji.T=function(){return sp(this),this.g.concat()},ji.get=function(t,i){return Eh(this.h,t)?this.h[t]:i},ji.set=function(t,i){Eh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=i},ji.forEach=function(t,i){for(var e=this.T(),s=0;s<e.length;s++){var a=e[s],l=this.get(a);t.call(i,l,a,this)}};var ya=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function op(t,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof op){this.g=void 0!==i?i:t.g,vf(this,t.j),this.s=t.s,ey(this,t.i),c_(this,t.m),this.l=t.l,i=t.h;var e=new u_;e.i=i.i,i.g&&(e.g=new lc(i.g),e.h=i.h),nm(this,e),this.o=t.o}else t&&(e=String(t).match(ya))?(this.g=!!i,vf(this,e[1]||"",!0),this.s=Up(e[2]||""),ey(this,e[3]||"",!0),c_(this,e[4]),this.l=Up(e[5]||"",!0),nm(this,e[6]||"",!0),this.o=Up(e[7]||"")):(this.g=!!i,this.h=new u_(null,this.g))}function Zd(t){return new op(t)}function vf(t,i,e){t.j=e?Up(i,!0):i,t.j&&(t.j=t.j.replace(/:$/,""))}function ey(t,i,e){t.i=e?Up(i,!0):i}function c_(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.m=i}else t.m=null}function nm(t,i,e){i instanceof u_?(t.h=i,function(t,i){i&&!t.j&&(im(t),t.i=null,t.g.forEach(function(e,s){var a=s.toLowerCase();s!=a&&(sv(this,s),ov(this,a,e))},t)),t.j=i}(t.h,t.g)):(e||(i=no(i,_g)),t.h=new u_(i,t.g))}function Fa(t,i,e){t.h.set(i,e)}function nv(t){return Fa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Up(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function no(t,i,e){return"string"==typeof t?(t=encodeURI(t).replace(i,rv),e&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rv(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}op.prototype.toString=function(){var t=[],i=this.j;i&&t.push(no(i,Wd,!0),":");var e=this.i;return(e||"file"==i)&&(t.push("//"),(i=this.s)&&t.push(no(i,Wd,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&t.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&t.push("/"),t.push(no(e,"/"==e.charAt(0)?jp:ub,!0))),(e=this.h.toString())&&t.push("?",e),(e=this.o)&&t.push("#",no(e,db)),t.join("")};var Wd=/[#\/\?@]/g,ub=/[#\?:]/g,jp=/[#\?]/g,_g=/[#\?@]/g,db=/#/g;function u_(t,i){this.h=this.g=null,this.i=t||null,this.j=!!i}function im(t){t.g||(t.g=new lc,t.h=0,t.i&&function(t,i){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var s=t[e].indexOf("="),a=null;if(0<=s){var l=t[e].substring(0,s);a=t[e].substring(s+1)}else l=t[e];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(i,e){t.add(decodeURIComponent(i.replace(/\+/g," ")),e)}))}function sv(t,i){im(t),i=yg(t,i),Eh(t.g.h,i)&&(t.i=null,t.h-=t.g.get(i).length,Eh((t=t.g).h,i)&&(delete t.h[i],t.i--,t.g.length>2*t.i&&sp(t)))}function ty(t,i){return im(t),i=yg(t,i),Eh(t.g.h,i)}function ov(t,i,e){sv(t,i),0<e.length&&(t.i=null,t.g.set(yg(t,i),Fu(e)),t.h+=e.length)}function yg(t,i){return i=String(i),t.j&&(i=i.toLowerCase()),i}(ji=u_.prototype).add=function(t,i){im(this),this.i=null,t=yg(this,t);var e=this.g.get(t);return e||this.g.set(t,e=[]),e.push(i),this.h+=1,this},ji.forEach=function(t,i){im(this),this.g.forEach(function(e,s){Sm(e,function(a){t.call(i,a,s,this)},this)},this)},ji.T=function(){im(this);for(var t=this.g.R(),i=this.g.T(),e=[],s=0;s<i.length;s++)for(var a=t[s],l=0;l<a.length;l++)e.push(i[s]);return e},ji.R=function(t){im(this);var i=[];if("string"==typeof t)ty(this,t)&&(i=km(i,this.g.get(yg(this,t))));else{t=this.g.R();for(var e=0;e<t.length;e++)i=km(i,t[e])}return i},ji.set=function(t,i){return im(this),this.i=null,ty(this,t=yg(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[i]),this.h+=1,this},ji.get=function(t,i){return t&&0<(t=this.R(t)).length?String(t[0]):i},ji.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],i=this.g.T(),e=0;e<i.length;e++){var s=i[e],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),t.push(h)}}return this.i=t.join("&")};var hb=function(i,e){this.h=i,this.g=e};function av(t){this.l=t||Pm,t=Yr.PerformanceNavigationTiming?0<(t=Yr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Yr.g&&Yr.g.Ea&&Yr.g.Ea()&&Yr.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pm=10;function Xc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ny(t){return t.h?1:t.g?t.g.size:0}function lv(t,i){return t.h?t.h==i:!!t.g&&t.g.has(i)}function vg(t,i){t.g?t.g.add(i):t.h=i}function Zp(t,i){t.h&&t.h==i?t.h=null:t.g&&t.g.has(i)&&t.g.delete(i)}function bf(t){var i,e;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var s=t.i;try{for(var a=n_(t.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(y){i={error:y}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return s}return Fu(t.i)}function bg(){}function iy(){this.g=new bg}function Dh(t,i,e){var s=e||"";try{_a(t,function(a,l){var h=a;Tr(a)&&(h=l_(a)),i.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function rm(t,i,e,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function Vu(t){this.l=t.$b||null,this.j=t.ib||!1}function Wp(t,i){ga.call(this),this.D=t,this.u=i,this.m=void 0,this.readyState=wg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}av.prototype.cancel=function(){var t,i;if(this.i=bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=n_(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}this.g.clear()}},bg.prototype.stringify=function(t){return Yr.JSON.stringify(t,void 0)},bg.prototype.parse=function(t){return Yr.JSON.parse(t,void 0)},wo(Vu,ip),Vu.prototype.g=function(){return new Wp(this.l,this.j)},Vu.prototype.i=function(t){return function(){return t}}({}),wo(Wp,ga);var wg=0;function d_(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function h_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,p_(t)}function p_(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ji=Wp.prototype).open=function(t,i){if(this.readyState!=wg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=i,this.readyState=1,p_(this)},ji.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(i.body=t),(this.D||Yr).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},ji.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,h_(this)),this.readyState=wg},ji.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,p_(this)),this.g&&(this.readyState=3,p_(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Yr.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;d_(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ji.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var i=t.value?t.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!t.done}))&&(this.response=this.responseText+=i)}t.done?h_(this):p_(this),3==this.readyState&&d_(this)}},ji.Ua=function(t){this.g&&(this.response=this.responseText=t,h_(this))},ji.Ta=function(t){this.g&&(this.response=t,h_(this))},ji.ha=function(){this.g&&h_(this)},ji.setRequestHeader=function(t,i){this.v.append(t,i)},ji.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ji.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],i=this.h.entries(),e=i.next();!e.done;)t.push((e=e.value)[0]+": "+e[1]),e=i.next();return t.join("\r\n")},Object.defineProperty(Wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cv=Yr.JSON.parse;function Zl(t){ga.call(this),this.headers=new lc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ry,this.K=this.L=!1}wo(Zl,ga);var ry="",pb=/^https?$/i,uv=["POST","PUT"];function hv(t){return"content-type"==t.toLowerCase()}function ap(t,i){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=i,t.m=5,fb(t),sy(t)}function fb(t){t.D||(t.D=!0,co(t,"complete"),co(t,"error"))}function mb(t){if(t.h&&void 0!==rc&&(!t.C[1]||4!=sm(t)||2!=t.ba()))if(t.v&&4==sm(t))fu(t.Fa,0,t);else if(co(t,"readystatechange"),4==sm(t)){t.h=!1;try{var s,i=t.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var a;if(a=0===i){var l=String(t.H).match(ya)[1]||null;if(!l&&Yr.self&&Yr.self.location){var h=Yr.self.location.protocol;l=h.substr(0,h.length-1)}a=!pb.test(l?l.toLowerCase():"")}s=a}if(s)co(t,"complete"),co(t,"success");else{t.m=6;try{var y=2<sm(t)?t.g.statusText:""}catch(C){y=""}t.j=y+" ["+t.ba()+"]",fb(t)}}finally{sy(t)}}}function sy(t,i){if(t.g){f_(t);var e=t.g,s=t.C[0]?Tm:null;t.g=null,t.C=null,i||co(t,"ready");try{e.onreadystatechange=s}catch(a){}}}function f_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Yr.clearTimeout(t.A),t.A=null)}function sm(t){return t.g?t.g.readyState:0}function B0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ry:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(i){return null}}function pv(t,i,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(t){var i="";return sc(t,function(e,s){i+=s,i+=":",i+=e,i+="\r\n"}),i}(e),"string"==typeof t?null!=e&&encodeURIComponent(String(e)):Fa(t,i,e))}function m_(t,i,e){return e&&e.internalChannelParams&&e.internalChannelParams[t]||i}function H0(t){this.za=0,this.l=[],this.h=new mf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=m_("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=m_("baseRetryDelayMs",5e3,t),this.$a=m_("retryDelaySeedMs",1e4,t),this.Ya=m_("forwardChannelMaxRetries",2,t),this.ra=m_("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new av(t&&t.concurrentRequestLimit),this.Ca=new iy,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Om(t){if(g_(t),3==t.G){var i=t.V++,e=Zd(t.F);Fa(e,"SID",t.J),Fa(e,"RID",i),Fa(e,"TYPE","terminate"),cp(t,e),(i=new k(t,t.h,i,void 0)).K=2,i.v=nv(Zd(e)),e=!1,Yr.navigator&&Yr.navigator.sendBeacon&&(e=Yr.navigator.sendBeacon(i.v.toString(),"")),!e&&Yr.Image&&((new Image).src=i.v,e=!0),e||(i.g=am(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Cn(i)}Nm(t)}function Uu(t){t.g&&(cy(t),t.g.cancel(),t.g=null)}function g_(t){Uu(t),t.u&&(Yr.clearTimeout(t.u),t.u=null),Fm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Yr.clearTimeout(t.m),t.m=null)}function oy(t,i){t.l.push(new hb(t.Za++,i)),3==t.G&&Rm(t)}function Rm(t){Xc(t.i)||t.m||(t.m=!0,Xf(t.Ha,t),t.C=0)}function ay(t,i){var e;e=i?i.m:t.V++;var s=Zd(t.F);Fa(s,"SID",t.J),Fa(s,"RID",e),Fa(s,"AID",t.U),cp(t,s),t.o&&t.s&&pv(s,t.o,t.s),e=new k(t,t.h,e,t.C+1),null===t.o&&(e.H=t.s),i&&(t.l=i.D.concat(t.l)),i=ly(t,e,1e3),e.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),vg(t.i,e),Fe(e,s,i)}function cp(t,i){t.j&&_a({},function(e,s){Fa(i,s,e)})}function ly(t,i,e){e=Math.min(t.l.length,e);var s=t.j?lo(t.j.Oa,t.j,t):null;e:for(var a=t.l,l=-1;;){var h=["count="+e];-1==l?0<e?h.push("ofs="+(l=a[0].h)):l=0:h.push("ofs="+l);for(var y=!0,C=0;C<e;C++){var P=a[C].h,j=a[C].g;if(0>(P-=l))l=Math.max(0,a[C].h-100),y=!1;else try{Dh(j,h,"req"+P+"_")}catch(te){s&&s(j)}}if(y){s=h.join("&");break e}}return t=t.l.splice(0,e),i.D=t,s}function ld(t){t.g||t.u||(t.Y=1,Xf(t.Ga,t),t.A=0)}function om(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=yf(lo(t.Ga,t),fv(t,t.A)),t.A++,0))}function cy(t){null!=t.B&&(Yr.clearTimeout(t.B),t.B=null)}function gb(t){t.g=new k(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var i=Zd(t.oa);Fa(i,"RID","rpc"),Fa(i,"SID",t.J),Fa(i,"CI",t.N?"0":"1"),Fa(i,"AID",t.U),cp(t,i),Fa(i,"TYPE","xmlhttp"),t.o&&t.s&&pv(i,t.o,t.s),t.K&&t.g.setTimeout(t.K);var e=t.g;t=t.la,e.K=1,e.v=nv(Zd(i)),e.s=null,e.U=!0,it(e,t)}function Fm(t){null!=t.v&&(Yr.clearTimeout(t.v),t.v=null)}function _b(t,i){var e=null;if(t.g==i){Fm(t),cy(t),t.g=null;var s=2}else{if(!lv(t.i,i))return;e=i.D,Zp(t.i,i),s=1}if(t.I=i.N,0!=t.G)if(i.i)if(1==s){e=i.s?i.s.length:0,i=Date.now()-i.F;var a=t.C;co(s=gf(),new mg(s,e,i,a)),Rm(t)}else ld(t);else if(3==(a=i.o)||0==a&&0<t.I||!(1==s&&function(t,i){return!(ny(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=i.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=yf(lo(t.Ha,t,i),fv(t,t.C)),t.C++,0)))}(t,i)||2==s&&om(t)))switch(e&&0<e.length&&(i=t.i,i.i=i.i.concat(e)),a){case 1:Ah(t,5);break;case 4:Ah(t,10);break;case 3:Ah(t,6);break;default:Ah(t,2)}}function fv(t,i){var e=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(e*=2),e*i}function Ah(t,i){if(t.h.info("Error code "+i),2==i){var e=null;t.j&&(e=null);var s=lo(t.jb,t);e||(e=new op("//www.google.com/images/cleardot.gif"),Yr.location&&"http"==Yr.location.protocol||vf(e,"https"),nv(e)),function(t,i){var e=new mf;if(Yr.Image){var s=new Image;s.onload=lf(rm,e,s,"TestLoadImage: loaded",!0,i),s.onerror=lf(rm,e,s,"TestLoadImage: error",!1,i),s.onabort=lf(rm,e,s,"TestLoadImage: abort",!1,i),s.ontimeout=lf(rm,e,s,"TestLoadImage: timeout",!1,i),Yr.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else i(!1)}(e.toString(),s)}else Ra(2);t.G=0,t.j&&t.j.va(i),Nm(t),g_(t)}function Nm(t){t.G=0,t.I=-1,t.j&&((0!=bf(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Fu(t.l),t.l.length=0),t.j.ua())}function xf(t,i,e){var s=function(t){return t instanceof op?Zd(t):new op(t,void 0)}(e);if(""!=s.i)i&&ey(s,i+"."+s.i),c_(s,s.m);else{var a=Yr.location;s=function(t,i,e,s){var a=new op(null,void 0);return t&&vf(a,t),i&&ey(a,i),e&&c_(a,e),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,e)}return t.aa&&sc(t.aa,function(l,h){Fa(s,h,l)}),e=t.sa,(i=t.D)&&e&&Fa(s,i,e),Fa(s,"VER",t.ma),cp(t,s),s}function am(t,i,e){if(i&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Zl(e&&t.Ba&&!t.qa?new Vu({ib:!0}):t.qa)).L=t.H,i}function uy(){}function Gd(){if(Fs&&!(10<=Number(ep)))throw Error("Environmental error: no available transport.")}function Oc(t,i){ga.call(this),this.g=new H0(i),this.l=t,this.h=i&&i.messageUrlParams||null,t=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(t?t["X-WebChannel-Content-Type"]=i.messageContentType:t={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(t?t["X-WebChannel-Client-Profile"]=i.ya:t={"X-WebChannel-Client-Profile":i.ya}),this.g.P=t,(t=i&&i.httpHeadersOverwriteParam)&&!Kh(t)&&(this.g.o=t),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Kh(i)&&(this.g.D=i,null!==(t=this.h)&&i in t&&i in(t=this.h)&&delete t[i]),this.j=new lm(this)}function cd(t){gg.call(this);var i=t.__sm__;if(i){e:{for(var e in i){t=e;break e}t=void 0}(this.i=t)&&(t=this.i,i=null!==i&&t in i?i[t]:void 0),this.data=i}else this.data=t}function mv(){tm.call(this),this.status=1}function lm(t){this.g=t}(ji=Zl.prototype).ea=function(t,i,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);i=i?i.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lm.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Lm),this.g.onreadystatechange=lo(this.Fa,this);try{this.F=!0,this.g.open(i,String(t),!0),this.F=!1}catch(l){return void ap(this,l)}t=e||"";var a=new lc(this.headers);s&&_a(s,function(l,h){a.set(h,l)}),s=function(t){e:{for(var i=hv,e=t.length,s="string"==typeof t?t.split(""):t,a=0;a<e;a++)if(a in s&&i.call(void 0,s[a],a,t)){i=a;break e}i=-1}return 0>i?null:"string"==typeof t?t.charAt(i):t[i]}(a.T()),e=Yr.FormData&&t instanceof Yr.FormData,!(0<=wh(uv,i))||s||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{f_(this),0<this.B&&((this.K=function(t){return Fs&&$f()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lo(this.pa,this)):this.A=fu(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){ap(this,l)}},ji.pa=function(){void 0!==rc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,co(this,"timeout"),this.abort(8))},ji.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,co(this,"complete"),co(this,"abort"),sy(this))},ji.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sy(this,!0)),Zl.Z.M.call(this)},ji.Fa=function(){this.s||(this.F||this.v||this.l?mb(this):this.cb())},ji.cb=function(){mb(this)},ji.ba=function(){try{return 2<sm(this)?this.g.status:-1}catch(t){return-1}},ji.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ji.Qa=function(t){if(this.g){var i=this.g.responseText;return t&&0==i.indexOf(t)&&(i=i.substring(t.length)),cv(i)}},ji.Da=function(){return this.m},ji.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ji=H0.prototype).ma=8,ji.G=1,ji.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(i){}},ji.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var i=new k(this,this.h,t,void 0),e=this.s;if(this.P&&(e?Ul(e=oa(e),this.P):e=this.P),null===this.o&&(i.H=e),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=ly(this,i,s),Fa(a=Zd(this.F),"RID",t),Fa(a,"CVER",22),this.D&&Fa(a,"X-HTTP-Session-Id",this.D),cp(this,a),this.o&&e&&pv(a,this.o,e),vg(this.i,i),this.Ra&&Fa(a,"TYPE","init"),this.ja?(Fa(a,"$req",s),Fa(a,"SID","null"),i.$=!0,Fe(i,a,null)):Fe(i,a,s),this.G=2}}else 3==this.G&&(t?ay(this,t):0==this.l.length||Xc(this.i)||ay(this))},ji.Ga=function(){if(this.u=null,gb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=yf(lo(this.bb,this),t)}},ji.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ra(10),Uu(this),gb(this))},ji.ab=function(){null!=this.v&&(this.v=null,Uu(this),om(this),Ra(19))},ji.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ra(2)):(this.h.info("Failed to ping google.com"),Ra(1))},(ji=uy.prototype).xa=function(){},ji.wa=function(){},ji.va=function(){},ji.ua=function(){},ji.Oa=function(){},Gd.prototype.g=function(t,i){return new Oc(t,i)},wo(Oc,ga),Oc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,i=this.l,e=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Xf(lo(t.hb,t,i))),Ra(0),t.W=i,t.aa=e||{},t.N=t.X,t.F=xf(t,null,t.W),Rm(t)},Oc.prototype.close=function(){Om(this.g)},Oc.prototype.u=function(t){if("string"==typeof t){var i={};i.__data__=t,oy(this.g,i)}else this.v?((i={}).__data__=l_(t),oy(this.g,i)):oy(this.g,t)},Oc.prototype.M=function(){this.g.j=null,delete this.j,Om(this.g),delete this.g,Oc.Z.M.call(this)},wo(cd,gg),wo(mv,tm),wo(lm,uy),lm.prototype.xa=function(){co(this.g,"a")},lm.prototype.wa=function(t){co(this.g,new cd(t))},lm.prototype.va=function(t){co(this.g,new mv(t))},lm.prototype.ua=function(){co(this.g,"b")},Gd.prototype.createWebChannel=Gd.prototype.g,Oc.prototype.send=Oc.prototype.u,Oc.prototype.open=Oc.prototype.m,Oc.prototype.close=Oc.prototype.close,em.NO_ERROR=0,em.TIMEOUT=8,em.HTTP_ERROR=6,J_.COMPLETE="complete",K_.EventType=rp,rp.OPEN="a",rp.CLOSE="b",rp.ERROR="c",rp.MESSAGE="d",ga.prototype.listen=ga.prototype.N,Zl.prototype.listenOnce=Zl.prototype.O,Zl.prototype.getLastError=Zl.prototype.La,Zl.prototype.getLastErrorCode=Zl.prototype.Da,Zl.prototype.getStatus=Zl.prototype.ba,Zl.prototype.getResponseJson=Zl.prototype.Qa,Zl.prototype.getResponseText=Zl.prototype.ga,Zl.prototype.send=Zl.prototype.ea;var Tg=em,gv=J_,__=Sh,Sg_PROXY=10,Sg_NOPROXY=11,y_=Vu,dy=K_,v_=Zl,ud=function(){function t(i,e){var s=this;this.previousValue=i,e&&(e.sequenceNumberHandler=function(a){return s.t(a)},this.i=function(a){return e.writeSequenceNumber(a)})}return t.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},t.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},t}();ud.o=-1;var Dn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},In=function(t){function i(e,s){var a=this;return(a=t.call(this,s)||this).code=e,a.message=s,a.name="FirebaseError",a.toString=function(){return a.name+": [code="+a.code+"]: "+a.message},a}return(0,yt.ZT)(i,t),i}(Error),va=new hu.Yd("@firebase/firestore");function _u(){return va.logLevel}function si(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(va.logLevel<=hu.in.DEBUG){var s=i.map(kg);va.debug.apply(va,(0,yt.ev)(["Firestore (8.8.1): "+t],s))}}function cc(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(va.logLevel<=hu.in.ERROR){var s=i.map(kg);va.error.apply(va,(0,yt.ev)(["Firestore (8.8.1): "+t],s))}}function up(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(va.logLevel<=hu.in.WARN){var s=i.map(kg);va.warn.apply(va,(0,yt.ev)(["Firestore (8.8.1): "+t],s))}}function kg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function hr(t){void 0===t&&(t="Unexpected state");var i="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw cc(i),new Error(i)}function Hr(t,i){t||hr()}function Li(t,i){return t}function _v(t){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(e);else for(var s=0;s<t;s++)e[s]=Math.floor(256*Math.random());return e}var b_=function(){function t(){}return t.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/i.length)*i.length,s="";s.length<20;)for(var a=_v(40),l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=i.charAt(a[l]%i.length));return s},t}();function Ys(t,i){return t<i?-1:t>i?1:0}function Kc(t,i,e){return t.length===i.length&&t.every(function(s,a){return e(s,i[a])})}function Gp(t){return t+"\0"}var Rc=function(){function t(i,e){if(this.seconds=i,this.nanoseconds=e,e<0)throw new In(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new In(Dn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(i<-62135596800)throw new In(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new In(Dn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(i){return t.fromMillis(i.getTime())},t.fromMillis=function(i){var e=Math.floor(i/1e3);return new t(e,Math.floor(1e6*(i-1e3*e)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(i){return this.seconds===i.seconds?Ys(this.nanoseconds,i.nanoseconds):Ys(this.seconds,i.seconds)},t.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ti=function(){function t(i){this.timestamp=i}return t.fromTimestamp=function(i){return new t(i)},t.min=function(){return new t(new Rc(0,0))},t.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},t.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ua(t){var i=0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i++;return i}function wf(t,i){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i(e,t[e])}function hy(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}var py=function(){function t(i,e,s){void 0===e?e=0:e>i.length&&hr(),void 0===s?s=i.length-e:s>i.length-e&&hr(),this.segments=i,this.offset=e,this.len=s}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return 0===t.comparator(this,i)},t.prototype.child=function(i){var e=this.segments.slice(this.offset,this.limit());return i instanceof t?i.forEach(function(s){e.push(s)}):e.push(i),this.construct(e)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(i){return this.segments[this.offset+i]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.forEach=function(i){for(var e=this.offset,s=this.limit();e<s;e++)i(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(i,e){for(var s=Math.min(i.length,e.length),a=0;a<s;a++){var l=i.get(a),h=e.get(a);if(l<h)return-1;if(l>h)return 1}return i.length<e.length?-1:i.length>e.length?1:0},t}(),uo=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];for(var a=[],l=0,h=e;l<h.length;l++){var y=h[l];if(y.indexOf("//")>=0)throw new In(Dn.INVALID_ARGUMENT,"Invalid segment ("+y+"). Paths must not contain // in them.");a.push.apply(a,y.split("/").filter(function(C){return C.length>0}))}return new i(a)},i.emptyPath=function(){return new i([])},i}(py),$d=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ju=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.isValidIdentifier=function(e){return $d.test(e)},i.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(e){for(var s=[],a="",l=0,h=function(){if(0===a.length)throw new In(Dn.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(a),a=""},y=!1;l<e.length;){var C=e[l];if("\\"===C){if(l+1===e.length)throw new In(Dn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var P=e[l+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new In(Dn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=P,l+=2}else"`"===C?(y=!y,l++):"."!==C||y?(a+=C,l++):(h(),l++)}if(h(),y)throw new In(Dn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(s)},i.emptyPath=function(){return new i([])},i}(py),dp=function(){function t(i){this.fields=i,i.sort(ju.comparator)}return t.prototype.covers=function(i){for(var e=0,s=this.fields;e<s.length;e++)if(s[e].isPrefixOf(i))return!0;return!1},t.prototype.isEqual=function(i){return Kc(this.fields,i.fields,function(e,s){return e.isEqual(s)})},t}(),Fc=function(){function t(i){this.binaryString=i}return t.fromBase64String=function(i){return new t(atob(i))},t.fromUint8Array=function(i){return new t(function(e){for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return s}(i))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(i){for(var e=new Uint8Array(i.length),s=0;s<i.length;s++)e[s]=i.charCodeAt(s);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(i){return Ys(this.binaryString,i.binaryString)},t.prototype.isEqual=function(i){return this.binaryString===i.binaryString},t}();Fc.EMPTY_BYTE_STRING=new Fc("");var fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hp(t){if(Hr(!!t),"string"==typeof t){var i=0,e=fy.exec(t);if(Hr(!!e),e[1]){var s=e[1];s=(s+"000000000").substr(0,9),i=Number(s)}var a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:i}}return{seconds:Ml(t.seconds),nanos:Ml(t.nanos)}}function Ml(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bm(t){return"string"==typeof t?Fc.fromBase64String(t):Fc.fromUint8Array(t)}function Ym(t){var i,e;return"server_timestamp"===(null===(e=((null===(i=null==t?void 0:t.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Nc(t){var i=t.mapValue.fields.__previous_value__;return Ym(i)?Nc(i):i}function pp(t){var i=hp(t.mapValue.fields.__local_write_time__.timestampValue);return new Rc(i.seconds,i.nanos)}function Tl(t){return null==t}function fp(t){return 0===t&&1/t==-1/0}function x_(t){return"number"==typeof t&&Number.isInteger(t)&&!fp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var pr=function(){function t(i){this.path=i}return t.fromPath=function(i){return new t(uo.fromString(i))},t.fromName=function(i){return new t(uo.fromString(i).popFirst(5))},t.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},t.prototype.isEqual=function(i){return null!==i&&0===uo.comparator(this.path,i.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(i,e){return uo.comparator(i.path,e.path)},t.isDocumentKey=function(i){return i.length%2==0},t.fromSegments=function(i){return new t(new uo(i.slice()))},t}();function Cf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:10:hr()}function dd(t,i){var a,e=Cf(t);if(e!==Cf(i))return!1;switch(e){case 0:return!0;case 1:return t.booleanValue===i.booleanValue;case 4:return pp(t).isEqual(pp(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;var l=hp(s.timestampValue),h=hp(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,i);case 5:return t.stringValue===i.stringValue;case 6:return a=i,Bm(t.bytesValue).isEqual(Bm(a.bytesValue));case 7:return t.referenceValue===i.referenceValue;case 8:return function(s,a){return Ml(s.geoPointValue.latitude)===Ml(a.geoPointValue.latitude)&&Ml(s.geoPointValue.longitude)===Ml(a.geoPointValue.longitude)}(t,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ml(s.integerValue)===Ml(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){var l=Ml(s.doubleValue),h=Ml(a.doubleValue);return l===h?fp(l)===fp(h):isNaN(l)&&isNaN(h)}return!1}(t,i);case 9:return Kc(t.arrayValue.values||[],i.arrayValue.values||[],dd);case 10:return function(s,a){var l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Ua(l)!==Ua(h))return!1;for(var y in l)if(l.hasOwnProperty(y)&&(void 0===h[y]||!dd(l[y],h[y])))return!1;return!0}(t,i);default:return hr()}}function hd(t,i){return void 0!==(t.values||[]).find(function(e){return dd(e,i)})}function Qr(t,i){var a,l,h,y,e=Cf(t),s=Cf(i);if(e!==s)return Ys(e,s);switch(e){case 0:return 0;case 1:return Ys(t.booleanValue,i.booleanValue);case 2:return l=i,(h=Ml((a=t).integerValue||a.doubleValue))<(y=Ml(l.integerValue||l.doubleValue))?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1;case 3:return my(t.timestampValue,i.timestampValue);case 4:return my(pp(t),pp(i));case 5:return Ys(t.stringValue,i.stringValue);case 6:return function(a,l){var h=Bm(a),y=Bm(l);return h.compareTo(y)}(t.bytesValue,i.bytesValue);case 7:return function(a,l){for(var h=a.split("/"),y=l.split("/"),C=0;C<h.length&&C<y.length;C++){var P=Ys(h[C],y[C]);if(0!==P)return P}return Ys(h.length,y.length)}(t.referenceValue,i.referenceValue);case 8:return function(a,l){var h=Ys(Ml(a.latitude),Ml(l.latitude));return 0!==h?h:Ys(Ml(a.longitude),Ml(l.longitude))}(t.geoPointValue,i.geoPointValue);case 9:return function(a,l){for(var h=a.values||[],y=l.values||[],C=0;C<h.length&&C<y.length;++C){var P=Qr(h[C],y[C]);if(P)return P}return Ys(h.length,y.length)}(t.arrayValue,i.arrayValue);case 10:return function(a,l){var h=a.fields||{},y=Object.keys(h),C=l.fields||{},P=Object.keys(C);y.sort(),P.sort();for(var j=0;j<y.length&&j<P.length;++j){var te=Ys(y[j],P[j]);if(0!==te)return te;var he=Qr(h[y[j]],C[P[j]]);if(0!==he)return he}return Ys(y.length,P.length)}(t.mapValue,i.mapValue);default:throw hr()}}function my(t,i){if("string"==typeof t&&"string"==typeof i&&t.length===i.length)return Ys(t,i);var e=hp(t),s=hp(i),a=Ys(e.seconds,s.seconds);return 0!==a?a:Ys(e.nanos,s.nanos)}function eu(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(a=hp(t.timestampValue)).seconds+","+a.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Bm(t.bytesValue).toBase64():"referenceValue"in t?pr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(i=t.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in t?function(s){for(var a="[",l=!0,h=0,y=s.values||[];h<y.length;h++)l?l=!1:a+=",",a+=gy(y[h]);return a+"]"}(t.arrayValue):"mapValue"in t?function(s){for(var a="{",l=!0,h=0,y=Object.keys(s.fields||{}).sort();h<y.length;h++){var C=y[h];l?l=!1:a+=",",a+=C+":"+gy(s.fields[C])}return a+"}"}(t.mapValue):hr();var a,i}function w_(t,i){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+i.path.canonicalString()}}function ho(t){return!!t&&"integerValue"in t}function C_(t){return!!t&&"arrayValue"in t}function mp(t){return!!t&&"nullValue"in t}function Hm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function Qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var i={mapValue:{fields:{}}};return wf(t.mapValue.fields,function(a,l){return i.mapValue.fields[a]=Qd(l)}),i}if(t.arrayValue){for(var e={arrayValue:{values:[]}},s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Qd(t.arrayValue.values[s]);return e}return Object.assign({},t)}var Sl=function(){function t(i){this.value=i}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(i){if(i.isEmpty())return this.value;for(var e=this.value,s=0;s<i.length-1;++s)if(!cm(e=(e.mapValue.fields||{})[i.get(s)]))return null;return(e=(e.mapValue.fields||{})[i.lastSegment()])||null},t.prototype.set=function(i,e){this.getFieldsMap(i.popLast())[i.lastSegment()]=Qd(e)},t.prototype.setAll=function(i){var e=this,s=ju.emptyPath(),a={},l=[];i.forEach(function(y,C){if(!s.isImmediateParentOf(C)){var P=e.getFieldsMap(s);e.applyChanges(P,a,l),a={},l=[],s=C.popLast()}y?a[C.lastSegment()]=Qd(y):l.push(C.lastSegment())});var h=this.getFieldsMap(s);this.applyChanges(h,a,l)},t.prototype.delete=function(i){var e=this.field(i.popLast());cm(e)&&e.mapValue.fields&&delete e.mapValue.fields[i.lastSegment()]},t.prototype.isEqual=function(i){return dd(this.value,i.value)},t.prototype.getFieldsMap=function(i){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var s=0;s<i.length;++s){var a=e.mapValue.fields[i.get(s)];cm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[i.get(s)]=a),e=a}return e.mapValue.fields},t.prototype.applyChanges=function(i,e,s){wf(e,function(y,C){return i[y]=C});for(var a=0,l=s;a<l.length;a++)delete i[l[a]]},t.prototype.clone=function(){return new t(Qd(this.value))},t}();function _y(t){var i=[];return wf(t.fields,function(e,s){var a=new ju([e]);if(cm(s)){var l=_y(s.mapValue).fields;if(0===l.length)i.push(a);else for(var h=0,y=l;h<y.length;h++)i.push(a.child(y[h]))}else i.push(a)}),new dp(i)}var uc=function(){function t(i,e,s,a,l){this.key=i,this.documentType=e,this.version=s,this.data=a,this.documentState=l}return t.newInvalidDocument=function(i){return new t(i,0,Ti.min(),Sl.empty(),0)},t.newFoundDocument=function(i,e,s){return new t(i,1,e,s,0)},t.newNoDocument=function(i,e){return new t(i,2,e,Sl.empty(),0)},t.newUnknownDocument=function(i,e){return new t(i,3,e,Sl.empty(),2)},t.prototype.convertToFoundDocument=function(i,e){return this.version=i,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=Sl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=Sl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(i){return i instanceof t&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Mf=function(t,i,e,s,a,l,h){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===h&&(h=null),this.path=t,this.collectionGroup=i,this.orderBy=e,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.h=null};function Tf(t,i,e,s,a,l,h){return void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===h&&(h=null),new Mf(t,i,e,s,a,l,h)}function um(t){var i=Li(t);if(null===i.h){var e=i.path.canonicalString();null!==i.collectionGroup&&(e+="|cg:"+i.collectionGroup),e+="|f:",e+=i.filters.map(function(s){return(a=s).field.canonicalString()+a.op.toString()+eu(a.value);var a}).join(","),e+="|ob:",e+=i.orderBy.map(function(s){return(a=s).field.canonicalString()+a.dir;var a}).join(","),Tl(i.limit)||(e+="|l:",e+=i.limit),i.startAt&&(e+="|lb:",e+=nl(i.startAt)),i.endAt&&(e+="|ub:",e+=nl(i.endAt)),i.h=e}return i.h}function zc(t,i){if(t.limit!==i.limit||t.orderBy.length!==i.orderBy.length)return!1;for(var e=0;e<t.orderBy.length;e++)if(!c(t.orderBy[e],i.orderBy[e]))return!1;if(t.filters.length!==i.filters.length)return!1;for(var s=0;s<t.filters.length;s++)if((a=t.filters[s]).op!==(l=i.filters[s]).op||!a.field.isEqual(l.field)||!dd(a.value,l.value))return!1;var a,l;return t.collectionGroup===i.collectionGroup&&!!t.path.isEqual(i.path)&&!!M(t.startAt,i.startAt)&&M(t.endAt,i.endAt)}function pd(t){return pr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var fd=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).field=e,l.op=s,l.value=a,l}return(0,yt.ZT)(i,t),i.create=function(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.l(e,s,a):new yy(e,s,a):"array-contains"===s?new yv(e,a):"in"===s?new xy(e,a):"not-in"===s?new V0(e,a):"array-contains-any"===s?new vv(e,a):new i(e,s,a)},i.l=function(e,s,a){return"in"===s?new M_(e,a):new vy(e,a)},i.prototype.matches=function(e){var s=e.data.field(this.field);return"!="===this.op?null!==s&&this.m(Qr(s,this.value)):null!==s&&Cf(this.value)===Cf(s)&&this.m(Qr(s,this.value))},i.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hr()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),yy=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,a)||this).key=pr.fromName(a.referenceValue),l}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){var s=pr.comparator(e.key,this.key);return this.m(s)},i}(fd),M_=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"in",s)||this).keys=by(0,s),a}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){return this.keys.some(function(s){return s.isEqual(e.key)})},i}(fd),vy=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"not-in",s)||this).keys=by(0,s),a}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){return!this.keys.some(function(s){return s.isEqual(e.key)})},i}(fd);function by(t,i){var e;return((null===(e=i.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(s){return pr.fromName(s.referenceValue)})}var yv=function(t){function i(e,s){return t.call(this,e,"array-contains",s)||this}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return C_(s)&&hd(s.arrayValue,this.value)},i}(fd),xy=function(t){function i(e,s){return t.call(this,e,"in",s)||this}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return null!==s&&hd(this.value.arrayValue,s)},i}(fd),V0=function(t){function i(e,s){return t.call(this,e,"not-in",s)||this}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=e.data.field(this.field);return null!==s&&!hd(this.value.arrayValue,s)},i}(fd),vv=function(t){function i(e,s){return t.call(this,e,"array-contains-any",s)||this}return(0,yt.ZT)(i,t),i.prototype.matches=function(e){var s=this,a=e.data.field(this.field);return!(!C_(a)||!a.arrayValue.values)&&a.arrayValue.values.some(function(l){return hd(s.value.arrayValue,l)})},i}(fd),ja=function(t,i){this.position=t,this.before=i};function nl(t){return(t.before?"b":"a")+":"+t.position.map(function(i){return eu(i)}).join(",")}var _=function(t,i){void 0===i&&(i="asc"),this.field=t,this.dir=i};function c(t,i){return t.dir===i.dir&&t.field.isEqual(i.field)}function v(t,i,e){for(var s=0,a=0;a<t.position.length;a++){var l=i[a],h=t.position[a];if(s=l.field.isKeyField()?pr.comparator(pr.fromName(h.referenceValue),e.key):Qr(h,e.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return t.before?s<=0:s<0}function M(t,i){if(null===t)return null===i;if(null===i||t.before!==i.before||t.position.length!==i.position.length)return!1;for(var e=0;e<t.position.length;e++)if(!dd(t.position[e],i.position[e]))return!1;return!0}var L=function(t,i,e,s,a,l,h,y){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l="F"),void 0===h&&(h=null),void 0===y&&(y=null),this.path=t,this.collectionGroup=i,this.explicitOrderBy=e,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=y,this.p=null,this.T=null};function z(t,i,e,s,a,l,h,y){return new L(t,i,e,s,a,l,h,y)}function V(t){return new L(t)}function K(t){return!Tl(t.limit)&&"F"===t.limitType}function re(t){return!Tl(t.limit)&&"L"===t.limitType}function me(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xe(t){for(var i=0,e=t.filters;i<e.length;i++){var s=e[i];if(s.g())return s.field}return null}function Se(t){return null!==t.collectionGroup}function Oe(t){var i=Li(t);if(null===i.p){i.p=[];var e=xe(i),s=me(i);if(null!==e&&null===s)e.isKeyField()||i.p.push(new _(e)),i.p.push(new _(ju.keyField(),"asc"));else{for(var a=!1,l=0,h=i.explicitOrderBy;l<h.length;l++){var y=h[l];i.p.push(y),y.field.isKeyField()&&(a=!0)}if(!a){var C=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new _(ju.keyField(),C))}}}return i.p}function Ve(t){var i=Li(t);if(!i.T)if("F"===i.limitType)i.T=Tf(i.path,i.collectionGroup,Oe(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var e=[],s=0,a=Oe(i);s<a.length;s++){var l=a[s];e.push(new _(l.field,"desc"===l.dir?"asc":"desc"))}var y=i.endAt?new ja(i.endAt.position,!i.endAt.before):null,C=i.startAt?new ja(i.startAt.position,!i.startAt.before):null;i.T=Tf(i.path,i.collectionGroup,e,i.filters,i.limit,y,C)}return i.T}function et(t,i,e){return new L(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),i,e,t.startAt,t.endAt)}function _t(t,i){return zc(Ve(t),Ve(i))&&t.limitType===i.limitType}function It(t){return um(Ve(t))+"|lt:"+t.limitType}function Ht(t){return"Query(target="+(e=(i=Ve(t)).path.canonicalString(),null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=", filters: ["+i.filters.map(function(s){return(a=s).field.canonicalString()+" "+a.op+" "+eu(a.value);var a}).join(", ")+"]"),Tl(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=", orderBy: ["+i.orderBy.map(function(s){return(a=s).field.canonicalString()+" ("+a.dir+")";var a}).join(", ")+"]"),i.startAt&&(e+=", startAt: "+nl(i.startAt)),i.endAt&&(e+=", endAt: "+nl(i.endAt)),"Target("+e+"); limitType=")+t.limitType+")";var i,e}function tn(t,i){return i.isFoundDocument()&&(a=(s=i).key.path,null!==(e=t).collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):pr.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,s){for(var a=0,l=e.explicitOrderBy;a<l.length;a++){var h=l[a];if(!h.field.isKeyField()&&null===s.data.field(h.field))return!1}return!0}(t,i)&&function(e,s){for(var a=0,l=e.filters;a<l.length;a++)if(!l[a].matches(s))return!1;return!0}(t,i)&&function(e,s){return!(e.startAt&&!v(e.startAt,Oe(e),s)||e.endAt&&v(e.endAt,Oe(e),s))}(t,i);var e,s,a}function on(t){return function(i,e){for(var s=!1,a=0,l=Oe(t);a<l.length;a++){var h=l[a],y=pn(h,i,e);if(0!==y)return y;s=s||h.field.isKeyField()}return 0}}function pn(t,i,e){var a,h,y,C,s=t.field.isKeyField()?pr.comparator(i.key,e.key):(h=e,y=i.data.field(a=t.field),C=h.data.field(a),null!==y&&null!==C?Qr(y,C):hr());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return hr()}}function xn(t,i){if(t.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(i)?"-0":i}}function yn(t){return{integerValue:""+t}}function Wn(t,i){return x_(i)?yn(i):xn(t,i)}var Kn=function(){this._=void 0};function Gn(t,i,e){return t instanceof jn?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=e).seconds,nanos:s.nanoseconds}}}},(a=i)&&(l.fields.__previous_value__=a),{mapValue:l}):t instanceof ui?On(t,i):t instanceof ar?Jr(t,i):function(s,a){var l=Nn(s,a),h=Wr(l)+Wr(s.A);return ho(l)&&ho(s.A)?yn(h):xn(s.R,h)}(t,i);var s,a,l}function pi(t,i,e){return t instanceof ui?On(t,i):t instanceof ar?Jr(t,i):e}function Nn(t,i){return t instanceof Fr?ho(e=i)||(s=e)&&"doubleValue"in s?i:{integerValue:0}:null;var s,e}var jn=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i}(Kn),ui=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,yt.ZT)(i,t),i}(Kn);function On(t,i){for(var e=qi(i),s=function(h){e.some(function(y){return dd(y,h)})||e.push(h)},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var ar=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,yt.ZT)(i,t),i}(Kn);function Jr(t,i){for(var e=qi(i),s=function(h){e=e.filter(function(y){return!dd(y,h)})},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var Fr=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).R=e,a.A=s,a}return(0,yt.ZT)(i,t),i}(Kn);function Wr(t){return Ml(t.integerValue||t.doubleValue)}function qi(t){return C_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var io=function(t,i){this.field=t,this.transform=i},er=function(t,i){this.version=t,this.transformResults=i},As=function(){function t(i,e){this.updateTime=i,this.exists=e}return t.none=function(){return new t},t.exists=function(i){return new t(void 0,i)},t.updateTime=function(i){return new t(i)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},t}();function Na(t,i){return void 0!==t.updateTime?i.isFoundDocument()&&i.version.isEqual(t.updateTime):void 0===t.exists||t.exists===i.isFoundDocument()}var ba=function(){};function Bc(t,i,e){var s,a,l,h,y;t instanceof Ro?(a=i,l=e,h=(s=t).value.clone(),y=yo(s.fieldTransforms,a,l.transformResults),h.setAll(y),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()):t instanceof ca?function(s,a,l){if(Na(s.precondition,a)){var h=yo(s.fieldTransforms,a,l.transformResults),y=a.data;y.setAll(Fo(s)),y.setAll(h),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()}else a.convertToUnknownDocument(l.version)}(t,i,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,i,e)}function xa(t,i,e){var a;t instanceof Ro?function(s,a,l){if(Na(s.precondition,a)){var h=s.value.clone(),y=Za(s.fieldTransforms,l,a);h.setAll(y),a.convertToFoundDocument(wa(a),h).setHasLocalMutations()}}(t,i,e):t instanceof ca?function(s,a,l){if(Na(s.precondition,a)){var h=Za(s.fieldTransforms,l,a),y=a.data;y.setAll(Fo(s)),y.setAll(h),a.convertToFoundDocument(wa(a),y).setHasLocalMutations()}}(t,i,e):Na(t.precondition,a=i)&&a.convertToNoDocument(Ti.min())}function la(t,i){for(var e=null,s=0,a=t.fieldTransforms;s<a.length;s++){var l=a[s],h=i.data.field(l.field),y=Nn(l.transform,h||null);null!=y&&(null==e&&(e=Sl.empty()),e.set(l.field,y))}return e||null}function Ao(t,i){return t.type===i.type&&!!t.key.isEqual(i.key)&&!!t.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(e=t.fieldTransforms)&&void 0===s||e&&s&&Kc(e,s,function(a,l){return(h=a).field.isEqual((y=l).field)&&(P=y.transform,(C=h.transform)instanceof ui&&P instanceof ui||C instanceof ar&&P instanceof ar?Kc(C.elements,P.elements,dd):C instanceof Fr&&P instanceof Fr?dd(C.A,P.A):C instanceof jn&&P instanceof jn);var h,y,C,P})))&&(0===t.type?t.value.isEqual(i.value):1!==t.type||t.data.isEqual(i.data)&&t.fieldMask.isEqual(i.fieldMask));var e,s}function wa(t){return t.isFoundDocument()?t.version:Ti.min()}var Ro=function(t){function i(e,s,a,l){void 0===l&&(l=[]);var h=this;return(h=t.call(this)||this).key=e,h.value=s,h.precondition=a,h.fieldTransforms=l,h.type=0,h}return(0,yt.ZT)(i,t),i}(ba),ca=function(t){function i(e,s,a,l,h){void 0===h&&(h=[]);var y=this;return(y=t.call(this)||this).key=e,y.data=s,y.fieldMask=a,y.precondition=l,y.fieldTransforms=h,y.type=1,y}return(0,yt.ZT)(i,t),i}(ba);function Fo(t){var i=new Map;return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var s=t.data.field(e);i.set(e,s)}}),i}function yo(t,i,e){var s=new Map;Hr(t.length===e.length);for(var a=0;a<e.length;a++){var l=t[a],h=l.transform,y=i.data.field(l.field);s.set(l.field,pi(h,y,e[a]))}return s}function Za(t,i,e){for(var s=new Map,a=0,l=t;a<l.length;a++){var h=l[a],y=h.transform,C=e.data.field(h.field);s.set(h.field,Gn(y,C,i))}return s}var cs,cr,pl=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=2,a.fieldTransforms=[],a}return(0,yt.ZT)(i,t),i}(ba),ua=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=3,a.fieldTransforms=[],a}return(0,yt.ZT)(i,t),i}(ba),Jd=function(t){this.count=t};function kl(t){switch(t){case Dn.OK:return hr();case Dn.CANCELLED:case Dn.UNKNOWN:case Dn.DEADLINE_EXCEEDED:case Dn.RESOURCE_EXHAUSTED:case Dn.INTERNAL:case Dn.UNAVAILABLE:case Dn.UNAUTHENTICATED:return!1;case Dn.INVALID_ARGUMENT:case Dn.NOT_FOUND:case Dn.ALREADY_EXISTS:case Dn.PERMISSION_DENIED:case Dn.FAILED_PRECONDITION:case Dn.ABORTED:case Dn.OUT_OF_RANGE:case Dn.UNIMPLEMENTED:case Dn.DATA_LOSS:return!0;default:return hr()}}function Ns(t){if(void 0===t)return cc("GRPC error has no .code"),Dn.UNKNOWN;switch(t){case cs.OK:return Dn.OK;case cs.CANCELLED:return Dn.CANCELLED;case cs.UNKNOWN:return Dn.UNKNOWN;case cs.DEADLINE_EXCEEDED:return Dn.DEADLINE_EXCEEDED;case cs.RESOURCE_EXHAUSTED:return Dn.RESOURCE_EXHAUSTED;case cs.INTERNAL:return Dn.INTERNAL;case cs.UNAVAILABLE:return Dn.UNAVAILABLE;case cs.UNAUTHENTICATED:return Dn.UNAUTHENTICATED;case cs.INVALID_ARGUMENT:return Dn.INVALID_ARGUMENT;case cs.NOT_FOUND:return Dn.NOT_FOUND;case cs.ALREADY_EXISTS:return Dn.ALREADY_EXISTS;case cs.PERMISSION_DENIED:return Dn.PERMISSION_DENIED;case cs.FAILED_PRECONDITION:return Dn.FAILED_PRECONDITION;case cs.ABORTED:return Dn.ABORTED;case cs.OUT_OF_RANGE:return Dn.OUT_OF_RANGE;case cs.UNIMPLEMENTED:return Dn.UNIMPLEMENTED;case cs.DATA_LOSS:return Dn.DATA_LOSS;default:return hr()}}(cr=cs||(cs={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";var Is=function(){function t(i,e){this.comparator=i,this.root=e||Xs.EMPTY}return t.prototype.insert=function(i,e){return new t(this.comparator,this.root.insert(i,e,this.comparator).copy(null,null,Xs.BLACK,null,null))},t.prototype.remove=function(i){return new t(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Xs.BLACK,null,null))},t.prototype.get=function(i){for(var e=this.root;!e.isEmpty();){var s=this.comparator(i,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null},t.prototype.indexOf=function(i){for(var e=0,s=this.root;!s.isEmpty();){var a=this.comparator(i,s.key);if(0===a)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},t.prototype.forEach=function(i){this.inorderTraversal(function(e,s){return i(e,s),!1})},t.prototype.toString=function(){var i=[];return this.inorderTraversal(function(e,s){return i.push(e+":"+s),!1}),"{"+i.join(", ")+"}"},t.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},t.prototype.getIterator=function(){return new Yc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(i){return new Yc(this.root,i,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(i){return new Yc(this.root,i,this.comparator,!0)},t}(),Yc=function(){function t(i,e,s,a){this.isReverse=a,this.nodeStack=[];for(var l=1;!i.isEmpty();)if(l=e?s(i.key,e):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return t.prototype.getNext=function(){var i=this.nodeStack.pop(),e={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},t}(),Xs=function(){function t(i,e,s,a,l){this.key=i,this.value=e,this.color=null!=s?s:t.RED,this.left=null!=a?a:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(i,e,s,a,l){return new t(null!=i?i:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},t.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(i,e,s){var a=this,l=s(i,a.key);return(a=l<0?a.copy(null,null,null,a.left.insert(i,e,s),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(i,e,s))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},t.prototype.remove=function(i,e){var s,a=this;if(e(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(i,a.key)){if(a.right.isEmpty())return t.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,e))}return a.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},t.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},t.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},t.prototype.rotateLeft=function(){var i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},t.prototype.rotateRight=function(){var i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},t.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,e)},t.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hr();var i=this.left.check();if(i!==this.right.check())throw hr();return i+(this.isRed()?0:1)},t}();Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw hr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(i,e,s,a,l){return this},t.prototype.insert=function(i,e,s){return new Xs(i,e)},t.prototype.remove=function(i,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(i){return!1},t.prototype.reverseTraversal=function(i){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var No=function(){function t(i){this.comparator=i,this.data=new Is(this.comparator)}return t.prototype.has=function(i){return null!==this.data.get(i)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(i){return this.data.indexOf(i)},t.prototype.forEach=function(i){this.data.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.forEachInRange=function(i,e){for(var s=this.data.getIteratorFrom(i[0]);s.hasNext();){var a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;e(a.key)}},t.prototype.forEachWhile=function(i,e){var s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return},t.prototype.firstAfterOrEqual=function(i){var e=this.data.getIteratorFrom(i);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ih(this.data.getIterator())},t.prototype.getIteratorFrom=function(i){return new Ih(this.data.getIteratorFrom(i))},t.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},t.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(i){var e=this;return e.size<i.size&&(e=i,i=this),i.forEach(function(s){e=e.add(s)}),e},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.data.getIterator(),s=i.data.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0},t.prototype.toArray=function(){var i=[];return this.forEach(function(e){i.push(e)}),i},t.prototype.toString=function(){var i=[];return this.forEach(function(e){return i.push(e)}),"SortedSet("+i.toString()+")"},t.prototype.copy=function(i){var e=new t(this.comparator);return e.data=i,e},t}(),Ih=function(){function t(i){this.iter=i}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),dm=new Is(pr.comparator);function El(){return dm}var tu=new Is(pr.comparator);function md(){return tu}var qp=new Is(pr.comparator);function Dl(){return qp}var Eg=new No(pr.comparator);function Ls(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=Eg,s=0,a=t;s<a.length;s++){var l=a[s];e=e.add(l)}return e}var Vm=new No(Ys);function Lh(){return Vm}var Dg=function(){function t(i,e,s,a,l){this.snapshotVersion=i,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}return t.createSynthesizedRemoteEventForCurrentChange=function(i,e){var s=new Map;return s.set(i,Ag.createSynthesizedTargetChangeForCurrentChange(i,e)),new t(Ti.min(),s,Lh(),El(),Ls())},t}(),Ag=function(){function t(i,e,s,a,l){this.resumeToken=i,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}return t.createSynthesizedTargetChangeForCurrentChange=function(i,e){return new t(Fc.EMPTY_BYTE_STRING,e,Ls(),Ls(),Ls())},t}(),Ca=function(t,i,e,s){this.v=t,this.removedTargetIds=i,this.key=e,this.P=s},dc=function(t,i){this.targetId=t,this.V=i},il=function(t,i,e,s){void 0===e&&(e=Fc.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=t,this.targetIds=i,this.resumeToken=e,this.cause=s},Ph=function(){function t(){this.S=0,this.D=yb(),this.C=Fc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(i){i.approximateByteSize()>0&&(this.F=!0,this.C=i)},t.prototype.M=function(){var i=Ls(),e=Ls(),s=Ls();return this.D.forEach(function(a,l){switch(l){case 0:i=i.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:hr()}}),new Ag(this.C,this.N,i,e,s)},t.prototype.L=function(){this.F=!1,this.D=yb()},t.prototype.B=function(i,e){this.F=!0,this.D=this.D.insert(i,e)},t.prototype.q=function(i){this.F=!0,this.D=this.D.remove(i)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),T_=function(){function t(i){this.W=i,this.G=new Map,this.H=El(),this.J=hc(),this.Y=new No(Ys)}return t.prototype.X=function(i){for(var e=0,s=i.v;e<s.length;e++){var a=s[e];i.P&&i.P.isFoundDocument()?this.Z(a,i.P):this.tt(a,i.key,i.P)}for(var l=0,h=i.removedTargetIds;l<h.length;l++)this.tt(a=h[l],i.key,i.P)},t.prototype.et=function(i){var e=this;this.forEachTarget(i,function(s){var a=e.nt(s);switch(i.state){case 0:e.st(s)&&a.O(i.resumeToken);break;case 1:a.K(),a.k||a.L(),a.O(i.resumeToken);break;case 2:a.K(),a.k||e.removeTarget(s);break;case 3:e.st(s)&&(a.j(),a.O(i.resumeToken));break;case 4:e.st(s)&&(e.it(s),a.O(i.resumeToken));break;default:hr()}})},t.prototype.forEachTarget=function(i,e){var s=this;i.targetIds.length>0?i.targetIds.forEach(e):this.G.forEach(function(a,l){s.st(l)&&e(l)})},t.prototype.rt=function(i){var e=i.targetId,s=i.V.count,a=this.ot(e);if(a){var l=a.target;if(pd(l))if(0===s){var h=new pr(l.path);this.tt(e,h,uc.newNoDocument(h,Ti.min()))}else Hr(1===s);else this.ct(e)!==s&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(i){var e=this,s=new Map;this.G.forEach(function(h,y){var C=e.ot(y);if(C){if(h.current&&pd(C.target)){var P=new pr(C.target.path);null!==e.H.get(P)||e.at(y,P)||e.tt(y,P,uc.newNoDocument(P,i))}h.$&&(s.set(y,h.M()),h.L())}});var a=Ls();this.J.forEach(function(h,y){var C=!0;y.forEachWhile(function(P){var j=e.ot(P);return!j||2===j.purpose||(C=!1,!1)}),C&&(a=a.add(h))});var l=new Dg(i,s,this.Y,this.H,a);return this.H=El(),this.J=hc(),this.Y=new No(Ys),l},t.prototype.Z=function(i,e){if(this.st(i)){var s=this.at(i,e.key)?2:0;this.nt(i).B(e.key,s),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(i))}},t.prototype.tt=function(i,e,s){if(this.st(i)){var a=this.nt(i);this.at(i,e)?a.B(e,1):a.q(e),this.J=this.J.insert(e,this.ht(e).delete(i)),s&&(this.H=this.H.insert(e,s))}},t.prototype.removeTarget=function(i){this.G.delete(i)},t.prototype.ct=function(i){var e=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(i){this.nt(i).U()},t.prototype.nt=function(i){var e=this.G.get(i);return e||(e=new Ph,this.G.set(i,e)),e},t.prototype.ht=function(i){var e=this.J.get(i);return e||(e=new No(Ys),this.J=this.J.insert(i,e)),e},t.prototype.st=function(i){var e=null!==this.ot(i);return e||si("WatchChangeAggregator","Detected inactive target",i),e},t.prototype.ot=function(i){var e=this.G.get(i);return e&&e.k?null:this.W.lt(i)},t.prototype.it=function(i){var e=this;this.G.set(i,new Ph),this.W.getRemoteKeysForTarget(i).forEach(function(s){e.tt(i,s,null)})},t.prototype.at=function(i,e){return this.W.getRemoteKeysForTarget(i).has(e)},t}();function hc(){return new Is(pr.comparator)}function yb(){return new Is(pr.comparator)}var wy={asc:"ASCENDING",desc:"DESCENDING"},Cy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},My=function(t,i){this.databaseId=t,this.I=i};function hm(t,i){return t.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function S_(t,i){return t.I?i.toBase64():i.toUint8Array()}function Ty(t,i){return hm(t,i.toTimestamp())}function Al(t){return Hr(!!t),Ti.fromTimestamp((e=hp(t),new Rc(e.seconds,e.nanos)));var e}function Ig(t,i){return(e=t,new uo(["projects",e.projectId,"databases",e.database])).child("documents").child(i).canonicalString();var e}function k_(t){var i=uo.fromString(t);return Hr(Vr(i)),i}function Sy(t,i){return Ig(t.databaseId,i.path)}function Sf(t,i){var e=k_(i);if(e.get(1)!==t.databaseId.projectId)throw new In(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new In(Dn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new pr(j0(e))}function vb(t,i){return Ig(t.databaseId,i)}function U0(t){var i=k_(t);return 4===i.length?uo.emptyPath():j0(i)}function ky(t){return new uo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j0(t){return Hr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Z0(t,i,e){return{name:Sy(t,i),fields:e.value.mapValue.fields}}function W0(t,i,e){var s=Sf(t,i.name),a=Al(i.updateTime),l=new Sl({mapValue:{fields:i.fields}}),h=uc.newFoundDocument(s,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function bv(t,i){var e,a;if(i instanceof Ro)e={update:Z0(t,i.key,i.value)};else if(i instanceof pl)e={delete:Sy(t,i.key)};else if(i instanceof ca)e={update:Z0(t,i.key,i.data),updateMask:fr(i.fieldMask)};else{if(!(i instanceof ua))return hr();e={verify:Sy(t,i.key)}}return i.fieldTransforms.length>0&&(e.updateTransforms=i.fieldTransforms.map(function(s){return function(a,l){var h=l.transform;if(h instanceof jn)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ui)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ar)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Fr)return{fieldPath:l.field.canonicalString(),increment:h.A};throw hr()}(0,s)})),i.precondition.isNone||(e.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:Ty(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:hr()),e}function I(t,i){var P,e=i.currentDocument?void 0!==(P=i.currentDocument).updateTime?As.updateTime(Al(P.updateTime)):void 0!==P.exists?As.exists(P.exists):As.none():As.none(),s=i.updateTransforms?i.updateTransforms.map(function(P){return function(j,te){var he=null;"setToServerValue"in te?(Hr("REQUEST_TIME"===te.setToServerValue),he=new jn):"appendMissingElements"in te?he=new ui(te.appendMissingElements.values||[]):"removeAllFromArray"in te?he=new ar(te.removeAllFromArray.values||[]):"increment"in te?he=new Fr(j,te.increment):hr();var je=ju.fromServerFormat(te.fieldPath);return new io(je,he)}(t,P)}):[];if(i.update){var a=Sf(t,i.update.name),l=new Sl({mapValue:{fields:i.update.fields}});if(i.updateMask){var h=function(P){return new dp((P.fieldPaths||[]).map(function(te){return ju.fromServerFormat(te)}))}(i.updateMask);return new ca(a,l,h,e,s)}return new Ro(a,l,e,s)}if(i.delete){var y=Sf(t,i.delete);return new pl(y,e)}if(i.verify){var C=Sf(t,i.verify);return new ua(C,e)}return hr()}function H(t,i){return{documents:[vb(t,i.path)]}}function ie(t,i){var e={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(e.parent=vb(t,s),e.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(e.parent=vb(t,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);var a=function(y){if(0!==y.length){var C=y.map(function(P){return function(j){if("=="===j.op){if(Hm(j.value))return{unaryFilter:{field:Qn(j.field),op:"IS_NAN"}};if(mp(j.value))return{unaryFilter:{field:Qn(j.field),op:"IS_NULL"}}}else if("!="===j.op){if(Hm(j.value))return{unaryFilter:{field:Qn(j.field),op:"IS_NOT_NAN"}};if(mp(j.value))return{unaryFilter:{field:Qn(j.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qn(j.field),op:vn(j.op),value:j.value}}}(P)});return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}}(i.filters);a&&(e.structuredQuery.where=a);var l=function(y){if(0!==y.length)return y.map(function(C){return{field:Qn((P=C).field),direction:Xt(P.dir)};var P})}(i.orderBy);l&&(e.structuredQuery.orderBy=l);var C,h=(C=i.limit,t.I||Tl(C)?C:{value:C});return null!==h&&(e.structuredQuery.limit=h),i.startAt&&(e.structuredQuery.startAt=ht(i.startAt)),i.endAt&&(e.structuredQuery.endAt=ht(i.endAt)),e}function ke(t){var i=U0(t.parent),e=t.structuredQuery,s=e.from?e.from.length:0,a=null;if(s>0){Hr(1===s);var l=e.from[0];l.allDescendants?a=l.collectionId:i=i.child(l.collectionId)}var h=[];e.where&&(h=Xe(e.where));var y=[];e.orderBy&&(y=e.orderBy.map(function(te){return new _(Jn((he=te).field),function(Ce){switch(Ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(he.direction));var he}));var te,he,C=null;e.limit&&(C=Tl(he="object"==typeof(te=e.limit)?te.value:te)?null:he);var P=null;e.startAt&&(P=Yt(e.startAt));var j=null;return e.endAt&&(j=Yt(e.endAt)),z(i,a,y,h,C,"F",P,j)}function Xe(t){return t?void 0!==t.unaryFilter?[Hi(t)]:void 0!==t.fieldFilter?[di(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(i){return Xe(i)}).reduce(function(i,e){return i.concat(e)}):hr():[]}function ht(t){return{before:t.before,values:t.position}}function Yt(t){return new ja(t.values||[],!!t.before)}function Xt(t){return wy[t]}function vn(t){return Cy[t]}function Qn(t){return{fieldPath:t.canonicalString()}}function Jn(t){return ju.fromServerFormat(t.fieldPath)}function di(t){return fd.create(Jn(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return hr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Hi(t){switch(t.unaryFilter.op){case"IS_NAN":var i=Jn(t.unaryFilter.field);return fd.create(i,"==",{doubleValue:NaN});case"IS_NULL":var e=Jn(t.unaryFilter.field);return fd.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=Jn(t.unaryFilter.field);return fd.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=Jn(t.unaryFilter.field);return fd.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return hr()}}function fr(t){var i=[];return t.fields.forEach(function(e){return i.push(e.canonicalString())}),{fieldPaths:i}}function Vr(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ur(t){for(var i="",e=0;e<t.length;e++)i.length>0&&(i=ro(i)),i=Xr(t.get(e),i);return ro(i)}function Xr(t,i){for(var e=i,s=t.length,a=0;a<s;a++){var l=t.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function ro(t){return t+"\x01\x01"}function zs(t){var i=t.length;if(Hr(i>=2),2===i)return Hr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),uo.emptyPath();for(var e=i-2,s=[],a="",l=0;l<i;){var h=t.indexOf("\x01",l);switch((h<0||h>e)&&hr(),t.charAt(h+1)){case"\x01":var y=t.substring(l,h),C=void 0;0===a.length?C=y:(C=a+=y,a=""),s.push(C);break;case"\x10":a+=t.substring(l,h),a+="\0";break;case"\x11":a+=t.substring(l,h+1);break;default:hr()}l=h+2}return new uo(s)}var gp=function(t,i){this.seconds=t,this.nanoseconds=i},Wa=function(t,i,e){this.ownerId=t,this.allowTabSynchronization=i,this.leaseTimestampMs=e};Wa.store="owner",Wa.key="owner";var Hc=function(t,i,e){this.userId=t,this.lastAcknowledgedBatchId=i,this.lastStreamToken=e};Hc.store="mutationQueues",Hc.keyPath="userId";var vs=function(t,i,e,s,a){this.userId=t,this.batchId=i,this.localWriteTimeMs=e,this.baseMutations=s,this.mutations=a};vs.store="mutations",vs.keyPath="batchId",vs.userMutationsIndex="userMutationsIndex",vs.userMutationsKeyPath=["userId","batchId"];var Ma=function(){function t(){}return t.prefixForUser=function(i){return[i]},t.prefixForPath=function(i,e){return[i,Ur(e)]},t.key=function(i,e,s){return[i,Ur(e),s]},t}();Ma.store="documentMutations",Ma.PLACEHOLDER=new Ma;var kf=function(t,i){this.path=t,this.readTime=i},dw=function(t,i){this.path=t,this.version=i},nu=function(t,i,e,s,a,l){this.unknownDocument=t,this.noDocument=i,this.document=e,this.hasCommittedMutations=s,this.readTime=a,this.parentPath=l};nu.store="remoteDocuments",nu.readTimeIndex="readTimeIndex",nu.readTimeIndexPath="readTime",nu.collectionReadTimeIndex="collectionReadTimeIndex",nu.collectionReadTimeIndexPath=["parentPath","readTime"];var E_=function(t){this.byteSize=t};E_.store="remoteDocumentGlobal",E_.key="remoteDocumentGlobalKey";var Ef=function(t,i,e,s,a,l,h){this.targetId=t,this.canonicalId=i,this.readTime=e,this.resumeToken=s,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=l,this.query=h};Ef.store="targets",Ef.keyPath="targetId",Ef.queryTargetsIndexName="queryTargetsIndex",Ef.queryTargetsKeyPath=["canonicalId","targetId"];var Xd=function(t,i,e){this.targetId=t,this.path=i,this.sequenceNumber=e};Xd.store="targetDocuments",Xd.keyPath=["targetId","path"],Xd.documentTargetsIndex="documentTargetsIndex",Xd.documentTargetsKeyPath=["path","targetId"];var $p=function(t,i,e,s){this.highestTargetId=t,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=e,this.targetCount=s};$p.key="targetGlobalKey",$p.store="targetGlobal";var bb=function(t,i){this.collectionId=t,this.parent=i};bb.store="collectionParents",bb.keyPath=["collectionId","parent"];var D_=function(t,i,e,s){this.clientId=t,this.updateTimeMs=i,this.networkEnabled=e,this.inForeground=s};D_.store="clientMetadata",D_.keyPath="clientId";var Um=function(t,i,e){this.bundleId=t,this.createTime=i,this.version=e};Um.store="bundles",Um.keyPath="bundleId";var xb=function(t,i,e){this.name=t,this.readTime=i,this.bundledQuery=e};xb.store="namedQueries",xb.keyPath="name";var IS=(0,yt.ev)((0,yt.ev)([],(0,yt.ev)((0,yt.ev)([],(0,yt.ev)((0,yt.ev)([],(0,yt.ev)((0,yt.ev)([],[Hc.store,vs.store,Ma.store,nu.store,Ef.store,Wa.store,$p.store,Xd.store]),[D_.store])),[E_.store])),[bb.store])),[Um.store,xb.store]),LS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vC=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},t}(),Zu=function(){var t=this;this.promise=new Promise(function(i,e){t.resolve=i,t.reject=e})},wi=function(){function t(i){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(s){e.isDone=!0,e.result=s,e.nextCallback&&e.nextCallback(s)},function(s){e.isDone=!0,e.error=s,e.catchCallback&&e.catchCallback(s)})}return t.prototype.catch=function(i){return this.next(void 0,i)},t.prototype.next=function(i,e){var s=this;return this.callbackAttached&&hr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(i,this.result):new t(function(a,l){s.nextCallback=function(h){s.wrapSuccess(i,h).next(a,l)},s.catchCallback=function(h){s.wrapFailure(e,h).next(a,l)}})},t.prototype.toPromise=function(){var i=this;return new Promise(function(e,s){i.next(e,s)})},t.prototype.wrapUserFunction=function(i){try{var e=i();return e instanceof t?e:t.resolve(e)}catch(s){return t.reject(s)}},t.prototype.wrapSuccess=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.resolve(e)},t.prototype.wrapFailure=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.reject(e)},t.resolve=function(i){return new t(function(e,s){e(i)})},t.reject=function(i){return new t(function(e,s){s(i)})},t.waitFor=function(i){return new t(function(e,s){var a=0,l=0,h=!1;i.forEach(function(y){++a,y.next(function(){++l,h&&l===a&&e()},function(C){return s(C)})}),h=!0,l===a&&e()})},t.or=function(i){for(var e=t.resolve(!1),s=function(h){e=e.next(function(y){return y?t.resolve(y):h()})},a=0,l=i;a<l.length;a++)s(l[a]);return e},t.forEach=function(i,e){var s=this,a=[];return i.forEach(function(l,h){a.push(e.call(s,l,h))}),this.waitFor(a)},t}(),bC=function(){function t(i,e){var s=this;this.action=i,this.transaction=e,this.aborted=!1,this.ft=new Zu,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){e.error?s.ft.reject(new G0(i,e.error)):s.ft.resolve()},this.transaction.onerror=function(a){var l=hw(a.target.error);s.ft.reject(new G0(i,l))}}return t.open=function(i,e,s,a){try{return new t(e,i.transaction(a,s))}catch(l){throw new G0(e,l)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(si("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(i){var e=this.transaction.objectStore(i);return new UI(e)},t}(),wb=function(){function t(i,e,s){this.name=i,this.version=e,this.wt=s,12.2===t._t((0,Ds.z$)())&&cc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(i){return si("SimpleDb","Removing database:",i),Ey(window.indexedDB.deleteDatabase(i)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var i=(0,Ds.z$)(),e=t._t(i),s=0<e&&e<10,a=t.Et(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)},t.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},t.It=function(i,e){return i.store(e)},t._t=function(i){var e=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)},t.Et=function(i){var e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)},t.prototype.At=function(i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return this.db?[3,2]:(si("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(l,h){var y=indexedDB.open(s.name,s.version);y.onsuccess=function(C){l(C.target.result)},y.onblocked=function(){h(new G0(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=function(C){var P=C.target.error;h("VersionError"===P.name?new In(Dn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new G0(i,P))},y.onupgradeneeded=function(C){si("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',C.oldVersion),s.wt.Rt(C.target.result,y.transaction,C.oldVersion,s.version).next(function(){si("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:e.db=a.sent(),a.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(l){return s.bt(l)}),this.db)]}})})},t.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(e){return i(e)})},t.prototype.runTransaction=function(i,e,s,a){return(0,yt.mG)(this,void 0,void 0,function(){var l,h,y,C,P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:l="readonly"===e,h=0,y=function(){var te,he,Ce,Le,je;return(0,yt.Jh)(this,function(tt){switch(tt.label){case 0:++h,tt.label=1;case 1:return tt.trys.push([1,4,,5]),[4,C.At(i)];case 2:return C.db=tt.sent(),te=bC.open(C.db,i,l?"readonly":"readwrite",s),he=a(te).catch(function(vt){return te.abort(vt),wi.reject(vt)}).toPromise(),Ce={},he.catch(function(){}),[4,te.dt];case 3:return[2,(Ce.value=(tt.sent(),he),Ce)];case 4:return si("SimpleDb","Transaction failed with error:",(Le=tt.sent()).message,"Retrying:",je="FirebaseError"!==Le.name&&h<3),C.close(),je?[3,5]:[2,{value:Promise.reject(Le)}];case 5:return[2]}})},C=this,j.label=1;case 1:return[5,y()];case 2:if("object"==typeof(P=j.sent()))return[2,P.value];j.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),VI=function(){function t(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(i){this.St=i},t.prototype.delete=function(){return Ey(this.Pt.delete())},t}(),G0=function(t){function i(e,s){var a=this;return(a=t.call(this,Dn.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+s)||this).name="IndexedDbTransactionError",a}return(0,yt.ZT)(i,t),i}(In);function xv(t){return"IndexedDbTransactionError"===t.name}var UI=function(){function t(i){this.store=i}return t.prototype.put=function(i,e){var s;return void 0!==e?(si("SimpleDb","PUT",this.store.name,i,e),s=this.store.put(e,i)):(si("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),Ey(s)},t.prototype.add=function(i){return si("SimpleDb","ADD",this.store.name,i,i),Ey(this.store.add(i))},t.prototype.get=function(i){var e=this;return Ey(this.store.get(i)).next(function(s){return void 0===s&&(s=null),si("SimpleDb","GET",e.store.name,i,s),s})},t.prototype.delete=function(i){return si("SimpleDb","DELETE",this.store.name,i),Ey(this.store.delete(i))},t.prototype.count=function(){return si("SimpleDb","COUNT",this.store.name),Ey(this.store.count())},t.prototype.Nt=function(i,e){var s=this.cursor(this.options(i,e)),a=[];return this.xt(s,function(l,h){a.push(h)}).next(function(){return a})},t.prototype.Ft=function(i,e){si("SimpleDb","DELETE ALL",this.store.name);var s=this.options(i,e);s.kt=!1;var a=this.cursor(s);return this.xt(a,function(l,h,y){return y.delete()})},t.prototype.$t=function(i,e){var s;e?s=i:(s={},e=i);var a=this.cursor(s);return this.xt(a,e)},t.prototype.Ot=function(i){var e=this.cursor({});return new wi(function(s,a){e.onerror=function(l){var h=hw(l.target.error);a(h)},e.onsuccess=function(l){var h=l.target.result;h?i(h.primaryKey,h.value).next(function(y){y?h.continue():s()}):s()}})},t.prototype.xt=function(i,e){var s=[];return new wi(function(a,l){i.onerror=function(h){l(h.target.error)},i.onsuccess=function(h){var y=h.target.result;if(y){var C=new VI(y),P=e(y.primaryKey,y.value,C);if(P instanceof wi){var j=P.catch(function(te){return C.done(),wi.reject(te)});s.push(j)}C.isDone?a():null===C.Dt?y.continue():y.continue(C.Dt)}else a()}}).next(function(){return wi.waitFor(s)})},t.prototype.options=function(i,e){var s;return void 0!==i&&("string"==typeof i?s=i:e=i),{index:s,range:e}},t.prototype.cursor=function(i){var e="next";if(i.reverse&&(e="prev"),i.index){var s=this.store.index(i.index);return i.kt?s.openKeyCursor(i.range,e):s.openCursor(i.range,e)}return this.store.openCursor(i.range,e)},t}();function Ey(t){return new wi(function(i,e){t.onsuccess=function(s){i(s.target.result)},t.onerror=function(s){var a=hw(s.target.error);e(a)}})}var PS=!1;function hw(t){var i=wb._t((0,Ds.z$)());if(i>=12.2&&i<13){var e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){var s=new In("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return PS||(PS=!0,setTimeout(function(){throw s},0)),s}}return t}var xC=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Mt=e,a.currentSequenceNumber=s,a}return(0,yt.ZT)(i,t),i}(vC);function Oh(t,i){var e=Li(t);return wb.It(e.Mt,i)}var OS=function(){function t(i,e,s,a){this.batchId=i,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}return t.prototype.applyToRemoteDocument=function(i,e){for(var s=e.mutationResults,a=0;a<this.mutations.length;a++){var l=this.mutations[a];l.key.isEqual(i.key)&&Bc(l,i,s[a])}},t.prototype.applyToLocalView=function(i){for(var e=0,s=this.baseMutations;e<s.length;e++)(h=s[e]).key.isEqual(i.key)&&xa(h,i,this.localWriteTime);for(var a=0,l=this.mutations;a<l.length;a++){var h;(h=l[a]).key.isEqual(i.key)&&xa(h,i,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(i){var e=this;this.mutations.forEach(function(s){var a=i.get(s.key),l=a;e.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(Ti.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(i,e){return i.add(e.key)},Ls())},t.prototype.isEqual=function(i){return this.batchId===i.batchId&&Kc(this.mutations,i.mutations,function(e,s){return Ao(e,s)})&&Kc(this.baseMutations,i.baseMutations,function(e,s){return Ao(e,s)})},t}(),wC=function(){function t(i,e,s,a){this.batch=i,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}return t.from=function(i,e,s){Hr(i.mutations.length===s.length);for(var a=Dl(),l=i.mutations,h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new t(i,e,s,a)},t}(),pw=function(){function t(i,e,s,a,l,h,y){void 0===l&&(l=Ti.min()),void 0===h&&(h=Ti.min()),void 0===y&&(y=Fc.EMPTY_BYTE_STRING),this.target=i,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}return t.prototype.withSequenceNumber=function(i){return new t(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(i,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,i)},t.prototype.withLastLimboFreeSnapshotVersion=function(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},t}(),jI=function(t){this.Lt=t};function wv(t,i){if(i.document)return W0(t.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var e=pr.fromSegments(i.noDocument.path),s=Dy(i.noDocument.readTime),a=uc.newNoDocument(e,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){var l=pr.fromSegments(i.unknownDocument.path);return s=Dy(i.unknownDocument.version),uc.newUnknownDocument(l,s)}return hr()}function RS(t,i,e){var te,he,s=q0(e),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){var l={name:Sy(te=t.Lt,(he=i).key),fields:he.data.value.mapValue.fields,updateTime:hm(te,he.version.toTimestamp())},h=i.hasCommittedMutations;return new nu(null,null,l,h,s,a)}if(i.isNoDocument()){var y=i.key.path.toArray(),C=Cb(i.version);return h=i.hasCommittedMutations,new nu(null,new kf(y,C),null,h,s,a)}if(i.isUnknownDocument()){var P=i.key.path.toArray(),j=Cb(i.version);return new nu(new dw(P,j),null,null,!0,s,a)}return hr()}function q0(t){var i=t.toTimestamp();return[i.seconds,i.nanoseconds]}function fw(t){var i=new Rc(t[0],t[1]);return Ti.fromTimestamp(i)}function Cb(t){var i=t.toTimestamp();return new gp(i.seconds,i.nanoseconds)}function Dy(t){var i=new Rc(t.seconds,t.nanoseconds);return Ti.fromTimestamp(i)}function Ay(t,i){for(var e=(i.baseMutations||[]).map(function(C){return I(t.Lt,C)}),s=0;s<i.mutations.length-1;++s)s+1<i.mutations.length&&void 0!==i.mutations[s+1].transform&&(i.mutations[s].updateTransforms=i.mutations[s+1].transform.fieldTransforms,i.mutations.splice(s+1,1),++s);var h=i.mutations.map(function(C){return I(t.Lt,C)}),y=Rc.fromMillis(i.localWriteTimeMs);return new OS(i.batchId,y,e,h)}function Mb(t){var i,e,s=Dy(t.readTime),a=void 0!==t.lastLimboFreeSnapshotVersion?Dy(t.lastLimboFreeSnapshotVersion):Ti.min();return void 0!==t.query.documents?(Hr(1===(e=t.query).documents.length),i=Ve(V(U0(e.documents[0])))):i=Ve(ke(t.query)),new pw(i,t.targetId,0,t.lastListenSequenceNumber,s,a,Fc.fromBase64String(t.resumeToken))}function ZI(t,i){var e,s=Cb(i.snapshotVersion),a=Cb(i.lastLimboFreeSnapshotVersion);e=pd(i.target)?H(t.Lt,i.target):ie(t.Lt,i.target);var l=i.resumeToken.toBase64();return new Ef(i.targetId,um(i.target),s,l,i.sequenceNumber,a,e)}function CC(t){var i=ke({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?et(i,i.limit,"L"):i}var MC=function(){function t(){}return t.prototype.getBundleMetadata=function(i,e){return mw(i).get(e).next(function(s){if(s)return{id:(a=s).bundleId,createTime:Dy(a.createTime),version:a.version};var a})},t.prototype.saveBundleMetadata=function(i,e){return mw(i).put({bundleId:(s=e).id,createTime:Cb(Al(s.createTime)),version:s.version});var s},t.prototype.getNamedQuery=function(i,e){return TC(i).get(e).next(function(s){if(s)return{name:(a=s).name,query:CC(a.bundledQuery),readTime:Dy(a.readTime)};var a})},t.prototype.saveNamedQuery=function(i,e){return TC(i).put({name:(s=e).name,readTime:Cb(Al(s.readTime)),bundledQuery:s.bundledQuery});var s},t}();function mw(t){return Oh(t,Um.store)}function TC(t){return Oh(t,xb.store)}var FS=function(){function t(){this.Bt=new $0}return t.prototype.addToCollectionParentIndex=function(i,e){return this.Bt.add(e),wi.resolve()},t.prototype.getCollectionParents=function(i,e){return wi.resolve(this.Bt.getEntries(e))},t}(),$0=function(){function t(){this.index={}}return t.prototype.add=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e]||new No(uo.comparator),l=!a.has(s);return this.index[e]=a.add(s),l},t.prototype.has=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e];return a&&a.has(s)},t.prototype.getEntries=function(i){return(this.index[i]||new No(uo.comparator)).toArray()},t}(),NS=function(){function t(){this.qt=new $0}return t.prototype.addToCollectionParentIndex=function(i,e){var s=this;if(!this.qt.has(e)){var a=e.lastSegment(),l=e.popLast();i.addOnCommittedListener(function(){s.qt.add(e)});var h={collectionId:a,parent:Ur(l)};return gw(i).put(h)}return wi.resolve()},t.prototype.getCollectionParents=function(i,e){var s=[],a=IDBKeyRange.bound([e,""],[Gp(e),""],!1,!0);return gw(i).Nt(a).next(function(l){for(var h=0,y=l;h<y.length;h++){var C=y[h];if(C.collectionId!==e)break;s.push(zs(C.parent))}return s})},t}();function gw(t){return Oh(t,bb.store)}var _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pm=function(){function t(i,e,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}return t.withCacheSize=function(i){return new t(i,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function zS(t,i,e){var s=t.store(vs.store),a=t.store(Ma.store),l=[],h=IDBKeyRange.only(e.batchId),y=0,C=s.$t({range:h},function(Le,je,tt){return y++,tt.delete()});l.push(C.next(function(){Hr(1===y)}));for(var P=[],j=0,te=e.mutations;j<te.length;j++){var he=te[j],Ce=Ma.key(i,he.key.path,e.batchId);l.push(a.delete(Ce)),P.push(he.key)}return wi.waitFor(l).next(function(){return P})}function Q0(t){if(!t)return 0;var i;if(t.document)i=t.document;else if(t.unknownDocument)i=t.unknownDocument;else{if(!t.noDocument)throw hr();i=t.noDocument}return JSON.stringify(i).length}pm.DEFAULT_COLLECTION_PERCENTILE=10,pm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pm.DEFAULT=new pm(41943040,pm.DEFAULT_COLLECTION_PERCENTILE,pm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pm.DISABLED=new pm(-1,0,0);var BS=function(){function t(i,e,s,a){this.userId=i,this.R=e,this.Ut=s,this.referenceDelegate=a,this.Kt={}}return t.Qt=function(i,e,s,a){return Hr(""!==i.uid),new t(i.isAuthenticated()?i.uid:"",e,s,a)},t.prototype.checkEmpty=function(i){var e=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return A_(i).$t({index:vs.userMutationsIndex,range:s},function(a,l,h){e=!1,h.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(i,e,s,a){var l=this,h=Tb(i),y=A_(i);return y.add({}).next(function(C){Hr("number"==typeof C);for(var P=new OS(C,e,s,a),j=function(vt,Wt,nn){var mn=nn.baseMutations.map(function(qn){return bv(vt.Lt,qn)}),hn=nn.mutations.map(function(qn){return bv(vt.Lt,qn)});return new vs(Wt,nn.batchId,nn.localWriteTime.toMillis(),mn,hn)}(l.R,l.userId,P),te=[],he=new No(function(vt,Wt){return Ys(vt.canonicalString(),Wt.canonicalString())}),Ce=0,Le=a;Ce<Le.length;Ce++){var je=Le[Ce],tt=Ma.key(l.userId,je.key.path,C);he=he.add(je.key.path.popLast()),te.push(y.put(j)),te.push(h.put(tt,Ma.PLACEHOLDER))}return he.forEach(function(vt){te.push(l.Ut.addToCollectionParentIndex(i,vt))}),i.addOnCommittedListener(function(){l.Kt[C]=P.keys()}),wi.waitFor(te).next(function(){return P})})},t.prototype.lookupMutationBatch=function(i,e){var s=this;return A_(i).get(e).next(function(a){return a?(Hr(a.userId===s.userId),Ay(s.R,a)):null})},t.prototype.jt=function(i,e){var s=this;return this.Kt[e]?wi.resolve(this.Kt[e]):this.lookupMutationBatch(i,e).next(function(a){if(a){var l=a.keys();return s.Kt[e]=l,l}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var s=this,a=e+1,l=IDBKeyRange.lowerBound([this.userId,a]),h=null;return A_(i).$t({index:vs.userMutationsIndex,range:l},function(y,C,P){C.userId===s.userId&&(Hr(C.batchId>=a),h=Ay(s.R,C)),P.done()}).next(function(){return h})},t.prototype.getHighestUnacknowledgedBatchId=function(i){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return A_(i).$t({index:vs.userMutationsIndex,range:e,reverse:!0},function(a,l,h){s=l.batchId,h.done()}).next(function(){return s})},t.prototype.getAllMutationBatches=function(i){var e=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return A_(i).Nt(vs.userMutationsIndex,s).next(function(a){return a.map(function(l){return Ay(e.R,l)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=Ma.prefixForPath(this.userId,e.path),l=IDBKeyRange.lowerBound(a),h=[];return Tb(i).$t({range:l},function(y,C,P){var j=y[0],he=y[2],Ce=zs(y[1]);if(j===s.userId&&e.path.isEqual(Ce))return A_(i).get(he).next(function(Le){if(!Le)throw hr();Hr(Le.userId===s.userId),h.push(Ay(s.R,Le))});P.done()}).next(function(){return h})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new No(Ys),l=[];return e.forEach(function(h){var y=Ma.prefixForPath(s.userId,h.path),C=IDBKeyRange.lowerBound(y),P=Tb(i).$t({range:C},function(j,te,he){var Ce=j[0],je=j[2],tt=zs(j[1]);Ce===s.userId&&h.path.isEqual(tt)?a=a.add(je):he.done()});l.push(P)}),wi.waitFor(l).next(function(){return s.Wt(i,a)})},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=this,a=e.path,l=a.length+1,h=Ma.prefixForPath(this.userId,a),y=IDBKeyRange.lowerBound(h),C=new No(Ys);return Tb(i).$t({range:y},function(P,j,te){var he=P[0],Le=P[2],je=zs(P[1]);he===s.userId&&a.isPrefixOf(je)?je.length===l&&(C=C.add(Le)):te.done()}).next(function(){return s.Wt(i,C)})},t.prototype.Wt=function(i,e){var s=this,a=[],l=[];return e.forEach(function(h){l.push(A_(i).get(h).next(function(y){if(null===y)throw hr();Hr(y.userId===s.userId),a.push(Ay(s.R,y))}))}),wi.waitFor(l).next(function(){return a})},t.prototype.removeMutationBatch=function(i,e){var s=this;return zS(i.Mt,this.userId,e).next(function(a){return i.addOnCommittedListener(function(){s.Gt(e.batchId)}),wi.forEach(a,function(l){return s.referenceDelegate.markPotentiallyOrphaned(i,l)})})},t.prototype.Gt=function(i){delete this.Kt[i]},t.prototype.performConsistencyCheck=function(i){var e=this;return this.checkEmpty(i).next(function(s){if(!s)return wi.resolve();var a=IDBKeyRange.lowerBound(Ma.prefixForUser(e.userId)),l=[];return Tb(i).$t({range:a},function(h,y,C){if(h[0]===e.userId){var P=zs(h[1]);l.push(P)}else C.done()}).next(function(){Hr(0===l.length)})})},t.prototype.containsKey=function(i,e){return yw(i,this.userId,e)},t.prototype.zt=function(i){var e=this;return SC(i).get(this.userId).next(function(s){return s||new Hc(e.userId,-1,"")})},t}();function yw(t,i,e){var s=Ma.prefixForPath(i,e.path),a=s[1],l=IDBKeyRange.lowerBound(s),h=!1;return Tb(t).$t({range:l,kt:!0},function(y,C,P){y[0]===i&&y[1]===a&&(h=!0),P.done()}).next(function(){return h})}function A_(t){return Oh(t,vs.store)}function Tb(t){return Oh(t,Ma.store)}function SC(t){return Oh(t,Hc.store)}var J0=function(){function t(i){this.Ht=i}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),kC=function(){function t(i,e){this.referenceDelegate=i,this.R=e}return t.prototype.allocateTargetId=function(i){var e=this;return this.Xt(i).next(function(s){var a=new J0(s.highestTargetId);return s.highestTargetId=a.next(),e.Zt(i,s).next(function(){return s.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(e){return Ti.fromTimestamp(new Rc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(e){return e.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(i,e,s){var a=this;return this.Xt(i).next(function(l){return l.highestListenSequenceNumber=e,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),e>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=e),a.Zt(i,l)})},t.prototype.addTargetData=function(i,e){var s=this;return this.te(i,e).next(function(){return s.Xt(i).next(function(a){return a.targetCount+=1,s.ee(e,a),s.Zt(i,a)})})},t.prototype.updateTargetData=function(i,e){return this.te(i,e)},t.prototype.removeTargetData=function(i,e){var s=this;return this.removeMatchingKeysForTargetId(i,e.targetId).next(function(){return I_(i).delete(e.targetId)}).next(function(){return s.Xt(i)}).next(function(a){return Hr(a.targetCount>0),a.targetCount-=1,s.Zt(i,a)})},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,h=[];return I_(i).$t(function(y,C){var P=Mb(C);P.sequenceNumber<=e&&null===s.get(P.targetId)&&(l++,h.push(a.removeTargetData(i,P)))}).next(function(){return wi.waitFor(h)}).next(function(){return l})},t.prototype.forEachTarget=function(i,e){return I_(i).$t(function(s,a){var l=Mb(a);e(l)})},t.prototype.Xt=function(i){return EC(i).get($p.key).next(function(e){return Hr(null!==e),e})},t.prototype.Zt=function(i,e){return EC(i).put($p.key,e)},t.prototype.te=function(i,e){return I_(i).put(ZI(this.R,e))},t.prototype.ee=function(i,e){var s=!1;return i.targetId>e.highestTargetId&&(e.highestTargetId=i.targetId,s=!0),i.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=i.sequenceNumber,s=!0),s},t.prototype.getTargetCount=function(i){return this.Xt(i).next(function(e){return e.targetCount})},t.prototype.getTargetData=function(i,e){var s=um(e),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),l=null;return I_(i).$t({range:a,index:Ef.queryTargetsIndexName},function(h,y,C){var P=Mb(y);zc(e,P.target)&&(l=P,C.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(i,e,s){var a=this,l=[],h=L_(i);return e.forEach(function(y){var C=Ur(y.path);l.push(h.put(new Xd(s,C))),l.push(a.referenceDelegate.addReference(i,s,y))}),wi.waitFor(l)},t.prototype.removeMatchingKeys=function(i,e,s){var a=this,l=L_(i);return wi.forEach(e,function(h){var y=Ur(h.path);return wi.waitFor([l.delete([s,y]),a.referenceDelegate.removeReference(i,s,h)])})},t.prototype.removeMatchingKeysForTargetId=function(i,e){var s=L_(i),a=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(a)},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=IDBKeyRange.bound([e],[e+1],!1,!0),a=L_(i),l=Ls();return a.$t({range:s,kt:!0},function(h,y,C){var P=zs(h[1]),j=new pr(P);l=l.add(j)}).next(function(){return l})},t.prototype.containsKey=function(i,e){var s=Ur(e.path),a=IDBKeyRange.bound([s],[Gp(s)],!1,!0),l=0;return L_(i).$t({index:Xd.documentTargetsIndex,kt:!0,range:a},function(h,y,C){0!==h[0]&&(l++,C.done())}).next(function(){return l>0})},t.prototype.lt=function(i,e){return I_(i).get(e).next(function(s){return s?Mb(s):null})},t}();function I_(t){return Oh(t,Ef.store)}function EC(t){return Oh(t,$p.store)}function L_(t){return Oh(t,Xd.store)}function Iy(t){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){if(t.code!==Dn.FAILED_PRECONDITION||t.message!==LS)throw t;return si("LocalStore","Unexpectedly lost primary lease"),[2]})})}function DC(t,i){var s=t[1],l=i[1],h=Ys(t[0],i[0]);return 0===h?Ys(s,l):h}var YS=function(){function t(i){this.ne=i,this.buffer=new No(DC),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(i){var e=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var s=this.buffer.last();DC(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),HS=function(){function t(i,e){this.garbageCollector=i,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(i){var e=this,s=this.oe?3e5:6e4;si("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,yt.mG)(e,void 0,void 0,function(){var a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:this.ce=null,this.oe=!0,l.label=1;case 1:return l.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return l.sent(),[3,7];case 3:return xv(a=l.sent())?(si("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a),[3,6]):[3,4];case 4:return[4,Iy(a)];case 5:l.sent(),l.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return l.sent(),[2]}})})})},t}(),VS=function(){function t(i,e){this.ae=i,this.params=e}return t.prototype.calculateTargetCount=function(i,e){return this.ae.he(i).next(function(s){return Math.floor(e/100*s)})},t.prototype.nthSequenceNumber=function(i,e){var s=this;if(0===e)return wi.resolve(ud.o);var a=new YS(e);return this.ae.forEachTarget(i,function(l){return a.re(l.sequenceNumber)}).next(function(){return s.ae.le(i,function(l){return a.re(l)})}).next(function(){return a.maxValue})},t.prototype.removeTargets=function(i,e,s){return this.ae.removeTargets(i,e,s)},t.prototype.removeOrphanedDocuments=function(i,e){return this.ae.removeOrphanedDocuments(i,e)},t.prototype.collect=function(i,e){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(si("LruGarbageCollector","Garbage collection skipped; disabled"),wi.resolve(_w)):this.getCacheSize(i).next(function(a){return a<s.params.cacheSizeCollectionThreshold?(si("LruGarbageCollector","Garbage collection skipped; Cache size "+a+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),_w):s.fe(i,e)})},t.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},t.prototype.fe=function(i,e){var s,a,l,h,y,C,P,j=this,te=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(he){return he>j.params.maximumSequenceNumbersToCollect?(si("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+j.params.maximumSequenceNumbersToCollect+" from "+he),a=j.params.maximumSequenceNumbersToCollect):a=he,h=Date.now(),j.nthSequenceNumber(i,a)}).next(function(he){return s=he,y=Date.now(),j.removeTargets(i,s,e)}).next(function(he){return l=he,C=Date.now(),j.removeOrphanedDocuments(i,s)}).next(function(he){return P=Date.now(),_u()<=hu.in.DEBUG&&si("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(h-te)+"ms\n\tDetermined least recently used "+a+" in "+(y-h)+"ms\n\tRemoved "+l+" targets in "+(C-y)+"ms\n\tRemoved "+he+" documents in "+(P-C)+"ms\nTotal Duration: "+(P-te)+"ms"),wi.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:he})})},t}(),US=function(){function t(i,e){this.db=i,this.garbageCollector=new VS(this,e)}return t.prototype.he=function(i){var e=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(s){return e.next(function(a){return s+a})})},t.prototype.de=function(i){var e=0;return this.le(i,function(s){e++}).next(function(){return e})},t.prototype.forEachTarget=function(i,e){return this.db.getTargetCache().forEachTarget(i,e)},t.prototype.le=function(i,e){return this.we(i,function(s,a){return e(a)})},t.prototype.addReference=function(i,e,s){return AC(i,s)},t.prototype.removeReference=function(i,e,s){return AC(i,s)},t.prototype.removeTargets=function(i,e,s){return this.db.getTargetCache().removeTargets(i,e,s)},t.prototype.markPotentiallyOrphaned=function(i,e){return AC(i,e)},t.prototype._e=function(i,e){return a=e,l=!1,SC(s=i).Ot(function(h){return yw(s,h,a).next(function(y){return y&&(l=!0),wi.resolve(!y)})}).next(function(){return l});var s,a,l},t.prototype.removeOrphanedDocuments=function(i,e){var s=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[],h=0;return this.we(i,function(y,C){if(C<=e){var P=s._e(i,y).next(function(j){if(!j)return h++,a.getEntry(i,y).next(function(){return a.removeEntry(y),L_(i).delete([0,Ur(y.path)])})});l.push(P)}}).next(function(){return wi.waitFor(l)}).next(function(){return a.apply(i)}).next(function(){return h})},t.prototype.removeTarget=function(i,e){var s=e.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)},t.prototype.updateLimboDocument=function(i,e){return AC(i,e)},t.prototype.we=function(i,e){var s,a=L_(i),l=ud.o;return a.$t({index:Xd.documentTargetsIndex},function(h,y){var P=y.path,j=y.sequenceNumber;0===h[0]?(l!==ud.o&&e(new pr(zs(s)),l),l=j,s=P):l=ud.o}).next(function(){l!==ud.o&&e(new pr(zs(s)),l)})},t.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},t}();function AC(t,i){return L_(t).put((s=t.currentSequenceNumber,new Xd(0,Ur(i.path),s)));var s}var Sb=function(){function t(i,e){this.mapKeyFn=i,this.equalsFn=e,this.inner={}}return t.prototype.get=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0!==s)for(var a=0,l=s;a<l.length;a++){var h=l[a],C=h[1];if(this.equalsFn(h[0],i))return C}},t.prototype.has=function(i){return void 0!==this.get(i)},t.prototype.set=function(i,e){var s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(var l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,e]);a.push([i,e])}else this.inner[s]=[[i,e]]},t.prototype.delete=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0===s)return!1;for(var a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[e]:s.splice(a,1),!0;return!1},t.prototype.forEach=function(i){wf(this.inner,function(e,s){for(var a=0,l=s;a<l.length;a++){var h=l[a];i(h[0],h[1])}})},t.prototype.isEmpty=function(){return hy(this.inner)},t}(),jS=function(){function t(){this.changes=new Sb(function(i){return i.toString()},function(i,e){return i.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(i){var e=this.changes.get(i);return e?e.readTime:Ti.min()},t.prototype.addEntry=function(i,e){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:e})},t.prototype.removeEntry=function(i,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(i,{document:uc.newInvalidDocument(i),readTime:e})},t.prototype.getEntry=function(i,e){this.assertNotApplied();var s=this.changes.get(e);return void 0!==s?wi.resolve(s.document):this.getFromCache(i,e)},t.prototype.getEntries=function(i,e){return this.getAllFromCache(i,e)},t.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},t.prototype.assertNotApplied=function(){},t}(),ZS=function(){function t(i,e){this.R=i,this.Ut=e}return t.prototype.addEntry=function(i,e,s){return P_(i).put(vw(e),s)},t.prototype.removeEntry=function(i,e){var s=P_(i),a=vw(e);return s.delete(a)},t.prototype.updateMetadata=function(i,e){var s=this;return this.getMetadata(i).next(function(a){return a.byteSize+=e,s.me(i,a)})},t.prototype.getEntry=function(i,e){var s=this;return P_(i).get(vw(e)).next(function(a){return s.ye(e,a)})},t.prototype.ge=function(i,e){var s=this;return P_(i).get(vw(e)).next(function(a){return{document:s.ye(e,a),size:Q0(a)}})},t.prototype.getEntries=function(i,e){var s=this,a=El();return this.pe(i,e,function(l,h){var y=s.ye(l,h);a=a.insert(l,y)}).next(function(){return a})},t.prototype.Ee=function(i,e){var s=this,a=El(),l=new Is(pr.comparator);return this.pe(i,e,function(h,y){var C=s.ye(h,y);a=a.insert(h,C),l=l.insert(h,Q0(y))}).next(function(){return{documents:a,Te:l}})},t.prototype.pe=function(i,e,s){if(e.isEmpty())return wi.resolve();var a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator(),h=l.getNext();return P_(i).$t({range:a},function(y,C,P){for(var j=pr.fromSegments(y);h&&pr.comparator(h,j)<0;)s(h,null),h=l.getNext();h&&h.isEqual(j)&&(s(h,C),h=l.hasNext()?l.getNext():null),h?P.Ct(h.path.toArray()):P.done()}).next(function(){for(;h;)s(h,null),h=l.hasNext()?l.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){var a=this,l=El(),h=e.path.length+1,y={};if(s.isEqual(Ti.min())){var C=e.path.toArray();y.range=IDBKeyRange.lowerBound(C)}else{var P=e.path.toArray(),j=q0(s);y.range=IDBKeyRange.lowerBound([P,j],!0),y.index=nu.collectionReadTimeIndex}return P_(i).$t(y,function(te,he,Ce){if(te.length===h){var Le=wv(a.R,he);e.path.isPrefixOf(Le.key.path)?tn(e,Le)&&(l=l.insert(Le.key,Le)):Ce.done()}}).next(function(){return l})},t.prototype.newChangeBuffer=function(i){return new WI(this,!!i&&i.trackRemovals)},t.prototype.getSize=function(i){return this.getMetadata(i).next(function(e){return e.byteSize})},t.prototype.getMetadata=function(i){return yu(i).get(E_.key).next(function(e){return Hr(!!e),e})},t.prototype.me=function(i,e){return yu(i).put(E_.key,e)},t.prototype.ye=function(i,e){if(e){var s=wv(this.R,e);if(!s.isNoDocument()||!s.version.isEqual(Ti.min()))return s}return uc.newInvalidDocument(i)},t}(),WI=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Ie=e,a.trackRemovals=s,a.Ae=new Sb(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),a}return(0,yt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[],l=0,h=new No(function(y,C){return Ys(y.canonicalString(),C.canonicalString())});return this.changes.forEach(function(y,C){var P=s.Ae.get(y);if(C.document.isValidDocument()){var j=RS(s.Ie.R,C.document,s.getReadTime(y));h=h.add(y.path.popLast());var te=Q0(j);l+=te-P,a.push(s.Ie.addEntry(e,y,j))}else if(l-=P,s.trackRemovals){var he=RS(s.Ie.R,uc.newNoDocument(y,Ti.min()),s.getReadTime(y));a.push(s.Ie.addEntry(e,y,he))}else a.push(s.Ie.removeEntry(e,y))}),h.forEach(function(y){a.push(s.Ie.Ut.addToCollectionParentIndex(e,y))}),a.push(this.Ie.updateMetadata(e,l)),wi.waitFor(a)},i.prototype.getFromCache=function(e,s){var a=this;return this.Ie.ge(e,s).next(function(l){return a.Ae.set(s,l.size),l.document})},i.prototype.getAllFromCache=function(e,s){var a=this;return this.Ie.Ee(e,s).next(function(l){var h=l.documents;return l.Te.forEach(function(y,C){a.Ae.set(y,C)}),h})},i}(jS);function yu(t){return Oh(t,E_.store)}function P_(t){return Oh(t,nu.store)}function vw(t){return t.path.toArray()}var GI=function(){function t(i){this.R=i}return t.prototype.Rt=function(i,e,s,a){var l=this;Hr(s<a&&s>=0&&a<=11);var C,h=new bC("createOrUpgrade",e);s<1&&a>=1&&(i.createObjectStore(Wa.store),(C=i).createObjectStore(Hc.store,{keyPath:Hc.keyPath}),C.createObjectStore(vs.store,{keyPath:vs.keyPath,autoIncrement:!0}).createIndex(vs.userMutationsIndex,vs.userMutationsKeyPath,{unique:!0}),C.createObjectStore(Ma.store),IC(i),function(C){C.createObjectStore(nu.store)}(i));var y=wi.resolve();return s<3&&a>=3&&(0!==s&&(function(C){C.deleteObjectStore(Xd.store),C.deleteObjectStore(Ef.store),C.deleteObjectStore($p.store)}(i),IC(i)),y=y.next(function(){return function(C){var P=C.store($p.store),j=new $p(0,0,Ti.min().toTimestamp(),0);return P.put($p.key,j)}(h)})),s<4&&a>=4&&(0!==s&&(y=y.next(function(){return function(C,P){return P.store(vs.store).Nt().next(function(j){C.deleteObjectStore(vs.store),C.createObjectStore(vs.store,{keyPath:vs.keyPath,autoIncrement:!0}).createIndex(vs.userMutationsIndex,vs.userMutationsKeyPath,{unique:!0});var te=P.store(vs.store),he=j.map(function(Ce){return te.put(Ce)});return wi.waitFor(he)})}(i,h)})),y=y.next(function(){!function(C){C.createObjectStore(D_.store,{keyPath:D_.keyPath})}(i)})),s<5&&a>=5&&(y=y.next(function(){return l.Re(h)})),s<6&&a>=6&&(y=y.next(function(){return function(C){C.createObjectStore(E_.store)}(i),l.be(h)})),s<7&&a>=7&&(y=y.next(function(){return l.ve(h)})),s<8&&a>=8&&(y=y.next(function(){return l.Pe(i,h)})),s<9&&a>=9&&(y=y.next(function(){(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(i),function(C){var P=C.objectStore(nu.store);P.createIndex(nu.readTimeIndex,nu.readTimeIndexPath,{unique:!1}),P.createIndex(nu.collectionReadTimeIndex,nu.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&a>=10&&(y=y.next(function(){return l.Ve(h)})),s<11&&a>=11&&(y=y.next(function(){(function(C){C.createObjectStore(Um.store,{keyPath:Um.keyPath})})(i),function(C){C.createObjectStore(xb.store,{keyPath:xb.keyPath})}(i)})),y},t.prototype.be=function(i){var e=0;return i.store(nu.store).$t(function(s,a){e+=Q0(a)}).next(function(){var s=new E_(e);return i.store(E_.store).put(E_.key,s)})},t.prototype.Re=function(i){var e=this,s=i.store(Hc.store),a=i.store(vs.store);return s.Nt().next(function(l){return wi.forEach(l,function(h){var y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Nt(vs.userMutationsIndex,y).next(function(C){return wi.forEach(C,function(P){Hr(P.userId===h.userId);var j=Ay(e.R,P);return zS(i,h.userId,j).next(function(){})})})})})},t.prototype.ve=function(i){var e=i.store(Xd.store),s=i.store(nu.store);return i.store($p.store).get($p.key).next(function(a){var l=[];return s.$t(function(h,y){var C=new uo(h),P=[0,Ur(C)];l.push(e.get(P).next(function(j){return j?wi.resolve():e.put(new Xd(0,Ur(C),a.highestListenSequenceNumber))}))}).next(function(){return wi.waitFor(l)})})},t.prototype.Pe=function(i,e){i.createObjectStore(bb.store,{keyPath:bb.keyPath});var s=e.store(bb.store),a=new $0,l=function(h){if(a.add(h)){var y=h.lastSegment(),C=h.popLast();return s.put({collectionId:y,parent:Ur(C)})}};return e.store(nu.store).$t({kt:!0},function(h,y){var C=new uo(h);return l(C.popLast())}).next(function(){return e.store(Ma.store).$t({kt:!0},function(h,y){var P=zs(h[1]);return l(P.popLast())})})},t.prototype.Ve=function(i){var e=this,s=i.store(Ef.store);return s.$t(function(a,l){var h=Mb(l),y=ZI(e.R,h);return s.put(y)})},t}();function IC(t){t.createObjectStore(Xd.store,{keyPath:Xd.keyPath}).createIndex(Xd.documentTargetsIndex,Xd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ef.store,{keyPath:Ef.keyPath}).createIndex(Ef.queryTargetsIndexName,Ef.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($p.store)}var LC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WS=function(){function t(i,e,s,a,l,h,y,C,P,j){if(this.allowTabSynchronization=i,this.persistenceKey=e,this.clientId=s,this.Se=l,this.window=h,this.document=y,this.De=P,this.Ce=j,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(te){return Promise.resolve()},!t.yt())throw new In(Dn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new US(this,a),this.Le=e+"main",this.R=new jI(C),this.Be=new wb(this.Le,11,new GI(this.R)),this.qe=new kC(this.referenceDelegate,this.R),this.Ut=new NS,this.Ue=new ZS(this.R,this.Ut),this.Ke=new MC,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===j&&cc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new In(Dn.FAILED_PRECONDITION,LC);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return i.qe.getHighestSequenceNumber(e)})}).then(function(e){i.Ne=new ud(e,i.De)}).then(function(){i.xe=!0}).catch(function(e){return i.Be&&i.Be.close(),Promise.reject(e)})},t.prototype.He=function(i){var e=this;return this.Me=function(s){return(0,yt.mG)(e,void 0,void 0,function(){return(0,yt.Jh)(this,function(a){return this.started?[2,i(s)]:[2]})})},i(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(i){var e=this;this.Be.vt(function(s){return(0,yt.mG)(e,void 0,void 0,function(){return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return null===s.newVersion?[4,i()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(i){var e=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,yt.mG)(e,void 0,void 0,function(){return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return O_(e).put(new D_(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(e).next(function(s){s||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(e)}).next(function(s){return i.isPrimary&&!s?i.Xe(e).next(function(){return!1}):!!s&&i.Ze(e).next(function(){return!0})})}).catch(function(e){if(xv(e))return si("IndexedDbPersistence","Failed to extend owner lease: ",e),i.isPrimary;if(!i.allowTabSynchronization)throw e;return si("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){i.isPrimary!==e&&i.Se.enqueueRetryable(function(){return i.Me(e)}),i.isPrimary=e})},t.prototype.Je=function(i){var e=this;return kb(i).get(Wa.key).next(function(s){return wi.resolve(e.tn(s))})},t.prototype.en=function(i){return O_(i).delete(this.clientId)},t.prototype.nn=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s,l=this;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(y){var C=Oh(y,D_.store);return C.Nt().next(function(P){var j=l.rn(P,18e5),te=P.filter(function(he){return-1===j.indexOf(he)});return wi.forEach(te,function(he){return C.delete(he.clientId)}).next(function(){return te})})}).catch(function(){return[]})]);case 1:if(i=h.sent(),this.Qe)for(e=0,s=i;e<s.length;e++)this.Qe.removeItem(this.on(s[e].clientId));h.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},t.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},t.prototype.Ye=function(i){var e=this;return this.Ce?wi.resolve(!0):kb(i).get(Wa.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)){if(e.tn(s)&&e.networkEnabled)return!0;if(!e.tn(s)){if(!s.allowTabSynchronization)throw new In(Dn.FAILED_PRECONDITION,LC);return!1}}return!(!e.networkEnabled||!e.inForeground)||O_(i).Nt().next(function(a){return void 0===e.rn(a,5e3).find(function(l){return!(e.clientId===l.clientId||!(!e.networkEnabled&&l.networkEnabled||!e.inForeground&&l.inForeground&&e.networkEnabled===l.networkEnabled))})})}).next(function(s){return e.isPrimary!==s&&si("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},t.prototype.shutdown=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i=this;return(0,yt.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Wa.store,D_.store],function(s){var a=new xC(s,ud.o);return i.Xe(a).next(function(){return i.en(a)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(i,e){var s=this;return i.filter(function(a){return s.sn(a.updateTimeMs,e)&&!s.cn(a.clientId)})},t.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(e){return O_(e).Nt().next(function(s){return i.rn(s,18e5).map(function(a){return a.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(i){return BS.Qt(i,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var l,a=this;return si("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===e?"readonly":"readwrite",IS,function(y){return l=new xC(y,a.Ne?a.Ne.next():ud.o),"readwrite-primary"===e?a.Je(l).next(function(C){return!!C||a.Ye(l)}).next(function(C){if(!C)throw cc("Failed to obtain primary lease for action '"+i+"'."),a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}),new In(Dn.FAILED_PRECONDITION,LS);return s(l)}).next(function(C){return a.Ze(l).next(function(){return C})}):a.dn(l).next(function(){return s(l)})}).then(function(y){return l.raiseOnCommittedEvent(),y})},t.prototype.dn=function(i){var e=this;return kb(i).get(Wa.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)&&!e.tn(s)&&!(e.Ce||e.allowTabSynchronization&&s.allowTabSynchronization))throw new In(Dn.FAILED_PRECONDITION,LC)})},t.prototype.Ze=function(i){var e=new Wa(this.clientId,this.allowTabSynchronization,Date.now());return kb(i).put(Wa.key,e)},t.yt=function(){return wb.yt()},t.prototype.Xe=function(i){var e=this,s=kb(i);return s.get(Wa.key).next(function(a){return e.tn(a)?(si("IndexedDbPersistence","Releasing primary lease."),s.delete(Wa.key)):wi.resolve()})},t.prototype.sn=function(i,e){var s=Date.now();return!(i<s-e||i>s&&(cc("Detected an update time that is in the future: "+i+" > "+s),1))},t.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var i,e=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Fe=function(){e.un(),(0,Ds.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(i){var e;try{var s=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(i)));return si("IndexedDbPersistence","Client '"+i+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(a){return cc("IndexedDbPersistence","Failed to get zombied client id.",a),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){cc("Failed to set zombie client id.",i)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},t.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},t}();function kb(t){return Oh(t,Wa.store)}function O_(t){return Oh(t,D_.store)}function PC(t,i){var e=t.projectId;return t.isDefaultDatabase||(e+="."+t.database),"firestore/"+i+"/"+e+"/"}var qI=function(t,i){this.progress=t,this.wn=i},OC=function(){function t(i,e,s){this.Ue=i,this._n=e,this.Ut=s}return t.prototype.mn=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,e).next(function(a){return s.yn(i,e,a)})},t.prototype.yn=function(i,e,s){return this.Ue.getEntry(i,e).next(function(a){for(var l=0,h=s;l<h.length;l++)h[l].applyToLocalView(a);return a})},t.prototype.gn=function(i,e){i.forEach(function(s,a){for(var l=0,h=e;l<h.length;l++)h[l].applyToLocalView(a)})},t.prototype.pn=function(i,e){var s=this;return this.Ue.getEntries(i,e).next(function(a){return s.En(i,a).next(function(){return a})})},t.prototype.En=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,e).next(function(a){return s.gn(e,a)})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){return pr.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Tn(i,e.path):Se(e)?this.In(i,e,s):this.An(i,e,s);var a},t.prototype.Tn=function(i,e){return this.mn(i,new pr(e)).next(function(s){var a=md();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})},t.prototype.In=function(i,e,s){var a=this,l=e.collectionGroup,h=md();return this.Ut.getCollectionParents(i,l).next(function(y){return wi.forEach(y,function(C){var j,te,P=(j=e,te=C.child(l),new L(te,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));return a.An(i,P,s).next(function(j){j.forEach(function(te,he){h=h.insert(te,he)})})}).next(function(){return h})})},t.prototype.An=function(i,e,s){var a,l,h=this;return this.Ue.getDocumentsMatchingQuery(i,e,s).next(function(y){return a=y,h._n.getAllMutationBatchesAffectingQuery(i,e)}).next(function(y){return h.Rn(i,l=y,a).next(function(C){a=C;for(var P=0,j=l;P<j.length;P++)for(var te=j[P],he=0,Ce=te.mutations;he<Ce.length;he++){var Le=Ce[he],je=Le.key,tt=a.get(je);null==tt&&(tt=uc.newInvalidDocument(je),a=a.insert(je,tt)),xa(Le,tt,te.localWriteTime),tt.isFoundDocument()||(a=a.remove(je))}})}).next(function(){return a.forEach(function(y,C){tn(e,C)||(a=a.remove(y))}),a})},t.prototype.Rn=function(i,e,s){for(var a=Ls(),l=0,h=e;l<h.length;l++)for(var y=0,C=h[l].mutations;y<C.length;y++){var P=C[y];P instanceof ca&&null===s.get(P.key)&&(a=a.add(P.key))}var j=s;return this.Ue.getEntries(i,a).next(function(te){return te.forEach(function(he,Ce){Ce.isFoundDocument()&&(j=j.insert(he,Ce))}),j})},t}(),$I=function(){function t(i,e,s,a){this.targetId=i,this.fromCache=e,this.bn=s,this.vn=a}return t.Pn=function(i,e){for(var s=Ls(),a=Ls(),l=0,h=e.docChanges;l<h.length;l++){var y=h[l];switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:a=a.add(y.doc.key)}}return new t(i,e.fromCache,s,a)},t}(),RC=function(){function t(){}return t.prototype.Vn=function(i){this.Sn=i},t.prototype.getDocumentsMatchingQuery=function(i,e,s,a){var h,l=this;return 0===(h=e).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ti.min())?this.Dn(i,e):this.Sn.pn(i,a).next(function(h){var y=l.Cn(e,h);return(K(e)||re(e))&&l.Nn(e.limitType,y,a,s)?l.Dn(i,e):(_u()<=hu.in.DEBUG&&si("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ht(e)),l.Sn.getDocumentsMatchingQuery(i,e,s).next(function(C){return y.forEach(function(P){C=C.insert(P.key,P)}),C}))})},t.prototype.Cn=function(i,e){var s=new No(on(i));return e.forEach(function(a,l){tn(i,l)&&(s=s.add(l))}),s},t.prototype.Nn=function(i,e,s,a){if(s.size!==e.size)return!0;var l="F"===i?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)},t.prototype.Dn=function(i,e){return _u()<=hu.in.DEBUG&&si("QueryEngine","Using full collection scan to execute query:",Ht(e)),this.Sn.getDocumentsMatchingQuery(i,e,Ti.min())},t}(),TF=function(){function t(i,e,s,a){this.persistence=i,this.xn=e,this.R=a,this.Fn=new Is(Ys),this.kn=new Sb(function(l){return um(l)},zc),this.$n=Ti.min(),this._n=i.getMutationQueue(s),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new OC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(i){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return i.collect(s,e.Fn)})},t}();function bw(t,i,e,s){return new TF(t,i,e,s)}function xw(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a,l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return e=Li(t),s=e._n,a=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(y){var C;return e._n.getAllMutationBatches(y).next(function(P){return C=P,s=e.persistence.getMutationQueue(i),a=new OC(e.On,s,e.persistence.getIndexManager()),s.getAllMutationBatches(y)}).next(function(P){for(var j=[],te=[],he=Ls(),Ce=0,Le=C;Ce<Le.length;Ce++){var je=Le[Ce];j.push(je.batchId);for(var tt=0,vt=je.mutations;tt<vt.length;tt++)he=he.add(vt[tt].key)}for(var nn=0,mn=P;nn<mn.length;nn++){var hn=mn[nn];te.push(hn.batchId);for(var qn=0,ai=hn.mutations;qn<ai.length;qn++)he=he.add(ai[qn].key)}return a.pn(y,he).next(function(Pi){return{Ln:Pi,removedBatchIds:j,addedBatchIds:te}})})})];case 1:return l=h.sent(),[2,(e._n=s,e.Mn=a,e.xn.Vn(e.Mn),l)]}})})}function jm(t,i){var e=Li(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var h,y,C,P,j,te,he,a=i.batch.keys(),l=e.On.newChangeBuffer({trackRemovals:!0});return(h=e,y=s,C=i,P=l,j=C.batch,te=j.keys(),he=wi.resolve(),te.forEach(function(Ce){he=he.next(function(){return P.getEntry(y,Ce)}).next(function(Le){var je=C.docVersions.get(Ce);Hr(null!==je),Le.version.compareTo(je)<0&&(j.applyToRemoteDocument(Le,C),Le.isValidDocument()&&P.addEntry(Le,C.commitVersion))})}),he.next(function(){return h._n.removeMutationBatch(y,j)})).next(function(){return l.apply(s)}).next(function(){return e._n.performConsistencyCheck(s)}).next(function(){return e.Mn.pn(s,a)})})}function GS(t){var i=Li(t);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return i.qe.getLastRemoteSnapshotVersion(e)})}function qS(t,i){var e=Li(t),s=i.snapshotVersion,a=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(l){var h=e.On.newChangeBuffer({trackRemovals:!0});a=e.Fn;var y=[];i.targetChanges.forEach(function(j,te){var je,tt,vt,he=a.get(te);if(he){y.push(e.qe.removeMatchingKeys(l,j.removedDocuments,te).next(function(){return e.qe.addMatchingKeys(l,j.addedDocuments,te)}));var Ce=j.resumeToken;if(Ce.approximateByteSize()>0){var Le=he.withResumeToken(Ce,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(te,Le),je=he,vt=j,Hr((tt=Le).resumeToken.approximateByteSize()>0),(0===je.resumeToken.approximateByteSize()||tt.snapshotVersion.toMicroseconds()-je.snapshotVersion.toMicroseconds()>=3e8||vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0)&&y.push(e.qe.updateTargetData(l,Le))}}});var C=El();if(i.documentUpdates.forEach(function(j,te){i.resolvedLimboDocuments.has(j)&&y.push(e.persistence.referenceDelegate.updateLimboDocument(l,j))}),y.push(Zm(l,h,i.documentUpdates,s,void 0).next(function(j){C=j})),!s.isEqual(Ti.min())){var P=e.qe.getLastRemoteSnapshotVersion(l).next(function(j){return e.qe.setTargetsMetadata(l,l.currentSequenceNumber,s)});y.push(P)}return wi.waitFor(y).next(function(){return h.apply(l)}).next(function(){return e.Mn.En(l,C)}).next(function(){return C})}).then(function(l){return e.Fn=a,l})}function Zm(t,i,e,s,a){var l=Ls();return e.forEach(function(h){return l=l.add(h)}),i.getEntries(t,l).next(function(h){var y=El();return e.forEach(function(C,P){var j=h.get(C),te=(null==a?void 0:a.get(C))||s;P.isNoDocument()&&P.version.isEqual(Ti.min())?(i.removeEntry(C,te),y=y.insert(C,P)):!j.isValidDocument()||P.version.compareTo(j.version)>0||0===P.version.compareTo(j.version)&&j.hasPendingWrites?(i.addEntry(P,te),y=y.insert(C,P)):si("LocalStore","Ignoring outdated watch update for ",C,". Current version:",j.version," Watch version:",P.version)}),y})}function Wm(t,i){var e=Li(t);return e.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===i&&(i=-1),e._n.getNextMutationBatchAfterBatchId(s,i)})}function Rh(t,i){var e=Li(t);return e.persistence.runTransaction("Allocate target","readwrite",function(s){var a;return e.qe.getTargetData(s,i).next(function(l){return l?wi.resolve(a=l):e.qe.allocateTargetId(s).next(function(h){return a=new pw(i,h,0,s.currentSequenceNumber),e.qe.addTargetData(s,a).next(function(){return a})})})}).then(function(s){var a=e.Fn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(s.targetId,s),e.kn.set(i,s.targetId)),s})}function Cv(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:s=Li(t),a=s.Fn.get(i),l=e?"readwrite":"readwrite-primary",y.label=1;case 1:return y.trys.push([1,4,,5]),e?[3,3]:[4,s.persistence.runTransaction("Release target",l,function(C){return s.persistence.referenceDelegate.removeTarget(C,a)})];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:if(!xv(h=y.sent()))throw h;return si("LocalStore","Failed to update sequence numbers for target "+i+": "+h),[3,5];case 5:return s.Fn=s.Fn.remove(i),s.kn.delete(a.target),[2]}})})}function X0(t,i,e){var s=Li(t),a=Ti.min(),l=Ls();return s.persistence.runTransaction("Execute query","readonly",function(h){return(y=s,C=h,P=Ve(i),j=Li(y),te=j.kn.get(P),void 0!==te?wi.resolve(j.Fn.get(te)):j.qe.getTargetData(C,P)).next(function(y){if(y)return a=y.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(h,y.targetId).next(function(C){l=C})}).next(function(){return s.xn.getDocumentsMatchingQuery(h,i,e?a:Ti.min(),e?l:Ls())}).next(function(y){return{documents:y,Bn:l}});var y,C,P,j,te})}function $S(t,i){var e=Li(t),s=Li(e.qe),a=e.Fn.get(i);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",function(l){return s.lt(l,i).next(function(h){return h?h.target:null})})}function QS(t){var i=Li(t);return i.persistence.runTransaction("Get new document changes","readonly",function(e){return a=e,l=i.$n,h=Li(i.On),y=El(),C=q0(l),P=P_(a),j=IDBKeyRange.lowerBound(C,!0),P.$t({index:nu.readTimeIndex,range:j},function(te,he){var Ce=wv(h.R,he);y=y.insert(Ce.key,Ce),C=he.readTime}).next(function(){return{wn:y,readTime:fw(C)}});var a,l,h,y,C,P,j}).then(function(e){var s=e.wn;return i.$n=e.readTime,s})}function QI(t){return(0,yt.mG)(this,void 0,void 0,function(){var i;return(0,yt.Jh)(this,function(e){return[2,(i=Li(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return l=P_(s),h=Ti.min(),l.$t({index:nu.readTimeIndex,reverse:!0},function(y,C,P){C.readTime&&(h=fw(C.readTime)),P.done()}).next(function(){return h});var l,h}).then(function(s){i.$n=s})]})})}function JI(t,i,e,s){return(0,yt.mG)(this,void 0,void 0,function(){var a,l,h,y,C,P,j,te,he,Ce;return(0,yt.Jh)(this,function(Le){switch(Le.label){case 0:for(a=Li(t),l=Ls(),h=El(),y=Dl(),C=0,P=e;C<P.length;C++)te=i.qn((j=P[C]).metadata.name),j.document&&(l=l.add(te)),h=h.insert(te,i.Un(j)),y=y.insert(te,i.Kn(j.metadata.readTime));return he=a.On.newChangeBuffer({trackRemovals:!0}),[4,Rh(a,(je=s,Ve(V(uo.fromString("__bundle__/docs/"+je)))))];case 1:return Ce=Le.sent(),[2,a.persistence.runTransaction("Apply bundle documents","readwrite",function(je){return Zm(je,he,h,Ti.min(),y).next(function(tt){return he.apply(je),tt}).next(function(tt){return a.qe.removeMatchingKeysForTargetId(je,Ce.targetId).next(function(){return a.qe.addMatchingKeys(je,l,Ce.targetId)}).next(function(){return a.Mn.En(je,tt)}).next(function(){return tt})})})]}var je})})}function FC(t,i,e){return void 0===e&&(e=Ls()),(0,yt.mG)(this,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,Rh(t,Ve(CC(i.bundledQuery)))];case 1:return s=l.sent(),[2,(a=Li(t)).persistence.runTransaction("Save named query","readwrite",function(h){var y=Al(i.readTime);if(s.snapshotVersion.compareTo(y)>=0)return a.Ke.saveNamedQuery(h,i);var C=s.withResumeToken(Fc.EMPTY_BYTE_STRING,y);return a.Fn=a.Fn.insert(C.targetId,C),a.qe.updateTargetData(h,C).next(function(){return a.qe.removeMatchingKeysForTargetId(h,s.targetId)}).next(function(){return a.qe.addMatchingKeys(h,e,s.targetId)}).next(function(){return a.Ke.saveNamedQuery(h,i)})})]}})})}var K0=function(){function t(i){this.R=i,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(i,e){return wi.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(i,e){var s;return this.Qn.set(e.id,{id:(s=e).id,version:s.version,createTime:Al(s.createTime)}),wi.resolve()},t.prototype.getNamedQuery=function(i,e){return wi.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(i,e){return this.jn.set(e.name,{name:(s=e).name,query:CC(s.bundledQuery),readTime:Al(s.readTime)}),wi.resolve();var s},t}(),NC=function(){function t(){this.Wn=new No(Wu.Gn),this.zn=new No(Wu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(i,e){var s=new Wu(i,e);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},t.prototype.Jn=function(i,e){var s=this;i.forEach(function(a){return s.addReference(a,e)})},t.prototype.removeReference=function(i,e){this.Yn(new Wu(i,e))},t.prototype.Xn=function(i,e){var s=this;i.forEach(function(a){return s.removeReference(a,e)})},t.prototype.Zn=function(i){var e=this,s=new pr(new uo([])),a=new Wu(s,i),l=new Wu(s,i+1),h=[];return this.zn.forEachInRange([a,l],function(y){e.Yn(y),h.push(y.key)}),h},t.prototype.ts=function(){var i=this;this.Wn.forEach(function(e){return i.Yn(e)})},t.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},t.prototype.es=function(i){var e=new pr(new uo([])),s=new Wu(e,i),a=new Wu(e,i+1),l=Ls();return this.zn.forEachInRange([s,a],function(h){l=l.add(h.key)}),l},t.prototype.containsKey=function(i){var e=new Wu(i,0),s=this.Wn.firstAfterOrEqual(e);return null!==s&&i.isEqual(s.key)},t}(),Wu=function(){function t(i,e){this.key=i,this.ns=e}return t.Gn=function(i,e){return pr.comparator(i.key,e.key)||Ys(i.ns,e.ns)},t.Hn=function(i,e){return Ys(i.ns,e.ns)||pr.comparator(i.key,e.key)},t}(),XI=function(){function t(i,e){this.Ut=i,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new No(Wu.Gn)}return t.prototype.checkEmpty=function(i){return wi.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(i,e,s,a){var l=this.ss;this.ss++;var h=new OS(l,e,s,a);this._n.push(h);for(var y=0,C=a;y<C.length;y++){var P=C[y];this.rs=this.rs.add(new Wu(P.key,l)),this.Ut.addToCollectionParentIndex(i,P.key.path.popLast())}return wi.resolve(h)},t.prototype.lookupMutationBatch=function(i,e){return wi.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var a=this.cs(e+1),l=a<0?0:a;return wi.resolve(this._n.length>l?this._n[l]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return wi.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(i){return wi.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=new Wu(e,0),l=new Wu(e,Number.POSITIVE_INFINITY),h=[];return this.rs.forEachInRange([a,l],function(y){var C=s.os(y.ns);h.push(C)}),wi.resolve(h)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new No(Ys);return e.forEach(function(l){var h=new Wu(l,0),y=new Wu(l,Number.POSITIVE_INFINITY);s.rs.forEachInRange([h,y],function(C){a=a.add(C.ns)})}),wi.resolve(this.us(a))},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=e.path,a=s.length+1,l=s;pr.isDocumentKey(l)||(l=l.child(""));var h=new Wu(new pr(l),0),y=new No(Ys);return this.rs.forEachWhile(function(C){var P=C.key.path;return!!s.isPrefixOf(P)&&(P.length===a&&(y=y.add(C.ns)),!0)},h),wi.resolve(this.us(y))},t.prototype.us=function(i){var e=this,s=[];return i.forEach(function(a){var l=e.os(a);null!==l&&s.push(l)}),s},t.prototype.removeMutationBatch=function(i,e){var s=this;Hr(0===this.hs(e.batchId,"removed")),this._n.shift();var a=this.rs;return wi.forEach(e.mutations,function(l){var h=new Wu(l.key,e.batchId);return a=a.delete(h),s.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(function(){s.rs=a})},t.prototype.Gt=function(i){},t.prototype.containsKey=function(i,e){var s=new Wu(e,0),a=this.rs.firstAfterOrEqual(s);return wi.resolve(e.isEqual(a&&a.key))},t.prototype.performConsistencyCheck=function(i){return wi.resolve()},t.prototype.hs=function(i,e){return this.cs(i)},t.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},t.prototype.os=function(i){var e=this.cs(i);return e<0||e>=this._n.length?null:this._n[e]},t}(),JS=function(){function t(i,e){this.Ut=i,this.ls=e,this.docs=new Is(pr.comparator),this.size=0}return t.prototype.addEntry=function(i,e,s){var a=e.key,l=this.docs.get(a),h=l?l.size:0,y=this.ls(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:y,readTime:s}),this.size+=y-h,this.Ut.addToCollectionParentIndex(i,a.path.popLast())},t.prototype.removeEntry=function(i){var e=this.docs.get(i);e&&(this.docs=this.docs.remove(i),this.size-=e.size)},t.prototype.getEntry=function(i,e){var s=this.docs.get(e);return wi.resolve(s?s.document.clone():uc.newInvalidDocument(e))},t.prototype.getEntries=function(i,e){var s=this,a=El();return e.forEach(function(l){var h=s.docs.get(l);a=a.insert(l,h?h.document.clone():uc.newInvalidDocument(l))}),wi.resolve(a)},t.prototype.getDocumentsMatchingQuery=function(i,e,s){for(var a=El(),l=new pr(e.path.child("")),h=this.docs.getIteratorFrom(l);h.hasNext();){var y=h.getNext(),P=y.value,j=P.document,te=P.readTime;if(!e.path.isPrefixOf(y.key.path))break;te.compareTo(s)<=0||tn(e,j)&&(a=a.insert(j.key,j.clone()))}return wi.resolve(a)},t.prototype.fs=function(i,e){return wi.forEach(this.docs,function(s){return e(s)})},t.prototype.newChangeBuffer=function(i){return new XS(this)},t.prototype.getSize=function(i){return wi.resolve(this.size)},t}(),XS=function(t){function i(e){var s=this;return(s=t.call(this)||this).Ie=e,s}return(0,yt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[];return this.changes.forEach(function(l,h){h.document.isValidDocument()?a.push(s.Ie.addEntry(e,h.document,s.getReadTime(l))):s.Ie.removeEntry(l)}),wi.waitFor(a)},i.prototype.getFromCache=function(e,s){return this.Ie.getEntry(e,s)},i.prototype.getAllFromCache=function(e,s){return this.Ie.getEntries(e,s)},i}(jS),ww=function(){function t(i){this.persistence=i,this.ds=new Sb(function(e){return um(e)},zc),this.lastRemoteSnapshotVersion=Ti.min(),this.highestTargetId=0,this.ws=0,this._s=new NC,this.targetCount=0,this.ys=J0.Jt()}return t.prototype.forEachTarget=function(i,e){return this.ds.forEach(function(s,a){return e(a)}),wi.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(i){return wi.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(i){return wi.resolve(this.ws)},t.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),wi.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(i,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ws&&(this.ws=e),wi.resolve()},t.prototype.te=function(i){this.ds.set(i.target,i);var e=i.targetId;e>this.highestTargetId&&(this.ys=new J0(e),this.highestTargetId=e),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},t.prototype.addTargetData=function(i,e){return this.te(e),this.targetCount+=1,wi.resolve()},t.prototype.updateTargetData=function(i,e){return this.te(e),wi.resolve()},t.prototype.removeTargetData=function(i,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,wi.resolve()},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,h=[];return this.ds.forEach(function(y,C){C.sequenceNumber<=e&&null===s.get(C.targetId)&&(a.ds.delete(y),h.push(a.removeMatchingKeysForTargetId(i,C.targetId)),l++)}),wi.waitFor(h).next(function(){return l})},t.prototype.getTargetCount=function(i){return wi.resolve(this.targetCount)},t.prototype.getTargetData=function(i,e){var s=this.ds.get(e)||null;return wi.resolve(s)},t.prototype.addMatchingKeys=function(i,e,s){return this._s.Jn(e,s),wi.resolve()},t.prototype.removeMatchingKeys=function(i,e,s){this._s.Xn(e,s);var a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(function(h){l.push(a.markPotentiallyOrphaned(i,h))}),wi.waitFor(l)},t.prototype.removeMatchingKeysForTargetId=function(i,e){return this._s.Zn(e),wi.resolve()},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=this._s.es(e);return wi.resolve(s)},t.prototype.containsKey=function(i,e){return wi.resolve(this._s.containsKey(e))},t}(),KI=function(){function t(i,e){var s=this;this.gs={},this.Ne=new ud(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new ww(this),this.Ut=new FS,this.Ue=new JS(this.Ut,function(h){return s.referenceDelegate.ps(h)}),this.R=new jI(e),this.Ke=new K0(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(i){var e=this.gs[i.toKey()];return e||(e=new XI(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var a=this;si("MemoryPersistence","Starting transaction:",i);var l=new KS(this.Ne.next());return this.referenceDelegate.Es(),s(l).next(function(h){return a.referenceDelegate.Ts(l).next(function(){return h})}).toPromise().then(function(h){return l.raiseOnCommittedEvent(),h})},t.prototype.Is=function(i,e){return wi.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(i,e)}}))},t}(),KS=function(t){function i(e){var s=this;return(s=t.call(this)||this).currentSequenceNumber=e,s}return(0,yt.ZT)(i,t),i}(vC),ek=function(){function t(i){this.persistence=i,this.As=new NC,this.Rs=null}return t.bs=function(i){return new t(i)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw hr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(i,e,s){return this.As.addReference(s,e),this.vs.delete(s.toString()),wi.resolve()},t.prototype.removeReference=function(i,e,s){return this.As.removeReference(s,e),this.vs.add(s.toString()),wi.resolve()},t.prototype.markPotentiallyOrphaned=function(i,e){return this.vs.add(e.toString()),wi.resolve()},t.prototype.removeTarget=function(i,e){var s=this;this.As.Zn(e.targetId).forEach(function(l){return s.vs.add(l.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(i,e.targetId).next(function(l){l.forEach(function(h){return s.vs.add(h.toString())})}).next(function(){return a.removeTargetData(i,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(i){var e=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wi.forEach(this.vs,function(a){var l=pr.fromPath(a);return e.Ps(i,l).next(function(h){h||s.removeEntry(l)})}).next(function(){return e.Rs=null,s.apply(i)})},t.prototype.updateLimboDocument=function(i,e){var s=this;return this.Ps(i,e).next(function(a){a?s.vs.delete(e.toString()):s.vs.add(e.toString())})},t.prototype.ps=function(i){return 0},t.prototype.Ps=function(i,e){var s=this;return wi.or([function(){return wi.resolve(s.As.containsKey(e))},function(){return s.persistence.getTargetCache().containsKey(i,e)},function(){return s.persistence.Is(i,e)}])},t}(),Fh=function(){function t(i){this.uid=i}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(i){return i.uid===this.uid},t}();function ex(t,i){return"firestore_clients_"+t+"_"+i}function Cw(t,i,e){var s="firestore_mutations_"+t+"_"+e;return i.isAuthenticated()&&(s+="_"+i.uid),s}function Mw(t,i){return"firestore_targets_"+t+"_"+i}Fh.UNAUTHENTICATED=new Fh(null),Fh.GOOGLE_CREDENTIALS=new Fh("google-credentials-uid"),Fh.FIRST_PARTY=new Fh("first-party-uid");var zC=function(){function t(i,e,s,a){this.user=i,this.batchId=e,this.state=s,this.error=a}return t.Vs=function(i,e,s){var a,l=JSON.parse(s),h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(a=new In(l.error.code,l.error.message)),h?new t(i,e,l.state,a):(cc("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+s),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),tx=function(){function t(i,e,s){this.targetId=i,this.state=e,this.error=s}return t.Vs=function(i,e){var s,a=JSON.parse(e),l="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return l&&a.error&&(l="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(s=new In(a.error.code,a.error.message)),l?new t(i,a.state,s):(cc("SharedClientState","Failed to parse target state for ID '"+i+"': "+e),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),BC=function(){function t(i,e){this.clientId=i,this.activeTargetIds=e}return t.Vs=function(i,e){for(var s=JSON.parse(e),a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Lh(),h=0;a&&h<s.activeTargetIds.length;++h)a=x_(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new t(i,l):(cc("SharedClientState","Failed to parse client data for instance '"+i+"': "+e),null)},t}(),tk=function(){function t(i,e){this.clientId=i,this.onlineState=e}return t.Vs=function(i){var e=JSON.parse(i);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new t(e.clientId,e.onlineState):(cc("SharedClientState","Failed to parse online state: "+i),null)},t}(),Tw=function(){function t(){this.activeTargetIds=Lh()}return t.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},t.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},t.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},t}(),Sw=function(){function t(i,e,s,a,l){this.window=i,this.Se=e,this.persistenceKey=s,this.Ns=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Is(Ys),this.started=!1,this.$s=[];var h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Os=ex(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Tw),this.Ls=new RegExp("^firestore_clients_"+h+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+h+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+h+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(y){return"firestore_bundle_loaded_"+y}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(i){return!(!i||!i.localStorage)},t.prototype.start=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s,a,l,h,y,C,P,j,he=this;return(0,yt.Jh)(this,function(Ce){switch(Ce.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=Ce.sent(),e=0,s=i;e<s.length;e++)(a=s[e])!==this.Ns&&(l=this.getItem(ex(this.persistenceKey,a)))&&(h=BC.Vs(a,l))&&(this.ks=this.ks.insert(h.clientId,h));for(this.Qs(),(y=this.storage.getItem(this.Us))&&(C=this.js(y))&&this.Ws(C),P=0,j=this.$s;P<j.length;P++)this.Fs(j[P]);return this.$s=[],this.window.addEventListener("pagehide",function(){return he.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(i){var e=!1;return this.ks.forEach(function(s,a){a.activeTargetIds.has(i)&&(e=!0)}),e},t.prototype.addPendingMutation=function(i){this.zs(i,"pending")},t.prototype.updateMutationState=function(i,e,s){this.zs(i,e,s),this.Hs(i)},t.prototype.addLocalQueryTarget=function(i){var e="not-current";if(this.isActiveQueryTarget(i)){var s=this.storage.getItem(Mw(this.persistenceKey,i));if(s){var a=tx.Vs(i,s);a&&(e=a.state)}}return this.Js.Ds(i),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},t.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){this.removeItem(Mw(this.persistenceKey,i))},t.prototype.updateQueryState=function(i,e,s){this.Ys(i,e,s)},t.prototype.handleUserChange=function(i,e,s){var a=this;e.forEach(function(l){a.Hs(l)}),this.currentUser=i,s.forEach(function(l){a.addPendingMutation(l)})},t.prototype.setOnlineState=function(i){this.Xs(i)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(i){var e=this.storage.getItem(i);return si("SharedClientState","READ",i,e),e},t.prototype.setItem=function(i,e){si("SharedClientState","SET",i,e),this.storage.setItem(i,e)},t.prototype.removeItem=function(i){si("SharedClientState","REMOVE",i),this.storage.removeItem(i)},t.prototype.Fs=function(i){var e=this,s=i;if(s.storageArea===this.storage){if(si("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void cc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,yt.mG)(e,void 0,void 0,function(){var a,l,h,y,C,P;return(0,yt.Jh)(this,function(j){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return a=this.ti(s.key),[2,this.ei(a,null)];if(l=this.ni(s.key,s.newValue))return[2,this.ei(l.clientId,l)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(h=this.si(s.key,s.newValue)))return[2,this.ii(h)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(y=this.ri(s.key,s.newValue)))return[2,this.oi(y)]}else if(s.key===this.Us){if(null!==s.newValue&&(C=this.js(s.newValue)))return[2,this.Ws(C)]}else if(s.key===this.Ms)(P=function(te){var he=ud.o;if(null!=te)try{var Ce=JSON.parse(te);Hr("number"==typeof Ce),he=Ce}catch(Le){cc("SharedClientState","Failed to read sequence number from WebStorage",Le)}return he}(s.newValue))!==ud.o&&this.sequenceNumberHandler(P);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(i,e,s){var a=new zC(this.currentUser,i,e,s),l=Cw(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Ss())},t.prototype.Hs=function(i){var e=Cw(this.persistenceKey,this.currentUser,i);this.removeItem(e)},t.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},t.prototype.Ys=function(i,e,s){var a=Mw(this.persistenceKey,i),l=new tx(i,e,s);this.setItem(a,l.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(i){var e=this.Ls.exec(i);return e?e[1]:null},t.prototype.ni=function(i,e){var s=this.ti(i);return BC.Vs(s,e)},t.prototype.si=function(i,e){var s=this.Bs.exec(i),a=Number(s[1]);return zC.Vs(new Fh(void 0!==s[2]?s[2]:null),a,e)},t.prototype.ri=function(i,e){var s=this.qs.exec(i),a=Number(s[1]);return tx.Vs(a,e)},t.prototype.js=function(i){return tk.Vs(i)},t.prototype.ii=function(i){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(e){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(si("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},t.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},t.prototype.ei=function(i,e){var s=this,a=e?this.ks.insert(i,e):this.ks.remove(i),l=this.Gs(this.ks),h=this.Gs(a),y=[],C=[];return h.forEach(function(P){l.has(P)||y.push(P)}),l.forEach(function(P){h.has(P)||C.push(P)}),this.syncEngine.hi(y,C).then(function(){s.ks=a})},t.prototype.Ws=function(i){this.ks.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},t.prototype.Gs=function(i){var e=Lh();return i.forEach(function(s,a){e=e.unionWith(a.activeTargetIds)}),e},t}(),YC=function(){function t(){this.li=new Tw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(i){},t.prototype.updateMutationState=function(i,e,s){},t.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},t.prototype.updateQueryState=function(i,e,s){this.fi[i]=e},t.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},t.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){delete this.fi[i]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.start=function(){return this.li=new Tw,Promise.resolve()},t.prototype.handleUserChange=function(i,e,s){},t.prototype.setOnlineState=function(i){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(i){},t.prototype.notifyBundleLoaded=function(){},t}(),e2=function(){function t(){}return t.prototype.di=function(i){},t.prototype.shutdown=function(){},t}(),nk=function(){function t(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return t.prototype.di=function(i){this.gi.push(i)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){si("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(0)},t.prototype.yi=function(){si("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),t2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},n2=function(){function t(i){this.Ei=i.Ei,this.Ti=i.Ti}return t.prototype.Ii=function(i){this.Ai=i},t.prototype.Ri=function(i){this.bi=i},t.prototype.onMessage=function(i){this.vi=i},t.prototype.close=function(){this.Ti()},t.prototype.send=function(i){this.Ei(i)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(i){this.bi(i)},t.prototype.Si=function(i){this.vi(i)},t}(),r2=function(t){function i(e){var s=this;return(s=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,s.autoDetectLongPolling=e.autoDetectLongPolling,s.useFetchStreams=e.useFetchStreams,s}return(0,yt.ZT)(i,t),i.prototype.ki=function(e,s,a,l){return new Promise(function(h,y){var C=new v_;C.listenOnce(gv.COMPLETE,function(){try{switch(C.getLastErrorCode()){case Tg.NO_ERROR:var j=C.getResponseJson();si("Connection","XHR received:",JSON.stringify(j)),h(j);break;case Tg.TIMEOUT:si("Connection",'RPC "'+e+'" timed out'),y(new In(Dn.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:var te=C.getStatus();if(si("Connection",'RPC "'+e+'" failed with status:',te,"response text:",C.getResponseText()),te>0){var he=C.getResponseJson().error;if(he&&he.status&&he.message){var Ce=(je=he.status.toLowerCase().replace(/_/g,"-"),Object.values(Dn).indexOf(je)>=0?je:Dn.UNKNOWN);y(new In(Ce,he.message))}else y(new In(Dn.UNKNOWN,"Server responded with status "+C.getStatus()))}else y(new In(Dn.UNAVAILABLE,"Connection failed."));break;default:hr()}}finally{si("Connection",'RPC "'+e+'" completed.')}var je});var P=JSON.stringify(l);C.send(s,"POST",P,a,15)})},i.prototype.Oi=function(e,s){var a=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=new Gd,h=gf(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new y_({})),this.Fi(y.initMessageHeaders,s),(0,Ds.uI)()||(0,Ds.b$)()||(0,Ds.d)()||(0,Ds.w1)()||(0,Ds.Mn)()||(0,Ds.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");var C=a.join("");si("Connection","Creating WebChannel: "+C,y);var P=l.createWebChannel(C,y),j=!1,te=!1,he=new n2({Ei:function(Le){te?si("Connection","Not sending because WebChannel is closed:",Le):(j||(si("Connection","Opening WebChannel transport."),P.open(),j=!0),si("Connection","WebChannel sending:",Le),P.send(Le))},Ti:function(){return P.close()}}),Ce=function(Le,je,tt){Le.listen(je,function(vt){try{tt(vt)}catch(Wt){setTimeout(function(){throw Wt},0)}})};return Ce(P,dy.EventType.OPEN,function(){te||si("Connection","WebChannel transport opened.")}),Ce(P,dy.EventType.CLOSE,function(){te||(te=!0,si("Connection","WebChannel transport closed"),he.Vi())}),Ce(P,dy.EventType.ERROR,function(Le){te||(te=!0,up("Connection","WebChannel transport errored:",Le),he.Vi(new In(Dn.UNAVAILABLE,"The operation could not be completed")))}),Ce(P,dy.EventType.MESSAGE,function(Le){var je;if(!te){var tt=Le.data[0];Hr(!!tt);var Wt=tt.error||(null===(je=tt[0])||void 0===je?void 0:je.error);if(Wt){si("Connection","WebChannel received error:",Wt);var nn=Wt.status,mn=function(qn){var ai=cs[qn];if(void 0!==ai)return Ns(ai)}(nn),hn=Wt.message;void 0===mn&&(mn=Dn.INTERNAL,hn="Unknown error status: "+nn+" with message "+Wt.message),te=!0,he.Vi(new In(mn,hn)),P.close()}else si("Connection","WebChannel received:",tt),he.Si(tt)}}),Ce(h,__.STAT_EVENT,function(Le){Le.stat===Sg_PROXY?si("Connection","Detected buffering proxy"):Le.stat===Sg_NOPROXY&&si("Connection","Detected no buffering proxy")}),setTimeout(function(){he.Pi()},0),he},i}(function(){function t(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(i,e,s,a){var l=this.xi(i,e);si("RestConnection","Sending: ",l,s);var h={};return this.Fi(h,a),this.ki(i,l,h,s).then(function(y){return si("RestConnection","Received: ",y),y},function(y){throw up("RestConnection",i+" failed with error: ",y,"url: ",l,"request:",s),y})},t.prototype.$i=function(i,e,s,a){return this.Ni(i,e,s,a)},t.prototype.Fi=function(i,e){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var s in e.authHeaders)e.authHeaders.hasOwnProperty(s)&&(i[s]=e.authHeaders[s])},t.prototype.xi=function(i,e){return this.Di+"/v1/"+e+":"+t2[i]},t}());function ik(){return"undefined"!=typeof window?window:null}function kw(){return"undefined"!=typeof document?document:null}function nx(t){return new My(t,!0)}var HC=function(){function t(i,e,s,a,l){void 0===s&&(s=1e3),void 0===a&&(a=1.5),void 0===l&&(l=6e4),this.Se=i,this.timerId=e,this.Mi=s,this.Li=a,this.Bi=l,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(i){var e=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),a=Math.max(0,Date.now()-this.Ki),l=Math.max(0,s-a);l>0&&si("ExponentialBackoff","Backing off for "+l+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+a+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,l,function(){return e.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),rk=function(){function t(i,e,s,a,l,h){this.Se=i,this.zi=s,this.Hi=a,this.Ji=l,this.listener=h,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new HC(i,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},t.prototype.cr=function(i){this.ur(),this.stream.send(i)},t.prototype.rr=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(i,e){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():e&&e.code===Dn.RESOURCE_EXHAUSTED?(cc(e.toString()),cc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Dn.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(e)];case 1:return s.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var i=this;this.state=1;var e=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(a){i.Yi===s&&i.lr(a)},function(a){e(function(){var l=new In(Dn.UNKNOWN,"Fetching auth token failed: "+a.message);return i.dr(l)})})},t.prototype.lr=function(i){var e=this,s=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){s(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(a){s(function(){return e.dr(a)})}),this.stream.onMessage(function(a){s(function(){return e.onMessage(a)})})},t.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,yt.mG)(i,void 0,void 0,function(){return(0,yt.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(i){return si("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},t.prototype.hr=function(i){var e=this;return function(s){e.Se.enqueueAndForget(function(){return e.Yi===i?s():(si("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),s2=function(t){function i(e,s,a,l,h){var y=this;return(y=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",s,a,h)||this).R=l,y}return(0,yt.ZT)(i,t),i.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},i.prototype.onMessage=function(e){this.Zi.reset();var s=function(l,h){var y,tt;if("targetChange"in h){var C="NO_CHANGE"===(tt=h.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===tt?1:"REMOVE"===tt?2:"CURRENT"===tt?3:"RESET"===tt?4:hr(),P=h.targetChange.targetIds||[],j=function(tt,vt){return tt.I?(Hr(void 0===vt||"string"==typeof vt),Fc.fromBase64String(vt||"")):(Hr(void 0===vt||vt instanceof Uint8Array),Fc.fromUint8Array(vt||new Uint8Array))}(l,h.targetChange.resumeToken),te=(he=h.targetChange.cause)&&function(tt){var vt=void 0===tt.code?Dn.UNKNOWN:Ns(tt.code);return new In(vt,tt.message||"")}(he);y=new il(C,P,j,te||null)}else if("documentChange"in h){P=Sf(l,(C=h.documentChange).document.name),j=Al(C.document.updateTime);var he=new Sl({mapValue:{fields:C.document.fields}}),Ce=(te=uc.newFoundDocument(P,j,he),C.targetIds||[]);y=new Ca(Ce,C.removedTargetIds||[],te.key,te)}else if("documentDelete"in h)P=Sf(l,(C=h.documentDelete).document),j=C.readTime?Al(C.readTime):Ti.min(),he=uc.newNoDocument(P,j),y=new Ca([],te=C.removedTargetIds||[],he.key,he);else if("documentRemove"in h)P=Sf(l,(C=h.documentRemove).document),y=new Ca([],j=C.removedTargetIds||[],P,null);else{if(!("filter"in h))return hr();var je=h.filter;P=new Jd(C=je.count||0),y=new dc(j=je.targetId,P)}return y}(this.R,e),a=function(l){if(!("targetChange"in l))return Ti.min();var h=l.targetChange;return h.targetIds&&h.targetIds.length?Ti.min():h.readTime?Al(h.readTime):Ti.min()}(e);return this.listener._r(s,a)},i.prototype.mr=function(e){var l,h,y,C,s={};s.database=ky(this.R),s.addTarget=(l=this.R,(y=pd(C=(h=e).target)?{documents:H(l,C)}:{query:ie(l,C)}).targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=S_(l,h.resumeToken):h.snapshotVersion.compareTo(Ti.min())>0&&(y.readTime=hm(l,h.snapshotVersion.toTimestamp())),y);var a=function(l,h){var y=function(C,P){switch(P){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hr()}}(0,h.purpose);return null==y?null:{"goog-listen-tags":y}}(0,e);a&&(s.labels=a),this.cr(s)},i.prototype.yr=function(e){var s={};s.database=ky(this.R),s.removeTarget=e,this.cr(s)},i}(rk),o2=function(t){function i(e,s,a,l,h){var y=this;return(y=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",s,a,h)||this).R=l,y.gr=!1,y}return(0,yt.ZT)(i,t),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(e){return this.Hi.Oi("Write",e)},i.prototype.onMessage=function(e){if(Hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var s=(h=e.commitTime,(l=e.writeResults)&&l.length>0?(Hr(void 0!==h),l.map(function(y){return P=h,(j=Al((C=y).updateTime?C.updateTime:P)).isEqual(Ti.min())&&(j=Al(P)),new er(j,C.transformResults||[]);var C,P,j})):[]),a=Al(e.commitTime);return this.listener.Tr(a,s)}var l,h;return Hr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var e={};e.database=ky(this.R),this.cr(e)},i.prototype.Er=function(e){var s=this,a={streamToken:this.lastStreamToken,writes:e.map(function(l){return bv(s.R,l)})};this.cr(a)},i}(rk),a2=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).credentials=e,l.Hi=s,l.R=a,l.Rr=!1,l}return(0,yt.ZT)(i,t),i.prototype.br=function(){if(this.Rr)throw new In(Dn.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.Ni(e,s,a,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===Dn.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new In(Dn.UNKNOWN,h.toString())})},i.prototype.$i=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.$i(e,s,a,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===Dn.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new In(Dn.UNKNOWN,h.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),l2=function(){function t(i,e){this.asyncQueue=i,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},t.prototype.set=function(i){this.Fr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},t.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},t.prototype.Cr=function(i){var e="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(cc(e),this.Vr=!1):si("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),c2=function(t,i,e,s,a){var l=this;this.localStore=t,this.datastore=i,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=a,this.Lr.di(function(h){e.enqueueAndForget(function(){return(0,yt.mG)(l,void 0,void 0,function(){return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return R_(this)?(si("RemoteStore","Restarting streams for network reachability change."),[4,function(C){return(0,yt.mG)(this,void 0,void 0,function(){var P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:return(P=Li(C)).Or.add(4),[4,Eb(P)];case 1:return j.sent(),P.Br.set("Unknown"),P.Or.delete(4),[4,ix(P)];case 2:return j.sent(),[2]}})})}(this)]):[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})}),this.Br=new l2(e,s)};function ix(t){return(0,yt.mG)(this,void 0,void 0,function(){var i,e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:if(!R_(t))return[3,4];i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Eb(t){return(0,yt.mG)(this,void 0,void 0,function(){var i,e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function rx(t,i){var e=Li(t);e.$r.has(i.targetId)||(e.$r.set(i.targetId,i),Aw(e)?Dw(e):Sr(e).er()&&Ew(e,i))}function Db(t,i){var e=Li(t),s=Sr(e);e.$r.delete(i),s.er()&&VC(e,i),0===e.$r.size&&(s.er()?s.ir():R_(e)&&e.Br.set("Unknown"))}function Ew(t,i){t.qr.U(i.targetId),Sr(t).mr(i)}function VC(t,i){t.qr.U(i),Sr(t).yr(i)}function Dw(t){t.qr=new T_({getRemoteKeysForTarget:function(i){return t.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return t.$r.get(i)||null}}),Sr(t).start(),t.Br.Sr()}function Aw(t){return R_(t)&&!Sr(t).tr()&&t.$r.size>0}function R_(t){return 0===Li(t).Or.size}function UC(t){t.qr=void 0}function sk(t){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){return t.$r.forEach(function(e,s){Ew(t,e)}),[2]})})}function jC(t,i){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(e){return UC(t),Aw(t)?(t.Br.Nr(i),Dw(t)):t.Br.set("Unknown"),[2]})})}function ZC(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:if(t.Br.set("Online"),!(i instanceof il&&2===i.state&&i.cause))return[3,6];h.label=1;case 1:return h.trys.push([1,3,,5]),[4,function(y,C){return(0,yt.mG)(this,void 0,void 0,function(){var P,j,te,he;return(0,yt.Jh)(this,function(Ce){switch(Ce.label){case 0:P=C.cause,j=0,te=C.targetIds,Ce.label=1;case 1:return j<te.length?y.$r.has(he=te[j])?[4,y.remoteSyncer.rejectListen(he,P)]:[3,3]:[3,5];case 2:Ce.sent(),y.$r.delete(he),y.qr.removeTarget(he),Ce.label=3;case 3:Ce.label=4;case 4:return j++,[3,1];case 5:return[2]}})})}(t,i)];case 2:return h.sent(),[3,5];case 3:return s=h.sent(),si("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),[4,Lg(t,s)];case 4:return h.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Ca?t.qr.X(i):i instanceof dc?t.qr.rt(i):t.qr.et(i),e.isEqual(Ti.min()))return[3,13];h.label=7;case 7:return h.trys.push([7,11,,13]),[4,GS(t.localStore)];case 8:return a=h.sent(),e.compareTo(a)>=0?[4,(y=t,C=e,P=y.qr.ut(C),P.targetChanges.forEach(function(j,te){if(j.resumeToken.approximateByteSize()>0){var he=y.$r.get(te);he&&y.$r.set(te,he.withResumeToken(j.resumeToken,C))}}),P.targetMismatches.forEach(function(j){var te=y.$r.get(j);if(te){y.$r.set(j,te.withResumeToken(Fc.EMPTY_BYTE_STRING,te.snapshotVersion)),VC(y,j);var he=new pw(te.target,j,1,te.sequenceNumber);Ew(y,he)}}),y.remoteSyncer.applyRemoteEvent(P))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,13];case 11:return si("RemoteStore","Failed to raise snapshot:",l=h.sent()),[4,Lg(t,l)];case 12:return h.sent(),[3,13];case 13:return[2]}var y,C,P})})}function Lg(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s=this;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:if(!xv(i))throw i;return t.Or.add(1),[4,Eb(t)];case 1:return a.sent(),t.Br.set("Offline"),e||(e=function(){return GS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,yt.mG)(s,void 0,void 0,function(){return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return si("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return l.sent(),t.Or.delete(1),[4,ix(t)];case 2:return l.sent(),[2]}})})}),[2]}})})}function ok(t,i){return i().catch(function(e){return Lg(t,e,i)})}function Ab(t){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:i=Li(t),e=Ly(i),s=i.kr.length>0?i.kr[i.kr.length-1].batchId:-1,h.label=1;case 1:if(!(R_(y=i)&&y.kr.length<10))return[3,7];h.label=2;case 2:return h.trys.push([2,4,,6]),[4,Wm(i.localStore,s)];case 3:return null===(a=h.sent())?(0===i.kr.length&&e.ir(),[3,7]):(s=a.batchId,function(y,C){y.kr.push(C);var P=Ly(y);P.er()&&P.pr&&P.Er(C.mutations)}(i,a),[3,6]);case 4:return l=h.sent(),[4,Lg(i,l)];case 5:return h.sent(),[3,6];case 6:return[3,1];case 7:return Mv(i)&&u2(i),[2]}var y})})}function Mv(t){return R_(t)&&!Ly(t).tr()&&t.kr.length>0}function u2(t){Ly(t).start()}function WC(t){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){return Ly(t).Ar(),[2]})})}function SF(t){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s;return(0,yt.Jh)(this,function(l){for(i=Ly(t),e=0,s=t.kr;e<s.length;e++)i.Er(s[e].mutations);return[2]})})}function ak(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return s=t.kr.shift(),a=wC.from(s,i,e),[4,ok(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)})];case 1:return l.sent(),[4,Ab(t)];case 2:return l.sent(),[2]}})})}function lk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(e){switch(e.label){case 0:return i&&Ly(t).pr?[4,function(s,a){return(0,yt.mG)(this,void 0,void 0,function(){var l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return kl(h=a.code)&&h!==Dn.ABORTED?(l=s.kr.shift(),Ly(s).sr(),[4,ok(s,function(){return s.remoteSyncer.rejectFailedWrite(l.batchId,a)})]):[3,3];case 1:return y.sent(),[4,Ab(s)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}(t,i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return Mv(t)&&u2(t),[2]}})})}function ck(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return e=Li(t),i?(e.Or.delete(2),[4,ix(e)]):[3,2];case 1:return s.sent(),[3,5];case 2:return i?[3,4]:(e.Or.add(2),[4,Eb(e)]);case 3:s.sent(),e.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function Sr(t){var e,s,a,l,i=this;return t.Ur||(t.Ur=(e=t.datastore,s=t.asyncQueue,a={Ii:sk.bind(null,t),Ri:jC.bind(null,t),_r:ZC.bind(null,t)},(l=Li(e)).br(),new s2(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,yt.mG)(i,void 0,void 0,function(){return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Ur.sr(),Aw(t)?Dw(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:s.sent(),UC(t),s.label=3;case 3:return[2]}})})})),t.Ur}function Ly(t){var e,s,a,l,i=this;return t.Kr||(t.Kr=(e=t.datastore,s=t.asyncQueue,a={Ii:WC.bind(null,t),Ri:lk.bind(null,t),Ir:SF.bind(null,t),Tr:ak.bind(null,t)},(l=Li(e)).br(),new o2(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,yt.mG)(i,void 0,void 0,function(){return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Kr.sr(),[4,Ab(t)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:s.sent(),t.kr.length>0&&(si("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),s.label=4;case 4:return[2]}})})})),t.Kr}var d2=function(){function t(i,e,s,a,l){this.asyncQueue=i,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Zu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(h){})}return t.createAndSchedule=function(i,e,s,a,l){var h=new t(i,e,Date.now()+s,a,l);return h.start(s),h},t.prototype.start=function(i){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},i)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new In(Dn.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},t.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(e){return i.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ib(t,i){if(cc("AsyncQueue",i+": "+t),xv(t))return new In(Dn.UNAVAILABLE,i+": "+t);throw t}var sx=function(){function t(i){this.comparator=i?function(e,s){return i(e,s)||pr.comparator(e.key,s.key)}:function(e,s){return pr.comparator(e.key,s.key)},this.keyedMap=md(),this.sortedSet=new Is(this.comparator)}return t.emptySet=function(i){return new t(i.comparator)},t.prototype.has=function(i){return null!=this.keyedMap.get(i)},t.prototype.get=function(i){return this.keyedMap.get(i)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(i){var e=this.keyedMap.get(i);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.add=function(i){var e=this.delete(i.key);return e.copy(e.keyedMap.insert(i.key,i),e.sortedSet.insert(i,null))},t.prototype.delete=function(i){var e=this.get(i);return e?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0},t.prototype.toString=function(){var i=[];return this.forEach(function(e){i.push(e.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},t.prototype.copy=function(i,e){var s=new t;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=e,s},t}(),uk=function(){function t(){this.Qr=new Is(pr.comparator)}return t.prototype.track=function(i){var e=i.doc.key,s=this.Qr.get(e);s?0!==i.type&&3===s.type?this.Qr=this.Qr.insert(e,i):3===i.type&&1!==s.type?this.Qr=this.Qr.insert(e,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Qr=this.Qr.insert(e,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Qr=this.Qr.remove(e):1===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):hr():this.Qr=this.Qr.insert(e,i)},t.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(e,s){i.push(s)}),i},t}(),Tv=function(){function t(i,e,s,a,l,h,y,C){this.query=i,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=C}return t.fromInitialDocuments=function(i,e,s,a){var l=[];return e.forEach(function(h){l.push({type:0,doc:h})}),new t(i,e,sx.emptySet(e),l,s,a,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&_t(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var e=this.docChanges,s=i.docChanges;if(e.length!==s.length)return!1;for(var a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0},t}(),Iw=function(){this.Wr=void 0,this.listeners=[]},Vc=function(){this.queries=new Sb(function(t){return It(t)},_t),this.onlineState="Unknown",this.Gr=new Set};function dk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a,l,h,y,C;return(0,yt.Jh)(this,function(P){switch(P.label){case 0:if(e=Li(t),a=!1,(l=e.queries.get(s=i.query))||(a=!0,l=new Iw),!a)return[3,4];P.label=1;case 1:return P.trys.push([1,3,,4]),h=l,[4,e.onListen(s)];case 2:return h.Wr=P.sent(),[3,4];case 3:return y=P.sent(),C=Ib(y,"Initialization of query '"+Ht(i.query)+"' failed"),[2,void i.onError(C)];case 4:return e.queries.set(s,l),l.listeners.push(i),i.zr(e.onlineState),l.Wr&&i.Hr(l.Wr)&&Pw(e),[2]}})})}function Lw(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a,l,h;return(0,yt.Jh)(this,function(y){return e=Li(t),a=!1,(l=e.queries.get(s=i.query))&&(h=l.listeners.indexOf(i))>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length),a?[2,(e.queries.delete(s),e.onUnlisten(s))]:[2]})})}function GC(t,i){for(var e=Li(t),s=!1,a=0,l=i;a<l.length;a++){var h=l[a],C=e.queries.get(h.query);if(C){for(var P=0,j=C.listeners;P<j.length;P++)j[P].Hr(h)&&(s=!0);C.Wr=h}}s&&Pw(e)}function h2(t,i,e){var s=Li(t),a=s.queries.get(i);if(a)for(var l=0,h=a.listeners;l<h.length;l++)h[l].onError(e);s.queries.delete(i)}function Pw(t){t.Gr.forEach(function(i){i.next()})}var Ow=function(){function t(i,e,s){this.query=i,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return t.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var e=[],s=0,a=i.docChanges;s<a.length;s++){var l=a[s];3!==l.type&&e.push(l)}i=new Tv(i.query,i.docs,i.oldDocs,e,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var h=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),h=!0):this.eo(i,this.onlineState)&&(this.no(i),h=!0),this.Xr=i,h},t.prototype.onError=function(i){this.Jr.error(i)},t.prototype.zr=function(i){this.onlineState=i;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(i,e){return!i.fromCache||!(this.options.so&&"Offline"!==e||i.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(i){i=Tv.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},t}(),hk=function(){function t(i,e){this.payload=i,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),qC=function(){function t(i){this.R=i}return t.prototype.qn=function(i){return Sf(this.R,i)},t.prototype.Un=function(i){return i.metadata.exists?W0(this.R,i.document,!1):uc.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},t.prototype.Kn=function(i){return Al(i)},t}();!function(){function t(i,e,s){this.ro=i,this.localStore=e,this.R=s,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)}t.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var e=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++e):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(i){for(var e=new Map,s=new qC(this.R),a=0,l=i;a<l.length;a++){var h=l[a];if(h.metadata.queries)for(var y=s.qn(h.metadata.name),C=0,P=h.metadata.queries;C<P.length;C++){var j=P[C],te=(e.get(j)||Ls()).add(y);e.set(j,te)}}return e},t.prototype.complete=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return[4,JI(this.localStore,new qC(this.R),this.documents,this.ro.id)];case 1:i=h.sent(),e=this.co(this.documents),s=0,a=this.queries,h.label=2;case 2:return s<a.length?[4,FC(this.localStore,l=a[s],e.get(l.name))]:[3,5];case 3:h.sent(),h.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qI(Object.assign({},this.progress),i))]}})})}}();var fk=function(t){this.key=t},Lb=function(t){this.key=t},mk=function(){function t(i,e){this.query=i,this.uo=e,this.ao=null,this.current=!1,this.ho=Ls(),this.mutatedKeys=Ls(),this.lo=on(i),this.fo=new sx(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(i,e){var s=this,a=e?e.mo:new uk,l=e?e.fo:this.fo,h=e?e.mutatedKeys:this.mutatedKeys,y=l,C=!1,P=K(this.query)&&l.size===this.query.limit?l.last():null,j=re(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal(function(he,Ce){var Le=l.get(he),je=tn(s.query,Ce)?Ce:null,tt=!!Le&&s.mutatedKeys.has(Le.key),vt=!!je&&(je.hasLocalMutations||s.mutatedKeys.has(je.key)&&je.hasCommittedMutations),Wt=!1;Le&&je?Le.data.isEqual(je.data)?tt!==vt&&(a.track({type:3,doc:je}),Wt=!0):s.yo(Le,je)||(a.track({type:2,doc:je}),Wt=!0,(P&&s.lo(je,P)>0||j&&s.lo(je,j)<0)&&(C=!0)):!Le&&je?(a.track({type:0,doc:je}),Wt=!0):Le&&!je&&(a.track({type:1,doc:Le}),Wt=!0,(P||j)&&(C=!0)),Wt&&(je?(y=y.add(je),h=vt?h.add(he):h.delete(he)):(y=y.delete(he),h=h.delete(he)))}),K(this.query)||re(this.query))for(;y.size>this.query.limit;){var te=K(this.query)?y.last():y.first();y=y.delete(te.key),h=h.delete(te.key),a.track({type:1,doc:te})}return{fo:y,mo:a,Nn:C,mutatedKeys:h}},t.prototype.yo=function(i,e){return i.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(i,e,s){var a=this,l=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var h=i.mo.jr();h.sort(function(j,te){return Ce=te.type,(Le=function(je){switch(je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hr()}})(j.type)-Le(Ce)||a.lo(j.doc,te.doc);var Ce,Le}),this.po(s);var y=e?this.Eo():[],C=0===this.ho.size&&this.current?1:0,P=C!==this.ao;return this.ao=C,0!==h.length||P?{snapshot:new Tv(this.query,i.fo,l,h,i.mutatedKeys,0===C,P,!1),To:y}:{To:y}},t.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},t.prototype.po=function(i){var e=this;i&&(i.addedDocuments.forEach(function(s){return e.uo=e.uo.add(s)}),i.modifiedDocuments.forEach(function(s){}),i.removedDocuments.forEach(function(s){return e.uo=e.uo.delete(s)}),this.current=i.current)},t.prototype.Eo=function(){var i=this;if(!this.current)return[];var e=this.ho;this.ho=Ls(),this.fo.forEach(function(a){i.Io(a.key)&&(i.ho=i.ho.add(a.key))});var s=[];return e.forEach(function(a){i.ho.has(a)||s.push(new Lb(a))}),this.ho.forEach(function(a){e.has(a)||s.push(new fk(a))}),s},t.prototype.Ao=function(i){this.uo=i.Bn,this.ho=Ls();var e=this._o(i.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Tv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),f2=function(t,i,e){this.query=t,this.targetId=i,this.view=e},m2=function(t){this.key=t,this.bo=!1},Rw=function(){function t(i,e,s,a,l,h){this.localStore=i,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.vo={},this.Po=new Sb(function(y){return It(y)},_t),this.Vo=new Map,this.So=new Set,this.Do=new Is(pr.comparator),this.Co=new Map,this.No=new NC,this.xo={},this.Fo=new Map,this.ko=J0.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function gk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,a,l,h,y;return(0,yt.Jh)(this,function(C){switch(C.label){case 0:return e=XC(t),(l=e.Po.get(i))?(e.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Ro(),[3,4]):[3,1];case 1:return[4,Rh(e.localStore,Ve(i))];case 2:return h=C.sent(),y=e.sharedClientState.addLocalQueryTarget(h.targetId),[4,Fw(e,i,h.targetId,"current"===y)];case 3:a=C.sent(),e.isPrimaryClient&&rx(e.remoteStore,h),C.label=4;case 4:return[2,a]}})})}function Fw(t,i,e,s){return(0,yt.mG)(this,void 0,void 0,function(){var a,l,h,y,C,P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:return t.Oo=function(te,he,Ce){return function(Le,je,tt,vt){return(0,yt.mG)(this,void 0,void 0,function(){var Wt,nn,mn;return(0,yt.Jh)(this,function(hn){switch(hn.label){case 0:return(Wt=je.view._o(tt)).Nn?[4,X0(Le.localStore,je.query,!1).then(function(qn){return je.view._o(qn.documents,Wt)})]:[3,2];case 1:Wt=hn.sent(),hn.label=2;case 2:return nn=vt&&vt.targetChanges.get(je.targetId),mn=je.view.applyChanges(Wt,Le.isPrimaryClient,nn),[2,(QC(Le,je.targetId,mn.To),mn.snapshot)]}})})}(t,te,he,Ce)},[4,X0(t.localStore,i,!0)];case 1:return a=j.sent(),l=new mk(i,a.Bn),h=l._o(a.documents),y=Ag.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==t.onlineState),C=l.applyChanges(h,t.isPrimaryClient,y),QC(t,e,C.To),P=new f2(i,e,l),[2,(t.Po.set(i,P),t.Vo.has(e)?t.Vo.get(e).push(i):t.Vo.set(e,[i]),C.snapshot)]}})})}function _k(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return e=Li(t),s=e.Po.get(i),(a=e.Vo.get(s.targetId)).length>1?[2,(e.Vo.set(s.targetId,a.filter(function(h){return!_t(h,i)})),void e.Po.delete(i))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,Cv(e.localStore,s.targetId,!1).then(function(){e.sharedClientState.clearQueryState(s.targetId),Db(e.remoteStore,s.targetId),Rb(e,s.targetId)}).catch(Iy)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return Rb(e,s.targetId),[4,Cv(e.localStore,s.targetId,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})}function g2(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:s=KC(t),y.label=1;case 1:return y.trys.push([1,5,,6]),[4,(C=s.localStore,P=i,te=Li(C),he=Rc.now(),Ce=P.reduce(function(Le,je){return Le.add(je.key)},Ls()),te.persistence.runTransaction("Locally write mutations","readwrite",function(Le){return te.Mn.pn(Le,Ce).next(function(je){j=je;for(var tt=[],vt=0,Wt=P;vt<Wt.length;vt++){var nn=Wt[vt],mn=la(nn,j.get(nn.key));null!=mn&&tt.push(new ca(nn.key,mn,_y(mn.value.mapValue),As.exists(!0)))}return te._n.addMutationBatch(Le,he,tt,P)})}).then(function(Le){return Le.applyToLocalDocumentSet(j),{batchId:Le.batchId,changes:j}}))];case 2:return a=y.sent(),s.sharedClientState.addPendingMutation(a.batchId),function(C,P,j){var te=C.xo[C.currentUser.toKey()];te||(te=new Is(Ys)),te=te.insert(P,j),C.xo[C.currentUser.toKey()]=te}(s,a.batchId,e),[4,Py(s,a.changes)];case 3:return y.sent(),[4,Ab(s.remoteStore)];case 4:return y.sent(),[3,6];case 5:return l=y.sent(),h=Ib(l,"Failed to persist write"),e.reject(h),[3,6];case 6:return[2]}var C,P,j,te,he,Ce})})}function Pb(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:e=Li(t),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,qS(e.localStore,i)];case 2:return s=a.sent(),i.targetChanges.forEach(function(l,h){var y=e.Co.get(h);y&&(Hr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.bo=!0:l.modifiedDocuments.size>0?Hr(y.bo):l.removedDocuments.size>0&&(Hr(y.bo),y.bo=!1))}),[4,Py(e,s,i)];case 3:return a.sent(),[3,6];case 4:return[4,Iy(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function Ob(t,i,e){var s=Li(t);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){var a=[];s.Po.forEach(function(l,h){var y=h.view.zr(i);y.snapshot&&a.push(y.snapshot)}),function(l,h){var y=Li(l);y.onlineState=h;var C=!1;y.queries.forEach(function(P,j){for(var te=0,he=j.listeners;te<he.length;te++)he[te].zr(h)&&(C=!0)}),C&&Pw(y)}(s.eventManager,i),a.length&&s.vo._r(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function _2(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h,y,C;return(0,yt.Jh)(this,function(P){switch(P.label){case 0:return(s=Li(t)).sharedClientState.updateQueryState(i,"rejected",e),a=s.Co.get(i),(l=a&&a.key)?(h=(h=new Is(pr.comparator)).insert(l,uc.newNoDocument(l,Ti.min())),y=Ls().add(l),C=new Dg(Ti.min(),new Map,new No(Ys),h,y),[4,Pb(s,C)]):[3,2];case 1:return P.sent(),s.Do=s.Do.remove(l),s.Co.delete(i),vk(s),[3,4];case 2:return[4,Cv(s.localStore,i,!1).then(function(){return Rb(s,i,e)}).catch(Iy)];case 3:P.sent(),P.label=4;case 4:return[2]}})})}function y2(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:e=Li(t),s=i.batch.batchId,l.label=1;case 1:return l.trys.push([1,4,,6]),[4,jm(e.localStore,i)];case 2:return a=l.sent(),zw(e,s,null),Nw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),[4,Py(e,a)];case 3:return l.sent(),[3,6];case 4:return[4,Iy(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}})})}function v2(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:s=Li(t),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,(h=s.localStore,y=i,C=Li(h),C.persistence.runTransaction("Reject batch","readwrite-primary",function(P){var j;return C._n.lookupMutationBatch(P,y).next(function(te){return Hr(null!==te),j=te.keys(),C._n.removeMutationBatch(P,te)}).next(function(){return C._n.performConsistencyCheck(P)}).next(function(){return C.Mn.pn(P,j)})}))];case 2:return a=l.sent(),zw(s,i,e),Nw(s,i),s.sharedClientState.updateMutationState(i,"rejected",e),[4,Py(s,a)];case 3:return l.sent(),[3,6];case 4:return[4,Iy(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}var h,y,C})})}function yk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a,l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:R_((e=Li(t)).remoteStore)||si("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,(C=e.localStore,P=Li(C),P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(j){return P._n.getHighestUnacknowledgedBatchId(j)}))];case 2:return-1===(s=y.sent())?[2,void i.resolve()]:((a=e.Fo.get(s)||[]).push(i),e.Fo.set(s,a),[3,4]);case 3:return l=y.sent(),h=Ib(l,"Initialization of waitForPendingWrites() operation failed"),i.reject(h),[3,4];case 4:return[2]}var C,P})})}function Nw(t,i){(t.Fo.get(i)||[]).forEach(function(e){e.resolve()}),t.Fo.delete(i)}function zw(t,i,e){var s=Li(t),a=s.xo[s.currentUser.toKey()];if(a){var l=a.get(i);l&&(e?l.reject(e):l.resolve(),a=a.remove(i)),s.xo[s.currentUser.toKey()]=a}}function Rb(t,i,e){void 0===e&&(e=null),t.sharedClientState.removeLocalQueryTarget(i);for(var s=0,a=t.Vo.get(i);s<a.length;s++){var l=a[s];t.Po.delete(l),e&&t.vo.Mo(l,e)}t.Vo.delete(i),t.isPrimaryClient&&t.No.Zn(i).forEach(function(h){t.No.containsKey(h)||$C(t,h)})}function $C(t,i){t.So.delete(i.path.canonicalString());var e=t.Do.get(i);null!==e&&(Db(t.remoteStore,e),t.Do=t.Do.remove(i),t.Co.delete(e),vk(t))}function QC(t,i,e){for(var s=0,a=e;s<a.length;s++){var l=a[s];l instanceof fk?(t.No.addReference(l.key,i),b2(t,l)):l instanceof Lb?(si("SyncEngine","Document no longer in limbo: "+l.key),t.No.removeReference(l.key,i),t.No.containsKey(l.key)||$C(t,l.key)):hr()}}function b2(t,i){var e=i.key,s=e.path.canonicalString();t.Do.get(e)||t.So.has(s)||(si("SyncEngine","New document in limbo: "+e),t.So.add(s),vk(t))}function vk(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var i=t.So.values().next().value;t.So.delete(i);var e=new pr(uo.fromString(i)),s=t.ko.next();t.Co.set(s,new m2(e)),t.Do=t.Do.insert(e,s),rx(t.remoteStore,new pw(Ve(V(e.path)),s,2,ud.o))}}function Py(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return s=Li(t),a=[],l=[],h=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(C,P){h.push(s.Oo(P,i,e).then(function(j){if(j){s.isPrimaryClient&&s.sharedClientState.updateQueryState(P.targetId,j.fromCache?"not-current":"current"),a.push(j);var te=$I.Pn(P.targetId,j);l.push(te)}}))}),[4,Promise.all(h)]);case 1:return y.sent(),s.vo._r(a),[4,function(C,P){return(0,yt.mG)(this,void 0,void 0,function(){var j,te,he,Ce,Le,je,tt,Wt;return(0,yt.Jh)(this,function(nn){switch(nn.label){case 0:j=Li(C),nn.label=1;case 1:return nn.trys.push([1,3,,4]),[4,j.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(mn){return wi.forEach(P,function(hn){return wi.forEach(hn.bn,function(qn){return j.persistence.referenceDelegate.addReference(mn,hn.targetId,qn)}).next(function(){return wi.forEach(hn.vn,function(qn){return j.persistence.referenceDelegate.removeReference(mn,hn.targetId,qn)})})})})];case 2:return nn.sent(),[3,4];case 3:if(!xv(te=nn.sent()))throw te;return si("LocalStore","Failed to update sequence numbers: "+te),[3,4];case 4:for(he=0,Ce=P;he<Ce.length;he++)je=(Le=Ce[he]).targetId,Le.fromCache||(tt=j.Fn.get(je),Wt=tt.withLastLimboFreeSnapshotVersion(tt.snapshotVersion),j.Fn=j.Fn.insert(je,Wt));return[2]}})})}(s.localStore,l)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function kF(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return(e=Li(t)).currentUser.isEqual(i)?[3,3]:(si("SyncEngine","User change. New user:",i.toKey()),[4,xw(e.localStore,i)]);case 1:return s=a.sent(),e.currentUser=i,(l=e).Fo.forEach(function(y){y.forEach(function(C){C.reject(new In(Dn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Fo.clear(),e.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),[4,Py(e,s.Ln)];case 2:a.sent(),a.label=3;case 3:return[2]}var l})})}function EF(t,i){var e=Li(t),s=e.Co.get(i);if(s&&s.bo)return Ls().add(s.key);var a=Ls(),l=e.Vo.get(i);if(!l)return a;for(var h=0,y=l;h<y.length;h++){var P=e.Po.get(y[h]);a=a.unionWith(P.view.wo)}return a}function bk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,X0((e=Li(t)).localStore,i.query,!0)];case 1:return s=l.sent(),a=i.view.Ao(s),[2,(e.isPrimaryClient&&QC(e,i.targetId,a.To),a)]}})})}function Bw(t){return(0,yt.mG)(this,void 0,void 0,function(){var i;return(0,yt.Jh)(this,function(e){return[2,QS((i=Li(t)).localStore).then(function(s){return Py(i,s)})]})})}function x2(t,i,e,s){return(0,yt.mG)(this,void 0,void 0,function(){var a,l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return[4,(y=(a=Li(t)).localStore,C=i,P=Li(y),j=Li(P._n),P.persistence.runTransaction("Lookup mutation documents","readonly",function(te){return j.jt(te,C).next(function(he){return he?P.Mn.pn(te,he):wi.resolve(null)})}))];case 1:return null===(l=h.sent())?[3,6]:"pending"!==e?[3,3]:[4,Ab(a.remoteStore)];case 2:return h.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(zw(a,i,s||null),Nw(a,i),function(y,C){Li(Li(y)._n).Gt(C)}(a.localStore,i)):hr(),h.label=4;case 4:return[4,Py(a,l)];case 5:return h.sent(),[3,7];case 6:si("SyncEngine","Cannot apply mutation batch with id: "+i),h.label=7;case 7:return[2]}var y,C,P,j})})}function w2(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a,l,h,C,P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:return XC(e=Li(t)),KC(e),!0!==i||!0===e.$o?[3,3]:(s=e.sharedClientState.getAllActiveQueryTargets(),[4,JC(e,s.toArray())]);case 1:return a=j.sent(),e.$o=!0,[4,ck(e.remoteStore,!0)];case 2:for(j.sent(),l=0,h=a;l<h.length;l++)rx(e.remoteStore,h[l]);return[3,7];case 3:return!1!==i||!1===e.$o?[3,7]:(C=[],P=Promise.resolve(),e.Vo.forEach(function(te,he){e.sharedClientState.isLocalQueryTarget(he)?C.push(he):P=P.then(function(){return Rb(e,he),Cv(e.localStore,he,!0)}),Db(e.remoteStore,he)}),[4,P]);case 4:return j.sent(),[4,JC(e,C)];case 5:return j.sent(),(he=Li(e)).Co.forEach(function(Ce,Le){Db(he.remoteStore,Le)}),he.No.ts(),he.Co=new Map,he.Do=new Is(pr.comparator),e.$o=!1,[4,ck(e.remoteStore,!1)];case 6:j.sent(),j.label=7;case 7:return[2]}var he})})}function JC(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h,y,C,P,j,te,he,Le,je,tt;return(0,yt.Jh)(this,function(vt){switch(vt.label){case 0:s=Li(t),a=[],l=[],h=0,y=i,vt.label=1;case 1:return h<y.length?(P=void 0,(j=s.Vo.get(C=y[h]))&&0!==j.length?[4,Rh(s.localStore,Ve(j[0]))]:[3,7]):[3,13];case 2:P=vt.sent(),te=0,he=j,vt.label=3;case 3:return te<he.length?(Le=s.Po.get(he[te]),[4,bk(s,Le)]):[3,6];case 4:(je=vt.sent()).snapshot&&l.push(je.snapshot),vt.label=5;case 5:return te++,[3,3];case 6:return[3,11];case 7:return[4,$S(s.localStore,C)];case 8:return tt=vt.sent(),[4,Rh(s.localStore,tt)];case 9:return P=vt.sent(),[4,Fw(s,Fb(tt),C,!1)];case 10:vt.sent(),vt.label=11;case 11:a.push(P),vt.label=12;case 12:return h++,[3,1];case 13:return[2,(s.vo._r(l),a)]}})})}function Fb(t){return z(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function C2(t){var i=Li(t);return Li(Li(i.localStore).persistence).fn()}function M2(t,i,e,s){return(0,yt.mG)(this,void 0,void 0,function(){var a,l,h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return(a=Li(t)).$o?(si("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!a.Vo.has(i))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,QS(a.localStore)];case 3:return l=y.sent(),h=Dg.createSynthesizedRemoteEventForCurrentChange(i,"current"===e),[4,Py(a,l,h)];case 4:return y.sent(),[3,8];case 5:return[4,Cv(a.localStore,i,!0)];case 6:return y.sent(),Rb(a,i,s),[3,8];case 7:hr(),y.label=8;case 8:return[2]}})})}function T2(t,i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a,l,h,y,C,P,j,te;return(0,yt.Jh)(this,function(Ce){switch(Ce.label){case 0:if(!(s=XC(t)).$o)return[3,10];a=0,l=i,Ce.label=1;case 1:return a<l.length?s.Vo.has(h=l[a])?(si("SyncEngine","Adding an already active target "+h),[3,5]):[4,$S(s.localStore,h)]:[3,6];case 2:return y=Ce.sent(),[4,Rh(s.localStore,y)];case 3:return C=Ce.sent(),[4,Fw(s,Fb(y),C.targetId,!1)];case 4:Ce.sent(),rx(s.remoteStore,C),Ce.label=5;case 5:return a++,[3,1];case 6:P=function(Le){return(0,yt.Jh)(this,function(je){switch(je.label){case 0:return s.Vo.has(Le)?[4,Cv(s.localStore,Le,!1).then(function(){Db(s.remoteStore,Le),Rb(s,Le)}).catch(Iy)]:[3,2];case 1:je.sent(),je.label=2;case 2:return[2]}})},j=0,te=e,Ce.label=7;case 7:return j<te.length?[5,P(te[j])]:[3,10];case 8:Ce.sent(),Ce.label=9;case 9:return j++,[3,7];case 10:return[2]}})})}function XC(t){var i=Li(t);return i.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=_2.bind(null,i),i.vo._r=GC.bind(null,i.eventManager),i.vo.Mo=h2.bind(null,i.eventManager),i}function KC(t){var i=Li(t);return i.remoteStore.remoteSyncer.applySuccessfulWrite=y2.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,i),i}var wk=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(i){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(e){switch(e.label){case 0:return this.R=nx(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},t.prototype.Uo=function(i){return null},t.prototype.Ko=function(i){return bw(this.persistence,new RC,i.initialUser,this.R)},t.prototype.qo=function(i){return new KI(ek.bs,this.R)},t.prototype.Bo=function(i){return new YC},t.prototype.terminate=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},t}(),Ck=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).Qo=e,l.cacheSizeBytes=s,l.forceOwnership=a,l.synchronizeTabs=!1,l}return(0,yt.ZT)(i,t),i.prototype.initialize=function(e){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,QI(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,e)];case 3:return s.sent(),[4,KC(this.Qo.syncEngine)];case 4:return s.sent(),[4,Ab(this.Qo.remoteStore)];case 5:return s.sent(),[2]}})})},i.prototype.Ko=function(e){return bw(this.persistence,new RC,e.initialUser,this.R)},i.prototype.Uo=function(e){return new HS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},i.prototype.qo=function(e){var s=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?pm.withCacheSize(this.cacheSizeBytes):pm.DEFAULT;return new WS(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,ik(),kw(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(e){return new YC},i}(wk),Nb=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s,!1)||this).Qo=e,a.cacheSizeBytes=s,a.synchronizeTabs=!0,a}return(0,yt.ZT)(i,t),i.prototype.initialize=function(e){return(0,yt.mG)(this,void 0,void 0,function(){var s,a=this;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return l.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof Sw?(this.sharedClientState.syncEngine={ui:x2.bind(null,s),ai:M2.bind(null,s),hi:T2.bind(null,s),fn:C2.bind(null,s),ci:Bw.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:l.sent(),l.label=3;case 3:return[4,this.persistence.He(function(h){return(0,yt.mG)(a,void 0,void 0,function(){return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return[4,w2(this.Qo.syncEngine,h)];case 1:return y.sent(),this.gcScheduler&&(h&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):h||this.gcScheduler.stop()),[2]}})})})];case 4:return l.sent(),[2]}})})},i.prototype.Bo=function(e){var s=ik();if(!Sw.yt(s))throw new In(Dn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var a=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sw(s,e.asyncQueue,a,e.clientId,e.initialUser)},i}(Ck),eM=function(){function t(){}return t.prototype.initialize=function(i,e){return(0,yt.mG)(this,void 0,void 0,function(){var s=this;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return Ob(s.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kF.bind(null,this.syncEngine),[4,ck(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(i){return new Vc},t.prototype.createDatastore=function(i){var s=nx(i.databaseInfo.databaseId),a=new r2(i.databaseInfo);return new a2(i.credentials,a,s)},t.prototype.createRemoteStore=function(i){var e,s,a,l,h,y=this;return e=this.localStore,s=this.datastore,a=i.asyncQueue,l=function(C){return Ob(y.syncEngine,C,0)},h=nk.yt()?new nk:new e2,new c2(e,s,a,l,h)},t.prototype.createSyncEngine=function(i,e){return P=e,j=new Rw(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),P&&(j.$o=!0),j;var P,j},t.prototype.terminate=function(){return function(i){return(0,yt.mG)(this,void 0,void 0,function(){var e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return e=Li(i),si("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Eb(e)];case 1:return s.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Yw=function(){function t(i){this.observer=i,this.muted=!1}return t.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},t.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(i,e){var s=this;this.muted||setTimeout(function(){s.muted||i(e)},0)},t}(),S2=(function(){function t(i,e){var s=this;this.Go=i,this.R=e,this.metadata=new Zu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(a){a&&a.io()?s.metadata.resolve(a.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==a?void 0:a.payload)))},function(a){return s.metadata.reject(a)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e,s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,this.Jo()];case 1:return null===(i=l.sent())?[2,null]:(e=this.zo.decode(i),s=Number(e),isNaN(s)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(s)]);case 2:return a=l.sent(),[2,new hk(JSON.parse(a),i.length+s)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),e)])}})})},t.prototype.Xo=function(i){return(0,yt.mG)(this,void 0,void 0,function(){var e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),e)]}})})},t.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},t.prototype.tc=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(i=s.sent()).done||((e=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),e.set(i.value,this.buffer.length),this.buffer=e),[2,i.done]}})})}}(),function(){function t(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new In(Dn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(l,h){return(0,yt.mG)(this,void 0,void 0,function(){var y,C,P,j,te,he;return(0,yt.Jh)(this,function(Ce){switch(Ce.label){case 0:return y=Li(l),C=ky(y.R)+"/documents",P={documents:h.map(function(Le){return Sy(y.R,Le)})},[4,y.$i("BatchGetDocuments",C,P)];case 1:return j=Ce.sent(),te=new Map,j.forEach(function(Le){var tt,vt,je=(tt=y.R,"found"in(vt=Le)?function(Wt,nn){Hr(!!nn.found);var mn=Sf(Wt,nn.found.name),hn=Al(nn.found.updateTime),qn=new Sl({mapValue:{fields:nn.found.fields}});return uc.newFoundDocument(mn,hn,qn)}(tt,vt):"missing"in vt?function(Wt,nn){Hr(!!nn.missing),Hr(!!nn.readTime);var mn=Sf(Wt,nn.missing),hn=Al(nn.readTime);return uc.newNoDocument(mn,hn)}(tt,vt):hr());te.set(je.key.toString(),je)}),he=[],[2,(h.forEach(function(Le){var je=te.get(Le.toString());Hr(!!je),he.push(je)}),he)]}})})}(this.datastore,i)];case 1:return[2,((e=a.sent()).forEach(function(l){return s.recordVersion(l)}),e)]}})})},t.prototype.set=function(i,e){this.write(e.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.update=function(i,e){try{this.write(e.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())},t.prototype.delete=function(i){this.write(new pl(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.commit=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(a){i.delete(a.key.toString())}),i.forEach(function(a,l){var h=pr.fromPath(l);e.mutations.push(new ua(h,e.precondition(h)))}),[4,function(a,l){return(0,yt.mG)(this,void 0,void 0,function(){var h,y,C;return(0,yt.Jh)(this,function(P){switch(P.label){case 0:return h=Li(a),y=ky(h.R)+"/documents",C={writes:l.map(function(j){return bv(h.R,j)})},[4,h.Ni("Commit",y,C)];case 1:return P.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(i){var e;if(i.isFoundDocument())e=i.version;else{if(!i.isNoDocument())throw hr();e=Ti.min()}var s=this.readVersions.get(i.key.toString());if(s){if(!e.isEqual(s))throw new In(Dn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),e)},t.prototype.precondition=function(i){var e=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&e?As.updateTime(e):As.none()},t.prototype.preconditionForUpdate=function(i){var e=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&e){if(e.isEqual(Ti.min()))throw new In(Dn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return As.updateTime(e)}return As.exists(!0)},t.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},t.prototype.ensureCommitNotCalled=function(){},t}()),Tk=function(){function t(i,e,s,a){this.asyncQueue=i,this.datastore=e,this.updateFunction=s,this.deferred=a,this.ec=5,this.Zi=new HC(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,yt.mG)(i,void 0,void 0,function(){var e,s,a=this;return(0,yt.Jh)(this,function(l){return e=new S2(this.datastore),(s=this.sc(e))&&s.then(function(h){a.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){a.deferred.resolve(h)}).catch(function(y){a.ic(y)})})}).catch(function(h){a.ic(h)}),[2]})})})},t.prototype.sc=function(i){try{var e=this.updateFunction(i);return!Tl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},t.prototype.ic=function(i){var e=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(i)},t.prototype.rc=function(i){if("FirebaseError"===i.name){var e=i.code;return"aborted"===e||"failed-precondition"===e||!kl(e)}return!1},t}(),k2=function(){function t(i,e,s){var a=this;this.credentials=i,this.asyncQueue=e,this.databaseInfo=s,this.user=Fh.UNAUTHENTICATED,this.clientId=b_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(l){return(0,yt.mG)(a,void 0,void 0,function(){return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return si("FirestoreClient","Received user=",l.uid),[4,this.credentialListener(l)];case 1:return h.sent(),this.user=l,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new In(Dn.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var e=new Zu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,yt.mG)(i,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:l.sent(),l.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return s=l.sent(),a=Ib(s,"Failed to shutdown persistence"),e.reject(a),[3,6];case 6:return[2]}})})}),e.promise},t}();function Hw(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s,a=this;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return t.asyncQueue.verifyOperationInProgress(),si("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return e=l.sent(),[4,i.initialize(e)];case 2:return l.sent(),s=e.initialUser,t.setCredentialChangeListener(function(h){return(0,yt.mG)(a,void 0,void 0,function(){return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return s.isEqual(h)?[3,2]:[4,xw(i.localStore,h)];case 1:y.sent(),s=h,y.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=i,[2]}})})}function Sk(t,i){return(0,yt.mG)(this,void 0,void 0,function(){var e,s;return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vw(t)];case 1:return e=a.sent(),si("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return s=a.sent(),[4,i.initialize(e,s)];case 3:return a.sent(),t.setCredentialChangeListener(function(l){return function(h,y){return(0,yt.mG)(this,void 0,void 0,function(){var C,P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:return(C=Li(h)).asyncQueue.verifyOperationInProgress(),si("RemoteStore","RemoteStore received new credentials"),P=R_(C),C.Or.add(3),[4,Eb(C)];case 1:return j.sent(),P&&C.Br.set("Unknown"),[4,C.remoteSyncer.handleCredentialChange(y)];case 2:return j.sent(),C.Or.delete(3),[4,ix(C)];case 3:return j.sent(),[2]}})})}(i.remoteStore,l)}),t.onlineComponents=i,[2]}})})}function Vw(t){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){switch(i.label){case 0:return t.offlineComponents?[3,2]:(si("FirestoreClient","Using default OfflineComponentProvider"),[4,Hw(t,new wk)]);case 1:i.sent(),i.label=2;case 2:return[2,t.offlineComponents]}})})}function ox(t){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(i){switch(i.label){case 0:return t.onlineComponents?[3,2]:(si("FirestoreClient","Using default OnlineComponentProvider"),[4,Sk(t,new eM)]);case 1:i.sent(),i.label=2;case 2:return[2,t.onlineComponents]}})})}function kk(t){return Vw(t).then(function(i){return i.persistence})}function nM(t){return Vw(t).then(function(i){return i.localStore})}function Ek(t){return ox(t).then(function(i){return i.remoteStore})}function ax(t){return ox(t).then(function(i){return i.syncEngine})}function zb(t){return(0,yt.mG)(this,void 0,void 0,function(){var i,e;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:return[4,ox(t)];case 1:return i=s.sent(),[2,((e=i.eventManager).onListen=gk.bind(null,i.syncEngine),e.onUnlisten=_k.bind(null,i.syncEngine),e)]}})})}function iM(t,i,e){var s=this;void 0===e&&(e={});var a=new Zu;return t.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(s,void 0,void 0,function(){var l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return l=function(y,C,P,j,te){var he=new Yw({next:function(Le){C.enqueueAndForget(function(){return Lw(y,Ce)});var je=Le.docs.has(P);!je&&Le.fromCache?te.reject(new In(Dn.UNAVAILABLE,"Failed to get document because the client is offline.")):je&&Le.fromCache&&j&&"server"===j.source?te.reject(new In(Dn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(Le)},error:function(Le){return te.reject(Le)}}),Ce=new Ow(V(P.path),he,{includeMetadataChanges:!0,so:!0});return dk(y,Ce)},[4,zb(t)];case 1:return[2,l.apply(void 0,[h.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}function Dk(t,i,e){var s=this;void 0===e&&(e={});var a=new Zu;return t.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(s,void 0,void 0,function(){var l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return l=function(y,C,P,j,te){var he=new Yw({next:function(Le){C.enqueueAndForget(function(){return Lw(y,Ce)}),Le.fromCache&&"server"===j.source?te.reject(new In(Dn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(Le)},error:function(Le){return te.reject(Le)}}),Ce=new Ow(P,he,{includeMetadataChanges:!0,so:!0});return dk(y,Ce)},[4,zb(t)];case 1:return[2,l.apply(void 0,[h.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}var E2=function(t,i,e,s,a,l,h,y){this.databaseId=t,this.appId=i,this.persistenceKey=e,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=y},Uw=function(){function t(i,e){this.projectId=i,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return i instanceof t&&i.projectId===this.projectId&&i.database===this.database},t}(),Ak=new Map,Ik=function(t,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Lk=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){this.changeListener=e,i.enqueueRetryable(function(){return e(Fh.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),D2=function(){function t(i){this.token=i,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){var s=this;this.changeListener=e,i.enqueueRetryable(function(){return e(s.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),A2=function(){function t(i){var e=this;this.currentUser=Fh.UNAUTHENTICATED,this.oc=new Zu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var s=function(a){si("FirebaseCredentialsProvider","Auth detected"),e.auth=a,e.auth.addAuthTokenListener(e.uc)};i.onInit(function(a){return s(a)}),setTimeout(function(){if(!e.auth){var a=i.getImmediate({optional:!0});a?s(a):(si("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var i=this,e=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(a){return i.cc!==e?(si("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):a?(Hr("string"==typeof a.accessToken),new Ik(a.accessToken,i.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(i,e){var s=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,yt.mG)(s,void 0,void 0,function(){return(0,yt.Jh)(this,function(a){switch(a.label){case 0:return[4,this.oc.promise];case 1:return a.sent(),[4,e(this.currentUser)];case 2:return a.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return Hr(null===i||"string"==typeof i),new Fh(i)},t}(),Pk=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s,this.type="FirstParty",this.user=Fh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(i.Authorization=e),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),t}(),Ok=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s}return t.prototype.getToken=function(){return Promise.resolve(new Pk(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(i,e){i.enqueueRetryable(function(){return e(Fh.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function rM(t,i,e){if(!e)throw new In(Dn.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+i+".")}function sM(t,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new In(Dn.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return i}function oM(t,i,e,s){if(!0===i&&!0===s)throw new In(Dn.INVALID_ARGUMENT,t+" and "+e+" cannot be used together.")}function Rk(t){if(!pr.isDocumentKey(t))throw new In(Dn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Fk(t){if(pr.isDocumentKey(t))throw new In(Dn.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function jw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var i=function(e){if(e.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(s&&s.length>1)return s[1]}return null}(t);return i?"a custom "+i+" object":"an object"}return"function"==typeof t?"a function":hr()}function zo(t,i){if("_delegate"in t&&(t=t._delegate),!(t instanceof i)){if(i.name===t.constructor.name)throw new In(Dn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=jw(t);throw new In(Dn.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+e)}return t}function Zw(t,i){if(i<=0)throw new In(Dn.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+i+".")}var aM=function(){function t(i){var e;if(void 0===i.host){if(void 0!==i.ssl)throw new In(Dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(e=i.ssl)||void 0===e||e;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new In(Dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,oM("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},t}(),Sv=function(){function t(i,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aM({}),this._settingsFrozen=!1,i instanceof Uw?(this._databaseId=i,this._credentials=new Lk):(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new In(Dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uw(s.options.projectId)}(i),this._credentials=new A2(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new In(Dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(i){if(this._settingsFrozen)throw new In(Dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aM(i),void 0!==i.credentials&&(this._credentials=function(e){if(!e)return new Lk;switch(e.type){case"gapi":var s=e.client;return Hr(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Ok(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new In(Dn.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(e=Ak.get(this))&&(si("ComponentProvider","Removing Datastore"),Ak.delete(this),e.terminate()),Promise.resolve();var e},t}(),pc=function(){function t(i,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=i}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(i){return new t(this.firestore,i,this._key)},t}(),Qp=function(){function t(i,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=i}return t.prototype.withConverter=function(i){return new t(this.firestore,i,this._query)},t}(),Pg=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,V(a))||this)._path=a,l.type="collection",l}return(0,yt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pc(this.firestore,null,new pr(e))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._path)},i}(Qp);function Nk(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ds.m9)(t),rM("collection","path",i),t instanceof Sv)return Fk(e=uo.fromString.apply(uo,(0,yt.ev)([i],s))),new Pg(t,null,e);if(!(t instanceof pc||t instanceof Pg))throw new In(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fk(e=uo.fromString.apply(uo,(0,yt.ev)([t.path],s)).child(uo.fromString(i))),new Pg(t.firestore,null,e)}function lx(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ds.m9)(t),1===arguments.length&&(i=b_.u()),rM("doc","path",i),t instanceof Sv)return Rk(e=uo.fromString.apply(uo,(0,yt.ev)([i],s))),new pc(t,null,new pr(e));if(!(t instanceof pc||t instanceof Pg))throw new In(Dn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rk(e=t._path.child(uo.fromString.apply(uo,(0,yt.ev)([i],s)))),new pc(t.firestore,t instanceof Pg?t.converter:null,new pr(e))}function zk(t,i){return t=(0,Ds.m9)(t),i=(0,Ds.m9)(i),(t instanceof pc||t instanceof Pg)&&(i instanceof pc||i instanceof Pg)&&t.firestore===i.firestore&&t.path===i.path&&t.converter===i.converter}function lM(t,i){return t=(0,Ds.m9)(t),i=(0,Ds.m9)(i),t instanceof Qp&&i instanceof Qp&&t.firestore===i.firestore&&_t(t._query,i._query)&&t.converter===i.converter}var Bk=function(){function t(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new HC(this,"async_queue_retry"),this.Ic=function(){var s=kw();s&&si("AsyncQueue","Visibility state changed to "+s.visibilityState),i.Zi.Gi()};var e=kw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(i){this.enqueue(i)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},t.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var e=kw();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(i){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new Zu;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(i().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},t.prototype.enqueueRetryable=function(i){var e=this;this.enqueueAndForget(function(){return e.wc.push(i),e.bc()})},t.prototype.bc=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,yt.Jh)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xv(i=s.sent()))throw i;return si("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),s.label=5;case 5:return[2]}})})},t.prototype.Rc=function(i){var e=this,s=this.dc.then(function(){return e.gc=!0,i().catch(function(a){throw e.yc=a,e.gc=!1,cc("INTERNAL UNHANDLED ERROR: ",(h=(l=a).message||"",l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h)),a;var l,h}).then(function(a){return e.gc=!1,a})});return this.dc=s,s},t.prototype.enqueueAfterDelay=function(i,e,s){var a=this;this.Ac(),this.Tc.indexOf(i)>-1&&(e=0);var l=d2.createAndSchedule(this,i,e,s,function(h){return a.vc(h)});return this.mc.push(l),l},t.prototype.Ac=function(){this.yc&&hr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,yt.mG)(this,void 0,void 0,function(){var i;return(0,yt.Jh)(this,function(e){switch(e.label){case 0:return[4,i=this.dc];case 1:e.sent(),e.label=2;case 2:if(i!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(i){for(var e=0,s=this.mc;e<s.length;e++)if(s[e].timerId===i)return!0;return!1},t.prototype.Sc=function(i){var e=this;return this.Pc().then(function(){e.mc.sort(function(h,y){return h.targetTimeMs-y.targetTimeMs});for(var s=0,a=e.mc;s<a.length;s++){var l=a[s];if(l.skipDelay(),"all"!==i&&l.timerId===i)break}return e.Pc()})},t.prototype.Dc=function(i){this.Tc.push(i)},t.prototype.vc=function(i){var e=this.mc.indexOf(i);this.mc.splice(e,1)},t}();function kv(t){return function(i,e){if("object"!=typeof i||null===i)return!1;for(var s=i,a=0,l=["next","error","complete"];a<l.length;a++){var h=l[a];if(h in s&&"function"==typeof s[h])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Zu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(i,e,s){this._progressObserver={next:i,error:e,complete:s}},t.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},t.prototype.then=function(i,e){return this._taskCompletionResolver.promise.then(i,e)},t.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},t.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},t.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var rl=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).type="firestore",a._queue=new Bk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,yt.ZT)(i,t),i.prototype._terminate=function(){return this._firestoreClient||Ww(this),this._firestoreClient.terminate()},i}(Sv);function Kd(t){return t._firestoreClient||Ww(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ww(t){var i,l,y,e=t._freezeSettings(),s=(l=(null===(i=t._app)||void 0===i?void 0:i.options.appId)||"",new E2(t._databaseId,l,t._persistenceKey,(y=e).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));t._firestoreClient=new k2(t._credentials,t._queue,s)}function cx(t,i,e){var s=this,a=new Zu;return t.asyncQueue.enqueue(function(){return(0,yt.mG)(s,void 0,void 0,function(){var l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,Hw(t,e)];case 1:return h.sent(),[4,Sk(t,i)];case 2:return h.sent(),a.resolve(),[3,4];case 3:if(!("FirebaseError"===(y=l=h.sent()).name?y.code===Dn.FAILED_PRECONDITION||y.code===Dn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw l;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l),[3,4];case 4:return[2]}var y})})}).then(function(){return a.promise})}function Yk(t){if(t._initialized||t._terminated)throw new In(Dn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _p=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var s=0;s<i.length;++s)if(0===i[s].length)throw new In(Dn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ju(i)}return t.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},t}(),Ev=function(){function t(i){this._byteString=i}return t.fromBase64String=function(i){try{return new t(Fc.fromBase64String(i))}catch(e){throw new In(Dn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(i){return new t(Fc.fromUint8Array(i))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},t}(),Bb=function(t){this._methodName=t},Gw=function(){function t(i,e){if(!isFinite(i)||i<-90||i>90)throw new In(Dn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(e)||e<-180||e>180)throw new In(Dn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=i,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(i){return Ys(this._lat,i._lat)||Ys(this._long,i._long)},t}(),Og=/^__.*__$/,Hk=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return null!==this.fieldMask?new ca(i,this.data,this.fieldMask,e,this.fieldTransforms):new Ro(i,this.data,e,this.fieldTransforms)},t}(),L2=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return new ca(i,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ux(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hr()}}var Vk=function(){function t(i,e,s,a,l,h){this.settings=i,this.databaseId=e,this.R=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Cc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(i){return new t(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.$c(i),a},t.prototype.Oc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.Cc(),a},t.prototype.Mc=function(i){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(i){return dx(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(e){return i.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return i.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},t.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(ux(this.Nc)&&Og.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),P2=function(){function t(i,e,s){this.databaseId=i,this.ignoreUndefinedProperties=e,this.R=s||nx(i)}return t.prototype.Uc=function(i,e,s,a){return void 0===a&&(a=!1),new Vk({Nc:i,methodName:e,qc:s,path:ju.emptyPath(),kc:!1,Bc:a},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Yb(t){var i=t._freezeSettings(),e=nx(t._databaseId);return new P2(t._databaseId,!!i.ignoreUndefinedProperties,e)}function qw(t,i,e,s,a,l){void 0===l&&(l={});var h=t.Uc(l.merge||l.mergeFields?2:0,i,e,a);$w("Data must be an object, but it was:",h,s);var y,C,P=qk(s,h);if(l.merge)y=new dp(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){for(var j=[],te=0,he=l.mergeFields;te<he.length;te++){var Ce=Qw(i,he[te],e);if(!h.contains(Ce))throw new In(Dn.INVALID_ARGUMENT,"Field '"+Ce+"' is specified in your field mask but missing from your input data.");hx(j,Ce)||j.push(Ce)}y=new dp(j),C=h.fieldTransforms.filter(function(Le){return y.covers(Le.field)})}else y=null,C=h.fieldTransforms;return new Hk(new Sl(P),y,C)}var cM=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},i.prototype.isEqual=function(e){return e instanceof i},i}(Bb);function Uk(t,i,e){return new Vk({Nc:3,qc:i.settings.qc,methodName:t._methodName,kc:e},i.databaseId,i.R,i.ignoreUndefinedProperties)}var uM=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype._toFieldTransform=function(e){return new io(e.path,new jn)},i.prototype.isEqual=function(e){return e instanceof i},i}(Bb),jk=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,yt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=Uk(this,e,!0),a=this.Kc.map(function(h){return Dv(h,s)}),l=new ui(a);return new io(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(Bb),dM=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,yt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=Uk(this,e,!0),a=this.Kc.map(function(h){return Dv(h,s)}),l=new ar(a);return new io(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(Bb),Zk=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Qc=s,a}return(0,yt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=new Fr(e.R,Wn(e.R,this.Qc));return new io(e.path,s)},i.prototype.isEqual=function(e){return this===e},i}(Bb);function hM(t,i,e,s){var a=t.Uc(1,i,e);$w("Data must be an object, but it was:",a,s);var l=[],h=Sl.empty();wf(s,function(C,P){var j=fM(i,C,e);P=(0,Ds.m9)(P);var te=a.Oc(j);if(P instanceof cM)l.push(j);else{var he=Dv(P,te);null!=he&&(l.push(j),h.set(j,he))}});var y=new dp(l);return new L2(h,y,a.fieldTransforms)}function Wk(t,i,e,s,a,l){var h=t.Uc(1,i,e),y=[Qw(i,s,e)],C=[a];if(l.length%2!=0)throw new In(Dn.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var P=0;P<l.length;P+=2)y.push(Qw(i,l[P])),C.push(l[P+1]);for(var j=[],te=Sl.empty(),he=y.length-1;he>=0;--he)if(!hx(j,y[he])){var Ce=y[he],Le=C[he];Le=(0,Ds.m9)(Le);var je=h.Oc(Ce);if(Le instanceof cM)j.push(Ce);else{var tt=Dv(Le,je);null!=tt&&(j.push(Ce),te.set(Ce,tt))}}var vt=new dp(j);return new L2(te,vt,h.fieldTransforms)}function Gk(t,i,e,s){return void 0===s&&(s=!1),Dv(e,t.Uc(s?4:3,i))}function Dv(t,i){if(pM(t=(0,Ds.m9)(t)))return $w("Unsupported field value:",i,t),qk(t,i);if(t instanceof Bb)return function(e,s){if(!ux(s.Nc))throw s.Lc(e._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(e._methodName+"() is not currently supported inside arrays");var a=e._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,i),null;if(void 0===t&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),t instanceof Array){if(i.settings.kc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(e,s){for(var a=[],l=0,h=0,y=e;h<y.length;h++){var C=Dv(y[h],s.Mc(l));null==C&&(C={nullValue:"NULL_VALUE"}),a.push(C),l++}return{arrayValue:{values:a}}}(t,i)}return function(e,s){if(null===(e=(0,Ds.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wn(s.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var a=Rc.fromDate(e);return{timestampValue:hm(s.R,a)}}if(e instanceof Rc)return a=new Rc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:hm(s.R,a)};if(e instanceof Gw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ev)return{bytesValue:S_(s.R,e._byteString)};if(e instanceof pc){var l=e.firestore._databaseId;if(!l.isEqual(a=s.databaseId))throw s.Lc("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+a.projectId+"/"+a.database);return{referenceValue:Ig(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Lc("Unsupported field value: "+jw(e))}(t,i)}function qk(t,i){var e={};return hy(t)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):wf(t,function(s,a){var l=Dv(a,i.Fc(s));null!=l&&(e[s]=l)}),{mapValue:{fields:e}}}function pM(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rc||t instanceof Gw||t instanceof Ev||t instanceof pc||t instanceof Bb)}function $w(t,i,e){if(!pM(e)||"object"!=typeof(a=e)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){var s=jw(e);throw i.Lc("an object"===s?t+" a custom object":t+" "+s)}var a}function Qw(t,i,e){if((i=(0,Ds.m9)(i))instanceof _p)return i._internalPath;if("string"==typeof i)return fM(t,i);throw dx("Field path arguments must be of type string or FieldPath.",t,!1,void 0,e)}var O2=new RegExp("[~\\*/\\[\\]]");function fM(t,i,e){if(i.search(O2)>=0)throw dx("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,e);try{return(new(_p.bind.apply(_p,(0,yt.ev)([void 0],i.split(".")))))._internalPath}catch(s){throw dx("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,e)}}function dx(t,i,e,s,a){var l=s&&!s.isEmpty(),h=void 0!==a,y="Function "+i+"() called with invalid data";e&&(y+=" (via `toFirestore()`)");var C="";return(l||h)&&(C+=" (found",l&&(C+=" in field "+s),h&&(C+=" in document "+a),C+=")"),new In(Dn.INVALID_ARGUMENT,(y+=". ")+t+C)}function hx(t,i){return t.some(function(e){return e.isEqual(i)})}var px=function(){function t(i,e,s,a,l){this._firestore=i,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pc(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var i=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(i){if(this._document){var e=this._document.data.field(Av("DocumentSnapshot.get",i));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),$k=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype.data=function(){return t.prototype.data.call(this)},i}(px);function Av(t,i){return"string"==typeof i?fM(t,i):i instanceof _p?i._internalPath:i._delegate._internalPath}var Rg=function(){function t(i,e){this.hasPendingWrites=i,this.fromCache=e}return t.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},t}(),Df=function(t){function i(e,s,a,l,h,y){var C=this;return(C=t.call(this,e,s,a,l,y)||this)._firestore=e,C._firestoreImpl=e,C.metadata=h,C}return(0,yt.ZT)(i,t),i.prototype.exists=function(){return t.prototype.exists.call(this)},i.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var s=new fx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},i.prototype.get=function(e,s){if(void 0===s&&(s={}),this._document){var a=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}},i}(px),fx=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},i}(Df),Oy=function(){function t(i,e,s,a){this._firestore=i,this._userDataWriter=e,this._snapshot=a,this.metadata=new Rg(a.hasPendingWrites,a.fromCache),this.query=s}return Object.defineProperty(t.prototype,"docs",{get:function(){var i=[];return this.forEach(function(e){return i.push(e)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i,e){var s=this;this._snapshot.docs.forEach(function(a){i.call(e,new fx(s._firestore,s._userDataWriter,a.key,a,new Rg(s._snapshot.mutatedKeys.has(a.key),s._snapshot.fromCache),s.query.converter))})},t.prototype.docChanges=function(i){void 0===i&&(i={});var e=!!i.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new In(Dn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){var l=0;return s._snapshot.docChanges.map(function(y){return{type:"added",doc:new fx(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Rg(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}})}var h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(y){return a||3!==y.type}).map(function(y){var C=new fx(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Rg(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),P=-1,j=-1;return 0!==y.type&&(P=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(j=(h=h.add(y.doc)).indexOf(y.doc.key)),{type:AF(y.type),doc:C,oldIndex:P,newIndex:j}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function AF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hr()}}function Qk(t,i){return t instanceof Df&&i instanceof Df?t._firestore===i._firestore&&t._key.isEqual(i._key)&&(null===t._document?null===i._document:t._document.isEqual(i._document))&&t._converter===i._converter:t instanceof Oy&&i instanceof Oy&&t._firestore===i._firestore&&lM(t.query,i.query)&&t.metadata.isEqual(i.metadata)&&t._snapshot.isEqual(i._snapshot)}function Jk(t){if(re(t)&&0===t.explicitOrderBy.length)throw new In(Dn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mx=function(){};function Ry(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var s=0,a=i;s<a.length;s++){var l=a[s];t=l._apply(t)}return t}var R2=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).jc=e,l.Wc=s,l.Gc=a,l.type="where",l}return(0,yt.ZT)(i,t),i.prototype._apply=function(e){var l,y,s=Yb(e.firestore),a=function(l,h,y,C,P,j,te){var he;if(P.isKeyField()){if("array-contains"===j||"array-contains-any"===j)throw new In(Dn.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+j+"' queries on FieldPath.documentId().");if("in"===j||"not-in"===j){Hb(te,j);for(var Ce=[],Le=0,je=te;Le<je.length;Le++)Ce.push(tE(C,l,je[Le]));he={arrayValue:{values:Ce}}}else he=tE(C,l,te)}else"in"!==j&&"not-in"!==j&&"array-contains-any"!==j||Hb(te,j),he=Gk(y,"where",te,"in"===j||"not-in"===j);var vt=fd.create(P,j,he);return function(Wt,nn){if(nn.g()){var mn=xe(Wt);if(null!==mn&&!mn.isEqual(nn.field))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+mn.toString()+"' and '"+nn.field.toString()+"'");var hn=me(Wt);null!==hn&&nE(0,nn.field,hn)}var qn=function(ai,Oi){for(var Pi=0,ws=ai.filters;Pi<ws.length;Pi++){var fo=ws[Pi];if(Oi.indexOf(fo.op)>=0)return fo.op}return null}(Wt,function(ai){switch(ai){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(nn.op));if(null!==qn)throw new In(Dn.INVALID_ARGUMENT,qn===nn.op?"Invalid query. You cannot use more than one '"+nn.op.toString()+"' filter.":"Invalid query. You cannot use '"+nn.op.toString()+"' filters with '"+qn.toString()+"' filters.")}(l,vt),vt}(e._query,0,s,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qp(e.firestore,e.converter,(y=(l=e._query).filters.concat([a]),new L(l.path,l.collectionGroup,l.explicitOrderBy.slice(),y,l.limit,l.limitType,l.startAt,l.endAt)))},i}(mx),F2=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).jc=e,a.zc=s,a.type="orderBy",a}return(0,yt.ZT)(i,t),i.prototype._apply=function(e){var a,h,s=function(a,l,h){if(null!==a.startAt)throw new In(Dn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new In(Dn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var y=new _(l,h);return function(C,P){if(null===me(C)){var j=xe(C);null!==j&&nE(0,j,P.field)}}(a,y),y}(e._query,this.jc,this.zc);return new Qp(e.firestore,e.converter,(h=(a=e._query).explicitOrderBy.concat([s]),new L(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)))},i}(mx),Xk=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Hc=s,l.Jc=a,l}return(0,yt.ZT)(i,t),i.prototype._apply=function(e){return new Qp(e.firestore,e.converter,et(e._query,this.Hc,this.Jc))},i}(mx),Kk=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,yt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=N2(e,this.type,this.Yc,this.Xc);return new Qp(e.firestore,e.converter,(l=s,new L((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)))},i}(mx),eE=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,yt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=N2(e,this.type,this.Yc,this.Xc);return new Qp(e.firestore,e.converter,(l=s,new L((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)))},i}(mx);function N2(t,i,e,s){if(e[0]=(0,Ds.m9)(e[0]),e[0]instanceof px)return function(l,h,y,C,P){if(!C)throw new In(Dn.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+y+"().");for(var j=[],te=0,he=Oe(l);te<he.length;te++){var Ce=he[te];if(Ce.field.isKeyField())j.push(w_(h,C.key));else{var Le=C.data.field(Ce.field);if(Ym(Le))throw new In(Dn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){var je=Ce.field.canonicalString();throw new In(Dn.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+je+"' (used as the orderBy) does not exist.")}j.push(Le)}}return new ja(j,P)}(t._query,t.firestore._databaseId,i,e[0]._document,s);var a=Yb(t.firestore);return function(l,h,y,C,P,j){var te=l.explicitOrderBy;if(P.length>te.length)throw new In(Dn.INVALID_ARGUMENT,"Too many arguments provided to "+C+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var he=[],Ce=0;Ce<P.length;Ce++){var Le=P[Ce];if(te[Ce].field.isKeyField()){if("string"!=typeof Le)throw new In(Dn.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+C+"(), but got a "+typeof Le);if(!Se(l)&&-1!==Le.indexOf("/"))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+C+"() must be a plain document ID, but '"+Le+"' contains a slash.");var je=l.path.child(uo.fromString(Le));if(!pr.isDocumentKey(je))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+C+"() must result in a valid document path, but '"+je+"' is not because it contains an odd number of segments.");var tt=new pr(je);he.push(w_(h,tt))}else{var vt=Gk(y,C,Le);he.push(vt)}}return new ja(he,j)}(t._query,t.firestore._databaseId,a,i,e,s)}function tE(t,i,e){if("string"==typeof(e=(0,Ds.m9)(e))){if(""===e)throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Se(i)&&-1!==e.indexOf("/"))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var s=i.path.child(uo.fromString(e));if(!pr.isDocumentKey(s))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return w_(t,new pr(s))}if(e instanceof pc)return w_(t,e._key);throw new In(Dn.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jw(e)+".")}function Hb(t,i){if(!Array.isArray(t)||0===t.length)throw new In(Dn.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(t.length>10)throw new In(Dn.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function nE(t,i,e){if(!e.isEqual(i))throw new In(Dn.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var mM=function(){function t(){}return t.prototype.convertValue=function(i,e){switch(void 0===e&&(e="none"),Cf(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Ml(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,e);case 5:return i.stringValue;case 6:return this.convertBytes(Bm(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,e);case 10:return this.convertObject(i.mapValue,e);default:throw hr()}},t.prototype.convertObject=function(i,e){var s=this,a={};return wf(i.fields,function(l,h){a[l]=s.convertValue(h,e)}),a},t.prototype.convertGeoPoint=function(i){return new Gw(Ml(i.latitude),Ml(i.longitude))},t.prototype.convertArray=function(i,e){var s=this;return(i.values||[]).map(function(a){return s.convertValue(a,e)})},t.prototype.convertServerTimestamp=function(i,e){switch(e){case"previous":var s=Nc(i);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(pp(i));default:return null}},t.prototype.convertTimestamp=function(i){var e=hp(i);return new Rc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(i,e){var s=uo.fromString(i);Hr(Vr(s));var a=new Uw(s.get(1),s.get(3)),l=new pr(s.popFirst(5));return a.isEqual(e)||cc("Document "+l+" contains a document reference within a different database ("+a.projectId+"/"+a.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),l},t}();function Jw(t,i,e){return t?e&&(e.merge||e.mergeFields)?t.toFirestore(i,e):t.toFirestore(i):i}var Xw=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,yt.ZT)(i,t),i.prototype.convertBytes=function(e){return new Ev(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new pc(this.firestore,null,s)},i}(mM),Iv=function(){function t(i,e){this._firestore=i,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Yb(i)}return t.prototype.set=function(i,e,s){this._verifyNotCommitted();var a=F_(i,this._firestore),l=Jw(a.converter,e,s),h=qw(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,As.none())),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];this._verifyNotCommitted();var h,y=F_(i,this._firestore);return h="string"==typeof(e=(0,Ds.m9)(e))||e instanceof _p?Wk(this._dataReader,"WriteBatch.update",y._key,e,s,a):hM(this._dataReader,"WriteBatch.update",y._key,e),this._mutations.push(h.toMutation(y._key,As.exists(!0))),this},t.prototype.delete=function(i){this._verifyNotCommitted();var e=F_(i,this._firestore);return this._mutations=this._mutations.concat(new pl(e._key,As.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new In(Dn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function F_(t,i){if((t=(0,Ds.m9)(t)).firestore!==i)throw new In(Dn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Lv=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,yt.ZT)(i,t),i.prototype.convertBytes=function(e){return new Ev(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new pc(this.firestore,null,s)},i}(mM);function z2(t,i,e){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];t=zo(t,pc);var l=zo(t.firestore,rl),h=Yb(l);return Fy(l,[("string"==typeof(i=(0,Ds.m9)(i))||i instanceof _p?Wk(h,"updateDoc",t._key,i,e,s):hM(h,"updateDoc",t._key,i)).toMutation(t._key,As.exists(!0))])}function iE(t){for(var i,e,s,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];t=(0,Ds.m9)(t);var h={includeMetadataChanges:!1},y=0;"object"!=typeof a[y]||kv(a[y])||(h=a[y],y++);var C,P,j,te={includeMetadataChanges:h.includeMetadataChanges};if(kv(a[y])){var he=a[y];a[y]=null===(i=he.next)||void 0===i?void 0:i.bind(he),a[y+1]=null===(e=he.error)||void 0===e?void 0:e.bind(he),a[y+2]=null===(s=he.complete)||void 0===s?void 0:s.bind(he)}if(t instanceof pc)P=zo(t.firestore,rl),j=V(t._key.path),C={next:function(je){a[y]&&a[y](gM(P,t,je))},error:a[y+1],complete:a[y+2]};else{var Ce=zo(t,Qp);P=zo(Ce.firestore,rl),j=Ce._query;var Le=new Lv(P);C={next:function(je){a[y]&&a[y](new Oy(P,Le,Ce,je))},error:a[y+1],complete:a[y+2]},Jk(t._query)}return function(je,tt,vt,Wt){var nn=this,mn=new Yw(Wt),hn=new Ow(tt,mn,vt);return je.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(nn,void 0,void 0,function(){var qn;return(0,yt.Jh)(this,function(ai){switch(ai.label){case 0:return qn=dk,[4,zb(je)];case 1:return[2,qn.apply(void 0,[ai.sent(),hn])]}})})}),function(){mn.Wo(),je.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(nn,void 0,void 0,function(){var qn;return(0,yt.Jh)(this,function(ai){switch(ai.label){case 0:return qn=Lw,[4,zb(je)];case 1:return[2,qn.apply(void 0,[ai.sent(),hn])]}})})})}}(Kd(P),j,te,C)}function Fy(t,i){return function(e,s){var a=this,l=new Zu;return e.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(a,void 0,void 0,function(){var h;return(0,yt.Jh)(this,function(y){switch(y.label){case 0:return h=g2,[4,ax(e)];case 1:return[2,h.apply(void 0,[y.sent(),s,l])]}})})}),l.promise}(Kd(t),i)}function gM(t,i,e){var s=e.docs.get(i._key),a=new Lv(t);return new Df(t,a,i._key,s,new Rg(e.hasPendingWrites,e.fromCache),i.converter)}var B2=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this)._firestore=e,a}return(0,yt.ZT)(i,t),i.prototype.get=function(e){var s=this,a=F_(e,this._firestore),l=new Lv(this._firestore);return t.prototype.get.call(this,e).then(function(h){return new Df(s._firestore,l,a._key,h._document,new Rg(!1,!1),a.converter)})},i}(function(){function t(i,e){this._firestore=i,this._transaction=e,this._dataReader=Yb(i)}return t.prototype.get=function(i){var e=this,s=F_(i,this._firestore),a=new Xw(this._firestore);return this._transaction.lookup([s._key]).then(function(l){if(!l||1!==l.length)return hr();var h=l[0];if(h.isFoundDocument())return new px(e._firestore,a,h.key,h,s.converter);if(h.isNoDocument())return new px(e._firestore,a,s._key,null,s.converter);throw hr()})},t.prototype.set=function(i,e,s){var a=F_(i,this._firestore),l=Jw(a.converter,e,s),h=qw(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var h,y=F_(i,this._firestore);return h="string"==typeof(e=(0,Ds.m9)(e))||e instanceof _p?Wk(this._dataReader,"Transaction.update",y._key,e,s,a):hM(this._dataReader,"Transaction.update",y._key,e),this._transaction.update(y._key,h),this},t.prototype.delete=function(i){var e=F_(i,this._firestore);return this._transaction.delete(e._key),this},t}());function _M(){if("undefined"==typeof Uint8Array)throw new In(Dn.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yM(){if("undefined"==typeof atob)throw new In(Dn.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Kw=function(){function t(i){this._delegate=i}return t.fromBase64String=function(i){return yM(),new t(Ev.fromBase64String(i))},t.fromUint8Array=function(i){return _M(),new t(Ev.fromUint8Array(i))},t.prototype.toBase64=function(){return yM(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return _M(),this._delegate.toUint8Array()},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),rE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(i,e){return function(s,a){Yk(s=zo(s,rl));var l=Kd(s),h=s._freezeSettings(),y=new eM;return cx(l,y,new Ck(y,h.cacheSizeBytes,null==a?void 0:a.forceOwnership))}(i._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(e){Yk(e=zo(e,rl));var s=Kd(e),a=e._freezeSettings(),l=new eM;return cx(s,l,new Nb(l,a.cacheSizeBytes))}(i._delegate)},t.prototype.clearIndexedDbPersistence=function(i){return function(e){var s=this;if(e._initialized&&!e._terminated)throw new In(Dn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var a=new Zu;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,yt.mG)(s,void 0,void 0,function(){var l;return(0,yt.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,function(y){return(0,yt.mG)(this,void 0,void 0,function(){return(0,yt.Jh)(this,function(P){switch(P.label){case 0:return wb.yt()?[4,wb.delete(y+"main")]:[2,Promise.resolve()];case 1:return P.sent(),[2]}})})}(PC(e._databaseId,e._persistenceKey))];case 1:return h.sent(),a.resolve(),[3,3];case 2:return l=h.sent(),a.reject(l),[3,3];case 3:return[2]}})})}),a.promise}(i._delegate)},t}(),vM=function(){function t(i,e,s){var a=this;this._delegate=e,this.Zc=s,this.INTERNAL={delete:function(){return a.terminate()}},i instanceof Uw||(this.tu=i)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(i){var e=this._delegate._getSettings();i.merge||e.host===i.host||up("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},e),i)).merge,this._delegate._setSettings(i)},t.prototype.useEmulator=function(i,e,s){void 0===s&&(s={}),function(a,l,h,y){void 0===y&&(y={});var C=(a=zo(a,Sv))._getSettings();if("firestore.googleapis.com"!==C.host&&C.host!==l&&up("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},C),{host:l+":"+h,ssl:!1})),y.mockUserToken){var P=(0,Ds.Sg)(y.mockUserToken),j=y.mockUserToken.sub||y.mockUserToken.user_id;if(!j)throw new In(Dn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a._credentials=new D2(new Ik(P,new Fh(j)))}}(this._delegate,i,e,s)},t.prototype.enableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,yt.mG)(e,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,kk(i)];case 1:return s=l.sent(),[4,Ek(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!0),h=a,y=Li(h),y.Or.delete(0),ix(y))]}var h,y})})})}(Kd(zo(this._delegate,rl)))},t.prototype.disableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,yt.mG)(e,void 0,void 0,function(){var s,a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return[4,kk(i)];case 1:return s=l.sent(),[4,Ek(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!1),function(h){return(0,yt.mG)(this,void 0,void 0,function(){var y;return(0,yt.Jh)(this,function(C){switch(C.label){case 0:return(y=Li(h)).Or.add(0),[4,Eb(y)];case 1:return C.sent(),y.Br.set("Offline"),[2]}})})}(a))]}})})})}(Kd(zo(this._delegate,rl)))},t.prototype.enablePersistence=function(i){var e=!1,s=!1;return i&&oM("synchronizeTabs",e=!!i.synchronizeTabs,"experimentalForceOwningTab",s=!!i.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(i){var e=this,s=new Zu;return i.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(e,void 0,void 0,function(){var a;return(0,yt.Jh)(this,function(l){switch(l.label){case 0:return a=yk,[4,ax(i)];case 1:return[2,a.apply(void 0,[l.sent(),s])]}})})}),s.promise}(Kd(zo(this._delegate,rl)))},t.prototype.onSnapshotsInSync=function(i){return s=i,function(a,l){var h=this,y=new Yw(l);return a.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(h,void 0,void 0,function(){var C;return(0,yt.Jh)(this,function(P){switch(P.label){case 0:return C=function(j,te){Li(j).Gr.add(te),te.next()},[4,zb(a)];case 1:return[2,C.apply(void 0,[P.sent(),y])]}})})}),function(){y.Wo(),a.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(h,void 0,void 0,function(){var C;return(0,yt.Jh)(this,function(P){switch(P.label){case 0:return C=function(j,te){Li(j).Gr.delete(te)},[4,zb(a)];case 1:return[2,C.apply(void 0,[P.sent(),y])]}})})})}}(Kd(zo(this._delegate,rl)),kv(s)?s:{next:s});var s},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new In(Dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new ms(this,Nk(this._delegate,i))}catch(e){throw gd(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(i){try{return new Fg(this,lx(this._delegate,i))}catch(e){throw gd(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(i){try{return new Ng(this,function(e,s){if(e=zo(e,Sv),rM("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new In(Dn.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qp(e,null,(a=s,new L(uo.emptyPath(),a)));var a}(this._delegate,i))}catch(e){throw gd(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(i){var s,e=this;return function(l,h){var y=this,C=new Zu;return l.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(y,void 0,void 0,function(){var P;return(0,yt.Jh)(this,function(j){switch(j.label){case 0:return[4,(te=l,ox(te).then(function(he){return he.datastore}))];case 1:return P=j.sent(),new Tk(l.asyncQueue,P,h,C).run(),[2]}var te})})}),C.promise}(Kd(s=this._delegate),function(l){return function(s){return i(new bM(e,s))}(new B2(s,l))})},t.prototype.batch=function(){var i=this;return Kd(this._delegate),new sE(new Iv(this._delegate,function(e){return Fy(i._delegate,e)}))},t.prototype.loadBundle=function(i){throw new In(Dn.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(i){throw new In(Dn.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),e1=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,yt.ZT)(i,t),i.prototype.convertBytes=function(e){return new Kw(new Ev(e))},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return Fg.eu(s,this.firestore,null)},i}(mM),bM=function(){function t(i,e){this._firestore=i,this._delegate=e,this._userDataWriter=new e1(i)}return t.prototype.get=function(i){var e=this,s=_d(i);return this._delegate.get(s).then(function(a){return new Bo(e._firestore,new Df(e._firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,s.converter))})},t.prototype.set=function(i,e,s){var a=_d(i);return s?(sM("Transaction.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var y=_d(i);return 2===arguments.length?this._delegate.update(y,e):(a=this._delegate).update.apply(a,(0,yt.ev)([y,e,s],l)),this},t.prototype.delete=function(i){var e=_d(i);return this._delegate.delete(e),this},t}(),sE=function(){function t(i){this._delegate=i}return t.prototype.set=function(i,e,s){var a=_d(i);return s?(sM("WriteBatch.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var y=_d(i);return 2===arguments.length?this._delegate.update(y,e):(a=this._delegate).update.apply(a,(0,yt.ev)([y,e,s],l)),this},t.prototype.delete=function(i){var e=_d(i);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),gx=function(){function t(i,e,s){this._firestore=i,this._userDataWriter=e,this._delegate=s}return t.prototype.fromFirestore=function(i,e){var s=new fx(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new fm(this._firestore,s),null!=e?e:{})},t.prototype.toFirestore=function(i,e){return e?this._delegate.toFirestore(i,e):this._delegate.toFirestore(i)},t.nu=function(i,e){var s=t.su,a=s.get(i);a||(a=new WeakMap,s.set(i,a));var l=a.get(e);return l||(l=new t(i,new e1(i),e),a.set(e,l)),l},t}();gx.su=new WeakMap;var Fg=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new e1(i)}return t.iu=function(i,e,s){if(i.length%2!=0)throw new In(Dn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new t(e,new pc(e._delegate,s,new pr(i)))},t.eu=function(i,e,s){return new t(e,new pc(e._delegate,s,i))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ms(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new ms(this.firestore,Nk(this._delegate,i))}catch(e){throw gd(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(i){return(i=(0,Ds.m9)(i))instanceof pc&&zk(this._delegate,i)},t.prototype.set=function(i,e){e=sM("DocumentReference.set",e);try{return function(s,a,l){s=zo(s,pc);var h=zo(s.firestore,rl),y=Jw(s.converter,a,l);return Fy(h,[qw(Yb(h),"setDoc",s._key,y,null!==s.converter,l).toMutation(s._key,As.none())])}(this._delegate,i,e)}catch(s){throw gd(s,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(i,e){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];try{return 1===arguments.length?z2(this._delegate,i):z2.apply(void 0,(0,yt.ev)([this._delegate,i,e],s))}catch(l){throw gd(l,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Fy(zo((i=this._delegate).firestore,rl),[new pl(i._key,As.none())]);var i},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=H2(e),l=Vb(e,function(h){return new Bo(i.firestore,new Df(i.firestore._delegate,i._userDataWriter,h._key,h._document,h.metadata,i._delegate.converter))});return iE(this._delegate,a,l)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=zo(s,pc);var a=zo(s.firestore,rl),l=Kd(a),h=new Lv(a);return function(y,C){var P=this,j=new Zu;return y.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(P,void 0,void 0,function(){var te;return(0,yt.Jh)(this,function(he){switch(he.label){case 0:return te=function(Ce,Le,je){return(0,yt.mG)(this,void 0,void 0,function(){var tt,vt;return(0,yt.Jh)(this,function(Wt){switch(Wt.label){case 0:return Wt.trys.push([0,2,,3]),[4,(nn=Ce,mn=Le,hn=Li(nn),hn.persistence.runTransaction("read document","readonly",function(qn){return hn.Mn.mn(qn,mn)}))];case 1:return(vt=Wt.sent()).isFoundDocument()?je.resolve(vt):vt.isNoDocument()?je.resolve(null):je.reject(new In(Dn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return tt=Wt.sent(),vt=Ib(tt,"Failed to get document '"+Le+" from cache"),je.reject(vt),[3,3];case 3:return[2]}var nn,mn,hn})})},[4,nM(y)];case 1:return[2,te.apply(void 0,[he.sent(),C,j])]}})})}),j.promise}(l,s._key).then(function(y){return new Df(a,h,s._key,y,new Rg(null!==y&&y.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=zo(s,pc);var a=zo(s.firestore,rl);return iM(Kd(a),s._key,{source:"server"}).then(function(l){return gM(a,s,l)})}(this._delegate):function(s){s=zo(s,pc);var a=zo(s.firestore,rl);return iM(Kd(a),s._key).then(function(l){return gM(a,s,l)})}(this._delegate)).then(function(s){return new Bo(e.firestore,new Df(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))})},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?gx.nu(this.firestore,i):null))},t}();function gd(t,i,e){return t.message=t.message.replace(i,e),t}function H2(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];if("object"==typeof s&&!kv(s))return s}return{}}function Vb(t,i){var e,s,a;return{next:function(l){a.next&&a.next(i(l))},error:null===(e=(a=kv(t[0])?t[0]:kv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===e?void 0:e.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}var Bo=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Fg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(i){return this._delegate.data(i)},t.prototype.get=function(i,e){return this._delegate.get(i,e)},t.prototype.isEqual=function(i){return Qk(this._delegate,i._delegate)},t}(),fm=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,yt.ZT)(i,t),i.prototype.data=function(e){return this._delegate.data(e)},i}(Bo),Ng=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new e1(i)}return t.prototype.where=function(i,e,s){try{return new t(this.firestore,Ry(this._delegate,(h=s,y=e,C=Av("where",a=i),new R2(C,y,h))))}catch(a){throw gd(a,/(orderBy|where)\(\)/,"Query.$1()")}var a,h,y,C},t.prototype.orderBy=function(i,e){try{return new t(this.firestore,Ry(this._delegate,function(s,a){void 0===a&&(a="asc");var l=a,h=Av("orderBy",s);return new F2(h,l)}(i,e)))}catch(s){throw gd(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(i){try{return new t(this.firestore,Ry(this._delegate,(Zw("limit",e=i),new Xk("limit",e,"F"))))}catch(e){throw gd(e,"limit()","Query.limit()")}var e},t.prototype.limitToLast=function(i){try{return new t(this.firestore,Ry(this._delegate,(Zw("limitToLast",e=i),new Xk("limitToLast",e,"L"))))}catch(e){throw gd(e,"limitToLast()","Query.limitToLast()")}var e},t.prototype.startAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,Ry(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Kk("startAt",s,!0)}.apply(void 0,i)))}catch(s){throw gd(s,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,Ry(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Kk("startAfter",s,!1)}.apply(void 0,i)))}catch(s){throw gd(s,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,Ry(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new eE("endBefore",s,!0)}.apply(void 0,i)))}catch(s){throw gd(s,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,Ry(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new eE("endAt",s,!1)}.apply(void 0,i)))}catch(s){throw gd(s,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(i){return lM(this._delegate,i._delegate)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=zo(s,Qp);var a=zo(s.firestore,rl),l=Kd(a),h=new Lv(a);return function(y,C){var P=this,j=new Zu;return y.asyncQueue.enqueueAndForget(function(){return(0,yt.mG)(P,void 0,void 0,function(){var te;return(0,yt.Jh)(this,function(he){switch(he.label){case 0:return te=function(Ce,Le,je){return(0,yt.mG)(this,void 0,void 0,function(){var tt,vt,Wt,nn,mn;return(0,yt.Jh)(this,function(hn){switch(hn.label){case 0:return hn.trys.push([0,2,,3]),[4,X0(Ce,Le,!0)];case 1:return mn=hn.sent(),tt=new mk(Le,mn.Bn),vt=tt._o(mn.documents),Wt=tt.applyChanges(vt,!1),je.resolve(Wt.snapshot),[3,3];case 2:return nn=hn.sent(),mn=Ib(nn,"Failed to execute query '"+Le+" against cache"),je.reject(mn),[3,3];case 3:return[2]}})})},[4,nM(y)];case 1:return[2,te.apply(void 0,[he.sent(),C,j])]}})})}),j.promise}(l,s._query).then(function(y){return new Oy(a,h,s,y)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=zo(s,Qp);var a=zo(s.firestore,rl),l=Kd(a),h=new Lv(a);return Dk(l,s._query,{source:"server"}).then(function(y){return new Oy(a,h,s,y)})}(this._delegate):function(s){s=zo(s,Qp);var a=zo(s.firestore,rl),l=Kd(a),h=new Lv(a);return Jk(s._query),Dk(l,s._query).then(function(y){return new Oy(a,h,s,y)})}(this._delegate)).then(function(s){return new oE(e.firestore,new Oy(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))})},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=H2(e),l=Vb(e,function(h){return new oE(i.firestore,new Oy(i.firestore._delegate,i._userDataWriter,i._delegate,h._snapshot))});return iE(this._delegate,a,l)},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?gx.nu(this.firestore,i):null))},t}(),_x=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new fm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),oE=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ng(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(e){return new fm(i._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(i){var e=this;return this._delegate.docChanges(i).map(function(s){return new _x(e._firestore,s)})},t.prototype.forEach=function(i,e){var s=this;this._delegate.forEach(function(a){i.call(e,new fm(s._firestore,a))})},t.prototype.isEqual=function(i){return Qk(this._delegate,i._delegate)},t}(),ms=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).firestore=e,a._delegate=s,a}return(0,yt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Fg(this.firestore,e):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(e){try{return new Fg(this.firestore,void 0===e?lx(this._delegate):lx(this._delegate,e))}catch(s){throw gd(s,"doc()","CollectionReference.doc()")}},i.prototype.add=function(e){var a,l,h,y,C,s=this;return(a=this._delegate,l=e,h=zo(a.firestore,rl),y=lx(a),C=Jw(a.converter,l),Fy(h,[qw(Yb(a.firestore),"addDoc",y._key,C,null!==a.converter,{}).toMutation(y._key,As.exists(!1))]).then(function(){return y})).then(function(a){return new Fg(s.firestore,a)})},i.prototype.isEqual=function(e){return zk(this._delegate,e._delegate)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?gx.nu(this.firestore,e):null))},i}(Ng);function _d(t){return zo(t,pc)}var xM=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];this._delegate=new(_p.bind.apply(_p,(0,yt.ev)([void 0],i)))}return t.documentId=function(){return new t(ju.keyField().canonicalString())},t.prototype.isEqual=function(i){return(i=(0,Ds.m9)(i))instanceof _p&&this._delegate._internalPath.isEqual(i._internalPath)},t}(),Pv=function(){function t(i){this._delegate=i}return t.serverTimestamp=function(){var i=new uM("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new t(i)},t.delete=function(){var i=new cM("deleteField");return i._methodName="FieldValue.delete",new t(i)},t.arrayUnion=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new jk("arrayUnion",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayUnion",new t(s)},t.arrayRemove=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new dM("arrayRemove",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayRemove",new t(s)},t.increment=function(i){var e=new Zk("increment",i);return e._methodName="FieldValue.increment",new t(e)},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t}(),aE=Ae(6034),IF={Firestore:vM,GeoPoint:Gw,Timestamp:Rc,Blob:Kw,Transaction:bM,WriteBatch:sE,DocumentReference:Fg,DocumentSnapshot:Bo,Query:Ng,QueryDocumentSnapshot:fm,QuerySnapshot:oE,CollectionReference:ms,FieldPath:xM,FieldValue:Pv,setLogLevel:function(t){va.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Af(t,i){return function(t,i=Js.z){return new Or.y(e=>{let s;return null!=i?i.schedule(()=>{s=t.onSnapshot({includeMetadataChanges:!0},e)}):s=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(t,i)}function If(t,i){return Af(t,i).pipe((0,Fi.U)(e=>({payload:e,type:"query"})))}function yx(t,i){return If(t,i).pipe(Oo(void 0),Ic(),(0,Fi.U)(([e,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,y)=>{const C=a.find(j=>j.doc.ref.isEqual(h.ref)),P=null==e?void 0:e.payload.docs.find(j=>j.ref.isEqual(h.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(h.metadata)||!C&&P&&JSON.stringify(P.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),l}))}function lE(t,i,e){return yx(t,e).pipe(Ja((s,a)=>function(t,i,e){return i.forEach(s=>{e.indexOf(s.type)>-1&&(t=function(t,i){switch(i.type){case"added":if(!t[i.newIndex]||!t[i.newIndex].doc.ref.isEqual(i.doc.ref))return vx(t,i.newIndex,0,i);break;case"modified":if(null==t[i.oldIndex]||t[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const e=t.slice();return e.splice(i.oldIndex,1),e.splice(i.newIndex,0,i),e}return vx(t,i.newIndex,1,i)}break;case"removed":if(t[i.oldIndex]&&t[i.oldIndex].doc.ref.isEqual(i.doc.ref))return vx(t,i.oldIndex,1)}return t}(t,s))}),t}(s,a.map(l=>l.payload),i),[]),cu(),(0,Fi.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function vx(t,i,e,...s){const a=t.slice();return a.splice(i,e,...s),a}function jb(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){t.INTERNAL.registerComponent(new aE.wA("firestore",function(s){return i=s.getProvider("app").getImmediate(),e=s.getProvider("auth-internal"),new vM(i,new rl(i,e),new rE);var i,e},"PUBLIC").setServiceProps(Object.assign({},IF))),t.registerVersion("@firebase/firestore","2.3.10")}(Br.Z);class uE{constructor(i,e,s){this.ref=i,this.query=e,this.afs=s}stateChanges(i){let e=yx(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(e=e.pipe((0,Fi.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),e.pipe(Oo(void 0),Ic(),T(([s,a])=>a.length>0||!s),(0,Fi.U)(([s,a])=>a),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Ja((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=jb(i);return lE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return If(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.U)(e=>e.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Ws.D)(this.query.get(i)).pipe((0,Xo.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new Ny(this.ref.doc(i),this.afs)}}class Ny{constructor(i,e){this.ref=i,this.afs=e}set(i,e){return this.ref.set(i,e)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,e){const s=this.ref.collection(i),{ref:a,query:l}=wM(s,e);return new uE(a,l,this.afs)}snapshotChanges(){return function(t,i){return Af(t,i).pipe(Oo(void 0),Ic(),(0,Fi.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Fi.U)(({payload:e})=>i.idField?Object.assign(Object.assign({},e.data()),{[i.idField]:e.id}):e.data()))}get(i){return(0,Ws.D)(this.ref.get(i)).pipe((0,Xo.QV)(this.afs.schedulers.insideAngular))}}class Z2{constructor(i,e){this.query=i,this.afs=e}stateChanges(i){return i&&0!==i.length?yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.U)(e=>e.filter(s=>i.indexOf(s.type)>-1)),T(e=>e.length>0),this.afs.keepUnstableUntilFirst):yx(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Ja((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=jb(i);return lE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return If(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Ws.D)(this.query.get(i)).pipe((0,Xo.QV)(this.afs.schedulers.insideAngular))}}const t1=new o.OlP("angularfire2.enableFirestorePersistence"),bx=new o.OlP("angularfire2.firestore.persistenceSettings"),Zb=new o.OlP("angularfire2.firestore.settings"),n1=new o.OlP("angularfire2.firestore.use-emulator");function wM(t,i=(e=>e)){return{query:i(t),ref:t}}let Co=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j){this.schedulers=new Cr.HU(y),this.keepUnstableUntilFirst=(0,Cr.ss)(this.schedulers);const te=(0,Cr.on)(e,y,s);!Xn.Z.auth&&j&&(0,Cr.yq)();const he=P;[this.firestore,this.persistenceEnabled$]=(0,Cr.sI)(`${te.name}.firestore`,"AngularFirestore",te,()=>{const Ce=y.runOutsideAngular(()=>te.firestore());if(l&&Ce.settings(l),he&&Ce.useEmulator(...he),a&&!Sd(h)){const Le=()=>{try{return(0,Ws.D)(Ce.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(je){return"undefined"!=typeof console&&console.warn(je),(0,Di.of)(!1)}};return[Ce,y.runOutsideAngular(Le)]}return[Ce,(0,Di.of)(!1)]},[l,he,a])}collection(e,s){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=wM(a,s),y=this.schedulers.ngZone.run(()=>l);return new uE(y,h,this)}collectionGroup(e,s){const a=s||(h=>h),l=this.firestore.collectionGroup(e);return new Z2(a(l),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>s);return new Ny(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(t1,8),o.LFG(Zb,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bx,8),o.LFG(n1,8),o.LFG(Sn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(t1,8),o.LFG(Zb,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bx,8),o.LFG(n1,8),o.LFG(Sn,8))},token:t,providedIn:"any"}),t})(),W2=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:t1,useValue:!0},{provide:bx,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Co]}),t})();class mc extends ri.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return e&&!e.closed&&i.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hf.N;return this._value}next(i){super.next(this._value=i)}}var xx=Ae(9796),dE=Ae(6693);const CM={};function zg(...t){let i,e;return(0,$h.K)(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&(0,xx.k)(t[0])&&(t=t[0]),(0,dE.n)(t,e).lift(new G2(i))}class G2{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new MM(i,this.resultSelector))}}class MM extends uu{constructor(i,e){super(i),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(CM),this.observables.push(i)}_complete(){const i=this.observables,e=i.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(Pu(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,e,s){const a=this.values,h=this.toRespond?a[s]===CM?--this.toRespond:this.toRespond:0;a[s]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}function Wb(t){return new Or.y(i=>{let e;try{e=t()}catch(a){return void i.error(a)}return(e?(0,Ws.D)(e):(0,ge.c)()).subscribe(i)})}var LF=Ae(2441);function Ov(t){return function(e){const s=new xs(t),a=e.lift(s);return s.caught=a}}class xs{constructor(i){this.selector=i}call(i,e){return e.subscribe(new PF(i,this.selector,this.caught))}}class PF extends Uo.Ds{constructor(i,e,s){super(i),this.selector=e,this.caught=s}error(i){if(!this.isStopped){let e;try{e=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new Uo.IY(this);this.add(s);const a=(0,Uo.ft)(e,s);a!==s&&this.add(a)}}}var vu=Ae(9773);function Gb(t,i){return(0,vu.zg)(t,i,1)}function TM(t){return function(e){return 0===t?(0,ge.c)():e.lift(new q2(t))}}class q2{constructor(i){if(this.total=i,this.total<0)throw new ce}call(i,e){return e.subscribe(new OF(i,this.total))}}class OF extends Lo.L{constructor(i,e){super(i),this.total=e,this.ring=new Array,this.count=0}_next(i){const e=this.ring,s=this.total,a=this.count++;e.length<s?e.push(i):e[a%s]=i}_complete(){const i=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const h=e++%s;i.next(a[h])}}i.complete()}}var yd=Ae(3342),Nh=Ae(1307);function SM(t){return i=>i.lift(new $2(t))}class $2{constructor(i){this.callback=i}call(i,e){return e.subscribe(new kM(i,this.callback))}}class kM extends Lo.L{constructor(i,e){super(i),this.add(new Ba.w(e))}}class N_{constructor(i,e){this.id=i,this.url=e}}class EM extends N_{constructor(i,e,s="imperative",a=null){super(i,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wx extends N_{constructor(i,e,s){super(i,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hE extends N_{constructor(i,e,s){super(i,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Q2 extends N_{constructor(i,e,s){super(i,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J2 extends N_{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DM extends N_{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X2 extends N_{constructor(i,e,s,a,l){super(i,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K2 extends N_{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pE extends N_{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r1{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fE{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FF{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eL{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tL{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nL{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(i,e,s){this.routerEvent=i,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const po="primary";class iL{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bg(t){return new iL(t)}const gE="ngNavigationCancelingError";function AM(t){const i=Error("NavigationCancelingError: "+t);return i[gE]=!0,i}function Cx(t,i,e){const s=e.path.split("/");if(s.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||s.length<t.length))return null;const a={};for(let l=0;l<s.length;l++){const h=s[l],y=t[l];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function Gm(t,i){const e=t?Object.keys(t):void 0,s=i?Object.keys(i):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!yE(t[a],i[a]))return!1;return!0}function yE(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),s=[...i].sort();return e.every((a,l)=>s[l]===a)}return t===i}function vE(t){return Array.prototype.concat.apply([],t)}function bE(t){return t.length>0?t[t.length-1]:null}function eh(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function qm(t){return(0,o.CqO)(t)?t:(0,o.QGY)(t)?(0,Ws.D)(Promise.resolve(t)):(0,Di.of)(t)}const sL={exact:function s1(t,i,e){if(!Fv(t.segments,i.segments)||!o1(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!s1(t.children[s],i.children[s],e))return!1;return!0},subset:xE},oL={exact:function(t,i){return Gm(t,i)},subset:function(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>yE(t[e],i[e]))},ignored:()=>!0};function aL(t,i,e){return sL[e.paths](t.root,i.root,e.matrixParams)&&oL[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function xE(t,i,e){return wE(t,i,i.segments,e)}function wE(t,i,e,s){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Fv(a,e)||i.hasChildren()||!o1(a,e,s))}if(t.segments.length===e.length){if(!Fv(t.segments,e)||!o1(t.segments,e,s))return!1;for(const a in i.children)if(!t.children[a]||!xE(t.children[a],i.children[a],s))return!1;return!0}{const a=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!!(Fv(t.segments,a)&&o1(t.segments,a,s)&&t.children[po])&&wE(t.children[po],i,l,s)}}function o1(t,i,e){return i.every((s,a)=>oL[e](t[a].parameters,s.parameters))}class Rv{constructor(i,e,s){this.root=i,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bg(this.queryParams)),this._queryParamMap}toString(){return $m.serialize(this)}}class Mo{constructor(i,e){this.segments=i,this.children=e,this.parent=null,eh(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qb(this)}}class qb{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bg(this.parameters)),this._parameterMap}toString(){return RM(this)}}function Fv(t,i){return t.length===i.length&&t.every((e,s)=>e.path===i[s].path)}class vd{}class LM{parse(i){const e=new VF(i);return new Rv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){return`${`/${Mx(i.root,!0)}`}${function(t){const i=Object.keys(t).map(e=>{const s=t[e];return Array.isArray(s)?s.map(a=>`${Tx(e)}=${Tx(a)}`).join("&"):`${Tx(e)}=${Tx(s)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${function(t){return encodeURI(t)}(i.fragment)}`:""}`}}const $m=new LM;function Qb(t){return t.segments.map(i=>RM(i)).join("/")}function Mx(t,i){if(!t.hasChildren())return Qb(t);if(i){const e=t.children[po]?Mx(t.children[po],!1):"",s=[];return eh(t.children,(a,l)=>{l!==po&&s.push(`${l}:${Mx(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(t,i){let e=[];return eh(t.children,(s,a)=>{a===po&&(e=e.concat(i(s,a)))}),eh(t.children,(s,a)=>{a!==po&&(e=e.concat(i(s,a)))}),e}(t,(s,a)=>a===po?[Mx(t.children[po],!1)]:[`${a}:${Mx(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[po]?`${Qb(t)}/${e[0]}`:`${Qb(t)}/(${e.join("//")})`}}function PM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tx(t){return PM(t).replace(/%3B/gi,";")}function OM(t){return PM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function a1(t){return decodeURIComponent(t)}function ME(t){return a1(t.replace(/\+/g,"%20"))}function RM(t){return`${OM(t.path)}${function(t){return Object.keys(t).map(i=>`;${OM(i)}=${OM(t[i])}`).join("")}(t.parameters)}`}const uL=/^[^\/()?;=#]+/;function l1(t){const i=t.match(uL);return i?i[0]:""}const Jb=/^[^=?&#]+/,TE=/^[^?&#]+/;class VF{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mo([],{}):new Mo([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(s[po]=new Mo(i,e)),s}parseSegment(){const i=l1(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new qb(a1(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=l1(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=l1(this.remaining);a&&(s=a,this.capture(s))}i[a1(e)]=a1(s)}parseQueryParam(i){const e=function(t){const i=t.match(Jb);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const h=function(t){const i=t.match(TE);return i?i[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=ME(e),l=ME(s);if(i.hasOwnProperty(a)){let h=i[a];Array.isArray(h)||(h=[h],i[a]=h),h.push(l)}else i[a]=l}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=l1(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=po);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[po]:new Mo([],h),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class FM{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=NM(i,this._root);return e?e.children.map(s=>s.value):[]}firstChild(i){const e=NM(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=Sx(i,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return Sx(i,this._root).map(e=>e.value)}}function NM(t,i){if(t===i.value)return i;for(const e of i.children){const s=NM(t,e);if(s)return s}return null}function Sx(t,i){if(t===i.value)return[i];for(const e of i.children){const s=Sx(t,e);if(s.length)return s.unshift(i),s}return[]}class Yg{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xb(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class zM extends FM{constructor(i,e){super(i),this.snapshot=e,Nv(this,i)}toString(){return this.snapshot.toString()}}function BM(t,i){const e=function(t,i){const h=new c1([],{},{},"",{},po,i,null,t.root,-1,{});return new HM("",new Yg(h,[]))}(t,i),s=new mc([new qb("",{})]),a=new mc({}),l=new mc({}),h=new mc({}),y=new mc(""),C=new Jp(s,a,h,y,l,po,i,e.root);return C.snapshot=e.root,new zM(new Yg(C,[]),e)}class Jp{constructor(i,e,s,a,l,h,y,C){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fi.U)(i=>Bg(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fi.U)(i=>Bg(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YM(t,i="emptyOnly"){const e=t.pathFromRoot;let s=0;if("always"!==i)for(s=e.length-1;s>=1;){const a=e[s],l=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(t){return t.reduce((i,e)=>({params:Object.assign(Object.assign({},i.params),e.params),data:Object.assign(Object.assign({},i.data),e.data),resolve:Object.assign(Object.assign({},i.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class c1{constructor(i,e,s,a,l,h,y,C,P,j,te){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this.routeConfig=C,this._urlSegment=P,this._lastPathIndex=j,this._resolve=te}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HM extends FM{constructor(i,e){super(e),this.url=i,Nv(this,e)}toString(){return VM(this._root)}}function Nv(t,i){i.value._routerState=t,i.children.forEach(e=>Nv(t,e))}function VM(t){const i=t.children.length>0?` { ${t.children.map(VM).join(", ")} } `:"";return`${t.value}${i}`}function u1(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gm(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),Gm(i.params,e.params)||t.params.next(e.params),function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Gm(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),Gm(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function d1(t,i){return Gm(t.params,i.params)&&function(t,i){return Fv(t,i)&&t.every((e,s)=>Gm(e.parameters,i[s].parameters))}(t.url,i.url)&&!(!t.parent!=!i.parent)&&(!t.parent||d1(t.parent,i.parent))}function kx(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=i.value;const a=function(t,i,e){return i.children.map(s=>{for(const a of e.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return kx(t,s,a);return kx(t,s)})}(t,i,e);return new Yg(s,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const h=l.route;return UM(i,h),h}}const s=function(t){return new Jp(new mc(t.url),new mc(t.params),new mc(t.queryParams),new mc(t.fragment),new mc(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>kx(t,l));return new Yg(s,a)}}function UM(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let e=0;e<t.children.length;++e)UM(t.children[e],i.children[e])}function h1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ex(t){return"object"==typeof t&&null!=t&&t.outlets}function jM(t,i,e,s,a){let l={};return s&&eh(s,(h,y)=>{l[y]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`}),new Rv(e.root===t?i:Kb(e.root,t,i),l,a)}function Kb(t,i,e){const s={};return eh(t.children,(a,l)=>{s[l]=a===i?e:Kb(a,i,e)}),new Mo(t.segments,s)}class e0{constructor(i,e,s){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=s,i&&s.length>0&&h1(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Ex);if(a&&a!==bE(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dx{constructor(i,e,s){this.segmentGroup=i,this.processChildren=e,this.index=s}}function IE(t,i,e){if(t||(t=new Mo([],{})),0===t.segments.length&&t.hasChildren())return p1(t,i,e);const s=function(t,i,e){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=e.length)return l;const h=t.segments[a],y=e[s];if(Ex(y))break;const C=`${y}`,P=s<e.length-1?e[s+1]:null;if(a>0&&void 0===C)break;if(C&&P&&"object"==typeof P&&void 0===P.outlets){if(!f1(C,P,h))return l;s+=2}else{if(!f1(C,{},h))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,i,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const l=new Mo(t.segments.slice(0,s.pathIndex),{});return l.children[po]=new Mo(t.segments.slice(s.pathIndex),t.children),p1(l,0,a)}return s.match&&0===a.length?new Mo(t.segments,{}):s.match&&!t.hasChildren()?Ix(t,i,e):s.match?p1(t,0,a):Ix(t,i,e)}function p1(t,i,e){if(0===e.length)return new Mo(t.segments,{});{const s=function(t){return Ex(t[0])?t[0].outlets:{[po]:t}}(e),a={};return eh(s,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=IE(t.children[h],i,l))}),eh(t.children,(l,h)=>{void 0===s[h]&&(a[h]=l)}),new Mo(t.segments,a)}}function Ix(t,i,e){const s=t.segments.slice(0,i);let a=0;for(;a<e.length;){const l=e[a];if(Ex(l)){const C=ZM(l.outlets);return new Mo(s,C)}if(0===a&&h1(e[0])){s.push(new qb(t.segments[i].path,WM(e[0]))),a++;continue}const h=Ex(l)?l.outlets[po]:`${l}`,y=a<e.length-1?e[a+1]:null;h&&y&&h1(y)?(s.push(new qb(h,WM(y))),a+=2):(s.push(new qb(h,{})),a++)}return new Mo(s,{})}function ZM(t){const i={};return eh(t,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[s]=Ix(new Mo([],{}),0,e))}),i}function WM(t){const i={};return eh(t,(e,s)=>i[s]=`${e}`),i}function f1(t,i,e){return t==e.path&&Gm(i,e.parameters)}class mL{constructor(i,e,s,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(i){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,i),u1(this.futureState.root),this.activateChildRoutes(e,s,i)}deactivateChildRoutes(i,e,s){const a=Xb(e);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],s),delete a[h]}),eh(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(a===l)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(i,e,h.children)}else this.deactivateChildRoutes(i,e,s);else l&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(i,e){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const s=e.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,e){const s=e.getContext(i.value.outlet),a=s&&i.value.component?s.children:e,l=Xb(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,e,s){const a=Xb(e);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new nL(l.value.snapshot))}),i.children.length&&this.forwardEvent(new eL(i.value.snapshot))}activateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(u1(a),a===l)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,e,h.children)}else this.activateChildRoutes(i,e,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),LE(y.route)}else{const y=function(t){for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),C=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=C,h.outlet&&h.outlet.activateWith(a,C),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,s)}}function LE(t){u1(t.value),t.children.forEach(LE)}class qM{constructor(i,e){this.routes=i,this.module=e}}function z_(t){return"function"==typeof t}function zy(t){return t instanceof Rv}const t0=Symbol("INITIAL_VALUE");function n0(){return Ps(t=>zg(t.map(i=>i.pipe(we(1),Oo(t0)))).pipe(Ja((i,e)=>{let s=!1;return e.reduce((a,l,h)=>a!==t0?a:(l===t0&&(s=!0),s||!1!==l&&h!==e.length-1&&!zy(l)?a:l),i)},t0),T(i=>i!==t0),(0,Fi.U)(i=>zy(i)?i:!0===i),we(1)))}let FE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:function(){return[tT]},encapsulation:2}),t})();function QM(t,i=""){for(let e=0;e<t.length;e++){const s=t[e];NE(s,jF(i,s))}}function NE(t,i){t.children&&QM(t.children,i)}function jF(t,i){return i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t}function th(t){const i=t.children&&t.children.map(th),e=i?Object.assign(Object.assign({},t),{children:i}):Object.assign({},t);return!e.component&&(i||e.loadChildren)&&e.outlet&&e.outlet!==po&&(e.component=FE),e}function nh(t){return t.outlet||po}function zE(t,i){const e=t.filter(s=>nh(s)===i);return e.push(...t.filter(s=>nh(s)!==i)),e}const BE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function JM(t,i,e){var s;if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},BE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||Cx)(e,t,i);if(!l)return Object.assign({},BE);const h={};eh(l.posParams,(C,P)=>{h[P]=C.path});const y=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:y,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function By(t,i,e,s,a="corrected"){if(e.length>0&&function(t,i,e){return e.some(s=>m1(t,i,s)&&nh(s)!==po)}(t,e,s)){const h=new Mo(i,function(t,i,e,s){const a={};a[po]=s,s._sourceSegment=t,s._segmentIndexShift=i.length;for(const l of e)if(""===l.path&&nh(l)!==po){const h=new Mo([],{});h._sourceSegment=t,h._segmentIndexShift=i.length,a[nh(l)]=h}return a}(t,i,s,new Mo(e,t.children)));return h._sourceSegment=t,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(t,i,e){return e.some(s=>m1(t,i,s))}(t,e,s)){const h=new Mo(t.segments,function(t,i,e,s,a,l){const h={};for(const y of s)if(m1(t,e,y)&&!a[nh(y)]){const C=new Mo([],{});C._sourceSegment=t,C._segmentIndexShift="legacy"===l?t.segments.length:i.length,h[nh(y)]=C}return Object.assign(Object.assign({},a),h)}(t,i,e,s,t.children,a));return h._sourceSegment=t,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:e}}const l=new Mo(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:e}}function m1(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function HE(t,i,e,s){return!!(nh(t)===s||s!==po&&m1(i,e,t))&&("**"===t.path||JM(i,t,e).matched)}function g1(t,i,e){return 0===i.length&&!t.children[e]}class r0{constructor(i){this.segmentGroup=i||null}}class KM{constructor(i){this.urlTree=i}}function zv(t){return new Or.y(i=>i.error(new r0(t)))}function _1(t){return new Or.y(i=>i.error(new KM(t)))}function ZF(t){return new Or.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class UE{constructor(i,e,s,a,l){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=By(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mo(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,e,po).pipe((0,Fi.U)(l=>this.createUrlTree(v1(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ov(l=>{if(l instanceof KM)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof r0?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,po).pipe((0,Fi.U)(a=>this.createUrlTree(v1(a),i.queryParams,i.fragment))).pipe(Ov(a=>{throw a instanceof r0?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,e,s){const a=i.segments.length>0?new Mo([],{[po]:i}):i;return new Rv(a,e,s)}expandSegmentGroup(i,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,e,s).pipe((0,Fi.U)(l=>new Mo([],l))):this.expandSegment(i,s,e,s.segments,a,!0)}expandChildren(i,e,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Ws.D)(a).pipe(Gb(l=>{const h=s.children[l],y=zE(e,l);return this.expandSegmentGroup(i,y,h,l).pipe((0,Fi.U)(C=>({segment:C,outlet:l})))}),Ja((l,h)=>(l[h.outlet]=h.segment,l),{}),function(t,i){const e=arguments.length>=2;return s=>s.pipe(t?T((a,l)=>t(a,l,s)):wt.y,TM(1),e?qe(i):pt(()=>new m))}())}expandSegment(i,e,s,a,l,h){return(0,Ws.D)(s).pipe(Gb(y=>this.expandSegmentAgainstRoute(i,e,s,y,a,l,h).pipe(Ov(P=>{if(P instanceof r0)return(0,Di.of)(null);throw P}))),Tt(y=>!!y),Ov((y,C)=>{if(y instanceof m||"EmptyError"===y.name){if(g1(e,a,l))return(0,Di.of)(new Mo([],{}));throw new r0(e)}throw y}))}expandSegmentAgainstRoute(i,e,s,a,l,h,y){return HE(a,e,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,e,a,l,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h):zv(e):zv(e)}expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?_1(l):this.lineralizeSegments(s,l).pipe((0,vu.zg)(h=>{const y=new Mo(h,{});return this.expandSegment(i,y,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h){const{matched:y,consumedSegments:C,lastChild:P,positionalParamSegments:j}=JM(e,a,l);if(!y)return zv(e);const te=this.applyRedirectCommands(C,a.redirectTo,j);return a.redirectTo.startsWith("/")?_1(te):this.lineralizeSegments(a,te).pipe((0,vu.zg)(he=>this.expandSegment(i,e,s,he.concat(l.slice(P)),h,!1)))}matchSegmentAgainstRoute(i,e,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Di.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,Fi.U)(he=>(s._loadedConfig=he,new Mo(a,{})))):(0,Di.of)(new Mo(a,{}));const{matched:h,consumedSegments:y,lastChild:C}=JM(e,s,a);if(!h)return zv(e);const P=a.slice(C);return this.getChildConfig(i,s,a).pipe((0,vu.zg)(te=>{const he=te.module,Ce=te.routes,{segmentGroup:Le,slicedSegments:je}=By(e,y,P,Ce),tt=new Mo(Le.segments,Le.children);if(0===je.length&&tt.hasChildren())return this.expandChildren(he,Ce,tt).pipe((0,Fi.U)(mn=>new Mo(y,mn)));if(0===Ce.length&&0===je.length)return(0,Di.of)(new Mo(y,{}));const vt=nh(s)===l;return this.expandSegment(he,tt,Ce,je,vt?po:l,!0).pipe((0,Fi.U)(nn=>new Mo(y.concat(nn.segments),nn.children)))}))}getChildConfig(i,e,s){return e.children?(0,Di.of)(new qM(e.children,i)):e.loadChildren?void 0!==e._loadedConfig?(0,Di.of)(e._loadedConfig):this.runCanLoadGuards(i.injector,e,s).pipe((0,vu.zg)(a=>a?this.configLoader.load(i.injector,e).pipe((0,Fi.U)(l=>(e._loadedConfig=l,l))):function(t){return new Or.y(i=>i.error(AM(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Di.of)(new qM([],i))}runCanLoadGuards(i,e,s){const a=e.canLoad;if(!a||0===a.length)return(0,Di.of)(!0);const l=a.map(h=>{const y=i.get(h);let C;if(function(t){return t&&z_(t.canLoad)}(y))C=y.canLoad(e,s);else{if(!z_(y))throw new Error("Invalid CanLoad guard");C=y(e,s)}return qm(C)});return(0,Di.of)(l).pipe(n0(),(0,yd.b)(h=>{if(!zy(h))return;const y=AM(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,Fi.U)(h=>!0===h))}lineralizeSegments(i,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Di.of)(s);if(a.numberOfChildren>1||!a.children[po])return ZF(i.redirectTo);a=a.children[po]}}applyRedirectCommands(i,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),i,s)}applyRedirectCreatreUrlTree(i,e,s,a){const l=this.createSegmentGroup(i,e.root,s,a);return new Rv(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const s={};return eh(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[l]=e[y]}else s[l]=a}),s}createSegmentGroup(i,e,s,a){const l=this.createSegments(i,e.segments,s,a);let h={};return eh(e.children,(y,C)=>{h[C]=this.createSegmentGroup(i,y,s,a)}),new Mo(l,h)}createSegments(i,e,s,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${e.path}'.`);return a}findOrReturn(i,e){let s=0;for(const a of e){if(a.path===i.path)return e.splice(s),a;s++}return i}}function v1(t){const i={};for(const s of Object.keys(t.children)){const l=v1(t.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(t){if(1===t.numberOfChildren&&t.children[po]){const i=t.children[po];return new Mo(t.segments.concat(i.segments),i.children)}return t}(new Mo(t.segments,i))}class b1{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class s0{constructor(i,e){this.component=i,this.route=e}}function wL(t,i,e){const s=t._root;return o0(s,i?i._root:null,e,[s.value])}function Lx(t,i,e){const s=function(t){if(!t)return null;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(i);return(s?s.module.injector:e).get(t)}function o0(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Xb(i);return t.children.forEach(h=>{(function(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,h=i?i.value:null,y=e?e.getContext(t.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const C=function(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Fv(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Fv(t.url,i.url)||!Gm(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d1(t,i)||!Gm(t.queryParams,i.queryParams);case"paramsChange":default:return!d1(t,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new b1(s)):(l.data=h.data,l._resolvedData=h._resolvedData),o0(t,i,l.component?y?y.children:null:e,s,a),C&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new s0(y.outlet.component,h))}else h&&a0(i,y,a),a.canActivateChecks.push(new b1(s)),o0(t,null,l.component?y?y.children:null:e,s,a)})(h,l[h.value.outlet],e,s.concat([h.value]),a),delete l[h.value.outlet]}),eh(l,(h,y)=>a0(h,e.getContext(y),a)),a}function a0(t,i,e){const s=Xb(t),a=t.value;eh(s,(l,h)=>{a0(l,a.component?i?i.children.getContext(h):null:i,e)}),e.canDeactivateChecks.push(new s0(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class EL{}function JE(t){return new Or.y(i=>i.error(t))}class XE{constructor(i,e,s,a,l,h){this.rootComponentType=i,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const i=By(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,i,po);if(null===e)return null;const s=new c1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},po,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Yg(s,e),l=new HM(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const e=i.value,s=YM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(i,e):this.processSegment(i,e,e.segments,s)}processChildren(i,e){const s=[];for(const l of Object.keys(e.children)){const h=e.children[l],y=zE(i,l),C=this.processSegmentGroup(y,h,l);if(null===C)return null;s.push(...C)}const a=AL(s);return function(t){t.sort((i,e)=>i.value.outlet===po?-1:e.value.outlet===po?1:i.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(i,e,s,a){for(const l of i){const h=this.processSegmentAgainstRoute(l,e,s,a);if(null!==h)return h}return g1(e,s,a)?[]:null}processSegmentAgainstRoute(i,e,s,a){if(i.redirectTo||!HE(i,e,s,a))return null;let l,h=[],y=[];if("**"===i.path){const Ce=s.length>0?bE(s).parameters:{};l=new c1(s,Ce,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PL(i),nh(i),i.component,i,IL(e),LL(e)+s.length,OL(i))}else{const Ce=JM(e,i,s);if(!Ce.matched)return null;h=Ce.consumedSegments,y=s.slice(Ce.lastChild),l=new c1(h,Ce.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PL(i),nh(i),i.component,i,IL(e),LL(e)+h.length,OL(i))}const C=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(i),{segmentGroup:P,slicedSegments:j}=By(e,h,y,C.filter(Ce=>void 0===Ce.redirectTo),this.relativeLinkResolution);if(0===j.length&&P.hasChildren()){const Ce=this.processChildren(C,P);return null===Ce?null:[new Yg(l,Ce)]}if(0===C.length&&0===j.length)return[new Yg(l,[])];const te=nh(i)===a,he=this.processSegment(C,P,j,te?po:a);return null===he?null:[new Yg(l,he)]}}function qF(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function AL(t){const i=[],e=new Set;for(const s of t){if(!qF(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):i.push(s)}for(const s of e){const a=AL(s.children);i.push(new Yg(s.value,a))}return i.filter(s=>!e.has(s))}function IL(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function LL(t){let i=t,e=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift?i._segmentIndexShift:0;return e-1}function PL(t){return t.data||{}}function OL(t){return t.resolve||{}}function KE(t){return Ps(i=>{const e=t(i);return e?(0,Ws.D)(e).pipe((0,Fi.U)(()=>i)):(0,Di.of)(i)})}class RL extends class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}{}const eT=new o.OlP("ROUTES");class eD{constructor(i,e,s,a){this.loader=i,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Fi.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(i);return new qM(vE(h.injector.get(eT,void 0,o.XFs.Self|o.XFs.Optional)).map(th),h)}),Ov(l=>{throw e._loader$=void 0,l}));return e._loader$=new LF.c(a,()=>new ri.xQ).pipe((0,Nh.x)()),e._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Ws.D)(this.loader.load(i)):qm(i()).pipe((0,vu.zg)(e=>e instanceof o.YKP?(0,Di.of)(e):(0,Ws.D)(this.compiler.compileModuleAsync(e))))}}class nN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Px,this.attachRef=null}}class Px{constructor(){this.contexts=new Map}onChildOutletCreated(i,e){const s=this.getOrCreateContext(i);s.outlet=e,this.contexts.set(i,s)}onChildOutletDestroyed(i){const e=this.getContext(i);e&&(e.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let e=this.getContext(i);return e||(e=new nN,this.contexts.set(i,e)),e}getContext(i){return this.contexts.get(i)||null}}class FL{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,e){return i}}function NL(t){throw t}function zL(t,i,e){return i.parse("/")}function BL(t,i){return(0,Di.of)(null)}const rN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ea=(()=>{class t{constructor(e,s,a,l,h,y,C,P){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=P,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ri.xQ,this.errorHandler=NL,this.malformedUriErrorHandler=zL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:BL,afterPreactivation:BL},this.urlHandlingStrategy=new FL,this.routeReuseStrategy=new RL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const he=h.get(o.R0b);this.isNgZoneEnabled=he instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(P),this.currentUrlTree=new Rv(new Mo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new eD(y,C,Ce=>this.triggerEvent(new r1(Ce)),Ce=>this.triggerEvent(new fE(Ce))),this.routerState=BM(this.currentUrlTree,this.rootComponentType),this.transitions=new mc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(T(a=>0!==a.id),(0,Fi.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ps(a=>{let l=!1,h=!1;return(0,Di.of)(a).pipe((0,yd.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ps(y=>{const C=!this.navigated||y.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return(0,Di.of)(y).pipe(Ps(j=>{const te=this.transitions.getValue();return s.next(new EM(j.id,this.serializeUrl(j.extractedUrl),j.source,j.restoredState)),te!==this.transitions.getValue()?ge.E:Promise.resolve(j)}),function(t,i,e,s){return Ps(a=>function(t,i,e,s,a){return new UE(t,i,e,s,a).apply()}(t,i,e,a.extractedUrl,s).pipe((0,Fi.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yd.b)(j=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:j.urlAfterRedirects})}),function(t,i,e,s,a){return(0,vu.zg)(l=>function(t,i,e,s,a="emptyOnly",l="legacy"){try{const h=new XE(t,i,e,s,a,l).recognize();return null===h?JE(new EL):(0,Di.of)(h)}catch(h){return JE(h)}}(t,i,l.urlAfterRedirects,e(l.urlAfterRedirects),s,a).pipe((0,Fi.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,j=>this.serializeUrl(j),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yd.b)(j=>{"eager"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(j.urlAfterRedirects,j),this.browserUrlTree=j.urlAfterRedirects);const te=new J2(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);s.next(te)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:he,source:Ce,restoredState:Le,extras:je}=y,tt=new EM(te,this.serializeUrl(he),Ce,Le);s.next(tt);const vt=BM(he,this.rootComponentType).snapshot;return(0,Di.of)(Object.assign(Object.assign({},y),{targetSnapshot:vt,urlAfterRedirects:he,extras:Object.assign(Object.assign({},je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),ge.E}),KE(y=>{const{targetSnapshot:C,id:P,extractedUrl:j,rawUrl:te,extras:{skipLocationChange:he,replaceUrl:Ce}}=y;return this.hooks.beforePreactivation(C,{navigationId:P,appliedUrlTree:j,rawUrlTree:te,skipLocationChange:!!he,replaceUrl:!!Ce})}),(0,yd.b)(y=>{const C=new DM(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(C)}),(0,Fi.U)(y=>Object.assign(Object.assign({},y),{guards:wL(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(t,i){return(0,vu.zg)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,Di.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,i,e,s){return(0,Ws.D)(t).pipe((0,vu.zg)(a=>function(t,i,e,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Di.of)(!0);const h=l.map(y=>{const C=Lx(y,i,a);let P;if(function(t){return t&&z_(t.canDeactivate)}(C))P=qm(C.canDeactivate(t,i,e,s));else{if(!z_(C))throw new Error("Invalid CanDeactivate guard");P=qm(C(t,i,e,s))}return P.pipe(Tt())});return(0,Di.of)(h).pipe(n0())}(a.component,a.route,e,i,s)),Tt(a=>!0!==a,!0))}(h,s,a,t).pipe((0,vu.zg)(y=>y&&function(t){return"boolean"==typeof t}(y)?function(t,i,e,s){return(0,Ws.D)(i).pipe(Gb(a=>Vf(function(t,i){return null!==t&&i&&i(new FF(t)),(0,Di.of)(!0)}(a.route.parent,s),function(t,i){return null!==t&&i&&i(new tL(t)),(0,Di.of)(!0)}(a.route,s),function(t,i,e){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(h)).filter(h=>null!==h).map(h=>Wb(()=>{const y=h.guards.map(C=>{const P=Lx(C,h.node,e);let j;if(function(t){return t&&z_(t.canActivateChild)}(P))j=qm(P.canActivateChild(s,t));else{if(!z_(P))throw new Error("Invalid CanActivateChild guard");j=qm(P(s,t))}return j.pipe(Tt())});return(0,Di.of)(y).pipe(n0())}));return(0,Di.of)(l).pipe(n0())}(t,a.path,e),function(t,i,e){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Di.of)(!0);const a=s.map(l=>Wb(()=>{const h=Lx(l,i,e);let y;if(function(t){return t&&z_(t.canActivate)}(h))y=qm(h.canActivate(i,t));else{if(!z_(h))throw new Error("Invalid CanActivate guard");y=qm(h(i,t))}return y.pipe(Tt())}));return(0,Di.of)(a).pipe(n0())}(t,a.route,e))),Tt(a=>!0!==a,!0))}(s,l,t,i):(0,Di.of)(y)),(0,Fi.U)(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,yd.b)(y=>{if(zy(y.guardsResult)){const P=AM(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw P.url=y.guardsResult,P}const C=new X2(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(C)}),T(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),KE(y=>{if(y.guards.canActivateChecks.length)return(0,Di.of)(y).pipe((0,yd.b)(C=>{const P=new K2(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(P)}),Ps(C=>{let P=!1;return(0,Di.of)(C).pipe(function(t,i){return(0,vu.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Di.of)(e);let l=0;return(0,Ws.D)(a).pipe(Gb(h=>function(t,i,e,s){return function(t,i,e,s){const a=Object.keys(t);if(0===a.length)return(0,Di.of)({});const l={};return(0,Ws.D)(a).pipe((0,vu.zg)(h=>function(t,i,e,s){const a=Lx(t,i,s);return qm(a.resolve?a.resolve(i,e):a(i,e))}(t[h],i,e,s).pipe((0,yd.b)(y=>{l[h]=y}))),TM(1),(0,vu.zg)(()=>Object.keys(l).length===a.length?(0,Di.of)(l):ge.E))}(t._resolve,t,i,s).pipe((0,Fi.U)(l=>(t._resolvedData=l,t.data=Object.assign(Object.assign({},t.data),YM(t,e).resolve),null)))}(h.route,s,t,i)),(0,yd.b)(()=>l++),TM(1),(0,vu.zg)(h=>l===a.length?(0,Di.of)(e):ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yd.b)({next:()=>P=!0,complete:()=>{P||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,yd.b)(C=>{const P=new pE(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(P)}))}),KE(y=>{const{targetSnapshot:C,id:P,extractedUrl:j,rawUrl:te,extras:{skipLocationChange:he,replaceUrl:Ce}}=y;return this.hooks.afterPreactivation(C,{navigationId:P,appliedUrlTree:j,rawUrlTree:te,skipLocationChange:!!he,replaceUrl:!!Ce})}),(0,Fi.U)(y=>{const C=function(t,i,e){const s=kx(t,i._root,e?e._root:void 0);return new zM(s,i)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:C})}),(0,yd.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((t,i,e)=>(0,Fi.U)(s=>(new mL(i,s.targetRouterState,s.currentRouterState,e).activate(t),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,yd.b)({next(){l=!0},complete(){l=!0}}),SM(()=>{if(!l&&!h){const y=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,y)):this.cancelNavigationTransition(a,y)}this.currentNavigation=null}),Ov(y=>{if(h=!0,function(t){return t&&t[gE]}(y)){const C=zy(y.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const P=new hE(a.id,this.serializeUrl(a.extractedUrl),y.message);s.next(P),C?setTimeout(()=>{const j=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree);this.scheduleNavigation(j,"imperative",null,{skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new Q2(a.id,this.serializeUrl(a.extractedUrl),y);s.next(C);try{a.resolve(this.errorHandler(y))}catch(P){a.reject(P)}}return ge.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=s,y={replaceUrl:!0};if(l){const C=Object.assign({},l);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(y.state=C)}this.scheduleNavigation(h,a,l,y)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const a=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!a||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){QM(e),this.config=e.map(th),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:y,preserveFragment:C}=s,P=a||this.routerState.root,j=C?this.currentUrlTree.fragment:h;let te=null;switch(y){case"merge":te=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":te=this.currentUrlTree.queryParams;break;default:te=l||null}return null!==te&&(te=this.removeEmptyProps(te)),function(t,i,e,s,a){if(0===e.length)return jM(i.root,i.root,i,s,a);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new e0(!0,0,t);let i=0,e=!1;const s=t.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return eh(l.outlets,(C,P)=>{y[P]="string"==typeof C?C.split("/"):C}),[...a,{outlets:y}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((y,C)=>{0==C&&"."===y||(0==C&&""===y?e=!0:".."===y?i++:""!=y&&a.push(y))}),a):[...a,l]},[]);return new e0(e,i,s)}(e);if(l.toRoot())return jM(i.root,new Mo([],{}),i,s,a);const h=function(t,i,e){if(t.isAbsolute)return new Dx(i.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new Dx(l,l===i.root,0)}const s=h1(t.commands[0])?0:1;return function(t,i,e){let s=t,a=i,l=e;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Dx(s,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,t.numberOfDoubleDots)}(l,i,t),y=h.processChildren?p1(h.segmentGroup,h.index,l.commands):IE(h.segmentGroup,h.index,l.commands);return jM(h.segmentGroup,y,i,s,a)}(P,this.currentUrlTree,e,te,null!=j?j:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=zy(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${i}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},rN):!1===s?Object.assign({},sN):s,zy(e))return aL(this.currentUrlTree,e,a);const l=this.parseUrl(e);return aL(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const l=e[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wx(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,a,l,h){var y,C;if(this.disposed)return Promise.resolve(!1);const P=this.getTransition(),j="imperative"!==s&&"imperative"===(null==P?void 0:P.source),Ce=(this.lastSuccessfulId===P.id||this.currentNavigation?P.rawUrl:P.urlAfterRedirects).toString()===e.toString();if(j&&Ce)return Promise.resolve(!0);let Le,je,tt;h?(Le=h.resolve,je=h.reject,tt=h.promise):tt=new Promise((nn,mn)=>{Le=nn,je=mn});const vt=++this.navigationId;let Wt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Wt=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Wt=0,this.setTransition({id:vt,targetPageId:Wt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:Le,reject:je,promise:tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tt.catch(nn=>Promise.reject(nn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new hE(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.DyG),o.LFG(vd),o.LFG(Px),o.LFG(hi),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Yy=(()=>{class t{constructor(e,s,a,l,h){this.router=e,this.route=s,this.commands=[],this.onChanges=new ri.xQ,null==a&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Hy(this.skipLocationChange),replaceUrl:Hy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hy(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ea),o.Y36(Jp),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})(),B_=(()=>{class t{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new ri.xQ,this.subscription=e.events.subscribe(l=>{l instanceof wx&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,l,h){if(0!==e||s||a||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:Hy(this.skipLocationChange),replaceUrl:Hy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hy(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ea),o.Y36(Jp),o.Y36(ni))},t.\u0275dir=o.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&(o.Ikx("href",s.href,o.LSH),o.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})();function Hy(t){return""===t||!!t}let Y_=(()=>{class t{constructor(e,s,a,l,h,y){this.router=e,this.element=s,this.renderer=a,this.cdr=l,this.link=h,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(C=>{C instanceof wx&&this.update()})}ngAfterContentInit(){(0,Di.of)(this.links.changes,this.linksWithHrefs.changes,(0,Di.of)(null)).pipe((0,Cm.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,Ws.D)(s).pipe((0,Cm.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(e){const s=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>e.isActive(a.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ea),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Yy,8),o.Y36(B_,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,Yy,5),o.Suo(a,B_,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.links=l),o.iGM(l=o.CRH())&&(s.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.TTD]}),t})(),tT=(()=>{class t{constructor(e,s,a,l,h){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||po,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,C=new HL(e,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Px),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},t.\u0275dir=o.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class HL{constructor(i,e,s){this.route=i,this.childContexts=e,this.parent=s}get(i,e){return i===Jp?this.route:i===Px?this.childContexts:this.parent.get(i,e)}}class x1{}class nT{preload(i,e){return(0,Di.of)(null)}}let iT=(()=>{class t{constructor(e,s,a,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new eD(s,a,P=>e.triggerEvent(new r1(P)),P=>e.triggerEvent(new fE(P)))}setUpPreloading(){this.subscription=this.router.events.pipe(T(e=>e instanceof wx),Gb(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,Ws.D)(a).pipe((0,Cm.J)(),(0,Fi.U)(l=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Di.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,vu.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ea),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(x1))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),iD=(()=>{class t{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof EM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wx&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new mE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ea),o.LFG(mi),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Vg=new o.OlP("ROUTER_CONFIGURATION"),rT=new o.OlP("ROUTER_FORROOT_GUARD"),aN=[hi,{provide:vd,useClass:LM},{provide:ea,useFactory:function(t,i,e,s,a,l,h,y={},C,P){const j=new ea(null,t,i,e,s,a,l,vE(h));return C&&(j.urlHandlingStrategy=C),P&&(j.routeReuseStrategy=P),function(t,i){t.errorHandler&&(i.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(i.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(i.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(i.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(i.urlUpdateStrategy=t.urlUpdateStrategy)}(y,j),y.enableTracing&&j.events.subscribe(te=>{var he,Ce;null===(he=console.group)||void 0===he||he.call(console,`Router Event: ${te.constructor.name}`),console.log(te.toString()),console.log(te),null===(Ce=console.groupEnd)||void 0===Ce||Ce.call(console)}),j},deps:[vd,Px,hi,o.zs3,o.v3s,o.Sil,eT,Vg,[class{},new o.FiY],[class{},new o.FiY]]},Px,{provide:Jp,useFactory:function(t){return t.routerState.root},deps:[ea]},{provide:o.v3s,useClass:o.EAV},iT,nT,class{preload(i,e){return e().pipe(Ov(()=>(0,Di.of)(null)))}},{provide:Vg,useValue:{enableTracing:!1}}];function lN(){return new o.PXZ("Router",ea)}let rD=(()=>{class t{constructor(e,s){}static forRoot(e,s){return{ngModule:t,providers:[aN,jL(e),{provide:rT,useFactory:UL,deps:[[ea,new o.FiY,new o.tp0]]},{provide:Vg,useValue:s||{}},{provide:ni,useFactory:w1,deps:[Te,[new o.tBr(qt),new o.FiY],Vg]},{provide:iD,useFactory:cN,deps:[ea,mi,Vg]},{provide:x1,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:nT},{provide:o.PXZ,multi:!0,useFactory:lN},[sD,{provide:o.ip1,multi:!0,useFactory:dN,deps:[sD]},{provide:GL,useFactory:WL,deps:[sD]},{provide:o.tb,multi:!0,useExisting:GL}]]}}static forChild(e){return{ngModule:t,providers:[jL(e)]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(rT,8),o.LFG(ea,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();function cN(t,i,e){return e.scrollOffset&&i.setOffset(e.scrollOffset),new iD(t,i,e)}function w1(t,i,e={}){return e.useHash?new ds(t,i):new ur(t,i)}function UL(t){return"guarded"}function jL(t){return[{provide:o.deG,multi:!0,useValue:t},{provide:eT,multi:!0,useValue:t}]}let sD=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ri.xQ}appInitializer(){return this.injector.get(We,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(y=>s=y),l=this.injector.get(ea),h=this.injector.get(Vg);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Di.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(Vg),a=this.injector.get(iT),l=this.injector.get(iD),h=this.injector.get(ea),y=this.injector.get(o.z2F);e===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function dN(t){return t.appInitializer.bind(t)}function WL(t){return t.bootstrapListener.bind(t)}const GL=new o.OlP("Router Initializer");let C1=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Supplier").doc(h).valueChanges(),this.username$.subscribe(y=>{console.log(y)})})}ngOnInit(){}logout(){this.fauth.signOut(),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(ea),o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-suppliernavbarpage"]],decls:32,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/supplierpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/supplierpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/supplierproduct",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/supplierprofile",1,"dropdown-item"],["routerLink","/supplierorder",1,"dropdown-item"],["routerLink","/suppliertracking",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS - Supplier"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Product"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Order"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o.NdJ("click",function(){return s.logout()}),o._uU(31,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#557A95"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.compname," ")}},directives:[B_,Y_],pipes:[$l],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})();class xr{static equals(i,e,s){return s?this.resolveFieldData(i,s)===this.resolveFieldData(e,s):this.equalsByValue(i,e)}static equalsByValue(i,e){if(i===e)return!0;if(i&&e&&"object"==typeof i&&"object"==typeof e){var l,h,y,s=Array.isArray(i),a=Array.isArray(e);if(s&&a){if((h=i.length)!=e.length)return!1;for(l=h;0!=l--;)if(!this.equalsByValue(i[l],e[l]))return!1;return!0}if(s!=a)return!1;var C=i instanceof Date,P=e instanceof Date;if(C!=P)return!1;if(C&&P)return i.getTime()==e.getTime();var j=i instanceof RegExp,te=e instanceof RegExp;if(j!=te)return!1;if(j&&te)return i.toString()==e.toString();var he=Object.keys(i);if((h=he.length)!==Object.keys(e).length)return!1;for(l=h;0!=l--;)if(!Object.prototype.hasOwnProperty.call(e,he[l]))return!1;for(l=h;0!=l--;)if(!this.equalsByValue(i[y=he[l]],e[y]))return!1;return!0}return i!=i&&e!=e}static resolveFieldData(i,e){if(i&&e){if(this.isFunction(e))return e(i);if(-1==e.indexOf("."))return i[e];{let s=e.split("."),a=i;for(let l=0,h=s.length;l<h;++l){if(null==a)return null;a=a[s[l]]}return a}}return null}static isFunction(i){return!!(i&&i.constructor&&i.call&&i.apply)}static reorderArray(i,e,s){i&&e!==s&&(s>=i.length&&(s%=i.length,e%=i.length),i.splice(s,0,i.splice(e,1)[0]))}static insertIntoOrderedArray(i,e,s,a){if(s.length>0){let l=!1;for(let h=0;h<s.length;h++)if(this.findIndexInList(s[h],a)>e){s.splice(h,0,i),l=!0;break}l||s.push(i)}else s.push(i)}static findIndexInList(i,e){let s=-1;if(e)for(let a=0;a<e.length;a++)if(e[a]==i){s=a;break}return s}static removeAccents(i){return i&&i.search(/[\xC0-\xFF]/g)>-1&&(i=i.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),i}}var aD=0;function Vy(){return"pr_id_"+ ++aD}var iu=function(){let t=[];const a=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:a,set:(l,h,y)=>{h&&(h.style.zIndex=String(((l,h)=>{let y=t.length>0?t[t.length-1]:{key:l,value:h},C=y.value+(y.key===l?0:h)+1;return t.push({key:l,value:C}),C})(l,y)))},clear:l=>{l&&((l=>{t=t.filter(h=>h.value!==l)})(a(l)),l.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}();const lD=["*"];let Gu=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),Lf=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Gu.STARTS_WITH,Gu.CONTAINS,Gu.NOT_CONTAINS,Gu.ENDS_WITH,Gu.EQUALS,Gu.NOT_EQUALS],numeric:[Gu.EQUALS,Gu.NOT_EQUALS,Gu.LESS_THAN,Gu.LESS_THAN_OR_EQUAL_TO,Gu.GREATER_THAN,Gu.GREATER_THAN_OR_EQUAL_TO],date:[Gu.DATE_IS,Gu.DATE_IS_NOT,Gu.DATE_BEFORE,Gu.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new ri.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ta=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t})();var Uy=(()=>(function(t){t[t.ACCEPT=0]="ACCEPT",t[t.REJECT=1]="REJECT",t[t.CANCEL=2]="CANCEL"}(Uy||(Uy={})),Uy))();let Qm=(()=>{class t{constructor(){this.requireConfirmationSource=new ri.xQ,this.acceptConfirmationSource=new ri.xQ,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),cD=(()=>{class t{constructor(){this.filters={startsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=xr.removeAccents(s.toString()).toLocaleLowerCase(a);return xr.removeAccents(e.toString()).toLocaleLowerCase(a).slice(0,l.length)===l},contains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=xr.removeAccents(s.toString()).toLocaleLowerCase(a);return-1!==xr.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},notContains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=xr.removeAccents(s.toString()).toLocaleLowerCase(a);return-1===xr.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},endsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=xr.removeAccents(s.toString()).toLocaleLowerCase(a),h=xr.removeAccents(e.toString()).toLocaleLowerCase(a);return-1!==h.indexOf(l,h.length-l.length)},equals:(e,s,a)=>null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():xr.removeAccents(e.toString()).toLocaleLowerCase(a)==xr.removeAccents(s.toString()).toLocaleLowerCase(a)),notEquals:(e,s,a)=>!(null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():xr.removeAccents(e.toString()).toLocaleLowerCase(a)==xr.removeAccents(s.toString()).toLocaleLowerCase(a))),in:(e,s)=>{if(null==s||0===s.length)return!0;for(let a=0;a<s.length;a++)if(xr.equals(e,s[a]))return!0;return!1},between:(e,s)=>null==s||null==s[0]||null==s[1]||null!=e&&(e.getTime?s[0].getTime()<=e.getTime()&&e.getTime()<=s[1].getTime():s[0]<=e&&e<=s[1]),lt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<s.getTime():e<s),lte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<=s.getTime():e<=s),gt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>s.getTime():e>s),gte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>=s.getTime():e>=s),is:(e,s,a)=>this.filters.equals(e,s,a),isNot:(e,s,a)=>this.filters.notEquals(e,s,a),before:(e,s,a)=>this.filters.lt(e,s,a),after:(e,s,a)=>this.filters.gt(e,s,a),dateIs:(e,s)=>null==s||null!=e&&e.toDateString()===s.toDateString(),dateIsNot:(e,s)=>null==s||null!=e&&e.toDateString()!==s.toDateString(),dateBefore:(e,s)=>null==s||null!=e&&e.getTime()<s.getTime(),dateAfter:(e,s)=>null==s||null!=e&&e.getTime()>s.getTime()}}filter(e,s,a,l,h){let y=[];if(e)for(let C of e)for(let P of s){let j=xr.resolveFieldData(C,P);if(this.filters[l](j,a,h)){y.push(C);break}}return y}register(e,s){this.filters[e]=s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mm=(()=>{class t{constructor(){this.messageSource=new ri.xQ,this.clearSource=new ri.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),l0=(()=>{class t{constructor(){this.clickSource=new ri.xQ,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pf=(()=>{class t{}return t.ALIGN_CENTER="pi pi-align-center",t.ALIGN_JUSTIFY="pi pi-align-justify",t.ALIGN_LEFT="pi pi-align-left",t.ALIGN_RIGHT="pi pi-align-right",t.AMAZON="pi pi-amazon",t.ANDROID="pi pi-android",t.ANGLE_DOUBLE_DOWN="pi pi-angle-double-down",t.ANGLE_DOUBLE_LEFT="pi pi-angle-double-left",t.ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right",t.ANGLE_DOUBLE_UP="pi pi-angle-double-up",t.ANGLE_DOWN="pi pi-angle-down",t.ANGLE_LEFT="pi pi-angle-left",t.ANGLE_RIGHT="pi pi-angle-right",t.ANGLE_UP="pi pi-angle-up",t.APPLE="pi pi-apple",t.ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down",t.ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left",t.ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right",t.ARROW_CIRCLE_UP="pi pi-arrow-circle-up",t.ARROW_DOWN="pi pi-arrow-down",t.ARROW_LEFT="pi pi-arrow-left",t.ARROW_RIGHT="pi pi-arrow-right",t.ARROW_UP="pi pi-arrow-up",t.BACKWARD="pi pi-backward",t.BAN="pi pi-ban",t.BARS="pi pi-bars",t.BELL="pi pi-bell",t.BOOK="pi pi-book",t.BOOKMARK="pi pi-bookmark",t.BRIEFCASE="pi pi-briefcase",t.CALENDAR_MINUS="pi pi-calendar-minus",t.CALENDAR_PLUS="pi pi-calendar-plus",t.CALENDAR_TIMES="pi pi-calendar-times",t.CALENDAR="pi pi-calendar",t.CAMERA="pi pi-camera",t.CARET_DOWN="pi pi-caret-down",t.CARET_LEFT="pi pi-caret-left",t.CARET_RIGHT="pi pi-caret-right",t.CARET_UP="pi pi-caret-up",t.CHART_BAR="pi pi-chart-bar",t.CHART_LINE="pi pi-chart-line",t.CHECK_CIRCLE="pi pi-check-circle",t.CHECK_SQUARE="pi pi-check-square",t.CHECK="pi pi-check",t.CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down",t.CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left",t.CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right",t.CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up",t.CHEVRON_DOWN="pi pi-chevron-down",t.CHEVRON_LEFT="pi pi-chevron-left",t.CHEVRON_RIGHT="pi pi-chevron-right",t.CHEVRON_UP="pi pi-chevron-up",t.CLOCK="pi pi-clock",t.CLONE="pi pi-clone",t.CLOUD_DOWNLOAD="pi pi-cloud-download",t.CLOUD_UPLOAD="pi pi-cloud-upload",t.CLOUD="pi pi-cloud",t.COG="pi pi-cog",t.COMMENT="pi pi-comment",t.COMMENTS="pi pi-comments",t.COMPASS="pi pi-compass",t.COPY="pi pi-copy",t.CREDIT_CARD="pi pi-credit-card",t.DESKTOP="pi pi-desktop",t.DISCORD="pi pi-discord",t.DIRECTIONS_ALT="pi pi-directions-alt",t.DIRECTIONS="pi pi-directions",t.DOLLAR="pi pi-dollar",t.DOWNLOAD="pi pi-download",t.EJECT="pi pi-eject",t.ELLIPSIS_H="pi pi-ellipsis-h",t.ELLIPSIS_V="pi pi-ellipsis-v",t.ENVELOPE="pi pi-envelope",t.EXCLAMATION_CIRCLE="pi pi-exclamation-circle",t.EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle ",t.EXTERNAL_LINK="pi pi-external-link",t.EYE_SLASH="pi pi-eye-slash",t.EYE="pi pi-eye",t.FACEBOOK="pi pi-facebook",t.FAST_BACKWARD="pi pi-fast-backward",t.FAST_FORWARD="pi pi-fast-forward",t.FILE_EXCEL="pi pi-file-excel",t.FILE_O="pi pi-file-o",t.FILE_PDF="pi pi-file-pdf",t.FILE="pi pi-file",t.FILTER="pi pi-filter",t.FILTER_SLASH="pi pi-filter-slash",t.FLAG="pi pi-flag",t.FOLDER_OPEN="pi pi-folder-open",t.FOLDER="pi pi-folder",t.FORWARD="pi pi-forward",t.GITHUB="pi pi-github",t.GLOBE="pi pi-globe",t.GOOGLE="pi pi-google",t.HEART="pi pi-heart",t.HOME="pi pi-home",t.ID_CARD="pi pi-id-card",t.IMAGE="pi pi-image",t.IMAGES="pi pi-images",t.INBOX="pi pi-inbox",t.INFO_CIRCLE="pi pi-info-circle",t.INFO="pi pi-info",t.KEY="pi pi-key",t.LINK="pi pi-link",t.LIST="pi pi-list",t.LOCK_OPEN="pi pi-lock-open",t.LOCK="pi pi-lock",t.MAP="pi pi-map",t.MAP_MARKER="pi pi-map-marker",t.MICROSOFT="pi pi-microsoft",t.MINUS_CIRCLE="pi pi-minus-circle",t.MINUS="pi pi-minus",t.MOBILE="pi pi-mobile",t.MONEY_BILL="pi pi-money-bill",t.MOON="pi pi-moon",t.PALETTE="pi pi-palette",t.PAPERCLIP="pi pi-paperclip",t.PAUSE="pi pi-pause",t.PAYPAL="pi pi-paypal",t.PENCIL="pi pi-pencil",t.PERCENTAGE="pi pi-percentage",t.PHONE="pi pi-phone",t.PLAY="pi pi-play",t.PLUS_CIRCLE="pi pi-plus-circle",t.PLUS="pi pi-plus",t.POWER_OFF="pi pi-power-off",t.PRINT="pi pi-print",t.QUESTION_CIRCLE="pi pi-question-circle",t.QUESTION="pi pi-question",t.RADIO_OFF="pi pi-radio-off",t.RADIO_ON="pi pi-radio-on",t.REFRESH="pi pi-refresh",t.REPLAY="pi pi-replay",t.REPLY="pi pi-reply",t.SAVE="pi pi-save",t.SEARCH_MINUS="pi pi-search-minus",t.SEARCH_PLUS="pi pi-search-plus",t.SEARCH="pi pi-search",t.SEND="pi pi-send",t.SHARE_ALT="pi pi-share-alt",t.SHIELD="pi pi-shield",t.SHOPPING_CART="pi pi-shopping-cart",t.SIGN_IN="pi pi-sign-in",t.SIGN_OUT="pi pi-sign-out",t.SITEMAP="pi pi-sitemap",t.SLACK="pi pi-slack",t.SLIDERS_H="pi pi-sliders-h",t.SLIDERS_V="pi pi-sliders-v",t.SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down",t.SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up",t.SORT_ALPHA_DOWN="pi pi-sort-alpha-down",t.SORT_ALPHA_UP="pi pi-sort-alpha-up",t.SORT_ALT="pi pi-sort-alt",t.SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt",t.SORT_AMOUNT_DOWN="pi pi-sort-amount-down",t.SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt",t.SORT_AMOUNT_UP="pi pi-sort-amount-up",t.SORT_DOWN="pi pi-sort-down",t.SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down",t.SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up",t.SORT_NUMERIC_DOWN="pi pi-sort-numeric-down",t.SORT_NUMERIC_UP="pi pi-sort-numeric-up",t.SORT_UP="pi pi-sort-up",t.SORT="pi pi-sort",t.SPINNER="pi pi-spinner",t.STAR_O="pi pi-star-o",t.STAR="pi pi-star",t.STEP_BACKWARD_ALT="pi pi-step-backward-alt",t.STEP_BACKWARD="pi pi-step-backward",t.STEP_FORWARD_ALT="pi pi-step-forward-alt",t.STEP_FORWARD="pi pi-step-forward",t.SUN="pi pi-sun",t.TABLE="pi pi-table",t.TABLET="pi pi-tablet",t.TAG="pi pi-tag",t.TAGS="pi pi-tags",t.TH_LARGE="pi pi-th-large",t.THUMBS_DOWN="pi pi-thumbs-down",t.THUMBS_UP="pi pi-thumbs-up",t.TICKET="pi pi-ticket",t.TIMES_CIRCLE="pi pi-times-circle",t.TIMES="pi pi-times",t.TRASH="pi pi-trash",t.TWITTER="pi pi-twitter",t.UNDO="pi pi-undo",t.UNLOCK="pi pi-unlock",t.UPLOAD="pi pi-upload",t.USER_EDIT="pi pi-user-edit",t.USER_MINUS="pi pi-user-minus",t.USER_PLUS="pi pi-user-plus",t.USER="pi pi-user",t.USERS="pi pi-users",t.VIDEO="pi pi-video",t.VIMEO="pi pi-vimeo",t.VOLUME_DOWN="pi pi-volume-down",t.VOLUME_OFF="pi pi-volume-off",t.VOLUME_UP="pi pi-volume-up",t.YOUTUBE="pi pi-youtube",t.WALLET="pi pi-wallet",t.WIFI="pi pi-wifi",t.WINDOW_MAXIMIZE="pi pi-window-maximize",t.WINDOW_MINIMIZE="pi pi-window-minimize",t})(),uD=(()=>{class t{}return t.AND="and",t.OR="or",t})(),M1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-header"]],ngContentSelectors:lD,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),Ox=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-footer"]],ngContentSelectors:lD,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),Il=(()=>{class t{constructor(e){this.template=e}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function hD(t,i){1&t&&o.GkF(0)}function pD(t,i){if(1&t&&(o.TgZ(0,"div",8),o.Hsn(1,1),o.YNc(2,hD,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function oT(t,i){1&t&&o.GkF(0)}function $L(t,i){if(1&t&&(o.TgZ(0,"div",9),o._uU(1),o.YNc(2,oT,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.header," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.titleTemplate)}}function Jm(t,i){1&t&&o.GkF(0)}function QL(t,i){if(1&t&&(o.TgZ(0,"div",10),o._uU(1),o.YNc(2,Jm,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.subheader," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.subtitleTemplate)}}function fN(t,i){1&t&&o.GkF(0)}function JL(t,i){1&t&&o.GkF(0)}function mN(t,i){if(1&t&&(o.TgZ(0,"div",11),o.Hsn(1,2),o.YNc(2,JL,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const XL=["*",[["p-header"]],[["p-footer"]]],KL=["*","p-header","p-footer"];let fT,T1=(()=>{class t{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-card"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,M1,5),o.Suo(a,Ox,5),o.Suo(a,Il,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:KL,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,s){1&e&&(o.F$t(XL),o.TgZ(0,"div",0),o.YNc(1,pD,3,1,"div",1),o.TgZ(2,"div",2),o.YNc(3,$L,3,2,"div",3),o.YNc(4,QL,3,2,"div",4),o.TgZ(5,"div",5),o.Hsn(6),o.YNc(7,fN,1,0,"ng-container",6),o.qZA(),o.YNc(8,mN,3,1,"div",7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-card p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngIf",s.headerFacet||s.headerTemplate),o.xp6(2),o.Q6J("ngIf",s.header||s.titleTemplate),o.xp6(1),o.Q6J("ngIf",s.subheader||s.subtitleTemplate),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[pe,Gi,cn,qr],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),t})(),gN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i],Ll]}),t})();function Of(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function u0(t,i=Js.P){return e=>e.lift(new yp(t,i))}class yp{constructor(i,e){this.dueTime=i,this.scheduler=e}call(i,e){return e.subscribe(new Rx(i,this.dueTime,this.scheduler))}}class Rx extends Lo.L{constructor(i,e,s){super(i),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(L1,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function L1(t){t.debouncedNext()}function us(t){return null!=t&&"false"!=`${t}`}function gc(t,i=0){return P1(t)?Number(t):i}function P1(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Fx(t){return Array.isArray(t)?t:[t]}function _c(t){return null==t?"":"string"==typeof t?t:`${t}px`}function H_(t){return t instanceof o.SBq?t.nativeElement:t}try{fT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){fT=!1}let h0,Ta=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(t){return"browser"===t}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.Lbi))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.Lbi))},token:t,providedIn:"root"}),t})(),d0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const TD=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function SD(){if(h0)return h0;if("object"!=typeof document||!document)return h0=new Set(TD),h0;let t=document.createElement("input");return h0=new Set(TD.filter(i=>(t.setAttribute("type",i),t.type===i))),h0}let gm,O1,Yv,mT;function Bv(t){return function(){if(null==gm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gm=!0}))}finally{gm=gm||!1}return gm}()?t:!!t.capture}function kD(){if(null==Yv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Yv=!1,Yv;if("scrollBehavior"in document.documentElement.style)Yv=!0;else{const t=Element.prototype.scrollTo;Yv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Yv}function Hv(){if("object"!=typeof document||!document)return 0;if(null==O1){const t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const e=document.createElement("div"),s=e.style;s.width="2px",s.height="1px",t.appendChild(e),document.body.appendChild(t),O1=0,0===t.scrollLeft&&(t.scrollLeft=1,O1=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return O1}function gT(t){if(function(){if(null==mT){const t="undefined"!=typeof document?document.head:null;mT=!(!t||!t.createShadowRoot&&!t.attachShadow)}return mT}()){const i=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}let _T=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),DD=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=H_(e);return new Or.y(a=>{const h=this._observeElement(s).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new ri.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:a}=this._observedElements.get(e);s&&s.disconnect(),a.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(_T))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(_T))},token:t,providedIn:"root"}),t})(),AD=(()=>{class t{constructor(e,s,a){this._contentObserver=e,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=us(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=gc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(u0(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(DD),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Xm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[_T]}),t})();function V_(t,i){return(t.getAttribute(i)||"").match(/\S+/g)||[]}const ID="cdk-describedby-message-container",LD="cdk-describedby-message",F1="cdk-describedby-host";let PD=0;const Km=new Map;let bd=null,yT=(()=>{class t{constructor(e){this._document=e}describe(e,s,a){if(!this._canBeDescribed(e,s))return;const l=zx(s,a);"string"!=typeof s?(OD(s),Km.set(l,{messageElement:s,referenceCount:0})):Km.has(l)||this._createMessageElement(s,a),this._isElementDescribedByMessage(e,l)||this._addMessageReference(e,l)}removeDescription(e,s,a){if(!s||!this._isElementNode(e))return;const l=zx(s,a);if(this._isElementDescribedByMessage(e,l)&&this._removeMessageReference(e,l),"string"==typeof s){const h=Km.get(l);h&&0===h.referenceCount&&this._deleteMessageElement(l)}bd&&0===bd.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${F1}]`);for(let s=0;s<e.length;s++)this._removeCdkDescribedByReferenceIds(e[s]),e[s].removeAttribute(F1);bd&&this._deleteMessagesContainer(),Km.clear()}_createMessageElement(e,s){const a=this._document.createElement("div");OD(a),a.textContent=e,s&&a.setAttribute("role",s),this._createMessagesContainer(),bd.appendChild(a),Km.set(zx(e,s),{messageElement:a,referenceCount:0})}_deleteMessageElement(e){const s=Km.get(e),a=s&&s.messageElement;bd&&a&&bd.removeChild(a),Km.delete(e)}_createMessagesContainer(){if(!bd){const e=this._document.getElementById(ID);e&&e.parentNode&&e.parentNode.removeChild(e),bd=this._document.createElement("div"),bd.id=ID,bd.style.visibility="hidden",bd.classList.add("cdk-visually-hidden"),this._document.body.appendChild(bd)}}_deleteMessagesContainer(){bd&&bd.parentNode&&(bd.parentNode.removeChild(bd),bd=null)}_removeCdkDescribedByReferenceIds(e){const s=V_(e,"aria-describedby").filter(a=>0!=a.indexOf(LD));e.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(e,s){const a=Km.get(s);(function(t,i,e){const s=V_(t,i);s.some(a=>a.trim()==e.trim())||(s.push(e.trim()),t.setAttribute(i,s.join(" ")))})(e,"aria-describedby",a.messageElement.id),e.setAttribute(F1,""),a.referenceCount++}_removeMessageReference(e,s){const a=Km.get(s);a.referenceCount--,function(t,i,e){const a=V_(t,i).filter(l=>l!=e.trim());a.length?t.setAttribute(i,a.join(" ")):t.removeAttribute(i)}(e,"aria-describedby",a.messageElement.id),e.removeAttribute(F1)}_isElementDescribedByMessage(e,s){const a=V_(e,"aria-describedby"),l=Km.get(s),h=l&&l.messageElement.id;return!!h&&-1!=a.indexOf(h)}_canBeDescribed(e,s){if(!this._isElementNode(e))return!1;if(s&&"object"==typeof s)return!0;const a=null==s?"":`${s}`.trim(),l=e.getAttribute("aria-label");return!(!a||l&&l.trim()===a)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(De))},token:t,providedIn:"root"}),t})();function zx(t,i){return"string"==typeof t?`${i||""}/${t}`:t}function OD(t){t.id||(t.id=`${LD}-${PD++}`)}class RD{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ri.xQ,this._typeaheadSubscription=Ba.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ri.xQ,this.change=new ri.xQ,i instanceof o.n_E&&i.changes.subscribe(e=>{if(this._activeItem){const a=e.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,yd.b)(e=>this._pressedLetters.push(e)),u0(i),T(()=>this._pressedLetters.length>0),(0,Fi.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,h=s[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const e=this._activeItem;this.updateActiveItem(i),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){const e=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||Of(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const e=this._getItemsArray(),s="number"==typeof i?i:e.indexOf(i),a=e[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const a=(this._activeItemIndex+i*s+e.length)%e.length;if(!this._skipPredicateFn(e[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=e])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class FD extends RD{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class U_ extends RD{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let zD=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(t){try{return t.frameElement}catch(i){return null}}(function(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(s&&(-1===SP(s)||!this.isVisible(s)))return!1;let a=e.nodeName.toLowerCase(),l=SP(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||TP(t))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ta))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ta))},token:t,providedIn:"root"}),t})();function TP(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function SP(t){if(!TP(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class y3{constructor(i,e,s,a,l=!1){this._element=i,this._checker=e,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement()))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const e=this._getFirstTabbableElement(i);return null==e||e.focus(),!!e}return i.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const i=this._getRegionBoundary("start");return i&&i.focus(),!!i}focusLastTabbableElement(){const i=this._getRegionBoundary("end");return i&&i.focus(),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=0;s<e.length;s++){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=e.length-1;s>=0;s--){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(we(1)).subscribe(i)}}let EP=(()=>{class t{constructor(e,s,a){this._checker=e,this._ngZone=s,this._document=a}create(e,s=!1){return new y3(e,this._checker,this._ngZone,this._document,s)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(zD),o.LFG(o.R0b),o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(zD),(0,o.LFG)(o.R0b),(0,o.LFG)(De))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Ee=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ot=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let mt=(()=>{class t{constructor(e,s,a,l){this._ngZone=s,this._defaultOptions=l,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...s){const a=this._defaultOptions;let l,h;return 1===s.length&&"number"==typeof s[0]?h=s[0]:[l,h]=s,this.clear(),clearTimeout(this._previousTimeout),l||(l=a&&a.politeness?a.politeness:"polite"),null==h&&a&&(h=a.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>new Promise(y=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,y(),"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",s=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let l=0;l<s.length;l++)s[l].parentNode.removeChild(s[l]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee,8),o.LFG(o.R0b),o.LFG(De),o.LFG(ot,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee,8),(0,o.LFG)(o.R0b),(0,o.LFG)(De),(0,o.LFG)(ot,8))},token:t,providedIn:"root"}),t})();function en(t){return 0===t.buttons}function Ln(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const gi=new o.OlP("cdk-focus-monitor-default-options"),Vn=Bv({passive:!0,capture:!0});let Qi=(()=>{class t{constructor(e,s,a,l){this._ngZone=e,this._platform=s,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=h=>{if(!this._lastTouchTarget){const y=en(h)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(y)}},this._documentTouchstartListener=h=>{Ln(h)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Gr(h),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=h=>{const y=Gr(h),C="focus"===h.type?this._onFocus:this._onBlur;for(let P=y;P;P=P.parentElement)C.call(this,h,P)},this._document=a,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(e,s=!1){const a=H_(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Di.of)(null);const l=gT(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return s&&(h.checkChildren=!0),h.subject;const y={checkChildren:s,subject:new ri.xQ,rootNode:l};return this._elementInfo.set(a,y),this._registerGlobalListeners(y),y.subject}stopMonitoring(e){const s=H_(e),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(e,s,a){const l=H_(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([y,C])=>this._originChanged(y,s,C)):(this._setOriginForCurrentEventQueue(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,a){a?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const s=Gr(e);return this._lastTouchTarget instanceof Node&&s instanceof Node&&(s===this._lastTouchTarget||s.contains(this._lastTouchTarget))}_onFocus(e,s){const a=this._elementInfo.get(s);!a||!a.checkChildren&&s!==Gr(e)||this._originChanged(s,this._getFocusOrigin(e),a)}_onBlur(e,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vn),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vn)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const l=this._getDocument(),h=this._getWindow();l.addEventListener("keydown",this._documentKeydownListener,Vn),l.addEventListener("mousedown",this._documentMousedownListener,Vn),l.addEventListener("touchstart",this._documentTouchstartListener,Vn),h.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vn),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vn),this._rootNodeFocusListenerCount.delete(s))}if(!--this._monitoredElementCount){const a=this._getDocument(),l=this._getWindow();a.removeEventListener("keydown",this._documentKeydownListener,Vn),a.removeEventListener("mousedown",this._documentMousedownListener,Vn),a.removeEventListener("touchstart",this._documentTouchstartListener,Vn),l.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,s,a){this._setClasses(e,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((a,l)=>{(l===e||a.checkChildren&&l.contains(e))&&s.push([l,a])}),s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(Ta),o.LFG(De,8),o.LFG(gi,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(Ta),(0,o.LFG)(De,8),(0,o.LFG)(gi,8))},token:t,providedIn:"root"}),t})();function Gr(t){return t.composedPath?t.composedPath()[0]:t.target}const bu="cdk-high-contrast-black-on-white",Rf="cdk-high-contrast-white-on-black",Vv="cdk-high-contrast-active";let Uv=(()=>{class t{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(e):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Vv),e.remove(bu),e.remove(Rf);const s=this.getHighContrastMode();1===s?(e.add(Vv),e.add(bu)):2===s&&(e.add(Vv),e.add(Rf))}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ta),o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ta),(0,o.LFG)(De))},token:t,providedIn:"root"}),t})(),jv=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Uv))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d0,Xm]]}),t})();const Zv=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(De)}});let vp=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const a=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Zv,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Zv,8))},token:t,providedIn:"root"}),t})(),Wv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const N1=new o.GfV("11.2.13");function v3(){return"undefined"!=typeof window&&void 0!==window.document}function DP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function m0(t){switch(t.length){case 0:return new Rs;case 1:return t[0];default:return new af(t)}}function b3(t,i,e,s,a={},l={}){const h=[],y=[];let C=-1,P=null;if(s.forEach(j=>{const te=j.offset,he=te==C,Ce=he&&P||{};Object.keys(j).forEach(Le=>{let je=Le,tt=j[Le];if("offset"!==Le)switch(je=i.normalizePropertyName(je,h),tt){case"!":tt=a[Le];break;case Zo:tt=l[Le];break;default:tt=i.normalizeStyleValue(Le,je,tt,h)}Ce[je]=tt}),he||y.push(Ce),P=Ce,C=te}),h.length){const j="\n - ";throw new Error(`Unable to animate due to the following errors:${j}${h.join(j)}`)}return y}function AP(t,i,e,s){switch(i){case"start":t.onStart(()=>s(e&&IP(e,"start",t)));break;case"done":t.onDone(()=>s(e&&IP(e,"done",t)));break;case"destroy":t.onDestroy(()=>s(e&&IP(e,"destroy",t)))}}function IP(t,i,e){const s=e.totalTime,l=LP(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,null==s?t.totalTime:s,!!e.disabled),h=t._data;return null!=h&&(l._data=h),l}function LP(t,i,e,s,a="",l=0,h){return{element:t,triggerName:i,fromState:e,toState:s,phaseName:a,totalTime:l,disabled:!!h}}function eg(t,i,e){let s;return t instanceof Map?(s=t.get(i),s||t.set(i,s=e)):(s=t[i],s||(s=t[i]=e)),s}function x3(t){const i=t.indexOf(":");return[t.substring(1,i),t.substr(i+1)]}let PP=(t,i)=>!1,OP=(t,i)=>!1,w3=(t,i,e)=>[];const C3=DP();(C3||"undefined"!=typeof Element)&&(PP=v3()?(t,i)=>{for(;i&&i!==document.documentElement;){if(i===t)return!0;i=i.parentNode||i.host}return!1}:(t,i)=>t.contains(i),OP=(()=>{if(C3||Element.prototype.matches)return(t,i)=>t.matches(i);{const t=Element.prototype,i=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return i?(e,s)=>i.apply(e,[s]):OP}})(),w3=(t,i,e)=>{let s=[];if(e){const a=t.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=t.querySelector(i);a&&s.push(a)}return s});let Bx=null,M3=!1;function RP(t){Bx||(Bx=("undefined"!=typeof document?document.body:null)||{},M3=!!Bx.style&&"WebkitAppearance"in Bx.style);let i=!0;return Bx.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in Bx.style,!i&&M3&&(i="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Bx.style)),i}const FP=OP,NP=PP,zP=w3;function T3(t){const i={};return Object.keys(t).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=t[e]}),i}let S3=(()=>{class t{validateStyleProperty(e){return RP(e)}matchesElement(e,s){return FP(e,s)}containsElement(e,s){return NP(e,s)}query(e,s,a){return zP(e,s,a)}computeStyle(e,s,a){return a||""}animate(e,s,a,l,h,y=[],C){return new Rs(a,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class YD{}YD.NOOP=new S3;const BP="ng-enter",HD="ng-leave",VD="ng-trigger",UD=".ng-trigger",E3="ng-animating",YP=".ng-animating";function Yx(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:HP(parseFloat(i[1]),i[2])}function HP(t,i){switch(i){case"s":return 1e3*t;default:return t}}function jD(t,i,e){return t.hasOwnProperty("duration")?t:function(t,i,e){let a,l=0,h="";if("string"==typeof t){const y=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return i.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};a=HP(parseFloat(y[1]),y[2]);const C=y[3];null!=C&&(l=HP(parseFloat(C),y[4]));const P=y[5];P&&(h=P)}else a=t;if(!e){let y=!1,C=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),y=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&i.splice(C,0,`The provided timing value "${t}" is invalid.`)}return{duration:a,delay:l,easing:h}}(t,i,e)}function z1(t,i={}){return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function g0(t,i,e={}){if(i)for(let s in t)e[s]=t[s];else z1(t,e);return e}function A3(t,i,e){return e?i+":"+e+";":""}function I3(t){let i="";for(let e=0;e<t.style.length;e++){const s=t.style.item(e);i+=A3(0,s,t.style.getPropertyValue(s))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(i+=A3(0,u5(e),t.style[e]));t.setAttribute("style",i)}function Wy(t,i,e){t.style&&(Object.keys(i).forEach(s=>{const a=UP(s);e&&!e.hasOwnProperty(s)&&(e[s]=t.style[a]),t.style[a]=i[s]}),DP()&&I3(t))}function Hx(t,i){t.style&&(Object.keys(i).forEach(e=>{const s=UP(e);t.style[s]=""}),DP()&&I3(t))}function bT(t){return Array.isArray(t)?1==t.length?t[0]:le(t):t}const VP=new RegExp("{{\\s*(.+?)\\s*}}","g");function L3(t){let i=[];if("string"==typeof t){let e;for(;e=VP.exec(t);)i.push(e[1]);VP.lastIndex=0}return i}function ZD(t,i,e){const s=t.toString(),a=s.replace(VP,(l,h)=>{let y=i[h];return i.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==s?t:a}function WD(t){const i=[];let e=t.next();for(;!e.done;)i.push(e.value),e=t.next();return i}const c5=/-+([a-z0-9])/g;function UP(t){return t.replace(c5,(...i)=>i[1].toUpperCase())}function u5(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function P3(t,i){return 0===t||0===i}function O3(t,i,e){const s=Object.keys(e);if(s.length&&i.length){let l=i[0],h=[];if(s.forEach(y=>{l.hasOwnProperty(y)||h.push(y),l[y]=e[y]}),h.length)for(var a=1;a<i.length;a++){let y=i[a];h.forEach(function(C){y[C]=jP(t,C)})}}return i}function tg(t,i,e){switch(i.type){case 7:return t.visitTrigger(i,e);case 0:return t.visitState(i,e);case 1:return t.visitTransition(i,e);case 2:return t.visitSequence(i,e);case 3:return t.visitGroup(i,e);case 4:return t.visitAnimate(i,e);case 5:return t.visitKeyframes(i,e);case 6:return t.visitStyle(i,e);case 8:return t.visitReference(i,e);case 9:return t.visitAnimateChild(i,e);case 10:return t.visitAnimateRef(i,e);case 11:return t.visitQuery(i,e);case 12:return t.visitStagger(i,e);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function jP(t,i){return window.getComputedStyle(t)[i]}function d5(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(s=>function(t,i,e){if(":"==t[0]){const C=function(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return i.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof C)return void i.push(C);t=C}const s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${t}" is not supported`),i;const a=s[1],l=s[2],h=s[3];i.push(R3(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&i.push(R3(h,a))}(s,e,i)):e.push(t),e}const qD=new Set(["true","1"]),$D=new Set(["false","0"]);function R3(t,i){const e=qD.has(t)||$D.has(t),s=qD.has(i)||$D.has(i);return(a,l)=>{let h="*"==t||t==a,y="*"==i||i==l;return!h&&e&&"boolean"==typeof a&&(h=a?qD.has(t):$D.has(t)),!y&&s&&"boolean"==typeof l&&(y=l?qD.has(i):$D.has(i)),h&&y}}const f5=new RegExp("s*:selfs*,?","g");function ZP(t,i,e){return new m5(t).build(i,e)}class m5{constructor(i){this._driver=i}build(i,e){const s=new y5(e);return this._resetContextStyleTimingState(s),tg(this,bT(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,e){let s=e.queryCount=0,a=e.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const C=y,P=C.name;P.toString().split(/\s*,\s*/).forEach(j=>{C.name=j,l.push(this.visitState(C,e))}),C.name=P}else if(1==y.type){const C=this.visitTransition(y,e);s+=C.queryCount,a+=C.depCount,h.push(C)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:h,queryCount:s,depCount:a,options:null}}visitState(i,e){const s=this.visitStyle(i.styles,e),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,h=a||{};if(s.styles.forEach(y=>{if(QD(y)){const C=y;Object.keys(C).forEach(P=>{L3(C[P]).forEach(j=>{h.hasOwnProperty(j)||l.add(j)})})}}),l.size){const y=WD(l.values());e.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const s=tg(this,bT(i.animation),e);return{type:1,matchers:d5(i.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:Vx(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(s=>tg(this,s,e)),options:Vx(i.options)}}visitGroup(i,e){const s=e.currentTime;let a=0;const l=i.steps.map(h=>{e.currentTime=s;const y=tg(this,h,e);return a=Math.max(a,e.currentTime),y});return e.currentTime=a,{type:3,steps:l,options:Vx(i.options)}}visitAnimate(i,e){const s=function(t,i){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return WP(jD(t,i).duration,0,"");const s=t;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=WP(0,0,"");return l.dynamic=!0,l.strValue=s,l}return e=e||jD(s,i),WP(e.duration,e.delay,e.easing)}(i.timings,e.errors);e.currentAnimateTimings=s;let a,l=i.styles?i.styles:ye({});if(5==l.type)a=this.visitKeyframes(l,e);else{let h=i.styles,y=!1;if(!h){y=!0;const P={};s.easing&&(P.easing=s.easing),h=ye(P)}e.currentTime+=s.duration+s.delay;const C=this.visitStyle(h,e);C.isEmptyStep=y,a=C}return e.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,e){const s=this._makeStyleAst(i,e);return this._validateStyleAst(s,e),s}_makeStyleAst(i,e){const s=[];Array.isArray(i.styles)?i.styles.forEach(h=>{"string"==typeof h?h==Zo?s.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(i.styles);let a=!1,l=null;return s.forEach(h=>{if(QD(h)){const y=h,C=y.easing;if(C&&(l=C,delete y.easing),!a)for(let P in y)if(y[P].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,e){const s=e.currentAnimateTimings;let a=e.currentTime,l=e.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void e.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const C=e.collectedStyles[e.currentQuerySelector],P=C[y];let j=!0;P&&(l!=a&&l>=P.startTime&&a<=P.endTime&&(e.errors.push(`The CSS property "${y}" that exists between the times of "${P.startTime}ms" and "${P.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),j=!1),l=P.startTime),j&&(C[y]={startTime:l,endTime:a}),e.options&&function(t,i,e){const s=i.params||{},a=L3(t);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[y],e.options,e.errors)})})}visitKeyframes(i,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const h=[];let y=!1,C=!1,P=0;const j=i.steps.map(vt=>{const Wt=this._makeStyleAst(vt,e);let nn=null!=Wt.offset?Wt.offset:function(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(QD(e)&&e.hasOwnProperty("offset")){const s=e;i=parseFloat(s.offset),delete s.offset}});else if(QD(t)&&t.hasOwnProperty("offset")){const e=t;i=parseFloat(e.offset),delete e.offset}return i}(Wt.styles),mn=0;return null!=nn&&(l++,mn=Wt.offset=nn),C=C||mn<0||mn>1,y=y||mn<P,P=mn,h.push(mn),Wt});C&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&e.errors.push("Please ensure that all keyframe offsets are in order");const te=i.steps.length;let he=0;l>0&&l<te?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(he=1/(te-1));const Ce=te-1,Le=e.currentTime,je=e.currentAnimateTimings,tt=je.duration;return j.forEach((vt,Wt)=>{const nn=he>0?Wt==Ce?1:he*Wt:h[Wt],mn=nn*tt;e.currentTime=Le+je.delay+mn,je.duration=mn,this._validateStyleAst(vt,e),vt.offset=nn,s.styles.push(vt)}),s}visitReference(i,e){return{type:8,animation:tg(this,bT(i.animation),e),options:Vx(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:Vx(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:Vx(i.options)}}visitQuery(i,e){const s=e.currentQuerySelector,a=i.options||{};e.queryCount++,e.currentQuery=i;const[l,h]=function(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(f5,"")),[t=t.replace(/@\*/g,UD).replace(/@\w+/g,e=>UD+"-"+e.substr(1)).replace(/:animating/g,YP),i]}(i.selector);e.currentQuerySelector=s.length?s+" "+l:l,eg(e.collectedStyles,e.currentQuerySelector,{});const y=tg(this,bT(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:i.selector,options:Vx(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:jD(i.timings,e.errors,!0);return{type:12,animation:tg(this,bT(i.animation),e),timings:s,options:null}}}class y5{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function QD(t){return!Array.isArray(t)&&"object"==typeof t}function Vx(t){return t?(t=z1(t)).params&&(t.params=function(t){return t?z1(t):null}(t.params)):t={},t}function WP(t,i,e){return{duration:t,delay:i,easing:e}}function GP(t,i,e,s,a,l,h=null,y=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:y}}class JD{constructor(){this._map=new Map}consume(i){let e=this._map.get(i);return e?this._map.delete(i):e=[],e}append(i,e){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const C5=new RegExp(":enter","g"),T5=new RegExp(":leave","g");function qP(t,i,e,s,a,l={},h={},y,C,P=[]){return(new S5).buildKeyframes(t,i,e,s,a,l,h,y,C,P)}class S5{buildKeyframes(i,e,s,a,l,h,y,C,P,j=[]){P=P||new JD;const te=new $P(i,e,P,a,l,j,[]);te.options=C,te.currentTimeline.setStyles([h],null,te.errors,C),tg(this,s,te);const he=te.timelines.filter(Ce=>Ce.containsAnimation());if(he.length&&Object.keys(y).length){const Ce=he[he.length-1];Ce.allowOnlyTimelineStyles()||Ce.setStyles([y],null,te.errors,C)}return he.length?he.map(Ce=>Ce.buildKeyframes()):[GP(e,[],[],[],0,0,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const s=e.subInstructions.consume(e.element);if(s){const a=e.createSubContext(i.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=i}visitAnimateRef(i,e){const s=e.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=i}_visitSubInstructions(i,e,s){let l=e.currentTimeline.currentTime;const h=null!=s.duration?Yx(s.duration):null,y=null!=s.delay?Yx(s.delay):null;return 0!==h&&i.forEach(C=>{const P=e.appendInstructionToTimeline(C,h,y);l=Math.max(l,P.duration+P.delay)}),l}visitReference(i,e){e.updateOptions(i.options,!0),tg(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const s=e.subContextCount;let a=e;const l=i.options;if(l&&(l.params||l.delay)&&(a=e.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=XD);const h=Yx(l.delay);a.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>tg(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const s=[];let a=e.currentTimeline.currentTime;const l=i.options&&i.options.delay?Yx(i.options.delay):0;i.steps.forEach(h=>{const y=e.createSubContext(i.options);l&&y.delayNextStep(l),tg(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),s.push(y.currentTimeline)}),s.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const s=i.strValue;return jD(e.params?ZD(s,e.params,e.errors):s,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const s=e.currentAnimateTimings=this._visitTiming(i.timings,e),a=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(s.duration),this.visitStyle(l,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const s=e.currentTimeline,a=e.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const s=e.currentAnimateTimings,a=e.currentTimeline.duration,l=s.duration,y=e.createSubContext().currentTimeline;y.easing=s.easing,i.styles.forEach(C=>{y.forwardTime((C.offset||0)*l),y.setStyles(C.styles,C.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(a+l),e.previousNode=i}visitQuery(i,e){const s=e.currentTimeline.currentTime,a=i.options||{},l=a.delay?Yx(a.delay):0;l&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=XD);let h=s;const y=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=y.length;let C=null;y.forEach((P,j)=>{e.currentQueryIndex=j;const te=e.createSubContext(i.options,P);l&&te.delayNextStep(l),P===e.element&&(C=te.currentTimeline),tg(this,i.animation,te),te.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,te.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const s=e.parentContext,a=e.currentTimeline,l=i.timings,h=Math.abs(l.duration),y=h*(e.currentQueryTotal-1);let C=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":C=y-C;break;case"full":C=s.currentStaggerTime}const j=e.currentTimeline;C&&j.delayNextStep(C);const te=j.currentTime;tg(this,i.animation,e),e.previousNode=i,s.currentStaggerTime=a.currentTime-te+(a.startTime-s.currentTimeline.startTime)}}const XD={};class $P{constructor(i,e,s,a,l,h,y,C){this._driver=i,this.element=e,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new KD(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=Yx(s.duration)),null!=s.delay&&(a.delay=Yx(s.delay));const l=s.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(y=>{(!e||!h.hasOwnProperty(y))&&(h[y]=ZD(l[y],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const s=i.params={};Object.keys(e).forEach(a=>{s[a]=e[a]})}}return i}createSubContext(i=null,e,s){const a=e||this.element,l=new $P(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=XD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,s){const a={duration:null!=e?e:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new k5(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,s,a,l,h){let y=[];if(a&&y.push(this.element),i.length>0){i=(i=i.replace(C5,"."+this._enterClassName)).replace(T5,"."+this._leaveClassName);let P=this._driver.query(this.element,i,1!=s);0!==s&&(P=s<0?P.slice(P.length+s,P.length):P.slice(0,s)),y.push(...P)}return!l&&0==y.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),y}}class KD{constructor(i,e,s,a){this._driver=i,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new KD(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles[i]=e,this._globalTimelineStyles[i]=e,this._styleSummary[i]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Zo,this._currentKeyframe[e]=Zo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,s,a){e&&(this._previousKeyframe.easing=e);const l=a&&a.params||{},h=function(t,i){const e={};let s;return t.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{e[l]=Zo})):g0(a,!1,e)}),e}(i,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const C=ZD(h[y],l,s);this._pendingStyles[y]=C,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:Zo),this._updateStyle(y,C)})}applyStylesToKeyframe(){const i=this._pendingStyles,e=Object.keys(i);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const e=this._localTimelineStyles[i];this._pendingStyles[i]=e,this._updateStyle(i,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(e=>{const s=this._styleSummary[e],a=i._styleSummary[e];(!s||a.time>s.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,C)=>{const P=g0(y,!0);Object.keys(P).forEach(j=>{const te=P[j];"!"==te?i.add(j):te==Zo&&e.add(j)}),s||(P.offset=C/this.duration),a.push(P)});const l=i.size?WD(i.values()):[],h=e.size?WD(e.values()):[];if(s){const y=a[0],C=z1(y);y.offset=0,C.offset=1,a=[y,C]}return GP(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class k5 extends KD{constructor(i,e,s,a,l,h,y=!1){super(i,e,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=s+e,y=e/h,C=g0(i[0],!1);C.offset=0,l.push(C);const P=g0(i[0],!1);P.offset=z3(y),l.push(P);const j=i.length-1;for(let te=1;te<=j;te++){let he=g0(i[te],!1);he.offset=z3((e+he.offset*s)/h),l.push(he)}s=h,e=0,a="",i=l}return GP(this.element,i,this.preStyleProps,this.postStyleProps,s,e,a,!0)}}function z3(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}class QP{}class D5 extends QP{normalizePropertyName(i,e){return UP(i)}normalizeStyleValue(i,e,s,a){let l="";const h=s.toString().trim();if(A5[e]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const y=s.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return h+l}}const A5=(()=>function(t){const i={};return t.forEach(e=>i[e]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function B3(t,i,e,s,a,l,h,y,C,P,j,te,he){return{type:0,element:t,triggerName:i,isRemovalTransition:a,fromState:e,fromStyles:l,toState:s,toStyles:h,timelines:y,queriedElements:C,preStyleProps:P,postStyleProps:j,totalTime:te,errors:he}}const JP={};class Y3{constructor(i,e,s){this._triggerName=i,this.ast=e,this._stateStyles=s}match(i,e,s,a){return function(t,i,e,s,a){return t.some(l=>l(i,e,s,a))}(this.ast.matchers,i,e,s,a)}buildStyles(i,e,s){const a=this._stateStyles["*"],l=this._stateStyles[i],h=a?a.buildStyles(e,s):{};return l?l.buildStyles(e,s):h}build(i,e,s,a,l,h,y,C,P,j){const te=[],he=this.ast.options&&this.ast.options.params||JP,Le=this.buildStyles(s,y&&y.params||JP,te),je=C&&C.params||JP,tt=this.buildStyles(a,je,te),vt=new Set,Wt=new Map,nn=new Map,mn="void"===a,hn={params:Object.assign(Object.assign({},he),je)},qn=j?[]:qP(i,e,this.ast.animation,l,h,Le,tt,hn,P,te);let ai=0;if(qn.forEach(Pi=>{ai=Math.max(Pi.duration+Pi.delay,ai)}),te.length)return B3(e,this._triggerName,s,a,mn,Le,tt,[],[],Wt,nn,ai,te);qn.forEach(Pi=>{const ws=Pi.element,fo=eg(Wt,ws,{});Pi.preStyleProps.forEach(fl=>fo[fl]=!0);const mo=eg(nn,ws,{});Pi.postStyleProps.forEach(fl=>mo[fl]=!0),ws!==e&&vt.add(ws)});const Oi=WD(vt.values());return B3(e,this._triggerName,s,a,mn,Le,tt,qn,Oi,Wt,nn,ai)}}class P5{constructor(i,e,s){this.styles=i,this.defaultParams=e,this.normalizer=s}buildStyles(i,e){const s={},a=z1(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(y=>{let C=h[y];C.length>1&&(C=ZD(C,a,e));const P=this.normalizer.normalizePropertyName(y,e);C=this.normalizer.normalizeStyleValue(y,P,C,e),s[P]=C})}}),s}}class R5{constructor(i,e,s){this.name=i,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new P5(a.style,a.options&&a.options.params||{},s)}),H3(this.states,"true","1"),H3(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new Y3(i,a,this.states))}),this.fallbackTransition=function(t,i,e){return new Y3(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,s,a){return this.transitionFactories.find(h=>h.match(i,e,s,a))||null}matchStyles(i,e,s){return this.fallbackTransition.buildStyles(i,e,s)}}function H3(t,i,e){t.hasOwnProperty(i)?t.hasOwnProperty(e)||(t[e]=t[i]):t.hasOwnProperty(e)&&(t[i]=t[e])}const N5=new JD;class z5{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,e){const s=[],a=ZP(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,e,s){const a=i.element,l=b3(0,this._normalizer,0,i.keyframes,e,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,e,s={}){const a=[],l=this._animations[i];let h;const y=new Map;if(l?(h=qP(this._driver,e,l,BP,HD,{},{},s,N5,a),h.forEach(j=>{const te=eg(y,j.element,{});j.postStyleProps.forEach(he=>te[he]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((j,te)=>{Object.keys(j).forEach(he=>{j[he]=this._driver.computeStyle(te,he,Zo)})});const P=m0(h.map(j=>{const te=y.get(j.element);return this._buildPlayer(j,{},te)}));return this._playersById[i]=P,P.onDestroy(()=>this.destroy(i)),this.players.push(P),P}destroy(i){const e=this._getPlayer(i);e.destroy(),delete this._playersById[i];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(i){const e=this._playersById[i];if(!e)throw new Error(`Unable to find the timeline player referenced by ${i}`);return e}listen(i,e,s,a){const l=LP(e,"","","");return AP(this._getPlayer(i),s,l,a),()=>{}}command(i,e,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,e,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const V3="ng-animate-queued",U3="ng-animate-disabled",j3=".ng-animate-disabled",V5=[],Z3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zg="__ng_removed";class XP{constructor(i,e=""){this.namespaceId=e;const s=i&&i.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(s?i.value:i),s){const l=z1(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const e=i.params;if(e){const s=this.options.params;Object.keys(e).forEach(a=>{null==s[a]&&(s[a]=e[a])})}}}const xT="void",KP=new XP(xT);class j5{constructor(i,e,s){this.id=i,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Wg(e,this._hostClassName)}listen(i,e,s,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(t){return"start"==t||"done"==t}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const l=eg(this._elementListeners,i,[]),h={name:e,phase:s,callback:a};l.push(h);const y=eg(this._engine.statesByElement,i,{});return y.hasOwnProperty(e)||(Wg(i,VD),Wg(i,VD+"-"+e),y[e]=KP),()=>{this._engine.afterFlush(()=>{const C=l.indexOf(h);C>=0&&l.splice(C,1),this._triggers[e]||delete y[e]})}}register(i,e){return!this._triggers[i]&&(this._triggers[i]=e,!0)}_getTrigger(i){const e=this._triggers[i];if(!e)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return e}trigger(i,e,s,a=!0){const l=this._getTrigger(e),h=new eO(this.id,e,i);let y=this._engine.statesByElement.get(i);y||(Wg(i,VD),Wg(i,VD+"-"+e),this._engine.statesByElement.set(i,y={}));let C=y[e];const P=new XP(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&P.absorbOptions(C.options),y[e]=P,C||(C=KP),P.value!==xT&&C.value===P.value){if(!function(t,i){const e=Object.keys(t),s=Object.keys(i);if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++){const l=e[a];if(!i.hasOwnProperty(l)||t[l]!==i[l])return!1}return!0}(C.params,P.params)){const je=[],tt=l.matchStyles(C.value,C.params,je),vt=l.matchStyles(P.value,P.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{Hx(i,tt),Wy(i,vt)})}return}const he=eg(this._engine.playersByElement,i,[]);he.forEach(je=>{je.namespaceId==this.id&&je.triggerName==e&&je.queued&&je.destroy()});let Ce=l.matchTransition(C.value,P.value,i,P.params),Le=!1;if(!Ce){if(!a)return;Ce=l.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:Ce,fromState:C,toState:P,player:h,isFallbackTransition:Le}),Le||(Wg(i,V3),h.onStart(()=>{B1(i,V3)})),h.onDone(()=>{let je=this.players.indexOf(h);je>=0&&this.players.splice(je,1);const tt=this._engine.playersByElement.get(i);if(tt){let vt=tt.indexOf(h);vt>=0&&tt.splice(vt,1)}}),this.players.push(h),he.push(h),h}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((e,s)=>{delete e[i]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const s=this._engine.driver.query(i,UD,!0);s.forEach(a=>{if(a[Zg])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,e,s,a){const l=this._engine.statesByElement.get(i);if(l){const h=[];if(Object.keys(l).forEach(y=>{if(this._triggers[y]){const C=this.trigger(i,y,xT,a);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,i,!0,e),s&&m0(h).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(e&&s){const a=new Set;e.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const C=this._triggers[h].fallbackTransition,P=s[h]||KP,j=new XP(xT),te=new eO(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:C,fromState:P,toState:j,player:te,isFallbackTransition:!0})})}}removeNode(i,e){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let h=i;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,e);else{const l=i[Zg];(!l||l===Z3)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,e))}}insertNode(i,e){Wg(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,h=this._elementListeners.get(l);h&&h.forEach(y=>{if(y.name==s.triggerName){const C=LP(l,s.triggerName,s.fromState.value,s.toState.value);C._data=i,AP(s.player,y.phase,C,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(s)}),this._queue=[],e.sort((s,a)=>{const l=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let e=!1;return this._elementListeners.has(i)&&(e=!0),e=!!this._queue.find(s=>s.element===i)||e,e}}class Z5{constructor(i,e,s){this.bodyNode=i,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,e){const s=new j5(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,e){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(e,i),i}register(i,e){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,e)),s}registerTrigger(i,e,s){let a=this._namespaceLookup[i];a&&a.register(e,s)&&this.totalAnimations++}destroy(i,e){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const h=s[a[l]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&e.add(y)}}}return e}trigger(i,e,s,a){if(eA(e)){const l=this._fetchNamespace(i);if(l)return l.trigger(e,s,a),!0}return!1}insertNode(i,e,s,a){if(!eA(e))return;const l=e[Zg];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(e,s)}a&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Wg(i,U3)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),B1(i,U3))}removeNode(i,e,s,a){if(eA(e)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(e,a):this.markElementAsRemoved(i,e,!1,a),s){const h=this.namespacesByHostElement.get(e);h&&h.id!==i&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(i,e,s,a){this.collectedLeaveElements.push(e),e[Zg]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,e,s,a,l){return eA(e)?this._fetchNamespace(i).listen(e,s,a,l):()=>{}}_buildInstruction(i,e,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,e,l)}destroyInnerAnimations(i){let e=this.driver.query(i,UD,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,YP,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return m0(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[Zg];if(e&&e.setForRemoval){if(i[Zg]=Z3,e.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}this.driver.matchesElement(i,j3)&&this.markElementAsDisabled(i,!1),this.driver.query(i,j3,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Wg(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?m0(e).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,e){const s=new JD,a=[],l=new Map,h=[],y=new Map,C=new Map,P=new Map,j=new Set;this.disabledNodes.forEach(Si=>{j.add(Si);const kr=this.driver.query(Si,".ng-animate-queued",!0);for(let Kr=0;Kr<kr.length;Kr++)j.add(kr[Kr])});const te=this.bodyNode,he=Array.from(this.statesByElement.keys()),Ce=q3(he,this.collectedEnterElements),Le=new Map;let je=0;Ce.forEach((Si,kr)=>{const Kr=BP+je++;Le.set(kr,Kr),Si.forEach(vo=>Wg(vo,Kr))});const tt=[],vt=new Set,Wt=new Set;for(let Si=0;Si<this.collectedLeaveElements.length;Si++){const kr=this.collectedLeaveElements[Si],Kr=kr[Zg];Kr&&Kr.setForRemoval&&(tt.push(kr),vt.add(kr),Kr.hasAnimation?this.driver.query(kr,".ng-star-inserted",!0).forEach(vo=>vt.add(vo)):Wt.add(kr))}const nn=new Map,mn=q3(he,Array.from(vt));mn.forEach((Si,kr)=>{const Kr=HD+je++;nn.set(kr,Kr),Si.forEach(vo=>Wg(vo,Kr))}),i.push(()=>{Ce.forEach((Si,kr)=>{const Kr=Le.get(kr);Si.forEach(vo=>B1(vo,Kr))}),mn.forEach((Si,kr)=>{const Kr=nn.get(kr);Si.forEach(vo=>B1(vo,Kr))}),tt.forEach(Si=>{this.processLeaveNode(Si)})});const hn=[],qn=[];for(let Si=this._namespaceList.length-1;Si>=0;Si--)this._namespaceList[Si].drainQueuedTransitions(e).forEach(Kr=>{const vo=Kr.player,su=Kr.element;if(hn.push(vo),this.collectedEnterElements.length){const Ky=su[Zg];if(Ky&&Ky.setForMove)return void vo.destroy()}const xp=!te||!this.driver.containsElement(te,su),oh=nn.get(su),bm=Le.get(su),ql=this._buildInstruction(Kr,s,bm,oh,xp);if(ql.errors&&ql.errors.length)qn.push(ql);else{if(xp)return vo.onStart(()=>Hx(su,ql.fromStyles)),vo.onDestroy(()=>Wy(su,ql.toStyles)),void a.push(vo);if(Kr.isFallbackTransition)return vo.onStart(()=>Hx(su,ql.fromStyles)),vo.onDestroy(()=>Wy(su,ql.toStyles)),void a.push(vo);ql.timelines.forEach(Ky=>Ky.stretchStartingKeyframe=!0),s.append(su,ql.timelines),h.push({instruction:ql,player:vo,element:su}),ql.queriedElements.forEach(Ky=>eg(y,Ky,[]).push(vo)),ql.preStyleProps.forEach((Ky,AS)=>{const HI=Object.keys(Ky);if(HI.length){let uw=C.get(AS);uw||C.set(AS,uw=new Set),HI.forEach(wF=>uw.add(wF))}}),ql.postStyleProps.forEach((Ky,AS)=>{const HI=Object.keys(Ky);let uw=P.get(AS);uw||P.set(AS,uw=new Set),HI.forEach(wF=>uw.add(wF))})}});if(qn.length){const Si=[];qn.forEach(kr=>{Si.push(`@${kr.triggerName} has failed due to:\n`),kr.errors.forEach(Kr=>Si.push(`- ${Kr}\n`))}),hn.forEach(kr=>kr.destroy()),this.reportError(Si)}const ai=new Map,Oi=new Map;h.forEach(Si=>{const kr=Si.element;s.has(kr)&&(Oi.set(kr,kr),this._beforeAnimationBuild(Si.player.namespaceId,Si.instruction,ai))}),a.forEach(Si=>{const kr=Si.element;this._getPreviousPlayers(kr,!1,Si.namespaceId,Si.triggerName,null).forEach(vo=>{eg(ai,kr,[]).push(vo),vo.destroy()})});const Pi=tt.filter(Si=>Q3(Si,C,P)),ws=new Map;G3(ws,this.driver,Wt,P,Zo).forEach(Si=>{Q3(Si,C,P)&&Pi.push(Si)});const mo=new Map;Ce.forEach((Si,kr)=>{G3(mo,this.driver,new Set(Si),C,"!")}),Pi.forEach(Si=>{const kr=ws.get(Si),Kr=mo.get(Si);ws.set(Si,Object.assign(Object.assign({},kr),Kr))});const fl=[],Yh=[],go={};h.forEach(Si=>{const{element:kr,player:Kr,instruction:vo}=Si;if(s.has(kr)){if(j.has(kr))return Kr.onDestroy(()=>Wy(kr,vo.toStyles)),Kr.disabled=!0,Kr.overrideTotalTime(vo.totalTime),void a.push(Kr);let su=go;if(Oi.size>1){let oh=kr;const bm=[];for(;oh=oh.parentNode;){const ql=Oi.get(oh);if(ql){su=ql;break}bm.push(oh)}bm.forEach(ql=>Oi.set(ql,su))}const xp=this._buildAnimation(Kr.namespaceId,vo,ai,l,mo,ws);if(Kr.setRealPlayer(xp),su===go)fl.push(Kr);else{const oh=this.playersByElement.get(su);oh&&oh.length&&(Kr.parentPlayer=m0(oh)),a.push(Kr)}}else Hx(kr,vo.fromStyles),Kr.onDestroy(()=>Wy(kr,vo.toStyles)),Yh.push(Kr),j.has(kr)&&a.push(Kr)}),Yh.forEach(Si=>{const kr=l.get(Si.element);if(kr&&kr.length){const Kr=m0(kr);Si.setRealPlayer(Kr)}}),a.forEach(Si=>{Si.parentPlayer?Si.syncPlayerEvents(Si.parentPlayer):Si.destroy()});for(let Si=0;Si<tt.length;Si++){const kr=tt[Si],Kr=kr[Zg];if(B1(kr,HD),Kr&&Kr.hasAnimation)continue;let vo=[];if(y.size){let xp=y.get(kr);xp&&xp.length&&vo.push(...xp);let oh=this.driver.query(kr,YP,!0);for(let bm=0;bm<oh.length;bm++){let ql=y.get(oh[bm]);ql&&ql.length&&vo.push(...ql)}}const su=vo.filter(xp=>!xp.destroyed);su.length?$5(this,kr,su):this.processLeaveNode(kr)}return tt.length=0,fl.forEach(Si=>{this.players.push(Si),Si.onDone(()=>{Si.destroy();const kr=this.players.indexOf(Si);this.players.splice(kr,1)}),Si.play()}),fl}elementContainsData(i,e){let s=!1;const a=e[Zg];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(i).elementContainsData(e)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,s,a,l){let h=[];if(e){const y=this.playersByQueriedElement.get(i);y&&(h=y)}else{const y=this.playersByElement.get(i);if(y){const C=!l||l==xT;y.forEach(P=>{P.queued||!C&&P.triggerName!=a||h.push(P)})}}return(s||a)&&(h=h.filter(y=>!(s&&s!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(i,e,s){const l=e.element,h=e.isRemovalTransition?void 0:i,y=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const P=C.element,j=P!==l,te=eg(s,P,[]);this._getPreviousPlayers(P,j,h,y,e.toState).forEach(Ce=>{const Le=Ce.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),Ce.destroy(),te.push(Ce)})}Hx(l,e.fromStyles)}_buildAnimation(i,e,s,a,l,h){const y=e.triggerName,C=e.element,P=[],j=new Set,te=new Set,he=e.timelines.map(Le=>{const je=Le.element;j.add(je);const tt=je[Zg];if(tt&&tt.removedBeforeQueried)return new Rs(Le.duration,Le.delay);const vt=je!==C,Wt=function(t){const i=[];return $3(t,i),i}((s.get(je)||V5).map(ai=>ai.getRealPlayer())).filter(ai=>!!ai.element&&ai.element===je),nn=l.get(je),mn=h.get(je),hn=b3(0,this._normalizer,0,Le.keyframes,nn,mn),qn=this._buildPlayer(Le,hn,Wt);if(Le.subTimeline&&a&&te.add(je),vt){const ai=new eO(i,y,je);ai.setRealPlayer(qn),P.push(ai)}return qn});P.forEach(Le=>{eg(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function(t,i,e){let s;if(t instanceof Map){if(s=t.get(i),s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&t.delete(i)}}else if(s=t[i],s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&delete t[i]}return s}(this.playersByQueriedElement,Le.element,Le))}),j.forEach(Le=>Wg(Le,E3));const Ce=m0(he);return Ce.onDestroy(()=>{j.forEach(Le=>B1(Le,E3)),Wy(C,e.toStyles)}),te.forEach(Le=>{eg(a,Le,[]).push(Ce)}),Ce}_buildPlayer(i,e,s){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,s):new Rs(i.duration,i.delay)}}class eO{constructor(i,e,s){this.namespaceId=i,this.triggerName=e,this.element=s,this._player=new Rs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>AP(i,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){eg(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function eA(t){return t&&1===t.nodeType}function W3(t,i){const e=t.style.display;return t.style.display=null!=i?i:"none",e}function G3(t,i,e,s,a){const l=[];e.forEach(C=>l.push(W3(C)));const h=[];s.forEach((C,P)=>{const j={};C.forEach(te=>{const he=j[te]=i.computeStyle(P,te,a);(!he||0==he.length)&&(P[Zg]=U5,h.push(P))}),t.set(P,j)});let y=0;return e.forEach(C=>W3(C,l[y++])),h}function q3(t,i){const e=new Map;if(t.forEach(y=>e.set(y,[])),0==i.length)return e;const a=new Set(i),l=new Map;function h(y){if(!y)return 1;let C=l.get(y);if(C)return C;const P=y.parentNode;return C=e.has(P)?P:a.has(P)?1:h(P),l.set(y,C),C}return i.forEach(y=>{const C=h(y);1!==C&&e.get(C).push(y)}),e}const tA="$$classes";function Wg(t,i){if(t.classList)t.classList.add(i);else{let e=t[tA];e||(e=t[tA]={}),e[i]=!0}}function B1(t,i){if(t.classList)t.classList.remove(i);else{let e=t[tA];e&&delete e[i]}}function $5(t,i,e){m0(e).onDone(()=>t.processLeaveNode(i))}function $3(t,i){for(let e=0;e<t.length;e++){const s=t[e];s instanceof af?$3(s.players,i):i.push(s)}}function Q3(t,i,e){const s=e.get(t);if(!s)return!1;let a=i.get(t);return a?s.forEach(l=>a.add(l)):i.set(t,s),e.delete(t),!0}class nA{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Z5(i,e,s),this._timelineEngine=new z5(i,e,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,e,s,a,l){const h=i+"-"+a;let y=this._triggerCache[h];if(!y){const C=[],P=ZP(this._driver,l,C);if(C.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);y=function(t,i,e){return new R5(t,i,e)}(a,P,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(e,a,y)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,s,a){this._transitionEngine.insertNode(i,e,s,a)}onRemove(i,e,s,a){this._transitionEngine.removeNode(i,e,a||!1,s)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,s,a){if("@"==s.charAt(0)){const[l,h]=x3(s);this._timelineEngine.command(l,e,h,a)}else this._transitionEngine.trigger(i,e,s,a)}listen(i,e,s,a,l){if("@"==s.charAt(0)){const[h,y]=x3(s);return this._timelineEngine.listen(h,e,y,l)}return this._transitionEngine.listen(i,e,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function J3(t,i){let e=null,s=null;return Array.isArray(i)&&i.length?(e=tO(i[0]),i.length>1&&(s=tO(i[i.length-1]))):i&&(e=tO(i)),e||s?new Y1(t,e,s):null}class Y1{constructor(i,e,s){this._element=i,this._startStyles=e,this._endStyles=s,this._state=0;let a=Y1.initialStylesByElement.get(i);a||Y1.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Wy(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wy(this._element,this._initialStyles),this._endStyles&&(Wy(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Y1.initialStylesByElement.delete(this._element),this._startStyles&&(Hx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hx(this._element,this._endStyles),this._endStyles=null),Wy(this._element,this._initialStyles),this._state=3)}}function tO(t){let i=null;const e=Object.keys(t);for(let s=0;s<e.length;s++){const a=e[s];X5(a)&&(i=i||{},i[a]=t[a])}return i}function X5(t){return"display"===t||"position"===t}Y1.initialStylesByElement=new WeakMap;const X3="animation",K3="animationend";class tj{constructor(i,e,s,a,l,h,y){this._element=i,this._name=e,this._duration=s,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(t,i){const e=iO(t,"").trim();let s=0;e.length&&(function(t,i){let e=0;for(let s=0;s<t.length;s++)","===t.charAt(s)&&e++;return e}(e)+1,i=`${e}, ${i}`),iA(t,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nz(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ez(this._element,this._name,"paused")}resume(){ez(this._element,this._name,"running")}setPosition(i){const e=tz(this._element,this._name);this._position=i*this._duration,iA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(i){const e=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nz(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,i){const s=iO(t,"").split(","),a=nO(s,i);a>=0&&(s.splice(a,1),iA(t,"",s.join(",")))}(this._element,this._name))}}function ez(t,i,e){iA(t,"PlayState",e,tz(t,i))}function tz(t,i){const e=iO(t,"");return e.indexOf(",")>0?nO(e.split(","),i):nO([e],i)}function nO(t,i){for(let e=0;e<t.length;e++)if(t[e].indexOf(i)>=0)return e;return-1}function nz(t,i,e){e?t.removeEventListener(K3,i):t.addEventListener(K3,i)}function iA(t,i,e,s){const a=X3+i;if(null!=s){const l=t.style[a];if(l.length){const h=l.split(",");h[s]=e,e=h.join(",")}}t.style[a]=e}function iO(t,i){return t.style[X3+i]||""}class iz{constructor(i,e,s,a,l,h,y,C){this.element=i,this.keyframes=e,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=y,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=e?this._finalStyles[s]:jP(this.element,s))})}this.currentSnapshot=i}}class aj extends Rs{constructor(i,e){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=T3(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const e=this._startingStyles[i];e?this.element.style.setProperty(i,e):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class sz{constructor(){this._count=0}validateStyleProperty(i){return RP(i)}matchesElement(i,e){return FP(i,e)}containsElement(i,e){return NP(i,e)}query(i,e,s){return zP(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}buildKeyframeElement(i,e,s){s=s.map(y=>T3(y));let a=`@keyframes ${e} {\n`,l="";s.forEach(y=>{l=" ";const C=parseFloat(y.offset);a+=`${l}${100*C}% {\n`,l+=" ",Object.keys(y).forEach(P=>{const j=y[P];switch(P){case"offset":return;case"easing":return void(j&&(a+=`${l}animation-timing-function: ${j};\n`));default:return void(a+=`${l}${P}: ${j};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(i,e,s,a,l,h=[],y){const C=h.filter(tt=>tt instanceof iz),P={};P3(s,a)&&C.forEach(tt=>{let vt=tt.currentSnapshot;Object.keys(vt).forEach(Wt=>P[Wt]=vt[Wt])});const j=function(t){let i={};return t&&(Array.isArray(t)?t:[t]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(e=O3(i,e,P));if(0==s)return new aj(i,j);const te="gen_css_kf_"+this._count++,he=this.buildKeyframeElement(i,te,e);(function(t){var i;const e=null===(i=t.getRootNode)||void 0===i?void 0:i.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(i).appendChild(he);const Le=J3(i,e),je=new iz(i,e,te,s,a,l,j,Le);return je.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(he)),je}}class az{constructor(i,e,s,a){this.element=i,this.keyframes=e,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,e,s){return i.animate(e,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(i[e]=this._finished?this._finalKeyframe[e]:jP(this.element,e))}),this.currentSnapshot=i}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class hj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(lz().toString()),this._cssKeyframesDriver=new sz}validateStyleProperty(i){return RP(i)}matchesElement(i,e){return FP(i,e)}containsElement(i,e){return NP(i,e)}query(i,e,s){return zP(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,e,s,a,l,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,e,s,a,l,h);const j={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(j.easing=l);const te={},he=h.filter(Le=>Le instanceof az);P3(s,a)&&he.forEach(Le=>{let je=Le.currentSnapshot;Object.keys(je).forEach(tt=>te[tt]=je[tt])});const Ce=J3(i,e=O3(i,e=e.map(Le=>g0(Le,!1)),te));return new az(i,e,j,Ce)}}function lz(){return v3()&&Element.prototype.animate||{}}let fj=(()=>{class t extends Od{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?le(e):e;return cz(this._renderer,null,s,"register",[a]),new mj(s,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(De))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class mj extends class{}{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new gj(this._id,i,e||{},this._renderer)}}class gj{constructor(i,e,s,a){this.id=i,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return cz(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,e;return null!==(e=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==e?e:0}}function cz(t,i,e,s,a){return t.setProperty(i,`@@${e}:${s}`,a)}const uz="@.disabled";let _j=(()=>{class t{constructor(e,s,a){this.delegate=e,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(e,s){const l=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let j=this._rendererCache.get(l);return j||(j=new dz("",l,this.engine),this._rendererCache.set(l,j)),j}const h=s.id,y=s.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const C=j=>{Array.isArray(j)?j.forEach(C):this.engine.registerTrigger(h,y,e,j.name,j)};return s.data.animation.forEach(C),new yj(this,y,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,a){e>=0&&e<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,y]=l;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(nA),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class dz{constructor(i,e,s){this.namespaceId=i,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,s,a=!0){this.delegate.insertBefore(i,e,s),this.engine.onInsert(this.namespaceId,e,i,a)}removeChild(i,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,s,a){this.delegate.setAttribute(i,e,s,a)}removeAttribute(i,e,s){this.delegate.removeAttribute(i,e,s)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,s,a){this.delegate.setStyle(i,e,s,a)}removeStyle(i,e,s){this.delegate.removeStyle(i,e,s)}setProperty(i,e,s){"@"==e.charAt(0)&&e==uz?this.disableAnimations(i,!!s):this.delegate.setProperty(i,e,s)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,s){return this.delegate.listen(i,e,s)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class yj extends dz{constructor(i,e,s,a){super(e,s,a),this.factory=i,this.namespaceId=e}setProperty(i,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==uz?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,e.substr(1),s):this.delegate.setProperty(i,e,s)}listen(i,e,s){if("@"==e.charAt(0)){const a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let l=e.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(t){const i=t.indexOf(".");return[t.substring(0,i),t.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,s,y)})}return this.delegate.listen(i,e,s)}}let xj=(()=>{class t extends nA{constructor(e,s,a){super(e.body,s,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De),o.LFG(YD),o.LFG(QP))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Ff=new o.OlP("AnimationModuleType"),hz=[{provide:Od,useClass:fj},{provide:QP,useFactory:function(){return new D5}},{provide:nA,useClass:xj},{provide:o.FYo,useFactory:function(t,i,e){return new _j(t,i,e)},deps:[xc,nA,o.R0b]}],pz=[{provide:YD,useFactory:function(){return"function"==typeof lz()?new hj:new sz}},{provide:Ff,useValue:"BrowserAnimations"},...hz],fz=[{provide:YD,useClass:S3},{provide:Ff,useValue:"NoopAnimations"},...hz];let mz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?fz:pz}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:pz,imports:[Ip]}),t})();function kj(t,i){if(1&t&&o._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Ej(t,i){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const Dj=["*"];let Aj=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Ij=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const gz=new o.GfV("11.2.13"),Pj=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ux,Hs=(()=>{class t{constructor(e,s,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,o.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const s=this._document.createElement("div");s.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(s);const a=getComputedStyle(s);a&&"none"!==a.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(s)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&gz.full!==N1.full&&console.warn("The Angular Material version ("+gz.full+") does not match the Angular CDK version ("+N1.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Uv),o.LFG(Pj,8),o.LFG(De))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wv],Wv]}),t})();function Gy(t){return class extends t{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=us(i)}}}function H1(t,i){return class extends t{constructor(...e){super(...e),this.defaultColor=i,this.color=i}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function _0(t){return class extends t{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=us(s)}}}function _z(t,i=0){return class extends t{constructor(...a){super(...a),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(a){this._tabIndex=null!=a?gc(a):this.defaultTabIndex}}}function yz(t){return class extends t{constructor(...i){super(...i),this.errorState=!1,this.stateChanges=new ri.xQ}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}function vz(t){return class extends t{constructor(...i){super(...i),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Or.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(i){i.next(),i.complete()}}}try{Ux="undefined"!=typeof Intl}catch(t){Ux=!1}let rO=(()=>{class t{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),oA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs],Hs]}),t})();class Zj{constructor(i,e,s){this._renderer=i,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xz={enterDuration:450,exitDuration:400},aO=Bv({passive:!0}),wz=["mousedown","touchstart"],Cz=["mouseup","mouseleave","touchend","touchcancel"];class Gj{constructor(i,e,s,a){this._target=i,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=H_(s))}fadeInRipple(i,e,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},xz),s.animation);s.centered&&(i=a.left+a.width/2,e=a.top+a.height/2);const h=s.radius||function(t,i,e){const s=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),a=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(s*s+a*a)}(i,e,a),y=i-a.left,C=e-a.top,P=l.enterDuration,j=document.createElement("div");j.classList.add("mat-ripple-element"),j.style.left=y-h+"px",j.style.top=C-h+"px",j.style.height=2*h+"px",j.style.width=2*h+"px",null!=s.color&&(j.style.backgroundColor=s.color),j.style.transitionDuration=`${P}ms`,this._containerElement.appendChild(j),function(t){window.getComputedStyle(t).getPropertyValue("opacity")}(j),j.style.transform="scale(1)";const te=new Zj(this,j,s);return te.state=0,this._activeRipples.add(te),s.persistent||(this._mostRecentTransientRipple=te),this._runTimeoutOutsideZone(()=>{const he=te===this._mostRecentTransientRipple;te.state=1,!s.persistent&&(!he||!this._isPointerDown)&&te.fadeOut()},P),te}fadeOutRipple(i){const e=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=i.element,a=Object.assign(Object.assign({},xz),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=H_(i);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(wz))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Cz),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const e=en(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Ln(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,e))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(e=>{this._triggerElement.addEventListener(e,this,aO)})})}_removeTriggerEvents(){this._triggerElement&&(wz.forEach(i=>{this._triggerElement.removeEventListener(i,this,aO)}),this._pointerUpEventsRegistered&&Cz.forEach(i=>{this._triggerElement.removeEventListener(i,this,aO)}))}}const Qj=new o.OlP("mat-ripple-global-options");let qy=(()=>{class t{constructor(e,s,a,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new Gj(this,s,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Ta),o.Y36(Qj,8),o.Y36(Ff,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),V1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs,d0],Hs]}),t})(),Mz=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ff,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,s){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs]]}),t})();const cO=new o.OlP("MAT_OPTION_PARENT_COMPONENT");class Jj{}const Xj=Gy(Jj);let Kj=0,Tz=(()=>{class t extends Xj{constructor(e){var s;super(),this._labelId="mat-optgroup-label-"+Kj++,this._inert=null!==(s=null==e?void 0:e.inertGroups)&&void 0!==s&&s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(cO,8))},t.\u0275dir=o.lG2({type:t,inputs:{label:"label"},features:[o.qOj]}),t})();const uO=new o.OlP("MatOptgroup");let eZ=0;class tZ{constructor(i,e=!1){this.source=i,this.isUserInput=e}}let nZ=(()=>{class t{constructor(e,s,a,l){this._element=e,this._changeDetectorRef=s,this._parent=a,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+eZ++,this.onSelectionChange=new o.vpe,this._stateChanges=new ri.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=us(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,s){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Of(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new tZ(this,e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(void 0),o.Y36(Tz))},t.\u0275dir=o.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Sz=(()=>{class t extends nZ{constructor(e,s,a,l){super(e,s,a,l)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(cO,8),o.Y36(uO,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(l){return s._handleKeydown(l)}),2&e&&(o.Ikx("id",s.id),o.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),o.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:Dj,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,kj,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,Ej,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",s.multiple),o.xp6(3),o.Q6J("ngIf",s.group&&s.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[cn,qy,Mz],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function kz(t,i,e){if(e.length){let s=i.toArray(),a=e.toArray(),l=0;for(let h=0;h<t+1;h++)s[h].group&&s[h].group===a[l]&&l++;return l}return 0}let Ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[V1,$i,Hs,lO]]}),t})();const Dz=["mat-button",""],Az=["*"],sZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class oZ{constructor(i){this._elementRef=i}}const aZ=H1(Gy(_0(oZ)));let xu=(()=>{class t extends aZ{constructor(e,s,a){super(e),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of sZ)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Qi),o.Y36(Ff,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&o.Gf(qy,5),2&e){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Dz,ngContentSelectors:Az,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[qy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),dO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[V1,Hs],Hs]}),t})();var lZ=Ae(9105);function Gv(t,i,e,s){return(0,lZ.m)(e)&&(s=e,e=void 0),s?Gv(t,i,e).pipe((0,Fi.U)(a=>(0,xx.k)(a)?s(...a):s(a))):new Or.y(a=>{Lz(t,i,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function Lz(t,i,e,s,a){let l;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const h=t;t.addEventListener(i,e,a),l=()=>h.removeEventListener(i,e,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const h=t;t.on(i,e),l=()=>h.off(i,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const h=t;t.addListener(i,e),l=()=>h.removeListener(i,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let h=0,y=t.length;h<y;h++)Lz(t[h],i,e,s,a)}s.add(l)}const Pz=["*"];var sl=(()=>(function(t){t.AnnotationChart="AnnotationChart",t.AreaChart="AreaChart",t.Bar="Bar",t.BarChart="BarChart",t.BubbleChart="BubbleChart",t.Calendar="Calendar",t.CandlestickChart="CandlestickChart",t.ColumnChart="ColumnChart",t.ComboChart="ComboChart",t.PieChart="PieChart",t.Gantt="Gantt",t.Gauge="Gauge",t.GeoChart="GeoChart",t.Histogram="Histogram",t.Line="Line",t.LineChart="LineChart",t.Map="Map",t.OrgChart="OrgChart",t.Sankey="Sankey",t.Scatter="Scatter",t.ScatterChart="ScatterChart",t.SteppedAreaChart="SteppedAreaChart",t.Table="Table",t.Timeline="Timeline",t.TreeMap="TreeMap",t.WordTree="wordtree"}(sl||(sl={})),sl))();const pZ={[sl.AnnotationChart]:"annotationchart",[sl.AreaChart]:"corechart",[sl.Bar]:"bar",[sl.BarChart]:"corechart",[sl.BubbleChart]:"corechart",[sl.Calendar]:"calendar",[sl.CandlestickChart]:"corechart",[sl.ColumnChart]:"corechart",[sl.ComboChart]:"corechart",[sl.PieChart]:"corechart",[sl.Gantt]:"gantt",[sl.Gauge]:"gauge",[sl.GeoChart]:"geochart",[sl.Histogram]:"corechart",[sl.Line]:"line",[sl.LineChart]:"corechart",[sl.Map]:"map",[sl.OrgChart]:"orgchart",[sl.Sankey]:"sankey",[sl.Scatter]:"scatter",[sl.ScatterChart]:"corechart",[sl.SteppedAreaChart]:"corechart",[sl.Table]:"table",[sl.Timeline]:"timeline",[sl.TreeMap]:"treemap",[sl.WordTree]:"wordtree"},Fz=new o.OlP("GOOGLE_CHARTS_CONFIG"),mZ=new o.OlP("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{const t=(0,o.f3M)(Fz,o.XFs.Optional);return(0,Di.of)(Object.assign(Object.assign({},{version:"current",safeMode:!1}),t||{}))}});let U1=(()=>{class t{constructor(e,s,a){this.zone=e,this.localeId=s,this.config$=a,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new ri.xQ}isGoogleChartsAvailable(){return!("undefined"==typeof google||void 0===google.charts)}loadChartPackages(...e){return this.loadGoogleCharts().pipe((0,vu.zg)(()=>this.config$),(0,Fi.U)(s=>Object.assign(Object.assign({},{version:"current",safeMode:!1}),s||{})),Ps(s=>new Or.y(a=>{google.charts.load(s.version,{packages:e,language:this.localeId,mapsApiKey:s.mapsApiKey,safeMode:s.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{a.next(),a.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return(0,Di.of)(null);if(!this.isLoadingGoogleCharts()){const e=this.createGoogleChartsScript();e.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},e.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(s=>s.src===this.scriptSource)}createGoogleChartsScript(){const e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(o.soG),o.LFG(mZ))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Nz=(()=>{class t{create(e,s,a){if(null==e)return;let l=!0;null!=s&&(l=!1);const h=google.visualization.arrayToDataTable(this.getDataAsTable(e,s),l);return a&&this.applyFormatters(h,a),h}getDataAsTable(e,s){return s?[s,...e]:e}applyFormatters(e,s){for(const a of s)a.formatter.format(e,a.colIndex)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),_Z=(()=>{class t{constructor(e){this.loaderService=e,this.error=new o.vpe,this.ready=new o.vpe,this.stateChange=new o.vpe,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new Gh(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(e){!this._controlWrapper||(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options||{}),e.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",e=>this.ready.emit(e)),google.visualization.events.addListener(this._controlWrapper,"error",e=>this.error.emit(e)),google.visualization.events.addListener(this._controlWrapper,"statechange",e=>this.stateChange.emit(e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(U1))},t.\u0275cmp=o.Xpm({type:t,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,s){2&e&&o.Ikx("id",s.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[o.TTD],decls:0,vars:0,template:function(e,s){},encapsulation:2,changeDetection:0}),t})(),yZ=(()=>{class t{constructor(e,s,a){this.element=e,this.loaderService=s,this.dataTableService=a,this.ready=new o.vpe,this.error=new o.vpe,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(e){!this.initialized||(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){const e=this.controlWrappers.map(a=>a.wrapperReady$),s=this.controlWrappers.map(a=>a.for).map(a=>Array.isArray(a)?zg(a.map(l=>l.wrapperReady$)):a.wrapperReady$);zg([...e,...s]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);const e=(s,a,l)=>{google.visualization.events.addListener(s,a,l)};e(this.dashboard,"ready",()=>this.ready.emit()),e(this.dashboard,"error",s=>this.error.emit(s))}initializeBindings(){this.controlWrappers.forEach(e=>{if(Array.isArray(e.for)){const s=e.for.map(a=>a.chartWrapper);this.dashboard.bind(e.controlWrapper,s)}else this.dashboard.bind(e.controlWrapper,e.for.chartWrapper)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(U1),o.Y36(Nz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["dashboard"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,_Z,4),2&e){let l;o.iGM(l=o.CRH())&&(s.controlWrappers=l)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[o.TTD],ngContentSelectors:Pz,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),vZ=(()=>{class t{constructor(e,s,a,l){this.element=e,this.scriptLoaderService=s,this.dataTableService=a,this.dashboard=l,this.options={},this.dynamicResize=!1,this.ready=new o.vpe,this.error=new o.vpe,this.select=new o.vpe,this.mouseover=new o.vpe,this.mouseleave=new o.vpe,this.wrapperReadySubject=new Gh(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(e){this.wrapper=e,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(function(t){return pZ[t]}(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){let s=!1;(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),s=!0),e.type&&(this.wrapper.setChartType(this.type),s=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),s=!0),s&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(e,s){const a=this.registerChartEvent(this.chart,e,s);return this.eventListeners.set(a,{eventName:e,callback:s,handle:a}),a}removeEventListener(e){const s=this.eventListeners.get(e);s&&(google.visualization.events.removeListener(s.handle),this.eventListeners.delete(e))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=Gv(window,"resize",{passive:!0}).pipe(u0(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",e=>this.mouseover.emit(e)),this.registerChartEvent(this.chart,"onmouseout",e=>this.mouseleave.emit(e)),this.registerChartEvent(this.chart,"select",()=>{const e=this.chart.getSelection();this.select.emit({selection:e})}),this.eventListeners.forEach(e=>e.handle=this.registerChartEvent(this.chart,e.eventName,e.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",e=>this.error.emit(e))}registerChartEvent(e,s,a){return google.visualization.events.addListener(e,s,a)}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(U1),o.Y36(Nz),o.Y36(yZ,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[o.TTD],decls:0,vars:0,template:function(e,s){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),t})(),bZ=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Fz,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[U1]}),t})();function xZ(t,i){if(1&t&&o._UZ(0,"google-chart",7),2&t){const e=o.oxw();o.Q6J("type",e.stockType)("data",e.stockChartData)("title",e.stock)("options",e.stockOption)("height",e.height)}}function wZ(t,i){1&t&&(o.TgZ(0,"p"),o._uU(1,"No data is available for chart. "),o._UZ(2,"br"),o._uU(3,"Please add your stock data to enable it."),o.qZA())}function CZ(t,i){if(1&t&&o._UZ(0,"google-chart",7),2&t){const e=o.oxw();o.Q6J("type",e.topSalesType)("data",e.topSalesChartData)("title",e.topSales)("options",e.stockOption)("height",e.height)}}function MZ(t,i){1&t&&(o.TgZ(0,"p"),o._uU(1,"No data is available for chart. "),o._UZ(2,"br"),o._uU(3,"Please sell your stock to enable it."),o.qZA())}function TZ(t,i){if(1&t&&(o.TgZ(0,"li"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Product name: ",e.data.productname,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,"")}}const SZ=function(){return{"margin-top":"50px"}},kZ=function(){return["/supplierorder"]};let EZ=(()=>{class t{constructor(e,s){var a=this;this.fs=e,this.fa=s,this.stockChartData=[],this.stock="Stock of the product",this.topSalesChartData=[],this.topSales="Top Sales Product",this.product=[],this.height="300",this.show=!0,this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(null==l?void 0:l.uid).collection("menu").snapshotChanges().subscribe(h=>{h.map(function(){var y=Rr(function*(C){let P=[C.payload.doc.data().brand,parseInt(C.payload.doc.data().quantity)];a.stockChartData.push(P)});return function(C){return y.apply(this,arguments)}}())})}),this.stockType="BarChart",this.stockOption={chartArea:{width:"50vw"},hAxis:{title:"Unit",minValue:0},vAxis:{title:"Product Name"}},this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(null==l?void 0:l.uid).collection("menu").snapshotChanges().subscribe(h=>{h.map(y=>{let C=[y.payload.doc.data().brand,y.payload.doc.data().totalSale];console.log(C),y.payload.doc.data().totalSale>0&&this.topSalesChartData.push(C)})})}),this.topSalesType="PieChart",this.topSalesOption={chartArea:{width:"50vw"},pieHole:.4},this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(null==l?void 0:l.uid).valueChanges().subscribe(h=>{let y=h.compname;this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(C=>{this.product=[],C.map(P=>{if(P.payload.doc.data().compname==y&&"paid"==P.payload.doc.data().status){let j={trackingNumber:P.payload.doc.id,data:P.payload.doc.data()};this.product.push(j),console.log(this.product)}})})})})}ngOnInit(){}get stateName(){return this.show?"show":"hide"}toggle(){this.show=!this.show}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-home-page"]],decls:16,vars:12,consts:[[1,"flex",3,"ngStyle"],[1,"item",3,"mouseenter","mouseleave"],["style","width: 100%;",3,"type","data","title","options","height",4,"ngIf"],[4,"ngIf"],[1,"position"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"routerLink"],[2,"width","100%",3,"type","data","title","options","height"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"body"),o.TgZ(2,"div",0),o.TgZ(3,"div",1),o.NdJ("mouseenter",function(){return s.toggle()})("mouseleave",function(){return s.toggle()}),o.YNc(4,xZ,1,5,"google-chart",2),o.YNc(5,wZ,4,0,"p",3),o.qZA(),o.TgZ(6,"div",1),o.NdJ("mouseenter",function(){return s.toggle()})("mouseleave",function(){return s.toggle()}),o.YNc(7,CZ,1,5,"google-chart",2),o.YNc(8,MZ,4,0,"p",3),o.qZA(),o.qZA(),o.TgZ(9,"div",4),o.TgZ(10,"p-card"),o._uU(11),o.TgZ(12,"ul"),o.YNc(13,TZ,7,3,"li",5),o.qZA(),o.TgZ(14,"button",6),o._uU(15,"View more details"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngStyle",o.DdM(10,SZ)),o.xp6(1),o.Q6J("@popOverState",s.stateName),o.xp6(1),o.Q6J("ngIf",s.stockChartData.length>0),o.xp6(1),o.Q6J("ngIf",0===s.stockChartData.length),o.xp6(1),o.Q6J("@popOverState",s.stateName),o.xp6(1),o.Q6J("ngIf",s.topSalesChartData.length>0),o.xp6(1),o.Q6J("ngIf",0===s.topSalesChartData.length),o.xp6(3),o.hij(" You have ",s.product.length," order items needed to be approved "),o.xp6(2),o.Q6J("ngForOf",s.product),o.xp6(1),o.Q6J("routerLink",o.DdM(11,kZ)))},directives:[C1,Gi,cn,T1,ft,xu,Yy,vZ],styles:[".flex[_ngcontent-%COMP%]{display:flex;justify-content:space-around}p-card[_ngcontent-%COMP%]{width:200px}.item[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;border-radius:25px;height:300px}google-chart[_ngcontent-%COMP%]{border-radius:25px}body[_ngcontent-%COMP%]{background-color:#f5f5f5}.postition[_ngcontent-%COMP%]{display:absolute;bottom:0;left:0}"],data:{animation:[fs("popOverState",[Ne("show",ye({transform:"scale(1)"})),Ne("hide",ye({transform:"scale(1.2)"})),Et("show=>hide",yi("600ms ease-out")),Et("hide=>show",yi("600ms ease-in"))])]}}),t})(),y0=(()=>{class t{constructor(e,s,a,l){this.fauth=e,this.route=s,this.router=a,this.firestore=l,this.tempo="",this.user$=this.fauth.authState,this.user$.subscribe(h=>{this.uid=null==h?void 0:h.uid,console.log("User Logged in "+this.uid)}),e.setPersistence("local").then(h=>{console.log("local session")})}login(e,s){var a=this;return Rr(function*(){return new Promise(l=>{a.fauth.signInWithEmailAndPassword(e,s).then(h=>{var y,C;a.uid=null===(y=h.user)||void 0===y?void 0:y.uid,a.firestore.collection("Admin").doc(a.uid).valueChanges().subscribe(P=>{P&&a.router.navigateByUrl("/adminpage")}),a.firestore.collection("Student").doc(a.uid).valueChanges().subscribe(P=>{P&&a.router.navigateByUrl("/studentpage")}),a.firestore.collection("Supplier").doc(a.uid).valueChanges().subscribe(P=>{P&&a.router.navigateByUrl("/supplierpage")}),(null===(C=h.user)||void 0===C?void 0:C.emailVerified)||(a.emailVerified=!1),l(!0)}).catch(h=>{"auth/wrong-password"===h.code&&(console.log("wrong password"),a.passwordVerified=!1,a.passwordVerified||(a.passwordVerified=!1)),"auth/user-not-found"===h.code&&(a.userVerified=!1),l(!1)})})})()}register(e,s,a,l,h,y,C,P,j){var te=this;return Rr(function*(){return new Promise((he,Ce)=>{te.fauth.createUserWithEmailAndPassword(e,s).then(Le=>{var je,tt;console.log(Le),he({validate:!0}),te.fauth.currentUser.then(vt=>{null==vt||vt.sendEmailVerification()}).then(vt=>{console.log(vt)}),"1"===a?(console.log("student"),te.firestore.collection("Student").doc(null===(je=Le.user)||void 0===je?void 0:je.uid).set({name:l,email:e,dob:h,phone:y,gender:C,matrixid:P,isStudent:!1})):"2"===a&&(console.log("supplier"),te.firestore.collection("Supplier").doc(null===(tt=Le.user)||void 0===tt?void 0:tt.uid).set({name:l,email:e,dob:h,phone:y,gender:C,compname:j,isSupplier:!1}))}).catch(Le=>{console.log(Le),"auth/email-already-in-use"===Le.code&&he({validate:!1})})})})()}getAdminStatus(){var e=this;return Rr(function*(){return new Promise(s=>{e.admin$=e.firestore.collection("Admin").doc(e.uid).valueChanges(),e.admin$.subscribe(a=>{s(null==a?void 0:a.isAdmin)})})})()}getStudentStatus(){var e=this;return Rr(function*(){return new Promise(s=>{e.student$=e.firestore.collection("Student").doc(e.uid).valueChanges(),e.student$.subscribe(a=>{s(null==a?void 0:a.isStudent)})})})()}getSupplierStatus(){var e=this;return Rr(function*(){return new Promise(s=>{e.supplier$=e.firestore.collection("Supplier").doc(e.uid).valueChanges(),e.supplier$.subscribe(a=>{s(null==a?void 0:a.isSupplier)})})})()}verificationemail(){this.fauth.user.subscribe(e=>{null==e||e.sendEmailVerification(),console.log("Verification email sent")},e=>{console.log(e)})}checkExistedEmail(e){var s=this;return Rr(function*(){return new Promise(a=>{s.fauth.fetchSignInMethodsForEmail(e).then(l=>{console.log(l),s.emailExistedStatus=!0,a(!0)},l=>{console.log(l)})})})()}forgotPassword(e){var s=this;return Rr(function*(){return new Promise(a=>{s.fauth.sendPasswordResetEmail(e).then(l=>{console.log("success"),a(!0)},l=>{console.log(l.code),"auth/user-not-found"===l.code&&a(!1)})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ci),o.LFG(Jp),o.LFG(ea),o.LFG(Co))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),j1=(()=>{class t{constructor(e,s){this.auth=e,this.router=s}canActivate(e,s){var a=this;return Rr(function*(){let l=yield a.auth.getSupplierStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(y0),o.LFG(ea))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z1=Ae(6738);class zz{}class Bz{}class qv{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),l=a.toLowerCase(),h=e.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(e=>{let s=i[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof qv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new qv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof qv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,e);const a=("a"===i.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const l=i.value;if(l){let h=this.headers.get(e);if(!h)return;h=h.filter(y=>-1===l.indexOf(y)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class DZ{encodeKey(i){return Yz(i)}encodeValue(i){return Yz(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}function Yz(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Hz(t){return`${t}`}class v0{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new DZ,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[h,y]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],C=e.get(h)||[];C.push(y),e.set(h,C)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const s=i.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{e.push({param:s,value:l,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new v0({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(Hz(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(Hz(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class IZ{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function Vz(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Uz(t){return"undefined"!=typeof Blob&&t instanceof Blob}function jz(t){return"undefined"!=typeof FormData&&t instanceof FormData}class CT{constructor(i,e,s,a){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new qv),this.context||(this.context=new IZ),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+h}}else this.params=new v0,this.urlWithParams=e}serializeBody(){return null===this.body?null:Vz(this.body)||Uz(this.body)||jz(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof v0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jz(this.body)?null:Uz(this.body)?this.body.type||null:Vz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var e;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,h=void 0!==i.body?i.body:this.body,y=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,C=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let P=i.headers||this.headers,j=i.params||this.params;const te=null!==(e=i.context)&&void 0!==e?e:this.context;return void 0!==i.setHeaders&&(P=Object.keys(i.setHeaders).reduce((he,Ce)=>he.set(Ce,i.setHeaders[Ce]),P)),i.setParams&&(j=Object.keys(i.setParams).reduce((he,Ce)=>he.set(Ce,i.setParams[Ce]),j)),new CT(s,a,h,{params:j,headers:P,context:te,reportProgress:C,responseType:l,withCredentials:y})}}var xd=(()=>((xd=xd||{})[xd.Sent=0]="Sent",xd[xd.UploadProgress=1]="UploadProgress",xd[xd.ResponseHeader=2]="ResponseHeader",xd[xd.DownloadProgress=3]="DownloadProgress",xd[xd.Response=4]="Response",xd[xd.User=5]="User",xd))();class hO{constructor(i,e=200,s="OK"){this.headers=i.headers||new qv,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class pO extends hO{constructor(i={}){super(i),this.type=xd.ResponseHeader}clone(i={}){return new pO({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class aA extends hO{constructor(i={}){super(i),this.type=xd.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new aA({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Zz extends hO{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function fO(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let j_=(()=>{class t{constructor(e){this.handler=e}request(e,s,a={}){let l;if(e instanceof CT)l=e;else{let C,P;C=a.headers instanceof qv?a.headers:new qv(a.headers),a.params&&(P=a.params instanceof v0?a.params:new v0({fromObject:a.params})),l=new CT(e,s,void 0!==a.body?a.body:null,{headers:C,context:a.context,params:P,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,Di.of)(l).pipe(Gb(C=>this.handler.handle(C)));if(e instanceof CT||"events"===a.observe)return h;const y=h.pipe(T(C=>C instanceof aA));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return y.pipe((0,Fi.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return y.pipe((0,Fi.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return y.pipe((0,Fi.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return y.pipe((0,Fi.U)(C=>C.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new v0).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,fO(a,s))}post(e,s,a={}){return this.request("POST",e,fO(a,s))}put(e,s,a={}){return this.request("PUT",e,fO(a,s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(zz))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class Wz{constructor(i,e){this.next=i,this.interceptor=e}handle(i){return this.interceptor.intercept(i,this.next)}}const mO=new o.OlP("HTTP_INTERCEPTORS");let OZ=(()=>{class t{intercept(e,s){return s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const RZ=/^\)\]\}',?\n/;let Gz=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Or.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((Ce,Le)=>a.setRequestHeader(Ce,Le.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ce=e.detectContentTypeHeader();null!==Ce&&a.setRequestHeader("Content-Type",Ce)}if(e.responseType){const Ce=e.responseType.toLowerCase();a.responseType="json"!==Ce?Ce:"text"}const l=e.serializeBody();let h=null;const y=()=>{if(null!==h)return h;const Ce=1223===a.status?204:a.status,Le=a.statusText||"OK",je=new qv(a.getAllResponseHeaders()),tt=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return h=new pO({headers:je,status:Ce,statusText:Le,url:tt}),h},C=()=>{let{headers:Ce,status:Le,statusText:je,url:tt}=y(),vt=null;204!==Le&&(vt=void 0===a.response?a.responseText:a.response),0===Le&&(Le=vt?200:0);let Wt=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof vt){const nn=vt;vt=vt.replace(RZ,"");try{vt=""!==vt?JSON.parse(vt):null}catch(mn){vt=nn,Wt&&(Wt=!1,vt={error:mn,text:vt})}}Wt?(s.next(new aA({body:vt,headers:Ce,status:Le,statusText:je,url:tt||void 0})),s.complete()):s.error(new Zz({error:vt,headers:Ce,status:Le,statusText:je,url:tt||void 0}))},P=Ce=>{const{url:Le}=y(),je=new Zz({error:Ce,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Le||void 0});s.error(je)};let j=!1;const te=Ce=>{j||(s.next(y()),j=!0);let Le={type:xd.DownloadProgress,loaded:Ce.loaded};Ce.lengthComputable&&(Le.total=Ce.total),"text"===e.responseType&&!!a.responseText&&(Le.partialText=a.responseText),s.next(Le)},he=Ce=>{let Le={type:xd.UploadProgress,loaded:Ce.loaded};Ce.lengthComputable&&(Le.total=Ce.total),s.next(Le)};return a.addEventListener("load",C),a.addEventListener("error",P),a.addEventListener("timeout",P),a.addEventListener("abort",P),e.reportProgress&&(a.addEventListener("progress",te),null!==l&&a.upload&&a.upload.addEventListener("progress",he)),a.send(l),s.next({type:xd.Sent}),()=>{a.removeEventListener("error",P),a.removeEventListener("abort",P),a.removeEventListener("load",C),a.removeEventListener("timeout",P),e.reportProgress&&(a.removeEventListener("progress",te),null!==l&&a.upload&&a.upload.removeEventListener("progress",he)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Wc))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const gO=new o.OlP("XSRF_COOKIE_NAME"),_O=new o.OlP("XSRF_HEADER_NAME");class qz{}let NZ=(()=>{class t{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=J(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De),o.LFG(o.Lbi),o.LFG(gO))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),yO=(()=>{class t{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(qz),o.LFG(_O))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),zZ=(()=>{class t{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(mO,[]);this.chain=s.reduceRight((a,l)=>new Wz(a,l),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Bz),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),BZ=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:yO,useClass:OZ}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:gO,useValue:e.cookieName}:[],e.headerName?{provide:_O,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[yO,{provide:mO,useExisting:yO,multi:!0},{provide:qz,useClass:NZ},{provide:gO,useValue:"XSRF-TOKEN"},{provide:_O,useValue:"X-XSRF-TOKEN"}]}),t})(),$z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[j_,{provide:zz,useClass:zZ},Gz,{provide:Bz,useExisting:Gz}],imports:[[BZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Z_=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Admin").doc(h).valueChanges()})}ngOnInit(){}logout(){this.fauth.signOut(),localStorage.removeItem("admin"),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(ea),o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-adminnavbarpage"]],decls:35,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/adminpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/adminpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/adminmanageinv",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/adminprofile",1,"dropdown-item"],["routerLink","/adminpermissionpage",1,"dropdown-item"],["routerLink","/adminmenupage",1,"dropdown-item"],["routerLink","/admintrackingpage",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS - Admin"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Inventory"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Permission"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Menu"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o._uU(31,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(32,"li"),o.TgZ(33,"a",18),o.NdJ("click",function(){return s.logout()}),o._uU(34,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#b8ab97"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.username," ")}},directives:[B_,Y_],pipes:[$l],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})(),un=(()=>{class t{static addClass(e,s){e.classList?e.classList.add(s):e.className+=" "+s}static addMultipleClasses(e,s){if(e.classList){let a=s.trim().split(" ");for(let l=0;l<a.length;l++)e.classList.add(a[l])}else{let a=s.split(" ");for(let l=0;l<a.length;l++)e.className+=" "+a[l]}}static removeClass(e,s){e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp("(^|\\b)"+s.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(s){return s!==e})}static find(e,s){return Array.from(e.querySelectorAll(s))}static findSingle(e,s){return e?e.querySelector(s):null}static index(e){let s=e.parentNode.childNodes,a=0;for(var l=0;l<s.length;l++){if(s[l]==e)return a;1==s[l].nodeType&&a++}return-1}static indexWithinGroup(e,s){let a=e.parentNode?e.parentNode.childNodes:[],l=0;for(var h=0;h<a.length;h++){if(a[h]==e)return l;a[h].attributes&&a[h].attributes[s]&&1==a[h].nodeType&&l++}return-1}static relativePosition(e,s){let a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=s.offsetHeight,h=s.getBoundingClientRect(),y=this.getViewport();let C,P;h.top+l+a.height>y.height?(C=-1*a.height,e.style.transformOrigin="bottom",h.top+C<0&&(C=-1*h.top)):(C=l,e.style.transformOrigin="top"),P=a.width>y.width?-1*h.left:h.left+a.width>y.width?-1*(h.left+a.width-y.width):0,e.style.top=C+"px",e.style.left=P+"px"}static absolutePosition(e,s){let Ce,Le,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=a.height,h=a.width,y=s.offsetHeight,C=s.offsetWidth,P=s.getBoundingClientRect(),j=this.getWindowScrollTop(),te=this.getWindowScrollLeft(),he=this.getViewport();P.top+y+l>he.height?(Ce=P.top+j-l,e.style.transformOrigin="bottom",Ce<0&&(Ce=j)):(Ce=y+P.top+j,e.style.transformOrigin="top"),Le=P.left+h>he.width?Math.max(0,P.left+te+C-h):P.left+te,e.style.top=Ce+"px",e.style.left=Le+"px"}static getParents(e,s=[]){return null===e.parentNode?s:this.getParents(e.parentNode,s.concat([e.parentNode]))}static getScrollableParents(e){let s=[];if(e){let a=this.getParents(e);const l=/(auto|scroll)/,h=y=>{let C=window.getComputedStyle(y,null);return l.test(C.getPropertyValue("overflow"))||l.test(C.getPropertyValue("overflowX"))||l.test(C.getPropertyValue("overflowY"))};for(let y of a){let C=1===y.nodeType&&y.dataset.scrollselectors;if(C){let P=C.split(",");for(let j of P){let te=this.findSingle(y,j);te&&h(te)&&s.push(te)}}9!==y.nodeType&&h(y)&&s.push(y)}}return s}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementDimensions(e){let s={};return e.style.visibility="hidden",e.style.display="block",s.width=e.offsetWidth,s.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",s}static scrollInView(e,s){let a=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=a?parseFloat(a):0,h=getComputedStyle(e).getPropertyValue("paddingTop"),y=h?parseFloat(h):0,C=e.getBoundingClientRect(),j=s.getBoundingClientRect().top+document.body.scrollTop-(C.top+document.body.scrollTop)-l-y,te=e.scrollTop,he=e.clientHeight,Ce=this.getOuterHeight(s);j<0?e.scrollTop=te+j:j+Ce>he&&(e.scrollTop=te+j-he+Ce)}static fadeIn(e,s){e.style.opacity=0;let a=+new Date,l=0,h=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-a)/s,e.style.opacity=l,a=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(e,s){var a=1,y=50/s;let C=setInterval(()=>{(a-=y)<=0&&(a=0,clearInterval(C)),e.style.opacity=a},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,s){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(e,s)}static getOuterWidth(e,s){let a=e.offsetWidth;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return a}static getHorizontalPadding(e){let s=getComputedStyle(e);return parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)}static getHorizontalMargin(e){let s=getComputedStyle(e);return parseFloat(s.marginLeft)+parseFloat(s.marginRight)}static innerWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static width(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static getInnerHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),s}static getOuterHeight(e,s){let a=e.offsetHeight;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return a}static getHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),s}static getWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),s}static getViewport(){let e=window,s=document,a=s.documentElement,l=s.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||l.clientWidth,height:e.innerHeight||a.clientHeight||l.clientHeight}}static getOffset(e){var s=e.getBoundingClientRect();return{top:s.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:s.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,s){let a=e.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(s,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,s){if(this.isElement(s))s.appendChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot append "+s+" to "+e;s.el.nativeElement.appendChild(e)}}static removeChild(e,s){if(this.isElement(s))s.removeChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot remove "+e+" from "+s;s.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let s=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);let a=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let s=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=s,s}static invokeElementMethod(e,s,a){e[s].apply(e,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),s=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let s=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),a=[];for(let l of s)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&a.push(l);return a}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class MT{constructor(i,e=(()=>{})){this.element=i,this.listener=e}bindScrollListener(){this.scrollableParents=un.getScrollableParents(this.element);for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let YZ=(()=>{class t{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let s=un.getFocusableElements(this.el.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pFocusTrap",""]],hostBindings:function(e,s){1&e&&o.NdJ("keydown.tab",function(l){return s.onkeydown(l)})("keydown.shift.tab",function(l){return s.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),t})(),HZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})(),W_=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let s=this.getInk();if(!s||"none"===getComputedStyle(s,null).display)return;if(un.removeClass(s,"p-ink-active"),!un.getHeight(s)&&!un.getWidth(s)){let y=Math.max(un.getOuterWidth(this.el.nativeElement),un.getOuterHeight(this.el.nativeElement));s.style.height=y+"px",s.style.width=y+"px"}let a=un.getOffset(this.el.nativeElement),l=e.pageX-a.left+document.body.scrollTop-un.getWidth(s)/2,h=e.pageY-a.top+document.body.scrollLeft-un.getHeight(s)/2;s.style.top=h+"px",s.style.left=l+"px",un.addClass(s,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&un.removeClass(e,"p-ink-active")}onAnimationEnd(e){un.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),un.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Lf,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("p-ripple",!0)}}),t})(),_m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();const VZ=["titlebar"],UZ=["content"],jZ=["footer"];function ZZ(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label"),o.xp6(1),o.Oqu(e.header)}}function WZ(t,i){if(1&t&&(o.TgZ(0,"span",16),o.Hsn(1,1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label")}}function GZ(t,i){1&t&&o.GkF(0)}const qZ=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function $Z(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).maximize()})("keydown.enter",function(){return o.CHM(e),o.oxw(4).maximize()}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,qZ)),o.xp6(1),o.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const QZ=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function JZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",19),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,QZ)),o.xp6(1),o.Q6J("ngClass",e.closeIcon)}}function XZ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",11,12),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initDrag(a)}),o.YNc(2,ZZ,2,2,"span",13),o.YNc(3,WZ,2,1,"span",13),o.YNc(4,GZ,1,0,"ng-container",8),o.TgZ(5,"div",14),o.YNc(6,$Z,2,3,"button",15),o.YNc(7,JZ,2,3,"button",15),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.headerFacet),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngIf",e.maximizable),o.xp6(1),o.Q6J("ngIf",e.closable)}}function KZ(t,i){1&t&&o.GkF(0)}function eW(t,i){1&t&&o.GkF(0)}function tW(t,i){if(1&t&&(o.TgZ(0,"div",20,21),o.Hsn(2,2),o.YNc(3,eW,1,0,"ng-container",8),o.qZA()),2&t){const e=o.oxw(3);o.xp6(3),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function nW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",22),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initResize(a)}),o.qZA()}}const iW=function(t,i,e,s){return{"p-dialog p-component":!0,"p-dialog-rtl":t,"p-dialog-draggable":i,"p-dialog-resizable":e,"p-dialog-maximized":s}},rW=function(t,i){return{transform:t,transition:i}},sW=function(t){return{value:"visible",params:t}};function oW(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3,4),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(2,XZ,8,5,"div",5),o.TgZ(3,"div",6,7),o.Hsn(5),o.YNc(6,KZ,1,0,"ng-container",8),o.qZA(),o.YNc(7,tW,4,1,"div",9),o.YNc(8,nW,1,0,"div",10),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.l5B(15,iW,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",o.VKq(23,sW,o.WLB(20,rW,e.transformOptions,e.transitionOptions))),o.uIk("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.showHeader),o.xp6(1),o.Tol(e.contentStyleClass),o.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),o.xp6(3),o.Q6J("ngTemplateOutlet",e.contentTemplate),o.xp6(1),o.Q6J("ngIf",e.footerFacet||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",e.resizable)}}const aW=function(t,i,e,s,a,l,h,y,C,P){return{"p-dialog-mask":!0,"p-component-overlay":t,"p-dialog-mask-scrollblocker":i,"p-dialog-left":e,"p-dialog-right":s,"p-dialog-top":a,"p-dialog-top-left":l,"p-dialog-top-right":h,"p-dialog-bottom":y,"p-dialog-bottom-left":C,"p-dialog-bottom-right":P}};function lW(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,oW,9,25,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",o.rFY(4,aW,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),o.xp6(1),o.Q6J("ngIf",e.visible)}}const cW=["*",[["p-header"]],[["p-footer"]]],uW=["*","p-header","p-footer"],dW=En([ye({transform:"{{transform}}",opacity:0}),yi("{{transition}}")]),hW=En([yi("{{transition}}",ye({transform:"{{transform}}",opacity:0}))]);let lA=(()=>{class t{constructor(e,s,a,l,h){this.el=e,this.renderer=s,this.zone=a,this.cd=l,this.config=h,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new o.vpe,this.onHide=new o.vpe,this.visibleChange=new o.vpe,this.onResizeInit=new o.vpe,this.onResizeEnd=new o.vpe,this.onDragEnd=new o.vpe,this.onMaximize=new o.vpe,this.id=Vy(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=un.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&un.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&un.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?un.addClass(document.body,"p-overflow-hidden"):un.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(iu.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){un.hasClass(e.target,"p-dialog-header-icon")||un.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",un.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let s=un.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}onDrag(e){if(this.dragging){let s=un.getOuterWidth(this.container),a=un.getOuterHeight(this.container),l=e.pageX-this.lastPageX,h=e.pageY-this.lastPageY,y=un.getOffset(this.container),C=y.left+l,P=y.top+h,j=un.getViewport();this.container.style.position="fixed",this.keepInViewport?(C>=this.minX&&C+s<j.width&&(this._style.left=C+"px",this.lastPageX=e.pageX,this.container.style.left=C+"px"),P>=this.minY&&P+a<j.height&&(this._style.top=P+"px",this.lastPageY=e.pageY,this.container.style.top=P+"px")):(this.lastPageX=e.pageX,this.container.style.left=C+"px",this.lastPageY=e.pageY,this.container.style.top=P+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,un.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,un.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let s=e.pageX-this.lastPageX,a=e.pageY-this.lastPageY,l=un.getOuterWidth(this.container),h=un.getOuterHeight(this.container),y=un.getOuterHeight(this.contentViewChild.nativeElement),C=l+s,P=h+a,j=this.container.style.minWidth,te=this.container.style.minHeight,he=un.getOffset(this.container),Ce=un.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(C+=s,P+=a),(!j||C>parseInt(j))&&he.left+C<Ce.width&&(this._style.width=C+"px",this.container.style.width=this._style.width),(!te||P>parseInt(te))&&he.top+P<Ce.height&&(this.contentViewChild.nativeElement.style.height=y+P-h+"px",this._style.height&&(this._style.height=P+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,un.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&this.close(s)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):un.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&un.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(un.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&un.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&iu.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,M1,5),o.Suo(a,Ox,5),o.Suo(a,Il,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(VZ,5),o.Gf(UZ,5),o.Gf(jZ,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.headerViewChild=a.first),o.iGM(a=o.CRH())&&(s.contentViewChild=a.first),o.iGM(a=o.CRH())&&(s.footerViewChild=a.first)}},inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:uW,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,s){1&e&&(o.F$t(cW),o.YNc(0,lW,2,15,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[cn,pe,YZ,Gi,qr,W_],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[fs("animation",[Et("void => visible",[Lr(dW)]),Et("visible => void",[Lr(hW)])])]},changeDetection:0}),t})(),pW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,HZ,_m],Ll]}),t})();var fW=Ae(6465),gW=Ae(6102);const yW=new class extends gW.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,a=-1,l=e.length;i=i||e.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=e.shift()));if(this.active=!1,s){for(;++a<l&&(i=e.shift());)i.unsubscribe();throw s}}}(class extends fW.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,s=0){return null!==s&&s>0?super.requestAsyncId(i,e,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,e,s);0===i.actions.length&&(cancelAnimationFrame(e),i.scheduled=void 0)}});var TT=Ae(4581);function vO(t){return!!t&&(t instanceof Or.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class bW{constructor(i){this.durationSelector=i}call(i,e){return e.subscribe(new xW(i,this.durationSelector))}}class xW extends Uo.Ds{constructor(i,e){super(i),this.durationSelector=e,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(i)}catch(a){return this.destination.error(a)}const s=(0,Uo.ft)(e,new Uo.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Qz=Ae(6561);function Jz(t=0,i,e){let s=-1;return(0,Qz.k)(i)?s=Number(i)<1?1:Number(i):(0,$h.K)(i)&&(e=i),(0,$h.K)(e)||(e=Js.P),new Or.y(a=>{const l=(0,Qz.k)(t)?t:+t-e.now();return e.schedule(wW,l,{index:0,period:s,subscriber:a})})}function wW(t){const{index:i,period:e,subscriber:s}=t;if(s.next(i),!s.closed){if(-1===e)return s.complete();t.index=i+1,this.schedule(t,e)}}function cA(t,i=Js.P){return function(t){return function(e){return e.lift(new bW(t))}}(()=>Jz(t,i))}function na(t){return i=>i.lift(new CW(t))}class CW{constructor(i){this.notifier=i}call(i,e){const s=new MW(i),a=(0,Uo.ft)(this.notifier,new Uo.IY(s));return a&&!s.seenValue?(s.add(a),e.subscribe(s)):s}}class MW extends Uo.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Xz{}function uA(t){return t&&"function"==typeof t.connect}class TW extends Xz{constructor(i){super(),this._data=i}connect(){return vO(this._data)?this._data:(0,Di.of)(this._data)}disconnect(){}}class Kz{applyChanges(i,e,s,a,l){i.forEachOperation((h,y,C)=>{let P,j;if(null==h.previousIndex){const te=s(h,y,C);P=e.createEmbeddedView(te.templateRef,te.context,te.index),j=1}else null==C?(e.remove(y),j=3):(P=e.get(y),e.move(P,C),j=2);l&&l({context:null==P?void 0:P.context,operation:j,record:h})})}detach(){}}class SW{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,e,s,a,l){i.forEachOperation((h,y,C)=>{let P,j;null==h.previousIndex?(P=this._insertView(()=>s(h,y,C),C,e,a(h)),j=P?1:0):null==C?(this._detachAndCacheView(y,e),j=3):(P=this._moveView(y,C,e,a(h)),j=2),l&&l({context:null==P?void 0:P.context,operation:j,record:h})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,e,s,a){const l=this._insertViewFromCache(e,s);if(l)return void(l.context.$implicit=a);const h=i();return s.createEmbeddedView(h.templateRef,h.context,h.index)}_detachAndCacheView(i,e){const s=e.detach(i);this._maybeCacheView(s,e)}_moveView(i,e,s,a){const l=s.get(i);return s.move(l,e),l.context.$implicit=a,l}_maybeCacheView(i,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=e.indexOf(i);-1===s?i.destroy():e.remove(s)}}_insertViewFromCache(i,e){const s=this._viewCache.pop();return s&&e.insert(s,i),s||null}}class bO{constructor(i=!1,e,s=!0){this._multiple=i,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ri.xQ,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...i){this._verifyValueAssignment(i),i.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...i){this._verifyValueAssignment(i),i.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(i){this.isSelected(i)?this.deselect(i):this.select(i)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(i){return this._selection.has(i)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){this.isSelected(i)||(this._multiple||this._unmarkAll(),this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}}const ST=new o.OlP("_ViewRepeater"),kW=["contentWrapper"],EW=["*"],tB=new o.OlP("VIRTUAL_SCROLL_STRATEGY");class DW{constructor(i,e,s){this._scrolledIndexChange=new ri.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(cu()),this._viewport=null,this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,e,s){this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,e){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),e={start:i.start,end:i.end},s=this._viewport.getViewportSize(),a=this._viewport.getDataLength();let l=this._viewport.measureScrollOffset(),h=this._itemSize>0?l/this._itemSize:0;if(e.end>a){const C=Math.ceil(s/this._itemSize),P=Math.max(0,Math.min(h,a-C));h!=P&&(h=P,l=P*this._itemSize,e.start=Math.floor(h)),e.end=Math.max(0,Math.min(a,e.start+C))}const y=l-e.start*this._itemSize;if(y<this._minBufferPx&&0!=e.start){const C=Math.ceil((this._maxBufferPx-y)/this._itemSize);e.start=Math.max(0,e.start-C),e.end=Math.min(a,Math.ceil(h+(s+this._minBufferPx)/this._itemSize))}else{const C=e.end*this._itemSize-(l+s);if(C<this._minBufferPx&&e.end!=a){const P=Math.ceil((this._maxBufferPx-C)/this._itemSize);P>0&&(e.end=Math.min(a,e.end+P),e.start=Math.max(0,Math.floor(h-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(h))}}function AW(t){return t._scrollStrategy}let nB=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new DW(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=gc(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=gc(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=gc(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[o._Bn([{provide:tB,useFactory:AW,deps:[(0,o.Gpc)(()=>t)]}]),o.TTD]}),t})(),kT=(()=>{class t{constructor(e,s,a){this._ngZone=e,this._platform=s,this._scrolled=new ri.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Or.y(s=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(cA(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Di.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const a=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(T(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,e)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let a=H_(s),l=e.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(Ta),o.LFG(De,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(Ta),(0,o.LFG)(De,8))},token:t,providedIn:"root"}),t})(),iB=(()=>{class t{constructor(e,s,a,l){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new ri.xQ,this._elementScrolled=new Or.y(h=>this.ngZone.runOutsideAngular(()=>Gv(this.elementRef.nativeElement,"scroll").pipe(na(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),a&&0!=Hv()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==Hv()?e.left=e.right:1==Hv()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;kD()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?a:s:"end"==e&&(e=h?s:a),h&&2==Hv()?e==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==Hv()?e==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(kT),o.Y36(o.R0b),o.Y36(vp,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),jx=(()=>{class t{constructor(e,s,a){this._platform=e,this._change=new ri.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),a=e.documentElement,l=a.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||e.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(cA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ta),o.LFG(o.R0b),o.LFG(De,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ta),(0,o.LFG)(o.R0b),(0,o.LFG)(De,8))},token:t,providedIn:"root"}),t})();const OW="undefined"!=typeof requestAnimationFrame?yW:TT.E;let ET=(()=>{class t extends iB{constructor(e,s,a,l,h,y,C){super(e,y,a,h),this.elementRef=e,this._changeDetectorRef=s,this._scrollStrategy=l,this._detachedSubject=new ri.xQ,this._renderedRangeSubject=new ri.xQ,this._orientation="vertical",this.scrolledIndexChange=new Or.y(P=>this._scrollStrategy.scrolledIndexChange.subscribe(j=>Promise.resolve().then(()=>this.ngZone.run(()=>P.next(j))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ba.w.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Oo(null),cA(0,OW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(na(this._detachedSubject)).subscribe(s=>{const a=s.length;a!==this._dataLength&&(this._dataLength=a,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(t,i){return t.start==i.start&&t.end==i.end})(this._renderedRange,e)||(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,s="to-start"){const l="horizontal"==this.orientation,h=l?"X":"Y";let C=`translate${h}(${Number((l&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===s&&(C+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,s="auto"){const a={behavior:s};"horizontal"===this.orientation?a.start=e:a.top=e,this.scrollTo(a)}scrollToIndex(e,s="auto"){this._scrollStrategy.scrollToIndex(e,s)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of e)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(tB,8),o.Y36(vp,8),o.Y36(kT),o.Y36(jx))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,s){if(1&e&&o.Gf(kW,7),2&e){let a;o.iGM(a=o.CRH())&&(s._contentWrapper=a.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[o._Bn([{provide:iB,useExisting:t}]),o.qOj],ngContentSelectors:EW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(3),o.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function rB(t,i,e){if(!e.getBoundingClientRect)return 0;const a=e.getBoundingClientRect();return"horizontal"===t?"start"===i?a.left:a.right:"start"===i?a.top:a.bottom}let sB=(()=>{class t{constructor(e,s,a,l,h,y){this._viewContainerRef=e,this._template=s,this._differs=a,this._viewRepeater=l,this._viewport=h,this.viewChange=new ri.xQ,this._dataSourceChanges=new ri.xQ,this.dataStream=this._dataSourceChanges.pipe(Oo(null),Ic(),Ps(([C,P])=>this._changeDataSource(C,P)),qh(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ri.xQ,this.dataStream.subscribe(C=>{this._data=C,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(na(this._destroyed)).subscribe(C=>{this._renderedRange=C,y.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,uA(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new TW(vO(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(s,a)=>e(s+(this._renderedRange?this._renderedRange.start:0),a):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=gc(e)}measureRangeSize(e,s){if(e.start>=e.end)return 0;const a=e.start-this._renderedRange.start,l=e.end-e.start;let h,y;for(let C=0;C<l;C++){const P=this._viewContainerRef.get(C+a);if(P&&P.rootNodes.length){h=y=P.rootNodes[0];break}}for(let C=l-1;C>-1;C--){const P=this._viewContainerRef.get(C+a);if(P&&P.rootNodes.length){y=P.rootNodes[P.rootNodes.length-1];break}}return h&&y?rB(s,"end",y)-rB(s,"start",h):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,s):s)),this._needsUpdate=!0)}_changeDataSource(e,s){return e&&e.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,Di.of)()}_updateContext(){const e=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const a=this._viewContainerRef.get(s);a.context.index=this._renderedRange.start+s,a.context.count=e,this._updateComputedContextProperties(a.context),a.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(l,h,y)=>this._getEmbeddedViewArgs(l,y),l=>l.item),e.forEachIdentityChange(l=>{this._viewContainerRef.get(l.currentIndex).context.$implicit=l.item});const s=this._data.length;let a=this._viewContainerRef.length;for(;a--;){const l=this._viewContainerRef.get(a);l.context.index=this._renderedRange.start+a,l.context.count=s,this._updateComputedContextProperties(l.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,s){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(ST),o.Y36(ET,4),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[o._Bn([{provide:ST,useClass:SW}])]}),t})(),DT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),$v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Wv,d0,DT],Wv,DT]}),t})();var RW=Ae(1555);function oB(...t){if(1===t.length){const i=t[0];if((0,xx.k)(i))return dA(i,null);if((0,RW.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const e=Object.keys(i);return dA(e.map(s=>i[s]),e)}}if("function"==typeof t[t.length-1]){const i=t.pop();return dA(t=1===t.length&&(0,xx.k)(t[0])?t[0]:t,null).pipe((0,Fi.U)(e=>i(...e)))}return dA(t,null)}function dA(t,i){return new Or.y(e=>{const s=t.length;if(0===s)return void e.complete();const a=new Array(s);let l=0,h=0;for(let y=0;y<s;y++){const C=(0,Ws.D)(t[y]);let P=!1;e.add(C.subscribe({next:j=>{P||(P=!0,h++),a[y]=j},error:j=>e.error(j),complete:()=>{l++,(l===s||!P)&&(h===s&&e.next(i?i.reduce((j,te,he)=>(j[te]=a[he],j),{}):a),e.complete())}}))}})}let aB=(()=>{class t{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t}),t})(),Zx=(()=>{class t extends aB{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();const ru=new o.OlP("NgValueAccessor"),NW={provide:ru,useExisting:(0,o.Gpc)(()=>Gg),multi:!0},BW=new o.OlP("CompositionEventMode");let Gg=(()=>{class t extends aB{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ee()?ee().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(BW,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([NW]),o.qOj]}),t})();function b0(t){return null==t||0===t.length}function cB(t){return null!=t&&"number"==typeof t.length}const bp=new o.OlP("NgValidators"),x0=new o.OlP("NgAsyncValidators"),YW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pl{static min(i){return function(t){return i=>{if(b0(i.value)||b0(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}(i)}static max(i){return function(t){return i=>{if(b0(i.value)||b0(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}(i)}static required(i){return hB(i)}static requiredTrue(i){return function(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function(t){return b0(t.value)||YW.test(t.value)?null:{email:!0}}(i)}static minLength(i){return mB(i)}static maxLength(i){return function(t){return i=>cB(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(t){if(!t)return w0;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),s=>{if(b0(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return CB(i)}static composeAsync(i){return MB(i)}}function hB(t){return b0(t.value)?{required:!0}:null}function mB(t){return i=>b0(i.value)||!cB(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}function w0(t){return null}function yB(t){return null!=t}function vB(t){const i=(0,o.QGY)(t)?(0,Ws.D)(t):t;return(0,o.CqO)(i),i}function bB(t){let i={};return t.forEach(e=>{i=null!=e?Object.assign(Object.assign({},i),e):i}),0===Object.keys(i).length?null:i}function xB(t,i){return i.map(e=>e(t))}function wB(t){return t.map(i=>function(t){return!t.validate}(i)?i:e=>i.validate(e))}function CB(t){if(!t)return null;const i=t.filter(yB);return 0==i.length?null:function(e){return bB(xB(e,i))}}function xO(t){return null!=t?CB(wB(t)):null}function MB(t){if(!t)return null;const i=t.filter(yB);return 0==i.length?null:function(e){return oB(xB(e,i).map(vB)).pipe((0,Fi.U)(bB))}}function wO(t){return null!=t?MB(wB(t)):null}function TB(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function SB(t){return t._rawValidators}function kB(t){return t._rawAsyncValidators}function CO(t){return t?Array.isArray(t)?t:[t]:[]}function hA(t,i){return Array.isArray(t)?t.includes(i):t===i}function EB(t,i){const e=CO(i);return CO(t).forEach(a=>{hA(e,a)||e.push(a)}),e}function DB(t,i){return CO(i).filter(e=>!hA(t,e))}let AB=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})(),Nf=(()=>{class t extends AB{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();class $y extends AB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IB{constructor(i){this._cd=i}is(i){var e,s,a;return"submitted"===i?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let zh=(()=>{class t extends IB{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36($y,2))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),t})(),G_=(()=>{class t extends IB{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Nf,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),t})();function pA(t,i){return[...i.path,t]}function AT(t,i){MO(t,i),i.valueAccessor.writeValue(t.value),function(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&LB(t,i)})}(t,i),function(t,i){const e=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&LB(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function(t,i){if(i.valueAccessor.setDisabledState){const e=s=>{i.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function fA(t,i,e=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),gA(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function mA(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function MO(t,i){const e=SB(t);null!==i.validator?t.setValidators(TB(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const s=kB(t);null!==i.asyncValidator?t.setAsyncValidators(TB(s,i.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const a=()=>t.updateValueAndValidity();mA(i._rawValidators,a),mA(i._rawAsyncValidators,a)}function gA(t,i){let e=!1;if(null!==t){if(null!==i.validator){const a=SB(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.validator);l.length!==a.length&&(e=!0,t.setValidators(l))}}if(null!==i.asyncValidator){const a=kB(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.asyncValidator);l.length!==a.length&&(e=!0,t.setAsyncValidators(l))}}}const s=()=>{};return mA(i._rawValidators,s),mA(i._rawAsyncValidators,s),e}function LB(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PB(t,i){MO(t,i)}function TO(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function OB(t,i){t._syncPendingControls(),i.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function SO(t,i){if(!i)return null;let e,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===Gg?e=l:function(t){return Object.getPrototypeOf(t.constructor)===Zx}(l)?s=l:a=l}),a||s||e||null}function _A(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}const IT="VALID",yA="INVALID",W1="PENDING",LT="DISABLED";function kO(t){return(DO(t)?t.validators:t)||null}function RB(t){return Array.isArray(t)?xO(t):t||null}function EO(t,i){return(DO(i)?i.asyncValidators:t)||null}function FB(t){return Array.isArray(t)?wO(t):t||null}function DO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AO{constructor(i,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=e,this._composedValidatorFn=RB(this._rawValidators),this._composedAsyncValidatorFn=FB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===IT}get invalid(){return this.status===yA}get pending(){return this.status==W1}get disabled(){return this.status===LT}get enabled(){return this.status!==LT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=RB(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=FB(i)}addValidators(i){this.setValidators(EB(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(EB(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(DB(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(DB(i,this._rawAsyncValidators))}hasValidator(i){return hA(this._rawValidators,i)}hasAsyncValidator(i){return hA(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=W1,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=LT,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=IT,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===IT||this.status===W1)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?LT:IT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=W1,this._hasOwnPendingAsyncValidator=!0;const e=vB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){return function(t,i,e){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=t;return i.forEach(a=>{s=s instanceof PT?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof IO&&s.at(a)||null}),s}(this,i)}getError(i,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?LT:this.errors?yA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(W1)?W1:this._anyControlsHaveStatus(yA)?yA:IT}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){DO(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class C0 extends AO{constructor(i=null,e,s){super(kO(e),EO(s,e)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=null,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){_A(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){_A(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class PT extends AO{constructor(i,e,s){super(kO(e),EO(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,s={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,s)=>(i[s]=e instanceof C0?e.value:e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&i(s,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,e,s)=>((e.enabled||this.disabled)&&(i[s]=e.value),i))}_reduceChildren(i,e){let s=i;return this._forEachChild((a,l)=>{s=e(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class IO extends AO{constructor(i,e,s){super(kO(e),EO(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,s={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i instanceof C0?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((e,s)=>{i(e,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const JW={provide:Nf,useExisting:(0,o.Gpc)(()=>Wx)},OT=(()=>Promise.resolve(null))();let Wx=(()=>{class t extends Nf{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new PT({},xO(e),wO(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){OT.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),AT(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){OT.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),_A(this._directives,e)})}addFormGroup(e){OT.then(()=>{const s=this._findContainer(e.path),a=new PT({});PB(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){OT.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){OT.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,OB(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(bp,10),o.Y36(x0,10))},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([JW]),o.qOj]}),t})();const KW={provide:$y,useExisting:(0,o.Gpc)(()=>$g)},BB=(()=>Promise.resolve(null))();let $g=(()=>{class t extends $y{constructor(e,s,a,l){super(),this.control=new C0,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=SO(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),TO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pA(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){AT(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){BB.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=""===s||s&&"false"!==s;BB.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Nf,9),o.Y36(bp,10),o.Y36(x0,10),o.Y36(ru,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([KW]),o.qOj,o.TTD]}),t})(),q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),HB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const LO=new o.OlP("NgModelWithFormControlWarning"),sG={provide:Nf,useExisting:(0,o.Gpc)(()=>ng)};let ng=(()=>{class t extends Nf{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return AT(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){fA(e.control||null,e,!1),_A(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,OB(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(fA(s||null,e),a instanceof C0&&(AT(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);PB(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(t,i){return gA(t,i)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MO(this.form,this),this._oldForm&&gA(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(bp,10),o.Y36(x0,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([sG]),o.qOj,o.TTD]}),t})();const lG={provide:$y,useExisting:(0,o.Gpc)(()=>Qy)};let Qy=(()=>{class t extends $y{constructor(e,s,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=SO(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),TO(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Nf,13),o.Y36(bp,10),o.Y36(x0,10),o.Y36(ru,10),o.Y36(LO,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([lG]),o.qOj,o.TTD]}),t._ngModelWarningSentOnce=!1,t})();const cG={provide:ru,useExisting:(0,o.Gpc)(()=>vA),multi:!0};function WB(t,i){return null==t?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let vA=(()=>{class t extends Zx{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const a=WB(s,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([cG]),o.qOj]}),t})(),GB=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(WB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(vA,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const dG={provide:ru,useExisting:(0,o.Gpc)(()=>RO),multi:!0};function qB(t,i){return null==t?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let RO=(()=>{class t extends Zx{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));s=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else s=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const a=[];if(void 0!==s.selectedOptions){const l=s.selectedOptions;for(let h=0;h<l.length;h++){const y=l.item(h),C=this._getOptionValue(y.value);a.push(C)}}else{const l=s.options;for(let h=0;h<l.length;h++){const y=l.item(h);if(y.selected){const C=this._getOptionValue(y.value);a.push(C)}}}this.value=a,e(a)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([dG]),o.qOj]}),t})(),$B=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(RO,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const mG={provide:bp,useExisting:(0,o.Gpc)(()=>G1),multi:!0};let G1=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?hB(e):null}registerOnValidatorChange(e){this._onChange=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[o._Bn([mG])]}),t})();const yG={provide:bp,useExisting:(0,o.Gpc)(()=>NO),multi:!0};let NO=(()=>{class t{constructor(){this._validator=w0}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?mB(function(t){return"number"==typeof t?t:parseInt(t,10)}(this.minlength)):w0}enabled(){return null!=this.minlength}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("minlength",s.enabled()?s.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([yG]),o.TTD]}),t})(),iY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[HB]]}),t})(),bA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[iY]}),t})(),rY=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:LO,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[iY]}),t})(),M0=(()=>{class t{group(e,s=null){const a=this._reduceControls(e);let y,l=null,h=null;return null!=s&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(s)?(l=null!=s.validators?s.validators:null,h=null!=s.asyncValidators?s.asyncValidators:null,y=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,h=null!=s.asyncValidator?s.asyncValidator:null)),new PT(a,{asyncValidators:h,updateOn:y,validators:l})}control(e,s,a){return new C0(e,s,a)}array(e,s,a){const l=e.map(h=>this._createControl(h));return new IO(l,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof C0||e instanceof PT||e instanceof IO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:rY}),t})(),sY=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({showDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?un.appendChild(this.container,this.el.nativeElement):un.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),un.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?iu.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&iu.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+un.getWindowScrollLeft(),top:e.top+un.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),s=e.left+un.getOuterWidth(this.el.nativeElement),a=e.top+(un.getOuterHeight(this.el.nativeElement)-un.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),s=e.left-un.getOuterWidth(this.container),a=e.top+(un.getOuterHeight(this.el.nativeElement)-un.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),s=e.left+(un.getOuterWidth(this.el.nativeElement)-un.getOuterWidth(this.container))/2,a=e.top-un.getOuterHeight(this.container);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),s=e.left+(un.getOuterWidth(this.el.nativeElement)-un.getOuterWidth(this.container))/2,a=e.top+un.getOuterHeight(this.el.nativeElement);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let s="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?s+" "+this.getOption("tooltipStyleClass"):s}isOutOfBounds(){let e=this.container.getBoundingClientRect(),s=e.top,a=e.left,l=un.getOuterWidth(this.container),h=un.getOuterHeight(this.container),y=un.getViewport();return a+l>y.width||a<0||s<0||s+h>y.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new MT(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):un.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&iu.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Lf))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[o.TTD]}),t})(),oY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function wG(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.label||"empty")}}function CG(t,i){1&t&&o.GkF(0)}const aY=function(t){return{height:t}},MG=function(t,i){return{"p-dropdown-item":!0,"p-highlight":t,"p-disabled":i}},zO=function(t){return{$implicit:t}},TG=["container"],SG=["filter"],kG=["in"],EG=["editableInput"];function DG(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.label||"empty")}}function AG(t,i){1&t&&o.GkF(0)}const IG=function(t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":t}};function LG(t,i){if(1&t&&(o.TgZ(0,"span",12),o.YNc(1,DG,2,1,"ng-container",13),o.YNc(2,AG,1,0,"ng-container",14),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(8,IG,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.xp6(1),o.Q6J("ngIf",!e.selectedItemTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",o.VKq(10,zO,e.selectedOption))}}const PG=function(t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":t}};function OG(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(2,PG,null==e.placeholder||0===e.placeholder.length)),o.xp6(1),o.Oqu(e.placeholder||"empty")}}function RG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",16,17),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditableInputClick()})("input",function(a){return o.CHM(e),o.oxw().onEditableInputChange(a)})("focus",function(a){return o.CHM(e),o.oxw().onEditableInputFocus(a)})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("disabled",e.disabled),o.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function FG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",18),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}}function NG(t,i){1&t&&o.GkF(0)}function zG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",26),o.TgZ(1,"div",27),o.NdJ("click",function(a){return a.stopPropagation()}),o.TgZ(2,"input",28,29),o.NdJ("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return o.CHM(e),o.oxw(2).onKeydown(a,!1)})("input",function(a){return o.CHM(e),o.oxw(2).onFilterInputChange(a)}),o.qZA(),o._UZ(4,"span",30),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("value",e.filterValue||""),o.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function BG(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getOptionGroupLabel(e)||"empty")}}function YG(t,i){1&t&&o.GkF(0)}function HG(t,i){1&t&&o.GkF(0)}const lY=function(t,i){return{$implicit:t,selectedOption:i}};function VG(t,i){if(1&t&&(o.TgZ(0,"li",32),o.YNc(1,BG,2,1,"span",13),o.YNc(2,YG,1,0,"ng-container",14),o.qZA(),o.YNc(3,HG,1,0,"ng-container",14)),2&t){const e=i.$implicit;o.oxw(2);const s=o.MAs(8),a=o.oxw();o.xp6(1),o.Q6J("ngIf",!a.groupTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",a.groupTemplate)("ngTemplateOutletContext",o.VKq(5,zO,e)),o.xp6(1),o.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",o.WLB(7,lY,a.getOptionGroupChildren(e),a.selectedOption))}}function UG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,VG,4,10,"ng-template",31),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.optionsToDisplay)}}function jG(t,i){1&t&&o.GkF(0)}function ZG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,jG,1,0,"ng-container",14),o.BQk()),2&t){o.oxw();const e=o.MAs(8),s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",o.WLB(2,lY,s.optionsToDisplay,s.selectedOption))}}function WG(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(4).onItemClick(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(2).selectedOption,a=o.oxw(2);o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function GG(t,i){if(1&t&&(o.ynx(0),o.YNc(1,WG,1,5,"ng-template",31),o.BQk()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function qG(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(5).onItemClick(a)}),o.qZA(),o.BQk()}if(2&t){const e=i.$implicit,s=o.oxw(3).selectedOption,a=o.oxw(2);o.xp6(1),o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function $G(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",37,38),o.NdJ("scrolledIndexChange",function(){return o.CHM(e),o.oxw(4).scrollToSelectedVirtualScrollElement()}),o.YNc(2,qG,2,5,"ng-container",39),o.qZA()}if(2&t){const e=o.oxw(2).$implicit,s=o.oxw(2);o.Q6J("ngStyle",o.VKq(3,aY,s.scrollHeight))("itemSize",s.itemSize),o.xp6(2),o.Q6J("cdkVirtualForOf",e)}}function QG(t,i){if(1&t&&o.YNc(0,$G,3,5,"cdk-virtual-scroll-viewport",36),2&t){const e=o.oxw(3);o.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function JG(t,i){if(1&t&&(o.YNc(0,GG,2,1,"ng-container",33),o.YNc(1,QG,1,1,"ng-template",null,34,o.W1O)),2&t){const e=o.MAs(2),s=o.oxw(2);o.Q6J("ngIf",!s.virtualScroll)("ngIfElse",e)}}function XG(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyFilterMessageLabel," ")}}function KG(t,i){1&t&&o.GkF(0,null,41)}function eq(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,XG,2,1,"ng-container",33),o.YNc(2,KG,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function tq(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyMessageLabel," ")}}function nq(t,i){1&t&&o.GkF(0,null,42)}function iq(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,tq,2,1,"ng-container",33),o.YNc(2,nq,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function rq(t,i){1&t&&o.GkF(0)}const sq=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},oq=function(t){return{value:"visible",params:t}},aq=function(t){return{"p-dropdown-virtualscroll":t}};function lq(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationEnd(a)}),o.YNc(1,NG,1,0,"ng-container",20),o.YNc(2,zG,5,3,"div",21),o.TgZ(3,"div",22),o.TgZ(4,"ul",23),o.YNc(5,UG,2,1,"ng-container",13),o.YNc(6,ZG,2,5,"ng-container",13),o.YNc(7,JG,3,2,"ng-template",null,24,o.W1O),o.YNc(9,eq,3,3,"li",25),o.YNc(10,iq,3,3,"li",25),o.qZA(),o.qZA(),o.YNc(11,rq,1,0,"ng-container",20),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",o.VKq(18,oq,o.WLB(15,sq,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.filter),o.xp6(1),o.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),o.xp6(1),o.Q6J("ngClass",o.VKq(20,aq,e.virtualScroll)),o.xp6(1),o.Q6J("ngIf",e.group),o.xp6(1),o.Q6J("ngIf",!e.group),o.xp6(3),o.Q6J("ngIf",e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngIf",!e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const cq=function(t,i,e,s){return{"p-dropdown p-component":!0,"p-disabled":t,"p-dropdown-open":i,"p-focus":e,"p-dropdown-clearable":s}},uq={provide:ru,useExisting:(0,o.Gpc)(()=>xA),multi:!0};let dq=(()=>{class t{constructor(){this.onClick=new o.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"li",0),o.NdJ("click",function(l){return s.onOptionClick(l)}),o.YNc(1,wG,2,1,"span",1),o.YNc(2,CG,1,0,"ng-container",2),o.qZA()),2&e&&(o.Q6J("ngStyle",o.VKq(7,aY,s.itemSize+"px"))("ngClass",o.WLB(9,MG,s.selected,s.disabled)),o.uIk("aria-label",s.label)("aria-selected",s.selected),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(12,zO,s.option)))},directives:[W_,Gi,pe,cn,qr],encapsulation:2}),t})(),xA=(()=>{class t{constructor(e,s,a,l,h,y,C){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.filterService=h,this.config=y,this.overlayService=C,this.scrollHeight="200px",this.appendTo="body",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new o.vpe,this.onFilter=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClick=new o.vpe,this.onShow=new o.vpe,this.onHide=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;default:this.itemTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ta.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(ta.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?xr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?xr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?xr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?xr.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?xr.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const s=e.option;this.isOptionDisabled(s)||(this.selectItem(e,s),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,s){this.selectedOption!=s&&(this.selectedOption=s,this.value=this.getOptionValue(s),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let s=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(s.start>this.virtualScrollSelectedIndex||s.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}un.findSingle(this.overlay,"li.p-highlight")&&un.scrollInView(this.itemsWrapper,un.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return un.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=un.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&iu.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let a=un.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&un.scrollInView(this.itemsWrapper,a)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){switch(e.toState){case"void":iu.clear(e.element)}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):un.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=un.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?un.absolutePosition(this.overlay,this.containerViewChild.nativeElement):un.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e-1;0<=a;a--){let l=this.optionsToDisplay[a];if(!l.disabled){s=l;break}}if(!s)for(let a=this.optionsToDisplay.length-1;a>=e;a--){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}findNextEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e+1;a<this.optionsToDisplay.length;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}if(!s)for(let a=0;a<e;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}onKeydown(e,s){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex-1;if(l>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let h=this.optionsToDisplay[a.groupIndex-1];h&&(this.selectItem(e,this.getOptionGroupChildren(h)[this.getOptionGroupChildren(h).length-1]),this.selectedOptionUpdated=!0)}}}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),e.preventDefault();break;case 27:case 9:this.hide();break;default:s&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const s=e.key;let a;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=s,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+s:s,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};a=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;a=this.searchOption(++l)}a&&!this.isOptionDisabled(a)&&(this.selectItem(e,a),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let s;return this.searchValue&&(s=this.searchOptionInRange(e,this.optionsToDisplay.length),s||(s=this.searchOptionInRange(0,e))),s}searchOptionInRange(e,s){for(let a=e;a<s;a++){let l=this.optionsToDisplay[a];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let a=e.groupIndex;a<this.optionsToDisplay.length;a++)for(let l=e.groupIndex===a?e.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}for(let a=0;a<=e.groupIndex;a++)for(let l=0;l<(e.groupIndex===a?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[a]).length);l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}}return null}findOptionIndex(e,s){let a=-1;if(s)for(let l=0;l<s.length;l++)if(null==e&&null==this.getOptionValue(s[l])||xr.equals(e,this.getOptionValue(s[l]),this.dataKey)){a=l;break}return a}findOptionGroupIndex(e,s){let a,l;if(s)for(let h=0;h<s.length&&(a=h,l=this.findOptionIndex(e,this.getOptionGroupChildren(s[h])),-1===l);h++);return-1!==l?{groupIndex:a,itemIndex:l}:-1}findOption(e,s,a){if(this.group&&!a){let l;if(s&&s.length)for(let h of s)if(l=this.findOption(e,this.getOptionGroupChildren(h),!0),l)break;return l}{let l=this.findOptionIndex(e,s);return-1!=l?s[l]:null}}onFilterInputChange(e){let s=e.target.value;s&&s.length?(this._filterValue=s,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let s=[];for(let a of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(a),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&s.push(Object.assign(Object.assign({},a),{[this.optionGroupChildren]:l}))}this.optionsToDisplay=s}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?un.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():un.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){un.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new MT(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&iu.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(cD),o.Y36(Lf),o.Y36(l0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(TG,5),o.Gf(SG,5),o.Gf(kG,5),o.Gf(ET,5),o.Gf(EG,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.filterViewChild=a.first),o.iGM(a=o.CRH())&&(s.accessibleViewChild=a.first),o.iGM(a=o.CRH())&&(s.viewPort=a.first),o.iGM(a=o.CRH())&&(s.editableInputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused||s.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[o._Bn([uq])],decls:12,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(l){return s.onMouseclick(l)}),o.TgZ(2,"div",2),o.TgZ(3,"input",3,4),o.NdJ("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)})("keydown",function(l){return s.onKeydown(l,!0)}),o.qZA(),o.qZA(),o.YNc(5,LG,3,12,"span",5),o.YNc(6,OG,2,4,"span",6),o.YNc(7,RG,2,4,"input",7),o.YNc(8,FG,1,0,"i",8),o.TgZ(9,"div",9),o._UZ(10,"span",10),o.qZA(),o.YNc(11,lq,12,22,"div",11),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(17,cq,s.disabled,s.overlayVisible,s.focused,s.showClear&&!s.disabled))("ngStyle",s.style),o.xp6(3),o.Q6J("disabled",s.disabled),o.uIk("id",s.inputId)("aria-expanded",s.overlayVisible)("aria-labelledby",s.ariaLabelledBy)("tabindex",s.tabindex)("autofocus",s.autofocus),o.xp6(2),o.Q6J("ngIf",!s.editable&&null!=s.label),o.xp6(1),o.Q6J("ngIf",!s.editable&&null==s.label),o.xp6(1),o.Q6J("ngIf",s.editable),o.xp6(1),o.Q6J("ngIf",null!=s.value&&s.showClear&&!s.disabled),o.xp6(1),o.uIk("aria-expanded",s.overlayVisible),o.xp6(1),o.Q6J("ngClass",s.dropdownIcon),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[pe,Gi,cn,sY,qr,ft,dq,ET,nB,sB],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[fs("overlayAnimation",[Et(":enter",[ye({opacity:0,transform:"scaleY(0.8)"}),yi("{{showTransitionParams}}")]),Et(":leave",[yi("{{hideTransitionParams}}",ye({opacity:0}))])])]},changeDetection:0}),t})(),wA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Ll,$v,oY,_m],Ll,$v]}),t})();const cY="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function uY(t,i,e){const s=e||(h=>Array.prototype.slice.call(h));let a=!1,l=[];return function(...h){l=s(h),a||(a=!0,cY.call(window,()=>{a=!1,t.apply(i,l)}))}}const BO=t=>"start"===t?"left":"end"===t?"right":"center",Xp=(t,i,e)=>"start"===t?i:"end"===t?e:(i+e)/2;function Qv(){}const fq=function(){let t=0;return function(){return t++}}();function Sa(t){return null==t}function Wl(t){if(Array.isArray&&Array.isArray(t))return!0;const i=Object.prototype.toString.call(t);return"[object"===i.substr(0,7)&&"Array]"===i.substr(-6)}function Wo(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const qu=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function Qg(t,i){return qu(t)?t:i}function so(t,i){return void 0===t?i:t}const dY=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*i:+t;function Gl(t,i,e){if(t&&"function"==typeof t.call)return t.apply(e,i)}function ol(t,i,e,s){let a,l,h;if(Wl(t))if(l=t.length,s)for(a=l-1;a>=0;a--)i.call(e,t[a],a);else for(a=0;a<l;a++)i.call(e,t[a],a);else if(Wo(t))for(h=Object.keys(t),l=h.length,a=0;a<l;a++)i.call(e,t[h[a]],h[a])}function CA(t,i){let e,s,a,l;if(!t||!i||t.length!==i.length)return!1;for(e=0,s=t.length;e<s;++e)if(a=t[e],l=i[e],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function MA(t){if(Wl(t))return t.map(MA);if(Wo(t)){const i=Object.create(null),e=Object.keys(t),s=e.length;let a=0;for(;a<s;++a)i[e[a]]=MA(t[e[a]]);return i}return t}function hY(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function gq(t,i,e,s){if(!hY(t))return;const a=i[t],l=e[t];Wo(a)&&Wo(l)?RT(a,l,s):i[t]=MA(l)}function RT(t,i,e){const s=Wl(i)?i:[i],a=s.length;if(!Wo(t))return t;const l=(e=e||{}).merger||gq;for(let h=0;h<a;++h){if(!Wo(i=s[h]))continue;const y=Object.keys(i);for(let C=0,P=y.length;C<P;++C)l(y[C],t,i,e)}return t}function FT(t,i){return RT(t,i,{merger:_q})}function _q(t,i,e){if(!hY(t))return;const s=i[t],a=e[t];Wo(s)&&Wo(a)?FT(s,a):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=MA(a))}function pY(t,i){const e=t.indexOf(".",i);return-1===e?t.length:e}function Gx(t,i){if(""===i)return t;let e=0,s=pY(i,e);for(;t&&s>e;)t=t[i.substr(e,s-e)],e=s+1,s=pY(i,e);return t}function YO(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Jg=t=>void 0!==t,T0=t=>"function"==typeof t,fY=(t,i)=>{if(t.size!==i.size)return!1;for(const e of t)if(!i.has(e))return!1;return!0},Uc=Math.PI,Ol=2*Uc,xq=Ol+Uc,TA=Number.POSITIVE_INFINITY,wq=Uc/180,wu=Uc/2,NT=Uc/4,mY=2*Uc/3,Xg=Math.log10,Jy=Math.sign;function gY(t){const i=Math.round(t);t=BT(t,i,t/1e3)?i:t;const e=Math.pow(10,Math.floor(Xg(t))),s=t/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function zT(t){return!isNaN(parseFloat(t))&&isFinite(t)}function BT(t,i,e){return Math.abs(t-i)<e}function _Y(t,i,e){let s,a,l;for(s=0,a=t.length;s<a;s++)l=t[s][e],isNaN(l)||(i.min=Math.min(i.min,l),i.max=Math.max(i.max,l))}function $_(t){return t*(Uc/180)}function HO(t){return t*(180/Uc)}function yY(t){if(!qu(t))return;let i=1,e=0;for(;Math.round(t*i)/i!==t;)i*=10,e++;return e}function vY(t,i){const e=i.x-t.x,s=i.y-t.y,a=Math.sqrt(e*e+s*s);let l=Math.atan2(s,e);return l<-.5*Uc&&(l+=Ol),{angle:l,distance:a}}function VO(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function Tq(t,i){return(t-i+xq)%Ol-Uc}function ig(t){return(t%Ol+Ol)%Ol}function YT(t,i,e,s){const a=ig(t),l=ig(i),h=ig(e),y=ig(l-a),C=ig(h-a),P=ig(a-l),j=ig(a-h);return a===l||a===h||s&&l===h||y>C&&P<j}function Bh(t,i,e){return Math.max(i,Math.min(e,t))}function Jv(t,i,e,s=1e-6){return t>=Math.min(i,e)-s&&t<=Math.max(i,e)+s}const SA=t=>0===t||1===t,bY=(t,i,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-i)*Ol/e),xY=(t,i,e)=>Math.pow(2,-10*t)*Math.sin((t-i)*Ol/e)+1,HT={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*wu),easeOutSine:t=>Math.sin(t*wu),easeInOutSine:t=>-.5*(Math.cos(Uc*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>SA(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>SA(t)?t:bY(t,.075,.3),easeOutElastic:t=>SA(t)?t:xY(t,.075,.3),easeInOutElastic(t){const i=.1125;return SA(t)?t:t<.5?.5*bY(2*t,i,.45):.5+.5*xY(2*t-1,i,.45)},easeInBack(t){const i=1.70158;return t*t*((i+1)*t-i)},easeOutBack(t){const i=1.70158;return(t-=1)*t*((i+1)*t+i)+1},easeInOutBack(t){let i=1.70158;return(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)},easeInBounce:t=>1-HT.easeOutBounce(1-t),easeOutBounce(t){const i=7.5625,e=2.75;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},easeInOutBounce:t=>t<.5?.5*HT.easeInBounce(2*t):.5*HT.easeOutBounce(2*t-1)+.5},Kg={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},UO="0123456789ABCDEF",kq=t=>UO[15&t],Eq=t=>UO[(240&t)>>4]+UO[15&t],kA=t=>(240&t)>>4==(15&t);function VT(t){return t+.5|0}const EA=(t,i,e)=>Math.max(Math.min(t,e),i);function UT(t){return EA(VT(2.55*t),0,255)}function jT(t){return EA(VT(255*t),0,255)}function jO(t){return EA(VT(t/2.55)/100,0,1)}function wY(t){return EA(VT(100*t),0,100)}const Lq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Rq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function CY(t,i,e){const s=i*Math.min(e,1-e),a=(l,h=(l+t/30)%12)=>e-s*Math.max(Math.min(h-3,9-h,1),-1);return[a(0),a(8),a(4)]}function Fq(t,i,e){const s=(a,l=(a+t/60)%6)=>e-e*i*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function Nq(t,i,e){const s=CY(t,1,.5);let a;for(i+e>1&&(a=1/(i+e),i*=a,e*=a),a=0;a<3;a++)s[a]*=1-i-e,s[a]+=i;return s}function ZO(t){const e=t.r/255,s=t.g/255,a=t.b/255,l=Math.max(e,s,a),h=Math.min(e,s,a),y=(l+h)/2;let C,P,j;return l!==h&&(j=l-h,P=y>.5?j/(2-l-h):j/(l+h),C=l===e?(s-a)/j+(s<a?6:0):l===s?(a-e)/j+2:(e-s)/j+4,C=60*C+.5),[0|C,P||0,y]}function WO(t,i,e,s){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,e,s)).map(jT)}function GO(t,i,e){return WO(CY,t,i,e)}function MY(t){return(t%360+360)%360}const TY={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SY={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let DA;function AA(t,i,e){if(t){let s=ZO(t);s[i]=Math.max(0,Math.min(s[i]+s[i]*e,0===i?360:1)),s=GO(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function kY(t,i){return t&&Object.assign(i||{},t)}function EY(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=jT(t[3]))):(i=kY(t,{r:0,g:0,b:0,a:1})).a=jT(i.a),i}function Zq(t){return"r"===t.charAt(0)?function(t){const i=Lq.exec(t);let s,a,l,e=255;if(i){if(i[7]!==s){const h=+i[7];e=255&(i[8]?UT(h):255*h)}return s=+i[1],a=+i[3],l=+i[5],s=255&(i[2]?UT(s):s),a=255&(i[4]?UT(a):a),l=255&(i[6]?UT(l):l),{r:s,g:a,b:l,a:e}}}(t):function(t){const i=Rq.exec(t);let s,e=255;if(!i)return;i[5]!==s&&(e=i[6]?UT(+i[5]):jT(+i[5]));const a=MY(+i[2]),l=+i[3]/100,h=+i[4]/100;return s="hwb"===i[1]?function(t,i,e){return WO(Nq,t,i,e)}(a,l,h):"hsv"===i[1]?function(t,i,e){return WO(Fq,t,i,e)}(a,l,h):GO(a,l,h),{r:s[0],g:s[1],b:s[2],a:e}}(t)}class IA{constructor(i){if(i instanceof IA)return i;const e=typeof i;let s;"object"===e?s=EY(i):"string"===e&&(s=function(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*Kg[t[1]],g:255&17*Kg[t[2]],b:255&17*Kg[t[3]],a:5===i?17*Kg[t[4]]:255}:(7===i||9===i)&&(e={r:Kg[t[1]]<<4|Kg[t[2]],g:Kg[t[3]]<<4|Kg[t[4]],b:Kg[t[5]]<<4|Kg[t[6]],a:9===i?Kg[t[7]]<<4|Kg[t[8]]:255})),e}(i)||function(t){DA||(DA=function(){const t={},i=Object.keys(SY),e=Object.keys(TY);let s,a,l,h,y;for(s=0;s<i.length;s++){for(h=y=i[s],a=0;a<e.length;a++)l=e[a],y=y.replace(l,TY[l]);l=parseInt(SY[h],16),t[y]=[l>>16&255,l>>8&255,255&l]}return t}(),DA.transparent=[0,0,0,0]);const i=DA[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||Zq(i)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var i=kY(this._rgb);return i&&(i.a=jO(i.a)),i}set rgb(i){this._rgb=EY(i)}rgbString(){return this._valid?function(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${jO(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function(t){var i=function(t){return kA(t.r)&&kA(t.g)&&kA(t.b)&&kA(t.a)}(t)?kq:Eq;return t&&"#"+i(t.r)+i(t.g)+i(t.b)+(t.a<255?i(t.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const i=ZO(t),e=i[0],s=wY(i[1]),a=wY(i[2]);return t.a<255?`hsla(${e}, ${s}%, ${a}%, ${jO(t.a)})`:`hsl(${e}, ${s}%, ${a}%)`}(this._rgb):this._rgb}mix(i,e){const s=this;if(i){const a=s.rgb,l=i.rgb;let h;const y=e===h?.5:e,C=2*y-1,P=a.a-l.a,j=((C*P==-1?C:(C+P)/(1+C*P))+1)/2;h=1-j,a.r=255&j*a.r+h*l.r+.5,a.g=255&j*a.g+h*l.g+.5,a.b=255&j*a.b+h*l.b+.5,a.a=y*a.a+(1-y)*l.a,s.rgb=a}return s}clone(){return new IA(this.rgb)}alpha(i){return this._rgb.a=jT(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=VT(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return AA(this._rgb,2,i),this}darken(i){return AA(this._rgb,2,-i),this}saturate(i){return AA(this._rgb,1,i),this}desaturate(i){return AA(this._rgb,1,-i),this}rotate(i){return function(t,i){var e=ZO(t);e[0]=MY(e[0]+i),e=GO(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,i),this}}function DY(t){return new IA(t)}const AY=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function IY(t){return AY(t)?t:DY(t)}function qO(t){return AY(t)?t:DY(t).saturate(.5).darken(.1).hexString()}const qx=Object.create(null),$O=Object.create(null);function ZT(t,i){if(!i)return t;const e=i.split(".");for(let s=0,a=e.length;s<a;++s){const l=e[s];t=t[l]||(t[l]=Object.create(null))}return t}function QO(t,i,e){return"string"==typeof i?RT(ZT(t,i),e):RT(ZT(t,""),i)}var Yo=new class{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,s)=>qO(s.backgroundColor),this.hoverBorderColor=(e,s)=>qO(s.borderColor),this.hoverColor=(e,s)=>qO(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i)}set(i,e){return QO(this,i,e)}get(i){return ZT(this,i)}describe(i,e){return QO($O,i,e)}override(i,e){return QO(qx,i,e)}route(i,e,s,a){const l=ZT(this,i),h=ZT(this,s),y="_"+e;Object.defineProperties(l,{[y]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const C=this[y],P=h[a];return Wo(C)?Object.assign({},P,C):so(C,P)},set(C){this[y]=C}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function LA(t,i,e,s,a){let l=i[a];return l||(l=i[a]=t.measureText(a).width,e.push(a)),l>s&&(s=l),s}function qq(t,i,e,s){let a=(s=s||{}).data=s.data||{},l=s.garbageCollect=s.garbageCollect||[];s.font!==i&&(a=s.data={},l=s.garbageCollect=[],s.font=i),t.save(),t.font=i;let h=0;const y=e.length;let C,P,j,te,he;for(C=0;C<y;C++)if(te=e[C],null!=te&&!0!==Wl(te))h=LA(t,a,l,h,te);else if(Wl(te))for(P=0,j=te.length;P<j;P++)he=te[P],null!=he&&!Wl(he)&&(h=LA(t,a,l,h,he));t.restore();const Ce=l.length/2;if(Ce>e.length){for(C=0;C<Ce;C++)delete a[l[C]];l.splice(0,Ce)}return h}function $x(t,i,e){const s=t.currentDevicePixelRatio,a=0!==e?Math.max(e/2,.5):0;return Math.round((i-a)*s)/s+a}function LY(t,i){(i=i||t.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore()}function PA(t,i,e,s){let a,l,h,y,C;const P=i.pointStyle,j=i.rotation,te=i.radius;let he=(j||0)*wq;if(P&&"object"==typeof P&&(a=P.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(e,s),t.rotate(he),t.drawImage(P,-P.width/2,-P.height/2,P.width,P.height),void t.restore();if(!(isNaN(te)||te<=0)){switch(t.beginPath(),P){default:t.arc(e,s,te,0,Ol),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(he)*te,s-Math.cos(he)*te),he+=mY,t.lineTo(e+Math.sin(he)*te,s-Math.cos(he)*te),he+=mY,t.lineTo(e+Math.sin(he)*te,s-Math.cos(he)*te),t.closePath();break;case"rectRounded":C=.516*te,y=te-C,l=Math.cos(he+NT)*y,h=Math.sin(he+NT)*y,t.arc(e-l,s-h,C,he-Uc,he-wu),t.arc(e+h,s-l,C,he-wu,he),t.arc(e+l,s+h,C,he,he+wu),t.arc(e-h,s+l,C,he+wu,he+Uc),t.closePath();break;case"rect":if(!j){y=Math.SQRT1_2*te,t.rect(e-y,s-y,2*y,2*y);break}he+=NT;case"rectRot":l=Math.cos(he)*te,h=Math.sin(he)*te,t.moveTo(e-l,s-h),t.lineTo(e+h,s-l),t.lineTo(e+l,s+h),t.lineTo(e-h,s+l),t.closePath();break;case"crossRot":he+=NT;case"cross":l=Math.cos(he)*te,h=Math.sin(he)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l);break;case"star":l=Math.cos(he)*te,h=Math.sin(he)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l),he+=NT,l=Math.cos(he)*te,h=Math.sin(he)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l);break;case"line":l=Math.cos(he)*te,h=Math.sin(he)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h);break;case"dash":t.moveTo(e,s),t.lineTo(e+Math.cos(he)*te,s+Math.sin(he)*te)}t.fill(),i.borderWidth>0&&t.stroke()}}function Qx(t,i,e){return e=e||.5,!i||t&&t.x>i.left-e&&t.x<i.right+e&&t.y>i.top-e&&t.y<i.bottom+e}function OA(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function RA(t){t.restore()}function $q(t,i,e,s,a){if(!i)return t.lineTo(e.x,e.y);if("middle"===a){const l=(i.x+e.x)/2;t.lineTo(l,i.y),t.lineTo(l,e.y)}else"after"===a!=!!s?t.lineTo(i.x,e.y):t.lineTo(e.x,i.y);t.lineTo(e.x,e.y)}function Qq(t,i,e,s){if(!i)return t.lineTo(e.x,e.y);t.bezierCurveTo(s?i.cp1x:i.cp2x,s?i.cp1y:i.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function Jx(t,i,e,s,a,l={}){const h=Wl(i)?i:[i],y=l.strokeWidth>0&&""!==l.strokeColor;let C,P;for(t.save(),t.font=a.string,function(t,i){i.translation&&t.translate(i.translation[0],i.translation[1]),Sa(i.rotation)||t.rotate(i.rotation),i.color&&(t.fillStyle=i.color),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline)}(t,l),C=0;C<h.length;++C)P=h[C],y&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),Sa(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(P,e,s,l.maxWidth)),t.fillText(P,e,s,l.maxWidth),Xq(t,e,s,P,l),s+=a.lineHeight;t.restore()}function Xq(t,i,e,s,a){if(a.strikethrough||a.underline){const l=t.measureText(s),h=i-l.actualBoundingBoxLeft,y=i+l.actualBoundingBoxRight,C=e-l.actualBoundingBoxAscent,P=e+l.actualBoundingBoxDescent,j=a.strikethrough?(C+P)/2:P;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(h,j),t.lineTo(y,j),t.stroke()}}function FA(t,i){const{x:e,y:s,w:a,h:l,radius:h}=i;t.arc(e+h.topLeft,s+h.topLeft,h.topLeft,-wu,Uc,!0),t.lineTo(e,s+l-h.bottomLeft),t.arc(e+h.bottomLeft,s+l-h.bottomLeft,h.bottomLeft,Uc,wu,!0),t.lineTo(e+a-h.bottomRight,s+l),t.arc(e+a-h.bottomRight,s+l-h.bottomRight,h.bottomRight,wu,0,!0),t.lineTo(e+a,s+h.topRight),t.arc(e+a-h.topRight,s+h.topRight,h.topRight,0,-wu,!0),t.lineTo(e+h.topLeft,s)}const Kq=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),e8=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function t8(t,i){const e=(""+t).match(Kq);if(!e||"normal"===e[1])return 1.2*i;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return i*t}const n8=t=>+t||0;function JO(t,i){const e={},s=Wo(i),a=s?Object.keys(i):i,l=Wo(t)?s?h=>so(t[h],t[i[h]]):h=>t[h]:()=>t;for(const h of a)e[h]=n8(l(h));return e}function PY(t){return JO(t,{top:"y",right:"x",bottom:"y",left:"x"})}function q1(t){return JO(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kp(t){const i=PY(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function sh(t,i){let e=so((t=t||{}).size,(i=i||Yo.font).size);"string"==typeof e&&(e=parseInt(e,10));let s=so(t.style,i.style);s&&!(""+s).match(e8)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const a={family:so(t.family,i.family),lineHeight:t8(so(t.lineHeight,i.lineHeight),e),size:e,style:s,weight:so(t.weight,i.weight),string:""};return a.string=function(t){return!t||Sa(t.size)||Sa(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(a),a}function WT(t,i,e,s){let l,h,y,a=!0;for(l=0,h=t.length;l<h;++l)if(y=t[l],void 0!==y&&(void 0!==i&&"function"==typeof y&&(y=y(i),a=!1),void 0!==e&&Wl(y)&&(y=y[e%y.length],a=!1),void 0!==y))return s&&!a&&(s.cacheable=!1),y}function S0(t,i){return Object.assign(Object.create(t),i)}function XO(t,i,e){e=e||(h=>t[h]<i);let l,s=t.length-1,a=0;for(;s-a>1;)l=a+s>>1,e(l)?a=l:s=l;return{lo:a,hi:s}}const Xv=(t,i,e)=>XO(t,e,s=>t[s][i]<e),s8=(t,i,e)=>XO(t,e,s=>t[s][i]>=e),OY=["push","pop","shift","splice","unshift"];function RY(t,i){const e=t._chartjs;if(!e)return;const s=e.listeners,a=s.indexOf(i);-1!==a&&s.splice(a,1),!(s.length>0)&&(OY.forEach(l=>{delete t[l]}),delete t._chartjs)}function FY(t){const i=new Set;let e,s;for(e=0,s=t.length;e<s;++e)i.add(t[e]);return i.size===s?t:Array.from(i)}function KO(t,i=[""],e=t,s,a=(()=>t[0])){Jg(s)||(s=HY("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:e,_fallback:s,_getTarget:a,override:h=>KO([h,...t],i,e,s)};return new Proxy(l,{deleteProperty:(h,y)=>(delete h[y],delete h._keys,delete t[0][y],!0),get:(h,y)=>zY(h,y,()=>function(t,i,e,s){let a;for(const l of i)if(a=HY(l8(l,t),e),Jg(a))return eR(t,a)?tR(e,s,t,a):a}(y,i,t,h)),getOwnPropertyDescriptor:(h,y)=>Reflect.getOwnPropertyDescriptor(h._scopes[0],y),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(h,y)=>VY(h).includes(y),ownKeys:h=>VY(h),set(h,y,C){const P=h._storage||(h._storage=a());return h[y]=P[y]=C,delete h._keys,!0}})}function $1(t,i,e,s){const a={_cacheable:!1,_proxy:t,_context:i,_subProxy:e,_stack:new Set,_descriptors:NY(t,s),setContext:l=>$1(t,l,e,s),override:l=>$1(t.override(l),i,e,s)};return new Proxy(a,{deleteProperty:(l,h)=>(delete l[h],delete t[h],!0),get:(l,h,y)=>zY(l,h,()=>function(t,i,e){const{_proxy:s,_context:a,_subProxy:l,_descriptors:h}=t;let y=s[i];return T0(y)&&h.isScriptable(i)&&(y=function(t,i,e,s){const{_proxy:a,_context:l,_subProxy:h,_stack:y}=e;if(y.has(t))throw new Error("Recursion detected: "+Array.from(y).join("->")+"->"+t);return y.add(t),i=i(l,h||s),y.delete(t),eR(t,i)&&(i=tR(a._scopes,a,t,i)),i}(i,y,t,e)),Wl(y)&&y.length&&(y=function(t,i,e,s){const{_proxy:a,_context:l,_subProxy:h,_descriptors:y}=e;if(Jg(l.index)&&s(t))i=i[l.index%i.length];else if(Wo(i[0])){const C=i,P=a._scopes.filter(j=>j!==C);i=[];for(const j of C){const te=tR(P,a,t,j);i.push($1(te,l,h&&h[t],y))}}return i}(i,y,t,h.isIndexable)),eR(i,y)&&(y=$1(y,a,l&&l[i],h)),y}(l,h,y)),getOwnPropertyDescriptor:(l,h)=>l._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(l,h)=>Reflect.has(t,h),ownKeys:()=>Reflect.ownKeys(t),set:(l,h,y)=>(t[h]=y,delete l[h],!0)})}function NY(t,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:s=i.indexable,_allKeys:a=i.allKeys}=t;return{allKeys:a,scriptable:e,indexable:s,isScriptable:T0(e)?e:()=>e,isIndexable:T0(s)?s:()=>s}}const l8=(t,i)=>t?t+YO(i):i,eR=(t,i)=>Wo(i)&&"adapters"!==t&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function zY(t,i,e){if(Object.prototype.hasOwnProperty.call(t,i))return t[i];const s=e();return t[i]=s,s}function BY(t,i,e){return T0(t)?t(i,e):t}const h8=(t,i)=>!0===t?i:"string"==typeof t?Gx(i,t):void 0;function p8(t,i,e,s,a){for(const l of i){const h=h8(e,l);if(h){t.add(h);const y=BY(h._fallback,e,a);if(Jg(y)&&y!==e&&y!==s)return y}else if(!1===h&&Jg(s)&&e!==s)return null}return!1}function tR(t,i,e,s){const a=i._rootScopes,l=BY(i._fallback,e,s),h=[...t,...a],y=new Set;y.add(s);let C=YY(y,h,e,l||e,s);return!(null===C||Jg(l)&&l!==e&&(C=YY(y,h,l,C,s),null===C))&&KO(Array.from(y),[""],a,l,()=>function(t,i,e){const s=t._getTarget();i in s||(s[i]={});const a=s[i];return Wl(a)&&Wo(e)?e:a}(i,e,s))}function YY(t,i,e,s,a){for(;e;)e=p8(t,i,e,s,a);return e}function HY(t,i){for(const e of i){if(!e)continue;const s=e[t];if(Jg(s))return s}}function VY(t){let i=t._keys;return i||(i=t._keys=function(t){const i=new Set;for(const e of t)for(const s of Object.keys(e).filter(a=>!a.startsWith("_")))i.add(s);return Array.from(i)}(t._scopes)),i}const _8=Number.EPSILON||1e-14,Q1=(t,i)=>i<t.length&&!t[i].skip&&t[i],UY=t=>"x"===t?"y":"x";function y8(t,i,e,s){const a=t.skip?i:t,l=i,h=e.skip?i:e,y=VO(l,a),C=VO(h,l);let P=y/(y+C),j=C/(y+C);P=isNaN(P)?0:P,j=isNaN(j)?0:j;const te=s*P,he=s*j;return{previous:{x:l.x-te*(h.x-a.x),y:l.y-te*(h.y-a.y)},next:{x:l.x+he*(h.x-a.x),y:l.y+he*(h.y-a.y)}}}function NA(t,i,e){return Math.max(Math.min(t,e),i)}function C8(t,i,e,s,a){let l,h,y,C;if(i.spanGaps&&(t=t.filter(P=>!P.skip)),"monotone"===i.cubicInterpolationMode)!function(t,i="x"){const e=UY(i),s=t.length,a=Array(s).fill(0),l=Array(s);let h,y,C,P=Q1(t,0);for(h=0;h<s;++h)if(y=C,C=P,P=Q1(t,h+1),C){if(P){const j=P[i]-C[i];a[h]=0!==j?(P[e]-C[e])/j:0}l[h]=y?P?Jy(a[h-1])!==Jy(a[h])?0:(a[h-1]+a[h])/2:a[h-1]:a[h]}(function(t,i,e){const s=t.length;let a,l,h,y,C,P=Q1(t,0);for(let j=0;j<s-1;++j)if(C=P,P=Q1(t,j+1),C&&P){if(BT(i[j],0,_8)){e[j]=e[j+1]=0;continue}a=e[j]/i[j],l=e[j+1]/i[j],y=Math.pow(a,2)+Math.pow(l,2),!(y<=9)&&(h=3/Math.sqrt(y),e[j]=a*h*i[j],e[j+1]=l*h*i[j])}})(t,a,l),function(t,i,e="x"){const s=UY(e),a=t.length;let l,h,y,C=Q1(t,0);for(let P=0;P<a;++P){if(h=y,y=C,C=Q1(t,P+1),!y)continue;const j=y[e],te=y[s];h&&(l=(j-h[e])/3,y[`cp1${e}`]=j-l,y[`cp1${s}`]=te-l*i[P]),C&&(l=(C[e]-j)/3,y[`cp2${e}`]=j+l,y[`cp2${s}`]=te+l*i[P])}}(t,l,i)}(t,a);else{let P=s?t[t.length-1]:t[0];for(l=0,h=t.length;l<h;++l)y=t[l],C=y8(P,y,t[Math.min(l+1,h-(s?0:1))%h],i.tension),y.cp1x=C.previous.x,y.cp1y=C.previous.y,y.cp2x=C.next.x,y.cp2y=C.next.y,P=y}i.capBezierPoints&&function(t,i){let e,s,a,l,h,y=Qx(t[0],i);for(e=0,s=t.length;e<s;++e)h=l,l=y,y=e<s-1&&Qx(t[e+1],i),l&&(a=t[e],h&&(a.cp1x=NA(a.cp1x,i.left,i.right),a.cp1y=NA(a.cp1y,i.top,i.bottom)),y&&(a.cp2x=NA(a.cp2x,i.left,i.right),a.cp2y=NA(a.cp2y,i.top,i.bottom)))}(t,e)}function jY(){return"undefined"!=typeof window&&"undefined"!=typeof document}function nR(t){let i=t.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function zA(t,i,e){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*i.parentNode[e])):s=t,s}const BA=t=>window.getComputedStyle(t,null),T8=["top","right","bottom","left"];function Xx(t,i,e){const s={};e=e?"-"+e:"";for(let a=0;a<4;a++){const l=T8[a];s[l]=parseFloat(t[i+"-"+l+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ZY(t,i){const{canvas:e,currentDevicePixelRatio:s}=i,a=BA(e),l="border-box"===a.boxSizing,h=Xx(a,"padding"),y=Xx(a,"border","width"),{x:C,y:P,box:j}=function(t,i){const e=t.native||t,s=e.touches,a=s&&s.length?s[0]:e,{offsetX:l,offsetY:h}=a;let C,P,y=!1;if(((t,i,e)=>(t>0||i>0)&&(!e||!e.shadowRoot))(l,h,e.target))C=l,P=h;else{const j=i.getBoundingClientRect();C=a.clientX-j.left,P=a.clientY-j.top,y=!0}return{x:C,y:P,box:y}}(t,e),te=h.left+(j&&y.left),he=h.top+(j&&y.top);let{width:Ce,height:Le}=i;return l&&(Ce-=h.width+y.width,Le-=h.height+y.height),{x:Math.round((C-te)/Ce*e.width/s),y:Math.round((P-he)/Le*e.height/s)}}const iR=t=>Math.round(10*t)/10;function WY(t,i,e){const s=i||1,a=Math.floor(t.height*s),l=Math.floor(t.width*s);t.height=a/s,t.width=l/s;const h=t.canvas;return h.style&&(e||!h.style.height&&!h.style.width)&&(h.style.height=`${t.height}px`,h.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||h.height!==a||h.width!==l)&&(t.currentDevicePixelRatio=s,h.height=a,h.width=l,t.ctx.setTransform(s,0,0,s,0,0),!0)}const A8=function(){let t=!1;try{const i={get passive(){return t=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch(i){}return t}();function GY(t,i){const e=function(t,i){return BA(t).getPropertyValue(i)}(t,i),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Kx(t,i,e,s){return{x:t.x+e*(i.x-t.x),y:t.y+e*(i.y-t.y)}}function I8(t,i,e,s){return{x:t.x+e*(i.x-t.x),y:"middle"===s?e<.5?t.y:i.y:"after"===s?e<1?t.y:i.y:e>0?i.y:t.y}}function L8(t,i,e,s){const a={x:t.cp2x,y:t.cp2y},l={x:i.cp1x,y:i.cp1y},h=Kx(t,a,e),y=Kx(a,l,e),C=Kx(l,i,e),P=Kx(h,y,e),j=Kx(y,C,e);return Kx(P,j,e)}const qY=new Map;function GT(t,i,e){return function(t,i){i=i||{};const e=t+JSON.stringify(i);let s=qY.get(e);return s||(s=new Intl.NumberFormat(t,i),qY.set(e,s)),s}(i,e).format(t)}function J1(t,i,e){return t?function(t,i){return{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,s)=>e-s,leftForLtr:(e,s)=>e-s}}(i,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,i)=>t+i,leftForLtr:(t,i)=>t}}function $Y(t,i){let e,s;("ltr"===i||"rtl"===i)&&(e=t.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),t.prevTextDirection=s)}function QY(t,i){void 0!==i&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function JY(t){return"angle"===t?{between:YT,compare:Tq,normalize:ig}:{between:Jv,compare:(i,e)=>i-e,normalize:i=>i}}function XY({start:t,end:i,count:e,loop:s,style:a}){return{start:t%e,end:i%e,loop:s&&(i-t+1)%e==0,style:a}}function KY(t,i,e){if(!e)return[t];const{property:s,start:a,end:l}=e,h=i.length,{compare:y,between:C,normalize:P}=JY(s),{start:j,end:te,loop:he,style:Ce}=function(t,i,e){const{property:s,start:a,end:l}=e,{between:h,normalize:y}=JY(s),C=i.length;let he,Ce,{start:P,end:j,loop:te}=t;if(te){for(P+=C,j+=C,he=0,Ce=C;he<Ce&&h(y(i[P%C][s]),a,l);++he)P--,j--;P%=C,j%=C}return j<P&&(j+=C),{start:P,end:j,loop:te,style:t.style}}(t,i,e),Le=[];let vt,Wt,nn,je=!1,tt=null;for(let Oi=j,Pi=j;Oi<=te;++Oi)Wt=i[Oi%h],!Wt.skip&&(vt=P(Wt[s]),vt!==nn&&(je=C(vt,a,l),null===tt&&(je||C(a,nn,vt)&&0!==y(a,nn))&&(tt=0===y(vt,a)?Oi:Pi),null!==tt&&(!je||0===y(l,vt)||C(l,nn,vt))&&(Le.push(XY({start:tt,end:Oi,loop:he,count:h,style:Ce})),tt=null),Pi=Oi,nn=vt));return null!==tt&&Le.push(XY({start:tt,end:te,loop:he,count:h,style:Ce})),Le}function e6(t,i){const e=[],s=t.segments;for(let a=0;a<s.length;a++){const l=KY(s[a],t.points,i);l.length&&e.push(...l)}return e}function n6(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function H8(t,i){return i&&JSON.stringify(t)!==JSON.stringify(i)}var Kv=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,s,a){const h=e.duration;e.listeners[a].forEach(y=>y({chart:i,initial:e.initial,numSteps:h,currentStep:Math.min(s-e.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=cY.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const l=s.items;let C,h=l.length-1,y=!1;for(;h>=0;--h)C=l[h],C._active?(C._total>s.duration&&(s.duration=C._total),C.tick(i),y=!0):(l[h]=l[l.length-1],l.pop());y&&(a.draw(),this._notify(a,s,i,"progress")),l.length||(s.running=!1,this._notify(a,s,i,"complete"),s.initial=!1),e+=l.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let s=e.get(i);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,s)),s}listen(i,e,s){this._getAnims(i).listeners[e].push(s)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const s=e.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}};const r6="transparent",U8={boolean:(t,i,e)=>e>.5?i:t,color(t,i,e){const s=IY(t||r6),a=s.valid&&IY(i||r6);return a&&a.valid?a.mix(s,e).hexString():i},number:(t,i,e)=>t+(i-t)*e};class j8{constructor(i,e,s,a){const l=e[s];a=WT([i.to,a,l,i.from]);const h=WT([i.from,l,a]);this._active=!0,this._fn=i.fn||U8[i.type||typeof h],this._easing=HT[i.easing]||HT.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=s,this._from=h,this._to=a,this._promises=void 0}active(){return this._active}update(i,e,s){if(this._active){this._notify(!1);const a=this._target[this._prop],l=s-this._start,h=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(h,i.duration)),this._total+=l,this._loop=!!i.loop,this._to=WT([i.to,e,a,i.from]),this._from=WT([i.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,s=this._duration,a=this._prop,l=this._from,h=this._loop,y=this._to;let C;if(this._active=l!==y&&(h||e<s),!this._active)return this._target[a]=y,void this._notify(!0);e<0?this._target[a]=l:(C=e/s%2,C=h&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[a]=this._fn(l,y,C))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,s)=>{i.push({res:e,rej:s})})}_notify(i){const e=i?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][e]()}}Yo.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const G8=Object.keys(Yo.animation);Yo.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Yo.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Yo.describe("animations",{_fallback:"animation"}),Yo.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class s6{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!Wo(i))return;const e=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const a=i[s];if(!Wo(a))return;const l={};for(const h of G8)l[h]=a[h];(Wl(a.properties)&&a.properties||[s]).forEach(h=>{(h===s||!e.has(h))&&e.set(h,l)})})}_animateOptions(i,e){const s=e.options,a=function(t,i){if(!i)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=i}(i,s);if(!a)return[];const l=this._createAnimations(a,s);return s.$shared&&function(t,i){const e=[],s=Object.keys(i);for(let a=0;a<s.length;a++){const l=t[s[a]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}(i.options.$animations,s).then(()=>{i.options=s},()=>{}),l}_createAnimations(i,e){const s=this._properties,a=[],l=i.$animations||(i.$animations={}),h=Object.keys(e),y=Date.now();let C;for(C=h.length-1;C>=0;--C){const P=h[C];if("$"===P.charAt(0))continue;if("options"===P){a.push(...this._animateOptions(i,e));continue}const j=e[P];let te=l[P];const he=s.get(P);if(te){if(he&&te.active()){te.update(he,j,y);continue}te.cancel()}he&&he.duration?(l[P]=te=new j8(he,i,P,j),a.push(te)):i[P]=j}return a}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const s=this._createAnimations(i,e);return s.length?(Kv.add(this._chart,s),!0):void 0}}function o6(t,i){const e=t&&t.options||{},s=e.reverse,a=void 0===e.min?i:0,l=void 0===e.max?i:0;return{start:s?l:a,end:s?a:l}}function a6(t,i){const e=[],s=t._getSortedDatasetMetas(i);let a,l;for(a=0,l=s.length;a<l;++a)e.push(s[a].index);return e}function l6(t,i,e,s={}){const a=t.keys,l="single"===s.mode;let h,y,C,P;if(null!==i){for(h=0,y=a.length;h<y;++h){if(C=+a[h],C===e){if(s.all)continue;break}P=t.values[C],qu(P)&&(l||0===i||Jy(i)===Jy(P))&&(i+=P)}return i}}function c6(t,i){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==i.stack}function t9(t,i,e){const s=t[i]||(t[i]={});return s[e]||(s[e]={})}function u6(t,i,e,s){for(const a of i.getMatchingVisibleMetas(s).reverse()){const l=t[a.index];if(e&&l>0||!e&&l<0)return a.index}return null}function d6(t,i){const{chart:e,_cachedMeta:s}=t,a=e._stacks||(e._stacks={}),{iScale:l,vScale:h,index:y}=s,C=l.axis,P=h.axis,j=function(t,i,e){return`${t.id}.${i.id}.${e.stack||e.type}`}(l,h,s),te=i.length;let he;for(let Ce=0;Ce<te;++Ce){const Le=i[Ce],{[C]:je,[P]:tt}=Le;he=(Le._stacks||(Le._stacks={}))[P]=t9(a,j,je),he[y]=tt,he._top=u6(he,h,!0,s.type),he._bottom=u6(he,h,!1,s.type)}}function rR(t,i){const e=t.scales;return Object.keys(e).filter(s=>e[s].axis===i).shift()}function qT(t,i){const e=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){i=i||t._parsed;for(const a of i){const l=a._stacks;if(!l||void 0===l[s]||void 0===l[s][e])return;delete l[s][e]}}}const sR=t=>"reset"===t||"none"===t,h6=(t,i)=>i?t:Object.assign({},t);let eb=(()=>{class t{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=c6(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&qT(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),l=(he,Ce,Le,je)=>"x"===he?Ce:"r"===he?je:Le,h=s.xAxisID=so(a.xAxisID,rR(e,"x")),y=s.yAxisID=so(a.yAxisID,rR(e,"y")),C=s.rAxisID=so(a.rAxisID,rR(e,"r")),P=s.indexAxis,j=s.iAxisID=l(P,h,y,C),te=s.vAxisID=l(P,y,h,C);s.xScale=this.getScaleForId(h),s.yScale=this.getScaleForId(y),s.rScale=this.getScaleForId(C),s.iScale=this.getScaleForId(j),s.vScale=this.getScaleForId(te)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&RY(this._data,this),e._stacked&&qT(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(Wo(s))this._data=function(t){const i=Object.keys(t),e=new Array(i.length);let s,a,l;for(s=0,a=i.length;s<a;++s)l=i[s],e[s]={x:l,y:t[l]};return e}(s);else if(a!==s){if(a){RY(a,this);const l=this._cachedMeta;qT(l),l._parsed=[]}s&&Object.isExtensible(s)&&function(t,i){t._chartjs?t._chartjs.listeners.push(i):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),OY.forEach(e=>{const s="_onData"+YO(e),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...l){const h=a.apply(this,l);return t._chartjs.listeners.forEach(y=>{"function"==typeof y[s]&&y[s](...l)}),h}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const h=s._stacked;s._stacked=c6(s.vScale,s),s.stack!==a.stack&&(l=!0,qT(s),s.stack=a.stack),this._resyncElements(e),(l||h!==s._stacked)&&d6(this,s._parsed)}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:a,_data:l}=this,{iScale:h,_stacked:y}=a,C=h.axis;let te,he,Ce,P=0===e&&s===l.length||a._sorted,j=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=l,a._sorted=!0,Ce=l;else{Ce=Wl(l[e])?this.parseArrayData(a,l,e,s):Wo(l[e])?this.parseObjectData(a,l,e,s):this.parsePrimitiveData(a,l,e,s);const Le=()=>null===he[C]||j&&he[C]<j[C];for(te=0;te<s;++te)a._parsed[te+e]=he=Ce[te],P&&(Le()&&(P=!1),j=he);a._sorted=P}y&&d6(this,Ce)}parsePrimitiveData(e,s,a,l){const{iScale:h,vScale:y}=e,C=h.axis,P=y.axis,j=h.getLabels(),te=h===y,he=new Array(l);let Ce,Le,je;for(Ce=0,Le=l;Ce<Le;++Ce)je=Ce+a,he[Ce]={[C]:te||h.parse(j[je],je),[P]:y.parse(s[je],je)};return he}parseArrayData(e,s,a,l){const{xScale:h,yScale:y}=e,C=new Array(l);let P,j,te,he;for(P=0,j=l;P<j;++P)te=P+a,he=s[te],C[P]={x:h.parse(he[0],te),y:y.parse(he[1],te)};return C}parseObjectData(e,s,a,l){const{xScale:h,yScale:y}=e,{xAxisKey:C="x",yAxisKey:P="y"}=this._parsing,j=new Array(l);let te,he,Ce,Le;for(te=0,he=l;te<he;++te)Ce=te+a,Le=s[Ce],j[te]={x:h.parse(Gx(Le,C),Ce),y:y.parse(Gx(Le,P),Ce)};return j}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const h=this._cachedMeta,y=s[e.axis];return l6({keys:a6(this.chart,!0),values:s._stacks[e.axis]},y,h.index,{mode:a})}updateRangeFromParsed(e,s,a,l){const h=a[s.axis];let y=null===h?NaN:h;const C=l&&a._stacks[s.axis];l&&C&&(l.values=C,y=l6(l,h,this._cachedMeta.index)),e.min=Math.min(e.min,y),e.max=Math.max(e.max,y)}getMinMax(e,s){const a=this._cachedMeta,l=a._parsed,h=a._sorted&&e===a.iScale,y=l.length,C=this._getOtherScale(e),P=((t,i,e)=>t&&!i.hidden&&i._stacked&&{keys:a6(this.chart,!0),values:null})(s,a),j={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:te,max:he}=function(t){const{min:i,max:e,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?i:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}(C);let Ce,Le;function je(){Le=l[Ce];const tt=Le[C.axis];return!qu(Le[e.axis])||te>tt||he<tt}for(Ce=0;Ce<y&&(je()||(this.updateRangeFromParsed(j,e,Le,P),!h));++Ce);if(h)for(Ce=y-1;Ce>=0;--Ce)if(!je()){this.updateRangeFromParsed(j,e,Le,P);break}return j}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let l,h,y;for(l=0,h=s.length;l<h;++l)y=s[l][e.axis],qu(y)&&a.push(y);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,l=s.vScale,h=this.getParsed(e);return{label:a?""+a.getLabelForValue(h[a.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=function(t){let i,e,s,a;return Wo(t)?(i=t.top,e=t.right,s=t.bottom,a=t.left):i=e=s=a=t,{top:i,right:e,bottom:s,left:a,disabled:!1===t}}(so(this.options.clip,function(t,i,e){if(!1===e)return!1;const s=o6(t,e),a=o6(i,e);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,a=this._cachedMeta,l=a.data||[],h=this.chart.chartArea,y=[],C=this._drawStart||0,P=this._drawCount||l.length-C,j=this.options.drawActiveElementsOnTop;let te;for(a.dataset&&a.dataset.draw(e,h,C,P),te=C;te<C+P;++te){const he=l[te];he.hidden||(he.active&&j?y.push(he):he.draw(e,h))}for(te=0;te<y.length;++te)y[te].draw(e,h)}getStyle(e,s){const a=s?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const l=this.getDataset();let h;if(e>=0&&e<this._cachedMeta.data.length){const y=this._cachedMeta.data[e];h=y.$context||(y.$context=function(t,i,e){return S0(t,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,y)),h.parsed=this.getParsed(e),h.raw=l.data[e],h.index=h.dataIndex=e}else h=this.$context||(this.$context=function(t,i){return S0(t,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!s,h.mode=a,h}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const l="active"===s,h=this._cachedDataOpts,y=e+"-"+s,C=h[y],P=this.enableOptionSharing&&Jg(a);if(C)return h6(C,P);const j=this.chart.config,te=j.datasetElementScopeKeys(this._type,e),he=l?[`${e}Hover`,"hover",e,""]:[e,""],Ce=j.getOptionScopes(this.getDataset(),te),Le=Object.keys(Yo.elements[e]),tt=j.resolveNamedOptions(Ce,Le,()=>this.getContext(a,l),he);return tt.$shared&&(tt.$shared=P,h[y]=Object.freeze(h6(tt,P))),tt}_resolveAnimations(e,s,a){const l=this.chart,h=this._cachedDataOpts,y=`animation-${s}`,C=h[y];if(C)return C;let P;if(!1!==l.options.animation){const te=this.chart.config,he=te.datasetAnimationScopeKeys(this._type,s),Ce=te.getOptionScopes(this.getDataset(),he);P=te.createResolver(Ce,this.getContext(e,a,s))}const j=new s6(l,P&&P.animations);return P&&P._cacheable&&(h[y]=Object.freeze(j)),j}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||sR(e)||this.chart._animationsDisabled}updateElement(e,s,a,l){sR(l)?Object.assign(e,a):this._resolveAnimations(s,l).update(e,a)}updateSharedOptions(e,s,a){e&&!sR(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,l){e.active=l;const h=this.getStyle(s,l);this._resolveAnimations(s,a,l).update(e,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[C,P,j]of this._syncList)this[C](P,j);this._syncList=[];const l=a.length,h=s.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,e):h<l&&this._removeElements(h,l-h)}_insertElements(e,s,a=!0){const l=this._cachedMeta,h=l.data,y=e+s;let C;const P=j=>{for(j.length+=s,C=j.length-1;C>=y;C--)j[C]=j[C-s]};for(P(h),C=e;C<y;++C)h[C]=new this.dataElementType;this._parsing&&P(l._parsed),this.parse(e,s),a&&this.updateElements(h,e,s,"reset")}updateElements(e,s,a,l){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(e,s);a._stacked&&qT(a,l)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,l]=e;this[s](a,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t.defaults={},t})();function a9(t){const i=t.iScale,e=function(t,i){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(i);let s=[];for(let a=0,l=e.length;a<l;a++)s=s.concat(e[a].controller.getAllParsedValues(t));t._cache.$bar=FY(s.sort((a,l)=>a-l))}return t._cache.$bar}(i,t.type);let a,l,h,y,s=i._length;const C=()=>{32767===h||-32768===h||(Jg(y)&&(s=Math.min(s,Math.abs(h-y)||s)),y=h)};for(a=0,l=e.length;a<l;++a)h=i.getPixelForValue(e[a]),C();for(y=void 0,a=0,l=i.ticks.length;a<l;++a)h=i.getPixelForTick(a),C();return s}function p6(t,i,e,s){return Wl(t)?function(t,i,e,s){const a=e.parse(t[0],s),l=e.parse(t[1],s),h=Math.min(a,l),y=Math.max(a,l);let C=h,P=y;Math.abs(h)>Math.abs(y)&&(C=y,P=h),i[e.axis]=P,i._custom={barStart:C,barEnd:P,start:a,end:l,min:h,max:y}}(t,i,e,s):i[e.axis]=e.parse(t,s),i}function f6(t,i,e,s){const a=t.iScale,l=t.vScale,h=a.getLabels(),y=a===l,C=[];let P,j,te,he;for(P=e,j=e+s;P<j;++P)he=i[P],te={},te[a.axis]=y||a.parse(h[P],P),C.push(p6(he,te,l,P));return C}function oR(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function p9(t,i,e,s){let a=i.borderSkipped;const l={};if(!a)return void(t.borderSkipped=l);const{start:h,end:y,reverse:C,top:P,bottom:j}=function(t){let i,e,s,a,l;return t.horizontal?(i=t.base>t.x,e="left",s="right"):(i=t.base<t.y,e="bottom",s="top"),i?(a="end",l="start"):(a="start",l="end"),{start:e,end:s,reverse:i,top:a,bottom:l}}(t);"middle"===a&&e&&(t.enableBorderRadius=!0,(e._top||0)===s?a=P:(e._bottom||0)===s?a=j:(l[m6(j,h,y,C)]=!0,a=P)),l[m6(a,h,y,C)]=!0,t.borderSkipped=l}function m6(t,i,e,s){return t=s?g6(t=function(t,i,e){return t===i?e:t===e?i:t}(t,i,e),e,i):g6(t,i,e)}function g6(t,i,e){return"start"===t?i:"end"===t?e:t}function m9(t,{inflateAmount:i},e){t.inflateAmount="auto"===i?1===e?.33:0:i}eb.prototype.datasetElementType=null,eb.prototype.dataElementType=null;let _6=(()=>{class t extends eb{parsePrimitiveData(e,s,a,l){return f6(e,s,a,l)}parseArrayData(e,s,a,l){return f6(e,s,a,l)}parseObjectData(e,s,a,l){const{iScale:h,vScale:y}=e,{xAxisKey:C="x",yAxisKey:P="y"}=this._parsing,j="x"===h.axis?C:P,te="x"===y.axis?C:P,he=[];let Ce,Le,je,tt;for(Ce=a,Le=a+l;Ce<Le;++Ce)tt=s[Ce],je={},je[h.axis]=h.parse(Gx(tt,j),Ce),he.push(p6(Gx(tt,te),je,y,Ce));return he}updateRangeFromParsed(e,s,a,l){super.updateRangeFromParsed(e,s,a,l);const h=a._custom;h&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,h.min),e.max=Math.max(e.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:l}=s,h=this.getParsed(e),y=h._custom,C=oR(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+a.getLabelForValue(h[a.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,l){const h="reset"===l,{index:y,_cachedMeta:{vScale:C}}=this,P=C.getBasePixel(),j=C.isHorizontal(),te=this._getRuler(),he=this.resolveDataElementOptions(s,l),Ce=this.getSharedOptions(he),Le=this.includeOptions(l,Ce);this.updateSharedOptions(Ce,l,he);for(let je=s;je<s+a;je++){const tt=this.getParsed(je),vt=h||Sa(tt[C.axis])?{base:P,head:P}:this._calculateBarValuePixels(je),Wt=this._calculateBarIndexPixels(je,te),nn=(tt._stacks||{})[C.axis],mn={horizontal:j,base:vt.base,enableBorderRadius:!nn||oR(tt._custom)||y===nn._top||y===nn._bottom,x:j?vt.head:Wt.center,y:j?Wt.center:vt.head,height:j?Wt.size:Math.abs(vt.size),width:j?Math.abs(vt.size):Wt.size};Le&&(mn.options=Ce||this.resolveDataElementOptions(je,e[je].active?"active":l));const hn=mn.options||e[je].options;p9(mn,hn,nn,y),m9(mn,hn,te.ratio),this.updateElement(e[je],je,mn,l)}}_getStacks(e,s){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,C=h.length,P=[];let j,te;for(j=0;j<C;++j)if(te=h[j],te.controller.options.grouped){if(void 0!==s){const he=te.controller.getParsed(s)[te.controller._cachedMeta.vScale.axis];if(Sa(he)||isNaN(he))continue}if((!1===y||-1===P.indexOf(te.stack)||void 0===y&&void 0===te.stack)&&P.push(te.stack),te.index===e)break}return P.length||P.push(void 0),P}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,a){const l=this._getStacks(e,a),h=void 0!==s?l.indexOf(s):-1;return-1===h?l.length-1:h}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,l=[];let h,y;for(h=0,y=s.data.length;h<y;++h)l.push(a.getPixelForValue(this.getParsed(h)[a.axis],h));const C=e.barThickness;return{min:C||a9(s),pixels:l,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:C?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a},options:{base:l,minBarLength:h}}=this,y=l||0,C=this.getParsed(e),P=C._custom,j=oR(P);let Le,je,te=C[s.axis],he=0,Ce=a?this.applyStack(s,C,a):te;Ce!==te&&(he=Ce-te,Ce=te),j&&(te=P.barStart,Ce=P.barEnd-P.barStart,0!==te&&Jy(te)!==Jy(P.barEnd)&&(he=0),he+=te);const tt=Sa(l)||j?he:l;let vt=s.getPixelForValue(tt);if(Le=this.chart.getDataVisibility(e)?s.getPixelForValue(he+Ce):vt,je=Le-vt,Math.abs(je)<h&&(je=function(t,i,e){return 0!==t?Jy(t):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(je,s,y)*h,te===y&&(vt-=je/2),Le=vt+je),vt===s.getPixelForValue(y)){const Wt=Jy(je)*s.getLineWidthForValue(y)/2;vt+=Wt,je-=Wt}return{size:je,base:vt,head:Le,center:Le+je/2}}_calculateBarIndexPixels(e,s){const a=s.scale,l=this.options,h=l.skipNull,y=so(l.maxBarThickness,1/0);let C,P;if(s.grouped){const j=h?this._getStackCount(e):s.stackCount,te="flex"===l.barThickness?function(t,i,e,s){const a=i.pixels,l=a[t];let h=t>0?a[t-1]:null,y=t<a.length-1?a[t+1]:null;const C=e.categoryPercentage;null===h&&(h=l-(null===y?i.end-i.start:y-l)),null===y&&(y=l+l-h);const P=l-(l-Math.min(h,y))/2*C;return{chunk:Math.abs(y-h)/2*C/s,ratio:e.barPercentage,start:P}}(e,s,l,j):function(t,i,e,s){const a=e.barThickness;let l,h;return Sa(a)?(l=i.min*e.categoryPercentage,h=e.barPercentage):(l=a*s,h=1),{chunk:l/s,ratio:h,start:i.pixels[t]-l/2}}(e,s,l,j),he=this._getStackIndex(this.index,this._cachedMeta.stack,h?e:void 0);C=te.start+te.chunk*he+te.chunk/2,P=Math.min(y,te.chunk*te.ratio)}else C=a.getPixelForValue(this.getParsed(e)[a.axis],e),P=Math.min(y,s.min*s.ratio);return{base:C-P/2,head:C+P/2,center:C,size:P}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,l=a.length;let h=0;for(;h<l;++h)null!==this.getParsed(h)[s.axis]&&a[h].draw(this._ctx)}}return t.id="bar",t.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},t.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},t})(),y6=(()=>{class t extends eb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,a,l){const h=super.parsePrimitiveData(e,s,a,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+a).radius;return h}parseArrayData(e,s,a,l){const h=super.parseArrayData(e,s,a,l);for(let y=0;y<h.length;y++)h[y]._custom=so(s[a+y][2],this.resolveDataElementOptions(y+a).radius);return h}parseObjectData(e,s,a,l){const h=super.parseObjectData(e,s,a,l);for(let y=0;y<h.length;y++){const C=s[a+y];h[y]._custom=so(C&&C.r&&+C.r,this.resolveDataElementOptions(y+a).radius)}return h}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let a=e.length-1;a>=0;--a)s=Math.max(s,e[a].size(this.resolveDataElementOptions(a))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,{xScale:a,yScale:l}=s,h=this.getParsed(e),y=a.getLabelForValue(h.x),C=l.getLabelForValue(h.y),P=h._custom;return{label:s.label,value:"("+y+", "+C+(P?", "+P:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,a,l){const h="reset"===l,{iScale:y,vScale:C}=this._cachedMeta,P=this.resolveDataElementOptions(s,l),j=this.getSharedOptions(P),te=this.includeOptions(l,j),he=y.axis,Ce=C.axis;for(let Le=s;Le<s+a;Le++){const je=e[Le],tt=!h&&this.getParsed(Le),vt={},Wt=vt[he]=h?y.getPixelForDecimal(.5):y.getPixelForValue(tt[he]),nn=vt[Ce]=h?C.getBasePixel():C.getPixelForValue(tt[Ce]);vt.skip=isNaN(Wt)||isNaN(nn),te&&(vt.options=this.resolveDataElementOptions(Le,je.active?"active":l),h&&(vt.options.radius=0)),this.updateElement(je,Le,vt,l)}this.updateSharedOptions(j,l,P)}resolveDataElementOptions(e,s){const a=this.getParsed(e);let l=super.resolveDataElementOptions(e,s);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return"active"!==s&&(l.radius=0),l.radius+=so(a&&a._custom,h),l}}return t.id="bubble",t.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},t.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},t})(),aR=(()=>{class t extends eb{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const a=this.getDataset().data,l=this._cachedMeta;if(!1===this._parsing)l._parsed=a;else{let y,C,h=P=>+a[P];if(Wo(a[e])){const{key:P="value"}=this._parsing;h=j=>+Gx(a[j],P)}for(y=e,C=e+s;y<C;++y)l._parsed[y]=h(y)}}_getRotation(){return $_(this.options.rotation-90)}_getCircumference(){return $_(this.options.circumference)}_getRotationExtents(){let e=Ol,s=-Ol;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)){const l=this.chart.getDatasetMeta(a).controller,h=l._getRotation(),y=l._getCircumference();e=Math.min(e,h),s=Math.max(s,h+y)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:a}=s,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,C=Math.max((Math.min(a.width,a.height)-y)/2,0),P=Math.min(((t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/i)(this.options.cutout,C),1),j=this._getRingWeight(this.index),{circumference:te,rotation:he}=this._getRotationExtents(),{ratioX:Ce,ratioY:Le,offsetX:je,offsetY:tt}=function(t,i,e){let s=1,a=1,l=0,h=0;if(i<Ol){const y=t,C=y+i,P=Math.cos(y),j=Math.sin(y),te=Math.cos(C),he=Math.sin(C),Ce=(nn,mn,hn)=>YT(nn,y,C,!0)?1:Math.max(mn,mn*e,hn,hn*e),Le=(nn,mn,hn)=>YT(nn,y,C,!0)?-1:Math.min(mn,mn*e,hn,hn*e),je=Ce(0,P,te),tt=Ce(wu,j,he),vt=Le(Uc,P,te),Wt=Le(Uc+wu,j,he);s=(je-vt)/2,a=(tt-Wt)/2,l=-(je+vt)/2,h=-(tt+Wt)/2}return{ratioX:s,ratioY:a,offsetX:l,offsetY:h}}(he,te,P),nn=Math.max(Math.min((a.width-y)/Ce,(a.height-y)/Le)/2,0),mn=dY(this.options.radius,nn),qn=(mn-Math.max(mn*P,0))/this._getVisibleDatasetWeightTotal();this.offsetX=je*mn,this.offsetY=tt*mn,l.total=this.calculateTotal(),this.outerRadius=mn-qn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-qn*j,0),this.updateElements(h,0,h.length,e)}_circumference(e,s){const a=this.options,l=this._cachedMeta,h=this._getCircumference();return s&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===l._parsed[e]||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*h/Ol)}updateElements(e,s,a,l){const h="reset"===l,y=this.chart,C=y.chartArea,te=(C.left+C.right)/2,he=(C.top+C.bottom)/2,Ce=h&&y.options.animation.animateScale,Le=Ce?0:this.innerRadius,je=Ce?0:this.outerRadius,tt=this.resolveDataElementOptions(s,l),vt=this.getSharedOptions(tt),Wt=this.includeOptions(l,vt);let mn,nn=this._getRotation();for(mn=0;mn<s;++mn)nn+=this._circumference(mn,h);for(mn=s;mn<s+a;++mn){const hn=this._circumference(mn,h),qn=e[mn],ai={x:te+this.offsetX,y:he+this.offsetY,startAngle:nn,endAngle:nn+hn,circumference:hn,outerRadius:je,innerRadius:Le};Wt&&(ai.options=vt||this.resolveDataElementOptions(mn,qn.active?"active":l)),nn+=hn,this.updateElement(qn,mn,ai,l)}this.updateSharedOptions(vt,l,tt)}calculateTotal(){const e=this._cachedMeta,s=e.data;let l,a=0;for(l=0;l<s.length;l++){const h=e._parsed[l];null!==h&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!s[l].hidden&&(a+=Math.abs(h))}return a}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Ol*(Math.abs(e)/s):0}getLabelAndValue(e){const a=this.chart,l=a.data.labels||[],h=GT(this._cachedMeta._parsed[e],a.options.locale);return{label:l[e]||"",value:h}}getMaxBorderWidth(e){let s=0;const a=this.chart;let l,h,y,C,P;if(!e)for(l=0,h=a.data.datasets.length;l<h;++l)if(a.isDatasetVisible(l)){y=a.getDatasetMeta(l),e=y.data,C=y.controller;break}if(!e)return 0;for(l=0,h=e.length;l<h;++l)P=C.resolveDataElementOptions(l),"inner"!==P.borderAlign&&(s=Math.max(s,P.borderWidth||0,P.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let a=0,l=e.length;a<l;++a){const h=this.resolveDataElementOptions(a);s=Math.max(s,h.offset||0,h.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(s+=this._getRingWeight(a));return s}_getRingWeight(e){return Math.max(so(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t.id="doughnut",t.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},t.descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=i.legend.options;return e.labels.map((a,l)=>{const y=i.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(l),index:l}})}return[]}},onClick(i,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label(i){let e=i.label;const s=": "+i.formattedValue;return Wl(e)?(e=e.slice(),e[0]+=s):e+=s,e}}}}},t})(),lR=(()=>{class t extends eb{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:a,data:l=[],_dataset:h}=s,y=this.chart._animationsDisabled;let{start:C,count:P}=function(t,i,e){const s=i.length;let a=0,l=s;if(t._sorted){const{iScale:h,_parsed:y}=t,C=h.axis,{min:P,max:j,minDefined:te,maxDefined:he}=h.getUserBounds();te&&(a=Bh(Math.min(Xv(y,h.axis,P).lo,e?s:Xv(i,C,h.getPixelForValue(P)).lo),0,s-1)),l=he?Bh(Math.max(Xv(y,h.axis,j).hi+1,e?0:Xv(i,C,h.getPixelForValue(j)).hi+1),a,s)-a:s-a}return{start:a,count:l}}(s,l,y);this._drawStart=C,this._drawCount=P,function(t){const{xScale:i,yScale:e,_scaleRanges:s}=t,a={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!s)return t._scaleRanges=a,!0;const l=s.xmin!==i.min||s.xmax!==i.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,a),l}(s)&&(C=0,P=l.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!h._decimated,a.points=l;const j=this.resolveDatasetElementOptions(e);this.options.showLine||(j.borderWidth=0),j.segment=this.options.segment,this.updateElement(a,void 0,{animated:!y,options:j},e),this.updateElements(l,C,P,e)}updateElements(e,s,a,l){const h="reset"===l,{iScale:y,vScale:C,_stacked:P,_dataset:j}=this._cachedMeta,te=this.resolveDataElementOptions(s,l),he=this.getSharedOptions(te),Ce=this.includeOptions(l,he),Le=y.axis,je=C.axis,{spanGaps:tt,segment:vt}=this.options,Wt=zT(tt)?tt:Number.POSITIVE_INFINITY,nn=this.chart._animationsDisabled||h||"none"===l;let mn=s>0&&this.getParsed(s-1);for(let hn=s;hn<s+a;++hn){const qn=e[hn],ai=this.getParsed(hn),Oi=nn?qn:{},Pi=Sa(ai[je]),ws=Oi[Le]=y.getPixelForValue(ai[Le],hn),fo=Oi[je]=h||Pi?C.getBasePixel():C.getPixelForValue(P?this.applyStack(C,ai,P):ai[je],hn);Oi.skip=isNaN(ws)||isNaN(fo)||Pi,Oi.stop=hn>0&&ai[Le]-mn[Le]>Wt,vt&&(Oi.parsed=ai,Oi.raw=j.data[hn]),Ce&&(Oi.options=he||this.resolveDataElementOptions(hn,qn.active?"active":l)),nn||this.updateElement(qn,hn,Oi,l),mn=ai}this.updateSharedOptions(he,l,te)}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,a=s.options&&s.options.borderWidth||0,l=e.data||[];if(!l.length)return a;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(a,h,y)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t.id="line",t.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},t.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},t})(),v6=(()=>{class t extends eb{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const a=this.chart,l=a.data.labels||[],h=GT(this._cachedMeta._parsed[e].r,a.options.locale);return{label:l[e]||"",value:h}}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}_updateRadius(){const e=this.chart,s=e.chartArea,a=e.options,l=Math.min(s.right-s.left,s.bottom-s.top),h=Math.max(l/2,0),C=(h-Math.max(a.cutoutPercentage?h/100*a.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=h-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(e,s,a,l){const h="reset"===l,y=this.chart,C=this.getDataset(),j=y.options.animation,te=this._cachedMeta.rScale,he=te.xCenter,Ce=te.yCenter,Le=te.getIndexAngle(0)-.5*Uc;let tt,je=Le;const vt=360/this.countVisibleElements();for(tt=0;tt<s;++tt)je+=this._computeAngle(tt,l,vt);for(tt=s;tt<s+a;tt++){const Wt=e[tt];let nn=je,mn=je+this._computeAngle(tt,l,vt),hn=y.getDataVisibility(tt)?te.getDistanceFromCenterForValue(C.data[tt]):0;je=mn,h&&(j.animateScale&&(hn=0),j.animateRotate&&(nn=mn=Le));const qn={x:he,y:Ce,innerRadius:0,outerRadius:hn,startAngle:nn,endAngle:mn,options:this.resolveDataElementOptions(tt,Wt.active?"active":l)};this.updateElement(Wt,tt,qn,l)}}countVisibleElements(){const e=this.getDataset();let a=0;return this._cachedMeta.data.forEach((l,h)=>{!isNaN(e.data[h])&&this.chart.getDataVisibility(h)&&a++}),a}_computeAngle(e,s,a){return this.chart.getDataVisibility(e)?$_(this.resolveDataElementOptions(e,s).angle||a):0}}return t.id="polarArea",t.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=i.legend.options;return e.labels.map((a,l)=>{const y=i.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(l),index:l}})}return[]}},onClick(i,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label:i=>i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},t})(),b6=(()=>{class t extends aR{}return t.id="pie",t.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},t})(),x6=(()=>{class t extends eb{getLabelAndValue(e){const s=this._cachedMeta.vScale,a=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(a[s.axis])}}update(e){const s=this._cachedMeta,a=s.dataset,l=s.data||[],h=s.iScale.getLabels();if(a.points=l,"resize"!==e){const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),this.updateElement(a,void 0,{_loop:!0,_fullLoop:h.length===l.length,options:y},e)}this.updateElements(l,0,l.length,e)}updateElements(e,s,a,l){const h=this.getDataset(),y=this._cachedMeta.rScale,C="reset"===l;for(let P=s;P<s+a;P++){const j=e[P],te=this.resolveDataElementOptions(P,j.active?"active":l),he=y.getPointPositionForValue(P,h.data[P]),Ce=C?y.xCenter:he.x,Le=C?y.yCenter:he.y,je={x:Ce,y:Le,angle:he.angle,skip:isNaN(Ce)||isNaN(Le),options:te};this.updateElement(j,P,je,l)}}}return t.id="radar",t.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},t.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},t})(),w6=(()=>{class t extends lR{}return t.id="scatter",t.defaults={showLine:!1,fill:!1},t.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:i=>"("+i.label+", "+i.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},t})();var v9=Object.freeze({__proto__:null,BarController:_6,BubbleController:y6,DoughnutController:aR,LineController:lR,PolarAreaController:v6,PieController:b6,RadarController:x6,ScatterController:w6});function ew(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var b9={_date:(()=>{class t{constructor(e){this.options=e||{}}formats(){return ew()}parse(e,s){return ew()}format(e,s){return ew()}add(e,s,a){return ew()}diff(e,s,a){return ew()}startOf(e,s,a){return ew()}endOf(e,s){return ew()}}return t.override=function(i){Object.assign(t.prototype,i)},t})()};function $T(t,i){return"native"in t?{x:t.x,y:t.y}:ZY(t,i)}function w9(t,i,e,s){const{controller:a,data:l,_sorted:h}=t,y=a._cachedMeta.iScale;if(y&&i===y.axis&&"r"!==i&&h&&l.length){const C=y._reversePixels?s8:Xv;if(!s)return C(l,i,e);if(a._sharedOptions){const P=l[0],j="function"==typeof P.getRange&&P.getRange(i);if(j){const te=C(l,i,e-j),he=C(l,i,e+j);return{lo:te.lo,hi:he.hi}}}}return{lo:0,hi:l.length-1}}function cR(t,i,e,s,a){const l=t.getSortedVisibleDatasetMetas(),h=e[i];for(let y=0,C=l.length;y<C;++y){const{index:P,data:j}=l[y],{lo:te,hi:he}=w9(l[y],i,h,a);for(let Ce=te;Ce<=he;++Ce){const Le=j[Ce];Le.skip||s(Le,P,Ce)}}}function uR(t,i,e,s){const a=[];return Qx(i,t.chartArea,t._minPadding)&&cR(t,e,i,function(h,y,C){h.inRange(i.x,i.y,s)&&a.push({element:h,datasetIndex:y,index:C})},!0),a}function dR(t,i,e,s,a){return Qx(i,t.chartArea,t._minPadding)?"r"!==e||s?function(t,i,e,s,a){let l=[];const h=function(t){const i=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(s,a){const l=i?Math.abs(s.x-a.x):0,h=e?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(h,2))}}(e);let y=Number.POSITIVE_INFINITY;return cR(t,e,i,function(P,j,te){const he=P.inRange(i.x,i.y,a);if(s&&!he)return;const Ce=P.getCenterPoint(a);if(!Qx(Ce,t.chartArea,t._minPadding)&&!he)return;const je=h(i,Ce);je<y?(l=[{element:P,datasetIndex:j,index:te}],y=je):je===y&&l.push({element:P,datasetIndex:j,index:te})}),l}(t,i,e,s,a):function(t,i,e,s){let a=[];return cR(t,e,i,function(h,y,C){const{startAngle:P,endAngle:j}=h.getProps(["startAngle","endAngle"],s),{angle:te}=vY(h,{x:i.x,y:i.y});YT(te,P,j)&&a.push({element:h,datasetIndex:y,index:C})}),a}(t,i,e,a):[]}function C6(t,i,e,s){const a=$T(i,t),l=[],h=e.axis,y="x"===h?"inXRange":"inYRange";let C=!1;return function(t,i){const e=t.getSortedVisibleDatasetMetas();let s,a,l;for(let h=0,y=e.length;h<y;++h){({index:s,data:a}=e[h]);for(let C=0,P=a.length;C<P;++C)l=a[C],l.skip||i(l,s,C)}}(t,(P,j,te)=>{P[y](a[h],s)&&l.push({element:P,datasetIndex:j,index:te}),P.inRange(a.x,a.y,s)&&(C=!0)}),e.intersect&&!C?[]:l}var S9={modes:{index(t,i,e,s){const a=$T(i,t),l=e.axis||"x",h=e.intersect?uR(t,a,l,s):dR(t,a,l,!1,s),y=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(C=>{const P=h[0].index,j=C.data[P];j&&!j.skip&&y.push({element:j,datasetIndex:C.index,index:P})}),y):[]},dataset(t,i,e,s){const a=$T(i,t),l=e.axis||"xy";let h=e.intersect?uR(t,a,l,s):dR(t,a,l,!1,s);if(h.length>0){const y=h[0].datasetIndex,C=t.getDatasetMeta(y).data;h=[];for(let P=0;P<C.length;++P)h.push({element:C[P],datasetIndex:y,index:P})}return h},point:(t,i,e,s)=>uR(t,$T(i,t),e.axis||"xy",s),nearest:(t,i,e,s)=>dR(t,$T(i,t),e.axis||"xy",e.intersect,s),x:(t,i,e,s)=>C6(t,i,{axis:"x",intersect:e.intersect},s),y:(t,i,e,s)=>C6(t,i,{axis:"y",intersect:e.intersect},s)}};const M6=["left","top","right","bottom"];function QT(t,i){return t.filter(e=>e.pos===i)}function T6(t,i){return t.filter(e=>-1===M6.indexOf(e.pos)&&e.box.axis===i)}function JT(t,i){return t.sort((e,s)=>{const a=i?s:e,l=i?e:s;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function S6(t,i,e,s){return Math.max(t[e],i[e])+Math.max(t[s],i[s])}function k6(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function I9(t,i,e,s){const{pos:a,box:l}=e,h=t.maxPadding;if(!Wo(a)){e.size&&(t[a]-=e.size);const te=s[e.stack]||{size:0,count:1};te.size=Math.max(te.size,e.horizontal?l.height:l.width),e.size=te.size/te.count,t[a]+=e.size}l.getPadding&&k6(h,l.getPadding());const y=Math.max(0,i.outerWidth-S6(h,t,"left","right")),C=Math.max(0,i.outerHeight-S6(h,t,"top","bottom")),P=y!==t.w,j=C!==t.h;return t.w=y,t.h=C,e.horizontal?{same:P,other:j}:{same:j,other:P}}function P9(t,i){const e=i.maxPadding;return function(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(h=>{l[h]=Math.max(i[h],e[h])}),l}(t?["left","right"]:["top","bottom"])}function XT(t,i,e,s){const a=[];let l,h,y,C,P,j;for(l=0,h=t.length,P=0;l<h;++l){y=t[l],C=y.box,C.update(y.width||i.w,y.height||i.h,P9(y.horizontal,i));const{same:te,other:he}=I9(i,e,y,s);P|=te&&a.length,j=j||he,C.fullSize||a.push(y)}return P&&XT(a,i,e,s)||j}function YA(t,i,e,s,a){t.top=e,t.left=i,t.right=i+s,t.bottom=e+a,t.width=s,t.height=a}function E6(t,i,e,s){const a=e.padding;let{x:l,y:h}=i;for(const y of t){const C=y.box,P=s[y.stack]||{count:1,placed:0,weight:1},j=y.stackWeight/P.weight||1;if(y.horizontal){const te=i.w*j,he=P.size||C.height;Jg(P.start)&&(h=P.start),C.fullSize?YA(C,a.left,h,e.outerWidth-a.right-a.left,he):YA(C,i.left+P.placed,h,te,he),P.start=h,P.placed+=te,h=C.bottom}else{const te=i.h*j,he=P.size||C.width;Jg(P.start)&&(l=P.start),C.fullSize?YA(C,l,a.top,he,e.outerHeight-a.bottom-a.top):YA(C,l,i.top+P.placed,he,te),P.start=l,P.placed+=te,l=C.right}}i.x=l,i.y=h}Yo.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ef={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},t.boxes.push(i)},removeBox(t,i){const e=t.boxes?t.boxes.indexOf(i):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(t,i,e,s){if(!t)return;const a=Kp(t.options.layout.padding),l=Math.max(i-a.width,0),h=Math.max(e-a.height,0),y=function(t){const i=function(t){const i=[];let e,s,a,l,h,y;for(e=0,s=(t||[]).length;e<s;++e)a=t[e],({position:l,options:{stack:h,stackWeight:y=1}}=a),i.push({index:e,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:h&&l+h,stackWeight:y});return i}(t),e=JT(i.filter(P=>P.box.fullSize),!0),s=JT(QT(i,"left"),!0),a=JT(QT(i,"right")),l=JT(QT(i,"top"),!0),h=JT(QT(i,"bottom")),y=T6(i,"x"),C=T6(i,"y");return{fullSize:e,leftAndTop:s.concat(l),rightAndBottom:a.concat(C).concat(h).concat(y),chartArea:QT(i,"chartArea"),vertical:s.concat(a).concat(C),horizontal:l.concat(h).concat(y)}}(t.boxes),C=y.vertical,P=y.horizontal;ol(t.boxes,je=>{"function"==typeof je.beforeLayout&&je.beforeLayout()});const j=C.reduce((je,tt)=>tt.box.options&&!1===tt.box.options.display?je:je+1,0)||1,te=Object.freeze({outerWidth:i,outerHeight:e,padding:a,availableWidth:l,availableHeight:h,vBoxMaxWidth:l/2/j,hBoxMaxHeight:h/2}),he=Object.assign({},a);k6(he,Kp(s));const Ce=Object.assign({maxPadding:he,w:l,h,x:a.left,y:a.top},a),Le=function(t,i){const e=function(t){const i={};for(const e of t){const{stack:s,pos:a,stackWeight:l}=e;if(!s||!M6.includes(a))continue;const h=i[s]||(i[s]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=l}return i}(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=i;let l,h,y;for(l=0,h=t.length;l<h;++l){y=t[l];const{fullSize:C}=y.box,P=e[y.stack],j=P&&y.stackWeight/P.weight;y.horizontal?(y.width=j?j*s:C&&i.availableWidth,y.height=a):(y.width=s,y.height=j?j*a:C&&i.availableHeight)}return e}(C.concat(P),te);XT(y.fullSize,Ce,te,Le),XT(C,Ce,te,Le),XT(P,Ce,te,Le)&&XT(C,Ce,te,Le),function(t){const i=t.maxPadding;function e(s){const a=Math.max(i[s]-t[s],0);return t[s]+=a,a}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(Ce),E6(y.leftAndTop,Ce,te,Le),Ce.x+=Ce.w,Ce.y+=Ce.h,E6(y.rightAndBottom,Ce,te,Le),t.chartArea={left:Ce.left,top:Ce.top,right:Ce.left+Ce.w,bottom:Ce.top+Ce.h,height:Ce.h,width:Ce.w},ol(y.chartArea,je=>{const tt=je.box;Object.assign(tt,t.chartArea),tt.update(Ce.w,Ce.h,{left:0,top:0,right:0,bottom:0})})}};class D6{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,s){}removeEventListener(i,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,s,a){return e=Math.max(0,e||i.width),s=s||i.height,{width:e,height:Math.max(0,a?Math.floor(e/a):s)}}isAttached(i){return!0}updateConfig(i){}}class O9 extends D6{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const HA="$chartjs",R9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A6=t=>null===t||""===t,I6=!!A8&&{passive:!0};function z9(t,i,e){t.canvas.removeEventListener(i,e,I6)}function VA(t,i){for(const e of t)if(e===i||e.contains(i))return!0}function Y9(t,i,e){const s=t.canvas,a=new MutationObserver(l=>{let h=!1;for(const y of l)h=h||VA(y.addedNodes,s),h=h&&!VA(y.removedNodes,s);h&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function H9(t,i,e){const s=t.canvas,a=new MutationObserver(l=>{let h=!1;for(const y of l)h=h||VA(y.removedNodes,s),h=h&&!VA(y.addedNodes,s);h&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const KT=new Map;let L6=0;function P6(){const t=window.devicePixelRatio;t!==L6&&(L6=t,KT.forEach((i,e)=>{e.currentDevicePixelRatio!==t&&i()}))}function j9(t,i,e){const s=t.canvas,a=s&&nR(s);if(!a)return;const l=uY((y,C)=>{const P=a.clientWidth;e(y,C),P<a.clientWidth&&e()},window),h=new ResizeObserver(y=>{const C=y[0],P=C.contentRect.width,j=C.contentRect.height;0===P&&0===j||l(P,j)});return h.observe(a),function(t,i){KT.size||window.addEventListener("resize",P6),KT.set(t,i)}(t,l),h}function hR(t,i,e){e&&e.disconnect(),"resize"===i&&function(t){KT.delete(t),KT.size||window.removeEventListener("resize",P6)}(t)}function Z9(t,i,e){const s=t.canvas,a=uY(l=>{null!==t.ctx&&e(function(t,i){const e=R9[t.type]||t.type,{x:s,y:a}=ZY(t,i);return{type:e,chart:i,native:t,x:void 0!==s?s:null,y:void 0!==a?a:null}}(l,t))},t,l=>{const h=l[0];return[h,h.offsetX,h.offsetY]});return function(t,i,e){t.addEventListener(i,e,I6)}(s,i,a),a}class W9 extends D6{acquireContext(i,e){const s=i&&i.getContext&&i.getContext("2d");return s&&s.canvas===i?(function(t,i){const e=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[HA]={initial:{height:s,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",A6(a)){const l=GY(t,"width");void 0!==l&&(t.width=l)}if(A6(s))if(""===t.style.height)t.height=t.width/(i||2);else{const l=GY(t,"height");void 0!==l&&(t.height=l)}}(i,e),s):null}releaseContext(i){const e=i.canvas;if(!e[HA])return!1;const s=e[HA].initial;["height","width"].forEach(l=>{const h=s[l];Sa(h)?e.removeAttribute(l):e.setAttribute(l,h)});const a=s.style||{};return Object.keys(a).forEach(l=>{e.style[l]=a[l]}),e.width=e.width,delete e[HA],!0}addEventListener(i,e,s){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:Y9,detach:H9,resize:j9}[e]||Z9)(i,e,s)}removeEventListener(i,e){const s=i.$proxies||(i.$proxies={}),a=s[e];a&&(({attach:hR,detach:hR,resize:hR}[e]||z9)(i,e,a),s[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,s,a){return function(t,i,e,s){const a=BA(t),l=Xx(a,"margin"),h=zA(a.maxWidth,t,"clientWidth")||TA,y=zA(a.maxHeight,t,"clientHeight")||TA,C=function(t,i,e){let s,a;if(void 0===i||void 0===e){const l=nR(t);if(l){const h=l.getBoundingClientRect(),y=BA(l),C=Xx(y,"border","width"),P=Xx(y,"padding");i=h.width-P.width-C.width,e=h.height-P.height-C.height,s=zA(y.maxWidth,l,"clientWidth"),a=zA(y.maxHeight,l,"clientHeight")}else i=t.clientWidth,e=t.clientHeight}return{width:i,height:e,maxWidth:s||TA,maxHeight:a||TA}}(t,i,e);let{width:P,height:j}=C;if("content-box"===a.boxSizing){const te=Xx(a,"border","width"),he=Xx(a,"padding");P-=he.width+te.width,j-=he.height+te.height}return P=Math.max(0,P-l.width),j=Math.max(0,s?Math.floor(P/s):j-l.height),P=iR(Math.min(P,h,C.maxWidth)),j=iR(Math.min(j,y,C.maxHeight)),P&&!j&&(j=iR(P/2)),{width:P,height:j}}(i,e,s,a)}isAttached(i){const e=nR(i);return!(!e||!e.isConnected)}}class Q_{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){const{x:e,y:s}=this.getProps(["x","y"],i);return{x:e,y:s}}hasValue(){return zT(this.x)&&zT(this.y)}getProps(i,e){const s=this.$animations;if(!e||!s)return this;const a={};return i.forEach(l=>{a[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),a}}Q_.defaults={},Q_.defaultRoutes=void 0;const O6={values:t=>Wl(t)?t:""+t,numeric(t,i,e){if(0===t)return"0";const s=this.chart.options.locale;let a,l=t;if(e.length>1){const P=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(P<1e-4||P>1e15)&&(a="scientific"),l=function(t,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const h=Xg(Math.abs(l)),y=Math.max(Math.min(-1*Math.floor(h),20),0),C={notation:a,minimumFractionDigits:y,maximumFractionDigits:y};return Object.assign(C,this.options.ticks.format),GT(t,s,C)},logarithmic(t,i,e){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Xg(t)));return 1===s||2===s||5===s?O6.numeric.call(this,t,i,e):""}};var UA={formatters:O6};function jA(t,i,e,s,a){const l=so(s,0),h=Math.min(so(a,t.length),t.length);let C,P,j,y=0;for(e=Math.ceil(e),a&&(C=a-s,e=C/Math.floor(C/e)),j=l;j<0;)y++,j=Math.round(l+y*e);for(P=Math.max(l,0);P<h;P++)P===j&&(i.push(t[P]),y++,j=Math.round(l+y*e))}Yo.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Yo.route("scale.ticks","color","","color"),Yo.route("scale.grid","color","","borderColor"),Yo.route("scale.grid","borderColor","","borderColor"),Yo.route("scale.title","color","","color"),Yo.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Yo.describe("scales",{_fallback:"scale"}),Yo.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const R6=(t,i,e)=>"top"===i||"left"===i?t[i]+e:t[i]-e;function F6(t,i){const e=[],s=t.length/i,a=t.length;let l=0;for(;l<a;l+=s)e.push(t[Math.floor(l)]);return e}function n7(t,i,e){const s=t.ticks.length,a=Math.min(i,s-1),l=t._startPixel,h=t._endPixel,y=1e-6;let P,C=t.getPixelForTick(a);if(!(e&&(P=1===s?Math.max(C-l,h-C):0===i?(t.getPixelForTick(1)-C)/2:(C-t.getPixelForTick(a-1))/2,C+=a<i?P:-P,C<l-y||C>h+y)))return C}function eS(t){return t.drawTicks?t.tickLength:0}function N6(t,i){if(!t.display)return 0;const e=sh(t.font,i),s=Kp(t.padding);return(Wl(t.text)?t.text.length:1)*e.lineHeight+s.height}function a7(t,i,e){let s=BO(t);return(e&&"right"!==i||!e&&"right"===i)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class tw extends Q_{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:s,_suggestedMax:a}=this;return i=Qg(i,Number.POSITIVE_INFINITY),e=Qg(e,Number.NEGATIVE_INFINITY),s=Qg(s,Number.POSITIVE_INFINITY),a=Qg(a,Number.NEGATIVE_INFINITY),{min:Qg(i,s),max:Qg(e,a),minDefined:qu(i),maxDefined:qu(e)}}getMinMax(i){let h,{min:e,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();if(a&&l)return{min:e,max:s};const y=this.getMatchingVisibleMetas();for(let C=0,P=y.length;C<P;++C)h=y[C].controller.getMinMax(this,i),a||(e=Math.min(e,h.min)),l||(s=Math.max(s,h.max));return e=l&&e>s?s:e,s=a&&e>s?e:s,{min:Qg(e,Qg(s,e)),max:Qg(s,Qg(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gl(this.options.beforeUpdate,[this])}update(i,e,s){const{beginAtZero:a,grace:l,ticks:h}=this.options,y=h.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,i,e){const{min:s,max:a}=t,l=dY(i,(a-s)/2),h=(y,C)=>e&&0===y?0:y+C;return{min:h(s,-Math.abs(l)),max:h(a,l)}}(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const C=y<this.ticks.length;this._convertTicksToLabels(C?F6(this.ticks,y):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||"auto"===h.source)&&(this.ticks=function(t,i){const e=t.options.ticks,s=e.maxTicksLimit||function(t){const i=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(i?0:1),t._maxLength/e))}(t),a=e.major.enabled?function(t){const i=[];let e,s;for(e=0,s=t.length;e<s;e++)t[e].major&&i.push(e);return i}(i):[],l=a.length,h=a[0],y=a[l-1],C=[];if(l>s)return function(t,i,e,s){let h,a=0,l=e[0];for(s=Math.ceil(s),h=0;h<t.length;h++)h===l&&(i.push(t[h]),a++,l=e[a*s])}(i,C,a,l/s),C;const P=function(t,i,e){const s=function(t){const i=t.length;let e,s;if(i<2)return!1;for(s=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==s)return!1;return s}(t),a=i.length/e;if(!s)return Math.max(a,1);const l=function(t){const i=[],e=Math.sqrt(t);let s;for(s=1;s<e;s++)t%s==0&&(i.push(s),i.push(t/s));return e===(0|e)&&i.push(e),i.sort((a,l)=>a-l).pop(),i}(s);for(let h=0,y=l.length-1;h<y;h++){const C=l[h];if(C>a)return C}return Math.max(a,1)}(a,i,s);if(l>0){let j,te;const he=l>1?Math.round((y-h)/(l-1)):null;for(jA(i,C,P,Sa(he)?0:h-he,h),j=0,te=l-1;j<te;j++)jA(i,C,P,a[j],a[j+1]);return jA(i,C,P,y,Sa(he)?i.length:y+he),C}return jA(i,C,P),C}(this,this.ticks),this._labelSizes=null),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,s,i=this.options.reverse;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,i=!i),this._startPixel=e,this._endPixel=s,this._reversePixels=i,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gl(this.options.afterUpdate,[this])}beforeSetDimensions(){Gl(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gl(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Gl(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gl(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let s,a,l;for(s=0,a=i.length;s<a;s++)l=i[s],l.label=Gl(e.callback,[l.value,s,i],this)}afterTickToLabelConversion(){Gl(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gl(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,s=this.ticks.length,a=e.minRotation||0,l=e.maxRotation;let y,C,P,h=a;if(!this._isVisible()||!e.display||a>=l||s<=1||!this.isHorizontal())return void(this.labelRotation=a);const j=this._getLabelSizes(),te=j.widest.width,he=j.highest.height,Ce=Bh(this.chart.width-te,0,this.maxWidth);y=i.offset?this.maxWidth/s:Ce/(s-1),te+6>y&&(y=Ce/(s-(i.offset?.5:1)),C=this.maxHeight-eS(i.grid)-e.padding-N6(i.title,this.chart.options.font),P=Math.sqrt(te*te+he*he),h=HO(Math.min(Math.asin(Bh((j.highest.height+6)/y,-1,1)),Math.asin(Bh(C/P,-1,1))-Math.asin(Bh(he/P,-1,1)))),h=Math.max(a,Math.min(l,h))),this.labelRotation=h}afterCalculateLabelRotation(){Gl(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Gl(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:s,title:a,grid:l}}=this,h=this._isVisible(),y=this.isHorizontal();if(h){const C=N6(a,e.options.font);if(y?(i.width=this.maxWidth,i.height=eS(l)+C):(i.height=this.maxHeight,i.width=eS(l)+C),s.display&&this.ticks.length){const{first:P,last:j,widest:te,highest:he}=this._getLabelSizes(),Ce=2*s.padding,Le=$_(this.labelRotation),je=Math.cos(Le),tt=Math.sin(Le);y?i.height=Math.min(this.maxHeight,i.height+(s.mirror?0:tt*te.width+je*he.height)+Ce):i.width=Math.min(this.maxWidth,i.width+(s.mirror?0:je*te.width+tt*he.height)+Ce),this._calculatePadding(P,j,tt,je)}}this._handleMargins(),y?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,s,a){const{ticks:{align:l,padding:h},position:y}=this.options,C=0!==this.labelRotation,P="top"!==y&&"x"===this.axis;if(this.isHorizontal()){const j=this.getPixelForTick(0)-this.left,te=this.right-this.getPixelForTick(this.ticks.length-1);let he=0,Ce=0;C?P?(he=a*i.width,Ce=s*e.height):(he=s*i.height,Ce=a*e.width):"start"===l?Ce=e.width:"end"===l?he=i.width:(he=i.width/2,Ce=e.width/2),this.paddingLeft=Math.max((he-j+h)*this.width/(this.width-j),0),this.paddingRight=Math.max((Ce-te+h)*this.width/(this.width-te),0)}else{let j=e.height/2,te=i.height/2;"start"===l?(j=0,te=i.height):"end"===l&&(j=e.height,te=0),this.paddingTop=j+h,this.paddingBottom=te+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gl(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,s=i.length;e<s;e++)Sa(i[e].label)&&(i.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=F6(s,e)),this._labelSizes=i=this._computeLabelSizes(s,s.length)}return i}_computeLabelSizes(i,e){const{ctx:s,_longestTextCache:a}=this,l=[],h=[];let P,j,te,he,Ce,Le,je,tt,vt,Wt,nn,y=0,C=0;for(P=0;P<e;++P){if(he=i[P].label,Ce=this._resolveTickFontOptions(P),s.font=Le=Ce.string,je=a[Le]=a[Le]||{data:{},gc:[]},tt=Ce.lineHeight,vt=Wt=0,Sa(he)||Wl(he)){if(Wl(he))for(j=0,te=he.length;j<te;++j)nn=he[j],!Sa(nn)&&!Wl(nn)&&(vt=LA(s,je.data,je.gc,vt,nn),Wt+=tt)}else vt=LA(s,je.data,je.gc,vt,he),Wt=tt;l.push(vt),h.push(Wt),y=Math.max(vt,y),C=Math.max(Wt,C)}!function(t,i){ol(t,e=>{const s=e.gc,a=s.length/2;let l;if(a>i){for(l=0;l<a;++l)delete e.data[s[l]];s.splice(0,a)}})}(a,e);const mn=l.indexOf(y),hn=h.indexOf(C),qn=ai=>({width:l[ai]||0,height:h[ai]||0});return{first:qn(0),last:qn(e-1),widest:qn(mn),highest:qn(hn),widths:l,heights:h}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function(t){return Bh(t,-32768,32767)}(this._alignToPixels?$x(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const s=e[i];return s.$context||(s.$context=function(t,i,e){return S0(t,{tick:e,index:i,type:"tick"})}(this.getContext(),i,s))}return this.$context||(this.$context=function(t,i){return S0(t,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=$_(this.labelRotation),s=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),l=this._getLabelSizes(),h=i.autoSkipPadding||0,y=l?l.widest.width+h:0,C=l?l.highest.height+h:0;return this.isHorizontal()?C*s>y*a?y/s:C/a:C*a<y*s?C/s:y/a}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,s=this.chart,a=this.options,{grid:l,position:h}=a,y=l.offset,C=this.isHorizontal(),j=this.ticks.length+(y?1:0),te=eS(l),he=[],Ce=l.setContext(this.getContext()),Le=Ce.drawBorder?Ce.borderWidth:0,je=Le/2,tt=function(go){return $x(s,go,Le)};let vt,Wt,nn,mn,hn,qn,ai,Oi,Pi,ws,fo,mo;if("top"===h)vt=tt(this.bottom),qn=this.bottom-te,Oi=vt-je,ws=tt(i.top)+je,mo=i.bottom;else if("bottom"===h)vt=tt(this.top),ws=i.top,mo=tt(i.bottom)-je,qn=vt+je,Oi=this.top+te;else if("left"===h)vt=tt(this.right),hn=this.right-te,ai=vt-je,Pi=tt(i.left)+je,fo=i.right;else if("right"===h)vt=tt(this.left),Pi=i.left,fo=tt(i.right)-je,hn=vt+je,ai=this.left+te;else if("x"===e){if("center"===h)vt=tt((i.top+i.bottom)/2+.5);else if(Wo(h)){const go=Object.keys(h)[0];vt=tt(this.chart.scales[go].getPixelForValue(h[go]))}ws=i.top,mo=i.bottom,qn=vt+je,Oi=qn+te}else if("y"===e){if("center"===h)vt=tt((i.left+i.right)/2);else if(Wo(h)){const go=Object.keys(h)[0];vt=tt(this.chart.scales[go].getPixelForValue(h[go]))}hn=vt-je,ai=hn-te,Pi=i.left,fo=i.right}const fl=so(a.ticks.maxTicksLimit,j),Yh=Math.max(1,Math.ceil(j/fl));for(Wt=0;Wt<j;Wt+=Yh){const go=l.setContext(this.getContext(Wt)),Si=go.lineWidth,kr=go.color,Kr=l.borderDash||[],vo=go.borderDashOffset,su=go.tickWidth,xp=go.tickColor,oh=go.tickBorderDash||[],bm=go.tickBorderDashOffset;nn=n7(this,Wt,y),void 0!==nn&&(mn=$x(s,nn,Si),C?hn=ai=Pi=fo=mn:qn=Oi=ws=mo=mn,he.push({tx1:hn,ty1:qn,tx2:ai,ty2:Oi,x1:Pi,y1:ws,x2:fo,y2:mo,width:Si,color:kr,borderDash:Kr,borderDashOffset:vo,tickWidth:su,tickColor:xp,tickBorderDash:oh,tickBorderDashOffset:bm}))}return this._ticksLength=j,this._borderValue=vt,he}_computeLabelItems(i){const e=this.axis,s=this.options,{position:a,ticks:l}=s,h=this.isHorizontal(),y=this.ticks,{align:C,crossAlign:P,padding:j,mirror:te}=l,he=eS(s.grid),Ce=he+j,Le=te?-j:Ce,je=-$_(this.labelRotation),tt=[];let vt,Wt,nn,mn,hn,qn,ai,Oi,Pi,ws,fo,mo,fl="middle";if("top"===a)qn=this.bottom-Le,ai=this._getXAxisLabelAlignment();else if("bottom"===a)qn=this.top+Le,ai=this._getXAxisLabelAlignment();else if("left"===a){const go=this._getYAxisLabelAlignment(he);ai=go.textAlign,hn=go.x}else if("right"===a){const go=this._getYAxisLabelAlignment(he);ai=go.textAlign,hn=go.x}else if("x"===e){if("center"===a)qn=(i.top+i.bottom)/2+Ce;else if(Wo(a)){const go=Object.keys(a)[0];qn=this.chart.scales[go].getPixelForValue(a[go])+Ce}ai=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===a)hn=(i.left+i.right)/2-Ce;else if(Wo(a)){const go=Object.keys(a)[0];hn=this.chart.scales[go].getPixelForValue(a[go])}ai=this._getYAxisLabelAlignment(he).textAlign}"y"===e&&("start"===C?fl="top":"end"===C&&(fl="bottom"));const Yh=this._getLabelSizes();for(vt=0,Wt=y.length;vt<Wt;++vt){nn=y[vt],mn=nn.label;const go=l.setContext(this.getContext(vt));Oi=this.getPixelForTick(vt)+l.labelOffset,Pi=this._resolveTickFontOptions(vt),ws=Pi.lineHeight,fo=Wl(mn)?mn.length:1;const Si=fo/2,kr=go.color,Kr=go.textStrokeColor,vo=go.textStrokeWidth;let su;if(h?(hn=Oi,mo="top"===a?"near"===P||0!==je?-fo*ws+ws/2:"center"===P?-Yh.highest.height/2-Si*ws+ws:ws/2-Yh.highest.height:"near"===P||0!==je?ws/2:"center"===P?Yh.highest.height/2-Si*ws:Yh.highest.height-fo*ws,te&&(mo*=-1)):(qn=Oi,mo=(1-fo)*ws/2),go.showLabelBackdrop){const xp=Kp(go.backdropPadding),oh=Yh.heights[vt],bm=Yh.widths[vt];let ql=qn+mo-xp.top,DS=hn-xp.left;switch(fl){case"middle":ql-=oh/2;break;case"bottom":ql-=oh}switch(ai){case"center":DS-=bm/2;break;case"right":DS-=bm}su={left:DS,top:ql,width:bm+xp.width,height:oh+xp.height,color:go.backdropColor}}tt.push({rotation:je,label:mn,font:Pi,color:kr,strokeColor:Kr,strokeWidth:vo,textOffset:mo,textAlign:ai,textBaseline:fl,translation:[hn,qn],backdrop:su})}return tt}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-$_(this.labelRotation))return"top"===i?"left":"right";let a="center";return"start"===e.align?a="left":"end"===e.align&&(a="right"),a}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:s,mirror:a,padding:l}}=this.options,y=i+l,C=this._getLabelSizes().widest.width;let P,j;return"left"===e?a?(j=this.right+l,"near"===s?P="left":"center"===s?(P="center",j+=C/2):(P="right",j+=C)):(j=this.right-y,"near"===s?P="right":"center"===s?(P="center",j-=C/2):(P="left",j=this.left)):"right"===e?a?(j=this.left+l,"near"===s?P="right":"center"===s?(P="center",j-=C/2):(P="left",j-=C)):(j=this.left+y,"near"===s?P="left":"center"===s?(P="center",j+=C/2):(P="right",j=this.right)):P="right",{textAlign:P,x:j}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:s,top:a,width:l,height:h}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(s,a,l,h),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(l=>l.value===i);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(i){const e=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let l,h;const y=(C,P,j)=>{!j.width||!j.color||(s.save(),s.lineWidth=j.width,s.strokeStyle=j.color,s.setLineDash(j.borderDash||[]),s.lineDashOffset=j.borderDashOffset,s.beginPath(),s.moveTo(C.x,C.y),s.lineTo(P.x,P.y),s.stroke(),s.restore())};if(e.display)for(l=0,h=a.length;l<h;++l){const C=a[l];e.drawOnChartArea&&y({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),e.drawTicks&&y({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{grid:s}}=this,a=s.setContext(this.getContext()),l=s.drawBorder?a.borderWidth:0;if(!l)return;const h=s.setContext(this.getContext(0)).lineWidth,y=this._borderValue;let C,P,j,te;this.isHorizontal()?(C=$x(i,this.left,l)-l/2,P=$x(i,this.right,h)+h/2,j=te=y):(j=$x(i,this.top,l)-l/2,te=$x(i,this.bottom,h)+h/2,C=P=y),e.save(),e.lineWidth=a.borderWidth,e.strokeStyle=a.borderColor,e.beginPath(),e.moveTo(C,j),e.lineTo(P,te),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&OA(s,a);const l=this._labelItems||(this._labelItems=this._computeLabelItems(i));let h,y;for(h=0,y=l.length;h<y;++h){const C=l[h],P=C.font,j=C.label;C.backdrop&&(s.fillStyle=C.backdrop.color,s.fillRect(C.backdrop.left,C.backdrop.top,C.backdrop.width,C.backdrop.height)),Jx(s,j,0,C.textOffset,P,C)}a&&RA(s)}drawTitle(){const{ctx:i,options:{position:e,title:s,reverse:a}}=this;if(!s.display)return;const l=sh(s.font),h=Kp(s.padding),y=s.align;let C=l.lineHeight/2;"bottom"===e||"center"===e||Wo(e)?(C+=h.bottom,Wl(s.text)&&(C+=l.lineHeight*(s.text.length-1))):C+=h.top;const{titleX:P,titleY:j,maxWidth:te,rotation:he}=function(t,i,e,s){const{top:a,left:l,bottom:h,right:y,chart:C}=t,{chartArea:P,scales:j}=C;let he,Ce,Le,te=0;const je=h-a,tt=y-l;if(t.isHorizontal()){if(Ce=Xp(s,l,y),Wo(e)){const vt=Object.keys(e)[0];Le=j[vt].getPixelForValue(e[vt])+je-i}else Le="center"===e?(P.bottom+P.top)/2+je-i:R6(t,e,i);he=y-l}else{if(Wo(e)){const vt=Object.keys(e)[0];Ce=j[vt].getPixelForValue(e[vt])-tt+i}else Ce="center"===e?(P.left+P.right)/2-tt+i:R6(t,e,i);Le=Xp(s,h,a),te="left"===e?-wu:wu}return{titleX:Ce,titleY:Le,maxWidth:he,rotation:te}}(this,C,e,y);Jx(i,s.text,0,0,l,{color:s.color,maxWidth:te,rotation:he,textAlign:a7(y,e,a),textBaseline:"middle",translation:[P,j]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,s=so(i.grid&&i.grid.z,-1);return this._isVisible()&&this.draw===tw.prototype.draw?[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]:[{z:e,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let l,h;for(l=0,h=e.length;l<h;++l){const y=e[l];y[s]===this.id&&(!i||y.type===i)&&a.push(y)}return a}_resolveTickFontOptions(i){return sh(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class ZA{constructor(i,e,s){this.type=i,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let s;(function(t){return"id"in t&&"defaults"in t})(e)&&(s=this.register(e));const a=this.items,l=i.id,h=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+i);return l in a||(a[l]=i,function(t,i,e){const s=RT(Object.create(null),[e?Yo.get(e):{},Yo.get(i),t.defaults]);Yo.set(i,s),t.defaultRoutes&&function(t,i){Object.keys(i).forEach(e=>{const s=e.split("."),a=s.pop(),l=[t].concat(s).join("."),h=i[e].split("."),y=h.pop(),C=h.join(".");Yo.route(l,a,C,y)})}(i,t.defaultRoutes),t.descriptors&&Yo.describe(i,t.descriptors)}(i,h,s),this.override&&Yo.override(i.id,i.overrides)),h}get(i){return this.items[i]}unregister(i){const e=this.items,s=i.id,a=this.scope;s in e&&delete e[s],a&&s in Yo[a]&&(delete Yo[a][s],this.override&&delete qx[s])}}var tb=new class{constructor(){this.controllers=new ZA(eb,"datasets",!0),this.elements=new ZA(Q_,"elements"),this.plugins=new ZA(Object,"plugins"),this.scales=new ZA(tw,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,s){[...e].forEach(a=>{const l=s||this._getRegistryForType(a);s||l.isForType(a)||l===this.plugins&&a.id?this._exec(i,l,a):ol(a,h=>{const y=s||this._getRegistryForType(h);this._exec(i,y,h)})})}_exec(i,e,s){const a=YO(i);Gl(s["before"+a],[],s),e[i](s),Gl(s["after"+a],[],s)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(i))return s}return this.plugins}_get(i,e,s){const a=e.get(i);if(void 0===a)throw new Error('"'+i+'" is not a registered '+s+".");return a}};class p7{constructor(){this._init=[]}notify(i,e,s,a){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const l=a?this._descriptors(i).filter(a):this._descriptors(i),h=this._notify(l,i,e,s);return"afterDestroy"===e&&(this._notify(l,i,"stop"),this._notify(this._init,i,"uninstall")),h}_notify(i,e,s,a){a=a||{};for(const l of i){const h=l.plugin;if(!1===Gl(h[s],[e,a,l.options],h)&&a.cancelable)return!1}return!0}invalidate(){Sa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const s=i&&i.config,a=so(s.options&&s.options.plugins,{}),l=function(t){const i=[],e=Object.keys(tb.plugins.items);for(let a=0;a<e.length;a++)i.push(tb.getPlugin(e[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];-1===i.indexOf(l)&&i.push(l)}return i}(s);return!1!==a||e?function(t,i,e,s){const a=[],l=t.getContext();for(let h=0;h<i.length;h++){const y=i[h],P=m7(e[y.id],s);null!==P&&a.push({plugin:y,options:_7(t.config,y,P,l)})}return a}(i,l,a,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],s=this._cache,a=(l,h)=>l.filter(y=>!h.some(C=>y.plugin.id===C.plugin.id));this._notify(a(e,s),i,"stop"),this._notify(a(s,e),i,"start")}}function m7(t,i){return i||!1!==t?!0===t?{}:t:null}function _7(t,i,e,s){const a=t.pluginScopeKeys(i),l=t.getOptionScopes(e,a);return t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pR(t,i){return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||(Yo.datasets[t]||{}).indexAxis||"x"}function fR(t,i){return"x"===t||"y"===t?t:i.axis||function(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(i.position)||t.charAt(0).toLowerCase()}function z6(t){const i=t.options||(t.options={});i.plugins=so(i.plugins,{}),i.scales=function(t,i){const e=qx[t.type]||{scales:{}},s=i.scales||{},a=pR(t.type,i),l=Object.create(null),h=Object.create(null);return Object.keys(s).forEach(y=>{const C=s[y];if(!Wo(C))return console.error(`Invalid scale configuration for scale: ${y}`);if(C._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${y}`);const P=fR(y,C),j=function(t,i){return t===i?"_index_":"_value_"}(P,a),te=e.scales||{};l[P]=l[P]||y,h[y]=FT(Object.create(null),[{axis:P},C,te[P],te[j]])}),t.data.datasets.forEach(y=>{const C=y.type||t.type,P=y.indexAxis||pR(C,i),te=(qx[C]||{}).scales||{};Object.keys(te).forEach(he=>{const Ce=function(t,i){let e=t;return"_index_"===t?e=i:"_value_"===t&&(e="x"===i?"y":"x"),e}(he,P),Le=y[Ce+"AxisID"]||l[Ce]||Ce;h[Le]=h[Le]||Object.create(null),FT(h[Le],[{axis:Ce},s[Le],te[he]])})}),Object.keys(h).forEach(y=>{const C=h[y];FT(C,[Yo.scales[C.type],Yo.scale])}),h}(t,i)}function B6(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Y6=new Map,H6=new Set;function WA(t,i){let e=Y6.get(t);return e||(e=i(),Y6.set(t,e),H6.add(e)),e}const tS=(t,i,e)=>{const s=Gx(i,e);void 0!==s&&t.add(s)};class C7{constructor(i){this._config=function(t){return(t=t||{}).data=B6(t.data),z6(t),t}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=B6(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),z6(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return WA(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return WA(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return WA(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return WA(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const s=this._scopeCache;let a=s.get(i);return(!a||e)&&(a=new Map,s.set(i,a)),a}getOptionScopes(i,e,s){const{options:a,type:l}=this,h=this._cachedScopes(i,s),y=h.get(e);if(y)return y;const C=new Set;e.forEach(j=>{i&&(C.add(i),j.forEach(te=>tS(C,i,te))),j.forEach(te=>tS(C,a,te)),j.forEach(te=>tS(C,qx[l]||{},te)),j.forEach(te=>tS(C,Yo,te)),j.forEach(te=>tS(C,$O,te))});const P=Array.from(C);return 0===P.length&&P.push(Object.create(null)),H6.has(e)&&h.set(e,P),P}chartOptionScopes(){const{options:i,type:e}=this;return[i,qx[e]||{},Yo.datasets[e]||{},{type:e},Yo,$O]}resolveNamedOptions(i,e,s,a=[""]){const l={$shared:!0},{resolver:h,subPrefixes:y}=V6(this._resolverCache,i,a);let C=h;(function(t,i){const{isScriptable:e,isIndexable:s}=NY(t);for(const a of i){const l=e(a),h=s(a),y=(h||l)&&t[a];if(l&&(T0(y)||M7(y))||h&&Wl(y))return!0}return!1})(h,e)&&(l.$shared=!1,C=$1(h,s=T0(s)?s():s,this.createResolver(i,s,y)));for(const P of e)l[P]=C[P];return l}createResolver(i,e,s=[""],a){const{resolver:l}=V6(this._resolverCache,i,s);return Wo(e)?$1(l,e,void 0,a):l}}function V6(t,i,e){let s=t.get(i);s||(s=new Map,t.set(i,s));const a=e.join();let l=s.get(a);return l||(l={resolver:KO(i,e),subPrefixes:e.filter(y=>!y.toLowerCase().includes("hover"))},s.set(a,l)),l}const M7=t=>Wo(t)&&Object.getOwnPropertyNames(t).reduce((i,e)=>i||T0(t[e]),!1),k7=["top","bottom","left","right","chartArea"];function U6(t,i){return"top"===t||"bottom"===t||-1===k7.indexOf(t)&&"x"===i}function j6(t,i){return function(e,s){return e[t]===s[t]?e[i]-s[i]:e[t]-s[t]}}function Z6(t){const i=t.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Gl(e&&e.onComplete,[t],i)}function E7(t){const i=t.chart,e=i.options.animation;Gl(e&&e.onProgress,[t],i)}function W6(t){return jY()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const GA={},G6=t=>{const i=W6(t);return Object.values(GA).filter(e=>e.canvas===i).pop()};function D7(t,i,e){const s=Object.keys(t);for(const a of s){const l=+a;if(l>=i){const h=t[a];delete t[a],(e>0||l>i)&&(t[l+e]=h)}}}class X1{constructor(i,e){const s=this.config=new C7(e),a=W6(i),l=G6(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas can be reused.");const h=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(t){return!jY()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?O9:W9}(a)),this.platform.updateConfig(s);const y=this.platform.acquireContext(a,h.aspectRatio),C=y&&y.canvas,P=C&&C.height,j=C&&C.width;this.id=fq(),this.ctx=y,this.canvas=C,this.width=j,this.height=P,this._options=h,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,i){let e;return function(...s){return i?(clearTimeout(e),e=setTimeout(t,i,s)):t.apply(this,s),i}}(te=>this.update(te),h.resizeDelay||0),this._dataChanges=[],GA[this.id]=this,y&&C?(Kv.listen(this,"complete",Z6),Kv.listen(this,"progress",E7),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:s,height:a,_aspectRatio:l}=this;return Sa(i)?e&&l?l:a?s/a:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WY(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return LY(this.canvas,this.ctx),this}stop(){return Kv.stop(this),this}resize(i,e){Kv.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const s=this.options,h=this.platform.getMaximumSize(this.canvas,i,e,s.maintainAspectRatio&&this.aspectRatio),y=s.devicePixelRatio||this.platform.getDevicePixelRatio(),C=this.width?"resize":"attach";this.width=h.width,this.height=h.height,this._aspectRatio=this.aspectRatio,WY(this,y,!0)&&(this.notifyPlugins("resize",{size:h}),Gl(s.onResize,[this,h],this),this.attached&&this._doResize(C)&&this.render())}ensureScalesHaveIDs(){ol(this.options.scales||{},(s,a)=>{s.id=a})}buildOrUpdateScales(){const i=this.options,e=i.scales,s=this.scales,a=Object.keys(s).reduce((h,y)=>(h[y]=!1,h),{});let l=[];e&&(l=l.concat(Object.keys(e).map(h=>{const y=e[h],C=fR(h,y),P="r"===C,j="x"===C;return{options:y,dposition:P?"chartArea":j?"bottom":"left",dtype:P?"radialLinear":j?"category":"linear"}}))),ol(l,h=>{const y=h.options,C=y.id,P=fR(C,y),j=so(y.type,h.dtype);(void 0===y.position||U6(y.position,P)!==U6(h.dposition))&&(y.position=h.dposition),a[C]=!0;let te=null;C in s&&s[C].type===j?te=s[C]:(te=new(tb.getScale(j))({id:C,type:j,ctx:this.ctx,chart:this}),s[te.id]=te),te.init(y,i)}),ol(a,(h,y)=>{h||delete s[y]}),ol(s,h=>{ef.configure(this,h,h.options),ef.addBox(this,h)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,s=i.length;if(i.sort((a,l)=>a.index-l.index),s>e){for(let a=e;a<s;++a)this._destroyDatasetMeta(a);i.splice(e,s-e)}this._sortedMetasets=i.slice(0).sort(j6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((s,a)=>{0===e.filter(l=>l===s._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=e.length;s<a;s++){const l=e[s];let h=this.getDatasetMeta(s);const y=l.type||this.config.type;if(h.type&&h.type!==y&&(this._destroyDatasetMeta(s),h=this.getDatasetMeta(s)),h.type=y,h.indexAxis=l.indexAxis||pR(y,this.options),h.order=l.order||0,h.index=s,h.label=""+l.label,h.visible=this.isDatasetVisible(s),h.controller)h.controller.updateIndex(s),h.controller.linkScales();else{const C=tb.getController(y),{datasetElementType:P,dataElementType:j}=Yo.datasets[y];Object.assign(C.prototype,{dataElementType:tb.getElement(j),datasetElementType:P&&tb.getElement(P)}),h.controller=new C(this,s),i.push(h.controller)}}return this._updateMetasets(),i}_resetElements(){ol(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let h=0;for(let P=0,j=this.data.datasets.length;P<j;P++){const{controller:te}=this.getDatasetMeta(P),he=!a&&-1===l.indexOf(te);te.buildOrUpdateElements(he),h=Math.max(+te.getMaxOverflow(),h)}h=this._minPadding=s.layout.autoPadding?h:0,this._updateLayout(h),a||ol(l,P=>{P.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(j6("z","_idx"));const{_active:y,_lastEvent:C}=this;C?this._eventHandler(C,!0):y.length&&this._updateHoverStyles(y,y,!0),this.render()}_updateScales(){ol(this.scales,i=>{ef.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(i.events);(!fY(e,s)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:l}of e)D7(i,a,"_removeElements"===s?-l:l)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=l=>new Set(i.filter(h=>h[0]===l).map((h,y)=>y+","+h.splice(1).join(","))),a=s(0);for(let l=1;l<e;l++)if(!fY(a,s(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ef.update(this,this.width,this.height,i);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],ol(this.boxes,a=>{s&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,T0(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const s=this.getDatasetMeta(i),a={meta:s,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(s.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Kv.has(this)?this.attached&&!Kv.running(this)&&Kv.start(this):(this.draw(),Z6({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resize(s,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,s=[];let a,l;for(a=0,l=e.length;a<l;++a){const h=e[a];(!i||h.visible)&&s.push(h)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,s=i._clip,a=!s.disabled,l=this.chartArea,h={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",h)&&(a&&OA(e,{left:!1===s.left?0:l.left-s.left,right:!1===s.right?this.width:l.right+s.right,top:!1===s.top?0:l.top-s.top,bottom:!1===s.bottom?this.height:l.bottom+s.bottom}),i.controller.draw(),a&&RA(e),h.cancelable=!1,this.notifyPlugins("afterDatasetDraw",h))}getElementsAtEventForMode(i,e,s,a){const l=S9.modes[e];return"function"==typeof l?l(this,i,s,a):[]}getDatasetMeta(i){const e=this.data.datasets[i],s=this._metasets;let a=s.filter(l=>l&&l._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=S0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const s=this.getDatasetMeta(i);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,s){const a=s?"show":"hide",l=this.getDatasetMeta(i),h=l.controller._resolveAnimations(void 0,a);Jg(e)?(l.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(i,s),h.update(l,{visible:s}),this.update(y=>y.datasetIndex===i?a:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),Kv.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),LY(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete GA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,s=(l,h)=>{e.addEventListener(this,l,h),i[l]=h},a=(l,h,y)=>{l.offsetX=h,l.offsetY=y,this._eventHandler(l)};ol(this.options.events,l=>s(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,s=(C,P)=>{e.addEventListener(this,C,P),i[C]=P},a=(C,P)=>{i[C]&&(e.removeEventListener(this,C,P),delete i[C])},l=(C,P)=>{this.canvas&&this.resize(C,P)};let h;const y=()=>{a("attach",y),this.attached=!0,this.resize(),s("resize",l),s("detach",h)};h=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),s("attach",y)},e.isAttached(this.canvas)?y():h()}unbindEvents(){ol(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},ol(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,s){const a=s?"set":"remove";let l,h,y,C;for("dataset"===e&&(l=this.getDatasetMeta(i[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),y=0,C=i.length;y<C;++y){h=i[y];const P=h&&this.getDatasetMeta(h.datasetIndex).controller;P&&P[a+"HoverStyle"](h.element,h.datasetIndex,h.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],s=i.map(({datasetIndex:l,index:h})=>{const y=this.getDatasetMeta(l);if(!y)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:y.data[h],index:h}});!CA(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(i,e,s){return this._plugins.notify(this,i,e,s)}_updateHoverStyles(i,e,s){const a=this.options.hover,l=(C,P)=>C.filter(j=>!P.some(te=>j.datasetIndex===te.datasetIndex&&j.index===te.index)),h=l(e,i),y=s?i:l(i,e);h.length&&this.updateHoverStyle(h,a.mode,!1),y.length&&a.mode&&this.updateHoverStyle(y,a.mode,!0)}_eventHandler(i,e){const s={event:i,replay:e,cancelable:!0,inChartArea:Qx(i,this.chartArea,this._minPadding)},a=h=>(h.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",s,a))return;const l=this._handleEvent(i,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(l||s.changed)&&this.render(),this}_handleEvent(i,e,s){const{_active:a=[],options:l}=this,y=this._getActiveElements(i,a,s,e),C=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(i),P=function(t,i,e,s){return e&&"mouseout"!==t.type?s?i:t:null}(i,this._lastEvent,s,C);s&&(this._lastEvent=null,Gl(l.onHover,[i,y,this],this),C&&Gl(l.onClick,[i,y,this],this));const j=!CA(y,a);return(j||e)&&(this._active=y,this._updateHoverStyles(y,a,e)),this._lastEvent=P,j}_getActiveElements(i,e,s,a){if("mouseout"===i.type)return[];if(!s)return e;const l=this.options.hover;return this.getElementsAtEventForMode(i,l.mode,l,a)}}const q6=()=>ol(X1.instances,t=>t._plugins.invalidate()),k0=!0;function $6(t,i,e){const{startAngle:s,pixelMargin:a,x:l,y:h,outerRadius:y,innerRadius:C}=i;let P=a/y;t.beginPath(),t.arc(l,h,y,s-P,e+P),C>a?(P=a/C,t.arc(l,h,C,e+P,s-P,!0)):t.arc(l,h,a,e+wu,s-wu),t.closePath(),t.clip()}function K1(t,i,e,s){return{x:e+t*Math.cos(i),y:s+t*Math.sin(i)}}function mR(t,i,e,s,a){const{x:l,y:h,startAngle:y,pixelMargin:C,innerRadius:P}=i,j=Math.max(i.outerRadius+s+e-C,0),te=P>0?P+s+e+C:0;let he=0;const Ce=a-y;if(s){const Kr=((P>0?P-s:0)+(j>0?j-s:0))/2;he=(Ce-(0!==Kr?Ce*Kr/(Kr+s):Ce))/2}const je=(Ce-Math.max(.001,Ce*j-e/Uc)/j)/2,tt=y+je+he,vt=a-je-he,{outerStart:Wt,outerEnd:nn,innerStart:mn,innerEnd:hn}=function(t,i,e,s){const a=function(t){return JO(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),l=(e-i)/2,h=Math.min(l,s*i/2),y=C=>{const P=(e-Math.min(l,C))*s/2;return Bh(C,0,Math.min(l,P))};return{outerStart:y(a.outerStart),outerEnd:y(a.outerEnd),innerStart:Bh(a.innerStart,0,h),innerEnd:Bh(a.innerEnd,0,h)}}(i,te,j,vt-tt),qn=j-Wt,ai=j-nn,Oi=tt+Wt/qn,Pi=vt-nn/ai,ws=te+mn,fo=te+hn,mo=tt+mn/ws,fl=vt-hn/fo;if(t.beginPath(),t.arc(l,h,j,Oi,Pi),nn>0){const Si=K1(ai,Pi,l,h);t.arc(Si.x,Si.y,nn,Pi,vt+wu)}const Yh=K1(fo,vt,l,h);if(t.lineTo(Yh.x,Yh.y),hn>0){const Si=K1(fo,fl,l,h);t.arc(Si.x,Si.y,hn,vt+wu,fl+Math.PI)}if(t.arc(l,h,te,vt-hn/te,tt+mn/te,!0),mn>0){const Si=K1(ws,mo,l,h);t.arc(Si.x,Si.y,mn,mo+Math.PI,tt-wu)}const go=K1(qn,tt,l,h);if(t.lineTo(go.x,go.y),Wt>0){const Si=K1(qn,Oi,l,h);t.arc(Si.x,Si.y,Wt,tt-wu,Oi)}t.closePath()}Object.defineProperties(X1,{defaults:{enumerable:k0,value:Yo},instances:{enumerable:k0,value:GA},overrides:{enumerable:k0,value:qx},registry:{enumerable:k0,value:tb},version:{enumerable:k0,value:"3.7.0"},getChart:{enumerable:k0,value:G6},register:{enumerable:k0,value:(...t)=>{tb.add(...t),q6()}},unregister:{enumerable:k0,value:(...t)=>{tb.remove(...t),q6()}}});class nS extends Q_{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,s){const a=this.getProps(["x","y"],s),{angle:l,distance:h}=vY(a,{x:i,y:e}),{startAngle:y,endAngle:C,innerRadius:P,outerRadius:j,circumference:te}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),he=this.options.spacing/2,Le=so(te,C-y)>=Ol||YT(l,y,C),je=Jv(h,P+he,j+he);return Le&&je}getCenterPoint(i){const{x:e,y:s,startAngle:a,endAngle:l,innerRadius:h,outerRadius:y}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:C,spacing:P}=this.options,j=(a+l)/2,te=(h+y+P+C)/2;return{x:e+Math.cos(j)*te,y:s+Math.sin(j)*te}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:s}=this,a=(e.offset||0)/2,l=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>Ol?Math.floor(s/Ol):0,0===s||this.innerRadius<0||this.outerRadius<0)return;i.save();let h=0;if(a){h=a/2;const C=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(C)*h,Math.sin(C)*h),this.circumference>=Uc&&(h=a)}i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function(t,i,e,s,a){const{options:l}=i,{borderWidth:h,borderJoinStyle:y}=l,C="inner"===l.borderAlign;!h||(C?(t.lineWidth=2*h,t.lineJoin=y||"round"):(t.lineWidth=h,t.lineJoin=y||"bevel"),i.fullCircles&&function(t,i,e){const{x:s,y:a,startAngle:l,pixelMargin:h,fullCircles:y}=i,C=Math.max(i.outerRadius-h,0),P=i.innerRadius+h;let j;for(e&&$6(t,i,l+Ol),t.beginPath(),t.arc(s,a,P,l+Ol,l,!0),j=0;j<y;++j)t.stroke();for(t.beginPath(),t.arc(s,a,C,l,l+Ol),j=0;j<y;++j)t.stroke()}(t,i,C),C&&$6(t,i,a),mR(t,i,e,s,a),t.stroke())}(i,this,h,l,function(t,i,e,s){const{fullCircles:a,startAngle:l,circumference:h}=i;let y=i.endAngle;if(a){mR(t,i,e,s,l+Ol);for(let C=0;C<a;++C)t.fill();isNaN(h)||(y=l+h%Ol,h%Ol==0&&(y+=Ol))}return mR(t,i,e,s,y),t.fill(),y}(i,this,h,l)),i.restore()}}function Q6(t,i,e=i){t.lineCap=so(e.borderCapStyle,i.borderCapStyle),t.setLineDash(so(e.borderDash,i.borderDash)),t.lineDashOffset=so(e.borderDashOffset,i.borderDashOffset),t.lineJoin=so(e.borderJoinStyle,i.borderJoinStyle),t.lineWidth=so(e.borderWidth,i.borderWidth),t.strokeStyle=so(e.borderColor,i.borderColor)}function F7(t,i,e){t.lineTo(e.x,e.y)}function J6(t,i,e={}){const s=t.length,{start:a=0,end:l=s-1}=e,{start:h,end:y}=i,C=Math.max(a,h),P=Math.min(l,y);return{count:s,start:C,loop:i.loop,ilen:P<C&&!(a<h&&l<h||a>y&&l>y)?s+P-C:P-C}}function z7(t,i,e,s){const{points:a,options:l}=i,{count:h,start:y,loop:C,ilen:P}=J6(a,e,s),j=function(t){return t.stepped?$q:t.tension||"monotone"===t.cubicInterpolationMode?Qq:F7}(l);let Ce,Le,je,{move:te=!0,reverse:he}=s||{};for(Ce=0;Ce<=P;++Ce)Le=a[(y+(he?P-Ce:Ce))%h],!Le.skip&&(te?(t.moveTo(Le.x,Le.y),te=!1):j(t,je,Le,he,l.stepped),je=Le);return C&&(Le=a[(y+(he?P:0))%h],j(t,je,Le,he,l.stepped)),!!C}function B7(t,i,e,s){const a=i.points,{count:l,start:h,ilen:y}=J6(a,e,s),{move:C=!0,reverse:P}=s||{};let he,Ce,Le,je,tt,vt,j=0,te=0;const Wt=mn=>(h+(P?y-mn:mn))%l,nn=()=>{je!==tt&&(t.lineTo(j,tt),t.lineTo(j,je),t.lineTo(j,vt))};for(C&&(Ce=a[Wt(0)],t.moveTo(Ce.x,Ce.y)),he=0;he<=y;++he){if(Ce=a[Wt(he)],Ce.skip)continue;const mn=Ce.x,hn=Ce.y,qn=0|mn;qn===Le?(hn<je?je=hn:hn>tt&&(tt=hn),j=(te*j+mn)/++te):(nn(),t.lineTo(mn,hn),Le=qn,te=0,je=tt=hn),vt=hn}nn()}function gR(t){const i=t.options;return t._decimated||t._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?z7:B7}nS.id="arc",nS.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},nS.defaultRoutes={backgroundColor:"backgroundColor"};const U7="function"==typeof Path2D;let iS=(()=>{class t extends Q_{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const a=this.options;!a.tension&&"monotone"!==a.cubicInterpolationMode||a.stepped||this._pointsUpdated||(C8(this._points,a,e,a.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,i){const e=t.points,s=t.options.spanGaps,a=e.length;if(!a)return[];const l=!!t._loop,{start:h,end:y}=function(t,i,e,s){let a=0,l=i-1;if(e&&!s)for(;a<i&&!t[a].skip;)a++;for(;a<i&&t[a].skip;)a++;for(a%=i,e&&(l+=a);l>a&&t[l%i].skip;)l--;return l%=i,{start:a,end:l}}(e,a,l,s);return function(t,i,e,s){return s&&s.setContext&&e?function(t,i,e,s){const a=t._chart.getContext(),l=n6(t.options),{_datasetIndex:h,options:{spanGaps:y}}=t,C=e.length,P=[];let j=l,te=i[0].start,he=te;function Ce(Le,je,tt,vt){const Wt=y?-1:1;if(Le!==je){for(Le+=C;e[Le%C].skip;)Le-=Wt;for(;e[je%C].skip;)je+=Wt;Le%C!=je%C&&(P.push({start:Le%C,end:je%C,loop:tt,style:vt}),j=vt,te=je%C)}}for(const Le of i){te=y?te:Le.start;let tt,je=e[te%C];for(he=te+1;he<=Le.end;he++){const vt=e[he%C];tt=n6(s.setContext(S0(a,{type:"segment",p0:je,p1:vt,p0DataIndex:(he-1)%C,p1DataIndex:he%C,datasetIndex:h}))),H8(tt,j)&&Ce(te,he-1,Le.loop,j),je=vt,j=tt}te<he-1&&Ce(te,he-1,Le.loop,j)}return P}(t,i,e,s):i}(t,!0===s?[{start:h,end:y,loop:l}]:function(t,i,e,s){const a=t.length,l=[];let C,h=i,y=t[i];for(C=i+1;C<=e;++C){const P=t[C%a];P.skip||P.stop?y.skip||(l.push({start:i%a,end:(C-1)%a,loop:s=!1}),i=h=P.stop?C:null):(h=C,y.skip&&(i=C)),y=P}return null!==h&&l.push({start:i%a,end:h%a,loop:s}),l}(e,h,y<h?y+a:y,!!t._fullLoop&&0===h&&y===a-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,a=e.length;return a&&this.points[e[a-1].end]}interpolate(e,s){const a=this.options,l=e[s],h=this.points,y=e6(this,{property:s,start:l,end:l});if(!y.length)return;const C=[],P=function(t){return t.stepped?I8:t.tension||"monotone"===t.cubicInterpolationMode?L8:Kx}(a);let j,te;for(j=0,te=y.length;j<te;++j){const{start:he,end:Ce}=y[j],Le=h[he],je=h[Ce];if(Le===je){C.push(Le);continue}const vt=P(Le,je,Math.abs((l-Le[s])/(je[s]-Le[s])),a.stepped);vt[s]=e[s],C.push(vt)}return 1===C.length?C[0]:C}pathSegment(e,s,a){return gR(this)(e,this,s,a)}path(e,s,a){const l=this.segments,h=gR(this);let y=this._loop;s=s||0,a=a||this.points.length-s;for(const C of l)y&=h(e,this,C,{start:s,end:s+a-1});return!!y}draw(e,s,a,l){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function(t,i,e,s){U7&&!i.options.segment?function(t,i,e,s){let a=i._path;a||(a=i._path=new Path2D,i.path(a,e,s)&&a.closePath()),Q6(t,i.options),t.stroke(a)}(t,i,e,s):function(t,i,e,s){const{segments:a,options:l}=i,h=gR(i);for(const y of a)Q6(t,l,y.style),t.beginPath(),h(t,i,y,{start:e,end:e+s-1})&&t.closePath(),t.stroke()}(t,i,e,s)}(e,this,a,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t.id="line",t.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t.descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i},t})();function X6(t,i,e,s){const a=t.options,{[e]:l}=t.getProps([e],s);return Math.abs(i-l)<a.radius+a.hitRadius}let K6=(()=>{class t extends Q_{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,a){const l=this.options,{x:h,y}=this.getProps(["x","y"],a);return Math.pow(e-h,2)+Math.pow(s-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,s){return X6(this,e,"x",s)}inYRange(e,s){return X6(this,e,"y",s)}getCenterPoint(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}size(e){let s=(e=e||this.options||{}).radius||0;return s=Math.max(s,s&&e.hoverRadius||0),2*(s+(s&&e.borderWidth||0))}draw(e,s){const a=this.options;this.skip||a.radius<.1||!Qx(this,s,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,PA(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return t.id="point",t.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t})();function e4(t,i){const{x:e,y:s,base:a,width:l,height:h}=t.getProps(["x","y","base","width","height"],i);let y,C,P,j,te;return t.horizontal?(te=h/2,y=Math.min(e,a),C=Math.max(e,a),P=s-te,j=s+te):(te=l/2,y=e-te,C=e+te,P=Math.min(s,a),j=Math.max(s,a)),{left:y,top:P,right:C,bottom:j}}function E0(t,i,e,s){return t?0:Bh(i,e,s)}function _R(t,i,e,s){const a=null===i,l=null===e,y=t&&!(a&&l)&&e4(t,s);return y&&(a||Jv(i,y.left,y.right))&&(l||Jv(e,y.top,y.bottom))}function $7(t,i){t.rect(i.x,i.y,i.w,i.h)}function yR(t,i,e={}){const s=t.x!==e.x?-i:0,a=t.y!==e.y?-i:0;return{x:t.x+s,y:t.y+a,w:t.w+((t.x+t.w!==e.x+e.w?i:0)-s),h:t.h+((t.y+t.h!==e.y+e.h?i:0)-a),radius:t.radius}}class rS extends Q_{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:s,backgroundColor:a}}=this,{inner:l,outer:h}=function(t){const i=e4(t),e=i.right-i.left,s=i.bottom-i.top,a=function(t,i,e){const a=t.borderSkipped,l=PY(t.options.borderWidth);return{t:E0(a.top,l.top,0,e),r:E0(a.right,l.right,0,i),b:E0(a.bottom,l.bottom,0,e),l:E0(a.left,l.left,0,i)}}(t,e/2,s/2),l=function(t,i,e){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,l=q1(a),h=Math.min(i,e),y=t.borderSkipped,C=s||Wo(a);return{topLeft:E0(!C||y.top||y.left,l.topLeft,0,h),topRight:E0(!C||y.top||y.right,l.topRight,0,h),bottomLeft:E0(!C||y.bottom||y.left,l.bottomLeft,0,h),bottomRight:E0(!C||y.bottom||y.right,l.bottomRight,0,h)}}(t,e/2,s/2);return{outer:{x:i.left,y:i.top,w:e,h:s,radius:l},inner:{x:i.left+a.l,y:i.top+a.t,w:e-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,l.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(a.b,a.r))}}}}(this),y=function(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(h.radius)?FA:$7;i.save(),(h.w!==l.w||h.h!==l.h)&&(i.beginPath(),y(i,yR(h,e,l)),i.clip(),y(i,yR(l,-e,h)),i.fillStyle=s,i.fill("evenodd")),i.beginPath(),y(i,yR(l,e)),i.fillStyle=a,i.fill(),i.restore()}inRange(i,e,s){return _R(this,i,e,s)}inXRange(i,e){return _R(this,i,null,e)}inYRange(i,e){return _R(this,null,i,e)}getCenterPoint(i){const{x:e,y:s,base:a,horizontal:l}=this.getProps(["x","y","base","horizontal"],i);return{x:l?(e+a)/2:e,y:l?s:(s+a)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}rS.id="bar",rS.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},rS.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Q7=Object.freeze({__proto__:null,ArcElement:nS,LineElement:iS,PointElement:K6,BarElement:rS});function t4(t){if(t._decimated){const i=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:i})}}function n4(t){t.data.datasets.forEach(i=>{t4(i)})}var e$={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,i,e)=>{if(!e.enabled)return void n4(t);const s=t.width;t.data.datasets.forEach((a,l)=>{const{_data:h,indexAxis:y}=a,C=t.getDatasetMeta(l),P=h||a.data;if("y"===WT([y,t.options.indexAxis])||"line"!==C.type)return;const j=t.scales[C.xAxisID];if("linear"!==j.type&&"time"!==j.type||t.options.parsing)return;let Le,{start:te,count:he}=function(t,i){const e=i.length;let a,s=0;const{iScale:l}=t,{min:h,max:y,minDefined:C,maxDefined:P}=l.getUserBounds();return C&&(s=Bh(Xv(i,l.axis,h).lo,0,e-1)),a=P?Bh(Xv(i,l.axis,y).hi+1,s,e)-s:e-s,{start:s,count:a}}(C,P);if(he<=(e.threshold||4*s))t4(a);else{switch(Sa(h)&&(a._data=P,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(je){this._data=je}})),e.algorithm){case"lttb":Le=function(t,i,e,s,a){const l=a.samples||s;if(l>=e)return t.slice(i,i+e);const h=[],y=(e-2)/(l-2);let C=0;const P=i+e-1;let te,he,Ce,Le,je,j=i;for(h[C++]=t[j],te=0;te<l-2;te++){let Wt,tt=0,vt=0;const nn=Math.floor((te+1)*y)+1+i,mn=Math.min(Math.floor((te+2)*y)+1,e)+i,hn=mn-nn;for(Wt=nn;Wt<mn;Wt++)tt+=t[Wt].x,vt+=t[Wt].y;tt/=hn,vt/=hn;const qn=Math.floor(te*y)+1+i,ai=Math.min(Math.floor((te+1)*y)+1,e)+i,{x:Oi,y:Pi}=t[j];for(Ce=Le=-1,Wt=qn;Wt<ai;Wt++)Le=.5*Math.abs((Oi-tt)*(t[Wt].y-Pi)-(Oi-t[Wt].x)*(vt-Pi)),Le>Ce&&(Ce=Le,he=t[Wt],je=Wt);h[C++]=he,j=je}return h[C++]=t[P],h}(P,te,he,s,e);break;case"min-max":Le=function(t,i,e,s){let h,y,C,P,j,te,he,Ce,Le,je,a=0,l=0;const tt=[],Wt=t[i].x,mn=t[i+e-1].x-Wt;for(h=i;h<i+e;++h){y=t[h],C=(y.x-Wt)/mn*s,P=y.y;const hn=0|C;if(hn===j)P<Le?(Le=P,te=h):P>je&&(je=P,he=h),a=(l*a+y.x)/++l;else{const qn=h-1;if(!Sa(te)&&!Sa(he)){const ai=Math.min(te,he),Oi=Math.max(te,he);ai!==Ce&&ai!==qn&&tt.push(MF(CF({},t[ai]),{x:a})),Oi!==Ce&&Oi!==qn&&tt.push(MF(CF({},t[Oi]),{x:a}))}h>0&&qn!==Ce&&tt.push(t[qn]),tt.push(y),j=hn,l=0,Le=je=P,te=he=Ce=h}}return tt}(P,te,he,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=Le}})},destroy(t){n4(t)}};function i$(t,i,e){const s=function(t){const i=t.options,e=i.fill;let s=so(e&&e.target,e);return void 0===s&&(s=!!i.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(t);if(Wo(s))return!isNaN(s.value)&&s;let a=parseFloat(s);return qu(a)&&Math.floor(a)===a?(("-"===s[0]||"+"===s[0])&&(a=i+a),!(a===i||a<0||a>=e)&&a):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}class r4{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,s){const{x:a,y:l,radius:h}=this;return i.arc(a,l,h,(e=e||{start:0,end:Ol}).end,e.start,!0),!s.bounds}interpolate(i){const{x:e,y:s,radius:a}=this,l=i.angle;return{x:e+Math.cos(l)*a,y:s+Math.sin(l)*a,angle:l}}}function s4(t,i,e){for(;i>t;i--){const s=e[i];if(!isNaN(s.x)&&!isNaN(s.y))break}return i}function u$(t,i,e){const s=[];for(let a=0;a<e.length;a++){const l=e[a],{first:h,last:y,point:C}=d$(l,i,"x");if(!(!C||h&&y))if(h)s.unshift(C);else if(t.push(C),!y)break}t.push(...s)}function d$(t,i,e){const s=t.interpolate(i,e);if(!s)return{};const a=s[e],l=t.segments,h=t.points;let y=!1,C=!1;for(let P=0;P<l.length;P++){const j=l[P],te=h[j.start][e],he=h[j.end][e];if(Jv(a,te,he)){y=a===te,C=a===he;break}}return{first:y,last:C,point:s}}function h$(t){const{chart:i,fill:e,line:s}=t;if(qu(e))return function(t,i){const e=t.getDatasetMeta(i);return e&&t.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function(t){const{scale:i,index:e,line:s}=t,a=[],l=s.segments,h=s.points,y=function(t,i){const e=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const l=s[a];if(l.index===i)break;l.hidden||e.unshift(l.dataset)}return e}(i,e);y.push(o4({x:null,y:i.bottom},s));for(let C=0;C<l.length;C++){const P=l[C];for(let j=P.start;j<=P.end;j++)u$(a,h[j],y)}return new iS({points:a,options:{}})}(t);if("shape"===e)return!0;const a=function(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:i,fill:e}=t,s=i.options,a=i.getLabels().length,l=[],h=s.reverse?i.max:i.min;let C,P,j;if(j="start"===e?h:"end"===e?s.reverse?i.min:i.max:Wo(e)?e.value:i.getBaseValue(),s.grid.circular)return P=i.getPointPositionForValue(0,h),new r4({x:P.x,y:P.y,radius:i.getDistanceFromCenterForValue(j)});for(C=0;C<a;++C)l.push(i.getPointPositionForValue(C,j));return l}(t):function(t){const{scale:i={},fill:e}=t;let a,s=null;return"start"===e?s=i.bottom:"end"===e?s=i.top:Wo(e)?s=i.getPixelForValue(e.value):i.getBasePixel&&(s=i.getBasePixel()),qu(s)?(a=i.isHorizontal(),{x:a?s:null,y:a?null:s}):null}(t)}(t);return a instanceof r4?a:o4(a,s)}function o4(t,i){let e=[],s=!1;return Wl(t)?(s=!0,e=t):e=function(t,i){const{x:e=null,y:s=null}=t||{},a=i.points,l=[];return i.segments.forEach(({start:h,end:y})=>{y=s4(h,y,a);const C=a[h],P=a[y];null!==s?(l.push({x:C.x,y:s}),l.push({x:P.x,y:s})):null!==e&&(l.push({x:e,y:C.y}),l.push({x:e,y:P.y}))}),l}(t,i),e.length?new iS({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function p$(t,i,e){let a=t[i].fill;const l=[i];let h;if(!e)return a;for(;!1!==a&&-1===l.indexOf(a);){if(!qu(a))return a;if(h=t[a],!h)return!1;if(h.visible)return a;l.push(a),a=h.fill}return!1}function a4(t,i,e){t.beginPath(),i.path(t),t.lineTo(i.last().x,e),t.lineTo(i.first().x,e),t.closePath(),t.clip()}function vR(t,i,e,s){if(s)return;let a=i[t],l=e[t];return"angle"===t&&(a=ig(a),l=ig(l)),{property:t,start:a,end:l}}function l4(t,i,e,s){return t&&i?s(t[e],i[e]):t?t[e]:i?i[e]:0}function m$(t,i,e){const{top:s,bottom:a}=i.chart.chartArea,{property:l,start:h,end:y}=e||{};"x"===l&&(t.beginPath(),t.rect(h,s,y-h,a-s),t.clip())}function c4(t,i,e,s){const a=i.interpolate(e,s);a&&t.lineTo(a.x,a.y)}function u4(t,i){const{line:e,target:s,property:a,color:l,scale:h}=i,y=function(t,i,e){const s=t.segments,a=t.points,l=i.points,h=[];for(const y of s){let{start:C,end:P}=y;P=s4(C,P,a);const j=vR(e,a[C],a[P],y.loop);if(!i.segments){h.push({source:y,target:j,start:a[C],end:a[P]});continue}const te=e6(i,j);for(const he of te){const Ce=vR(e,l[he.start],l[he.end],he.loop),Le=KY(y,a,Ce);for(const je of Le)h.push({source:je,target:he,start:{[e]:l4(j,Ce,"start",Math.max)},end:{[e]:l4(j,Ce,"end",Math.min)}})}}return h}(e,s,a);for(const{source:C,target:P,start:j,end:te}of y){const{style:{backgroundColor:he=l}={}}=C,Ce=!0!==s;t.save(),t.fillStyle=he,m$(t,h,Ce&&vR(a,j,te)),t.beginPath();const Le=!!e.pathSegment(t,C);let je;if(Ce){Le?t.closePath():c4(t,s,te,a);const tt=!!s.pathSegment(t,P,{move:Le,reverse:!0});je=Le&&tt,je||c4(t,s,j,a)}t.closePath(),t.fill(je?"evenodd":"nonzero"),t.restore()}}function bR(t,i,e){const s=h$(i),{line:a,scale:l,axis:h}=i,y=a.options,C=y.fill,P=y.backgroundColor,{above:j=P,below:te=P}=C||{};s&&a.points.length&&(OA(t,e),function(t,i){const{line:e,target:s,above:a,below:l,area:h,scale:y}=i,C=e._loop?"angle":i.axis;t.save(),"x"===C&&l!==a&&(a4(t,s,h.top),u4(t,{line:e,target:s,color:a,scale:y,property:C}),t.restore(),t.save(),a4(t,s,h.bottom)),u4(t,{line:e,target:s,color:l,scale:y,property:C}),t.restore()}(t,{line:a,target:s,above:j,below:te,area:e,scale:l,axis:h}),RA(t))}var d4={id:"filler",afterDatasetsUpdate(t,i,e){const s=(t.data.datasets||[]).length,a=[];let l,h,y,C;for(h=0;h<s;++h)l=t.getDatasetMeta(h),y=l.dataset,C=null,y&&y.options&&y instanceof iS&&(C={visible:t.isDatasetVisible(h),index:h,fill:i$(y,h,s),chart:t,axis:l.controller.options.indexAxis,scale:l.vScale,line:y}),l.$filler=C,a.push(C);for(h=0;h<s;++h)C=a[h],C&&!1!==C.fill&&(C.fill=p$(a,h,e.propagate))},beforeDraw(t,i,e){const s="beforeDraw"===e.drawTime,a=t.getSortedVisibleDatasetMetas(),l=t.chartArea;for(let h=a.length-1;h>=0;--h){const y=a[h].$filler;!y||(y.line.updateControlPoints(l,y.axis),s&&bR(t.ctx,y,l))}},beforeDatasetsDraw(t,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&bR(t.ctx,l,t.chartArea)}},beforeDatasetDraw(t,i,e){const s=i.meta.$filler;!s||!1===s.fill||"beforeDatasetDraw"!==e.drawTime||bR(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const h4=(t,i)=>{let{boxHeight:e=i,boxWidth:s=i}=t;return t.usePointStyle&&(e=Math.min(e,i),s=Math.min(s,i)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(i,e)}};class p4 extends Q_{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,s){this.maxWidth=i,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=Gl(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(s=>i.filter(s,this.chart.data))),i.sort&&(e=e.sort((s,a)=>i.sort(s,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const s=i.labels,a=sh(s.font),l=a.size,h=this._computeTitleHeight(),{boxWidth:y,itemHeight:C}=h4(s,l);let P,j;e.font=a.string,this.isHorizontal()?(P=this.maxWidth,j=this._fitRows(h,l,y,C)+10):(j=this.maxHeight,P=this._fitCols(h,l,y,C)+10),this.width=Math.min(P,i.maxWidth||this.maxWidth),this.height=Math.min(j,i.maxHeight||this.maxHeight)}_fitRows(i,e,s,a){const{ctx:l,maxWidth:h,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],P=this.lineWidths=[0],j=a+y;let te=i;l.textAlign="left",l.textBaseline="middle";let he=-1,Ce=-j;return this.legendItems.forEach((Le,je)=>{const tt=s+e/2+l.measureText(Le.text).width;(0===je||P[P.length-1]+tt+2*y>h)&&(te+=j,P[P.length-(je>0?0:1)]=0,Ce+=j,he++),C[je]={left:0,top:Ce,row:he,width:tt,height:a},P[P.length-1]+=tt+y}),te}_fitCols(i,e,s,a){const{ctx:l,maxHeight:h,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],P=this.columnSizes=[],j=h-i;let te=y,he=0,Ce=0,Le=0,je=0;return this.legendItems.forEach((tt,vt)=>{const Wt=s+e/2+l.measureText(tt.text).width;vt>0&&Ce+a+2*y>j&&(te+=he+y,P.push({width:he,height:Ce}),Le+=he+y,je++,he=Ce=0),C[vt]={left:Le,top:Ce,col:je,width:Wt,height:a},he=Math.max(he,Wt),Ce+=a+y}),te+=he,P.push({width:he,height:Ce}),te}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:a},rtl:l}}=this,h=J1(l,this.left,this.width);if(this.isHorizontal()){let y=0,C=Xp(s,this.left+a,this.right-this.lineWidths[y]);for(const P of e)y!==P.row&&(y=P.row,C=Xp(s,this.left+a,this.right-this.lineWidths[y])),P.top+=this.top+i+a,P.left=h.leftForLtr(h.x(C),P.width),C+=P.width+a}else{let y=0,C=Xp(s,this.top+i+a,this.bottom-this.columnSizes[y].height);for(const P of e)P.col!==y&&(y=P.col,C=Xp(s,this.top+i+a,this.bottom-this.columnSizes[y].height)),P.top=C,P.left+=this.left+a,P.left=h.leftForLtr(h.x(P.left),P.width),C+=P.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;OA(i,this),this._draw(),RA(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:s,ctx:a}=this,{align:l,labels:h}=i,y=Yo.color,C=J1(i.rtl,this.left,this.width),P=sh(h.font),{color:j,padding:te}=h,he=P.size,Ce=he/2;let Le;this.drawTitle(),a.textAlign=C.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=P.string;const{boxWidth:je,boxHeight:tt,itemHeight:vt}=h4(h,he),mn=this.isHorizontal(),hn=this._computeTitleHeight();Le=mn?{x:Xp(l,this.left+te,this.right-s[0]),y:this.top+te+hn,line:0}:{x:this.left+te,y:Xp(l,this.top+hn+te,this.bottom-e[0].height),line:0},$Y(this.ctx,i.textDirection);const qn=vt+te;this.legendItems.forEach((ai,Oi)=>{a.strokeStyle=ai.fontColor||j,a.fillStyle=ai.fontColor||j;const Pi=a.measureText(ai.text).width,ws=C.textAlign(ai.textAlign||(ai.textAlign=h.textAlign)),fo=je+Ce+Pi;let mo=Le.x,fl=Le.y;C.setWidth(this.width),mn?Oi>0&&mo+fo+te>this.right&&(fl=Le.y+=qn,Le.line++,mo=Le.x=Xp(l,this.left+te,this.right-s[Le.line])):Oi>0&&fl+qn>this.bottom&&(mo=Le.x=mo+e[Le.line].width+te,Le.line++,fl=Le.y=Xp(l,this.top+hn+te,this.bottom-e[Le.line].height)),function(ai,Oi,Pi){if(isNaN(je)||je<=0||isNaN(tt)||tt<0)return;a.save();const ws=so(Pi.lineWidth,1);if(a.fillStyle=so(Pi.fillStyle,y),a.lineCap=so(Pi.lineCap,"butt"),a.lineDashOffset=so(Pi.lineDashOffset,0),a.lineJoin=so(Pi.lineJoin,"miter"),a.lineWidth=ws,a.strokeStyle=so(Pi.strokeStyle,y),a.setLineDash(so(Pi.lineDash,[])),h.usePointStyle){const fo={radius:je*Math.SQRT2/2,pointStyle:Pi.pointStyle,rotation:Pi.rotation,borderWidth:ws},mo=C.xPlus(ai,je/2);PA(a,fo,mo,Oi+Ce)}else{const fo=Oi+Math.max((he-tt)/2,0),mo=C.leftForLtr(ai,je),fl=q1(Pi.borderRadius);a.beginPath(),Object.values(fl).some(Yh=>0!==Yh)?FA(a,{x:mo,y:fo,w:je,h:tt,radius:fl}):a.rect(mo,fo,je,tt),a.fill(),0!==ws&&a.stroke()}a.restore()}(C.x(mo),fl,ai),mo=((t,i,e,s)=>t===(s?"left":"right")?e:"center"===t?(i+e)/2:i)(ws,mo+je+Ce,mn?mo+fo:this.right,i.rtl),function(ai,Oi,Pi){Jx(a,Pi.text,ai,Oi+vt/2,P,{strikethrough:Pi.hidden,textAlign:C.textAlign(Pi.textAlign)})}(C.x(mo),fl,ai),mn?Le.x+=fo+te:Le.y+=qn}),QY(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,s=sh(e.font),a=Kp(e.padding);if(!e.display)return;const l=J1(i.rtl,this.left,this.width),h=this.ctx,y=e.position,P=a.top+s.size/2;let j,te=this.left,he=this.width;if(this.isHorizontal())he=Math.max(...this.lineWidths),j=this.top+P,te=Xp(i.align,te,this.right-he);else{const Le=this.columnSizes.reduce((je,tt)=>Math.max(je,tt.height),0);j=P+Xp(i.align,this.top,this.bottom-Le-i.labels.padding-this._computeTitleHeight())}const Ce=Xp(y,te,te+he);h.textAlign=l.textAlign(BO(y)),h.textBaseline="middle",h.strokeStyle=e.color,h.fillStyle=e.color,h.font=s.string,Jx(h,e.text,Ce,j,s)}_computeTitleHeight(){const i=this.options.title,e=sh(i.font),s=Kp(i.padding);return i.display?e.lineHeight+s.height:0}_getLegendItemAt(i,e){let s,a,l;if(Jv(i,this.left,this.right)&&Jv(e,this.top,this.bottom))for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(a=l[s],Jv(i,a.left,a.left+a.width)&&Jv(e,a.top,a.top+a.height))return this.legendItems[s];return null}handleEvent(i){const e=this.options;if(!function(t,i){return!!("mousemove"===t&&(i.onHover||i.onLeave)||i.onClick&&("click"===t||"mouseup"===t))}(i.type,e))return;const s=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type){const a=this._hoveredItem,l=((t,i)=>null!==t&&null!==i&&t.datasetIndex===i.datasetIndex&&t.index===i.index)(a,s);a&&!l&&Gl(e.onLeave,[i,a,this],this),this._hoveredItem=s,s&&!l&&Gl(e.onHover,[i,s,this],this)}else s&&Gl(e.onClick,[i,s,this],this)}}var f4={id:"legend",_element:p4,start(t,i,e){const s=t.legend=new p4({ctx:t.ctx,options:e,chart:t});ef.configure(t,s,e),ef.addBox(t,s)},stop(t){ef.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,e){const s=t.legend;ef.configure(t,s,e),s.options=e},afterUpdate(t){const i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,e){const s=i.datasetIndex,a=e.chart;a.isDatasetVisible(s)?(a.hide(s),i.hidden=!0):(a.show(s),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const i=t.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:a,color:l}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const y=h.controller.getStyle(e?0:void 0),C=Kp(y.borderWidth);return{text:i[h.index].label,fillStyle:y.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(C.width+C.height)/4,strokeStyle:y.borderColor,pointStyle:s||y.pointStyle,rotation:y.rotation,textAlign:a||y.textAlign,borderRadius:0,datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xR extends Q_{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const a=Wl(s.text)?s.text.length:1;this._padding=Kp(s.padding);const l=a*sh(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:s,bottom:a,right:l,options:h}=this,y=h.align;let P,j,te,C=0;return this.isHorizontal()?(j=Xp(y,s,l),te=e+i,P=l-s):("left"===h.position?(j=s+i,te=Xp(y,a,e),C=-.5*Uc):(j=l-i,te=Xp(y,e,a),C=.5*Uc),P=a-e),{titleX:j,titleY:te,maxWidth:P,rotation:C}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const s=sh(e.font),l=s.lineHeight/2+this._padding.top,{titleX:h,titleY:y,maxWidth:C,rotation:P}=this._drawArgs(l);Jx(i,e.text,0,0,s,{color:e.color,maxWidth:C,rotation:P,textAlign:BO(e.align),textBaseline:"middle",translation:[h,y]})}}var m4={id:"title",_element:xR,start(t,i,e){!function(t,i){const e=new xR({ctx:t.ctx,options:i,chart:t});ef.configure(t,e,i),ef.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){ef.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,i,e){const s=t.titleBlock;ef.configure(t,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qA=new WeakMap;var b$={id:"subtitle",start(t,i,e){const s=new xR({ctx:t.ctx,options:e,chart:t});ef.configure(t,s,e),ef.addBox(t,s),qA.set(t,s)},stop(t){ef.removeBox(t,qA.get(t)),qA.delete(t)},beforeUpdate(t,i,e){const s=qA.get(t);ef.configure(t,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sS={average(t){if(!t.length)return!1;let i,e,s=0,a=0,l=0;for(i=0,e=t.length;i<e;++i){const h=t[i].element;if(h&&h.hasValue()){const y=h.tooltipPosition();s+=y.x,a+=y.y,++l}}return{x:s/l,y:a/l}},nearest(t,i){if(!t.length)return!1;let l,h,y,e=i.x,s=i.y,a=Number.POSITIVE_INFINITY;for(l=0,h=t.length;l<h;++l){const C=t[l].element;if(C&&C.hasValue()){const j=VO(i,C.getCenterPoint());j<a&&(a=j,y=C)}}if(y){const C=y.tooltipPosition();e=C.x,s=C.y}return{x:e,y:s}}};function Xy(t,i){return i&&(Wl(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function nb(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function x$(t,i){const{element:e,datasetIndex:s,index:a}=i,l=t.getDatasetMeta(s).controller,{label:h,value:y}=l.getLabelAndValue(a);return{chart:t,label:h,parsed:l.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:y,dataset:l.getDataset(),dataIndex:a,datasetIndex:s,element:e}}function g4(t,i){const e=t.chart.ctx,{body:s,footer:a,title:l}=t,{boxWidth:h,boxHeight:y}=i,C=sh(i.bodyFont),P=sh(i.titleFont),j=sh(i.footerFont),te=l.length,he=a.length,Ce=s.length,Le=Kp(i.padding);let je=Le.height,tt=0,vt=s.reduce((mn,hn)=>mn+hn.before.length+hn.lines.length+hn.after.length,0);vt+=t.beforeBody.length+t.afterBody.length,te&&(je+=te*P.lineHeight+(te-1)*i.titleSpacing+i.titleMarginBottom),vt&&(je+=Ce*(i.displayColors?Math.max(y,C.lineHeight):C.lineHeight)+(vt-Ce)*C.lineHeight+(vt-1)*i.bodySpacing),he&&(je+=i.footerMarginTop+he*j.lineHeight+(he-1)*i.footerSpacing);let Wt=0;const nn=function(mn){tt=Math.max(tt,e.measureText(mn).width+Wt)};return e.save(),e.font=P.string,ol(t.title,nn),e.font=C.string,ol(t.beforeBody.concat(t.afterBody),nn),Wt=i.displayColors?h+2+i.boxPadding:0,ol(s,mn=>{ol(mn.before,nn),ol(mn.lines,nn),ol(mn.after,nn)}),Wt=0,e.font=j.string,ol(t.footer,nn),e.restore(),tt+=Le.width,{width:tt,height:je}}function M$(t,i,e,s){const{x:a,width:l}=e,{width:h,chartArea:{left:y,right:C}}=t;let P="center";return"center"===s?P=a<=(y+C)/2?"left":"right":a<=l/2?P="left":a>=h-l/2&&(P="right"),function(t,i,e,s){const{x:a,width:l}=s,h=e.caretSize+e.caretPadding;if("left"===t&&a+l+h>i.width||"right"===t&&a-l-h<0)return!0}(P,t,i,e)&&(P="center"),P}function _4(t,i,e){const s=e.yAlign||i.yAlign||function(t,i){const{y:e,height:s}=i;return e<s/2?"top":e>t.height-s/2?"bottom":"center"}(t,e);return{xAlign:e.xAlign||i.xAlign||M$(t,i,e,s),yAlign:s}}function y4(t,i,e,s){const{caretSize:a,caretPadding:l,cornerRadius:h}=t,{xAlign:y,yAlign:C}=e,P=a+l,{topLeft:j,topRight:te,bottomLeft:he,bottomRight:Ce}=q1(h);let Le=function(t,i){let{x:e,width:s}=t;return"right"===i?e-=s:"center"===i&&(e-=s/2),e}(i,y);const je=function(t,i,e){let{y:s,height:a}=t;return"top"===i?s+=e:s-="bottom"===i?a+e:a/2,s}(i,C,P);return"center"===C?"left"===y?Le+=P:"right"===y&&(Le-=P):"left"===y?Le-=Math.max(j,he)+a:"right"===y&&(Le+=Math.max(te,Ce)+a),{x:Bh(Le,0,s.width-i.width),y:Bh(je,0,s.height-i.height)}}function $A(t,i,e){const s=Kp(e.padding);return"center"===i?t.x+t.width/2:"right"===i?t.x+t.width-s.right:t.x+s.left}function v4(t){return Xy([],nb(t))}function b4(t,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?t.override(e):t}let x4=(()=>{class t extends Q_{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&s.options.animation&&a.animations,h=new s6(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=function(t,i,e){return S0(t,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,l=a.beforeTitle.apply(this,[e]),h=a.title.apply(this,[e]),y=a.afterTitle.apply(this,[e]);let C=[];return C=Xy(C,nb(l)),C=Xy(C,nb(h)),C=Xy(C,nb(y)),C}getBeforeBody(e,s){return v4(s.callbacks.beforeBody.apply(this,[e]))}getBody(e,s){const{callbacks:a}=s,l=[];return ol(e,h=>{const y={before:[],lines:[],after:[]},C=b4(a,h);Xy(y.before,nb(C.beforeLabel.call(this,h))),Xy(y.lines,C.label.call(this,h)),Xy(y.after,nb(C.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(e,s){return v4(s.callbacks.afterBody.apply(this,[e]))}getFooter(e,s){const{callbacks:a}=s,l=a.beforeFooter.apply(this,[e]),h=a.footer.apply(this,[e]),y=a.afterFooter.apply(this,[e]);let C=[];return C=Xy(C,nb(l)),C=Xy(C,nb(h)),C=Xy(C,nb(y)),C}_createItems(e){const s=this._active,a=this.chart.data,l=[],h=[],y=[];let P,j,C=[];for(P=0,j=s.length;P<j;++P)C.push(x$(this.chart,s[P]));return e.filter&&(C=C.filter((te,he,Ce)=>e.filter(te,he,Ce,a))),e.itemSort&&(C=C.sort((te,he)=>e.itemSort(te,he,a))),ol(C,te=>{const he=b4(e.callbacks,te);l.push(he.labelColor.call(this,te)),h.push(he.labelPointStyle.call(this,te)),y.push(he.labelTextColor.call(this,te))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=C,C}update(e,s){const a=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(l.length){const C=sS[a.position].call(this,l,this._eventPosition);y=this._createItems(a),this.title=this.getTitle(y,a),this.beforeBody=this.getBeforeBody(y,a),this.body=this.getBody(y,a),this.afterBody=this.getAfterBody(y,a),this.footer=this.getFooter(y,a);const P=this._size=g4(this,a),j=Object.assign({},C,P),te=_4(this.chart,a,j),he=y4(a,j,te,this.chart);this.xAlign=te.xAlign,this.yAlign=te.yAlign,h={opacity:1,x:he.x,y:he.y,width:P.width,height:P.height,caretX:C.x,caretY:C.y}}else 0!==this.opacity&&(h={opacity:0});this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,a,l){const h=this.getCaretPosition(e,a,l);s.lineTo(h.x1,h.y1),s.lineTo(h.x2,h.y2),s.lineTo(h.x3,h.y3)}getCaretPosition(e,s,a){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:C}=a,{topLeft:P,topRight:j,bottomLeft:te,bottomRight:he}=q1(C),{x:Ce,y:Le}=e,{width:je,height:tt}=s;let vt,Wt,nn,mn,hn,qn;return"center"===h?(hn=Le+tt/2,"left"===l?(vt=Ce,Wt=vt-y,mn=hn+y,qn=hn-y):(vt=Ce+je,Wt=vt+y,mn=hn-y,qn=hn+y),nn=vt):(Wt="left"===l?Ce+Math.max(P,te)+y:"right"===l?Ce+je-Math.max(j,he)-y:this.caretX,"top"===h?(mn=Le,hn=mn-y,vt=Wt-y,nn=Wt+y):(mn=Le+tt,hn=mn+y,vt=Wt+y,nn=Wt-y),qn=mn),{x1:vt,x2:Wt,x3:nn,y1:mn,y2:hn,y3:qn}}drawTitle(e,s,a){const l=this.title,h=l.length;let y,C,P;if(h){const j=J1(a.rtl,this.x,this.width);for(e.x=$A(this,a.titleAlign,a),s.textAlign=j.textAlign(a.titleAlign),s.textBaseline="middle",y=sh(a.titleFont),C=a.titleSpacing,s.fillStyle=a.titleColor,s.font=y.string,P=0;P<h;++P)s.fillText(l[P],j.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+C,P+1===h&&(e.y+=a.titleMarginBottom-C)}}_drawColorBox(e,s,a,l,h){const y=this.labelColors[a],C=this.labelPointStyles[a],{boxHeight:P,boxWidth:j,boxPadding:te}=h,he=sh(h.bodyFont),Ce=$A(this,"left",h),Le=l.x(Ce),tt=s.y+(P<he.lineHeight?(he.lineHeight-P)/2:0);if(h.usePointStyle){const vt={radius:Math.min(j,P)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},Wt=l.leftForLtr(Le,j)+j/2,nn=tt+P/2;e.strokeStyle=h.multiKeyBackground,e.fillStyle=h.multiKeyBackground,PA(e,vt,Wt,nn),e.strokeStyle=y.borderColor,e.fillStyle=y.backgroundColor,PA(e,vt,Wt,nn)}else{e.lineWidth=y.borderWidth||1,e.strokeStyle=y.borderColor,e.setLineDash(y.borderDash||[]),e.lineDashOffset=y.borderDashOffset||0;const vt=l.leftForLtr(Le,j-te),Wt=l.leftForLtr(l.xPlus(Le,1),j-te-2),nn=q1(y.borderRadius);Object.values(nn).some(mn=>0!==mn)?(e.beginPath(),e.fillStyle=h.multiKeyBackground,FA(e,{x:vt,y:tt,w:j,h:P,radius:nn}),e.fill(),e.stroke(),e.fillStyle=y.backgroundColor,e.beginPath(),FA(e,{x:Wt,y:tt+1,w:j-2,h:P-2,radius:nn}),e.fill()):(e.fillStyle=h.multiKeyBackground,e.fillRect(vt,tt,j,P),e.strokeRect(vt,tt,j,P),e.fillStyle=y.backgroundColor,e.fillRect(Wt,tt+1,j-2,P-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:C,boxHeight:P,boxWidth:j,boxPadding:te}=a,he=sh(a.bodyFont);let Ce=he.lineHeight,Le=0;const je=J1(a.rtl,this.x,this.width),tt=function(Pi){s.fillText(Pi,je.x(e.x+Le),e.y+Ce/2),e.y+=Ce+h},vt=je.textAlign(y);let Wt,nn,mn,hn,qn,ai,Oi;for(s.textAlign=y,s.textBaseline="middle",s.font=he.string,e.x=$A(this,vt,a),s.fillStyle=a.bodyColor,ol(this.beforeBody,tt),Le=C&&"right"!==vt?"center"===y?j/2+te:j+2+te:0,hn=0,ai=l.length;hn<ai;++hn){for(Wt=l[hn],nn=this.labelTextColors[hn],s.fillStyle=nn,ol(Wt.before,tt),mn=Wt.lines,C&&mn.length&&(this._drawColorBox(s,e,hn,je,a),Ce=Math.max(he.lineHeight,P)),qn=0,Oi=mn.length;qn<Oi;++qn)tt(mn[qn]),Ce=he.lineHeight;ol(Wt.after,tt)}Le=0,Ce=he.lineHeight,ol(this.afterBody,tt),e.y-=h}drawFooter(e,s,a){const l=this.footer,h=l.length;let y,C;if(h){const P=J1(a.rtl,this.x,this.width);for(e.x=$A(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=P.textAlign(a.footerAlign),s.textBaseline="middle",y=sh(a.footerFont),s.fillStyle=a.footerColor,s.font=y.string,C=0;C<h;++C)s.fillText(l[C],P.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+a.footerSpacing}}drawBackground(e,s,a,l){const{xAlign:h,yAlign:y}=this,{x:C,y:P}=e,{width:j,height:te}=a,{topLeft:he,topRight:Ce,bottomLeft:Le,bottomRight:je}=q1(l.cornerRadius);s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=l.borderWidth,s.beginPath(),s.moveTo(C+he,P),"top"===y&&this.drawCaret(e,s,a,l),s.lineTo(C+j-Ce,P),s.quadraticCurveTo(C+j,P,C+j,P+Ce),"center"===y&&"right"===h&&this.drawCaret(e,s,a,l),s.lineTo(C+j,P+te-je),s.quadraticCurveTo(C+j,P+te,C+j-je,P+te),"bottom"===y&&this.drawCaret(e,s,a,l),s.lineTo(C+Le,P+te),s.quadraticCurveTo(C,P+te,C,P+te-Le),"center"===y&&"left"===h&&this.drawCaret(e,s,a,l),s.lineTo(C,P+he),s.quadraticCurveTo(C,P,C+he,P),s.closePath(),s.fill(),l.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,a=this.$animations,l=a&&a.x,h=a&&a.y;if(l||h){const y=sS[e.position].call(this,this._active,this._eventPosition);if(!y)return;const C=this._size=g4(this,e),P=Object.assign({},y,this._size),j=_4(s,e,P),te=y4(e,P,j,s);(l._to!==te.x||h._to!==te.y)&&(this.xAlign=j.xAlign,this.yAlign=j.yAlign,this.width=C.width,this.height=C.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,te))}}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const y=Kp(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=a,this.drawBackground(h,e,l,s),$Y(e,s.textDirection),h.y+=y.top,this.drawTitle(h,e,s),this.drawBody(h,e,s),this.drawFooter(h,e,s),QY(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,l=e.map(({datasetIndex:C,index:P})=>{const j=this.chart.getDatasetMeta(C);if(!j)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:j.data[P],index:P}}),h=!CA(a,l),y=this._positionChanged(l,s);(h||y)&&(this._active=l,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,a=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(e,h,s,a),C=this._positionChanged(y,e),P=s||!CA(y,h)||C;return P&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),P}_getActiveElements(e,s,a,l){const h=this.options;if("mouseout"===e.type)return[];if(!l)return s;const y=this.chart.getElementsAtEventForMode(e,h.mode,h,a);return h.reverse&&y.reverse(),y}_positionChanged(e,s){const{caretX:a,caretY:l,options:h}=this,y=sS[h.position].call(this,e,s);return!1!==y&&(a!==y.x||l!==y.y)}}return t.positioners=sS,t})();var w4={id:"tooltip",_element:x4,positioners:sS,afterInit(t,i,e){e&&(t.tooltip=new x4({chart:t,options:e}))},beforeUpdate(t,i,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,i,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const i=t.tooltip,e={tooltip:i};!1!==t.notifyPlugins("beforeTooltipDraw",e)&&(i&&i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent(t,i){t.tooltip&&t.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Qv,title(t){if(t.length>0){const i=t[0],e=i.chart.data.labels,s=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(s>0&&i.dataIndex<s)return e[i.dataIndex]}return""},afterTitle:Qv,beforeBody:Qv,beforeLabel:Qv,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");const e=t.formattedValue;return Sa(e)||(i+=e),i},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Qv,afterBody:Qv,beforeFooter:Qv,footer:Qv,afterFooter:Qv}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},E$=Object.freeze({__proto__:null,Decimation:e$,Filler:d4,Legend:f4,SubTitle:b$,Title:m4,Tooltip:w4});class oS extends tw{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:a,label:l}of e)s[a]===l&&s.splice(a,1);this._addedLabels=[]}super.init(i)}parse(i,e){if(Sa(i))return null;const s=this.getLabels();return((t,i)=>null===t?null:Bh(Math.round(t),0,i))(e=isFinite(e)&&s[e]===i?e:function(t,i,e,s){const a=t.indexOf(i);return-1===a?((t,i,e,s)=>("string"==typeof i?(e=t.push(i)-1,s.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(t,i,e,s):a!==t.lastIndexOf(i)?e:a}(s,i,so(e,i),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(s=0),e||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const i=this.min,e=this.max,s=this.options.offset,a=[];let l=this.getLabels();l=0===i&&e===l.length-1?l:l.slice(i,e+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let h=i;h<=e;h++)a.push({value:h});return a}getLabelForValue(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function C4(t,i,{horizontal:e,minRotation:s}){const a=$_(s),l=(e?Math.sin(a):Math.cos(a))||.001;return Math.min(i/l,.75*i*(""+t).length)}oS.id="category",oS.defaults={ticks:{callback:oS.prototype.getLabelForValue}};class QA extends tw{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Sa(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:l}=this;const h=C=>a=e?a:C,y=C=>l=s?l:C;if(i){const C=Jy(a),P=Jy(l);C<0&&P<0?y(0):C>0&&P>0&&h(0)}if(a===l){let C=1;(l>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(C=Math.abs(.05*l)),y(l+C),i||h(a-C)}this.min=a,this.max=l}getTickLimit(){const i=this.options.ticks;let a,{maxTicksLimit:e,stepSize:s}=i;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let s=this.getTickLimit();s=Math.max(2,s);const h=function(t,i){const e=[],{bounds:a,step:l,min:h,max:y,precision:C,count:P,maxTicks:j,maxDigits:te,includeBounds:he}=t,Ce=l||1,Le=j-1,{min:je,max:tt}=i,vt=!Sa(h),Wt=!Sa(y),nn=!Sa(P),mn=(tt-je)/(te+1);let qn,ai,Oi,Pi,hn=gY((tt-je)/Le/Ce)*Ce;if(hn<1e-14&&!vt&&!Wt)return[{value:je},{value:tt}];Pi=Math.ceil(tt/hn)-Math.floor(je/hn),Pi>Le&&(hn=gY(Pi*hn/Le/Ce)*Ce),Sa(C)||(qn=Math.pow(10,C),hn=Math.ceil(hn*qn)/qn),"ticks"===a?(ai=Math.floor(je/hn)*hn,Oi=Math.ceil(tt/hn)*hn):(ai=je,Oi=tt),vt&&Wt&&l&&function(t,i){const e=Math.round(t);return e-i<=t&&e+i>=t}((y-h)/l,hn/1e3)?(Pi=Math.round(Math.min((y-h)/hn,j)),hn=(y-h)/Pi,ai=h,Oi=y):nn?(ai=vt?h:ai,Oi=Wt?y:Oi,Pi=P-1,hn=(Oi-ai)/Pi):(Pi=(Oi-ai)/hn,Pi=BT(Pi,Math.round(Pi),hn/1e3)?Math.round(Pi):Math.ceil(Pi));const ws=Math.max(yY(hn),yY(ai));qn=Math.pow(10,Sa(C)?ws:C),ai=Math.round(ai*qn)/qn,Oi=Math.round(Oi*qn)/qn;let fo=0;for(vt&&(he&&ai!==h?(e.push({value:h}),ai<h&&fo++,BT(Math.round((ai+fo*hn)*qn)/qn,h,C4(h,mn,t))&&fo++):ai<h&&fo++);fo<Pi;++fo)e.push({value:Math.round((ai+fo*hn)*qn)/qn});return Wt&&he&&Oi!==y?e.length&&BT(e[e.length-1].value,y,C4(y,mn,t))?e[e.length-1].value=y:e.push({value:y}):(!Wt||Oi===y)&&e.push({value:Oi}),e}({maxTicks:s,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&_Y(h,this,"value"),i.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const i=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&i.length){const a=(s-e)/Math.max(i.length-1,1)/2;e-=a,s+=a}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(i){return GT(i,this.chart.options.locale,this.options.ticks.format)}}class JA extends QA{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=qu(i)?i:0,this.max=qu(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,s=$_(this.options.ticks.minRotation),a=(i?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/a))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}function M4(t){return t/Math.pow(10,Math.floor(Xg(t)))==1}JA.id="linear",JA.defaults={ticks:{callback:UA.formatters.numeric}};class wR extends tw{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const s=QA.prototype.parse.apply(this,[i,e]);if(0!==s)return qu(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=qu(i)?Math.max(0,i):null,this.max=qu(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let s=this.min,a=this.max;const l=C=>s=i?s:C,h=C=>a=e?a:C,y=(C,P)=>Math.pow(10,Math.floor(Xg(C))+P);s===a&&(s<=0?(l(1),h(10)):(l(y(s,-1)),h(y(a,1)))),s<=0&&l(y(a,-1)),a<=0&&h(y(s,1)),this._zero&&this.min!==this._suggestedMin&&s===y(this.min,0)&&l(y(s,-1)),this.min=s,this.max=a}buildTicks(){const i=this.options,s=function(t,i){const e=Math.floor(Xg(i.max)),s=Math.ceil(i.max/Math.pow(10,e)),a=[];let l=Qg(t.min,Math.pow(10,Math.floor(Xg(i.min)))),h=Math.floor(Xg(l)),y=Math.floor(l/Math.pow(10,h)),C=h<0?Math.pow(10,Math.abs(h)):1;do{a.push({value:l,major:M4(l)}),++y,10===y&&(y=1,++h,C=h>=0?1:C),l=Math.round(y*Math.pow(10,h)*C)/C}while(h<e||h===e&&y<s);const P=Qg(t.max,l);return a.push({value:P,major:M4(l)}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&_Y(s,this,"value"),i.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(i){return void 0===i?"0":GT(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Xg(i),this._valueRange=Xg(this.max)-Xg(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Xg(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function CR(t){const i=t.ticks;if(i.display&&t.display){const e=Kp(i.backdropPadding);return so(i.font&&i.font.size,Yo.font.size)+e.height}return 0}function O$(t,i,e){return e=Wl(e)?e:[e],{w:qq(t,i.string,e),h:e.length*i.lineHeight}}function T4(t,i,e,s,a){return t===s||t===a?{start:i-e/2,end:i+e/2}:t<s||t>a?{start:i-e,end:i}:{start:i,end:i+e}}function F$(t,i,e,s,a){const l=Math.abs(Math.sin(e)),h=Math.abs(Math.cos(e));let y=0,C=0;s.start<i.l?(y=(i.l-s.start)/l,t.l=Math.min(t.l,i.l-y)):s.end>i.r&&(y=(s.end-i.r)/l,t.r=Math.max(t.r,i.r+y)),a.start<i.t?(C=(i.t-a.start)/h,t.t=Math.min(t.t,i.t-C)):a.end>i.b&&(C=(a.end-i.b)/h,t.b=Math.max(t.b,i.b+C))}function z$(t){return 0===t||180===t?"center":t<180?"left":"right"}function B$(t,i,e){return"right"===e?t-=i:"center"===e&&(t-=i/2),t}function Y$(t,i,e){return 90===e||270===e?t-=i/2:(e>270||e<90)&&(t-=i),t}function S4(t,i,e,s){const{ctx:a}=t;if(e)a.arc(t.xCenter,t.yCenter,i,0,Ol);else{let l=t.getPointPosition(0,i);a.moveTo(l.x,l.y);for(let h=1;h<s;h++)l=t.getPointPosition(h,i),a.lineTo(l.x,l.y)}}wR.id="logarithmic",wR.defaults={ticks:{callback:UA.formatters.logarithmic,major:{enabled:!0}}};class eC extends QA{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=Kp(CR(this.options)/2),e=this.width=this.maxWidth-i.width,s=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+s/2+i.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=qu(i)&&!isNaN(i)?i:0,this.max=qu(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/CR(this.options))}generateTickLabels(i){QA.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,s)=>{const a=Gl(this.options.pointLabels.callback,[e,s],this);return a||0===a?a:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const i=this.options;i.display&&i.pointLabels.display?function(t){const i={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},i),s=[],a=[],l=t._pointLabels.length,h=t.options.pointLabels,y=h.centerPointLabels?Uc/l:0;for(let C=0;C<l;C++){const P=h.setContext(t.getPointLabelContext(C));a[C]=P.padding;const j=t.getPointPosition(C,t.drawingArea+a[C],y),te=sh(P.font),he=O$(t.ctx,te,t._pointLabels[C]);s[C]=he;const Ce=ig(t.getIndexAngle(C)+y),Le=Math.round(HO(Ce));F$(e,i,Ce,T4(Le,j.x,he.w,0,180),T4(Le,j.y,he.h,90,270))}t.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),t._pointLabelItems=function(t,i,e){const s=[],a=t._pointLabels.length,l=t.options,h=CR(l)/2,y=t.drawingArea,C=l.pointLabels.centerPointLabels?Uc/a:0;for(let P=0;P<a;P++){const j=t.getPointPosition(P,y+h+e[P],C),te=Math.round(HO(ig(j.angle+wu))),he=i[P],Ce=Y$(j.y,he.h,te),Le=z$(te),je=B$(j.x,he.w,Le);s.push({x:j.x,y:Ce,textAlign:Le,left:je,top:Ce,right:je+he.w,bottom:Ce+he.h})}return s}(t,s,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,s,a){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,s,a))}getIndexAngle(i){return ig(i*(Ol/(this._pointLabels.length||1))+$_(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Sa(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Sa(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const s=e[i];return function(t,i,e){return S0(t,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,s)}}getPointPosition(i,e,s=0){const a=this.getIndexAngle(i)-wu+s;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:s,right:a,bottom:l}=this._pointLabelItems[i];return{left:e,top:s,right:a,bottom:l}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const s=this.ctx;s.save(),s.beginPath(),S4(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=i,s.fill(),s.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:s,grid:a}=e,l=this._pointLabels.length;let h,y,C;if(e.pointLabels.display&&function(t,i){const{ctx:e,options:{pointLabels:s}}=t;for(let a=i-1;a>=0;a--){const l=s.setContext(t.getPointLabelContext(a)),h=sh(l.font),{x:y,y:C,textAlign:P,left:j,top:te,right:he,bottom:Ce}=t._pointLabelItems[a],{backdropColor:Le}=l;if(!Sa(Le)){const je=Kp(l.backdropPadding);e.fillStyle=Le,e.fillRect(j-je.left,te-je.top,he-j+je.width,Ce-te+je.height)}Jx(e,t._pointLabels[a],y,C+h.lineHeight/2,h,{color:l.color,textAlign:P,textBaseline:"middle"})}}(this,l),a.display&&this.ticks.forEach((P,j)=>{0!==j&&(y=this.getDistanceFromCenterForValue(P.value),function(t,i,e,s){const a=t.ctx,l=i.circular,{color:h,lineWidth:y}=i;!l&&!s||!h||!y||e<0||(a.save(),a.strokeStyle=h,a.lineWidth=y,a.setLineDash(i.borderDash),a.lineDashOffset=i.borderDashOffset,a.beginPath(),S4(t,e,l,s),a.closePath(),a.stroke(),a.restore())}(this,a.setContext(this.getContext(j-1)),y,l))}),s.display){for(i.save(),h=l-1;h>=0;h--){const P=s.setContext(this.getPointLabelContext(h)),{color:j,lineWidth:te}=P;!te||!j||(i.lineWidth=te,i.strokeStyle=j,i.setLineDash(P.borderDash),i.lineDashOffset=P.borderDashOffset,y=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),C=this.getPointPosition(h,y),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(C.x,C.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let l,h;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((y,C)=>{if(0===C&&!e.reverse)return;const P=s.setContext(this.getContext(C)),j=sh(P.font);if(l=this.getDistanceFromCenterForValue(this.ticks[C].value),P.showLabelBackdrop){i.font=j.string,h=i.measureText(y.label).width,i.fillStyle=P.backdropColor;const te=Kp(P.backdropPadding);i.fillRect(-h/2-te.left,-l-j.size/2-te.top,h+te.width,j.size+te.height)}Jx(i,y.label,0,-l,j,{color:P.color})}),i.restore()}drawTitle(){}}eC.id="radialLinear",eC.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:UA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},eC.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},eC.descriptors={angleLines:{_fallback:"grid"}};const XA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ym=Object.keys(XA);function j$(t,i){return t-i}function k4(t,i){if(Sa(i))return null;const e=t._adapter,{parser:s,round:a,isoWeekday:l}=t._parseOpts;let h=i;return"function"==typeof s&&(h=s(h)),qu(h)||(h="string"==typeof s?e.parse(h,s):e.parse(h)),null===h?null:(a&&(h="week"!==a||!zT(l)&&!0!==l?e.startOf(h,a):e.startOf(h,"isoWeek",l)),+h)}function E4(t,i,e,s){const a=ym.length;for(let l=ym.indexOf(t);l<a-1;++l){const h=XA[ym[l]],y=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((e-i)/(y*h.size))<=s)return ym[l]}return ym[a-1]}function D4(t,i,e){if(e){if(e.length){const{lo:s,hi:a}=XO(e,i);t[e[s]>=i?e[s]:e[a]]=!0}}else t[i]=!0}function A4(t,i,e){const s=[],a={},l=i.length;let h,y;for(h=0;h<l;++h)y=i[h],a[y]=h,s.push({value:y,major:!1});return 0!==l&&e?function(t,i,e,s){const a=t._adapter,l=+a.startOf(i[0].value,s),h=i[i.length-1].value;let y,C;for(y=l;y<=h;y=+a.add(y,1,s))C=e[y],C>=0&&(i[C].major=!0);return i}(t,s,a,e):s}let MR=(()=>{class t extends tw{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s){const a=e.time||(e.time={}),l=this._adapter=new b9._date(e.adapters.date);FT(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return void 0===e?null:k4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:C}=this.getUserBounds();function P(j){!y&&!isNaN(j.min)&&(l=Math.min(l,j.min)),!C&&!isNaN(j.max)&&(h=Math.max(h,j.max))}(!y||!C)&&(P(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&P(this.getMinMax(!1))),l=qu(l)&&!isNaN(l)?l:+s.startOf(Date.now(),a),h=qu(h)&&!isNaN(h)?h:+s.endOf(Date.now(),a)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,l="labels"===a.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,C=function(t,i,e){let s=0,a=t.length;for(;s<a&&t[s]<i;)s++;for(;a>s&&t[a-1]>e;)a--;return s>0||a<t.length?t.slice(s,a):t}(l,h,this.max);return this._unit=s.unit||(a.autoSkip?E4(s.minUnit,this.min,this.max,this._getLabelCapacity(h)):function(t,i,e,s,a){for(let l=ym.length-1;l>=ym.indexOf(e);l--){const h=ym[l];if(XA[h].common&&t._adapter.diff(a,s,h)>=i-1)return h}return ym[e?ym.indexOf(e):0]}(this,C.length,s.minUnit,this.min,this.max)),this._majorUnit=a.major.enabled&&"year"!==this._unit?function(t){for(let i=ym.indexOf(t)+1,e=ym.length;i<e;++i)if(XA[ym[i]].common)return ym[i]}(this._unit):void 0,this.initOffsets(l),e.reverse&&C.reverse(),A4(this,C,this._majorUnit)}initOffsets(e){let l,h,s=0,a=0;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),s=1===e.length?1-l:(this.getDecimalForValue(e[1])-l)/2,h=this.getDecimalForValue(e[e.length-1]),a=1===e.length?h:(h-this.getDecimalForValue(e[e.length-2]))/2);const y=e.length<3?.5:.25;s=Bh(s,0,y),a=Bh(a,0,y),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,l=this.options,h=l.time,y=h.unit||E4(h.minUnit,s,a,this._getLabelCapacity(s)),C=so(h.stepSize,1),P="week"===y&&h.isoWeekday,j=zT(P)||!0===P,te={};let Ce,Le,he=s;if(j&&(he=+e.startOf(he,"isoWeek",P)),he=+e.startOf(he,j?"day":y),e.diff(a,s,y)>1e5*C)throw new Error(s+" and "+a+" are too far apart with stepSize of "+C+" "+y);const je="data"===l.ticks.source&&this.getDataTimestamps();for(Ce=he,Le=0;Ce<a;Ce=+e.add(Ce,C,y),Le++)D4(te,Ce,je);return(Ce===a||"ticks"===l.bounds||1===Le)&&D4(te,Ce,je),Object.keys(te).sort((tt,vt)=>tt-vt).map(tt=>+tt)}getLabelForValue(e){const a=this.options.time;return this._adapter.format(e,a.tooltipFormat?a.tooltipFormat:a.displayFormats.datetime)}_tickFormatFunction(e,s,a,l){const h=this.options,y=h.time.displayFormats,C=this._unit,P=this._majorUnit,te=P&&y[P],he=a[s],Le=this._adapter.format(e,l||(P&&te&&he&&he.major?te:C&&y[C])),je=h.ticks.callback;return je?Gl(je,[Le,s,a],this):Le}generateTickLabels(e){let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s],l.label=this._tickFormatFunction(l.value,s,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,l=$_(this.isHorizontal()?s.maxRotation:s.minRotation),h=Math.cos(l),y=Math.sin(l),C=this._resolveTickFontOptions(0).size;return{w:a*h+C*y,h:a*y+C*h}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,l=a[s.unit]||a.millisecond,h=this._tickFormatFunction(e,0,A4(this,[e],this._majorUnit),l),y=this._getLabelSize(h),C=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return C>0?C:1}getDataTimestamps(){let s,a,e=this._cache.data||[];if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(s=0,a=l.length;s<a;++s)e=e.concat(l[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const l=this.getLabels();for(s=0,a=l.length;s<a;++s)e.push(k4(this,l[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return FY(e.sort(j$))}}return t.id="time",t.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},t})();function KA(t,i,e){let l,h,y,C,s=0,a=t.length-1;e?(i>=t[s].pos&&i<=t[a].pos&&({lo:s,hi:a}=Xv(t,"pos",i)),({pos:l,time:y}=t[s]),({pos:h,time:C}=t[a])):(i>=t[s].time&&i<=t[a].time&&({lo:s,hi:a}=Xv(t,"time",i)),({time:l,pos:y}=t[s]),({time:h,pos:C}=t[a]));const P=h-l;return P?y+(C-y)*(i-l)/P:y}class eI extends MR{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=KA(e,this.min),this._tableRange=KA(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:s}=this,a=[],l=[];let h,y,C,P,j;for(h=0,y=i.length;h<y;++h)P=i[h],P>=e&&P<=s&&a.push(P);if(a.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(h=0,y=a.length;h<y;++h)j=a[h+1],C=a[h-1],P=a[h],Math.round((j+C)/2)!==P&&l.push({time:P,pos:h/(y-1)});return l}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return i=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,i=this._cache.all=i,i}getDecimalForValue(i){return(KA(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,s=this.getDecimalForPixel(i)/e.factor-e.end;return KA(this._table,s*this._tableRange+this._minPos,!0)}}eI.id="timeseries",eI.defaults=MR.defaults;const $$=[v9,Q7,E$,Object.freeze({__proto__:null,CategoryScale:oS,LinearScale:JA,LogarithmicScale:wR,RadialLinearScale:eC,TimeScale:MR,TimeSeriesScale:eI})],tI=function(t,i){return t===i||t!=t&&i!=i},nI=function(t,i){for(var e=t.length;e--;)if(tI(t[e][0],i))return e;return-1};var tQ=Array.prototype.splice;function tC(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}tC.prototype.clear=function(){this.__data__=[],this.size=0},tC.prototype.delete=function(t){var i=this.__data__,e=nI(i,t);return!(e<0||(e==i.length-1?i.pop():tQ.call(i,e,1),--this.size,0))},tC.prototype.get=function(t){var i=this.__data__,e=nI(i,t);return e<0?void 0:i[e][1]},tC.prototype.has=function(t){return nI(this.__data__,t)>-1},tC.prototype.set=function(t,i){var e=this.__data__,s=nI(e,t);return s<0?(++this.size,e.push([t,i])):e[s][1]=i,this};const iI=tC,I4="object"==typeof global&&global&&global.Object===Object&&global;var vQ="object"==typeof self&&self&&self.Object===Object&&self;const nC=I4||vQ||Function("return this")();var xQ=nC.Symbol,L4=Object.prototype,wQ=L4.hasOwnProperty,CQ=L4.toString,aS=xQ?xQ.toStringTag:void 0;var kQ=Object.prototype.toString;var P4=xQ?xQ.toStringTag:void 0;const sI=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":P4&&P4 in Object(t)?function(t){var i=wQ.call(t,aS),e=t[aS];try{t[aS]=void 0;var s=!0}catch(l){}var a=CQ.call(t);return s&&(i?t[aS]=e:delete t[aS]),a}(t):function(t){return kQ.call(t)}(t)},nw=function(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},TR=function(t){if(!nw(t))return!1;var i=sI(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},SR=nC["__core-js_shared__"];var O4=function(){var t=/[^.]+$/.exec(SR&&SR.keys&&SR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var UQ=Function.prototype.toString;var GQ=/^\[object .+?Constructor\]$/,XQ=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const eJ=function(t){return!(!nw(t)||function(t){return!!O4&&O4 in t}(t))&&(TR(t)?XQ:GQ).test(function(t){if(null!=t){try{return UQ.call(t)}catch(i){}try{return t+""}catch(i){}}return""}(t))},kR=function(t,i){var e=function(t,i){return null==t?void 0:t[i]}(t,i);return eJ(e)?e:void 0},R4=kR(nC,"Map"),lS=kR(Object,"create");var hJ=Object.prototype.hasOwnProperty;var gJ=Object.prototype.hasOwnProperty;function iC(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}iC.prototype.clear=function(){this.__data__=lS?lS(null):{},this.size=0},iC.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},iC.prototype.get=function(t){var i=this.__data__;if(lS){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return hJ.call(i,t)?i[t]:void 0},iC.prototype.has=function(t){var i=this.__data__;return lS?void 0!==i[t]:gJ.call(i,t)},iC.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=lS&&void 0===i?"__lodash_hash_undefined__":i,this};const F4=iC,oI=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function rC(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}rC.prototype.clear=function(){this.size=0,this.__data__={hash:new F4,map:new(R4||iI),string:new F4}},rC.prototype.delete=function(t){var i=oI(this,t).delete(t);return this.size-=i?1:0,i},rC.prototype.get=function(t){return oI(this,t).get(t)},rC.prototype.has=function(t){return oI(this,t).has(t)},rC.prototype.set=function(t,i){var e=oI(this,t),s=e.size;return e.set(t,i),this.size+=e.size==s?0:1,this};const RJ=rC;function sC(t){var i=this.__data__=new iI(t);this.size=i.size}sC.prototype.clear=function(){this.__data__=new iI,this.size=0},sC.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},sC.prototype.get=function(t){return this.__data__.get(t)},sC.prototype.has=function(t){return this.__data__.has(t)},sC.prototype.set=function(t,i){var e=this.__data__;if(e instanceof iI){var s=e.__data__;if(!R4||s.length<199)return s.push([t,i]),this.size=++e.size,this;e=this.__data__=new RJ(s)}return e.set(t,i),this.size=e.size,this};const BJ=sC,aI=function(){try{var t=kR(Object,"defineProperty");return t({},"",{}),t}catch(i){}}(),ER=function(t,i,e){"__proto__"==i&&aI?aI(t,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[i]=e},DR=function(t,i,e){(void 0!==e&&!tI(t[i],e)||void 0===e&&!(i in t))&&ER(t,i,e)},ZJ=function(i,e,s){for(var a=-1,l=Object(i),h=s(i),y=h.length;y--;){var C=h[++a];if(!1===e(l[C],C,l))break}return i};var N4="object"==typeof exports&&exports&&!exports.nodeType&&exports,z4=N4&&"object"==typeof module&&module&&!module.nodeType&&module,B4=z4&&z4.exports===N4?nC.Buffer:void 0,Y4=B4?B4.allocUnsafe:void 0;const H4=nC.Uint8Array,KJ=function(t,i){var e=i?function(t){var i=new t.constructor(t.byteLength);return new H4(i).set(new H4(t)),i}(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var V4=Object.create;const iX=function(){function t(){}return function(i){if(!nw(i))return{};if(V4)return V4(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}(),U4=function(t,i){return function(e){return t(i(e))}}(Object.getPrototypeOf,Object);var oX=Object.prototype;const j4=function(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||oX)},cS=function(t){return null!=t&&"object"==typeof t},Z4=function(t){return cS(t)&&"[object Arguments]"==sI(t)};var W4=Object.prototype,pX=W4.hasOwnProperty,fX=W4.propertyIsEnumerable;const AR=Z4(function(){return arguments}())?Z4:function(t){return cS(t)&&pX.call(t,"callee")&&!fX.call(t,"callee")},IR=Array.isArray,G4=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},LR=function(t){return null!=t&&G4(t.length)&&!TR(t)};var q4="object"==typeof exports&&exports&&!exports.nodeType&&exports,$4=q4&&"object"==typeof module&&module&&!module.nodeType&&module,Q4=$4&&$4.exports===q4?nC.Buffer:void 0;const J4=(Q4?Q4.isBuffer:void 0)||function(){return!1};var X4=Function.prototype.toString,AX=Object.prototype.hasOwnProperty,IX=X4.call(Object);var yc={};yc["[object Float32Array]"]=yc["[object Float64Array]"]=yc["[object Int8Array]"]=yc["[object Int16Array]"]=yc["[object Int32Array]"]=yc["[object Uint8Array]"]=yc["[object Uint8ClampedArray]"]=yc["[object Uint16Array]"]=yc["[object Uint32Array]"]=!0,yc["[object Arguments]"]=yc["[object Array]"]=yc["[object ArrayBuffer]"]=yc["[object Boolean]"]=yc["[object DataView]"]=yc["[object Date]"]=yc["[object Error]"]=yc["[object Function]"]=yc["[object Map]"]=yc["[object Number]"]=yc["[object Object]"]=yc["[object RegExp]"]=yc["[object Set]"]=yc["[object String]"]=yc["[object WeakMap]"]=!1;var K4="object"==typeof exports&&exports&&!exports.nodeType&&exports,uS=K4&&"object"==typeof module&&module&&!module.nodeType&&module,PR=uS&&uS.exports===K4&&I4.process,cK=function(){try{return uS&&uS.require&&uS.require("util").types||PR&&PR.binding&&PR.binding("util")}catch(i){}}(),tH=cK&&cK.isTypedArray;const nH=tH?function(t){return function(i){return t(i)}}(tH):function(t){return cS(t)&&G4(t.length)&&!!yc[sI(t)]},OR=function(t,i){if(("constructor"!==i||"function"!=typeof t[i])&&"__proto__"!=i)return t[i]};var pK=Object.prototype.hasOwnProperty;const mK=function(t,i,e){var s=t[i];(!pK.call(t,i)||!tI(s,e)||void 0===e&&!(i in t))&&ER(t,i,e)};var xK=/^(?:0|[1-9]\d*)$/;const iH=function(t,i){var e=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==e||"symbol"!=e&&xK.test(t))&&t>-1&&t%1==0&&t<i};var MK=Object.prototype.hasOwnProperty;const SK=function(t,i){var e=IR(t),s=!e&&AR(t),a=!e&&!s&&J4(t),l=!e&&!s&&!a&&nH(t),h=e||s||a||l,y=h?function(t,i){for(var e=-1,s=Array(t);++e<t;)s[e]=i(e);return s}(t.length,String):[],C=y.length;for(var P in t)(i||MK.call(t,P))&&(!h||!("length"==P||a&&("offset"==P||"parent"==P)||l&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||iH(P,C)))&&y.push(P);return y};var AK=Object.prototype.hasOwnProperty;const LK=function(t){if(!nw(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=j4(t),e=[];for(var s in t)"constructor"==s&&(i||!AK.call(t,s))||e.push(s);return e},rH=function(t){return LR(t)?SK(t,!0):LK(t)},RK=function(t){return function(t,i,e,s){var a=!e;e||(e={});for(var l=-1,h=i.length;++l<h;){var y=i[l],C=s?s(e[y],t[y],y,e,t):void 0;void 0===C&&(C=t[y]),a?ER(e,y,C):mK(e,y,C)}return e}(t,rH(t))},NK=function(t,i,e,s,a,l,h){var y=OR(t,e),C=OR(i,e),P=h.get(C);if(P)DR(t,e,P);else{var j=l?l(y,C,e+"",t,i,h):void 0,te=void 0===j;if(te){var he=IR(C),Ce=!he&&J4(C),Le=!he&&!Ce&&nH(C);j=C,he||Ce||Le?IR(y)?j=y:function(t){return cS(t)&&LR(t)}(y)?j=function(t,i){var e=-1,s=t.length;for(i||(i=Array(s));++e<s;)i[e]=t[e];return i}(y):Ce?(te=!1,j=function(t,i){if(i)return t.slice();var e=t.length,s=Y4?Y4(e):new t.constructor(e);return t.copy(s),s}(C,!0)):Le?(te=!1,j=KJ(C,!0)):j=[]:function(t){if(!cS(t)||"[object Object]"!=sI(t))return!1;var i=U4(t);if(null===i)return!0;var e=AX.call(i,"constructor")&&i.constructor;return"function"==typeof e&&e instanceof e&&X4.call(e)==IX}(C)||AR(C)?(j=y,AR(y)?j=RK(y):(!nw(y)||TR(y))&&(j=function(t){return"function"!=typeof t.constructor||j4(t)?{}:iX(U4(t))}(C))):te=!1}te&&(h.set(C,j),a(j,C,s,l,h),h.delete(C)),DR(t,e,j)}},zK=function sH(t,i,e,s,a){t!==i&&ZJ(i,function(l,h){if(a||(a=new BJ),nw(l))NK(t,i,h,e,sH,s,a);else{var y=s?s(OR(t,h),l,h+"",t,i,a):void 0;void 0===y&&(y=l),DR(t,h,y)}},rH)},oH=function(t){return t},HK=function(t,i,e){switch(e.length){case 0:return t.call(i);case 1:return t.call(i,e[0]);case 2:return t.call(i,e[0],e[1]);case 3:return t.call(i,e[0],e[1],e[2])}return t.apply(i,e)};var aH=Math.max;const ZK=function(t){return function(){return t}};var QK=Date.now;const KK=function(t){var i=0,e=0;return function(){var s=QK(),a=16-(s-e);if(e=s,a>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(void 0,arguments)}}(aI?function(t,i){return aI(t,"toString",{configurable:!0,enumerable:!1,value:ZK(i),writable:!0})}:oH),tee=function(t,i){return KK(function(t,i,e){return i=aH(void 0===i?t.length-1:i,0),function(){for(var s=arguments,a=-1,l=aH(s.length-i,0),h=Array(l);++a<l;)h[a]=s[i+a];a=-1;for(var y=Array(i+1);++a<i;)y[a]=s[a];return y[i]=e(h),HK(t,this,y)}}(t,i,oH),t+"")},lH=function(t){return tee(function(i,e){var s=-1,a=e.length,l=a>1?e[a-1]:void 0,h=a>2?e[2]:void 0;for(l=t.length>3&&"function"==typeof l?(a--,l):void 0,h&&function(t,i,e){if(!nw(e))return!1;var s=typeof i;return!!("number"==s?LR(e)&&iH(i,e.length):"string"==s&&i in e)&&tI(e[i],t)}(e[0],e[1],h)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var y=e[s];y&&t(i,y,s)}return i})}(function(t,i,e){zK(t,i,e)});let oee=(()=>{class t{constructor(){this.colorschemesOptions=new mc(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),aee=(()=>{class t{constructor(e,s,a){this.element=e,this.zone=s,this.themeService=a,this.type="bar",this.plugins=[],this.chartClick=new o.vpe,this.chartHover=new o.vpe,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(cu()).subscribe(l=>this.themeChanged(l)))}ngOnChanges(e){const s=["type"],a=Object.getOwnPropertyNames(e);if(a.some(l=>s.includes(l))||a.every(l=>e[l].isFirstChange()))this.render();else{const l=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,l.data),Object.assign(this.chart.config.plugins,l.plugins),Object.assign(this.chart.config.options,l.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new X1(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>{var s;return null===(s=this.chart)||void 0===s?void 0:s.update(e)})}hideDataset(e,s){this.chart&&(this.chart.getDatasetMeta(e).hidden=s,this.update())}isDatasetHidden(e){var s,a;return null===(a=null===(s=this.chart)||void 0===s?void 0:s.getDatasetMeta(e))||void 0===a?void 0:a.hidden}toBase64Image(){var e;return null===(e=this.chart)||void 0===e?void 0:e.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return lH({onHover:(e,s)=>{s&&!s.length||this.chartHover.emit({event:e,active:s})},onClick:(e,s)=>{this.chartClick.emit({event:e,active:s})}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(oee))},t.\u0275dir=o.lG2({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",plugins:"plugins",legend:"legend",data:"data",options:"options",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[o.TTD]}),t})();const lee=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],cee={datasets:{line:{backgroundColor:t=>zf(Bf(t.datasetIndex),.4),borderColor:t=>zf(Bf(t.datasetIndex),1),pointBackgroundColor:t=>zf(Bf(t.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:t=>zf(Bf(t.datasetIndex),.8)},bar:{backgroundColor:t=>zf(Bf(t.datasetIndex),.6),borderColor:t=>zf(Bf(t.datasetIndex),1),hoverBackgroundColor:t=>zf(Bf(t.datasetIndex),.8),hoverBorderColor:t=>zf(Bf(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>zf(Bf(t.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:t=>zf(Bf(t.dataIndex),1),hoverBorderColor:t=>zf(Bf(t.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>zf(Bf(t.dataIndex),.6),borderColor:t=>zf(Bf(t.dataIndex),1),hoverBackgroundColor:t=>zf(Bf(t.dataIndex),.8),hoverBorderColor:t=>zf(Bf(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function zf(t,i){return"rgba("+t.concat(i).join(",")+")"}function RR(t,i){return Math.floor(Math.random()*(i-t+1))+t}function Bf(t=0){return lee[t]||[RR(0,255),RR(0,255),RR(0,255)]}X1.register(m4,w4,d4,f4,lR,iS,K6,JA,oS,_6,rS,aR,nS,x6,eC,b6,v6,y6,w6,eI);let dee=(()=>{class t{constructor(e){(null==e?void 0:e.plugins)&&X1.register(null==e?void 0:e.plugins);const s=lH(cee,(null==e?void 0:e.defaults)||{});Yo.set(s)}static forRoot(e){return{ngModule:t,providers:[{provide:cH,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(cH,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[]]}),t})(),cH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();function hee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.TgZ(7,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().acceptOrder(a)}),o._uU(8,"Accept Order"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function pee(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,hee,9,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","await"==e.data.status)}}function fee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.TgZ(7,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().completeOrder(a)}),o._uU(8,"Complete Order"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function mee(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,fee,9,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","processing"==e.data.status)}}function gee(t,i){if(1&t&&(o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function _ee(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,gee,7,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","completed"==e.data.status)}}const yee=function(){return{color:"red"}};function vee(t,i){if(1&t&&(o.TgZ(0,"li",17),o._UZ(1,"i",19),o.TgZ(2,"span",20),o._uU(3),o.qZA(),o._uU(4," --- "),o.TgZ(5,"span",21),o._uU(6),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngStyle",o.DdM(3,yee)),o.xp6(2),o.Oqu(e.id),o.xp6(3),o.hij("",e.data.quantity," unit")}}function bee(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,vee,7,4,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf",e.data.lowestmargin>e.data.quantity)}}const xee=function(){return{margin:"15px"}},wee=function(){return{position:"sticky","margin-top":"10px"}},Cee=function(){return{color:"grey"}},Mee=function(){return{"margin-top":"10px","margin-bottom":"20px"}},uH=function(){return{float:"left",margin:"15px"}},Tee=function(){return{float:"right",margin:"10px"}},See=function(){return{"font-size":"30px","font-weight":"bold",color:"blue"}},kee=function(){return{position:"relative",height:"96.6",width:"96.6vw","margin-top":"30px"}};let Eee=(()=>{class t{constructor(e,s,a,l,h){this.fauth=e,this.router=s,this.af=a,this.aR=l,this.http=h,this.info=[],this.awaitLength=0,this.processLength=0,this.completedLength=0,this.confirm=!1,this.processing=!1,this.completed=!1,this.newTotal=0,this.info2=[],this.ingredient=[],this.deduct=0,this.inventory=[],this.totalDeduct=0,this.months=[],this.order=[],this.topSale=[],this.topSale2=[],this.totalAmount=0,this.sales=[],this.arraytotal=[],this.barChartOptions={responsive:!0},this.barChartLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[{data:[],label:"Unit"}];const y=Z1();this.months=["Select Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").snapshotChanges().subscribe(C=>{this.info=[],this.awaitLength=0,this.processLength=0,this.completedLength=0,C.map(P=>{let j={id:P.payload.doc.id,data:P.payload.doc.data()};this.info.push(j),"await"==j.data.status?this.awaitLength+=1:"processing"==j.data.status?this.processLength+=1:"completed"==j.data.status&&(this.completedLength+=1)})}),this.aR.queryParams.subscribe(C=>{this.productname=C.productname,this.productprice=C.amount,this.action=C.action,this.tracking_number=C.trackingnumber,this.compname=C.compname,this.quantity=C.quantity}),"success"==this.action?(this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete(),this.af.collection("Supplier").get().subscribe(C=>{C.docs.forEach(P=>{P.data().compname===this.compname&&(this.id=P.id,console.log("asd"),this.af.collection("Supplier").doc(P.id).collection("menu").get().subscribe(j=>{console.log("asd"),j.docs.forEach(te=>{if(console.log(te.data()),te.data().brand===this.productname){console.log("asd");let he=te.data().quantity-this.quantity;this.af.collection("Supplier").doc(this.id).collection("menu").doc(te.id).update({quantity:he})}})}))})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(this.tracking_number).update({status:"paid",ordertimestamp:y.format("MMMM Do YYYY, h:mm a")})):"cancel"==this.action&&this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete(),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(C=>{this.info2=[],C.map(P=>{let j={id:P.payload.doc.id,data:P.payload.doc.data()};this.info2.push(j)})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(C=>{this.inventory=[],C.map(P=>{let j={id:P.payload.doc.id,data:P.payload.doc.data()};this.inventory.push(j)})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").valueChanges().subscribe(C=>{this.sales=[],this.order=C,this.order.forEach(P=>{if("completed"==P.status){let he={month:P.completetimestamp.split(" ")[0],quantity:P.quantity};this.sales.push(he)}}),this.arraytotal=[],this.sales.forEach(P=>{let j=this.barChartLabels.findIndex(te=>te==P.month);if(console.log(j),0==this.arraytotal.length)this.arraytotal[j]=parseInt(P.quantity);else if(null==this.arraytotal[j])this.arraytotal[j]=parseInt(P.quantity);else{let he=parseInt(this.arraytotal[j])+parseInt(P.quantity);this.arraytotal[j]=he}this.barChartData=[{data:this.arraytotal,label:"Unit"}]})})}ngAfterViewInit(){}showConfirm(){this.confirm=!this.confirm}showProcessing(){this.processing=!this.processing}showCompleted(){this.completed=!this.completed}acceptOrder(e){this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({status:"processing"})}completeOrder(e){var s=this;return Rr(function*(){let a=Z1();console.log(e),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({status:"completed"}),s.info2.forEach(l=>{e.data.productname==l.id&&(s.totalsale=l.data.totalsale,s.ingredient=l.data.ingredient)}),s.newTotal=parseInt(e.data.quantity)+s.totalsale,s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e.data.productname).update({totalsale:s.newTotal}),s.ingredient.forEach(l=>{console.log(l),s.inventory.forEach(h=>{h.id==l.ingredient&&(s.deduct=l.ingredientQuantity*parseInt(e.data.quantity),s.totalDeduct=h.data.quantity-s.deduct,console.log(s.totalDeduct),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(h.id).update({quantity:s.totalDeduct}))})}),s.info2.forEach(l=>{if(l.id==e.data.productname){let y=parseInt(l.data.stock)-e.data.quantity;s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(l.id).update({stock:y})}}),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({completetimestamp:a.format("MMMM Do YYYY, h:mm a")})})()}displayTop(e){console.log(e),this.totalAmount=0,this.topSale=[],this.order.forEach(s=>{"completed"==s.status&&s.completetimestamp.split(" ")[0]==e&&this.topSale.push(s)}),console.log(this.topSale),this.topSale.forEach(s=>{this.totalAmount+=s.amount*s.quantity})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(ea),o.Y36(Co),o.Y36(Jp),o.Y36(j_))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-home-page"]],decls:46,vars:39,consts:[[3,"ngStyle"],[1,"order"],[1,"o1",3,"click"],["id","top"],["header","TO BE CONFIRM",3,"visible","visibleChange"],["class","list-group",4,"ngFor","ngForOf"],[1,"o2",3,"click"],["header","TO BE DELIVERED",3,"visible","visibleChange"],[1,"o3",3,"click"],[1,"o4"],[1,"o5",3,"ngStyle"],[3,"options","ngStyle","onHide"],["p",""],[1,"o6",3,"ngStyle"],["baseChart","",3,"datasets","labels","options","plugins","legend"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],["mat-raised-button","",3,"click"],[1,"fas","fa-exclamation-triangle",3,"ngStyle"],["id","ingredient"],["id","quantity"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"h4",0),o._uU(2,"Order Activity"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o.NdJ("click",function(){return s.showConfirm()}),o.TgZ(5,"h3",3),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8,"TO BE CONFIRM"),o.qZA(),o.TgZ(9,"p-dialog",4),o.NdJ("visibleChange",function(h){return s.confirm=h}),o.YNc(10,pee,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.NdJ("click",function(){return s.showProcessing()}),o.TgZ(12,"h3",3),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15,"TO BE DELIVERED"),o.qZA(),o.TgZ(16,"p-dialog",7),o.NdJ("visibleChange",function(h){return s.processing=h}),o.YNc(17,mee,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(18,"div",8),o.NdJ("click",function(){return s.showCompleted()}),o.TgZ(19,"p"),o._uU(20,"COMPLETED"),o.qZA(),o.TgZ(21,"h3",3),o._uU(22),o.qZA(),o.TgZ(23,"p-dialog",7),o.NdJ("visibleChange",function(h){return s.completed=h}),o.YNc(24,_ee,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(25,"div",9),o.TgZ(26,"h5",0),o._uU(27,"Quantity in Hand "),o._UZ(28,"br"),o.TgZ(29,"h6",0),o._uU(30,"These ingredients are low stock"),o.qZA(),o.qZA(),o.YNc(31,bee,2,1,"ul",5),o.qZA(),o.qZA(),o._UZ(32,"div"),o.TgZ(33,"div",10),o.TgZ(34,"h4",0),o._uU(35,"Monthly Sales"),o.qZA(),o.TgZ(36,"p-dropdown",11,12),o.NdJ("onHide",function(){o.CHM(a);const h=o.MAs(37);return s.displayTop(h.value)}),o.qZA(),o.TgZ(38,"p",0),o._uU(39),o.ALo(40,"number"),o.qZA(),o.qZA(),o.TgZ(41,"div",13),o.TgZ(42,"h4",0),o._uU(43,"Number of Unit sold"),o.qZA(),o.TgZ(44,"div"),o._UZ(45,"canvas",14),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(30,xee)),o.xp6(5),o.Oqu(s.awaitLength),o.xp6(3),o.Q6J("visible",s.confirm),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(3),o.Oqu(s.processLength),o.xp6(3),o.Q6J("visible",s.processing),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(5),o.Oqu(s.completedLength),o.xp6(1),o.Q6J("visible",s.completed),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(2),o.Q6J("ngStyle",o.DdM(31,wee)),o.xp6(3),o.Q6J("ngStyle",o.DdM(32,Cee)),o.xp6(2),o.Q6J("ngForOf",s.inventory),o.xp6(2),o.Q6J("ngStyle",o.DdM(33,Mee)),o.xp6(1),o.Q6J("ngStyle",o.DdM(34,uH)),o.xp6(2),o.Q6J("options",s.months)("ngStyle",s.month)("ngStyle",o.DdM(35,Tee)),o.xp6(2),o.Q6J("ngStyle",o.DdM(36,See)),o.xp6(1),o.hij("RM ",o.xi3(40,27,s.totalAmount,"1.2-2"),""),o.xp6(2),o.Q6J("ngStyle",o.DdM(37,kee)),o.xp6(1),o.Q6J("ngStyle",o.DdM(38,uH)),o.xp6(3),o.Q6J("datasets",s.barChartData)("labels",s.barChartLabels)("options",s.barChartOptions)("plugins",s.barChartPlugins)("legend",s.barChartLegend))},directives:[Z_,Gi,lA,ft,xA,aee,cn,xu],pipes:[Cu],styles:["mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}.chart[_ngcontent-%COMP%]{background:black;display:flex;justify-content:center}.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:999}mat-grid-tile[_ngcontent-%COMP%]{background-color:red;border-radius:1rem;box-shadow:10px 10px 5px -6px #7b7b7bbf;-webkit-box-shadow:10px 10px 5px -6px rgba(123,123,123,.75);-moz-box-shadow:10px 10px 5px -6px rgba(123,123,123,.75)}.order[_ngcontent-%COMP%]{display:flex}.o1[_ngcontent-%COMP%], .o2[_ngcontent-%COMP%], .o3[_ngcontent-%COMP%]{width:250px;height:250px;background-color:#eee;margin:1rem;text-align:center;position:relative}p[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:0}#top[_ngcontent-%COMP%]{line-height:10rem}.o4[_ngcontent-%COMP%]{width:500px;height:250px;background-color:#eee;margin:1rem;text-align:center;position:relative;overflow:auto}.list-group-item[_ngcontent-%COMP%]:nth-child(even){background-color:#eee}.o5[_ngcontent-%COMP%]{width:96.6vw;height:250px;background-color:#eee;margin:1rem;position:relative;overflow:auto}.o6[_ngcontent-%COMP%]{margin:1rem;background-color:#eee;position:relative}#flexdiv[_ngcontent-%COMP%]{display:flex}"]}),t})();const Dee=["mat-sort-header",""];function Aee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const Iee=["*"],Lee=new o.OlP("MAT_SORT_DEFAULT_OPTIONS");class Pee{}const Oee=vz(Gy(Pee));let ib=(()=>{class t extends Oee{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new ri.xQ,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=us(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var s,a,l;if(!e)return"";const h=null!==(a=null!==(s=null==e?void 0:e.disableClear)&&void 0!==s?s:this.disableClear)&&void 0!==a?a:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let y=function(t,i){let e=["asc","desc"];return"desc"==t&&e.reverse(),i||e.push(""),e}(e.start||this.start,h),C=y.indexOf(this.direction)+1;return C>=y.length&&(C=0),y[C]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Lee,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),t})();const D0=Ij.ENTERING+" "+Aj.STANDARD_CURVE,oC={indicator:fs("indicator",[Ne("active-asc, asc",ye({transform:"translateY(0px)"})),Ne("active-desc, desc",ye({transform:"translateY(10px)"})),Et("active-asc <=> active-desc",yi(D0))]),leftPointer:fs("leftPointer",[Ne("active-asc, asc",ye({transform:"rotate(-45deg)"})),Ne("active-desc, desc",ye({transform:"rotate(45deg)"})),Et("active-asc <=> active-desc",yi(D0))]),rightPointer:fs("rightPointer",[Ne("active-asc, asc",ye({transform:"rotate(45deg)"})),Ne("active-desc, desc",ye({transform:"rotate(-45deg)"})),Et("active-asc <=> active-desc",yi(D0))]),arrowOpacity:fs("arrowOpacity",[Ne("desc-to-active, asc-to-active, active",ye({opacity:1})),Ne("desc-to-hint, asc-to-hint, hint",ye({opacity:.54})),Ne("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ye({opacity:0})),Et("* => asc, * => desc, * => active, * => hint, * => void",yi("0ms")),Et("* <=> *",yi(D0))]),arrowPosition:fs("arrowPosition",[Et("* => desc-to-hint, * => desc-to-active",yi(D0,nt([ye({transform:"translateY(-25%)"}),ye({transform:"translateY(0)"})]))),Et("* => hint-to-desc, * => active-to-desc",yi(D0,nt([ye({transform:"translateY(0)"}),ye({transform:"translateY(25%)"})]))),Et("* => asc-to-hint, * => asc-to-active",yi(D0,nt([ye({transform:"translateY(25%)"}),ye({transform:"translateY(0)"})]))),Et("* => hint-to-asc, * => active-to-asc",yi(D0,nt([ye({transform:"translateY(0)"}),ye({transform:"translateY(-25%)"})]))),Ne("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ye({transform:"translateY(0)"})),Ne("hint-to-desc, active-to-desc, desc",ye({transform:"translateY(-25%)"})),Ne("hint-to-asc, active-to-asc, asc",ye({transform:"translateY(25%)"}))]),allowChildren:fs("allowChildren",[Et("* <=> *",[to("@*",Xi(),{optional:!0})])])};let lI=(()=>{class t{constructor(){this.changes=new ri.xQ,this.sortButtonLabel=e=>`Change sorting for ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Nee={provide:lI,deps:[[new o.FiY,new o.tp0,lI]],useFactory:function(t){return t||new lI}};class zee{}const Bee=Gy(zee);let cI=(()=>{class t extends Bee{constructor(e,s,a,l,h,y){super(),this._intl=e,this._changeDetectorRef=s,this._sort=a,this._columnDef=l,this._focusMonitor=h,this._elementRef=y,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._handleStateChanges()}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=us(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const s=!!e;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_handleStateChanges(){this._rerenderSubscription=(0,Qa.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(lI),o.Y36(o.sBO),o.Y36(ib,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(Qi),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleClick()})("keydown",function(l){return s._handleKeydown(l)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",s._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[o.qOj],attrs:Dee,ngContentSelectors:Iee,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,Aee,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"==s.arrowPosition),o.uIk("tabindex",s._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",s._renderArrow()))},directives:[cn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[oC.indicator,oC.leftPointer,oC.rightPointer,oC.arrowOpacity,oC.arrowPosition,oC.allowChildren]},changeDetection:0}),t})(),Yee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Nee],imports:[[$i,Hs]]}),t})();class FR{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class aC extends FR{constructor(i,e,s,a){super(),this.component=i,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=a}}class A0 extends FR{constructor(i,e,s){super(),this.templateRef=i,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class Hee extends FR{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class uI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof aC?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof A0?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof Hee?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dH extends uI{constructor(i,e,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=h=>{const y=h.element,C=this._document.createComment("dom-portal");y.parentNode.insertBefore(C,y),this.outletElement.appendChild(y),this._attachedPortal=h,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(y,C)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let e=i.viewContainerRef,s=e.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(s);-1!==a&&e.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let iw=(()=>{class t extends uI{constructor(e,s,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const h=l.element,y=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(y,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(h,y)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=s.createComponent(l,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(De))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),t})(),dI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();class Uee{constructor(i,e){this.predicate=i,this.inclusive=e}call(i,e){return e.subscribe(new jee(i,this.predicate,this.inclusive))}}class jee extends Lo.L{constructor(i,e,s){super(i),this.predicate=e,this.inclusive=s,this.index=0}_next(i){const e=this.destination;let s;try{s=this.predicate(i,this.index++)}catch(a){return void e.error(a)}this.nextOrComplete(i,s)}nextOrComplete(i,e){const s=this.destination;Boolean(e)?s.next(i):(this.inclusive&&s.next(i),s.complete())}}const pH=kD();class Zee{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=_c(-this._previousScrollPosition.left),i.style.top=_c(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),pH&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pH&&(s.scrollBehavior=l,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class Wee{constructor(i,e,s,a){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fH{enable(){}disable(){}attach(){}}function NR(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function mH(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Gee{constructor(i,e,s,a){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();NR(e,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qee=(()=>{class t{constructor(e,s,a,l){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new fH,this.close=h=>new Wee(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new Zee(this._viewportRuler,this._document),this.reposition=h=>new Gee(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(kT),o.LFG(jx),o.LFG(o.R0b),o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(kT),(0,o.LFG)(jx),(0,o.LFG)(o.R0b),(0,o.LFG)(De))},token:t,providedIn:"root"}),t})();class dS{constructor(i){if(this.scrollStrategy=new fH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const s of e)void 0!==i[s]&&(this[s]=i[s])}}}class $ee{constructor(i,e,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Qee{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let gH=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(De))},token:t,providedIn:"root"}),t})(),Jee=(()=>{class t extends gH{constructor(e){super(e),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(De))},token:t,providedIn:"root"}),t})(),Xee=(()=>{class t extends gH{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=a.composedPath?a.composedPath()[0]:a.target,h=this._attachedOverlays.slice();for(let y=h.length-1;y>-1;y--){const C=h[y];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l))break;C._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De),o.LFG(Ta))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(De),(0,o.LFG)(Ta))},token:t,providedIn:"root"}),t})();const _H=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let hS=(()=>{class t{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||_H){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(e),_H?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(De),o.LFG(Ta))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(De),(0,o.LFG)(Ta))},token:t,providedIn:"root"}),t})();class Kee{constructor(i,e,s,a,l,h,y,C,P){this._portalOutlet=i,this._host=e,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=h,this._document=y,this._location=C,this._outsideClickDispatcher=P,this._backdropElement=null,this._backdropClick=new ri.xQ,this._attachments=new ri.xQ,this._detachments=new ri.xQ,this._locationChanges=Ba.w.EMPTY,this._backdropClickHandler=j=>this._backdropClick.next(j),this._keydownEvents=new ri.xQ,this._outsidePointerEvents=new ri.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let e=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(we(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=_c(this._config.width),i.height=_c(this._config.height),i.minWidth=_c(this._config.minWidth),i.minHeight=_c(this._config.minHeight),i.maxWidth=_c(this._config.maxWidth),i.maxHeight=_c(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let e,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(e)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,e,s){const a=i.classList;Fx(e).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(na((0,Qa.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const yH="cdk-overlay-connected-position-bounding-box",ete=/([A-Za-z%]+)$/;class vH{constructor(i,e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ri.xQ,this._resizeSubscription=Ba.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(yH),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,e=this._overlayRect,s=this._viewportRect,a=[];let l;for(let h of this._preferredPositions){let y=this._getOriginPoint(i,h),C=this._getOverlayPoint(y,e,h),P=this._getOverlayFit(C,e,s,h);if(P.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,y);this._canFitWithFlexibleDimensions(P,C,s)?a.push({position:h,origin:y,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(y,h)}):(!l||l.overlayFit.visibleArea<P.visibleArea)&&(l={overlayFit:P,overlayPoint:C,originPoint:y,position:h,overlayRect:e})}if(a.length){let h=null,y=-1;for(const C of a){const P=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);P>y&&(y=P,h=C)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rw(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,i);this._applyPosition(i,e)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e){let s,a;if("center"==e.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,h=this._isRtl()?i.left:i.right;s="start"==e.originX?l:h}return a="center"==e.originY?i.top+i.height/2:"top"==e.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,e,s){let a,l;return a="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,e,s,a){const l=xH(e);let{x:h,y}=i,C=this._getOffset(a,"x"),P=this._getOffset(a,"y");C&&(h+=C),P&&(y+=P);let he=0-y,Ce=y+l.height-s.height,Le=this._subtractOverflows(l.width,0-h,h+l.width-s.width),je=this._subtractOverflows(l.height,he,Ce),tt=Le*je;return{visibleArea:tt,isCompletelyWithinViewport:l.width*l.height===tt,fitsInViewportVertically:je===l.height,fitsInViewportHorizontally:Le==l.width}}_canFitWithFlexibleDimensions(i,e,s){if(this._hasFlexibleDimensions){const a=s.bottom-e.y,l=s.right-e.x,h=bH(this._overlayRef.getConfig().minHeight),y=bH(this._overlayRef.getConfig().minWidth),P=i.fitsInViewportHorizontally||null!=y&&y<=l;return(i.fitsInViewportVertically||null!=h&&h<=a)&&P}return!1}_pushOverlayOnScreen(i,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=xH(e),l=this._viewportRect,h=Math.max(i.x+a.width-l.width,0),y=Math.max(i.y+a.height-l.height,0),C=Math.max(l.top-s.top-i.y,0),P=Math.max(l.left-s.left-i.x,0);let j=0,te=0;return j=a.width<=l.width?P||-h:i.x<this._viewportMargin?l.left-s.left-i.x:0,te=a.height<=l.height?C||-y:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:j,y:te},{x:i.x+j,y:i.y+te}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new Qee(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,e){const s=this._viewportRect,a=this._isRtl();let l,h,y,j,te,he;if("top"===e.overlayY)h=i.y,l=s.height-h+this._viewportMargin;else if("bottom"===e.overlayY)y=s.height-i.y+2*this._viewportMargin,l=s.height-y+this._viewportMargin;else{const Ce=Math.min(s.bottom-i.y+s.top,i.y),Le=this._lastBoundingBoxSize.height;l=2*Ce,h=i.y-Ce,l>Le&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.y-Le/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)he=s.width-i.x+this._viewportMargin,j=i.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)te=i.x,j=s.right-i.x;else{const Ce=Math.min(s.right-i.x+s.left,i.x),Le=this._lastBoundingBoxSize.width;j=2*Ce,te=i.x-Ce,j>Le&&!this._isInitialRender&&!this._growAfterOpen&&(te=i.x-Le/2)}return{top:h,left:te,bottom:y,right:he,width:j,height:l}}_setBoundingBoxStyles(i,e){const s=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=_c(s.height),a.top=_c(s.top),a.bottom=_c(s.bottom),a.width=_c(s.width),a.left=_c(s.left),a.right=_c(s.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=_c(l)),h&&(a.maxWidth=_c(h))}this._lastBoundingBoxSize=s,rw(this._boundingBox.style,a)}_resetBoundingBoxStyles(){rw(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rw(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const j=this._viewportRuler.getViewportScrollPosition();rw(s,this._getExactOverlayY(e,i,j)),rw(s,this._getExactOverlayX(e,i,j))}else s.position="static";let y="",C=this._getOffset(e,"x"),P=this._getOffset(e,"y");C&&(y+=`translateX(${C}px) `),P&&(y+=`translateY(${P}px)`),s.transform=y.trim(),h.maxHeight&&(a?s.maxHeight=_c(h.maxHeight):l&&(s.maxHeight="")),h.maxWidth&&(a?s.maxWidth=_c(h.maxWidth):l&&(s.maxWidth="")),rw(this._pane.style,s)}_getExactOverlayY(i,e,s){let a={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=_c(l.y),a}_getExactOverlayX(i,e,s){let h,a={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),h=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=_c(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mH(i,s),isOriginOutsideView:NR(i,s),isOverlayClipped:mH(e,s),isOverlayOutsideView:NR(e,s)}}_subtractOverflows(i,...e){return e.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Fx(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+e,height:s,width:e}}}function rw(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function bH(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(ete);return e&&"px"!==e?null:parseFloat(i)}return t||null}function xH(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class tte{constructor(i,e,s,a,l,h,y){this._preferredPositions=[],this._positionStrategy=new vH(s,a,l,h,y).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,e,s,a){const l=new $ee(i,e,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const wH="cdk-global-overlay-wrapper";class nte{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(wH),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:h,maxHeight:y}=s,C=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),P=!("100%"!==l&&"100vh"!==l||y&&"100%"!==y&&"100vh"!==y);i.position=this._cssPosition,i.marginLeft=C?"0":this._leftOffset,i.marginTop=P?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,C?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=P?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(wH),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let ite=(()=>{class t{constructor(e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new nte}connectedTo(e,s,a){return new tte(s,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new vH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(jx),o.LFG(De),o.LFG(Ta),o.LFG(hS))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(jx),(0,o.LFG)(De),(0,o.LFG)(Ta),(0,o.LFG)(hS))},token:t,providedIn:"root"}),t})(),rte=0,rg=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j,te,he){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=y,this._ngZone=C,this._document=P,this._directionality=j,this._location=te,this._outsideClickDispatcher=he}create(e){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),h=new dS(e);return h.direction=h.direction||this._directionality.value,new Kee(l,s,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+rte++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new dH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(qee),o.LFG(hS),o.LFG(o._Vd),o.LFG(ite),o.LFG(Jee),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(De),o.LFG(vp),o.LFG(hi),o.LFG(Xee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const ste=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],CH=new o.OlP("cdk-connected-overlay-scroll-strategy");let ote=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),MH=(()=>{class t{constructor(e,s,a,l,h){this._overlay=e,this._dir=h,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ba.w.EMPTY,this._attachSubscription=Ba.w.EMPTY,this._detachSubscription=Ba.w.EMPTY,this._positionSubscription=Ba.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new A0(s,a),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=us(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=us(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=us(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=us(e)}get push(){return this._push}set push(e){this._push=us(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ste);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!Of(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new dS({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,i=!1){return e=>e.lift(new Uee(t,i))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(rg),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(CH),o.Y36(vp,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),t})();const lte={provide:CH,deps:[rg],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let pS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[rg,lte],imports:[[Wv,dI,$v],$v]}),t})();const cte=["underline"],ute=["connectionContainer"],dte=["inputContainer"],hte=["label"];function pte(t,i){1&t&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function fte(t,i){1&t&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function mte(t,i){if(1&t&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function gte(t,i){1&t&&o.Hsn(0,3,["*ngSwitchCase","true"])}function _te(t,i){1&t&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function yte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,mte,4,1,"ng-container",12),o.YNc(3,gte,1,0,"ng-content",12),o.YNc(4,_te,2,0,"span",22),o.qZA()}if(2&t){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function vte(t,i){1&t&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function bte(t,i){if(1&t&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function xte(t,i){if(1&t&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function wte(t,i){if(1&t&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function Cte(t,i){if(1&t&&(o.TgZ(0,"div",28),o.YNc(1,wte,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const Mte=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tte=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],TH=new o.OlP("MatError"),kte={transitionMessages:fs("transitionMessages",[Ne("enter",ye({opacity:1,transform:"translateY(0%)"})),Et("void => enter",[ye({opacity:0,transform:"translateY(-5px)"}),yi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})();const SH=new o.OlP("MatHint");let rb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-label"]]}),t})(),Dte=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const kH=new o.OlP("MatPrefix"),EH=new o.OlP("MatSuffix");let DH=0;class Ite{constructor(i){this._elementRef=i}}const Lte=H1(Ite,"primary"),Pte=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),zR=new o.OlP("MatFormField");let I0=(()=>{class t extends Lte{constructor(e,s,a,l,h,y,C,P){super(e),this._elementRef=e,this._changeDetectorRef=s,this._dir=l,this._defaults=h,this._platform=y,this._ngZone=C,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ri.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+DH++,this._labelId="mat-form-field-label-"+DH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==P,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=us(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Oo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(na(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(na(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Qa.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Oo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Oo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(na(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gv(this._label.nativeElement,"transitionend").pipe(we(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),y=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const C=l.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const P=this._getStartEnd(C),j=e.children,te=this._getStartEnd(j[0].getBoundingClientRect());let he=0;for(let Ce=0;Ce<j.length;Ce++)he+=j[Ce].offsetWidth;s=Math.abs(te-P)-5,a=he>0?.75*he+10:0}for(let C=0;C<h.length;C++)h[C].style.width=`${s}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(vp,8),o.Y36(Pte,8),o.Y36(Ta),o.Y36(o.R0b),o.Y36(Ff,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,hI,5),o.Suo(a,hI,7),o.Suo(a,rb,5),o.Suo(a,rb,7),o.Suo(a,Dte,5),o.Suo(a,TH,5),o.Suo(a,SH,5),o.Suo(a,kH,5),o.Suo(a,EH,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(cte,5),o.Gf(ute,7),o.Gf(dte,5),o.Gf(hte,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:zR,useExisting:t}]),o.qOj],ngContentSelectors:Tte,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(o.F$t(Mte),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,pte,9,0,"ng-container",3),o.YNc(4,fte,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,yte,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,vte,2,0,"div",9),o.qZA(),o.YNc(11,bte,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,xte,2,1,"div",12),o.YNc(14,Cte,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[cn,gr,vi,AD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kte.transitionMessages]},changeDetection:0}),t})(),pI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Hs,Xm],Hs]}),t})();const Ote=["trigger"],Rte=["panel"];function Fte(t,i){if(1&t&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Nte(t,i){if(1&t&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function zte(t,i){1&t&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Bte(t,i){if(1&t&&(o.TgZ(0,"span",9),o.YNc(1,Nte,2,1,"span",10),o.YNc(2,zte,1,0,"ng-content",11),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Yte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(a){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(a.toState)})("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Hte=[[["mat-select-trigger"]],"*"],Vte=["mat-select-trigger","*"],IH={transformPanelWrap:fs("transformPanelWrap",[Et("* => void",to("@transformPanel",[Xi()],{optional:!0}))]),transformPanel:fs("transformPanel",[Ne("void",ye({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ne("showing",ye({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ne("showing-multiple",ye({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Et("void => *",yi("120ms cubic-bezier(0, 0, 0.2, 1)")),Et("* => void",yi("100ms 25ms linear",ye({opacity:0})))])};let LH=0;const OH=new o.OlP("mat-select-scroll-strategy"),Wte=new o.OlP("MAT_SELECT_CONFIG"),Gte={provide:OH,deps:[rg],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class qte{constructor(i,e){this.source=i,this.value=e}}class $te{constructor(i,e,s,a,l){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=s,this._parentFormGroup=a,this.ngControl=l}}const Qte=_0(_z(Gy(yz($te)))),RH=new o.OlP("MatSelectTrigger");let Jte=(()=>{class t extends Qte{constructor(e,s,a,l,h,y,C,P,j,te,he,Ce,Le,je){var tt,vt,Wt;super(h,l,C,P,te),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=a,this._dir=y,this._parentFormField=j,this.ngControl=te,this._liveAnnouncer=Le,this._defaultOptions=je,this._panelOpen=!1,this._compareWith=(nn,mn)=>nn===mn,this._uid="mat-select-"+LH++,this._triggerAriaLabelledBy=null,this._destroy=new ri.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+LH++,this._panelDoneAnimatingStream=new ri.xQ,this._overlayPanelClass=(null===(tt=this._defaultOptions)||void 0===tt?void 0:tt.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Wt=null===(vt=this._defaultOptions)||void 0===vt?void 0:vt.disableOptionCentering)&&void 0!==Wt&&Wt,this.ariaLabel="",this.optionSelectionChanges=Wb(()=>{const nn=this.options;return nn?nn.changes.pipe(Oo(nn),Ps(()=>(0,Qa.T)(...nn.map(mn=>mn.onSelectionChange)))):this._ngZone.onStable.pipe(we(1),Ps(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(T(nn=>nn),(0,Fi.U)(()=>{})),this._closedStream=this.openedChange.pipe(T(nn=>!nn),(0,Fi.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==je?void 0:je.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=je.typeaheadDebounceInterval),this._scrollStrategyFactory=Ce,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(he)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=us(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=us(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=us(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=gc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new bO(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cu(),na(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(na(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(Oo(null),na(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,a=40===s||38===s||37===s||39===s,l=13===s||32===s,h=this._keyManager;if(!h.isTyping()&&l&&!Of(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){const y=this.selected;h.onKeydown(e);const C=this.selected;C&&y!==C&&this._liveAnnouncer.announce(C.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,a=e.keyCode,l=40===a||38===a,h=s.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(h||13!==a&&32!==a||!s.activeItem||Of(e))if(!h&&this._multiple&&65===a&&e.ctrlKey){e.preventDefault();const y=this.options.some(C=>!C.disabled&&!C.selected);this.options.forEach(C=>{C.disabled||(y?C.select():C.deselect())})}else{const y=s.activeItemIndex;s.onKeydown(e),this._multiple&&l&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==y&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(we(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const s=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,e)}catch(l){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new FD(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(na(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(na(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Qa.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(na(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Qa.T)(...this.options.map(s=>s._stateChanges)).pipe(na(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,s){const a=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,a)=>this.sortComparator?this.sortComparator(s,a,e):e.indexOf(s)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let a=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(a+=" "+this.ariaLabelledby),a}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(jx),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(rO),o.Y36(o.SBq),o.Y36(vp,8),o.Y36(Wx,8),o.Y36(ng,8),o.Y36(zR,8),o.Y36($y,10),o.$8M("tabindex"),o.Y36(OH),o.Y36(mt),o.Y36(Wte,8))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&(o.Gf(Ote,5),o.Gf(Rte,5),o.Gf(MH,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.trigger=a.first),o.iGM(a=o.CRH())&&(s.panel=a.first),o.iGM(a=o.CRH())&&(s.overlayDir=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),t})(),Xte=(()=>{class t extends Jte{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,s,a){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-s+l/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(na(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(we(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const s=kz(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=function(t,i,e,s){return t<e?t:t+i>e+256?Math.max(0,t-256+i):e}((e+s)*a,a,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new qte(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),a=this._isRtl(),l=this.multiple?56:32;let h;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{let P=this._selectionModel.selected[0]||this.options.first;h=P&&P.group?32:16}a||(h*=-1);const y=0-(e.left+h-(a?l:0)),C=e.right+h-s.width+(a?0:l);y>0?h+=y+8:C>0&&(h-=C+8),this.overlayDir.offsetX=Math.round(h),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,s,a){const l=this._getItemHeight(),h=(l-this._triggerRect.height)/2,y=Math.floor(256/l);let C;return this.disableOptionCentering?0:(C=0===this._scrollTop?e*l:this._scrollTop===a?(e-(this._getItemCount()-y))*l+(l-(this._getItemCount()*l-256)%l):s-l/2,Math.round(-1*C-h))}_checkOverlayWithinViewport(e){const s=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,h=a.height-this._triggerRect.bottom-8,y=Math.abs(this._offsetY),P=Math.min(this._getItemCount()*s,256)-y-this._triggerRect.height;P>h?this._adjustPanelUp(P,h):y>l?this._adjustPanelDown(y,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,s){const a=Math.round(e-s);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,s,a){const l=Math.round(e-s);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),s=this._getItemCount(),a=Math.min(s*e,256),h=s*e-a;let y;y=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),y+=kz(y,this.options,this.optionGroups);const C=a/2;this._scrollTop=this._calculateOverlayScroll(y,C,h),this._offsetY=this._calculateOverlayOffsetY(y,C,h),this._checkOverlayWithinViewport(h)}_getOriginBasedOnOption(){const e=this._getItemHeight(),s=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,RH,5),o.Suo(a,Sz,5),o.Suo(a,uO,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.customTrigger=l.first),o.iGM(l=o.CRH())&&(s.options=l),o.iGM(l=o.CRH())&&(s.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,s){1&e&&o.NdJ("keydown",function(l){return s._handleKeydown(l)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(o.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),o.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:hI,useExisting:t},{provide:cO,useExisting:t}]),o.qOj],ngContentSelectors:Vte,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(o.F$t(Hte),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Fte,2,1,"span",3),o.YNc(5,Bte,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,Yte,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const a=o.MAs(1);o.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",s.empty),o.uIk("id",s._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[ote,gr,vi,MH,Yi,pe],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[IH.transformPanelWrap,IH.transformPanel]},changeDetection:0}),t})(),FH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Gte],imports:[[$i,pS,Ez,Hs],DT,pI,Ez,Hs]}),t})();class ene{constructor(i){this.total=i}call(i,e){return e.subscribe(new tne(i,this.total))}}class tne extends Lo.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}const NH=new Set;let cC,zH=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ine}matchMedia(e){return this._platform.WEBKIT&&function(t){if(!NH.has(t))try{cC||(cC=document.createElement("style"),cC.setAttribute("type","text/css"),document.head.appendChild(cC)),cC.sheet&&(cC.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),NH.add(t))}catch(i){console.error(i)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ta))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ta))},token:t,providedIn:"root"}),t})();function ine(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let BR=(()=>{class t{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new ri.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return BH(Fx(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let l=zg(BH(Fx(e)).map(h=>this._registerQuery(h).observable));return l=Vf(l.pipe(we(1)),l.pipe(i=>i.lift(new ene(1)),u0(0))),l.pipe((0,Fi.U)(h=>{const y={matches:!1,breakpoints:{}};return h.forEach(({matches:C,query:P})=>{y.matches=y.matches||C,y.breakpoints[P]=C}),y}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),l={observable:new Or.y(h=>{const y=C=>this._zone.run(()=>h.next(C));return s.addListener(y),()=>{s.removeListener(y)}}).pipe(Oo(s),(0,Fi.U)(({matches:h})=>({query:e,matches:h})),na(this._destroySubject)),mql:s};return this._queries.set(e,l),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(zH),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(zH),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})();function BH(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}const rne={tooltipState:fs("state",[Ne("initial, void, hidden",ye({opacity:0,transform:"scale(0)"})),Ne("visible",ye({transform:"scale(1)"})),Et("* => visible",yi("200ms cubic-bezier(0, 0, 0.2, 1)",nt([ye({opacity:0,transform:"scale(0)",offset:0}),ye({opacity:.5,transform:"scale(0.99)",offset:.5}),ye({opacity:1,transform:"scale(1)",offset:1})]))),Et("* => hidden",yi("100ms cubic-bezier(0, 0, 0.2, 1)",ye({opacity:0})))])},HH=Bv({passive:!0}),VH=new o.OlP("mat-tooltip-scroll-strategy"),cne={provide:VH,deps:[rg],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},une=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let hne=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j,te,he,Ce){this._overlay=e,this._elementRef=s,this._scrollDispatcher=a,this._viewContainerRef=l,this._ngZone=h,this._platform=y,this._ariaDescriber=C,this._focusMonitor=P,this._dir=te,this._defaultOptions=he,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ri.xQ,this._handleKeydown=Le=>{this._isTooltipVisible()&&27===Le.keyCode&&!Of(Le)&&(Le.preventDefault(),Le.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=j,he&&(he.position&&(this.position=he.position),he.touchGestures&&(this.touchGestures=he.touchGestures)),h.runOutsideAngular(()=>{s.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=us(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(na(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([s,a])=>{e.removeEventListener(s,a,HH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new aC(pne,this._viewContainerRef),this._tooltipInstance=s.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(na(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return s.positionChanges.pipe(na(this._destroyed)).subscribe(a=>{this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(na(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,s=this._getOrigin(),a=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},s.main),a.main),Object.assign(Object.assign({},s.fallback),a.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s||"below"==s?a={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={originX:"end",originY:"center"});const{x:l,y:h}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:l,originY:h}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s?a={overlayX:"center",overlayY:"bottom"}:"below"==s?a={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={overlayX:"start",overlayY:"center"});const{x:l,y:h}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:l,overlayY:h}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(we(1),na(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,a])=>{this._elementRef.nativeElement.addEventListener(s,a,HH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const a=(this._document||document).elementFromPoint(e.clientX,e.clientY),l=this._elementRef.nativeElement;a!==l&&!l.contains(a)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,a=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),("on"===e||!s.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(rg),o.Y36(o.SBq),o.Y36(kT),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Ta),o.Y36(yT),o.Y36(Qi),o.Y36(VH),o.Y36(vp,8),o.Y36(une,8),o.Y36(De))},t.\u0275dir=o.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),pne=(()=>{class t{constructor(e,s){this._changeDetectorRef=e,this._breakpointObserver=s,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new ri.xQ,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const s=e.toState;"hidden"===s&&!this.isVisible()&&this._onHide.next(),("visible"===s||"hidden"===s)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(BR))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleBodyInteraction()},!1,o.pYS)("auxclick",function(){return s._handleBodyInteraction()},!1,o.pYS),2&e&&o.Udp("zoom","visible"===s._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,s){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return s._animationStart()})("@state.done",function(l){return s._animationDone(l)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let a;o.ekj("mat-tooltip-handset",null==(a=o.lcZ(1,5,s._isHandset))?null:a.matches),o.Q6J("ngClass",s.tooltipClass)("@state",s._visibility),o.xp6(2),o.Oqu(s.message)}},directives:[pe],pipes:[$l],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[rne.tooltipState]},changeDetection:0}),t})(),fne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[cne],imports:[[jv,$i,pS,Hs],Hs,DT]}),t})();function mne(t,i){if(1&t&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function gne(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(a){return o.CHM(e),o.oxw(2)._changePageSize(a.value)}),o.YNc(2,mne,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function _ne(t,i){if(1&t&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function yne(t,i){if(1&t&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,gne,3,6,"mat-form-field",14),o.YNc(4,_ne,2,1,"div",15),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function vne(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function bne(t,i){if(1&t){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let mS=(()=>{class t{constructor(){this.changes=new ri.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=e*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const wne={provide:mS,deps:[[new o.FiY,new o.tp0,mS]],useFactory:function(t){return t||new mS}},Mne=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS");class Tne{}const Sne=Gy(vz(Tne));let kne=(()=>{class t extends Sne{constructor(e,s,a){if(super(),this._intl=e,this._changeDetectorRef=s,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),a){const{pageSize:l,pageSizeOptions:h,hidePageSize:y,showFirstLastButtons:C}=a;null!=l&&(this._pageSize=l),null!=h&&(this._pageSizeOptions=h),null!=y&&(this._hidePageSize=y),null!=C&&(this._showFirstLastButtons=C)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(gc(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=gc(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(gc(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(s=>gc(s)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=us(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=us(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const a=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,s)=>e-s),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(mS),o.Y36(o.sBO),o.Y36(void 0))},t.\u0275dir=o.lG2({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[o.qOj]}),t})(),L0=(()=>{class t extends kne{constructor(e,s,a){super(e,s,a),a&&null!=a.formFieldAppearance&&(this._formFieldAppearance=a.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(mS),o.Y36(o.sBO),o.Y36(Mne,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,yne,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,vne,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return s.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return s.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,bne,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!s.hidePageSize),o.xp6(3),o.hij(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),o.xp6(1),o.Q6J("ngIf",s.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),o.uIk("aria-label",s._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),o.uIk("aria-label",s._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",s.showFirstLastButtons))},directives:[cn,xu,hne,I0,Xte,ft,Sz],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),Ene=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[wne],imports:[[$i,dO,FH,fne,Hs]]}),t})();const Dne=[[["caption"]],[["colgroup"],["col"]]],Ane=["caption","colgroup, col"];function YR(t){return class extends t{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const e=this._sticky;this._sticky=us(i),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const uC=new o.OlP("CDK_TABLE");let dC=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t})(),hC=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),mI=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class One{}const Rne=YR(One);let sb=(()=>{class t extends Rne{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=us(e),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(uC,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,dC,5),o.Suo(a,hC,5),o.Suo(a,mI,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})();class HR{constructor(i,e){const s=e.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let VR=(()=>{class t extends HR{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(sb),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),t})(),UR=(()=>{class t extends HR{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(sb),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[o.qOj]}),t})();class jH{constructor(){this.tasks=[],this.endTasks=[]}}const jR=new o.OlP("_COALESCED_STYLE_SCHEDULER");let ZH=(()=>{class t{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ri.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new jH,this._getScheduleObservable().pipe(na(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new jH;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ws.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(we(1))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ZR=(()=>{class t{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof gS?e.headerCell.template:this instanceof _S?e.footerCell.template:e.cell.template}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,features:[o.TTD]}),t})();class Fne extends ZR{}const Nne=YR(Fne);let gS=(()=>{class t extends Nne{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(uC,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})();class zne extends ZR{}const Bne=YR(zne);let _S=(()=>{class t extends Bne{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(uC,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})(),gI=(()=>{class t extends ZR{constructor(e,s,a){super(e,s),this._table=a}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(uC,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),t})(),ob=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),WR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[ob],encapsulation:2}),t})(),qR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[ob],encapsulation:2}),t})(),_I=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const WH=["top","bottom","left","right"];class Yne{constructor(i,e,s,a,l=!0,h=!0,y){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=y,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._scheduleStyleChanges(()=>{for(const a of s)this._removeStickyStyle(a,e)})}updateStickyColumns(i,e,s,a=!0){if(!i.length||!this._isBrowser||!e.some(he=>he)&&!s.some(he=>he))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],h=l.children.length,y=this._getCellWidths(l,a),C=this._getStickyStartColumnPositions(y,e),P=this._getStickyEndColumnPositions(y,s),j=e.lastIndexOf(!0),te=s.indexOf(!0);this._scheduleStyleChanges(()=>{const he="rtl"===this.direction,Ce=he?"right":"left",Le=he?"left":"right";for(const je of i)for(let tt=0;tt<h;tt++){const vt=je.children[tt];e[tt]&&this._addStickyStyle(vt,Ce,C[tt],tt===j),s[tt]&&this._addStickyStyle(vt,Le,P[tt],tt===te)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===j?[]:y.slice(0,j+1).map((je,tt)=>e[tt]?je:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===te?[]:y.slice(te).map((je,tt)=>s[tt+te]?je:null).reverse()}))})}stickRows(i,e,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?e.slice().reverse():e,h=[],y=[],C=[];for(let j=0,te=0;j<a.length;j++){if(h[j]=te,!l[j])continue;const he=a[j];C[j]=this._isNativeHtmlTable?Array.from(he.children):[he];const Ce=he.getBoundingClientRect().height;te+=Ce,y[j]=Ce}const P=l.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var j,te;for(let he=0;he<a.length;he++){if(!l[he])continue;const Ce=h[he],Le=he===P;for(const je of C[he])this._addStickyStyle(je,s,Ce,Le)}"top"===s?null===(j=this._positionListener)||void 0===j||j.stickyHeaderRowsUpdated({sizes:y,elements:C}):null===(te=this._positionListener)||void 0===te||te.stickyFooterRowsUpdated({sizes:y,elements:C})})}updateStickyFooterContainer(i,e){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,e){for(const a of e)i.style[a]="",i.classList.remove(this._borderCellCss[a]);WH.some(a=>-1===e.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const a of WH)i.style[a]&&(s+=e[a]);return s?`${s}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,e){const s=[];let a=0;for(let l=0;l<i.length;l++)e[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,e){const s=[];let a=0;for(let l=i.length;l>0;l--)e[l]&&(s[l]=a,a+=i[l]);return s}_scheduleStyleChanges(i){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(i):i()}}const GH=new o.OlP("CDK_SPL");let yI=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","rowOutlet",""]]}),t})(),vI=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),bI=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),xI=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),wI=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j,te,he){this._differs=e,this._changeDetectorRef=s,this._elementRef=a,this._dir=h,this._platform=C,this._viewRepeater=P,this._coalescedStyleScheduler=j,this._stickyPositioningListener=te,this._viewportRuler=he,this._onDestroy=new ri.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new mc({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=y,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=us(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=us(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler&&this._viewportRuler.change().pipe(na(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),uA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const s=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,s,(a,l,h)=>this._getEmbeddedViewArgs(a.item,h),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}):e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const y=a.item;this._renderRow(this._rowOutlet,y.rowDef,h,{$implicit:y.data})}else if(null==h)s.remove(l);else{const y=s.get(l);s.move(y,h)}}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=e.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=e.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let y=0;y<s.length;y++)this._renderRows[y].rowDef===l&&h.push(s[y]);this._addStickyColumnStyles(h,l)}),a.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const h=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let y=0;y<h.length;y++){let C=h[y];const P=this._cachedRenderRowsMap.get(C.data);P.has(C.rowDef)?P.get(C.rowDef).push(C):P.set(C.rowDef,[C]),e.push(C)}}return e}_getRenderRowsForData(e,s,a){return this._getRowDefs(e,s).map(h=>{const y=a&&a.has(h)?a.get(h):[];if(y.length){const C=y.shift();return C.dataIndex=s,C}return{data:e,rowDef:h,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),CI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=CI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=CI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=CI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,y)=>h||!!y.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(e){this._data=[],uA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;uA(this.dataSource)?e=this.dataSource.connect(this):vO(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Di.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(na(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const a=Array.from(s.columns||[]).map(y=>this._columnDefsByName.get(y)),l=a.map(y=>y.sticky),h=a.map(y=>y.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let a=0;a<e.viewContainer.length;a++){const l=e.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,e));else{let l=this._rowDefs.find(h=>h.when&&h.when(s,e))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,a,l={}){const h=e.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),h}_renderCellTemplateForItem(e,s){for(let a of this._getCellTemplates(e))ob.mostRecentCellOutlet&&ob.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,a=e.length;s<a;s++){const h=e.get(s).context;h.count=a,h.first=0===s,h.last=s===a-1,h.even=s%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[s].dataIndex,h.renderIndex=s):h.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const a=this._columnDefsByName.get(s);return e.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const h of a.outlets)l.appendChild(h.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Yne(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Di.of)()).pipe(na(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(e.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(vp,8),o.Y36(De),o.Y36(Ta),o.Y36(ST,8),o.Y36(jR,8),o.Y36(GH,12),o.Y36(jx,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,_I,5),o.Suo(a,sb,5),o.Suo(a,gI,5),o.Suo(a,gS,5),o.Suo(a,_S,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(yI,7),o.Gf(vI,7),o.Gf(bI,7),o.Gf(xI,7)),2&e){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[o._Bn([{provide:uC,useExisting:t},{provide:ST,useClass:Kz},{provide:jR,useClass:ZH},{provide:GH,useValue:null}])],ngContentSelectors:Ane,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(Dne),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[vI,yI,xI,bI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function CI(t,i){return t.concat(Array.from(i))}let Hne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$v]]}),t})();const Vne=[[["caption"]],[["colgroup"],["col"]]],Une=["caption","colgroup, col"];let yS=(()=>{class t extends wI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:ST,useClass:Kz},{provide:wI,useExisting:t},{provide:uC,useExisting:t},{provide:jR,useClass:ZH}]),o.qOj],ngContentSelectors:Une,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(Vne),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[vI,yI,xI,bI],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),pC=(()=>{class t extends dC{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:dC,useExisting:t}]),o.qOj]}),t})(),fC=(()=>{class t extends hC{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:hC,useExisting:t}]),o.qOj]}),t})(),mC=(()=>{class t extends sb{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:sb,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})(),gC=(()=>{class t extends VR{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),t})(),_C=(()=>{class t extends UR{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),t})(),vS=(()=>{class t extends gS{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:gS,useExisting:t}]),o.qOj]}),t})(),bS=(()=>{class t extends gI{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:gI,useExisting:t}]),o.qOj]}),t})(),xS=(()=>{class t extends WR{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:WR,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[ob],encapsulation:2}),t})(),wS=(()=>{class t extends qR{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:qR,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[ob],encapsulation:2}),t})(),CS=(()=>{class t extends _I{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:_I,useExisting:t}]),o.qOj]}),t})(),Jne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hne,Hs],Hs]}),t})();class Kne extends Xz{constructor(i=[]){super(),this._renderData=new mc([]),this._filter=new mc(""),this._internalPageChanges=new ri.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,s)=>{const a=e[s];if(P1(a)){const l=Number(a);return l<9007199254740991?l:a}return a},this.sortData=(e,s)=>{const a=s.active,l=s.direction;return a&&""!=l?e.sort((h,y)=>{let C=this.sortingDataAccessor(h,a),P=this.sortingDataAccessor(y,a);const j=typeof C,te=typeof P;j!==te&&("number"===j&&(C+=""),"number"===te&&(P+=""));let he=0;return null!=C&&null!=P?C>P?he=1:C<P&&(he=-1):null!=C?he=1:null!=P&&(he=-1),he*("asc"==l?1:-1)}):e},this.filterPredicate=(e,s)=>{const a=Object.keys(e).reduce((h,y)=>h+e[y]+"\u25ec","").toLowerCase(),l=s.trim().toLowerCase();return-1!=a.indexOf(l)},this._data=new mc(i),this._updateChangeSubscription()}get data(){return this._data.value}set data(i){this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_updateChangeSubscription(){var i;const e=this._sort?(0,Qa.T)(this._sort.sortChange,this._sort.initialized):(0,Di.of)(null),s=this._paginator?(0,Qa.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Di.of)(null),l=zg([this._data,this._filter]).pipe((0,Fi.U)(([C])=>this._filterData(C))),h=zg([l,e]).pipe((0,Fi.U)(([C])=>this._orderData(C))),y=zg([h,s]).pipe((0,Fi.U)(([C])=>this._pageData(C)));null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=y.subscribe(C=>this._renderData.next(C))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){const s=Math.ceil(e.length/e.pageSize)-1||0,a=Math.min(e.pageIndex,s);a!==e.pageIndex&&(e.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var i;null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=null}}class sw extends Kne{}let MI=(()=>{class t{constructor(e,s){this.fs=e,this.auth=s,this.data=[],this.temp=!0,this.index=1,this.isLoading=new mc(this.temp),this.auth.authState.subscribe(a=>{this.uid=null==a?void 0:a.uid,this.fs.collection("Admin").doc(null==a?void 0:a.uid).valueChanges().subscribe(l=>{this.name=l,console.log(this.name),this.isLoading=new mc(!1)})})}getAdminInfo(){var e=this;return Rr(function*(){return new Promise((s,a)=>{e.auth.authState.subscribe(l=>{e.fs.collection("Admin").doc(null==l?void 0:l.uid).valueChanges().subscribe(y=>{console.log(y),s(y)})})})})()}updateInfo(e,s,a){this.fs.collection("Admin").doc(this.uid).update({username:e,email:s,phone:a}),this.auth.authState.subscribe(l=>{null==l||l.updateEmail(s)})}getPurchaseHistory(e){return Rr(function*(){return new Promise((s,a)=>{})})()}getcartInfo(){var e=this;return Rr(function*(){return new Promise((s,a)=>{let l=[];e.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(h=>{h.map(y=>{console.log(y);let C={brand:y.payload.doc.data().brand,compname:y.payload.doc.data().compname,price:y.payload.doc.data().price,quantity:y.payload.doc.data().quantity,totalprice:y.payload.doc.data().totalprice};l.push(C),s(l)})})})})()}getSupplierInfo(){var e=this;return Rr(function*(){return new Promise((s,a)=>{let l;e.fs.collection("Supplier").snapshotChanges().subscribe(h=>{h.map(y=>{let C={compname:y.payload.doc.data().compname,shippingfee:y.payload.doc.data().shippingfee};l.push(C),s(l)})})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Co),o.LFG(ci))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $H=Bv({passive:!0});let QH=(()=>{class t{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ge.E;const s=H_(e),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new ri.xQ,h="cdk-text-field-autofilled",y=C=>{"cdk-text-field-autofill-start"!==C.animationName||s.classList.contains(h)?"cdk-text-field-autofill-end"===C.animationName&&s.classList.contains(h)&&(s.classList.remove(h),this._ngZone.run(()=>l.next({target:C.target,isAutofilled:!1}))):(s.classList.add(h),this._ngZone.run(()=>l.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",y,$H),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",y,$H)}}),l}stopMonitoring(e){const s=H_(e),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ta),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ta),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})(),JH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d0]]}),t})();const tie=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),nie=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let iie=0;class rie{constructor(i,e,s,a){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=s,this.ngControl=a}}const sie=yz(rie);let ow=(()=>{class t extends sie{constructor(e,s,a,l,h,y,C,P,j,te){super(y,l,h,a),this._elementRef=e,this._platform=s,this.ngControl=a,this._autofillMonitor=P,this._formField=te,this._uid="mat-input-"+iie++,this.focused=!1,this.stateChanges=new ri.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>SD().has(Le));const he=this._elementRef.nativeElement,Ce=he.nodeName.toLowerCase();this._inputValueAccessor=C||he,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&j.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",Le=>{let je=Le.target;!je.value&&!je.selectionStart&&!je.selectionEnd&&(je.setSelectionRange(1,1),je.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ce,this._isTextarea="textarea"===Ce,this._isNativeSelect&&(this.controlType=he.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=us(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=us(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&SD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=us(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(!this.readonly||!e)&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const a=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){nie.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Ta),o.Y36($y,10),o.Y36(Wx,8),o.Y36(ng,8),o.Y36(rO),o.Y36(tie,10),o.Y36(QH),o.Y36(o.R0b),o.Y36(zR,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.errorState&&!s.empty)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:hI,useExisting:t}]),o.qOj,o.TTD]}),t})(),oie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[rO],imports:[[JH,pI,Hs],JH,pI]}),t})();const TI="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),aie="undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.prototype&&"function"==typeof PerformanceObserver.prototype.constructor,$R="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let SI={},yC={};const QR=()=>TI?performance.now():Date.now(),XH=t=>{SI[t]=void 0,yC[t]&&(yC[t]=void 0),TI&&($R||performance.clearMeasures(t),performance.clearMarks(t))},KH=t=>{if(TI){if($R&&aie){const i=new PerformanceObserver(e=>{yC[t]=e.getEntries().find(s=>s.name===t),i.disconnect()});i.observe({entryTypes:["measure"]})}performance.mark(t)}SI[t]=QR()},eV=(t,i)=>{try{const e=SI[t];return TI?(i||performance.mark(`${t}-end`),performance.measure(t,t,i||`${t}-end`),$R?yC[t]?yC[t]:e?{duration:QR()-e,startTime:e,entryType:"measure",name:t}:{}:performance.getEntriesByName(t).pop()||{}):e?{duration:QR()-e,startTime:e,entryType:"measure",name:t}:{}}catch(e){return{}}finally{XH(t),XH(i||`${t}-end`)}},lie=function(t,i,e,s){return{circle:t,progress:i,"progress-dark":e,pulse:s}};function cie(t,i){if(1&t&&o._UZ(0,"span",1),2&t){const e=o.oxw();o.Q6J("ngClass",o.l5B(4,lie,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),o.uIk("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText)}}const tV=new o.OlP("ngx-skeleton-loader.config");let uie=(()=>{class t{constructor(e){const{appearance:s="line",animation:a="progress",theme:l=null,loadingText:h="Loading...",count:y=1,ariaLabel:C="loading"}=e||{};this.appearance=s,this.animation=a,this.theme=l,this.loadingText=h,this.count=y,this.items=[],this.ariaLabel=C}ngOnInit(){KH("NgxSkeletonLoader:Rendered"),KH("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&((0,o.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line",""].indexOf(String(this.appearance))&&((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or empty string. Forcing default to \"''\"."),this.appearance="")}ngOnChanges(e){["count","animation","appearance"].find(s=>e[s]&&(e[s].isFirstChange()||e[s].previousValue===e[s].currentValue))||this.validateInputValues()}ngAfterViewInit(){eV("NgxSkeletonLoader:Rendered")}ngOnDestroy(){eV("NgxSkeletonLoader:Loaded")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(tV,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-skeleton-loader"]],inputs:{appearance:"appearance",animation:"animation",theme:"theme",loadingText:"loadingText",count:"count",ariaLabel:"ariaLabel"},features:[o.TTD],decls:1,vars:1,consts:[["class","loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"loader",3,"ngClass","ngStyle"]],template:function(e,s){1&e&&o.YNc(0,cie,1,9,"span",0),2&e&&o.Q6J("ngForOf",s.items)},directives:[ft,pe,Gi],styles:['.loader[_ngcontent-%COMP%]{background:#eff1f6 no-repeat;border-radius:4px;box-sizing:border-box;display:inline-block;height:20px;margin-bottom:10px;overflow:hidden;position:relative;width:100%;will-change:transform}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{border-radius:50%;height:40px;margin:5px;width:40px}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.loader.progress-dark[_ngcontent-%COMP%]:after, .loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:after, .loader.progress[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:before{-webkit-animation:progress 2s ease-in-out infinite;animation:progress 2s ease-in-out infinite;background-size:200px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:200px;z-index:1}.loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.loader.pulse[_ngcontent-%COMP%]{-webkit-animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;-webkit-animation-delay:.5s;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@media (prefers-reduced-motion:reduce){.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%], .loader.pulse[_ngcontent-%COMP%]{-webkit-animation:none;animation:none}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{background-image:none}}@-webkit-keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),t})(),die=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:tV,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function hie(t,i){1&t&&o.GkF(0)}const pie=function(t,i,e,s){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":i,"p-button-icon-top":e,"p-button-icon-bottom":s}};function fie(t,i){if(1&t&&o._UZ(0,"span",4),2&t){const e=o.oxw();o.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),o.Q6J("ngClass",o.l5B(4,pie,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),o.uIk("aria-hidden",!0)}}function mie(t,i){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.uIk("aria-hidden",e.icon&&!e.label),o.xp6(1),o.Oqu(e.label||"\xa0")}}function gie(t,i){if(1&t&&(o.TgZ(0,"span",4),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Tol(e.badgeClass),o.Q6J("ngClass",e.badgeStyleClass()),o.xp6(1),o.Oqu(e.badge)}}const _ie=function(t,i,e,s,a){return{"p-button p-component":!0,"p-button-icon-only":t,"p-button-vertical":i,"p-disabled":e,"p-button-loading":s,"p-button-loading-label-only":a}},yie=["*"];let P0=(()=>{class t{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,un.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&un.addClass(e,s),un.addMultipleClasses(e,this.getIconClass());let a=un.findSingle(this.el.nativeElement,".p-button-label");a?this.el.nativeElement.insertBefore(e,a):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=un.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=un.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(un.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),nV=(()=>{class t{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-button"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:yie,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(l){return s.onClick.emit(l)})("focus",function(l){return s.onFocus.emit(l)})("blur",function(l){return s.onBlur.emit(l)}),o.Hsn(1),o.YNc(2,hie,1,0,"ng-container",1),o.YNc(3,fie,1,9,"span",2),o.YNc(4,mie,2,2,"span",3),o.YNc(5,gie,2,4,"span",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("disabled",s.disabled||s.loading)("ngClass",o.qbA(10,_ie,s.icon&&!s.label,("top"===s.iconPos||"bottom"===s.iconPos)&&s.label,s.disabled||s.loading,s.loading,s.loading&&!s.icon&&s.label)),o.uIk("type",s.type),o.xp6(2),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate&&(s.icon||s.loading)),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate&&s.badge))},directives:[W_,Gi,pe,qr,cn],encapsulation:2,changeDetection:0}),t})(),ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m]]}),t})();const vie=["content"];function bie(t,i){1&t&&o.GkF(0)}function xie(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,bie,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function wie(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.xp6(1),o.Oqu(e.option("header"))}}const Cie=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Mie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",17),o.qZA()}2&t&&o.Q6J("ngClass",o.DdM(1,Cie))}function Tie(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,wie,2,1,"span",12),o.TgZ(2,"div",13),o.YNc(3,Mie,2,2,"button",14),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("header")),o.xp6(2),o.Q6J("ngIf",e.closable)}}function Sie(t,i){if(1&t&&o._UZ(0,"i",1),2&t){const e=o.oxw(3);o.Tol(e.option("icon")),o.Q6J("ngClass","p-confirm-dialog-icon")}}function kie(t,i){1&t&&o.GkF(0)}function Eie(t,i){if(1&t&&(o.TgZ(0,"div",18),o.Hsn(1),o.YNc(2,kie,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function Die(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).reject()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("rejectButtonStyleClass")),o.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),o.uIk("aria-label",e.rejectAriaLabel)}}function Aie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).accept()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("acceptButtonStyleClass")),o.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),o.uIk("aria-label",e.acceptAriaLabel)}}function Iie(t,i){if(1&t&&(o.TgZ(0,"div",18),o.YNc(1,Die,1,6,"button",19),o.YNc(2,Aie,1,6,"button",19),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("rejectVisible")),o.xp6(1),o.Q6J("ngIf",e.option("acceptVisible"))}}const Lie=function(t){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":t}},Pie=function(t,i){return{transform:t,transition:i}},Oie=function(t){return{value:"visible",params:t}};function Rie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mousedown",function(){return o.CHM(e),o.oxw(2).moveOnTop()})("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(1,xie,2,1,"div",4),o.YNc(2,Tie,4,2,"div",4),o.TgZ(3,"div",5,6),o.YNc(5,Sie,1,3,"i",7),o._UZ(6,"span",8),o.qZA(),o.YNc(7,Eie,3,1,"div",9),o.YNc(8,Iie,3,2,"div",9),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.VKq(11,Lie,e.rtl))("ngStyle",e.style)("@animation",o.VKq(16,Oie,o.WLB(13,Pie,e.transformOptions,e.transitionOptions))),o.xp6(1),o.Q6J("ngIf",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(3),o.Q6J("ngIf",e.option("icon")),o.xp6(1),o.Q6J("innerHTML",e.option("message"),o.oJD),o.xp6(1),o.Q6J("ngIf",e.footer||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function Fie(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,Rie,9,18,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",e.getMaskClass()),o.xp6(1),o.Q6J("ngIf",e.visible)}}const Nie=[[["p-footer"]]],zie=["p-footer"],Bie=En([ye({transform:"{{transform}}",opacity:0}),yi("{{transition}}",ye({transform:"none",opacity:1}))]),Yie=En([yi("{{transition}}",ye({transform:"{{transform}}",opacity:0}))]);let kI=(()=>{class t{constructor(e,s,a,l,h,y){this.el=e,this.renderer=s,this.confirmationService=a,this.zone=l,this.cd=h,this.config=y,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new o.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=Vy(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{C?C.key===this.key&&(this.confirmation=C,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const s=this.confirmationOptions||this;if(s.hasOwnProperty(e))return s[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=un.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,"");const s=this.getElementToFocus();s&&s.focus(),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality()}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide()}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return un.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return un.findSingle(this.container,".p-confirm-dialog-reject");case"close":return un.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return un.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):un.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&un.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&un.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Uy.CANCEL),this.hide(Uy.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++un.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(un.zindex-1)))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const s=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(a=>a===this.position);return s?`p-dialog-${s}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{if(27==s.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===un.zindex+this.baseZIndex&&this.visible&&this.close(s),9===s.which&&this.focusTrap){s.preventDefault();let a=un.getFocusableElements(this.container);if(a&&a.length>0)if(a[0].ownerDocument.activeElement){let l=a.indexOf(a[0].ownerDocument.activeElement);s.shiftKey?-1==l||0===l?a[a.length-1].focus():a[l-1].focus():-1==l||l===a.length-1?a[0].focus():a[l+1].focus()}else a[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Uy.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Uy.REJECT),this.hide(Uy.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(ta.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(ta.REJECT)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Qm),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmDialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,Ox,5),o.Suo(a,Il,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footer=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(vie,5),2&e){let a;o.iGM(a=o.CRH())&&(s.contentViewChild=a.first)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:zie,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&(o.F$t(Nie),o.YNc(0,Fie,2,4,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[cn,pe,Gi,qr,W_,P0],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[fs("animation",[Et("void => visible",[Lr(Bie)]),Et("visible => void",[Lr(Yie)])])]},changeDetection:0}),t})(),Hie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,ab,_m],ab,Ll]}),t})();const Vie=["primaryValueBar"];class Uie{constructor(i){this._elementRef=i}}const jie=H1(Uie,"primary"),Zie=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(De),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let Gie=0,iV=(()=>{class t extends jie{constructor(e,s,a,l){super(e),this._elementRef=e,this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Ba.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Gie++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(e){this._value=rV(gc(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=rV(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Gv(e,"transitionend").pipe(T(s=>s.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Ff,8),o.Y36(Zie,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(e,s){if(1&e&&o.Gf(Vie,5),2&e){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,s){2&e&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[Gi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function rV(t,i=0,e=100){return Math.max(i,Math.min(e,t))}let sV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Hs],Hs]}),t})();function qie(t,i){1&t&&(o.TgZ(0,"div",25),o._UZ(1,"mat-progress-bar",26),o.qZA())}function $ie(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"No"),o.qZA())}function Qie(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.x)}}function Jie(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Item Name"),o.qZA()),2&t&&o.Udp("width","30%")}function Xie(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function Kie(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Quantity"),o.qZA())}function ere(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.key)}}function tre(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Lowest Margin"),o.qZA()),2&t&&o.Udp("width","10%")}function nre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"input",29),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().update(a,h.id)})("keyup.enter",function(a){const h=o.CHM(e).$implicit;return o.oxw().update(a,h.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("value",e.lowestmargin)}}function ire(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1," Action"),o.qZA())}const rre=function(t){return["/adminviewhistory/",t]};function sre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"button",30),o._uU(2,"VIEW HISTORY"),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.id)}),o._uU(4,"DELETE"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(2,rre,e.id)),o.xp6(2),o.Q6J("disabled",e.key>0)}}function ore(t,i){1&t&&o._UZ(0,"tr",32)}function are(t,i){1&t&&o._UZ(0,"tr",33)}function lre(t,i){if(1&t&&(o.TgZ(0,"tr",34),o.TgZ(1,"td",35),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(14);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const cre=function(){return[5,10,20]};let ure=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.admins=s,this.confirmationService=a,this.primengConfig=l,this.temp=!0,this.isLoading2=new mc(this.temp),this.displayedColumns=["x","id","key","lowestmargin","action"],this.data=[],this.index=0,this.tableinfo$=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges(),this.tableinfo$.subscribe(h=>{this.data=[];let y=1;h.map(C=>{let P={x:y+++".",id:C.payload.doc.id,key:C.payload.doc.data().quantity,lowestmargin:C.payload.doc.data().lowestmargin};this.data.push(P),console.log(this.data),this.dataSource=new sw(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoading2=new mc(!1)})})}ngOnInit(){this.primengConfig.ripple=!0}ngAfterViewInit(){}update(e,s){console.log(e.target.value),console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(s).update({lowestmargin:e.target.value})}delete(e){this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e).delete()}})}value(e){console.log(e)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase().toString()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(MI),o.Y36(Qm),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-manage-inventory"]],viewQuery:function(e,s){if(1&e&&(o.Gf(L0,5),o.Gf(ib,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},features:[o._Bn([Qm])],decls:39,vars:10,consts:[["class","loader-container",4,"ngIf"],[1,"title"],["id","invtitle"],["id","add","mat-raised-button","","routerLink","/adminaddorder"],["appearance","standard","id","filter"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Egg",3,"keyup"],["input",""],["id","table",1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","x"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"name"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","key"],["matColumnDef","lowestmargin"],["matColumnDef","action"],["count","1","appearance","line"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"loader-container"],["mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["type","number","id","form1","min","0",1,"form-control",3,"value","click","keyup.enter"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.YNc(2,qie,2,0,"div",0),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"h4",2),o._uU(6,"Manage Inventory"),o.qZA(),o.TgZ(7,"button",3),o._uU(8,"ADD ORDER"),o.qZA(),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"mat-label"),o._UZ(11,"i",5),o._uU(12," Search"),o.qZA(),o.TgZ(13,"input",6,7),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"table",9),o.ynx(17,10),o.YNc(18,$ie,2,0,"th",11),o.YNc(19,Qie,2,1,"td",12),o.BQk(),o.TgZ(20,"div",13),o.ynx(21,14),o.YNc(22,Jie,2,2,"th",15),o.YNc(23,Xie,2,1,"td",12),o.BQk(),o.qZA(),o.ynx(24,16),o.YNc(25,Kie,2,0,"th",11),o.YNc(26,ere,2,1,"td",12),o.BQk(),o.ynx(27,17),o.YNc(28,tre,2,2,"th",15),o.YNc(29,nre,2,1,"td",12),o.BQk(),o.ynx(30,18),o.YNc(31,ire,2,0,"th",11),o.YNc(32,sre,5,4,"td",12),o._UZ(33,"ngx-skeleton-loader",19),o.BQk(),o.YNc(34,ore,1,0,"tr",20),o.YNc(35,are,1,0,"tr",21),o.YNc(36,lre,3,1,"tr",22),o.qZA(),o._UZ(37,"mat-paginator",23),o.qZA(),o._UZ(38,"p-confirmDialog",24),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,7,s.isLoading2)),o.xp6(14),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(18),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(9,cre)))},directives:[Z_,cn,xu,Yy,I0,rb,ow,yS,ib,mC,fC,pC,uie,vS,bS,CS,L0,kI,iV,gC,cI,_C,xS,wS],pipes:[$l],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}.tableInv[_ngcontent-%COMP%]{margin:20px}.mat-elevation-z8[_ngcontent-%COMP%]{width:90%;margin:auto}td[_ngcontent-%COMP%]:hover{background:#f5f5f5}.title[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#add[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3.4rem;margin-top:20px}#invtitle[_ngcontent-%COMP%]{position:absolute;left:0;margin-left:3.4rem;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px}button[_ngcontent-%COMP%]:hover{color:red}button[_ngcontent-%COMP%]:disabled{background:grey}#table[_ngcontent-%COMP%]{margin-top:8rem}#filter[_ngcontent-%COMP%]{position:absolute;right:4.5rem;z-index:999;top:8rem}ngx-skeleton-loader[_ngcontent-%COMP%]{z-index:99}"]}),t})(),e_=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.router=s,this.fauth=a,this.fs=l}canActivate(e,s){var a=this;return Rr(function*(){return 0!=(yield a.auth.getAdminStatus())||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(y0),o.LFG(ea),o.LFG(ci),o.LFG(Co))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wd=(()=>{class t{constructor(e,s,a){this.auth=e,this.router=s,this.fauth=a}canActivate(e,s){return this.fauth.authState.pipe((0,Fi.U)(a=>!!a||(this.router.navigate([""],{queryParams:{returnUrl:s.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(y0),o.LFG(ea),o.LFG(ci))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EI=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.as=s,this.fs=a,this.router=l}canActivate(e,s){var a=this;return Rr(function*(){let l=yield a.as.getStudentStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ci),o.LFG(y0),o.LFG(Co),o.LFG(ea))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function hre(t,i){}const oV=new o.OlP("MatSnackBarData");class DI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const pre=Math.pow(2,31)-1;class JR{constructor(i,e){this._overlayRef=e,this._afterDismissed=new ri.xQ,this._afterOpened=new ri.xQ,this._onAction=new ri.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,pre))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let fre=(()=>{class t{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(JR),o.Y36(oV))},t.\u0275cmp=o.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,dre,3,1,"div",0)),2&e&&(o.xp6(1),o.Oqu(s.data.message),o.xp6(1),o.Q6J("ngIf",s.hasAction))},directives:[cn,xu],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const mre={snackBarState:fs("state",[Ne("void, hidden",ye({transform:"scale(0.8)",opacity:0})),Ne("visible",ye({transform:"scale(1)",opacity:1})),Et("* => visible",yi("150ms cubic-bezier(0, 0, 0.2, 1)")),Et("* => void, * => hidden",yi("75ms cubic-bezier(0.4, 0.0, 1, 1)",ye({opacity:0})))])};let gre=(()=>{class t extends uI{constructor(e,s,a,l,h){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=a,this._platform=l,this.snackBarConfig=h,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ri.xQ,this._onExit=new ri.xQ,this._onEnter=new ri.xQ,this._animationState="void",this.attachDomPortal=y=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(y)),this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:s,toState:a}=e;if(("void"===a&&"void"!==s||"hidden"===a)&&this._completeExit(),"visible"===a){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(we(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(a=>e.classList.add(a)):e.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ta),o.Y36(DI))},t.\u0275cmp=o.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,s){if(1&e&&o.Gf(iw,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,s){1&e&&o.WFA("@state.done",function(l){return s.onAnimationEnd(l)}),2&e&&o.d8E("@state",s._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,hre,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",s._live)("role",s._role))},directives:[iw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[mre.snackBarState]}}),t})(),aV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pS,dI,$i,dO,Hs],Hs]}),t})();const lV=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new DI}});let cV=(()=>{class t{constructor(e,s,a,l,h,y){this._overlay=e,this._live=s,this._injector=a,this._breakpointObserver=l,this._parentSnackBar=h,this._defaultConfig=y,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=fre,this.snackBarContainerComponent=gre,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",a){const l=Object.assign(Object.assign({},this._defaultConfig),a);return l.data={message:e,action:s},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:DI,useValue:s}]}),h=new aC(this.snackBarContainerComponent,s.viewContainerRef,l),y=e.attach(h);return y.instance.snackBarConfig=s,y.instance}_attach(e,s){const a=Object.assign(Object.assign(Object.assign({},new DI),this._defaultConfig),s),l=this._createOverlay(a),h=this._attachSnackBarContainer(l,a),y=new JR(h,l);if(e instanceof o.Rgc){const C=new A0(e,null,{$implicit:a.data,snackBarRef:y});y.instance=h.attachTemplatePortal(C)}else{const C=this._createInjector(a,y),P=new aC(e,void 0,C),j=h.attachComponentPortal(P);y.instance=j.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(na(l.detachments())).subscribe(C=>{const P=l.overlayElement.classList;C.matches?P.add(this.handsetCssClass):P.remove(this.handsetCssClass)}),a.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(y,a),this._openedSnackBarRef=y,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new dS;s.direction=e.direction;let a=this._overlay.position().global();const l="rtl"===e.direction,h="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,y=!h&&"center"!==e.horizontalPosition;return h?a.left("0"):y?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),s.positionStrategy=a,this._overlay.create(s)}_createInjector(e,s){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:JR,useValue:s},{provide:oV,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(rg),o.LFG(mt),o.LFG(o.zs3),o.LFG(BR),o.LFG(t,12),o.LFG(lV))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(rg),(0,o.LFG)(mt),(0,o.LFG)(o.gxx),(0,o.LFG)(BR),(0,o.LFG)(t,12),(0,o.LFG)(lV))},token:t,providedIn:aV}),t})();function yre(t,i){1&t&&(o.TgZ(0,"div",17),o._uU(1," Email Address is not registered. "),o.qZA())}function vre(t,i){1&t&&o._UZ(0,"i",20)}function bre(t,i){1&t&&o._UZ(0,"i",21)}function xre(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,vre,1,0,"i",18),o.YNc(2,bre,1,0,"i",19),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.fp.errors.required),o.xp6(1),o.Q6J("ngIf",e.fp.errors.email)}}let wre=(()=>{class t{constructor(e,s,a,l){this.fb=e,this.service=s,this._snackBar=a,this.router=l,this.form2=this.fb.group({fpassword:["",[Pl.required,Pl.email]]})}ngOnInit(){}get fp(){return this.form2.get("fpassword")}forgotPassword(){var e=this;return Rr(function*(){let s=yield e.service.forgotPassword(e.form2.get("fpassword").value);1==s?(e.form2.setErrors({notfound:!1}),e._snackBar.open("Forgot Password Email Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):0==s&&e.form2.setErrors({notfound:!0})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(M0),o.Y36(y0),o.Y36(cV),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgotpassword-page"]],decls:26,vars:4,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"forgotpassword"],["class","alert alert-danger",4,"ngIf"],["action","",3,"formGroup"],[1,"error"],["type","email","placeholder","Email Address","required","","formControlName","fpassword"],[4,"ngIf"],[3,"disabled","click"],[1,"special"],["routerLink","/","href",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Please enter your email address.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of email address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Please enter your email address.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of email address is invalid.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Forgot Password?"),o.qZA(),o.YNc(14,yre,2,0,"div",7),o.TgZ(15,"form",8),o.TgZ(16,"div",9),o._UZ(17,"input",10),o.YNc(18,xre,3,2,"div",11),o.qZA(),o.TgZ(19,"button",12),o.NdJ("click",function(){return s.forgotPassword()}),o._uU(20," Reset Password "),o.qZA(),o.TgZ(21,"div",13),o.TgZ(22,"a",14),o._uU(23,"Back to Login?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(24,"svg",15),o._UZ(25,"path",16),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("ngIf",1==(null==s.form2.errors?null:s.form2.errors.notfound)),o.xp6(1),o.Q6J("formGroup",s.form2),o.xp6(3),o.Q6J("ngIf",s.fp.touched&&s.fp.invalid),o.xp6(1),o.Q6J("disabled",s.form2.invalid))},directives:[cn,q_,G_,ng,Gg,G1,zh,Qy,B_],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.forgotpassword[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}h3[_ngcontent-%COMP%]{margin-left:.6rem}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;margin-left:4.8rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;margin-top:-1rem}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:2rem;top:-2rem;left:-2.5rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}.special[_ngcontent-%COMP%]{margin-left:1rem}}']}),t})();const uV=["container"],Cre=function(t,i,e,s){return{"pi-info-circle":t,"pi-exclamation-triangle":i,"pi-times-circle":e,"pi-check":s}};function Mre(t,i){if(1&t&&(o.ynx(0),o._UZ(1,"span",6),o.TgZ(2,"div",7),o.TgZ(3,"div",8),o._uU(4),o.qZA(),o.TgZ(5,"div",9),o._uU(6),o.qZA(),o.qZA(),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),o.Q6J("ngClass",o.l5B(5,Cre,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),o.xp6(3),o.Oqu(e.message.summary),o.xp6(2),o.Oqu(e.message.detail)}}function Tre(t,i){1&t&&o.GkF(0)}function Sre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)}),o._UZ(1,"span",11),o.qZA()}}const kre=function(t){return[t,"p-toast-message"]},Ere=function(t,i,e,s){return{showTransformParams:t,hideTransformParams:i,showTransitionParams:e,hideTransitionParams:s}},Dre=function(t){return{value:"visible",params:t}},Are=function(t){return{$implicit:t}};function Ire(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-toastItem",3),o.NdJ("onClose",function(a){return o.CHM(e),o.oxw().onMessageClose(a)})("@toastAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw();o.Q6J("message",e)("index",s)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}let Lre=(()=>{class t{constructor(e){this.zone=e,this.onClose=new o.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,s){if(1&e&&o.Gf(uV,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()}),o.TgZ(2,"div",2),o.YNc(3,Mre,7,10,"ng-container",3),o.YNc(4,Tre,1,0,"ng-container",4),o.YNc(5,Sre,2,0,"button",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.message.styleClass),o.Q6J("ngClass",o.VKq(10,kre,"p-toast-message-"+s.message.severity))("@messageState",o.VKq(17,Dre,o.l5B(12,Ere,s.showTransformOptions,s.hideTransformOptions,s.showTransitionOptions,s.hideTransitionOptions))),o.uIk("id",s.message.id),o.xp6(2),o.Q6J("ngClass",s.message.contentStyleClass),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(19,Are,s.message)),o.xp6(1),o.Q6J("ngIf",!1!==s.message.closable))},directives:[pe,cn,qr,W_],encapsulation:2,data:{animation:[fs("messageState",[Ne("visible",ye({transform:"translateY(0)",opacity:1})),Et("void => *",[ye({transform:"{{showTransformParams}}",opacity:0}),yi("{{showTransitionParams}}")]),Et("* => void",[yi("{{hideTransitionParams}}",ye({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t})(),O0=(()=>{class t{constructor(e,s,a){this.messageService=e,this.cd=s,this.config=a,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new o.vpe,this.id=Vy()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const s=e.filter(a=>this.canAdd(a));this.add(s)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.autoZIndex&&iu.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let s=this.key===e.key;return s&&this.preventOpenDuplicates&&(s=!this.containsMessage(this.messages,e)),s&&this.preventDuplicates&&(s=!this.containsMessage(this.messagesArchieve,e)),s}containsMessage(e,s){return!!e&&null!=e.find(a=>a.summary===s.summary&&a.detail==s.detail&&a.severity===s.severity)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template}})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++un.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints){let a="";for(let l in this.breakpoints[s])a+=l+":"+this.breakpoints[s][l]+" !important;";e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-toast[${this.id}] {\n                           ${a}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&iu.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(mm),o.Y36(o.sBO),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toast"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(uV,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,Ire,1,8,"p-toastItem",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toast p-component p-toast-"+s.position)("ngStyle",s.style),o.xp6(2),o.Q6J("ngForOf",s.messages))},directives:[pe,Gi,ft,Lre],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[fs("toastAnimation",[Et(":enter, :leave",[to("@*",Xi())])])]},changeDetection:0}),t})(),Pre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m],Ll]}),t})();function Ore(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",24),o._uU(1," Please verify your email address. "),o.TgZ(2,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendVerifyEmail()}),o._uU(3," Click"),o.qZA(),o._uU(4," Here to send the verification email again. "),o.qZA()}}function Rre(t,i){1&t&&(o.TgZ(0,"div",24),o._uU(1," Your password is invalid. "),o.qZA())}function Fre(t,i){1&t&&(o.TgZ(0,"div",24),o._uU(1," Your email address is not registered. "),o.qZA())}function Nre(t,i){1&t&&o._UZ(0,"i",28)}function zre(t,i){1&t&&o._UZ(0,"i",29)}function Bre(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,Nre,1,0,"i",26),o.YNc(2,zre,1,0,"i",27),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.required),o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.email)}}function Yre(t,i){1&t&&o._UZ(0,"i",31)}function Hre(t,i){if(1&t&&(o.TgZ(0,"div",9),o.YNc(1,Yre,1,0,"i",30),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.getpassword.errors.required)}}const Vre=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let Ure=(()=>{class t{constructor(e,s,a){this.fb=e,this.service=s,this.messageService=a,this.email="",this.password="",this.errMessage="",this.visibility=!0,this.form=e.group({email:["",[Pl.required,Pl.email]],password:["",[Pl.required]]})}ngOnInit(){}example(e){return(0,Di.of)(e)}onVisible(){this.visibility=!this.visibility}login(){var e=this;return Rr(function*(){console.log(e.form),yield e.service.login(e.form.value.email,e.form.value.password),console.log(yield e.service.getStudentStatus());const a=yield e.service.getStudentStatus(),l=yield e.service.getSupplierStatus();console.log(a,l),a||e.messageService.add({key:"myKey1",severity:"error",summary:"Permission Info",detail:"Please contact the administrator to approve your status!"}),l||e.messageService.add({key:"myKey2",severity:"error",summary:"Permission Info",detail:"Please contact the administrator to approve your status!"}),!1===e.service.emailVerified?e.form.setErrors({emailVerify:!0,wrongpassword:!1,notregister:!1}):!1===e.service.passwordVerified?(console.log("wrong password ts"),e.form.setErrors({wrongpassword:!0,notregister:!1})):!1===e.service.userVerified&&(console.log("object"),e.form.setErrors({notregister:!0,wrongpassword:!1}))})()}sendVerifyEmail(){this.service.verificationemail()}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(M0),o.Y36(y0),o.Y36(mm))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home-page"]],decls:36,vars:13,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"error"],["type","email","name","email","formControlName","email","placeholder","Email Address","required","",1,"icon-email",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"visible"],["name","password","placeholder","Password","formControlName","password","required","",1,"icon-password",3,"type"],[1,"far",3,"ngClass","click"],["class","error",4,"ngIf"],[1,"special"],["routerLink","/register",1,"new-user"],["routerLink","/forgotpassword",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],["position","top-center","key","myKey1"],["position","top-center","key","myKey2"],[1,"alert","alert-danger"],[1,"link",3,"click"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip"," Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",4,"ngIf"],["id","tooltip","data-tooltip"," Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"User Login"),o.qZA(),o.TgZ(14,"form",7),o.YNc(15,Ore,5,0,"div",8),o.YNc(16,Rre,2,0,"div",8),o.YNc(17,Fre,2,0,"div",8),o.TgZ(18,"div",9),o.TgZ(19,"input",10),o.NdJ("ngModelChange",function(l){return s.email=l}),o.qZA(),o.YNc(20,Bre,3,2,"div",11),o.qZA(),o.TgZ(21,"div",12),o._UZ(22,"input",13),o.TgZ(23,"i",14),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(24,Hre,2,1,"div",15),o.TgZ(25,"div",16),o.TgZ(26,"a",17),o._uU(27,"New User? Create one!"),o.qZA(),o.TgZ(28,"a",18),o._uU(29,"Forgot Password?"),o.qZA(),o.qZA(),o.TgZ(30,"button",19),o.NdJ("click",function(){return s.login()}),o._uU(31,"Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(32,"svg",20),o._UZ(33,"path",21),o.qZA(),o.qZA(),o.kcU(),o._UZ(34,"p-toast",22),o._UZ(35,"p-toast",23)),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",null==s.form.error?null:s.form.error.emailVerify),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.wrongpassword)),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.notregister)),o.xp6(2),o.Q6J("ngModel",s.email),o.xp6(1),o.Q6J("ngIf",s.emailaddress.invalid&&s.emailaddress.touched),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(10,Vre,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.getpassword.touched&&s.getpassword.invalid),o.xp6(6),o.Q6J("disabled",s.form.invalid))},directives:[q_,G_,ng,cn,Gg,zh,Qy,G1,pe,B_,O0],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.alert.alert-danger[_ngcontent-%COMP%]{text-align:justify}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;margin-left:10%;position:relative}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}.link[_ngcontent-%COMP%]{color:red;text-decoration:underline;margin:0}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 1rem 2px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}p[_ngcontent-%COMP%]{font-size:12px;height:1px;margin-top:-10px;color:red}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:1rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}}']}),t})();class XR{constructor(){}static passwordVerification(i){let e=i.get("rpassword"),s=i.get("rconfirmpassword");return(null==e?void 0:e.value)!==(null==s?void 0:s.value)?{passwordVerification:!0}:null}static checkRole(i){return"Role"===i.value?(console.log("Role"),{checkRole:!0}):null}static checkGender(i){return"Gender"===i.value?(console.log("Gender"),{gender:!0}):null}static checkMatricCard(i){return"Matric Card Number"===i.value?(console.log("Matric Card Number"),{checkMatrixCard:!0}):null}static checkCompanyName(i){return"Company Name"===i.value?(console.log("Matrix Card"),{checkMatrixCard:!0}):null}}let jre=(()=>{class t{constructor(e){this.el=e}onBlur(){this.el.nativeElement.value=this.el.nativeElement.value.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","appRegisterD",""]],hostBindings:function(e,s){1&e&&o.NdJ("blur",function(){return s.onBlur()})}}),t})();function Zre(t,i){1&t&&o._UZ(0,"i",34)}function Wre(t,i){1&t&&o._UZ(0,"i",35)}function Gre(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,Zre,1,0,"i",32),o.YNc(2,Wre,1,0,"i",33),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.e.errors.required),o.xp6(1),o.Q6J("ngIf",e.e.errors.email)}}function qre(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Email Address is existed. "),o.qZA())}function $re(t,i){1&t&&o._UZ(0,"i",39)}function Qre(t,i){1&t&&o._UZ(0,"i",40)}function Jre(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,$re,1,0,"i",37),o.YNc(2,Qre,1,0,"i",38),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.p.errors.required),o.xp6(1),o.Q6J("ngIf",e.p.errors.minlength)}}function Xre(t,i){1&t&&o._UZ(0,"i",39)}function Kre(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,Xre,1,0,"i",37),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.cp.errors.required)}}function ese(t,i){1&t&&(o.TgZ(0,"div",31),o._UZ(1,"i",41),o.qZA())}function tse(t,i){1&t&&o._UZ(0,"i",43)}function nse(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,tse,1,0,"i",42),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.name.errors.required)}}function ise(t,i){1&t&&o._UZ(0,"i",45)}function rse(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,ise,1,0,"i",44),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.pn.errors.required)}}function sse(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Date of Birth is required. "),o.qZA())}function ose(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,sse,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.d.errors.required)}}function ase(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Gender is required. "),o.qZA())}function lse(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,ase,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.g.errors.required)}}function cse(t,i){1&t&&o._UZ(0,"i",47)}function use(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,cse,1,0,"i",46),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.r.errors.role)}}function dse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",48),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}function hse(t,i){1&t&&o._UZ(0,"i",50)}function pse(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,hse,1,0,"i",49),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.matrix.errors.role)}}function fse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",51),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}const dV=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let mse=(()=>{class t{constructor(e,s,a,l,h,y){this.fb=e,this.auth=s,this.firestore=a,this.service=l,this._snackBar=h,this.router=y,this.visibility=!0,this.triggedMessage=!0,this.student=!1,this.supplier=!1,this.form1=e.group({remail:["",[Pl.required,Pl.email]],rpassword:["",[Pl.required,Pl.minLength]],rconfirmpassword:["",[Pl.required]],name:["",[Pl.required]],phonenumber:["",Pl.required],date:["",Pl.required],role:["Role",[Pl.required,XR.checkRole]],gender:["Gender",[Pl.required,XR.checkGender]],matrix:[""],comp:[""]},{validator:XR.passwordVerification})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}getRole(e){this.role=e.target.value,1==this.role?(this.student=!0,this.supplier=!1):2==this.role?(this.supplier=!0,this.student=!1):"Role"==this.role&&(this.student=!1,this.supplier=!1),console.log(this.role)}checkform(e){console.log(e);for(let s in this.form1.controls)this.form1.controls[s].errors&&console.log(s)}checkEmpty(e){console.log(e.target.value.length),0==e.target.value.length?this.form1.setErrors({matrixError:!0}):e.target.value.length>0&&this.form1.setErrors(null)}getDate(e){this.date=e.target.value}getGender(e){this.gender=e.target.value}get cp(){return this.form1.get("rconfirmpassword")}get p(){return this.form1.get("rpassword")}get e(){return this.form1.get("remail")}get name(){return this.form1.get("name")}get pn(){return this.form1.get("phonenumber")}get d(){return this.form1.get("date")}get g(){return this.form1.get("gender")}get r(){return this.form1.get("role")}get matrix(){return this.form1.get("matrix")}get comp(){return this.form1.get("comp")}submit(){var e=this;return Rr(function*(){var s,a,l,h,y,C,P,j,te;yield e.service.checkExistedEmail(null===(s=e.form1.get("remail"))||void 0===s?void 0:s.value),console.log(e.service.emailExistedStatus);let he=yield e.service.register(null===(a=e.form1.get("remail"))||void 0===a?void 0:a.value,e.form1.get("rpassword").value,null===(l=e.form1.get("role"))||void 0===l?void 0:l.value,null===(h=e.form1.get("name"))||void 0===h?void 0:h.value,null===(y=e.form1.get("date"))||void 0===y?void 0:y.value,null===(C=e.form1.get("phonenumber"))||void 0===C?void 0:C.value,null===(P=e.form1.get("gender"))||void 0===P?void 0:P.value,null===(j=e.form1.get("matrix"))||void 0===j?void 0:j.value,null===(te=e.form1.get("comp"))||void 0===te?void 0:te.value);1==he?(e.form1.setErrors({emailExist:!0}),console.log(e.form1)):e.form1.setErrors({emailExist:!1}),!0===he.validate?(e._snackBar.open("Register Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):e._snackBar.open("Please try again!","Close",{duration:3e3,verticalPosition:"top"})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(M0),o.Y36(ci),o.Y36(Co),o.Y36(y0),o.Y36(cV),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-register-page"]],decls:59,vars:25,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"registration"],[3,"formGroup","change"],["type","text","placeholder","Email Address","formControlName","remail","required","",1,"icon-email"],["class","error",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"visible"],["name","rpassword","placeholder","Password","required","","formControlName","rpassword","minlength","6",1,"i",3,"type"],[1,"far",3,"ngClass","click"],["name","rconfirmpassword","placeholder","Confirm Password","required","","formControlName","rconfirmpassword",1,"i",3,"type"],["type","text","name","","placeholder","Name","formControlName","name","required","","appRegisterD","",1,"i"],["type","text","placeholder","Phone Number","formControlName","phonenumber","required","",1,"i"],["type","date","placeholder","Date","formControlName","date","required","",1,"i",3,"change"],[4,"ngIf"],["aria-label","Default select example","formControlName","gender","required","",1,"form-select",3,"change"],["selected",""],["value","1"],["value","2"],["aria-label","Default select example","required","","formControlName","role",1,"form-select","mt-2",3,"change"],["type","text","placeholder","Matrix Card Number","formControlName","matrix","class","i",3,"change",4,"ngIf"],["type","text","placeholder","Company Name","formControlName","comp","class","i",3,"change",4,"ngIf"],[1,"special"],["routerLink","/",1,"new-user"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"error"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of Email Address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of Email Address is invalid.",1,"fas","fa-exclamation-triangle"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Password is not matched.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Name is required.",4,"ngIf"],["id","tooltip","data-tooltip","Name is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Phone Number is required.",4,"ngIf"],["id","tooltip","data-tooltip","Phone Number is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Role is required.",4,"ngIf"],["id","tooltip","data-tooltip","Role is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Matrix Card Number","formControlName","matrix",1,"i",3,"change"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Matrix Card is required.",4,"ngIf"],["id","tooltip","data-tooltip","Matrix Card is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Company Name","formControlName","comp",1,"i",3,"change"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Sign Up "),o.qZA(),o.TgZ(14,"form",7),o.NdJ("change",function(){return s.checkform(s.form1)}),o._UZ(15,"input",8),o.YNc(16,Gre,3,2,"div",9),o.YNc(17,qre,2,0,"div",10),o.TgZ(18,"div",11),o._UZ(19,"input",12),o.TgZ(20,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(21,Jre,3,2,"div",9),o.TgZ(22,"div",11),o._UZ(23,"input",14),o.TgZ(24,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(25,Kre,2,1,"div",9),o.YNc(26,ese,2,0,"div",9),o._UZ(27,"input",15),o.YNc(28,nse,2,1,"div",9),o._UZ(29,"input",16),o.YNc(30,rse,2,1,"div",9),o.TgZ(31,"input",17),o.NdJ("change",function(l){return s.getDate(l)}),o.qZA(),o.YNc(32,ose,2,1,"div",18),o.TgZ(33,"select",19),o.NdJ("change",function(l){return s.getGender(l)}),o.TgZ(34,"option",20),o._uU(35,"Gender"),o.qZA(),o.TgZ(36,"option",21),o._uU(37,"Male"),o.qZA(),o.TgZ(38,"option",22),o._uU(39,"Female"),o.qZA(),o.qZA(),o.YNc(40,lse,2,1,"div",18),o.TgZ(41,"select",23),o.NdJ("change",function(l){return s.getRole(l)}),o.TgZ(42,"option"),o._uU(43,"Role"),o.qZA(),o.TgZ(44,"option",21),o._uU(45,"Student"),o.qZA(),o.TgZ(46,"option",22),o._uU(47,"Supplier"),o.qZA(),o.qZA(),o.YNc(48,use,2,1,"div",9),o.YNc(49,dse,1,0,"input",24),o.YNc(50,pse,2,1,"div",9),o.YNc(51,fse,1,0,"input",25),o.TgZ(52,"div",26),o.TgZ(53,"a",27),o._uU(54,"Already Registered? Login Now!"),o.qZA(),o.qZA(),o.TgZ(55,"button",28),o.NdJ("click",function(){return s.submit()}),o._uU(56,"Sign Up"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(57,"svg",29),o._UZ(58,"path",30),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form1),o.xp6(2),o.Q6J("ngIf",s.e.touched&&s.e.invalid),o.xp6(1),o.Q6J("ngIf",null==s.form1.errors?null:s.form1.errors.emailExist),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(19,dV,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.p.touched&&s.p.invalid),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(22,dV,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.cp.touched&&s.cp.invalid),o.xp6(1),o.Q6J("ngIf",(null==s.form1.errors?null:s.form1.errors.passwordVerification)&&s.cp.valid&&s.p.valid),o.xp6(2),o.Q6J("ngIf",s.name.touched&&s.name.invalid),o.xp6(2),o.Q6J("ngIf",s.pn.touched&&s.pn.invalid),o.xp6(2),o.Q6J("ngIf",s.d.touched&&s.d.invalid),o.xp6(8),o.Q6J("ngIf",s.g.touched&&s.g.invalid),o.xp6(8),o.Q6J("ngIf",s.r.touched&&s.r.invalid),o.xp6(1),o.Q6J("ngIf",1==s.student),o.xp6(1),o.Q6J("ngIf",s.matrix.touched&&s.matrix.invalid),o.xp6(1),o.Q6J("ngIf",1==s.supplier),o.xp6(4),o.Q6J("disabled",s.form1.invalid))},directives:[q_,G_,ng,Gg,zh,Qy,G1,cn,NO,pe,jre,vA,GB,$B,B_],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:400px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;padding-left:8rem}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-4rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;padding-top:10px}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px 2.5px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:-2.25rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100%;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:4rem;top:-2rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999;display:none}.registration[_ngcontent-%COMP%]{margin-top:-1.5rem}.title[_ngcontent-%COMP%]{margin-top:100px}}.i.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}']}),t})(),KR=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Student").doc(h).valueChanges(),this.username$.subscribe(y=>{})})}ngOnInit(){}logout(){this.fauth.signOut(),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ci),o.Y36(ea),o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-navbar-page"]],decls:23,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/studentpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/studentpage",1,"nav-link","active"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/studentprofilepage",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS - Student"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",10),o.TgZ(13,"a",11),o._uU(14),o.ALo(15,"async"),o.qZA(),o.TgZ(16,"ul",12),o.TgZ(17,"li"),o.TgZ(18,"a",13),o._uU(19,"My Profile"),o.qZA(),o.qZA(),o.TgZ(20,"li"),o.TgZ(21,"a",14),o.NdJ("click",function(){return s.logout()}),o._uU(22,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#FED766"),o.xp6(14),o.hij(" ",null==(a=o.lcZ(15,3,s.username$))?null:a.name," ")}},directives:[B_,Y_],pipes:[$l],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})();var hV=Ae(3098);function eF(t,i=Js.P){const s=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-i.now():Math.abs(t);return a=>a.lift(new _se(s,i))}class _se{constructor(i,e){this.delay=i,this.scheduler=e}call(i,e){return e.subscribe(new tF(i,this.delay,this.scheduler))}}class tF extends Lo.L{constructor(i,e,s){super(i),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(i){const e=i.source,s=e.queue,a=i.scheduler,l=i.destination;for(;s.length>0&&s[0].time-a.now()<=0;)s.shift().notification.observe(l);if(s.length>0){const h=Math.max(0,s[0].time-a.now());this.schedule(i,h)}else this.unsubscribe(),e.active=!1}_schedule(i){this.active=!0,this.destination.add(i.schedule(tF.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}scheduleNotification(i){if(!0===this.errored)return;const e=this.scheduler,s=new yse(e.now()+this.delay,i);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(i){this.scheduleNotification(hV.P.createNext(i))}_error(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}_complete(){this.scheduleNotification(hV.P.createComplete()),this.unsubscribe()}}class yse{constructor(i,e){this.time=i,this.notification=e}}const vse=["mat-menu-item",""],pV=["*"];function bse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(a){return o.CHM(e),o.oxw()._onAnimationStart(a)})("@transformMenu.done",function(a){return o.CHM(e),o.oxw()._onAnimationDone(a)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const AI={transformMenu:fs("transformMenu",[Ne("void",ye({opacity:0,transform:"scale(0.8)"})),Et("void => enter",yi("120ms cubic-bezier(0, 0, 0.2, 1)",ye({opacity:1,transform:"scale(1)"}))),Et("* => void",yi("100ms 25ms linear",ye({opacity:0})))]),fadeInItems:fs("fadeInItems",[Ne("showing",ye({opacity:1})),Et("void => *",[ye({opacity:0}),yi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},fV=new o.OlP("MatMenuContent"),nF=new o.OlP("MAT_MENU_PANEL");class xse{}const wse=_0(Gy(xse));let MS=(()=>{class t extends wse{constructor(e,s,a,l){super(),this._elementRef=e,this._focusMonitor=a,this._parentMenu=l,this.role="menuitem",this._hovered=new ri.xQ,this._focused=new ri.xQ,this._highlighted=!1,this._triggersSubmenu=!1,l&&l.addItem&&l.addItem(this)}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,s;const a=this._elementRef.nativeElement.cloneNode(!0),l=a.querySelectorAll("mat-icon, .material-icons");for(let h=0;h<l.length;h++){const y=l[h];null===(e=y.parentNode)||void 0===e||e.removeChild(y)}return(null===(s=a.textContent)||void 0===s?void 0:s.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(De),o.Y36(Qi),o.Y36(nF,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s._checkDisabled(l)})("mouseenter",function(){return s._handleMouseEnter()}),2&e&&(o.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:vse,ngContentSelectors:pV,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,s){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()))},directives:[qy],encapsulation:2,changeDetection:0}),t})();const mV=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Tse=0,TS=(()=>{class t{constructor(e,s,a){this._elementRef=e,this._ngZone=s,this._defaultOptions=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Ba.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ri.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Tse++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=us(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=us(e)}set panelClass(e){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(a=>{this._classList[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{this._classList[a]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new U_(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Oo(this._directDescendantItems),Ps(e=>(0,Qa.T)(...e.map(s=>s._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Oo(this._directDescendantItems),Ps(s=>(0,Qa.T)(...s.map(a=>a._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const s=e.keyCode,a=this._keyManager;switch(s){case 27:Of(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&a.setFocusOrigin("keyboard"),a.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(we(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const s=this._keyManager;if(s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let a=this._directDescendantItems.first._getHostElement().parentElement;for(;a;){if("menu"===a.getAttribute("role")){a.focus();break}a=a.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const a=`mat-elevation-z${Math.min(4+e,24)}`,l=Object.keys(this._classList).find(h=>h.startsWith("mat-elevation-z"));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[a]=!0,this._previousElevation=a)}setPositionClasses(e=this.xPosition,s=this.yPosition){const a=this._classList;a["mat-menu-before"]="before"===e,a["mat-menu-after"]="after"===e,a["mat-menu-above"]="above"===s,a["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Oo(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(mV))},t.\u0275dir=o.lG2({type:t,contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,fV,5),o.Suo(a,MS,5),o.Suo(a,MS,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.lazyContent=l.first),o.iGM(l=o.CRH())&&(s._allItems=l),o.iGM(l=o.CRH())&&(s.items=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(o.Rgc,5),2&e){let a;o.iGM(a=o.CRH())&&(s.templateRef=a.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),gV=(()=>{class t extends TS{constructor(e,s,a){super(e,s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(mV))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,s){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:nF,useExisting:t}]),o.qOj],ngContentSelectors:pV,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,bse,3,6,"ng-template"))},directives:[pe],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[AI.transformMenu,AI.fadeInItems]},changeDetection:0}),t})();const _V=new o.OlP("mat-menu-scroll-strategy"),yV={provide:_V,deps:[rg],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},bV=Bv({passive:!0});let xV=(()=>{class t{constructor(e,s,a,l,h,y,C,P){this._overlay=e,this._element=s,this._viewContainerRef=a,this._menuItemInstance=y,this._dir=C,this._focusMonitor=P,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ba.w.EMPTY,this._hoverSubscription=Ba.w.EMPTY,this._menuCloseSubscription=Ba.w.EMPTY,this._handleTouchStart=j=>{Ln(j)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=h instanceof TS?h:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,bV),y&&(y._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,bV),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),s=e.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof TS&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,s):this._element.nativeElement.focus(s)}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof TS?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(T(a=>"void"===a.toState),we(1),na(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,s=this.menu.parentMenu;for(;s;)e++,s=s.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new dS({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[s,a]="before"===this.menu.xPosition?["end","start"]:["start","end"],[l,h]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[y,C]=[l,h],[P,j]=[s,a],te=0;this.triggersSubmenu()?(j=s="before"===this.menu.xPosition?"start":"end",a=P="end"===s?"start":"end",te="bottom"===l?8:-8):this.menu.overlapTrigger||(y="top"===l?"bottom":"top",C="top"===h?"bottom":"top"),e.withPositions([{originX:s,originY:y,overlayX:P,overlayY:l,offsetY:te},{originX:a,originY:y,overlayX:j,overlayY:l,offsetY:te},{originX:s,originY:C,overlayX:P,overlayY:h,offsetY:-te},{originX:a,originY:C,overlayX:j,overlayY:h,offsetY:-te}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),a=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Di.of)(),l=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(T(h=>h!==this._menuItemInstance),T(()=>this._menuOpen)):(0,Di.of)();return(0,Qa.T)(e,a,l,s)}_handleMousedown(e){en(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const s=e.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(T(e=>e===this._menuItemInstance&&!e.disabled),eF(0,TT.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof TS&&this.menu._isAnimating?this.menu._animationDone.pipe(we(1),eF(0,TT.E),na(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new A0(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(rg),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(_V),o.Y36(nF,8),o.Y36(MS,10),o.Y36(vp,8),o.Y36(Qi))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("mousedown",function(l){return s._handleMousedown(l)})("keydown",function(l){return s._handleKeydown(l)})("click",function(l){return s._handleClick(l)}),2&e&&o.uIk("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),wV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[yV],imports:[Hs]}),t})(),kse=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[yV],imports:[[$i,Hs,V1,pS,wV],DT,Hs,wV]}),t})();var Ese=Ae(205);const Dse=["*"];function CV(t){return Error(`Unable to find icon with the name "${t}"`)}function MV(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function TV(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class aw{constructor(i,e,s){this.url=i,this.svgText=e,this.options=s}}let II=(()=>{class t{constructor(e,s,a,l){this._httpClient=e,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,s,a){return this.addSvgIconInNamespace("",e,s,a)}addSvgIconLiteral(e,s,a){return this.addSvgIconLiteralInNamespace("",e,s,a)}addSvgIconInNamespace(e,s,a,l){return this._addSvgIconConfig(e,s,new aw(a,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,a,l){const h=this._sanitizer.sanitize(o.q3G.HTML,a);if(!h)throw TV(a);return this._addSvgIconConfig(e,s,new aw("",h,l))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,a){return this._addSvgIconSetConfig(e,new aw(s,null,a))}addSvgIconSetLiteralInNamespace(e,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw TV(s);return this._addSvgIconSetConfig(e,new aw("",l,a))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!s)throw MV(e);const a=this._cachedIconsByUrl.get(s);return a?(0,Di.of)(LI(a)):this._loadSvgIconFromConfig(new aw(e,null)).pipe((0,yd.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,Fi.U)(l=>LI(l)))}getNamedSvgIcon(e,s=""){const a=SV(s,e);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,e),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(s);return h?this._getSvgFromIconSetConfigs(e,h):(0,Ese._)(CV(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Di.of)(LI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Fi.U)(s=>LI(s)))}_getSvgFromIconSetConfigs(e,s){const a=this._extractIconWithNameFromAnySet(e,s);return a?(0,Di.of)(a):oB(s.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Ov(y=>{const P=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,h.url)} failed: ${y.message}`;return this._errorHandler.handleError(new Error(P)),(0,Di.of)(null)})))).pipe((0,Fi.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,s);if(!h)throw CV(e);return h}))}_extractIconWithNameFromAnySet(e,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(e)>-1){const h=this._svgElementFromConfig(l),y=this._extractSvgIconFromSet(h,e,l.options);if(y)return y}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,yd.b)(s=>e.svgText=s),(0,Fi.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Di.of)(null):this._fetchIcon(e).pipe((0,yd.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,a){const l=e.querySelector(`[id="${s}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,a);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),a);const y=this._svgElementFromString("<svg></svg>");return y.appendChild(h),this._setSvgAttributes(y,a)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const s=this._svgElementFromString("<svg></svg>"),a=e.attributes;for(let l=0;l<a.length;l++){const{name:h,value:y}=a[l];"id"!==h&&s.setAttribute(h,y)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:a,options:l}=e,h=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const y=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!y)throw MV(a);const C=this._inProgressUrlFetches.get(y);if(C)return C;const P=this._httpClient.get(y,{responseType:"text",withCredentials:h}).pipe(SM(()=>this._inProgressUrlFetches.delete(y)),(0,Op.B)());return this._inProgressUrlFetches.set(y,P),P}_addSvgIconConfig(e,s,a){return this._svgIconConfigs.set(SV(e,s),a),this}_addSvgIconSetConfig(e,s){const a=this._iconSetConfigs.get(e);return a?a.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,e);if(l)return Lse(l)?new aw(l.url,null,l.options):new aw(l,null)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(j_,8),o.LFG(ma),o.LFG(De,8),o.LFG(o.qLn))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(j_,8),(0,o.LFG)(ma),(0,o.LFG)(De,8),(0,o.LFG)(o.qLn))},token:t,providedIn:"root"}),t})();function LI(t){return t.cloneNode(!0)}function SV(t,i){return t+":"+i}function Lse(t){return!(!t.url||!t.options)}class Pse{constructor(i){this._elementRef=i}}const Ose=H1(Pse),Rse=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(De),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),kV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zse=kV.map(t=>`[${t}]`).join(", "),Bse=/^url\(['"]?#(.*?)['"]?\)$/;let PI=(()=>{class t extends Ose{constructor(e,s,a,l,h){super(e),this._iconRegistry=s,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Ba.w.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=us(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=e.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=e.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&e.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(h=>{l.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(zse),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)kV.forEach(h=>{const y=s[l],C=y.getAttribute(h),P=C?C.match(Bse):null;if(P){let j=a.get(y);j||(j=[],a.set(y,j)),j.push({name:h,value:P[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,a]=this._splitIconName(e);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(we(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(II),o.$8M("aria-hidden"),o.Y36(Rse),o.Y36(o.qLn))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Dse,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),EV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs],Hs]}),t})(),Yse=0;class Hse{}const Vse=Gy(Hse);let DV=(()=>{class t extends Vse{constructor(e,s,a,l,h){super(),this._ngZone=e,this._elementRef=s,this._ariaDescriber=a,this._renderer=l,this._animationMode=h,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Yse++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=us(e)}get description(){return this._description}set description(e){if(e!==this._description){const s=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,s&&(e?s.setAttribute("aria-label",e):s.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=us(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const s=e.content;if(s){const a=s.currentValue;this._hasContent=null!=a&&`${a}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),s="mat-badge-active",a="mat-badge-content";return this._clearExistingBadges(a),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(a),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(s)})}):e.classList.add(s),e}_updateHostAriaDescription(e,s){const a=this._updateTextContent();s&&this._ariaDescriber.removeDescription(a,s),e&&this._ariaDescriber.describe(a,e)}_setColor(e){if(e!==this._color){const s=this._elementRef.nativeElement.classList;this._color&&s.remove(`mat-badge-${this._color}`),e&&s.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const s=this._elementRef.nativeElement;let a=s.children.length;for(;a--;){const l=s.children[a];l.classList.contains(e)&&s.removeChild(l)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(yT),o.Y36(o.Qsj),o.Y36(Ff,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,s){2&e&&o.ekj("mat-badge-overlap",s.overlap)("mat-badge-above",s.isAbove())("mat-badge-below",!s.isAbove())("mat-badge-before",!s.isAfter())("mat-badge-after",s.isAfter())("mat-badge-small","small"===s.size)("mat-badge-medium","medium"===s.size)("mat-badge-large","large"===s.size)("mat-badge-hidden",s.hidden||!s._hasContent)("mat-badge-disabled",s.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[o.qOj,o.TTD]}),t})(),Use=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[jv,Hs],Hs]}),t})();function jse(t,i){if(1&t&&(o.TgZ(0,"button",15),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.id," ------\x3e RM",e.data.data.data.price," ")}}function Zse(t,i){1&t&&(o.TgZ(0,"button",16),o._uU(1,"View Cart"),o.qZA())}function Wse(t,i){if(1&t&&o._UZ(0,"img",20),2&t){const e=o.oxw().$implicit;o.Q6J("src",e.data.imageLink,o.LSH)}}function Gse(t,i){if(1&t&&(o.TgZ(0,"li"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.ingredient)}}function qse(t,i){if(1&t){const e=o.EpF();o._uU(0," Ingredient Used: "),o.TgZ(1,"ul"),o.YNc(2,Gse,3,1,"li",14),o.qZA(),o.TgZ(3,"p-button",21),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().addtocart(a)}),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.xp6(2),o.Q6J("ngForOf",e.data.ingredient)}}const $se=function(){return{width:"360px"}};function Qse(t,i){if(1&t&&(o.TgZ(0,"p-card",17),o.YNc(1,Wse,1,1,"ng-template",18),o.YNc(2,qse,4,1,"ng-template",19),o.qZA()),2&t){const e=i.$implicit;o.Akn(o.DdM(4,$se)),o.s9C("header",e.id),o.MGl("subheader","RM ",e.data.price,"")}}function Jse(t,i){if(1&t&&(o.TgZ(0,"li"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.hij("Tracking Number: ",e.data.id,""),o.xp6(2),o.hij("Company Name: ",e.data.companyname,""),o.xp6(2),o.hij("Category: ",e.data.category,"")}}let Xse=(()=>{class t{constructor(e,s,a,l){var h=this;this.fs=e,this.fa=s,this.router=a,this.route=l,this.time=Z1(),this.tiles=[],this.tiles2=[],this.filter3=[],this.info=[],this.display=!1,this.display2=!1,this.ingredient=[],this.ingredient2=[],this.trackingHistory=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.tiles=[],this.tiles2=[],y.map(C=>{let P={id:C.payload.doc.id,data:C.payload.doc.data(),cols:1,rows:1,color:"lightblue"};this.tiles.push(P),console.log(this.tiles)}),this.tiles2=this.tiles.filter(C=>C.data.stock>0),console.log(this.tiles2),this.tiles2.forEach(C=>{C.data.ingredient.forEach(P=>{console.log(P.ingredient),this.ingredient.push(P.ingredient)})}),this.ingredient2=[...this.ingredient],console.log(this.ingredient2),console.log(),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("trackinghistory").get().subscribe(C=>{this.trackingHistory=[],C.forEach(P=>{console.log(P.id.split(" "));const te=P.id.split(" ").slice(0,3).join(" ");if(this.time.format("MMMM Do YYYY")===te){let he={id:P.id,data:P.data()};this.trackingHistory.push(he)}console.log(this.trackingHistory)})})}),this.fa.authState.subscribe(function(){var y=Rr(function*(C){h.uid=yield null==C?void 0:C.uid,h.fs.collection("Student").doc(h.uid).collection("cart").snapshotChanges().subscribe(P=>{h.info=[],P.map(j=>{let te={id:j.payload.doc.id,data:j.payload.doc.data(),quantity:1};h.info.push(te),console.log(h.info)})})});return function(C){return y.apply(this,arguments)}}()),this.router.queryParams.subscribe(y=>{console.log(y.compname),"success"===y.action&&(this.fa.authState.subscribe(j=>{this.fs.collection("Student").doc(null==j?void 0:j.uid).collection("cart").doc(y.productname).delete().then(te=>{console.log("Deleted Successfully"),this.display=!this.display})}),this.fa.authState.subscribe(j=>{let te={productname:y.productname,quantity:y.quantity,amount:y.amount,studentname:y.studentname,status:"await",completetimestamp:null};this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(y.trackingnumber).set(te)}))})}ngOnInit(){}addtocart(e){let s=[];console.log(this.info),this.info.forEach(l=>{s.push(l.id)}),console.log(s.includes(e.id));let a=s.includes(e.id);if(a)a&&this.info.forEach(l=>{l.id==e.id&&this.fs.collection("Student").doc(this.uid).collection("cart").doc(l.id).update({quantity:l.data.quantity+1})});else{let l={data:e,quantity:1};this.fs.collection("Student").doc(this.uid).collection("cart").doc(e.id).set(l)}}clearURL(){this.route.navigateByUrl("/studentpage")}toggle(){this.display2=!this.display2}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ci),o.Y36(Jp),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-home-page"]],decls:23,vars:9,consts:[[1,"container"],["mat-raised-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor","mouseenter"],["menuTrigger","matMenuTrigger"],["matBadgePosition","after","matBadgeColor","accent",3,"matBadge"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-raised-button","","routerLink","/studentcartpage",4,"ngIf"],[1,"menu"],["styleClass","p-card-shadow",3,"header","subheader","style",4,"ngFor","ngForOf"],["header","Payment Info",3,"visible","visibleChange","onHide"],["header","Ingredient Used Today",3,"visible","visibleChange"],[4,"ngFor","ngForOf"],["mat-menu-item",""],["mat-raised-button","","routerLink","/studentcartpage"],["styleClass","p-card-shadow",3,"header","subheader"],["pTemplate","header"],["pTemplate","footer"],["alt","Card",3,"src"],["label","Add to Cart","icon","pi pi-shopping-cart",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"div"),o.TgZ(2,"div",0),o.TgZ(3,"h4"),o._uU(4,"Menu"),o.qZA(),o.TgZ(5,"button",1),o.NdJ("click",function(){return s.toggle()}),o._uU(6,"Ingredient Used Today"),o.qZA(),o.TgZ(7,"button",2,3),o.NdJ("mouseenter",function(){return o.CHM(a),o.MAs(8).openMenu()}),o.TgZ(9,"mat-icon",4),o._uU(10,"shopping_cart"),o.qZA(),o.qZA(),o.TgZ(11,"mat-menu",5,6),o.TgZ(13,"span",7),o.NdJ("mouseleave",function(){return o.CHM(a),o.MAs(8).closeMenu()}),o.YNc(14,jse,2,2,"button",8),o.YNc(15,Zse,2,0,"button",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",10),o.YNc(17,Qse,3,5,"p-card",11),o.qZA(),o.TgZ(18,"p-dialog",12),o.NdJ("visibleChange",function(h){return s.display=h})("onHide",function(){return s.clearURL()}),o._uU(19," Thank you for your purchase. Please kindly wait for your food to serve soon.\n"),o.qZA(),o.TgZ(20,"p-dialog",13),o.NdJ("visibleChange",function(h){return s.display2=h}),o.TgZ(21,"ul"),o.YNc(22,Jse,7,3,"li",14),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(12);o.xp6(7),o.Q6J("matMenuTriggerFor",a),o.xp6(2),o.s9C("matBadge",s.info.length),o.xp6(2),o.Q6J("overlapTrigger",!1),o.xp6(3),o.Q6J("ngForOf",s.info),o.xp6(1),o.Q6J("ngIf",s.info.length>0),o.xp6(2),o.Q6J("ngForOf",s.tiles2),o.xp6(1),o.Q6J("visible",s.display),o.xp6(2),o.Q6J("visible",s.display2),o.xp6(2),o.Q6J("ngForOf",s.trackingHistory)}},directives:[KR,xu,xV,PI,DV,gV,ft,cn,lA,MS,Yy,T1,Il,nV],styles:["div[_ngcontent-%COMP%]{margin:20px}@keyframes shadow-drop-2-center{0%{transform:translateZ(0);box-shadow:0 0 #0000}to{transform:translateZ(50px);box-shadow:0 0 20px #00000059}}mat-grid-tile[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.my-grid-tile[_ngcontent-%COMP%]{padding:10px;width:100px;background-size:cover}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:10px;gap:10px;justify-content:space-between}@keyframes bounce-in-top{0%{transform:translateY(-500px);animation-timing-function:ease-in;opacity:0}38%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}55%{transform:translateY(-65px);animation-timing-function:ease-in}72%{transform:translateY(0);animation-timing-function:ease-out}81%{transform:translateY(-28px);animation-timing-function:ease-in}90%{transform:translateY(0);animation-timing-function:ease-out}95%{transform:translateY(-8px);animation-timing-function:ease-in}to{transform:translateY(0);animation-timing-function:ease-out}}p-card[_ngcontent-%COMP%]{animation:bounce-in-top 1.1s both}.gif[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),t})(),Kse=(()=>{class t{constructor(e,s,a,l,h,y,C){this.http=e,this.asS=s,this.fb=a,this.fs=l,this.fa=h,this.messageService=y,this.router=C,this.form=this.fb.group({name:[""],email:[""],phone:[""]}),this.fa.authState.subscribe(P=>{this.uid=null==P?void 0:P.uid,this.fs.collection("Admin").doc(null==P?void 0:P.uid).valueChanges().subscribe(j=>{this.adminInfo=j})})}ngOnInit(){}getInfo(){var e=this;return Rr(function*(){e.data=yield e.asS.getAdminInfo()})()}update(e,s,a){console.log(e.value,s.value,a.value),this.fs.collection("Admin").doc(this.uid).update({username:e.value,phone:s.value,email:a.value}).then(()=>{console.log("updated "),this.messageService.add({severity:"success",summary:"Profile Info",detail:"Your profile has been updated"}),setTimeout(()=>{this.router.navigateByUrl("/adminpage")},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(j_),o.Y36(MI),o.Y36(M0),o.Y36(Co),o.Y36(ci),o.Y36(mm),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-profile-page"]],decls:25,vars:5,consts:[["action","",3,"formGroup"],[1,"background"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Student Name","formControlName","studname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"div"),o.TgZ(3,"form",0),o.TgZ(4,"div",1),o.TgZ(5,"h5"),o._uU(6),o.qZA(),o.TgZ(7,"mat-form-field",2),o.TgZ(8,"mat-label"),o._uU(9,"Student Name"),o.qZA(),o._UZ(10,"input",3,4),o.qZA(),o.TgZ(12,"mat-form-field",2),o.TgZ(13,"mat-label"),o._uU(14,"Phone Number"),o.qZA(),o._UZ(15,"input",5,6),o.qZA(),o.TgZ(17,"mat-form-field",2),o.TgZ(18,"mat-label"),o._uU(19,"Email Address"),o.qZA(),o._UZ(20,"input",7,8),o.qZA(),o.TgZ(22,"button",9),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(11),y=o.MAs(16),C=o.MAs(21);return s.update(h,y,C)}),o._uU(23,"Update"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(24,"p-toast"),o.qZA()}2&e&&(o.xp6(3),o.Q6J("formGroup",s.form),o.xp6(3),o.hij("My Profile - ",null==s.adminInfo?null:s.adminInfo.username,""),o.xp6(4),o.s9C("value",null==s.adminInfo?null:s.adminInfo.username),o.xp6(5),o.s9C("value",null==s.adminInfo?null:s.adminInfo.phone),o.xp6(5),o.s9C("value",null==s.adminInfo?null:s.adminInfo.email))},directives:[Z_,q_,G_,ng,I0,rb,ow,Gg,zh,Qy,xu,O0],styles:["form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}.background[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#b8aa97;padding:20px;border-radius:5px}h5[_ngcontent-%COMP%]{text-transform:uppercase}"]}),t})();function eoe(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA())}function toe(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.brand)}}function noe(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA()),2&t&&o.Udp("width","30%")}function ioe(t,i){if(1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"b"),o._uU(2),o.qZA(),o._UZ(3,"br"),o._uU(4),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.company),o.xp6(2),o.hij("",e.brand," ")}}function roe(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Quantity"),o.qZA())}function soe(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.quantity)}}function ooe(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Total Price"),o.qZA())}function aoe(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij("RM ",e.totalprice,"")}}function loe(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Action"),o.qZA())}const coe=function(t,i){return["/adminviewhistorydetail/",t,i]};function uoe(t,i){if(1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"button",21),o._uU(2,"View Details"),o.qZA(),o.qZA()),2&t){const e=i.$implicit,s=o.oxw();o.xp6(1),o.Q6J("routerLink",o.WLB(1,coe,s.category,e.id))}}function doe(t,i){1&t&&o._UZ(0,"tr",22)}function hoe(t,i){1&t&&o._UZ(0,"tr",23)}function poe(t,i){if(1&t&&(o.TgZ(0,"tr",24),o.TgZ(1,"td",25),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(10);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const foe=function(){return[5,10,25,100]};let moe=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.fa=s,this.route=a,this.adminAuthService=l,this.displayedColumns=["company","quantity","totalprice","action"],this.data=[],this.route.paramMap.subscribe(h=>{console.log(h.get("id")),this.category=h.get("id")||""}),this.fa.authState.subscribe(h=>{this.uid=null==h?void 0:h.uid,this.fs.collection("Admin").doc(this.uid).collection("inventory").doc(this.category).collection("purchasehistory").snapshotChanges().subscribe(C=>{console.log(C),this.data=[],C.map(P=>{let j={id:P.payload.doc.id,company:P.payload.doc.data().compname,totalprice:P.payload.doc.data().total,quantity:P.payload.doc.data().quantity,brand:P.payload.doc.data().brand};this.data.push(j),this.dataSource=new sw(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(this.data)})})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ci),o.Y36(Jp),o.Y36(MI))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-pur-chase-history-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(L0,5),o.Gf(ib,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:32,vars:8,consts:[[1,"title"],["appearance","standard"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","company"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","quantity"],["matColumnDef","totalprice"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button","",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"div",0),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._UZ(7,"i",2),o._uU(8," Search"),o.qZA(),o.TgZ(9,"input",3,4),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(11,"div",5),o.TgZ(12,"table",6),o.ynx(13,7),o.YNc(14,eoe,2,0,"th",8),o.YNc(15,toe,2,1,"td",9),o.ynx(16,10),o.YNc(17,noe,2,2,"th",11),o.YNc(18,ioe,5,2,"td",9),o.BQk(),o.BQk(),o.ynx(19,12),o.YNc(20,roe,2,0,"th",8),o.YNc(21,soe,2,1,"td",9),o.BQk(),o.ynx(22,13),o.YNc(23,ooe,2,0,"th",8),o.YNc(24,aoe,2,1,"td",9),o.BQk(),o.ynx(25,14),o.YNc(26,loe,2,0,"th",8),o.YNc(27,uoe,3,4,"td",9),o.BQk(),o.YNc(28,doe,1,0,"tr",15),o.YNc(29,hoe,1,0,"tr",16),o.YNc(30,poe,3,1,"tr",17),o.qZA(),o._UZ(31,"mat-paginator",18),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.hij("Purchase History - ",s.category,""),o.xp6(9),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(7,foe)))},directives:[Z_,I0,rb,ow,yS,ib,mC,fC,pC,vS,bS,CS,L0,gC,cI,_C,xu,Yy,xS,wS],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}h4[_ngcontent-%COMP%]{margin:20px}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:80%;margin:3rem auto auto}mat-form-field[_ngcontent-%COMP%]{width:200px;align-self:flex-end}button[_ngcontent-%COMP%]{margin-right:5px}.mat-sort-header-content[_ngcontent-%COMP%]{justify-content:end}"]}),t})();function goe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",3),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),o.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function _oe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",4),o.NdJ("click",function(a){const h=o.CHM(e).index;return o.oxw().rate(a,h)})("keydown.enter",function(a){const h=o.CHM(e).index;return o.oxw().rate(a,h)}),o.qZA()}if(2&t){const e=i.index,s=o.oxw();o.Q6J("ngClass",!s.value||e>=s.value?s.iconOffClass:s.iconOnClass)("ngStyle",!s.value||e>=s.value?s.iconOffStyle:s.iconOnStyle),o.uIk("tabindex",s.disabled||s.readonly?null:"0")}}const yoe=function(t,i){return{"p-readonly":t,"p-disabled":i}},voe={provide:ru,useExisting:(0,o.Gpc)(()=>OI),multi:!0};let OI=(()=>{class t{constructor(e){this.cd=e,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star",this.iconOffClass="pi pi-star-o",this.iconCancelClass="pi pi-ban",this.onRate=new o.vpe,this.onCancel=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}rate(e,s){!this.readonly&&!this.disabled&&(this.value=s+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:s+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-rating"]],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[o._Bn([voe])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,goe,1,3,"span",1),o.YNc(2,_oe,1,3,"span",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.WLB(3,yoe,s.readonly,s.disabled)),o.xp6(1),o.Q6J("ngIf",s.cancel),o.xp6(1),o.Q6J("ngForOf",s.starsArray))},directives:[pe,cn,ft,Gi],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}"],encapsulation:2,changeDetection:0}),t})(),boe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function xoe(t,i){if(1&t&&(o.TgZ(0,"button",33),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.brand," ------\x3e RM",e.price," ")}}function woe(t,i){1&t&&(o.TgZ(0,"button",34),o._uU(1,"View Cart"),o.qZA())}function Coe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().filterCategory(l)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e," ")}}function Moe(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1," Product Name "),o.qZA())}function Toe(t,i){if(1&t&&(o.TgZ(0,"td",36),o._uU(1),o._UZ(2,"br"),o._uU(3),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e.brand," "),o.xp6(2),o.hij(" ",e.compname.compname," ")}}function Soe(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1," Product Name "),o.qZA())}function koe(t,i){1&t&&o._UZ(0,"td",36)}function Eoe(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Rating"),o.qZA())}function Doe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",36),o.TgZ(1,"p-rating",37),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.rating=a}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.rating)("cancel",!1)("readonly",!0)}}function Aoe(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Price/Item"),o.qZA())}function Ioe(t,i){if(1&t&&(o.TgZ(0,"td",36),o._uU(1),o.ALo(2,"number"),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij("RM ",o.xi3(2,1,e.price,".2"),"")}}function Loe(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Action"),o.qZA())}function Poe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",36),o.TgZ(1,"button",38),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().addtocart(l.brand,l.price,l.compname.compname,l.category,l.quantity)}),o._uU(2," Add to Cart "),o.qZA(),o.qZA()}}function Ooe(t,i){1&t&&o._UZ(0,"tr",39)}function Roe(t,i){1&t&&o._UZ(0,"tr",40)}function Foe(t,i){if(1&t&&(o.TgZ(0,"tr",41),o.TgZ(1,"td",42),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(21);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const Noe=function(){return[5,10,25,100]};let zoe=(()=>{class t{constructor(e){this.fs=e,this.supplierid=[],this.overallmenu=[],this.supplier=[],this.loader=!0,this.cart=[],this.newArray=[],this.status="ONLINE",this.isConnected=!0,this.newCategory=[],this.displayedColumns=["brand","rating","price","action"],this.checkDuplicate=[],this.filter2=[],this.filter3=[],this.quantity=[],this.temp=[],this.isModified=!1,this.fs.collection("Supplier").snapshotChanges().subscribe(s=>{s.map(a=>{let l=a.payload.doc.data();this.fs.collection("Supplier").doc(a.payload.doc.id).collection("menu").snapshotChanges().subscribe(h=>{h.map(y=>{if("added"==y.type){let C={compname:l,brand:y.payload.doc.data().brand,rating:y.payload.doc.data().ratingTotal,price:y.payload.doc.data().price,category:y.payload.doc.data().category,quantity:y.payload.doc.data().quantity};y.payload.doc.data().quantity>0&&this.overallmenu.push(C),this.dataSource=new sw(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}})})})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(s=>{this.filter2=[],this.cartlength=s.length,s.map(a=>{console.log(a);let l={brand:a.payload.doc.id,quantity:a.payload.doc.data().quantity,price:a.payload.doc.data().price};this.filter2.push(l),this.filter3=[...new Set(this.filter2)]})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(){for(let e=0;e<this.overallmenu.length;e++)this.newArray.push(this.overallmenu[e].category);this.newCategory=[...new Set(this.newArray)]}filterCategory(e){if(console.log(e),"clear"==e)this.dataSource=new sw(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;else{let s=this.overallmenu.filter(a=>{if(a.category==e)return a});this.dataSource=new sw(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}addtocart(e,s,a,l,h){var y=this;return Rr(function*(){y.category2=l,console.log(y.category2);let C=s;const P=s;0==y.filter3.length&&y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:P,brand:e,compname:a,totalprice:C,category:y.category2,stock:h});for(let j=0;j<y.filter3.length;j++){let te=[];const he=y.filter3[j];if(y.filter3.filter(Ce=>{te.push(Ce.brand),y.isExisted=!0}),0==te.includes(e)&&(y.isExisted=!1),he.brand==e){const Le=y.filter3[j].quantity+1;console.log(j);const je=Le*P;y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).update({quantity:Le,price:P,brand:e,compname:a,totalprice:je,category:y.category2,stock:h})}else!1===y.isExisted&&(yield y.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:P,brand:e,compname:a,category:y.category2,stock:h}))}})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-order-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(L0,5),o.Gf(ib,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:51,vars:12,consts:[[1,"title"],[1,"content"],[1,"combine"],[1,"search"],["mat-button","",3,"matMenuTriggerFor","mouseenter"],["menuTrigger","matMenuTrigger"],["matBadgePosition","after","matBadgeColor","accent",3,"matBadge"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-raised-button","","routerLink","/admincartpage",4,"ngIf"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"filter"],["mat-button","",3,"matMenuTriggerFor","click"],["category","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"mat-elevation-z8","table"],["mat-table","","matSort","","width","100%",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","compname"],["matColumnDef","rating"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-menu-item",""],["mat-raised-button","","routerLink","/admincartpage"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngModel","cancel","readonly","ngModelChange"],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"div",0),o.TgZ(3,"h4"),o._uU(4,"Manage Order"),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.TgZ(6,"div",2),o.TgZ(7,"div",3),o.TgZ(8,"button",4,5),o.NdJ("mouseenter",function(){return o.CHM(a),o.MAs(9).openMenu()}),o.TgZ(10,"mat-icon",6),o._uU(11,"shopping_cart"),o.qZA(),o.qZA(),o.TgZ(12,"mat-menu",7,8),o.TgZ(14,"span",9),o.NdJ("mouseleave",function(){return o.CHM(a),o.MAs(9).closeMenu()}),o.YNc(15,xoe,2,2,"button",10),o.YNc(16,woe,2,0,"button",11),o.qZA(),o.qZA(),o.TgZ(17,"mat-form-field",12),o.TgZ(18,"mat-label"),o._uU(19,"Search"),o.qZA(),o.TgZ(20,"input",13,14),o.NdJ("keyup",function(h){return s.applyFilter(h)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",15),o.TgZ(23,"button",16),o.NdJ("click",function(){return s.filter()}),o._uU(24," Category "),o.qZA(),o.TgZ(25,"mat-menu",null,17),o.YNc(27,Coe,2,1,"button",18),o.TgZ(28,"button",19),o.NdJ("click",function(){return s.filterCategory("clear")}),o._uU(29,"Clear"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",20),o.TgZ(31,"table",21),o.ynx(32,22),o.YNc(33,Moe,2,0,"th",23),o.YNc(34,Toe,4,2,"td",24),o.ynx(35,25),o.YNc(36,Soe,2,0,"th",23),o.YNc(37,koe,1,0,"td",24),o.BQk(),o.BQk(),o.ynx(38,26),o.YNc(39,Eoe,2,0,"th",23),o.YNc(40,Doe,2,3,"td",24),o.BQk(),o.ynx(41,27),o.YNc(42,Aoe,2,0,"th",23),o.YNc(43,Ioe,3,4,"td",24),o.BQk(),o.ynx(44,28),o.YNc(45,Loe,2,0,"th",23),o.YNc(46,Poe,3,0,"td",24),o.BQk(),o.YNc(47,Ooe,1,0,"tr",29),o.YNc(48,Roe,1,0,"tr",30),o.YNc(49,Foe,3,1,"tr",31),o.qZA(),o._UZ(50,"mat-paginator",32),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(13),l=o.MAs(26);o.xp6(8),o.Q6J("matMenuTriggerFor",a),o.xp6(2),o.s9C("matBadge",s.cartlength),o.xp6(2),o.Q6J("overlapTrigger",!1),o.xp6(3),o.Q6J("ngForOf",s.filter3),o.xp6(1),o.Q6J("ngIf",s.filter3.length>0),o.xp6(7),o.Q6J("matMenuTriggerFor",l),o.xp6(4),o.Q6J("ngForOf",s.newCategory),o.xp6(4),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(11,Noe))}},directives:[Z_,xu,xV,PI,DV,gV,ft,cn,I0,rb,ow,MS,yS,ib,mC,fC,pC,vS,bS,CS,L0,Yy,gC,cI,_C,OI,zh,$g,xS,wS],pipes:[Cu],styles:["mgl-map[_ngcontent-%COMP%]{height:80%;width:50%}.table[_ngcontent-%COMP%]{width:80%;margin:auto}.combine[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.filter[_ngcontent-%COMP%]{order:1;margin-top:1.5rem}.search[_ngcontent-%COMP%]{order:2;margin-left:5rem}.title[_ngcontent-%COMP%]{margin:25px}"]}),t})();var AV="https://js.stripe.com/v3",Boe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,IV="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",RI=null,joe=function(i,e,s){if(null===i)return null;var a=i.apply(void 0,e);return function(i,e){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"1.17.1",startTime:e})}(a,s),a},LV=Promise.resolve().then(function(){return i=null,null!==RI||(RI=new Promise(function(e,s){if("undefined"!=typeof window)if(window.Stripe&&i&&console.warn(IV),window.Stripe)e(window.Stripe);else try{var a=function(){for(var i=document.querySelectorAll('script[src^="'.concat(AV,'"]')),e=0;e<i.length;e++){var s=i[e];if(Boe.test(s.src))return s}return null}();a&&i?console.warn(IV):a||(a=function(i){var e=i&&!i.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(AV).concat(e);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s}(i)),a.addEventListener("load",function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){s(new Error("Failed to load Stripe.js"))})}catch(l){return void s(l)}else e(null)})),RI;var i}),PV=!1;LV.catch(function(t){PV||console.warn(t)});var FI=function(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];PV=!0;var a=Date.now();return LV.then(function(l){return joe(l,e,a)})};const OV=new o.OlP("angularfire2.functions.origin"),RV=new o.OlP("angularfire2.functions.region"),FV=new o.OlP("angularfire2.functions.new-origin-behavior"),NV=new o.OlP("angularfire2.functions.use-emulator");let SS=(()=>{class t{constructor(e,s,a,l,h,y,C){const P=new Cr.HU(a),j=C,te=(0,Di.of)(void 0).pipe((0,Xo.QV)(P.outsideAngular),Ps(()=>Ae.e(253).then(Ae.bind(Ae,1253))),(0,Fi.U)(()=>(0,Cr.on)(e,a,s)),(0,Fi.U)(he=>(0,Cr.sI)(`${he.name}.functions.${l||h}`,"AngularFireFunctions",he,()=>{let Ce;if(y){if(l&&h)throw new Error("REGION and ORIGIN can't be used at the same time.");Ce=he.functions(l||h||void 0)}else Ce=he.functions(l||void 0);return!y&&!j&&h&&Ce.useFunctionsEmulator(h),j&&Ce.useEmulator(...j),Ce},[l,h,j])),qh({bufferSize:1,refCount:!1}));return this.httpsCallable=(he,Ce)=>Le=>(0,Ws.D)(te).pipe((0,Xo.QV)(P.insideAngular),Ps(je=>je.httpsCallable(he,Ce)(Le)),(0,Fi.U)(je=>je.data)),(0,Cr.pX)(this,te,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(o.R0b),o.LFG(RV,8),o.LFG(OV,8),o.LFG(FV,8),o.LFG(NV,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(o.R0b),o.LFG(RV,8),o.LFG(OV,8),o.LFG(FV,8),o.LFG(NV,8))},token:t,providedIn:"any"}),t})();function Woe(t,i){1&t&&o.GkF(0)}const iF=function(t){return{$implicit:t}};function Goe(t,i){if(1&t&&(o.TgZ(0,"div",14),o.YNc(1,Woe,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",o.VKq(2,iF,e.paginatorState))}}function qoe(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.currentPageReport)}}const NI=function(t){return{"p-disabled":t}};function $oe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToFirst(a)}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(2,NI,e.isFirstPage()))}}const Qoe=function(t){return{"p-highlight":t}};function Joe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw(3).onPageLinkClick(a,h-1)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(3);o.Q6J("ngClass",o.VKq(2,Qoe,e-1==s.getPage())),o.xp6(1),o.Oqu(e)}}function Xoe(t,i){if(1&t&&(o.TgZ(0,"span",19),o.YNc(1,Joe,2,4,"button",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.pageLinks)}}function Koe(t,i){if(1&t&&o._uU(0),2&t){const e=o.oxw(3);o.Oqu(e.currentPageReport)}}function eae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",22),o.NdJ("onChange",function(a){return o.CHM(e),o.oxw(2).onPageDropdownChange(a)}),o.YNc(1,Koe,1,1,"ng-template",23),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.pageItems)("ngModel",e.getPage())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function tae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToLast(a)}),o._UZ(1,"span",25),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(2,NI,e.isLastPage()))}}function nae(t,i){1&t&&o.GkF(0)}function iae(t,i){if(1&t&&o.YNc(0,nae,1,0,"ng-container",15),2&t){const e=i.$implicit,s=o.oxw(4);o.Q6J("ngTemplateOutlet",s.dropdownItemTemplate)("ngTemplateOutletContext",o.VKq(2,iF,e))}}function rae(t,i){1&t&&(o.ynx(0),o.YNc(1,iae,1,4,"ng-template",28),o.BQk())}function sae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",26),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw(2).rows=a})("onChange",function(a){return o.CHM(e),o.oxw(2).onRppChange(a)}),o.YNc(1,rae,2,0,"ng-container",27),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),o.xp6(1),o.Q6J("ngIf",e.dropdownItemTemplate)}}function oae(t,i){1&t&&o.GkF(0)}function aae(t,i){if(1&t&&(o.TgZ(0,"div",29),o.YNc(1,oae,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",o.VKq(2,iF,e.paginatorState))}}function lae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.YNc(1,Goe,2,4,"div",2),o.YNc(2,qoe,2,1,"span",3),o.YNc(3,$oe,2,4,"button",4),o.TgZ(4,"button",5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToPrev(a)}),o._UZ(5,"span",6),o.qZA(),o.YNc(6,Xoe,2,1,"span",7),o.YNc(7,eae,2,4,"p-dropdown",8),o.TgZ(8,"button",9),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToNext(a)}),o._UZ(9,"span",10),o.qZA(),o.YNc(10,tae,2,4,"button",11),o.YNc(11,sae,2,5,"p-dropdown",12),o.YNc(12,aae,2,4,"div",13),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),o.xp6(1),o.Q6J("ngIf",e.templateLeft),o.xp6(1),o.Q6J("ngIf",e.showCurrentPageReport),o.xp6(1),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(16,NI,e.isFirstPage())),o.xp6(2),o.Q6J("ngIf",e.showPageLinks),o.xp6(1),o.Q6J("ngIf",e.showJumpToPageDropdown),o.xp6(1),o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(18,NI,e.isLastPage())),o.xp6(2),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("ngIf",e.rowsPerPageOptions),o.xp6(1),o.Q6J("ngIf",e.templateRight)}}let cae=(()=>{class t{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new o.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let e=this.getPageCount(),s=Math.min(this.pageLinkSize,e),a=Math.max(0,Math.ceil(this.getPage()-s/2)),l=Math.min(e-1,a+s-1);return a=Math.max(0,a-(this.pageLinkSize-(l-a+1))),[a,l]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),a=e[1];for(let l=e[0];l<=a;l++)this.pageLinks.push(l+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let l=0;l<this.getPageCount();l++)this.pageItems.push({label:String(l+1),value:l})}}changePage(e){var s=this.getPageCount();if(e>=0&&e<s){this._first=this.rows*e;var a={page:e,first:this.first,rows:this.rows,pageCount:s};this.updatePageLinks(),this.onPageChange.emit(a),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,s){this.changePage(s),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.getPage()+1)).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-paginator"]],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[o.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,s){1&e&&o.YNc(0,lae,13,20,"div",0),2&e&&o.Q6J("ngIf",!!s.alwaysShow||s.pageLinks&&s.pageLinks.length>1)},directives:[cn,Gi,pe,W_,qr,ft,xA,zh,$g,Il],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),t})(),uae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,wA,bA,Ll,_m],wA,bA,Ll]}),t})(),R0=(()=>{class t{constructor(e,s){this.el=e,this.ngModel=s}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36($g,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s.onInput(l)}),2&e&&o.ekj("p-inputtext",!0)("p-component",!0)("p-filled",s.filled)}}),t})(),kS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function dae(t,i){if(1&t&&o._UZ(0,"span",8),2&t){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("ngClass","p-button-icon p-button-icon-left")}}function hae(t,i){if(1&t&&(o.ynx(0),o.YNc(1,dae,1,3,"span",6),o.TgZ(2,"span",7),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngIf",e.icon),o.xp6(2),o.Oqu(s.getOptionLabel(e))}}function pae(t,i){1&t&&o.GkF(0)}const fae=function(t,i){return{$implicit:t,index:i}};function mae(t,i){if(1&t&&o.YNc(0,pae,1,0,"ng-container",9),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw();o.Q6J("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",o.WLB(2,fae,s,a))}}const gae=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-button-icon-only":e}};function _ae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",2,3),o.NdJ("click",function(a){const l=o.CHM(e),h=l.$implicit,y=l.index;return o.oxw().onItemClick(a,h,y)})("keydown.enter",function(a){const l=o.CHM(e),h=l.$implicit,y=l.index;return o.oxw().onItemClick(a,h,y)})("blur",function(){return o.CHM(e),o.oxw().onBlur()}),o.YNc(2,hae,4,2,"ng-container",4),o.YNc(3,mae,1,5,"ng-template",null,5,o.W1O),o.qZA()}if(2&t){const e=i.$implicit,s=o.MAs(4),a=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass",o.kEZ(10,gae,a.isSelected(e),a.disabled||a.isOptionDisabled(e),e.icon&&!a.getOptionLabel(e))),o.uIk("aria-pressed",a.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",a.disabled?null:a.tabindex)("aria-labelledby",a.getOptionLabel(e)),o.xp6(2),o.Q6J("ngIf",!a.itemTemplate)("ngIfElse",s)}}const yae={provide:ru,useExisting:(0,o.Gpc)(()=>vae),multi:!0};let vae=(()=>{class t{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new o.vpe,this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?xr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?xr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?xr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,s,a){this.disabled||this.isOptionDisabled(s)||(this.multiple?this.isSelected(s)?this.removeOption(s):this.value=[...this.value||[],this.getOptionValue(s)]:this.value=this.getOptionValue(s),this.onOptionClick.emit({originalEvent:e,option:s,index:a}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(s=>!xr.equals(s,this.getOptionValue(e),this.dataKey))}isSelected(e){let s=!1,a=this.getOptionValue(e);if(this.multiple){if(this.value)for(let l of this.value)if(xr.equals(l,a,this.dataKey)){s=!0;break}}else s=xr.equals(this.getOptionValue(e),this.value,this.dataKey);return s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-selectButton"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,o.Rgc,5),2&e){let l;o.iGM(l=o.CRH())&&(s.itemTemplate=l.first)}},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[o._Bn([yae])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,_ae,5,14,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngForOf",s.options))},directives:[pe,Gi,ft,W_,cn,qr],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),t})(),bae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m]]}),t})();const xae=function(t,i,e){return{"p-checkbox-label-active":t,"p-disabled":i,"p-checkbox-label-focus":e}};function wae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",7),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(),h=o.MAs(3);return l.onClick(a,h)}),o._uU(1),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",o.kEZ(3,xae,null!=e.value,e.disabled,e.focused)),o.uIk("for",e.inputId),o.xp6(1),o.Oqu(e.label)}}const Cae=function(t,i){return{"p-checkbox p-component":!0,"p-checkbox-disabled":t,"p-checkbox-focused":i}},Mae=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-focus":e}},Tae={provide:ru,useExisting:(0,o.Gpc)(()=>Sae),multi:!0};let Sae=(()=>{class t{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,s){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,s.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-triStateCheckbox"]],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[o._Bn([Tae])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"input",2,3),o.NdJ("keyup",function(h){return s.onKeyup(h)})("keydown",function(h){return s.onKeydown(h)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),o.qZA(),o.qZA(),o.TgZ(4,"div",4),o.NdJ("click",function(h){o.CHM(a);const y=o.MAs(3);return s.onClick(h,y)}),o._UZ(5,"span",5),o.qZA(),o.qZA(),o.YNc(6,wae,2,7,"label",6)}2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.WLB(14,Cae,s.disabled,s.focused)),o.xp6(2),o.Q6J("name",s.name)("readonly",s.readonly)("disabled",s.disabled),o.uIk("id",s.inputId)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy),o.xp6(2),o.Q6J("ngClass",o.kEZ(17,Mae,null!=s.value,s.disabled,s.focused)),o.uIk("aria-checked",!0===s.value),o.xp6(1),o.Q6J("ngClass",!0===s.value?s.checkboxTrueIcon:!1===s.value?s.checkboxFalseIcon:""),o.xp6(1),o.Q6J("ngIf",s.label))},directives:[Gi,pe,cn],encapsulation:2,changeDetection:0}),t})(),kae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();const Eae=["container"],Dae=["inputfield"],Aae=["contentWrapper"];function Iae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(a){o.CHM(e),o.oxw();const l=o.MAs(1);return o.oxw().onButtonClick(a,l)}),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("icon",e.icon)("disabled",e.disabled)}}function Lae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",4,5),o.NdJ("focus",function(a){return o.CHM(e),o.oxw().onInputFocus(a)})("keydown",function(a){return o.CHM(e),o.oxw().onInputKeydown(a)})("click",function(){return o.CHM(e),o.oxw().onInputClick()})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)})("input",function(a){return o.CHM(e),o.oxw().onUserInput(a)}),o.qZA(),o.YNc(2,Iae,1,2,"button",6)}if(2&t){const e=o.oxw();o.Tol(e.inputStyleClass),o.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),o.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),o.xp6(2),o.Q6J("ngIf",e.showIcon)}}function Pae(t,i){1&t&&o.GkF(0)}function Oae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onPrevButtonClick(a)}),o._UZ(1,"span",28),o.qZA()}}function Rae(t,i){if(1&t&&(o.TgZ(0,"span",29),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getTranslation("monthNames")[e.month])}}function Fae(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2).$implicit;o.Q6J("value",s)("selected",s===a.month),o.xp6(1),o.Oqu(e)}}function Nae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",30),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onMonthDropdownChange(a.target.value)}),o.YNc(1,Fae,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.getTranslation("monthNames"))}}function zae(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.Q6J("value",e)("selected",e===s.currentYear),o.xp6(1),o.Oqu(e)}}function Bae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",33),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onYearDropdownChange(a.target.value)}),o.YNc(1,zae,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.yearOptions)}}function Yae(t,i){if(1&t&&(o.TgZ(0,"span",34),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu("month"===s.view?s.currentYear:e.year)}}function Hae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",35),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onNextButtonClick(a)}),o._UZ(1,"span",36),o.qZA()}}function Vae(t,i){if(1&t&&(o.TgZ(0,"th",42),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(5);o.xp6(2),o.Oqu(e.getTranslation("weekHeader"))}}function Uae(t,i){if(1&t&&(o.TgZ(0,"th",43),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e)}}function jae(t,i){if(1&t&&(o.TgZ(0,"td",46),o.TgZ(1,"span",47),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().index,s=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",s.weekNumbers[e]," ")}}function Zae(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Oqu(e.day)}}function Wae(t,i){1&t&&o.GkF(0)}const zV=function(t,i){return{"p-highlight":t,"p-disabled":i}},Gae=function(t){return{$implicit:t}};function qae(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"span",49),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw(6).onDateSelect(a,l)})("keydown",function(a){o.CHM(e);const l=o.oxw().$implicit,h=o.oxw(3).index;return o.oxw(3).onDateCellKeydown(a,l,h)}),o.YNc(2,Zae,2,1,"ng-container",11),o.YNc(3,Wae,1,0,"ng-container",50),o.qZA(),o.BQk()}if(2&t){const e=o.oxw().$implicit,s=o.oxw(6);o.xp6(1),o.Q6J("ngClass",o.WLB(4,zV,s.isSelected(e),!e.selectable)),o.xp6(1),o.Q6J("ngIf",!s.dateTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",s.dateTemplate)("ngTemplateOutletContext",o.VKq(7,Gae,e))}}const $ae=function(t,i){return{"p-datepicker-other-month":t,"p-datepicker-today":i}};function Qae(t,i){if(1&t&&(o.TgZ(0,"td",48),o.YNc(1,qae,4,9,"ng-container",11),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(6);o.Q6J("ngClass",o.WLB(2,$ae,e.otherMonth,e.today)),o.xp6(1),o.Q6J("ngIf",!e.otherMonth||s.showOtherMonths)}}function Jae(t,i){if(1&t&&(o.TgZ(0,"tr"),o.YNc(1,jae,3,1,"td",44),o.YNc(2,Qae,2,5,"td",45),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.xp6(1),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",e)}}function Xae(t,i){if(1&t&&(o.TgZ(0,"div",37),o.TgZ(1,"table",38),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.YNc(4,Vae,3,1,"th",39),o.YNc(5,Uae,3,1,"th",40),o.qZA(),o.qZA(),o.TgZ(6,"tbody"),o.YNc(7,Jae,3,2,"tr",41),o.qZA(),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(4),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",s.weekDays),o.xp6(2),o.Q6J("ngForOf",e.dates)}}function Kae(t,i){if(1&t&&(o.TgZ(0,"div",17),o.TgZ(1,"div",18),o.YNc(2,Oae,2,0,"button",19),o.TgZ(3,"div",20),o.YNc(4,Rae,2,1,"span",21),o.YNc(5,Nae,2,1,"select",22),o.YNc(6,Bae,2,1,"select",23),o.YNc(7,Yae,2,1,"span",24),o.qZA(),o.YNc(8,Hae,2,0,"button",25),o.qZA(),o.YNc(9,Xae,8,3,"div",26),o.qZA()),2&t){const e=i.index,s=o.oxw(3);o.xp6(2),o.Q6J("ngIf",0===e),o.xp6(2),o.Q6J("ngIf",!s.monthNavigator&&"month"!==s.view),o.xp6(1),o.Q6J("ngIf",s.monthNavigator&&"month"!==s.view&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",s.yearNavigator&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",!s.yearNavigator),o.xp6(1),o.Q6J("ngIf",1===s.numberOfMonths||e===s.numberOfMonths-1),o.xp6(1),o.Q6J("ngIf","date"===s.view)}}function ele(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",53),o.NdJ("click",function(a){const h=o.CHM(e).index;return o.oxw(4).onMonthSelect(a,h)})("keydown",function(a){const h=o.CHM(e).index;return o.oxw(4).onMonthCellKeydown(a,h)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw(4);o.Q6J("ngClass",o.WLB(2,zV,a.isMonthSelected(s),!a.isSelectable(1,s,a.currentYear,!1))),o.xp6(1),o.hij(" ",e," ")}}function tle(t,i){if(1&t&&(o.TgZ(0,"div",51),o.YNc(1,ele,2,5,"span",52),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.monthPickerValues)}}function nle(t,i){if(1&t&&(o.ynx(0),o.TgZ(1,"div",14),o.YNc(2,Kae,10,7,"div",15),o.qZA(),o.YNc(3,tle,2,1,"div",16),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.months),o.xp6(1),o.Q6J("ngIf","month"===e.view)}}function ile(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function rle(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function sle(t,i){if(1&t&&(o.TgZ(0,"div",59),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Oqu(e.timeSeparator)}}function ole(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function ale(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",64),o.TgZ(1,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).incrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o.YNc(4,ole,2,0,"ng-container",11),o._uU(5),o.qZA(),o.TgZ(6,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).decrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(7,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",e.currentSecond<10),o.xp6(1),o.Oqu(e.currentSecond)}}function lle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",65),o.TgZ(1,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(6,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Oqu(e.pm?"PM":"AM")}}function cle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",54),o.TgZ(1,"div",55),o.TgZ(2,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(3,"span",57),o.qZA(),o.TgZ(4,"span"),o.YNc(5,ile,2,0,"ng-container",11),o._uU(6),o.qZA(),o.TgZ(7,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(8,"span",58),o.qZA(),o.qZA(),o.TgZ(9,"div",59),o.TgZ(10,"span"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"div",60),o.TgZ(13,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(14,"span",57),o.qZA(),o.TgZ(15,"span"),o.YNc(16,rle,2,0,"ng-container",11),o._uU(17),o.qZA(),o.TgZ(18,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(19,"span",58),o.qZA(),o.qZA(),o.YNc(20,sle,3,1,"div",61),o.YNc(21,ale,8,2,"div",62),o.YNc(22,lle,7,1,"div",63),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(5),o.Q6J("ngIf",e.currentHour<10),o.xp6(1),o.Oqu(e.currentHour),o.xp6(5),o.Oqu(e.timeSeparator),o.xp6(5),o.Q6J("ngIf",e.currentMinute<10),o.xp6(1),o.Oqu(e.currentMinute),o.xp6(3),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf","12"==e.hourFormat)}}const BV=function(t){return[t]};function ule(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",67),o.TgZ(1,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onTodayButtonClick(a)}),o.qZA(),o.TgZ(2,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onClearButtonClick(a)}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("label",e.getTranslation("today"))("ngClass",o.VKq(4,BV,e.todayButtonStyleClass)),o.xp6(1),o.Q6J("label",e.getTranslation("clear"))("ngClass",o.VKq(6,BV,e.clearButtonStyleClass))}}function dle(t,i){1&t&&o.GkF(0)}const hle=function(t,i,e,s,a,l){return{"p-datepicker p-component":!0,"p-datepicker-inline":t,"p-disabled":i,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":s,"p-datepicker-monthpicker":a,"p-datepicker-touch-ui":l}},YV=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},ple=function(t){return{value:"visibleTouchUI",params:t}},fle=function(t){return{value:"visible",params:t}};function mle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",8,9),o.NdJ("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onOverlayAnimationDone(a)})("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)}),o.Hsn(2),o.YNc(3,Pae,1,0,"ng-container",10),o.YNc(4,nle,4,2,"ng-container",11),o.YNc(5,cle,23,8,"div",12),o.YNc(6,ule,3,8,"div",13),o.Hsn(7,1),o.YNc(8,dle,1,0,"ng-container",10),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngStyle",e.panelStyle)("ngClass",o.HTZ(11,hle,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?o.VKq(21,ple,o.WLB(18,YV,e.showTransitionOptions,e.hideTransitionOptions)):o.VKq(26,fle,o.WLB(23,YV,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showTime||e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showButtonBar),o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const gle=[[["p-header"]],[["p-footer"]]],_le=function(t,i,e,s){return{"p-calendar":!0,"p-calendar-w-btn":t,"p-calendar-timeonly":i,"p-calendar-disabled":e,"p-focus":s}},yle=["p-header","p-footer"],vle={provide:ru,useExisting:(0,o.Gpc)(()=>ble),multi:!0};let ble=(()=>{class t{constructor(e,s,a,l,h,y){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.config=h,this.overlayService=y,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClose=new o.vpe,this.onSelect=new o.vpe,this.onInput=new o.vpe,this.onTodayClick=new o.vpe,this.onClearClick=new o.vpe,this.onMonthChange=new o.vpe,this.onYearChange=new o.vpe,this.onClickOutside=new o.vpe,this.onShow=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(C,P){return"12"==this.hourFormat?12===C?P?12:0:P?C+12:C:C}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const s=e||new Date;this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear(),this.initTime(s),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const s=e.split(":"),a=parseInt(s[0]),l=parseInt(s[1]);this.populateYearOptions(a,l)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const e=this.defaultDate||new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template}})}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,s){this.yearOptions=[];for(let a=e;a<=s;a++)this.yearOptions.push(a)}createWeekDays(){this.weekDays=[];let e=this.firstDayOfWeek,s=this.getTranslation(ta.DAY_NAMES_MIN);for(let a=0;a<7;a++)this.weekDays.push(s[e]),e=6==e?0:++e}createMonthPickerValues(){this.monthPickerValues=[];let e=this.getTranslation(ta.MONTH_NAMES_SHORT);for(let s=0;s<=11;s++)this.monthPickerValues.push(e[s])}createMonths(e,s){this.months=this.months=[];for(let a=0;a<this.numberOfMonths;a++){let l=e+a,h=s;l>11&&(l=l%11-1,h=s+1),this.months.push(this.createMonth(l,h))}}getWeekNumber(e){let s=new Date(e.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));let a=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((a-s.getTime())/864e5)/7)+1}createMonth(e,s){let a=[],l=this.getFirstDayOfMonthIndex(e,s),h=this.getDaysCountInMonth(e,s),y=this.getDaysCountInPrevMonth(e,s),C=1,P=new Date,j=[],te=Math.ceil((h+l)/7);for(let he=0;he<te;he++){let Ce=[];if(0==he){for(let je=y-l+1;je<=y;je++){let tt=this.getPreviousMonthAndYear(e,s);Ce.push({day:je,month:tt.month,year:tt.year,otherMonth:!0,today:this.isToday(P,je,tt.month,tt.year),selectable:this.isSelectable(je,tt.month,tt.year,!0)})}let Le=7-Ce.length;for(let je=0;je<Le;je++)Ce.push({day:C,month:e,year:s,today:this.isToday(P,C,e,s),selectable:this.isSelectable(C,e,s,!1)}),C++}else for(let Le=0;Le<7;Le++){if(C>h){let je=this.getNextMonthAndYear(e,s);Ce.push({day:C-h,month:je.month,year:je.year,otherMonth:!0,today:this.isToday(P,C-h,je.month,je.year),selectable:this.isSelectable(C-h,je.month,je.year,!0)})}else Ce.push({day:C,month:e,year:s,today:this.isToday(P,C,e,s),selectable:this.isSelectable(C,e,s,!1)});C++}this.showWeek&&j.push(this.getWeekNumber(new Date(Ce[0].year,Ce[0].month,Ce[0].day))),a.push(Ce)}return{month:e,year:s,dates:a,weekNumbers:j}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}onDateSelect(e,s){!this.disabled&&s.selectable?(this.isMultipleSelection()&&this.isSelected(s)?(this.value=this.value.filter((a,l)=>!this.isDateEquals(a,s)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(s)&&this.selectDate(s),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,s){un.hasClass(e.target,"p-disabled")||this.onDateSelect(e,{year:this.currentYear,month:s,day:1,selectable:!0})}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let s=0;s<this.value.length;s++)e+=this.formatDateTime(this.value[s]),s!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let a=this.value[1];e=this.formatDateTime(this.value[0]),a&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(a))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let s=null;return e&&(this.timeOnly?s=this.formatTime(e):(s=this.formatDate(e,this.getDateFormat()),this.showTime&&(s+=" "+this.formatTime(e)))),s}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}selectDate(e){let s=new Date(e.year,e.month,e.day);if(this.showTime&&(s.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond)),this.minDate&&this.minDate>s&&(s=this.minDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.maxDate&&this.maxDate<s&&(s=this.maxDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.isSingleSelection())this.updateModel(s);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,s]:[s]);else if(this.isRangeSelection())if(this.value&&this.value.length){let a=this.value[0],l=this.value[1];!l&&s.getTime()>=a.getTime()?l=s:(a=s,l=null),this.updateModel([a,l])}else this.updateModel([s,null]);this.onSelect.emit(s)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let s=null;this.value&&(s=this.value.map(a=>this.formatDateTime(a))),this.onModelChange(s)}}getFirstDayOfMonthIndex(e,s){let a=new Date;a.setDate(1),a.setMonth(e),a.setFullYear(s);let l=a.getDay()+this.getSundayIndex();return l>=7?l-7:l}getDaysCountInMonth(e,s){return 32-this.daylightSavingAdjust(new Date(s,e,32)).getDate()}getDaysCountInPrevMonth(e,s){let a=this.getPreviousMonthAndYear(e,s);return this.getDaysCountInMonth(a.month,a.year)}getPreviousMonthAndYear(e,s){let a,l;return 0===e?(a=11,l=s-1):(a=e-1,l=s),{month:a,year:l}}getNextMonthAndYear(e,s){let a,l;return 11===e?(a=0,l=s+1):(a=e+1,l=s),{month:a,year:l}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let s=!1;for(let a of this.value)if(s=this.isDateEquals(a,e),s)break;return s}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isMonthSelected(e){let s=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:e,day:s,selectable:!0})}isDateEquals(e,s){return!!e&&e.getDate()===s.day&&e.getMonth()===s.month&&e.getFullYear()===s.year}isDateBetween(e,s,a){if(e&&s){let h=new Date(a.year,a.month,a.day);return e.getTime()<=h.getTime()&&s.getTime()>=h.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,s,a,l){return e.getDate()===s&&e.getMonth()===a&&e.getFullYear()===l}isSelectable(e,s,a,l){let h=!0,y=!0,C=!0,P=!0;return!(l&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>a||this.minDate.getFullYear()===a&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>e))&&(h=!1),this.maxDate&&(this.maxDate.getFullYear()<a||this.maxDate.getFullYear()===a&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<e))&&(y=!1),this.disabledDates&&(C=!this.isDateDisabled(e,s,a)),this.disabledDays&&(P=!this.isDayDisabled(e,s,a)),h&&y&&C&&P)}isDateDisabled(e,s,a){if(this.disabledDates)for(let l of this.disabledDates)if(l.getFullYear()===a&&l.getMonth()===s&&l.getDate()===e)return!0;return!1}isDayDisabled(e,s,a){if(this.disabledDays){let h=new Date(a,s,e).getDay();return-1!==this.disabledDays.indexOf(h)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,s){this.overlayVisible?this.hideOverlay():(s.focus(),this.showOverlay())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(un.getFocusableElements(this.contentViewChild.nativeElement).forEach(s=>s.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,s,a){const l=e.currentTarget,h=l.parentElement;switch(e.which){case 40:{l.tabIndex="-1";let y=un.index(h),C=h.parentElement.nextElementSibling;C?un.hasClass(C.children[y].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(C.children[y].children[0].tabIndex="0",C.children[y].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{l.tabIndex="-1";let y=un.index(h),C=h.parentElement.previousElementSibling;if(C){let P=C.children[y].children[0];un.hasClass(P,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(P.tabIndex="0",P.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{l.tabIndex="-1";let y=h.previousElementSibling;if(y){let C=y.children[0];un.hasClass(C,"p-disabled")||un.hasClass(C.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,a):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!0,a);e.preventDefault();break}case 39:{l.tabIndex="-1";let y=h.nextElementSibling;if(y){let C=y.children[0];un.hasClass(C,"p-disabled")?this.navigateToMonth(!1,a):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!1,a);e.preventDefault();break}case 13:this.onDateSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,s){const a=e.currentTarget;switch(e.which){case 38:case 40:{a.tabIndex="-1";var l=a.parentElement.children,h=un.index(a);let y=l[40===e.which?h+3:h-3];y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 37:{a.tabIndex="-1";let y=a.previousElementSibling;y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 39:{a.tabIndex="-1";let y=a.nextElementSibling;y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 13:this.onMonthSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}navigateToMonth(e,s){if(e)if(1===this.numberOfMonths||0===s)this.navigationState={backward:!0},this.navBackward(event);else{let l=un.find(this.contentViewChild.nativeElement.children[s-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),h=l[l.length-1];h.tabIndex="0",h.focus()}else if(1===this.numberOfMonths||s===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let l=un.findSingle(this.contentViewChild.nativeElement.children[s+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l.tabIndex="0",l.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?un.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():un.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let s=un.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e=s[s.length-1]}else e=un.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.view){let s=un.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),a=un.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");s.forEach(l=>l.tabIndex=-1),e=a||s[0],0===s.length&&un.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(h=>h.tabIndex=-1)}else if(e=un.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){e=un.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||un.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0")}trapFocus(e){let s=un.getFocusableElements(this.contentViewChild.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==a||0===a)if(this.focusTrap)s[s.length-1].focus();else{if(-1===a)return this.hideOverlay();if(0===a)return}else s[a-1].focus();else if(-1==a||a===s.length-1){if(!this.focusTrap&&-1!=a)return this.hideOverlay();s[0].focus()}else s[a+1].focus()}else s[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,s,a,l){let h=this.value;const y=this.convertTo24Hour(e,l);this.isRangeSelection()&&(h=this.value[1]||this.value[0]),this.isMultipleSelection()&&(h=this.value[this.value.length-1]);const C=h?h.toDateString():null;return!(this.minDate&&C&&this.minDate.toDateString()===C&&(this.minDate.getHours()>y||this.minDate.getHours()===y&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>a))||this.maxDate&&C&&this.maxDate.toDateString()===C&&(this.maxDate.getHours()<y||this.maxDate.getHours()===y&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<a)))}incrementHour(e){let a=this.currentHour+this.stepHour,l=this.pm;"24"==this.hourFormat?a=a>=24?a-24:a:"12"==this.hourFormat&&(this.currentHour<12&&a>11&&(l=!this.pm),a=a>=13?a-12:a),this.validateTime(a,this.currentMinute,this.currentSecond,l)&&(this.currentHour=a,this.pm=l),e.preventDefault()}onTimePickerElementMouseDown(e,s,a){this.disabled||(this.repeat(e,null,s,a),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,s,a,l){let h=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,a,l),this.cd.markForCheck()},h),a){case 0:1===l?this.incrementHour(e):this.decrementHour(e);break;case 1:1===l?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===l?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let s=this.currentHour-this.stepHour,a=this.pm;"24"==this.hourFormat?s=s<0?24+s:s:"12"==this.hourFormat&&(12===this.currentHour&&(a=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,a)&&(this.currentHour=s,this.pm=a),e.preventDefault()}incrementMinute(e){let s=this.currentMinute+this.stepMinute;s=s>59?s-60:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}decrementMinute(e){let s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}incrementSecond(e){let s=this.currentSecond+this.stepSecond;s=s>59?s-60:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}decrementSecond(e){let s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const s=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,s)&&(this.pm=s,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let s=e.target.value;try{let a=this.parseValueFromString(s);this.isValidSelection(a)&&(this.updateModel(a),this.updateUI())}catch(a){this.updateModel(null)}this.filled=null!=s&&s.length,this.onInput.emit(e)}isValidSelection(e){let s=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(s=!1):e.every(a=>this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1))&&this.isRangeSelection()&&(s=e.length>1&&e[1]>e[0]),s}parseValueFromString(e){if(!e||0===e.trim().length)return null;let s;if(this.isSingleSelection())s=this.parseDateTime(e);else if(this.isMultipleSelection()){let a=e.split(this.multipleSeparator);s=[];for(let l of a)s.push(this.parseDateTime(l.trim()))}else if(this.isRangeSelection()){let a=e.split(" "+this.rangeSeparator+" ");s=[];for(let l=0;l<a.length;l++)s[l]=this.parseDateTime(a[l].trim())}return s}parseDateTime(e){let s,a=e.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,a[0],a[1]);else{const l=this.getDateFormat();if(this.showTime){let h="12"==this.hourFormat?a.pop():null,y=a.pop();s=this.parseDate(a.join(" "),l),this.populateTime(s,y,h)}else s=this.parseDate(e,l)}return s}populateTime(e,s,a){if("12"==this.hourFormat&&!a)throw"Invalid Time";this.pm="PM"===a||"pm"===a;let l=this.parseTime(s);e.setHours(l.hour),e.setMinutes(l.minute),e.setSeconds(l.second)}updateUI(){let e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?iu.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):iu.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&iu.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):un.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?un.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):un.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),un.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker"),this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.disableModality()}),document.body.appendChild(this.mask),un.addClass(document.body,"p-overflow-hidden"))}disableModality(){if(this.mask){document.body.removeChild(this.mask);let s,e=document.body.children;for(let a=0;a<e.length;a++)if(un.hasClass(e[a],"p-datepicker-mask-scrollblocker")){s=!0;break}s||un.removeClass(document.body,"p-overflow-hidden"),this.unbindMaskClickListener(),this.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}writeValue(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}formatDate(e,s){if(!e)return"";let a;const l=j=>{const te=a+1<s.length&&s.charAt(a+1)===j;return te&&a++,te},h=(j,te,he)=>{let Ce=""+te;if(l(j))for(;Ce.length<he;)Ce="0"+Ce;return Ce},y=(j,te,he,Ce)=>l(j)?Ce[te]:he[te];let C="",P=!1;if(e)for(a=0;a<s.length;a++)if(P)"'"!==s.charAt(a)||l("'")?C+=s.charAt(a):P=!1;else switch(s.charAt(a)){case"d":C+=h("d",e.getDate(),2);break;case"D":C+=y("D",e.getDay(),this.getTranslation(ta.DAY_NAMES_SHORT),this.getTranslation(ta.DAY_NAMES));break;case"o":C+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":C+=h("m",e.getMonth()+1,2);break;case"M":C+=y("M",e.getMonth(),this.getTranslation(ta.MONTH_NAMES_SHORT),this.getTranslation(ta.MONTH_NAMES));break;case"y":C+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":C+=e.getTime();break;case"!":C+=1e4*e.getTime()+this.ticksTo1970;break;case"'":l("'")?C+="'":P=!0;break;default:C+=s.charAt(a)}return C}formatTime(e){if(!e)return"";let s="",a=e.getHours(),l=e.getMinutes(),h=e.getSeconds();return"12"==this.hourFormat&&a>11&&12!=a&&(a-=12),s+="12"==this.hourFormat&&0===a?12:a<10?"0"+a:a,s+=":",s+=l<10?"0"+l:l,this.showSeconds&&(s+=":",s+=h<10?"0"+h:h),"12"==this.hourFormat&&(s+=e.getHours()>11?" PM":" AM"),s}parseTime(e){let s=e.split(":");if(s.length!==(this.showSeconds?3:2))throw"Invalid time";let l=parseInt(s[0]),h=parseInt(s[1]),y=this.showSeconds?parseInt(s[2]):null;if(isNaN(l)||isNaN(h)||l>23||h>59||"12"==this.hourFormat&&l>12||this.showSeconds&&(isNaN(y)||y>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==l&&this.pm?l+=12:!this.pm&&12===l&&(l-=12)),{hour:l,minute:h,second:y}}parseDate(e,s){if(null==s||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let a,l,h,Le,y=0,C="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),P=-1,j=-1,te=-1,he=-1,Ce=!1,je=nn=>{let mn=a+1<s.length&&s.charAt(a+1)===nn;return mn&&a++,mn},tt=nn=>{let mn=je(nn),hn="@"===nn?14:"!"===nn?20:"y"===nn&&mn?4:"o"===nn?3:2,ai=new RegExp("^\\d{"+("y"===nn?hn:1)+","+hn+"}"),Oi=e.substring(y).match(ai);if(!Oi)throw"Missing number at position "+y;return y+=Oi[0].length,parseInt(Oi[0],10)},vt=(nn,mn,hn)=>{let qn=-1,ai=je(nn)?hn:mn,Oi=[];for(let Pi=0;Pi<ai.length;Pi++)Oi.push([Pi,ai[Pi]]);Oi.sort((Pi,ws)=>-(Pi[1].length-ws[1].length));for(let Pi=0;Pi<Oi.length;Pi++){let ws=Oi[Pi][1];if(e.substr(y,ws.length).toLowerCase()===ws.toLowerCase()){qn=Oi[Pi][0],y+=ws.length;break}}if(-1!==qn)return qn+1;throw"Unknown name at position "+y},Wt=()=>{if(e.charAt(y)!==s.charAt(a))throw"Unexpected literal at position "+y;y++};for("month"===this.view&&(te=1),a=0;a<s.length;a++)if(Ce)"'"!==s.charAt(a)||je("'")?Wt():Ce=!1;else switch(s.charAt(a)){case"d":te=tt("d");break;case"D":vt("D",this.getTranslation(ta.DAY_NAMES_SHORT),this.getTranslation(ta.DAY_NAMES));break;case"o":he=tt("o");break;case"m":j=tt("m");break;case"M":j=vt("M",this.getTranslation(ta.MONTH_NAMES_SHORT),this.getTranslation(ta.MONTH_NAMES));break;case"y":P=tt("y");break;case"@":Le=new Date(tt("@")),P=Le.getFullYear(),j=Le.getMonth()+1,te=Le.getDate();break;case"!":Le=new Date((tt("!")-this.ticksTo1970)/1e4),P=Le.getFullYear(),j=Le.getMonth()+1,te=Le.getDate();break;case"'":je("'")?Wt():Ce=!0;break;default:Wt()}if(y<e.length&&(h=e.substr(y),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===P?P=(new Date).getFullYear():P<100&&(P+=(new Date).getFullYear()-(new Date).getFullYear()%100+(P<=C?0:-100)),he>-1)for(j=1,te=he;l=this.getDaysCountInMonth(P,j-1),!(te<=l);)j++,te-=l;if(Le=this.daylightSavingAdjust(new Date(P,j-1,te)),Le.getFullYear()!==P||Le.getMonth()+1!==j||Le.getDate()!==te)throw"Invalid date";return Le}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let s=new Date,a={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,a),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(s),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new MT(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return un.hasClass(e.target,"p-datepicker-prev")||un.hasClass(e.target,"p-datepicker-prev-icon")||un.hasClass(e.target,"p-datepicker-next")||un.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!un.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindMaskClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.disableModality()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&iu.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Lf),o.Y36(l0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-calendar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Eae,5),o.Gf(Dae,5),o.Gf(Aae,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.inputfieldViewChild=a.first),o.iGM(a=o.CRH())&&(s.content=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[o._Bn([vle])],ngContentSelectors:yle,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,s){1&e&&(o.F$t(gle),o.TgZ(0,"span",0,1),o.YNc(2,Lae,3,16,"ng-template",2),o.YNc(3,mle,9,28,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(6,_le,s.showIcon,s.timeOnly,s.disabled,s.focus))("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",!s.inline),o.xp6(1),o.Q6J("ngIf",s.inline||s.overlayVisible))},directives:[pe,Gi,cn,P0,W_,qr,ft],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[fs("overlayAnimation",[Ne("visibleTouchUI",ye({transform:"translate(-50%,-50%)",opacity:1})),Et("void => visible",[ye({opacity:0,transform:"scaleY(0.8)"}),yi("{{showTransitionParams}}",ye({opacity:1,transform:"*"}))]),Et("visible => void",[yi("{{hideTransitionParams}}",ye({opacity:0}))]),Et("void => visibleTouchUI",[ye({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),yi("{{showTransitionParams}}")]),Et("visibleTouchUI => void",[yi("{{hideTransitionParams}}",ye({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),t})(),xle=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,ab,Ll,_m],ab,Ll]}),t})();const wle=["input"],HV=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},VV=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Cle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",5),o.TgZ(1,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA(),o.TgZ(2,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(1),o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(10,HV))("icon",e.incrementButtonIcon)("disabled",e.disabled),o.xp6(1),o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(11,VV))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Mle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(5,HV))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Tle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(5,VV))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Sle=function(t,i,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":i,"p-inputnumber-buttons-vertical":e}},kle={provide:ru,useExisting:(0,o.Gpc)(()=>rF),multi:!0};let rF=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.step=1,this.onInput=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onKeyDown=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar="",this._modeOption="decimal",this._useGroupingOption=!0}get locale(){return this._localeOption}set locale(e){this._localeOption=e,this.updateConstructParser()}get localeMatcher(){return this._localeMatcherOption}set localeMatcher(e){this._localeMatcherOption=e,this.updateConstructParser()}get mode(){return this._modeOption}set mode(e){this._modeOption=e,this.updateConstructParser()}get currency(){return this._currencyOption}set currency(e){this._currencyOption=e,this.updateConstructParser()}get currencyDisplay(){return this._currencyDisplayOption}set currencyDisplay(e){this._currencyDisplayOption=e,this.updateConstructParser()}get useGrouping(){return this._useGroupingOption}set useGrouping(e){this._useGroupingOption=e,this.updateConstructParser()}get minFractionDigits(){return this._minFractionDigitsOption}set minFractionDigits(e){this._minFractionDigitsOption=e,this.updateConstructParser()}get maxFractionDigits(){return this._maxFractionDigitsOption}set maxFractionDigits(e){this._maxFractionDigitsOption=e,this.updateConstructParser()}get prefix(){return this._prefixOption}set prefix(e){this._prefixOption=e,this.updateConstructParser()}get suffix(){return this._suffixOption}set suffix(e){this._suffixOption=e,this.updateConstructParser()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),s=new Map(e.map((a,l)=>[a,l]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._decimal=this.getDecimalExpression(),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=a=>s.get(a)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(1.1).trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._decimal,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let a=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(a=this.prefix+a),this.suffix&&(a+=this.suffix),a}return e.toString()}return""}parseValue(e){let s=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if("-"===s)return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,s,a){let l=s||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,a)},l),this.spin(e,a)}spin(e,s){let a=this.step*s,l=this.parseValue(this.input.nativeElement.value)||0,h=this.validateValue(l+a);this.maxlength&&this.maxlength<this.formatValue(h).length||(this.updateInput(h,null,"spin"),this.updateModel(e,h),this.handleOnInput(e,l,h))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(e){if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let s=e.target.selectionStart,a=e.target.selectionEnd,l=e.target.value,h=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(l.charAt(s-1))||e.preventDefault();break;case 39:this.isNumeralChar(l.charAt(s))||e.preventDefault();break;case 13:let y=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(y),this.input.nativeElement.setAttribute("aria-valuenow",y),this.updateModel(e,y);break;case 8:if(e.preventDefault(),s===a){let C=l.charAt(s-1),P=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(C)&&(this._group.test(C)?(this._group.lastIndex=0,h=l.slice(0,s-2)+l.slice(s-1)):this._decimal.test(C)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s-1,s-1)):P>0&&s>P?h=l.slice(0,s-1)+"0"+l.slice(s):P>0&&1===P?(h=l.slice(0,s-1)+"0"+l.slice(s),h=this.parseValue(h)>0?h:""):h=l.slice(0,s-1)+l.slice(s)),this.updateValue(e,h,null,"delete-single")}else h=this.deleteRange(l,s,a),this.updateValue(e,h,null,"delete-range");break;case 46:if(e.preventDefault(),s===a){let C=l.charAt(s),P=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(C)&&(this._group.test(C)?(this._group.lastIndex=0,h=l.slice(0,s)+l.slice(s+2)):this._decimal.test(C)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s+1,s+1)):P>0&&s>P?h=l.slice(0,s)+"0"+l.slice(s+1):P>0&&1===P?(h=l.slice(0,s)+"0"+l.slice(s+1),h=this.parseValue(h)>0?h:""):h=l.slice(0,s)+l.slice(s+1)),this.updateValue(e,h,null,"delete-back-single")}else h=this.deleteRange(l,s,a),this.updateValue(e,h,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){e.preventDefault();let s=e.which||e.keyCode,a=String.fromCharCode(s);const l=this.isDecimalSign(a),h=this.isMinusSign(a);(48<=s&&s<=57||h||l)&&this.insert(e,a,{isDecimalSign:l,isMinusSign:h})}onPaste(e){if(!this.disabled){e.preventDefault();let s=(e.clipboardData||window.clipboardData).getData("Text");if(s){let a=this.parseValue(s);null!=a&&this.insert(e,a.toString())}}}isMinusSign(e){return!!this._minusSign.test(e)&&(this._minusSign.lastIndex=0,!0)}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}insert(e,s,a={isDecimalSign:!1,isMinusSign:!1}){let l=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,y=this.input.nativeElement.value.trim();const C=y.search(this._decimal);this._decimal.lastIndex=0;const P=y.search(this._minusSign);let j;if(this._minusSign.lastIndex=0,a.isMinusSign)0===l&&(j=y,(-1===P||0!==h)&&(j=this.insertText(y,s,0,h)),this.updateValue(e,j,s,"insert"));else if(a.isDecimalSign)C>0&&l===C?this.updateValue(e,y,s,"insert"):C>l&&C<h&&(j=this.insertText(y,s,l,h),this.updateValue(e,j,s,"insert"));else{const te=this.numberFormat.resolvedOptions().maximumFractionDigits,he=l!==h?"range-insert":"insert";C>0&&l>C?l+s.length-(C+1)<=te&&(j=y.slice(0,l)+s+y.slice(l+s.length),this.updateValue(e,j,s,he)):(j=this.insertText(y,s,l,h),this.updateValue(e,j,s,he))}}insertText(e,s,a,l){if(2==s.split(".").length){const y=e.slice(a,l).search(this._decimal);return this._decimal.lastIndex=0,y>0?e.slice(0,a)+this.formatValue(s)+e.slice(l):e||this.formatValue(s)}return l-a===e.length?this.formatValue(s):0===a?s+e.slice(l):l===e.length?e.slice(0,a)+s:e.slice(0,a)+s+e.slice(l)}deleteRange(e,s,a){let l;return l=a-s===e.length?"":0===s?e.slice(a):a===e.length?e.slice(0,s):e.slice(0,s)+e.slice(a),l}initCursor(){let e=this.input.nativeElement.selectionStart,s=this.input.nativeElement.value,a=s.length,l=null,h=s.charAt(e);if(this.isNumeralChar(h))return;let y=e-1;for(;y>=0;){if(h=s.charAt(y),this.isNumeralChar(h)){l=y;break}y--}if(null!==l)this.input.nativeElement.setSelectionRange(l+1,l+1);else{for(y=e+1;y<a;){if(h=s.charAt(y),this.isNumeralChar(h)){l=y;break}y++}null!==l&&this.input.nativeElement.setSelectionRange(l,l)}}onInputClick(){this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,s,a,l){let h=this.input.nativeElement.value,y=null;null!=s&&(y=this.parseValue(s),this.updateInput(y,a,l)),this.handleOnInput(e,h,y)}handleOnInput(e,s,a){this.isValueChanged(s,a)&&this.onInput.emit({originalEvent:e,value:a})}isValueChanged(e,s){return null===s&&null!==e||null!=s&&s!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return null!==this.min&&e<this.min?this.min:null!==this.max&&e>this.max?this.max:"-"===e?null:e}updateInput(e,s,a){s=s||"";let l=this.input.nativeElement.value,h=this.formatValue(e),y=l.length;if(0===y){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0),this.initCursor();const P=(this.prefixChar||"").length+s.length;this.input.nativeElement.setSelectionRange(P,P)}else{let C=this.input.nativeElement.selectionStart,P=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let j=h.length;if("range-insert"===a){const te=this.parseValue((l||"").slice(0,C)),Ce=(null!==te?te.toString():"").split("").join(`(${this.groupChar})?`),Le=new RegExp(Ce,"g");Le.test(h);const je=s.split("").join(`(${this.groupChar})?`),tt=new RegExp(je,"g");tt.test(h.slice(Le.lastIndex)),P=Le.lastIndex+tt.lastIndex,this.input.nativeElement.setSelectionRange(P,P)}else if(j===y)"insert"===a||"delete-back-single"===a?this.input.nativeElement.setSelectionRange(P+1,P+1):"delete-single"===a?this.input.nativeElement.setSelectionRange(P-1,P-1):("delete-range"===a||"spin"===a)&&this.input.nativeElement.setSelectionRange(P,P);else if("delete-back-single"===a){let te=l.charAt(P-1),he=l.charAt(P),Ce=y-j,Le=this._group.test(he);Le&&1===Ce?P+=1:!Le&&this.isNumeralChar(te)&&(P+=-1*Ce+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(P,P)}else P+=j-y,this.input.nativeElement.setSelectionRange(P,P)}this.input.nativeElement.setAttribute("aria-valuenow",e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let s=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value)}updateModel(e,s){this.value!==s&&(this.value=s,this.onModelChange(s)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-inputNumber"]],viewQuery:function(e,s){if(1&e&&o.Gf(wle,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",step:"step",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[o._Bn([kle])],decls:6,vars:30,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","disabled","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,s){1&e&&(o.TgZ(0,"span",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onUserInput(l)})("keydown",function(l){return s.onInputKeyDown(l)})("keypress",function(l){return s.onInputKeyPress(l)})("paste",function(l){return s.onPaste(l)})("click",function(){return s.onInputClick()})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.YNc(3,Cle,3,12,"span",3),o.YNc(4,Mle,1,6,"button",4),o.YNc(5,Tle,1,6,"button",4),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(26,Sle,s.showButtons&&"stacked"===s.buttonLayout,s.showButtons&&"horizontal"===s.buttonLayout,s.showButtons&&"vertical"===s.buttonLayout))("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass","p-inputnumber-input")("ngStyle",s.inputStyle)("value",s.formattedValue())("disabled",s.disabled),o.uIk("placeholder",s.placeholder)("title",s.title)("id",s.inputId)("size",s.size)("name",s.name)("autocomplete",s.autocomplete)("maxlength",s.maxlength)("tabindex",s.tabindex)("aria-label",s.ariaLabel)("aria-required",s.ariaRequired)("required",s.required)("aria-valuemin",s.min)("aria-valuemax",s.max),o.xp6(2),o.Q6J("ngIf",s.showButtons&&"stacked"===s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout))},directives:[pe,Gi,R0,cn,P0],styles:[".p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),t})(),UV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,kS,ab]]}),t})();const Ele=["container"],Dle=["resizeHelper"],Ale=["reorderIndicatorUp"],Ile=["reorderIndicatorDown"],Lle=["wrapper"],Ple=["table"],Ole=["tableHeader"];function Rle(t,i){if(1&t&&(o.TgZ(0,"div",14),o._UZ(1,"i"),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function Fle(t,i){1&t&&o.GkF(0)}function Nle(t,i){if(1&t&&(o.TgZ(0,"div",15),o.YNc(1,Fle,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.captionTemplate)}}function zle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",17),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function Ble(t,i){1&t&&o.GkF(0)}function Yle(t,i){1&t&&o.GkF(0)}function Hle(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function Vle(t,i){1&t&&o.GkF(0)}const F0=function(t){return{$implicit:t}};function Ule(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,Vle,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,F0,e.columns))}}function jle(t,i){if(1&t&&(o.TgZ(0,"table",18,19),o.YNc(2,Ble,1,0,"ng-container",20),o.TgZ(3,"thead",21),o.YNc(4,Yle,1,0,"ng-container",20),o.qZA(),o.YNc(5,Hle,1,5,"tbody",22),o._UZ(6,"tbody",23),o.YNc(7,Ule,2,4,"tfoot",24),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(11,F0,e.columns)),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(13,F0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Zle(t,i){1&t&&o.GkF(0)}function Wle(t,i){1&t&&o.GkF(0)}function Gle(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function qle(t,i){1&t&&o.GkF(0)}function $le(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,qle,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,F0,e.columns))}}function Qle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",27),o.NdJ("scrolledIndexChange",function(a){return o.CHM(e),o.oxw().onScrollIndexChange(a)}),o.TgZ(1,"table",18,19),o.YNc(3,Zle,1,0,"ng-container",20),o.TgZ(4,"thead",21,28),o.YNc(6,Wle,1,0,"ng-container",20),o.qZA(),o.YNc(7,Gle,1,5,"tbody",22),o._UZ(8,"tbody",23),o.YNc(9,$le,2,4,"tfoot",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),o.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),o.xp6(1),o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(16,F0,e.columns)),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(18,F0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Jle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",29),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function Xle(t,i){1&t&&o.GkF(0)}function Kle(t,i){if(1&t&&(o.TgZ(0,"div",30),o.YNc(1,Xle,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function ece(t,i){1&t&&o._UZ(0,"div",31,32)}function tce(t,i){1&t&&o._UZ(0,"span",33,34)}function nce(t,i){1&t&&o._UZ(0,"span",35,36)}const ice=function(t,i,e,s,a,l,h,y,C,P,j,te,he,Ce){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":t,"p-datatable-auto-layout":i,"p-datatable-resizable":e,"p-datatable-resizable-fit":s,"p-datatable-scrollable":a,"p-datatable-scrollable-vertical":l,"p-datatable-scrollable-horizontal":h,"p-datatable-scrollable-both":y,"p-datatable-flex-scrollable":C,"p-datatable-responsive-stack":P,"p-datatable-responsive-scroll":j,"p-datatable-responsive":te,"p-datatable-grouped-header":he,"p-datatable-grouped-footer":Ce}},rce=function(t){return{height:t}},sce=["pTableBody",""];function oce(t,i){1&t&&o.GkF(0)}const zI=function(t,i,e,s,a){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a}};function ace(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,oce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.qbA(2,zI,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function lce(t,i){1&t&&o.GkF(0)}function cce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,lce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.qbA(2,zI,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function uce(t,i){1&t&&o.GkF(0)}const dce=function(t,i,e,s,a,l,h){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a,rowgroup:l,rowspan:h}};function hce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,uce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.Hh0(2,dce,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen,l.shouldRenderRowspan(l.value,s,a),l.calculateRowGroupSize(l.value,s,a)))}}function pce(t,i){1&t&&o.GkF(0)}function fce(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,pce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.qbA(2,zI,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function mce(t,i){if(1&t&&(o.YNc(0,ace,2,8,"ng-container",2),o.YNc(1,cce,2,8,"ng-container",0),o.YNc(2,hce,2,10,"ng-container",0),o.YNc(3,fce,2,8,"ng-container",2)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf","rowspan"!==a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf","rowspan"===a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf",a.dt.groupFooterTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupFooter(a.value,e,s))}}function gce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,mce,4,4,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function _ce(t,i){1&t&&o.GkF(0)}function yce(t,i){if(1&t&&o.YNc(0,_ce,1,0,"ng-container",4),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",e?a.template:a.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.qbA(2,zI,e,a.dt.paginator?a.dt.first+s:s,a.columns,"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen))}}function vce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,yce,1,8,"ng-template",5),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("cdkVirtualForOf",e.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function bce(t,i){1&t&&o.GkF(0)}const BI=function(t,i,e,s,a,l){return{$implicit:t,rowIndex:i,columns:e,expanded:s,editing:a,frozen:l}};function xce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,bce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.HTZ(2,BI,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function wce(t,i){1&t&&o.GkF(0)}function Cce(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,wce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.HTZ(2,BI,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Mce(t,i){1&t&&o.GkF(0)}function Tce(t,i){1&t&&o.GkF(0)}function Sce(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Tce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(2),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.HTZ(2,BI,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}const jV=function(t,i,e,s){return{$implicit:t,rowIndex:i,columns:e,frozen:s}};function kce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Mce,1,0,"ng-container",4),o.YNc(2,Sce,2,9,"ng-container",2),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.expandedRowTemplate)("ngTemplateOutletContext",o.l5B(3,jV,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen)),o.xp6(1),o.Q6J("ngIf",l.dt.groupFooterTemplate&&"subheader"===l.dt.rowGroupMode&&l.shouldRenderRowGroupFooter(l.value,s,a))}}function Ece(t,i){if(1&t&&(o.YNc(0,xce,2,9,"ng-container",0),o.YNc(1,Cce,2,9,"ng-container",2),o.YNc(2,kce,3,8,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",!a.dt.groupHeaderTemplate),o.xp6(1),o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Dce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Ece,3,3,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ace(t,i){1&t&&o.GkF(0)}function Ice(t,i){1&t&&o.GkF(0)}function Lce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Ice,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",o.l5B(2,jV,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen))}}function Pce(t,i){if(1&t&&(o.YNc(0,Ace,1,0,"ng-container",4),o.YNc(1,Lce,2,7,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",o.HTZ(3,BI,e,a.dt.paginator?a.dt.first+s:s,a.columns,a.dt.isRowExpanded(e),"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Oce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Pce,2,10,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Rce(t,i){1&t&&o.GkF(0)}const ZV=function(t,i){return{$implicit:t,frozen:i}};function Fce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Rce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.WLB(2,ZV,e.columns,e.frozen))}}function Nce(t,i){1&t&&o.GkF(0)}function zce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Nce,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",o.WLB(2,ZV,e.columns,e.frozen))}}function Bce(t,i){if(1&t&&(o.TgZ(0,"span",2),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.getMultiSortMetaIndex()+1)}}const Yce=function(t,i,e){return{"pi-sort-amount-up-alt":t,"pi-sort-amount-down":i,"pi-sort-alt":e}};let sF=(()=>{class t{constructor(){this.sortSource=new ri.xQ,this.selectionSource=new ri.xQ,this.contextMenuSource=new ri.xQ,this.valueSource=new ri.xQ,this.totalRecordsSource=new ri.xQ,this.columnsSource=new ri.xQ,this.resetSource=new ri.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next()}onResetChange(){this.resetSource.next()}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),N0=(()=>{class t{constructor(e,s,a,l,h,y){this.el=e,this.zone=s,this.tableService=a,this.cd=l,this.filterService=h,this.overlayService=y,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new o.vpe,this.contextMenuSelectionChange=new o.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(C,P)=>P,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new o.vpe,this.onRowUnselect=new o.vpe,this.onPage=new o.vpe,this.onSort=new o.vpe,this.onFilter=new o.vpe,this.onLazyLoad=new o.vpe,this.onRowExpand=new o.vpe,this.onRowCollapse=new o.vpe,this.onContextMenuSelect=new o.vpe,this.onColResize=new o.vpe,this.onColReorder=new o.vpe,this.onRowReorder=new o.vpe,this.onEditInit=new o.vpe,this.onEditComplete=new o.vpe,this.onEditCancel=new o.vpe,this.onHeaderCheckboxToggle=new o.vpe,this.sortFunction=new o.vpe,this.firstChange=new o.vpe,this.rowsChange=new o.vpe,this.onStateSave=new o.vpe,this.onStateRestore=new o.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Vy()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(xr.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(xr.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let s=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let a=s.metaKey||s.ctrlKey,l=this.getSortMeta(e.field);l?a?l.order=-1*l.order:(this._multiSortMeta=[{field:e.field,order:-1*l.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!a||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):(this.value.sort((s,a)=>{let l=xr.resolveFieldData(s,this.sortField),h=xr.resolveFieldData(a,this.sortField),y=null;return y=null==l&&null!=h?-1:null!=l&&null==h?1:null==l&&null==h?0:"string"==typeof l&&"string"==typeof h?l.localeCompare(h):l<h?-1:l>h?1:0,this.sortOrder*y}),this._value=[...this.value]),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,s)=>this.multisortField(e,s,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,s,a,l){let h=xr.resolveFieldData(e,a[l].field),y=xr.resolveFieldData(s,a[l].field),C=null;if(null==h&&null!=y)C=-1;else if(null!=h&&null==y)C=1;else if(null==h&&null==y)C=0;else if("string"==typeof h||h instanceof String){if(h.localeCompare&&h!=y)return a[l].order*h.localeCompare(y)}else C=h<y?-1:1;return h==y?a.length-1>l?this.multisortField(e,s,a,l+1):0:a[l].order*C}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let s=0;s<this.multiSortMeta.length;s++)if(this.multiSortMeta[s].field===e)return this.multiSortMeta[s];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let s=!1;if(this.multiSortMeta)for(let a=0;a<this.multiSortMeta.length;a++)if(this.multiSortMeta[a].field==e){s=!0;break}return s}}handleRowClick(e){let s=e.originalEvent.target,a=s.nodeName,l=s.parentElement&&s.parentElement.nodeName;if("INPUT"!=a&&"BUTTON"!=a&&"A"!=a&&"INPUT"!=l&&"BUTTON"!=l&&"A"!=l&&!un.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)un.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=e.rowIndex,this.selectRange(e.originalEvent,e.rowIndex);else{let h=e.rowData,y=this.isSelected(h),C=!this.rowTouched&&this.metaKeySelection,P=this.dataKey?String(xr.resolveFieldData(h,this.dataKey)):null;if(this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,C){let j=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(y&&j){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let te=this.findIndexInSelection(h);this._selection=this.selection.filter((he,Ce)=>Ce!=te),this.selectionChange.emit(this.selection),P&&delete this.selectionKeys[P]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row"})}else this.isSingleSelectionMode()?(this._selection=h,this.selectionChange.emit(h),P&&(this.selectionKeys={},this.selectionKeys[P]=1)):this.isMultipleSelectionMode()&&(j?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,h],this.selectionChange.emit(this.selection),P&&(this.selectionKeys[P]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)y?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex})):(this._selection=h,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),P&&(this.selectionKeys={},this.selectionKeys[P]=1));else if("multiple"===this.selectionMode)if(y){let j=this.findIndexInSelection(h);this._selection=this.selection.filter((te,he)=>he!=j),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),P&&delete this.selectionKeys[P]}else this._selection=this.selection?[...this.selection,h]:[h],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),P&&(this.selectionKeys[P]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const s=e.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=s,this.contextMenuSelectionChange.emit(s),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:s,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(s);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let a=this.isSelected(s),l=this.dataKey?String(xr.resolveFieldData(s,this.dataKey)):null;a||(this.isSingleSelectionMode()?(this.selection=s,this.selectionChange.emit(s),l&&(this.selectionKeys={},this.selectionKeys[l]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),l&&(this.selectionKeys[l]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:s,index:e.rowIndex})}}}selectRange(e,s){let a,l;this.anchorRowIndex>s?(a=s,l=this.anchorRowIndex):this.anchorRowIndex<s?(a=this.anchorRowIndex,l=s):(a=s,l=s),this.lazy&&this.paginator&&(a-=this.first,l-=this.first);let h=[];for(let y=a;y<=l;y++){let C=this.filteredValue?this.filteredValue[y]:this.value[y];if(!this.isSelected(C)){h.push(C),this._selection=[...this.selection,C];let P=this.dataKey?String(xr.resolveFieldData(C,this.dataKey)):null;P&&(this.selectionKeys[P]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:h,type:"row"})}clearSelectionRange(e){let s,a;this.rangeRowIndex>this.anchorRowIndex?(s=this.anchorRowIndex,a=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(s=this.rangeRowIndex,a=this.anchorRowIndex):(s=this.rangeRowIndex,a=this.rangeRowIndex);for(let l=s;l<=a;l++){let h=this.value[l],y=this.findIndexInSelection(h);this._selection=this.selection.filter((P,j)=>j!=y);let C=this.dataKey?String(xr.resolveFieldData(h,this.dataKey)):null;C&&delete this.selectionKeys[C],this.onRowUnselect.emit({originalEvent:e,data:h,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[xr.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let s=-1;if(this.selection&&this.selection.length)for(let a=0;a<this.selection.length;a++)if(this.equals(e,this.selection[a])){s=a;break}return s}toggleRowWithRadio(e,s){this.preventSelectionSetterPropagation=!0,this.selection!=s?(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(xr.resolveFieldData(s,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,s){this.selection=this.selection||[];let a=this.isSelected(s),l=this.dataKey?String(xr.resolveFieldData(s,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,a){let h=this.findIndexInSelection(s);this._selection=this.selection.filter((y,C)=>C!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&delete this.selectionKeys[l]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&(this.selectionKeys[l]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,s){this._selection=s?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:s}),this.isStateful()&&this.saveState()}equals(e,s){return"equals"===this.compareSelectionBy?e===s:xr.equals(e,s,this.dataKey)}filter(e,s,a){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[s]&&delete this.filters[s]:this.filters[s]={value:e,matchMode:a},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,s){this.filter(e,"global",s)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let s=0;s<this.value.length;s++){let y,a=!0,l=!1,h=!1;for(let C in this.filters)if(this.filters.hasOwnProperty(C)&&"global"!==C){h=!0;let P=C,j=this.filters[P];if(Array.isArray(j)){for(let te of j)if(a=this.executeLocalFilter(P,this.value[s],te),te.operator===uD.OR&&a||te.operator===uD.AND&&!a)break}else a=this.executeLocalFilter(P,this.value[s],j);if(!a)break}if(this.filters.global&&!l&&e)for(let C=0;C<e.length&&(l=this.filterService.filters[this.filters.global.matchMode](xr.resolveFieldData(this.value[s],e[C].field||e[C]),this.filters.global.value,this.filterLocale),!l);C++);y=this.filters.global?h?h&&a&&l:l:h&&a,y&&this.filteredValue.push(this.value[s])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,s,a){let l=a.value,h=a.matchMode||Gu.STARTS_WITH,y=xr.resolveFieldData(s,e);return this.filterService.filters[h](y,l,this.filterLocale)}hasFilter(){let e=!0;for(let s in this.filters)if(this.filters.hasOwnProperty(s)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(e){let s,a="",l=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;e&&e.selectionOnly?s=this.selection||[]:(s=this.filteredValue||this.value,this.frozenValue&&(s=s?[...this.frozenValue,...s]:this.frozenValue));for(let y=0;y<l.length;y++){let C=l[y];!1!==C.exportable&&C.field&&(a+='"'+(C.header||C.field)+'"',y<l.length-1&&(a+=this.csvSeparator))}s.forEach((y,C)=>{a+="\n";for(let P=0;P<l.length;P++){let j=l[P];if(!1!==j.exportable&&j.field){let te=xr.resolveFieldData(y,j.field);te=null!=te?this.exportFunction?this.exportFunction({data:te,field:j.field}):String(te).replace(/"/g,'""'):"",a+='"'+te+'"',P<l.length-1&&(a+=this.csvSeparator)}}});let h=new Blob([a],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(h,this.exportFilename+".csv");else{let y=document.createElement("a");y.style.display="none",document.body.appendChild(y),void 0!==y.download?(y.setAttribute("href",URL.createObjectURL(h)),y.setAttribute("download",this.exportFilename+".csv"),y.click()):(a="data:text/csv;charset=utf-8,"+a,window.open(encodeURI(a))),document.body.removeChild(y)}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let s=Math.floor(e/this.rows),a=0===s?0:(s-1)*this.rows,l=0===s?2*this.rows:3*this.rows;s!==this.virtualPage&&(this.virtualPage=s,this.onLazyLoad.emit({first:a,rows:l,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top)}updateEditingCell(e,s,a,l){this.editingCell=e,this.editingCellData=s,this.editingCellField=a,this.editingCellRowIndex=l,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===un.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(un.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let s=String(xr.resolveFieldData(e,this.dataKey));this.editingRowKeys[s]=!0}saveRowEdit(e,s){if(0===un.find(s,".ng-invalid.ng-dirty").length){let a=String(xr.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[a]}}cancelRowEdit(e){let s=String(xr.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[s]}toggleRow(e,s){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let a=String(xr.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[a]?(delete this.expandedRowKeys[a],this.onRowCollapse.emit({originalEvent:s,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[a]=!0,this.onRowExpand.emit({originalEvent:s,data:e})),s&&s.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(xr.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(xr.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let s=un.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let s=un.getOffset(this.containerViewChild.nativeElement).left;un.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=this.resizeColumnElement.offsetWidth+e;if(a>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling,y=h.offsetWidth-e;a>15&&y>15&&(this.scrollable?this.resizeTableCells(a,y):(this.resizeColumnElement.style.width=a+"px",h&&(h.style.width=y+"px")))}else if("expand"===this.columnResizeMode){let h=this.tableViewChild.nativeElement.offsetWidth+e;if(this.scrollable){this.resizeTableCells(a,null);let y=un.calculateScrollbarWidth(this.wrapperViewChild.nativeElement),C=this.containerViewChild.nativeElement.offsetWidth>h+y;this.tableViewChild.nativeElement.style.width=h+"px",this.wrapperViewChild.nativeElement.style.width=C?h+y+"px":"auto"}else this.tableViewChild.nativeElement.style.width=h+"px",this.resizeColumnElement.style.width=a+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",un.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,s){let a=un.index(this.resizeColumnElement),l=[];un.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(C=>l.push(un.getOuterWidth(C))),this.destroyStyleElement(),this.createStyleElement();let y="";l.forEach((C,P)=>{let j=P===a?e:s&&P===a+1?s:C;y+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${P+1}) {\n                    flex: 0 0 ${j}px;\n                }\n\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${P+1}) {\n                    flex: 0 0 ${j}px;\n                }\n            `}),this.styleElement.innerHTML=y}onColumnDragStart(e,s){this.reorderIconWidth=un.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=un.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=s,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,s){if(this.reorderableColumns&&this.draggedColumn&&s){e.preventDefault();let a=un.getOffset(this.containerViewChild.nativeElement),l=un.getOffset(s);if(this.draggedColumn!=s){let h=un.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),y=un.indexWithinGroup(s,"preorderablecolumn"),C=l.left-a.left,j=l.left+s.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-a.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-a.top+s.offsetHeight+"px",e.pageX>j?(this.reorderIndicatorUpViewChild.nativeElement.style.left=C+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=C+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=C-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=C-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),y-h==1&&-1===this.dropPosition||y-h==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,s){if(e.preventDefault(),this.draggedColumn){let a=un.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=un.indexWithinGroup(s,"preorderablecolumn"),h=a!=l;h&&(l-a==1&&-1===this.dropPosition||a-l==1&&1===this.dropPosition)&&(h=!1),h&&l<a&&1===this.dropPosition&&(l+=1),h&&l>a&&-1===this.dropPosition&&(l-=1),h&&(xr.reorderArray(this.columns,a,l),this.onColReorder.emit({dragIndex:a,dropIndex:l,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,s){this.rowDragging=!0,this.draggedRowIndex=s,e.dataTransfer.setData("text","b")}onRowDragOver(e,s,a){if(this.rowDragging&&this.draggedRowIndex!==s){let l=un.getOffset(a).top+un.getWindowScrollTop(),h=e.pageY,y=l+un.getOuterHeight(a)/2,C=a.previousElementSibling;h<y?(un.removeClass(a,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=s,C?un.addClass(C,"p-datatable-dragpoint-bottom"):un.addClass(a,"p-datatable-dragpoint-top")):(C?un.removeClass(C,"p-datatable-dragpoint-bottom"):un.addClass(a,"p-datatable-dragpoint-top"),this.droppedRowIndex=s+1,un.addClass(a,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,s){let a=s.previousElementSibling;a&&un.removeClass(a,"p-datatable-dragpoint-bottom"),un.removeClass(s,"p-datatable-dragpoint-bottom"),un.removeClass(s,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,s){if(null!=this.droppedRowIndex){let a=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;xr.reorderArray(this.value,this.draggedRowIndex,a),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:a})}this.onRowDragLeave(e,s),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let s={};this.paginator&&(s.first=this.first,s.rows=this.rows),this.sortField&&(s.sortField=this.sortField,s.sortOrder=this.sortOrder),this.multiSortMeta&&(s.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(s.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(s),this.reorderableColumns&&this.saveColumnOrder(s),this.selection&&(s.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(s.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(s)),this.onStateSave.emit(s)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const s=this.getStorage().getItem(this.stateKey),a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(s){let h=JSON.parse(s,function(h,y){return"string"==typeof y&&a.test(y)?new Date(y):y});this.paginator&&(void 0!==this.first&&(this.first=h.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=h.rows,this.rowsChange.emit(this.rows))),h.sortField&&(this.restoringSort=!0,this._sortField=h.sortField,this._sortOrder=h.sortOrder),h.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=h.multiSortMeta),h.filters&&(this.restoringFilter=!0,this.filters=h.filters),this.resizableColumns&&(this.columnWidthsState=h.columnWidths,this.tableWidthState=h.tableWidth,this.wrapperWidthState=h.wrapperWidth),h.expandedRowKeys&&(this.expandedRowKeys=h.expandedRowKeys),h.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(h.selection)),this.stateRestored=!0,this.onStateRestore.emit(h)}}saveColumnWidths(e){let s=[];un.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(l=>s.push(un.getOuterWidth(l))),e.columnWidths=s.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=un.getOuterWidth(this.tableViewChild.nativeElement)+"px",e.wrapperWidth=this.wrapperViewChild.nativeElement.style.width)}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&(this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState),this.wrapperWidthState&&(this.wrapperViewChild.nativeElement.style.width=this.wrapperWidthState)),this.createStyleElement(),this.scrollable&&e&&e.length>0){let s="";e.forEach((a,l)=>{s+=`\n                            #${this.id} .p-datatable-thead > tr > th:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n\n                            #${this.id} .p-datatable-tbody > tr > td:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n                        `}),this.styleElement.innerHTML=s}else un.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((s,a)=>{s.style.width=e[a]+"px"})}}saveColumnOrder(e){if(this.columns){let s=[];this.columns.map(a=>{s.push(a.field||a.key)}),e.columnOrder=s}}restoreColumnOrder(){const s=this.getStorage().getItem(this.stateKey);if(s){let l=JSON.parse(s).columnOrder;if(l){let h=[];l.map(y=>{let C=this.findColumnByKey(y);C&&h.push(C)}),this.columnOrderStateRestored=!0,this.columns=h}}}updateScrollWidth(){if(this.tableViewChild&&this.tableViewChild.nativeElement){let e=un.getWidth(this.tableViewChild.nativeElement.parentElement);this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.scrollWidth>e?this.tableViewChild.nativeElement.scrollWidth+"px":e-un.calculateScrollbarHeight()+"px"}}findColumnByKey(e){if(!this.columns)return null;for(let s of this.columns)if(s.key===e||s.field===e)return s}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(sF),o.Y36(o.sBO),o.Y36(cD),o.Y36(l0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-table"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Ele,5),o.Gf(Dle,5),o.Gf(Ale,5),o.Gf(Ile,5),o.Gf(Lle,5),o.Gf(Ple,5),o.Gf(Ole,5),o.Gf(ET,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.resizeHelperViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorUpViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorDownViewChild=a.first),o.iGM(a=o.CRH())&&(s.wrapperViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableHeaderViewChild=a.first),o.iGM(a=o.CRH())&&(s.virtualScrollBody=a.first)}},inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[o._Bn([sF]),o.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,Rle,2,2,"div",2),o.YNc(3,Nle,2,1,"div",3),o.YNc(4,zle,1,16,"p-paginator",4),o.TgZ(5,"div",5,6),o.YNc(7,jle,8,15,"table",7),o.YNc(8,Qle,10,20,"cdk-virtual-scroll-viewport",8),o.qZA(),o.YNc(9,Jle,1,16,"p-paginator",9),o.YNc(10,Kle,2,1,"div",10),o.YNc(11,ece,2,0,"div",11),o.YNc(12,tce,2,0,"span",12),o.YNc(13,nce,2,0,"span",13),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.rFY(16,ice,[s.rowHover||s.selectionMode,s.autoLayout,s.resizableColumns,s.resizableColumns&&"fit"===s.columnResizeMode,s.scrollable,s.scrollable&&"vertical"===s.scrollDirection,s.scrollable&&"horizontal"===s.scrollDirection,s.scrollable&&"both"===s.scrollDirection,s.scrollable&&"flex"===s.scrollHeight,"stack"===s.responsiveLayout,"scroll"===s.responsiveLayout,s.responsive,null!=s.headerGroupedTemplate,null!=s.footerGroupedTemplate])),o.uIk("id",s.id),o.xp6(2),o.Q6J("ngIf",s.loading&&s.showLoader),o.xp6(1),o.Q6J("ngIf",s.captionTemplate),o.xp6(1),o.Q6J("ngIf",s.paginator&&("top"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngStyle",o.VKq(31,rce,s.scrollHeight)),o.xp6(2),o.Q6J("ngIf",!s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.paginator&&("bottom"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngIf",s.summaryTemplate),o.xp6(1),o.Q6J("ngIf",s.resizableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns))},directives:function(){return[Gi,pe,cn,qr,cae,due,ET,nB]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-table,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),t})(),due=(()=>{class t{constructor(e,s,a,l){this.dt=e,this.tableService=s,this.cd=a,this.el=l,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,s,a){let l=xr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a-1];return!h||l!==xr.resolveFieldData(h,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,s,a){let l=xr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a+1];return!h||l!==xr.resolveFieldData(h,this.dt.groupRowsBy)}shouldRenderRowspan(e,s,a){let l=xr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a-1];return!h||l!==xr.resolveFieldData(h,this.dt.groupRowsBy)}calculateRowGroupSize(e,s,a){let l=xr.resolveFieldData(s,this.dt.groupRowsBy),h=l,y=0;for(;l===h;){y++;let C=e[++a];if(!C)break;h=xr.resolveFieldData(C,this.dt.groupRowsBy)}return 1===y?null:y}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=un.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=un.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(N0),o.Y36(sF),o.Y36(o.sBO),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","pTableBody",""]],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:sce,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,s){1&e&&(o.YNc(0,gce,2,2,"ng-container",0),o.YNc(1,vce,2,3,"ng-container",0),o.YNc(2,Dce,2,2,"ng-container",0),o.YNc(3,Oce,2,2,"ng-container",0),o.YNc(4,Fce,2,5,"ng-container",0),o.YNc(5,zce,2,5,"ng-container",0)),2&e&&(o.Q6J("ngIf",!s.dt.expandedRowTemplate&&!s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",!s.dt.expandedRowTemplate&&s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.dt.expandedRowTemplate&&!(s.frozen&&s.dt.frozenExpandedRowTemplate)),o.xp6(1),o.Q6J("ngIf",s.dt.frozenExpandedRowTemplate&&s.frozen),o.xp6(1),o.Q6J("ngIf",s.dt.loading),o.xp6(1),o.Q6J("ngIf",s.dt.isEmpty()&&!s.dt.loading))},directives:[cn,ft,qr,sB],encapsulation:2}),t})(),oF=(()=>{class t{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(s=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),un.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return un.hasClass(e,"pi-filter-icon")||un.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(N0))},t.\u0275dir=o.lG2({type:t,selectors:[["","pSortableColumn",""]],hostVars:7,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l)})("keydown.enter",function(l){return s.onEnterKey(l)}),2&e&&(o.uIk("tabindex",s.isEnabled()?"0":null)("role","columnheader")("aria-sort",s.sortOrder),o.ekj("p-sortable-column",s.isEnabled())("p-highlight",s.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),t})(),aF=(()=>{class t{constructor(e,s){this.dt=e,this.cd=s,this.subscription=this.dt.tableService.sortSource$.subscribe(a=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,s=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let a=0;a<e.length;a++){let l=e[a];if(l.field===this.field||l.field===this.field){s=a;break}}return s}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(N0),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-sortIcon"]],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,s){1&e&&(o._UZ(0,"i",0),o.YNc(1,Bce,2,1,"span",1)),2&e&&(o.Q6J("ngClass",o.kEZ(2,Yce,1===s.sortOrder,-1===s.sortOrder,0===s.sortOrder)),o.xp6(1),o.Q6J("ngIf",s.isMultiSorted()))},directives:[pe,cn],encapsulation:2,changeDetection:0}),t})(),hue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,uae,kS,wA,$v,bA,ab,bae,xle,UV,kae],Ll,$v]}),t})();function pue(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th"),o._uU(2,"Company Name"),o.qZA(),o.TgZ(3,"th"),o._uU(4,"Product"),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Unit Price"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Quantity"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Total Price"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Action"),o.qZA(),o.qZA())}const fue=function(){return{"margin-right":"5px"}};function mue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o.TgZ(8,"p-inputNumber",6,7),o.NdJ("ngModelChange",function(a){const h=o.CHM(e).rowIndex;return o.oxw().products[h].quantity=a})("click",function(){const a=o.CHM(e),l=a.rowIndex,h=a.$implicit,y=o.oxw();return y.quantityControl(l,y.products[l].quantity,h.brand,h.price)}),o.qZA(),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.ALo(12,"number"),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"button",8),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.oxw();return h.deleteCart(l.brand,h.products.length)}),o._uU(15,"Delete"),o.qZA(),o.TgZ(16,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.compname,l.price,l.brand,l.quantity,l.category,l)}),o._uU(17,"Pay"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=i.rowIndex,a=o.oxw();o.xp6(2),o.Oqu(e.compname),o.xp6(2),o.Oqu(e.brand),o.xp6(2),o.hij("",e.price," "),o.xp6(2),o.Udp("margin-left","-6rem")("text-align","center"),o.Q6J("disabled",a.x3.length>0)("ngModel",a.products[s].quantity)("min",1)("max",e.stock)("showButtons",!0)("step",1),o.xp6(3),o.hij("RM ",o.xi3(12,17,e.totalprice,".2"),""),o.xp6(3),o.Q6J("disabled",a.x3.length>0)("ngStyle",o.DdM(20,fue)),o.xp6(2),o.Q6J("disabled",a.x3.length>0)}}const gue=function(){return{"margin-left":"-5rem"}};let _ue=(()=>{class t{constructor(e,s,a,l,h){this.fs=e,this.router=s,this.fns=a,this.aR=l,this.http=h,this.products=[],this.selectedProducts3=[],this.cartinfo=[],this.cartinfo2=[],this.isMofile=!1,this.difference=0,this.x=0,this.checkInfo2=[],this.totalprice=0,this.checked=!1,this.overallprice=0,this.overallquantity=0,this.checkInfo=[],this.x1=[],this.x2=[],this.x3=[],this.x4=[],this.total=0,this.total2=0,this.isGettingCheckout=!1,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(y=>{this.cartinfo=[],y.map(C=>{this.totalprice=Number(C.payload.doc.data().quantity)*C.payload.doc.data().price;let P={brand:C.payload.doc.data().brand,price:C.payload.doc.data().price,quantity:C.payload.doc.data().quantity,compname:C.payload.doc.data().compname,category:C.payload.doc.data().category,stock:C.payload.doc.data().stock,totalprice:this.totalprice};this.cartinfo.push(P),this.products=this.cartinfo})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout")}ngOnInit(){}info(e,s,a,l){this.status=a.checked,a.checked?(this.x1.push(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).set(e),this.overallprice+=a.value.totalprice,this.disablequantity=!0,this.overallquantity+=a.value.quantity,this.x3.push(s)):a.checked||(this.x1.splice(s,1),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).delete(),this.x3.splice(s-this.cartinfo.length,1),this.disablequantity=!1,this.overallprice-=a.value.totalprice,this.overallquantity-=a.value.quantity),new Set(this.x3),0===this.x3.length&&(this.overallprice=0,this.overallquantity=0),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).update({totalprice:e.totalprice,quantity:e.quantity})}quantityControl(e,s,a,l){this.total=0,this.total2=0;let h=s*l;this.x2=[],this.x4=[],this.cartinfo.forEach(y=>{this.x2.push(y.quantity*y.price),this.x4.push(y.quantity),console.log(this.x2),console.log(this.x4)});for(let y=0;y<this.x3.length;y++){let P=this.x2[y],j=this.x4[y];this.total+=P,this.total2+=j,console.log(P),console.log(j)}this.overallprice=this.total,this.overallquantity=this.total2,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(a).update({quantity:s,totalprice:h})}totalBar(){this.x1.forEach(e=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).snapshotChanges().subscribe(s=>{var a;let l=null===(a=s.payload.data())||void 0===a?void 0:a.totalprice;console.log(l)})})}deleteCart(e,s){console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).delete(),1==s&&this.router.navigateByUrl("/adminaddorder")}pay(e,s,a,l,h,y){var C=this;return Rr(function*(){console.log(e),C.tracking_number=`UMPSC${Math.floor(19999999*Math.random())+1e7}MY`,C.http.post("https://UMP-Supply-Chain.cb-1-8-1-4-0-os.repl.co/create-checkout-session/",{compname:e,finalPrice:s,category1:h,product:y,finalProduct:a,quantity1:l,trackingnumber:C.tracking_number}).subscribe(function(){var P=Rr(function*(j){console.log(null==j?void 0:j.session);let te=null==j?void 0:j.session;C.uid=te,yield C.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(C.tracking_number).set({productname:a,quantity:l,compname:e,amount:s,status:"unpaid",uid:C.uid,category:h,ordertimestamp:null,preparetimestamp:null,shiptimestamp:null,completetimestamp:null,receivedstatus:!1,ratingstatus:!1,trackingTotal:l}),localStorage.setItem("stripeCheckout",te),C.stripe.redirectToCheckout({sessionId:te}).then(function(he){console.log(he.error.message)})});return function(j){return P.apply(this,arguments)}}()),console.log(h,y),C.isGettingCheckout=!0,C.stripe=yield FI("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz")})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ea),o.Y36(SS),o.Y36(Jp),o.Y36(j_))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-cart-page"]],decls:9,vars:4,consts:[[2,"width","80%","margin","auto"],[1,"title",3,"ngStyle"],[1,"card"],["dataKey","brand",3,"value","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["buttonLayout","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"disabled","ngModel","min","max","showButtons","step","ngModelChange","click"],["p",""],["mat-raised-button","",3,"disabled","ngStyle","click"],["mat-raised-button","",3,"disabled","click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"h4"),o._uU(4,"Shopping Cart"),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"p-table",3),o.NdJ("selectionChange",function(l){return s.selectedProducts3=l}),o.YNc(7,pue,13,0,"ng-template",4),o.YNc(8,mue,18,21,"ng-template",5),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngStyle",o.DdM(3,gue)),o.xp6(4),o.Q6J("value",s.products)("selection",s.selectedProducts3))},directives:[Z_,Gi,N0,Il,rF,zh,$g,xu],pipes:[Cu],styles:["table[_ngcontent-%COMP%]{width:80%}input[type=number][_ngcontent-%COMP%]{padding:10px}p-inputNumber[_ngcontent-%COMP%]{margin-left:-20px}.title[_ngcontent-%COMP%]{margin:25px}"]}),t})();function yue(t,i){if(1&t&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.uIk("id",e.id+"_header"),o.xp6(1),o.Oqu(e.header)}}function vue(t,i){1&t&&o.GkF(0)}function bue(t,i){}function xue(t,i){1&t&&o.YNc(0,bue,0,0,"ng-template")}function wue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)}),o._UZ(1,"span"),o.qZA()}if(2&t){const e=o.oxw(2);o.uIk("id",e.id+"-label")("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),o.xp6(1),o.Tol(e.collapsed?e.expandIcon:e.collapseIcon)}}function Cue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onHeaderClick(a)}),o.YNc(1,yue,2,2,"span",7),o.Hsn(2,1),o.YNc(3,vue,1,0,"ng-container",4),o.TgZ(4,"div",8),o.YNc(5,xue,1,0,void 0,4),o.YNc(6,wue,2,5,"button",9),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.uIk("id",e.id+"-titlebar"),o.xp6(1),o.Q6J("ngIf",e.header),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngTemplateOutlet",e.iconTemplate),o.xp6(1),o.Q6J("ngIf",e.toggleable)}}function Mue(t,i){1&t&&o.GkF(0)}function Tue(t,i){1&t&&o.GkF(0)}function Sue(t,i){if(1&t&&(o.TgZ(0,"div",12),o.Hsn(1,2),o.YNc(2,Tue,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const kue=["*",[["p-header"]],[["p-footer"]]],Eue=function(t){return{"p-panel p-component":!0,"p-panel-toggleable":t}},Due=function(t){return{transitionParams:t,height:"0",opacity:"0"}},Aue=function(t){return{value:"hidden",params:t}},Iue=function(t){return{transitionParams:t,height:"*",opacity:"1"}},Lue=function(t){return{value:"visible",params:t}},Pue=["*","p-header","p-footer"];let Oue=0,Rue=(()=>{class t{constructor(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new o.vpe,this.onBeforeToggle=new o.vpe,this.onAfterToggle=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+Oue++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-panel"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,Ox,5),o.Suo(a,Il,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Pue,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,s){1&e&&(o.F$t(kue),o.TgZ(0,"div",0),o.YNc(1,Cue,7,5,"div",1),o.TgZ(2,"div",2),o.NdJ("@panelContent.done",function(l){return s.onToggleDone(l)}),o.TgZ(3,"div",3),o.Hsn(4),o.YNc(5,Mue,1,0,"ng-container",4),o.qZA(),o.YNc(6,Sue,3,1,"div",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.VKq(12,Eue,s.toggleable))("ngStyle",s.style),o.uIk("id",s.id),o.xp6(1),o.Q6J("ngIf",s.showHeader),o.xp6(1),o.Q6J("@panelContent",s.collapsed?o.VKq(16,Aue,o.VKq(14,Due,s.animating?s.transitionOptions:"0ms")):o.VKq(20,Lue,o.VKq(18,Iue,s.animating?s.transitionOptions:"0ms"))),o.uIk("id",s.id+"-content")("aria-hidden",s.collapsed)("aria-labelledby",s.id+"-titlebar"),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[pe,Gi,cn,qr,W_],styles:[".p-panel-header{display:flex;justify-content:space-between;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[fs("panelContent",[Ne("hidden",ye({height:"0",overflow:"hidden"})),Ne("void",ye({height:"{{height}}"}),{params:{height:"0"}}),Ne("visible",ye({height:"*"})),Et("visible <=> hidden",[ye({overflow:"hidden"}),yi("{{transitionParams}}")]),Et("void => hidden",yi("{{transitionParams}}")),Et("void => visible",yi("{{transitionParams}}"))])]},changeDetection:0}),t})(),Fue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Ll,_m],Ll]}),t})();function Nue(t,i){if(1&t&&(o.TgZ(0,"li",5),o._uU(1),o.qZA()),2&t){const e=o.oxw(),s=e.index,a=e.$implicit;o.xp6(1),o.xDo(" ",s+1,". Brand:",a.brand," | Unit Price:",a.price," | Quantity:",a.quantity," | Total Price:",a.totalprice," ")}}function zue(t,i){if(1&t&&(o.TgZ(0,"ul",3),o.YNc(1,Nue,2,5,"li",4),o.qZA()),2&t){const e=i.$implicit,s=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",s==e.compname)}}function Bue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-panel"),o._uU(1),o.YNc(2,zue,2,1,"ul",1),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"button",2),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.oxw();return h.pay(l,h.finalPrice,h.finalProduct)}),o._uU(10,"Pay"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",e," "),o.xp6(1),o.Q6J("ngForOf",s.x1),o.xp6(2),o.hij("Overall Product: ",s.finalProduct,""),o.xp6(2),o.hij("Overall Total Price: ",s.finalPrice,""),o.xp6(2),o.hij("Overall Total Quantity: ",s.finalQuantity,"")}}let Yue=(()=>{class t{constructor(e,s,a,l){var h,y;this.activatedroute=e,this.router=s,this.fs=a,this.fns=l,this.checkoutInfoarray=[],this.compname=[],this.x2=[],this.x=0,this.obj=[],this.x3=[],this.obj2=[],this.x4=[],this.x5=[],this.donationAmount=5,this.isGettingCheckout=!1,this.finalPrice=0,this.finalQuantity=0,this.finalProduct=[],this.fs.collection("Supplier").snapshotChanges().toPromise().then(P=>{console.log(P)}),this.checkoutInfo=null===(h=this.router.getCurrentNavigation())||void 0===h?void 0:h.extras.state,this.checkoutInfoarray=this.checkoutInfo,null==this.checkoutInfo&&this.router.navigateByUrl("/admincartpage"),this.x1=null===(y=this.checkoutInfoarray)||void 0===y?void 0:y.sort(function(P,j){return P.compname<j.compname?-1:P.compname>j.compname?1:0}),this.x1.filter((P,j)=>{this.x2.push(P.compname)}),this.compname.filter(P=>{}),this.x3=[...new Set(this.x2)],this.checkoutInfo.filter(P=>{if("Oscar Food Sdn Bhd"===P.compname){let j=0;j+=+P.totalprice;let te=0;te+=P.quantity,this.x4.push({brand:P.brand,tp:j,quantity:te})}else if("Fanny Food Sdn Bhd"===P.compname){let j=0;j+=+P.totalprice;let te=0;te+=P.quantity,this.x5.push({brand:P.brand,tp:j,quantity:te})}}),this.x4.forEach(P=>{console.log(P),this.finalProduct.push(P.brand),this.finalPrice+=P.tp,this.finalQuantity+=P.quantity,console.log(this.finalQuantity)}),this.x5.forEach(P=>{console.log(P),this.finalProduct.push(P.brand),this.finalPrice+=P.tp,this.finalQuantity+=P.quantity,console.log(this.finalQuantity)})}ngOnInit(){}pay(e,s,a){var l=this;return Rr(function*(){l.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a).set({status:"unpaid",id:"result"}),console.log(e,a,s),l.isGettingCheckout=!0})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Jp),o.Y36(ea),o.Y36(Co),o.Y36(SS))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-check-out-page"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["class","list-group",4,"ngFor","ngForOf"],["mat","","mat-raised-button","","target","_blank",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.YNc(1,Bue,11,5,"p-panel",0)),2&e&&(o.xp6(1),o.Q6J("ngForOf",s.x3))},directives:[Z_,ft,Rue,xu,cn],styles:["p-card[_ngcontent-%COMP%]{margin:20px}"]}),t})();const Hue=function(t,i){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":i}};function Vue(t,i){if(1&t&&o._UZ(0,"span",3),2&t){const e=o.oxw();o.Tol(e.checked?e.onIcon:e.offIcon),o.Q6J("ngClass",o.WLB(3,Hue,"left"===e.iconPos,"right"===e.iconPos))}}const Uue=function(t,i,e){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":t,"p-highlight":i,"p-disabled":e}},jue={provide:ru,useExisting:(0,o.Gpc)(()=>WV),multi:!0};let WV=(()=>{class t{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new o.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toggleButton"]],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[o._Bn([jue])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(l){return s.toggle(l)})("keydown.enter",function(l){return s.toggle(l)}),o.YNc(1,Vue,1,6,"span",1),o.TgZ(2,"span",2),o._uU(3),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(8,Uue,s.onIcon&&s.offIcon&&!s.hasOnLabel&&!s.hasOffLabel,s.checked,s.disabled))("ngStyle",s.style),o.uIk("tabindex",s.disabled?null:"0")("aria-checked",s.checked),o.xp6(1),o.Q6J("ngIf",s.onIcon||s.offIcon),o.xp6(2),o.Oqu(s.checked?s.hasOnLabel?s.onLabel:"":s.hasOffLabel?s.offLabel:""))},directives:[W_,pe,Gi,cn],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),t})(),Zue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m]]}),t})();function Wue(t,i){if(1&t&&o._UZ(0,"i",8),2&t){const e=o.oxw(2);o.Tol(e.confirmation.icon),o.Q6J("ngClass","p-confirm-popup-icon")}}function Gue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).reject()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.rejectButtonStyleClass||"p-button-text"),o.Q6J("icon",e.confirmation.rejectIcon)("label",e.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),o.uIk("aria-label",e.rejectButtonLabel)}}function que(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).accept()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.acceptButtonStyleClass),o.Q6J("icon",e.confirmation.acceptIcon)("label",e.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),o.uIk("aria-label",e.acceptButtonLabel)}}const $ue=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},Que=function(t){return{value:"open",params:t}};function Jue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.TgZ(1,"div",2,3),o.YNc(3,Wue,1,3,"i",4),o.TgZ(4,"span",5),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.YNc(7,Gue,1,6,"button",7),o.YNc(8,que,1,6,"button",7),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",e.style)("@animation",o.VKq(12,Que,o.WLB(9,$ue,e.showTransitionOptions,e.hideTransitionOptions))),o.xp6(3),o.Q6J("ngIf",e.confirmation.icon),o.xp6(2),o.Oqu(e.confirmation.message),o.xp6(2),o.Q6J("ngIf",!1!==e.confirmation.rejectVisible),o.xp6(1),o.Q6J("ngIf",!1!==e.confirmation.acceptVisible)}}let Xue=(()=>{class t{constructor(e,s,a,l,h,y){this.el=e,this.confirmationService=s,this.renderer=a,this.cd=l,this.config=h,this.overlayService=y,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{C?C.key===this.key&&(this.confirmation=C,this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,document.body.appendChild(this.container),this.align(),this.bindListeners())}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy()}}align(){this.autoZIndex&&iu.set("overlay",this.container,this.config.zIndex.overlay),un.absolutePosition(this.container,this.confirmation.target);const e=un.getOffset(this.container),s=un.getOffset(this.confirmation.target);let a=0;e.left<s.left&&(a=s.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${a}px`),e.top<s.top&&un.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=un.isIOS()?"touchstart":"click";const s=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(s,e,a=>{let l=this.confirmation.target;this.container!==a.target&&!this.container.contains(a.target)&&l!==a.target&&!l.contains(a.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new MT(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&iu.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(ta.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(ta.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Qm),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Lf),o.Y36(l0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmPopup"]],inputs:{key:"key",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&o.YNc(0,Jue,9,14,"div",0),2&e&&o.Q6J("ngIf",s.visible)},directives:[cn,pe,Gi,P0],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(0 + 1.25rem);left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after,.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}'],encapsulation:2,data:{animation:[fs("animation",[Ne("void",ye({transform:"scaleY(0.8)",opacity:0})),Ne("open",ye({transform:"translateY(0)",opacity:1})),Et("void => open",yi("{{showTransitionParams}}")),Et("open => void",yi("{{hideTransitionParams}}"))])]},changeDetection:0}),t})(),Kue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,ab]]}),t})();function ede(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"UID"),o.qZA())}function tde(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function nde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Matrix Card ID"),o.qZA())}function ide(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.matrix)}}function rde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Student Name"),o.qZA())}function sde(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function ode(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Permission"),o.qZA())}function ade(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",20),o.TgZ(1,"p-toggleButton",21,22),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isStudent=a})("click",function(){const l=o.CHM(e).$implicit,h=o.MAs(2);return o.oxw().change(h,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isStudent)("onIcon","pi pi-check")}}function lde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Action"),o.qZA())}function cde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",20),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",23),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().confirm(a,h.id)}),o.qZA(),o.qZA()}}function ude(t,i){1&t&&o._UZ(0,"tr",24)}function dde(t,i){1&t&&o._UZ(0,"tr",25)}function hde(t,i){if(1&t&&(o.TgZ(0,"tr",26),o.TgZ(1,"td",27),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(6);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}function pde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"UID"),o.qZA())}function fde(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function mde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Company Name"),o.qZA())}function gde(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.compname)}}function _de(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Supplier Name"),o.qZA())}function yde(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function vde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Permission"),o.qZA())}function bde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",20),o.TgZ(1,"p-toggleButton",21,22),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isSupplier=a})("click",function(){const l=o.CHM(e).$implicit,h=o.MAs(2);return o.oxw().change2(h,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isSupplier)("onIcon","pi pi-check")}}function xde(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Action"),o.qZA())}function wde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",20),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",23),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().confirm2(a,h.id)}),o.qZA(),o.qZA()}}function Cde(t,i){1&t&&o._UZ(0,"tr",24)}function Mde(t,i){1&t&&o._UZ(0,"tr",25)}function Tde(t,i){if(1&t&&(o.TgZ(0,"tr",26),o.TgZ(1,"td",27),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(6);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const GV=function(){return{padding:"20px"}},qV=function(){return[5,10,25,100]};let Sde=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.confirmationService=s,this.messageService=a,this.primengConfig=l,this.displayedColumns=["id","matrix","name","isStudent","action"],this.displayedColumns2=["id","compname","name","isSupplier","action"],this.fs.collection("Student").snapshotChanges().subscribe(h=>{this.studentPermissions=[],h.map(y=>{let C={id:y.payload.doc.id,matrix:y.payload.doc.data().matrixid,isStudent:y.payload.doc.data().isStudent,name:y.payload.doc.data().name};this.studentPermissions.push(C),this.dataSource=new sw(this.studentPermissions),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}),this.fs.collection("Supplier").snapshotChanges().subscribe(h=>{this.supplierPermissions=[],h.map(y=>{let C={id:y.payload.doc.id,compname:y.payload.doc.data().compname,isSupplier:y.payload.doc.data().isSupplier,name:y.payload.doc.data().name};this.supplierPermissions.push(C),this.dataSource2=new sw(this.supplierPermissions),this.dataSource2.paginator=this.paginator,this.dataSource2.sort=this.sort})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}applyFilter2(e){this.dataSource2.filter=e.target.value.trim().toLowerCase(),this.dataSource2.paginator&&this.dataSource2.paginator.firstPage()}change(e,s){console.log(e,s),this.fs.collection("Student").doc(s).update({isStudent:e.checked})}change2(e,s){console.log(e,s),this.fs.collection("Supplier").doc(s).update({isSupplier:e.checked})}confirm(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Student").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}confirm2(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Supplier").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(Qm),o.Y36(mm),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-permission-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(L0,5),o.Gf(ib,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:58,vars:18,consts:[[1,"const"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8",3,"ngStyle"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","matrix"],["matColumnDef","name"],["matColumnDef","isStudent"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["matColumnDef","compname"],["matColumnDef","isSupplier"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["offIcon","pi pi-times",3,"ngModel","onIcon","ngModelChange","click"],["p",""],["id","delete","pButton","","icon","pi pi-check","label","Delete",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"div",0),o.TgZ(2,"mat-form-field",1),o.TgZ(3,"mat-label"),o._uU(4,"Filter"),o.qZA(),o.TgZ(5,"input",2,3),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(7,"div",4),o.TgZ(8,"h4"),o._uU(9,"Student's List"),o.qZA(),o.TgZ(10,"table",5),o.ynx(11,6),o.YNc(12,ede,2,0,"th",7),o.YNc(13,tde,2,1,"td",8),o.BQk(),o.ynx(14,9),o.YNc(15,nde,2,0,"th",7),o.YNc(16,ide,2,1,"td",8),o.BQk(),o.ynx(17,10),o.YNc(18,rde,2,0,"th",7),o.YNc(19,sde,2,1,"td",8),o.BQk(),o.ynx(20,11),o.YNc(21,ode,2,0,"th",7),o.YNc(22,ade,3,2,"td",8),o.BQk(),o.ynx(23,12),o.YNc(24,lde,2,0,"th",7),o.YNc(25,cde,4,0,"td",8),o.BQk(),o.YNc(26,ude,1,0,"tr",13),o.YNc(27,dde,1,0,"tr",14),o.YNc(28,hde,3,1,"tr",15),o.qZA(),o._UZ(29,"mat-paginator",16),o.qZA(),o.TgZ(30,"mat-form-field",1),o.TgZ(31,"mat-label"),o._uU(32,"Filter"),o.qZA(),o.TgZ(33,"input",2,3),o.NdJ("keyup",function(l){return s.applyFilter2(l)}),o.qZA(),o.qZA(),o.TgZ(35,"div",4),o.TgZ(36,"h4"),o._uU(37,"Supplier's List"),o.qZA(),o.TgZ(38,"table",5),o.ynx(39,6),o.YNc(40,pde,2,0,"th",7),o.YNc(41,fde,2,1,"td",8),o.BQk(),o.ynx(42,17),o.YNc(43,mde,2,0,"th",7),o.YNc(44,gde,2,1,"td",8),o.BQk(),o.ynx(45,10),o.YNc(46,_de,2,0,"th",7),o.YNc(47,yde,2,1,"td",8),o.BQk(),o.ynx(48,18),o.YNc(49,vde,2,0,"th",7),o.YNc(50,bde,3,2,"td",8),o.BQk(),o.ynx(51,12),o.YNc(52,xde,2,0,"th",7),o.YNc(53,wde,4,0,"td",8),o.BQk(),o.YNc(54,Cde,1,0,"tr",13),o.YNc(55,Mde,1,0,"tr",14),o.YNc(56,Tde,3,1,"tr",15),o.qZA(),o._UZ(57,"mat-paginator",16),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Q6J("ngStyle",o.DdM(14,GV)),o.xp6(3),o.Q6J("dataSource",s.dataSource),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(15,qV)),o.xp6(6),o.Q6J("ngStyle",o.DdM(16,GV)),o.xp6(3),o.Q6J("dataSource",s.dataSource2),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns2),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns2),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(17,qV)))},directives:[Z_,I0,rb,ow,Gi,yS,ib,mC,fC,pC,vS,bS,CS,L0,gC,cI,_C,WV,zh,$g,O0,Xue,P0,xS,wS],styles:["table[_ngcontent-%COMP%]{width:100%}#delete[_ngcontent-%COMP%]{background-color:#d32f2f;border:none}.const[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}"]}),t})();function kde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"label",5),o._uU(2,"Product Image Link"),o.qZA(),o.TgZ(3,"input",6),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().productImageLink=a}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngModel",e.productImageLink)}}function Ede(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"p"),o._uU(2,"Image Preview"),o.qZA(),o._UZ(3,"img",14),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.s9C("src",e.productImageLink,o.LSH)}}function Dde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",15),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",11),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}let Ade=(()=>{class t{constructor(e){this.fs=e,this.ingredient=[],this.different=[],this.different2=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(s=>{this.different=[],s.map(a=>{this.different.push(a.payload.doc.id),console.log(a.payload.doc.id)})})}ngOnInit(){}addNewIngredient(e,s){this.ingredient.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient.splice(e,1)}add(){this.ingredient.forEach(e=>{this.different.includes(e.ingredient)||this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.ingredient).set({lowestmargin:0,quantity:0})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(this.product).set({price:this.productprice,ingredient:this.ingredient,totalsale:0,imageLink:this.productImageLink,availability:!1,stock:0})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-menu-list-page"]],decls:28,vars:5,consts:[["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"ngModel","ngModelChange"],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"ngModel","ngModelChange"],["class","p-field",4,"ngIf"],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["img","","alt","",3,"src"],[1,"list-group-item"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"form",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"label",3),o._uU(4,"Product Name"),o.qZA(),o.TgZ(5,"input",4),o.NdJ("ngModelChange",function(h){return s.product=h}),o.qZA(),o.qZA(),o.TgZ(6,"div",2),o.TgZ(7,"label",5),o._uU(8,"Product Price"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(h){return s.productprice=h}),o.qZA(),o.qZA(),o.YNc(10,kde,4,1,"div",7),o.YNc(11,Ede,4,1,"div",7),o.TgZ(12,"div",2),o.TgZ(13,"label",5),o._uU(14,"Ingredient Name (Needed)"),o.qZA(),o._UZ(15,"input",8,9),o.qZA(),o.TgZ(17,"div",2),o.TgZ(18,"label",5),o._uU(19,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(20,"input",8,10),o.qZA(),o.TgZ(22,"button",11),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(16),y=o.MAs(21);return s.addNewIngredient(h,y)}),o._uU(23,"Add"),o.qZA(),o.TgZ(24,"ul",12),o.YNc(25,Dde,5,3,"li",13),o.qZA(),o.qZA(),o.TgZ(26,"button",11),o.NdJ("click",function(){return s.add()}),o._uU(27,"Confirm"),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Q6J("ngModel",s.product),o.xp6(4),o.Q6J("ngModel",s.productprice),o.xp6(1),o.Q6J("ngIf",(null==s.product?null:s.product.length)>0),o.xp6(1),o.Q6J("ngIf",s.productImageLink),o.xp6(14),o.Q6J("ngForOf",s.ingredient))},directives:[q_,G_,Wx,Gg,R0,zh,$g,cn,xu,ft],pipes:[Cp],styles:["img[_ngcontent-%COMP%]{width:100px;height:100px;border:1px solid black}"]}),t})();const Ide=["mask"];function Lde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).hide()})("keydown.enter",function(){return o.CHM(e),o.oxw(3).hide()}),o._UZ(1,"span",13),o.qZA()}2&t&&o.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function Pde(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"span",9),o._uU(2),o.qZA(),o.TgZ(3,"div",10),o.YNc(4,Lde,2,1,"button",11),o.qZA(),o.qZA()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.config.header),o.xp6(2),o.Q6J("ngIf",!1!==e.config.closable)}}function Ode(t,i){}function Rde(t,i){if(1&t&&(o.TgZ(0,"div",14),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.config.footer," ")}}const Fde=function(t){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":t}},Nde=function(t,i){return{transform:t,transition:i}},zde=function(t){return{value:"visible",params:t}};function Bde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(1,Pde,5,2,"div",4),o.TgZ(2,"div",5),o.YNc(3,Ode,0,0,"ng-template",6),o.qZA(),o.YNc(4,Rde,2,1,"div",7),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.config.styleClass),o.Udp("width",e.config.width)("height",e.config.height),o.Q6J("ngClass",o.VKq(12,Fde,e.config.rtl))("ngStyle",e.config.style)("@animation",o.VKq(17,zde,o.WLB(14,Nde,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),o.xp6(1),o.Q6J("ngIf",!1!==e.config.showHeader),o.xp6(1),o.Q6J("ngStyle",e.config.contentStyle),o.xp6(2),o.Q6J("ngIf",e.config.footer)}}const Yde=function(t){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":t}};let $V=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","pDynamicDialogContent",""]]}),t})();class lF{}class ES{constructor(){this._onClose=new ri.xQ,this.onClose=this._onClose.asObservable(),this._onDestroy=new ri.xQ,this.onDestroy=this._onDestroy.asObservable()}close(i){this._onClose.next(i)}destroy(){this._onDestroy.next()}}const Hde=En([ye({transform:"{{transform}}",opacity:0}),yi("{{transition}}",ye({transform:"none",opacity:1}))]),Vde=En([yi("{{transition}}",ye({transform:"{{transform}}",opacity:0}))]);let Ude=(()=>{class t{constructor(e,s,a,l,h,y,C){this.componentFactoryResolver=e,this.cd=s,this.renderer=a,this.config=l,this.dialogRef=h,this.zone=y,this.primeNGConfig=C,this.visible=!0,this.transformOptions="scale(0.7)"}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(e){let s=this.componentFactoryResolver.resolveComponentFactory(e),a=this.insertionPoint.viewContainerRef;a.clear(),this.componentRef=a.createComponent(s)}moveOnTop(){!1!==this.config.autoZIndex&&(iu.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}onAnimationEnd(e){"void"===e.toState&&this.dialogRef.destroy()}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&iu.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),!1!==this.config.modal&&un.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&un.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(e){if(9===e.which){e.preventDefault();let s=un.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}focus(){let e=un.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&parseInt(this.container.style.zIndex)==un.zindex+(this.config.baseZIndex?this.config.baseZIndex:0)&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(lF),o.Y36(ES),o.Y36(o.R0b),o.Y36(Lf))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dynamicDialog"]],viewQuery:function(e,s){if(1&e&&(o.Gf($V,5),o.Gf(Ide,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.insertionPoint=a.first),o.iGM(a=o.CRH())&&(s.maskViewChild=a.first)}},decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,Bde,5,19,"div",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(2,Yde,!1!==s.config.modal)),o.xp6(2),o.Q6J("ngIf",s.visible))},directives:function(){return[pe,cn,Gi,$V]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[fs("animation",[Et("void => visible",[Lr(Hde)]),Et("visible => void",[Lr(Vde)])])]}}),t})();class jde{constructor(i,e){this._parentInjector=i,this._additionalTokens=e}get(i,e,s){return this._additionalTokens.get(i)||this._parentInjector.get(i,e)}}let cF=(()=>{class t{constructor(e,s,a){this.componentFactoryResolver=e,this.appRef=s,this.injector=a,this.dialogComponentRefMap=new Map}open(e,s){const a=this.appendDialogComponentToBody(s);return this.dialogComponentRefMap.get(a).instance.childComponentType=e,a}appendDialogComponentToBody(e){const s=new WeakMap;s.set(lF,e);const a=new ES;s.set(ES,a);const l=a.onClose.subscribe(()=>{this.dialogComponentRefMap.get(a).instance.close()}),h=a.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(a),h.unsubscribe(),l.unsubscribe()}),C=this.componentFactoryResolver.resolveComponentFactory(Ude).create(new jde(this.injector,s));return this.appRef.attachView(C.hostView),document.body.appendChild(C.hostView.rootNodes[0]),this.dialogComponentRefMap.set(a,C),a}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;const s=this.dialogComponentRefMap.get(e);this.appRef.detachView(s.hostView),s.destroy(),this.dialogComponentRefMap.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function Zde(t,i){1&t&&o.GkF(0)}function Wde(t,i){if(1&t&&(o.TgZ(0,"div",3),o.YNc(1,Zde,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.leftTemplate)}}function Gde(t,i){1&t&&o.GkF(0)}function qde(t,i){if(1&t&&(o.TgZ(0,"div",5),o.YNc(1,Gde,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.rightTemplate)}}const $de=["*"];let QV=(()=>{class t{constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"left":this.leftTemplate=e.template;break;case"right":this.rightTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toolbar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:$de,decls:4,vars:6,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left",4,"ngIf"],["class","p-toolbar-group-right",4,"ngIf"],[1,"p-toolbar-group-left"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-right"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.YNc(2,Wde,2,1,"div",1),o.YNc(3,qde,2,1,"div",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toolbar p-component")("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",s.leftTemplate),o.xp6(1),o.Q6J("ngIf",s.rightTemplate))},directives:[pe,Gi,cn,qr],styles:[".p-toolbar{justify-content:space-between;flex-wrap:wrap}.p-toolbar,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}"],encapsulation:2,changeDetection:0}),t})(),Qde=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})();function Jde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",34),o.NdJ("click",function(){return o.CHM(e),o.oxw().show()}),o.qZA()}}function Xde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){return o.CHM(e),o.oxw().showDialog()}),o.qZA()}}function Kde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",36),o.TgZ(1,"h5",37),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",38),o._UZ(4,"i",39),o.TgZ(5,"input",40),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(7).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function ehe(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",41),o._uU(2," Name "),o._UZ(3,"p-sortIcon",42),o.qZA(),o.TgZ(4,"th"),o._uU(5,"Image"),o.qZA(),o.TgZ(6,"th",43),o._uU(7," Price "),o._UZ(8,"p-sortIcon",44),o.qZA(),o.TgZ(9,"th",45),o._uU(10," Ingredient "),o._UZ(11,"p-sortIcon",46),o.qZA(),o.TgZ(12,"th",47),o._uU(13," Stock "),o._UZ(14,"p-sortIcon",48),o.qZA(),o.TgZ(15,"th",49),o._uU(16," Status "),o._UZ(17,"p-sortIcon",50),o.qZA(),o._UZ(18,"th"),o.qZA())}function the(t,i){if(1&t&&(o.TgZ(0,"li",55),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.ingredient," - ",e.ingredientQuantity," unit ")}}const nhe=function(){return{"status-instock":!0}};function ihe(t,i){1&t&&(o.TgZ(0,"span",56),o._uU(1,"Available"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,nhe)))}const rhe=function(){return{"status-lowstock":!0}};function she(t,i){1&t&&(o.TgZ(0,"span",56),o._uU(1,"StockLow"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,rhe)))}const ohe=function(){return{"status-outstock":!0}};function ahe(t,i){1&t&&(o.TgZ(0,"span",56),o._uU(1,"StockOut"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,ohe)))}function lhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._UZ(4,"img",51),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"ul",27),o.YNc(10,the,2,2,"li",28),o.qZA(),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.YNc(14,ihe,2,4,"span",52),o.YNc(15,she,2,4,"span",52),o.YNc(16,ahe,2,4,"span",52),o.qZA(),o.TgZ(17,"td"),o.TgZ(18,"button",53),o.NdJ("click",function(){const a=o.CHM(e),l=a.$implicit,h=a.rowIndex;return o.oxw().show2(l,h)}),o.qZA(),o.TgZ(19,"button",54),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.productname)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.productname),o.xp6(2),o.Q6J("alt",e.name)("src",e.imageLink,o.LSH),o.xp6(2),o.Oqu(o.xi3(7,9,e.price,"RM")),o.xp6(4),o.Q6J("ngForOf",e.ingredient),o.xp6(2),o.Oqu(e.stock),o.xp6(2),o.Q6J("ngIf",e.stock>=10),o.xp6(1),o.Q6J("ngIf",e.stock<10&&0!=e.stock),o.xp6(1),o.Q6J("ngIf",0==e.stock)}}function che(t,i){if(1&t&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.products?e.products.length:0," products. ")}}function uhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",55),o._uU(1),o._UZ(2,"br"),o._uU(3),o.TgZ(4,"button",26),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(5,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij(" Ingredient Name: ",e.ingredient," "),o.xp6(2),o.hij(" Ingredient Quantity:",e.ingredientQuantity," ")}}function dhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",55),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"button",26),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.oxw();return h.showDialog2(),h.checklist(l.ingredient)}),o._uU(6),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.ingredient),o.xp6(2),o.hij("",e.quantity," Unit"),o.xp6(2),o.hij(" Add ",e.ingredient," Tracking Ingredient ")}}function hhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o._UZ(7,"input",57,16),o.TgZ(9,"button",26),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.MAs(8);return o.oxw().addTrackingHistory(l.data.category,l.id,l.data.compname,l.data.productname,h.value,l.data.trackingTotal)}),o._uU(10," Add to Tracking History "),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.hij("Company Name - ",e.data.compname,""),o.xp6(2),o.hij("Category - ",e.data.category,""),o.xp6(2),o.hij("Product Name - ",e.data.productname,""),o.xp6(1),o.s9C("value",e.data.trackingTotal),o.s9C("max",e.data.trackingTotal)}}function phe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.qZA(),o.TgZ(11,"button",26),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().removeTrackingHistory(l.id,l.trackingAmount)}),o._uU(12," Remove "),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.hij("Tracking ID:",e.id,""),o.xp6(2),o.hij("Category: ",e.category,""),o.xp6(2),o.hij("Company Name: ",e.companyname,""),o.xp6(2),o.hij("Product Name: ",e.productname,""),o.xp6(2),o.hij("Amount: ",e.trackingAmount,"")}}function fhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",26),o.NdJ("click",function(){return o.CHM(e),o.oxw().showDialog2()}),o._uU(1," Close "),o.qZA()}}const mhe=function(){return["productname","price","rating","inventoryStatus"]},JV=function(){return{width:"450px"}},ghe=function(){return{"margin-left":"20px"}};let _he=(()=>{class t{constructor(e,s,a,l){var h=this;this.confirmationService=e,this.dialogService=s,this.messageService=a,this.fs=l,this.products=[],this.selectedProducts=[],this.productDialog=!1,this.menulist=[],this.ingredient=[],this.ingredient2=[],this.checkStatus=[],this.checkStatus2=[],this.display=!1,this.menu=[],this.ingredientCheck=[],this.ingredientCheck2=[],this.ingredientCheck3=[],this.different=[],this.x5=[],this.result=[],this.trackingData=[],this.displayBasic=!1,this.trackingIngredient=[],this.newData=0,this.display3=!1,this.checklistarray=[],this.checklisthistory=[],this.time=Z1(),this.totalQuantity=0,this.close=!1,this.display4=!1,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.products=[],y.map(C=>{let P={productname:C.payload.doc.id,price:C.payload.doc.data().price,ingredient:C.payload.doc.data().ingredient,imageLink:C.payload.doc.data().imageLink,stock:C.payload.doc.data().stock};this.products.push(P),console.log(P)})}),this.subscribe=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.menulist=[],this.ingredient=[],y.map(C=>{this.menulist.push(C.payload.doc.id),this.ingredient.push(C.payload.doc.data().ingredient)})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{this.x4=[],y.map(function(){var C=Rr(function*(P){let j={id:P.payload.doc.id,data:P.payload.doc.data().ingredient};yield h.x4.push(j)});return function(P){return C.apply(this,arguments)}}())}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(y=>{this.x5=[],y.map(function(){var C=Rr(function*(P){let j={id:P.payload.doc.id,data:P.payload.doc.data()};yield h.x5.push(j),h.x4.forEach((te,he)=>{te.data.forEach(Le=>{h.x5.forEach(tt=>{})})})});return function(P){return C.apply(this,arguments)}}())}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(y=>{y.map(function(){var C=Rr(function*(P){let j={id:P.payload.doc.id,data:P.payload.doc.data()};yield h.menu.push(j)});return function(P){return C.apply(this,arguments)}}())}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").get().subscribe(y=>{this.trackingData=[],y.forEach(C=>{if("finished"===C.data().status&&C.data().trackingTotal>0){let P={trackingID:C.id,trackingData:C.data()};console.log(C.data()),this.trackingData.push(P)}})})}ngOnInit(){this.showQuantity()}ngOnDestroy(){this.subscribe.unsubscribe()}showQuantity(){console.log(this.x4)}show(){this.ref=this.dialogService.open(Ade,{header:"Add New Product to Menu",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}),this.ref.onClose.subscribe(e=>{e&&this.messageService.add({severity:"info",summary:"Product Selected",detail:e.name})})}show2(e,s){this.productDialog=!0,this.indexOfElement=s,console.log(e,s),this.ingredient2=this.ingredient[s]}deleteProduct(e){console.log("Hello World"),this.confirmationService.confirm({message:"Are you sure you want to delete "+e+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).delete(),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})}addNewIngredient(e,s){this.ingredient2.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient2.splice(e,1),console.log(this.ingredient)}update(e,s,a,l){console.log(e);let h=this.products[this.indexOfElement].productname;console.log(this.products[this.indexOfElement]),e!==this.products[this.indexOfElement].productname?this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).set({price:s,ingredient:this.ingredient2,imageLink:a,stock:l}).then(y=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(h).delete()}):this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(h).update({price:s,ingredient:this.ingredient2,imageLink:a,stock:l})}showDialog(){this.ingredientCheck=[],this.display=!this.display,this.result=[],this.different=[],this.menu.forEach(e=>{console.log(e);let s=parseInt(e.data.stock);e.data.ingredient.forEach(a=>{this.ingredientCheck.push({ingredient:a.ingredient,quantity:a.ingredientQuantity*s})})}),console.log(this.ingredientCheck),this.result=this.ingredientCheck.reduce((e,s)=>(e.some(a=>a.ingredient===s.ingredient)?this.different.push(s):e.push(s),e),[]),this.different.forEach(e=>{this.result.forEach(s=>{if(e.ingredient==s.ingredient){let a=0;a=s.quantity+e.quantity,s.quantity=a}})}),console.log(this.result)}showDialog3(){this.display4=!this.display4}triggerDisplay(){this.displayBasic=!this.displayBasic}addTrackingIngredient(e,s,a){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(s).get().subscribe(h=>{var y,C;console.log(null===(y=h.data())||void 0===y?void 0:y.trackingTotal),this.newData=(null===(C=h.data())||void 0===C?void 0:C.trackingTotal())-e}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(s).update({trackingTotal:this.newData}),this.trackingIngredient.push({value:e,trackingID:s,trackingData:a})}checklist(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(s=>{this.checklistarray=[],s.map(a=>{if(console.log(a.payload.doc.data(),e),a.payload.doc.data().category===e&&a.payload.doc.data().trackingTotal>0){let l={id:a.payload.doc.id,data:a.payload.doc.data()};this.checklistarray.push(l)}})})}showDialog2(){this.display3=!this.display3}addTrackingHistory(e,s,a,l,h,y){let C={id:s,category:e,companyname:a,productname:l,trackingAmount:h,time:this.time.format("MMMM Do YYYY , h:mm:ss a").concat(` - ${s}`)};this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(s).update({trackingTotal:y-h}),this.checklisthistory.push(C)}removeTrackingHistory(e,s){console.log(e),console.log(this.checklisthistory);const a=this.checklisthistory.findIndex(l=>l.trackingAmount===s);this.checklisthistory.splice(a,1),console.log(a),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e).get().subscribe(l=>{var h,y;console.log(null===(h=l.data())||void 0===h?void 0:h.trackingTotal),console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e).update({trackingTotal:(null===(y=l.data())||void 0===y?void 0:y.trackingTotal)+parseInt(s)})})}addtrackinghistory2(e){console.log(e),e.forEach(s=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("trackinghistory").doc(s.time).set(s)}),setInterval(()=>window.location.reload(),3e3)}addmenutoday(e){console.log(e.target.value)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Qm),o.Y36(cF),o.Y36(mm),o.Y36(Co))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-menu-list-page"]],decls:71,vars:31,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","dataKey","productname","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"value"],["p",""],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"value"],["pp",""],["il",""],["width","100","alt","",3,"src"],["s",""],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["mat-raised-button","",3,"ngStyle","click"],["header","Ingredient Checklist",3,"visible","visibleChange"],["header","Ingredient Stock","closeIcon","null",3,"visible","visibleChange"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Add Menu Today","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","label","Ingredient Checklist","icon","pi pi-info-circle",1,"p-button-info","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-right"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","productname"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["width","100",1,"p-shadow-4",3,"alt","src"],[3,"class","ngClass",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"list-group-item"],[3,"ngClass"],["type","number","min","0",3,"value","max"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-adminnavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,Jde,1,0,"ng-template",2),o.YNc(5,Xde,1,0,"ng-template",3),o.qZA(),o.TgZ(6,"p-table",4,5),o.NdJ("selectionChange",function(h){return s.selectedProducts=h}),o.YNc(8,Kde,6,0,"ng-template",6),o.YNc(9,ehe,19,0,"ng-template",7),o.YNc(10,lhe,20,12,"ng-template",8),o.YNc(11,che,2,1,"ng-template",9),o.qZA(),o.qZA(),o.TgZ(12,"p-dialog",10),o.NdJ("visibleChange",function(h){return s.productDialog=h}),o.TgZ(13,"form",11),o.TgZ(14,"div",12),o.TgZ(15,"div",13),o.TgZ(16,"label",14),o._uU(17,"Product Name"),o.qZA(),o._UZ(18,"input",15,16),o.qZA(),o.TgZ(20,"div",13),o.TgZ(21,"label",17),o._uU(22,"Product Price"),o.qZA(),o._UZ(23,"input",18,19),o.qZA(),o.TgZ(25,"div",13),o.TgZ(26,"label",17),o._uU(27,"Product Image Link"),o.qZA(),o._UZ(28,"input",18,20),o.qZA(),o.TgZ(30,"div",13),o.TgZ(31,"p"),o._uU(32,"Image Preview"),o.qZA(),o._UZ(33,"img",21),o.qZA(),o.TgZ(34,"div",13),o.TgZ(35,"label",17),o._uU(36,"Product Stock Quantity"),o.qZA(),o._UZ(37,"input",18,22),o.qZA(),o.TgZ(39,"div",13),o.TgZ(40,"label",17),o._uU(41,"Ingredient Name (Needed)"),o.qZA(),o._UZ(42,"input",23,24),o.qZA(),o.TgZ(44,"div",13),o.TgZ(45,"label",17),o._uU(46,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(47,"input",23,25),o.qZA(),o.TgZ(49,"button",26),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(43),y=o.MAs(48);return s.addNewIngredient(h,y)}),o._uU(50,"Add"),o.qZA(),o.TgZ(51,"ul",27),o.YNc(52,uhe,6,2,"li",28),o.qZA(),o.qZA(),o.TgZ(53,"button",29),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(19),y=o.MAs(24),C=o.MAs(29),P=o.MAs(38);return s.update(h.value,y.value,C.value,P.value)}),o._uU(54," Update "),o.qZA(),o.qZA(),o.qZA(),o._UZ(55,"p-confirmDialog"),o.TgZ(56,"p-dialog",30),o.NdJ("visibleChange",function(h){return s.display=h}),o.TgZ(57,"ul",27),o.YNc(58,dhe,7,3,"li",28),o.qZA(),o.qZA(),o.TgZ(59,"p-dialog",31),o.NdJ("visibleChange",function(h){return s.display3=h}),o.TgZ(60,"ul"),o.YNc(61,hhe,11,5,"li",32),o.qZA(),o.TgZ(62,"h6"),o._uU(63,"Ingredient History"),o.qZA(),o.TgZ(64,"ul"),o.YNc(65,phe,13,5,"li",32),o.TgZ(66,"p"),o._uU(67),o.qZA(),o.qZA(),o.YNc(68,fhe,2,0,"button",33),o.TgZ(69,"button",26),o.NdJ("click",function(){return s.addtrackinghistory2(s.checklisthistory),s.showDialog2()}),o._uU(70," Confirm "),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(29);o.xp6(6),o.Q6J("value",s.products)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(27,mhe))("selection",s.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(28,JV)),o.Q6J("visible",s.productDialog)("modal",!0),o.xp6(6),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].productname),o.xp6(5),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].price),o.xp6(5),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].imageLink),o.xp6(5),o.Q6J("src",a.value,o.LSH),o.xp6(4),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].stock),o.xp6(15),o.Q6J("ngForOf",s.ingredient2),o.xp6(1),o.Q6J("ngStyle",o.DdM(29,ghe)),o.xp6(2),o.Akn(o.DdM(30,JV)),o.xp6(1),o.Q6J("visible",s.display),o.xp6(2),o.Q6J("ngForOf",s.result),o.xp6(1),o.Q6J("visible",s.display3),o.xp6(2),o.Q6J("ngForOf",s.checklistarray),o.xp6(4),o.Q6J("ngForOf",s.checklisthistory),o.xp6(2),o.hij("Total Quantity: ",s.totalQuantity,""),o.xp6(1),o.Q6J("ngIf",0===s.checklisthistory.length)}},directives:[Z_,O0,QV,Il,N0,lA,q_,G_,Wx,R0,xu,ft,Gi,kI,cn,P0,oF,aF,pe],pipes:[ch],styles:[".product-badge.status-instock[_ngcontent-%COMP%]{background-color:#c8e6c8;padding:4px;border-radius:2.5px}.product-badge.status-lowstock[_ngcontent-%COMP%]{background-color:#fcd865;padding:4px;border-radius:2.5px}.product-badge.status-outstock[_ngcontent-%COMP%]{background-color:#ff6c6c;padding:4px;border-radius:2.5px}"]}),t})();function yhe(t,i){1&t&&o.GkF(0)}function vhe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,yhe,1,0,"ng-container",3),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}function bhe(t,i){if(1&t&&(o.TgZ(0,"div",1),o.Hsn(1),o.YNc(2,vhe,2,1,"ng-container",2),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.selected),o.uIk("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const XV=["*"],xhe=["navbar"],whe=["inkbar"];function Che(t,i){if(1&t&&o._UZ(0,"span",16),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.leftIcon)}}function Mhe(t,i){if(1&t&&o._UZ(0,"span",17),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.rightIcon)}}function The(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Che,1,1,"span",13),o.TgZ(2,"span",14),o._uU(3),o.qZA(),o.YNc(4,Mhe,1,1,"span",15),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf",e.leftIcon),o.xp6(2),o.Oqu(e.header),o.xp6(1),o.Q6J("ngIf",e.rightIcon)}}function She(t,i){1&t&&o.GkF(0)}function khe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",18),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(2).$implicit;return o.oxw().close(a,l)}),o.qZA()}}const Ehe=function(t,i){return{"p-highlight":t,"p-disabled":i}};function Dhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",8),o.TgZ(1,"a",9),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)})("keydown.enter",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)}),o.YNc(2,The,5,3,"ng-container",10),o.YNc(3,She,1,0,"ng-container",11),o.YNc(4,khe,1,0,"span",12),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.Tol(e.headerStyleClass),o.Q6J("ngClass",o.WLB(16,Ehe,e.selected,e.disabled))("ngStyle",e.headerStyle),o.xp6(1),o.Q6J("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.uIk("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected)("tabindex",e.disabled?null:"0"),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.closable)}}function Ahe(t,i){1&t&&o.YNc(0,Dhe,5,19,"li",7),2&t&&o.Q6J("ngIf",!i.$implicit.closed)}let Ihe=0,KV=(()=>{class t{constructor(e,s,a){this.viewContainer=s,this.cd=a,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+Ihe++,this.tabView=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template}})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return t.\u0275fac=function(e){return new(e||t)(o.Y36((0,o.Gpc)(()=>eU)),o.Y36(o.s_b),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabPanel"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:XV,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,bhe,3,5,"div",0)),2&e&&o.Q6J("ngIf",!s.closed)},directives:[cn,qr],encapsulation:2}),t})(),eU=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.orientation="top",this.onChange=new o.vpe,this.onClose=new o.vpe,this.activeIndexChange=new o.vpe}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(e,s){if(s.disabled)e&&e.preventDefault();else{if(!s.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,s.selected=!0;let l=this.findTabIndex(s);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(l),this.onChange.emit({originalEvent:e,index:l})}e&&e.preventDefault()}}close(e,s){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(s),close:()=>{this.closeTab(s)}}):(this.closeTab(s),this.onClose.emit({originalEvent:e,index:this.findTabIndex(s)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let s=0;s<this.tabs.length;s++){let a=this.tabs[s];if(!a.closed&&!e.disabled){a.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let s=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==e){s=a;break}return s}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0)}updateInkBar(){let e=un.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=un.getWidth(e)+"px",this.inkbar.nativeElement.style.left=un.getOffset(e).left-un.getOffset(this.navbar.nativeElement).left+"px"}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabView"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,KV,4),2&e){let l;o.iGM(l=o.CRH())&&(s.tabPanels=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(xhe,5),o.Gf(whe,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.navbar=a.first),o.iGM(a=o.CRH())&&(s.inkbar=a.first)}},inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:XV,decls:8,vars:5,consts:[[3,"ngClass","ngStyle"],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],[1,"p-tabview-panels"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"ul",1,2),o.YNc(3,Ahe,1,1,"ng-template",3),o._UZ(4,"li",4,5),o.qZA(),o.TgZ(6,"div",6),o.Hsn(7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-tabview p-component")("ngStyle",s.style),o.xp6(3),o.Q6J("ngForOf",s.tabs))},directives:[pe,Gi,ft,cn,W_,sY,qr],styles:[".p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:wrap}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1}.p-tabview-close{z-index:1}"],encapsulation:2,changeDetection:0}),t})(),Lhe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Ll,oY,_m],Ll]}),t})();function Phe(t,i){if(1&t&&(o.TgZ(0,"span",9),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.header," ")}}function Ohe(t,i){1&t&&o.GkF(0)}function Rhe(t,i){1&t&&o.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function Fhe(t,i){1&t&&o.GkF(0)}function Nhe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Fhe,1,0,"ng-container",5),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const zhe=["*",[["p-header"]]],Bhe=function(t){return{"p-accordion-tab-active":t}},Yhe=function(t,i){return{"p-highlight":t,"p-disabled":i}},tU=function(t){return{transitionParams:t}},Hhe=function(t){return{value:"visible",params:t}},Vhe=function(t){return{value:"hidden",params:t}},Uhe=["*","p-header"],jhe=["*"];let Zhe=0,nU=(()=>{class t{constructor(e,s){this.changeDetector=s,this.cache=!0,this.selectedChange=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+Zhe++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;default:this.contentTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let s=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:s});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:s})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var s=0;s<this.accordion.tabs.length;s++)if(this.accordion.tabs[s]==this){e=s;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36((0,o.Gpc)(()=>iU)),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,M1,4),o.Suo(a,Il,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:Uhe,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,s){1&e&&(o.F$t(zhe),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"a",2),o.NdJ("click",function(l){return s.toggle(l)})("keydown",function(l){return s.onKeydown(l)}),o._UZ(3,"span",3),o.YNc(4,Phe,2,1,"span",4),o.YNc(5,Ohe,1,0,"ng-container",5),o.YNc(6,Rhe,1,0,"ng-content",6),o.qZA(),o.qZA(),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.Hsn(9),o.YNc(10,Nhe,2,1,"ng-container",6),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(15,Bhe,s.selected)),o.xp6(1),o.Q6J("ngClass",o.WLB(17,Yhe,s.selected,s.disabled)),o.xp6(1),o.uIk("tabindex",s.disabled?null:0)("id",s.id)("aria-controls",s.id+"-content")("aria-expanded",s.selected),o.xp6(1),o.Q6J("ngClass",s.selected?s.accordion.collapseIcon:s.accordion.expandIcon),o.xp6(1),o.Q6J("ngIf",!s.hasHeaderFacet),o.xp6(1),o.Q6J("ngTemplateOutlet",s.headerTemplate),o.xp6(1),o.Q6J("ngIf",s.hasHeaderFacet),o.xp6(1),o.Q6J("@tabContent",s.selected?o.VKq(22,Hhe,o.VKq(20,tU,s.transitionOptions)):o.VKq(26,Vhe,o.VKq(24,tU,s.transitionOptions))),o.uIk("id",s.id+"-content")("aria-hidden",!s.selected)("aria-labelledby",s.id),o.xp6(3),o.Q6J("ngIf",s.contentTemplate&&(s.cache?s.loaded:s.selected)))},directives:[pe,cn,qr],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[fs("tabContent",[Ne("hidden",ye({height:"0",overflow:"hidden"})),Ne("visible",ye({height:"*"})),Et("visible <=> hidden",[ye({overflow:"hidden"}),yi("{{transitionParams}}")]),Et("void => *",yi(0))])]},changeDetection:0}),t})(),iU=(()=>{class t{constructor(e,s){this.el=e,this.changeDetector=s,this.onClose=new o.vpe,this.onOpen=new o.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new o.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let s=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;s!==this.tabs[e].selected&&(this.tabs[e].selected=s,this.tabs[e].selectedChange.emit(s),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((s,a)=>{if(s.selected){if(!this.multiple)return void(e=a);e.push(a)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-accordion"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,nU,4),2&e){let l;o.iGM(l=o.CRH())&&(s.tabList=l)}},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:jhe,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-accordion p-component")("ngStyle",s.style))},directives:[pe,Gi],encapsulation:2,changeDetection:0}),t})(),Whe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i],Ll]}),t})();function Ghe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.data.uid)}),o._uU(15,"Pay Now"),o.qZA(),o.TgZ(16,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.data.uid,l.id)}),o._uU(17,"Cancel"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,7,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,"")}}function qhe(t,i){if(1&t&&(o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,8,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,"")}}function $he(t,i){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.hij("Prepare Time : ",e.data.preparetimestamp,"")}}function Qhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.YNc(16,$he,2,1,"p",10),o.TgZ(17,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().updateInfoInv(l)}),o._uU(18,"Order Received"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,9,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,""),o.xp6(1),o.Q6J("ngIf",null!==e.data.preparetimestamp)}}function Jhe(t,i){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.hij("Prepare Time : ",e.data.preparetimestamp,"")}}function Xhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().showBasicDialog(a)}),o._uU(1,"Rating"),o.qZA()}}function Khe(t,i){if(1&t&&(o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.YNc(16,Jhe,2,1,"p",10),o.TgZ(17,"p"),o._uU(18),o.qZA(),o.YNc(19,Xhe,2,0,"button",11),o.qZA()),2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,11,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,""),o.xp6(1),o.Q6J("ngIf",null!==e.data.preparetimestamp),o.xp6(2),o.hij("Completed Time : ",e.data.completetimestamp,""),o.xp6(1),o.Q6J("ngIf",0==e.data.ratingstatus)}}function epe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().displayBasic=!1})("click",function(){o.CHM(e);const a=o.oxw();return a.updateRating(a.productInfo)}),o.qZA()}}const tpe=function(){return{width:"50vw"}};let npe=(()=>{class t{constructor(e,s,a){this.fs=e,this.fns=s,this.http=a,this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],this.quantity=0,this.displayBasic=!1,this.val2=0,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(l=>{this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],l.map(h=>{if("unpaid"===h.payload.doc.data().status){let y={id:h.payload.doc.id,data:h.payload.doc.data()};this.toPay.push(y)}if("paid"===h.payload.doc.data().status){let y={id:h.payload.doc.id,data:h.payload.doc.data()};this.toShip.push(y)}if("toship"===h.payload.doc.data().status||"tocomplete"===h.payload.doc.data().status||"completed"===h.payload.doc.data().status){let y={id:h.payload.doc.id,data:h.payload.doc.data()};this.toReceived.push(y)}if(!0===h.payload.doc.data().receivedstatus&&"finished"===h.payload.doc.data().status){let y={id:h.payload.doc.id,data:h.payload.doc.data()};this.completed.push(y)}})})}ngOnInit(){}pay(e){var s=this;return Rr(function*(){s.isGettingCheckout=!0,s.stripe=yield FI("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),s.stripe.redirectToCheckout({sessionId:e})})()}delete(e,s){var a=this;return Rr(function*(){console.log(e,s),a.id1=s,a.stripe=yield FI("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),a.http.post("https://UMP-Supply-Chain.cb-1-8-1-4-0-os.repl.co/cancelPayment",{uid:e}).subscribe(l=>{console.log(l),"canceled"==(null==l?void 0:l.status)&&a.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a.id1).delete()})})()}updateInfoInv(e){var s=this;return Rr(function*(){console.log(e.data),s.fs.collection("Supplier").get().subscribe(l=>{l.docs.forEach(h=>{let y=h.id;h.data().compname===e.data.compname&&(console.log(y),s.fs.collection("Supplier").doc(y).collection("menu").get().subscribe(C=>{C.docs.forEach(P=>{if(console.log(P.data()),P.data().category===e.data.category){console.log(P.data());let j=P.data().totalSale+e.data.quantity;s.fs.collection("Supplier").doc(y).collection("menu").doc(P.id).update({totalSale:j})}})}))})}),s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.id).update({receivedstatus:!0,status:"finished"}),console.log(e),s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").get().subscribe(l=>{0===l.size?s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).set({quantity:e.data.quantity,lowestmargin:1}):s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).get().subscribe(function(){var h=Rr(function*(y){var C;s.quantity=null===(C=y.data())||void 0===C?void 0:C.quantity;let P=s.quantity+e.data.quantity;yield s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).update({quantity:P}).then(j=>{console.log("successfully")})});return function(y){return h.apply(this,arguments)}}())});let a=e.data.amount*e.data.quantity;s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).collection("purchasehistory").doc().set({trackingnumber:e.id,category:e.data.category,rating:e.data.ratingstatus,status:e.data.status,compname:e.data.compname,total:a,amount:e.data.amount,quantity:e.data.quantity,productname:e.data.productname,ordertimestamp:e.data.ordertimestamp,completetimestamp:e.data.completetimestamp,preparetimestamp:e.data.preparetimestamp,shiptimestamp:e.data.shiptimestamp,stockChecking:e.data.quantity,trackingTotal:e.data.amount})})()}showBasicDialog(e){var s=this;return Rr(function*(){s.productInfo=yield e,s.displayBasic=!s.displayBasic})()}updateRating(e){var s=this;console.log(this.val2,e),this.fs.collection("Supplier").snapshotChanges().subscribe(a=>{a.map(function(){var l=Rr(function*(h){console.log(h.payload.doc.id),h.payload.doc.data().compname===e.data.compname&&(s.id=yield h.payload.doc.id,s.fs.collection("Supplier").doc(s.id).collection("menu").get().subscribe(y=>{y.docs.forEach(C=>{if(console.log(C.data()),C.data().category===e.data.category){if(console.log(C.data().category),0===C.data().rating){let he=[];he.push(s.val2),s.fs.collection("Supplier").doc(s.id).collection("menu").doc(C.id).update({rating:he,ratingTotal:s.val2})}let P=C.data().rating;P.push(s.val2);let j=0;P.forEach(he=>{j+=he});let te=j/P.length;console.log(te),s.fs.collection("Supplier").doc(s.id).collection("menu").doc(C.id).update({rating:P,ratingTotal:Math.round(te)})}})}))});return function(h){return l.apply(this,arguments)}}())})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(SS),o.Y36(j_))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-tracking-page"]],decls:19,vars:11,consts:[["header","To Pay"],[3,"header",4,"ngFor","ngForOf"],["header","To Ship"],["header","To Received"],["header","Completed"],["header","Rate Product",3,"visible","visibleChange"],[3,"ngModel","cancel","ngModelChange"],["pTemplate","footer"],[3,"header"],["mat-raised-button","",3,"click"],[4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"p-tabView"),o.TgZ(2,"p-tabPanel",0),o.TgZ(3,"p-accordion"),o.YNc(4,Ghe,18,10,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(5,"p-tabPanel",2),o.TgZ(6,"p-accordion"),o.YNc(7,qhe,16,11,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(8,"p-tabPanel",3),o.TgZ(9,"p-accordion"),o.YNc(10,Qhe,19,12,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(11,"p-tabPanel",4),o.TgZ(12,"p-accordion"),o.YNc(13,Khe,20,14,"p-accordionTab",1),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"p-dialog",5),o.NdJ("visibleChange",function(l){return s.displayBasic=l}),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p-rating",6),o.NdJ("ngModelChange",function(l){return s.val2=l}),o.qZA(),o.YNc(18,epe,1,0,"ng-template",7),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngForOf",s.toPay),o.xp6(3),o.Q6J("ngForOf",s.toShip),o.xp6(3),o.Q6J("ngForOf",s.toReceived),o.xp6(3),o.Q6J("ngForOf",s.completed),o.xp6(1),o.Akn(o.DdM(10,tpe)),o.Q6J("visible",s.displayBasic),o.xp6(2),o.hij("Product Name: ",null==s.productInfo||null==s.productInfo.data?null:s.productInfo.data.productname,""),o.xp6(1),o.Q6J("ngModel",s.val2)("cancel",!1))},directives:[Z_,eU,KV,iU,ft,lA,OI,zh,$g,Il,nU,xu,cn,nV],pipes:[ch],styles:["button[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),ipe=(()=>{class t{constructor(e,s,a,l){this.ref=e,this.fb=s,this.fs=a,this.fa=l,this.addProductForm=s.group({brand:[],category:[],price:[],quantity:[]})}ngOnInit(){}add(){this.ref.close("success"),this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc().set({brand:this.addProductForm.get("brand").value,category:this.addProductForm.get("category").value,price:this.addProductForm.get("price").value,quantity:this.addProductForm.get("quantity").value,rating:0,ratingTotal:0,totalSale:0}).then(()=>{})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ES),o.Y36(M0),o.Y36(Co),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-add-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.add()}),o._uU(10,"Add"),o.qZA()),2&e&&o.Q6J("formGroup",s.addProductForm)},directives:[q_,G_,ng,Gg,R0,zh,Qy,xu],styles:["div[_ngcontent-%COMP%]{margin:10px}"]}),t})(),rpe=(()=>{class t{constructor(e,s,a,l,h){this.ref=e,this.config=s,this.fb=a,this.fs=l,this.fa=h,this.productInfo=this.config.data}ngOnInit(){this.editProductForm=this.fb.group({brand:[this.productInfo.data.brand],category:[this.productInfo.data.category],quantity:[this.productInfo.data.quantity],price:[this.productInfo.data.price]})}edit(){this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc(this.productInfo.id).update({brand:this.editProductForm.get("brand").value,price:this.editProductForm.get("price").value,category:this.editProductForm.get("category").value,quantity:this.editProductForm.get("quantity").value}).then(()=>{this.ref.close("success")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ES),o.Y36(lF),o.Y36(M0),o.Y36(Co),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-edit-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.edit()}),o._uU(10,"Update"),o.qZA()),2&e&&o.Q6J("formGroup",s.editProductForm)},directives:[q_,G_,ng,Gg,R0,zh,Qy,xu],styles:[""]}),t})();function spe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().openNew()}),o.qZA()}}function ope(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",10),o.TgZ(1,"h5",11),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",12),o._UZ(4,"i",13),o.TgZ(5,"input",14),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(6).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function ape(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",15),o._uU(2,"Brand "),o._UZ(3,"p-sortIcon",16),o.qZA(),o.TgZ(4,"th",17),o._uU(5,"Unit Price "),o._UZ(6,"p-sortIcon",18),o.qZA(),o.TgZ(7,"th",19),o._uU(8,"Quantity "),o._UZ(9,"p-sortIcon",20),o.qZA(),o.TgZ(10,"th",21),o._uU(11,"Category "),o._UZ(12,"p-sortIcon",22),o.qZA(),o.TgZ(13,"th",23),o._uU(14,"Rating "),o._UZ(15,"p-sortIcon",24),o.qZA(),o.TgZ(16,"th",25),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",26),o.qZA(),o._UZ(19,"th"),o.qZA())}function lpe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._UZ(11,"p-rating",27),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",28),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().editProduct(l)}),o.qZA(),o.TgZ(14,"button",29),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.id,l.data.brand)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.data.brand),o.xp6(2),o.Oqu(o.xi3(5,7,e.data.price,"MYR")),o.xp6(3),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(e.data.category),o.xp6(2),o.Q6J("ngModel",e.data.ratingTotal)("readonly",!0)("cancel",!1)}}function cpe(t,i){1&t&&o._UZ(0,"div",10)}const upe=function(){return["data.brand","data.price","data.quantity","status"]},dpe=function(){return{width:"450px"}};let hpe=(()=>{class t{constructor(e,s,a,l,h){this.messageService=e,this.confirmationService=s,this.dD=a,this.fs=l,this.fa=h,this.productDialog=!1,this.product=[],this.fa.authState.subscribe(y=>{this.fs.collection("Supplier").doc(null==y?void 0:y.uid).collection("menu").snapshotChanges().subscribe(C=>{this.product=[],C.map(P=>{let j={id:P.payload.doc.id,data:P.payload.doc.data()};this.product.push(j),console.log(this.product)})})})}ngOnInit(){}openNew(){this.dD.open(ipe,{header:"Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(s=>{console.log(s),"success"==s&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Added Successfully!",life:3e3})})}cancel(){}editProduct(e){this.dD.open(rpe,{header:"Edit Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,data:e}).onClose.subscribe(a=>{console.log(a),"success"==a&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated Successfully!",life:3e3})})}deleteProduct(e,s){this.confirmationService.confirm({message:"Are you sure you want to delete "+s+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fa.authState.subscribe(a=>{this.fs.collection("Supplier").doc(null==a?void 0:a.uid).collection("menu").doc(e).delete()}),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted!",life:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(mm),o.Y36(Qm),o.Y36(cF),o.Y36(Co),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-product-page"]],decls:12,vars:10,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","data.brand"],["field","product"],["pSortableColumn","category"],["field","category"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["pSortableColumn","price"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],[3,"ngModel","readonly","cancel"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,spe,1,0,"ng-template",2),o.qZA(),o.TgZ(5,"p-table",3,4),o.YNc(7,ope,6,0,"ng-template",5),o.YNc(8,ape,20,0,"ng-template",6),o.YNc(9,lpe,15,10,"ng-template",7),o.YNc(10,cpe,1,0,"ng-template",8),o.qZA(),o.qZA(),o._UZ(11,"p-confirmDialog")),2&e&&(o.xp6(5),o.Q6J("value",s.product)("rows",10)("paginator",!0)("globalFilterFields",o.DdM(8,upe))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,dpe)))},directives:[C1,O0,QV,Il,N0,kI,P0,R0,oF,aF,OI,zh,$g],pipes:[ch],styles:[""]}),t})(),ppe=(()=>{class t{constructor(e,s,a,l,h){var y=this;this.fb=e,this.fs=s,this.fa=a,this.messageService=l,this.router=h,this.fa.authState.subscribe(function(){var C=Rr(function*(P){y.uid=null==P?void 0:P.uid,y.fs.collection("Supplier").doc(null==P?void 0:P.uid).valueChanges().subscribe(j=>{y.supplierInfo=j})});return function(P){return C.apply(this,arguments)}}()),this.updateProfile=this.fb.group({compname:[],phone:[],email:[]})}ngOnInit(){}update(e,s,a){console.log(e.value,s.value,a.value),this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(this.uid).update({compname:e.value,phone:s.value,email:a.value}).then(h=>{console.log("updated "),this.messageService.add({severity:"success",summary:"Profile Info",detail:"Your profile has been updated"}),setTimeout(()=>{this.router.navigateByUrl("/supplierpage")},2e3)})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(M0),o.Y36(Co),o.Y36(ci),o.Y36(mm),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-profile-page"]],decls:24,vars:5,consts:[["action","",3,"formGroup"],[1,"background"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Company Name","formControlName","compname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"div"),o.TgZ(2,"form",0),o.TgZ(3,"div",1),o.TgZ(4,"h5"),o._uU(5),o.qZA(),o.TgZ(6,"mat-form-field",2),o.TgZ(7,"mat-label"),o._uU(8,"Company Name"),o.qZA(),o._UZ(9,"input",3,4),o.qZA(),o.TgZ(11,"mat-form-field",2),o.TgZ(12,"mat-label"),o._uU(13,"Phone Number"),o.qZA(),o._UZ(14,"input",5,6),o.qZA(),o.TgZ(16,"mat-form-field",2),o.TgZ(17,"mat-label"),o._uU(18,"Email Address"),o.qZA(),o._UZ(19,"input",7,8),o.qZA(),o.TgZ(21,"button",9),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(10),y=o.MAs(15),C=o.MAs(20);return s.update(h,y,C)}),o._uU(22,"Update"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(23,"p-toast")}2&e&&(o.xp6(2),o.Q6J("formGroup",s.updateProfile),o.xp6(3),o.hij("My Profile - ",null==s.supplierInfo?null:s.supplierInfo.compname,""),o.xp6(4),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.compname),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.phone),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.email))},directives:[C1,q_,G_,ng,I0,rb,ow,Gg,zh,Qy,xu,O0],styles:["form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}.background[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#84b0cf;padding:20px;border-radius:5px}h5[_ngcontent-%COMP%]{text-transform:uppercase}"]}),t})();function fpe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"h5",8),o._uU(2,"Manage Orders"),o.qZA(),o.TgZ(3,"span",9),o._UZ(4,"i",10),o.TgZ(5,"input",11),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(4).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function mpe(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",12),o._uU(2,"Tracking Number "),o._UZ(3,"p-sortIcon",13),o.qZA(),o.TgZ(4,"th",14),o._uU(5,"Product Brand "),o._UZ(6,"p-sortIcon",15),o.qZA(),o.TgZ(7,"th",16),o._uU(8,"Unit Price "),o._UZ(9,"p-sortIcon",17),o.qZA(),o.TgZ(10,"th",18),o._uU(11,"Quantity "),o._UZ(12,"p-sortIcon",19),o.qZA(),o.TgZ(13,"th",20),o._uU(14,"Total Price "),o._UZ(15,"p-sortIcon",21),o.qZA(),o.TgZ(16,"th",22),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",23),o.qZA(),o._UZ(19,"th"),o.qZA())}function gpe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",24),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().confirmOrder(l)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.trackingNumber),o.xp6(2),o.Oqu(e.data.productname),o.xp6(2),o.Oqu(e.data.amount),o.xp6(2),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(o.xi3(11,5,e.data.amount*e.data.quantity,"MYR"))}}function _pe(t,i){if(1&t&&(o.TgZ(0,"div",7),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.product?e.product.length:0," products. ")}}const ype=function(){return["data.productname","trackingNumber","data.quantity","status"]},vpe=function(){return{width:"450px"}};let bpe=(()=>{class t{constructor(e,s,a,l,h){this.fs=e,this.fa=s,this.confirmationService=a,this.primengConfig=l,this.messageService=h,this.product=[],this.time=Z1(),this.fa.authState.subscribe(y=>{this.fs.collection("Supplier").doc(null==y?void 0:y.uid).valueChanges().subscribe(C=>{let P=C.compname;this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(j=>{this.product=[],j.map(te=>{if(te.payload.doc.data().compname==P&&"paid"==te.payload.doc.data().status){let he={trackingNumber:te.payload.doc.id,data:te.payload.doc.data()};this.product.push(he)}})})})})}ngOnInit(){this.primengConfig.ripple=!0}confirmOrder(e){this.confirmationService.confirm({message:"Are you sure that you want to confirm the order?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{console.log(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingNumber).update({status:"toship",preparetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}).then(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Order Confirmed Successfully!",life:3e3})})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ci),o.Y36(Qm),o.Y36(Lf),o.Y36(mm))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-order-page"]],decls:10,vars:10,consts:[[1,"card"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","trackingNumber"],["field","product"],["pSortableColumn","data.productname"],["field","category"],["pSortableColumn","data.amount"],["field","inventoryStatus"],["pSortableColumn","data.quantity"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-table",1,2),o.YNc(5,fpe,6,0,"ng-template",3),o.YNc(6,mpe,20,0,"ng-template",4),o.YNc(7,gpe,14,8,"ng-template",5),o.YNc(8,_pe,2,1,"ng-template",6),o.qZA(),o.qZA(),o._UZ(9,"p-confirmDialog")),2&e&&(o.xp6(3),o.Q6J("value",s.product)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(8,ype))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,vpe)))},directives:[C1,O0,N0,Il,kI,R0,oF,aF,P0],pipes:[ch],styles:[""]}),t})();function xpe(t,i){1&t&&o.GkF(0)}function wpe(t,i){1&t&&o.GkF(0)}const uF=function(t){return{$implicit:t}};function Cpe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,wpe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",s.markerTemplate)("ngTemplateOutletContext",o.VKq(2,uF,e))}}function Mpe(t,i){1&t&&o._UZ(0,"div",10)}function Tpe(t,i){1&t&&o._UZ(0,"div",11)}function Spe(t,i){1&t&&o.GkF(0)}function kpe(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"div",3),o.YNc(2,xpe,1,0,"ng-container",4),o.qZA(),o.TgZ(3,"div",5),o.YNc(4,Cpe,2,4,"ng-container",6),o.YNc(5,Mpe,1,0,"ng-template",null,7,o.W1O),o.YNc(7,Tpe,1,0,"div",8),o.qZA(),o.TgZ(8,"div",9),o.YNc(9,Spe,1,0,"ng-container",4),o.qZA(),o.qZA()),2&t){const e=i.$implicit,s=i.last,a=o.MAs(6),l=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",l.oppositeTemplate)("ngTemplateOutletContext",o.VKq(7,uF,e)),o.xp6(2),o.Q6J("ngIf",l.markerTemplate)("ngIfElse",a),o.xp6(3),o.Q6J("ngIf",!s),o.xp6(2),o.Q6J("ngTemplateOutlet",l.contentTemplate)("ngTemplateOutletContext",o.VKq(9,uF,e))}}const Epe=function(t,i,e,s,a,l,h){return{"p-timeline p-component":!0,"p-timeline-left":t,"p-timeline-right":i,"p-timeline-top":e,"p-timeline-bottom":s,"p-timeline-alternate":a,"p-timeline-vertical":l,"p-timeline-horizontal":h}};let Dpe=(()=>{class t{constructor(e){this.el=e,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"opposite":this.oppositeTemplate=e.template;break;case"marker":this.markerTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-timeline"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,kpe,10,11,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.Hh0(5,Epe,"left"===s.align,"right"===s.align,"top"===s.align,"bottom"===s.align,"alternate"===s.align,"vertical"===s.layout,"horizontal"===s.layout)),o.xp6(1),o.Q6J("ngForOf",s.value))},directives:[Gi,pe,ft,qr,cn],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite,.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-content,.p-timeline-event-opposite{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event,.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}"],encapsulation:2,changeDetection:0}),t})(),Ape=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i],Ll]}),t})();function Ipe(t,i){if(1&t&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function Lpe(t,i){if(1&t&&o.YNc(0,Ipe,3,2,"div",4),2&t){const e=o.oxw();o.Q6J("ngIf",e.selectedCountry)}}function Ppe(t,i){if(1&t&&(o.TgZ(0,"div",7),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function Ope(t,i){if(1&t&&(o.TgZ(0,"span",12),o._UZ(1,"i",13),o.qZA()),2&t){const e=i.$implicit;o.Udp("background-color",e.color),o.xp6(1),o.Q6J("ngClass",e.icon)}}function Rpe(t,i){if(1&t&&(o.TgZ(0,"p-card",17),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3),o.ALo(4,"currency"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.Q6J("header","Product: "+(null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.productname)),o.xp6(3),o.hij("Amount: ",o.xi3(4,4,null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.amount,"MYR"),""),o.xp6(3),o.hij("Quantity: ",null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.quantity,""),o.xp6(2),o.hij("Total: ",o.xi3(9,7,e.totalprice,"MYR"),"")}}function Fpe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.shipOut(a.selectedCountry)}),o._uU(1,"Ship Out"),o.qZA()}}function Npe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.completeOrder(a.selectedCountry)}),o._uU(1,"Order Completed"),o.qZA()}}function zpe(t,i){if(1&t&&(o.TgZ(0,"p-card",14),o.YNc(1,Rpe,10,10,"p-card",15),o.YNc(2,Fpe,2,0,"button",16),o.YNc(3,Npe,2,0,"button",16),o.qZA()),2&t){const e=i.$implicit;o.Q6J("header",e.status)("subheader",e.date),o.xp6(1),o.Q6J("ngIf",null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Processing"==e.status&&null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Shipped"==e.status&&null!==e.date&&1==e.index)}}function Bpe(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"p-timeline",9),o.YNc(2,Ope,2,3,"ng-template",10),o.YNc(3,zpe,4,5,"ng-template",11),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("value",e.events)}}let Ype=(()=>{class t{constructor(e,s){this.fs=e,this.router=s,this.date="15/10/2020 10:30",this.temp=!1,this.temp2=!1,this.temp3=!1,this.temp4=!1,this.totalprice=0,this.time=Z1(),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(a=>{this.trackingInfo=[],a.map(l=>{let h={trackingnumber:l.payload.doc.id,data:l.payload.doc.data()};this.trackingInfo.push(h),console.log(this.trackingInfo)})})}ngOnInit(){this.events=[{status:"Ordered",date:null,icon:Pf.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg"},{status:"Processing",date:null,icon:Pf.COG,color:"#e0e0e0"},{status:"Shipped",date:null,icon:Pf.ENVELOPE,color:"#e0e0e0"},{status:"Delivered",date:null,icon:Pf.CHECK,color:"#e0e0e0"}]}submit(){console.log(this.selectedCountry),this.totalprice=this.selectedCountry.data.quantity*this.selectedCountry.data.amount,null!==this.selectedCountry?(this.events=[{status:"Ordered",date:null,icon:Pf.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:Pf.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:Pf.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:Pf.CHECK,color:"#e0e0e0",index:null}],this.events.forEach((e,s)=>{var a,l,h,y,C,P,j,te,he,Ce,Le,je,tt,vt,Wt,nn;null!==(null===(l=null===(a=this.selectedCountry)||void 0===a?void 0:a.data)||void 0===l?void 0:l.ordertimestamp)&&"Ordered"===e.status&&(e.date=null===(y=null===(h=this.selectedCountry)||void 0===h?void 0:h.data)||void 0===y?void 0:y.ordertimestamp,e.color="#2dc258",this.events[0].index=!0),null!==(null===(P=null===(C=this.selectedCountry)||void 0===C?void 0:C.data)||void 0===P?void 0:P.preparetimestamp)&&"Processing"===e.status&&(e.date=null===(te=null===(j=this.selectedCountry)||void 0===j?void 0:j.data)||void 0===te?void 0:te.preparetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!0),null!==(null===(Ce=null===(he=this.selectedCountry)||void 0===he?void 0:he.data)||void 0===Ce?void 0:Ce.shiptimestamp)&&"Shipped"===e.status&&(e.date=null===(je=null===(Le=this.selectedCountry)||void 0===Le?void 0:Le.data)||void 0===je?void 0:je.shiptimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!0),null!==(null===(vt=null===(tt=this.selectedCountry)||void 0===tt?void 0:tt.data)||void 0===vt?void 0:vt.completetimestamp)&&"Delivered"===e.status&&(e.date=null===(nn=null===(Wt=this.selectedCountry)||void 0===Wt?void 0:Wt.data)||void 0===nn?void 0:nn.completetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!1,this.events[3].index=!0)})):this.events=[{status:"Ordered",date:null,icon:Pf.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:Pf.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:Pf.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:Pf.CHECK,color:"#e0e0e0",index:null}]}shipOut(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({shiptimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"tocomplete"}),this.selectedCountry=e}completeOrder(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({completetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"completed"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-tracking-page"]],decls:5,vars:6,consts:[["optionLabel","","placeholder","Select Tracking Number",3,"options","ngModel","filter","filterBy","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["class","card",4,"ngIf"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"hello"],[1,"country-item"],[1,"card"],["align","alternate","styleClass","customized-timeline",3,"value"],["pTemplate","marker"],["pTemplate","content"],[1,"custom-marker","p-shadow-2"],[3,"ngClass"],[3,"header","subheader"],[3,"header",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[3,"header"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"p-dropdown",0),o.NdJ("ngModelChange",function(l){return s.selectedCountry=l})("onChange",function(){return s.submit()}),o.YNc(2,Lpe,1,1,"ng-template",1),o.YNc(3,Ppe,3,2,"ng-template",2),o.qZA(),o.YNc(4,Bpe,4,1,"div",3)),2&e&&(o.xp6(1),o.Q6J("options",s.trackingInfo)("ngModel",s.selectedCountry)("filter",!0)("filterBy","trackingnumber")("showClear",!0),o.xp6(3),o.Q6J("ngIf",s.selectedCountry))},directives:[C1,xA,zh,$g,Il,cn,Dpe,pe,T1,xu],pipes:[ch],styles:[".custom-marker[_ngcontent-%COMP%]{display:flex;width:2rem;height:2rem;align-items:center;justify-content:center;color:#fff;border-radius:50%;z-index:1}.p-timeline[_ngcontent-%COMP%]{height:400px!important}.p-timeline-event-separator[_ngcontent-%COMP%]{color:red!important}button[_ngcontent-%COMP%]{margin-top:10px}"]}),t})(),Hpe=(()=>{class t{constructor(e,s,a,l,h){this.fb=e,this.fs=s,this.fa=a,this.messageService=l,this.router=h,this.updateProfile=e.group({studname:[],phone:[],email:[]}),this.fa.authState.subscribe(y=>{this.uid=null==y?void 0:y.uid,this.fs.collection("Student").doc(null==y?void 0:y.uid).valueChanges().subscribe(C=>{this.supplierInfo=C})})}ngOnInit(){}update(e,s,a){console.log(e.value,s.value,a.value),this.fs.collection("Student").doc(this.uid).update({name:e.value,phone:s.value,email:a.value}).then(()=>{console.log("updated "),this.messageService.add({severity:"success",summary:"Profile Info",detail:"Your profile has been updated"}),setTimeout(()=>{this.router.navigateByUrl("/studentpage")},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(M0),o.Y36(Co),o.Y36(ci),o.Y36(mm),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-profile-page"]],decls:24,vars:5,consts:[["action","",3,"formGroup"],[1,"background"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Student Name","formControlName","studname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"div"),o.TgZ(2,"form",0),o.TgZ(3,"div",1),o.TgZ(4,"h5"),o._uU(5),o.qZA(),o.TgZ(6,"mat-form-field",2),o.TgZ(7,"mat-label"),o._uU(8,"Student Name"),o.qZA(),o._UZ(9,"input",3,4),o.qZA(),o.TgZ(11,"mat-form-field",2),o.TgZ(12,"mat-label"),o._uU(13,"Phone Number"),o.qZA(),o._UZ(14,"input",5,6),o.qZA(),o.TgZ(16,"mat-form-field",2),o.TgZ(17,"mat-label"),o._uU(18,"Email Address"),o.qZA(),o._UZ(19,"input",7,8),o.qZA(),o.TgZ(21,"button",9),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(10),y=o.MAs(15),C=o.MAs(20);return s.update(h,y,C)}),o._uU(22,"Update"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(23,"p-toast")}2&e&&(o.xp6(2),o.Q6J("formGroup",s.updateProfile),o.xp6(3),o.hij("My Profile - ",null==s.supplierInfo?null:s.supplierInfo.name,""),o.xp6(4),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.name),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.phone),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.email))},directives:[KR,q_,G_,ng,I0,rb,ow,Gg,zh,Qy,xu,O0],styles:["body[_ngcontent-%COMP%]{color:#e6e6e6}form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}.background[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#f7d782;padding:20px;border-radius:5px}h5[_ngcontent-%COMP%]{text-transform:uppercase}"]}),t})();function Vpe(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th"),o._uU(2,"Product"),o.qZA(),o.TgZ(3,"th"),o._uU(4,"Unit Price"),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Quantity"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Total"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Action"),o.qZA(),o.qZA())}function Upe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.TgZ(6,"td"),o.TgZ(7,"p-inputNumber",4),o.NdJ("ngModelChange",function(a){const h=o.CHM(e).rowIndex;return o.oxw().cartItem[h].data.quantity=a})("click",function(){const a=o.CHM(e),l=a.rowIndex,h=a.$implicit,y=o.oxw();return y.updateQuantity(y.cartItem[l].data.quantity,h)}),o.qZA(),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.ALo(10,"currency"),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"button",5),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().payNow(l)}),o._uU(13,"Pay Now"),o.qZA(),o.TgZ(14,"button",5),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l)}),o._uU(15,"Delete"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=i.rowIndex,a=o.oxw();o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.xi3(5,7,e.data.data.data.price," MYR")),o.xp6(3),o.Q6J("ngModel",a.cartItem[s].data.quantity)("showButtons",!0)("min",1)("max",e.max),o.xp6(2),o.hij(" ",o.xi3(10,10,e.data.data.data.price*a.cartItem[s].data.quantity," MYR")," ")}}const jpe=function(){return{margin:"30px"}},Zpe=function(){return{margin:"50px","box-shadow":"5px 5px 8px 0px #e5e5e5"}},Wpe=function(){return{width:"100%"}};let Gpe=(()=>{class t{constructor(e,s,a,l,h){var y=this;this.fs=e,this.fa=s,this.fns=a,this.http=l,this.router=h,this.cartItem=[],this.fa.authState.subscribe(C=>{this.uid=null==C?void 0:C.uid,this.fs.collection("Student").doc(null==C?void 0:C.uid).collection("cart").snapshotChanges().subscribe(P=>{this.cartItem=[],P.map(function(){var j=Rr(function*(te){let he={id:te.payload.doc.id,data:te.payload.doc.data()};y.cartItem.push(he)});return function(te){return j.apply(this,arguments)}}()),console.log(this.cartItem),0===this.cartItem.length&&this.router.navigateByUrl("/studentpage"),this.cartItem.forEach((j,te)=>{console.log(j.id),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(j.id).snapshotChanges().subscribe(he=>{var Ce,Le;console.log(null===(Ce=he.payload.data())||void 0===Ce?void 0:Ce.stock),console.log(this.cartItem),this.cartItem[te].max=parseInt(null===(Le=he.payload.data())||void 0===Le?void 0:Le.stock),console.log(this.cartItem)})})})}),this.fa.authState.subscribe(C=>{console.log(null==C?void 0:C.uid),this.fs.collection("Student").doc(null==C?void 0:C.uid).valueChanges().subscribe(function(){var P=Rr(function*(j){y.studentname=yield j.name,console.log(y.studentname,null==j?void 0:j.uid)});return function(j){return P.apply(this,arguments)}}())}),console.log(this.cartItem.length)}ngOnInit(){}updateQuantity(e,s){console.log(e,s),this.fs.collection("Student").doc(this.uid).collection("cart").doc(s.id).update({quantity:e})}delete(e){console.log(e),this.fa.authState.subscribe(s=>{this.fs.collection("Student").doc(null==s?void 0:s.uid).collection("cart").doc(e.id).delete()})}payNow(e){var s=this;return Rr(function*(){console.log(e.data.data.data.ingredient),s.stripe=yield FI("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),s.tracking_number=`UMPSCCafe${Math.floor(19999999*Math.random())+1e7}MY`,s.http.post("https://UMP-Supply-Chain.cb-1-8-1-4-0-os.repl.co/student-create-checkout-payment",{quantity:e.data.quantity,productname:e.id,amount:e.data.data.data.price,trackingnumber:s.tracking_number,compname:e.data.data.data.compname,studentname:s.studentname}).subscribe(a=>{s.stripe.redirectToCheckout({sessionId:a.session}).then(function(l){console.log(l.error.message)})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Co),o.Y36(ci),o.Y36(SS),o.Y36(j_),o.Y36(ea))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-cart-page"]],decls:7,vars:7,consts:[[3,"ngStyle"],["responsiveLayout","scroll",3,"value","ngStyle"],["pTemplate","header"],["pTemplate","body"],["buttonLayout","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModel","showButtons","min","max","ngModelChange","click"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"h4",0),o._uU(2,"Cart Page"),o.qZA(),o.TgZ(3,"div",0),o.TgZ(4,"p-table",1),o.YNc(5,Vpe,11,0,"ng-template",2),o.YNc(6,Upe,16,13,"ng-template",3),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(4,jpe)),o.xp6(2),o.Q6J("ngStyle",o.DdM(5,Zpe)),o.xp6(1),o.Q6J("value",s.cartItem)("ngStyle",o.DdM(6,Wpe)))},directives:[KR,Gi,N0,Il,rF,zh,$g,xu],pipes:[ch],styles:["mat-list-item[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),t})();function qpe(t,i){if(1&t&&(o.TgZ(0,"h1"),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.data.category)}}const $pe=function(t){return["/adminviewhistory/",t]},Qpe=[{path:"",component:Ure},{path:"register",component:mse},{path:"forgotpassword",component:wre},{path:"adminpage",component:Eee,canActivate:[wd,e_]},{path:"adminmanageinv",component:ure,canActivate:[wd,e_]},{path:"adminprofile",component:Kse,canActivate:[wd,e_]},{path:"adminviewhistory/:id",component:moe,canActivate:[wd,e_]},{path:"adminviewhistorydetail/:category/:id",component:(()=>{class t{constructor(e,s,a){this.router=e,this.fs=s,this.fa=a,this.uid=null,this.router.paramMap.subscribe(l=>{const h=l.get("category"),y=l.get("id");console.log(this.uid,h,y),this.fa.authState.subscribe(C=>{this.fs.collection("Admin").doc(null==C?void 0:C.uid).collection("inventory").doc(h).collection("purchasehistory").doc(y).get().subscribe(P=>{this.data=P.data()})})})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Jp),o.Y36(Co),o.Y36(ci))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-view-history-detail-page"]],decls:20,vars:15,consts:[["pTemplate","header"],["mat-raised-button","",3,"routerLink"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"p-card"),o.YNc(3,qpe,2,1,"ng-template",0),o.TgZ(4,"p"),o._uU(5),o.qZA(),o.TgZ(6,"p"),o._uU(7),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.ALo(10,"number"),o.qZA(),o.TgZ(11,"p"),o._uU(12),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.ALo(15,"number"),o.qZA(),o.TgZ(16,"p"),o._uU(17),o.qZA(),o.TgZ(18,"button",1),o._uU(19,"Back"),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.hij("Company Name: ",s.data.compname,""),o.xp6(2),o.hij("Product name: ",s.data.productname,""),o.xp6(2),o.hij("Amount: RM",o.xi3(10,7,s.data.amount,".2"),""),o.xp6(3),o.hij("Quantity: ",s.data.quantity,""),o.xp6(2),o.hij("Total: RM",o.xi3(15,10,s.data.total,".2"),""),o.xp6(3),o.hij("Tracking Number: ",s.data.trackingnumber,""),o.xp6(1),o.Q6J("routerLink",o.VKq(13,$pe,s.data.category)))},directives:[Z_,T1,Il,xu,Yy],pipes:[Cu],styles:["p-card[_ngcontent-%COMP%]{width:200px}h1[_ngcontent-%COMP%]{margin-left:15px;margin-top:10px;text-decoration:underline;text-underline-offset:15px}button[_ngcontent-%COMP%]{position:relative;left:50%;right:50%}"]}),t})(),canActivate:[wd,e_]},{path:"adminaddorder",component:zoe,canActivate:[wd,e_]},{path:"admincartpage",component:_ue,canActivate:[wd,e_]},{path:"admincheckoutpage",component:Yue,canActivate:[wd,e_]},{path:"adminpermissionpage",component:Sde,canActivate:[wd,e_]},{path:"adminmenupage",component:_he,canActivate:[wd,e_]},{path:"admintrackingpage",component:npe,canActivate:[wd,e_]},{path:"studentpage",component:Xse,canActivate:[wd,EI]},{path:"studentprofilepage",component:Hpe,canActivate:[wd,EI]},{path:"studentcartpage",component:Gpe,canActivate:[wd,EI]},{path:"supplierpage",component:EZ,canActivate:[wd,j1]},{path:"supplierproduct",component:hpe,canActivate:[wd,j1]},{path:"supplierprofile",component:ppe,canActivate:[wd,j1]},{path:"supplierorder",component:bpe,canActivate:[wd,j1]},{path:"suppliertracking",component:Ype,canActivate:[wd,j1]}];let Jpe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[rD.forRoot(Qpe,{onSameUrlNavigation:"reload"})],rD]}),t})(),Xpe=(()=>{class t{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:[tT],styles:[""]}),t})(),rU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs],Hs]}),t})();function sU(t,i,e){const s={timing:t,delay:0,rotateX:i,rotateY:e};return En([ye({"backface-visibility":"visible"}),yi("{{ timing }}s {{ delay }}s ease-in",nt([ye({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),ye({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),ye({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),ye({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),ye({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:s})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),sU(1,1,0),sU(1,0,1),En(yi("{{ timing }}s {{ delay }}s",nt([ye({transform:"translate3d(0, 0, 0)",offset:0}),ye({transform:"translate3d(-10px, 0, 0)",offset:.1}),ye({transform:"translate3d(10px, 0, 0)",offset:.2}),ye({transform:"translate3d(-10px, 0, 0)",offset:.3}),ye({transform:"translate3d(10px, 0, 0)",offset:.4}),ye({transform:"translate3d(-10px, 0, 0)",offset:.5}),ye({transform:"translate3d(10px, 0, 0)",offset:.6}),ye({transform:"translate3d(-10px, 0, 0)",offset:.7}),ye({transform:"translate3d(10px, 0, 0)",offset:.8}),ye({transform:"translate3d(-10px, 0, 0)",offset:.9}),ye({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let Nfe=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,sV,rU,EV,V1]]}),t})();var zfe=Ae(3300);window.ApexCharts=Ae.n(zfe)();let Hfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[]]}),t})();function Vfe(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}function Ufe(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}class Gfe{constructor(i){this._elementRef=i}}const qfe=H1(Gfe,"primary"),lU=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class lb extends qfe{constructor(i,e,s,a,l){super(i),this._elementRef=i,this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=lb._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(s.head)||h.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=gc(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=gc(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,gc(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=gT(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,e=this._diameter,s=lb._diameters;let a=s.get(i);if(!a||!a.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(e)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}lb.\u0275fac=function(i){return new(i||lb)(o.Y36(o.SBq),o.Y36(Ta),o.Y36(De,8),o.Y36(Ff,8),o.Y36(lU))},lb.\u0275cmp=o.Xpm({type:lb,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,e){2&i&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,e){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,Vfe,1,9,"circle",1),o.YNc(2,Ufe,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[gr,vi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),lb._diameters=new WeakMap;let Jfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs,$i],Hs]}),t})(),Xfe=(()=>{class t{constructor(e){this.admins=e}intercept(e,s){return this.admins.isLoading.next(!0),s.handle(e).pipe(SM(()=>{this.admins.isLoading.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(MI))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kfe(t,i){}class hF{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const eme={dialogContainer:fs("dialogContainer",[Ne("void, exit",ye({opacity:0,transform:"scale(0.7)"})),Ne("enter",ye({transform:"none"})),Et("* => enter",yi("150ms cubic-bezier(0, 0, 0.2, 1)",ye({transform:"none",opacity:1}))),Et("* => void, * => exit",yi("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ye({opacity:0})))])};let tme=(()=>{class t extends uI{constructor(e,s,a,l,h,y){super(),this._elementRef=e,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=h,this._focusMonitor=y,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const s=this._getActiveElement(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=this._getActiveElement();return e===s||e.contains(s)}_getActiveElement(){var e;const s=this._document.activeElement;return(null===(e=null==s?void 0:s.shadowRoot)||void 0===e?void 0:e.activeElement)||s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(EP),o.Y36(o.sBO),o.Y36(De,8),o.Y36(hF),o.Y36(Qi))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&o.Gf(iw,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),t})(),nme=(()=>{class t extends tme{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:s}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:e,totalTime:s}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,s){1&e&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&e&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&o.YNc(0,Kfe,0,0,"ng-template",0)},directives:[iw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[eme.dialogContainer]}}),t})(),ime=0;class pF{constructor(i,e,s="mat-dialog-"+ime++){this._overlayRef=i,this._containerInstance=e,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ri.xQ,this._afterClosed=new ri.xQ,this._beforeClosed=new ri.xQ,this._state=0,e._id=s,e._animationStateChanged.pipe(T(a=>"opened"===a.state),we(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(T(a=>"closed"===a.state),we(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(T(a=>27===a.keyCode&&!this.disableClose&&!Of(a))).subscribe(a=>{a.preventDefault(),fF(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():fF(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(T(e=>"closing"===e.state),we(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function fF(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const rme=new o.OlP("MatDialogData"),sme=new o.OlP("mat-dialog-default-options"),cU=new o.OlP("mat-dialog-scroll-strategy"),ame={provide:cU,deps:[rg],useFactory:function(t){return()=>t.scrollStrategies.block()}};let lme=(()=>{class t{constructor(e,s,a,l,h,y,C,P,j){this._overlay=e,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=C,this._dialogContainerType=P,this._dialogDataToken=j,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ri.xQ,this._afterOpenedAtThisLevel=new ri.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Wb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Oo(void 0))),this._scrollStrategy=y}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,s){(s=function(t,i){return Object.assign(Object.assign({},i),t)}(s,this._defaultOptions||new hF)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),h=this._attachDialogContent(e,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const s=this._getOverlayConfig(e);return this._overlay.create(s)}_getOverlayConfig(e){const s=new dS({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachDialogContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:hF,useValue:s}]}),h=new aC(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,s,a,l){const h=new this._dialogRefConstructor(a,s,l.id);if(e instanceof o.Rgc)s.attachTemplatePortal(new A0(e,null,{$implicit:l.data,dialogRef:h}));else{const y=this._createInjector(l,h,s),C=s.attachComponentPortal(new aC(e,l.viewContainerRef,y));h.componentInstance=C.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(e,s,a){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:s}];return e.direction&&(!l||!l.get(vp,null))&&h.push({provide:vp,useValue:{value:e.direction,change:(0,Di.of)()}}),o.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(e){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(rg),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(hS),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},t.\u0275dir=o.lG2({type:t}),t})(),mF=(()=>{class t extends lme{constructor(e,s,a,l,h,y,C){super(e,s,l,y,C,h,pF,nme,rme)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(rg),o.LFG(o.zs3),o.LFG(hi,8),o.LFG(sme,8),o.LFG(cU),o.LFG(t,12),o.LFG(hS))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),dme=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[mF,ame],imports:[[pS,dI,Hs],Hs]}),t})(),gF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m]]}),t})();const Mme=["input"];function Tme(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().onMaskToggle()}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.toggleIconClass())}}function Sme(t,i){1&t&&o.GkF(0)}function kme(t,i){1&t&&o.GkF(0)}function Eme(t,i){if(1&t&&(o.ynx(0),o.YNc(1,kme,1,0,"ng-container",6),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const Dme=function(t){return{width:t}};function Ame(t,i){if(1&t&&(o.TgZ(0,"div",9),o._UZ(1,"div",0),o.qZA(),o.TgZ(2,"div",10),o._uU(3),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",e.strengthClass())("ngStyle",o.VKq(3,Dme,e.meter?e.meter.width:"")),o.xp6(2),o.Oqu(e.infoText)}}function Ime(t,i){1&t&&o.GkF(0)}const Lme=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},Pme=function(t){return{value:"visible",params:t}};function Ome(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",4,5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(2,Sme,1,0,"ng-container",6),o.YNc(3,Eme,2,1,"ng-container",7),o.YNc(4,Ame,4,5,"ng-template",null,8,o.W1O),o.YNc(6,Ime,1,0,"ng-container",6),o.qZA()}if(2&t){const e=o.MAs(5),s=o.oxw();o.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",o.VKq(9,Pme,o.WLB(6,Lme,s.showTransitionOptions,s.hideTransitionOptions))),o.xp6(2),o.Q6J("ngTemplateOutlet",s.headerTemplate),o.xp6(1),o.Q6J("ngIf",s.contentTemplate)("ngIfElse",e),o.xp6(3),o.Q6J("ngTemplateOutlet",s.footerTemplate)}}const Rme={provide:ru,useExisting:(0,o.Gpc)(()=>Fme),multi:!0};let Fme=(()=>{class t{constructor(e,s,a,l){this.cd=e,this.config=s,this.el=a,this.overlayService=l,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,iu.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){switch(e.toState){case"void":iu.clear(e.element)}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=un.getOuterWidth(this.input.nativeElement)+"px",un.absolutePosition(this.overlay,this.input.nativeElement)):un.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onFocus(){this.focused=!0,this.feedback&&(this.overlayVisible=!0)}onBlur(){this.focused=!1,this.feedback&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let s=null,a=null;switch(this.testStrength(e)){case 1:s=this.weakText(),a={strength:"weak",width:"33.33%"};break;case 2:s=this.mediumText(),a={strength:"medium",width:"66.66%"};break;case 3:s=this.strongText(),a={strength:"strong",width:"100%"};break;default:s=this.promptText(),a=null}this.meter=a,this.infoText=s}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let s=0;return this.strongCheckRegExp.test(e)?s=3:this.mediumCheckRegExp.test(e)?s=2:e.length&&(s=1),s}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new MT(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ta.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ta.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ta.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ta.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}ngOnDestroy(){this.overlay&&(iu.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(Lf),o.Y36(o.SBq),o.Y36(l0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-password"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(Mme,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled())("p-inputwrapper-focus",s.focused)},inputs:{disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder"},features:[o._Bn([Rme])],decls:5,vars:14,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup"],["input",""],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onInput(l)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("keyup",function(l){return s.onKeyUp(l)}),o.qZA(),o.YNc(3,Tme,1,1,"i",3),o.YNc(4,Ome,7,11,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",s.containerClass())("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass",s.inputFieldClass())("ngStyle",s.inputStyle)("value",s.value),o.uIk("id",s.inputId)("type",s.inputType())("placeholder",s.placeholder),o.xp6(2),o.Q6J("ngIf",s.toggleMask),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[pe,Gi,R0,cn,qr],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}"],encapsulation:2,data:{animation:[fs("overlayAnimation",[Et(":enter",[ye({opacity:0,transform:"scaleY(0.8)"}),yi("{{showTransitionParams}}")]),Et(":leave",[yi("{{hideTransitionParams}}",ye({opacity:0}))])])]},changeDetection:0}),t})(),Nme=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,kS],Ll]}),t})();Ae(2958);const Vme=new o.OlP("MapboxApiKey"),Ume=new o.OlP("MapboxApiKey");let jme=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vme,useValue:e.accessToken},{provide:Ume,useValue:e.geocoderAccessToken||e.accessToken}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})(),Qme=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),cge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Hs,Qme,dI]]}),t})();class dge{constructor(i,e){this.notifier=i,this.source=e}call(i,e){return e.subscribe(new hge(i,this.notifier,this.source))}}class hge extends Uo.Ds{constructor(i,e,s){super(i),this.notifier=e,this.source=s}error(i){if(!this.isStopped){let e=this.errors,s=this.retries,a=this.retriesSubscription;if(s)this.errors=void 0,this.retriesSubscription=void 0;else{e=new ri.xQ;try{const{notifier:l}=this;s=l(e)}catch(l){return super.error(l)}a=(0,Uo.ft)(s,new Uo.IY(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=s,this.retriesSubscription=a,e.next(i)}}_unsubscribe(){const{errors:i,retriesSubscription:e}=this;i&&(i.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:i}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)}}var YI=Ae(3815);const mU=new o.OlP("ConnectionServiceOptionsToken");class t_{constructor(i,e){this.http=i,this.stateChangeEventEmitter=new o.vpe,this.currentState={hasInternetAccess:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions=(0,YI.defaults)({},e,t_.DEFAULT_OPTIONS,{heartbeatExecutor:()=>this.http.request(this.serviceOptions.requestMethod,this.serviceOptions.heartbeatUrl,{responseType:"text"})}),this.checkNetworkState(),this.checkInternetState()}get options(){return(0,YI.clone)(this.serviceOptions)}checkInternetState(){(0,YI.isNil)(this.httpSubscription)||this.httpSubscription.unsubscribe(),this.serviceOptions.enableHeartbeat?this.httpSubscription=Jz(0,this.serviceOptions.heartbeatInterval).pipe(Ps(()=>this.serviceOptions.heartbeatExecutor(this.serviceOptions)),function(t){return i=>i.lift(new dge(t,i))}(i=>i.pipe((0,yd.b)(e=>{console.error("Http error:",e),this.currentState.hasInternetAccess=!1,this.emitEvent()}),eF(this.serviceOptions.heartbeatRetryInterval)))).subscribe(i=>{this.currentState.hasInternetAccess=!0,this.emitEvent()}):(this.currentState.hasInternetAccess=!1,this.emitEvent())}checkNetworkState(){this.onlineSubscription=Gv(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.emitEvent()}),this.offlineSubscription=Gv(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.checkInternetState(),this.emitEvent()})}emitEvent(){this.stateChangeEventEmitter.emit(this.currentState)}ngOnDestroy(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(i){}}monitor(i=!0){return i?this.stateChangeEventEmitter.pipe(u0(300),Oo(this.currentState)):this.stateChangeEventEmitter.pipe(u0(300))}updateOptions(i){this.serviceOptions=(0,YI.defaults)({},i,this.serviceOptions),this.checkInternetState()}}t_.\u0275fac=function(i){return new(i||t_)(o.LFG(j_),o.LFG(mU,8))},t_.\u0275prov=o.Yz7({token:t_,factory:t_.\u0275fac,providedIn:"root"}),t_.DEFAULT_OPTIONS={enableHeartbeat:!0,heartbeatUrl:"//server.test-cors.org/server?id="+Date.now()+"&enable=true&status=200&credentials=false",heartbeatInterval:3e4,heartbeatRetryInterval:1e3,requestMethod:"head"},t_.ngInjectableDef=(0,o.Ez6)({factory:function(){return new t_((0,o.f3M)(j_),(0,o.f3M)(mU,8))},token:t_,providedIn:"root"});let pge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[t_],imports:[[$z]]}),t})(),yU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),Sge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[V1,Hs,Xm,yU],Hs,yU]}),t})(),Ege=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})(),vU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})(),jge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,Ll,ab,vU,gF,_m],Ll,ab,vU,gF]}),t})();const Zge=["inputtext"];function Wge(t,i){1&t&&o.GkF(0)}function Gge(t,i){if(1&t&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Oqu(s.field?s.resolveFieldData(e,s.field):e)}}function qge(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().index;return o.oxw().removeItem(a,l)}),o.qZA()}}const $ge=function(t){return{$implicit:t}};function Qge(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",6,7),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().onItemClick(a,h)}),o.YNc(2,Wge,1,0,"ng-container",8),o.YNc(3,Gge,2,1,"span",9),o.YNc(4,qge,1,0,"span",10),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",o.VKq(4,$ge,e)),o.xp6(1),o.Q6J("ngIf",!s.itemTemplate),o.xp6(1),o.Q6J("ngIf",!s.disabled)}}const Jge=function(t,i){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":t,"p-disabled":i}},Xge={provide:ru,useExisting:(0,o.Gpc)(()=>Kge),multi:!0};let Kge=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.allowDuplicate=!0,this.onAdd=new o.vpe,this.onRemove=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onChipClick=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(a=>{this.addItem(e,a,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,s){this.onChipClick.emit({originalEvent:e,value:s})}writeValue(e){this.value=e,this.updateMaxedOut(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,s){if(e&&s){if(-1==s.indexOf("."))return e[s];{let h=s.split("."),y=e;for(var a=0,l=h.length;a<l;++a)y=y[h[a]];return y}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,s){if(this.disabled)return;let a=this.value[s];this.value=this.value.filter((l,h)=>h!=s),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:a}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,s,a){this.value=this.value||[],s&&s.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(s))&&(this.value=[...this.value,s],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:s})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",a&&e.preventDefault()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let s=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:s}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&","===this.separator&&188===e.which&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.disabled=!(!this.max||!this.value||this.max!==this.value.length)||this.disabled||!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-chips"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Il,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(Zge,5),2&e){let a;o.iGM(a=o.CRH())&&(s.inputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick"},features:[o._Bn([Xge])],decls:6,vars:17,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return s.onClick()}),o.TgZ(1,"ul",1),o.YNc(2,Qge,5,6,"li",2),o.TgZ(3,"li",3),o.TgZ(4,"input",4,5),o.NdJ("keydown",function(l){return s.onKeydown(l)})("input",function(){return s.onInput()})("paste",function(l){return s.onPaste(l)})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-chips p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngClass",o.WLB(14,Jge,s.focus,s.disabled)),o.xp6(1),o.Q6J("ngForOf",s.value),o.xp6(2),o.Tol(s.inputStyleClass),o.Q6J("disabled",s.disabled)("ngStyle",s.inputStyle),o.uIk("id",s.inputId)("placeholder",s.value&&s.value.length?null:s.placeholder)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy))},directives:[pe,Gi,ft,qr,cn],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}"],encapsulation:2,changeDetection:0}),t})(),e_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,kS,Ll],kS,Ll]}),t})(),d_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[oA,Hs],oA,Hs]}),t})(),h_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Hs],Hs]}),t})(),D_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[oA,V1,Hs,lO,$i],oA,Hs,lO,h_e]}),t})(),R_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,$v],Ll,$v]}),t})(),Y_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i,_m,Ll],Ll]}),t})();X1.register(...$$);let H_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[$i]]}),t})(),V_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[Xpe]}),t.\u0275inj=o.cJS({providers:[wd,y0,e_,{provide:mO,useClass:Xfe,multi:!0},j1,EI,Qm,mm,cF],imports:[[Ip,Jpe,Cr.hO.initializeApp(Mi_firebase),Pa,bA,rY.withConfig({warnOnNgModelWithFormControl:"never"}),Nfe,pI,W2,mz,aV,Hfe,Jne,Ene,Yee,oie,Jfe,sV,dO,dme,Hie,Whe,gF,EV,Nme,die,jme.withConfig({accessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w",geocoderAccessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w"}),$z,kse,Use,FH,cge,Sge,Ege,rU,hue,UV,wA,Zue,Kue,Pre,Qde,jge,pW,e_e,gN,Fue,boe,pge,Lhe,Ape,dee,d_e,D_e,R_e,Y_e,H_e,bZ,mz]]}),t})();(0,o.G48)(),Sc().bootstrapModule(V_e).catch(t=>console.error(t))},4762:(jt,kt,Ae)=>{"use strict";Ae.d(kt,{ZT:()=>$,pi:()=>ee,_T:()=>x,mG:()=>Te,Jh:()=>Ye,XA:()=>gt,CR:()=>Pt,ev:()=>ct});var o=function(wn,dn){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tn,fn){Tn.__proto__=fn}||function(Tn,fn){for(var Hn in fn)Object.prototype.hasOwnProperty.call(fn,Hn)&&(Tn[Hn]=fn[Hn])})(wn,dn)};function $(wn,dn){if("function"!=typeof dn&&null!==dn)throw new TypeError("Class extends value "+String(dn)+" is not a constructor or null");function Tn(){this.constructor=wn}o(wn,dn),wn.prototype=null===dn?Object.create(dn):(Tn.prototype=dn.prototype,new Tn)}var ee=function(){return(ee=Object.assign||function(dn){for(var Tn,fn=1,Hn=arguments.length;fn<Hn;fn++)for(var bn in Tn=arguments[fn])Object.prototype.hasOwnProperty.call(Tn,bn)&&(dn[bn]=Tn[bn]);return dn}).apply(this,arguments)};function x(wn,dn){var Tn={};for(var fn in wn)Object.prototype.hasOwnProperty.call(wn,fn)&&dn.indexOf(fn)<0&&(Tn[fn]=wn[fn]);if(null!=wn&&"function"==typeof Object.getOwnPropertySymbols){var Hn=0;for(fn=Object.getOwnPropertySymbols(wn);Hn<fn.length;Hn++)dn.indexOf(fn[Hn])<0&&Object.prototype.propertyIsEnumerable.call(wn,fn[Hn])&&(Tn[fn[Hn]]=wn[fn[Hn]])}return Tn}function Te(wn,dn,Tn,fn){return new(Tn||(Tn=Promise))(function(bn,li){function Bi(Ei){try{fi(fn.next(Ei))}catch(bi){li(bi)}}function Ui(Ei){try{fi(fn.throw(Ei))}catch(bi){li(bi)}}function fi(Ei){Ei.done?bn(Ei.value):function(bn){return bn instanceof Tn?bn:new Tn(function(li){li(bn)})}(Ei.value).then(Bi,Ui)}fi((fn=fn.apply(wn,dn||[])).next())})}function Ye(wn,dn){var fn,Hn,bn,li,Tn={label:0,sent:function(){if(1&bn[0])throw bn[1];return bn[1]},trys:[],ops:[]};return li={next:Bi(0),throw:Bi(1),return:Bi(2)},"function"==typeof Symbol&&(li[Symbol.iterator]=function(){return this}),li;function Bi(fi){return function(Ei){return function(fi){if(fn)throw new TypeError("Generator is already executing.");for(;Tn;)try{if(fn=1,Hn&&(bn=2&fi[0]?Hn.return:fi[0]?Hn.throw||((bn=Hn.return)&&bn.call(Hn),0):Hn.next)&&!(bn=bn.call(Hn,fi[1])).done)return bn;switch(Hn=0,bn&&(fi=[2&fi[0],bn.value]),fi[0]){case 0:case 1:bn=fi;break;case 4:return Tn.label++,{value:fi[1],done:!1};case 5:Tn.label++,Hn=fi[1],fi=[0];continue;case 7:fi=Tn.ops.pop(),Tn.trys.pop();continue;default:if(!(bn=(bn=Tn.trys).length>0&&bn[bn.length-1])&&(6===fi[0]||2===fi[0])){Tn=0;continue}if(3===fi[0]&&(!bn||fi[1]>bn[0]&&fi[1]<bn[3])){Tn.label=fi[1];break}if(6===fi[0]&&Tn.label<bn[1]){Tn.label=bn[1],bn=fi;break}if(bn&&Tn.label<bn[2]){Tn.label=bn[2],Tn.ops.push(fi);break}bn[2]&&Tn.ops.pop(),Tn.trys.pop();continue}fi=dn.call(wn,Tn)}catch(Ei){fi=[6,Ei],Hn=0}finally{fn=bn=0}if(5&fi[0])throw fi[1];return{value:fi[0]?fi[1]:void 0,done:!0}}([fi,Ei])}}}function gt(wn){var dn="function"==typeof Symbol&&Symbol.iterator,Tn=dn&&wn[dn],fn=0;if(Tn)return Tn.call(wn);if(wn&&"number"==typeof wn.length)return{next:function(){return wn&&fn>=wn.length&&(wn=void 0),{value:wn&&wn[fn++],done:!wn}}};throw new TypeError(dn?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(wn,dn){var Tn="function"==typeof Symbol&&wn[Symbol.iterator];if(!Tn)return wn;var Hn,li,fn=Tn.call(wn),bn=[];try{for(;(void 0===dn||dn-- >0)&&!(Hn=fn.next()).done;)bn.push(Hn.value)}catch(Bi){li={error:Bi}}finally{try{Hn&&!Hn.done&&(Tn=fn.return)&&Tn.call(fn)}finally{if(li)throw li.error}}return bn}function ct(wn,dn,Tn){if(Tn||2===arguments.length)for(var bn,fn=0,Hn=dn.length;fn<Hn;fn++)(bn||!(fn in dn))&&(bn||(bn=Array.prototype.slice.call(dn,0,fn)),bn[fn]=dn[fn]);return wn.concat(bn||Array.prototype.slice.call(dn))}},6700:(jt,kt,Ae)=>{var o={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":4391,"./bo.js":4391,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":7978,"./da.js":7978,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":536,"./is.js":536,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":1705,"./ml.js":1705,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":6490,"./sw.js":6490,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":4810,"./uk.js":4810,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function $(x){var de=ee(x);return Ae(de)}function ee(x){if(!Ae.o(o,x)){var de=new Error("Cannot find module '"+x+"'");throw de.code="MODULE_NOT_FOUND",de}return o[x]}$.keys=function(){return Object.keys(o)},$.resolve=ee,jt.exports=$,$.id=6700}},jt=>{jt(jt.s=3669)}]);