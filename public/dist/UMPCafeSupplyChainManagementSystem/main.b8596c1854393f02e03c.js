(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:je=>{function Ee(L){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+L+"'");throw d.code="MODULE_NOT_FOUND",d})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,je.exports=Ee},7716:(je,Ee,L)=>{"use strict";L.d(Ee,{deG:()=>br,tb:()=>KC,AFp:()=>qC,ip1:()=>L_,CZH:()=>ic,hGG:()=>pI,z2F:()=>M,sBO:()=>TS,Sil:()=>Bd,_Vd:()=>va,EJc:()=>Tr,SBq:()=>$i,qLn:()=>bs,vpe:()=>Ns,gxx:()=>Ts,tBr:()=>oo,XFs:()=>ke,OlP:()=>pn,zs3:()=>Zt,ZZ4:()=>f_,aQg:()=>h_,soG:()=>Fs,YKP:()=>mw,v3s:()=>ye,h0i:()=>Ku,PXZ:()=>tT,R0b:()=>si,FiY:()=>pi,Lbi:()=>QC,g9A:()=>ZC,Qsj:()=>Yb,FYo:()=>ep,JOm:()=>ni,Tiy:()=>u_,q3G:()=>Tt,tp0:()=>gi,EAV:()=>Ft,Rgc:()=>rp,dDg:()=>YD,DyG:()=>Yl,q4F:()=>c_,GfV:()=>Zb,s_b:()=>m_,ifc:()=>Le,eFA:()=>i,G48:()=>n0,Gpc:()=>z,f3M:()=>Cf,X6Q:()=>W_,_c5:()=>aI,VLi:()=>ZD,c2e:()=>JC,zSh:()=>cl,wAp:()=>tt,vHH:()=>_e,EiD:()=>vt,mCW:()=>fr,qzn:()=>gs,JVY:()=>fg,pB0:()=>pg,eBb:()=>Pc,L6k:()=>Mf,LAX:()=>hg,cg1:()=>Lh,Tjo:()=>sI,kL8:()=>Vh,yhl:()=>Af,dqk:()=>jt,sIi:()=>hd,CqO:()=>Uv,QGY:()=>Bv,F4k:()=>CE,RDi:()=>kl,AaK:()=>re,z3N:()=>ki,qOj:()=>mh,TTD:()=>Ws,_Bn:()=>Ub,xp6:()=>Iy,uIk:()=>bm,ekj:()=>yd,Suo:()=>LC,Xpm:()=>Tn,lG2:()=>uc,Yz7:()=>xt,cJS:()=>sn,oAB:()=>lc,Yjl:()=>$d,Y36:()=>Uu,_UZ:()=>kv,BQk:()=>Vv,ynx:()=>Lv,qZA:()=>Fv,TgZ:()=>Mm,EpF:()=>bE,n5z:()=>ff,Ikx:()=>kh,LFG:()=>$t,$8M:()=>Dc,NdJ:()=>Ch,CRH:()=>A_,kcU:()=>jl,O4$:()=>Ul,oxw:()=>$v,Hsn:()=>Rm,F$t:()=>xm,Q6J:()=>Pv,WLB:()=>SC,iGM:()=>uD,MAs:()=>Dv,CHM:()=>Oa,LSH:()=>el,kYT:()=>Gd,YNc:()=>wv,W1O:()=>I_,_uU:()=>RE,Oqu:()=>Dh,hij:()=>Th,Gf:()=>kC});var d=L(9765),le=L(5319),I=L(7574),q=L(6682),he=L(8819);function Q(t){for(let n in t)if(t[n]===Q)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function K(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const V=Q({__forward_ref__:Q});function z(t){return t.__forward_ref__=z,t.toString=function(){return re(this())},t}function P(t){return G(t)?t():t}function G(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===z}class _e extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function Te(t){return"string"==typeof t?t:null==t?"":String(t)}function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Te(t)}function Nt(t,n){const s=n?` in ${n}`:"";throw new _e("201",`No provider for ${Se(t)} found${s}`)}function Ge(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nn(t){return $r(t,Mt)||$r(t,Fn)}function $r(t,n){return t.hasOwnProperty(n)?t[n]:null}function Da(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(kn))?t[gt]:null}const Mt=Q({\u0275prov:Q}),gt=Q({\u0275inj:Q}),Fn=Q({ngInjectableDef:Q}),kn=Q({ngInjectorDef:Q});var ke=(()=>((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke))();let Kt;function hn(t){const n=Kt;return Kt=t,n}function ai(t,n,s){const a=Nn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&ke.Optional?null:void 0!==n?n:void Nt(re(t),"Injector")}function Ir(t){return{toString:t}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Le=(()=>((Le=Le||{})[Le.Emulated=0]="Emulated",Le[Le.None=2]="None",Le[Le.ShadowDom=3]="ShadowDom",Le))();const at="undefined"!=typeof globalThis&&globalThis,ac="undefined"!=typeof window&&window,Qi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xr="undefined"!=typeof global&&global,jt=at||xr||ac||Qi,H={},j=[],Y=Q({\u0275cmp:Q}),fe=Q({\u0275dir:Q}),J=Q({\u0275pipe:Q}),Ie=Q({\u0275mod:Q}),Ke=Q({\u0275loc:Q}),bt=Q({\u0275fac:Q}),Pt=Q({__NG_ELEMENT_ID__:Q});let Lt=0;function Tn(t){return Ir(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||j,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Le.Emulated,id:"c",styles:t.styles||j,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,p=t.features,_=t.pipes;return a.id+=Lt++,a.inputs=xl(t.inputs,s),a.outputs=xl(t.outputs),p&&p.forEach(y=>y(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(rr):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(Si):null,a})}function rr(t){return Wn(t)||function(t){return t[fe]||null}(t)}function Si(t){return function(t){return t[J]||null}(t)}const Il={};function lc(t){return Ir(()=>{const n={type:t.type,bootstrap:t.bootstrap||j,declarations:t.declarations||j,imports:t.imports||j,exports:t.exports||j,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Il[t.id]=t.type),n})}function Gd(t,n){return Ir(()=>{const s=Or(t,!0);s.declarations=n.declarations||j,s.imports=n.imports||j,s.exports=n.exports||j})}function xl(t,n){if(null==t)return H;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=a,n&&(n[c]=p)}return s}const uc=Tn;function $d(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wn(t){return t[Y]||null}function Or(t,n){const s=t[Ie]||null;if(!s&&!0===n)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return s}function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nr(t){return Array.isArray(t)&&!0===t[1]}function Sa(t){return 0!=(8&t.flags)}function Yn(t){return 2==(2&t.flags)}function Ol(t){return 1==(1&t.flags)}function ui(t){return null!==t.template}function zr(t){return 0!=(512&t[2])}function Mi(t,n){return t.hasOwnProperty(bt)?t[bt]:null}class fc{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ws(){return Pl}function Pl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yd),zd}function zd(){const t=hc(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===H)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Yd(t,n,s,a){const c=hc(t)||function(t,n){return t[zs]=n}(t,{previous:H,current:null}),p=c.current||(c.current={}),_=c.previous,y=this.declaredInputs[s],C=_[y];p[y]=new fc(C&&C.currentValue,n,_===H),t[a]=n}Ws.ngInherit=!0;const zs="__ngSimpleChanges__";function hc(t){return t[zs]||null}const Gt="http://www.w3.org/2000/svg";let Fl;function kl(t){Fl=t}function Jt(t){return!!t.listen}const rt={createRenderer:(t,n)=>void 0!==Fl?Fl:"undefined"!=typeof document?document:void 0};function qt(t){for(;Array.isArray(t);)t=t[0];return t}function Po(t,n){return qt(n[t])}function Pr(t,n){return qt(n[t.index])}function es(t,n){return t.data[n]}function or(t,n){const s=n[t];return Xt(s)?s:s[0]}function Kd(t){return 4==(4&t[2])}function Jd(t){return 128==(128&t[2])}function ns(t,n){return null==n?null:t[n]}function pc(t){t[18]=0}function rs(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Xe={lFrame:is(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Hp(){return Xe.bindingsEnabled}function Ce(){return Xe.lFrame.lView}function At(){return Xe.lFrame.tView}function Oa(t){return Xe.lFrame.contextLView=t,t[8]}function tn(){let t=Na();for(;null!==t&&64===t.type;)t=t.parent;return t}function Na(){return Xe.lFrame.currentTNode}function Jn(t,n){const s=Xe.lFrame;s.currentTNode=t,s.isParent=n}function Pa(){return Xe.lFrame.isParent}function Fa(){Xe.lFrame.isParent=!1}function qs(){return Xe.isInCheckNoChangesMode}function Ii(t){Xe.isInCheckNoChangesMode=t}function fi(){return Xe.lFrame.bindingIndex++}function nf(t,n){const s=Xe.lFrame;s.bindingIndex=s.bindingRootIndex=t,ar(n)}function ar(t){Xe.lFrame.currentDirectiveIndex=t}function Vl(){return Xe.lFrame.currentQueryIndex}function Zs(t){Xe.lFrame.currentQueryIndex=t}function rf(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function mc(t,n,s){if(s&ke.SkipSelf){let c=n,p=t;for(;!(c=c.parent,null!==c||s&ke.Host||(c=rf(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;n=c,t=p}const a=Xe.lFrame=Bl();return a.currentTNode=n,a.lView=t,!0}function Qs(t){const n=Bl(),s=t[1];Xe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Bl(){const t=Xe.lFrame,n=null===t?null:t.child;return null===n?is(t):n}function is(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function sf(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zp=sf;function xi(){const t=sf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return Xe.lFrame.selectedIndex}function qr(t){Xe.lFrame.selectedIndex=t}function ln(){const t=Xe.lFrame;return es(t.tView,t.selectedIndex)}function Ul(){Xe.lFrame.currentNamespace=Gt}function jl(){Xe.lFrame.currentNamespace=null}function ss(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:S}=p;_&&(t.contentHooks||(t.contentHooks=[])).push(-s,_),y&&((t.contentHooks||(t.contentHooks=[])).push(s,y),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,y)),C&&(t.viewHooks||(t.viewHooks=[])).push(-s,C),D&&((t.viewHooks||(t.viewHooks=[])).push(s,D),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,D)),null!=S&&(t.destroyHooks||(t.destroyHooks=[])).push(s,S)}}function os(t,n,s){as(t,n,3,s)}function La(t,n,s,a){(3&t[2])===s&&as(t,n,s,a)}function Va(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function as(t,n,s,a){const p=null!=a?a:-1,_=n.length-1;let y=0;for(let C=void 0!==a?65535&t[18]:0;C<_;C++)if("number"==typeof n[C+1]){if(y=n[C],null!=a&&y>=a)break}else n[C]<0&&(t[18]+=65536),(y<p||-1==p)&&(of(t,s,n,C),t[18]=(4294901760&t[18])+C+2),C++}function of(t,n,s,a){const c=s[a]<0,p=s[a+1],y=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{p.call(y)}finally{}}}else try{p.call(y)}finally{}}class ko{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function vc(t,n,s){const a=Jt(t);let c=0;for(;c<s.length;){const p=s[c];if("number"==typeof p){if(0!==p)break;c++;const _=s[c++],y=s[c++],C=s[c++];a?t.setAttribute(n,y,C,_):n.setAttributeNS(_,y,C)}else{const _=p,y=s[++c];Zr(_)?a&&t.setProperty(n,_,y):a?t.setAttribute(n,_,y):n.setAttribute(_,y),c++}}return c}function lf(t){return 3===t||4===t||6===t}function Zr(t){return 64===t.charCodeAt(0)}function Ua(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||uf(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function uf(t,n,s,a,c){let p=0,_=t.length;if(-1===n)_=-1;else for(;p<t.length;){const y=t[p++];if("number"==typeof y){if(y===n){_=-1;break}if(y>n){_=p-1;break}}}for(;p<t.length;){const y=t[p];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==c&&(t[p+1]=c));if(a===t[p+1])return void(t[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==_&&(t.splice(_,0,n),p=_+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==c&&t.splice(p++,0,c)}function Hl(t){return-1!==t}function Ks(t){return 32767&t}function ja(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let cf=!0;function Js(t){const n=cf;return cf=t,n}let cy=0;function Lo(t,n){const s=$l(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Cc(a.data,t),Cc(n,null),Cc(a.blueprint,null));const c=nn(t,n),p=t.injectorIndex;if(Hl(c)){const _=Ks(c),y=ja(c,n),C=y[1].data;for(let D=0;D<8;D++)n[p+D]=y[_+D]|C[_+D]}return n[p+8]=c,p}function Cc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $l(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function nn(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const p=c[1],_=p.type;if(a=2===_?p.declTNode:1===_?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Vo(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Pt)&&(a=s[Pt]),null==a&&(a=s[Pt]=cy++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function Ye(t,n,s){if(s&ke.Optional)return t;Nt(n,"NodeInjector")}function Ha(t,n,s,a){if(s&ke.Optional&&void 0===a&&(a=null),0==(s&(ke.Self|ke.Host))){const c=t[9],p=hn(void 0);try{return c?c.get(n,a,s&ke.Optional):ai(n,a,s&ke.Optional)}finally{hn(p)}}return Ye(a,n,s)}function st(t,n,s,a=ke.Default,c){if(null!==t){const p=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pt)?t[Pt]:void 0;return"number"==typeof n?n>=0?255&n:Mn:n}(s);if("function"==typeof p){if(!mc(n,t,a))return a&ke.Host?Ye(c,s,a):Ha(n,s,a,c);try{const _=p(a);if(null!=_||a&ke.Optional)return _;Nt(s)}finally{zp()}}else if("number"==typeof p){let _=null,y=$l(t,n),C=-1,D=a&ke.Host?n[16][6]:null;for((-1===y||a&ke.SkipSelf)&&(C=-1===y?nn(t,n):n[y+8],-1!==C&&Xs(a,!1)?(_=n[1],y=Ks(C),n=ja(C,n)):y=-1);-1!==y;){const S=n[1];if(ur(p,y,S.data)){const R=kr(y,n,s,_,a,D);if(R!==Ec)return R}C=n[y+8],-1!==C&&Xs(a,n[1].data[y+8]===D)&&ur(p,y,n)?(_=S,y=Ks(C),n=ja(C,n)):y=-1}}}return Ha(n,s,a,c)}const Ec={};function Mn(){return new Uo(tn(),Ce())}function kr(t,n,s,a,c,p){const _=n[1],y=_.data[t+8],S=un(y,_,s,null==a?Yn(y)&&cf:a!=_&&0!=(3&y.type),c&ke.Host&&p===y);return null!==S?Bo(n,_,S,y):Ec}function un(t,n,s,a,c){const p=t.providerIndexes,_=n.data,y=1048575&p,C=t.directiveStart,S=p>>20,N=c?y+S:t.directiveEnd;for(let U=a?y:y+S;U<N;U++){const W=_[U];if(U<C&&s===W||U>=C&&W.type===s)return U}if(c){const U=_[C];if(U&&ui(U)&&U.type===s)return C}return null}function Bo(t,n,s,a){let c=t[s];const p=n.data;if(function(t){return t instanceof ko}(c)){const _=c;_.resolving&&function(t,n){throw new _e("200",`Circular dependency in DI detected for ${t}`)}(Se(p[s]));const y=Js(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?hn(_.injectImpl):null;mc(t,a,ke.Default);try{c=t[s]=_.factory(void 0,p,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=n.type.prototype;if(a){const _=Pl(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p))}(s,p[s],n)}finally{null!==C&&hn(C),Js(y),_.resolving=!1,zp()}}return c}function ur(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Xs(t,n){return!(t&ke.Self||t&ke.Host&&n)}class Uo{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return st(this._tNode,this._lView,n,void 0,s)}}function ff(t){return Ir(()=>{const n=t.prototype.constructor,s=n[bt]||wc(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const p=c[bt]||wc(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function wc(t){return G(t)?()=>{const n=wc(P(t));return n&&n()}:Mi(t)}function Dc(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const p=s[c];if(lf(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(p===n)return s[c+1];c+=2}}}return null}(tn(),t)}const eo="__parameters__";function us(t,n,s){return Ir(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...p){if(this instanceof c)return a.apply(this,p),this;const _=new c(...p);return y.annotation=_,y;function y(C,D,S){const R=C.hasOwnProperty(eo)?C[eo]:Object.defineProperty(C,eo,{value:[]})[eo];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(_),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class pn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=xt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const br=new pn("AnalyzeForEntryComponents"),Yl=Function;function Vn(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Vn(a,n)):n!==t&&n.push(a)}return n}function Bn(t,n){t.forEach(s=>Array.isArray(s)?Bn(s,n):n(s))}function cs(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ds(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function fs(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function xn(t,n,s){let a=Oi(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let c=t.length;if(c==n)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function Ri(t,n){const s=Oi(t,n);if(s>=0)return t[1|s]}function Oi(t,n){return function(t,n,s){let a=0,c=t.length>>s;for(;c!==a;){const p=a+(c-a>>1),_=t[p<<s];if(n===_)return p<<s;_>n?c=p:a=p+1}return~(c<<s)}(t,n,1)}const Wa={},Xl="__NG_DI_FLAG__",no="ngTempTokenPath",Ac=/\n/gm,Mc="__source",Ya=Q({provide:String,useValue:Q});let ro;function Ni(t){const n=ro;return ro=t,n}function qa(t,n=ke.Default){if(void 0===ro)throw new Error("inject() must be called from an injection context");return null===ro?ai(t,void 0,n):ro.get(t,n&ke.Optional?null:void 0,n)}function $t(t,n=ke.Default){return(Kt||qa)(P(t),n)}const Cf=$t;function io(t){const n=[];for(let s=0;s<t.length;s++){const a=P(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let c,p=ke.Default;for(let _=0;_<a.length;_++){const y=a[_],C=Ef(y);"number"==typeof C?-1===C?c=y.token:p|=C:c=y}n.push($t(c,p))}else n.push($t(a))}return n}function Pi(t,n){return t[Xl]=n,t.prototype[Xl]=n,t}function Ef(t){return t[Xl]}function wf(t,n,s,a){const c=t[no];throw n[Mc]&&c.unshift(n[Mc]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=re(n);if(Array.isArray(n))c=n.map(re).join(" -> ");else if("object"==typeof n){let p=[];for(let _ in n)if(n.hasOwnProperty(_)){let y=n[_];p.push(_+":"+("string"==typeof y?JSON.stringify(y):re(y)))}c=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Ac,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[no]=null,t}const oo=Pi(us("Inject",t=>({token:t})),-1),pi=Pi(us("Optional"),8),gi=Pi(us("SkipSelf"),4);let gn;function Rn(t){var n;return(null===(n=function(){if(void 0===gn&&(gn=null,jt.trustedTypes))try{gn=jt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return gn}())||void 0===n?void 0:n.createHTML(t))||t}class qn{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oc extends qn{getTypeName(){return"HTML"}}class Jo extends qn{getTypeName(){return"Style"}}class Sf extends qn{getTypeName(){return"Script"}}class Nc extends qn{getTypeName(){return"URL"}}class ru extends qn{getTypeName(){return"ResourceURL"}}function ki(t){return t instanceof qn?t.changingThisBreaksApplicationSecurity:t}function gs(t,n){const s=Af(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function Af(t){return t instanceof qn&&t.getTypeName()||null}function fg(t){return new Oc(t)}function Mf(t){return new Jo(t)}function Pc(t){return new Sf(t)}function hg(t){return new Nc(t)}function pg(t){return new ru(t)}class Fc{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Rn(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class kc{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Rn(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Rn(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let c=s.length-1;0<c;c--){const _=s.item(c).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&n.removeAttribute(_)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const gg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fr(t){return(t=String(t)).match(gg)||t.match(uo)?t:"unsafe:"+t}function Vr(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function ms(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Jr=Vr("area,br,col,hr,img,wbr"),_s=Vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lc=Vr("rp,rt"),tr=ms(Jr,ms(_s,Vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ms(Lc,Vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ms(Lc,_s)),Ka=Vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ja=Vr("srcset"),iu=ms(Ka,Ja,Vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Of=Vr("script,style,template");class Nf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!tr.hasOwnProperty(s))return this.sanitizedSomething=!0,!Of.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),_=p.name,y=_.toLowerCase();if(!iu.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let C=p.value;Ka[y]&&(C=fr(C)),Ja[y]&&(t=C,C=(t=String(t)).split(",").map(n=>fr(n.trim())).join(", ")),this.buf.push(" ",_,'="',Xa(C),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();tr.hasOwnProperty(s)&&!Jr.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Xa(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Vc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bc=/([^\#-~ |!])/g;function Xa(t){return t.replace(/&/g,"&amp;").replace(Vc,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Bc,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mn;function vt(t,n){let s=null;try{mn=mn||function(t){const n=new kc(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(t){return!1}}()?new Fc(n):n}(t);let a=n?String(n):"";s=mn.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=s.innerHTML,s=mn.getInertBodyElement(a)}while(a!==p);return Rn((new Nf).sanitizeChildren(hr(s)||s))}finally{if(s){const a=hr(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tt=(()=>((Tt=Tt||{})[Tt.NONE=0]="NONE",Tt[Tt.HTML=1]="HTML",Tt[Tt.STYLE=2]="STYLE",Tt[Tt.SCRIPT=3]="SCRIPT",Tt[Tt.URL=4]="URL",Tt[Tt.RESOURCE_URL=5]="RESOURCE_URL",Tt))();function el(t){const n=function(){const t=Ce();return t&&t[12]}();return n?n.sanitize(Tt.URL,t)||"":gs(t,"URL")?ki(t):fr(Te(t))}const jc="__ngContext__";function bn(t,n){t[jc]=n}function fu(t){const n=function(t){return t[jc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ea(t){return t.ngOriginalError}function Yc(t,...n){t.error(...n)}class bs{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),c=(t=n)&&t.ngErrorLogger||Yc;var t;c(this._console,"ERROR",n),s&&c(this._console,"ORIGINAL ERROR",s),a&&c(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(ea(n)):null}_findOriginalError(n){let s=n&&ea(n);for(;s&&ea(s);)s=ea(s);return s||null}}const mu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Cr(t){return t instanceof Function?t():t}var ni=(()=>((ni=ni||{})[ni.Important=1]="Important",ni[ni.DashCase=2]="DashCase",ni))();function go(t,n){return undefined(t,n)}function yi(t){const n=t[3];return Nr(n)?n[3]:n}function Vi(t){return Wf(t[13])}function Xc(t){return Wf(t[4])}function Wf(t){for(;null!==t&&!Nr(t);)t=t[4];return t}function ta(t,n,s,a,c){if(null!=a){let p,_=!1;Nr(a)?p=a:Xt(a)&&(_=!0,a=a[0]);const y=qt(a);0===t&&null!==s?null==c?x(n,s,y):T(n,s,y,c||null,!0):1===t&&null!==s?T(n,s,y,c||null,!0):2===t?function(t,n,s){const a=B(t,n);a&&function(t,n,s,a){Jt(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,y,_):3===t&&n.destroyNode(y),null!=p&&function(t,n,s,a,c){const p=s[7];p!==qt(s)&&ta(n,t,a,p,c);for(let y=10;y<s.length;y++){const C=s[y];il(C[1],C,t,n,a,p)}}(n,t,p,s,c)}}function _u(t,n,s){return Jt(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function rl(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,rs(c,-1)),s.splice(a,1)}function ra(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&rl(c,a),n>0&&(t[s-1][4]=a[4]);const p=ds(t,10+n);!function(t,n){il(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const _=p[19];null!==_&&_.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function u(t,n){if(!(256&n[2])){const s=n[11];Jt(s)&&s.destroyNode&&il(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return l(t[1],t);for(;n;){let s=null;if(Xt(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Xt(n)&&l(n[1],n),n=n[3];null===n&&(n=t),Xt(n)&&l(n[1],n),s=n&&n[4]}n=s}}(n)}}function l(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof ko)){const p=s[a+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const y=c[p[_]],C=p[_+1];try{C.call(y)}finally{}}else try{p.call(c)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const _=s[p+1],y="function"==typeof _?_(n):qt(n[_]),C=a[c=s[p+2]],D=s[p+3];"boolean"==typeof D?y.removeEventListener(s[p],C,D):D>=0?a[c=D]():a[c=-D].unsubscribe(),p+=2}else{const _=a[c=s[p+1]];s[p].call(_)}if(null!==a){for(let p=c+1;p<a.length;p++)a[p]();n[7]=null}}(t,n),1===n[1].type&&Jt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Nr(n[3])){s!==n[3]&&rl(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function v(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Le.None||c===Le.Emulated)return null}return Pr(a,s)}(t,n.parent,s)}function T(t,n,s,a,c){Jt(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function x(t,n,s){Jt(t)?t.appendChild(n,s):n.appendChild(s)}function O(t,n,s,a,c){null!==a?T(t,n,s,a,c):x(t,n,s)}function B(t,n){return Jt(t)?t.parentNode(n):n.parentNode}function ge(t,n,s){return xe(t,n,s)}let xe=function(t,n,s){return 40&t.type?Pr(t,s):null};function ut(t,n,s,a){const c=v(t,a,n),p=n[11],y=ge(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)O(p,c,s[C],y,!1);else O(p,c,s,y,!1)}function rn(t,n){if(null!==n){const s=n.type;if(3&s)return Pr(n,t);if(4&s)return ia(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return rn(t,a);{const c=t[n.index];return Nr(c)?ia(-1,c):qt(c)}}if(32&s)return go(n,t)()||qt(t[n.index]);{const a=pr(t,n);return null!==a?Array.isArray(a)?a[0]:rn(yi(t[16]),a):rn(t,n.next)}}return null}function pr(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ia(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return rn(a,c)}return n[7]}function Es(t,n,s,a,c,p,_){for(;null!=s;){const y=a[s.index],C=s.type;if(_&&0===n&&(y&&bn(qt(y),a),s.flags|=4),64!=(64&s.flags))if(8&C)Es(t,n,s.child,a,c,p,!1),ta(n,t,c,y,p);else if(32&C){const D=go(s,a);let S;for(;S=D();)ta(n,t,c,S,p);ta(n,t,c,y,p)}else 16&C?vy(t,n,a,s,c,p):ta(n,t,c,y,p);s=_?s.projectionNext:s.next}}function il(t,n,s,a,c,p){Es(s,a,t.firstChild,n,c,p,!1)}function vy(t,n,s,a,c,p){const _=s[16],C=_[6].projection[a.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)ta(n,t,c,C[D],p);else Es(t,n,C,_[3],c,p,!0)}function by(t,n,s){Jt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Mg(t,n,s){Jt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Cy(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const p=n.length;if(c+p===a||t.charCodeAt(c+p)<=32)return c}s=c+1}}const Ey="ng-template";function _0(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Cy(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function wy(t){return 4===t.type&&t.value!==Ey}function y0(t,n,s){return n===(4!==t.type||s?t.value:Ey)}function v0(t,n,s){let a=4;const c=t.attrs||[],p=function(t){for(let n=0;n<t.length;n++)if(lf(t[n]))return n;return t.length}(c);let _=!1;for(let y=0;y<n.length;y++){const C=n[y];if("number"!=typeof C){if(!_)if(4&a){if(a=2|1&a,""!==C&&!y0(t,C,s)||""===C&&1===n.length){if(vi(a))return!1;_=!0}}else{const D=8&a?C:n[++y];if(8&a&&null!==t.attrs){if(!_0(t.attrs,D,s)){if(vi(a))return!1;_=!0}continue}const R=b0(8&a?"class":C,c,wy(t),s);if(-1===R){if(vi(a))return!1;_=!0;continue}if(""!==D){let N;N=R>p?"":c[R+1].toLowerCase();const U=8&a?N:null;if(U&&-1!==Cy(U,D,0)||2&a&&D!==N){if(vi(a))return!1;_=!0}}}}else{if(!_&&!vi(a)&&!vi(C))return!1;if(_&&vi(C))continue;_=!1,a=C|1&a}}return vi(a)||_}function vi(t){return 0==(1&t)}function b0(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let p=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)p=!0;else{if(1===_||2===_){let y=n[++c];for(;"string"==typeof y;)y=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=p?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Dy(t,n,s=!1){for(let a=0;a<n.length;a++)if(v0(t,n[a],s))return!0;return!1}function Ty(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function D0(t,n){return t?":not("+n.trim()+")":n}function Sy(t){let n=t[0],s=1,a=2,c="",p=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&a){const y=t[++s];c+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+_:4&a&&(c+=" "+_);else""!==c&&!vi(_)&&(n+=D0(p,c),c=""),a=_,p=p||!vi(a);s++}return""!==c&&(n+=D0(p,c)),n}const ct={};function Iy(t){xy(At(),Ce(),An()+t,qs())}function xy(t,n,s,a){if(!a)if(3==(3&n[2])){const p=t.preOrderCheckHooks;null!==p&&os(n,p,s)}else{const p=t.preOrderHooks;null!==p&&La(n,p,0,s)}qr(s)}function Zf(t,n){return t<<17|n<<2}function Bi(t){return t>>17&32767}function xg(t){return 2|t}function _o(t){return(131068&t)>>2}function Rg(t,n){return-131069&t|n<<2}function Kf(t){return 1|t}function F0(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],p=s[a+1];if(-1!==p){const _=t.data[p];Zs(c),_.contentQueries(2,n[p],p)}}}function aa(t,n,s,a,c,p,_,y,C,D){const S=n.blueprint.slice();return S[0]=c,S[2]=140|a,pc(S),S[3]=S[15]=t,S[8]=s,S[10]=_||t&&t[10],S[11]=y||t&&t[11],S[12]=C||t&&t[12]||null,S[9]=D||t&&t[9]||null,S[6]=p,S[16]=2==n.type?t[16]:S,S}function al(t,n,s,a,c){let p=t.data[n];if(null===p)p=function(t,n,s,a,c){const p=Na(),_=Pa(),C=t.data[n]=function(t,n,s,a,c,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(t,n,s,a,c),Xe.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=c;const _=function(){const t=Xe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Jn(p,!0),p}function gr(t,n,s,a){if(0===s)return-1;const c=n.length;for(let p=0;p<s;p++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function sd(t,n,s){Qs(n);try{const a=t.viewQuery;null!==a&&lh(1,a,s);const c=t.template;null!==c&&ky(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&F0(t,n),t.staticViewQueries&&lh(2,t.viewQuery,s);const p=t.components;null!==p&&function(t,n){for(let s=0;s<n.length;s++)ad(t,n[s])}(n,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,xi()}}function ll(t,n,s,a){const c=n[2];if(256==(256&c))return;Qs(n);const p=qs();try{pc(n),function(t){Xe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&ky(t,n,s,2,a);const _=3==(3&c);if(!p)if(_){const D=t.preOrderCheckHooks;null!==D&&os(n,D,null)}else{const D=t.preOrderHooks;null!==D&&La(n,D,0,null),Va(n,0)}if(function(t){for(let n=Vi(t);null!==n;n=Xc(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],p=c[3];0==(1024&c[2])&&rs(p,1),c[2]|=1024}}}(n),function(t){for(let n=Vi(t);null!==n;n=Xc(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];Jd(a)&&ll(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&F0(t,n),!p)if(_){const D=t.contentCheckHooks;null!==D&&os(n,D)}else{const D=t.contentHooks;null!==D&&La(n,D,1),Va(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)qr(~c);else{const p=c,_=s[++a],y=s[++a];nf(_,p),y(2,n[p])}}}finally{qr(-1)}}(t,n);const y=t.components;null!==y&&function(t,n){for(let s=0;s<n.length;s++)H0(t,n[s])}(n,y);const C=t.viewQuery;if(null!==C&&lh(2,C,a),!p)if(_){const D=t.viewCheckHooks;null!==D&&os(n,D)}else{const D=t.viewHooks;null!==D&&La(n,D,2),Va(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),p||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,rs(n[3],-1))}finally{xi()}}function L0(t,n,s,a){const c=n[10],p=!qs(),_=Kd(n);try{p&&!_&&c.begin&&c.begin(),_&&sd(t,n,a),ll(t,n,s,a)}finally{p&&!_&&c.end&&c.end()}}function ky(t,n,s,a,c){const p=An(),_=2&a;try{qr(-1),_&&n.length>20&&xy(t,n,20,qs()),s(a,c)}finally{qr(p)}}function Ly(t,n,s){if(Sa(n)){const c=n.directiveEnd;for(let p=n.directiveStart;p<c;p++){const _=t.data[p];_.contentQueries&&_.contentQueries(1,s[p],p)}}}function la(t,n,s){!Hp()||(function(t,n,s,a){const c=s.directiveStart,p=s.directiveEnd;t.firstCreatePass||Lo(s,n),bn(a,n);const _=s.initialInputs;for(let y=c;y<p;y++){const C=t.data[y],D=ui(C);D&&Wy(n,s,C);const S=Bo(n,t,y,s);bn(S,n),null!==_&&zy(0,y-c,S,C,0,_),D&&(or(s.index,n)[8]=S)}}(t,n,s,Pr(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,c=s.directiveEnd,_=s.index,y=Xe.lFrame.currentDirectiveIndex;try{qr(_);for(let C=a;C<c;C++){const D=t.data[C],S=n[C];ar(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$g(D,S)}}finally{qr(-1),ar(y)}}(t,n,s))}function ws(t,n,s=Pr){const a=n.localNames;if(null!==a){let c=n.index+1;for(let p=0;p<a.length;p+=2){const _=a[p+1],y=-1===_?s(n,t):t[_];t[c++]=y}}}function kg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Gn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Gn(t,n,s,a,c,p,_,y,C,D){const S=20+a,R=S+c,N=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:ct);return s}(S,R),U="function"==typeof D?D():D;return N[1]={type:t,blueprint:N,template:s,queries:null,viewQuery:y,declTNode:n,data:N.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:U,incompleteFirstPass:!1}}function Vg(t,n,s,a){const c=Zy(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&uh(t).push(a,c.length-1))}function Bg(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function Ur(t,n,s,a,c,p,_,y){const C=Pr(n,s);let S,D=n.inputs;!y&&null!=D&&(S=D[a])?(ch(t,s,S,a,c),Yn(n)&&function(t,n){const s=or(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=_?_(c,n.value||"",a):c,Jt(p)?p.setProperty(C,a,c):Zr(a)||(C.setProperty?C.setProperty(a,c):C[a]=c))}function ih(t,n,s,a){let c=!1;if(Hp()){const p=function(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];Dy(s,_.selectors,!1)&&(c||(c=[]),Vo(Lo(s,n),t,_.type),ui(_)?(Wg(t,s),c.unshift(_)):c.push(_))}return c}(t,n,s),_=null===a?null:{"":-1};if(null!==p){c=!0,Yg(s,t.data.length,p.length);for(let S=0;S<p.length;S++){const R=p[S];R.providersResolver&&R.providersResolver(R)}let y=!1,C=!1,D=gr(t,n,p.length,null);for(let S=0;S<p.length;S++){const R=p[S];s.mergedAttrs=Ua(s.mergedAttrs,R.hostAttrs),qg(t,s,n,D,R),sh(D,R,_),null!==R.contentQueries&&(s.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(s.flags|=128);const N=R.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),y=!0),!C&&(N.ngOnChanges||N.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),C=!0),D++}!function(t,n){const a=n.directiveEnd,c=t.data,p=n.attrs,_=[];let y=null,C=null;for(let D=n.directiveStart;D<a;D++){const S=c[D],R=S.inputs,N=null===p||wy(n)?null:MT(R,p);_.push(N),y=Bg(R,D,y),C=Bg(S.outputs,D,C)}null!==y&&(y.hasOwnProperty("class")&&(n.flags|=16),y.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=_,n.inputs=y,n.outputs=C}(t,s)}_&&function(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const p=s[n[c+1]];if(null==p)throw new _e("301",`Export of name '${n[c+1]}' not found!`);a.push(n[c],p)}}}(s,a,_)}return s.mergedAttrs=Ua(s.mergedAttrs,s.attrs),c}function jg(t,n,s,a,c,p){const _=p.hostBindings;if(_){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const C=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(y)!=C&&y.push(C),y.push(a,c,_)}}function $g(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wg(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function sh(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;ui(n)&&(s[""]=t)}}function Yg(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function qg(t,n,s,a,c){t.data[a]=c;const p=c.factory||(c.factory=Mi(c.type)),_=new ko(p,ui(c),null);t.blueprint[a]=_,s[a]=_,jg(t,n,0,a,gr(t,s,c.hostVars,ct),c)}function Wy(t,n,s){const a=Pr(n,t),c=kg(s),p=t[10],_=ul(t,aa(t,c,null,s.onPush?64:16,a,n,p,p.createRenderer(a,s),null,null));t[n.index]=_}function cn(t,n,s,a,c,p){const _=Pr(t,n);!function(t,n,s,a,c,p,_){if(null==p)Jt(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const y=null==_?Te(p):_(p,a||"",c);Jt(t)?t.setAttribute(n,c,y,s):s?n.setAttributeNS(s,c,y):n.setAttribute(c,y)}}(n[11],_,p,t.value,s,a,c)}function zy(t,n,s,a,c,p){const _=p[n];if(null!==_){const y=a.setInput;for(let C=0;C<_.length;){const D=_[C++],S=_[C++],R=_[C++];null!==y?a.setInput(s,R,D,S):s[S]=R}}}function MT(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function od(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function H0(t,n){const s=or(n,t);if(Jd(s)){const a=s[1];80&s[2]?ll(a,s,a.template,s[8]):s[5]>0&&bu(s)}}function bu(t){for(let a=Vi(t);null!==a;a=Xc(a))for(let c=10;c<a.length;c++){const p=a[c];if(1024&p[2]){const _=p[1];ll(_,p,_.template,p[8])}else p[5]>0&&bu(p)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=or(s[a],t);Jd(c)&&c[5]>0&&bu(c)}}function ad(t,n){const s=or(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),sd(a,s,s[8])}function ul(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Zg(t){for(;t;){t[2]|=64;const n=yi(t);if(zr(t)&&!n)return t;t=n}return null}function Kg(t,n,s){const a=n[10];a.begin&&a.begin();try{ll(t,n,t.template,s)}catch(c){throw Jg(n,c),c}finally{a.end&&a.end()}}function Yy(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=fu(s),c=a[1];L0(c,a,c.template,s)}}(t[8])}function lh(t,n,s){Zs(0),n(t,s)}const xT=(()=>Promise.resolve(null))();function Zy(t){return t[7]||(t[7]=[])}function uh(t){return t.cleanup||(t.cleanup=[])}function Jg(t,n){const s=t[9],a=s?s.get(bs,null):null;a&&a.handleError(n)}function ch(t,n,s,a,c){for(let p=0;p<s.length;){const _=s[p++],y=s[p++],C=n[_],D=t.data[_];null!==D.setInput?D.setInput(C,c,a,y):C[y]=c}}function Ci(t,n,s){const a=Po(n,t);!function(t,n,s){Jt(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Xg(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,p=0;if(null!==n)for(let _=0;_<n.length;_++){const y=n[_];"number"==typeof y?p=y:1==p?c=K(c,y):2==p&&(a=K(a,y+": "+n[++_]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const Ts=new pn("INJECTOR",-1);class Ky{get(n,s=Wa){if(s===Wa){const a=new Error(`NullInjectorError: No provider for ${re(n)}!`);throw a.name="NullInjectorError",a}return s}}const cl=new pn("Set Injector scope."),Eu={},em={};let fh;function hh(){return void 0===fh&&(fh=new Ky),fh}function bo(t,n=null,s=null,a){return new cd(t,s,n||hh(),a)}class cd{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];s&&Bn(s,y=>this.processProvider(y,n,s)),Bn([n],y=>this.processInjectorType(y,[],p)),this.records.set(Ts,da(void 0,this));const _=this.records.get(cl);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof n?null:re(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Wa,a=ke.Default){this.assertNotDestroyed();const c=Ni(this),p=hn(void 0);try{if(!(a&ke.SkipSelf)){let y=this.records.get(n);if(void 0===y){const C=("function"==typeof(t=n)||"object"==typeof t&&t instanceof pn)&&Nn(n);y=C&&this.injectableDefInScope(C)?da(dd(n),Eu):null,this.records.set(n,y)}if(null!=y)return this.hydrate(n,y)}return(a&ke.Self?hh():this.parent).get(n,s=a&ke.Optional&&s===Wa?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[no]=_[no]||[]).unshift(re(n)),c)throw _;return wf(_,n,"R3InjectorError",this.source)}throw _}finally{hn(p),Ni(c)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(re(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=P(n)))return!1;let c=Da(n);const p=null==c&&n.ngModule||void 0,_=void 0===p?n:p,y=-1!==a.indexOf(_);if(void 0!==p&&(c=Da(p)),null==c)return!1;if(null!=c.imports&&!y){let S;a.push(_);try{Bn(c.imports,R=>{this.processInjectorType(R,s,a)&&(void 0===S&&(S=[]),S.push(R))})}finally{}if(void 0!==S)for(let R=0;R<S.length;R++){const{ngModule:N,providers:U}=S[R];Bn(U,W=>this.processProvider(W,N,U||j))}}this.injectorDefTypes.add(_);const C=Mi(_)||(()=>new _);this.records.set(_,da(C,Eu));const D=c.providers;if(null!=D&&!y){const S=n;Bn(D,R=>this.processProvider(R,S,D))}return void 0!==p&&void 0!==n.providers}processProvider(n,s,a){let c=dl(n=P(n))?n:P(n&&n.provide);const p=nm(t=n)?da(void 0,t.useValue):da(wu(t),Eu);var t;if(dl(n)||!0!==n.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=da(void 0,Eu,!0),_.factory=()=>io(_.multi),this.records.set(c,_)),c=n,_.multi.push(n)}this.records.set(c,p)}hydrate(n,s){return s.value===Eu&&(s.value=em,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=P(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function dd(t){const n=Nn(t),s=null!==n?n.factory:Mi(t);if(null!==s)return s;if(t instanceof pn)throw new Error(`Token ${re(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=fs(n,"?");throw new Error(`Can't resolve all parameters for ${re(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[Mt]||t[Fn]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function wu(t,n,s){let a;if(dl(t)){const c=P(t);return Mi(c)||dd(c)}if(nm(t))a=()=>P(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...io(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>$t(P(t.useExisting));else{const c=P(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Mi(c)||dd(c);a=()=>new c(...io(t.deps))}return a}function da(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function nm(t){return null!==t&&"object"==typeof t&&Ya in t}function dl(t){return"function"==typeof t}const im=function(t,n,s){return function(t,n=null,s=null,a){const c=bo(t,n,s,a);return c._resolveInjectorDefTypes(),c}({name:s},n,t,s)};class Zt{static create(n,s){return Array.isArray(n)?im(n,s,""):im(n.providers,n.parent,n.name||"")}}function iE(t,n){ss(fu(t)[1],tn())}function mh(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let c;if(ui(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");c=n.\u0275dir}if(c){if(s){a.push(c);const _=t;_.inputs=dv(t.inputs),_.declaredInputs=dv(t.declaredInputs),_.outputs=dv(t.outputs);const y=c.hostBindings;y&&oE(t,y);const C=c.viewQuery,D=c.contentQueries;if(C&&VT(t,C),D&&fv(t,D),de(t.inputs,c.inputs),de(t.declaredInputs,c.declaredInputs),de(t.outputs,c.outputs),ui(c)&&c.data.animation){const S=t.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let _=0;_<p.length;_++){const y=p[_];y&&y.ngInherit&&y(t),y===mh&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=Ua(c.hostAttrs,s=Ua(s,c.hostAttrs))}}(a)}function dv(t){return t===H?{}:t===j?[]:t}function VT(t,n){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{n(a,c),s(a,c)}:n}function fv(t,n){const s=t.contentQueries;t.contentQueries=s?(a,c,p)=>{n(a,c,p),s(a,c,p)}:n}function oE(t,n){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{n(a,c),s(a,c)}:n}Zt.THROW_IF_NOT_FOUND=Wa,Zt.NULL=new Ky,Zt.\u0275prov=xt({token:Zt,providedIn:"any",factory:()=>$t(Ts)}),Zt.__NG_ELEMENT_ID__=-1;let ym=null;function Tu(){if(!ym){const t=jt.Symbol;if(t&&t.iterator)ym=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(ym=a)}}}return ym}function hd(t){return!!vm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Tu()in t)}function vm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function bm(t,n,s,a){const c=Ce();return mr(c,fi(),n)&&(At(),cn(ln(),c,t,n,s,a)),bm}function wv(t,n,s,a,c,p,_,y){const C=Ce(),D=At(),S=t+20,R=D.firstCreatePass?function(t,n,s,a,c,p,_,y,C){const D=n.consts,S=al(n,t,4,_||null,ns(D,y));ih(n,s,S,ns(D,C)),ss(n,S);const R=S.tViews=Gn(2,S,a,c,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,D);return null!==n.queries&&(n.queries.template(n,S),R.queries=n.queries.embeddedTView(S)),S}(S,D,C,n,s,a,c,p,_):D.data[S];Jn(R,!1);const N=C[11].createComment("");ut(D,C,N,R),bn(N,C),ul(C,C[S]=od(N,C,N,R)),Ol(R)&&la(D,C,R),null!=_&&ws(C,R,y)}function Dv(t){return function(t,n){return t[n]}(Xe.lFrame.contextLView,20+t)}function Uu(t,n=ke.Default){const s=Ce();return null===s?$t(t,n):st(tn(),s,P(t),n)}function Pv(t,n,s){const a=Ce();return mr(a,fi(),n)&&Ur(At(),ln(),a,t,n,a[11],s,!1),Pv}function bh(t,n,s,a,c){const _=c?"class":"style";ch(t,s,n.inputs[_],_,a)}function Mm(t,n,s,a){const c=Ce(),p=At(),_=20+t,y=c[11],C=c[_]=_u(y,n,Xe.lFrame.currentNamespace),D=p.firstCreatePass?function(t,n,s,a,c,p,_){const y=n.consts,D=al(n,t,2,c,ns(y,p));return ih(n,s,D,ns(y,_)),null!==D.attrs&&Xg(D,D.attrs,!1),null!==D.mergedAttrs&&Xg(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(_,p,c,0,n,s,a):p.data[_];Jn(D,!0);const S=D.mergedAttrs;null!==S&&vc(y,C,S);const R=D.classes;null!==R&&Mg(y,C,R);const N=D.styles;null!==N&&by(y,C,N),64!=(64&D.flags)&&ut(p,c,C,D),0===Xe.lFrame.elementDepthCount&&bn(C,c),Xe.lFrame.elementDepthCount++,Ol(D)&&(la(p,c,D),Ly(p,D,c)),null!==a&&ws(c,D)}function Fv(){let t=tn();Pa()?Fa():(t=t.parent,Jn(t,!1));const n=t;Xe.lFrame.elementDepthCount--;const s=At();s.firstCreatePass&&(ss(s,t),Sa(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&bh(s,n,Ce(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&bh(s,n,Ce(),n.stylesWithoutHost,!1)}function kv(t,n,s,a){Mm(t,n,s,a),Fv()}function Lv(t,n,s){const a=Ce(),c=At(),p=t+20,_=c.firstCreatePass?function(t,n,s,a,c){const p=n.consts,_=ns(p,a),y=al(n,t,8,"ng-container",_);return null!==_&&Xg(y,_,!0),ih(n,s,y,ns(p,c)),null!==n.queries&&n.queries.elementStart(n,y),y}(p,c,a,n,s):c.data[p];Jn(_,!0);const y=a[p]=a[11].createComment("");ut(c,a,y,_),bn(y,a),Ol(_)&&(la(c,a,_),Ly(c,_,a)),null!=s&&ws(a,_)}function Vv(){let t=tn();const n=At();Pa()?Fa():(t=t.parent,Jn(t,!1)),n.firstCreatePass&&(ss(n,t),Sa(t)&&n.queries.elementEnd(t))}function bE(){return Ce()}function Bv(t){return!!t&&"function"==typeof t.then}function CE(t){return!!t&&"function"==typeof t.subscribe}const Uv=CE;function Ch(t,n,s,a){const c=Ce(),p=At(),_=tn();return function(t,n,s,a,c,p,_,y){const C=Ol(a),S=t.firstCreatePass&&uh(t),R=n[8],N=Zy(n);let U=!0;if(3&a.type||y){const X=Pr(a,n),Ae=y?y(X):X,me=N.length,qe=y?ot=>y(qt(ot[a.index])):a.index;if(Jt(s)){let ot=null;if(!y&&C&&(ot=function(t,n,s,a){const c=t.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const _=c[p];if(_===s&&c[p+1]===a){const y=n[7],C=c[p+2];return y.length>C?y[C]:null}"string"==typeof _&&(p+=2)}return null}(t,n,c,a.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=p,ot.__ngLastListenerFn__=p,U=!1;else{p=Im(a,n,R,p,!1);const Ot=s.listen(Ae,c,p);N.push(p,Ot),S&&S.push(c,qe,me,me+1)}}else p=Im(a,n,R,p,!0),Ae.addEventListener(c,p,_),N.push(p),S&&S.push(c,qe,me,_)}else p=Im(a,n,R,p,!1);const W=a.outputs;let ue;if(U&&null!==W&&(ue=W[c])){const X=ue.length;if(X)for(let Ae=0;Ae<X;Ae+=2){const nr=n[ue[Ae]][ue[Ae+1]].subscribe(p),Bs=N.length;N.push(p,nr),S&&S.push(c,a.index,Bs,-(Bs+1))}}}(p,c,c[11],_,t,n,!!s,a),Ch}function Gv(t,n,s,a){try{return!1!==s(a)}catch(c){return Jg(t,c),!1}}function Im(t,n,s,a,c){return function p(_){if(_===Function)return a;const y=2&t.flags?or(t.index,n):n;0==(32&n[2])&&Zg(y);let C=Gv(n,0,a,_),D=p.__ngNextListenerFn__;for(;D;)C=Gv(n,0,D,_)&&C,D=D.__ngNextListenerFn__;return c&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function $v(t=1){return function(t){return(Xe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,Xe.lFrame.contextLView))[8]}(t)}function wE(t,n){let s=null;const a=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let c=0;c<n.length;c++){const p=n[c];if("*"!==p){if(null===a?Dy(t,p,!0):Ty(a,p))return c}else s=c}return s}function xm(t){const n=Ce()[16][6];if(!n.projection){const a=n.projection=fs(t?t.length:1,null),c=a.slice();let p=n.child;for(;null!==p;){const _=t?wE(p,t):0;null!==_&&(c[_]?c[_].projectionNext=p:a[_]=p,c[_]=p),p=p.next}}}function Rm(t,n=0,s){const a=Ce(),c=At(),p=al(c,20+t,16,null,s||null);null===p.projection&&(p.projection=n),Fa(),64!=(64&p.flags)&&function(t,n,s){vy(n[11],0,n,s,v(t,s,n),ge(s.parent||n[6],s,n))}(c,a,p)}function SE(t,n,s,a,c){const p=t[s+1],_=null===n;let y=a?Bi(p):_o(p),C=!1;for(;0!==y&&(!1===C||_);){const S=t[y+1];tS(t[y],n)&&(C=!0,t[y+1]=a?Kf(S):xg(S)),y=a?Bi(S):_o(S)}C&&(t[s+1]=a?xg(p):Kf(p))}function tS(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Oi(t,n)>=0}function yd(t,n){return function(t,n,s,a){const c=Ce(),p=At(),_=function(t){const n=Xe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);p.firstUpdatePass&&function(t,n,s,a){const c=t.data;if(null===c[s+1]){const p=c[An()],_=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(p,a)&&null===n&&!_&&(n=!1),n=function(t,n,s,a){const c=function(t){const n=Xe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(s=_l(s=vd(null,t,n,s,a),n.attrs,a),p=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(s=vd(c,t,n,s,a),null===p){let C=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==_o(a))return t[Bi(a)]}(t,n,a);void 0!==C&&Array.isArray(C)&&(C=vd(null,t,n,C[1],a),C=_l(C,n.attrs,a),function(t,n,s,a){t[Bi(s?n.classBindings:n.styleBindings)]=a}(t,n,a,C))}else p=function(t,n,s){let a;const c=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<c;p++)a=_l(a,t[p].hostAttrs,s);return _l(a,n.attrs,s)}(t,n,a)}return void 0!==p&&(a?n.residualClasses=p:n.residualStyles=p),s}(c,p,n,a),function(t,n,s,a,c,p){let _=p?n.classBindings:n.styleBindings,y=Bi(_),C=_o(_);t[a]=s;let S,D=!1;if(Array.isArray(s)){const R=s;S=R[1],(null===S||Oi(R,S)>0)&&(D=!0)}else S=s;if(c)if(0!==C){const N=Bi(t[y+1]);t[a+1]=Zf(N,y),0!==N&&(t[N+1]=Rg(t[N+1],a)),t[y+1]=function(t,n){return 131071&t|n<<17}(t[y+1],a)}else t[a+1]=Zf(y,0),0!==y&&(t[y+1]=Rg(t[y+1],a)),y=a;else t[a+1]=Zf(C,0),0===y?y=a:t[C+1]=Rg(t[C+1],a),C=a;D&&(t[a+1]=xg(t[a+1])),SE(t,S,a,!0),SE(t,S,a,!1),function(t,n,s,a,c){const p=c?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&Oi(p,n)>=0&&(s[a+1]=Kf(s[a+1]))}(n,S,t,a,p),_=Zf(y,C),p?n.classBindings=_:n.styleBindings=_}(c,p,n,s,_,a)}}(p,t,_,a),n!==ct&&mr(c,_,n)&&function(t,n,s,a,c,p,_,y){if(!(3&n.type))return;const C=t.data,D=C[y+1];Hu(function(t){return 1==(1&t)}(D)?xE(C,n,s,c,_o(D),_):void 0)||(Hu(p)||function(t){return 2==(2&t)}(D)&&(p=xE(C,null,s,c,y,_)),function(t,n,s,a,c){const p=Jt(t);if(n)c?p?t.addClass(s,a):s.classList.add(a):p?t.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:ni.DashCase;if(null==c)p?t.removeStyle(s,a,_):s.style.removeProperty(a);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),_|=ni.Important),p?t.setStyle(s,a,c,_):s.style.setProperty(a,c,y?"important":"")}}}(a,_,Po(An(),s),c,p))}(p,p.data[An()],c,c[11],t,c[_+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=re(ki(t)))),t}(n,s),a,_)}(t,n,null,!0),yd}function vd(t,n,s,a,c){let p=null;const _=s.directiveEnd;let y=s.directiveStylingLast;for(-1===y?y=s.directiveStart:y++;y<_&&(p=n[y],a=_l(a,p.hostAttrs,c),p!==t);)y++;return null!==t&&(s.directiveStylingLast=y),a}function _l(t,n,s){const a=s?1:2;let c=-1;if(null!==n)for(let p=0;p<n.length;p++){const _=n[p];"number"==typeof _?c=_:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xn(t,_,!!s||n[++p]))}return void 0===t?null:t}function xE(t,n,s,a,c,p){const _=null===n;let y;for(;c>0;){const C=t[c],D=Array.isArray(C),S=D?C[1]:C,R=null===S;let N=s[c+1];N===ct&&(N=R?j:void 0);let U=R?Ri(N,a):S===a?N:void 0;if(D&&!Hu(U)&&(U=Ri(C,a)),Hu(U)&&(y=U,_))return y;const W=t[c+1];c=_?Bi(W):_o(W)}if(null!==n){let C=p?n.residualClasses:n.residualStyles;null!=C&&(y=Ri(C,a))}return y}function Hu(t){return void 0!==t}function RE(t,n=""){const s=Ce(),a=At(),c=t+20,p=a.firstCreatePass?al(a,c,1,n,null):a.data[c],_=s[c]=function(t,n){return Jt(t)?t.createText(n):t.createTextNode(n)}(s[11],n);ut(a,s,_,p),Jn(p,!1)}function Dh(t){return Th("",t,""),Dh}function Th(t,n,s){const a=Ce(),c=function(t,n,s,a){return mr(t,fi(),s)?n+Te(s)+a:ct}(a,t,n,s);return c!==ct&&Ci(a,An(),c),Th}function kh(t,n,s){const a=Ce();return mr(a,fi(),n)&&Ur(At(),ln(),a,t,n,a[11],s,!0),kh}const xs=void 0;var Qm=["en",[["a","p"],["AM","PM"],xs],[["AM","PM"],xs,xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xs,"{1} 'at' {0}",xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Wu={};function Lh(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Cd(n);if(s)return s;const a=n.split("-")[0];if(s=Cd(a),s)return s;if("en"===a)return Qm;throw new Error(`Missing locale data for the locale "${t}".`)}function Vh(t){return Lh(t)[tt.PluralCase]}function Cd(t){return t in Wu||(Wu[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),Wu[t]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const Ed="en-US";let fb=Ed;function Km(t){Ge(t,"Expected localeId to be defined"),"string"==typeof t&&(fb=t.toLowerCase().replace(/_/g,"-"))}function Kh(t,n,s,a,c){if(t=P(t),Array.isArray(t))for(let p=0;p<t.length;p++)Kh(t[p],n,s,a,c);else{const p=At(),_=Ce();let y=dl(t)?t:P(t.provide),C=wu(t);const D=tn(),S=1048575&D.providerIndexes,R=D.directiveStart,N=D.providerIndexes>>20;if(dl(t)||!t.multi){const U=new ko(C,c,Uu),W=Jh(y,n,c?S:S+N,R);-1===W?(Vo(Lo(D,_),p,y),i_(p,t,n.length),n.push(y),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(U),_.push(U)):(s[W]=U,_[W]=U)}else{const U=Jh(y,n,S+N,R),W=Jh(y,n,S,S+N),ue=U>=0&&s[U],X=W>=0&&s[W];if(c&&!X||!c&&!ue){Vo(Lo(D,_),p,y);const Ae=function(t,n,s,a,c){const p=new ko(t,s,Uu);return p.multi=[],p.index=n,p.componentProviders=0,Vb(p,c,a&&!s),p}(c?Bb:s_,s.length,c,a,C);!c&&X&&(s[W].providerFactory=Ae),i_(p,t,n.length,0),n.push(y),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(Ae),_.push(Ae)}else i_(p,t,U>-1?U:W,Vb(s[c?W:U],C,!c&&a));!c&&a&&X&&s[W].componentProviders++}}}function i_(t,n,s,a){const c=dl(n);if(c||function(t){return!!t.useClass}(n)){const _=(n.useClass||n).prototype.ngOnDestroy;if(_){const y=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const C=y.indexOf(s);-1===C?y.push(s,[a,_]):y[C+1].push(a,_)}else y.push(s,_)}}}function Vb(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Jh(t,n,s,a){for(let c=s;c<a;c++)if(n[c]===t)return c;return-1}function s_(t,n,s,a){return Qu(this.multi,[])}function Bb(t,n,s,a){const c=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=Bo(s,s[1],this.providerFactory.index,a);p=y.slice(0,_),Qu(c,p);for(let C=_;C<y.length;C++)p.push(y[C])}else p=[],Qu(c,p);return p}function Qu(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Ub(t,n=[]){return s=>{s.providersResolver=(a,c)=>function(t,n,s){const a=At();if(a.firstCreatePass){const c=ui(t);Kh(s,a.data,a.blueprint,c,!0),Kh(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class jb{}const Hb="ngComponent";class Gb{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return n[Hb]=t,n}(n)}}class va{}function Xh(...t){}function xd(t,n){return new $i(Pr(t,n))}va.NULL=new Gb;const ow=function(){return xd(tn(),Ce())};let $i=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=ow,t})();function zb(t){return t instanceof $i?t.nativeElement:t}class ep{}let Yb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>lw(),t})();const lw=function(){const t=Ce(),s=or(tn().index,t);return function(t){return t[11]}(Xt(s)?s:t)};let u_=(()=>{class t{}return t.\u0275prov=xt({token:t,providedIn:"root",factory:()=>null}),t})();class Zb{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const c_=new Zb("12.2.1");class Qb{constructor(){}supports(n){return hd(n)}create(n){return new bl(n)}}const cw=(t,n)=>n;class bl{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||cw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,p=null;for(;s||a;){const _=!a||s&&s.currentIndex<dw(a,c,p)?s:a,y=dw(_,c,p),C=_.currentIndex;if(_===a)c--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)c++;else{p||(p=[]);const D=y-c,S=C-c;if(D!=S){for(let N=0;N<D;N++){const U=N<p.length?p[N]:p[N]=0,W=U+N;S<=W&&W<D&&(p[N]=U+1)}p[_.previousIndex]=S-D}}y!==C&&n(_,y,C)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!hd(n))throw new Error(`Error trying to diff '${re(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,p,_,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)p=n[y],_=this._trackByFn(y,p),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,p,_,y)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,_,y),a=!0),s=s._next}else c=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Tu()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,y=>{_=this._trackByFn(c,y),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,y,_,c)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,_,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,p,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,p,c)):n=this._addAfter(new Kb(s,a),p,c),n}_verifyReinsertion(n,s,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?n=this._reinsertAfter(p,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,p=n._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new d_),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Kb{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jb{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class d_{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Jb,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class fw{constructor(){}supports(n){return n instanceof Map||vm(n)}create(){return new vS}}class vS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||vm(n)))throw new Error(`Error trying to diff '${re(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const p=c._prev,_=c._next;return p&&(p._next=_),_&&(_._prev=p),c._next=null,c._prev=null,c}const a=new bS(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class bS{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hw(){return new f_([new Qb])}let f_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hw()),deps:[[t,new gi,new pi]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=xt({token:t,providedIn:"root",factory:hw}),t})();function gw(){return new h_([new fw])}let h_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||gw()),deps:[[t,new gi,new pi]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=xt({token:t,providedIn:"root",factory:gw}),t})();function p_(t,n,s,a,c=!1){for(;null!==s;){const p=n[s.index];if(null!==p&&a.push(qt(p)),Nr(p))for(let y=10;y<p.length;y++){const C=p[y],D=C[1].firstChild;null!==D&&p_(C[1],C,D,a)}const _=s.type;if(8&_)p_(t,n,s.child,a);else if(32&_){const y=go(s,n);let C;for(;C=y();)a.push(C)}else if(16&_){const y=pr(n,s);if(Array.isArray(y))a.push(...y);else{const C=yi(n[16]);p_(C[1],C,y,a,!0)}}s=c?s.projectionNext:s.next}return a}class np{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return p_(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Nr(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(ra(n,a),ds(s,a))}this._attachedToViewContainer=!1}u(this._lView[1],this._lView)}onDestroy(n){Vg(this._lView[1],this._lView,null,n)}markForCheck(){Zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){Ii(!0);try{Kg(t,n,s)}finally{Ii(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,il(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class CS extends np{constructor(n){super(n),this._view=n}detectChanges(){Yy(this._view)}checkNoChanges(){!function(t){Ii(!0);try{Yy(t)}finally{Ii(!1)}}(this._view)}get context(){return null}}const DS=function(t){return function(t,n,s){if(Yn(t)&&!s){const a=or(t.index,n);return new np(a,a)}return 47&t.type?new np(n[16],n):null}(tn(),Ce(),16==(16&t))};let TS=(()=>{class t{}return t.__NG_ELEMENT_ID__=DS,t})();const MS=[new fw],xS=new f_([new Qb]),RS=new h_(MS),NS=function(){return g_(tn(),Ce())};let rp=(()=>{class t{}return t.__NG_ELEMENT_ID__=NS,t})();const PS=rp,FS=class extends PS{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=aa(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(a[19]=p.createEmbeddedView(s)),sd(s,a,n),new np(a)}};function g_(t,n){return 4&t.type?new FS(n,t,xd(t,n)):null}class Ku{}class mw{}const VS=function(){return vw(tn(),Ce())};let m_=(()=>{class t{}return t.__NG_ELEMENT_ID__=VS,t})();const US=m_,_w=class extends US{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return xd(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const n=nn(this._hostTNode,this._hostLView);if(Hl(n)){const s=ja(n,this._hostLView),a=Ks(n);return new Uo(s[1].data[a+8],s)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=yw(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,p){const _=a||this.parentInjector;if(!p&&null==n.ngModule&&_){const C=_.get(Ku,null);C&&(p=C)}const y=n.create(_,c,void 0,p);return this.insert(y.hostView,s),y}insert(n,s){const a=n._lView,c=a[1];if(Nr(a[3])){const S=this.indexOf(n);if(-1!==S)this.detach(S);else{const R=a[3],N=new _w(R,R[6],R[3]);N.detach(N.indexOf(n))}}const p=this._adjustIndex(s),_=this._lContainer;!function(t,n,s,a){const c=10+a,p=s.length;a>0&&(s[c-1][4]=n),a<p-10?(n[4]=s[c],cs(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const _=n[17];null!==_&&s!==_&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(_,n);const y=n[19];null!==y&&y.insertView(t),n[2]|=128}(c,a,_,p);const y=ia(p,_),C=a[11],D=B(C,_[7]);return null!==D&&function(t,n,s,a,c,p){a[0]=c,a[6]=n,il(t,a,s,1,c,p)}(c,_[6],C,a,D,y),n.attachToViewContainerRef(),cs(Xb(_),p,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=yw(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=ra(this._lContainer,s);a&&(ds(Xb(this._lContainer),s),u(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=ra(this._lContainer,s);return a&&null!=ds(Xb(this._lContainer),s)?new np(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function yw(t){return t[8]}function Xb(t){return t[8]||(t[8]=[])}function vw(t,n){let s;const a=n[t.index];if(Nr(a))s=a;else{let c;if(8&t.type)c=qt(a);else{const p=n[11];c=p.createComment("");const _=Pr(t,n);T(p,B(p,_),c,function(t,n){return Jt(t)?t.nextSibling(n):n.nextSibling}(p,_),!1)}n[t.index]=s=od(a,n,c,t),ul(n,s)}return new _w(s,t,n)}const Fd={};class w_ extends va{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Wn(n);return new bC(s,this.ngModule)}}function _C(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const yC=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mu});class bC extends jb{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(Sy).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _C(this.componentDef.inputs)}get outputs(){return _C(this.componentDef.outputs)}create(n,s,a,c){const p=(c=c||this.ngModule)?function(t,n){return{get:(s,a,c)=>{const p=t.get(s,Fd,c);return p!==Fd||a===Fd?p:n.get(s,a,c)}}}(n,c.injector):n,_=p.get(ep,rt),y=p.get(u_,null),C=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=a?function(t,n,s){if(Jt(t))return t.selectRootElement(n,s===Le.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(C,a,this.componentDef.encapsulation):_u(_.createRenderer(null,this.componentDef),D,function(t){const n=t.toLowerCase();return"svg"===n?Gt:"math"===n?"http://www.w3.org/1998/MathML/":null}(D)),R=this.componentDef.onPush?576:528,N=function(t,n){return{components:[],scheduler:t||mu,clean:xT,playerHandler:n||null,flags:0}}(),U=Gn(0,null,null,1,0,null,null,null,null,null),W=aa(null,U,N,R,null,null,_,C,y,p);let ue,X;Qs(W);try{const Ae=function(t,n,s,a,c,p){const _=s[1];s[20]=t;const C=al(_,20,2,"#host",null),D=C.mergedAttrs=n.hostAttrs;null!==D&&(Xg(C,D,!0),null!==t&&(vc(c,t,D),null!==C.classes&&Mg(c,t,C.classes),null!==C.styles&&by(c,t,C.styles)));const S=a.createRenderer(t,n),R=aa(s,kg(n),null,n.onPush?64:16,s[20],C,a,S,p||null,null);return _.firstCreatePass&&(Vo(Lo(C,s),_,n.type),Wg(_,C),Yg(C,s.length,1)),ul(s,R),s[20]=R}(S,this.componentDef,W,_,C);if(S)if(a)vc(C,S,["ng-version",c_.full]);else{const{attrs:me,classes:qe}=function(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===c?""!==p&&n.push(p,t[++a]):8===c&&s.push(p);else{if(!vi(c))break;c=p}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);me&&vc(C,S,me),qe&&qe.length>0&&Mg(C,S,qe.join(" "))}if(X=es(U,20),void 0!==s){const me=X.projection=[];for(let qe=0;qe<this.ngContentSelectors.length;qe++){const ot=s[qe];me.push(null!=ot?Array.from(ot):null)}}ue=function(t,n,s,a,c){const p=s[1],_=function(t,n,s){const a=tn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),qg(t,a,n,gr(t,n,1,null),s));const c=Bo(n,t,a.directiveStart,a);bn(c,n);const p=Pr(a,n);return p&&bn(p,n),c}(p,s,n);if(a.components.push(_),t[8]=_,c&&c.forEach(C=>C(_,n)),n.contentQueries){const C=tn();n.contentQueries(1,_,C.directiveStart)}const y=tn();return!p.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(qr(y.index),jg(s[1],y,0,y.directiveStart,y.directiveEnd,n),$g(n,_)),_}(Ae,this.componentDef,W,N,[iE]),sd(U,W,null)}finally{xi()}return new zw(this.componentType,ue,xd(X,W),W,X)}}class zw extends class{}{constructor(n,s,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new CS(c),this.componentType=n}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const wl=new Map;class Yw extends Ku{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const a=Or(n),c=n[Ke]||null;c&&Km(c),this._bootstrapComponents=Cr(a.bootstrap),this._r3Injector=bo(n,s,[{provide:Ku,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],re(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Zt.THROW_IF_NOT_FOUND,a=ke.Default){return n===Zt||n===Ku||n===Ts?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dp extends mw{constructor(n){super(),this.moduleType=n,null!==Or(n)&&function(t){const n=new Set;!function s(a){const c=Or(a,!0),p=c.id;null!==p&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${re(n)} vs ${re(n.name)}`)}(p,wl.get(p),a),wl.set(p,a));const _=Cr(c.imports);for(const y of _)n.has(y)||(n.add(y),s(y))}(t)}(n)}create(n){return new Yw(this.moduleType,n)}}function SC(t,n,s,a,c){return function(t,n,s,a,c,p,_){const y=n+s;return function(t,n,s,a){const c=mr(t,n,s);return mr(t,n+1,a)||c}(t,y,c,p)?function(t,n,s){return t[n]=s}(t,y+2,_?a.call(_,c,p):a(c,p)):function(t,n){const s=t[n];return s===ct?void 0:s}(t,y+2)}(Ce(),function(){const t=Xe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),t,n,s,a,c)}function S_(t){return n=>{setTimeout(t,void 0,n)}}const Ns=class extends d.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,p,_;let y=n,C=s||(()=>null),D=a;if(n&&"object"==typeof n){const R=n;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),C=null===(p=R.error)||void 0===p?void 0:p.bind(R),D=null===(_=R.complete)||void 0===_?void 0:_.bind(R)}this.__isAsync&&(C=S_(C),y&&(y=S_(y)),D&&(D=S_(D)));const S=super.subscribe({next:y,error:C,complete:D});return n instanceof le.w&&n.add(S),S}};function sD(){return this._results[Tu()]()}class pp{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Tu(),a=pp.prototype;a[s]||(a[s]=sD)}get changes(){return this._changes||(this._changes=new Ns)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=Vn(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],p=n[a];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xC{constructor(n){this.queryList=n,this.matches=null}clone(){return new xC(this.queryList)}setDirty(){this.queryList.setDirty()}}class RC{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let p=0;p<a;p++){const _=s.getByIndex(p);c.push(this.queries[_.indexInDeclarationView].clone())}return new RC(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==M_(n,s).matches&&this.queries[s].setDirty()}}class lD{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class OC{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(n,c);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new OC(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class NC{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new NC(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(n,s,RA(s,p)),this.matchTNodeWithReadOption(n,s,un(s,n,p,!1,!1))}else a===rp?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,un(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===$i||c===m_||c===rp&&4&s.type)this.addMatch(s.index,-2);else{const p=un(s,n,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function RA(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function NA(t,n,s,a){return-1===s?function(t,n){return 11&t.type?xd(t,n):4&t.type?g_(t,n):null}(n,t):-2===s?function(t,n,s){return s===$i?xd(n,t):s===rp?g_(n,t):s===m_?vw(n,t):void 0}(t,n,a):Bo(t,t[1],s,n)}function PC(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const p=t.data,_=s.matches,y=[];for(let C=0;C<_.length;C+=2){const D=_[C];y.push(D<0?null:NA(n,p[D],_[C+1],s.metadata.read))}c.matches=y}return c.matches}function FC(t,n,s,a){const c=t.queries.getByIndex(s),p=c.matches;if(null!==p){const _=PC(t,n,c,s);for(let y=0;y<p.length;y+=2){const C=p[y];if(C>0)a.push(_[y/2]);else{const D=p[y+1],S=n[-C];for(let R=10;R<S.length;R++){const N=S[R];N[17]===N[3]&&FC(N[1],N,D,a)}if(null!==S[9]){const R=S[9];for(let N=0;N<R.length;N++){const U=R[N];FC(U[1],U,D,a)}}}}}return a}function uD(t){const n=Ce(),s=At(),a=Vl();Zs(a+1);const c=M_(s,a);if(t.dirty&&Kd(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const p=c.crossesNgTemplate?FC(s,n,a,[]):PC(s,n,c,a);t.reset(p,zb),t.notifyOnChanges()}return!0}return!1}function kC(t,n,s){const a=At();a.firstCreatePass&&(BC(a,new lD(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),Ps(a,Ce(),n)}function LC(t,n,s,a){const c=At();if(c.firstCreatePass){const p=tn();BC(c,new lD(n,s,a),p.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}Ps(c,Ce(),s)}function A_(){return t=Ce(),n=Vl(),t[19].queries[n].queryList;var t,n}function Ps(t,n,s){const a=new pp(4==(4&s));Vg(t,n,a,a.destroy),null===n[19]&&(n[19]=new RC),n[19].queries.push(new xC(a))}function BC(t,n,s){null===t.queries&&(t.queries=new OC),t.queries.track(new NC(n,s))}function M_(t,n){return t.queries.getByIndex(n)}function I_(t,n){return g_(t,n)}const L_=new pn("Application Initializer");let ic=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Xh,this.reject=Xh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Bv(p))s.push(p);else if(Uv(p)){const _=new Promise((y,C)=>{p.subscribe({complete:y,error:C})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)($t(L_,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const qC=new pn("AppId"),PD={provide:qC,useFactory:function(){return`${V_()}${V_()}${V_()}`},deps:[]};function V_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZC=new pn("Platform Initializer"),QC=new pn("Platform ID"),KC=new pn("appBootstrapListener");let JC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const Fs=new pn("LocaleId"),Tr=new pn("DefaultCurrencyCode");class uM{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const U_=function(t){return new dp(t)},j_=U_,kD=function(t){return Promise.resolve(U_(t))},XC=function(t){const n=U_(t),a=Cr(Or(t).declarations).reduce((c,p)=>{const _=Wn(p);return _&&c.push(new bC(_)),c},[]);return new uM(n,a)},LD=XC,VD=function(t){return Promise.resolve(XC(t))};let Bd=(()=>{class t{constructor(){this.compileModuleSync=j_,this.compileModuleAsync=kD,this.compileModuleAndAllComponentsSync=LD,this.compileModuleAndAllComponentsAsync=VD}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const jD=(()=>Promise.resolve(0))();function H_(t){"undefined"==typeof Zone?jD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class si{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let t=jt.requestAnimationFrame,n=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wp(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,p,_,y)=>{try{return zD(t),s.invokeTask(c,p,_,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),e0(t)}},onInvoke:(s,a,c,p,_,y,C)=>{try{return zD(t),s.invoke(c,p,_,y,C)}finally{t.shouldCoalesceRunChangeDetection&&n(),e0(t)}},onHasTask:(s,a,c,p)=>{s.hasTask(c,p),a===c&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,wp(t),G_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,c,p)=>(s.handleError(c,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!si.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(si.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+c,n,GD,Xh,Xh);try{return p.runTask(_,s,a)}finally{p.cancelTask(_)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const GD={};function G_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function e0(t){t._nesting--,G_(t)}class t0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let YD=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{si.assertNotInAngularZone(),H_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())H_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)($t(si))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),qD=(()=>{class t{constructor(){this._applications=new Map,Dp.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Dp.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class mM{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function ZD(t){Dp=t}let Dp=new mM,QD=!0,$_=!1;function W_(){return $_=!0,QD}function n0(){if($_)throw new Error("Cannot enable prod mode after platform setup.");QD=!1}let ks;const eT=new pn("AllowMultipleToken");class tT{constructor(n,s){this.name=n,this.token=s}}function i(t,n,s=[]){const a=`Platform: ${n}`,c=new pn(a);return(p=[])=>{let _=o();if(!_||_.injector.get(eT,!1))if(t)t(s.concat(p).concat({provide:c,useValue:!0}));else{const y=s.concat(p).concat({provide:c,useValue:!0},{provide:cl,useValue:"platform"});!function(t){if(ks&&!ks.destroyed&&!ks.injector.get(eT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ks=t.get(f);const n=t.get(ZC,null);n&&n.forEach(s=>s())}(Zt.create({providers:y,name:a}))}return function(t){const n=o();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(c)}}function o(){return ks&&!ks.destroyed?ks:null}let f=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const y=function(t,n){let s;return s="noop"===t?new t0:("zone.js"===t?void 0:t)||new si({enableLongStackTrace:W_(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:si,useValue:y}];return y.run(()=>{const D=Zt.create({providers:C,parent:this.injector,name:s.moduleType.name}),S=s.create(D),R=S.injector.get(bs,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:U=>{R.handleError(U)}});S.onDestroy(()=>{F(this._modules,S),N.unsubscribe()})}),function(t,n,s){try{const a=s();return Bv(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(R,y,()=>{const N=S.injector.get(ic);return N.runInitializers(),N.donePromise.then(()=>(Km(S.injector.get(Fs,Ed)||Ed),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,a=[]){const c=w({},a);return function(t,n,s){const a=new dp(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const a=s.injector.get(M);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${re(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)($t(Zt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function w(t,n){return Array.isArray(n)?n.reduce(w,t):Object.assign(Object.assign({},t),n)}let M=(()=>{class t{constructor(s,a,c,p,_){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new I.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new I.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{si.assertNotInAngularZone(),H_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=(0,q.T)(y,C.pipe((0,he.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof jb?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const p=function(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Ku),y=c.create(Zt.NULL,[],a||c.selector,p),C=y.location.nativeElement,D=y.injector.get(YD,null),S=D&&y.injector.get(qD);return D&&S&&S.registerApplication(C,D),y.onDestroy(()=>{this.detachView(y.hostView),F(this.components,y),S&&S.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;F(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(KC,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)($t(si),$t(Zt),$t(bs),$t(va),$t(ic))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function F(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class ye{}class Et{}const Bt={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ft=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||Bt}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,c]=s.split("#");return void 0===c&&(c="default"),L(8255)(a).then(p=>p[c]).then(p=>Sr(p,a,c)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(s){let[a,c]=s.split("#"),p="NgFactory";return void 0===c&&(c="default",p=""),L(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(_=>_[c+p]).then(_=>Sr(_,a,c))}}return t.\u0275fac=function(s){return new(s||t)($t(Bd),$t(Et,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function Sr(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const sI=function(t){return null},aI=i(null,"core",[{provide:QC,useValue:"unknown"},{provide:f,deps:[Zt]},{provide:qD,deps:[]},{provide:JC,deps:[]}]),fI=[{provide:M,useClass:M,deps:[si,Zt,bs,va,ic]},{provide:yC,deps:[si],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:ic,useClass:ic,deps:[[new pi,L_]]},{provide:Bd,useClass:Bd,deps:[]},PD,{provide:f_,useFactory:function(){return xS},deps:[]},{provide:h_,useFactory:function(){return RS},deps:[]},{provide:Fs,useFactory:function(t){return Km(t=t||"undefined"!=typeof $localize&&$localize.locale||Ed),t},deps:[[new oo(Fs),new pi,new gi]]},{provide:Tr,useValue:"USD"}];let pI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)($t(M))},t.\u0275mod=lc({type:t}),t.\u0275inj=sn({providers:fI}),t})()},57:(je,Ee,L)=>{"use strict";L.d(Ee,{hO:()=>Ut,xv:()=>Re,Dh:()=>ve,HU:()=>z,GT:()=>_e,sI:()=>Wt,on:()=>Oe,ss:()=>P,pX:()=>ce,yq:()=>nt});var d=L(7771),le=L(3637),I=L(3342),q=L(3101),he=L(6136),Q=L(7716),de=L(2329);function re(){}je=L.hmd(je);class K{constructor(oe,ae=d.N){this.zone=oe,this.delegate=ae}now(){return this.delegate.now()}schedule(oe,ae,ne){const be=this.zone;return this.delegate.schedule(function(Ze){be.runGuarded(()=>{oe.apply(this,[Ze])})},ae,ne)}}class V{constructor(oe){this.zone=oe,this.task=null}call(oe,ae){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",re,{},re,re)),ae.pipe((0,I.b)({next:ne,complete:ne,error:ne})).subscribe(oe).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class z{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new K(Zone.current)),this.insideAngular=oe.run(()=>new K(Zone.current,le.z))}}function P(ie){return function(ae){return(ae=ae.lift(new V(ie.ngZone))).pipe((0,q.R)(ie.outsideAngular),(0,he.QV)(ie.insideAngular))}}const G=["ngOnDestroy"],ce=(ie,oe,ae,ne={})=>new Proxy(ie,{get:(be,se)=>ae.runOutsideAngular(()=>{var Ze;if(ie[se])return(null===(Ze=null==ne?void 0:ne.spy)||void 0===Ze?void 0:Ze.get)&&ne.spy.get(se,ie[se]),ie[se];if(G.indexOf(se)>-1)return()=>{};const Qe=oe.toPromise().then(zt=>{const We=zt&&zt[se];return"function"==typeof We?We.bind(zt):We&&We.then?We.then(Ge=>ae.run(()=>Ge)):ae.run(()=>We)});return new Proxy(()=>{},{get:(zt,We)=>Qe[We],apply:(zt,We,Ge)=>Qe.then(Pe=>{var Ve;const ht=Pe&&Pe(...Ge);return(null===(Ve=null==ne?void 0:ne.spy)||void 0===Ve?void 0:Ve.apply)&&ne.spy.apply(se,Ge,ht),ht})})})}),_e=(ie,oe)=>{oe.forEach(ae=>{Object.getOwnPropertyNames(ae.prototype||ae).forEach(ne=>{Object.defineProperty(ie.prototype,ne,Object.getOwnPropertyDescriptor(ae.prototype||ae,ne))})})},ve=new Q.OlP("angularfire2.app.options"),Re=new Q.OlP("angularfire2.app.nameOrConfig"),Se=new Q.GfV("6.1.5");function Oe(ie,oe,ae){const be="object"==typeof ae&&ae||{};be.name=be.name||"string"==typeof ae&&ae||"[DEFAULT]";const Ze=de.Z.apps.filter(Qe=>Qe&&Qe.name===be.name)[0]||oe.runOutsideAngular(()=>de.Z.initializeApp(ie,be));try{JSON.stringify(ie)!==JSON.stringify(Ze.options)&&Me("error",`${Ze.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return Ze}const nt=()=>{Me("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Me=(ie,...oe)=>{(0,Q.X6Q)()&&"undefined"!=typeof console&&console[ie](...oe)};function Wt(ie,oe,ae,ne,be){const[se,...Ze]=globalThis.\u0275AngularfireInstanceCache.get(ie)||[];if(se){try{be.some((Qe,zt)=>{const We=Ze[zt];return Qe&&"object"==typeof Qe?JSON.stringify(Qe)!==JSON.stringify(We):Qe!==We})&&Me("error",`${oe} was already initialized on the ${ae.name} Firebase App instance with different settings.${je.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Qe){}return se}{const Qe=ne();return globalThis.\u0275AngularfireInstanceCache.set(ie,[Qe,...be]),Qe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Rt={provide:class{},useFactory:Oe,deps:[ve,Q.R0b,[new Q.FiY,Re]]};let Ut=(()=>{class ie{constructor(ae){de.Z.registerVersion("angularfire",Se.full,ae.toString()),de.Z.registerVersion("angular",Q.q4F.full)}static initializeApp(ae,ne){return{ngModule:ie,providers:[{provide:ve,useValue:ae},{provide:Re,useValue:ne}]}}}return ie.\u0275fac=function(ae){return new(ae||ie)(Q.LFG(Q.Lbi))},ie.\u0275mod=Q.oAB({type:ie}),ie.\u0275inj=Q.cJS({providers:[Rt]}),ie})()},9759:(je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>Ge});var he,Me,d=L(4762),le=L(4685),I=L(6034),q=L(300),Q=((he={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",he["bad-app-name"]="Illegal App name: '{$appName}",he["duplicate-app"]="Firebase App named '{$appName}' already exists",he["app-deleted"]="Firebase App named '{$appName}' already deleted",he["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",he["invalid-log-argument"]="First argument to `onLog` must be null or a function.",he),de=new le.LL("app","Firebase",Q),re="@firebase/app",Nt="[DEFAULT]",Wt=((Me={})[re]="fire-core",Me["@firebase/analytics"]="fire-analytics",Me["@firebase/app-check"]="fire-app-check",Me["@firebase/auth"]="fire-auth",Me["@firebase/database"]="fire-rtdb",Me["@firebase/functions"]="fire-fn",Me["@firebase/installations"]="fire-iid",Me["@firebase/messaging"]="fire-fcm",Me["@firebase/performance"]="fire-perf",Me["@firebase/remote-config"]="fire-rc",Me["@firebase/storage"]="fire-gcs",Me["@firebase/firestore"]="fire-fst",Me["fire-js"]="fire-js",Me["firebase-wrapper"]="fire-js-all",Me),Rt=new q.Yd("@firebase/app"),Ut=function(){function Pe(Ve,ht,Yt){var xt=this;this.firebase_=Yt,this.isDeleted_=!1,this.name_=ht.name,this.automaticDataCollectionEnabled_=ht.automaticDataCollectionEnabled||!1,this.options_=(0,le.p$)(Ve),this.container=new I.H0(ht.name),this._addComponent(new I.wA("app",function(){return xt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Mr){return xt._addComponent(Mr)})}return Object.defineProperty(Pe.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ve){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ve},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Pe.prototype.delete=function(){var Ve=this;return new Promise(function(ht){Ve.checkDestroyed_(),ht()}).then(function(){return Ve.firebase_.INTERNAL.removeApp(Ve.name_),Promise.all(Ve.container.getProviders().map(function(ht){return ht.delete()}))}).then(function(){Ve.isDeleted_=!0})},Pe.prototype._getService=function(Ve,ht){var Yt;void 0===ht&&(ht=Nt),this.checkDestroyed_();var xt=this.container.getProvider(Ve);return!xt.isInitialized()&&"EXPLICIT"===(null===(Yt=xt.getComponent())||void 0===Yt?void 0:Yt.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:ht})},Pe.prototype._removeServiceInstance=function(Ve,ht){void 0===ht&&(ht=Nt),this.container.getProvider(Ve).clearInstance(ht)},Pe.prototype._addComponent=function(Ve){try{this.container.addComponent(Ve)}catch(ht){Rt.debug("Component "+Ve.name+" failed to register with FirebaseApp "+this.name,ht)}},Pe.prototype._addOrOverwriteComponent=function(Ve){this.container.addOrOverwriteComponent(Ve)},Pe.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Pe.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},Pe}();Ut.prototype.name&&Ut.prototype.options||Ut.prototype.delete||console.log("dc");var ne=function ae(){var Pe=function(Pe){var Ve={},ht=new Map,Yt={__esModule:!0,initializeApp:function(Mt,gt){void 0===gt&&(gt={}),("object"!=typeof gt||null===gt)&&(gt={name:gt});var kn=gt;void 0===kn.name&&(kn.name=Nt);var ke=kn.name;if("string"!=typeof ke||!ke)throw de.create("bad-app-name",{appName:String(ke)});if((0,le.r3)(Ve,ke))throw de.create("duplicate-app",{appName:ke});var Kt=new Pe(Mt,kn,Yt);return Ve[ke]=Kt,Kt},app:Mr,registerVersion:function(Mt,gt,Fn){var kn,ke=null!==(kn=Wt[Mt])&&void 0!==kn?kn:Mt;Fn&&(ke+="-"+Fn);var Kt=ke.match(/\s|\//),yn=gt.match(/\s|\//);if(Kt||yn){var hn=['Unable to register library "'+ke+'" with version "'+gt+'":'];return Kt&&hn.push('library name "'+ke+'" contains illegal characters (whitespace or "/")'),Kt&&yn&&hn.push("and"),yn&&hn.push('version name "'+gt+'" contains illegal characters (whitespace or "/")'),void Rt.warn(hn.join(" "))}$r(new I.wA(ke+"-version",function(){return{library:ke,version:gt}},"VERSION"))},setLogLevel:q.Ub,onLog:function(Mt,gt){if(null!==Mt&&"function"!=typeof Mt)throw de.create("invalid-log-argument");(0,q.Am)(Mt,gt)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:$r,removeApp:function(Mt){delete Ve[Mt]},components:ht,useAsService:function(Mt,gt){return"serverAuth"===gt?null:gt}}};function Mr(Mt){if(!(0,le.r3)(Ve,Mt=Mt||Nt))throw de.create("no-app",{appName:Mt});return Ve[Mt]}function $r(Mt){var gt=Mt.name;if(ht.has(gt))return Rt.debug("There were multiple attempts to register component "+gt+"."),"PUBLIC"===Mt.type?Yt[gt]:null;if(ht.set(gt,Mt),"PUBLIC"===Mt.type){var Fn=function(yn){if(void 0===yn&&(yn=Mr()),"function"!=typeof yn[gt])throw de.create("invalid-app-argument",{appName:gt});return yn[gt]()};void 0!==Mt.serviceProps&&(0,le.ZB)(Fn,Mt.serviceProps),Yt[gt]=Fn,Pe.prototype[gt]=function(){for(var yn=[],hn=0;hn<arguments.length;hn++)yn[hn]=arguments[hn];return this._getService.bind(this,gt).apply(this,Mt.multipleInstances?yn:[])}}for(var kn=0,ke=Object.keys(Ve);kn<ke.length;kn++)Ve[ke[kn]]._addComponent(Mt);return"PUBLIC"===Mt.type?Yt[gt]:null}return Yt.default=Yt,Object.defineProperty(Yt,"apps",{get:function(){return Object.keys(Ve).map(function(Mt){return Ve[Mt]})}}),Mr.App=Pe,Yt}(Ut);return Pe.INTERNAL=(0,d.pi)((0,d.pi)({},Pe.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function(ht){(0,le.ZB)(Pe,ht)},createSubscribe:le.ne,ErrorFactory:le.LL,deepExtend:le.ZB}),Pe}(),be=function(){function Pe(Ve){this.container=Ve}return Pe.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ht){if(function(Pe){var Ve=Pe.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(ht)){var Yt=ht.getImmediate();return Yt.library+"/"+Yt.version}return null}).filter(function(ht){return ht}).join(" ")},Pe}();if((0,le.jU)()&&void 0!==self.firebase){Rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&Rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zt=ne.initializeApp;ne.initializeApp=function(){for(var Pe=[],Ve=0;Ve<arguments.length;Ve++)Pe[Ve]=arguments[Ve];return(0,le.UG)()&&Rt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),zt.apply(void 0,Pe)};var Pe,We=ne;(Pe=We).INTERNAL.registerComponent(new I.wA("platform-logger",function(ht){return new be(ht)},"PRIVATE")),Pe.registerVersion(re,"0.6.29",undefined),Pe.registerVersion("fire-js","");const Ge=We},6034:(je,Ee,L)=>{"use strict";L.d(Ee,{wA:()=>I,H0:()=>re,zt:()=>he});var d=L(4762),le=L(4685),I=function(){function K(V,z,P){this.name=V,this.instanceFactory=z,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},K.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},K.prototype.setServiceProps=function(V){return this.serviceProps=V,this},K.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},K}(),q="[DEFAULT]",he=function(){function K(V,z){this.name=V,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(V){var z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(z)){var P=new le.BH;if(this.instancesDeferred.set(z,P),this.isInitialized(z)||this.shouldAutoInitialize())try{var G=this.getOrInitializeService({instanceIdentifier:z});G&&P.resolve(G)}catch(ce){}}return this.instancesDeferred.get(z).promise},K.prototype.getImmediate=function(V){var z,P=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),G=null!==(z=null==V?void 0:V.optional)&&void 0!==z&&z;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(G)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(ce){if(G)return null;throw ce}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(V){var z,P;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:q})}catch(Oe){}try{for(var G=(0,d.XA)(this.instancesDeferred.entries()),ce=G.next();!ce.done;ce=G.next()){var _e=(0,d.CR)(ce.value,2),Re=_e[1],Te=this.normalizeInstanceIdentifier(_e[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:Te});Re.resolve(Se)}catch(Oe){}}}catch(Oe){z={error:Oe}}finally{try{ce&&!ce.done&&(P=G.return)&&P.call(G)}finally{if(z)throw z.error}}}},K.prototype.clearInstance=function(V){void 0===V&&(V=q),this.instancesDeferred.delete(V),this.instances.delete(V)},K.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var V;return(0,d.Jh)(this,function(z){switch(z.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(V.filter(function(P){return"INTERNAL"in P}).map(function(P){return P.INTERNAL.delete()}))),(0,d.CR)(V.filter(function(P){return"_delete"in P}).map(function(P){return P._delete()}))))];case 1:return z.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(V){return void 0===V&&(V=q),this.instances.has(V)},K.prototype.initialize=function(V){var z,P;void 0===V&&(V={});var G=V.options,ce=void 0===G?{}:G,_e=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(_e))throw Error(this.name+"("+_e+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ve=this.getOrInitializeService({instanceIdentifier:_e,options:ce});try{for(var Re=(0,d.XA)(this.instancesDeferred.entries()),Te=Re.next();!Te.done;Te=Re.next()){var Se=(0,d.CR)(Te.value,2),nt=Se[1];_e===this.normalizeInstanceIdentifier(Se[0])&&nt.resolve(ve)}}catch(Nt){z={error:Nt}}finally{try{Te&&!Te.done&&(P=Re.return)&&P.call(Re)}finally{if(z)throw z.error}}return ve},K.prototype.onInit=function(V,z){var P,G=this.normalizeInstanceIdentifier(z),ce=null!==(P=this.onInitCallbacks.get(G))&&void 0!==P?P:new Set;ce.add(V),this.onInitCallbacks.set(G,ce);var _e=this.instances.get(G);return _e&&V(_e,G),function(){ce.delete(V)}},K.prototype.invokeOnInitCallbacks=function(V,z){var P,G,ce=this.onInitCallbacks.get(z);if(ce)try{for(var _e=(0,d.XA)(ce),ve=_e.next();!ve.done;ve=_e.next()){var Re=ve.value;try{Re(V,z)}catch(Te){}}}catch(Te){P={error:Te}}finally{try{ve&&!ve.done&&(G=_e.return)&&G.call(_e)}finally{if(P)throw P.error}}},K.prototype.getOrInitializeService=function(V){var z=V.instanceIdentifier,P=V.options,G=void 0===P?{}:P,ce=this.instances.get(z);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:Q(z),options:G}),this.instances.set(z,ce),this.invokeOnInitCallbacks(ce,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ce)}catch(_e){}return ce||null},K.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=q),this.component?this.component.multipleInstances?V:q:V},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function Q(K){return K===q?void 0:K}var re=function(){function K(V){this.name=V,this.providers=new Map}return K.prototype.addComponent=function(V){var z=this.getProvider(V.name);if(z.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);z.setComponent(V)},K.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},K.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var z=new he(V,this);return this.providers.set(V,z),z},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},9192:(je,Ee,L)=>{"use strict";var d=L(9759),le=L(6034),I=L(4685),q=L(4762),he=L(300);je=L.hmd(je);var re="";function K(u){re=u}var u,V=function(){function u(l){this.domStorage_=l,this.prefix_="firebase:"}return u.prototype.set=function(l,h){null==h?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,I.Pz)(h))},u.prototype.get=function(l){var h=this.domStorage_.getItem(this.prefixedName_(l));return null==h?null:(0,I.cI)(h)},u.prototype.remove=function(l){this.domStorage_.removeItem(this.prefixedName_(l))},u.prototype.prefixedName_=function(l){return this.prefix_+l},u.prototype.toString=function(){return this.domStorage_.toString()},u}(),z=function(){function u(){this.cache_={},this.isInMemoryStorage=!0}return u.prototype.set=function(l,h){null==h?delete this.cache_[l]:this.cache_[l]=h},u.prototype.get=function(l){return(0,I.r3)(this.cache_,l)?this.cache_[l]:null},u.prototype.remove=function(l){delete this.cache_[l]},u}(),P=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){var l=window[u];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new V(l)}}catch(h){}return new z},G=P("localStorage"),ce=P("sessionStorage"),_e=new he.Yd("@firebase/database"),ve=(u=1,function(){return u++}),Re=function(u){var l=(0,I.dS)(u),h=new I.gQ;h.update(l);var g=h.digest();return I.US.encodeByteArray(g)},Te=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var h="",g=0;g<u.length;g++){var v=u[g];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?h+=Te.apply(null,v):h+="object"==typeof v?(0,I.Pz)(v):v,h+=" "}return h},Se=null,Oe=!0,nt=function(u,l){(0,I.hu)(!l||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(_e.logLevel=he.in.VERBOSE,Se=_e.log.bind(_e),l&&ce.set("logging_enabled",!0)):"function"==typeof u?Se=u:(Se=null,ce.remove("logging_enabled"))},Me=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];if(!0===Oe&&(Oe=!1,null===Se&&!0===ce.get("logging_enabled")&&nt(!0)),Se){var h=Te.apply(null,u);Se(h)}},Nt=function(u){return function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];Me.apply(void 0,(0,q.ev)([u],(0,q.CR)(l)))}},Wt=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var h="FIREBASE INTERNAL ERROR: "+Te.apply(void 0,(0,q.ev)([],(0,q.CR)(u)));_e.error(h)},Rt=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var h="FIREBASE FATAL ERROR: "+Te.apply(void 0,(0,q.ev)([],(0,q.CR)(u)));throw _e.error(h),new Error(h)},Ut=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var h="FIREBASE WARNING: "+Te.apply(void 0,(0,q.ev)([],(0,q.CR)(u)));_e.warn(h)},oe=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},ne="[MIN_NAME]",be="[MAX_NAME]",se=function(u,l){if(u===l)return 0;if(u===ne||l===be)return-1;if(l===ne||u===be)return 1;var h=Nn(u),g=Nn(l);return null!==h?null!==g?h-g==0?u.length-l.length:h-g:-1:null!==g?1:u<l?-1:1},Ze=function(u,l){return u===l?0:u<l?-1:1},Qe=function(u,l){if(l&&u in l)return l[u];throw new Error("Missing required key ("+u+") in object: "+(0,I.Pz)(l))},zt=function(u){if("object"!=typeof u||null===u)return(0,I.Pz)(u);var l=[];for(var h in u)l.push(h);l.sort();for(var g="{",v=0;v<l.length;v++)0!==v&&(g+=","),g+=(0,I.Pz)(l[v]),g+=":",g+=zt(u[l[v]]);return g+"}"},We=function(u,l){var h=u.length;if(h<=l)return[u];for(var g=[],v=0;v<h;v+=l)g.push(u.substring(v,v+l>h?h:v+l));return g};function Ge(u,l){for(var h in u)u.hasOwnProperty(h)&&l(h,u[h])}var Pe=function(u){(0,I.hu)(!oe(u),"Invalid JSON number");var v,E,T,x,O,g=1023;0===u?(E=0,T=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-g)?(E=(x=Math.min(Math.floor(Math.log(u)/Math.LN2),g))+g,T=Math.round(u*Math.pow(2,52-x)-Math.pow(2,52))):(E=0,T=Math.round(u/Math.pow(2,-1074))));var k=[];for(O=52;O;O-=1)k.push(T%2?1:0),T=Math.floor(T/2);for(O=11;O;O-=1)k.push(E%2?1:0),E=Math.floor(E/2);k.push(v?1:0),k.reverse();var B=k.join(""),te="";for(O=0;O<64;O+=8){var ge=parseInt(B.substr(O,8),2).toString(16);1===ge.length&&(ge="0"+ge),te+=ge}return te.toLowerCase()},xt=new RegExp("^-?(0*)\\d{1,10}$"),Mr=-2147483648,sn=2147483647,Nn=function(u){if(xt.test(u)){var l=Number(u);if(l>=Mr&&l<=sn)return l}return null},$r=function(u){try{u()}catch(l){setTimeout(function(){throw Ut("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Zi=function(u,l){var h=setTimeout(u,l);return"object"==typeof h&&h.unref&&h.unref(),h},Da=function(){function u(l,h){var g=this;this.appName_=l,this.appCheckProvider=h,this.appCheck=null==h?void 0:h.getImmediate({optional:!0}),this.appCheck||null==h||h.get().then(function(v){return g.appCheck=v})}return u.prototype.getToken=function(l){var h=this;return this.appCheck?this.appCheck.getToken(l):new Promise(function(g,v){setTimeout(function(){h.appCheck?h.getToken(l).then(g,v):g(null)},0)})},u.prototype.addTokenChangeListener=function(l){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(function(g){return g.addTokenListener(l)})},u.prototype.notifyForInvalidToken=function(){Ut('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},u}(),Mt=function(){function u(l,h,g){var v=this;this.appName_=l,this.firebaseOptions_=h,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.onInit(function(E){return v.auth_=E})}return u.prototype.getToken=function(l){var h=this;return this.auth_?this.auth_.getToken(l).catch(function(g){return g&&"auth/token-not-initialized"===g.code?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)}):new Promise(function(g,v){setTimeout(function(){h.auth_?h.getToken(l).then(g,v):g(null)},0)})},u.prototype.addTokenChangeListener=function(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(function(h){return h.addAuthTokenListener(l)})},u.prototype.removeTokenChangeListener=function(l){this.authProvider_.get().then(function(h){return h.removeAuthTokenListener(l)})},u.prototype.notifyForInvalidToken=function(){var l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Ut(l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},u}(),gt=function(){function u(l){this.accessToken=l}return u.prototype.getToken=function(l){return Promise.resolve({accessToken:this.accessToken})},u.prototype.addTokenChangeListener=function(l){l(this.accessToken)},u.prototype.removeTokenChangeListener=function(l){},u.prototype.notifyForInvalidToken=function(){},u.OWNER="owner",u}(),hn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dn="websocket",oc="long_polling",on=function(){function u(l,h,g,v,E,T,x){void 0===E&&(E=!1),void 0===T&&(T=""),void 0===x&&(x=!1),this.secure=h,this.namespace=g,this.webSocketOnly=v,this.nodeAdmin=E,this.persistenceKey=T,this.includeNamespaceInQueryParams=x,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=G.get("host:"+l)||this._host}return u.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},u.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(u.prototype,"host",{get:function(){return this._host},set:function(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&G.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),u.prototype.toString=function(){var l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l},u.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},u}();function at(u,l,h){var g;if((0,I.hu)("string"==typeof l,"typeof type must == string"),(0,I.hu)("object"==typeof h,"typeof params must == object"),l===Dn)g=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(l!==oc)throw new Error("Unknown connection type: "+l);g=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(h.ns=u.namespace);var v=[];return Ge(h,function(E,T){v.push(E+"="+T)}),g+v.join("&")}var ac=function(){function u(){this.counters_={}}return u.prototype.incrementCounter=function(l,h){void 0===h&&(h=1),(0,I.r3)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=h},u.prototype.get=function(){return(0,I.p$)(this.counters_)},u}(),Qi={},xr={};function jt(u){var l=u.toString();return Qi[l]||(Qi[l]=new ac),Qi[l]}var Hd=function(){function u(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return u.prototype.closeAfter=function(l,h){this.closeAfterResponse=l,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},u.prototype.handleResponse=function(l,h){var g=this;this.pendingResponses[l]=h;for(var v=function(){var x=E.pendingResponses[E.currentResponseNum];delete E.pendingResponses[E.currentResponseNum];for(var O=function(B){x[B]&&$r(function(){g.onMessage_(x[B])})},k=0;k<x.length;++k)O(k);if(E.currentResponseNum===E.closeAfterResponse)return E.onClose&&(E.onClose(),E.onClose=null),"break";E.currentResponseNum++},E=this;this.pendingResponses[this.currentResponseNum]&&"break"!==v(););},u}(),H="start",j="close",xl=function(){function u(l,h,g,v,E,T,x){var O=this;this.connId=l,this.repoInfo=h,this.applicationId=g,this.appCheckToken=v,this.authToken=E,this.transportSessionId=T,this.lastSessionId=x,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nt(l),this.stats_=jt(h),this.urlFn=function(k){return O.appCheckToken&&(k.ac=O.appCheckToken),at(h,oc,k)}}return u.prototype.open=function(l,h){var g=this;this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new Hd(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){g.log_("Timed out trying to connect."),g.onClosed_(),g.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,I.Yr)()||"complete"===document.readyState)u();else{var l=!1,h=function(){document.body?l||(l=!0,u()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(function(){if(!g.isClosed_){g.scriptTagHolder=new uc(function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];var O=(0,q.CR)(T,5),k=O[0],B=O[1],te=O[2];if(g.incrementIncomingBytes_(T),g.scriptTagHolder)if(g.connectTimeoutTimer_&&(clearTimeout(g.connectTimeoutTimer_),g.connectTimeoutTimer_=null),g.everConnected_=!0,k===H)g.id=B,g.password=te;else{if(k!==j)throw new Error("Unrecognized command received: "+k);B?(g.scriptTagHolder.sendNewPolls=!1,g.myPacketOrderer.closeAfter(B,function(){g.onClosed_()})):g.onClosed_()}},function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];var O=(0,q.CR)(T,2),k=O[0],B=O[1];g.incrementIncomingBytes_(T),g.myPacketOrderer.handleResponse(k,B)},function(){g.onClosed_()},g.urlFn);var v={start:"t"};v.ser=Math.floor(1e8*Math.random()),g.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=g.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",g.transportSessionId&&(v.s=g.transportSessionId),g.lastSessionId&&(v.ls=g.lastSessionId),g.applicationId&&(v.p=g.applicationId),g.appCheckToken&&(v.ac=g.appCheckToken),"undefined"!=typeof location&&location.hostname&&hn.test(location.hostname)&&(v.r="f");var E=g.urlFn(v);g.log_("Connecting via long-poll to "+E),g.scriptTagHolder.addTag(E,function(){})}})},u.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},u.forceAllow=function(){u.forceAllow_=!0},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){return!((0,I.Yr)()||!u.forceAllow_&&(u.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},u.prototype.markConnectionHealthy=function(){},u.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},u.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},u.prototype.send=function(l){var h=(0,I.Pz)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);for(var g=(0,I.h$)(h),v=We(g,1840),E=0;E<v.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[E]),this.curSegmentNum++},u.prototype.addDisconnectPingFrame=function(l,h){if(!(0,I.Yr)()){this.myDisconnFrame=document.createElement("iframe");var g={dframe:"t"};g.id=l,g.pw=h,this.myDisconnFrame.src=this.urlFn(g),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},u.prototype.incrementIncomingBytes_=function(l){var h=(0,I.Pz)(l).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)},u}(),uc=function(){function u(l,h,g,v){if(this.onDisconnect=g,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.Yr)())this.commandCB=l,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=ve(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=u.createIFrame_();var E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(E='<script>document.domain="'+document.domain+'";<\/script>');var x="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(O){Me("frame writing exception"),O.stack&&Me(O.stack),Me(O)}}}return u.createIFrame_=function(){var l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||Me("No IE domain setting required")}catch(v){var g=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+g+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l},u.prototype.close=function(){var l=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==l.myIFrame&&(document.body.removeChild(l.myIFrame),l.myIFrame=null)},Math.floor(0)));var h=this.onDisconnect;h&&(this.onDisconnect=null,h())},u.prototype.startLongPoll=function(l,h){for(this.myID=l,this.myPW=h,this.alive=!0;this.newRequest_(););},u.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;for(var h=this.urlFn(l),g="",v=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+g.length<=1870;){var T=this.pendingSegs.shift();g=g+"&seg"+v+"="+T.seg+"&ts"+v+"="+T.ts+"&d"+v+"="+T.d,v++}return this.addLongPollTag_(h+=g,this.currentSerial),!0}return!1},u.prototype.enqueueSegment=function(l,h,g){this.pendingSegs.push({seg:l,ts:h,d:g}),this.alive&&this.newRequest_()},u.prototype.addLongPollTag_=function(l,h){var g=this;this.outstandingRequests.add(h);var v=function(){g.outstandingRequests.delete(h),g.newRequest_()},E=setTimeout(v,Math.floor(25e3));this.addTag(l,function(){clearTimeout(E),v()})},u.prototype.addTag=function(l,h){var g=this;(0,I.Yr)()?this.doNodeLongPoll(l,h):setTimeout(function(){try{if(!g.sendNewPolls)return;var v=g.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=l,v.onload=v.onreadystatechange=function(){var E=v.readyState;(!E||"loaded"===E||"complete"===E)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),h())},v.onerror=function(){Me("Long-poll script failed to load: "+l),g.sendNewPolls=!1,g.close()},g.myIFrame.doc.body.appendChild(v)}catch(E){}},Math.floor(1))},u}(),Kn=null;"undefined"!=typeof MozWebSocket?Kn=MozWebSocket:"undefined"!=typeof WebSocket&&(Kn=WebSocket);var Ln=function(){function u(l,h,g,v,E,T,x){this.connId=l,this.applicationId=g,this.appCheckToken=v,this.authToken=E,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nt(this.connId),this.stats_=jt(h),this.connURL=u.connectionURL_(h,T,x,v),this.nodeAdmin=h.nodeAdmin}return u.connectionURL_=function(l,h,g,v){var E={v:"5"};return!(0,I.Yr)()&&"undefined"!=typeof location&&location.hostname&&hn.test(location.hostname)&&(E.r="f"),h&&(E.s=h),g&&(E.ls=g),v&&(E.ac=v),at(l,Dn,E)},u.prototype.open=function(l,h){var g=this;this.onDisconnect=h,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,G.set("previous_websocket_failure",!0);try{if((0,I.Yr)()){var E={headers:{"User-Agent":"Firebase/5/"+re+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(E.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);var T=process.env,x=0===this.connURL.indexOf("wss://")?T.HTTPS_PROXY||T.https_proxy:T.HTTP_PROXY||T.http_proxy;x&&(E.proxy={origin:x}),this.mySock=new Kn(this.connURL,[],E)}else this.mySock=new Kn(this.connURL,[],E={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(k){this.log_("Error instantiating WebSocket.");var O=k.message||k.data;return O&&this.log_(O),void this.onClosed_()}this.mySock.onopen=function(){g.log_("Websocket connected."),g.everConnected_=!0},this.mySock.onclose=function(){g.log_("Websocket connection was disconnected."),g.mySock=null,g.onClosed_()},this.mySock.onmessage=function(k){g.handleIncomingFrame(k)},this.mySock.onerror=function(k){g.log_("WebSocket error.  Closing connection.");var B=k.message||k.data;B&&g.log_(B),g.onClosed_()}},u.prototype.start=function(){},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){var l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(l=!0)}return!l&&null!==Kn&&!u.forceDisallow_},u.previouslyFailed=function(){return G.isInMemoryStorage||!0===G.get("previous_websocket_failure")},u.prototype.markConnectionHealthy=function(){G.remove("previous_websocket_failure")},u.prototype.appendFrame_=function(l){if(this.frames.push(l),this.frames.length===this.totalFrames){var h=this.frames.join("");this.frames=null;var g=(0,I.cI)(h);this.onMessage(g)}},u.prototype.handleNewFrameCount_=function(l){this.totalFrames=l,this.frames=[]},u.prototype.extractFrameCount_=function(l){if((0,I.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){var h=Number(l);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),l},u.prototype.handleIncomingFrame=function(l){if(null!==this.mySock){var h=l.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{var g=this.extractFrameCount_(h);null!==g&&this.appendFrame_(g)}}},u.prototype.send=function(l){this.resetKeepAlive();var h=(0,I.Pz)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);var g=We(h,16384);g.length>1&&this.sendString_(String(g.length));for(var v=0;v<g.length;v++)this.sendString_(g[v])},u.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},u.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},u.prototype.resetKeepAlive=function(){var l=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){l.mySock&&l.sendString_("0"),l.resetKeepAlive()},Math.floor(45e3))},u.prototype.sendString_=function(l){try{this.mySock.send(l)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u}(),Or=function(){function u(l){this.initTransports_(l)}return Object.defineProperty(u,"ALL_TRANSPORTS",{get:function(){return[xl,Ln]},enumerable:!1,configurable:!0}),u.prototype.initTransports_=function(l){var h,g,v=Ln&&Ln.isAvailable(),E=v&&!Ln.previouslyFailed();if(l.webSocketOnly&&(v||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[Ln];else{var T=this.transports_=[];try{for(var x=(0,q.XA)(u.ALL_TRANSPORTS),O=x.next();!O.done;O=x.next()){var k=O.value;k&&k.isAvailable()&&T.push(k)}}catch(B){h={error:B}}finally{try{O&&!O.done&&(g=x.return)&&g.call(x)}finally{if(h)throw h.error}}}},u.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},u.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},u}(),Ki=function(){function u(l,h,g,v,E,T,x,O,k,B){this.id=l,this.repoInfo_=h,this.applicationId_=g,this.appCheckToken_=v,this.authToken_=E,this.onMessage_=T,this.onReady_=x,this.onDisconnect_=O,this.onKill_=k,this.lastSessionId=B,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nt("c:"+this.id+":"),this.transportManager_=new Or(h),this.log_("Connection created"),this.start_()}return u.prototype.start_=function(){var l=this,h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var g=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){l.conn_&&l.conn_.open(g,v)},Math.floor(0));var E=h.healthyTimeout||0;E>0&&(this.healthyTimeout_=Zi(function(){l.healthyTimeout_=null,l.isHealthy_||(l.conn_&&l.conn_.bytesReceived>102400?(l.log_("Connection exceeded healthy timeout but has received "+l.conn_.bytesReceived+" bytes.  Marking connection healthy."),l.isHealthy_=!0,l.conn_.markConnectionHealthy()):l.conn_&&l.conn_.bytesSent>10240?l.log_("Connection exceeded healthy timeout but has sent "+l.conn_.bytesSent+" bytes.  Leaving connection alive."):(l.log_("Closing unhealthy connection after timeout."),l.close()))},Math.floor(E)))},u.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},u.prototype.disconnReceiver_=function(l){var h=this;return function(g){l===h.conn_?h.onConnectionLost_(g):l===h.secondaryConn_?(h.log_("Secondary connection lost."),h.onSecondaryConnectionLost_()):h.log_("closing an old connection")}},u.prototype.connReceiver_=function(l){var h=this;return function(g){2!==h.state_&&(l===h.rx_?h.onPrimaryMessageReceived_(g):l===h.secondaryConn_?h.onSecondaryMessageReceived_(g):h.log_("message on old connection"))}},u.prototype.sendRequest=function(l){this.sendData_({t:"d",d:l})},u.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},u.prototype.onSecondaryControl_=function(l){if("t"in l){var h=l.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},u.prototype.onSecondaryMessageReceived_=function(l){var h=Qe("t",l),g=Qe("d",l);if("c"===h)this.onSecondaryControl_(g);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(g)}},u.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},u.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},u.prototype.onPrimaryMessageReceived_=function(l){var h=Qe("t",l),g=Qe("d",l);"c"===h?this.onControl_(g):"d"===h&&this.onDataMessage_(g)},u.prototype.onDataMessage_=function(l){this.onPrimaryResponse_(),this.onMessage_(l)},u.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},u.prototype.onControl_=function(l){var h=Qe("t",l);if("d"in l){var g=l.d;if("h"===h)this.onHandshake_(g);else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(g):"r"===h?this.onReset_(g):"e"===h?Wt("Server Error: "+g):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wt("Unknown control packet command: "+h)}},u.prototype.onHandshake_=function(l){var h=l.ts,g=l.v,v=l.h;this.sessionId=l.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==g&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())},u.prototype.tryStartUpgrade_=function(){var l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)},u.prototype.startUpgrade_=function(l){var h=this;this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;var g=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,v),Zi(function(){h.secondaryConn_&&(h.log_("Timed out trying to upgrade."),h.secondaryConn_.close())},Math.floor(6e4))},u.prototype.onReset_=function(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())},u.prototype.onConnectionEstablished_=function(l,h){var g=this;this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zi(function(){g.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},u.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},u.prototype.onSecondaryConnectionLost_=function(){var l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()},u.prototype.onConnectionLost_=function(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(G.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},u.prototype.onConnectionShutdown_=function(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()},u.prototype.sendData_=function(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)},u.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},u.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},u}(),Rl=function(){function u(){}return u.prototype.put=function(l,h,g,v){},u.prototype.merge=function(l,h,g,v){},u.prototype.refreshAuthToken=function(l){},u.prototype.refreshAppCheckToken=function(l){},u.prototype.onDisconnectPut=function(l,h,g){},u.prototype.onDisconnectMerge=function(l,h,g){},u.prototype.onDisconnectCancel=function(l,h){},u.prototype.reportStats=function(l){},u}(),Io=function(){function u(l){this.allowedEvents_=l,this.listeners_={},(0,I.hu)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}return u.prototype.trigger=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];if(Array.isArray(this.listeners_[l]))for(var v=(0,q.ev)([],(0,q.CR)(this.listeners_[l])),E=0;E<v.length;E++)v[E].callback.apply(v[E].context,h)},u.prototype.on=function(l,h,g){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:h,context:g});var v=this.getInitialEvent(l);v&&h.apply(g,v)},u.prototype.off=function(l,h,g){this.validateEventType_(l);for(var v=this.listeners_[l]||[],E=0;E<v.length;E++)if(v[E].callback===h&&(!g||g===v[E].context))return void v.splice(E,1)},u.prototype.validateEventType_=function(l){(0,I.hu)(this.allowedEvents_.find(function(h){return h===l}),"Unknown event: "+l)},u}(),zn=function(u){function l(){var h=u.call(this,["online"])||this;return h.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,I.uI)()&&(window.addEventListener("online",function(){h.online_||(h.online_=!0,h.trigger("online",!0))},!1),window.addEventListener("offline",function(){h.online_&&(h.online_=!1,h.trigger("online",!1))},!1)),h}return(0,q.ZT)(l,u),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(h){return(0,I.hu)("online"===h,"Unknown event type: "+h),[this.online_]},l.prototype.currentlyOnline=function(){return this.online_},l}(Io),mt=function(){function u(l,h){if(void 0===h){this.pieces_=l.split("/");for(var g=0,v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[g]=this.pieces_[v],g++);this.pieces_.length=g,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=h}return u.prototype.toString=function(){for(var l="",h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(l+="/"+this.pieces_[h]);return l||"/"},u}();function $e(){return new mt("")}function _t(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Xi(u){return u.pieces_.length-u.pieceNum_}function St(u){var l=u.pieceNum_;return l<u.pieces_.length&&l++,new mt(u.pieces_,l)}function Ta(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function li(u,l){return void 0===l&&(l=0),u.pieces_.slice(u.pieceNum_+l)}function Wr(u){if(u.pieceNum_>=u.pieces_.length)return null;for(var l=[],h=u.pieceNum_;h<u.pieces_.length-1;h++)l.push(u.pieces_[h]);return new mt(l,0)}function yt(u,l){for(var h=[],g=u.pieceNum_;g<u.pieces_.length;g++)h.push(u.pieces_[g]);if(l instanceof mt)for(g=l.pieceNum_;g<l.pieces_.length;g++)h.push(l.pieces_[g]);else{var v=l.split("/");for(g=0;g<v.length;g++)v[g].length>0&&h.push(v[g])}return new mt(h,0)}function Ct(u){return u.pieceNum_>=u.pieces_.length}function Xt(u,l){var h=_t(u),g=_t(l);if(null===h)return l;if(h===g)return Xt(St(u),St(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+u+")")}function Nr(u,l){for(var h=li(u,0),g=li(l,0),v=0;v<h.length&&v<g.length;v++){var E=se(h[v],g[v]);if(0!==E)return E}return h.length===g.length?0:h.length<g.length?-1:1}function Sa(u,l){if(Xi(u)!==Xi(l))return!1;for(var h=u.pieceNum_,g=l.pieceNum_;h<=u.pieces_.length;h++,g++)if(u.pieces_[h]!==l.pieces_[g])return!1;return!0}function Yn(u,l){var h=u.pieceNum_,g=l.pieceNum_;if(Xi(u)>Xi(l))return!1;for(;h<u.pieces_.length;){if(u.pieces_[h]!==l.pieces_[g])return!1;++h,++g}return!0}var Ol=function(l,h){this.errorPrefix_=h,this.parts_=li(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(var g=0;g<this.parts_.length;g++)this.byteLength_+=(0,I.ug)(this.parts_[g]);Pp(this)};function Pp(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$s(u))}function $s(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}var dc,fc,Fp=function(u){function l(){var g,v,h=u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(v="visibilitychange",g="hidden"):void 0!==document.mozHidden?(v="mozvisibilitychange",g="mozHidden"):void 0!==document.msHidden?(v="msvisibilitychange",g="msHidden"):void 0!==document.webkitHidden&&(v="webkitvisibilitychange",g="webkitHidden")),h.visible_=!0,v&&document.addEventListener(v,function(){var E=!document[g];E!==h.visible_&&(h.visible_=E,h.trigger("visible",E))},!1),h}return(0,q.ZT)(l,u),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(h){return(0,I.hu)("visible"===h,"Unknown event type: "+h),[this.visible_]},l}(Io),Nl=1e3,Ro=function(u){function l(h,g,v,E,T,x,O,k){var B=u.call(this)||this;if(B.repoInfo_=h,B.applicationId_=g,B.onDataUpdate_=v,B.onConnectStatus_=E,B.onServerInfoUpdate_=T,B.authTokenProvider_=x,B.appCheckTokenProvider_=O,B.authOverride_=k,B.id=l.nextPersistentConnectionId_++,B.log_=Nt("p:"+B.id+":"),B.interruptReasons_={},B.listens=new Map,B.outstandingPuts_=[],B.outstandingGets_=[],B.outstandingPutCount_=0,B.outstandingGetCount_=0,B.onDisconnectRequestQueue_=[],B.connected_=!1,B.reconnectDelay_=Nl,B.maxReconnectDelay_=3e5,B.securityDebugCallback_=null,B.lastSessionId=null,B.establishConnectionTimer_=null,B.visible_=!1,B.requestCBHash_={},B.requestNumber_=0,B.realtime_=null,B.authToken_=null,B.appCheckToken_=null,B.forceTokenRefresh_=!1,B.invalidAuthTokenCount_=0,B.invalidAppCheckTokenCount_=0,B.firstConnection_=!0,B.lastConnectionAttemptTime_=null,B.lastConnectionEstablishedTime_=null,k&&!(0,I.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Fp.getInstance().on("visible",B.onVisible_,B),-1===h.host.indexOf("fblocal")&&zn.getInstance().on("online",B.onOnline_,B),B}return(0,q.ZT)(l,u),l.prototype.sendRequest=function(h,g,v){var E=++this.requestNumber_,T={r:E,a:h,b:g};this.log_((0,I.Pz)(T)),(0,I.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(T),v&&(this.requestCBHash_[E]=v)},l.prototype.get=function(h){var g=this;this.initConnection_();var v=new I.BH,E={p:h._path.toString(),q:h._queryObject},T={action:"g",request:E,onComplete:function(O){var k=O.d;"ok"===O.s?(g.onDataUpdate_(E.p,k,!1,null),v.resolve(k)):v.reject(k)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;var x=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var O=g.outstandingGets_[x];void 0===O||T!==O||(delete g.outstandingGets_[x],g.outstandingGetCount_--,0===g.outstandingGetCount_&&(g.outstandingGets_=[]),g.log_("get "+x+" timed out on connection"),v.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(x),v.promise},l.prototype.listen=function(h,g,v,E){this.initConnection_();var T=h._queryIdentifier,x=h._path.toString();this.log_("Listen called for "+x+" "+T),this.listens.has(x)||this.listens.set(x,new Map),(0,I.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.hu)(!this.listens.get(x).has(T),"listen() called twice for same path/queryId.");var O={onComplete:E,hashFn:g,query:h,tag:v};this.listens.get(x).set(T,O),this.connected_&&this.sendListen_(O)},l.prototype.sendGet_=function(h){var g=this,v=this.outstandingGets_[h];this.sendRequest("g",v.request,function(E){delete g.outstandingGets_[h],g.outstandingGetCount_--,0===g.outstandingGetCount_&&(g.outstandingGets_=[]),v.onComplete&&v.onComplete(E)})},l.prototype.sendListen_=function(h){var g=this,v=h.query,E=v._path.toString(),T=v._queryIdentifier;this.log_("Listen on "+E+" for "+T);var x={p:E};h.tag&&(x.q=v._queryObject,x.t=h.tag),x.h=h.hashFn(),this.sendRequest("q",x,function(k){var B=k.d,te=k.s;l.warnOnListenWarnings_(B,v),(g.listens.get(E)&&g.listens.get(E).get(T))===h&&(g.log_("listen response",k),"ok"!==te&&g.removeListen_(E,T),h.onComplete&&h.onComplete(te,B))})},l.warnOnListenWarnings_=function(h,g){if(h&&"object"==typeof h&&(0,I.r3)(h,"w")){var v=(0,I.DV)(h,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){var E='".indexOn": "'+g._queryParams.getIndex().toString()+'"',T=g._path.toString();Ut("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+E+" at "+T+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(h)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(h){(h&&40===h.length||(0,I.GJ)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.refreshAppCheckToken=function(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},l.prototype.tryAuth=function(){var h=this;if(this.connected_&&this.authToken_){var g=this.authToken_,v=(0,I.w9)(g)?"auth":"gauth",E={cred:g};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(v,E,function(T){var x=T.s,O=T.d||"error";h.authToken_===g&&("ok"===x?h.invalidAuthTokenCount_=0:h.onAuthRevoked_(x,O))})}},l.prototype.tryAppCheck=function(){var h=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(g){var v=g.s,E=g.d||"error";"ok"===v?h.invalidAppCheckTokenCount_=0:h.onAppCheckRevoked_(v,E)})},l.prototype.unlisten=function(h,g){var v=h._path.toString(),E=h._queryIdentifier;this.log_("Unlisten called for "+v+" "+E),(0,I.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,E)&&this.connected_&&this.sendUnlisten_(v,E,h._queryObject,g)},l.prototype.sendUnlisten_=function(h,g,v,E){this.log_("Unlisten on "+h+" for "+g);var T={p:h};E&&(T.q=v,T.t=E),this.sendRequest("n",T)},l.prototype.onDisconnectPut=function(h,g,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,g,v):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:g,onComplete:v})},l.prototype.onDisconnectMerge=function(h,g,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,g,v):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:g,onComplete:v})},l.prototype.onDisconnectCancel=function(h,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,g):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:g})},l.prototype.sendOnDisconnect_=function(h,g,v,E){var T={p:g,d:v};this.log_("onDisconnect "+h,T),this.sendRequest(h,T,function(x){E&&setTimeout(function(){E(x.s,x.d)},Math.floor(0))})},l.prototype.put=function(h,g,v,E){this.putInternal("p",h,g,v,E)},l.prototype.merge=function(h,g,v,E){this.putInternal("m",h,g,v,E)},l.prototype.putInternal=function(h,g,v,E,T){this.initConnection_();var x={p:g,d:v};void 0!==T&&(x.h=T),this.outstandingPuts_.push({action:h,request:x,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+g)},l.prototype.sendPut_=function(h){var g=this,v=this.outstandingPuts_[h].action,E=this.outstandingPuts_[h].request,T=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(v,E,function(x){g.log_(v+" response",x),delete g.outstandingPuts_[h],g.outstandingPutCount_--,0===g.outstandingPutCount_&&(g.outstandingPuts_=[]),T&&T(x.s,x.d)})},l.prototype.reportStats=function(h){var g=this;if(this.connected_){var v={c:h};this.log_("reportStats",v),this.sendRequest("s",v,function(E){"ok"!==E.s&&g.log_("reportStats","Error sending stats: "+E.d)})}},l.prototype.onDataMessage_=function(h){if("r"in h){this.log_("from server: "+(0,I.Pz)(h));var g=h.r,v=this.requestCBHash_[g];v&&(delete this.requestCBHash_[g],v(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}},l.prototype.onDataPush_=function(h,g){this.log_("handleServerMessage",h,g),"d"===h?this.onDataUpdate_(g.p,g.d,!1,g.t):"m"===h?this.onDataUpdate_(g.p,g.d,!0,g.t):"c"===h?this.onListenRevoked_(g.p,g.q):"ac"===h?this.onAuthRevoked_(g.s,g.d):"apc"===h?this.onAppCheckRevoked_(g.s,g.d):"sd"===h?this.onSecurityDebugPacket_(g):Wt("Unrecognized action received from server: "+(0,I.Pz)(h)+"\nAre you using the latest client?")},l.prototype.onReady_=function(h,g){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=g,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(h){var g=this;(0,I.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){g.establishConnectionTimer_=null,g.establishConnection_()},Math.floor(h))},l.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},l.prototype.onVisible_=function(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=h},l.prototype.onOnline_=function(h){h?(this.log_("Browser went online."),this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var g=(new Date).getTime()-this.lastConnectionAttemptTime_,v=Math.max(0,this.reconnectDelay_-g);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){return(0,q.mG)(this,void 0,void 0,function(){var h,g,v,E,T,x,O,k,te,ge,we,xe,et,He=this;return(0,q.Jh)(this,function(ut){switch(ut.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,h=this.onDataMessage_.bind(this),g=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),E=this.id+":"+l.nextConnectionId_++,T=this.lastSessionId,x=!1,O=null,this.realtime_={close:k=function(){O?O.close():(x=!0,v())},sendRequest:function(rn){(0,I.hu)(O,"sendRequest call when we're not connected not allowed."),O.sendRequest(rn)}},te=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,ut.label=1;case 1:return ut.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(te),this.appCheckTokenProvider_.getToken(te)])];case 2:return ge=q.CR.apply(void 0,[ut.sent(),2]),we=ge[0],xe=ge[1],x?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=we&&we.accessToken,this.appCheckToken_=xe&&xe.token,O=new Ki(E,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,h,g,v,function(rn){Ut(rn+" ("+He.repoInfo_.toString()+")"),He.interrupt("server_kill")},T)),[3,4];case 3:return et=ut.sent(),this.log_("Failed to get token: "+et),x||(this.repoInfo_.nodeAdmin&&Ut(et),k()),[3,4];case 4:return[2]}})})},l.prototype.interrupt=function(h){Me("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(h){Me("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,I.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Nl,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(h){var g=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:g})},l.prototype.cancelSentTransactions_=function(){for(var h=0;h<this.outstandingPuts_.length;h++){var g=this.outstandingPuts_[h];g&&"h"in g.request&&g.queued&&(g.onComplete&&g.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(h,g){var v;v=g?g.map(function(T){return zt(T)}).join("$"):"default";var E=this.removeListen_(h,v);E&&E.onComplete&&E.onComplete("permission_denied")},l.prototype.removeListen_=function(h,g){var E,v=new mt(h).toString();if(this.listens.has(v)){var T=this.listens.get(v);E=T.get(g),T.delete(g),0===T.size&&this.listens.delete(v)}else E=void 0;return E},l.prototype.onAuthRevoked_=function(h,g){Me("Auth token revoked: "+h+"/"+g),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onAppCheckRevoked_=function(h,g){Me("App check token revoked: "+h+"/"+g),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},l.prototype.onSecurityDebugPacket_=function(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var h,g,v,E;this.tryAuth(),this.tryAppCheck();try{for(var T=(0,q.XA)(this.listens.values()),x=T.next();!x.done;x=T.next()){var O=x.value;try{for(var k=(v=void 0,(0,q.XA)(O.values())),B=k.next();!B.done;B=k.next())this.sendListen_(B.value)}catch(xe){v={error:xe}}finally{try{B&&!B.done&&(E=k.return)&&E.call(k)}finally{if(v)throw v.error}}}}catch(xe){h={error:xe}}finally{try{x&&!x.done&&(g=T.return)&&g.call(T)}finally{if(h)throw h.error}}for(var ge=0;ge<this.outstandingPuts_.length;ge++)this.outstandingPuts_[ge]&&this.sendPut_(ge);for(;this.onDisconnectRequestQueue_.length;){var we=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(we.action,we.pathString,we.data,we.onComplete)}for(ge=0;ge<this.outstandingGets_.length;ge++)this.outstandingGets_[ge]&&this.sendGet_(ge)},l.prototype.sendConnectStats_=function(){var h={},g="js";(0,I.Yr)()&&(g=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+g+"."+re.replace(/\./g,"-")]=1,(0,I.uI)()?h["framework.cordova"]=1:(0,I.b$)()&&(h["framework.reactnative"]=1),this.reportStats(h)},l.prototype.shouldReconnect_=function(){var h=zn.getInstance().currentlyOnline();return(0,I.xb)(this.interruptReasons_)&&h},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Rl),It=function(){function u(l,h){this.name=l,this.node=h}return u.Wrap=function(l,h){return new u(l,h)},u}(),cc=function(){function u(){}return u.prototype.getCompare=function(){return this.compare.bind(this)},u.prototype.indexedValueChanged=function(l,h){var g=new It(ne,l),v=new It(ne,h);return 0!==this.compare(g,v)},u.prototype.minPost=function(){return It.MIN},u}(),Vp=function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),Object.defineProperty(l,"__EMPTY_NODE",{get:function(){return dc},set:function(h){dc=h},enumerable:!1,configurable:!0}),l.prototype.compare=function(h,g){return se(h.name,g.name)},l.prototype.isDefinedOn=function(h){throw(0,I.g5)("KeyIndex.isDefinedOn not expected to be called.")},l.prototype.indexedValueChanged=function(h,g){return!1},l.prototype.minPost=function(){return It.MIN},l.prototype.maxPost=function(){return new It(be,dc)},l.prototype.makePost=function(h,g){return(0,I.hu)("string"==typeof h,"KeyIndex indexValue must always be a string."),new It(h,dc)},l.prototype.toString=function(){return".key"},l}(cc),ci=new Vp,Aa=function(){function u(l,h,g,v,E){void 0===E&&(E=null),this.isReverse_=v,this.resultGenerator_=E,this.nodeStack_=[];for(var T=1;!l.isEmpty();)if(l=l,T=h?g(l.key,h):1,v&&(T*=-1),T<0)l=this.isReverse_?l.left:l.right;else{if(0===T){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}return u.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var h,l=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return h},u.prototype.hasNext=function(){return this.nodeStack_.length>0},u.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}},u}(),_r=function(){function u(l,h,g,v,E){this.key=l,this.value=h,this.color=null!=g?g:u.RED,this.left=null!=v?v:di.EMPTY_NODE,this.right=null!=E?E:di.EMPTY_NODE}return u.prototype.copy=function(l,h,g,v,E){return new u(null!=l?l:this.key,null!=h?h:this.value,null!=g?g:this.color,null!=v?v:this.left,null!=E?E:this.right)},u.prototype.count=function(){return this.left.count()+1+this.right.count()},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)},u.prototype.reverseTraversal=function(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)},u.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},u.prototype.minKey=function(){return this.min_().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(l,h,g){var v=this,E=g(l,v.key);return(v=E<0?v.copy(null,null,null,v.left.insert(l,h,g),null):0===E?v.copy(null,h,null,null,null):v.copy(null,null,null,null,v.right.insert(l,h,g))).fixUp_()},u.prototype.removeMin_=function(){if(this.left.isEmpty())return di.EMPTY_NODE;var l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),(l=l.copy(null,null,null,l.left.removeMin_(),null)).fixUp_()},u.prototype.remove=function(l,h){var g,v;if(h(l,(g=this).key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(l,h),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===h(l,g.key)){if(g.right.isEmpty())return di.EMPTY_NODE;v=g.right.min_(),g=g.copy(v.key,v.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(l,h))}return g.fixUp_()},u.prototype.isRed_=function(){return this.color},u.prototype.fixUp_=function(){var l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l},u.prototype.moveRedLeft_=function(){var l=this.colorFlip_();return l.right.left.isRed_()&&(l=(l=(l=l.copy(null,null,null,null,l.right.rotateRight_())).rotateLeft_()).colorFlip_()),l},u.prototype.moveRedRight_=function(){var l=this.colorFlip_();return l.left.left.isRed_()&&(l=(l=l.rotateRight_()).colorFlip_()),l},u.prototype.rotateLeft_=function(){var l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},u.prototype.rotateRight_=function(){var l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},u.prototype.colorFlip_=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},u.prototype.checkMaxDepth_=function(){var l=this.check_();return Math.pow(2,l)<=this.count()+1},u.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)},u.RED=!0,u.BLACK=!1,u}(),ry=function(){function u(){}return u.prototype.copy=function(l,h,g,v,E){return this},u.prototype.insert=function(l,h,g){return new _r(l,h,null)},u.prototype.remove=function(l,h){return this},u.prototype.count=function(){return 0},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(l){return!1},u.prototype.reverseTraversal=function(l){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.check_=function(){return 0},u.prototype.isRed_=function(){return!1},u}(),di=function(){function u(l,h){void 0===h&&(h=u.EMPTY_NODE),this.comparator_=l,this.root_=h}return u.prototype.insert=function(l,h){return new u(this.comparator_,this.root_.insert(l,h,this.comparator_).copy(null,null,_r.BLACK,null,null))},u.prototype.remove=function(l){return new u(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,_r.BLACK,null,null))},u.prototype.get=function(l){for(var h,g=this.root_;!g.isEmpty();){if(0===(h=this.comparator_(l,g.key)))return g.value;h<0?g=g.left:h>0&&(g=g.right)}return null},u.prototype.getPredecessorKey=function(l){for(var h,g=this.root_,v=null;!g.isEmpty();){if(0===(h=this.comparator_(l,g.key))){if(g.left.isEmpty())return v?v.key:null;for(g=g.left;!g.right.isEmpty();)g=g.right;return g.key}h<0?g=g.left:h>0&&(v=g,g=g.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},u.prototype.isEmpty=function(){return this.root_.isEmpty()},u.prototype.count=function(){return this.root_.count()},u.prototype.minKey=function(){return this.root_.minKey()},u.prototype.maxKey=function(){return this.root_.maxKey()},u.prototype.inorderTraversal=function(l){return this.root_.inorderTraversal(l)},u.prototype.reverseTraversal=function(l){return this.root_.reverseTraversal(l)},u.prototype.getIterator=function(l){return new Aa(this.root_,null,this.comparator_,!1,l)},u.prototype.getIteratorFrom=function(l,h){return new Aa(this.root_,l,this.comparator_,!1,h)},u.prototype.getReverseIteratorFrom=function(l,h){return new Aa(this.root_,l,this.comparator_,!0,h)},u.prototype.getReverseIterator=function(l){return new Aa(this.root_,null,this.comparator_,!0,l)},u.EMPTY_NODE=new ry,u}();function Wd(u,l){return se(u.name,l.name)}function Mi(u,l){return se(u,l)}var Yd,hc,qd,Ll,No,Pl=function(u){return"number"==typeof u?"number:"+Pe(u):"string:"+u},zd=function(u){if(u.isLeafNode()){var l=u.val();(0,I.hu)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,I.r3)(l,".sv"),"Priority must be a string or number.")}else(0,I.hu)(u===fc||u.isEmpty(),"priority of unexpected type.");(0,I.hu)(u===fc||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zs=function(){function u(l,h){void 0===h&&(h=u.__childrenNodeConstructor.EMPTY_NODE),this.value_=l,this.priorityNode_=h,this.lazyHash_=null,(0,I.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zd(this.priorityNode_)}return Object.defineProperty(u,"__childrenNodeConstructor",{get:function(){return Yd},set:function(l){Yd=l},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!0},u.prototype.getPriority=function(){return this.priorityNode_},u.prototype.updatePriority=function(l){return new u(this.value_,l)},u.prototype.getImmediateChild=function(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.getChild=function(l){return Ct(l)?this:".priority"===_t(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.hasChild=function(){return!1},u.prototype.getPredecessorChildName=function(l,h){return null},u.prototype.updateImmediateChild=function(l,h){return".priority"===l?this.updatePriority(h):h.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,h).updatePriority(this.priorityNode_)},u.prototype.updateChild=function(l,h){var g=_t(l);return null===g?h:h.isEmpty()&&".priority"!==g?this:((0,I.hu)(".priority"!==g||1===Xi(l),".priority must be the last token in a path"),this.updateImmediateChild(g,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(l),h)))},u.prototype.isEmpty=function(){return!1},u.prototype.numChildren=function(){return 0},u.prototype.forEachChild=function(l,h){return!1},u.prototype.val=function(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},u.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.priorityNode_.isEmpty()||(l+="priority:"+Pl(this.priorityNode_.val())+":");var h=typeof this.value_;l+=h+":",l+="number"===h?Pe(this.value_):this.value_,this.lazyHash_=Re(l)}return this.lazyHash_},u.prototype.getValue=function(){return this.value_},u.prototype.compareTo=function(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,I.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))},u.prototype.compareToLeafNode_=function(l){var h=typeof l.value_,g=typeof this.value_,v=u.VALUE_TYPE_ORDER.indexOf(h),E=u.VALUE_TYPE_ORDER.indexOf(g);return(0,I.hu)(v>=0,"Unknown leaf type: "+h),(0,I.hu)(E>=0,"Unknown leaf type: "+g),v===E?"object"===g?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:E-v},u.prototype.withIndex=function(){return this},u.prototype.isIndexed=function(){return!0},u.prototype.equals=function(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))},u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u}(),Gt=new(function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),l.prototype.compare=function(h,g){var v=h.node.getPriority(),E=g.node.getPriority(),T=v.compareTo(E);return 0===T?se(h.name,g.name):T},l.prototype.isDefinedOn=function(h){return!h.getPriority().isEmpty()},l.prototype.indexedValueChanged=function(h,g){return!h.getPriority().equals(g.getPriority())},l.prototype.minPost=function(){return It.MIN},l.prototype.maxPost=function(){return new It(be,new zs("[PRIORITY-POST]",qd))},l.prototype.makePost=function(h,g){var v=hc(h);return new It(g,new zs("[PRIORITY-POST]",v))},l.prototype.toString=function(){return".priority"},l}(cc)),Qd=Math.log(2),Fl=function(){function u(l){this.count=parseInt(Math.log(l+1)/Qd,10),this.current_=this.count-1;var v=parseInt(Array(this.count+1).join("1"),2);this.bits_=l+1&v}return u.prototype.nextBitIsOne=function(){var l=!(this.bits_&1<<this.current_);return this.current_--,l},u}(),kl=function(u,l,h,g){u.sort(l);var v=function(O,k){var te,ge,B=k-O;if(0===B)return null;if(1===B)return te=u[O],ge=h?h(te):te,new _r(ge,te.node,_r.BLACK,null,null);var we=parseInt(B/2,10)+O,xe=v(O,we),et=v(we+1,k);return te=u[we],ge=h?h(te):te,new _r(ge,te.node,_r.BLACK,xe,et)},x=function(O){for(var k=null,B=null,te=u.length,ge=function(ut,rn){var pr=te-ut,ia=te;te-=ut;var yu=v(pr+1,ia),Es=u[pr],il=h?h(Es):Es;we(new _r(il,Es.node,rn,null,yu))},we=function(ut){k?(k.left=ut,k=ut):(B=ut,k=ut)},xe=0;xe<O.count;++xe){var et=O.nextBitIsOne(),He=Math.pow(2,O.count-(xe+1));et?ge(He,_r.BLACK):(ge(He,_r.BLACK),ge(He,_r.RED))}return B}(new Fl(u.length));return new di(g||l,x)},Oo={},Jt=function(){function u(l,h){this.indexes_=l,this.indexSet_=h}return Object.defineProperty(u,"Default",{get:function(){return(0,I.hu)(Oo&&Gt,"ChildrenNode.ts has not been loaded"),Ll=Ll||new u({".priority":Oo},{".priority":Gt})},enumerable:!1,configurable:!0}),u.prototype.get=function(l){var h=(0,I.DV)(this.indexes_,l);if(!h)throw new Error("No index defined for "+l);return h instanceof di?h:null},u.prototype.hasIndex=function(l){return(0,I.r3)(this.indexSet_,l.toString())},u.prototype.addIndex=function(l,h){(0,I.hu)(l!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var g=[],v=!1,E=h.getIterator(It.Wrap),T=E.getNext();T;)v=v||l.isDefinedOn(T.node),g.push(T),T=E.getNext();var x;x=v?kl(g,l.getCompare()):Oo;var O=l.toString(),k=(0,q.pi)({},this.indexSet_);k[O]=l;var B=(0,q.pi)({},this.indexes_);return B[O]=x,new u(B,k)},u.prototype.addToIndexes=function(l,h){var g=this;return new u((0,I.UI)(this.indexes_,function(E,T){var x=(0,I.DV)(g.indexSet_,T);if((0,I.hu)(x,"Missing index implementation for "+T),E===Oo){if(x.isDefinedOn(l.node)){for(var O=[],k=h.getIterator(It.Wrap),B=k.getNext();B;)B.name!==l.name&&O.push(B),B=k.getNext();return O.push(l),kl(O,x.getCompare())}return Oo}var te=h.get(l.name),ge=E;return te&&(ge=ge.remove(new It(l.name,te))),ge.insert(l,l.node)}),this.indexSet_)},u.prototype.removeFromIndexes=function(l,h){return new u((0,I.UI)(this.indexes_,function(v){if(v===Oo)return v;var E=h.get(l.name);return E?v.remove(new It(l.name,E)):v}),this.indexSet_)},u}(),rt=function(){function u(l,h,g){this.children_=l,this.priorityNode_=h,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&zd(this.priorityNode_),this.children_.isEmpty()&&(0,I.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(u,"EMPTY_NODE",{get:function(){return No||(No=new u(new di(Mi),null,Jt.Default))},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!1},u.prototype.getPriority=function(){return this.priorityNode_||No},u.prototype.updatePriority=function(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)},u.prototype.getImmediateChild=function(l){if(".priority"===l)return this.getPriority();var h=this.children_.get(l);return null===h?No:h},u.prototype.getChild=function(l){var h=_t(l);return null===h?this:this.getImmediateChild(h).getChild(St(l))},u.prototype.hasChild=function(l){return null!==this.children_.get(l)},u.prototype.updateImmediateChild=function(l,h){if((0,I.hu)(h,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(h);var g=new It(l,h),v=void 0,E=void 0;h.isEmpty()?(v=this.children_.remove(l),E=this.indexMap_.removeFromIndexes(g,this.children_)):(v=this.children_.insert(l,h),E=this.indexMap_.addToIndexes(g,this.children_));var T=v.isEmpty()?No:this.priorityNode_;return new u(v,T,E)},u.prototype.updateChild=function(l,h){var g=_t(l);if(null===g)return h;(0,I.hu)(".priority"!==_t(l)||1===Xi(l),".priority must be the last token in a path");var v=this.getImmediateChild(g).updateChild(St(l),h);return this.updateImmediateChild(g,v)},u.prototype.isEmpty=function(){return this.children_.isEmpty()},u.prototype.numChildren=function(){return this.children_.count()},u.prototype.val=function(l){if(this.isEmpty())return null;var h={},g=0,v=0,E=!0;if(this.forEachChild(Gt,function(O,k){h[O]=k.val(l),g++,E&&u.INTEGER_REGEXP_.test(O)?v=Math.max(v,Number(O)):E=!1}),!l&&E&&v<2*g){var T=[];for(var x in h)T[x]=h[x];return T}return l&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h},u.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.getPriority().isEmpty()||(l+="priority:"+Pl(this.getPriority().val())+":"),this.forEachChild(Gt,function(h,g){var v=g.hash();""!==v&&(l+=":"+h+":"+v)}),this.lazyHash_=""===l?"":Re(l)}return this.lazyHash_},u.prototype.getPredecessorChildName=function(l,h,g){var v=this.resolveIndex_(g);if(v){var E=v.getPredecessorKey(new It(l,h));return E?E.name:null}return this.children_.getPredecessorKey(l)},u.prototype.getFirstChildName=function(l){var h=this.resolveIndex_(l);if(h){var g=h.minKey();return g&&g.name}return this.children_.minKey()},u.prototype.getFirstChild=function(l){var h=this.getFirstChildName(l);return h?new It(h,this.children_.get(h)):null},u.prototype.getLastChildName=function(l){var h=this.resolveIndex_(l);if(h){var g=h.maxKey();return g&&g.name}return this.children_.maxKey()},u.prototype.getLastChild=function(l){var h=this.getLastChildName(l);return h?new It(h,this.children_.get(h)):null},u.prototype.forEachChild=function(l,h){var g=this.resolveIndex_(l);return g?g.inorderTraversal(function(v){return h(v.name,v.node)}):this.children_.inorderTraversal(h)},u.prototype.getIterator=function(l){return this.getIteratorFrom(l.minPost(),l)},u.prototype.getIteratorFrom=function(l,h){var g=this.resolveIndex_(h);if(g)return g.getIteratorFrom(l,function(T){return T});for(var v=this.children_.getIteratorFrom(l.name,It.Wrap),E=v.peek();null!=E&&h.compare(E,l)<0;)v.getNext(),E=v.peek();return v},u.prototype.getReverseIterator=function(l){return this.getReverseIteratorFrom(l.maxPost(),l)},u.prototype.getReverseIteratorFrom=function(l,h){var g=this.resolveIndex_(h);if(g)return g.getReverseIteratorFrom(l,function(T){return T});for(var v=this.children_.getReverseIteratorFrom(l.name,It.Wrap),E=v.peek();null!=E&&h.compare(E,l)>0;)v.getNext(),E=v.peek();return v},u.prototype.compareTo=function(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===qt?-1:0},u.prototype.withIndex=function(l){if(l===ci||this.indexMap_.hasIndex(l))return this;var h=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,h)},u.prototype.isIndexed=function(l){return l===ci||this.indexMap_.hasIndex(l)},u.prototype.equals=function(l){if(l===this)return!0;if(l.isLeafNode())return!1;var h=l;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){for(var g=this.getIterator(Gt),v=h.getIterator(Gt),E=g.getNext(),T=v.getNext();E&&T;){if(E.name!==T.name||!E.node.equals(T.node))return!1;E=g.getNext(),T=v.getNext()}return null===E&&null===T}return!1}return!1},u.prototype.resolveIndex_=function(l){return l===ci?null:this.indexMap_.get(l.toString())},u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u}(),qt=new(function(u){function l(){return u.call(this,new di(Mi),rt.EMPTY_NODE,Jt.Default)||this}return(0,q.ZT)(l,u),l.prototype.compareTo=function(h){return h===this?0:1},l.prototype.equals=function(h){return h===this},l.prototype.getPriority=function(){return this},l.prototype.getImmediateChild=function(h){return rt.EMPTY_NODE},l.prototype.isEmpty=function(){return!1},l}(rt));function en(u,l){if(void 0===l&&(l=null),null===u)return rt.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(l=u[".priority"]),(0,I.hu)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new zs(u,en(l));if(u instanceof Array){var O=rt.EMPTY_NODE;return Ge(u,function(k,B){if((0,I.r3)(u,k)&&"."!==k.substring(0,1)){var te=en(B);(te.isLeafNode()||!te.isEmpty())&&(O=O.updateImmediateChild(k,te))}}),O.updatePriority(en(l))}var g=[],v=!1;if(Ge(u,function(k,B){if("."!==k.substring(0,1)){var te=en(B);te.isEmpty()||(v=v||!te.getPriority().isEmpty(),g.push(new It(k,te)))}}),0===g.length)return rt.EMPTY_NODE;var T=kl(g,Wd,function(k){return k.name},Mi);if(v){var x=kl(g,Gt.getCompare());return new rt(T,en(l),new Jt({".priority":x},{".priority":Gt}))}return new rt(T,en(l),Jt.Default)}Object.defineProperties(It,{MIN:{value:new It(ne,rt.EMPTY_NODE)},MAX:{value:new It(be,qt)}}),Vp.__EMPTY_NODE=rt.EMPTY_NODE,zs.__childrenNodeConstructor=rt,function(u){fc=u}(qt),function(u){qd=u}(qt),function(u){hc=u}(en);var Po=function(u){function l(h){var g=u.call(this)||this;return g.indexPath_=h,(0,I.hu)(!Ct(h)&&".priority"!==_t(h),"Can't create PathIndex with empty path or .priority key"),g}return(0,q.ZT)(l,u),l.prototype.extractChild=function(h){return h.getChild(this.indexPath_)},l.prototype.isDefinedOn=function(h){return!h.getChild(this.indexPath_).isEmpty()},l.prototype.compare=function(h,g){var v=this.extractChild(h.node),E=this.extractChild(g.node),T=v.compareTo(E);return 0===T?se(h.name,g.name):T},l.prototype.makePost=function(h,g){var v=en(h),E=rt.EMPTY_NODE.updateChild(this.indexPath_,v);return new It(g,E)},l.prototype.maxPost=function(){var h=rt.EMPTY_NODE.updateChild(this.indexPath_,qt);return new It(be,h)},l.prototype.toString=function(){return li(this.indexPath_,0).join("/")},l}(cc),Ma=new(function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),l.prototype.compare=function(h,g){var v=h.node.compareTo(g.node);return 0===v?se(h.name,g.name):v},l.prototype.isDefinedOn=function(h){return!0},l.prototype.indexedValueChanged=function(h,g){return!h.equals(g)},l.prototype.minPost=function(){return It.MIN},l.prototype.maxPost=function(){return It.MAX},l.prototype.makePost=function(h,g){var v=en(h);return new It(g,v)},l.prototype.toString=function(){return".value"},l}(cc)),es="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jd=function(){var u=0,l=[];return function(h){var g=h===u;u=h;var v,E=new Array(8);for(v=7;v>=0;v--)E[v]=es.charAt(h%64),h=Math.floor(h/64);(0,I.hu)(0===h,"Cannot push at time == 0");var T=E.join("");if(g){for(v=11;v>=0&&63===l[v];v--)l[v]=0;l[v]++}else for(v=0;v<12;v++)l[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)T+=es.charAt(l[v]);return(0,I.hu)(20===T.length,"nextPushId: Length should be 20."),T}}(),Ia=function(u){if(u===""+sn)return"-";var l=Nn(u);if(null!=l)return""+(l+1);for(var h=new Array(u.length),g=0;g<h.length;g++)h[g]=u.charAt(g);if(h.length<786)return h.push("-"),h.join("");for(var v=h.length-1;v>=0&&"z"===h[v];)v--;if(-1===v)return be;var T=es.charAt(es.indexOf(h[v])+1);return h[v]=T,h.slice(0,v+1).join("")},ns=function(u){if(u===""+Mr)return ne;var l=Nn(u);if(null!=l)return""+(l-1);for(var h=new Array(u.length),g=0;g<h.length;g++)h[g]=u.charAt(g);return"-"===h[h.length-1]?1===h.length?""+sn:(delete h[h.length-1],h.join("")):(h[h.length-1]=es.charAt(es.indexOf(h[h.length-1])-1),h.join("")+"z".repeat(786-h.length))};function pc(u){return{type:"value",snapshotNode:u}}function rs(u,l){return{type:"child_added",snapshotNode:l,childName:u}}function Xe(u,l){return{type:"child_removed",snapshotNode:l,childName:u}}function xa(u,l,h){return{type:"child_changed",snapshotNode:l,childName:u,oldSnap:h}}var gc=function(){function u(l){this.index_=l}return u.prototype.updateChild=function(l,h,g,v,E,T){(0,I.hu)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");var x=l.getImmediateChild(h);return x.getChild(v).equals(g.getChild(v))&&x.isEmpty()===g.isEmpty()||(null!=T&&(g.isEmpty()?l.hasChild(h)?T.trackChildChange(Xe(h,x)):(0,I.hu)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):x.isEmpty()?T.trackChildChange(rs(h,g)):T.trackChildChange(xa(h,g,x))),l.isLeafNode()&&g.isEmpty())?l:l.updateImmediateChild(h,g).withIndex(this.index_)},u.prototype.updateFullNode=function(l,h,g){return null!=g&&(l.isLeafNode()||l.forEachChild(Gt,function(v,E){h.hasChild(v)||g.trackChildChange(Xe(v,E))}),h.isLeafNode()||h.forEachChild(Gt,function(v,E){if(l.hasChild(v)){var T=l.getImmediateChild(v);T.equals(E)||g.trackChildChange(xa(v,E,T))}else g.trackChildChange(rs(v,E))})),h.withIndex(this.index_)},u.prototype.updatePriority=function(l,h){return l.isEmpty()?rt.EMPTY_NODE:l.updatePriority(h)},u.prototype.filtersNodes=function(){return!1},u.prototype.getIndexedFilter=function(){return this},u.prototype.getIndex=function(){return this.index_},u}(),Xd=function(){function u(l){this.indexedFilter_=new gc(l.getIndex()),this.index_=l.getIndex(),this.startPost_=u.getStartPost_(l),this.endPost_=u.getEndPost_(l)}return u.prototype.getStartPost=function(){return this.startPost_},u.prototype.getEndPost=function(){return this.endPost_},u.prototype.matches=function(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0},u.prototype.updateChild=function(l,h,g,v,E,T){return this.matches(new It(h,g))||(g=rt.EMPTY_NODE),this.indexedFilter_.updateChild(l,h,g,v,E,T)},u.prototype.updateFullNode=function(l,h,g){h.isLeafNode()&&(h=rt.EMPTY_NODE);var v=h.withIndex(this.index_);v=v.updatePriority(rt.EMPTY_NODE);var E=this;return h.forEachChild(Gt,function(T,x){E.matches(new It(T,x))||(v=v.updateImmediateChild(T,rt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,v,g)},u.prototype.updatePriority=function(l,h){return l},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.indexedFilter_},u.prototype.getIndex=function(){return this.index_},u.getStartPost_=function(l){if(l.hasStart()){var h=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),h)}return l.getIndex().minPost()},u.getEndPost_=function(l){if(l.hasEnd()){var h=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),h)}return l.getIndex().maxPost()},u}(),Hp=function(){function u(l){this.rangedFilter_=new Xd(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}return u.prototype.updateChild=function(l,h,g,v,E,T){return this.rangedFilter_.matches(new It(h,g))||(g=rt.EMPTY_NODE),l.getImmediateChild(h).equals(g)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,h,g,v,E,T):this.fullLimitUpdateChild_(l,h,g,E,T)},u.prototype.updateFullNode=function(l,h,g){var v;if(h.isLeafNode()||h.isEmpty())v=rt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){v=rt.EMPTY_NODE.withIndex(this.index_);var E=void 0;E=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var T=0;E.hasNext()&&T<this.limit_;){var x=E.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),x)<=0:this.index_.compare(x,this.rangedFilter_.getEndPost())<=0))break;v=v.updateImmediateChild(x.name,x.node),T++}}else{v=(v=h.withIndex(this.index_)).updatePriority(rt.EMPTY_NODE);var k=void 0,B=void 0,te=void 0;if(E=void 0,this.reverse_){E=v.getReverseIterator(this.index_),k=this.rangedFilter_.getEndPost(),B=this.rangedFilter_.getStartPost();var ge=this.index_.getCompare();te=function(He,ut){return ge(ut,He)}}else E=v.getIterator(this.index_),k=this.rangedFilter_.getStartPost(),B=this.rangedFilter_.getEndPost(),te=this.index_.getCompare();T=0;for(var we=!1;E.hasNext();)x=E.getNext(),!we&&te(k,x)<=0&&(we=!0),we&&T<this.limit_&&te(x,B)<=0?T++:v=v.updateImmediateChild(x.name,rt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,v,g)},u.prototype.updatePriority=function(l,h){return l},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},u.prototype.getIndex=function(){return this.index_},u.prototype.fullLimitUpdateChild_=function(l,h,g,v,E){var T;if(this.reverse_){var x=this.index_.getCompare();T=function(rn,pr){return x(pr,rn)}}else T=this.index_.getCompare();var O=l;(0,I.hu)(O.numChildren()===this.limit_,"");var k=new It(h,g),B=this.reverse_?O.getFirstChild(this.index_):O.getLastChild(this.index_),te=this.rangedFilter_.matches(k);if(O.hasChild(h)){for(var ge=O.getImmediateChild(h),we=v.getChildAfterChild(this.index_,B,this.reverse_);null!=we&&(we.name===h||O.hasChild(we.name));)we=v.getChildAfterChild(this.index_,we,this.reverse_);var xe=null==we?1:T(we,k);if(te&&!g.isEmpty()&&xe>=0)return null!=E&&E.trackChildChange(xa(h,g,ge)),O.updateImmediateChild(h,g);null!=E&&E.trackChildChange(Xe(h,ge));var He=O.updateImmediateChild(h,rt.EMPTY_NODE);return null!=we&&this.rangedFilter_.matches(we)?(null!=E&&E.trackChildChange(rs(we.name,we.node)),He.updateImmediateChild(we.name,we.node)):He}return g.isEmpty()?l:te&&T(B,k)>=0?(null!=E&&(E.trackChildChange(Xe(B.name,B.node)),E.trackChildChange(rs(h,g))),O.updateImmediateChild(h,g).updateImmediateChild(B.name,rt.EMPTY_NODE)):l},u}(),ef=function(){function u(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}return u.prototype.hasStart=function(){return this.startSet_},u.prototype.hasStartAfter=function(){return this.startAfterSet_},u.prototype.hasEndBefore=function(){return this.endBeforeSet_},u.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},u.prototype.getIndexStartValue=function(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},u.prototype.getIndexStartName=function(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ne},u.prototype.hasEnd=function(){return this.endSet_},u.prototype.getIndexEndValue=function(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},u.prototype.getIndexEndName=function(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:be},u.prototype.hasLimit=function(){return this.limitSet_},u.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},u.prototype.getLimit=function(){return(0,I.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},u.prototype.getIndex=function(){return this.index_},u.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},u.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Gt},u.prototype.copy=function(){var l=new u;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l},u}();function Oa(u,l,h){var g=u.copy();return g.startSet_=!0,void 0===l&&(l=null),g.indexStartValue_=l,null!=h?(g.startNameSet_=!0,g.indexStartName_=h):(g.startNameSet_=!1,g.indexStartName_=""),g}function Na(u,l,h){var g=u.copy();return g.endSet_=!0,void 0===l&&(l=null),g.indexEndValue_=l,void 0!==h?(g.endNameSet_=!0,g.indexEndName_=h):(g.endNameSet_=!1,g.indexEndName_=""),g}function Jn(u,l){var h=u.copy();return h.index_=l,h}function Pa(u){var h,l={};return u.isDefault()||(u.index_===Gt?h="$priority":u.index_===Ma?h="$value":u.index_===ci?h="$key":((0,I.hu)(u.index_ instanceof Po,"Unrecognized index type!"),h=u.index_.toString()),l.orderBy=(0,I.Pz)(h),u.startSet_&&(l.startAt=(0,I.Pz)(u.indexStartValue_),u.startNameSet_&&(l.startAt+=","+(0,I.Pz)(u.indexStartName_))),u.endSet_&&(l.endAt=(0,I.Pz)(u.indexEndValue_),u.endNameSet_&&(l.endAt+=","+(0,I.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?l.limitToFirst=u.limit_:l.limitToLast=u.limit_)),l}function Fa(u){var l={};if(u.startSet_&&(l.sp=u.indexStartValue_,u.startNameSet_&&(l.sn=u.indexStartName_)),u.endSet_&&(l.ep=u.indexEndValue_,u.endNameSet_&&(l.en=u.indexEndName_)),u.limitSet_){l.l=u.limit_;var h=u.viewFrom_;""===h&&(h=u.isViewFromLeft()?"l":"r"),l.vf=h}return u.index_!==Gt&&(l.i=u.index_.toString()),l}var sy=function(u){function l(h,g,v,E){var T=u.call(this)||this;return T.repoInfo_=h,T.onDataUpdate_=g,T.authTokenProvider_=v,T.appCheckTokenProvider_=E,T.log_=Nt("p:rest:"),T.listens_={},T}return(0,q.ZT)(l,u),l.prototype.reportStats=function(h){throw new Error("Method not implemented.")},l.getListenId_=function(h,g){return void 0!==g?"tag$"+g:((0,I.hu)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())},l.prototype.listen=function(h,g,v,E){var T=this,x=h._path.toString();this.log_("Listen called for "+x+" "+h._queryIdentifier);var O=l.getListenId_(h,v),k={};this.listens_[O]=k;var B=Pa(h._queryParams);this.restRequest_(x+".json",B,function(te,ge){var we=ge;404===te&&(we=null,te=null),null===te&&T.onDataUpdate_(x,we,!1,v),(0,I.DV)(T.listens_,O)===k&&E(te?401===te?"permission_denied":"rest_error:"+te:"ok",null)})},l.prototype.unlisten=function(h,g){var v=l.getListenId_(h,g);delete this.listens_[v]},l.prototype.get=function(h){var g=this,v=Pa(h._queryParams),E=h._path.toString(),T=new I.BH;return this.restRequest_(E+".json",v,function(x,O){var k=O;404===x&&(k=null,x=null),null===x?(g.onDataUpdate_(E,k,!1,null),T.resolve(k)):T.reject(new Error(k))}),T.promise},l.prototype.refreshAuthToken=function(h){},l.prototype.restRequest_=function(h,g,v){var E=this;return void 0===g&&(g={}),g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(T){var x=(0,q.CR)(T,2),O=x[0],k=x[1];O&&O.accessToken&&(g.auth=O.accessToken),k&&k.token&&(g.ac=k.token);var B=(E.repoInfo_.secure?"https://":"http://")+E.repoInfo_.host+h+"?ns="+E.repoInfo_.namespace+(0,I.xO)(g);E.log_("Sending REST request for "+B);var te=new XMLHttpRequest;te.onreadystatechange=function(){if(v&&4===te.readyState){E.log_("REST Response for "+B+" received. status:",te.status,"response:",te.responseText);var ge=null;if(te.status>=200&&te.status<300){try{ge=(0,I.cI)(te.responseText)}catch(we){Ut("Failed to parse JSON response for "+B+": "+te.responseText)}v(null,ge)}else 401!==te.status&&404!==te.status&&Ut("Got unsuccessful REST response for "+B+" Status: "+te.status),v(te.status);v=null}},te.open("GET",B,!0),te.send()})},l}(Rl),Gp=function(){function u(){this.rootNode_=rt.EMPTY_NODE}return u.prototype.getNode=function(l){return this.rootNode_.getChild(l)},u.prototype.updateSnapshot=function(l,h){this.rootNode_=this.rootNode_.updateChild(l,h)},u}();function qs(){return{value:null,children:new Map}}function Ii(u,l,h){if(Ct(l))u.value=h,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(l,h);else{var g=_t(l);u.children.has(g)||u.children.set(g,qs()),Ii(u.children.get(g),l=St(l),h)}}function vn(u,l){if(Ct(l))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;var h=u.value;return u.value=null,h.forEachChild(Gt,function(E,T){Ii(u,new mt(E),T)}),vn(u,l)}if(u.children.size>0){var g=_t(l);return l=St(l),u.children.has(g)&&vn(u.children.get(g),l)&&u.children.delete(g),0===u.children.size}return!0}function yr(u,l,h){null!==u.value?h(l,u.value):function(u,l){u.children.forEach(function(h,g){l(g,h)})}(u,function(g,v){yr(v,new mt(l.toString()+"/"+g),h)})}var fi=function(){function u(l){this.collection_=l,this.last_=null}return u.prototype.get=function(){var l=this.collection_.get(),h=(0,q.pi)({},l);return this.last_&&Ge(this.last_,function(g,v){h[g]=h[g]-v}),this.last_=l,h},u}(),nf=function(){function u(l,h){this.server_=h,this.statsToReport_={},this.statsListener_=new fi(l);var g=1e4+2e4*Math.random();Zi(this.reportStats_.bind(this),Math.floor(g))}return u.prototype.reportStats_=function(){var l=this,h=this.statsListener_.get(),g={},v=!1;Ge(h,function(E,T){T>0&&(0,I.r3)(l.statsToReport_,E)&&(g[E]=T,v=!0)}),v&&this.server_.reportStats(g),Zi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},u}(),ar=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ar||(ar={})),ar))();function Zs(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}var rf=function(){function u(l,h,g){this.path=l,this.affectedTree=h,this.revert=g,this.type=ar.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return u.prototype.operationForChild=function(l){if(Ct(this.path)){if(null!=this.affectedTree.value)return(0,I.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var h=this.affectedTree.subtree(new mt(l));return new u($e(),h,this.revert)}return(0,I.hu)(_t(this.path)===l,"operationForChild called for unrelated child."),new u(St(this.path),this.affectedTree,this.revert)},u}(),mc=function(){function u(l,h){this.source=l,this.path=h,this.type=ar.LISTEN_COMPLETE}return u.prototype.operationForChild=function(l){return Ct(this.path)?new u(this.source,$e()):new u(this.source,St(this.path))},u}(),Qs=function(){function u(l,h,g){this.source=l,this.path=h,this.snap=g,this.type=ar.OVERWRITE}return u.prototype.operationForChild=function(l){return Ct(this.path)?new u(this.source,$e(),this.snap.getImmediateChild(l)):new u(this.source,St(this.path),this.snap)},u}(),Bl=function(){function u(l,h,g){this.source=l,this.path=h,this.children=g,this.type=ar.MERGE}return u.prototype.operationForChild=function(l){if(Ct(this.path)){var h=this.children.subtree(new mt(l));return h.isEmpty()?null:h.value?new Qs(this.source,$e(),h.value):new u(this.source,$e(),h)}return(0,I.hu)(_t(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new u(this.source,St(this.path),this.children)},u.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},u}(),is=function(){function u(l,h,g){this.node_=l,this.fullyInitialized_=h,this.filtered_=g}return u.prototype.isFullyInitialized=function(){return this.fullyInitialized_},u.prototype.isFiltered=function(){return this.filtered_},u.prototype.isCompleteForPath=function(l){if(Ct(l))return this.isFullyInitialized()&&!this.filtered_;var h=_t(l);return this.isCompleteForChild(h)},u.prototype.isCompleteForChild=function(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)},u.prototype.getNode=function(){return this.node_},u}(),sf=function(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()};function xi(u,l,h,g,v,E){var T=g.filter(function(x){return x.type===h});T.sort(function(x,O){return function(u,l,h){if(null==l.childName||null==h.childName)throw(0,I.g5)("Should only compare child_ events.");var g=new It(l.childName,l.snapshotNode),v=new It(h.childName,h.snapshotNode);return u.index_.compare(g,v)}(u,x,O)}),T.forEach(function(x){var O=function(u,l,h){return"value"===l.type||"child_removed"===l.type||(l.prevName=h.getPredecessorChildName(l.childName,l.snapshotNode,u.index_)),l}(u,x,E);v.forEach(function(k){k.respondsTo(x.type)&&l.push(k.createEvent(O,u.query_))})})}function An(u,l){return{eventCache:u,serverCache:l}}function qr(u,l,h,g){return An(new is(l,h,g),u.serverCache)}function ln(u,l,h,g){return An(u.eventCache,new is(l,h,g))}function Ul(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Fo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}var jl,vr=function(){function u(l,h){void 0===h&&(jl||(jl=new di(Ze)),h=jl),this.value=l,this.children=h}return u.fromObject=function(l){var h=new u(null);return Ge(l,function(g,v){h=h.set(new mt(g),v)}),h},u.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},u.prototype.findRootMostMatchingPathAndValue=function(l,h){if(null!=this.value&&h(this.value))return{path:$e(),value:this.value};if(Ct(l))return null;var g=_t(l),v=this.children.get(g);if(null!==v){var E=v.findRootMostMatchingPathAndValue(St(l),h);return null!=E?{path:yt(new mt(g),E.path),value:E.value}:null}return null},u.prototype.findRootMostValueAndPath=function(l){return this.findRootMostMatchingPathAndValue(l,function(){return!0})},u.prototype.subtree=function(l){if(Ct(l))return this;var h=_t(l),g=this.children.get(h);return null!==g?g.subtree(St(l)):new u(null)},u.prototype.set=function(l,h){if(Ct(l))return new u(h,this.children);var g=_t(l),E=(this.children.get(g)||new u(null)).set(St(l),h),T=this.children.insert(g,E);return new u(this.value,T)},u.prototype.remove=function(l){if(Ct(l))return this.children.isEmpty()?new u(null):new u(null,this.children);var h=_t(l),g=this.children.get(h);if(g){var v=g.remove(St(l)),E=void 0;return E=v.isEmpty()?this.children.remove(h):this.children.insert(h,v),null===this.value&&E.isEmpty()?new u(null):new u(this.value,E)}return this},u.prototype.get=function(l){if(Ct(l))return this.value;var h=_t(l),g=this.children.get(h);return g?g.get(St(l)):null},u.prototype.setTree=function(l,h){if(Ct(l))return h;var T,g=_t(l),E=(this.children.get(g)||new u(null)).setTree(St(l),h);return T=E.isEmpty()?this.children.remove(g):this.children.insert(g,E),new u(this.value,T)},u.prototype.fold=function(l){return this.fold_($e(),l)},u.prototype.fold_=function(l,h){var g={};return this.children.inorderTraversal(function(v,E){g[v]=E.fold_(yt(l,v),h)}),h(l,this.value,g)},u.prototype.findOnPath=function(l,h){return this.findOnPath_(l,$e(),h)},u.prototype.findOnPath_=function(l,h,g){var v=!!this.value&&g(h,this.value);if(v)return v;if(Ct(l))return null;var E=_t(l),T=this.children.get(E);return T?T.findOnPath_(St(l),yt(h,E),g):null},u.prototype.foreachOnPath=function(l,h){return this.foreachOnPath_(l,$e(),h)},u.prototype.foreachOnPath_=function(l,h,g){if(Ct(l))return this;this.value&&g(h,this.value);var v=_t(l),E=this.children.get(v);return E?E.foreachOnPath_(St(l),yt(h,v),g):new u(null)},u.prototype.foreach=function(l){this.foreach_($e(),l)},u.prototype.foreach_=function(l,h){this.children.inorderTraversal(function(g,v){v.foreach_(yt(l,g),h)}),this.value&&h(l,this.value)},u.prototype.foreachChild=function(l){this.children.inorderTraversal(function(h,g){g.value&&l(h,g.value)})},u}(),lr=function(){function u(l){this.writeTree_=l}return u.empty=function(){return new u(new vr(null))},u}();function ss(u,l,h){if(Ct(l))return new lr(new vr(h));var g=u.writeTree_.findRootMostValueAndPath(l);if(null!=g){var v=g.path,E=g.value,T=Xt(v,l);return E=E.updateChild(T,h),new lr(u.writeTree_.set(v,E))}var x=new vr(h),O=u.writeTree_.setTree(l,x);return new lr(O)}function os(u,l,h){var g=u;return Ge(h,function(v,E){g=ss(g,yt(l,v),E)}),g}function La(u,l){if(Ct(l))return lr.empty();var h=u.writeTree_.setTree(l,new vr(null));return new lr(h)}function Va(u,l){return null!=as(u,l)}function as(u,l){var h=u.writeTree_.findRootMostValueAndPath(l);return null!=h?u.writeTree_.get(h.path).getChild(Xt(h.path,l)):null}function of(u){var l=[],h=u.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(Gt,function(g,v){l.push(new It(g,v))}):u.writeTree_.children.inorderTraversal(function(g,v){null!=v.value&&l.push(new It(g,v.value))}),l}function Xn(u,l){if(Ct(l))return u;var h=as(u,l);return new lr(null!=h?new vr(h):u.writeTree_.subtree(l))}function ko(u){return u.writeTree_.isEmpty()}function Ba(u,l){return af($e(),u.writeTree_,l)}function af(u,l,h){if(null!=l.value)return h.updateChild(u,l.value);var g=null;return l.children.inorderTraversal(function(v,E){".priority"===v?((0,I.hu)(null!==E.value,"Priority writes must always be leaf nodes"),g=E.value):h=af(yt(u,v),E,h)}),!h.getChild(u).isEmpty()&&null!==g&&(h=h.updateChild(yt(u,".priority"),g)),h}function ls(u,l){return Cc(l,u)}function g0(u,l){if(u.snap)return Yn(u.path,l);for(var h in u.children)if(u.children.hasOwnProperty(h)&&Yn(yt(u.path,h),l))return!0;return!1}function lf(u){return u.visible}function Zr(u,l,h){for(var g=lr.empty(),v=0;v<u.length;++v){var E=u[v];if(l(E)){var T=E.path,x=void 0;if(E.snap)Yn(h,T)?g=ss(g,x=Xt(h,T),E.snap):Yn(T,h)&&(x=Xt(T,h),g=ss(g,$e(),E.snap.getChild(x)));else{if(!E.children)throw(0,I.g5)("WriteRecord should have .snap or .children");if(Yn(h,T))g=os(g,x=Xt(h,T),E.children);else if(Yn(T,h))if(Ct(x=Xt(T,h)))g=os(g,$e(),E.children);else{var O=(0,I.DV)(E.children,_t(x));if(O){var k=O.getChild(St(x));g=ss(g,$e(),k)}}}}}return g}function Ua(u,l,h,g,v){if(g||v){var O=Xn(u.visibleWrites,l);return!v&&ko(O)?h:v||null!=h||Va(O,$e())?Ba(Zr(u.allWrites,function(ge){return(ge.visible||v)&&(!g||!~g.indexOf(ge.writeId))&&(Yn(ge.path,l)||Yn(l,ge.path))},l),h||rt.EMPTY_NODE):null}var E=as(u.visibleWrites,l);if(null!=E)return E;var T=Xn(u.visibleWrites,l);return ko(T)?h:null!=h||Va(T,$e())?Ba(T,h||rt.EMPTY_NODE):null}function Js(u,l,h,g){return Ua(u.writeTree,u.treePath,l,h,g)}function Qp(u,l){return function(u,l,h){var g=rt.EMPTY_NODE,v=as(u.visibleWrites,l);if(v)return v.isLeafNode()||v.forEachChild(Gt,function(x,O){g=g.updateImmediateChild(x,O)}),g;if(h){var E=Xn(u.visibleWrites,l);return h.forEachChild(Gt,function(x,O){var k=Ba(Xn(E,new mt(x)),O);g=g.updateImmediateChild(x,k)}),of(E).forEach(function(x){g=g.updateImmediateChild(x.name,x.node)}),g}return of(Xn(u.visibleWrites,l)).forEach(function(x){g=g.updateImmediateChild(x.name,x.node)}),g}(u.writeTree,u.treePath,l)}function bc(u,l,h,g){return function(u,l,h,g,v){(0,I.hu)(g||v,"Either existingEventSnap or existingServerSnap must exist");var E=yt(l,h);if(Va(u.visibleWrites,E))return null;var T=Xn(u.visibleWrites,E);return ko(T)?v.getChild(h):Ba(T,v.getChild(h))}(u.writeTree,u.treePath,l,h,g)}function Gl(u,l){return function(u,l){return as(u.visibleWrites,l)}(u.writeTree,yt(u.treePath,l))}function df(u,l,h){return function(u,l,h,g){var v=yt(l,h),E=as(u.visibleWrites,v);return null!=E?E:g.isCompleteForChild(h)?Ba(Xn(u.visibleWrites,v),g.getNode().getImmediateChild(h)):null}(u.writeTree,u.treePath,l,h)}function Lo(u,l){return Cc(yt(u.treePath,l),u.writeTree)}function Cc(u,l){return{treePath:u,writeTree:l}}var $l=function(){function u(){this.changeMap=new Map}return u.prototype.trackChildChange=function(l){var h=l.type,g=l.childName;(0,I.hu)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,I.hu)(".priority"!==g,"Only non-priority child changes can be tracked.");var v=this.changeMap.get(g);if(v){var E=v.type;if("child_added"===h&&"child_removed"===E)this.changeMap.set(g,xa(g,l.snapshotNode,v.snapshotNode));else if("child_removed"===h&&"child_added"===E)this.changeMap.delete(g);else if("child_removed"===h&&"child_changed"===E)this.changeMap.set(g,Xe(g,v.oldSnap));else if("child_changed"===h&&"child_added"===E)this.changeMap.set(g,rs(g,l.snapshotNode));else{if("child_changed"!==h||"child_changed"!==E)throw(0,I.g5)("Illegal combination of changes: "+l+" occurred after "+v);this.changeMap.set(g,xa(g,l.snapshotNode,v.oldSnap))}}else this.changeMap.set(g,l)},u.prototype.getChanges=function(){return Array.from(this.changeMap.values())},u}(),Vo=new(function(){function u(){}return u.prototype.getCompleteChild=function(l){return null},u.prototype.getChildAfterChild=function(l,h,g){return null},u}()),er=function(){function u(l,h,g){void 0===g&&(g=null),this.writes_=l,this.viewCache_=h,this.optCompleteServerCache_=g}return u.prototype.getCompleteChild=function(l){var h=this.viewCache_.eventCache;if(h.isCompleteForChild(l))return h.getNode().getImmediateChild(l);var g=null!=this.optCompleteServerCache_?new is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return df(this.writes_,l,g)},u.prototype.getChildAfterChild=function(l,h,g){var v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fo(this.viewCache_),E=function(u,l,h,g,v,E){return function(u,l,h,g,v,E,T){var x,O=Xn(u.visibleWrites,l),k=as(O,$e());if(null!=k)x=k;else{if(null==h)return[];x=Ba(O,h)}if((x=x.withIndex(T)).isEmpty()||x.isLeafNode())return[];for(var B=[],te=T.getCompare(),ge=E?x.getReverseIteratorFrom(g,T):x.getIteratorFrom(g,T),we=ge.getNext();we&&B.length<v;)0!==te(we,g)&&B.push(we),we=ge.getNext();return B}(u.writeTree,u.treePath,l,h,g,v,E)}(this.writes_,v,h,1,g,l);return 0===E.length?null:E[0]},u}();function Mn(u,l,h,g,v,E){var T=l.eventCache;if(null!=Gl(g,h))return l;var x=void 0,O=void 0;if(Ct(h))if((0,I.hu)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){var k=Fo(l),te=Qp(g,k instanceof rt?k:rt.EMPTY_NODE);x=u.filter.updateFullNode(l.eventCache.getNode(),te,E)}else{var ge=Js(g,Fo(l));x=u.filter.updateFullNode(l.eventCache.getNode(),ge,E)}else{var we=_t(h);if(".priority"===we){(0,I.hu)(1===Xi(h),"Can't have a priority with additional path components");var xe=T.getNode(),et=bc(g,h,xe,O=l.serverCache.getNode());x=null!=et?u.filter.updatePriority(xe,et):T.getNode()}else{var He=St(h),ut=void 0;if(T.isCompleteForChild(we)){O=l.serverCache.getNode();var rn=bc(g,h,T.getNode(),O);ut=null!=rn?T.getNode().getImmediateChild(we).updateChild(He,rn):T.getNode().getImmediateChild(we)}else ut=df(g,we,l.serverCache);x=null!=ut?u.filter.updateChild(T.getNode(),we,ut,He,v,E):T.getNode()}}return qr(l,x,T.isFullyInitialized()||Ct(h),u.filter.filtersNodes())}function kr(u,l,h,g,v,E,T,x){var k,O=l.serverCache,B=T?u.filter:u.filter.getIndexedFilter();if(Ct(h))k=B.updateFullNode(O.getNode(),g,null);else if(B.filtersNodes()&&!O.isFiltered()){var te=O.getNode().updateChild(h,g);k=B.updateFullNode(O.getNode(),te,null)}else{var ge=_t(h);if(!O.isCompleteForPath(h)&&Xi(h)>1)return l;var we=St(h),et=O.getNode().getImmediateChild(ge).updateChild(we,g);k=".priority"===ge?B.updatePriority(O.getNode(),et):B.updateChild(O.getNode(),ge,et,we,Vo,null)}var He=ln(l,k,O.isFullyInitialized()||Ct(h),B.filtersNodes());return Mn(u,He,h,v,new er(v,He,E),x)}function un(u,l,h,g,v,E,T){var O,k,x=l.eventCache,B=new er(v,l,E);if(Ct(h))k=u.filter.updateFullNode(l.eventCache.getNode(),g,T),O=qr(l,k,!0,u.filter.filtersNodes());else{var te=_t(h);if(".priority"===te)k=u.filter.updatePriority(l.eventCache.getNode(),g),O=qr(l,k,x.isFullyInitialized(),x.isFiltered());else{var ge=St(h),we=x.getNode().getImmediateChild(te),xe=void 0;if(Ct(ge))xe=g;else{var et=B.getCompleteChild(te);xe=null!=et?".priority"===Ta(ge)&&et.getChild(Wr(ge)).isEmpty()?et:et.updateChild(ge,g):rt.EMPTY_NODE}O=we.equals(xe)?l:qr(l,u.filter.updateChild(x.getNode(),te,xe,ge,B,T),x.isFullyInitialized(),u.filter.filtersNodes())}}return O}function Bo(u,l){return u.eventCache.isCompleteForChild(l)}function ur(u,l,h){return h.foreach(function(g,v){l=l.updateChild(g,v)}),l}function Xs(u,l,h,g,v,E,T,x){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;var k,O=l;k=Ct(h)?g:new vr(null).setTree(h,g);var B=l.serverCache.getNode();return k.children.inorderTraversal(function(te,ge){if(B.hasChild(te)){var xe=ur(0,l.serverCache.getNode().getImmediateChild(te),ge);O=kr(u,O,new mt(te),xe,v,E,T,x)}}),k.children.inorderTraversal(function(te,ge){var we=!l.serverCache.isCompleteForChild(te)&&void 0===ge.value;if(!B.hasChild(te)&&!we){var et=ur(0,l.serverCache.getNode().getImmediateChild(te),ge);O=kr(u,O,new mt(te),et,v,E,T,x)}}),O}var Dc=function(){function u(l,h){this.query_=l,this.eventRegistrations_=[];var g=this.query_._queryParams,v=new gc(g.getIndex()),E=function(u){return u.loadsAllData()?new gc(u.getIndex()):u.hasLimit()?new Hp(u):new Xd(u)}(g);this.processor_=function(u){return{filter:u}}(E);var T=h.serverCache,x=h.eventCache,O=v.updateFullNode(rt.EMPTY_NODE,T.getNode(),null),k=E.updateFullNode(rt.EMPTY_NODE,x.getNode(),null),B=new is(O,T.isFullyInitialized(),v.filtersNodes()),te=new is(k,x.isFullyInitialized(),E.filtersNodes());this.viewCache_=An(te,B),this.eventGenerator_=new sf(this.query_)}return Object.defineProperty(u.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),u}();function Ho(u,l){var h=Fo(u.viewCache_);return h&&(u.query._queryParams.loadsAllData()||!Ct(l)&&!h.getImmediateChild(_t(l)).isEmpty())?h.getChild(l):null}function Go(u){return 0===u.eventRegistrations_.length}function us(u,l,h){var g=[];if(h){(0,I.hu)(null==l,"A cancel should cancel all event registrations.");var v=u.query._path;u.eventRegistrations_.forEach(function(O){var k=O.createCancelEvent(h,v);k&&g.push(k)})}if(l){for(var E=[],T=0;T<u.eventRegistrations_.length;++T){var x=u.eventRegistrations_[T];if(x.matches(l)){if(l.hasAnyCallback()){E=E.concat(u.eventRegistrations_.slice(T+1));break}}else E.push(x)}u.eventRegistrations_=E}else u.eventRegistrations_=[];return g}function Jp(u,l,h,g){l.type===ar.MERGE&&null!==l.source.queryId&&((0,I.hu)(Fo(u.viewCache_),"We should always have a full cache before handling merges"),(0,I.hu)(Ul(u.viewCache_),"Missing event cache, even though we have a server cache"));var v=u.viewCache_,E=function(u,l,h,g,v){var T,x,E=new $l;if(h.type===ar.OVERWRITE){var O=h;O.source.fromUser?T=un(u,l,O.path,O.snap,g,v,E):((0,I.hu)(O.source.fromServer,"Unknown source."),x=O.source.tagged||l.serverCache.isFiltered()&&!Ct(O.path),T=kr(u,l,O.path,O.snap,g,v,x,E))}else if(h.type===ar.MERGE){var k=h;k.source.fromUser?T=function(u,l,h,g,v,E,T){var x=l;return g.foreach(function(O,k){var B=yt(h,O);Bo(l,_t(B))&&(x=un(u,x,B,k,v,E,T))}),g.foreach(function(O,k){var B=yt(h,O);Bo(l,_t(B))||(x=un(u,x,B,k,v,E,T))}),x}(u,l,k.path,k.children,g,v,E):((0,I.hu)(k.source.fromServer,"Unknown source."),x=k.source.tagged||l.serverCache.isFiltered(),T=Xs(u,l,k.path,k.children,g,v,x,E))}else if(h.type===ar.ACK_USER_WRITE){var B=h;T=B.revert?function(u,l,h,g,v,E){var T;if(null!=Gl(g,h))return l;var x=new er(g,l,v),O=l.eventCache.getNode(),k=void 0;if(Ct(h)||".priority"===_t(h)){var B=void 0;if(l.serverCache.isFullyInitialized())B=Js(g,Fo(l));else{var te=l.serverCache.getNode();(0,I.hu)(te instanceof rt,"serverChildren would be complete if leaf node"),B=Qp(g,te)}k=u.filter.updateFullNode(O,B=B,E)}else{var ge=_t(h),we=df(g,ge,l.serverCache);null==we&&l.serverCache.isCompleteForChild(ge)&&(we=O.getImmediateChild(ge)),(k=null!=we?u.filter.updateChild(O,ge,we,St(h),x,E):l.eventCache.getNode().hasChild(ge)?u.filter.updateChild(O,ge,rt.EMPTY_NODE,St(h),x,E):O).isEmpty()&&l.serverCache.isFullyInitialized()&&(T=Js(g,Fo(l))).isLeafNode()&&(k=u.filter.updateFullNode(k,T,E))}return T=l.serverCache.isFullyInitialized()||null!=Gl(g,$e()),qr(l,k,T,u.filter.filtersNodes())}(u,l,B.path,g,v,E):function(u,l,h,g,v,E,T){if(null!=Gl(v,h))return l;var x=l.serverCache.isFiltered(),O=l.serverCache;if(null!=g.value){if(Ct(h)&&O.isFullyInitialized()||O.isCompleteForPath(h))return kr(u,l,h,O.getNode().getChild(h),v,E,x,T);if(Ct(h)){var k=new vr(null);return O.getNode().forEachChild(ci,function(te,ge){k=k.set(new mt(te),ge)}),Xs(u,l,h,k,v,E,x,T)}return l}var B=new vr(null);return g.foreach(function(te,ge){var we=yt(h,te);O.isCompleteForPath(we)&&(B=B.set(te,O.getNode().getChild(we)))}),Xs(u,l,h,B,v,E,x,T)}(u,l,B.path,B.affectedTree,g,v,E)}else{if(h.type!==ar.LISTEN_COMPLETE)throw(0,I.g5)("Unknown operation type: "+h.type);T=function(u,l,h,g,v){var E=l.serverCache;return Mn(u,ln(l,E.getNode(),E.isFullyInitialized()||Ct(h),E.isFiltered()),h,g,Vo,v)}(u,l,h.path,g,E)}var te=E.getChanges();return function(u,l,h){var g=l.eventCache;if(g.isFullyInitialized()){var v=g.getNode().isLeafNode()||g.getNode().isEmpty(),E=Ul(u);(h.length>0||!u.eventCache.isFullyInitialized()||v&&!g.getNode().equals(E)||!g.getNode().getPriority().equals(E.getPriority()))&&h.push(pc(Ul(l)))}}(l,T,te),{viewCache:T,changes:te}}(u.processor_,v,l,h,g);return function(u,l){(0,I.hu)(l.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,I.hu)(l.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,E.viewCache),(0,I.hu)(E.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=E.viewCache,hf(u,E.changes,E.viewCache.eventCache.getNode(),null)}function hf(u,l,h,g){return function(u,l,h,g){var v=[],E=[];return l.forEach(function(T){"child_changed"===T.type&&u.index_.indexedValueChanged(T.oldSnap,T.snapshotNode)&&E.push(function(u,l){return{type:"child_moved",snapshotNode:l,childName:u}}(T.childName,T.snapshotNode))}),xi(u,v,"child_removed",l,g,h),xi(u,v,"child_added",l,g,h),xi(u,v,"child_moved",E,g,h),xi(u,v,"child_changed",l,g,h),xi(u,v,"value",l,g,h),v}(u.eventGenerator_,l,h,g?[g]:u.eventRegistrations_)}var Tc,Kr,pf=function(){this.views=new Map};function gf(u,l,h,g){var v,E,T=l.source.queryId;if(null!==T){var x=u.views.get(T);return(0,I.hu)(null!=x,"SyncTree gave us an op for an invalid query."),Jp(x,l,h,g)}var O=[];try{for(var k=(0,q.XA)(u.views.values()),B=k.next();!B.done;B=k.next())O=O.concat(Jp(x=B.value,l,h,g))}catch(te){v={error:te}}finally{try{B&&!B.done&&(E=k.return)&&E.call(k)}finally{if(v)throw v.error}}return O}function zl(u,l,h,g,v){var T=u.views.get(l._queryIdentifier);if(!T){var x=Js(h,v?g:null),O=!1;x?O=!0:g instanceof rt?(x=Qp(h,g),O=!1):(x=rt.EMPTY_NODE,O=!1);var k=An(new is(x,O,!1),new is(g,v,!1));return new Dc(l,k)}return T}function eg(u){var l,h,g=[];try{for(var v=(0,q.XA)(u.views.values()),E=v.next();!E.done;E=v.next()){var T=E.value;T.query._queryParams.loadsAllData()||g.push(T)}}catch(x){l={error:x}}finally{try{E&&!E.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}return g}function to(u,l){var h,g,v=null;try{for(var E=(0,q.XA)(u.views.values()),T=E.next();!T.done;T=E.next())v=v||Ho(T.value,l)}catch(O){h={error:O}}finally{try{T&&!T.done&&(g=E.return)&&g.call(E)}finally{if(h)throw h.error}}return v}function mf(u,l){return l._queryParams.loadsAllData()?Qr(u):u.views.get(l._queryIdentifier)}function tg(u,l){return null!=mf(u,l)}function Wo(u){return null!=Qr(u)}function Qr(u){var l,h;try{for(var g=(0,q.XA)(u.views.values()),v=g.next();!v.done;v=g.next()){var E=v.value;if(E.query._queryParams.loadsAllData())return E}}catch(T){l={error:T}}finally{try{v&&!v.done&&(h=g.return)&&h.call(g)}finally{if(l)throw l.error}}return null}var Sc=1,_f=function(l){this.listenProvider_=l,this.syncPointTree_=new vr(null),this.pendingWriteTree_={visibleWrites:lr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function hi(u,l,h,g,v){return function(u,l,h,g,v){(0,I.hu)(g>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:l,snap:h,writeId:g,visible:v}),v&&(u.visibleWrites=ss(u.visibleWrites,l,h)),u.lastWriteId=g}(u.pendingWriteTree_,l,h,g,v),v?Ri(u,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,h)):[]}function Bn(u,l,h){void 0===h&&(h=!1);var g=function(u,l){for(var h=0;h<u.allWrites.length;h++){var g=u.allWrites[h];if(g.writeId===l)return g}return null}(u.pendingWriteTree_,l);if(function(u,l){var h=u.allWrites.findIndex(function(k){return k.writeId===l});(0,I.hu)(h>=0,"removeWrite called with nonexistent writeId.");var g=u.allWrites[h];u.allWrites.splice(h,1);for(var v=g.visible,E=!1,T=u.allWrites.length-1;v&&T>=0;){var x=u.allWrites[T];x.visible&&(T>=h&&g0(x,g.path)?v=!1:Yn(g.path,x.path)&&(E=!0)),T--}return!!v&&(E?(function(u){u.visibleWrites=Zr(u.allWrites,lf,$e()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(g.snap?u.visibleWrites=La(u.visibleWrites,g.path):Ge(g.children,function(k){u.visibleWrites=La(u.visibleWrites,yt(g.path,k))}),!0))}(u.pendingWriteTree_,l)){var E=new vr(null);return null!=g.snap?E=E.set($e(),!0):Ge(g.children,function(T){E=E.set(new mt(T),!0)}),Ri(u,new rf(g.path,E,h))}return[]}function cs(u,l,h){return Ri(u,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,h))}function ql(u,l,h,g){var v=l._path,E=u.syncPointTree_.get(v),T=[];if(E&&("default"===l._queryIdentifier||tg(E,l))){var x=function(u,l,h,g){var v,E,T=l._queryIdentifier,x=[],O=[],k=Wo(u);if("default"===T)try{for(var B=(0,q.XA)(u.views.entries()),te=B.next();!te.done;te=B.next()){var xe,ge=(0,q.CR)(te.value,2),we=ge[0];O=O.concat(us(xe=ge[1],h,g)),Go(xe)&&(u.views.delete(we),xe.query._queryParams.loadsAllData()||x.push(xe.query))}}catch(et){v={error:et}}finally{try{te&&!te.done&&(E=B.return)&&E.call(B)}finally{if(v)throw v.error}}else(xe=u.views.get(T))&&(O=O.concat(us(xe,h,g)),Go(xe)&&(u.views.delete(T),xe.query._queryParams.loadsAllData()||x.push(xe.query)));return k&&!Wo(u)&&x.push(new((0,I.hu)(Tc,"Reference.ts has not been loaded"),Tc)(l._repo,l._path)),{removed:x,events:O}}(E,l,h,g);(function(u){return 0===u.views.size})(E)&&(u.syncPointTree_=u.syncPointTree_.remove(v));var O=x.removed;T=x.events;var k=-1!==O.findIndex(function(rn){return rn._queryParams.loadsAllData()}),B=u.syncPointTree_.findOnPath(v,function(rn,pr){return Wo(pr)});if(k&&!B){var te=u.syncPointTree_.subtree(v);if(!te.isEmpty())for(var ge=function(u){return u.fold(function(l,h,g){if(h&&Wo(h))return[Qr(h)];var E=[];return h&&(E=eg(h)),Ge(g,function(T,x){E=E.concat(x)}),E})}(te),we=0;we<ge.length;++we){var xe=ge[we],et=xe.query,He=Yo(u,xe);u.listenProvider_.startListening(qo(et),Ga(u,et),He.hashFn,He.onComplete)}}!B&&O.length>0&&!g&&(k?u.listenProvider_.stopListening(qo(l),null):O.forEach(function(rn){var pr=u.queryToTagMap.get($a(rn));u.listenProvider_.stopListening(qo(rn),pr)})),function(u,l){for(var h=0;h<l.length;++h){var g=l[h];if(!g._queryParams.loadsAllData()){var v=$a(g),E=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(E)}}}(u,O)}return T}function rg(u,l,h){var g=l._path,v=null,E=!1;u.syncPointTree_.foreachOnPath(g,function(et,He){var ut=Xt(et,g);v=v||to(He,ut),E=E||Wo(He)});var x,T=u.syncPointTree_.get(g);T?(E=E||Wo(T),v=v||to(T,$e())):(T=new pf,u.syncPointTree_=u.syncPointTree_.set(g,T)),null!=v?x=!0:(x=!1,v=rt.EMPTY_NODE,u.syncPointTree_.subtree(g).foreachChild(function(et,He){var ut=to(He,$e());ut&&(v=v.updateImmediateChild(et,ut))}));var k=tg(T,l);if(!k&&!l._queryParams.loadsAllData()){var B=$a(l);(0,I.hu)(!u.queryToTagMap.has(B),"View does not exist, but we have a tag");var te=Sc++;u.queryToTagMap.set(B,te),u.tagToQueryMap.set(te,B)}var we=function(u,l,h,g,v,E){var T=zl(u,l,g,v,E);return u.views.has(l._queryIdentifier)||u.views.set(l._queryIdentifier,T),function(u,l){u.eventRegistrations_.push(l)}(T,h),function(u,l){var h=u.viewCache_.eventCache,g=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(Gt,function(E,T){g.push(rs(E,T))}),h.isFullyInitialized()&&g.push(pc(h.getNode())),hf(u,g,h.getNode(),l)}(T,h)}(T,l,h,ls(u.pendingWriteTree_,g),v,x);if(!k&&!E){var xe=mf(T,l);we=we.concat(function(u,l,h){var g=l._path,v=Ga(u,l),E=Yo(u,h),T=u.listenProvider_.startListening(qo(l),v,E.hashFn,E.onComplete),x=u.syncPointTree_.subtree(g);if(v)(0,I.hu)(!Wo(x.value),"If we're adding a query, it shouldn't be shadowed");else for(var O=x.fold(function(te,ge,we){if(!Ct(te)&&ge&&Wo(ge))return[Qr(ge).query];var xe=[];return ge&&(xe=xe.concat(eg(ge).map(function(et){return et.query}))),Ge(we,function(et,He){xe=xe.concat(He)}),xe}),k=0;k<O.length;++k){var B=O[k];u.listenProvider_.stopListening(qo(B),Ga(u,B))}return T}(u,l,xe))}return we}function zo(u,l,h){var v=u.pendingWriteTree_,E=u.syncPointTree_.findOnPath(l,function(T,x){var k=to(x,Xt(T,l));if(k)return k});return Ua(v,l,E,h,!0)}function Ri(u,l){return Oi(l,u.syncPointTree_,null,ls(u.pendingWriteTree_,$e()))}function Oi(u,l,h,g){if(Ct(u.path))return ig(u,l,h,g);var v=l.get($e());null==h&&null!=v&&(h=to(v,$e()));var E=[],T=_t(u.path),x=u.operationForChild(T),O=l.children.get(T);if(O&&x){var k=h?h.getImmediateChild(T):null,B=Lo(g,T);E=E.concat(Oi(x,O,k,B))}return v&&(E=E.concat(gf(v,u,g,h))),E}function ig(u,l,h,g){var v=l.get($e());null==h&&null!=v&&(h=to(v,$e()));var E=[];return l.children.inorderTraversal(function(T,x){var O=h?h.getImmediateChild(T):null,k=Lo(g,T),B=u.operationForChild(T);B&&(E=E.concat(ig(B,x,O,k)))}),v&&(E=E.concat(gf(v,u,g,h))),E}function Yo(u,l){var h=l.query,g=Ga(u,h);return{hashFn:function(){return(function(u){return u.viewCache_.serverCache.getNode()}(l)||rt.EMPTY_NODE).hash()},onComplete:function(v){if("ok"===v)return g?function(u,l,h){var g=Zl(u,h);if(g){var v=Ql(g),E=v.path,T=v.queryId,x=Xt(E,l);return Kl(u,E,new mc(Zs(T),x))}return[]}(u,h._path,g):function(u,l){return Ri(u,new mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(u,h._path);var E=function(u,l){var h="Unknown Error";"too_big"===u?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?h="Client doesn't have permission to access the desired data.":"unavailable"===u&&(h="The service is unavailable");var g=new Error(u+" at "+l._path.toString()+": "+h);return g.code=u.toUpperCase(),g}(v,h);return ql(u,h,null,E)}}}function Ga(u,l){var h=$a(l);return u.queryToTagMap.get(h)}function $a(u){return u._path.toString()+"$"+u._queryIdentifier}function Zl(u,l){return u.tagToQueryMap.get(l)}function Ql(u){var l=u.indexOf("$");return(0,I.hu)(-1!==l&&l<u.length-1,"Bad queryKey."),{queryId:u.substr(l+1),path:new mt(u.substr(0,l))}}function Kl(u,l,h){var g=u.syncPointTree_.get(l);return(0,I.hu)(g,"Missing sync point for query tag that we're tracking"),gf(g,h,ls(u.pendingWriteTree_,l),null)}function qo(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,I.hu)(Kr,"Reference.ts has not been loaded"),Kr)(u._repo,u._path):u}var Xl=function(){function u(l){this.node_=l}return u.prototype.getImmediateChild=function(l){return new u(this.node_.getImmediateChild(l))},u.prototype.node=function(){return this.node_},u}(),no=function(){function u(l,h){this.syncTree_=l,this.path_=h}return u.prototype.getImmediateChild=function(l){var h=yt(this.path_,l);return new u(this.syncTree_,h)},u.prototype.node=function(){return zo(this.syncTree_,this.path_)},u}(),Ac=function(u,l,h){return u&&"object"==typeof u?((0,I.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?za(u[".sv"],l,h):"object"==typeof u[".sv"]?Mc(u[".sv"],l):void(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},za=function(u,l,h){switch(u){case"timestamp":return h.timestamp;default:(0,I.hu)(!1,"Unexpected server value: "+u)}},Mc=function(u,l,h){u.hasOwnProperty("increment")||(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));var g=u.increment;"number"!=typeof g&&(0,I.hu)(!1,"Unexpected increment value: "+g);var v=l.node();if((0,I.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return g;var T=v.getValue();return"number"!=typeof T?g:T+g},bf=function(u,l,h,g){return ro(l,new no(h,u),g)},Ya=function(u,l,h){return ro(u,new Xl(l),h)};function ro(u,l,h){var E,g=u.getPriority().val(),v=Ac(g,l.getImmediateChild(".priority"),h);if(u.isLeafNode()){var T=u,x=Ac(T.getValue(),l,h);return x!==T.getValue()||v!==T.getPriority().val()?new zs(x,en(v)):u}var O=u;return E=O,v!==O.getPriority().val()&&(E=E.updatePriority(new zs(v))),O.forEachChild(Gt,function(k,B){var te=ro(B,l.getImmediateChild(k),h);te!==B&&(E=E.updateImmediateChild(k,te))}),E}var Ni=function(l,h,g){void 0===l&&(l=""),void 0===h&&(h=null),void 0===g&&(g={children:{},childCount:0}),this.name=l,this.parent=h,this.node=g};function qa(u,l){for(var h=l instanceof mt?l:new mt(l),g=u,v=_t(h);null!==v;){var E=(0,I.DV)(g.node.children,v)||{children:{},childCount:0};g=new Ni(v,g,E),v=_t(h=St(h))}return g}function $t(u){return u.node.value}function eu(u,l){u.node.value=l,Df(u)}function Cf(u){return u.node.childCount>0}function Pi(u,l){Ge(u.node.children,function(h,g){l(new Ni(h,u,g))})}function Ef(u,l,h,g){h&&!g&&l(u),Pi(u,function(v){Ef(v,l,!0,g)}),h&&g&&l(u)}function so(u){return new mt(null===u.parent?u.name:so(u.parent)+"/"+u.name)}function Df(u){null!==u.parent&&function(u,l,h){var g=function(u){return void 0===$t(u)&&!Cf(u)}(h),v=(0,I.r3)(u.node.children,l);g&&v?(delete u.node.children[l],u.node.childCount--,Df(u)):!g&&!v&&(u.node.children[l]=h.node,u.node.childCount++,Df(u))}(u.parent,u.name,u)}var pi=/[\[\].#$\/\u0000-\u001F\u007F]/,tu=/[\[\].#$\u0000-\u001F\u007F]/,gi=10485760,cr=function(u){return"string"==typeof u&&0!==u.length&&!pi.test(u)},nu=function(u){return"string"==typeof u&&0!==u.length&&!tu.test(u)},ps=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!oe(u)||u&&"object"==typeof u&&(0,I.r3)(u,".sv")},Lr=function(u,l,h,g){g&&void 0===l||Za((0,I.gK)(u,"value"),l,h)},Za=function(u,l,h){var g=h instanceof mt?new Ol(h,u):h;if(void 0===l)throw new Error(u+"contains undefined "+$s(g));if("function"==typeof l)throw new Error(u+"contains a function "+$s(g)+" with contents = "+l.toString());if(oe(l))throw new Error(u+"contains "+l.toString()+" "+$s(g));if("string"==typeof l&&l.length>gi/3&&(0,I.ug)(l)>gi)throw new Error(u+"contains a string greater than "+gi+" utf8 bytes "+$s(g)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){var v=!1,E=!1;if(Ge(l,function(T,x){if(".value"===T)v=!0;else if(".priority"!==T&&".sv"!==T&&(E=!0,!cr(T)))throw new Error(u+" contains an invalid key ("+T+") "+$s(g)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,l){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(l),u.byteLength_+=(0,I.ug)(l),Pp(u)})(g,T),Za(u,x,g),function(u){var l=u.parts_.pop();u.byteLength_-=(0,I.ug)(l),u.parts_.length>0&&(u.byteLength_-=1)}(g)}),v&&E)throw new Error(u+' contains ".value" child '+$s(g)+" in addition to actual children.")}},ao=function(u,l,h,g){if(!g||void 0!==l){var v=(0,I.gK)(u,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(v+" must be an object containing the children to replace.");var E=[];Ge(l,function(T,x){var O=new mt(T);if(Za(v,x,yt(h,O)),".priority"===Ta(O)&&!ps(x))throw new Error(v+"contains an invalid value for '"+O.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(O)}),function(u,l){var h,g;for(h=0;h<l.length;h++)for(var v=li(g=l[h]),E=0;E<v.length;E++)if((".priority"!==v[E]||E!==v.length-1)&&!cr(v[E]))throw new Error(u+"contains an invalid key ("+v[E]+") in path "+g.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.sort(Nr);var T=null;for(h=0;h<l.length;h++){if(g=l[h],null!==T&&Yn(T,g))throw new Error(u+"contains a path "+T.toString()+" that is ancestor of another path "+g.toString());T=g}}(v,E)}},mi=function(u,l,h){if(!h||void 0!==l){if(oe(l))throw new Error((0,I.gK)(u,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ps(l))throw new Error((0,I.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},og=function(u,l,h){if(!h||void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qo=function(u,l,h,g){if(!(g&&void 0===h||cr(h)))throw new Error((0,I.gK)(u,l)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lo=function(u,l,h,g){if(!(g&&void 0===h||nu(h)))throw new Error((0,I.gK)(u,l)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dr=function(u,l){if(".info"===_t(l))throw new Error(u+" failed = Can't modify data under /.info/")},Fi=function(u,l){var h=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!cr(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==h.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),nu(u)}(h))throw new Error((0,I.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},lg=function(u,l,h,g){if((!g||void 0!==h)&&"boolean"!=typeof h)throw new Error((0,I.gK)(u,l)+"must be a boolean.")},ug=function(){this.eventLists_=[],this.recursionDepth_=0};function gn(u,l){for(var h=null,g=0;g<l.length;g++){var v=l[g],E=v.getPath();null!==h&&!Sa(E,h.path)&&(u.eventLists_.push(h),h=null),null===h&&(h={events:[],path:E}),h.events.push(v)}h&&u.eventLists_.push(h)}function _i(u,l,h){gn(u,h),Tf(u,function(g){return Sa(g,l)})}function Rn(u,l,h){gn(u,h),Tf(u,function(g){return Yn(g,l)||Yn(l,g)})}function Tf(u,l){u.recursionDepth_++;for(var h=!0,g=0;g<u.eventLists_.length;g++){var v=u.eventLists_[g];v&&(l(v.path)?(cg(u.eventLists_[g]),u.eventLists_[g]=null):h=!1)}h&&(u.eventLists_=[]),u.recursionDepth_--}function cg(u){for(var l=0;l<u.events.length;l++){var h=u.events[l];if(null!==h){u.events[l]=null;var g=h.getEventRunner();Se&&Me("event: "+h.toString()),$r(g)}}}var dg="repo_interrupt",Ic=function(){function u(l,h,g,v){this.repoInfo_=l,this.forceRestClient_=h,this.authTokenProvider_=g,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ug,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qs(),this.transactionQueueTree_=new Ni,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return u.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},u}();function Rc(u){var h=u.infoData_.getNode(new mt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function Ko(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Rc(u)})}function qn(u,l,h,g,v){u.dataUpdateCount++;var E=new mt(l);h=u.interceptServerDataCallback_?u.interceptServerDataCallback_(l,h):h;var T=[];if(v)if(g){var x=(0,I.UI)(h,function(ge){return en(ge)});T=function(u,l,h,g){var v=Zl(u,g);if(v){var E=Ql(v),T=E.path,x=E.queryId,O=Xt(T,l),k=vr.fromObject(h);return Kl(u,T,new Bl(Zs(x),O,k))}return[]}(u.serverSyncTree_,E,x,v)}else{var O=en(h);T=function(u,l,h,g){var v=Zl(u,g);if(null!=v){var E=Ql(v),T=E.path,x=E.queryId,O=Xt(T,l);return Kl(u,T,new Qs(Zs(x),O,h))}return[]}(u.serverSyncTree_,E,O,v)}else if(g){var k=(0,I.UI)(h,function(ge){return en(ge)});T=function(u,l,h){var g=vr.fromObject(h);return Ri(u,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,g))}(u.serverSyncTree_,E,k)}else{var B=en(h);T=cs(u.serverSyncTree_,E,B)}var te=E;T.length>0&&(te=_s(u,E)),Rn(u.eventQueue_,te,T)}function Jo(u,l){Nc(u,"connected",l),!1===l&&function(u){uo(u,"onDisconnectEvents");var l=Ko(u),h=qs();yr(u.onDisconnect_,$e(),function(v,E){var T=bf(v,E,u.serverSyncTree_,l);Ii(h,v,T)});var g=[];yr(h,$e(),function(v,E){g=g.concat(cs(u.serverSyncTree_,v,E));var T=Ka(u,v);_s(u,T)}),u.onDisconnect_=qs(),Rn(u.eventQueue_,$e(),g)}(u)}function Nc(u,l,h){var g=new mt("/.info/"+l),v=en(h);u.infoData_.updateSnapshot(g,v);var E=cs(u.infoSyncTree_,g,v);Rn(u.eventQueue_,g,E)}function ru(u){return u.nextWriteId_++}function gs(u,l,h,g,v){uo(u,"set",{path:l.toString(),value:h,priority:g});var E=Ko(u),T=en(h,g),x=zo(u.serverSyncTree_,l),O=Ya(T,x,E),k=ru(u),B=hi(u.serverSyncTree_,l,O,k,!0);gn(u.eventQueue_,B),u.server_.put(l.toString(),T.val(!0),function(ge,we){var xe="ok"===ge;xe||Ut("set at "+l+" failed: "+ge);var et=Bn(u.serverSyncTree_,k,!xe);Rn(u.eventQueue_,l,et),fr(0,v,ge,we)});var te=Ka(u,l);_s(u,te),Rn(u.eventQueue_,te,[])}function Mf(u,l,h){u.server_.onDisconnectCancel(l.toString(),function(g,v){"ok"===g&&vn(u.onDisconnect_,l),fr(0,h,g,v)})}function Pc(u,l,h,g){var v=en(h);u.server_.onDisconnectPut(l.toString(),v.val(!0),function(E,T){"ok"===E&&Ii(u.onDisconnect_,l,v),fr(0,g,E,T)})}function Fc(u,l,h){var g;g=".info"===_t(l._path)?ql(u.infoSyncTree_,l,h):ql(u.serverSyncTree_,l,h),_i(u.eventQueue_,l._path,g)}function kc(u){u.persistentConnection_&&u.persistentConnection_.interrupt(dg)}function uo(u){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var g="";u.persistentConnection_&&(g=u.persistentConnection_.id+":"),Me.apply(void 0,(0,q.ev)([g],(0,q.CR)(l)))}function fr(u,l,h,g){l&&$r(function(){if("ok"===h)l(null);else{var v=(h||"error").toUpperCase(),E=v;g&&(E+=": "+g);var T=new Error(E);T.code=v,l(T)}})}function Vr(u,l,h){return zo(u.serverSyncTree_,l,h)||rt.EMPTY_NODE}function ms(u,l){if(void 0===l&&(l=u.transactionQueueTree_),l||tr(u,l),$t(l)){var h=gy(u,l);(0,I.hu)(h.length>0,"Sending zero length transaction queue"),h.every(function(v){return 0===v.status})&&function(u,l,h){for(var g=h.map(function(ge){return ge.currentWriteId}),v=Vr(u,l,g),E=v,T=v.hash(),x=0;x<h.length;x++){var O=h[x];(0,I.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;var k=Xt(l,O.path);E=E.updateChild(k,O.currentOutputSnapshotRaw)}var B=E.val(!0),te=l;u.server_.put(te.toString(),B,function(ge){uo(u,"transaction put response",{path:te.toString(),status:ge});var we=[];if("ok"===ge){for(var xe=[],et=function(ut){h[ut].status=2,we=we.concat(Bn(u.serverSyncTree_,h[ut].currentWriteId)),h[ut].onComplete&&xe.push(function(){return h[ut].onComplete(null,!0,h[ut].currentOutputSnapshotResolved)}),h[ut].unwatcher()},He=0;He<h.length;He++)et(He);for(tr(u,qa(u.transactionQueueTree_,l)),ms(u,u.transactionQueueTree_),Rn(u.eventQueue_,l,we),He=0;He<xe.length;He++)$r(xe[He])}else{if("datastale"===ge)for(He=0;He<h.length;He++)h[He].status=3===h[He].status?4:0;else for(Ut("transaction at "+te.toString()+" failed: "+ge),He=0;He<h.length;He++)h[He].status=4,h[He].abortReason=ge;_s(u,l)}},T)}(u,so(l),h)}else Cf(l)&&Pi(l,function(v){ms(u,v)})}function _s(u,l){var h=Rf(u,l),g=so(h);return function(u,l,h){if(0!==l.length){for(var g=[],v=[],T=l.filter(function(k){return 0===k.status}).map(function(k){return k.currentWriteId}),x=function(k){var we,B=l[k],te=Xt(h,B.path),ge=!1;if((0,I.hu)(null!==te,"rerunTransactionsUnderNode_: relativePath should not be null."),4===B.status)ge=!0,we=B.abortReason,v=v.concat(Bn(u.serverSyncTree_,B.currentWriteId,!0));else if(0===B.status)if(B.retryCount>=25)ge=!0,we="maxretry",v=v.concat(Bn(u.serverSyncTree_,B.currentWriteId,!0));else{var xe=Vr(u,B.path,T);B.currentInputSnapshot=xe;var et=l[k].update(xe.val());if(void 0!==et){Za("transaction failed: Data returned ",et,B.path);var He=en(et);"object"==typeof et&&null!=et&&(0,I.r3)(et,".priority")||(He=He.updatePriority(xe.getPriority()));var rn=B.currentWriteId,pr=Ko(u),ia=Ya(He,xe,pr);B.currentOutputSnapshotRaw=He,B.currentOutputSnapshotResolved=ia,B.currentWriteId=ru(u),T.splice(T.indexOf(rn),1),v=(v=v.concat(hi(u.serverSyncTree_,B.path,ia,B.currentWriteId,B.applyLocally))).concat(Bn(u.serverSyncTree_,rn,!0))}else ge=!0,we="nodata",v=v.concat(Bn(u.serverSyncTree_,B.currentWriteId,!0))}Rn(u.eventQueue_,h,v),v=[],ge&&(l[k].status=2,setTimeout(l[k].unwatcher,Math.floor(0)),l[k].onComplete&&g.push("nodata"===we?function(){return l[k].onComplete(null,!1,l[k].currentInputSnapshot)}:function(){return l[k].onComplete(new Error(we),!1,null)}))},O=0;O<l.length;O++)x(O);for(tr(u,u.transactionQueueTree_),O=0;O<g.length;O++)$r(g[O]);ms(u,u.transactionQueueTree_)}}(u,gy(u,h),g),g}function Rf(u,l){var h,g=u.transactionQueueTree_;for(h=_t(l);null!==h&&void 0===$t(g);)g=qa(g,h),h=_t(l=St(l));return g}function gy(u,l){var h=[];return Un(u,l,h),h.sort(function(g,v){return g.order-v.order}),h}function Un(u,l,h){var g=$t(l);if(g)for(var v=0;v<g.length;v++)h.push(g[v]);Pi(l,function(E){Un(u,E,h)})}function tr(u,l){var h=$t(l);if(h){for(var g=0,v=0;v<h.length;v++)2!==h[v].status&&(h[g]=h[v],g++);h.length=g,eu(l,h.length>0?h:void 0)}Pi(l,function(E){tr(u,E)})}function Ka(u,l){var h=so(Rf(u,l)),g=qa(u.transactionQueueTree_,l);return function(u,l,h){for(var g=u.parent;null!==g;){if(l(g))return!0;g=g.parent}}(g,function(v){Ja(u,v)}),Ja(u,g),Ef(g,function(v){Ja(u,v)}),h}function Ja(u,l){var h=$t(l);if(h){for(var g=[],v=[],E=-1,T=0;T<h.length;T++)3===h[T].status||(1===h[T].status?((0,I.hu)(E===T-1,"All SENT items should be at beginning of queue."),E=T,h[T].status=3,h[T].abortReason="set"):((0,I.hu)(0===h[T].status,"Unexpected transaction status in abort"),h[T].unwatcher(),v=v.concat(Bn(u.serverSyncTree_,h[T].currentWriteId,!0)),h[T].onComplete&&g.push(h[T].onComplete.bind(null,new Error("set"),!1,null))));for(-1===E?eu(l,void 0):h.length=E+1,Rn(u.eventQueue_,so(l),v),T=0;T<g.length;T++)$r(g[T])}}var iu=function(u,l){var h=Of(u),g=h.namespace;return"firebase.com"===h.domain&&Rt(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!g||"undefined"===g)&&"localhost"!==h.domain&&Rt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new on(h.host,h.secure,g,l,"ws"===h.scheme||"wss"===h.scheme,"",g!==h.subdomain),path:new mt(h.pathString)}},Of=function(u){var l="",h="",g="",v="",E="",T=!0,x="https",O=443;if("string"==typeof u){var k=u.indexOf("//");k>=0&&(x=u.substring(0,k-1),u=u.substring(k+2));var B=u.indexOf("/");-1===B&&(B=u.length);var te=u.indexOf("?");-1===te&&(te=u.length),l=u.substring(0,Math.min(B,te)),B<te&&(v=function(u){for(var l="",h=u.split("/"),g=0;g<h.length;g++)if(h[g].length>0){var v=h[g];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(E){}l+="/"+v}return l}(u.substring(B,te)));var ge=function(u){var l,h,g={};"?"===u.charAt(0)&&(u=u.substring(1));try{for(var v=(0,q.XA)(u.split("&")),E=v.next();!E.done;E=v.next()){var T=E.value;if(0!==T.length){var x=T.split("=");2===x.length?g[decodeURIComponent(x[0])]=decodeURIComponent(x[1]):Ut("Invalid query segment '"+T+"' in query '"+u+"'")}}}catch(O){l={error:O}}finally{try{E&&!E.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}return g}(u.substring(Math.min(u.length,te)));(k=l.indexOf(":"))>=0?(T="https"===x||"wss"===x,O=parseInt(l.substring(k+1),10)):k=l.length;var we=l.slice(0,k);if("localhost"===we.toLowerCase())h="localhost";else if(we.split(".").length<=2)h=we;else{var xe=l.indexOf(".");g=l.substring(0,xe).toLowerCase(),h=l.substring(xe+1),E=g}"ns"in ge&&(E=ge.ns)}return{host:l,port:O,domain:h,subdomain:g,secure:T,scheme:x,pathString:v,namespace:E}},Nf=function(){function u(l,h,g,v){this.eventType=l,this.eventRegistration=h,this.snapshot=g,this.prevName=v}return u.prototype.getPath=function(){var l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path},u.prototype.getEventType=function(){return this.eventType},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.Pz)(this.snapshot.exportVal())},u}(),Vc=function(){function u(l,h,g){this.eventRegistration=l,this.error=h,this.path=g}return u.prototype.getPath=function(){return this.path},u.prototype.getEventType=function(){return"cancel"},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.path.toString()+":cancel"},u}(),Bc=function(){function u(l,h){this.snapshotCallback=l,this.cancelCallback=h}return u.prototype.onValue=function(l,h){this.snapshotCallback.call(null,l,h)},u.prototype.onCancel=function(l){return(0,I.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)},Object.defineProperty(u.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),u.prototype.matches=function(l){return this.snapshotCallback===l.snapshotCallback||this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context},u}(),Xa=function(){function u(l,h){this._repo=l,this._path=h}return u.prototype.cancel=function(){var l=new I.BH;return Mf(this._repo,this._path,l.wrapCallback(function(){})),l.promise},u.prototype.remove=function(){dr("OnDisconnect.remove",this._path);var l=new I.BH;return Pc(this._repo,this._path,null,l.wrapCallback(function(){})),l.promise},u.prototype.set=function(l){dr("OnDisconnect.set",this._path),Lr("OnDisconnect.set",l,this._path,!1);var h=new I.BH;return Pc(this._repo,this._path,l,h.wrapCallback(function(){})),h.promise},u.prototype.setWithPriority=function(l,h){dr("OnDisconnect.setWithPriority",this._path),Lr("OnDisconnect.setWithPriority",l,this._path,!1),mi("OnDisconnect.setWithPriority",h,!1);var g=new I.BH;return function(u,l,h,g,v){var E=en(h,g);u.server_.onDisconnectPut(l.toString(),E.val(!0),function(T,x){"ok"===T&&Ii(u.onDisconnect_,l,E),fr(0,v,T,x)})}(this._repo,this._path,l,h,g.wrapCallback(function(){})),g.promise},u.prototype.update=function(l){dr("OnDisconnect.update",this._path),ao("OnDisconnect.update",l,this._path,!1);var h=new I.BH;return function(u,l,h,g){if((0,I.xb)(h))return Me("onDisconnect().update() called with empty data.  Don't do anything."),void fr(0,g,"ok",void 0);u.server_.onDisconnectMerge(l.toString(),h,function(v,E){"ok"===v&&Ge(h,function(T,x){var O=en(x);Ii(u.onDisconnect_,yt(l,T),O)}),fr(0,g,v,E)})}(this._repo,this._path,l,h.wrapCallback(function(){})),h.promise},u}(),mn=function(){function u(l,h,g,v){this._repo=l,this._path=h,this._queryParams=g,this._orderByCalled=v}return Object.defineProperty(u.prototype,"key",{get:function(){return Ct(this._path)?null:Ta(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new Tt(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryIdentifier",{get:function(){var l=Fa(this._queryParams),h=zt(l);return"{}"===h?"default":h},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryObject",{get:function(){return Fa(this._queryParams)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(l){if(!((l=(0,I.m9)(l))instanceof u))return!1;var h=this._repo===l._repo,g=Sa(this._path,l._path);return h&&g&&this._queryIdentifier===l._queryIdentifier},u.prototype.toJSON=function(){return this.toString()},u.prototype.toString=function(){return this._repo.toString()+function(u){for(var l="",h=u.pieceNum_;h<u.pieces_.length;h++)""!==u.pieces_[h]&&(l+="/"+encodeURIComponent(String(u.pieces_[h])));return l||"/"}(this._path)},u}();function vt(u,l){if(!0===u._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function hr(u){var l=null,h=null;if(u.hasStart()&&(l=u.getIndexStartValue()),u.hasEnd()&&(h=u.getIndexEndValue()),u.getIndex()===ci){var g="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==ne)throw new Error(g);if("string"!=typeof l)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==be)throw new Error(g);if("string"!=typeof h)throw new Error(v)}}else if(u.getIndex()===Gt){if(null!=l&&!ps(l)||null!=h&&!ps(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.hu)(u.getIndex()instanceof Po||u.getIndex()===Ma,"unknown index type."),null!=l&&"object"==typeof l||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function su(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Tt=function(u){function l(h,g){return u.call(this,h,g,new ef,!1)||this}return(0,q.ZT)(l,u),Object.defineProperty(l.prototype,"parent",{get:function(){var h=Wr(this._path);return null===h?null:new l(this._repo,h)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){for(var h=this;null!==h.parent;)h=h.parent;return h},enumerable:!1,configurable:!0}),l}(mn),ou=function(){function u(l,h,g){this._node=l,this.ref=h,this._index=g}return Object.defineProperty(u.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),u.prototype.child=function(l){var h=new mt(l),g=ys(this.ref,l);return new u(this._node.getChild(h),g,Gt)},u.prototype.exists=function(){return!this._node.isEmpty()},u.prototype.exportVal=function(){return this._node.val(!0)},u.prototype.forEach=function(l){var h=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(v,E){return l(new u(E,ys(h.ref,v),Gt))})},u.prototype.hasChild=function(l){var h=new mt(l);return!this._node.getChild(h).isEmpty()},u.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},u.prototype.toJSON=function(){return this.exportVal()},u.prototype.val=function(){return this._node.val()},u}();function au(u,l){return(u=(0,I.m9)(u))._checkNotDeleted("ref"),void 0!==l?ys(u._root,l):u._root}function el(u,l){(u=(0,I.m9)(u))._checkNotDeleted("refFromURL");var h=iu(l,u._repo.repoInfo_.nodeAdmin);Fi("refFromURL",h);var g=h.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&g.host!==u._repo.repoInfo_.host&&Rt("refFromURL: Host name does not match the current database: (found "+g.host+" but expected "+u._repo.repoInfo_.host+")"),au(u,h.path.toString())}function ys(u,l){return null===_t((u=(0,I.m9)(u))._path)?((h=l)&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),lo("child","path",h,!1)):lo("child","path",l,!1),new Tt(u._repo,yt(u._path,l));var h}function lu(u,l){u=(0,I.m9)(u),dr("push",u._path),Lr("push",l,u._path,!0);var T,h=Rc(u._repo),g=Jd(h),v=ys(u,g),E=ys(u,g);return T=null!=l?uu(E,l).then(function(){return E}):Promise.resolve(E),v.then=T.then.bind(T),v.catch=T.then.bind(T,void 0),v}function tl(u){return dr("remove",u._path),uu(u,null)}function uu(u,l){u=(0,I.m9)(u),dr("set",u._path),Lr("set",l,u._path,!1);var h=new I.BH;return gs(u._repo,u._path,l,null,h.wrapCallback(function(){})),h.promise}function cu(u,l){u=(0,I.m9)(u),dr("setPriority",u._path),mi("setPriority",l,!1);var h=new I.BH;return gs(u._repo,yt(u._path,".priority"),l,null,h.wrapCallback(function(){})),h.promise}function yg(u,l,h){if(dr("setWithPriority",u._path),Lr("setWithPriority",l,u._path,!1),mi("setWithPriority",h,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";var g=new I.BH;return gs(u._repo,u._path,l,h,g.wrapCallback(function(){})),g.promise}function Pf(u,l){ao("update",l,u._path,!1);var h=new I.BH;return function(u,l,h,g){uo(u,"update",{path:l.toString(),value:h});var v=!0,E=Ko(u),T={};if(Ge(h,function(k,B){v=!1,T[k]=bf(yt(l,k),en(B),u.serverSyncTree_,E)}),v)Me("update() called with empty data.  Don't do anything."),fr(0,g,"ok",void 0);else{var x=ru(u),O=function(u,l,h,g){!function(u,l,h,g){(0,I.hu)(g>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:l,children:h,writeId:g,visible:!0}),u.visibleWrites=os(u.visibleWrites,l,h),u.lastWriteId=g}(u.pendingWriteTree_,l,h,g);var v=vr.fromObject(h);return Ri(u,new Bl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,v))}(u.serverSyncTree_,l,T,x);gn(u.eventQueue_,O),u.server_.merge(l.toString(),h,function(k,B){var te="ok"===k;te||Ut("update at "+l+" failed: "+k);var ge=Bn(u.serverSyncTree_,x,!te),we=ge.length>0?_s(u,l):l;Rn(u.eventQueue_,we,ge),fr(0,g,k,B)}),Ge(h,function(k){var B=Ka(u,yt(l,k));_s(u,B)}),Rn(u.eventQueue_,l,[])}}(u._repo,u._path,l,h.wrapCallback(function(){})),h.promise}function Uc(u){return function(u,l){var h=function(u,l){var h=l._path,g=null;u.syncPointTree_.foreachOnPath(h,function(k,B){var te=Xt(k,h);g=g||to(B,te)});var v=u.syncPointTree_.get(h);v?g=g||to(v,$e()):(v=new pf,u.syncPointTree_=u.syncPointTree_.set(h,v));var E=null!=g,T=E?new is(g,!0,!1):null;return function(u){return Ul(u.viewCache_)}(zl(v,l,ls(u.pendingWriteTree_,l._path),E?T.getNode():rt.EMPTY_NODE,E))}(u.serverSyncTree_,l);return null!=h?Promise.resolve(h):u.server_.get(l).then(function(g){var v=en(g).withIndex(l._queryParams.getIndex()),E=cs(u.serverSyncTree_,l._path,v);return _i(u.eventQueue_,l._path,E),Promise.resolve(v)},function(g){return uo(u,"get for query "+(0,I.Pz)(l)+" failed: "+g),Promise.reject(new Error(g))})}((u=(0,I.m9)(u))._repo,u).then(function(l){return new ou(l,new Tt(u._repo,u._path),u._queryParams.getIndex())})}var co=function(){function u(l){this.callbackContext=l}return u.prototype.respondsTo=function(l){return"value"===l},u.prototype.createEvent=function(l,h){var g=h._queryParams.getIndex();return new Nf("value",this,new ou(l.snapshotNode,new Tt(h._repo,h._path),g))},u.prototype.getEventRunner=function(l){var h=this;return"cancel"===l.getEventType()?function(){return h.callbackContext.onCancel(l.error)}:function(){return h.callbackContext.onValue(l.snapshot,null)}},u.prototype.createCancelEvent=function(l,h){return this.callbackContext.hasCancelCallback?new Vc(this,l,h):null},u.prototype.matches=function(l){return l instanceof u&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))},u.prototype.hasAnyCallback=function(){return null!==this.callbackContext},u}(),jn=function(){function u(l,h){this.eventType=l,this.callbackContext=h}return u.prototype.respondsTo=function(l){var h="children_added"===l?"child_added":l;return this.eventType===("children_removed"===h?"child_removed":h)},u.prototype.createCancelEvent=function(l,h){return this.callbackContext.hasCancelCallback?new Vc(this,l,h):null},u.prototype.createEvent=function(l,h){(0,I.hu)(null!=l.childName,"Child events should have a childName.");var g=ys(new Tt(h._repo,h._path),l.childName),v=h._queryParams.getIndex();return new Nf(l.type,this,new ou(l.snapshotNode,g,v),l.prevName)},u.prototype.getEventRunner=function(l){var h=this;return"cancel"===l.getEventType()?function(){return h.callbackContext.onCancel(l.error)}:function(){return h.callbackContext.onValue(l.snapshot,l.prevName)}},u.prototype.matches=function(l){return l instanceof u&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))},u.prototype.hasAnyCallback=function(){return!!this.callbackContext},u}();function fo(u,l,h,g,v){var E;if("object"==typeof g&&(E=void 0,v=g),"function"==typeof g&&(E=g),v&&v.onlyOnce){var T=h,x=function(B,te){Fc(u._repo,u,k),T(B,te)};x.userCallback=h.userCallback,x.context=h.context,h=x}var O=new Bc(h,E||void 0),k="value"===l?new co(O):new jn(l,O);return function(u,l,h){var g;g=".info"===_t(l._path)?rg(u.infoSyncTree_,l,h):rg(u.serverSyncTree_,l,h),_i(u.eventQueue_,l._path,g)}(u._repo,u,k),function(){return Fc(u._repo,u,k)}}function du(u,l,h,g){return fo(u,"value",l,h,g)}function jc(u,l,h,g){return fo(u,"child_added",l,h,g)}function bn(u,l,h,g){return fo(u,"child_changed",l,h,g)}function Xo(u,l,h,g){return fo(u,"child_moved",l,h,g)}function fu(u,l,h,g){return fo(u,"child_removed",l,h,g)}function Ff(u,l,h){var g=null,v=h?new Bc(h):null;"value"===l?g=new co(v):l&&(g=new jn(l,v)),Fc(u._repo,u,g)}var Xr=function(){},Hc=function(u){function l(h,g){var v=u.call(this)||this;return v._value=h,v._key=g,v}return(0,q.ZT)(l,u),l.prototype._apply=function(h){Lr("endAt",this._value,h._path,!0);var g=Na(h._queryParams,this._value,this._key);if(su(g),hr(g),h._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mn(h._repo,h._path,g,h._orderByCalled)},l}(Xr);function kf(u,l){return Qo("endAt","key",l,!0),new Hc(u,l)}var hu=function(u){function l(h,g){var v=u.call(this)||this;return v._value=h,v._key=g,v}return(0,q.ZT)(l,u),l.prototype._apply=function(h){Lr("endBefore",this._value,h._path,!1);var g=function(u,l,h){var v;return u.index_===ci?("string"==typeof l&&(l=ns(l)),v=Na(u,l,h)):v=Na(u,l,null==h?ne:ns(h)),v.endBeforeSet_=!0,v}(h._queryParams,this._value,this._key);if(su(g),hr(g),h._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mn(h._repo,h._path,g,h._orderByCalled)},l}(Xr);function Gc(u,l){return Qo("endBefore","key",l,!0),new hu(u,l)}var ei=function(u){function l(h,g){var v=u.call(this)||this;return v._value=h,v._key=g,v}return(0,q.ZT)(l,u),l.prototype._apply=function(h){Lr("startAt",this._value,h._path,!0);var g=Oa(h._queryParams,this._value,this._key);if(su(g),hr(g),h._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mn(h._repo,h._path,g,h._orderByCalled)},l}(Xr);function nl(u,l){return void 0===u&&(u=null),Qo("startAt","key",l,!0),new ei(u,l)}var Lf=function(u){function l(h,g){var v=u.call(this)||this;return v._value=h,v._key=g,v}return(0,q.ZT)(l,u),l.prototype._apply=function(h){Lr("startAfter",this._value,h._path,!1);var g=function(u,l,h){var g;return u.index_===ci?("string"==typeof l&&(l=Ia(l)),g=Oa(u,l,h)):g=Oa(u,l,null==h?be:Ia(h)),g.startAfterSet_=!0,g}(h._queryParams,this._value,this._key);if(su(g),hr(g),h._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mn(h._repo,h._path,g,h._orderByCalled)},l}(Xr);function Vf(u,l){return Qo("startAfter","key",l,!0),new Lf(u,l)}var Bf=function(u){function l(h){var g=u.call(this)||this;return g._limit=h,g}return(0,q.ZT)(l,u),l.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mn(h._repo,h._path,function(u,l){var h=u.copy();return h.limitSet_=!0,h.limit_=l,h.viewFrom_="l",h}(h._queryParams,this._limit),h._orderByCalled)},l}(Xr);function vs(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bf(u)}var $c=function(u){function l(h){var g=u.call(this)||this;return g._limit=h,g}return(0,q.ZT)(l,u),l.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mn(h._repo,h._path,function(u,l){var h=u.copy();return h.limitSet_=!0,h.limit_=l,h.viewFrom_="r",h}(h._queryParams,this._limit),h._orderByCalled)},l}(Xr);function vg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $c(u)}var Wc=function(u){function l(h){var g=u.call(this)||this;return g._path=h,g}return(0,q.ZT)(l,u),l.prototype._apply=function(h){vt(h,"orderByChild");var g=new mt(this._path);if(Ct(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var v=new Po(g),E=Jn(h._queryParams,v);return hr(E),new mn(h._repo,h._path,E,!0)},l}(Xr);function zc(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lo("orderByChild","path",u,!1),new Wc(u)}var ea=function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),l.prototype._apply=function(h){vt(h,"orderByKey");var g=Jn(h._queryParams,ci);return hr(g),new mn(h._repo,h._path,g,!0)},l}(Xr);function Uf(){return new ea}var Yc=function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),l.prototype._apply=function(h){vt(h,"orderByPriority");var g=Jn(h._queryParams,Gt);return hr(g),new mn(h._repo,h._path,g,!0)},l}(Xr);function bs(){return new Yc}var bg=function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return(0,q.ZT)(l,u),l.prototype._apply=function(h){vt(h,"orderByValue");var g=Jn(h._queryParams,Ma);return hr(g),new mn(h._repo,h._path,g,!0)},l}(Xr);function pu(){return new bg}var jf=function(u){function l(h,g){var v=u.call(this)||this;return v._value=h,v._key=g,v}return(0,q.ZT)(l,u),l.prototype._apply=function(h){if(Lr("equalTo",this._value,h._path,!1),h._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(h._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hc(this._value,this._key)._apply(new ei(this._value,this._key)._apply(h))},l}(Xr);function Cg(u,l){return Qo("equalTo","key",l,!0),new jf(u,l)}function ti(u){for(var l,h,g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];var E=(0,I.m9)(u);try{for(var T=(0,q.XA)(g),x=T.next();!x.done;x=T.next()){var O=x.value;E=O._apply(E)}}catch(k){l={error:k}}finally{try{x&&!x.done&&(h=T.return)&&h.call(T)}finally{if(l)throw l.error}}return E}(function(u){(0,I.hu)(!Tc,"__referenceConstructor has already been defined"),Tc=u})(Tt),function(u){(0,I.hu)(!Kr,"__referenceConstructor has already been defined"),Kr=u}(Tt);var Hn={},ho=!1;function Zc(u,l,h,g,v){var E=g||u.options.databaseURL;void 0===E&&(u.options.projectId||Rt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",u.options.projectId),E=u.options.projectId+"-default-rtdb.firebaseio.com");var O,T=iu(E,v),x=T.repoInfo,k=void 0;"undefined"!=typeof process&&(k=process.env.FIREBASE_DATABASE_EMULATOR_HOST),k?(O=!0,x=(T=iu(E="http://"+k+"?ns="+x.namespace,v)).repoInfo):O=!T.repoInfo.secure;var B=v&&O?new gt(gt.OWNER):new Mt(u.name,u.options,l);Fi("Invalid Firebase Database URL",T),Ct(T.path)||Rt("Database URL must point to the root of a Firebase Database (not including a child path).");var te=function(u,l,h,g){var v=Hn[l.name];v||(Hn[l.name]=v={});var E=v[u.toURLString()];return E&&Rt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new Ic(u,ho,h,g),v[u.toURLString()]=E,E}(x,u,B,new Da(u.name,h));return new Eg(te,u)}var Eg=function(){function u(l,h){this._repoInternal=l,this.app=h,this.type="database",this._instanceStarted=!1}return Object.defineProperty(u.prototype,"_repo",{get:function(){return this._instanceStarted||(function(u,l,h){if(u.stats_=jt(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new sy(u.repoInfo_,function(g,v,E,T){qn(u,g,v,E,T)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(function(){return Jo(u,!0)},0);else{if(null!=h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.Pz)(h)}catch(g){throw new Error("Invalid authOverride provided: "+g)}}u.persistentConnection_=new Ro(u.repoInfo_,l,function(g,v,E,T){qn(u,g,v,E,T)},function(g){Jo(u,g)},function(g){!function(u,l){Ge(l,function(h,g){Nc(u,h,g)})}(u,g)},u.authTokenProvider_,u.appCheckProvider_,h),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(function(g){u.server_.refreshAuthToken(g)}),u.appCheckProvider_.addTokenChangeListener(function(g){u.server_.refreshAppCheckToken(g.token)}),u.statsReporter_=function(u,l){var h=u.toString();return xr[h]||(xr[h]=l()),xr[h]}(u.repoInfo_,function(){return new nf(u.stats_,u.server_)}),u.infoData_=new Gp,u.infoSyncTree_=new _f({startListening:function(g,v,E,T){var x=[],O=u.infoData_.getNode(g._path);return O.isEmpty()||(x=cs(u.infoSyncTree_,g._path,O),setTimeout(function(){T("ok")},0)),x},stopListening:function(){}}),Nc(u,"connected",!1),u.serverSyncTree_=new _f({startListening:function(g,v,E,T){return u.server_.listen(g,E,v,function(x,O){var k=T(x,O);Rn(u.eventQueue_,g._path,k)}),[]},stopListening:function(g,v){u.server_.unlisten(g,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Tt(this._repo,$e())),this._rootInternal},enumerable:!1,configurable:!0}),u.prototype._delete=function(){return null!==this._rootInternal&&(function(u,l){var h=Hn[l];(!h||h[u.key]!==u)&&Rt("Database "+l+"("+u.repoInfo_+") has already been deleted."),kc(u),delete h[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},u.prototype._checkNotDeleted=function(l){null===this._rootInternal&&Rt("Cannot call "+l+" on a deleted database.")},u}();function Dg(u){(u=(0,I.m9)(u))._checkNotDeleted("goOffline"),kc(u._repo)}function po(u){(u=(0,I.m9)(u))._checkNotDeleted("goOnline"),function(u){u.persistentConnection_&&u.persistentConnection_.resume(dg)}(u._repo)}var Cr={".sv":"timestamp"},Gf=function(){function u(l,h){this.committed=l,this.snapshot=h}return u.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}();function Tg(u,l,h){var g;if(u=(0,I.m9)(u),dr("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";var v=null===(g=null==h?void 0:h.applyLocally)||void 0===g||g,E=new I.BH,x=du(u,function(){});return function(u,l,h,g,v,E){uo(u,"transaction on "+l);var T={path:l,update:h,onComplete:g,status:null,order:ve(),applyLocally:E,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},x=Vr(u,l,void 0);T.currentInputSnapshot=x;var O=T.update(x.val());if(void 0===O)T.unwatcher(),T.currentOutputSnapshotRaw=null,T.currentOutputSnapshotResolved=null,T.onComplete&&T.onComplete(null,!1,T.currentInputSnapshot);else{Za("transaction failed: Data returned ",O,T.path),T.status=0;var k=qa(u.transactionQueueTree_,l),B=$t(k)||[];B.push(T),eu(k,B);var te=void 0;"object"==typeof O&&null!==O&&(0,I.r3)(O,".priority")?(te=(0,I.DV)(O,".priority"),(0,I.hu)(ps(te),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):te=(zo(u.serverSyncTree_,l)||rt.EMPTY_NODE).getPriority().val();var we=Ko(u),xe=en(O,te),et=Ya(xe,x,we);T.currentOutputSnapshotRaw=xe,T.currentOutputSnapshotResolved=et,T.currentWriteId=ru(u);var He=hi(u.serverSyncTree_,l,et,T.currentWriteId,T.applyLocally);Rn(u.eventQueue_,l,He),ms(u,u.transactionQueueTree_)}}(u._repo,u._path,l,function(O,k,B){var te=null;O?E.reject(O):(te=new ou(B,new Tt(u._repo,u._path),Gt),E.resolve(new Gf(k,te)))},x,v),E.promise}var ni=function(){function u(l){this._delegate=l}return u.prototype.cancel=function(l){(0,I.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,I.Wj)("OnDisconnect.cancel","onComplete",l,!0);var h=this._delegate.cancel();return l&&h.then(function(){return l(null)},function(g){return l(g)}),h},u.prototype.remove=function(l){(0,I.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,I.Wj)("OnDisconnect.remove","onComplete",l,!0);var h=this._delegate.remove();return l&&h.then(function(){return l(null)},function(g){return l(g)}),h},u.prototype.set=function(l,h){(0,I.Dv)("OnDisconnect.set",1,2,arguments.length),(0,I.Wj)("OnDisconnect.set","onComplete",h,!0);var g=this._delegate.set(l);return h&&g.then(function(){return h(null)},function(v){return h(v)}),g},u.prototype.setWithPriority=function(l,h,g){(0,I.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.Wj)("OnDisconnect.setWithPriority","onComplete",g,!0);var v=this._delegate.setWithPriority(l,h);return g&&v.then(function(){return g(null)},function(E){return g(E)}),v},u.prototype.update=function(l,h){if((0,I.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){for(var g={},v=0;v<l.length;++v)g[""+v]=l[v];l=g,Ut("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.Wj)("OnDisconnect.update","onComplete",h,!0);var E=this._delegate.update(l);return h&&E.then(function(){return h(null)},function(T){return h(T)}),E},u}(),Kc=function(){function u(l,h){this.committed=l,this.snapshot=h}return u.prototype.toJSON=function(){return(0,I.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}(),go=function(){function u(l,h){this._database=l,this._delegate=h}return u.prototype.val=function(){return(0,I.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},u.prototype.exportVal=function(){return(0,I.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},u.prototype.toJSON=function(){return(0,I.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.exists=function(){return(0,I.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},u.prototype.child=function(l){return(0,I.Dv)("DataSnapshot.child",0,1,arguments.length),l=String(l),lo("DataSnapshot.child","path",l,!1),new u(this._database,this._delegate.child(l))},u.prototype.hasChild=function(l){return(0,I.Dv)("DataSnapshot.hasChild",1,1,arguments.length),lo("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)},u.prototype.getPriority=function(){return(0,I.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},u.prototype.forEach=function(l){var h=this;return(0,I.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,I.Wj)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(function(g){return l(new u(h._database,g))})},u.prototype.hasChildren=function(){return(0,I.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(u.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),u.prototype.numChildren=function(){return(0,I.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},u.prototype.getRef=function(){return(0,I.Dv)("DataSnapshot.ref",0,0,arguments.length),new Cs(this._database,this._delegate.ref)},Object.defineProperty(u.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),u}(),Jc=function(){function u(l,h){this.database=l,this._delegate=h}return u.prototype.on=function(l,h,g,v){var T,E=this;(0,I.Dv)("Query.on",2,4,arguments.length),(0,I.Wj)("Query.on","callback",h,!1);var x=u.getCancelAndContextArgs_("Query.on",g,v),O=function(B,te){h.call(x.context,new go(E.database,B),te)};O.userCallback=h,O.context=x.context;var k=null===(T=x.cancel)||void 0===T?void 0:T.bind(x.context);switch(l){case"value":return du(this._delegate,O,k),h;case"child_added":return jc(this._delegate,O,k),h;case"child_removed":return fu(this._delegate,O,k),h;case"child_changed":return bn(this._delegate,O,k),h;case"child_moved":return Xo(this._delegate,O,k),h;default:throw new Error((0,I.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},u.prototype.off=function(l,h,g){if((0,I.Dv)("Query.off",0,3,arguments.length),og("Query.off",l,!0),(0,I.Wj)("Query.off","callback",h,!0),(0,I.lb)("Query.off","context",g,!0),h){var v=function(){};v.userCallback=h,v.context=g,Ff(this._delegate,l,v)}else Ff(this._delegate,l)},u.prototype.get=function(){var l=this;return Uc(this._delegate).then(function(h){return new go(l.database,h)})},u.prototype.once=function(l,h,g,v){var E=this;(0,I.Dv)("Query.once",1,4,arguments.length),(0,I.Wj)("Query.once","callback",h,!0);var T=u.getCancelAndContextArgs_("Query.once",g,v),x=new I.BH,O=function(B,te){var ge=new go(E.database,B);h&&h.call(T.context,ge,te),x.resolve(ge)};O.userCallback=h,O.context=T.context;var k=function(B){T.cancel&&T.cancel.call(T.context,B),x.reject(B)};switch(l){case"value":du(this._delegate,O,k,{onlyOnce:!0});break;case"child_added":jc(this._delegate,O,k,{onlyOnce:!0});break;case"child_removed":fu(this._delegate,O,k,{onlyOnce:!0});break;case"child_changed":bn(this._delegate,O,k,{onlyOnce:!0});break;case"child_moved":Xo(this._delegate,O,k,{onlyOnce:!0});break;default:throw new Error((0,I.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise},u.prototype.limitToFirst=function(l){return(0,I.Dv)("Query.limitToFirst",1,1,arguments.length),new u(this.database,ti(this._delegate,vs(l)))},u.prototype.limitToLast=function(l){return(0,I.Dv)("Query.limitToLast",1,1,arguments.length),new u(this.database,ti(this._delegate,vg(l)))},u.prototype.orderByChild=function(l){return(0,I.Dv)("Query.orderByChild",1,1,arguments.length),new u(this.database,ti(this._delegate,zc(l)))},u.prototype.orderByKey=function(){return(0,I.Dv)("Query.orderByKey",0,0,arguments.length),new u(this.database,ti(this._delegate,Uf()))},u.prototype.orderByPriority=function(){return(0,I.Dv)("Query.orderByPriority",0,0,arguments.length),new u(this.database,ti(this._delegate,bs()))},u.prototype.orderByValue=function(){return(0,I.Dv)("Query.orderByValue",0,0,arguments.length),new u(this.database,ti(this._delegate,pu()))},u.prototype.startAt=function(l,h){return void 0===l&&(l=null),(0,I.Dv)("Query.startAt",0,2,arguments.length),new u(this.database,ti(this._delegate,nl(l,h)))},u.prototype.startAfter=function(l,h){return void 0===l&&(l=null),(0,I.Dv)("Query.startAfter",0,2,arguments.length),new u(this.database,ti(this._delegate,Vf(l,h)))},u.prototype.endAt=function(l,h){return void 0===l&&(l=null),(0,I.Dv)("Query.endAt",0,2,arguments.length),new u(this.database,ti(this._delegate,kf(l,h)))},u.prototype.endBefore=function(l,h){return void 0===l&&(l=null),(0,I.Dv)("Query.endBefore",0,2,arguments.length),new u(this.database,ti(this._delegate,Gc(l,h)))},u.prototype.equalTo=function(l,h){return(0,I.Dv)("Query.equalTo",1,2,arguments.length),new u(this.database,ti(this._delegate,Cg(l,h)))},u.prototype.toString=function(){return(0,I.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},u.prototype.toJSON=function(){return(0,I.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.isEqual=function(l){if((0,I.Dv)("Query.isEqual",1,1,arguments.length),!(l instanceof u)){var h="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(h)}return this._delegate.isEqual(l._delegate)},u.getCancelAndContextArgs_=function(l,h,g){var v={cancel:void 0,context:void 0};if(h&&g)v.cancel=h,(0,I.Wj)(l,"cancel",v.cancel,!0),v.context=g,(0,I.lb)(l,"context",v.context,!0);else if(h)if("object"==typeof h&&null!==h)v.context=h;else{if("function"!=typeof h)throw new Error((0,I.gK)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=h}return v},Object.defineProperty(u.prototype,"ref",{get:function(){return new Cs(this.database,new Tt(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),u}(),Cs=function(u){function l(h,g){var v=u.call(this,h,new mn(g._repo,g._path,new ef,!1))||this;return v.database=h,v._delegate=g,v}return(0,q.ZT)(l,u),l.prototype.getKey=function(){return(0,I.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},l.prototype.child=function(h){return(0,I.Dv)("Reference.child",1,1,arguments.length),"number"==typeof h&&(h=String(h)),new l(this.database,ys(this._delegate,h))},l.prototype.getParent=function(){(0,I.Dv)("Reference.parent",0,0,arguments.length);var h=this._delegate.parent;return h?new l(this.database,h):null},l.prototype.getRoot=function(){return(0,I.Dv)("Reference.root",0,0,arguments.length),new l(this.database,this._delegate.root)},l.prototype.set=function(h,g){(0,I.Dv)("Reference.set",1,2,arguments.length),(0,I.Wj)("Reference.set","onComplete",g,!0);var v=uu(this._delegate,h);return g&&v.then(function(){return g(null)},function(E){return g(E)}),v},l.prototype.update=function(h,g){if((0,I.Dv)("Reference.update",1,2,arguments.length),Array.isArray(h)){for(var v={},E=0;E<h.length;++E)v[""+E]=h[E];h=v,Ut("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dr("Reference.update",this._delegate._path),(0,I.Wj)("Reference.update","onComplete",g,!0);var T=Pf(this._delegate,h);return g&&T.then(function(){return g(null)},function(x){return g(x)}),T},l.prototype.setWithPriority=function(h,g,v){(0,I.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,I.Wj)("Reference.setWithPriority","onComplete",v,!0);var E=yg(this._delegate,h,g);return v&&E.then(function(){return v(null)},function(T){return v(T)}),E},l.prototype.remove=function(h){(0,I.Dv)("Reference.remove",0,1,arguments.length),(0,I.Wj)("Reference.remove","onComplete",h,!0);var g=tl(this._delegate);return h&&g.then(function(){return h(null)},function(v){return h(v)}),g},l.prototype.transaction=function(h,g,v){var E=this;(0,I.Dv)("Reference.transaction",1,3,arguments.length),(0,I.Wj)("Reference.transaction","transactionUpdate",h,!1),(0,I.Wj)("Reference.transaction","onComplete",g,!0),lg("Reference.transaction","applyLocally",v,!0);var T=Tg(this._delegate,h,{applyLocally:v}).then(function(x){return new Kc(x.committed,new go(E.database,x.snapshot))});return g&&T.then(function(x){return g(null,x.committed,x.snapshot)},function(x){return g(x,!1,null)}),T},l.prototype.setPriority=function(h,g){(0,I.Dv)("Reference.setPriority",1,2,arguments.length),(0,I.Wj)("Reference.setPriority","onComplete",g,!0);var v=cu(this._delegate,h);return g&&v.then(function(){return g(null)},function(E){return g(E)}),v},l.prototype.push=function(h,g){var v=this;(0,I.Dv)("Reference.push",0,2,arguments.length),(0,I.Wj)("Reference.push","onComplete",g,!0);var E=lu(this._delegate,h),T=E.then(function(O){return new l(v.database,O)});g&&T.then(function(){return g(null)},function(O){return g(O)});var x=new l(this.database,E);return x.then=T.then.bind(T),x.catch=T.catch.bind(T,void 0),x},l.prototype.onDisconnect=function(){return dr("Reference.onDisconnect",this._delegate._path),new ni(new Xa(this._delegate._repo,this._delegate._path))},Object.defineProperty(l.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),l}(Jc),yi=function(){function u(l,h){var g=this;this._delegate=l,this.app=h,this.INTERNAL={delete:function(){return g._delegate._delete()}}}return u.prototype.useEmulator=function(l,h,g){void 0===g&&(g={}),function(u,l,h,g){void 0===g&&(g={}),(u=(0,I.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Rt("Cannot call useEmulator() after instance has already been initialized.");var v=u._repoInternal,E=void 0;if(v.repoInfo_.nodeAdmin)g.mockUserToken&&Rt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new gt(gt.OWNER);else if(g.mockUserToken){var T=(0,I.Sg)(g.mockUserToken,u.app.options.projectId);E=new gt(T)}!function(u,l,h,g){u.repoInfo_=new on(l+":"+h,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),g&&(u.authTokenProvider_=g)}(v,l,h,E)}(this._delegate,l,h,g)},u.prototype.ref=function(l){if((0,I.Dv)("database.ref",0,1,arguments.length),l instanceof Cs){var h=el(this._delegate,l.toString());return new Cs(this,h)}return h=au(this._delegate,l),new Cs(this,h)},u.prototype.refFromURL=function(l){var h="database.refFromURL";(0,I.Dv)(h,1,1,arguments.length);var g=el(this._delegate,l);return new Cs(this,g)},u.prototype.goOffline=function(){return(0,I.Dv)("database.goOffline",0,0,arguments.length),Dg(this._delegate)},u.prototype.goOnline=function(){return(0,I.Dv)("database.goOnline",0,0,arguments.length),po(this._delegate)},u.ServerValue={TIMESTAMP:Cr,increment:function(l){return function(u){return{".sv":{increment:u}}}(l)}},u}(),zf=Object.freeze({__proto__:null,forceLongPolling:function(){Ln.forceDisallow(),xl.forceAllow()},forceWebSockets:function(){xl.forceDisallow()},isWebSocketsAvailable:function(){return Ln.isAvailable()},setSecurityDebugCallback:function(u,l){u._delegate._repo.persistentConnection_.securityDebugCallback_=l},stats:function(u,l){!function(u,l){if(void 0===l&&(l=!1),"undefined"!=typeof console){var h;l?(u.statsListener_||(u.statsListener_=new fi(u.stats_)),h=u.statsListener_.get()):h=u.stats_.get();var g=Object.keys(h).reduce(function(v,E){return Math.max(E.length,v)},0);Ge(h,function(v,E){for(var T=v,x=v.length;x<g+2;x++)T+=" ";console.log(T+E)})}}(u._delegate._repo,l)},statsIncrementCounter:function(u,l){!function(u,l){u.stats_.incrementCounter(l),function(u,l){u.statsToReport_[l]=!0}(u.statsReporter_,l)}(u._delegate._repo,l)},dataUpdateCount:function(u){return u._delegate._repo.dataUpdateCount},interceptServerData:function(u,l){return function(u,l){u.interceptServerDataCallback_=l}(u._delegate._repo,l)},initStandalone:function(u){var l=u.app,h=u.url,v=u.customAuthImpl,E=u.namespace,T=u.nodeAdmin,x=void 0!==T&&T;K(u.version);var O=new le.zt("auth-internal",new le.H0("database-standalone"));return O.setComponent(new le.wA("auth-internal",function(){return v},"PRIVATE")),{instance:new yi(Zc(l,O,void 0,h,x),l),namespace:E}}}),_u=Ro;Ro.prototype.simpleListen=function(u,l){this.sendRequest("q",{p:u},l)},Ro.prototype.echo=function(u,l){this.sendRequest("echo",{d:u},l)};var qf=Object.freeze({__proto__:null,DataConnection:_u,RealTimeConnection:Ki,hijackHash:function(u){var l=Ro.prototype.put;return Ro.prototype.put=function(h,g,v,E){void 0!==E&&(E=u()),l.call(this,h,g,v,E)},function(){Ro.prototype.put=l}},ConnectionTarget:on,queryIdentifier:function(u){return u._delegate._queryIdentifier},forceRestClient:function(u){!function(u){ho=u}(u)}}),rl=yi.ServerValue;!function(u){K(u.SDK_VERSION);var l=u.INTERNAL.registerComponent(new le.wA("database",function(h,g){var v=g.instanceIdentifier,E=h.getProvider("app").getImmediate(),T=h.getProvider("auth-internal"),x=h.getProvider("app-check-internal");return new yi(Zc(E,T,x,v),E)},"PUBLIC").setServiceProps({Reference:Cs,Query:Jc,Database:yi,DataSnapshot:go,enableLogging:nt,INTERNAL:zf,ServerValue:rl,TEST_ACCESS:qf}).setMultipleInstances(!0));u.registerVersion("@firebase/database","0.10.9"),(0,I.Yr)()&&(je.exports=l)}(d.Z)},300:(je,Ee,L)=>{"use strict";function d(){for(var P=0,G=0,ce=arguments.length;G<ce;G++)P+=arguments[G].length;var _e=Array(P),ve=0;for(G=0;G<ce;G++)for(var Re=arguments[G],Te=0,Se=Re.length;Te<Se;Te++,ve++)_e[ve]=Re[Te];return _e}L.d(Ee,{in:()=>q,Yd:()=>K,Ub:()=>V,Am:()=>z});var le,I=[],q=(()=>{return(P=q||(q={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",q;var P})(),he={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Q=q.INFO,de=((le={})[q.DEBUG]="log",le[q.VERBOSE]="log",le[q.INFO]="info",le[q.WARN]="warn",le[q.ERROR]="error",le),re=function(P,G){for(var ce=[],_e=2;_e<arguments.length;_e++)ce[_e-2]=arguments[_e];if(!(G<P.logLevel)){var ve=(new Date).toISOString(),Re=de[G];if(!Re)throw new Error("Attempted to log a message with an invalid logType (value: "+G+")");console[Re].apply(console,d(["["+ve+"]  "+P.name+":"],ce))}},K=function(){function P(G){this.name=G,this._logLevel=Q,this._logHandler=re,this._userLogHandler=null,I.push(this)}return Object.defineProperty(P.prototype,"logLevel",{get:function(){return this._logLevel},set:function(G){if(!(G in q))throw new TypeError('Invalid value "'+G+'" assigned to `logLevel`');this._logLevel=G},enumerable:!1,configurable:!0}),P.prototype.setLogLevel=function(G){this._logLevel="string"==typeof G?he[G]:G},Object.defineProperty(P.prototype,"logHandler",{get:function(){return this._logHandler},set:function(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(G){this._userLogHandler=G},enumerable:!1,configurable:!0}),P.prototype.debug=function(){for(var G=[],ce=0;ce<arguments.length;ce++)G[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.DEBUG],G)),this._logHandler.apply(this,d([this,q.DEBUG],G))},P.prototype.log=function(){for(var G=[],ce=0;ce<arguments.length;ce++)G[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.VERBOSE],G)),this._logHandler.apply(this,d([this,q.VERBOSE],G))},P.prototype.info=function(){for(var G=[],ce=0;ce<arguments.length;ce++)G[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.INFO],G)),this._logHandler.apply(this,d([this,q.INFO],G))},P.prototype.warn=function(){for(var G=[],ce=0;ce<arguments.length;ce++)G[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.WARN],G)),this._logHandler.apply(this,d([this,q.WARN],G))},P.prototype.error=function(){for(var G=[],ce=0;ce<arguments.length;ce++)G[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,d([this,q.ERROR],G)),this._logHandler.apply(this,d([this,q.ERROR],G))},P}();function V(P){I.forEach(function(G){G.setLogLevel(P)})}function z(P,G){for(var ce=function(Te){var Se=null;G&&G.level&&(Se=he[G.level]),Te.userLogHandler=null===P?null:function(Oe,nt){for(var Me=[],Nt=2;Nt<arguments.length;Nt++)Me[Nt-2]=arguments[Nt];var Wt=Me.map(function(Rt){if(null==Rt)return null;if("string"==typeof Rt)return Rt;if("number"==typeof Rt||"boolean"==typeof Rt)return Rt.toString();if(Rt instanceof Error)return Rt.message;try{return JSON.stringify(Rt)}catch(Ut){return null}}).filter(function(Rt){return Rt}).join(" ");nt>=(null!=Se?Se:Oe.logLevel)&&P({level:q[nt].toLowerCase(),message:Wt,args:Me,type:Oe.name})}},_e=0,ve=I;_e<ve.length;_e++)ce(ve[_e])}},4685:(je,Ee,L)=>{"use strict";L.d(Ee,{BH:()=>G,LL:()=>se,gQ:()=>gt,hu:()=>I,g5:()=>q,US:()=>de,h$:()=>re,r3:()=>xt,Sg:()=>ce,ne:()=>Fn,p$:()=>V,ZB:()=>z,gK:()=>ai,m9:()=>Hd,GJ:()=>Yt,jU:()=>Te,xb:()=>sn,uI:()=>ve,UG:()=>Re,Yr:()=>Wt,b$:()=>Oe,w9:()=>ht,cI:()=>zt,UI:()=>Nn,xO:()=>Zi,DV:()=>Mr,ug:()=>on,dS:()=>oc,Pz:()=>We,Dv:()=>hn,Wj:()=>Ir,lb:()=>Dn});var d=L(4762),I=function(H,j){if(!H)throw q(j)},q=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},he=function(H){for(var j=[],Y=0,fe=0;fe<H.length;fe++){var J=H.charCodeAt(fe);J<128?j[Y++]=J:J<2048?(j[Y++]=J>>6|192,j[Y++]=63&J|128):55296==(64512&J)&&fe+1<H.length&&56320==(64512&H.charCodeAt(fe+1))?(J=65536+((1023&J)<<10)+(1023&H.charCodeAt(++fe)),j[Y++]=J>>18|240,j[Y++]=J>>12&63|128,j[Y++]=J>>6&63|128,j[Y++]=63&J|128):(j[Y++]=J>>12|224,j[Y++]=J>>6&63|128,j[Y++]=63&J|128)}return j},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(H,j){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[],J=0;J<H.length;J+=3){var Ie=H[J],Ke=J+1<H.length,bt=Ke?H[J+1]:0,Pt=J+2<H.length,Lt=Pt?H[J+2]:0,rr=(15&bt)<<2|Lt>>6,Si=63&Lt;Pt||(Si=64,Ke||(rr=64)),fe.push(Y[Ie>>2],Y[(3&Ie)<<4|bt>>4],Y[rr],Y[Si])}return fe.join("")},encodeString:function(H,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(H):this.encodeByteArray(he(H),j)},decodeString:function(H,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(H):function(H){for(var j=[],Y=0,fe=0;Y<H.length;){var J=H[Y++];if(J<128)j[fe++]=String.fromCharCode(J);else if(J>191&&J<224){var Ie=H[Y++];j[fe++]=String.fromCharCode((31&J)<<6|63&Ie)}else if(J>239&&J<365){var Pt=((7&J)<<18|(63&(Ie=H[Y++]))<<12|(63&(Ke=H[Y++]))<<6|63&H[Y++])-65536;j[fe++]=String.fromCharCode(55296+(Pt>>10)),j[fe++]=String.fromCharCode(56320+(1023&Pt))}else{Ie=H[Y++];var Ke=H[Y++];j[fe++]=String.fromCharCode((15&J)<<12|(63&Ie)<<6|63&Ke)}}return j.join("")}(this.decodeStringToByteArray(H,j))},decodeStringToByteArray:function(H,j){this.init_();for(var Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[],J=0;J<H.length;){var Ie=Y[H.charAt(J++)],bt=J<H.length?Y[H.charAt(J)]:0,Lt=++J<H.length?Y[H.charAt(J)]:64,Qn=++J<H.length?Y[H.charAt(J)]:64;if(++J,null==Ie||null==bt||null==Lt||null==Qn)throw Error();fe.push(Ie<<2|bt>>4),64!==Lt&&(fe.push(bt<<4&240|Lt>>2),64!==Qn&&fe.push(Lt<<6&192|Qn))}return fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},re=function(H){var j=he(H);return de.encodeByteArray(j,!0)},K=function(H){try{return de.decodeString(H,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function V(H){return z(void 0,H)}function z(H,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return j}for(var fe in j)!j.hasOwnProperty(fe)||!P(fe)||(H[fe]=z(H[fe],j[fe]));return H}function P(H){return"__proto__"!==H}var G=function(){function H(){var j=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Y,fe){j.resolve=Y,j.reject=fe})}return H.prototype.wrapCallback=function(j){var Y=this;return function(fe,J){fe?Y.reject(fe):Y.resolve(J),"function"==typeof j&&(Y.promise.catch(function(){}),1===j.length?j(fe):j(fe,J))}},H}();function ce(H,j){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var fe=j||"demo-project",J=H.iat||0,Ie=H.sub||H.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ke=(0,d.pi)({iss:"https://securetoken.google.com/"+fe,aud:fe,iat:J,exp:J+3600,auth_time:J,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},H);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify(Ke),!1),""].join(".")}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Te(){return"object"==typeof self&&self.self===self}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){return!1}var be=function(H){function j(Y,fe,J){var Ie=H.call(this,fe)||this;return Ie.code=Y,Ie.customData=J,Ie.name="FirebaseError",Object.setPrototypeOf(Ie,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ie,se.prototype.create),Ie}return(0,d.ZT)(j,H),j}(Error),se=function(){function H(j,Y,fe){this.service=j,this.serviceName=Y,this.errors=fe}return H.prototype.create=function(j){for(var Y=[],fe=1;fe<arguments.length;fe++)Y[fe-1]=arguments[fe];var J=Y[0]||{},Ie=this.service+"/"+j,Ke=this.errors[j],bt=Ke?Ze(Ke,J):"Error",Pt=this.serviceName+": "+bt+" ("+Ie+").",Lt=new be(Ie,Pt,J);return Lt},H}();function Ze(H,j){return H.replace(Qe,function(Y,fe){var J=j[fe];return null!=J?String(J):"<"+fe+"?>"})}var Qe=/\{\$([^}]+)}/g;function zt(H){return JSON.parse(H)}function We(H){return JSON.stringify(H)}var Ge=function(H){var j={},Y={},fe={},J="";try{var Ie=H.split(".");j=zt(K(Ie[0])||""),Y=zt(K(Ie[1])||""),J=Ie[2],fe=Y.d||{},delete Y.d}catch(Ke){}return{header:j,claims:Y,data:fe,signature:J}},ht=function(H){var Y=Ge(H).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Yt=function(H){var j=Ge(H).claims;return"object"==typeof j&&!0===j.admin};function xt(H,j){return Object.prototype.hasOwnProperty.call(H,j)}function Mr(H,j){if(Object.prototype.hasOwnProperty.call(H,j))return H[j]}function sn(H){for(var j in H)if(Object.prototype.hasOwnProperty.call(H,j))return!1;return!0}function Nn(H,j,Y){var fe={};for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(fe[J]=j.call(Y,H[J],J,H));return fe}function Zi(H){for(var j=[],Y=function(Pt,Lt){Array.isArray(Lt)?Lt.forEach(function(Tn){j.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Tn))}):j.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Lt))},fe=0,J=Object.entries(H);fe<J.length;fe++){var Ie=J[fe];Y(Ie[0],Ie[1])}return j.length?"&"+j.join("&"):""}var gt=function(){function H(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}return H.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},H.prototype.compress_=function(j,Y){Y||(Y=0);var fe=this.W_;if("string"==typeof j)for(var J=0;J<16;J++)fe[J]=j.charCodeAt(Y)<<24|j.charCodeAt(Y+1)<<16|j.charCodeAt(Y+2)<<8|j.charCodeAt(Y+3),Y+=4;else for(J=0;J<16;J++)fe[J]=j[Y]<<24|j[Y+1]<<16|j[Y+2]<<8|j[Y+3],Y+=4;for(J=16;J<80;J++)fe[J]=4294967295&((Ie=fe[J-3]^fe[J-8]^fe[J-14]^fe[J-16])<<1|Ie>>>31);var Qn,rr,Ke=this.chain_[0],bt=this.chain_[1],Pt=this.chain_[2],Lt=this.chain_[3],Tn=this.chain_[4];for(J=0;J<80;J++){J<40?J<20?(Qn=Lt^bt&(Pt^Lt),rr=1518500249):(Qn=bt^Pt^Lt,rr=1859775393):J<60?(Qn=bt&Pt|Lt&(bt|Pt),rr=2400959708):(Qn=bt^Pt^Lt,rr=3395469782);var Ie=(Ke<<5|Ke>>>27)+Qn+Tn+rr+fe[J]&4294967295;Tn=Lt,Lt=Pt,Pt=4294967295&(bt<<30|bt>>>2),bt=Ke,Ke=Ie}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295},H.prototype.update=function(j,Y){if(null!=j){void 0===Y&&(Y=j.length);for(var fe=Y-this.blockSize,J=0,Ie=this.buf_,Ke=this.inbuf_;J<Y;){if(0===Ke)for(;J<=fe;)this.compress_(j,J),J+=this.blockSize;if("string"==typeof j){for(;J<Y;)if(Ie[Ke]=j.charCodeAt(J),++J,++Ke===this.blockSize){this.compress_(Ie),Ke=0;break}}else for(;J<Y;)if(Ie[Ke]=j[J],++J,++Ke===this.blockSize){this.compress_(Ie),Ke=0;break}}this.inbuf_=Ke,this.total_+=Y}},H.prototype.digest=function(){var j=[],Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&Y,Y/=256;this.compress_(this.buf_);var J=0;for(fe=0;fe<5;fe++)for(var Ie=24;Ie>=0;Ie-=8)j[J]=this.chain_[fe]>>Ie&255,++J;return j},H}();function Fn(H,j){var Y=new kn(H,j);return Y.subscribe.bind(Y)}var kn=function(){function H(j,Y){var fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(function(){j(fe)}).catch(function(J){fe.error(J)})}return H.prototype.next=function(j){this.forEachObserver(function(Y){Y.next(j)})},H.prototype.error=function(j){this.forEachObserver(function(Y){Y.error(j)}),this.close(j)},H.prototype.complete=function(){this.forEachObserver(function(j){j.complete()}),this.close()},H.prototype.subscribe=function(j,Y,fe){var Ie,J=this;if(void 0===j&&void 0===Y&&void 0===fe)throw new Error("Missing Observer.");void 0===(Ie=function(H,j){if("object"!=typeof H||null===H)return!1;for(var Y=0,fe=["next","error","complete"];Y<fe.length;Y++){var J=fe[Y];if(J in H&&"function"==typeof H[J])return!0}return!1}(j)?j:{next:j,error:Y,complete:fe}).next&&(Ie.next=yn),void 0===Ie.error&&(Ie.error=yn),void 0===Ie.complete&&(Ie.complete=yn);var Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{J.finalError?Ie.error(J.finalError):Ie.complete()}catch(bt){}}),this.observers.push(Ie),Ke},H.prototype.unsubscribeOne=function(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},H.prototype.forEachObserver=function(j){if(!this.finalized)for(var Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)},H.prototype.sendOne=function(j,Y){var fe=this;this.task.then(function(){if(void 0!==fe.observers&&void 0!==fe.observers[j])try{Y(fe.observers[j])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})},H.prototype.close=function(j){var Y=this;this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(function(){Y.observers=void 0,Y.onNoObservers=void 0}))},H}();function yn(){}var hn=function(H,j,Y,fe){var J;if(fe<j?J="at least "+j:fe>Y&&(J=0===Y?"none":"no more than "+Y),J)throw new Error(H+" failed: Was called with "+fe+(1===fe?" argument.":" arguments.")+" Expects "+J+".")};function ai(H,j){return H+" failed: "+j+" argument "}function Ir(H,j,Y,fe){if((!fe||Y)&&"function"!=typeof Y)throw new Error(ai(H,j)+"must be a valid function.")}function Dn(H,j,Y,fe){if((!fe||Y)&&("object"!=typeof Y||null===Y))throw new Error(ai(H,j)+"must be a valid context object.")}var oc=function(H){for(var j=[],Y=0,fe=0;fe<H.length;fe++){var J=H.charCodeAt(fe);if(J>=55296&&J<=56319){var Ie=J-55296;fe++,I(fe<H.length,"Surrogate pair missing trail surrogate."),J=65536+(Ie<<10)+(H.charCodeAt(fe)-56320)}J<128?j[Y++]=J:J<2048?(j[Y++]=J>>6|192,j[Y++]=63&J|128):J<65536?(j[Y++]=J>>12|224,j[Y++]=J>>6&63|128,j[Y++]=63&J|128):(j[Y++]=J>>18|240,j[Y++]=J>>12&63|128,j[Y++]=J>>6&63|128,j[Y++]=63&J|128)}return j},on=function(H){for(var j=0,Y=0;Y<H.length;Y++){var fe=H.charCodeAt(Y);fe<128?j++:fe<2048?j+=2:fe>=55296&&fe<=56319?(j+=4,Y++):j+=3}return j};function Hd(H){return H&&H._delegate?H._delegate:H}},2329:(je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>d.Z});var d=L(9759),I="8.9.1";d.Z.registerVersion("firebase",I,"app"),d.Z.SDK_VERSION=I},7574:(je,Ee,L)=>{"use strict";L.d(Ee,{y:()=>z});var d=L(7393),I=L(9181),q=L(6490),Q=L(6554),de=L(4487);var V=L(2494);let z=(()=>{class G{constructor(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}lift(_e){const ve=new G;return ve.source=this,ve.operator=_e,ve}subscribe(_e,ve,Re){const{operator:Te}=this,Se=function(G,ce,_e){if(G){if(G instanceof d.L)return G;if(G[I.b])return G[I.b]()}return G||ce||_e?new d.L(G,ce,_e):new d.L(q.c)}(_e,ve,Re);if(Se.add(Te?Te.call(Se,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),V.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(_e){try{return this._subscribe(_e)}catch(ve){V.v.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=ve),function(G){for(;G;){const{closed:ce,destination:_e,isStopped:ve}=G;if(ce||ve)return!1;G=_e&&_e instanceof d.L?_e:null}return!0}(_e)?_e.error(ve):console.warn(ve)}}forEach(_e,ve){return new(ve=P(ve))((Re,Te)=>{let Se;Se=this.subscribe(Oe=>{try{_e(Oe)}catch(nt){Te(nt),Se&&Se.unsubscribe()}},Te,Re)})}_subscribe(_e){const{source:ve}=this;return ve&&ve.subscribe(_e)}[Q.L](){return this}pipe(..._e){return 0===_e.length?this:function(G){return 0===G.length?de.y:1===G.length?G[0]:function(_e){return G.reduce((ve,Re)=>Re(ve),_e)}}(_e)(this)}toPromise(_e){return new(_e=P(_e))((ve,Re)=>{let Te;this.subscribe(Se=>Te=Se,Se=>Re(Se),()=>ve(Te))})}}return G.create=ce=>new G(ce),G})();function P(G){if(G||(G=V.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},6490:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>I});var d=L(2494),le=L(4449);const I={closed:!0,next(q){},error(q){if(d.v.useDeprecatedSynchronousErrorHandling)throw q;(0,le.z)(q)},complete(){}}},9765:(je,Ee,L)=>{"use strict";L.d(Ee,{Yc:()=>de,xQ:()=>re});var d=L(7574),le=L(7393),I=L(5319),q=L(7971),he=L(8858),Q=L(9181);class de extends le.L{constructor(z){super(z),this.destination=z}}let re=(()=>{class V extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new de(this)}lift(P){const G=new K(this,this);return G.operator=P,G}next(P){if(this.closed)throw new q.N;if(!this.isStopped){const{observers:G}=this,ce=G.length,_e=G.slice();for(let ve=0;ve<ce;ve++)_e[ve].next(P)}}error(P){if(this.closed)throw new q.N;this.hasError=!0,this.thrownError=P,this.isStopped=!0;const{observers:G}=this,ce=G.length,_e=G.slice();for(let ve=0;ve<ce;ve++)_e[ve].error(P);this.observers.length=0}complete(){if(this.closed)throw new q.N;this.isStopped=!0;const{observers:P}=this,G=P.length,ce=P.slice();for(let _e=0;_e<G;_e++)ce[_e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(P){if(this.closed)throw new q.N;return super._trySubscribe(P)}_subscribe(P){if(this.closed)throw new q.N;return this.hasError?(P.error(this.thrownError),I.w.EMPTY):this.isStopped?(P.complete(),I.w.EMPTY):(this.observers.push(P),new he.W(this,P))}asObservable(){const P=new d.y;return P.source=this,P}}return V.create=(z,P)=>new K(z,P),V})();class K extends re{constructor(z,P){super(),this.destination=z,this.source=P}next(z){const{destination:P}=this;P&&P.next&&P.next(z)}error(z){const{destination:P}=this;P&&P.error&&this.destination.error(z)}complete(){const{destination:z}=this;z&&z.complete&&this.destination.complete()}_subscribe(z){const{source:P}=this;return P?this.source.subscribe(z):I.w.EMPTY}}},8858:(je,Ee,L)=>{"use strict";L.d(Ee,{W:()=>le});var d=L(5319);class le extends d.w{constructor(q,he){super(),this.subject=q,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const q=this.subject,he=q.observers;if(this.subject=null,!he||0===he.length||q.isStopped||q.closed)return;const Q=he.indexOf(this.subscriber);-1!==Q&&he.splice(Q,1)}}},7393:(je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>de});var d=L(9105),le=L(6490),I=L(5319),q=L(9181),he=L(2494),Q=L(4449);class de extends I.w{constructor(V,z,P){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le.c;break;case 1:if(!V){this.destination=le.c;break}if("object"==typeof V){V instanceof de?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,V,z,P)}}[q.b](){return this}static create(V,z,P){const G=new de(V,z,P);return G.syncErrorThrowable=!1,G}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class re extends de{constructor(V,z,P,G){super(),this._parentSubscriber=V;let ce,_e=this;(0,d.m)(z)?ce=z:z&&(ce=z.next,P=z.error,G=z.complete,z!==le.c&&(_e=Object.create(z),(0,d.m)(_e.unsubscribe)&&this.add(_e.unsubscribe.bind(_e)),_e.unsubscribe=this.unsubscribe.bind(this))),this._context=_e,this._next=ce,this._error=P,this._complete=G}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:z}=this;he.v.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?this.__tryOrSetError(z,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:z}=this,{useDeprecatedSynchronousErrorHandling:P}=he.v;if(this._error)P&&z.syncErrorThrowable?(this.__tryOrSetError(z,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(z.syncErrorThrowable)P?(z.syncErrorValue=V,z.syncErrorThrown=!0):(0,Q.z)(V),this.unsubscribe();else{if(this.unsubscribe(),P)throw V;(0,Q.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const z=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,z),this.unsubscribe()):(this.__tryOrUnsub(z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,z){try{V.call(this._context,z)}catch(P){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw P;(0,Q.z)(P)}}__tryOrSetError(V,z,P){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{z.call(this._context,P)}catch(G){return he.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=G,V.syncErrorThrown=!0,!0):((0,Q.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(je,Ee,L)=>{"use strict";L.d(Ee,{w:()=>Q});var d=L(9796),le=L(1555),I=L(9105);const he=(()=>{function re(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((V,z)=>`${z+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return re.prototype=Object.create(Error.prototype),re})();class Q{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:z,_unsubscribe:P,_subscriptions:G}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof Q)V.remove(this);else if(null!==V)for(let ce=0;ce<V.length;++ce)V[ce].remove(this);if((0,I.m)(P)){z&&(this._unsubscribe=void 0);try{P.call(this)}catch(ce){K=ce instanceof he?de(ce.errors):[ce]}}if((0,d.k)(G)){let ce=-1,_e=G.length;for(;++ce<_e;){const ve=G[ce];if((0,le.K)(ve))try{ve.unsubscribe()}catch(Re){K=K||[],Re instanceof he?K=K.concat(de(Re.errors)):K.push(Re)}}}if(K)throw new he(K)}add(K){let V=K;if(!K)return Q.EMPTY;switch(typeof K){case"function":V=new Q(K);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof Q)){const G=V;V=new Q,V._subscriptions=[G]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:z}=V;if(null===z)V._parentOrParents=this;else if(z instanceof Q){if(z===this)return V;V._parentOrParents=[z,this]}else{if(-1!==z.indexOf(this))return V;z.push(this)}const P=this._subscriptions;return null===P?this._subscriptions=[V]:P.push(V),V}remove(K){const V=this._subscriptions;if(V){const z=V.indexOf(K);-1!==z&&V.splice(z,1)}}}var re;function de(re){return re.reduce((K,V)=>K.concat(V instanceof he?V.errors:V),[])}Q.EMPTY=((re=new Q).closed=!0,re)},2494:(je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>le});let d=!1;const le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(I){if(I){const q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+q.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=I},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(je,Ee,L)=>{"use strict";L.d(Ee,{IY:()=>q,Ds:()=>Q,ft:()=>re});var d=L(7393),le=L(7574),I=L(7444);class q extends d.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends d.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function re(K,V){if(V.closed)return;if(K instanceof le.y)return K.subscribe(V);let z;try{z=(0,I.s)(K)(V)}catch(P){V.error(P)}return z}},2441:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>he,N:()=>Q});var d=L(9765),le=L(7574),I=L(5319),q=L(1307);class he extends le.y{constructor(z,P){super(),this.source=z,this.subjectFactory=P,this._refCount=0,this._isComplete=!1}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let z=this._connection;return z||(this._isComplete=!1,z=this._connection=new I.w,z.add(this.source.subscribe(new de(this.getSubject(),this))),z.closed&&(this._connection=null,z=I.w.EMPTY)),z}refCount(){return(0,q.x)()(this)}}const Q=(()=>{const V=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class de extends d.Yc{constructor(z,P){super(z),this.connectable=P}_error(z){this._unsubscribe(),super._error(z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const z=this.connectable;if(z){this.connectable=null;const P=z._connection;z._refCount=0,z._subject=null,z._connection=null,P&&P.unsubscribe()}}}},9193:(je,Ee,L)=>{"use strict";L.d(Ee,{E:()=>le,c:()=>I});var d=L(7574);const le=new d.y(he=>he.complete());function I(he){return he?function(he){return new d.y(Q=>he.schedule(()=>Q.complete()))}(he):le}},4402:(je,Ee,L)=>{"use strict";L.d(Ee,{D:()=>_e});var d=L(7574),le=L(7444),I=L(5319),q=L(6554),de=L(4087),re=L(377),z=L(4072),P=L(9489);function _e(ve,Re){return Re?function(ve,Re){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[q.L]}(ve))return function(ve,Re){return new d.y(Te=>{const Se=new I.w;return Se.add(Re.schedule(()=>{const Oe=ve[q.L]();Se.add(Oe.subscribe({next(nt){Se.add(Re.schedule(()=>Te.next(nt)))},error(nt){Se.add(Re.schedule(()=>Te.error(nt)))},complete(){Se.add(Re.schedule(()=>Te.complete()))}}))})),Se})}(ve,Re);if((0,z.t)(ve))return function(ve,Re){return new d.y(Te=>{const Se=new I.w;return Se.add(Re.schedule(()=>ve.then(Oe=>{Se.add(Re.schedule(()=>{Te.next(Oe),Se.add(Re.schedule(()=>Te.complete()))}))},Oe=>{Se.add(Re.schedule(()=>Te.error(Oe)))}))),Se})}(ve,Re);if((0,P.z)(ve))return(0,de.r)(ve,Re);if(function(ve){return ve&&"function"==typeof ve[re.hZ]}(ve)||"string"==typeof ve)return function(ve,Re){if(!ve)throw new Error("Iterable cannot be null");return new d.y(Te=>{const Se=new I.w;let Oe;return Se.add(()=>{Oe&&"function"==typeof Oe.return&&Oe.return()}),Se.add(Re.schedule(()=>{Oe=ve[re.hZ](),Se.add(Re.schedule(function(){if(Te.closed)return;let nt,Me;try{const Nt=Oe.next();nt=Nt.value,Me=Nt.done}catch(Nt){return void Te.error(Nt)}Me?Te.complete():(Te.next(nt),this.schedule())}))})),Se})}(ve,Re)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,Re):ve instanceof d.y?ve:new d.y((0,le.s)(ve))}},6693:(je,Ee,L)=>{"use strict";L.d(Ee,{n:()=>q});var d=L(7574),le=L(5015),I=L(4087);function q(he,Q){return Q?(0,I.r)(he,Q):new d.y((0,le.V)(he))}},6682:(je,Ee,L)=>{"use strict";L.d(Ee,{T:()=>he});var d=L(7574),le=L(4869),I=L(3282),q=L(6693);function he(...Q){let de=Number.POSITIVE_INFINITY,re=null,K=Q[Q.length-1];return(0,le.K)(K)?(re=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(de=Q.pop())):"number"==typeof K&&(de=Q.pop()),null===re&&1===Q.length&&Q[0]instanceof d.y?Q[0]:(0,I.J)(de)((0,q.n)(Q,re))}},5917:(je,Ee,L)=>{"use strict";L.d(Ee,{of:()=>q});var d=L(4869),le=L(6693),I=L(4087);function q(...he){let Q=he[he.length-1];return(0,d.K)(Q)?(he.pop(),(0,I.r)(he,Q)):(0,le.n)(he)}},205:(je,Ee,L)=>{"use strict";L.d(Ee,{_:()=>le});var d=L(7574);function le(q,he){return new d.y(he?Q=>he.schedule(I,0,{error:q,subscriber:Q}):Q=>Q.error(q))}function I({error:q,subscriber:he}){he.error(q)}},8002:(je,Ee,L)=>{"use strict";L.d(Ee,{U:()=>le});var d=L(7393);function le(he,Q){return function(re){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new I(he,Q))}}class I{constructor(Q,de){this.project=Q,this.thisArg=de}call(Q,de){return de.subscribe(new q(Q,this.project,this.thisArg))}}class q extends d.L{constructor(Q,de,re){super(Q),this.project=de,this.count=0,this.thisArg=re||this}_next(Q){let de;try{de=this.project.call(this.thisArg,Q,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(de)}}},3282:(je,Ee,L)=>{"use strict";L.d(Ee,{J:()=>I});var d=L(9773),le=L(4487);function I(q=Number.POSITIVE_INFINITY){return(0,d.zg)(le.y,q)}},9773:(je,Ee,L)=>{"use strict";L.d(Ee,{zg:()=>q});var d=L(8002),le=L(4402),I=L(5345);function q(re,K,V=Number.POSITIVE_INFINITY){return"function"==typeof K?z=>z.pipe(q((P,G)=>(0,le.D)(re(P,G)).pipe((0,d.U)((ce,_e)=>K(P,ce,G,_e))),V)):("number"==typeof K&&(V=K),z=>z.lift(new he(re,V)))}class he{constructor(K,V=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=V}call(K,V){return V.subscribe(new Q(K,this.project,this.concurrent))}}class Q extends I.Ds{constructor(K,V,z=Number.POSITIVE_INFINITY){super(K),this.project=V,this.concurrent=z,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let V;const z=this.index++;try{V=this.project(K,z)}catch(P){return void this.destination.error(P)}this.active++,this._innerSub(V)}_innerSub(K){const V=new I.IY(this),z=this.destination;z.add(V);const P=(0,I.ft)(K,V);P!==V&&z.add(P)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(je,Ee,L)=>{"use strict";L.d(Ee,{ht:()=>K,QV:()=>de});var d=L(7393),le=L(9193),I=L(5917),q=L(205);class Q{constructor(P,G,ce){this.kind=P,this.value=G,this.error=ce,this.hasValue="N"===P}observe(P){switch(this.kind){case"N":return P.next&&P.next(this.value);case"E":return P.error&&P.error(this.error);case"C":return P.complete&&P.complete()}}do(P,G,ce){switch(this.kind){case"N":return P&&P(this.value);case"E":return G&&G(this.error);case"C":return ce&&ce()}}accept(P,G,ce){return P&&"function"==typeof P.next?this.observe(P):this.do(P,G,ce)}toObservable(){switch(this.kind){case"N":return(0,I.of)(this.value);case"E":return(0,q._)(this.error);case"C":return(0,le.c)()}throw new Error("unexpected notification kind value")}static createNext(P){return void 0!==P?new Q("N",P):Q.undefinedValueNotification}static createError(P){return new Q("E",void 0,P)}static createComplete(){return Q.completeNotification}}function de(z,P=0){return function(ce){return ce.lift(new re(z,P))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class re{constructor(P,G=0){this.scheduler=P,this.delay=G}call(P,G){return G.subscribe(new K(P,this.scheduler,this.delay))}}class K extends d.L{constructor(P,G,ce=0){super(P),this.scheduler=G,this.delay=ce}static dispatch(P){const{notification:G,destination:ce}=P;G.observe(ce),this.unsubscribe()}scheduleMessage(P){this.destination.add(this.scheduler.schedule(K.dispatch,this.delay,new V(P,this.destination)))}_next(P){this.scheduleMessage(Q.createNext(P))}_error(P){this.scheduleMessage(Q.createError(P)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class V{constructor(P,G){this.notification=P,this.destination=G}}},1307:(je,Ee,L)=>{"use strict";L.d(Ee,{x:()=>le});var d=L(7393);function le(){return function(Q){return Q.lift(new I(Q))}}class I{constructor(Q){this.connectable=Q}call(Q,de){const{connectable:re}=this;re._refCount++;const K=new q(Q,re),V=de.subscribe(K);return K.closed||(K.connection=re.connect()),V}}class q extends d.L{constructor(Q,de){super(Q),this.connectable=de}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const de=Q._refCount;if(de<=0)return void(this.connection=null);if(Q._refCount=de-1,de>1)return void(this.connection=null);const{connection:re}=this,K=Q._connection;this.connection=null,K&&(!re||K===re)&&K.unsubscribe()}}},8819:(je,Ee,L)=>{"use strict";L.d(Ee,{B:()=>de});var d=L(2441);var q=L(1307),he=L(9765);function Q(){return new he.xQ}function de(){return re=>(0,q.x)()(function(re,K){return function(z){let P;P="function"==typeof re?re:function(){return re};const G=Object.create(z,d.N);return G.source=z,G.subjectFactory=P,G}}(Q)(re))}},3101:(je,Ee,L)=>{"use strict";L.d(Ee,{R:()=>Re});var d=L(7574);let le=1;const I=Promise.resolve(),q={};function he(Se){return Se in q&&(delete q[Se],!0)}const Q={setImmediate(Se){const Oe=le++;return q[Oe]=!0,I.then(()=>he(Oe)&&Se()),Oe},clearImmediate(Se){he(Se)}};var re=L(6465),V=L(6102);const G=new class extends V.v{flush(Oe){this.active=!0,this.scheduled=void 0;const{actions:nt}=this;let Me,Nt=-1,Wt=nt.length;Oe=Oe||nt.shift();do{if(Me=Oe.execute(Oe.state,Oe.delay))break}while(++Nt<Wt&&(Oe=nt.shift()));if(this.active=!1,Me){for(;++Nt<Wt&&(Oe=nt.shift());)Oe.unsubscribe();throw Me}}}(class extends re.o{constructor(Oe,nt){super(Oe,nt),this.scheduler=Oe,this.work=nt}requestAsyncId(Oe,nt,Me=0){return null!==Me&&Me>0?super.requestAsyncId(Oe,nt,Me):(Oe.actions.push(this),Oe.scheduled||(Oe.scheduled=Q.setImmediate(Oe.flush.bind(Oe,null))))}recycleAsyncId(Oe,nt,Me=0){if(null!==Me&&Me>0||null===Me&&this.delay>0)return super.recycleAsyncId(Oe,nt,Me);0===Oe.actions.length&&(Q.clearImmediate(nt),Oe.scheduled=void 0)}});var ce=L(9796);class ve extends d.y{constructor(Oe,nt=0,Me=G){var Se;super(),this.source=Oe,this.delayTime=nt,this.scheduler=Me,(!(!(0,ce.k)(Se=nt)&&Se-parseFloat(Se)+1>=0)||nt<0)&&(this.delayTime=0),(!Me||"function"!=typeof Me.schedule)&&(this.scheduler=G)}static create(Oe,nt=0,Me=G){return new ve(Oe,nt,Me)}static dispatch(Oe){const{source:nt,subscriber:Me}=Oe;return this.add(nt.subscribe(Me))}_subscribe(Oe){return this.scheduler.schedule(ve.dispatch,this.delayTime,{source:this.source,subscriber:Oe})}}function Re(Se,Oe=0){return function(Me){return Me.lift(new Te(Se,Oe))}}class Te{constructor(Oe,nt){this.scheduler=Oe,this.delay=nt}call(Oe,nt){return new ve(nt,this.delay,this.scheduler).subscribe(Oe)}}},3342:(je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>q});var d=L(7393);function le(){}var I=L(9105);function q(de,re,K){return function(z){return z.lift(new he(de,re,K))}}class he{constructor(re,K,V){this.nextOrObserver=re,this.error=K,this.complete=V}call(re,K){return K.subscribe(new Q(re,this.nextOrObserver,this.error,this.complete))}}class Q extends d.L{constructor(re,K,V,z){super(re),this._tapNext=le,this._tapError=le,this._tapComplete=le,this._tapError=V||le,this._tapComplete=z||le,(0,I.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||le,this._tapError=K.error||le,this._tapComplete=K.complete||le)}_next(re){try{this._tapNext.call(this._context,re)}catch(K){return void this.destination.error(K)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(K){return void this.destination.error(K)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},4087:(je,Ee,L)=>{"use strict";L.d(Ee,{r:()=>I});var d=L(7574),le=L(5319);function I(q,he){return new d.y(Q=>{const de=new le.w;let re=0;return de.add(he.schedule(function(){re!==q.length?(Q.next(q[re++]),Q.closed||de.add(this.schedule())):Q.complete()})),de})}},6465:(je,Ee,L)=>{"use strict";L.d(Ee,{o:()=>I});var d=L(5319);class le extends d.w{constructor(he,Q){super()}schedule(he,Q=0){return this}}class I extends le{constructor(he,Q){super(he,Q),this.scheduler=he,this.work=Q,this.pending=!1}schedule(he,Q=0){if(this.closed)return this;this.state=he;const de=this.id,re=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(re,de,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(re,this.id,Q),this}requestAsyncId(he,Q,de=0){return setInterval(he.flush.bind(he,this),de)}recycleAsyncId(he,Q,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return Q;clearInterval(Q)}execute(he,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(he,Q);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Q){let re,de=!1;try{this.work(he)}catch(K){de=!0,re=!!K&&K||new Error(K)}if(de)return this.unsubscribe(),re}_unsubscribe(){const he=this.id,Q=this.scheduler,de=Q.actions,re=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&de.splice(re,1),null!=he&&(this.id=this.recycleAsyncId(Q,he,null)),this.delay=null}}},6102:(je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>le});let d=(()=>{class I{constructor(he,Q=I.now){this.SchedulerAction=he,this.now=Q}schedule(he,Q=0,de){return new this.SchedulerAction(this,he).schedule(de,Q)}}return I.now=()=>Date.now(),I})();class le extends d{constructor(q,he=d.now){super(q,()=>le.delegate&&le.delegate!==this?le.delegate.now():he()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(q,he=0,Q){return le.delegate&&le.delegate!==this?le.delegate.schedule(q,he,Q):super.schedule(q,he,Q)}flush(q){const{actions:he}=this;if(this.active)return void he.push(q);let Q;this.active=!0;do{if(Q=q.execute(q.state,q.delay))break}while(q=he.shift());if(this.active=!1,Q){for(;q=he.shift();)q.unsubscribe();throw Q}}}},3637:(je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>I,P:()=>q});var d=L(6465);const I=new(L(6102).v)(d.o),q=I},7771:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>Q,N:()=>he});var d=L(6465),I=L(6102);const he=new class extends I.v{}(class extends d.o{constructor(re,K){super(re,K),this.scheduler=re,this.work=K}schedule(re,K=0){return K>0?super.schedule(re,K):(this.delay=K,this.state=re,this.scheduler.flush(this),this)}execute(re,K){return K>0||this.closed?super.execute(re,K):this._execute(re,K)}requestAsyncId(re,K,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(re,K,V):re.flush(this)}}),Q=he},377:(je,Ee,L)=>{"use strict";L.d(Ee,{hZ:()=>le});const le="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(je,Ee,L)=>{"use strict";L.d(Ee,{N:()=>le});const le=(()=>{function I(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return I.prototype=Object.create(Error.prototype),I})()},4449:(je,Ee,L)=>{"use strict";function d(le){setTimeout(()=>{throw le},0)}L.d(Ee,{z:()=>d})},4487:(je,Ee,L)=>{"use strict";function d(le){return le}L.d(Ee,{y:()=>d})},9796:(je,Ee,L)=>{"use strict";L.d(Ee,{k:()=>d});const d=Array.isArray||(le=>le&&"number"==typeof le.length)},9489:(je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>d});const d=le=>le&&"number"==typeof le.length&&"function"!=typeof le},9105:(je,Ee,L)=>{"use strict";function d(le){return"function"==typeof le}L.d(Ee,{m:()=>d})},1555:(je,Ee,L)=>{"use strict";function d(le){return null!==le&&"object"==typeof le}L.d(Ee,{K:()=>d})},4072:(je,Ee,L)=>{"use strict";function d(le){return!!le&&"function"!=typeof le.subscribe&&"function"==typeof le.then}L.d(Ee,{t:()=>d})},4869:(je,Ee,L)=>{"use strict";function d(le){return le&&"function"==typeof le.schedule}L.d(Ee,{K:()=>d})},7444:(je,Ee,L)=>{"use strict";L.d(Ee,{s:()=>z});var d=L(5015),le=L(4449),q=L(377),Q=L(6554),re=L(9489),K=L(4072),V=L(1555);const z=P=>{if(P&&"function"==typeof P[Q.L])return(P=>G=>{const ce=P[Q.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(G)})(P);if((0,re.z)(P))return(0,d.V)(P);if((0,K.t)(P))return(P=>G=>(P.then(ce=>{G.closed||(G.next(ce),G.complete())},ce=>G.error(ce)).then(null,le.z),G))(P);if(P&&"function"==typeof P[q.hZ])return(P=>G=>{const ce=P[q.hZ]();for(;;){let _e;try{_e=ce.next()}catch(ve){return G.error(ve),G}if(_e.done){G.complete();break}if(G.next(_e.value),G.closed)break}return"function"==typeof ce.return&&G.add(()=>{ce.return&&ce.return()}),G})(P);{const ce=`You provided ${(0,V.K)(P)?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(je,Ee,L)=>{"use strict";L.d(Ee,{V:()=>d});const d=le=>I=>{for(let q=0,he=le.length;q<he&&!I.closed;q++)I.next(le[q]);I.complete()}},9352:(je,Ee,L)=>{"use strict";var d=L(7716);let le=null;function I(){return le}const de=new d.OlP("DocumentToken");let re=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function K(){return(0,d.LFG)(z)}const V=new d.OlP("Location Initialized");let z=(()=>{class i extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(e){const o=I().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=I().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,f){P()?this._history.pushState(e,o,f):this.location.hash=f}replaceState(e,o,f){P()?this._history.replaceState(e,o,f):this.location.hash=f}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(de))},i.\u0275prov=(0,d.Yz7)({factory:G,token:i,providedIn:"platform"}),i})();function P(){return!!window.history.pushState}function G(){return new z((0,d.LFG)(de))}function ce(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function _e(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ve(i){return i&&"?"!==i[0]?"?"+i:i}let Re=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:Te,token:i,providedIn:"root"}),i})();function Te(i){const r=(0,d.LFG)(de).location;return new Oe((0,d.LFG)(re),r&&r.origin||"")}const Se=new d.OlP("appBaseHref");let Oe=(()=>{class i extends Re{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ve(this._platformLocation.search),f=this._platformLocation.hash;return f&&e?`${o}${f}`:o}pushState(e,o,f,m){const b=this.prepareExternalUrl(f+ve(m));this._platformLocation.pushState(e,o,b)}replaceState(e,o,f,m){const b=this.prepareExternalUrl(f+ve(m));this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,f;null===(f=(o=this._platformLocation).historyGo)||void 0===f||f.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(re),d.LFG(Se,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),nt=(()=>{class i extends Re{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ce(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,f,m){let b=this.prepareExternalUrl(f+ve(m));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(e,o,b)}replaceState(e,o,f,m){let b=this.prepareExternalUrl(f+ve(m));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,f;null===(f=(o=this._platformLocation).historyGo)||void 0===f||f.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(re),d.LFG(Se,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Me=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const f=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=_e(Rt(f)),this._platformStrategy.onPopState(m=>{this._subject.emit({url:this.path(!0),pop:!0,state:m.state,type:m.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ve(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,Rt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",f=null){this._platformStrategy.pushState(f,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(o)),f)}replaceState(e,o="",f=null){this._platformStrategy.replaceState(f,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(o)),f)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,f;null===(f=(o=this._platformStrategy).historyGo)||void 0===f||f.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(f=>f(e,o))}subscribe(e,o,f){return this._subject.subscribe({next:e,error:o,complete:f})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Re),d.LFG(re))},i.normalizeQueryParams=ve,i.joinWithSlash=ce,i.stripTrailingSlash=_e,i.\u0275prov=(0,d.Yz7)({factory:Nt,token:i,providedIn:"root"}),i})();function Nt(){return new Me((0,d.LFG)(Re),(0,d.LFG)(re))}function Rt(i){return i.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const Mt=d.kL8;class Hs{}let Rl=(()=>{class i extends Hs{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Mt(o||this.locale)(e)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();let Ji=(()=>{class i{constructor(e,o,f,m){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=f,this._renderer=m,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(f=>{o?this._renderer.addClass(this._ngEl.nativeElement,f):this._renderer.removeClass(this._ngEl.nativeElement,f)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})(),St=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new Ta,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Ta{constructor(){this.$implicit=null,this.ngIf=null}}function xo(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(r)}'.`)}let Ws=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:Hs,useClass:Rl}]}),i})();let Gt=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new Qd((0,d.LFG)(de),window)}),i})();class Qd{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let f=o.currentNode;for(;f;){const m=f.shadowRoot;if(m){const b=m.getElementById(r)||m.querySelector(`[name="${r}"]`);if(b)return b}f=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,f=e.top+this.window.pageYOffset,m=this.offset();this.window.scrollTo(o-m[0],f-m[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Fl(this.window.history)||Fl(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Fl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class No extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new No,le||(le=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(rt=rt||document.querySelector("base"),rt?rt.getAttribute("href"):null);return null==e?null:function(i){qt=qt||document.createElement("a"),qt.setAttribute("href",i);const r=qt.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){rt=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[f,m]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(f.trim()===r)return decodeURIComponent(m)}return null}(document.cookie,r)}}let qt,rt=null;const en=new d.OlP("TRANSITION_ID"),Pr=[{provide:d.ip1,useFactory:function(i,r,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=I();Array.prototype.slice.apply(r.querySelectorAll("style[ng-transition]")).filter(m=>m.getAttribute("ng-transition")===i).forEach(m=>o.remove(m))})}},deps:[en,de,d.zs3],multi:!0}];class Ma{static init(){(0,d.VLi)(new Ma)}addToWindow(r){d.dqk.getAngularTestability=(o,f=!0)=>{const m=r.findTestabilityInTree(o,f);if(null==m)throw new Error("Could not find testability for element.");return m},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const f=d.dqk.getAllAngularTestabilities();let m=f.length,b=!1;const w=function(M){b=b||M,m--,0==m&&o(b)};f.forEach(function(M){M.whenStable(w)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const f=r.getTestability(e);return null!=f?f:o?I().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let es=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Ra=new d.OlP("EventManagerPlugins");let Ce=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(f=>f.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,f){return this._findPluginFor(o).addEventListener(e,o,f)}addGlobalEventListener(e,o,f){return this._findPluginFor(o).addGlobalEventListener(e,o,f)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const f=this._plugins;for(let m=0;m<f.length;m++){const b=f[m];if(b.supports(e))return this._eventNameToPlugin.set(e,b),b}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ra),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class At{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const f=I().getGlobalEventTarget(this._doc,r);if(!f)throw new Error(`Unsupported event target ${f} for event ${e}`);return this.addEventListener(f,e,o)}}let Oa=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(f=>{this._stylesSet.has(f)||(this._stylesSet.add(f),o.add(f))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),tn=(()=>{class i extends Oa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,f){e.forEach(m=>{const b=this._doc.createElement("style");b.textContent=m,f.push(o.appendChild(b))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Na),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,f)=>{this._addStylesToHost(e,f,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Na))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(de))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Na(i){I().remove(i)}const Ys={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jn=/%COMP%/g;function vn(i,r,e){for(let o=0;o<r.length;o++){let f=r[o];Array.isArray(f)?vn(i,f,e):(f=f.replace(Jn,i),e.push(f))}return e}function yr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let fi=(()=>{class i{constructor(e,o,f){this.eventManager=e,this.sharedStylesHost=o,this.appId=f,this.rendererByCompId=new Map,this.defaultRenderer=new Fr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let f=this.rendererByCompId.get(o.id);return f||(f=new Wp(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,f)),f.applyToHost(e),f}case 1:case d.ifc.ShadowDom:return new ar(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const f=vn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(f),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ce),d.LFG(tn),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Fr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(Ys[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,f){if(f){e=f+":"+e;const m=Ys[f];m?r.setAttributeNS(m,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const f=Ys[o];f?r.removeAttributeNS(f,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,f){f&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,o,f&d.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,yr(o)):this.eventManager.addEventListener(r,e,yr(o))}}class Wp extends Fr{constructor(r,e,o,f){super(r),this.component=o;const m=vn(f+"-"+o.id,o.styles,[]);e.addStyles(m),this.contentAttr="_ngcontent-%COMP%".replace(Jn,f+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Jn,f+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class ar extends Fr{constructor(r,e,o,f){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=vn(f.id,f.styles,[]);for(let b=0;b<m.length;b++){const w=document.createElement("style");w.textContent=m[b],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let ka=(()=>{class i extends At{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,f){return e.addEventListener(o,f,!1),()=>this.removeEventListener(e,o,f)}removeEventListener(e,o,f){return e.removeEventListener(o,f)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(de))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const xi=["alt","control","meta","shift"],qp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jl={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Zp=(()=>{class i extends At{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,f){const m=i.parseEventName(o),b=i.eventCallback(m.fullKey,f,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>I().onAndCancel(e,m.domEventName,b))}static parseEventName(e){const o=e.toLowerCase().split("."),f=o.shift();if(0===o.length||"keydown"!==f&&"keyup"!==f)return null;const m=i._normalizeKey(o.pop());let b="";if(xi.forEach(M=>{const F=o.indexOf(M);F>-1&&(o.splice(F,1),b+=M+".")}),b+=m,0!=o.length||0===m.length)return null;const w={};return w.domEventName=f,w.fullKey=b,w}static getEventFullKey(e){let o="",f=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&An.hasOwnProperty(r)&&(r=An[r]))}return qp[r]||r}(e);return f=f.toLowerCase()," "===f?f="space":"."===f&&(f="dot"),xi.forEach(m=>{m!=f&&jl[m](e)&&(o+=m+".")}),o+=f,o}static eventCallback(e,o,f){return m=>{i.getEventFullKey(m)===e&&f.runGuarded(()=>o(m))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(de))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const ls=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){No.makeCurrent(),Ma.init()},multi:!0},{provide:de,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),_c=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Ra,useClass:ka,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:Ra,useClass:Zp,multi:!0,deps:[de]},[],{provide:fi,useClass:fi,deps:[Ce,tn,d.AFp]},{provide:d.FYo,useExisting:fi},{provide:Oa,useExisting:tn},{provide:tn,useClass:tn,deps:[de]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Ce,useClass:Ce,deps:[Ra,d.R0b]},{provide:class{},useClass:es,deps:[]},[]];let yc=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:en,useExisting:d.AFp},Pr]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:_c,imports:[Ws,d.hGG]}),i})();"undefined"!=typeof window&&window;const $l_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var nn=L(57),Vo=L(3637),er=L(7574),Ye=L(5917),Ha=L(6682),st=L(8002),Ec=L(8819),Mn=L(4402),kr=L(5345);function un(i,r){return"function"==typeof r?e=>e.pipe(un((o,f)=>(0,Mn.D)(i(o,f)).pipe((0,st.U)((m,b)=>r(o,m,f,b))))):e=>e.lift(new Bo(i))}class Bo{constructor(r){this.project=r}call(r,e){return e.subscribe(new Kp(r,this.project))}}class Kp extends kr.Ds{constructor(r,e){super(r),this.project=e,this.index=0}_next(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(f){return void this.destination.error(f)}this._innerSub(e)}_innerSub(r){const e=this.innerSubscription;e&&e.unsubscribe();const o=new kr.IY(this),f=this.destination;f.add(o),this.innerSubscription=(0,kr.ft)(r,o),this.innerSubscription!==o&&f.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var ur=L(7393);function Xs(i,r){let e=!1;return arguments.length>=2&&(e=!0),function(f){return f.lift(new Uo(i,r,e))}}class Uo{constructor(r,e,o=!1){this.accumulator=r,this.seed=e,this.hasSeed=o}call(r,e){return e.subscribe(new ff(r,this.accumulator,this.seed,this.hasSeed))}}class ff extends ur.L{constructor(r,e,o,f){super(r),this.accumulator=e,this._seed=o,this.hasSeed=f,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let o;try{o=this.accumulator(this.seed,r,e)}catch(f){this.destination.error(f)}this.seed=o,this.destination.next(o)}}class Dc{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new jo(r,this.compare,this.keySelector))}}class jo extends ur.L{constructor(r,e,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:f}=this;e=f?f(r):r}catch(f){return this.destination.error(f)}let o=!1;if(this.hasKey)try{const{compare:f}=this;o=f(this.key,e)}catch(f){return this.destination.error(f)}else this.hasKey=!0;o||(this.key=e,this.destination.next(r))}}class eo extends ur.L{notifyNext(r,e,o,f,m){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Ho extends ur.L{constructor(r,e,o){super(),this.parent=r,this.outerValue=e,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Go=L(7444);function Wl(i,r,e,o,f=new Ho(i,e,o)){if(!f.closed)return r instanceof er.y?r.subscribe(f):(0,Go.s)(r)(f)}class Jp{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new dy(r,this.observables,this.project))}}class dy extends eo{constructor(r,e,o){super(r),this.observables=e,this.project=o,this.toRespond=[];const f=e.length;this.values=new Array(f);for(let m=0;m<f;m++)this.toRespond.push(m);for(let m=0;m<f;m++)this.add(Wl(this,e[m],void 0,m))}notifyNext(r,e,o){this.values[o]=e;const f=this.toRespond;if(f.length>0){const m=f.indexOf(o);-1!==m&&f.splice(m,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class Tc{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new pf(r,this.predicate))}}class pf extends ur.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}L(9192);var br=L(9765),$o=L(6136),gf=L(7771),zl=L(5319),Xp=L(7971),fy=L(8858);class eg extends br.xQ{constructor(r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const e=this._events;e.push(r),e.length>this._bufferSize&&e.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new to(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),f=this.scheduler,m=o.length;let b;if(this.closed)throw new Xp.N;if(this.isStopped||this.hasError?b=zl.w.EMPTY:(this.observers.push(r),b=new fy.W(this,r)),f&&r.add(r=new $o.ht(r,f)),e)for(let w=0;w<m&&!r.closed;w++)r.next(o[w]);else for(let w=0;w<m&&!r.closed;w++)r.next(o[w].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),b}_getNow(){return(this.scheduler||gf.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),e=this._bufferSize,o=this._windowTime,f=this._events,m=f.length;let b=0;for(;b<m&&!(r-f[b].time<o);)b++;return m>e&&(b=Math.max(b,m-e)),b>0&&f.splice(0,b),f}}class to{constructor(r,e){this.time=r,this.value=e}}function mf(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},f=>f.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let f,b,m=0,w=!1,M=!1;return function($){let ee;m++,!f||w?(w=!1,f=new eg(i,r,o),ee=f.subscribe(this),b=$.subscribe({next(ye){f.next(ye)},error(ye){w=!0,f.error(ye)},complete(){M=!0,b=void 0,f.complete()}}),M&&(b=void 0)):ee=f.subscribe(this),this.add(()=>{m--,ee.unsubscribe(),ee=void 0,b&&!M&&e&&0===m&&(b.unsubscribe(),b=void 0,f=void 0)})}}(o))}const Qr=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Kr(i,r){return function(o){return o.lift(new In(i,r))}}class In{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new Yl(r,this.predicate,this.thisArg))}}class Yl extends ur.L{constructor(r,e,o){super(r),this.predicate=e,this.thisArg=o,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(r)}}const _f=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var hi=L(9193);function Vn(i){return r=>0===i?(0,hi.c)():r.lift(new Bn(i))}class Bn{constructor(r){if(this.total=r,this.total<0)throw new _f}call(r,e){return e.subscribe(new cs(r,this.total))}}class cs extends ur.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,o=++this.count;o<=e&&(this.destination.next(r),o===e&&(this.destination.complete(),this.unsubscribe()))}}function ds(i=null){return r=>r.lift(new fs(i))}class fs{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new yf(r,this.defaultValue))}}class yf extends ur.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ql(i=rg){return r=>r.lift(new ng(i))}class ng{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new hy(r,this.errorFactory))}}class hy extends ur.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function rg(){return new Qr}var zo=L(4487);function xn(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Kr((f,m)=>i(f,m,o)):zo.y,Vn(1),e?ds(r):ql(()=>new Qr))}function Ri(i,r){return r?un(()=>i,r):un(()=>i)}var Oi=L(3101);const Yo=new d.OlP("angularfire2.auth.use-emulator"),Ga=new d.OlP("angularfire2.auth.settings"),$a=new d.OlP("angularfire2.auth.tenant-id"),Zl=new d.OlP("angularfire2.auth.langugage-code"),Ql=new d.OlP("angularfire2.auth.use-device-language"),Kl=new d.OlP("angularfire.auth.persistence");let hs=(()=>{class i{constructor(e,o,f,m,b,w,M,F,$,ee){const ye=new nn.HU(m),pe=(0,nn.ss)(ye),De=new br.xQ,Fe=(0,Ye.of)(void 0).pipe((0,$o.QV)(ye.outsideAngular),un(()=>m.runOutsideAngular(()=>L.e(336).then(L.bind(L,1336)))),(0,st.U)(()=>(0,nn.on)(e,m,o)),(0,st.U)(Be=>m.runOutsideAngular(()=>{const ze=b,it=w;return(0,nn.sI)(`${Be.name}.auth`,"AngularFireAuth",Be,()=>{const Et=m.runOutsideAngular(()=>Be.auth());if(ze&&Et.useEmulator(`http://${ze.join(":")}`),M&&(Et.tenantId=M),Et.languageCode=F,$&&Et.useDeviceLanguage(),it)for(const[Bt,Ft]of Object.entries(it))Et.settings[Bt]=Ft;return ee&&Et.setPersistence(ee),Et},[ze,M,F,$,it,ee])})),mf({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ye.of)(null);else{Fe.pipe(xn()).subscribe();const ze=Fe.pipe(un(Ft=>Ft.getRedirectResult().then(Sr=>Sr,()=>null)),pe,mf({bufferSize:1,refCount:!1})),it=Ft=>new er.y(Sr=>({unsubscribe:m.runOutsideAngular(()=>Ft(Sr))})),Et=Fe.pipe(un(Ft=>it(Ft.onAuthStateChanged.bind(Ft)))),Bt=Fe.pipe(un(Ft=>it(Ft.onIdTokenChanged.bind(Ft))));this.authState=ze.pipe(Ri(Et),(0,Oi.R)(ye.outsideAngular),(0,$o.QV)(ye.insideAngular)),this.user=ze.pipe(Ri(Bt),(0,Oi.R)(ye.outsideAngular),(0,$o.QV)(ye.insideAngular)),this.idToken=this.user.pipe(un(Ft=>Ft?(0,Mn.D)(Ft.getIdToken()):(0,Ye.of)(null))),this.idTokenResult=this.user.pipe(un(Ft=>Ft?(0,Mn.D)(Ft.getIdTokenResult()):(0,Ye.of)(null))),this.credential=(0,Ha.T)(ze,De,this.authState.pipe(Kr(Ft=>!Ft))).pipe((0,st.U)(Ft=>(null==Ft?void 0:Ft.user)?Ft:null),(0,Oi.R)(ye.outsideAngular),(0,$o.QV)(ye.insideAngular))}return(0,nn.pX)(this,Fe,m,{spy:{apply:(Be,ze,it)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&it.then(Et=>De.next(Et))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(nn.Dh),d.LFG(nn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yo,8),d.LFG(Ga,8),d.LFG($a,8),d.LFG(Zl,8),d.LFG(Ql,8),d.LFG(Kl,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(nn.Dh),d.LFG(nn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yo,8),d.LFG(Ga,8),d.LFG($a,8),d.LFG(Zl,8),d.LFG(Ql,8),d.LFG(Kl,8))},token:i,providedIn:"any"}),i})();var Jl=L(2329);function Xl(i){return null==i}function no(i){return"function"==typeof i.set}function vf(i,r){return no(r)?r:i.ref(r)}function Ac(i,r){if(function(i){return"string"==typeof i}(i))return r.stringCase();if(no(i))return r.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function za(i,r,e="on",o=Vo.z){return new er.y(f=>{let m=null;return m=i[e](r,(b,w)=>{o.schedule(()=>{f.next({snapshot:b,prevKey:w})}),"once"===e&&o.schedule(()=>f.complete())},b=>{o.schedule(()=>f.error(b))}),"on"===e?{unsubscribe(){null!=m&&i.off(r,m)}}:{unsubscribe(){}}}).pipe((0,st.U)(f=>{const{snapshot:m,prevKey:b}=f;let w=null;return m.exists()&&(w=m.key),{type:r,payload:m,prevKey:b,key:w}}),(0,Ec.B)())}function bf(i,r){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===r)return o;return-1}function ro(i,r){const{payload:e,prevKey:o,key:f}=r,m=bf(i,f),b=function(i,r){if(Xl(r))return 0;{const e=bf(i,r);return-1===e?i.length:e+1}}(i,o);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let w=null;r.payload.forEach(M=>{const F={payload:M,type:"value",prevKey:w,key:M.key};return w=M.key,i=[...i,F],!1})}return i;case"child_added":if(m>-1){const w=i[m-1];(w&&w.key||null)!==o&&(i=i.filter(M=>M.payload.key!==e.key)).splice(b,0,r)}else{if(null==o)return[r,...i];(i=i.slice()).splice(b,0,r)}return i;case"child_removed":return i.filter(w=>w.payload.key!==e.key);case"child_changed":return i.map(w=>w.payload.key===f?r:w);case"child_moved":if(m>-1){const w=i.splice(m,1)[0];return(i=i.slice()).splice(b,0,w),i}return i;default:return i}}function Ni(i){return(Xl(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function qa(i,r,e){return function(i,r,e){return za(i,"value","once",e).pipe(un(o=>{const f=[(0,Ye.of)(o)];return r.forEach(m=>f.push(za(i,m,"on",e))),(0,Ha.T)(...f).pipe(Xs(ro,[]))}),e=>e.lift(new Dc(void 0,void 0)))}(i,r=Ni(r),e)}function $t(i,r,e){const o=(r=Ni(r)).map(f=>za(i,f,"on",e));return(0,Ha.T)(...o)}function Pi(i,r){return function(o,f){return Ac(o,{stringCase:()=>i.child(o)[r](f),firebaseCase:()=>o[r](f),snapshotCase:()=>o.ref[r](f)})}}function Ef(i){return function(e){return e?Ac(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function so(i,r){return function(){return za(i,"value","on",r)}}const oo=new d.OlP("angularfire2.realtimeDatabaseURL"),pi=new d.OlP("angularfire2.database.use-emulator");let tu=(()=>{class i{constructor(e,o,f,m,b,w,M){this.schedulers=new nn.HU(b),this.keepUnstableUntilFirst=(0,nn.ss)(this.schedulers);const F=w,$=(0,nn.on)(e,b,o);!Jl.Z.auth&&M&&(0,nn.yq)(),this.database=(0,nn.sI)(`${$.name}.database.${f}`,"AngularFireDatabase",$,()=>{const ee=b.runOutsideAngular(()=>$.database(f||void 0));return F&&ee.useEmulator(...F),ee},[F])}list(e,o){const f=this.schedulers.ngZone.runOutsideAngular(()=>vf(this.database,e));let m=f;return o&&(m=o(f)),function(i,r){const e=r.schedulers.outsideAngular,o=r.schedulers.ngZone.run(()=>i.ref);return{query:i,update:Pi(o,"update"),set:Pi(o,"set"),push:f=>o.push(f),remove:Ef(o),snapshotChanges:f=>qa(i,f,e).pipe(r.keepUnstableUntilFirst),stateChanges:f=>$t(i,f,e).pipe(r.keepUnstableUntilFirst),auditTrail:f=>function(i,r,e){return function(i,r,e){return function(i,r){return za(i,"value","on",r).pipe((0,st.U)(e=>{let o;return e.payload.forEach(f=>(o=f.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return r=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),r.lift(new Jp(i,e))}}(r),(0,st.U)(([f,m])=>{const b=f.lastKeyToLoad,w=m.map(M=>M.key);return{actions:m,lastKeyToLoad:b,loadedKeys:w}}),function(i){return r=>r.lift(new Tc(i))}(f=>-1===f.loadedKeys.indexOf(f.lastKeyToLoad)),(0,st.U)(f=>f.actions))}(i,$t(i,r).pipe(Xs((f,m)=>[...f,m],[])),e)}(i,f,e).pipe(r.keepUnstableUntilFirst),valueChanges:(f,m)=>qa(i,f,e).pipe((0,st.U)(w=>w.map(M=>m&&m.idField?Object.assign(Object.assign({},M.payload.val()),{[m.idField]:M.key}):M.payload.val())),r.keepUnstableUntilFirst)}}(m,this)}object(e){return function(i,r){return{query:i,snapshotChanges:()=>so(i,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>so(i,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,(0,st.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>vf(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(nn.Dh),d.LFG(nn.xv,8),d.LFG(oo,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pi,8),d.LFG(Yo,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(nn.Dh),d.LFG(nn.xv,8),d.LFG(oo,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pi,8),d.LFG(Yo,8))},token:i,providedIn:"any"}),i})(),gi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[tu]}),i})();class cr extends br.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return e&&!e.closed&&r.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Xp.N;return this._value}next(r){super.next(this._value=r)}}var nu=L(4869),Zo=L(9796),ps=L(6693);const Lr={};class sg{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new ao(r,this.resultSelector))}}class ao extends eo{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Lr),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(Wl(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const f=this.values,b=this.toRespond?f[o]===Lr?--this.toRespond:this.toRespond:0;f[o]=e,0===b&&(this.resultSelector?this._tryResultSelector(f):this.destination.next(f.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}var mi=L(3282);function Qo(...i){return(0,mi.J)(1)((0,Ye.of)(...i))}function lo(i){return new er.y(r=>{let e;try{e=i()}catch(f){return void r.error(f)}return(e?(0,Mn.D)(e):(0,hi.c)()).subscribe(r)})}var ag=L(2441);function Fi(i){return function(e){const o=new lg(i),f=e.lift(o);return o.caught=f}}class lg{constructor(r){this.selector=r}call(r,e){return e.subscribe(new ug(r,this.selector,this.caught))}}class ug extends kr.Ds{constructor(r,e,o){super(r),this.selector=e,this.caught=o}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(m){return void super.error(m)}this._unsubscribeAndRecycle();const o=new kr.IY(this);this.add(o);const f=(0,kr.ft)(e,o);f!==o&&this.add(f)}}}var gn=L(9773);function _i(i,r){return(0,gn.zg)(i,r,1)}function Rn(i){return function(e){return 0===i?(0,hi.c)():e.lift(new Tf(i))}}class Tf{constructor(r){if(this.total=r,this.total<0)throw new _f}call(r,e){return e.subscribe(new cg(r,this.total))}}class cg extends ur.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,f=this.count++;e.length<o?e.push(r):e[f%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,f=this.ring;for(let m=0;m<o;m++){const b=e++%o;r.next(f[b])}}r.complete()}}var On=L(3342),Ic=L(1307);class Rc{constructor(r){this.callback=r}call(r,e){return e.subscribe(new Ko(r,this.callback))}}class Ko extends ur.L{constructor(r,e){super(r),this.add(new zl.w(e))}}class qn{constructor(r,e){this.id=r,this.url=e}}class Oc extends qn{constructor(r,e,o="imperative",f=null){super(r,e),this.navigationTrigger=o,this.restoredState=f}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jo extends qn{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends qn{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nc extends qn{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ru extends qn{constructor(r,e,o,f){super(r,e),this.urlAfterRedirects=o,this.state=f}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends qn{constructor(r,e,o,f){super(r,e),this.urlAfterRedirects=o,this.state=f}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs extends qn{constructor(r,e,o,f,m){super(r,e),this.urlAfterRedirects=o,this.state=f,this.shouldActivate=m}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Af extends qn{constructor(r,e,o,f){super(r,e),this.urlAfterRedirects=o,this.state=f}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fg extends qn{constructor(r,e,o,f){super(r,e),this.urlAfterRedirects=o,this.state=f}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mf{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pc{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hg{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pg{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class If{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kc{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class gg{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qa(i){return new gg(i)}const uo="ngNavigationCancelingError";function fr(i){const r=Error("NavigationCancelingError: "+i);return r[uo]=!0,r}function Vr(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const f={};for(let m=0;m<o.length;m++){const b=o[m],w=i[m];if(b.startsWith(":"))f[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:i.slice(0,o.length),posParams:f}}function Jr(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let f;for(let m=0;m<e.length;m++)if(f=e[m],!_s(i[f],r[f]))return!1;return!0}function _s(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((f,m)=>o[m]===f)}return i===r}function Lc(i){return Array.prototype.concat.apply([],i)}function Rf(i){return i.length>0?i[i.length-1]:null}function Un(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function tr(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,Mn.D)(Promise.resolve(i)):(0,Ye.of)(i)}const Ja={exact:function Of(i,r,e){if(!Tt(i.segments,r.segments)||!Xa(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!Of(i.children[o],r.children[o],e))return!1;return!0},subset:Vc},mg={exact:function(i,r){return Jr(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>_s(i[e],r[e]))},ignored:()=>!0};function _g(i,r,e){return Ja[e.paths](i.root,r.root,e.matrixParams)&&mg[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function Vc(i,r,e){return Bc(i,r,r.segments,e)}function Bc(i,r,e,o){if(i.segments.length>e.length){const f=i.segments.slice(0,e.length);return!(!Tt(f,e)||r.hasChildren()||!Xa(f,e,o))}if(i.segments.length===e.length){if(!Tt(i.segments,e)||!Xa(i.segments,e,o))return!1;for(const f in r.children)if(!i.children[f]||!Vc(i.children[f],r.children[f],o))return!1;return!0}{const f=e.slice(0,i.segments.length),m=e.slice(i.segments.length);return!!(Tt(i.segments,f)&&Xa(i.segments,f,o)&&i.children[Dt])&&Bc(i.children[Dt],r,m,o)}}function Xa(i,r,e){return r.every((o,f)=>mg[e](i[f].parameters,o.parameters))}class mn{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return ys.serialize(this)}}class vt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Un(e,(o,f)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lu(this)}}class hr{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qa(this.parameters)),this._parameterMap}toString(){return jn(this)}}function Tt(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class au{}class el{parse(r){const e=new Hc(r);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){var i;return`${`/${tl(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(f=>`${cu(e)}=${cu(f)}`).join("&"):`${cu(e)}=${cu(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const ys=new el;function lu(i){return i.segments.map(r=>jn(r)).join("/")}function tl(i,r){if(!i.hasChildren())return lu(i);if(r){const e=i.children[Dt]?tl(i.children[Dt],!1):"",o=[];return Un(i.children,(f,m)=>{m!==Dt&&o.push(`${m}:${tl(f,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return Un(i.children,(o,f)=>{f===Dt&&(e=e.concat(r(o,f)))}),Un(i.children,(o,f)=>{f!==Dt&&(e=e.concat(r(o,f)))}),e}(i,(o,f)=>f===Dt?[tl(i.children[Dt],!1)]:[`${f}:${tl(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Dt]?`${lu(i)}/${e[0]}`:`${lu(i)}/(${e.join("//")})`}}function uu(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cu(i){return uu(i).replace(/%3B/gi,";")}function Pf(i){return uu(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(i){return decodeURIComponent(i)}function co(i){return Uc(i.replace(/\+/g,"%20"))}function jn(i){return`${Pf(i.path)}${function(i){return Object.keys(i).map(r=>`;${Pf(r)}=${Pf(i[r])}`).join("")}(i.parameters)}`}const jc=/^[^\/()?;=#]+/;function bn(i){const r=i.match(jc);return r?r[0]:""}const Xo=/^[^=?&#]+/,Ff=/^[^?&#]+/;class Hc{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[Dt]=new vt(r,e)),o}parseSegment(){const r=bn(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new hr(Uc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=bn(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const f=bn(this.remaining);f&&(o=f,this.capture(o))}r[Uc(e)]=Uc(o)}parseQueryParam(r){const e=function(i){const r=i.match(Xo);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const b=function(i){const r=i.match(Ff);return r?r[0]:""}(this.remaining);b&&(o=b,this.capture(o))}const f=co(e),m=co(o);if(r.hasOwnProperty(f)){let b=r[f];Array.isArray(b)||(b=[b],r[f]=b),b.push(m)}else r[f]=m}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=bn(this.remaining),f=this.remaining[o.length];if("/"!==f&&")"!==f&&";"!==f)throw new Error(`Cannot parse url '${this.url}'`);let m;o.indexOf(":")>-1?(m=o.substr(0,o.indexOf(":")),this.capture(m),this.capture(":")):r&&(m=Dt);const b=this.parseChildren();e[m]=1===Object.keys(b).length?b[Dt]:new vt([],b),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class kf{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=hu(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=hu(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Gc(r,this._root);return e.length<2?[]:e[e.length-2].children.map(f=>f.value).filter(f=>f!==r)}pathFromRoot(r){return Gc(r,this._root).map(e=>e.value)}}function hu(i,r){if(i===r.value)return r;for(const e of r.children){const o=hu(i,e);if(o)return o}return null}function Gc(i,r){if(i===r.value)return[r];for(const e of r.children){const o=Gc(i,e);if(o.length)return o.unshift(r),o}return[]}class ei{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function nl(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class Lf extends kf{constructor(r,e){super(r),this.snapshot=e,ea(this,r)}toString(){return this.snapshot.toString()}}function Vf(i,r){const e=function(i,r){const b=new Wc([],{},{},"",{},Dt,r,null,i.root,-1,{});return new zc("",new ei(b,[]))}(i,r),o=new cr([new hr("",{})]),f=new cr({}),m=new cr({}),b=new cr({}),w=new cr(""),M=new vs(o,f,b,w,m,Dt,r,e.root);return M.snapshot=e.root,new Lf(new ei(M,[]),e)}class vs{constructor(r,e,o,f,m,b,w,M){this.url=r,this.params=e,this.queryParams=o,this.fragment=f,this.data=m,this.outlet=b,this.component=w,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(r=>Qa(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(r=>Qa(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $c(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const f=e[o],m=e[o-1];if(f.routeConfig&&""===f.routeConfig.path)o--;else{if(m.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Wc{constructor(r,e,o,f,m,b,w,M,F,$,ee){this.url=r,this.params=e,this.queryParams=o,this.fragment=f,this.data=m,this.outlet=b,this.component=w,this.routeConfig=M,this._urlSegment=F,this._lastPathIndex=$,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zc extends kf{constructor(r,e){super(e),this.url=r,ea(this,e)}toString(){return Uf(this._root)}}function ea(i,r){r.value._routerState=i,r.children.forEach(e=>ea(i,e))}function Uf(i){const r=i.children.length>0?` { ${i.children.map(Uf).join(", ")} } `:"";return`${i.value}${r}`}function Yc(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Jr(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),Jr(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!Jr(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),Jr(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function bs(i,r){return Jr(i.params,r.params)&&function(i,r){return Tt(i,r)&&i.every((e,o)=>Jr(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||bs(i.parent,r.parent))}function pu(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const f=function(i,r,e){return r.children.map(o=>{for(const f of e.children)if(i.shouldReuseRoute(o.value,f.value.snapshot))return pu(i,o,f);return pu(i,o)})}(i,r,e);return new ei(o,f)}{if(i.shouldAttach(r.value)){const m=i.retrieve(r.value);if(null!==m){const b=m.route;return jf(r,b),b}}const o=function(i){return new vs(new cr(i.url),new cr(i.params),new cr(i.queryParams),new cr(i.fragment),new cr(i.data),i.outlet,i.component,i)}(r.value),f=r.children.map(m=>pu(i,m));return new ei(o,f)}}function jf(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)jf(i.children[e],r.children[e])}function Hn(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ho(i){return"object"==typeof i&&null!=i&&i.outlets}function qc(i,r,e,o,f){let m={};return o&&Un(o,(b,w)=>{m[w]=Array.isArray(b)?b.map(M=>`${M}`):`${b}`}),new mn(e.root===i?r:Zc(e.root,i,r),m,f)}function Zc(i,r,e){const o={};return Un(i.children,(f,m)=>{o[m]=f===r?e:Zc(f,r,e)}),new vt(i.segments,o)}class Qc{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&Hn(o[0]))throw new Error("Root segment cannot have matrix parameters");const f=o.find(ho);if(f&&f!==Rf(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mu{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function po(i,r,e){if(i||(i=new vt([],{})),0===i.segments.length&&i.hasChildren())return Cr(i,r,e);const o=function(i,r,e){let o=0,f=r;const m={match:!1,pathIndex:0,commandIndex:0};for(;f<i.segments.length;){if(o>=e.length)return m;const b=i.segments[f],w=e[o];if(ho(w))break;const M=`${w}`,F=o<e.length-1?e[o+1]:null;if(f>0&&void 0===M)break;if(M&&F&&"object"==typeof F&&void 0===F.outlets){if(!ni(M,F,b))return m;o+=2}else{if(!ni(M,{},b))return m;o++}f++}return{match:!0,pathIndex:f,commandIndex:o}}(i,r,e),f=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const m=new vt(i.segments.slice(0,o.pathIndex),{});return m.children[Dt]=new vt(i.segments.slice(o.pathIndex),i.children),Cr(m,0,f)}return o.match&&0===f.length?new vt(i.segments,{}):o.match&&!i.hasChildren()?Hf(i,r,e):o.match?Cr(i,0,f):Hf(i,r,e)}function Cr(i,r,e){if(0===e.length)return new vt(i.segments,{});{const o=function(i){return ho(i[0])?i[0].outlets:{[Dt]:i}}(e),f={};return Un(o,(m,b)=>{"string"==typeof m&&(m=[m]),null!==m&&(f[b]=po(i.children[b],r,m))}),Un(i.children,(m,b)=>{void 0===o[b]&&(f[b]=m)}),new vt(i.segments,f)}}function Hf(i,r,e){const o=i.segments.slice(0,r);let f=0;for(;f<e.length;){const m=e[f];if(ho(m)){const M=Gf(m.outlets);return new vt(o,M)}if(0===f&&Hn(e[0])){o.push(new hr(i.segments[r].path,Tg(e[0]))),f++;continue}const b=ho(m)?m.outlets[Dt]:`${m}`,w=f<e.length-1?e[f+1]:null;b&&w&&Hn(w)?(o.push(new hr(b,Tg(w))),f+=2):(o.push(new hr(b,{})),f++)}return new vt(o,{})}function Gf(i){const r={};return Un(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=Hf(new vt([],{}),0,e))}),r}function Tg(i){const r={};return Un(i,(e,o)=>r[o]=`${e}`),r}function ni(i,r,e){return i==e.path&&Jr(r,e.parameters)}class go{constructor(r,e,o,f){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=f}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),Yc(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const f=nl(e);r.children.forEach(m=>{const b=m.value.outlet;this.deactivateRoutes(m,f[b],o),delete f[b]}),Un(f,(m,b)=>{this.deactivateRouteAndItsChildren(m,o)})}deactivateRoutes(r,e,o){const f=r.value,m=e?e.value:null;if(f===m)if(f.component){const b=o.getContext(f.outlet);b&&this.deactivateChildRoutes(r,e,b.children)}else this.deactivateChildRoutes(r,e,o);else m&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const f=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:f,route:r,contexts:m})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),f=o&&r.value.component?o.children:e,m=nl(r);for(const b of Object.keys(m))this.deactivateRouteAndItsChildren(m[b],f);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const f=nl(e);r.children.forEach(m=>{this.activateRoutes(m,f[m.value.outlet],o),this.forwardEvent(new Fc(m.value.snapshot))}),r.children.length&&this.forwardEvent(new pg(r.value.snapshot))}activateRoutes(r,e,o){const f=r.value,m=e?e.value:null;if(Yc(f),f===m)if(f.component){const b=o.getOrCreateContext(f.outlet);this.activateChildRoutes(r,e,b.children)}else this.activateChildRoutes(r,e,o);else if(f.component){const b=o.getOrCreateContext(f.outlet);if(this.routeReuseStrategy.shouldAttach(f.snapshot)){const w=this.routeReuseStrategy.retrieve(f.snapshot);this.routeReuseStrategy.store(f.snapshot,null),b.children.onOutletReAttached(w.contexts),b.attachRef=w.componentRef,b.route=w.route.value,b.outlet&&b.outlet.attach(w.componentRef,w.route.value),Jc(w.route)}else{const w=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(f.snapshot),M=w?w.module.componentFactoryResolver:null;b.attachRef=null,b.route=f,b.resolver=M,b.outlet&&b.outlet.activateWith(f,M),this.activateChildRoutes(r,null,b.children)}}else this.activateChildRoutes(r,null,o)}}function Jc(i){Yc(i.value),i.children.forEach(Jc)}class yi{constructor(r,e){this.routes=r,this.module=e}}function Li(i){return"function"==typeof i}function Vi(i){return i instanceof mn}const mo=Symbol("INITIAL_VALUE");function na(){return un(i=>function(...i){let r,e;return(0,nu.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,Zo.k)(i[0])&&(i=i[0]),(0,ps.n)(i,e).lift(new sg(r))}(i.map(r=>r.pipe(Vn(1),function(...i){const r=i[i.length-1];return(0,nu.K)(r)?(i.pop(),e=>Qo(i,e,r)):e=>Qo(i,e)}(mo)))).pipe(Xs((r,e)=>{let o=!1;return e.reduce((f,m,b)=>f!==mo?f:(m===mo&&(o=!0),o||!1!==m&&b!==e.length-1&&!Vi(m)?f:m),r)},mo),Kr(r=>r!==mo),(0,st.U)(r=>Vi(r)?r:!0===r),Vn(1)))}let zf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[id]},encapsulation:2}),i})();function _u(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];Sg(o,Ag(r,o))}}function Sg(i,r){i.children&&_u(i.children,r)}function Ag(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function ed(i){const r=i.children&&i.children.map(ed),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Dt&&(e.component=zf),e}function Br(i){return i.outlet||Dt}function Yf(i,r){const e=i.filter(o=>Br(o)===r);return e.push(...i.filter(o=>Br(o)!==r)),e}const qf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rl(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},qf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const m=(r.matcher||Vr)(e,i,r);if(!m)return Object.assign({},qf);const b={};Un(m.posParams,(M,F)=>{b[F]=M.path});const w=m.consumed.length>0?Object.assign(Object.assign({},b),m.consumed[m.consumed.length-1].parameters):b;return{matched:!0,consumedSegments:m.consumed,lastChild:m.consumed.length,parameters:w,positionalParamSegments:null!==(o=m.posParams)&&void 0!==o?o:{}}}function ra(i,r,e,o,f="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>v(i,r,o)&&Br(o)!==Dt)}(i,e,o)){const b=new vt(r,function(i,r,e,o){const f={};f[Dt]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const m of e)if(""===m.path&&Br(m)!==Dt){const b=new vt([],{});b._sourceSegment=i,b._segmentIndexShift=r.length,f[Br(m)]=b}return f}(i,r,o,new vt(e,i.children)));return b._sourceSegment=i,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>v(i,r,o))}(i,e,o)){const b=new vt(i.segments,function(i,r,e,o,f,m){const b={};for(const w of o)if(v(i,e,w)&&!f[Br(w)]){const M=new vt([],{});M._sourceSegment=i,M._segmentIndexShift="legacy"===m?i.segments.length:r.length,b[Br(w)]=M}return Object.assign(Object.assign({},f),b)}(i,r,e,o,i.children,f));return b._sourceSegment=i,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:e}}const m=new vt(i.segments,i.children);return m._sourceSegment=i,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:e}}function v(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function E(i,r,e,o){return!!(Br(i)===o||o!==Dt&&v(r,e,i))&&("**"===i.path||rl(r,i,e).matched)}function T(i,r,e){return 0===r.length&&!i.children[e]}class x{constructor(r){this.segmentGroup=r||null}}class O{constructor(r){this.urlTree=r}}function k(i){return new er.y(r=>r.error(new x(i)))}function B(i){return new er.y(r=>r.error(new O(i)))}function te(i){return new er.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class xe{constructor(r,e,o,f,m){this.configLoader=e,this.urlSerializer=o,this.urlTree=f,this.config=m,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=ra(this.urlTree.root,[],[],this.config).segmentGroup,e=new vt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Dt).pipe((0,st.U)(m=>this.createUrlTree(He(m),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fi(m=>{if(m instanceof O)return this.allowRedirects=!1,this.match(m.urlTree);throw m instanceof x?this.noMatchError(m):m}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Dt).pipe((0,st.U)(f=>this.createUrlTree(He(f),r.queryParams,r.fragment))).pipe(Fi(f=>{throw f instanceof x?this.noMatchError(f):f}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const f=r.segments.length>0?new vt([],{[Dt]:r}):r;return new mn(f,e,o)}expandSegmentGroup(r,e,o,f){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,st.U)(m=>new vt([],m))):this.expandSegment(r,o,e,o.segments,f,!0)}expandChildren(r,e,o){const f=[];for(const m of Object.keys(o.children))"primary"===m?f.unshift(m):f.push(m);return(0,Mn.D)(f).pipe(_i(m=>{const b=o.children[m],w=Yf(e,m);return this.expandSegmentGroup(r,w,b,m).pipe((0,st.U)(M=>({segment:M,outlet:m})))}),Xs((m,b)=>(m[b.outlet]=b.segment,m),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Kr((f,m)=>i(f,m,o)):zo.y,Rn(1),e?ds(r):ql(()=>new Qr))}())}expandSegment(r,e,o,f,m,b){return(0,Mn.D)(o).pipe(_i(w=>this.expandSegmentAgainstRoute(r,e,o,w,f,m,b).pipe(Fi(F=>{if(F instanceof x)return(0,Ye.of)(null);throw F}))),xn(w=>!!w),Fi((w,M)=>{if(w instanceof Qr||"EmptyError"===w.name){if(T(e,f,m))return(0,Ye.of)(new vt([],{}));throw new x(e)}throw w}))}expandSegmentAgainstRoute(r,e,o,f,m,b,w){return E(f,e,m,b)?void 0===f.redirectTo?this.matchSegmentAgainstRoute(r,e,f,m,b):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,f,m,b):k(e):k(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,f,m,b){return"**"===f.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,f,b):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,f,m,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,f){const m=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?B(m):this.lineralizeSegments(o,m).pipe((0,gn.zg)(b=>{const w=new vt(b,{});return this.expandSegment(r,w,e,b,f,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,f,m,b){const{matched:w,consumedSegments:M,lastChild:F,positionalParamSegments:$}=rl(e,f,m);if(!w)return k(e);const ee=this.applyRedirectCommands(M,f.redirectTo,$);return f.redirectTo.startsWith("/")?B(ee):this.lineralizeSegments(f,ee).pipe((0,gn.zg)(ye=>this.expandSegment(r,e,o,ye.concat(m.slice(F)),b,!1)))}matchSegmentAgainstRoute(r,e,o,f,m){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ye.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,st.U)(ye=>(o._loadedConfig=ye,new vt(f,{})))):(0,Ye.of)(new vt(f,{}));const{matched:b,consumedSegments:w,lastChild:M}=rl(e,o,f);if(!b)return k(e);const F=f.slice(M);return this.getChildConfig(r,o,f).pipe((0,gn.zg)(ee=>{const ye=ee.module,pe=ee.routes,{segmentGroup:De,slicedSegments:Fe}=ra(e,w,F,pe),Be=new vt(De.segments,De.children);if(0===Fe.length&&Be.hasChildren())return this.expandChildren(ye,pe,Be).pipe((0,st.U)(Bt=>new vt(w,Bt)));if(0===pe.length&&0===Fe.length)return(0,Ye.of)(new vt(w,{}));const ze=Br(o)===m;return this.expandSegment(ye,Be,pe,Fe,ze?Dt:m,!0).pipe((0,st.U)(Et=>new vt(w.concat(Et.segments),Et.children)))}))}getChildConfig(r,e,o){return e.children?(0,Ye.of)(new yi(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,Ye.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,gn.zg)(f=>{return f?this.configLoader.load(r.injector,e).pipe((0,st.U)(m=>(e._loadedConfig=m,m))):(i=e,new er.y(r=>r.error(fr(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Ye.of)(new yi([],r))}runCanLoadGuards(r,e,o){const f=e.canLoad;if(!f||0===f.length)return(0,Ye.of)(!0);const m=f.map(b=>{const w=r.get(b);let M;if((i=w)&&Li(i.canLoad))M=w.canLoad(e,o);else{if(!Li(w))throw new Error("Invalid CanLoad guard");M=w(e,o)}var i;return tr(M)});return(0,Ye.of)(m).pipe(na(),(0,On.b)(b=>{if(!Vi(b))return;const w=fr(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw w.url=b,w}),(0,st.U)(b=>!0===b))}lineralizeSegments(r,e){let o=[],f=e.root;for(;;){if(o=o.concat(f.segments),0===f.numberOfChildren)return(0,Ye.of)(o);if(f.numberOfChildren>1||!f.children[Dt])return te(r.redirectTo);f=f.children[Dt]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,f){const m=this.createSegmentGroup(r,e.root,o,f);return new mn(m,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return Un(r,(f,m)=>{if("string"==typeof f&&f.startsWith(":")){const w=f.substring(1);o[m]=e[w]}else o[m]=f}),o}createSegmentGroup(r,e,o,f){const m=this.createSegments(r,e.segments,o,f);let b={};return Un(e.children,(w,M)=>{b[M]=this.createSegmentGroup(r,w,o,f)}),new vt(m,b)}createSegments(r,e,o,f){return e.map(m=>m.path.startsWith(":")?this.findPosParam(r,m,f):this.findOrReturn(m,o))}findPosParam(r,e,o){const f=o[e.path.substring(1)];if(!f)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return f}findOrReturn(r,e){let o=0;for(const f of e){if(f.path===r.path)return e.splice(o),f;o++}return r}}function He(i){const r={};for(const o of Object.keys(i.children)){const m=He(i.children[o]);(m.segments.length>0||m.hasChildren())&&(r[o]=m)}return function(i){if(1===i.numberOfChildren&&i.children[Dt]){const r=i.children[Dt];return new vt(i.segments.concat(r.segments),r.children)}return i}(new vt(i.segments,r))}class rn{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class pr{constructor(r,e){this.component=r,this.route=e}}function ia(i,r,e){const o=i._root;return td(o,r?r._root:null,e,[o.value])}function Es(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function td(i,r,e,o,f={canDeactivateChecks:[],canActivateChecks:[]}){const m=nl(r);return i.children.forEach(b=>{(function(i,r,e,o,f={canDeactivateChecks:[],canActivateChecks:[]}){const m=i.value,b=r?r.value:null,w=e?e.getContext(i.value.outlet):null;if(b&&m.routeConfig===b.routeConfig){const M=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!Tt(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Tt(i.url,r.url)||!Jr(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bs(i,r)||!Jr(i.queryParams,r.queryParams);case"paramsChange":default:return!bs(i,r)}}(b,m,m.routeConfig.runGuardsAndResolvers);M?f.canActivateChecks.push(new rn(o)):(m.data=b.data,m._resolvedData=b._resolvedData),td(i,r,m.component?w?w.children:null:e,o,f),M&&w&&w.outlet&&w.outlet.isActivated&&f.canDeactivateChecks.push(new pr(w.outlet.component,b))}else b&&nd(r,w,f),f.canActivateChecks.push(new rn(o)),td(i,null,m.component?w?w.children:null:e,o,f)})(b,m[b.value.outlet],e,o.concat([b.value]),f),delete m[b.value.outlet]}),Un(m,(b,w)=>nd(b,e.getContext(w),f)),f}function nd(i,r,e){const o=nl(i),f=i.value;Un(o,(m,b)=>{nd(m,f.component?r?r.children.getContext(b):null:r,e)}),e.canDeactivateChecks.push(new pr(f.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,f))}class v0{}function vi(i){return new er.y(r=>r.error(i))}class Dy{constructor(r,e,o,f,m,b){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=f,this.paramsInheritanceStrategy=m,this.relativeLinkResolution=b}recognize(){const r=ra(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Dt);if(null===e)return null;const o=new Wc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),f=new ei(o,e),m=new zc(this.url,f);return this.inheritParamsAndData(m._root),m}inheritParamsAndData(r){const e=r.value,o=$c(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(f=>this.inheritParamsAndData(f))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const m of Object.keys(e.children)){const b=e.children[m],w=Yf(r,m),M=this.processSegmentGroup(w,b,m);if(null===M)return null;o.push(...M)}const f=Ty(o);return f.sort((r,e)=>r.value.outlet===Dt?-1:e.value.outlet===Dt?1:r.value.outlet.localeCompare(e.value.outlet)),f}processSegment(r,e,o,f){for(const m of r){const b=this.processSegmentAgainstRoute(m,e,o,f);if(null!==b)return b}return T(e,o,f)?[]:null}processSegmentAgainstRoute(r,e,o,f){if(r.redirectTo||!E(r,e,o,f))return null;let m,b=[],w=[];if("**"===r.path){const pe=o.length>0?Rf(o).parameters:{};m=new Wc(o,pe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,My(r),Br(r),r.component,r,Sy(e),Ay(e)+o.length,ct(r))}else{const pe=rl(e,r,o);if(!pe.matched)return null;b=pe.consumedSegments,w=o.slice(pe.lastChild),m=new Wc(b,pe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,My(r),Br(r),r.component,r,Sy(e),Ay(e)+b.length,ct(r))}const M=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:F,slicedSegments:$}=ra(e,b,w,M.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);var i;if(0===$.length&&F.hasChildren()){const pe=this.processChildren(M,F);return null===pe?null:[new ei(m,pe)]}if(0===M.length&&0===$.length)return[new ei(m,[])];const ee=Br(r)===f,ye=this.processSegment(M,F,$,ee?Dt:f);return null===ye?null:[new ei(m,ye)]}}function w0(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Ty(i){const r=[],e=new Set;for(const o of i){if(!w0(o)){r.push(o);continue}const f=r.find(m=>o.value.routeConfig===m.value.routeConfig);void 0!==f?(f.children.push(...o.children),e.add(f)):r.push(o)}for(const o of e){const f=Ty(o.children);r.push(new ei(o.value,f))}return r.filter(o=>!e.has(o))}function Sy(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Ay(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function My(i){return i.data||{}}function ct(i){return i.resolve||{}}function Ig(i){return un(r=>{const e=i(r);return e?(0,Mn.D)(e).pipe((0,st.U)(()=>r)):(0,Ye.of)(r)})}class Rg extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Qf=new d.OlP("ROUTES");class Kf{constructor(r,e,o,f){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=f}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const f=this.loadModuleFactory(e.loadChildren).pipe((0,st.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(e);const b=m.create(r);return new yi(Lc(b.injector.get(Qf,void 0,d.XFs.Self|d.XFs.Optional)).map(ed),b)}),Fi(m=>{throw e._loader$=void 0,m}));return e._loader$=new ag.c(f,()=>new br.xQ).pipe((0,Ic.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Mn.D)(this.loader.load(r)):tr(r()).pipe((0,gn.zg)(e=>e instanceof d.YKP?(0,Ye.of)(e):(0,Mn.D)(this.compiler.compileModuleAsync(e))))}}class vT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sl,this.attachRef=null}}class sl{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new vT,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class yo{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Jf(i){throw i}function Xf(i,r,e){return r.parse("/")}function eh(i,r){return(0,Ye.of)(null)}const CT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class i{constructor(e,o,f,m,b,w,M,F){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=f,this.location=m,this.config=F,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new br.xQ,this.errorHandler=Jf,this.malformedUriErrorHandler=Xf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:eh,afterPreactivation:eh},this.urlHandlingStrategy=new yo,this.routeReuseStrategy=new Rg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(d.h0i),this.console=b.get(d.c2e);const ye=b.get(d.R0b);this.isNgZoneEnabled=ye instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(F),this.currentUrlTree=new mn(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kf(w,M,pe=>this.triggerEvent(new Mf(pe)),pe=>this.triggerEvent(new Pc(pe))),this.routerState=Vf(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Kr(f=>0!==f.id),(0,st.U)(f=>Object.assign(Object.assign({},f),{extractedUrl:this.urlHandlingStrategy.extract(f.rawUrl)})),un(f=>{let m=!1,b=!1;return(0,Ye.of)(f).pipe((0,On.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(w=>{const M=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,Ye.of)(w).pipe(un($=>{const ee=this.transitions.getValue();return o.next(new Oc($.id,this.serializeUrl($.extractedUrl),$.source,$.restoredState)),ee!==this.transitions.getValue()?hi.E:Promise.resolve($)}),function(i,r,e,o){return un(f=>function(i,r,e,o,f){return new xe(i,r,e,o,f).apply()}(i,r,e,f.extractedUrl,o).pipe((0,st.U)(m=>Object.assign(Object.assign({},f),{urlAfterRedirects:m}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)($=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:$.urlAfterRedirects})}),function(i,r,e,o,f){return(0,gn.zg)(m=>function(i,r,e,o,f="emptyOnly",m="legacy"){try{const b=new Dy(i,r,e,o,f,m).recognize();return null===b?vi(new v0):(0,Ye.of)(b)}catch(b){return vi(b)}}(i,r,m.urlAfterRedirects,e(m.urlAfterRedirects),o,f).pipe((0,st.U)(b=>Object.assign(Object.assign({},m),{targetSnapshot:b}))))}(this.rootComponentType,this.config,$=>this.serializeUrl($),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)($=>{"eager"===this.urlUpdateStrategy&&($.extras.skipLocationChange||this.setBrowserUrl($.urlAfterRedirects,$),this.browserUrlTree=$.urlAfterRedirects);const ee=new ru($.id,this.serializeUrl($.extractedUrl),this.serializeUrl($.urlAfterRedirects),$.targetSnapshot);o.next(ee)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ee,extractedUrl:ye,source:pe,restoredState:De,extras:Fe}=w,Be=new Oc(ee,this.serializeUrl(ye),pe,De);o.next(Be);const ze=Vf(ye,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},w),{targetSnapshot:ze,urlAfterRedirects:ye,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),hi.E}),Ig(w=>{const{targetSnapshot:M,id:F,extractedUrl:$,rawUrl:ee,extras:{skipLocationChange:ye,replaceUrl:pe}}=w;return this.hooks.beforePreactivation(M,{navigationId:F,appliedUrlTree:$,rawUrlTree:ee,skipLocationChange:!!ye,replaceUrl:!!pe})}),(0,On.b)(w=>{const M=new ki(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(M)}),(0,st.U)(w=>Object.assign(Object.assign({},w),{guards:ia(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,r){return(0,gn.zg)(e=>{const{targetSnapshot:o,currentSnapshot:f,guards:{canActivateChecks:m,canDeactivateChecks:b}}=e;return 0===b.length&&0===m.length?(0,Ye.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,Mn.D)(i).pipe((0,gn.zg)(f=>function(i,r,e,o,f){const m=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!m||0===m.length)return(0,Ye.of)(!0);const b=m.map(w=>{const M=Es(w,r,f);let F;if(function(i){return i&&Li(i.canDeactivate)}(M))F=tr(M.canDeactivate(i,r,e,o));else{if(!Li(M))throw new Error("Invalid CanDeactivate guard");F=tr(M(i,r,e,o))}return F.pipe(xn())});return(0,Ye.of)(b).pipe(na())}(f.component,f.route,e,r,o)),xn(f=>!0!==f,!0))}(b,o,f,i).pipe((0,gn.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,r,e,o){return(0,Mn.D)(r).pipe(_i(f=>Qo(function(i,r){return null!==i&&r&&r(new hg(i)),(0,Ye.of)(!0)}(f.route.parent,o),function(i,r){return null!==i&&r&&r(new If(i)),(0,Ye.of)(!0)}(f.route,o),function(i,r,e){const o=r[r.length-1],m=r.slice(0,r.length-1).reverse().map(b=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(b)).filter(b=>null!==b).map(b=>lo(()=>{const w=b.guards.map(M=>{const F=Es(M,b.node,e);let $;if(function(i){return i&&Li(i.canActivateChild)}(F))$=tr(F.canActivateChild(o,i));else{if(!Li(F))throw new Error("Invalid CanActivateChild guard");$=tr(F(o,i))}return $.pipe(xn())});return(0,Ye.of)(w).pipe(na())}));return(0,Ye.of)(m).pipe(na())}(i,f.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ye.of)(!0);const f=o.map(m=>lo(()=>{const b=Es(m,r,e);let w;if(function(i){return i&&Li(i.canActivate)}(b))w=tr(b.canActivate(r,i));else{if(!Li(b))throw new Error("Invalid CanActivate guard");w=tr(b(r,i))}return w.pipe(xn())}));return(0,Ye.of)(f).pipe(na())}(i,f.route,e))),xn(f=>!0!==f,!0))}(o,m,i,r):(0,Ye.of)(w)),(0,st.U)(w=>Object.assign(Object.assign({},e),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,On.b)(w=>{if(Vi(w.guardsResult)){const F=fr(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw F.url=w.guardsResult,F}const M=new gs(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(M)}),Kr(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),Ig(w=>{if(w.guards.canActivateChecks.length)return(0,Ye.of)(w).pipe((0,On.b)(M=>{const F=new Af(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(F)}),un(M=>{let F=!1;return(0,Ye.of)(M).pipe(function(i,r){return(0,gn.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:f}}=e;if(!f.length)return(0,Ye.of)(e);let m=0;return(0,Mn.D)(f).pipe(_i(b=>function(i,r,e,o){return function(i,r,e,o){const f=Object.keys(i);if(0===f.length)return(0,Ye.of)({});const m={};return(0,Mn.D)(f).pipe((0,gn.zg)(b=>function(i,r,e,o){const f=Es(i,r,o);return tr(f.resolve?f.resolve(r,e):f(r,e))}(i[b],r,e,o).pipe((0,On.b)(w=>{m[b]=w}))),Rn(1),(0,gn.zg)(()=>Object.keys(m).length===f.length?(0,Ye.of)(m):hi.E))}(i._resolve,i,r,o).pipe((0,st.U)(m=>(i._resolvedData=m,i.data=Object.assign(Object.assign({},i.data),$c(i,e).resolve),null)))}(b.route,o,i,r)),(0,On.b)(()=>m++),Rn(1),(0,gn.zg)(b=>m===f.length?(0,Ye.of)(e):hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>F=!0,complete:()=>{F||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),(0,On.b)(M=>{const F=new fg(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(F)}))}),Ig(w=>{const{targetSnapshot:M,id:F,extractedUrl:$,rawUrl:ee,extras:{skipLocationChange:ye,replaceUrl:pe}}=w;return this.hooks.afterPreactivation(M,{navigationId:F,appliedUrlTree:$,rawUrlTree:ee,skipLocationChange:!!ye,replaceUrl:!!pe})}),(0,st.U)(w=>{const M=function(i,r,e){const o=pu(i,r._root,e?e._root:void 0);return new Lf(o,r)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:M})}),(0,On.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,r,e)=>(0,st.U)(o=>(new go(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,On.b)({next(){m=!0},complete(){m=!0}}),function(i){return r=>r.lift(new Rc(i))}(()=>{if(!m&&!b){const w=`Navigation ID ${f.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(f),this.cancelNavigationTransition(f,w)):this.cancelNavigationTransition(f,w)}this.currentNavigation=null}),Fi(w=>{if(b=!0,function(i){return i&&i[uo]}(w)){const M=Vi(w.url);M||(this.navigated=!0,this.restoreHistory(f,!0));const F=new Sf(f.id,this.serializeUrl(f.extractedUrl),w.message);o.next(F),M?setTimeout(()=>{const $=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree);this.scheduleNavigation($,"imperative",null,{skipLocationChange:f.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:f.resolve,reject:f.reject,promise:f.promise})},0):f.resolve(!1)}else{this.restoreHistory(f,!0);const M=new Nc(f.id,this.serializeUrl(f.extractedUrl),w);o.next(M);try{f.resolve(this.errorHandler(w))}catch(F){f.reject(F)}}return hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:f,state:m,urlTree:b}=o,w={replaceUrl:!0};if(m){const M=Object.assign({},m);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(w.state=M)}this.scheduleNavigation(b,f,m,w)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const f=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!f||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){_u(e),this.config=e.map(ed),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:f,queryParams:m,fragment:b,queryParamsHandling:w,preserveFragment:M}=o,F=f||this.routerState.root,$=M?this.currentUrlTree.fragment:b;let ee=null;switch(w){case"merge":ee=Object.assign(Object.assign({},this.currentUrlTree.queryParams),m);break;case"preserve":ee=this.currentUrlTree.queryParams;break;default:ee=m||null}return null!==ee&&(ee=this.removeEmptyProps(ee)),function(i,r,e,o,f){if(0===e.length)return qc(r.root,r.root,r,o,f);const m=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Qc(!0,0,i);let r=0,e=!1;const o=i.reduce((f,m,b)=>{if("object"==typeof m&&null!=m){if(m.outlets){const w={};return Un(m.outlets,(M,F)=>{w[F]="string"==typeof M?M.split("/"):M}),[...f,{outlets:w}]}if(m.segmentPath)return[...f,m.segmentPath]}return"string"!=typeof m?[...f,m]:0===b?(m.split("/").forEach((w,M)=>{0==M&&"."===w||(0==M&&""===w?e=!0:".."===w?r++:""!=w&&f.push(w))}),f):[...f,m]},[]);return new Qc(e,r,o)}(e);if(m.toRoot())return qc(r.root,new vt([],{}),r,o,f);const b=function(i,r,e){if(i.isAbsolute)return new mu(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const m=e.snapshot._urlSegment;return new mu(m,m===r.root,0)}const o=Hn(i.commands[0])?0:1;return function(i,r,e){let o=i,f=r,m=e;for(;m>f;){if(m-=f,o=o.parent,!o)throw new Error("Invalid number of '../'");f=o.segments.length}return new mu(o,!1,f-m)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(m,r,i),w=b.processChildren?Cr(b.segmentGroup,b.index,m.commands):po(b.segmentGroup,b.index,m.commands);return qc(b.segmentGroup,w,r,o,f)}(F,this.currentUrlTree,e,ee,null!=$?$:null)}navigateByUrl(e,o={skipLocationChange:!1}){const f=Vi(e)?e:this.parseUrl(e),m=this.urlHandlingStrategy.merge(f,this.rawUrlTree);return this.scheduleNavigation(m,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(f){o=this.malformedUriErrorHandler(f,this.urlSerializer,e)}return o}isActive(e,o){let f;if(f=!0===o?Object.assign({},CT):!1===o?Object.assign({},T0):o,Vi(e))return _g(this.currentUrlTree,e,f);const m=this.parseUrl(e);return _g(this.currentUrlTree,m,f)}removeEmptyProps(e){return Object.keys(e).reduce((o,f)=>{const m=e[f];return null!=m&&(o[f]=m),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Jo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,f,m,b){var w,M;if(this.disposed)return Promise.resolve(!1);const F=this.getTransition(),$="imperative"!==o&&"imperative"===(null==F?void 0:F.source),pe=(this.lastSuccessfulId===F.id||this.currentNavigation?F.rawUrl:F.urlAfterRedirects).toString()===e.toString();if($&&pe)return Promise.resolve(!0);let De,Fe,Be;b?(De=b.resolve,Fe=b.reject,Be=b.promise):Be=new Promise((Et,Bt)=>{De=Et,Fe=Bt});const ze=++this.navigationId;let it;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(f=this.location.getState()),it=f&&f.\u0275routerPageId?f.\u0275routerPageId:m.replaceUrl||m.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):it=0,this.setTransition({id:ze,targetPageId:it,source:o,restoredState:f,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:m,resolve:De,reject:Fe,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(Et=>Promise.reject(Et))}setBrowserUrl(e,o){const f=this.urlSerializer.serialize(e),m=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(f)||o.extras.replaceUrl?this.location.replaceState(f,"",m):this.location.go(f,"",m)}restoreHistory(e,o=!1){var f,m;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)||0===b?this.currentUrlTree===(null===(m=this.currentNavigation)||void 0===m?void 0:m.finalUrl)&&0===b&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const f=new Sf(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(f),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(au),d.LFG(sl),d.LFG(Me),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),rd=(()=>{class i{constructor(e,o,f){this.router=e,this.route=o,this.locationStrategy=f,this.commands=[],this.onChanges=new br.xQ,this.subscription=e.events.subscribe(m=>{m instanceof Jo&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,f,m,b){if(0!==e||o||f||m||b||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:ol(this.skipLocationChange),replaceUrl:ol(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ol(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Er),d.Y36(vs),d.Y36(Re))},i.\u0275dir=d.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&d.NdJ("click",function(m){return o.onClick(m.button,m.ctrlKey,m.shiftKey,m.altKey,m.metaKey)}),2&e&&(d.Ikx("href",o.href,d.LSH),d.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})();function ol(i){return""===i||!!i}let id=(()=>{class i{constructor(e,o,f,m,b){this.parentContexts=e,this.location=o,this.resolver=f,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=m||Dt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const b=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,M=new wT(e,w,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(sl),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class wT{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===vs?this.route:r===sl?this.childContexts:this.parent.get(r,e)}}class A0{}class M0{preload(r,e){return(0,Ye.of)(null)}}let I0=(()=>{class i{constructor(e,o,f,m,b){this.router=e,this.injector=m,this.preloadingStrategy=b,this.loader=new Kf(o,f,F=>e.triggerEvent(new Mf(F)),F=>e.triggerEvent(new Pc(F)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(e=>e instanceof Jo),_i(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const f=[];for(const m of o)if(m.loadChildren&&!m.canLoad&&m._loadedConfig){const b=m._loadedConfig;f.push(this.processRoutes(b.module,b.routes))}else m.loadChildren&&!m.canLoad?f.push(this.preloadConfig(e,m)):m.children&&f.push(this.processRoutes(e,m.children));return(0,Mn.D)(f).pipe((0,mi.J)(),(0,st.U)(m=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ye.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,gn.zg)(m=>(o._loadedConfig=m,this.processRoutes(m.module,m.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Er),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(A0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ny=(()=>{class i{constructor(e,o,f={}){this.router=e,this.viewportScroller=o,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new kc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Er),d.LFG(Gt),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const vu=new d.OlP("ROUTER_CONFIGURATION"),x0=new d.OlP("ROUTER_FORROOT_GUARD"),ST=[Me,{provide:au,useClass:el},{provide:Er,useFactory:function(i,r,e,o,f,m,b,w={},M,F){const $=new Er(null,i,r,e,o,f,m,Lc(b));return M&&($.urlHandlingStrategy=M),F&&($.routeReuseStrategy=F),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(w,$),w.enableTracing&&$.events.subscribe(ee=>{var ye,pe;null===(ye=console.group)||void 0===ye||ye.call(console,`Router Event: ${ee.constructor.name}`),console.log(ee.toString()),console.log(ee),null===(pe=console.groupEnd)||void 0===pe||pe.call(console)}),$},deps:[au,sl,Me,d.zs3,d.v3s,d.Sil,Qf,vu,[class{},new d.FiY],[class{},new d.FiY]]},sl,{provide:vs,useFactory:function(i){return i.routerState.root},deps:[Er]},{provide:d.v3s,useClass:d.EAV},I0,M0,class{preload(r,e){return e().pipe(Fi(()=>(0,Ye.of)(null)))}},{provide:vu,useValue:{enableTracing:!1}}];function sa(){return new d.PXZ("Router",Er)}let th=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[ST,Pg(e),{provide:x0,useFactory:Ng,deps:[[Er,new d.FiY,new d.tp0]]},{provide:vu,useValue:o||{}},{provide:Re,useFactory:Py,deps:[re,[new d.tBr(Se),new d.FiY],vu]},{provide:Ny,useFactory:R0,deps:[Er,Gt,vu]},{provide:A0,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:M0},{provide:d.PXZ,multi:!0,useFactory:sa},[nh,{provide:d.ip1,multi:!0,useFactory:N0,deps:[nh]},{provide:rh,useFactory:AT,deps:[nh]},{provide:d.tb,multi:!0,useExisting:rh}]]}}static forChild(e){return{ngModule:i,providers:[Pg(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(x0,8),d.LFG(Er,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function R0(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Ny(i,r,e)}function Py(i,r,e={}){return e.useHash?new nt(i,r):new Oe(i,r)}function Ng(i){return"guarded"}function Pg(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:Qf,multi:!0,useValue:i}]}let nh=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new br.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const f=new Promise(w=>o=w),m=this.injector.get(Er),b=this.injector.get(vu);return"disabled"===b.initialNavigation?(m.setUpLocationChangeListener(),o(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(m.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),m.initialNavigation()):o(!0),f})}bootstrapListener(e){const o=this.injector.get(vu),f=this.injector.get(I0),m=this.injector.get(Ny),b=this.injector.get(Er),w=this.injector.get(d.z2F);e===w.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&b.initialNavigation(),f.setUpPreloading(),m.init(),b.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function N0(i){return i.appInitializer.bind(i)}function AT(i){return i.bootstrapListener.bind(i)}const rh=new d.OlP("Router Initializer");var k0=L(1555);function aa(i,r){return new er.y(e=>{const o=i.length;if(0===o)return void e.complete();const f=new Array(o);let m=0,b=0;for(let w=0;w<o;w++){const M=(0,Mn.D)(i[w]);let F=!1;e.add(M.subscribe({next:$=>{F||(F=!0,b++),f[w]=$},error:$=>e.error($),complete:()=>{m++,(m===o||!F)&&(b===o&&e.next(r?r.reduce(($,ee,ye)=>($[ee]=f[ye],$),{}):f),e.complete())}}))}})}let al=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=f=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),vo=(()=>{class i extends al{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const gr=new d.OlP("NgValueAccessor"),L0={provide:gr,useExisting:(0,d.Gpc)(()=>la),multi:!0},Ly=new d.OlP("CompositionEventMode");let la=(()=>{class i extends al{constructor(e,o,f){super(e,o),this._compositionMode=f,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=I()?I().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ly,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(m){return o._handleInput(m.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(m){return o._compositionEnd(m.target.value)})},features:[d._Bn([L0]),d.qOj]}),i})();function ws(i){return null==i||0===i.length}function kg(i){return null!=i&&"number"==typeof i.length}const Gn=new d.OlP("NgValidators"),ua=new d.OlP("NgAsyncValidators"),Vy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Cn{static min(r){return i=r,r=>{if(ws(r.value)||ws(i))return null;const e=parseFloat(r.value);return!isNaN(e)&&e<i?{min:{min:i,actual:r.value}}:null};var i}static max(r){return i=r,r=>{if(ws(r.value)||ws(i))return null;const e=parseFloat(r.value);return!isNaN(e)&&e>i?{max:{max:i,actual:r.value}}:null};var i}static required(r){return By(r)}static requiredTrue(r){return!0===r.value?null:{required:!0}}static email(r){return ws((i=r).value)||Vy.test(i.value)?null:{email:!0};var i}static minLength(r){return i=r,r=>ws(r.value)||!kg(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null;var i}static maxLength(r){return i=r,r=>kg(r.value)&&r.value.length>i?{maxlength:{requiredLength:i,actualLength:r.value.length}}:null;var i}static pattern(r){return function(i){if(!i)return ca;let r,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),r=new RegExp(e)):(e=i.toString(),r=i),o=>{if(ws(o.value))return null;const f=o.value;return r.test(f)?null:{pattern:{requiredPattern:e,actualValue:f}}}}(r)}static nullValidator(r){return null}static compose(r){return jg(r)}static composeAsync(r){return Gy(r)}}function By(i){return ws(i.value)?{required:!0}:null}function ca(i){return null}function V0(i){return null!=i}function B0(i){const r=(0,d.QGY)(i)?(0,Mn.D)(i):i;return(0,d.CqO)(r),r}function Ug(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function U0(i,r){return r.map(e=>e(i))}function ih(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function jg(i){if(!i)return null;const r=i.filter(V0);return 0==r.length?null:function(e){return Ug(U0(e,r))}}function Hg(i){return null!=i?jg(ih(i)):null}function Gy(i){if(!i)return null;const r=i.filter(V0);return 0==r.length?null:function(e){return function(...i){if(1===i.length){const r=i[0];if((0,Zo.k)(r))return aa(r,null);if((0,k0.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return aa(e.map(o=>r[o]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return aa(i=1===i.length&&(0,Zo.k)(i[0])?i[0]:i,null).pipe((0,st.U)(e=>r(...e)))}return aa(i,null)}(U0(e,r).map(B0)).pipe((0,st.U)(Ug))}}function Gg(i){return null!=i?Gy(ih(i)):null}function $g(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function $y(i){return i._rawValidators}function Wg(i){return i._rawAsyncValidators}function zg(i){return i?Array.isArray(i)?i:[i]:[]}function sh(i,r){return Array.isArray(i)?i.includes(r):i===r}function Yg(i,r){const e=zg(r);return zg(i).forEach(f=>{sh(e,f)||e.push(f)}),e}function qg(i,r){return zg(r).filter(e=>!sh(i,e))}let Wy=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})(),cn=(()=>{class i extends Wy{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class Ds extends Wy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zy{constructor(r){this._cd=r}is(r){var e,o,f;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(f=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===f?void 0:f[r])}}let od=(()=>{class i extends zy{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Ds,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),oh=(()=>{class i extends zy{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(cn,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function ad(i,r){Qg(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&qy(i,r)})}(i,r),function(i,r){const e=(o,f)=>{r.valueAccessor.writeValue(o),f&&r.viewToModelUpdate(o)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&qy(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function ah(i,r,e=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),Cu(i,r),i&&(r._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ul(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Qg(i,r){const e=$y(i);null!==r.validator?i.setValidators($g(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const o=Wg(i);null!==r.asyncValidator?i.setAsyncValidators($g(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const f=()=>i.updateValueAndValidity();ul(r._rawValidators,f),ul(r._rawAsyncValidators,f)}function Cu(i,r){let e=!1;if(null!==i){if(null!==r.validator){const f=$y(i);if(Array.isArray(f)&&f.length>0){const m=f.filter(b=>b!==r.validator);m.length!==f.length&&(e=!0,i.setValidators(m))}}if(null!==r.asyncValidator){const f=Wg(i);if(Array.isArray(f)&&f.length>0){const m=f.filter(b=>b!==r.asyncValidator);m.length!==f.length&&(e=!0,i.setAsyncValidators(m))}}}const o=()=>{};return ul(r._rawValidators,o),ul(r._rawAsyncValidators,o),e}function qy(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ci(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const ld="VALID",dh="INVALID",ud="PENDING",Ts="DISABLED";function cl(i){return(hh(i)?i.validators:i)||null}function Eu(i){return Array.isArray(i)?Hg(i):i||null}function em(i,r){return(hh(r)?r.asyncValidators:i)||null}function fh(i){return Array.isArray(i)?Gg(i):i||null}function hh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class tm{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Eu(this._rawValidators),this._composedAsyncValidatorFn=fh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===ld}get invalid(){return this.status===dh}get pending(){return this.status==ud}get disabled(){return this.status===Ts}get enabled(){return this.status!==Ts}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Eu(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=fh(r)}addValidators(r){this.setValidators(Yg(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Yg(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(qg(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(qg(r,this._rawAsyncValidators))}hasValidator(r){return sh(this._rawValidators,r)}hasAsyncValidator(r){return sh(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ud,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Ts,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=ld,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ld||this.status===ud)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ts:ld}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ud,this._hasOwnPendingAsyncValidator=!0;const e=B0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(f=>{o=o instanceof cd?o.controls.hasOwnProperty(f)?o.controls[f]:null:o instanceof dd&&o.at(f)||null}),o}(this,r)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ts:this.errors?dh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ud)?ud:this._anyControlsHaveStatus(dh)?dh:ld}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){hh(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bo extends tm{constructor(r=null,e,o){super(cl(e),em(o,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ci(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ci(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class cd extends tm{constructor(r,e,o){super(cl(e),em(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,f)=>{o.reset(r[f],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e instanceof bo?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((f,m)=>{o=e(o,f,m)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class dd extends tm{constructor(r,e,o){super(cl(e),em(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((o,f)=>{this._throwIfControlMissing(f),this.at(f).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,f)=>{this.at(f)&&this.at(f).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,f)=>{o.reset(r[f],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof bo?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}let rm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),q0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const om=new d.OlP("NgModelWithFormControlWarning"),tv={provide:cn,useExisting:(0,d.Gpc)(()=>fl)};let fl=(()=>{class i extends cn{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return ad(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){ah(e.control||null,e,!1),Ci(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,f=this.form.get(e.path);o!==f&&(ah(o||null,e),f instanceof bo&&(ad(f,e),e.control=f))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function(i,r){Qg(i,r)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,r){return Cu(i,r)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qg(this.form,this),this._oldForm&&Cu(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Gn,10),d.Y36(ua,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(m){return o.onSubmit(m)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([tv]),d.qOj,d.TTD]}),i})();const rv={provide:Ds,useExisting:(0,d.Gpc)(()=>Du)};let Du=(()=>{class i extends Ds{constructor(e,o,f,m,b){super(),this._ngModelWarningConfig=b,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(f),this.valueAccessor=function(i,r){if(!r)return null;let e,o,f;return Array.isArray(r),r.forEach(m=>{m.constructor===la?e=m:function(i){return Object.getPrototypeOf(i.constructor)===vo}(m)?o=m:f=m}),f||o||e||null}(0,m)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(i,r){return[...r.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(cn,13),d.Y36(Gn,10),d.Y36(ua,10),d.Y36(gr,10),d.Y36(om,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([rv]),d.qOj,d.TTD]}),i._ngModelWarningSentOnce=!1,i})();const iv={provide:gr,useExisting:(0,d.Gpc)(()=>cm),multi:!0};function um(i,r){return null==i?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${i}: ${r}`.slice(0,50))}let cm=(()=>{class i extends vo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=this._getOptionId(e);null==o&&this.setProperty("selectedIndex",-1);const f=um(o,e);this.setProperty("value",f)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&d.NdJ("change",function(m){return o.onChange(m.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([iv]),d.qOj]}),i})(),sv=(()=>{class i{constructor(e,o,f){this._element=e,this._renderer=o,this._select=f,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(um(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(cm,9))},i.\u0275dir=d.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const X0={provide:gr,useExisting:(0,d.Gpc)(()=>fm),multi:!0};function dm(i,r){return null==i?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${i}: ${r}`.slice(0,50))}let fm=(()=>{class i extends vo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const f=e.map(m=>this._getOptionId(m));o=(m,b)=>{m._setSelected(f.indexOf(b.toString())>-1)}}else o=(f,m)=>{f._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const f=[];if(void 0!==o.selectedOptions){const m=o.selectedOptions;for(let b=0;b<m.length;b++){const w=m.item(b),M=this._getOptionValue(w.value);f.push(M)}}else{const m=o.options;for(let b=0;b<m.length;b++){const w=m.item(b);if(w.selected){const M=this._getOptionValue(w.value);f.push(M)}}}this.value=f,e(f)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&d.NdJ("change",function(m){return o.onChange(m.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([X0]),d.qOj]}),i})(),ov=(()=>{class i{constructor(e,o,f){this._element=e,this._renderer=o,this._select=f,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(fm,9))},i.\u0275dir=d.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const FT={provide:Gn,useExisting:(0,d.Gpc)(()=>fd),multi:!0};let fd=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?By(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[d._Bn([FT])]}),i})(),fv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[q0]]}),i})(),oE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[fv]}),i})(),hv=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:om,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[fv]}),i})(),_m=(()=>{class i{group(e,o=null){const f=this._reduceControls(e);let w,m=null,b=null;return null!=o&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(o)?(m=null!=o.validators?o.validators:null,b=null!=o.asyncValidators?o.asyncValidators:null,w=null!=o.updateOn?o.updateOn:void 0):(m=null!=o.validator?o.validator:null,b=null!=o.asyncValidator?o.asyncValidator:null)),new cd(f,{asyncValidators:b,updateOn:w,validators:m})}control(e,o,f){return new bo(e,o,f)}array(e,o,f){const m=e.map(b=>this._createControl(b));return new dd(m,o,f)}_reduceControls(e){const o={};return Object.keys(e).forEach(f=>{o[f]=this._createControl(e[f])}),o}_createControl(e){return e instanceof bo||e instanceof cd||e instanceof dd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:function(){return new i},token:i,providedIn:hv}),i})();function Tu(i,r){1&i&&d._UZ(0,"i",16)}function pv(i,r){if(1&i&&(d.TgZ(0,"div"),d.YNc(1,Tu,1,0,"i",15),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.fp.errors.required)}}let ji=(()=>{class i{constructor(e,o){this.fb=e,this.auth=o,this.form2=this.fb.group({fpassword:["",[Cn.required]]})}ngOnInit(){}get fp(){return this.form2.get("fpassword")}forgotPassword(){this.auth.sendPasswordResetEmail(this.form2.get("fpassword").value).then(e=>{console.log(e)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(_m),d.Y36(hs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-forgotpassword-page"]],decls:24,vars:3,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],[1,"forgotpassword"],["action","",3,"formGroup"],[1,"error"],["type","email","placeholder","Email Address","required","","formControlName","fpassword"],[4,"ngIf"],[3,"disabled","click"],[1,"special"],["routerLink","/","href",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Please enter your email address.",4,"ngIf"],["id","tooltip","data-tooltip","Please enter your email address.",1,"fas","fa-exclamation-triangle"]],template:function(e,o){1&e&&(d._UZ(0,"link",0),d._UZ(1,"link",1),d._UZ(2,"link",2),d.TgZ(3,"body"),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"h1"),d._uU(7," UMP Supply Chain "),d._UZ(8,"br"),d._uU(9," Management System "),d.qZA(),d.qZA(),d.TgZ(10,"div",5),d.TgZ(11,"h3"),d._uU(12,"Forgot Password?"),d.qZA(),d.TgZ(13,"form",6),d.TgZ(14,"div",7),d._UZ(15,"input",8),d.YNc(16,pv,2,1,"div",9),d.qZA(),d.TgZ(17,"button",10),d.NdJ("click",function(){return o.forgotPassword()}),d._uU(18," Reset Password "),d.qZA(),d.TgZ(19,"div",11),d.TgZ(20,"a",12),d._uU(21,"Back to Login?"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.O4$(),d.TgZ(22,"svg",13),d._UZ(23,"path",14),d.qZA(),d.qZA()),2&e&&(d.xp6(13),d.Q6J("formGroup",o.form2),d.xp6(3),d.Q6J("ngIf",o.fp.touched&&o.fp.invalid),d.xp6(1),d.Q6J("disabled",o.form2.invalid))},directives:[rm,oh,fl,la,fd,od,Du,St,rd],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.forgotpassword[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}}']}),i})();function hd(i,r){1&i&&(d.TgZ(0,"div",22),d._uU(1," Please verify your email address. "),d.qZA())}function lE(i,r){1&i&&(d.TgZ(0,"div",22),d._uU(1," Your password is invalid. "),d.qZA())}function uE(i,r){1&i&&(d.TgZ(0,"div",22),d._uU(1," Your email address is not registered. "),d.qZA())}function vm(i,r){1&i&&d._UZ(0,"i",25)}function Ss(i,r){1&i&&d._UZ(0,"i",26)}function pd(i,r){if(1&i&&(d.TgZ(0,"div"),d.YNc(1,vm,1,0,"i",23),d.YNc(2,Ss,1,0,"i",24),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.emailaddress.errors.required),d.xp6(1),d.Q6J("ngIf",e.emailaddress.errors.email)}}function mr(i,r){1&i&&d._UZ(0,"i",28)}function pl(i,r){if(1&i&&(d.TgZ(0,"div",9),d.YNc(1,mr,1,0,"i",27),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.getpassword.errors.required)}}const _h=function(i,r){return{"fa-eye":i,"fa-eye-slash":r}};let Ei=(()=>{class i{constructor(e,o){this.fAuth=e,this.fb=o,this.email="",this.password="",this.errMessage="",this.visibility=!0,this.form=o.group({email:["",[Cn.required,Cn.email]],password:["",[Cn.required]]})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}login(){console.log(this.form),this.fAuth.signInWithEmailAndPassword(this.form.value.email,this.form.value.password).then(e=>{var o;console.log(e),(null===(o=e.user)||void 0===o?void 0:o.emailVerified)||this.form.setErrors({emailVerify:!0,wrongpassword:!1,notregister:!1})}).catch(e=>{"auth/wrong-password"===e.code&&this.form.setErrors({wrongpassword:!0,notregister:!1}),"auth/user-not-found"===e.code&&this.form.setErrors({notregister:!0,wrongpassword:!1})})}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(hs),d.Y36(_m))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-home-page"]],decls:34,vars:13,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"error"],["type","email","name","email","formControlName","email","placeholder","Email Address","required","",1,"icon-email",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"visible"],["name","password","placeholder","Password","formControlName","password","required","",1,"icon-password",3,"type"],[1,"far",3,"ngClass","click"],["class","error",4,"ngIf"],[1,"special"],["routerLink","/register",1,"new-user"],["routerLink","/forgotpassword",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip"," Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",4,"ngIf"],["id","tooltip","data-tooltip"," Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,o){1&e&&(d._UZ(0,"link",0),d._UZ(1,"link",1),d._UZ(2,"link",2),d.TgZ(3,"body"),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d._UZ(6,"img",5),d.TgZ(7,"h1"),d._uU(8," UMP Supply Chain "),d._UZ(9,"br"),d._uU(10," Management System "),d.qZA(),d.qZA(),d.TgZ(11,"div",6),d.TgZ(12,"h3"),d._uU(13,"User Login"),d.qZA(),d.TgZ(14,"form",7),d.YNc(15,hd,2,0,"div",8),d.YNc(16,lE,2,0,"div",8),d.YNc(17,uE,2,0,"div",8),d.TgZ(18,"div",9),d.TgZ(19,"input",10),d.NdJ("ngModelChange",function(m){return o.email=m}),d.qZA(),d.YNc(20,pd,3,2,"div",11),d.qZA(),d.TgZ(21,"div",12),d._UZ(22,"input",13),d.TgZ(23,"i",14),d.NdJ("click",function(){return o.onVisible()}),d.qZA(),d.qZA(),d.YNc(24,pl,2,1,"div",15),d.TgZ(25,"div",16),d.TgZ(26,"a",17),d._uU(27,"New User? Create one!"),d.qZA(),d.TgZ(28,"a",18),d._uU(29,"Forgot Password?"),d.qZA(),d.qZA(),d.TgZ(30,"button",19),d.NdJ("click",function(){return o.login()}),d._uU(31,"Login"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.O4$(),d.TgZ(32,"svg",20),d._UZ(33,"path",21),d.qZA(),d.qZA()),2&e&&(d.xp6(14),d.Q6J("formGroup",o.form),d.xp6(1),d.Q6J("ngIf",1==(null==o.form.errors?null:o.form.errors.emailVerify)),d.xp6(1),d.Q6J("ngIf",1==(null==o.form.errors?null:o.form.errors.wrongpassword)),d.xp6(1),d.Q6J("ngIf",1==(null==o.form.errors?null:o.form.errors.notregister)),d.xp6(2),d.Q6J("ngModel",o.email),d.xp6(1),d.Q6J("ngIf",o.emailaddress.invalid&&o.emailaddress.touched),d.xp6(2),d.Q6J("type",o.visibility?"password":"text"),d.xp6(1),d.Q6J("ngClass",d.WLB(10,_h,!o.visibility,o.visibility)),d.xp6(1),d.Q6J("ngIf",o.getpassword.touched&&o.getpassword.invalid),d.xp6(6),d.Q6J("disabled",o.form.invalid))},directives:[rm,oh,fl,St,la,od,Du,fd,Ji,rd],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;margin-left:10%;position:relative}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}p[_ngcontent-%COMP%]{font-size:12px;height:1px;margin-top:-10px;color:red}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:1rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}}']}),i})();class bm{constructor(){}static passwordVerification(r){let e=r.get("rpassword"),o=r.get("rconfirmpassword");return(null==e?void 0:e.value)!==(null==o?void 0:o.value)?{passwordVerification:!0}:null}}let Su=(()=>{class i{constructor(e){this.el=e}onBlur(){this.el.nativeElement.value=this.el.nativeElement.value.toUpperCase()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i,selectors:[["","appRegisterD",""]],hostBindings:function(e,o){1&e&&d.NdJ("blur",function(){return o.onBlur()})}}),i})();function Au(i,r){1&i&&d._UZ(0,"i",32)}function Mu(i,r){1&i&&d._UZ(0,"i",33)}function Iu(i,r){if(1&i&&(d.TgZ(0,"div",29),d.YNc(1,Au,1,0,"i",30),d.YNc(2,Mu,1,0,"i",31),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.e.errors.required),d.xp6(1),d.Q6J("ngIf",e.e.errors.email)}}function xu(i,r){1&i&&(d.TgZ(0,"div",34),d._uU(1," Email Address is existed. "),d.qZA())}function Ru(i,r){1&i&&d._UZ(0,"i",36)}function Ou(i,r){if(1&i&&(d.TgZ(0,"div",29),d.YNc(1,Ru,1,0,"i",35),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.p.errors.required)}}function Nu(i,r){1&i&&d._UZ(0,"i",36)}function Pu(i,r){if(1&i&&(d.TgZ(0,"div",29),d.YNc(1,Nu,1,0,"i",35),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.cp.errors.required)}}function gv(i,r){1&i&&(d.TgZ(0,"div",29),d._UZ(1,"i",37),d.qZA())}function mv(i,r){1&i&&d._UZ(0,"i",39)}function _v(i,r){if(1&i&&(d.TgZ(0,"div",29),d.YNc(1,mv,1,0,"i",38),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.name.errors.required)}}function yv(i,r){1&i&&d._UZ(0,"i",41)}function vv(i,r){if(1&i&&(d.TgZ(0,"div",29),d.YNc(1,yv,1,0,"i",40),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.pn.errors.required)}}function bv(i,r){1&i&&(d.TgZ(0,"div",34),d._uU(1," Date of Birth is required. "),d.qZA())}function Cv(i,r){if(1&i&&(d.TgZ(0,"div"),d.YNc(1,bv,2,0,"div",10),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.d.errors.required)}}function Ev(i,r){1&i&&d._UZ(0,"div")}const Cm=function(i,r){return{"fa-eye":i,"fa-eye-slash":r}},wv=[{path:"",component:Ei},{path:"register",component:(()=>{class i{constructor(e,o){this.fb=e,this.auth=o,this.visibility=!0,this.form1=e.group({remail:["",[Cn.required,Cn.email]],rpassword:["",Cn.required],rconfirmpassword:["",[Cn.required]],name:["",[Cn.required]],phonenumber:["",Cn.required],date:["",Cn.required]},{validator:bm.passwordVerification})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}getRole(e){this.role=e.target.value}getDate(e){this.date=e.target.value}getGender(e){this.gender=e.target.value}get cp(){return this.form1.get("rconfirmpassword")}get p(){return this.form1.get("rpassword")}get e(){return this.form1.get("remail")}get name(){return this.form1.get("name")}get pn(){return this.form1.get("phonenumber")}get d(){return this.form1.get("date")}submit(){this.auth.fetchSignInMethodsForEmail(this.form1.get("remail").value).then(e=>{1===e.length&&(this.form1.setErrors({emailExist:!0}),console.log(this.form1))}),this.auth.createUserWithEmailAndPassword(this.form1.get("remail").value,this.form1.get("rpassword").value).then(e=>{console.log(e),this.auth.currentUser.then(o=>{null==o||o.sendEmailVerification()}).then(o=>{console.log(o)})}).catch(e=>{console.log(e)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(_m),d.Y36(hs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-register-page"]],decls:55,vars:20,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"registration"],[3,"formGroup"],["type","text","placeholder","Email Address","formControlName","remail","required","",1,"icon-email"],["class","error",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"visible"],["name","rpassword","placeholder","Password","required","","formControlName","rpassword",1,"i",3,"type"],[1,"far",3,"ngClass","click"],["name","rconfirmpassword","placeholder","Confirm Password","required","","formControlName","rconfirmpassword",1,"i",3,"type"],["type","text","name","","placeholder","Name","formControlName","name","required","","appRegisterD","",1,"i"],["type","text","placeholder","Phone Number","formControlName","phonenumber","required","",1,"i"],["type","date","placeholder","Date","formControlName","date","required","",1,"i",3,"change"],[4,"ngIf"],["aria-label","Default select example","required","",1,"form-select",3,"change"],["selected",""],["value","1"],["value","2"],["aria-label","Default select example","required","",1,"form-select","mt-2",3,"change"],[1,"special"],["routerLink","/",1,"new-user"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"error"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of Email Address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of Email Address is invalid.",1,"fas","fa-exclamation-triangle"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Password is not matched.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Name is required.",4,"ngIf"],["id","tooltip","data-tooltip","Name is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Phone Number is required.",4,"ngIf"],["id","tooltip","data-tooltip","Phone Number is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,o){1&e&&(d._UZ(0,"link",0),d._UZ(1,"link",1),d._UZ(2,"link",2),d.TgZ(3,"body"),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d._UZ(6,"img",5),d.TgZ(7,"h1"),d._uU(8," UMP Supply Chain "),d._UZ(9,"br"),d._uU(10," Management System "),d.qZA(),d.qZA(),d.TgZ(11,"div",6),d.TgZ(12,"h3"),d._uU(13,"Sign Up"),d.qZA(),d.TgZ(14,"form",7),d._UZ(15,"input",8),d.YNc(16,Iu,3,2,"div",9),d.YNc(17,xu,2,0,"div",10),d.TgZ(18,"div",11),d._UZ(19,"input",12),d.TgZ(20,"i",13),d.NdJ("click",function(){return o.onVisible()}),d.qZA(),d.qZA(),d.YNc(21,Ou,2,1,"div",9),d.TgZ(22,"div",11),d._UZ(23,"input",14),d.TgZ(24,"i",13),d.NdJ("click",function(){return o.onVisible()}),d.qZA(),d.qZA(),d.YNc(25,Pu,2,1,"div",9),d.YNc(26,gv,2,0,"div",9),d._UZ(27,"input",15),d.YNc(28,_v,2,1,"div",9),d._UZ(29,"input",16),d.YNc(30,vv,2,1,"div",9),d.TgZ(31,"input",17),d.NdJ("change",function(m){return o.getDate(m)}),d.qZA(),d.YNc(32,Cv,2,1,"div",18),d.TgZ(33,"select",19),d.NdJ("change",function(m){return o.getGender(m)}),d.TgZ(34,"option",20),d._uU(35,"Gender"),d.qZA(),d.TgZ(36,"option",21),d._uU(37,"Male"),d.qZA(),d.TgZ(38,"option",22),d._uU(39,"Female"),d.qZA(),d.qZA(),d.YNc(40,Ev,1,0,"div",18),d.TgZ(41,"select",23),d.NdJ("change",function(m){return o.getRole(m)}),d.TgZ(42,"option",20),d._uU(43,"Role"),d.qZA(),d.TgZ(44,"option",21),d._uU(45,"Student"),d.qZA(),d.TgZ(46,"option",22),d._uU(47,"Supplier"),d.qZA(),d.qZA(),d.TgZ(48,"div",24),d.TgZ(49,"a",25),d._uU(50,"Already Registered? Login Now!"),d.qZA(),d.qZA(),d.TgZ(51,"button",26),d.NdJ("click",function(){return o.submit()}),d._uU(52,"Sign Up"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.O4$(),d.TgZ(53,"svg",27),d._UZ(54,"path",28),d.qZA(),d.qZA()),2&e&&(d.xp6(14),d.Q6J("formGroup",o.form1),d.xp6(2),d.Q6J("ngIf",o.e.touched&&o.e.invalid),d.xp6(1),d.Q6J("ngIf",null==o.form1.errors?null:o.form1.errors.emailExist),d.xp6(2),d.Q6J("type",o.visibility?"password":"text"),d.xp6(1),d.Q6J("ngClass",d.WLB(14,Cm,!o.visibility,o.visibility)),d.xp6(1),d.Q6J("ngIf",o.p.touched&&o.p.invalid),d.xp6(2),d.Q6J("type",o.visibility?"password":"text"),d.xp6(1),d.Q6J("ngClass",d.WLB(17,Cm,!o.visibility,o.visibility)),d.xp6(1),d.Q6J("ngIf",o.cp.touched&&o.cp.invalid),d.xp6(1),d.Q6J("ngIf",(null==o.form1.errors?null:o.form1.errors.passwordVerification)&&o.cp.valid&&o.p.valid),d.xp6(2),d.Q6J("ngIf",o.name.touched&&o.name.invalid),d.xp6(2),d.Q6J("ngIf",o.pn.touched&&o.pn.invalid),d.xp6(2),d.Q6J("ngIf",o.d.touched&&o.d.invalid),d.xp6(19),d.Q6J("disabled",o.form1.invalid))},directives:[rm,oh,fl,la,od,Du,fd,St,Ji,Su,sv,ov,rd],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:400px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;padding-left:8rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-4rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:-2.25rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100%;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:4rem;top:-2rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999;display:none}.registration[_ngcontent-%COMP%]{margin-top:-1.5rem}.title[_ngcontent-%COMP%]{margin-top:100px}}.i.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}']}),i})()},{path:"forgotpassword",component:ji}];let cE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[th.forRoot(wv)],th]}),i})(),Dv=(()=>{class i{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:[id],styles:[""]}),i})();function gl(i,r=null){return{type:4,styles:r,timings:i}}function Vt(i){return{type:6,styles:i,offset:null}}function Tv(i){return{type:5,steps:i}}function Dm(i,r=null){return{type:8,animation:i,options:r}}function pE(i){Promise.resolve(null).then(i)}class ku{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}let Mv;try{Mv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Mv=!1}let wo=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.Lbi))},i.\u0275prov=(0,d.Yz7)({factory:function(){return new i((0,d.LFG)(d.Lbi))},token:i,providedIn:"root"}),i})(),ha=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),Nv=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),vE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Nv]}),i})();"undefined"!=typeof Element&&Element;const IE="cdk-high-contrast-black-on-white",km="cdk-high-contrast-white-on-black",yd="cdk-high-contrast-active";let Hi=(()=>{class i{constructor(e,o){this._platform=e,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,f=o&&o.getComputedStyle?o.getComputedStyle(e):null,m=(f&&f.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),m){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yd),e.remove(IE),e.remove(km);const o=this.getHighContrastMode();1===o?(e.add(yd),e.add(IE)):2===o&&(e.add(yd),e.add(km))}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(wo),d.LFG(de))},i.\u0275prov=(0,d.Yz7)({factory:function(){return new i((0,d.LFG)(wo),(0,d.LFG)(de))},token:i,providedIn:"root"}),i})(),Lm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const Vm=new d.GfV("11.2.13");function rb(){return"undefined"!=typeof window&&void 0!==window.document}function Bm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let wh=(i,r)=>!1,Hu=(i,r)=>!1,jm=(i,r,e)=>[];const Dh=Bm();(Dh||"undefined"!=typeof Element)&&(wh=rb()?(i,r)=>{for(;r&&r!==document.documentElement;){if(r===i)return!0;r=r.parentNode||r.host}return!1}:(i,r)=>i.contains(r),Hu=(()=>{if(Dh||Element.prototype.matches)return(i,r)=>i.matches(r);{const i=Element.prototype,r=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return r?(e,o)=>r.apply(e,[o]):Hu}})(),jm=(i,r,e)=>{let o=[];if(e){const f=i.querySelectorAll(r);for(let m=0;m<f.length;m++)o.push(f[m])}else{const f=i.querySelector(r);f&&o.push(f)}return o});let ga=null,Hm=!1;function Sh(i){ga||(ga=("undefined"!=typeof document?document.body:null)||{},Hm=!!ga.style&&"WebkitAppearance"in ga.style);let r=!0;return ga.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(r=i in ga.style,!r&&Hm&&(r="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in ga.style)),r}const Ah=Hu,Mh=wh,Ih=jm;let ab=(()=>{class i{validateStyleProperty(e){return Sh(e)}matchesElement(e,o){return Ah(e,o)}containsElement(e,o){return Mh(e,o)}query(e,o,f){return Ih(e,o,f)}computeStyle(e,o,f){return f||""}animate(e,o,f,m,b,w=[],M){return new ku(f,m)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class xh{}xh.NOOP=new ab;function qm(i,r,e){return e?r+":"+e+";":""}function Zm(i){let r="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);r+=qm(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=qm(0,Wu(e),i.style[e]));i.setAttribute("style",r)}function Gi(i,r,e){i.style&&(Object.keys(r).forEach(o=>{const f=Qm(o);e&&!e.hasOwnProperty(o)&&(e[o]=i.style[f]),i.style[f]=r[o]}),Bm()&&Zm(i))}function ma(i,r){i.style&&(Object.keys(r).forEach(e=>{const o=Qm(e);i.style[o]=""}),Bm()&&Zm(i))}const FE=/-+([a-z0-9])/g;function Qm(i){return i.replace(FE,(...r)=>r[1].toUpperCase())}function Wu(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class vl{constructor(r,e,o){this._element=r,this._startStyles=e,this._endStyles=o,this._state=0;let f=vl.initialStylesByElement.get(r);f||vl.initialStylesByElement.set(r,f={}),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&Gi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gi(this._element,this._initialStyles),this._endStyles&&(Gi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(vl.initialStylesByElement.delete(this._element),this._startStyles&&(ma(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),Gi(this._element,this._initialStyles),this._state=3)}}vl.initialStylesByElement=new WeakMap;const uC=new d.GfV("11.2.13"),Pd=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ec,ii=(()=>{class i{constructor(e,o,f){this._hasDoneGlobalChecks=!1,this._document=f,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,d.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const o=this._document.createElement("div");o.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(o);const f=getComputedStyle(o);f&&"none"!==f.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(o)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&uC.full!==Vm.full&&console.warn("The Angular Material version ("+uC.full+") does not match the Angular CDK version ("+Vm.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Hi),d.LFG(Pd,8),d.LFG(de))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Lm],Lm]}),i})();try{ec="undefined"!=typeof Intl}catch(i){ec=!1}let wl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ii,ha],ii]}),i})();L(9105);let kd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Ws,ii],ii]}),i})(),kC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ii],ii]}),i})();L(205);let QA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ii],ii]}),i})();function FD(i,r,e){const o={timing:i,delay:0,rotateX:r,rotateY:e};return Dm([Vt({"backface-visibility":"visible"}),gl("{{ timing }}s {{ delay }}s ease-in",Tv([Vt({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),Vt({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),Vt({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),Vt({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),Vt({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:o})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),FD(1,1,0),FD(1,0,1),Dm(gl("{{ timing }}s {{ delay }}s",Tv([Vt({transform:"translate3d(0, 0, 0)",offset:0}),Vt({transform:"translate3d(-10px, 0, 0)",offset:.1}),Vt({transform:"translate3d(10px, 0, 0)",offset:.2}),Vt({transform:"translate3d(-10px, 0, 0)",offset:.3}),Vt({transform:"translate3d(10px, 0, 0)",offset:.4}),Vt({transform:"translate3d(-10px, 0, 0)",offset:.5}),Vt({transform:"translate3d(10px, 0, 0)",offset:.6}),Vt({transform:"translate3d(-10px, 0, 0)",offset:.7}),Vt({transform:"translate3d(10px, 0, 0)",offset:.8}),Vt({transform:"translate3d(-10px, 0, 0)",offset:.9}),Vt({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let U_=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Ws,kd,kC,QA,wl]]}),i})(),tT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Ws,ii,vE],ii]}),i})(),nT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[Dv]}),i.\u0275inj=d.cJS({providers:[],imports:[[yc,cE,nn.hO.initializeApp($l_firebase),gi,oE,hv.withConfig({warnOnNgModelWithFormControl:"never"}),U_,tT]]}),i})();(0,d.G48)(),ls().bootstrapModule(nT).catch(i=>console.error(i))},4762:(je,Ee,L)=>{"use strict";L.d(Ee,{ZT:()=>le,pi:()=>I,mG:()=>re,Jh:()=>K,XA:()=>P,CR:()=>G,ev:()=>ve});var d=function(ie,oe){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,ne){ae.__proto__=ne}||function(ae,ne){for(var be in ne)Object.prototype.hasOwnProperty.call(ne,be)&&(ae[be]=ne[be])})(ie,oe)};function le(ie,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function ae(){this.constructor=ie}d(ie,oe),ie.prototype=null===oe?Object.create(oe):(ae.prototype=oe.prototype,new ae)}var I=function(){return(I=Object.assign||function(oe){for(var ae,ne=1,be=arguments.length;ne<be;ne++)for(var se in ae=arguments[ne])Object.prototype.hasOwnProperty.call(ae,se)&&(oe[se]=ae[se]);return oe}).apply(this,arguments)};function re(ie,oe,ae,ne){return new(ae||(ae=Promise))(function(se,Ze){function Qe(Ge){try{We(ne.next(Ge))}catch(Pe){Ze(Pe)}}function zt(Ge){try{We(ne.throw(Ge))}catch(Pe){Ze(Pe)}}function We(Ge){Ge.done?se(Ge.value):function(se){return se instanceof ae?se:new ae(function(Ze){Ze(se)})}(Ge.value).then(Qe,zt)}We((ne=ne.apply(ie,oe||[])).next())})}function K(ie,oe){var ne,be,se,Ze,ae={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return Ze={next:Qe(0),throw:Qe(1),return:Qe(2)},"function"==typeof Symbol&&(Ze[Symbol.iterator]=function(){return this}),Ze;function Qe(We){return function(Ge){return function(We){if(ne)throw new TypeError("Generator is already executing.");for(;ae;)try{if(ne=1,be&&(se=2&We[0]?be.return:We[0]?be.throw||((se=be.return)&&se.call(be),0):be.next)&&!(se=se.call(be,We[1])).done)return se;switch(be=0,se&&(We=[2&We[0],se.value]),We[0]){case 0:case 1:se=We;break;case 4:return ae.label++,{value:We[1],done:!1};case 5:ae.label++,be=We[1],We=[0];continue;case 7:We=ae.ops.pop(),ae.trys.pop();continue;default:if(!(se=(se=ae.trys).length>0&&se[se.length-1])&&(6===We[0]||2===We[0])){ae=0;continue}if(3===We[0]&&(!se||We[1]>se[0]&&We[1]<se[3])){ae.label=We[1];break}if(6===We[0]&&ae.label<se[1]){ae.label=se[1],se=We;break}if(se&&ae.label<se[2]){ae.label=se[2],ae.ops.push(We);break}se[2]&&ae.ops.pop(),ae.trys.pop();continue}We=oe.call(ie,ae)}catch(Ge){We=[6,Ge],be=0}finally{ne=se=0}if(5&We[0])throw We[1];return{value:We[0]?We[1]:void 0,done:!0}}([We,Ge])}}}function P(ie){var oe="function"==typeof Symbol&&Symbol.iterator,ae=oe&&ie[oe],ne=0;if(ae)return ae.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ne>=ie.length&&(ie=void 0),{value:ie&&ie[ne++],done:!ie}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(ie,oe){var ae="function"==typeof Symbol&&ie[Symbol.iterator];if(!ae)return ie;var be,Ze,ne=ae.call(ie),se=[];try{for(;(void 0===oe||oe-- >0)&&!(be=ne.next()).done;)se.push(be.value)}catch(Qe){Ze={error:Qe}}finally{try{be&&!be.done&&(ae=ne.return)&&ae.call(ne)}finally{if(Ze)throw Ze.error}}return se}function ve(ie,oe,ae){if(ae||2===arguments.length)for(var se,ne=0,be=oe.length;ne<be;ne++)(se||!(ne in oe))&&(se||(se=Array.prototype.slice.call(oe,0,ne)),se[ne]=oe[ne]);return ie.concat(se||Array.prototype.slice.call(oe))}}},je=>{je(je.s=9352)}]);